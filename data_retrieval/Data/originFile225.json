{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692983452,"post_id":76979037,"comment_id":135704383,"body_markdown":"Of course. A content scheme (two slashes) is no file path and hence cannot be used with the File class.","body":"Of course. A content scheme (two slashes) is no file path and hence cannot be used with the File class."},{"owner":{"account_id":26942366,"reputation":181,"user_id":20512942,"display_name":"wiiznokes3"},"score":0,"creation_date":1692983746,"post_id":76979037,"comment_id":135704452,"body_markdown":"Is there a simple way of retrieving a path in Android or do I have to implement a file manager in my app?","body":"Is there a simple way of retrieving a path in Android or do I have to implement a file manager in my app?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692983859,"post_id":76979037,"comment_id":135704475,"body_markdown":"You can use the File class to list() all public directories on external storage. Then let the user choose one.","body":"You can use the File class to list() all public directories on external storage. Then let the user choose one."},{"owner":{"account_id":26942366,"reputation":181,"user_id":20512942,"display_name":"wiiznokes3"},"score":0,"creation_date":1692992632,"post_id":76979037,"comment_id":135705937,"body_markdown":"what method exactly? using `File.listRoots()` doesn&#39;t seems to works","body":"what method exactly? using <code>File.listRoots()</code> doesn&#39;t seems to works"},{"owner":{"account_id":26942366,"reputation":181,"user_id":20512942,"display_name":"wiiznokes3"},"score":0,"creation_date":1692993027,"post_id":76979037,"comment_id":135705990,"body_markdown":"`val file = Environment.getExternalStorageDirectory()` made it, thanks","body":"<code>val file = Environment.getExternalStorageDirectory()</code> made it, thanks"}],"owner":{"account_id":26942366,"reputation":181,"user_id":20512942,"display_name":"wiiznokes3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692981239,"creation_date":1692981239,"question_id":76979037,"body_markdown":"Unfortunately, i need to deal with `java.io.File` because i use `jgit` and the API use this class.\r\n\r\nI need to ask the user a directory on the shared storage. For that i used `Intent.ACTION_OPEN_DOCUMENT_TREE`. \r\n\r\nThis return me this URI: `content://com.android.externalstorage.documents/tree/primary%3ADownload%2FRepo`\r\n\r\nRepo is a directory which exist in Download/Repo/.\r\n\r\n\r\nThen i tried different things like using `java.nio.file.FileSystem`: `FileSystems.getDefault().getPath(localPath.value).toFile()`\r\nThe path will be equal to `content:/com.android.externalstorage.documents/tree/primary%3ADownload%2FRepo`\r\n*there is one &#39;/&#39; this time*\r\n\r\nand `File(URI(localPath.value))`\r\n\r\nBut in both cases, `file.exists()` return false.","title":"Use java.io.File on Android","body":"<p>Unfortunately, i need to deal with <code>java.io.File</code> because i use <code>jgit</code> and the API use this class.</p>\n<p>I need to ask the user a directory on the shared storage. For that i used <code>Intent.ACTION_OPEN_DOCUMENT_TREE</code>.</p>\n<p>This return me this URI: <code>content://com.android.externalstorage.documents/tree/primary%3ADownload%2FRepo</code></p>\n<p>Repo is a directory which exist in Download/Repo/.</p>\n<p>Then i tried different things like using <code>java.nio.file.FileSystem</code>: <code>FileSystems.getDefault().getPath(localPath.value).toFile()</code>\nThe path will be equal to <code>content:/com.android.externalstorage.documents/tree/primary%3ADownload%2FRepo</code>\n<em>there is one '/' this time</em></p>\n<p>and <code>File(URI(localPath.value))</code></p>\n<p>But in both cases, <code>file.exists()</code> return false.</p>\n"},{"tags":["java","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694618457,"post_id":76976152,"comment_id":135915725,"body_markdown":"Any update here? Did you get this sorted?","body":"Any update here? Did you get this sorted?"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1694625055,"post_id":76976152,"comment_id":135916992,"body_markdown":"Yes, I figured it out. Thanks a lot","body":"Yes, I figured it out. Thanks a lot"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694625132,"post_id":76976152,"comment_id":135917007,"body_markdown":"Did the answer here address your question? If so, can you mark it as correct to help others who have this same question in the future? If not, can you elaborate on what exactly you figured out?","body":"Did the answer here address your question? If so, can you mark it as correct to help others who have this same question in the future? If not, can you elaborate on what exactly you figured out?"}],"answers":[{"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1692988770,"post_id":76977346,"comment_id":135705299,"body_markdown":"That is, if I want to use the JMX protocol and use a certificate for user authentication via ssl, then nothing will come of it, since there is no such thing in JMX? Are there any workarounds? Use JMS?","body":"That is, if I want to use the JMX protocol and use a certificate for user authentication via ssl, then nothing will come of it, since there is no such thing in JMX? Are there any workarounds? Use JMS?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1693000008,"post_id":76977346,"comment_id":135707002,"body_markdown":"JMX and JMS are not simply interchangeable. Whether or not you can do equivalent work with JMS depends on your specific use-case, although you didn&#39;t explain your specific use-case in the question.","body":"JMX and JMS are not simply interchangeable. Whether or not you can do equivalent work with JMS depends on your specific use-case, although you didn&#39;t explain your specific use-case in the question."},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1693131829,"post_id":76977346,"comment_id":135717267,"body_markdown":"We use JMX because JMX has the ability to read the headers as they came before the defect. Therefore, the solution is built on JMX","body":"We use JMX because JMX has the ability to read the headers as they came before the defect. Therefore, the solution is built on JMX"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1693158560,"post_id":76977346,"comment_id":135720117,"body_markdown":"In the oracle documentation, I found this phrase: Note - For production systems, use both SSL client certificates to authenticate the client host and password authentication for user management. See the topics Using SSL and Using LDAP Authentication for more information. Doesn&#39;t it say that I can do certificate authentication?\n\nIn the case of my code, where should I go or what can I do?","body":"In the oracle documentation, I found this phrase: Note - For production systems, use both SSL client certificates to authenticate the client host and password authentication for user management. See the topics Using SSL and Using LDAP Authentication for more information. Doesn&#39;t it say that I can do certificate authentication?  In the case of my code, where should I go or what can I do?"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1693158880,"post_id":76977346,"comment_id":135720155,"body_markdown":"and isn&#39;t here https://stackoverflow.com/questions/7017686/active-mq-jmx-ssl trying to connect to activemq ssl by jmx?","body":"and isn&#39;t here <a href=\"https://stackoverflow.com/questions/7017686/active-mq-jmx-ssl\">stackoverflow.com/questions/7017686/active-mq-jmx-ssl</a> trying to connect to activemq ssl by jmx?"},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1693209237,"post_id":76977346,"comment_id":135724860,"body_markdown":"https://stackoverflow.com/questions/7017686/active-mq-jmx-ssl is for ActiveMQ Classic. The JaasAuthenticator used by ActiveMQ Artemis to authenticate JMX connections only supports user/password callbacks, see https://github.com/apache/activemq-artemis/blob/2.30.0/artemis-server/src/main/java/org/apache/activemq/artemis/core/server/management/JaasAuthenticator.java#L61","body":"<a href=\"https://stackoverflow.com/questions/7017686/active-mq-jmx-ssl\">stackoverflow.com/questions/7017686/active-mq-jmx-ssl</a> is for ActiveMQ Classic. The JaasAuthenticator used by ActiveMQ Artemis to authenticate JMX connections only supports user/password callbacks, see <a href=\"https://github.com/apache/activemq-artemis/blob/2.30.0/artemis-server/src/main/java/org/apache/activemq/artemis/core/server/management/JaasAuthenticator.java#L61\" rel=\"nofollow noreferrer\">github.com/apache/activemq-artemis/blob/2.30.0/artemis-serve&zwnj;&#8203;r/&hellip;</a>"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694201335,"post_id":76977346,"comment_id":135865145,"body_markdown":"I believe the client &quot;authentication&quot; with SSL referred to in the Oracle documentation is merely the _verification_ that the client is who it says it is provided by its possession of the certificate. This is, in fact, one of the main benefits of SSL although it&#39;s typically reserved for clients &quot;authenticating&quot; the identity of the server. The Oracle documentation clearly indicates that this should be _combined_ with password authentication rather than replacing it like you are trying to do.","body":"I believe the client &quot;authentication&quot; with SSL referred to in the Oracle documentation is merely the <i>verification</i> that the client is who it says it is provided by its possession of the certificate. This is, in fact, one of the main benefits of SSL although it&#39;s typically reserved for clients &quot;authenticating&quot; the identity of the server. The Oracle documentation clearly indicates that this should be <i>combined</i> with password authentication rather than replacing it like you are trying to do."}],"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692967698,"creation_date":1692967698,"answer_id":76977346,"question_id":76976152,"body_markdown":"ActiveMQ Artemis supports a JMX connector with SSL, see the [jmx-ssl][1] example. However the JMX connections are only authenticated via user/password, you cannot use a certificate to authenticate a JMX connection.\r\n\r\n\r\n  [1]: https://github.com/apache/activemq-artemis/tree/2.30.0/examples/features/standard/jmx-ssl","title":"How to authenticate using SSL cert instead of user/password via JMX connection to ActiveMQ Artemis?","body":"<p>ActiveMQ Artemis supports a JMX connector with SSL, see the <a href=\"https://github.com/apache/activemq-artemis/tree/2.30.0/examples/features/standard/jmx-ssl\" rel=\"nofollow noreferrer\">jmx-ssl</a> example. However the JMX connections are only authenticated via user/password, you cannot use a certificate to authenticate a JMX connection.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76977346,"answer_count":1,"score":0,"last_activity_date":1692980872,"creation_date":1692957452,"question_id":76976152,"body_markdown":"I connect via JMX to a broker. I connect using user/password. Now I need to connect via SSL (certificate). How and where can I attach a certificate so that I can connect via SSL? I know that I need to configure the trustStore and keyStore, but I don&#39;t understand how I can choose the certificate that I need and enclose it\r\n\r\nI am attaching my code for connecting via jmx user/password:\r\n\r\n```java\r\npublic static MBeanServerConnection connectBroker(String brokerUrl, String login, String password) {\r\n    MBeanServerConnection mBeanServerConnection = null;\r\n    try {\r\n        Map&lt;String, String[]&gt; env = new HashMap();\r\n        String[] creds = {login, password};\r\n        env.put(JMXConnector.CREDENTIALS, creds);\r\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://&quot; + brokerUrl + &quot;/jmxrmi&quot;), env);\r\n        mBeanServerConnection = connector.getMBeanServerConnection();\r\n        DialogsAlert.brokerJmxRmiConnectionSuccess.showAndWait();\r\n        LOGGER.log(Level.INFO,&quot;success&quot; + brokerUrl);\r\n    } catch (Exception e) {\r\n        LOGGER.log(Level.WARNING,&quot;fail&quot;, e);\r\n    }\r\n    return mBeanServerConnection;\r\n}\r\n```\r\nThe certificate will be allowed to be in the folder with the project\r\n","title":"How to authenticate using SSL cert instead of user/password via JMX connection to ActiveMQ Artemis?","body":"<p>I connect via JMX to a broker. I connect using user/password. Now I need to connect via SSL (certificate). How and where can I attach a certificate so that I can connect via SSL? I know that I need to configure the trustStore and keyStore, but I don't understand how I can choose the certificate that I need and enclose it</p>\n<p>I am attaching my code for connecting via jmx user/password:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MBeanServerConnection connectBroker(String brokerUrl, String login, String password) {\n    MBeanServerConnection mBeanServerConnection = null;\n    try {\n        Map&lt;String, String[]&gt; env = new HashMap();\n        String[] creds = {login, password};\n        env.put(JMXConnector.CREDENTIALS, creds);\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://&quot; + brokerUrl + &quot;/jmxrmi&quot;), env);\n        mBeanServerConnection = connector.getMBeanServerConnection();\n        DialogsAlert.brokerJmxRmiConnectionSuccess.showAndWait();\n        LOGGER.log(Level.INFO,&quot;success&quot; + brokerUrl);\n    } catch (Exception e) {\n        LOGGER.log(Level.WARNING,&quot;fail&quot;, e);\n    }\n    return mBeanServerConnection;\n}\n</code></pre>\n<p>The certificate will be allowed to be in the folder with the project</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-bigtable","bigtable"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690910255,"post_id":76813394,"comment_id":135417752,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690999290,"post_id":76813394,"comment_id":135432522,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":29138011,"reputation":1,"user_id":22321713,"display_name":"Nani"},"score":0,"creation_date":1692980721,"post_id":76813394,"comment_id":135703805,"body_markdown":"@AndyTurner updated the question with the code","body":"@AndyTurner updated the question with the code"}],"owner":{"account_id":29138011,"reputation":1,"user_id":22321713,"display_name":"Nani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692980671,"creation_date":1690905646,"question_id":76813394,"body_markdown":"I have a use case to count number of rows in Bigtable using rowkey prefix. I am using Google Bigtable Java client, with the current implementation my API taking well over 3 minutes to count 15M records, I am expecting for some days it could be 50M. I am looking to optimize the query and better solution. \r\n\r\n\r\n\r\nI have only 1 node in my sandbox and running on HDD storage, I am planning to use SSD and use more nodes here. I want it to be performed better\r\n\r\nUpdate: \r\n\r\n        BigtableDataClient dataClient\r\n                = BigtableDataClient.create(projectId, instanceId);\r\n        // Limit parallelism of concurrent requests\r\n        Semaphore semaphore = new Semaphore(100);\r\n        // Use strip filter as we just need the rowkeys\r\n        Filters.Filter stripFfilter = Filters.FILTERS.value().strip();\r\n        Query myQuery = Query.create(tableId).prefix(prefix).filter(stripFfilter);\r\n\r\n        List&lt;KeyOffset&gt; keyOffsets = null;\r\n        try {\r\n            keyOffsets = dataClient.sampleRowKeysCallable().call(tableId);\r\n\r\n            List&lt;Query&gt; queryShards = myQuery.shard(keyOffsets);\r\n            CountDownLatch taskTracker = new CountDownLatch(queryShards.size());\r\n            List&lt;Throwable&gt; errors = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n            AtomicLong totalCount = new AtomicLong();\r\n\r\n            for (Query subQuery : queryShards) {\r\n                semaphore.acquire();\r\n                dataClient.readRowsAsync(subQuery, new ResponseObserver&lt;&gt;() {\r\n                    long subCount = 0;\r\n\r\n                    @Override\r\n                    public void onStart(StreamController controller) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onResponse(Row response) {\r\n                        subCount++;\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(Throwable t) {\r\n                        errors.add(t);\r\n                        taskTracker.countDown();\r\n                        semaphore.release();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onComplete() {\r\n                        totalCount.addAndGet(subCount);\r\n                        taskTracker.countDown();\r\n                        semaphore.release();\r\n                    }\r\n                });\r\n            }\r\n            taskTracker.await();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }","title":"Google Cloud Bigtable Row Count","body":"<p>I have a use case to count number of rows in Bigtable using rowkey prefix. I am using Google Bigtable Java client, with the current implementation my API taking well over 3 minutes to count 15M records, I am expecting for some days it could be 50M. I am looking to optimize the query and better solution.</p>\n<p>I have only 1 node in my sandbox and running on HDD storage, I am planning to use SSD and use more nodes here. I want it to be performed better</p>\n<p>Update:</p>\n<pre><code>    BigtableDataClient dataClient\n            = BigtableDataClient.create(projectId, instanceId);\n    // Limit parallelism of concurrent requests\n    Semaphore semaphore = new Semaphore(100);\n    // Use strip filter as we just need the rowkeys\n    Filters.Filter stripFfilter = Filters.FILTERS.value().strip();\n    Query myQuery = Query.create(tableId).prefix(prefix).filter(stripFfilter);\n\n    List&lt;KeyOffset&gt; keyOffsets = null;\n    try {\n        keyOffsets = dataClient.sampleRowKeysCallable().call(tableId);\n\n        List&lt;Query&gt; queryShards = myQuery.shard(keyOffsets);\n        CountDownLatch taskTracker = new CountDownLatch(queryShards.size());\n        List&lt;Throwable&gt; errors = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        AtomicLong totalCount = new AtomicLong();\n\n        for (Query subQuery : queryShards) {\n            semaphore.acquire();\n            dataClient.readRowsAsync(subQuery, new ResponseObserver&lt;&gt;() {\n                long subCount = 0;\n\n                @Override\n                public void onStart(StreamController controller) {\n\n                }\n\n                @Override\n                public void onResponse(Row response) {\n                    subCount++;\n                }\n\n                @Override\n                public void onError(Throwable t) {\n                    errors.add(t);\n                    taskTracker.countDown();\n                    semaphore.release();\n                }\n\n                @Override\n                public void onComplete() {\n                    totalCount.addAndGet(subCount);\n                    taskTracker.countDown();\n                    semaphore.release();\n                }\n            });\n        }\n        taskTracker.await();\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":7,"creation_date":1395749548,"post_id":22634070,"comment_id":34469765,"body_markdown":"Little explanation. To be able to call `m.group` we first need to call `find` OR `matches` on Matcher instance (`m`). Another important thing is that these methods need to have positive results (they have to return true), so `find` need to be able to find match single match for regex, and `matches` need to be able to confirm that entire input can be matched by regex. Otherwise there will be no match, so there will be nothing in `group` so its state would be illegal.","body":"Little explanation. To be able to call <code>m.group</code> we first need to call <code>find</code> OR <code>matches</code> on Matcher instance (<code>m</code>). Another important thing is that these methods need to have positive results (they have to return true), so <code>find</code> need to be able to find match single match for regex, and <code>matches</code> need to be able to confirm that entire input can be matched by regex. Otherwise there will be no match, so there will be nothing in <code>group</code> so its state would be illegal."},{"owner":{"account_id":2462584,"reputation":123,"user_id":2146418,"display_name":"johwiltb"},"score":0,"creation_date":1395752167,"post_id":22634070,"comment_id":34471572,"body_markdown":"So this fixes the error, but it still isn&#39;t matching and pulling out URLs.  I can&#39;t tell what is wrong with the matching for the URL.  Any suggestions there?","body":"So this fixes the error, but it still isn&#39;t matching and pulling out URLs.  I can&#39;t tell what is wrong with the matching for the URL.  Any suggestions there?"},{"owner":{"account_id":3508609,"reputation":2169,"user_id":2933541,"accept_rate":71,"display_name":"Sergey Fedorov"},"score":0,"creation_date":1395752920,"post_id":22634070,"comment_id":34472152,"body_markdown":"Try to narrow down the problem and find the minimal input string on which things go wrong. That way you&#39;ll most probably find the problem in code. If not - ask another question with [ssce][1]\n\n  [1]: http://www.sscce.org/","body":"Try to narrow down the problem and find the minimal input string on which things go wrong. That way you&#39;ll most probably find the problem in code. If not - ask another question with [ssce][1]    [1]: <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">sscce.org</a>"},{"owner":{"account_id":2462584,"reputation":123,"user_id":2146418,"display_name":"johwiltb"},"score":0,"creation_date":1395776512,"post_id":22634070,"comment_id":34488855,"body_markdown":"So I&#39;m not sure how to be more specific...I have a regex, it doesn&#39;t match. Is there something wrong with my regex or is there something i&#39;m doing wrong with Java.  That&#39;s my issue.","body":"So I&#39;m not sure how to be more specific...I have a regex, it doesn&#39;t match. Is there something wrong with my regex or is there something i&#39;m doing wrong with Java.  That&#39;s my issue."}],"tags":[],"owner":{"account_id":3508609,"reputation":2169,"user_id":2933541,"accept_rate":71,"display_name":"Sergey Fedorov"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1395749909,"creation_date":1395749097,"answer_id":22634070,"question_id":22633951,"body_markdown":"first call\r\n\r\n    m.find();\r\n\r\nor\r\n\r\n    m.matches();\r\n\r\nand then you&#39;ll be able to use `m.group()` if matcher succeeded.","title":"Java regex throwing exception for no match found when pattern found in line","body":"<p>first call</p>\n\n<pre><code>m.find();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>m.matches();\n</code></pre>\n\n<p>and then you'll be able to use <code>m.group()</code> if matcher succeeded.</p>\n"},{"tags":[],"owner":{"account_id":2462584,"reputation":123,"user_id":2146418,"display_name":"johwiltb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395796828,"creation_date":1395796828,"answer_id":22649702,"question_id":22633951,"body_markdown":"Ok, so I figured it out.  The only issue was, my regex had to be \r\n\r\n    &quot;.*href=\\&quot;([^\\&quot;]*?)\\&quot;.*&quot;\r\n\r\nWhich then made the code\r\n\r\n    private String regex = &quot;.*href=\\&quot;([^\\&quot;]*?)\\&quot;.*&quot;;\r\n    private Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(result);\r\n    if (m.matches()) {\r\n        String urlStr = m.group(1);\r\n        links.add(urlStr);\r\n    }\r\n\r\nSo that was my issue with the regex, I had to use the &#39;?&#39; to not be greedy I guess!\r\n","title":"Java regex throwing exception for no match found when pattern found in line","body":"<p>Ok, so I figured it out.  The only issue was, my regex had to be </p>\n\n<pre><code>\".*href=\\\"([^\\\"]*?)\\\".*\"\n</code></pre>\n\n<p>Which then made the code</p>\n\n<pre><code>private String regex = \".*href=\\\"([^\\\"]*?)\\\".*\";\nprivate Pattern p = Pattern.compile(regex);\nMatcher m = p.matcher(result);\nif (m.matches()) {\n    String urlStr = m.group(1);\n    links.add(urlStr);\n}\n</code></pre>\n\n<p>So that was my issue with the regex, I had to use the '?' to not be greedy I guess!</p>\n"}],"owner":{"account_id":2462584,"reputation":123,"user_id":2146418,"display_name":"johwiltb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19599,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":22649702,"answer_count":2,"score":11,"last_activity_date":1692980620,"creation_date":1395748762,"question_id":22633951,"body_markdown":"I am dying trying to figure out why a regex won&#39;t match. Any help is much appreciated. I&#39;m going line by line of a web page (that works fine), but I need to pull out the links for each line. The application will check to see if there is a link in the line, but I need to actually pull out the URL. help?\r\n\r\n    Pattern p = Pattern.compile(&quot;^.*href=\\&quot;([^\\&quot;]*)&quot;);\r\n    Matcher m = p.matcher(result);\r\n    String urlStr = m.group();\r\n    links.add(urlStr);\r\n\r\nThe error message I keep getting is this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: No match found\r\n\tat java.util.regex.Matcher.group(Matcher.java:485)\r\n\r\nEven though &#39;result&#39; has a link reference (hxxp://www.yahoo.com) in it. \r\n\r\nlinks is an ArrayList&lt;String&gt; fyi. Thanks in advance!","title":"Java regex throwing exception for no match found when pattern found in line","body":"<p>I am dying trying to figure out why a regex won't match. Any help is much appreciated. I'm going line by line of a web page (that works fine), but I need to pull out the links for each line. The application will check to see if there is a link in the line, but I need to actually pull out the URL. help?</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^.*href=\\\"([^\\\"]*)\");\nMatcher m = p.matcher(result);\nString urlStr = m.group();\nlinks.add(urlStr);\n</code></pre>\n\n<p>The error message I keep getting is this:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: No match found\nat java.util.regex.Matcher.group(Matcher.java:485)\n</code></pre>\n\n<p>Even though 'result' has a link reference (hxxp://www.yahoo.com) in it. </p>\n\n<p>links is an ArrayList fyi. Thanks in advance!</p>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":2817786,"reputation":10940,"user_id":2542215,"accept_rate":48,"display_name":"aelor"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395237392,"creation_date":1395236633,"answer_id":22507819,"question_id":22507774,"body_markdown":"    (?&lt;=label\\&quot;\\:)\\&quot;\\w+\\&quot;\r\n\r\nthis will do it \r\n\r\nor if you really want to parse it as json \r\n\r\ndo this \r\n\r\n    var arr = [];\r\n    var jso = [{&quot;id&quot;:&quot;9&quot;,&quot;label&quot;:&quot;P&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;606&quot;,&quot;610&quot;,&quot;614&quot;,&quot;618&quot;,&quot;622&quot;,&quot;625&quot;,&quot;629&quot;]},{&quot;id&quot;:&quot;8&quot;,&quot;label&quot;:&quot;M&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;607&quot;,&quot;611&quot;,&quot;615&quot;,&quot;619&quot;,&quot;626&quot;,&quot;630&quot;]},{&quot;id&quot;:&quot;7&quot;,&quot;label&quot;:&quot;G&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;609&quot;,&quot;613&quot;,&quot;617&quot;,&quot;621&quot;,&quot;624&quot;,&quot;628&quot;,&quot;632&quot;]},{&quot;id&quot;:&quot;36&quot;,&quot;label&quot;:&quot;GG&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;608&quot;,&quot;612&quot;,&quot;616&quot;,&quot;620&quot;,&quot;623&quot;,&quot;627&quot;,&quot;631&quot;]},{&quot;id&quot;:&quot;152&quot;,&quot;label&quot;:&quot;XGG&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;3713&quot;,&quot;6577&quot;,&quot;6578&quot;,&quot;6579&quot;,&quot;6580&quot;,&quot;6581&quot;,&quot;6582&quot;]}];\r\n    console.log(jso.length);\r\n    for(var i=0;i&lt;jso.length;i++){\r\n        arr.push(jso[i].label);\r\n    }\r\n    console.log(arr);\r\n\r\nregex demo : http://regex101.com/r/kT9kE6","title":"Regex everything between two strings multiple times","body":"<pre><code>(?&lt;=label\\\"\\:)\\\"\\w+\\\"\n</code></pre>\n\n<p>this will do it </p>\n\n<p>or if you really want to parse it as json </p>\n\n<p>do this </p>\n\n<pre><code>var arr = [];\nvar jso = [{\"id\":\"9\",\"label\":\"P\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"606\",\"610\",\"614\",\"618\",\"622\",\"625\",\"629\"]},{\"id\":\"8\",\"label\":\"M\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"607\",\"611\",\"615\",\"619\",\"626\",\"630\"]},{\"id\":\"7\",\"label\":\"G\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"609\",\"613\",\"617\",\"621\",\"624\",\"628\",\"632\"]},{\"id\":\"36\",\"label\":\"GG\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"608\",\"612\",\"616\",\"620\",\"623\",\"627\",\"631\"]},{\"id\":\"152\",\"label\":\"XGG\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"3713\",\"6577\",\"6578\",\"6579\",\"6580\",\"6581\",\"6582\"]}];\nconsole.log(jso.length);\nfor(var i=0;i&lt;jso.length;i++){\n    arr.push(jso[i].label);\n}\nconsole.log(arr);\n</code></pre>\n\n<p>regex demo : <a href=\"http://regex101.com/r/kT9kE6\" rel=\"nofollow\">http://regex101.com/r/kT9kE6</a></p>\n"},{"comments":[{"owner":{"account_id":2729892,"reputation":669,"user_id":2353904,"accept_rate":65,"display_name":"Mauro M"},"score":0,"creation_date":1395237228,"post_id":22507824,"comment_id":34244881,"body_markdown":"Thank you, i know its in JSON but i cant use a parser, that comes as a String object from a web crawler that i cannot change.","body":"Thank you, i know its in JSON but i cant use a parser, that comes as a String object from a web crawler that i cannot change."},{"owner":{"account_id":2271976,"reputation":4136,"user_id":1999125,"accept_rate":82,"display_name":"anirudh"},"score":0,"creation_date":1395237537,"post_id":22507824,"comment_id":34245136,"body_markdown":"You can parse the JSON content present in a string","body":"You can parse the JSON content present in a string"}],"tags":[],"owner":{"account_id":2271976,"reputation":4136,"user_id":1999125,"accept_rate":82,"display_name":"anirudh"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1395236637,"creation_date":1395236637,"answer_id":22507824,"question_id":22507774,"body_markdown":"This string is in the JSON format and hence it is recommended to use a JSON parser rather than using regex\r\n\r\nRead about JSON format in [http://www.json.org/][1]. \r\n\r\nThis link provides explains about JSON in java [http://www.json.org/java/][2]\r\n\r\n\r\n  [1]: http://www.json.org/\r\n  [2]: http://www.json.org/java/","title":"Regex everything between two strings multiple times","body":"<p>This string is in the JSON format and hence it is recommended to use a JSON parser rather than using regex</p>\n\n<p>Read about JSON format in <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">http://www.json.org/</a>. </p>\n\n<p>This link provides explains about JSON in java <a href=\"http://www.json.org/java/\" rel=\"nofollow noreferrer\">http://www.json.org/java/</a></p>\n"},{"comments":[{"owner":{"account_id":1795036,"reputation":333,"user_id":1634619,"accept_rate":59,"display_name":"ilya_i"},"score":0,"creation_date":1667984916,"post_id":22507859,"comment_id":131295862,"body_markdown":"Krishna M the demo in your link shows only the first occurrence of label is selected","body":"Krishna M the demo in your link shows only the first occurrence of label is selected"}],"tags":[],"owner":{"account_id":2471729,"reputation":1155,"user_id":2153411,"accept_rate":60,"display_name":"Krishna M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395236696,"creation_date":1395236696,"answer_id":22507859,"question_id":22507774,"body_markdown":"Your regular expression is greedy.\r\n\r\nChange it to lazy\r\n\r\n`label.*?,`\r\n\r\nYou can also use conditional regex to fetch only the label values\r\n\r\nRegex using conditional expression\r\n\r\n`(?&lt;=&quot;label&quot;:&quot;)\\w+`\r\n\r\n[Regex Demo](http://regex101.com/r/fP6lS8)\r\n\r\n","title":"Regex everything between two strings multiple times","body":"<p>Your regular expression is greedy.</p>\n\n<p>Change it to lazy</p>\n\n<p><code>label.*?,</code></p>\n\n<p>You can also use conditional regex to fetch only the label values</p>\n\n<p>Regex using conditional expression</p>\n\n<p><code>(?&lt;=\"label\":\")\\w+</code></p>\n\n<p><a href=\"http://regex101.com/r/fP6lS8\" rel=\"nofollow\">Regex Demo</a></p>\n"},{"tags":[],"owner":{"account_id":22264,"reputation":21975,"user_id":54746,"accept_rate":89,"display_name":"CaffGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395236878,"creation_date":1395236878,"answer_id":22507946,"question_id":22507774,"body_markdown":"**You should probably use a JSON parser**, however...\r\n\r\nThis regex will capture all the labels in a group names &quot;labels&quot;\r\n\r\n    .*?(?:label)&quot;:&quot;(?&lt;labels&gt;[^&quot;]+)+.*?\r\n\r\nOr depending how you are executing this, just search for this match\r\n\r\n    (?:label)&quot;:&quot;(?&lt;labels&gt;[^&quot;]+)\r\n\r\n\r\nYou can see it working here: http://regex101.com/r/fS8jA8\r\n\r\nAnd the resulting JAVA (generated by regex101):\r\n\r\n    String re = &quot;(?:label)\\\\&quot;:\\\\&quot;(?&lt;labels&gt;[^\\\\&quot;]+)&quot;;\r\n    String str = &quot;[{\\&quot;id\\&quot;:\\&quot;9\\&quot;,\\&quot;label\\&quot;:\\&quot;P\\&quot;,\\&quot;price\\&quot;:\\&quot;0\\&quot;,\\&quot;oldPrice\\&quot;:\\&quot;0\\&quot;,\\&quot;products\\&quot;:[\\&quot;606\\&quot;,\\&quot;610\\&quot;,\\&quot;614\\&quot;,\\&quot;618\\&quot;,\\&quot;622\\&quot;,\\&quot;625\\&quot;,\\&quot;629\\&quot;]},{\\&quot;id\\&quot;:\\&quot;8\\&quot;,\\&quot;label\\&quot;:\\&quot;M\\&quot;,\\&quot;price\\&quot;:\\&quot;0\\&quot;,\\&quot;oldPrice\\&quot;:\\&quot;0\\&quot;,\\&quot;products\\&quot;:[\\&quot;607\\&quot;,\\&quot;611\\&quot;,\\&quot;615\\&quot;,\\&quot;619\\&quot;,\\&quot;626\\&quot;,\\&quot;630\\&quot;]},{\\&quot;id\\&quot;:\\&quot;7\\&quot;,\\&quot;label\\&quot;:\\&quot;G\\&quot;,\\&quot;price\\&quot;:\\&quot;0\\&quot;,\\&quot;oldPrice\\&quot;:\\&quot;0\\&quot;,\\&quot;products\\&quot;:[\\&quot;609\\&quot;,\\&quot;613\\&quot;,\\&quot;617\\&quot;,\\&quot;621\\&quot;,\\&quot;624\\&quot;,\\&quot;628\\&quot;,\\&quot;632\\&quot;]},{\\&quot;id\\&quot;:\\&quot;36\\&quot;,\\&quot;label\\&quot;:\\&quot;GG\\&quot;,\\&quot;price\\&quot;:\\&quot;0\\&quot;,\\&quot;oldPrice\\&quot;:\\&quot;0\\&quot;,\\&quot;products\\&quot;:[\\&quot;608\\&quot;,\\&quot;612\\&quot;,\\&quot;616\\&quot;,\\&quot;620\\&quot;,\\&quot;623\\&quot;,\\&quot;627\\&quot;,\\&quot;631\\&quot;]},{\\&quot;id\\&quot;:\\&quot;152\\&quot;,\\&quot;label\\&quot;:\\&quot;XGG\\&quot;,\\&quot;price\\&quot;:\\&quot;0\\&quot;,\\&quot;oldPrice\\&quot;:\\&quot;0\\&quot;,\\&quot;products\\&quot;:[\\&quot;3713\\&quot;,\\&quot;6577\\&quot;,\\&quot;6578\\&quot;,\\&quot;6579\\&quot;,\\&quot;6580\\&quot;,\\&quot;6581\\&quot;,\\&quot;6582\\&quot;]}]\r\n    &quot;;\r\n     \r\n    Pattern p = Pattern.compile(re, Pattern.CASE_INSENSITIVE);\r\n    Matcher m = p.matcher(str);","title":"Regex everything between two strings multiple times","body":"<p><strong>You should probably use a JSON parser</strong>, however...</p>\n\n<p>This regex will capture all the labels in a group names \"labels\"</p>\n\n<pre><code>.*?(?:label)\":\"(?&lt;labels&gt;[^\"]+)+.*?\n</code></pre>\n\n<p>Or depending how you are executing this, just search for this match</p>\n\n<pre><code>(?:label)\":\"(?&lt;labels&gt;[^\"]+)\n</code></pre>\n\n<p>You can see it working here: <a href=\"http://regex101.com/r/fS8jA8\" rel=\"nofollow\">http://regex101.com/r/fS8jA8</a></p>\n\n<p>And the resulting JAVA (generated by regex101):</p>\n\n<pre><code>String re = \"(?:label)\\\\\":\\\\\"(?&lt;labels&gt;[^\\\\\"]+)\";\nString str = \"[{\\\"id\\\":\\\"9\\\",\\\"label\\\":\\\"P\\\",\\\"price\\\":\\\"0\\\",\\\"oldPrice\\\":\\\"0\\\",\\\"products\\\":[\\\"606\\\",\\\"610\\\",\\\"614\\\",\\\"618\\\",\\\"622\\\",\\\"625\\\",\\\"629\\\"]},{\\\"id\\\":\\\"8\\\",\\\"label\\\":\\\"M\\\",\\\"price\\\":\\\"0\\\",\\\"oldPrice\\\":\\\"0\\\",\\\"products\\\":[\\\"607\\\",\\\"611\\\",\\\"615\\\",\\\"619\\\",\\\"626\\\",\\\"630\\\"]},{\\\"id\\\":\\\"7\\\",\\\"label\\\":\\\"G\\\",\\\"price\\\":\\\"0\\\",\\\"oldPrice\\\":\\\"0\\\",\\\"products\\\":[\\\"609\\\",\\\"613\\\",\\\"617\\\",\\\"621\\\",\\\"624\\\",\\\"628\\\",\\\"632\\\"]},{\\\"id\\\":\\\"36\\\",\\\"label\\\":\\\"GG\\\",\\\"price\\\":\\\"0\\\",\\\"oldPrice\\\":\\\"0\\\",\\\"products\\\":[\\\"608\\\",\\\"612\\\",\\\"616\\\",\\\"620\\\",\\\"623\\\",\\\"627\\\",\\\"631\\\"]},{\\\"id\\\":\\\"152\\\",\\\"label\\\":\\\"XGG\\\",\\\"price\\\":\\\"0\\\",\\\"oldPrice\\\":\\\"0\\\",\\\"products\\\":[\\\"3713\\\",\\\"6577\\\",\\\"6578\\\",\\\"6579\\\",\\\"6580\\\",\\\"6581\\\",\\\"6582\\\"]}]\n\";\n\nPattern p = Pattern.compile(re, Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(str);\n</code></pre>\n"}],"owner":{"account_id":2729892,"reputation":669,"user_id":2353904,"accept_rate":65,"display_name":"Mauro M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2502,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":22507819,"answer_count":4,"score":0,"last_activity_date":1692980611,"creation_date":1395236509,"question_id":22507774,"body_markdown":"I have a String like \r\n\r\n    [{&quot;id&quot;:&quot;9&quot;,&quot;label&quot;:&quot;P&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;606&quot;,&quot;610&quot;,&quot;614&quot;,&quot;618&quot;,&quot;622&quot;,&quot;625&quot;,&quot;629&quot;]},{&quot;id&quot;:&quot;8&quot;,&quot;label&quot;:&quot;M&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;607&quot;,&quot;611&quot;,&quot;615&quot;,&quot;619&quot;,&quot;626&quot;,&quot;630&quot;]},{&quot;id&quot;:&quot;7&quot;,&quot;label&quot;:&quot;G&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;609&quot;,&quot;613&quot;,&quot;617&quot;,&quot;621&quot;,&quot;624&quot;,&quot;628&quot;,&quot;632&quot;]},{&quot;id&quot;:&quot;36&quot;,&quot;label&quot;:&quot;GG&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;608&quot;,&quot;612&quot;,&quot;616&quot;,&quot;620&quot;,&quot;623&quot;,&quot;627&quot;,&quot;631&quot;]},{&quot;id&quot;:&quot;152&quot;,&quot;label&quot;:&quot;XGG&quot;,&quot;price&quot;:&quot;0&quot;,&quot;oldPrice&quot;:&quot;0&quot;,&quot;products&quot;:[&quot;3713&quot;,&quot;6577&quot;,&quot;6578&quot;,&quot;6579&quot;,&quot;6580&quot;,&quot;6581&quot;,&quot;6582&quot;]}]\r\n\r\nWhat i need is the label values: P, M, G, GG, XGG. i tried to get everything between label and a comma, but its not working\r\n\r\n&gt; &quot;(label)(.*)(,)&quot; ","title":"Regex everything between two strings multiple times","body":"<p>I have a String like </p>\n\n<pre><code>[{\"id\":\"9\",\"label\":\"P\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"606\",\"610\",\"614\",\"618\",\"622\",\"625\",\"629\"]},{\"id\":\"8\",\"label\":\"M\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"607\",\"611\",\"615\",\"619\",\"626\",\"630\"]},{\"id\":\"7\",\"label\":\"G\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"609\",\"613\",\"617\",\"621\",\"624\",\"628\",\"632\"]},{\"id\":\"36\",\"label\":\"GG\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"608\",\"612\",\"616\",\"620\",\"623\",\"627\",\"631\"]},{\"id\":\"152\",\"label\":\"XGG\",\"price\":\"0\",\"oldPrice\":\"0\",\"products\":[\"3713\",\"6577\",\"6578\",\"6579\",\"6580\",\"6581\",\"6582\"]}]\n</code></pre>\n\n<p>What i need is the label values: P, M, G, GG, XGG. i tried to get everything between label and a comma, but its not working</p>\n\n<blockquote>\n  <p>\"(label)(.*)(,)\" </p>\n</blockquote>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":2625325,"reputation":290,"user_id":2272467,"accept_rate":90,"display_name":"John Park"},"score":1,"creation_date":1394881029,"post_id":22422566,"comment_id":34096195,"body_markdown":"Thanks for pointing this out, I looked at a lot of examples but just couldnt wrap my head around setting up the Pattern and Matcher syntax properly. This makes total sense now that I can successfully apply it. Thanks again.","body":"Thanks for pointing this out, I looked at a lot of examples but just couldnt wrap my head around setting up the Pattern and Matcher syntax properly. This makes total sense now that I can successfully apply it. Thanks again."}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394879466,"creation_date":1394879466,"answer_id":22422566,"question_id":22422541,"body_markdown":"You&#39;re not even using your `matcher` for matching. You&#39;re using `String#matches()` method. Both that method and `Matcher#matches()` method matches the regex against the complete string, and not a part of it. So your regex should cover entire string. If you just want to match with a part of the string, use `Matcher#find()` method.\r\n\r\nYou should use it like this:\r\n\r\n    if(matcher.find(ct.toLowerCase())) {\r\n        // Found regex pattern\r\n    }\r\n\r\nBTW, if you only want to see if a string starts with `t`, you can directly use `String#startsWith()` method. No need of regex for that case. But I guess it&#39;s a general case here.","title":"Java regex matcher not working","body":"<p>You're not even using your <code>matcher</code> for matching. You're using <code>String#matches()</code> method. Both that method and <code>Matcher#matches()</code> method matches the regex against the complete string, and not a part of it. So your regex should cover entire string. If you just want to match with a part of the string, use <code>Matcher#find()</code> method.</p>\n\n<p>You should use it like this:</p>\n\n<pre><code>if(matcher.find(ct.toLowerCase())) {\n    // Found regex pattern\n}\n</code></pre>\n\n<p>BTW, if you only want to see if a string starts with <code>t</code>, you can directly use <code>String#startsWith()</code> method. No need of regex for that case. But I guess it's a general case here.</p>\n"},{"tags":[],"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394879482,"creation_date":1394879482,"answer_id":22422571,"question_id":22422541,"body_markdown":"`^` is an [anchor][1] character in regex. You have to escape it if you do not want anchoring. Otherwise `^t` mens the t at the beginning of the string. Escape it using `\\\\^t`\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/anchors.html","title":"Java regex matcher not working","body":"<p><code>^</code> is an <a href=\"http://www.regular-expressions.info/anchors.html\" rel=\"nofollow\">anchor</a> character in regex. You have to escape it if you do not want anchoring. Otherwise <code>^t</code> mens the t at the beginning of the string. Escape it using <code>\\\\^t</code></p>\n"}],"owner":{"account_id":2625325,"reputation":290,"user_id":2272467,"accept_rate":90,"display_name":"John Park"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22422566,"answer_count":2,"score":2,"last_activity_date":1692980566,"creation_date":1394879277,"question_id":22422541,"body_markdown":"Im trying to get the hang of pattern and matcher. This method should use the regex pattern to iterate over an array of state capitals and return the state or states that correspond to the pattern. The method works fine when I check for whole strings like &quot;tallahassee&quot; or &quot;salt lake city&quot; but not for something like &quot;^t&quot; what is it that im not getting?\r\n\r\nThis is the method and main that calls it:\r\n\r\n    public ArrayList&lt;String&gt; getState(String s) throws RemoteException \r\n    {\r\n        Pattern pattern = Pattern.compile(s);\r\n        Matcher matcher; \r\n        int i=0;\r\n        System.out.println(s);\r\n        for(String ct:capitalValues)\r\n        {\r\n            matcher = pattern.matcher(ct);\r\n            if(ct.toLowerCase().matches(s))\r\n                states.add(stateValues[i]);\r\n            i++;    \r\n        }\r\n        return states;\r\n    }\r\n    \r\n    public static void main (String[] args) throws RemoteException\r\n    {\r\n        ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        hashTester ht = new hashTester();\r\n        \r\n        result = ht.getState((&quot;^t&quot;).toLowerCase());\r\n        System.out.println(&quot;result: &quot;);\r\n        for(String s:result)\r\n            System.out.println(s);\r\n        \r\n        \r\n    }\r\n\r\nthanks for your help","title":"Java regex matcher not working","body":"<p>Im trying to get the hang of pattern and matcher. This method should use the regex pattern to iterate over an array of state capitals and return the state or states that correspond to the pattern. The method works fine when I check for whole strings like \"tallahassee\" or \"salt lake city\" but not for something like \"^t\" what is it that im not getting?</p>\n\n<p>This is the method and main that calls it:</p>\n\n<pre><code>public ArrayList&lt;String&gt; getState(String s) throws RemoteException \n{\n    Pattern pattern = Pattern.compile(s);\n    Matcher matcher; \n    int i=0;\n    System.out.println(s);\n    for(String ct:capitalValues)\n    {\n        matcher = pattern.matcher(ct);\n        if(ct.toLowerCase().matches(s))\n            states.add(stateValues[i]);\n        i++;    \n    }\n    return states;\n}\n\npublic static void main (String[] args) throws RemoteException\n{\n    ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    hashTester ht = new hashTester();\n\n    result = ht.getState((\"^t\").toLowerCase());\n    System.out.println(\"result: \");\n    for(String s:result)\n        System.out.println(s);\n\n\n}\n</code></pre>\n\n<p>thanks for your help</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1096599,"reputation":6690,"user_id":1090068,"display_name":"ElGavilan"},"score":6,"creation_date":1405430513,"post_id":24759351,"comment_id":38415894,"body_markdown":"Yes, there is a way to do it using regular expressions.","body":"Yes, there is a way to do it using regular expressions."},{"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"score":3,"creation_date":1405430581,"post_id":24759351,"comment_id":38415946,"body_markdown":"Using regex to parse HTML is never a good idea:  http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","body":"Using regex to parse HTML is never a good idea:  <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"},{"owner":{"account_id":3325365,"reputation":712,"user_id":3004406,"accept_rate":14,"display_name":"Nadendla"},"score":0,"creation_date":1405430684,"post_id":24759351,"comment_id":38416017,"body_markdown":"Parsing HTML with regular expression is not a good idea","body":"Parsing HTML with regular expression is not a good idea"},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":2,"creation_date":1405431050,"post_id":24759351,"comment_id":38416311,"body_markdown":"For the described problem a regular expression is just fine and will do the job. It is not a context sensitive problem (where a push down automaton would be necessary) to check whether there&#39;s one opening and one closing surrounding tag!","body":"For the described problem a regular expression is just fine and will do the job. It is not a context sensitive problem (where a push down automaton would be necessary) to check whether there&#39;s one opening and one closing surrounding tag!"}],"answers":[{"comments":[{"owner":{"account_id":2684262,"reputation":95,"user_id":2318955,"accept_rate":45,"display_name":"user2318955"},"score":0,"creation_date":1405433406,"post_id":24759750,"comment_id":38418050,"body_markdown":"Thank you, but the text might contain multiple word &quot;text&quot; inside script tags, and in my case i need to do the check on a word &quot;text&quot; on a specific index, so i will need to loop all the results of matcher and check if the word &quot;text&quot; has the same index.","body":"Thank you, but the text might contain multiple word &quot;text&quot; inside script tags, and in my case i need to do the check on a word &quot;text&quot; on a specific index, so i will need to loop all the results of matcher and check if the word &quot;text&quot; has the same index."}],"tags":[],"owner":{"account_id":3121033,"reputation":1074,"user_id":2640782,"accept_rate":75,"display_name":"user2640782"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405433985,"creation_date":1405431447,"answer_id":24759750,"question_id":24759351,"body_markdown":"First you can get inside of your javascript tag with regular expessions.\r\n\r\n    final Pattern pattern = Pattern.compile(&quot;&lt;script&gt;(.+?)&lt;/script&gt;&quot;);\r\n    \tfinal Matcher matcher = pattern.matcher(&quot;**testtesttesttest &lt;script&gt; example of a \\&quot;text\\&quot; &lt;/script&gt; testtesttesttest**&quot;);\r\n    \tmatcher.find();\r\n    \tString insdeOfTag= matcher.group(1);\r\nThen, you can check if string contains &quot;text&quot;\r\n\r\n    insdeOfTag.contains(&quot;text&quot;);\r\n\r\nYou can loop all the results with this:\r\n\r\n    List&lt;String&gt; values = new ArrayList&lt;String&gt;();\r\n    while (matcher.find()) {\r\n            values.add(matcher.group(1));\r\n    }\r\nThe values list will contain the texts inside the javascript tags.\r\n\r\n    for (String text : values) {\r\n\t//you can look for the word &quot;text&quot; on a specific index in here.\r\n    }","title":"java and regular expression","body":"<p>First you can get inside of your javascript tag with regular expessions.</p>\n\n<pre><code>final Pattern pattern = Pattern.compile(\"&lt;script&gt;(.+?)&lt;/script&gt;\");\n    final Matcher matcher = pattern.matcher(\"**testtesttesttest &lt;script&gt; example of a \\\"text\\\" &lt;/script&gt; testtesttesttest**\");\n    matcher.find();\n    String insdeOfTag= matcher.group(1);\n</code></pre>\n\n<p>Then, you can check if string contains \"text\"</p>\n\n<pre><code>insdeOfTag.contains(\"text\");\n</code></pre>\n\n<p>You can loop all the results with this:</p>\n\n<pre><code>List&lt;String&gt; values = new ArrayList&lt;String&gt;();\nwhile (matcher.find()) {\n        values.add(matcher.group(1));\n}\n</code></pre>\n\n<p>The values list will contain the texts inside the javascript tags.</p>\n\n<pre><code>for (String text : values) {\n//you can look for the word \"text\" on a specific index in here.\n}\n</code></pre>\n"}],"owner":{"account_id":2684262,"reputation":95,"user_id":2318955,"accept_rate":45,"display_name":"user2318955"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1692980550,"creation_date":1405430466,"question_id":24759351,"body_markdown":"I need to write a regular expression in order to use it in java using pattern and matcher.\r\nthe regular expression should test if a word inside a text is surrounded by javascript tags.\r\nFor examples, lets say i have the following text:\r\n\r\n    **testtesttesttest &lt;script&gt; example of a &quot;text&quot; &lt;/script&gt; testtesttesttest**\r\n\r\nand i need to check if the word &quot;text&quot; is surrounded by &amp;lt;script&gt; and &amp;lt;/script&gt;.\r\n\r\nI have split the text to have two texts:\r\n\r\n    txt1 = testtesttesttest &lt;script&gt; example of a \r\n    txt2 = &lt;/script&gt; testtesttesttest\r\n\r\nNow i need to check:\r\n\r\n 1. if txt1 contains the tag &amp;lt;script&gt; but does not contain after it a tag &amp;lt;/script&gt;\r\n 2. if txt2 contains the tag &amp;lt;/script&gt; but does not contain before it a tag &amp;lt;script&gt;\r\n\r\nIs there a way to do it using the regular expression?\r\nThank you in advance,\r\n","title":"java and regular expression","body":"<p>I need to write a regular expression in order to use it in java using pattern and matcher.\nthe regular expression should test if a word inside a text is surrounded by javascript tags.\nFor examples, lets say i have the following text:</p>\n\n<pre><code>**testtesttesttest &lt;script&gt; example of a \"text\" &lt;/script&gt; testtesttesttest**\n</code></pre>\n\n<p>and i need to check if the word \"text\" is surrounded by &lt;script> and &lt;/script>.</p>\n\n<p>I have split the text to have two texts:</p>\n\n<pre><code>txt1 = testtesttesttest &lt;script&gt; example of a \ntxt2 = &lt;/script&gt; testtesttesttest\n</code></pre>\n\n<p>Now i need to check:</p>\n\n<ol>\n<li>if txt1 contains the tag &lt;script> but does not contain after it a tag &lt;/script></li>\n<li>if txt2 contains the tag &lt;/script> but does not contain before it a tag &lt;script></li>\n</ol>\n\n<p>Is there a way to do it using the regular expression?\nThank you in advance,</p>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1405018926,"post_id":24684313,"comment_id":38273957,"body_markdown":"It&#39;s not clear what you&#39;re asking here","body":"It&#39;s not clear what you&#39;re asking here"},{"owner":{"account_id":4268605,"reputation":104,"user_id":3491071,"display_name":"TheBetaProgrammer"},"score":0,"creation_date":1405018988,"post_id":24684313,"comment_id":38273994,"body_markdown":"This might help? http://txt2re.com/","body":"This might help? <a href=\"http://txt2re.com/\" rel=\"nofollow noreferrer\">txt2re.com</a>"},{"owner":{"account_id":3392345,"reputation":10946,"user_id":2846923,"accept_rate":100,"display_name":"The Guy with The Hat"},"score":0,"creation_date":1405019141,"post_id":24684313,"comment_id":38274069,"body_markdown":"So you want to check if the string is &quot;`(&#39;` three digits here `&#39;,&#39;` eight digits here `&#39;)`&quot;?","body":"So you want to check if the string is &quot;<code>(&#39;</code> three digits here <code>&#39;,&#39;</code> eight digits here <code>&#39;)</code>&quot;?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1405019146,"post_id":24684313,"comment_id":38274074,"body_markdown":"You&#39;re not sure if it works? Can&#39;t you... run it, and find out?","body":"You&#39;re not sure if it works? Can&#39;t you... run it, and find out?"},{"owner":{"account_id":4731198,"reputation":49,"user_id":3826780,"display_name":"hermit274"},"score":0,"creation_date":1405019164,"post_id":24684313,"comment_id":38274081,"body_markdown":"I want check if the string present in code respect a pattern like (&#39;three number digit&#39;,&#39;eight number digit&#39;). I think the code is clear","body":"I want check if the string present in code respect a pattern like (&#39;three number digit&#39;,&#39;eight number digit&#39;). I think the code is clear"}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405019070,"creation_date":1405019070,"answer_id":24684384,"question_id":24684313,"body_markdown":"You need to escape parentheses (using backslashes) as they represent capturing groups in regular expressions:\r\n\r\n    String regex = &quot;^\\\\(&#39;\\\\d{3}&#39;,&#39;\\\\d{8}&#39;\\\\)$&quot;;\r\n\r\n","title":"What is the Regex to validate this kind String in Java?","body":"<p>You need to escape parentheses (using backslashes) as they represent capturing groups in regular expressions:</p>\n\n<pre><code>String regex = \"^\\\\('\\\\d{3}','\\\\d{8}'\\\\)$\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1405019213,"post_id":24684399,"comment_id":38274113,"body_markdown":"why escape single quote? There is no need to escape single quote in JAVA. Here is [DEMO](http://regex101.com/r/pV8qU8/1)","body":"why escape single quote? There is no need to escape single quote in JAVA. Here is <a href=\"http://regex101.com/r/pV8qU8/1\" rel=\"nofollow noreferrer\">DEMO</a>"}],"tags":[],"owner":{"account_id":2791635,"reputation":25619,"user_id":2401769,"accept_rate":68,"display_name":"Matias Cicero"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1405019147,"creation_date":1405019147,"answer_id":24684399,"question_id":24684313,"body_markdown":"You have to escape the single quotes and parenthesis too with `\\\\&#39;` and `\\\\(`\r\n\r\nThe correct regex would be:\r\n\r\n    String regex = &quot;\\\\(\\\\&#39;\\\\d{3}\\\\&#39;,\\\\&#39;\\\\d{8}\\\\&#39;\\\\)&quot;;","title":"What is the Regex to validate this kind String in Java?","body":"<p>You have to escape the single quotes and parenthesis too with <code>\\\\'</code> and <code>\\\\(</code></p>\n\n<p>The correct regex would be:</p>\n\n<pre><code>String regex = \"\\\\(\\\\'\\\\d{3}\\\\',\\\\'\\\\d{8}\\\\'\\\\)\";\n</code></pre>\n"}],"owner":{"account_id":4731198,"reputation":49,"user_id":3826780,"display_name":"hermit274"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1692980534,"creation_date":1405018830,"question_id":24684313,"body_markdown":"I have this kind of String (&#39;123&#39;,&#39;12345678&#39;) and i would validate it throw a regex.\r\nI have write this code, but i&#39;m not shure it work.\r\n\r\n    String field = &quot;(&#39;123&#39;,&#39;12345678&#39;)&quot;;\r\n    String regex = &quot;^(&#39;\\\\d{3}&#39;,&#39;\\\\d{8}&#39;)$&quot;;\r\n    public void valideField(String field, String regex){\r\n\t{\r\n\t\tif(!field.matches(regex)){\r\n\t\t\tSystem.out.println(&quot;Not validated!&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nIs correct regex or not? You have any suggestions or help?","title":"What is the Regex to validate this kind String in Java?","body":"<p>I have this kind of String ('123','12345678') and i would validate it throw a regex.\nI have write this code, but i'm not shure it work.</p>\n\n<pre><code>String field = \"('123','12345678')\";\nString regex = \"^('\\\\d{3}','\\\\d{8}')$\";\npublic void valideField(String field, String regex){\n{\n    if(!field.matches(regex)){\n        System.out.println(\"Not validated!\");\n    }\n\n}\n</code></pre>\n\n<p>Is correct regex or not? You have any suggestions or help?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":7,"creation_date":1404731625,"post_id":24609258,"comment_id":38132059,"body_markdown":"This question appears to be off-topic because of &quot;No research efforts.&quot;","body":"This question appears to be off-topic because of &quot;No research efforts.&quot;"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1404731762,"post_id":24609258,"comment_id":38132135,"body_markdown":"See javadoc for String.matches(regex).","body":"See javadoc for String.matches(regex)."},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1404732024,"post_id":24609258,"comment_id":38132304,"body_markdown":"what you need to use is regular expression. for example something like this: [^A][^B][^C][^D][^F] (NOT A or B ... or F)","body":"what you need to use is regular expression. for example something like this: [^A][^B][^C][^D][^F] (NOT A or B ... or F)"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404732080,"creation_date":1404732080,"answer_id":24609409,"question_id":24609258,"body_markdown":"You can use a do .. while loop:\r\n\r\n    public class Test {\r\n       public static void main(String[] args) {\r\n          String s;\r\n          do {\r\n            System.out.println(&quot;Eingabe: &quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            s =sc.nextLine();\r\n          }while (checkInput(s));\r\n        }\r\n        \r\n        public static boolean checkInput(String s){\r\n          if (s.matches(&quot;[ABCDE]+&quot;)){\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n    }","title":"Check, if String contains only needed characters. If no - input new String from Scanner","body":"<p>You can use a do .. while loop:</p>\n\n<pre><code>public class Test {\n   public static void main(String[] args) {\n      String s;\n      do {\n        System.out.println(\"Eingabe: \");\n        Scanner sc = new Scanner(System.in);\n        s =sc.nextLine();\n      }while (checkInput(s));\n    }\n\n    public static boolean checkInput(String s){\n      if (s.matches(\"[ABCDE]+\")){\n        return false;\n      }\n      return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4711666,"reputation":1,"user_id":3812007,"display_name":"user3812007"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1404733428,"answer_count":1,"score":-3,"last_activity_date":1692980505,"creation_date":1404731558,"question_id":24609258,"body_markdown":"User inputs a string in the console.\r\n\r\n    Scanner sc = new Scanner\r\n    sc.nextLine();\r\n\r\nThis String should contain only symbols `A,B,C,D,F` (it is possible to be something like this: `AAABCCDDD`\r\n\r\n - If string contains at least 1 wrong(not `A,B,C,D,F`) character -&gt;\r\n   user should re-type this string\r\n - If string is correct -&gt; the programm\r\n   should stop\r\n\r\nThanks!","title":"Check, if String contains only needed characters. If no - input new String from Scanner","body":"<p>User inputs a string in the console.</p>\n\n<pre><code>Scanner sc = new Scanner\nsc.nextLine();\n</code></pre>\n\n<p>This String should contain only symbols <code>A,B,C,D,F</code> (it is possible to be something like this: <code>AAABCCDDD</code></p>\n\n<ul>\n<li>If string contains at least 1 wrong(not <code>A,B,C,D,F</code>) character ->\nuser should re-type this string</li>\n<li>If string is correct -> the programm\nshould stop</li>\n</ul>\n\n<p>Thanks!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1403247956,"post_id":24321679,"comment_id":37593659,"body_markdown":"How are you using the matcher?. show us the code.","body":"How are you using the matcher?. show us the code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1403251446,"post_id":24321679,"comment_id":37595227,"body_markdown":"As a site note, you dont need all theses backslashes: `Pattern.compile(&quot;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt;(.*?)&lt;/P&gt;&quot;)` will do as well, simple and readable","body":"As a site note, you dont need all theses backslashes: <code>Pattern.compile(&quot;&lt;&#47;TD&gt;&lt;TD&gt;&lt;P&gt;(.*?)&lt;&#47;P&gt;&quot;)</code> will do as well, simple and readable"}],"answers":[{"comments":[{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":0,"creation_date":1403248346,"post_id":24321740,"comment_id":37593841,"body_markdown":"He wants to match `EUR 0.30` also","body":"He wants to match <code>EUR 0.30</code> also"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1403248676,"post_id":24321740,"comment_id":37593957,"body_markdown":"@AvinashRaj: The code also worked for the second example. I had omitted it to avoid clutter. Anyways, I have updated the answer to include both scenarios.","body":"@AvinashRaj: The code also worked for the second example. I had omitted it to avoid clutter. Anyways, I have updated the answer to include both scenarios."}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1403248648,"creation_date":1403247974,"answer_id":24321740,"question_id":24321679,"body_markdown":"I suppose you are using the matcher incorrectly:\r\n\r\n\r\n        String[] str = new String[]{&quot;&lt;TD&gt;&lt;P&gt;xyz...  &lt;/P&gt;&lt;P&gt;Oiuye &lt;/P&gt;&lt;P&gt;Oture, &lt;/P&gt;&lt;P&gt;Option&lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.20 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt; &quot;, &quot;&lt;TD&gt;&lt;P&gt;Foriegn &lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.30 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt;&quot;};\r\n        Pattern p = Pattern.compile(&quot;\\\\&lt;/TD\\\\&gt;\\\\&lt;TD\\\\&gt;\\\\&lt;P\\\\&gt;(.*?)\\\\&lt;/P\\\\&gt;&quot;);\r\n        for (String st : str) {\r\n            Matcher m = p.matcher(st);\r\n            while (m.find()) {\r\n                System.out.println(m.group(1));\r\n            }\r\n        }\r\n\r\nYields:\r\n\r\n    EUR 0.20 \r\n    EUR 0.30","title":"Java&#39;s pattern matcher says no match found but matches are print to the console","body":"<p>I suppose you are using the matcher incorrectly:</p>\n\n<pre><code>    String[] str = new String[]{\"&lt;TD&gt;&lt;P&gt;xyz...  &lt;/P&gt;&lt;P&gt;Oiuye &lt;/P&gt;&lt;P&gt;Oture, &lt;/P&gt;&lt;P&gt;Option&lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.20 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt; \", \"&lt;TD&gt;&lt;P&gt;Foriegn &lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.30 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt;\"};\n    Pattern p = Pattern.compile(\"\\\\&lt;/TD\\\\&gt;\\\\&lt;TD\\\\&gt;\\\\&lt;P\\\\&gt;(.*?)\\\\&lt;/P\\\\&gt;\");\n    for (String st : str) {\n        Matcher m = p.matcher(st);\n        while (m.find()) {\n            System.out.println(m.group(1));\n        }\n    }\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>EUR 0.20 \nEUR 0.30\n</code></pre>\n"},{"tags":[],"owner":{"account_id":305148,"reputation":136,"user_id":615114,"display_name":"Rakesh Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403254714,"creation_date":1403254714,"answer_id":24323522,"question_id":24321679,"body_markdown":"You just can catch the exception if you are already getting what you require.\r\n\r\n    try{\r\n    Pattern p = Pattern.compile(&quot;\\\\&lt;/TD\\\\&gt;\\\\&lt;TD\\\\&gt;\\\\&lt;P\\\\&gt;(.*?)\\\\&lt;/P\\\\&gt;&quot;);Matcher m_Fee_1 = p_Fee_1.matcher(row_xml);          \r\n    m_Fee_1.find();\r\n    String Contract_Fee_Temp = m_Fee_1.group(1).trim(); \r\n    //Print what ever you want\r\n    }\r\n    catch(IllegalStateException exception){}","title":"Java&#39;s pattern matcher says no match found but matches are print to the console","body":"<p>You just can catch the exception if you are already getting what you require.</p>\n\n<pre><code>try{\nPattern p = Pattern.compile(\"\\\\&lt;/TD\\\\&gt;\\\\&lt;TD\\\\&gt;\\\\&lt;P\\\\&gt;(.*?)\\\\&lt;/P\\\\&gt;\");Matcher m_Fee_1 = p_Fee_1.matcher(row_xml);          \nm_Fee_1.find();\nString Contract_Fee_Temp = m_Fee_1.group(1).trim(); \n//Print what ever you want\n}\ncatch(IllegalStateException exception){}\n</code></pre>\n"}],"owner":{"account_id":4638627,"reputation":365,"user_id":3759100,"accept_rate":100,"display_name":"raka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24321740,"answer_count":2,"score":1,"last_activity_date":1692980467,"creation_date":1403247699,"question_id":24321679,"body_markdown":"I&#39;ve written a matcher to match from the following text.\r\n\r\n    &lt;TD&gt;&lt;P&gt;xyz...  &lt;/P&gt;&lt;P&gt;Oiuye &lt;/P&gt;&lt;P&gt;Oture, &lt;/P&gt;&lt;P&gt;Option&lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.20 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt;     \r\n    &lt;TD&gt;&lt;P&gt;Foriegn &lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.30 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt;\r\n\r\nThe Pattern I want to use is:-\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\&lt;/TD\\\\&gt;\\\\&lt;TD\\\\&gt;\\\\&lt;P\\\\&gt;(.*?)\\\\&lt;/P\\\\&gt;&quot;);Matcher m_Fee_1 = p_Fee_1.matcher(row_xml);          \r\n    m_Fee_1.find();\r\n    String Contract_Fee_Temp = m_Fee_1.group(1).trim(); \r\n\r\nI need to capture EUR 0.20 and EUR 0.30.\r\n\r\nMy console shows\r\nEUR 0.20\r\nEUR 0.30\r\n\r\nAnd throws an Error, No match found. Why does this happen? Is it okay if I just catch that exception and take the data? Or how should I handle it?","title":"Java&#39;s pattern matcher says no match found but matches are print to the console","body":"<p>I've written a matcher to match from the following text.</p>\n\n<pre><code>&lt;TD&gt;&lt;P&gt;xyz...  &lt;/P&gt;&lt;P&gt;Oiuye &lt;/P&gt;&lt;P&gt;Oture, &lt;/P&gt;&lt;P&gt;Option&lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.20 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt;     \n&lt;TD&gt;&lt;P&gt;Foriegn &lt;/P&gt;&lt;/TD&gt;&lt;TD&gt;&lt;P&gt; EUR 0.30 &lt;/P&gt;&lt;/TD&gt;&lt;Span&gt;&lt;/Span&gt;\n</code></pre>\n\n<p>The Pattern I want to use is:-</p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\&lt;/TD\\\\&gt;\\\\&lt;TD\\\\&gt;\\\\&lt;P\\\\&gt;(.*?)\\\\&lt;/P\\\\&gt;\");Matcher m_Fee_1 = p_Fee_1.matcher(row_xml);          \nm_Fee_1.find();\nString Contract_Fee_Temp = m_Fee_1.group(1).trim(); \n</code></pre>\n\n<p>I need to capture EUR 0.20 and EUR 0.30.</p>\n\n<p>My console shows\nEUR 0.20\nEUR 0.30</p>\n\n<p>And throws an Error, No match found. Why does this happen? Is it okay if I just catch that exception and take the data? Or how should I handle it?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1401498061,"post_id":23965410,"comment_id":36922592,"body_markdown":"What does `m.matches()` do?","body":"What does <code>m.matches()</code> do?"},{"owner":{"account_id":3654386,"reputation":193,"user_id":3045798,"accept_rate":79,"display_name":"user3045798"},"score":0,"creation_date":1401501780,"post_id":23965410,"comment_id":36923162,"body_markdown":"if Matcher.matches() returns true then there is available data that can be gained from using Matcher.group()\n\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#matches()","body":"if Matcher.matches() returns true then there is available data that can be gained from using Matcher.group()  <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/&hellip;</a>"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1401510842,"post_id":23965410,"comment_id":36924343,"body_markdown":"Just FYI, your `[\\d/ :GMT]+` should be `[\\d/ :]+GMT`.  Your regex works, but not for the reason you think.  I&#39;ll leave the explanation as an exercise for the student. :P","body":"Just FYI, your <code>[\\d&#47; :GMT]+</code> should be <code>[\\d&#47; :]+GMT</code>.  Your regex works, but not for the reason you think.  I&#39;ll leave the explanation as an exercise for the student. :P"}],"answers":[{"comments":[{"owner":{"account_id":3654386,"reputation":193,"user_id":3045798,"accept_rate":79,"display_name":"user3045798"},"score":0,"creation_date":1401502483,"post_id":23965490,"comment_id":36923253,"body_markdown":"This indirectly fixes my problem","body":"This indirectly fixes my problem"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1401510030,"post_id":23965490,"comment_id":36924223,"body_markdown":"Indirectly?  This was *exactly* the problem: using `matches()` when you should have been using `find()`.","body":"Indirectly?  This was <i>exactly</i> the problem: using <code>matches()</code> when you should have been using <code>find()</code>."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1401498748,"creation_date":1401498748,"answer_id":23965490,"question_id":23965410,"body_markdown":"You&#39;ll want to use `Matcher#find()` instead of `Matcher#matches()`. `find()` searches the given string for a match while `matches()` attempts to match the entire string. Your regex does not match the entire string.","title":"Regular Expression not matching data but Regular Expression confirmed working","body":"<p>You'll want to use <code>Matcher#find()</code> instead of <code>Matcher#matches()</code>. <code>find()</code> searches the given string for a match while <code>matches()</code> attempts to match the entire string. Your regex does not match the entire string.</p>\n"},{"tags":[],"owner":{"account_id":3654386,"reputation":193,"user_id":3045798,"accept_rate":79,"display_name":"user3045798"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401502670,"creation_date":1401502670,"answer_id":23965770,"question_id":23965410,"body_markdown":"    private static final Pattern MATCH_DATE_TIME = Pattern.compile(&quot;&lt;span id=\\&quot;lblMatchTime\\&quot; style=\\&quot;padding: 0px;\\&quot;&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;&quot;);\r\n    \r\n    \tpublic static void test()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tString data = JOptionPane.showInputDialog(null, &quot;Please Enter The Match ID&quot;, &quot;Grab Match Details&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t\tMatcher m = MATCH_DATE_TIME.matcher(data);\r\n    \t\t\tif(m.find())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(m.group(1));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (IllegalStateException ise)\r\n    \t\t{\r\n    \t\t\tise.printStackTrace();\r\n    \t\t}\r\n    \t}","title":"Regular Expression not matching data but Regular Expression confirmed working","body":"<pre><code>private static final Pattern MATCH_DATE_TIME = Pattern.compile(\"&lt;span id=\\\"lblMatchTime\\\" style=\\\"padding: 0px;\\\"&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;\");\n\n    public static void test()\n    {\n        try\n        {\n\n            String data = JOptionPane.showInputDialog(null, \"Please Enter The Match ID\", \"Grab Match Details\", JOptionPane.PLAIN_MESSAGE);\n            Matcher m = MATCH_DATE_TIME.matcher(data);\n            if(m.find())\n            {\n                System.out.println(m.group(1));\n            }\n        }\n        catch (IllegalStateException ise)\n        {\n            ise.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401507716,"creation_date":1401507716,"answer_id":23966171,"question_id":23965410,"body_markdown":"I believe Sotirios is correct, however as an alternative, in cases like this I prefer a one-line solution *not* involving the clumsy `Matcher` api, but using `replaceAll()` instead:\r\n\r\n    String dateTime = input.replaceAll(&quot;.*(?:&lt;span id=\\&quot;lblMatchTime\\&quot; style=\\&quot;padding: 0px;\\&quot;&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;)?.*&quot;, &quot;$1&quot;);\r\n\r\nThis works by adding `&quot;.*&quot;` to either end of the pattern so the entire input is matched, then replacing it with the captured target using a back-reference `$1` in the replacement to group 1. There&#39;s added regex special sauce of the entire expression wrapped in an optional non-capturing group to make the result blank if there&#39;s no match.\r\n\r\nThis avoids several lines of code, and bypasses tests for matching or not. \r\n","title":"Regular Expression not matching data but Regular Expression confirmed working","body":"<p>I believe Sotirios is correct, however as an alternative, in cases like this I prefer a one-line solution <em>not</em> involving the clumsy <code>Matcher</code> api, but using <code>replaceAll()</code> instead:</p>\n\n<pre><code>String dateTime = input.replaceAll(\".*(?:&lt;span id=\\\"lblMatchTime\\\" style=\\\"padding: 0px;\\\"&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;)?.*\", \"$1\");\n</code></pre>\n\n<p>This works by adding <code>\".*\"</code> to either end of the pattern so the entire input is matched, then replacing it with the captured target using a back-reference <code>$1</code> in the replacement to group 1. There's added regex special sauce of the entire expression wrapped in an optional non-capturing group to make the result blank if there's no match.</p>\n\n<p>This avoids several lines of code, and bypasses tests for matching or not. </p>\n"}],"owner":{"account_id":3654386,"reputation":193,"user_id":3045798,"accept_rate":79,"display_name":"user3045798"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692980459,"creation_date":1401497992,"question_id":23965410,"body_markdown":"I have the following Java program that grabs a date-time String and have tested in multiple regular expression test sites to check if they do indeed work, which they do.\r\n\r\n    private static final Pattern MATCH_DATE_TIME = Pattern.compile(&quot;&lt;span id=\\&quot;lblMatchTime\\&quot; style=\\&quot;padding: 0px;\\&quot;&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;&quot;);\r\n\r\nThe unescaped version of the expression\r\n\r\n    &lt;span id=&quot;lblMatchTime&quot; style=&quot;padding: 0px;&quot;&gt;([\\d/ :GMT]+)&lt;/span&gt;\r\n\r\nand the websites I tested the above on.\r\n\r\n - [regexerV1][1]\r\n - [regexpal][2]\r\n\r\nWith the following data\r\n\r\n    \t\t\t\t\t&lt;div style=&quot;width: 30%; text-align: center; display: inline-block;&quot;&gt;                             &lt;span&gt;                                 Time  :                             &lt;/span&gt;                             &lt;span id=&quot;lblMatchTime&quot; style=&quot;padding: 0px;&quot;&gt;05/28/2014 14:16:21 GMT&lt;/span&gt;                         &lt;/div&gt;                         &lt;div style=&quot;width: 30%; text-align: center; display: inline-block;&quot;&gt;                             &lt;span&gt;duration:                             &lt;/span&gt;                             &lt;span id=&quot;lblMatchDuration&quot; style=&quot;padding: 0px;&quot;&gt;50&lt;/span&gt;                             &lt;span&gt;                                 minutes                             &lt;/span&gt;                         &lt;/div&gt;                     &lt;/div&gt;\r\n\t\r\nBoth of the above websites with the unescaped versions correctly match the intended data below\r\n\r\n    &lt;span id=&quot;lblMatchTime&quot; style=&quot;padding: 0px;&quot;&gt;05/28/2014 14:16:21 GMT&lt;/span&gt;  //the matched data\r\n    05/28/2014 14:16:21 GMT //$1 extracted data\r\n\r\nalthough both the above sites successfully match and extract the data my program does not.\r\n\r\nHere is the code for my program (minimum code example)\r\n\r\n    private static final Pattern MATCH_DATE_TIME = Pattern.compile(&quot;&lt;span id=\\&quot;lblMatchTime\\&quot; style=\\&quot;padding: 0px;\\&quot;&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;&quot;);\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\t\r\n\t\t\tString data = JOptionPane.showInputDialog(null, &quot;Please Enter The Match ID&quot;, &quot;Grab Match Details&quot;, JOptionPane.PLAIN_MESSAGE);\r\n\t\t\tMatcher m = MATCH_DATE_TIME.matcher(data);\r\n\t\t\tSystem.out.println(m.matches());\r\n\t\t\tString dateTime = m.group(0);\r\n\t\t\tSystem.out.println(dateTime);\r\n\t\t}\r\n\t\tcatch (IllegalStateException ise)\r\n\t\t{\r\n\t\t\tise.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n  [1]: http://www.regexr.com/v1/\r\n  [2]: http://regexpal.com/","title":"Regular Expression not matching data but Regular Expression confirmed working","body":"<p>I have the following Java program that grabs a date-time String and have tested in multiple regular expression test sites to check if they do indeed work, which they do.</p>\n\n<pre><code>private static final Pattern MATCH_DATE_TIME = Pattern.compile(\"&lt;span id=\\\"lblMatchTime\\\" style=\\\"padding: 0px;\\\"&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;\");\n</code></pre>\n\n<p>The unescaped version of the expression</p>\n\n<pre><code>&lt;span id=\"lblMatchTime\" style=\"padding: 0px;\"&gt;([\\d/ :GMT]+)&lt;/span&gt;\n</code></pre>\n\n<p>and the websites I tested the above on.</p>\n\n<ul>\n<li><a href=\"http://www.regexr.com/v1/\" rel=\"nofollow\">regexerV1</a></li>\n<li><a href=\"http://regexpal.com/\" rel=\"nofollow\">regexpal</a></li>\n</ul>\n\n<p>With the following data</p>\n\n<pre><code>                    &lt;div style=\"width: 30%; text-align: center; display: inline-block;\"&gt;                             &lt;span&gt;                                 Time  :                             &lt;/span&gt;                             &lt;span id=\"lblMatchTime\" style=\"padding: 0px;\"&gt;05/28/2014 14:16:21 GMT&lt;/span&gt;                         &lt;/div&gt;                         &lt;div style=\"width: 30%; text-align: center; display: inline-block;\"&gt;                             &lt;span&gt;duration:                             &lt;/span&gt;                             &lt;span id=\"lblMatchDuration\" style=\"padding: 0px;\"&gt;50&lt;/span&gt;                             &lt;span&gt;                                 minutes                             &lt;/span&gt;                         &lt;/div&gt;                     &lt;/div&gt;\n</code></pre>\n\n<p>Both of the above websites with the unescaped versions correctly match the intended data below</p>\n\n<pre><code>&lt;span id=\"lblMatchTime\" style=\"padding: 0px;\"&gt;05/28/2014 14:16:21 GMT&lt;/span&gt;  //the matched data\n05/28/2014 14:16:21 GMT //$1 extracted data\n</code></pre>\n\n<p>although both the above sites successfully match and extract the data my program does not.</p>\n\n<p>Here is the code for my program (minimum code example)</p>\n\n<pre><code>private static final Pattern MATCH_DATE_TIME = Pattern.compile(\"&lt;span id=\\\"lblMatchTime\\\" style=\\\"padding: 0px;\\\"&gt;([\\\\d+/ GMT:]+)&lt;/span&gt;\");\n\npublic static void main(String[] args)\n{\n    try\n    {\n\n        String data = JOptionPane.showInputDialog(null, \"Please Enter The Match ID\", \"Grab Match Details\", JOptionPane.PLAIN_MESSAGE);\n        Matcher m = MATCH_DATE_TIME.matcher(data);\n        System.out.println(m.matches());\n        String dateTime = m.group(0);\n        System.out.println(dateTime);\n    }\n    catch (IllegalStateException ise)\n    {\n        ise.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1399567397,"creation_date":1399567397,"answer_id":23547741,"question_id":23547718,"body_markdown":"You are missing quantifier `+` which would make sure to match 1 or of those characters in your character class:\r\n\r\nUse this:\r\n\r\n    boolean result = value.matches(&quot;[a-zA-Z0-9_-]+&quot;);\r\n\r\nOr even better:\r\n\r\n    boolean result = value.matches(&quot;[\\\\w-]+&quot;);\r\n\r\nSince `\\w` is equivalent of `[a-zA-Z0-9_]`","title":"Java Regex matcher validation","body":"<p>You are missing quantifier <code>+</code> which would make sure to match 1 or of those characters in your character class:</p>\n\n<p>Use this:</p>\n\n<pre><code>boolean result = value.matches(\"[a-zA-Z0-9_-]+\");\n</code></pre>\n\n<p>Or even better:</p>\n\n<pre><code>boolean result = value.matches(\"[\\\\w-]+\");\n</code></pre>\n\n<p>Since <code>\\w</code> is equivalent of <code>[a-zA-Z0-9_]</code></p>\n"}],"owner":{"account_id":1499612,"reputation":3543,"user_id":1691538,"accept_rate":83,"display_name":"runcode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23547741,"answer_count":1,"score":0,"last_activity_date":1692980453,"creation_date":1399567343,"question_id":23547718,"body_markdown":"I already Read the Post on https://stackoverflow.com/questions/6782437/regular-expresion-in-java-for-validating-username\r\n\r\nI tried to do it myself. with JAVA 1.7\r\n\r\n    String value=&quot;12345_-6zA&quot;;\r\n    Boolean result= value.matches(&quot;[a-zA-Z0-9_-]&quot;);\r\n    System.out.println(result);\r\n\r\nI also Tried &lt;br&gt;\r\n    \r\n    String value=&quot;12345a&quot;;\r\n    Boolean result= value.matches(&quot;[a-zA-Z0-9_-]&quot;)\r\n    System.out.println(result);\r\n\r\nBut both gives me result &quot;False&quot; , the String value only contained the char the regex said. I cant figure out why it returned false.\r\n\r\n\r\n","title":"Java Regex matcher validation","body":"<p>I already Read the Post on <a href=\"https://stackoverflow.com/questions/6782437/regular-expresion-in-java-for-validating-username\">Regular Expression in Java for validating username</a></p>\n\n<p>I tried to do it myself. with JAVA 1.7</p>\n\n<pre><code>String value=\"12345_-6zA\";\nBoolean result= value.matches(\"[a-zA-Z0-9_-]\");\nSystem.out.println(result);\n</code></pre>\n\n<p>I also Tried <br></p>\n\n<pre><code>String value=\"12345a\";\nBoolean result= value.matches(\"[a-zA-Z0-9_-]\")\nSystem.out.println(result);\n</code></pre>\n\n<p>But both gives me result \"False\" , the String value only contained the char the regex said. I cant figure out why it returned false.</p>\n"},{"tags":["java","docker","smartcard"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1692980117,"post_id":76978887,"comment_id":135703705,"body_markdown":"In general, it&#39;s tricky to access host hardware devices from inside a container, and this might be better done with a host-native JVM.  On native Linux, USB devices don&#39;t necessarily have fixed paths, so it&#39;s hard to connect them to a container; if you&#39;re using Docker Desktop on any OS, there&#39;s a hidden Linux VM which will make host hardware completely inaccessible.","body":"In general, it&#39;s tricky to access host hardware devices from inside a container, and this might be better done with a host-native JVM.  On native Linux, USB devices don&#39;t necessarily have fixed paths, so it&#39;s hard to connect them to a container; if you&#39;re using Docker Desktop on any OS, there&#39;s a hidden Linux VM which will make host hardware completely inaccessible."},{"owner":{"account_id":21005634,"reputation":1,"user_id":15435515,"display_name":"hammerwing"},"score":0,"creation_date":1692980481,"post_id":76978887,"comment_id":135703762,"body_markdown":"What if I don&#39;t use Docker. What are the ways to accomplish this?","body":"What if I don&#39;t use Docker. What are the ways to accomplish this?"}],"answers":[{"comments":[{"owner":{"account_id":1540730,"reputation":5168,"user_id":1435475,"accept_rate":75,"display_name":"guidot"},"score":0,"creation_date":1693079225,"post_id":76978942,"comment_id":135713630,"body_markdown":"Full-blown smart cards with the ability to sign something are unlikely to be addressable as a mapped drive, as opposed to a SD (storage) card.","body":"Full-blown smart cards with the ability to sign something are unlikely to be addressable as a mapped drive, as opposed to a SD (storage) card."}],"tags":[],"owner":{"account_id":25574487,"reputation":11,"user_id":19354238,"display_name":"Behdin Talebi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692980449,"creation_date":1692980449,"answer_id":76978942,"question_id":76978887,"body_markdown":"you can add your smart card as vloume in your server and in your docker host \r\nafter that you can share this smart card to every one in your network via nfs share or even every one in public network \r\nthe result is every user can access this volume via nfs share ","title":"How can Java application running in docker, read from the smart card reader?","body":"<p>you can add your smart card as vloume in your server and in your docker host\nafter that you can share this smart card to every one in your network via nfs share or even every one in public network\nthe result is every user can access this volume via nfs share</p>\n"}],"owner":{"account_id":21005634,"reputation":1,"user_id":15435515,"display_name":"hammerwing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692980449,"creation_date":1692979923,"question_id":76978887,"body_markdown":"I have a Java application running via Docker. This application has an endpoint which I can hit from other services to sign PDF documents. To sign these documents, Java app must read data from a smart card. \r\n\r\nI don&#39;t know where to plug this smart card reader (it has USB cable) so that my docker container can read data from it. Also, there will be only one smart card which will have to do all the work and multiple services/clients will access this java service. So it&#39;s not possible to ask every user to plug the card reader into their computer and try to read the info on the client side and send it to the server.\r\n\r\nIs there any way to do this? Or is Docker not going to work and I should try IIS? \r\n\r\nI can run it locally, meaning when I ran this java application from my local environment, with the card reader plugged into the same machine, it worked fine. ","title":"How can Java application running in docker, read from the smart card reader?","body":"<p>I have a Java application running via Docker. This application has an endpoint which I can hit from other services to sign PDF documents. To sign these documents, Java app must read data from a smart card.</p>\n<p>I don't know where to plug this smart card reader (it has USB cable) so that my docker container can read data from it. Also, there will be only one smart card which will have to do all the work and multiple services/clients will access this java service. So it's not possible to ask every user to plug the card reader into their computer and try to read the info on the client side and send it to the server.</p>\n<p>Is there any way to do this? Or is Docker not going to work and I should try IIS?</p>\n<p>I can run it locally, meaning when I ran this java application from my local environment, with the card reader plugged into the same machine, it worked fine.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1582555625,"post_id":60378306,"comment_id":106807756,"body_markdown":"Why do you think this is an error? You wanted to see the implementation of said method and after clicking it it shows you said implementation...","body":"Why do you think this is an error? You wanted to see the implementation of said method and after clicking it it shows you said implementation..."},{"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"score":0,"creation_date":1582555853,"post_id":60378306,"comment_id":106807890,"body_markdown":"@OHGODSPIDERS: I don&#39;t think this is an error. I wanna get into `Collection.java` file instead of the `Collection.class` file.","body":"@OHGODSPIDERS: I don&#39;t think this is an error. I wanna get into <code>Collection.java</code> file instead of the <code>Collection.class</code> file."},{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":1,"creation_date":1582555939,"post_id":60378306,"comment_id":106807940,"body_markdown":"Intellij doesn&#39;t have sources of that class but it has compiled code. It tried to show you at least decompiled one. You have to download sources to be able to explore those.","body":"Intellij doesn&#39;t have sources of that class but it has compiled code. It tried to show you at least decompiled one. You have to download sources to be able to explore those."},{"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"score":0,"creation_date":1582556082,"post_id":60378306,"comment_id":106808025,"body_markdown":"@Amongalen: I already have JDK 18 available was configured on Intellij.","body":"@Amongalen: I already have JDK 18 available was configured on Intellij."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1582557759,"post_id":60378306,"comment_id":106808932,"body_markdown":"JDK 18? I assume you mean 1.8?","body":"JDK 18? I assume you mean 1.8?"},{"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"score":0,"creation_date":1582559892,"post_id":60378306,"comment_id":106810201,"body_markdown":"@MCEmperor: Yes. Exactly","body":"@MCEmperor: Yes. Exactly"}],"answers":[{"tags":[],"owner":{"account_id":2862565,"reputation":223,"user_id":2457521,"display_name":"Alejandro Venegas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582555834,"creation_date":1582555834,"answer_id":60378399,"question_id":60378306,"body_markdown":"Your ide allows you to explore classes from libraries, that is what you see, an external class from a lib. there is no error with that.","title":"Go to implementation Intellij return .class file","body":"<p>Your ide allows you to explore classes from libraries, that is what you see, an external class from a lib. there is no error with that.</p>\n"},{"comments":[{"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"score":0,"creation_date":1582610010,"post_id":60378463,"comment_id":106826490,"body_markdown":"I&#39;ll try, but it&#39;s was happen on my machine at home. And in another case, when I add a new library to my project (.jar), I was faced the same problem. What should I do? @DodgyCodeException","body":"I&#39;ll try, but it&#39;s was happen on my machine at home. And in another case, when I add a new library to my project (.jar), I was faced the same problem. What should I do? @DodgyCodeException"}],"tags":[],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582556024,"creation_date":1582556024,"answer_id":60378463,"question_id":60378306,"body_markdown":"Go to Project Structure then under Platform Settings, click on SDKs, and then click on &quot;1.8&quot; or &quot;11&quot; or &quot;13&quot; or whatever version of the JDK you&#39;re using. Then click on &quot;Sourcepath&quot;. Make sure the correct source directory/zip file is mentioned in there. It is possible you upgraded your JDK and didn&#39;t update the JDK source.","title":"Go to implementation Intellij return .class file","body":"<p>Go to Project Structure then under Platform Settings, click on SDKs, and then click on \"1.8\" or \"11\" or \"13\" or whatever version of the JDK you're using. Then click on \"Sourcepath\". Make sure the correct source directory/zip file is mentioned in there. It is possible you upgraded your JDK and didn't update the JDK source.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693032916,"post_id":76978939,"comment_id":135709012,"body_markdown":"No need to download the source since the JDK distribution includes the source - in file _src.zip_.","body":"No need to download the source since the JDK distribution includes the source - in file <i>src.zip</i>."}],"tags":[],"owner":{"account_id":29298746,"reputation":1,"user_id":22447496,"display_name":"Hiruni Dahanayake"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692980425,"creation_date":1692980425,"answer_id":76978939,"question_id":60378306,"body_markdown":"The stream() method is from the Collections class, which is from the Java Collections Framework. What you are looking at is the decompiled bytecode of the method, rather than the source code, which would be a .java file. To view the source code, download the source.","title":"Go to implementation Intellij return .class file","body":"<p>The stream() method is from the Collections class, which is from the Java Collections Framework. What you are looking at is the decompiled bytecode of the method, rather than the source code, which would be a .java file. To view the source code, download the source.</p>\n"}],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692980425,"creation_date":1582555462,"question_id":60378306,"body_markdown":"When I navigate to implementation of the stream() method, I get this weird look:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MFpmY.png\r\n\r\nWhy go to implementation let to compiled file. What&#39;s caused this error and how to solves it?.","title":"Go to implementation Intellij return .class file","body":"<p>When I navigate to implementation of the stream() method, I get this weird look:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MFpmY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MFpmY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why go to implementation let to compiled file. What's caused this error and how to solves it?.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1398983034,"post_id":23417609,"comment_id":35885779,"body_markdown":"Why not have three matchers and three loops?","body":"Why not have three matchers and three loops?"},{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":0,"creation_date":1398983045,"post_id":23417609,"comment_id":35885786,"body_markdown":"You can use separate patterns and problem is solved. :)","body":"You can use separate patterns and problem is solved. :)"},{"owner":{"account_id":3548593,"reputation":45,"user_id":2963950,"accept_rate":80,"display_name":"user2963950"},"score":0,"creation_date":1398983146,"post_id":23417609,"comment_id":35885833,"body_markdown":"Because, calculating words, semiPunctuation and endPunctuation only first task. Second task add founded item to sorted Collection.","body":"Because, calculating words, semiPunctuation and endPunctuation only first task. Second task add founded item to sorted Collection."}],"answers":[{"comments":[{"owner":{"account_id":3548593,"reputation":45,"user_id":2963950,"accept_rate":80,"display_name":"user2963950"},"score":0,"creation_date":1398983694,"post_id":23417682,"comment_id":35886046,"body_markdown":"In the beginning &quot;ArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();&quot; and in the loop something like this: &quot;res.add(m.group());&quot; And this ArrayList is sorted. That&#39;s why I can not use 3 separate loops.","body":"In the beginning &quot;ArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();&quot; and in the loop something like this: &quot;res.add(m.group());&quot; And this ArrayList is sorted. That&#39;s why I can not use 3 separate loops."}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398985554,"creation_date":1398983063,"answer_id":23417682,"question_id":23417609,"body_markdown":"You could use [named groups][1] to capture the expressions\r\n\r\n    Pattern pattern = Pattern.compile( &quot;(?&lt;words&gt;\\\\w+)|(?&lt;semi&gt;[,;:\\\\-\\&quot;&#39;])|(?&lt;end&gt;[!?.])&quot; );\r\n    Matcher m = pattern.matcher(input);\r\n    while (m.find()) {\r\n    \tif (m.group(&quot;words&quot;) != null) {\r\n    \t\twordCount++;\r\n    \t} \r\n      ...\r\n    }\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/named.html","title":"Matcher. How to get index of found group?","body":"<p>You could use <a href=\"http://www.regular-expressions.info/named.html\" rel=\"nofollow\">named groups</a> to capture the expressions</p>\n\n<pre><code>Pattern pattern = Pattern.compile( \"(?&lt;words&gt;\\\\w+)|(?&lt;semi&gt;[,;:\\\\-\\\"'])|(?&lt;end&gt;[!?.])\" );\nMatcher m = pattern.matcher(input);\nwhile (m.find()) {\n    if (m.group(\"words\") != null) {\n        wordCount++;\n    } \n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":3548593,"reputation":45,"user_id":2963950,"accept_rate":80,"display_name":"user2963950"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692980424,"creation_date":1398982795,"question_id":23417609,"body_markdown":"I have sentence and I want to calculate words, semiPunctuation and endPunctuation in it.\r\n\r\nCommand &quot;m.group()&quot; will show String result. But how to know which group is found?\r\nI can use method with &quot;group null&quot;, but it is sounds not good.\r\n\r\n    String input = &quot;Some text! Some example text.&quot;\r\n    int wordCount=0;\r\n    int semiPunctuation=0;\r\n    int endPunctuation=0;\r\n    \r\n    Pattern pattern = Pattern.compile( &quot;([\\\\w]+) | ([,;:\\\\-\\&quot;\\&#39;]) | ([!\\\\?\\\\.]+)&quot; );\r\n    Matcher m = pattern.matcher(input);\r\n    while (m.find()) {\r\n\r\n    //  need more correct method\r\n    if(m.group(1)!=null) wordCount++;\r\n    if(m.group(2)!=null) semiPunctuation++;\r\n    if(m.group(3)!=null) endPunctuation++;\r\n\r\n    }","title":"Matcher. How to get index of found group?","body":"<p>I have sentence and I want to calculate words, semiPunctuation and endPunctuation in it.</p>\n\n<p>Command \"m.group()\" will show String result. But how to know which group is found?\nI can use method with \"group null\", but it is sounds not good.</p>\n\n<pre><code>String input = \"Some text! Some example text.\"\nint wordCount=0;\nint semiPunctuation=0;\nint endPunctuation=0;\n\nPattern pattern = Pattern.compile( \"([\\\\w]+) | ([,;:\\\\-\\\"\\']) | ([!\\\\?\\\\.]+)\" );\nMatcher m = pattern.matcher(input);\nwhile (m.find()) {\n\n//  need more correct method\nif(m.group(1)!=null) wordCount++;\nif(m.group(2)!=null) semiPunctuation++;\nif(m.group(3)!=null) endPunctuation++;\n\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1966788,"reputation":1791,"user_id":1766828,"display_name":"Javier Diaz"},"score":1,"creation_date":1398854149,"post_id":23385407,"comment_id":35825417,"body_markdown":"Can you put a real example? I can only say that if you want to match exact words, use anchors (`^$`) or boundaries (`\\b`).","body":"Can you put a real example? I can only say that if you want to match exact words, use anchors (<code>^$</code>) or boundaries (<code>\\b</code>)."},{"owner":{"account_id":95916,"reputation":2192,"user_id":261002,"accept_rate":91,"display_name":"user261002"},"score":0,"creation_date":1398855109,"post_id":23385407,"comment_id":35825928,"body_markdown":"this exactly a part of string that I am getting","body":"this exactly a part of string that I am getting"}],"answers":[{"comments":[{"owner":{"account_id":95916,"reputation":2192,"user_id":261002,"accept_rate":91,"display_name":"user261002"},"score":0,"creation_date":1398854961,"post_id":23385877,"comment_id":35825846,"body_markdown":"I just try your suggestion, but it is still behaving the same as before","body":"I just try your suggestion, but it is still behaving the same as before"},{"owner":{"account_id":312289,"reputation":91007,"user_id":626273,"accept_rate":92,"display_name":"stema"},"score":0,"creation_date":1398855087,"post_id":23385877,"comment_id":35825911,"body_markdown":"Then you need to debug your code. Check at first what the pattern is, after you compiled it.","body":"Then you need to debug your code. Check at first what the pattern is, after you compiled it."},{"owner":{"account_id":1081611,"reputation":41298,"user_id":1078583,"accept_rate":69,"display_name":"zx81"},"score":0,"creation_date":1400579345,"post_id":23385877,"comment_id":36525870,"body_markdown":"Upvoting short answer to long question. :)","body":"Upvoting short answer to long question. :)"}],"tags":[],"owner":{"account_id":312289,"reputation":91007,"user_id":626273,"accept_rate":92,"display_name":"stema"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1398854273,"creation_date":1398854273,"answer_id":23385877,"question_id":23385407,"body_markdown":"What is the `\\\\W` in your pattern good for? if it just to ensure that the word ends, then use [word boundaries][1] instead:\r\n\r\n    Pattern findTerm = Pattern.compile(&quot;(\\\\b&quot; + item.getTerm() + &quot;\\\\b)&quot;,Pattern.DOTALL);\r\n\r\nThose word boundaries ensure, that you are really matching the complete word and don&#39;t get partial matches.\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/wordboundaries.html","title":"matcher to avoid words ending with s,ing, or words in the middle","body":"<p>What is the <code>\\\\W</code> in your pattern good for? if it just to ensure that the word ends, then use <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow\">word boundaries</a> instead:</p>\n\n<pre><code>Pattern findTerm = Pattern.compile(\"(\\\\b\" + item.getTerm() + \"\\\\b)\",Pattern.DOTALL);\n</code></pre>\n\n<p>Those word boundaries ensure, that you are really matching the complete word and don't get partial matches.</p>\n"}],"owner":{"account_id":95916,"reputation":2192,"user_id":261002,"accept_rate":91,"display_name":"user261002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23385877,"answer_count":1,"score":0,"last_activity_date":1692980419,"creation_date":1398852899,"question_id":23385407,"body_markdown":"I am trying to match a text against a glossary list. the problem is that my pattern shows different behavour for one text.\r\nfor example here is my text :\r\n\r\n    \\nfor Sprints \\nSprints \\nSprinting \\nAccount Accounts Accounting\\nSprintsSprints \r\n\r\nwith the following pattern matcher, I try to only find the exact word matches with glossary,and avoid finding the words ends with s,ing,... it only return me the right answer for &quot;Account&quot; word, but if I try Sprint, then it returns me Sprints, Sprinting, etc which is not right: \r\n\r\n    Pattern findTerm = Pattern.compile(&quot;(&quot; + item.getTerm() + &quot;)(\\\\W)&quot;,Pattern.DOTALL);\r\n\r\nand here is my code :\r\n\r\n    \tprivate static String findGlossaryTerms(String response, List&lt;Glossary&gt; glossary) {\r\n    \r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tfor (int offset = 0; offset &lt; response.length(); offset++) {\r\n    \t\t\tboolean match = false;\r\n    \t\t\tif (response.startsWith(&quot;&lt;&quot;, offset)) {\r\n    \t\t\t\tString newString = response.substring(offset);\r\n    \t\t\t\tPattern findHtmlTag = Pattern.compile(&quot;\\\\&lt;.*?\\\\&gt;&quot;);\r\n    \t\t\t\tMatcher matcher = findHtmlTag.matcher(newString);\r\n    \t\t\t\tif (matcher.find()) {\r\n    \t\t\t\t\tString htmlTag = matcher.group(0);\r\n    \t\t\t\t\tbuilder.append(htmlTag);\r\n    \t\t\t\t\toffset += htmlTag.length() - 1;\r\n    \t\t\t\t\tmatch = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\t\r\n    \t\t\tfor (Glossary item : glossary) {\r\n    \t\t\t\tif (response.startsWith(item.getTerm(), offset)) {\r\n    \t\t\t\t\tString textFromOffset = response.substring(offset - 1);\r\n    \t\t\t\t\tPattern findTerm = Pattern.compile(&quot;(&quot; + item.getTerm() + &quot;)(\\\\W)&quot;,Pattern.DOTALL);\r\n    \t\t\t\t\tMatcher matcher = findTerm.matcher(textFromOffset);\r\n    \t\t\t\t\tif (matcher.find()) {\r\n    \t\t\t\t\t\tbuilder.append(&quot;&lt;span class=\\&quot;term\\&quot;&gt;&quot;).append(item.getTerm()).append(&quot;&lt;/span&gt;&quot;);\r\n    \t\t\t\t\t\toffset += item.getTerm().length() - 1;\r\n    \t\t\t\t\t\tmatch = true;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\tif (!match)\r\n    \t\t\t\tbuilder.append(response.charAt(offset));\r\n    \r\n    \t\t}\r\n    \t\treturn builder.toString();\r\n    \t}\r\n\r\n\r\n\r\n","title":"matcher to avoid words ending with s,ing, or words in the middle","body":"<p>I am trying to match a text against a glossary list. the problem is that my pattern shows different behavour for one text.\nfor example here is my text :</p>\n\n<pre><code>\\nfor Sprints \\nSprints \\nSprinting \\nAccount Accounts Accounting\\nSprintsSprints \n</code></pre>\n\n<p>with the following pattern matcher, I try to only find the exact word matches with glossary,and avoid finding the words ends with s,ing,... it only return me the right answer for \"Account\" word, but if I try Sprint, then it returns me Sprints, Sprinting, etc which is not right: </p>\n\n<pre><code>Pattern findTerm = Pattern.compile(\"(\" + item.getTerm() + \")(\\\\W)\",Pattern.DOTALL);\n</code></pre>\n\n<p>and here is my code :</p>\n\n<pre><code>    private static String findGlossaryTerms(String response, List&lt;Glossary&gt; glossary) {\n\n        StringBuilder builder = new StringBuilder();\n        for (int offset = 0; offset &lt; response.length(); offset++) {\n            boolean match = false;\n            if (response.startsWith(\"&lt;\", offset)) {\n                String newString = response.substring(offset);\n                Pattern findHtmlTag = Pattern.compile(\"\\\\&lt;.*?\\\\&gt;\");\n                Matcher matcher = findHtmlTag.matcher(newString);\n                if (matcher.find()) {\n                    String htmlTag = matcher.group(0);\n                    builder.append(htmlTag);\n                    offset += htmlTag.length() - 1;\n                    match = true;\n                }\n            }\n\n            for (Glossary item : glossary) {\n                if (response.startsWith(item.getTerm(), offset)) {\n                    String textFromOffset = response.substring(offset - 1);\n                    Pattern findTerm = Pattern.compile(\"(\" + item.getTerm() + \")(\\\\W)\",Pattern.DOTALL);\n                    Matcher matcher = findTerm.matcher(textFromOffset);\n                    if (matcher.find()) {\n                        builder.append(\"&lt;span class=\\\"term\\\"&gt;\").append(item.getTerm()).append(\"&lt;/span&gt;\");\n                        offset += item.getTerm().length() - 1;\n                        match = true;\n                        break;\n                    }\n                }\n            if (!match)\n                builder.append(response.charAt(offset));\n\n        }\n        return builder.toString();\n    }\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1398376978,"post_id":23280562,"comment_id":35633395,"body_markdown":"`^` means start of a String, but you have characters before the start of the string which shouldn&#39;t work as it doesn&#39;t make sense.","body":"<code>^</code> means start of a String, but you have characters before the start of the string which shouldn&#39;t work as it doesn&#39;t make sense."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1398377533,"post_id":23280562,"comment_id":35633640,"body_markdown":"What should be result for Strings with only one character?","body":"What should be result for Strings with only one character?"}],"answers":[{"comments":[{"owner":{"account_id":1813358,"reputation":9087,"user_id":1648987,"accept_rate":25,"display_name":"Karol S"},"score":0,"creation_date":1398376856,"post_id":23280597,"comment_id":35633347,"body_markdown":"@Christoph: can you provide an example? I&#39;ll edit my answer to provide examples on which I tested it.","body":"@Christoph: can you provide an example? I&#39;ll edit my answer to provide examples on which I tested it."},{"owner":{"account_id":3868683,"reputation":44952,"user_id":3204551,"accept_rate":75,"display_name":"Deduplicator"},"score":0,"creation_date":1398376906,"post_id":23280597,"comment_id":35633367,"body_markdown":"trouble is you took non-matching group","body":"trouble is you took non-matching group"},{"owner":{"account_id":1813358,"reputation":9087,"user_id":1648987,"accept_rate":25,"display_name":"Karol S"},"score":0,"creation_date":1398376993,"post_id":23280597,"comment_id":35633401,"body_markdown":"@Deduplicator Ah, true, I blindly changed it after testing with a matching one. Fixed.","body":"@Deduplicator Ah, true, I blindly changed it after testing with a matching one. Fixed."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1398377834,"post_id":23280597,"comment_id":35633763,"body_markdown":"+1 but it would be nice to describe idea on which this regex works (the one about [possessive quantifier](http://www.regular-expressions.info/possessive.html) `*+`). BTW since we are going to use `matches` method which by default checks if entire string can be matched with regex you don&#39;t need `^` or `$` anchors.","body":"+1 but it would be nice to describe idea on which this regex works (the one about <a href=\"http://www.regular-expressions.info/possessive.html\" rel=\"nofollow noreferrer\">possessive quantifier</a> <code>*+</code>). BTW since we are going to use <code>matches</code> method which by default checks if entire string can be matched with regex you don&#39;t need <code>^</code> or <code>$</code> anchors."},{"owner":{"account_id":4376977,"reputation":3,"user_id":3569750,"display_name":"Christoph"},"score":0,"creation_date":1398377994,"post_id":23280597,"comment_id":35633815,"body_markdown":"Actually I would also really appreciate an explanation of how this regex works.","body":"Actually I would also really appreciate an explanation of how this regex works."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1398378400,"post_id":23280597,"comment_id":35633976,"body_markdown":"@Christoph to put it shortly, quantifiers like `*`, `+`, `{min, max}` are greedy so they will try to match maximal possible substring but in case they will match to long substring they will allow backtracking so lets say you have regex `b*b` and data `bbbbb`. At first `b*` will match all 5 `b`s but since there is another `b` in regex which needs to be matched `b*` will backtrack to match only 4 firs `b`s and let last `b` be matched by last `b` in regex.","body":"@Christoph to put it shortly, quantifiers like <code>*</code>, <code>+</code>, <code>{min, max}</code> are greedy so they will try to match maximal possible substring but in case they will match to long substring they will allow backtracking so lets say you have regex <code>b*b</code> and data <code>bbbbb</code>. At first <code>b*</code> will match all 5 <code>b</code>s but since there is another <code>b</code> in regex which needs to be matched <code>b*</code> will backtrack to match only 4 firs <code>b</code>s and let last <code>b</code> be matched by last <code>b</code> in regex."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1398378606,"post_id":23280597,"comment_id":35634041,"body_markdown":"@Christoph With possessive quantifier (the one with additional `+` like `*+`) backtracking is impossible so regex `b*+b` will never match `bbbbb` because all `b`s will be consumed (possessed) by `b*` so last `b` in regex will never find its match (as mentioned backtracking is impossible) making regex unable to find its match. This idea was used here, where instead of `b*` we used first letter in String. `\\\\1*+` will consume all same characters as first character in string letting `.` match only something which is different that first character (otherwise it would be consumed by `\\\\1*+`","body":"@Christoph With possessive quantifier (the one with additional <code>+</code> like <code>*+</code>) backtracking is impossible so regex <code>b*+b</code> will never match <code>bbbbb</code> because all <code>b</code>s will be consumed (possessed) by <code>b*</code> so last <code>b</code> in regex will never find its match (as mentioned backtracking is impossible) making regex unable to find its match. This idea was used here, where instead of <code>b*</code> we used first letter in String. <code>\\\\1*+</code> will consume all same characters as first character in string letting <code>.</code> match only something which is different that first character (otherwise it would be consumed by <code>\\\\1*+</code>"},{"owner":{"account_id":4376977,"reputation":3,"user_id":3569750,"display_name":"Christoph"},"score":0,"creation_date":1398380719,"post_id":23280597,"comment_id":35634814,"body_markdown":"Wow thanks, great explanation! I really got the Point of the quantifiers. Now i also understand the regex above. Thank you a lot Pshemo!","body":"Wow thanks, great explanation! I really got the Point of the quantifiers. Now i also understand the regex above. Thank you a lot Pshemo!"}],"tags":[],"owner":{"account_id":1813358,"reputation":9087,"user_id":1648987,"accept_rate":25,"display_name":"Karol S"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1398376943,"creation_date":1398376569,"answer_id":23280597,"question_id":23280562,"body_markdown":"    Pattern p = Pattern.compile(&quot;^(.)\\\\1*+.$&quot;);\r\n\r\nMatch:\r\n\r\n    AF\r\n    AAAAAF\r\n\r\nDon&#39;t match:\r\n\r\n    AAAA\r\n    AFFFF","title":"Regex doesnt work, how should it be formulated?","body":"<pre><code>Pattern p = Pattern.compile(\"^(.)\\\\1*+.$\");\n</code></pre>\n\n<p>Match:</p>\n\n<pre><code>AF\nAAAAAF\n</code></pre>\n\n<p>Don't match:</p>\n\n<pre><code>AAAA\nAFFFF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3868683,"reputation":44952,"user_id":3204551,"accept_rate":75,"display_name":"Deduplicator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398376962,"creation_date":1398376599,"answer_id":23280611,"question_id":23280562,"body_markdown":"Pattern: `&quot;^(.)\\\\1*+.$&quot;`\r\n\r\nSee [java reference](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#cg)","title":"Regex doesnt work, how should it be formulated?","body":"<p>Pattern: <code>\"^(.)\\\\1*+.$\"</code></p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#cg\" rel=\"nofollow\">java reference</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398377062,"creation_date":1398376739,"answer_id":23280649,"question_id":23280562,"body_markdown":"The following does not work I just found out:\r\n\r\n    if (dance.matches(&quot;(.)\\\\1*(!\\\\1)&quot;))\r\n\r\n\r\nwhere `\\\\1` is the first group (the first char).\r\n\r\nYour approach:\r\n\r\n    dance.charAt(0) + &quot;{&quot; + (dance.length()-1) + &quot;}[^&quot; + dance.charAt(0) + &quot;]&quot;","title":"Regex doesnt work, how should it be formulated?","body":"<p>The following does not work I just found out:</p>\n\n<pre><code>if (dance.matches(\"(.)\\\\1*(!\\\\1)\"))\n</code></pre>\n\n<p>where <code>\\\\1</code> is the first group (the first char).</p>\n\n<p>Your approach:</p>\n\n<pre><code>dance.charAt(0) + \"{\" + (dance.length()-1) + \"}[^\" + dance.charAt(0) + \"]\"\n</code></pre>\n"}],"owner":{"account_id":4376977,"reputation":3,"user_id":3569750,"display_name":"Christoph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23280597,"answer_count":3,"score":0,"last_activity_date":1692980414,"creation_date":1398376340,"question_id":23280562,"body_markdown":"I Want to know if a String consists only of the same character except at the last index, it can be any other possible character except the character that&#39;s leading. \r\nFor Example:  &quot;FFFFFFFl&quot; matches the pattern, but &quot;FlFFFF&quot; not.\r\n\r\nIf the String is only one Character, it should output false.\r\n\r\nI have this code, but actually it&#39;s not working:\r\n\r\n    String dance = &quot;FFFFFl&quot;;\r\n\tPattern p = Pattern.compile(dance.charAt(0) + &quot;{&quot; + (dance.length()-1) + &quot;}\\\\w^&quot; + dance.charAt(0));\r\n\tMatcher m = p.matcher(dance);\r\n    System.out.println(m.matches());\r\n\r\nThis outputs &quot;false&quot; even though it should be true.\r\nI would really appreciate your help!","title":"Regex doesnt work, how should it be formulated?","body":"<p>I Want to know if a String consists only of the same character except at the last index, it can be any other possible character except the character that's leading. \nFor Example:  \"FFFFFFFl\" matches the pattern, but \"FlFFFF\" not.</p>\n\n<p>If the String is only one Character, it should output false.</p>\n\n<p>I have this code, but actually it's not working:</p>\n\n<pre><code>String dance = \"FFFFFl\";\nPattern p = Pattern.compile(dance.charAt(0) + \"{\" + (dance.length()-1) + \"}\\\\w^\" + dance.charAt(0));\nMatcher m = p.matcher(dance);\nSystem.out.println(m.matches());\n</code></pre>\n\n<p>This outputs \"false\" even though it should be true.\nI would really appreciate your help!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1397333018,"post_id":23035427,"comment_id":35192743,"body_markdown":"Also, you need to use two backslashes \\\\ to escape characters within a Java regex.  You should really start by reading [the documentation for Pattern](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html)...","body":"Also, you need to use two backslashes \\\\ to escape characters within a Java regex.  You should really start by reading <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">the documentation for Pattern</a>..."},{"owner":{"account_id":4318553,"reputation":11,"user_id":3527603,"display_name":"Malcolm"},"score":0,"creation_date":1397333193,"post_id":23035427,"comment_id":35192817,"body_markdown":"Thanks jahroy for your feedback. In truth my posting has .* in all three spots but somehow when my question is posted the first two * do not show.","body":"Thanks jahroy for your feedback. In truth my posting has .* in all three spots but somehow when my question is posted the first two * do not show."},{"owner":{"account_id":4318553,"reputation":11,"user_id":3527603,"display_name":"Malcolm"},"score":0,"creation_date":1397333217,"post_id":23035427,"comment_id":35192827,"body_markdown":"My pattern is &quot;.*&quot; title=&quot;(.*)&quot; type=&quot;Container&quot; url=&quot;(.*)&quot;","body":"My pattern is &quot;.*&quot; title=&quot;(.*)&quot; type=&quot;Container&quot; url=&quot;(.*)&quot;"},{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1397333224,"post_id":23035427,"comment_id":35192831,"body_markdown":"Ok.  My apologies for that... It&#39;s just the syntax engine at StackOverflow I guess.  But really, there are lots of tutorials out there.","body":"Ok.  My apologies for that... It&#39;s just the syntax engine at StackOverflow I guess.  But really, there are lots of tutorials out there."},{"owner":{"account_id":4318553,"reputation":11,"user_id":3527603,"display_name":"Malcolm"},"score":1,"creation_date":1397333299,"post_id":23035427,"comment_id":35192857,"body_markdown":"Fair enough comment, but I have used regex&#39;s quite a bit in PERL many years back so do have a basic understanding of them. What is throwing me is that the various online regex testers seem ot agree that my regex is OK against the input text!","body":"Fair enough comment, but I have used regex&#39;s quite a bit in PERL many years back so do have a basic understanding of them. What is throwing me is that the various online regex testers seem ot agree that my regex is OK against the input text!"},{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1397347787,"post_id":23035427,"comment_id":35196928,"body_markdown":"It&#39;s important to know that regex syntax varies in different contexts.  The biggest difference about Java vs other places (perl, JavaScript) is that you often have to use a second backslash to escape backslashes.  This is because you&#39;re first escaping a special character within the string, then need to escape it again for the regex compiler.  My apologies for clearly being too harsh in my initial comments.","body":"It&#39;s important to know that regex syntax varies in different contexts.  The biggest difference about Java vs other places (perl, JavaScript) is that you often have to use a second backslash to escape backslashes.  This is because you&#39;re first escaping a special character within the string, then need to escape it again for the regex compiler.  My apologies for clearly being too harsh in my initial comments."}],"answers":[{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1397341812,"post_id":23035505,"comment_id":35195476,"body_markdown":"So you&#39;re saying the problem is that he didn&#39;t escape the quote characters for the regex parser?  Not true; `&quot;` has no special meaning in a regex, so you only need the one backslash to get it past the *Java* compiler.  Adding the backslash didn&#39;t break anything, but it didn&#39;t fix the problem.  Your regex works because (as it turns out) the original regex was okay; it was the input that was broken.","body":"So you&#39;re saying the problem is that he didn&#39;t escape the quote characters for the regex parser?  Not true; <code>&quot;</code> has no special meaning in a regex, so you only need the one backslash to get it past the <i>Java</i> compiler.  Adding the backslash didn&#39;t break anything, but it didn&#39;t fix the problem.  Your regex works because (as it turns out) the original regex was okay; it was the input that was broken."}],"tags":[],"owner":{"account_id":3377640,"reputation":1844,"user_id":2835475,"display_name":"RKC"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1397333089,"creation_date":1397333089,"answer_id":23035505,"question_id":23035427,"body_markdown":"Try this,\r\n\r\n        String str=&quot;\\&quot;Big apple\\&quot; title=\\&quot;Little Apple\\&quot; type=\\&quot;Container\\&quot; url=\\&quot;http://malcolm.com/testing\\&quot;&quot;;\r\n        \r\n        Pattern p=Pattern.compile(&quot;.* title=\\\\\\&quot;.*\\\\\\&quot; type=\\\\\\&quot;Container\\\\\\&quot; url=\\\\\\&quot;.*\\\\\\&quot;&quot;);\r\n        Matcher m=p.matcher(str);","title":"Simple Java regular expression matching fails","body":"<p>Try this,</p>\n\n<pre><code>    String str=\"\\\"Big apple\\\" title=\\\"Little Apple\\\" type=\\\"Container\\\" url=\\\"http://malcolm.com/testing\\\"\";\n\n    Pattern p=Pattern.compile(\".* title=\\\\\\\".*\\\\\\\" type=\\\\\\\"Container\\\\\\\" url=\\\\\\\".*\\\\\\\"\");\n    Matcher m=p.matcher(str);\n</code></pre>\n"}],"owner":{"account_id":4318553,"reputation":11,"user_id":3527603,"display_name":"Malcolm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692980407,"creation_date":1397332690,"question_id":23035427,"body_markdown":"Before y&#39;all jump on me for posting something similar to previous questions asked, yes, there seem to be a number of regex related questions but nothing which seems to help me, or at least that I can see.\r\n\r\nI am trying to parse strings in JAVA using `PATTERN` and `MATCHER` and am really having no joy. My regular expression seems to match my input string when I use a few of the online regular expression testing websites but Java simply does not match my expression.\r\n\r\nMy input string is: \r\n\r\n`&quot;Big apple&quot; title=&quot;Little Apple&quot; type=&quot;Container&quot; url=&quot;http://malcolm.com/testing&quot;`\r\n\r\nThe regular expression I am using to match is `&quot;.*&quot; title=&quot;(.*)&quot; type=&quot;Container&quot; url=&quot;(.*)&quot;`\r\n\r\nEssentially I want to pull out the text within the second and the fourth set of quotes. There will always be 4 sets of quotes with text within and around.\r\n\r\nI am coding as follows:\r\n\r\nVariable `XMLSubstring` contains the string above (including the quotes) and is as stated, even when I print it out.\r\n\r\n    Pattern\tp = Pattern.compile(&quot;.* title=\\&quot;(.*)\\&quot; type=\\&quot;Container\\&quot; url=\\&quot;(.*)\\&quot;&quot;);\r\n\r\n    m = p.matcher(XMLSubstring);\r\n\r\nIt doesn&#39;t appear to be rocket science I&#39;m attempting but I&#39;m pulling my hair out trying to debug the bloody thing.\r\n\r\nIs there something wrong with my regex pattern?\r\nIs there something wrong with the code I am using?\r\nAm I simply a moron and should stop coding with immediate effect?\r\n\r\nEDIT &amp; UPDATE: I have found the problem. My string had a space at the end of it which was breaking the parser! How silly, and I think based on that, I need to accept the third suggestion of mine and give up programming. Thanks all for your assistance.","title":"Simple Java regular expression matching fails","body":"<p>Before y'all jump on me for posting something similar to previous questions asked, yes, there seem to be a number of regex related questions but nothing which seems to help me, or at least that I can see.</p>\n\n<p>I am trying to parse strings in JAVA using <code>PATTERN</code> and <code>MATCHER</code> and am really having no joy. My regular expression seems to match my input string when I use a few of the online regular expression testing websites but Java simply does not match my expression.</p>\n\n<p>My input string is: </p>\n\n<p><code>\"Big apple\" title=\"Little Apple\" type=\"Container\" url=\"http://malcolm.com/testing\"</code></p>\n\n<p>The regular expression I am using to match is <code>\".*\" title=\"(.*)\" type=\"Container\" url=\"(.*)\"</code></p>\n\n<p>Essentially I want to pull out the text within the second and the fourth set of quotes. There will always be 4 sets of quotes with text within and around.</p>\n\n<p>I am coding as follows:</p>\n\n<p>Variable <code>XMLSubstring</code> contains the string above (including the quotes) and is as stated, even when I print it out.</p>\n\n<pre><code>Pattern p = Pattern.compile(\".* title=\\\"(.*)\\\" type=\\\"Container\\\" url=\\\"(.*)\\\"\");\n\nm = p.matcher(XMLSubstring);\n</code></pre>\n\n<p>It doesn't appear to be rocket science I'm attempting but I'm pulling my hair out trying to debug the bloody thing.</p>\n\n<p>Is there something wrong with my regex pattern?\nIs there something wrong with the code I am using?\nAm I simply a moron and should stop coding with immediate effect?</p>\n\n<p>EDIT &amp; UPDATE: I have found the problem. My string had a space at the end of it which was breaking the parser! How silly, and I think based on that, I need to accept the third suggestion of mine and give up programming. Thanks all for your assistance.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3392345,"reputation":10946,"user_id":2846923,"accept_rate":100,"display_name":"The Guy with The Hat"},"score":5,"creation_date":1397233839,"post_id":23017957,"comment_id":35160958,"body_markdown":"[Obligatory link](http://stackoverflow.com/a/1732454/2846923)","body":"<a href=\"http://stackoverflow.com/a/1732454/2846923\">Obligatory link</a>"},{"owner":{"account_id":2457354,"reputation":2438,"user_id":2142219,"display_name":"Mdev"},"score":0,"creation_date":1397234076,"post_id":23017957,"comment_id":35161087,"body_markdown":"You have to implement a grammar of some sort to detect matching characters in a string. Regular expressions are called regular for a reason, it means they can only parse languages that can be described by finite state machines (automata) and matching characters would require infinite states.","body":"You have to implement a grammar of some sort to detect matching characters in a string. Regular expressions are called regular for a reason, it means they can only parse languages that can be described by finite state machines (automata) and matching characters would require infinite states."},{"owner":{"account_id":4314101,"reputation":11,"user_id":3524469,"display_name":"user3524469"},"score":0,"creation_date":1397234149,"post_id":23017957,"comment_id":35161117,"body_markdown":"what do you mean? It&#39;s a pattern that I&#39;m compiling. Pattern.compile()","body":"what do you mean? It&#39;s a pattern that I&#39;m compiling. Pattern.compile()"},{"owner":{"account_id":2457354,"reputation":2438,"user_id":2142219,"display_name":"Mdev"},"score":0,"creation_date":1397234181,"post_id":23017957,"comment_id":35161134,"body_markdown":"Oh, nevermind. If you know the amount of brackets you want then it&#39;s possible.","body":"Oh, nevermind. If you know the amount of brackets you want then it&#39;s possible."},{"owner":{"account_id":4314101,"reputation":11,"user_id":3524469,"display_name":"user3524469"},"score":0,"creation_date":1397234263,"post_id":23017957,"comment_id":35161187,"body_markdown":"yeah, It should start with &lt;.*&gt;&lt;apple videoId=","body":"yeah, It should start with &lt;.*&gt;&lt;apple videoId="},{"owner":{"account_id":360939,"reputation":20226,"user_id":703229,"accept_rate":79,"display_name":"Sam"},"score":1,"creation_date":1397234268,"post_id":23017957,"comment_id":35161189,"body_markdown":"It seems to work for me, but it can be cleaner: [`^&lt;[^&gt;]+&gt;&lt;apple videoID=`](http://regex101.com/r/gB7tU2)","body":"It seems to work for me, but it can be cleaner: <a href=\"http://regex101.com/r/gB7tU2\" rel=\"nofollow noreferrer\"><code>^&lt;[^&gt;]+&gt;&lt;apple videoID=</code></a>"},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":1,"creation_date":1397234816,"post_id":23017957,"comment_id":35161515,"body_markdown":"`[A-za-z]` This range seems to be wrong. It should be `[A-Za-z]`","body":"<code>[A-za-z]</code> This range seems to be wrong. It should be <code>[A-Za-z]</code>"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1397245699,"post_id":23017957,"comment_id":35167646,"body_markdown":"you need to escape `[` in `[apple videoID=`, as such : `\\[apple videoID=`","body":"you need to escape <code>[</code> in <code>[apple videoID=</code>, as such : <code>\\[apple videoID=</code>"}],"answers":[{"comments":[{"owner":{"account_id":4314101,"reputation":11,"user_id":3524469,"display_name":"user3524469"},"score":0,"creation_date":1397235847,"post_id":23018166,"comment_id":35162085,"body_markdown":"I think it should be &lt;.*&gt;&lt;apple videoID=   as tag can contain anything, not just chars","body":"I think it should be &lt;.*&gt;&lt;apple videoID=   as tag can contain anything, not just chars"},{"owner":{"account_id":4314101,"reputation":11,"user_id":3524469,"display_name":"user3524469"},"score":0,"creation_date":1397237397,"post_id":23018166,"comment_id":35162963,"body_markdown":"@Sam I&#39;ve updated the post. Please check. That&#39;s not working for me. It says unclosed characeter class","body":"@Sam I&#39;ve updated the post. Please check. That&#39;s not working for me. It says unclosed characeter class"}],"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397243862,"creation_date":1397234530,"answer_id":23018166,"question_id":23017957,"body_markdown":"simple as this:\r\n\r\n    &lt;[.]+&gt;&lt;apple videoID=[.]*\r\n\r\n","title":"Regex in java to match a string begining with html followed by something","body":"<p>simple as this:</p>\n\n<pre><code>&lt;[.]+&gt;&lt;apple videoID=[.]*\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4314101,"reputation":11,"user_id":3524469,"display_name":"user3524469"},"score":0,"creation_date":1397235750,"post_id":23018311,"comment_id":35162022,"body_markdown":"Oh I guess you got me wrong. I don&#39;t want to consider any html between the apple tag. I want to match the string which begins with 1 html tag. It could be span or p etc .. . 1 html tag followed by &quot;&lt;apple videoID=&quot; thats what I want","body":"Oh I guess you got me wrong. I don&#39;t want to consider any html between the apple tag. I want to match the string which begins with 1 html tag. It could be span or p etc .. . 1 html tag followed by &quot;&lt;apple videoID=&quot; thats what I want"},{"owner":{"account_id":360939,"reputation":20226,"user_id":703229,"accept_rate":79,"display_name":"Sam"},"score":0,"creation_date":1397235762,"post_id":23018311,"comment_id":35162034,"body_markdown":"All the second asterisk does (`&gt;*`) is match 0+ `&gt;`s.  [As you can see](http://regex101.com/r/rH9kH7), that will cause unintended consequences.","body":"All the second asterisk does (<code>&gt;*</code>) is match 0+ <code>&gt;</code>s.  <a href=\"http://regex101.com/r/rH9kH7\" rel=\"nofollow noreferrer\">As you can see</a>, that will cause unintended consequences."},{"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"score":1,"creation_date":1397236767,"post_id":23018311,"comment_id":35162622,"body_markdown":"Changed the solution to fit the requirement. Removed asterisk. Case sensitive is added.  @Sam","body":"Changed the solution to fit the requirement. Removed asterisk. Case sensitive is added.  @Sam"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1397245741,"post_id":23018311,"comment_id":35167663,"body_markdown":"what&#39;s the point of `[a-zA-Z]` if you are using `CASE_INSENSITIVE` ?","body":"what&#39;s the point of <code>[a-zA-Z]</code> if you are using <code>CASE_INSENSITIVE</code> ?"},{"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"score":0,"creation_date":1397245959,"post_id":23018311,"comment_id":35167781,"body_markdown":"You are right. It even works with [a-z] . Just to play safe. @njzk2","body":"You are right. It even works with [a-z] . Just to play safe. @njzk2"}],"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397303927,"creation_date":1397235070,"answer_id":23018311,"question_id":23017957,"body_markdown":"Here is the solution\r\n    \r\n    \r\n`Pattern.CASE_INSENSITIVE` helps  to fetch the pattern either in upper case or lower case.\r\n    \r\nTested and Executed.\r\n        \r\n        package sireesh.yarlagadda;\r\n         \r\n        import java.util.regex.Matcher;\r\n        import java.util.regex.Pattern;\r\n         \r\n        public class Pattern {\r\n         \r\n            public static void main(String[] args) {\r\n            \tString text=&quot;&lt;span&gt;&lt;apple videoID=&quot;;\r\n        \r\n            \tString patternString = &quot;&lt;[a-zA-Z]*&gt;\\\\&lt;apple videoID=&quot;;\r\n        \r\n            \tPattern pattern = Pattern.compile(patternString, Pattern.CASE_INSENSITIVE);\r\n            \tMatcher matcher = pattern.matcher(text);\r\n        \r\n            \tSystem.out.println(&quot;lookingAt = &quot; + matcher.lookingAt());\r\n            \tSystem.out.println(&quot;matches   = &quot; + matcher.matches());\r\n            }\r\n         \r\n        }","title":"Regex in java to match a string begining with html followed by something","body":"<p>Here is the solution</p>\n\n<p><code>Pattern.CASE_INSENSITIVE</code> helps  to fetch the pattern either in upper case or lower case.</p>\n\n<p>Tested and Executed.</p>\n\n<pre><code>    package sireesh.yarlagadda;\n\n    import java.util.regex.Matcher;\n    import java.util.regex.Pattern;\n\n    public class Pattern {\n\n        public static void main(String[] args) {\n            String text=\"&lt;span&gt;&lt;apple videoID=\";\n\n            String patternString = \"&lt;[a-zA-Z]*&gt;\\\\&lt;apple videoID=\";\n\n            Pattern pattern = Pattern.compile(patternString, Pattern.CASE_INSENSITIVE);\n            Matcher matcher = pattern.matcher(text);\n\n            System.out.println(\"lookingAt = \" + matcher.lookingAt());\n            System.out.println(\"matches   = \" + matcher.matches());\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4262166,"reputation":3127,"user_id":3486249,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397239856,"creation_date":1397239856,"answer_id":23019751,"question_id":23017957,"body_markdown":"You have a typo in the following line.\r\n\r\n    static String pattern = &quot;^&lt;[^&gt;]+&gt;[apple videoID=&quot;;\r\n\r\nThis string is not a valid regular expression because you have an unclosed `[` right before the word `apple`, hence the &quot;Unclosed character class&quot; `PatternSyntaxException`.  You either meant to type\r\n\r\n    static String pattern = &quot;^&lt;[^&gt;]+&gt;&lt;apple videoID=&quot;;\r\n\r\nassuming that `apple` is an html tag, or\r\n\r\n    static String pattern = &quot;^&lt;[^&gt;]+&gt;\\\\[apple videoID=&quot;;\r\n\r\nif you really did want the `[` in front of apple.  This is because `[` is a special character in regular expressions and must be escaped with a `\\` which is a special character in Java strings and must be escaped with a `\\`.  Therefore `\\\\[`.","title":"Regex in java to match a string begining with html followed by something","body":"<p>You have a typo in the following line.</p>\n\n<pre><code>static String pattern = \"^&lt;[^&gt;]+&gt;[apple videoID=\";\n</code></pre>\n\n<p>This string is not a valid regular expression because you have an unclosed <code>[</code> right before the word <code>apple</code>, hence the \"Unclosed character class\" <code>PatternSyntaxException</code>.  You either meant to type</p>\n\n<pre><code>static String pattern = \"^&lt;[^&gt;]+&gt;&lt;apple videoID=\";\n</code></pre>\n\n<p>assuming that <code>apple</code> is an html tag, or</p>\n\n<pre><code>static String pattern = \"^&lt;[^&gt;]+&gt;\\\\[apple videoID=\";\n</code></pre>\n\n<p>if you really did want the <code>[</code> in front of apple.  This is because <code>[</code> is a special character in regular expressions and must be escaped with a <code>\\</code> which is a special character in Java strings and must be escaped with a <code>\\</code>.  Therefore <code>\\\\[</code>.</p>\n"},{"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1397246134,"post_id":23021341,"comment_id":35167878,"body_markdown":"not a chance. the `^` and `$` means this must be a complete line.","body":"not a chance. the <code>^</code> and <code>$</code> means this must be a complete line."}],"tags":[],"owner":{"account_id":1785423,"reputation":1600,"user_id":1663332,"accept_rate":53,"display_name":"Naresh Ravlani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397245567,"creation_date":1397245567,"answer_id":23021341,"question_id":23017957,"body_markdown":"Try this pattern : \r\n\r\n    &quot;^&lt;[A-Za-z]+&gt;\\\\[apple videoID=$&quot;\r\n\r\nThis pattern will match &lt;anything&gt;[apple videoID= \r\n\r\nHope this will help you..!","title":"Regex in java to match a string begining with html followed by something","body":"<p>Try this pattern : </p>\n\n<pre><code>\"^&lt;[A-Za-z]+&gt;\\\\[apple videoID=$\"\n</code></pre>\n\n<p>This pattern will match [apple videoID= </p>\n\n<p>Hope this will help you..!</p>\n"}],"owner":{"account_id":4314101,"reputation":11,"user_id":3524469,"display_name":"user3524469"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1692980400,"creation_date":1397233761,"question_id":23017957,"body_markdown":"Can someone help me out with a regex to match a string which starts with the following eg:\r\nThe string can begin with any html tag eg: \r\n    &lt; span &gt; or &lt; p &gt;  etc so basically I want a regex to check if a string begins with any opening html tag &lt;&gt; and then followed by [apple videoID=\r\n\r\nEg:\r\n\r\n    &lt;span&gt;[apple videoID= \r\n\r\n\r\nHere&#39;s what I&#39;ve tried : \r\n\r\n    static String pattern =  &quot;^&lt;[^&gt;]+&gt;[apple videoID=&quot;;\r\n    static Pattern pattern1 = Pattern.compile(pattern);\r\n\r\n\r\nWhat is wrong in the above?\r\n","title":"Regex in java to match a string begining with html followed by something","body":"<p>Can someone help me out with a regex to match a string which starts with the following eg:\nThe string can begin with any html tag eg: \n    &lt; span > or &lt; p >  etc so basically I want a regex to check if a string begins with any opening html tag &lt;> and then followed by [apple videoID=</p>\n\n<p>Eg:</p>\n\n<pre><code>&lt;span&gt;[apple videoID= \n</code></pre>\n\n<p>Here's what I've tried : </p>\n\n<pre><code>static String pattern =  \"^&lt;[^&gt;]+&gt;[apple videoID=\";\nstatic Pattern pattern1 = Pattern.compile(pattern);\n</code></pre>\n\n<p>What is wrong in the above?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397069545,"post_id":22971447,"comment_id":35076792,"body_markdown":"`*` signifies 0 or more. Nothing is 0.","body":"<code>*</code> signifies 0 or more. Nothing is 0."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1397069574,"post_id":22971447,"comment_id":35076811,"body_markdown":"Have you tried changing `*` to `+`?","body":"Have you tried changing <code>*</code> to <code>+</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1397069834,"post_id":22971447,"comment_id":35076978,"body_markdown":"Also [this](http://stackoverflow.com/q/8604286/1393766) may interest you a little.","body":"Also <a href=\"http://stackoverflow.com/q/8604286/1393766\">this</a> may interest you a little."}],"answers":[{"comments":[{"owner":{"account_id":4303558,"reputation":13,"user_id":3516622,"display_name":"Gusev Dmitry"},"score":0,"creation_date":1397069808,"post_id":22971508,"comment_id":35076957,"body_markdown":"Yes, you are right about \\\\d+ , but what &quot;empty string&quot; do you mean? I   didn&#39;t see any in javadocs.","body":"Yes, you are right about \\\\d+ , but what &quot;empty string&quot; do you mean? I   didn&#39;t see any in javadocs."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1397069892,"post_id":22971508,"comment_id":35077012,"body_markdown":"@user3516622 Empty string is the one after the last character of the string. Technically, there is an empty character after and before every character in a string.","body":"@user3516622 Empty string is the one after the last character of the string. Technically, there is an empty character after and before every character in a string."}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397070049,"creation_date":1397069554,"answer_id":22971508,"question_id":22971447,"body_markdown":"The pattern `&quot;\\\\d*&quot;` matches 0 or more digits. Same stands for `&quot;.*&quot;`. It matches 0 or more occurrence of any character except newline.\r\n\r\nThe last match that you get is the empty string at the end of your string, after `&quot;b&quot;`. The empty string satisfies the pattern `\\\\d*`. If you change the pattern to `\\\\d+`, you&#39;ll get expected result.\r\n\r\nSimilarly, the pattern `.*` matches everything from first character to last character. Thus it first matches `&quot;a1b&quot;`. After that the cursor is after `b`: `&quot;a1b|&quot;`. Now, `matcher.find()` again runs, and finds a zero-length string at the cursor, which satisifies the pattern `.*`, so it considers it as a match.\r\n\r\nThe reason why it gives expected output with `&quot;^.*$&quot;` is that the last empty string doesn&#39;t satisfy the `^` anchor. It is not at the beginning of the string, so it fails to match.","title":"Matcher creates extra group at the end of string","body":"<p>The pattern <code>\"\\\\d*\"</code> matches 0 or more digits. Same stands for <code>\".*\"</code>. It matches 0 or more occurrence of any character except newline.</p>\n\n<p>The last match that you get is the empty string at the end of your string, after <code>\"b\"</code>. The empty string satisfies the pattern <code>\\\\d*</code>. If you change the pattern to <code>\\\\d+</code>, you'll get expected result.</p>\n\n<p>Similarly, the pattern <code>.*</code> matches everything from first character to last character. Thus it first matches <code>\"a1b\"</code>. After that the cursor is after <code>b</code>: <code>\"a1b|\"</code>. Now, <code>matcher.find()</code> again runs, and finds a zero-length string at the cursor, which satisifies the pattern <code>.*</code>, so it considers it as a match.</p>\n\n<p>The reason why it gives expected output with <code>\"^.*$\"</code> is that the last empty string doesn't satisfy the <code>^</code> anchor. It is not at the beginning of the string, so it fails to match.</p>\n"}],"owner":{"account_id":4303558,"reputation":13,"user_id":3516622,"display_name":"Gusev Dmitry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22971508,"answer_count":1,"score":1,"last_activity_date":1692980396,"creation_date":1397069343,"question_id":22971447,"body_markdown":"I&#39;ve faced with strange behavior of java.util.regex.Matcher.\r\nLets consider example:\r\n\r\n        Pattern p = Pattern.compile(&quot;\\\\d*&quot;);\r\n\t\tString s = &quot;a1b&quot;;\r\n\t\tMatcher m = p.matcher(s);\r\n\t\twhile(m.find())\r\n\t\t{\r\n\t\t\tSystem.out.println(m.start()+&quot; &quot;+m.end());\r\n\t\t}\r\nIt produces output:\r\n\r\n    0 0\r\n    1 2\r\n    2 2\r\n    3 3\r\nI can understant all lines except last. Matcher creates extra group (3,3) out of string.\r\nBut javadoc for method start() confirms:\r\n&gt; start() Returns the start index of the previous match.\r\n\r\n\r\nThe same case for dot-star pattern:\r\n\r\n\tPattern p = Pattern.compile(&quot;.*&quot;);\r\n\tString s = &quot;a1b&quot;;\r\n\tMatcher m = p.matcher(s);\r\n\twhile(m.find())\r\n\t{\r\n\t\tSystem.out.println(m.start()+&quot; &quot;+m.end());\r\n\t}\r\nOutput:\r\n\r\n    0 3\r\n    3 3\r\nBut if specify line boundaries \r\n\r\n    Pattern p = Pattern.compile(&quot;^.*$&quot;);\r\n\r\nThe output will be &quot;right&quot;:\r\n\r\n    0 3\r\n\r\nCan someone explain me  reason of such behavior?","title":"Matcher creates extra group at the end of string","body":"<p>I've faced with strange behavior of java.util.regex.Matcher.\nLets consider example:</p>\n\n<pre><code>    Pattern p = Pattern.compile(\"\\\\d*\");\n    String s = \"a1b\";\n    Matcher m = p.matcher(s);\n    while(m.find())\n    {\n        System.out.println(m.start()+\" \"+m.end());\n    }\n</code></pre>\n\n<p>It produces output:</p>\n\n<pre><code>0 0\n1 2\n2 2\n3 3\n</code></pre>\n\n<p>I can understant all lines except last. Matcher creates extra group (3,3) out of string.\nBut javadoc for method start() confirms:</p>\n\n<blockquote>\n  <p>start() Returns the start index of the previous match.</p>\n</blockquote>\n\n<p>The same case for dot-star pattern:</p>\n\n<pre><code>Pattern p = Pattern.compile(\".*\");\nString s = \"a1b\";\nMatcher m = p.matcher(s);\nwhile(m.find())\n{\n    System.out.println(m.start()+\" \"+m.end());\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0 3\n3 3\n</code></pre>\n\n<p>But if specify line boundaries </p>\n\n<pre><code>Pattern p = Pattern.compile(\"^.*$\");\n</code></pre>\n\n<p>The output will be \"right\":</p>\n\n<pre><code>0 3\n</code></pre>\n\n<p>Can someone explain me  reason of such behavior?</p>\n"},{"tags":["java","spring","rest"],"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692980188,"creation_date":1647675483,"question_id":71536247,"body_markdown":"I have a list of objects instantiated in a return class in a service&#39;s response. But when this list has 1 position, it is returning as an object and not as a list. can anybody help me?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @XmlRootElement(name = &quot;exame&quot;)\r\n    public class ExameVO implements Serializable {\r\n\r\n    \tprivate static final long serialVersionUID = -5840337332057658386L;\r\n\r\n    \tprivate long id;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate String cpf;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate String dataNascimento;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate int tipoExame;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate String excluido;\r\n\r\n    \tprivate List&lt;ExameArquivoVO&gt; resultadoExameArquivos;\r\n    \t\r\n    \tprivate String observacao;\r\n    \t\r\n    \tprivate String dataInclusao;\r\n\r\n    \tpublic ExameVO() {\r\n    \t\tsuper();\r\n    \t}\r\n\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n\r\n    \tpublic String getCpf() {\r\n    \t\treturn cpf;\r\n    \t}\r\n\r\n    \tpublic void setCpf(String cpf) {\r\n    \t\tthis.cpf = cpf;\r\n    \t}\r\n\r\n    \tpublic String getDataNascimento() {\r\n    \t\treturn dataNascimento;\r\n    \t}\r\n\r\n    \tpublic void setDataNascimento(String dataNascimento) {\r\n    \t\tthis.dataNascimento = dataNascimento;\r\n    \t}\r\n\r\n    \tpublic int getTipoExame() {\r\n    \t\treturn tipoExame;\r\n    \t}\r\n\r\n    \tpublic void setTipoExame(int tipoExame) {\r\n    \t\tthis.tipoExame = tipoExame;\r\n    \t}\r\n\r\n    \tpublic String getObservacao() {\r\n    \t\treturn observacao;\r\n    \t}\r\n\r\n    \tpublic void setObservacao(String observacao) {\r\n    \t\tthis.observacao = observacao;\r\n    \t}\r\n\r\n    \tpublic String getExcluido() {\r\n    \t\treturn excluido;\r\n    \t}\r\n\r\n    \tpublic void setExcluido(String excluido) {\r\n    \t\tthis.excluido = excluido;\r\n    \t}\r\n\r\n    \tpublic List&lt;ExameArquivoVO&gt; getResultadoExameArquivos() {\r\n    \t\treturn resultadoExameArquivos;\r\n    \t}\r\n\r\n    \tpublic void setResultadoExameArquivos(List&lt;ExameArquivoVO&gt; resultadoExameArquivos) {\r\n    \t\tthis.resultadoExameArquivos = resultadoExameArquivos;\r\n    \t}\r\n\r\n    \tpublic String getDataInclusao() {\r\n    \t\treturn dataInclusao;\r\n    \t}\r\n\r\n    \tpublic void setDataInclusao(String dataInclusao) {\r\n    \t\tthis.dataInclusao = dataInclusao;\r\n    \t}\r\n\r\n    \tpublic static long getSerialversionuid() {\r\n    \t\treturn serialVersionUID;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ResultadoExameVO [id=&quot; + id + &quot;, cpf=&quot; + cpf + &quot;, dataNascimento=&quot; + dataNascimento + &quot;, tipoExame=&quot;\r\n    \t\t\t\t+ tipoExame + &quot;, observacao=&quot; + observacao + &quot;, excluido=&quot; + excluido + &quot;, dataInclusao=&quot; + dataInclusao\r\n    \t\t\t\t+ &quot;, resultadoExameArquivos=&quot; + resultadoExameArquivos + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Override\r\n    \tpublic List&lt;ExameVO&gt; listarExames(String cpf, String dtNascimento, Long tipoExame) throws WebServiceException {\r\n    \t\tList&lt;ExameVO&gt; examesVO = new ArrayList&lt;ExameVO&gt;();\r\n\r\n    \t\ttry {\r\n    \t\t\texamesVO = exameDAO.listarExames(cpf, dtNascimento, tipoExame);\r\n\r\n    \t\t\tif(!examesVO.isEmpty()) {\r\n    \t\t\t\tfor(ExameVO exameVO : examesVO) {\r\n    \t\t\t\t\texameVO.setResultadoExameArquivos(new ArrayList&lt;ExameArquivoVO&gt;());\r\n    \t\t\t\t\texameVO.getResultadoExameArquivos().addAll(exameDAO.listarExameArquivos(exameVO.getId()));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn examesVO;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new WebServiceException(e);\r\n    \t\t}\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nResponse to postman: Notice that there is 1 object that has 2 objects inside the file list and another object that has 1 and it returns as an object and not as a list with 1 object.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NZaVK.png","title":"JSON is returning a list type object when it has 1 position as object and not as a list","body":"<p>I have a list of objects instantiated in a return class in a service's response. But when this list has 1 position, it is returning as an object and not as a list. can anybody help me?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@XmlRootElement(name = \"exame\")\npublic class ExameVO implements Serializable {\n\n    private static final long serialVersionUID = -5840337332057658386L;\n\n    private long id;\n    \n    @NotNull\n    private String cpf;\n    \n    @NotNull\n    private String dataNascimento;\n    \n    @NotNull\n    private int tipoExame;\n    \n    @NotNull\n    private String excluido;\n\n    private List&lt;ExameArquivoVO&gt; resultadoExameArquivos;\n    \n    private String observacao;\n    \n    private String dataInclusao;\n\n    public ExameVO() {\n        super();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getCpf() {\n        return cpf;\n    }\n\n    public void setCpf(String cpf) {\n        this.cpf = cpf;\n    }\n\n    public String getDataNascimento() {\n        return dataNascimento;\n    }\n\n    public void setDataNascimento(String dataNascimento) {\n        this.dataNascimento = dataNascimento;\n    }\n\n    public int getTipoExame() {\n        return tipoExame;\n    }\n\n    public void setTipoExame(int tipoExame) {\n        this.tipoExame = tipoExame;\n    }\n\n    public String getObservacao() {\n        return observacao;\n    }\n\n    public void setObservacao(String observacao) {\n        this.observacao = observacao;\n    }\n\n    public String getExcluido() {\n        return excluido;\n    }\n\n    public void setExcluido(String excluido) {\n        this.excluido = excluido;\n    }\n\n    public List&lt;ExameArquivoVO&gt; getResultadoExameArquivos() {\n        return resultadoExameArquivos;\n    }\n\n    public void setResultadoExameArquivos(List&lt;ExameArquivoVO&gt; resultadoExameArquivos) {\n        this.resultadoExameArquivos = resultadoExameArquivos;\n    }\n\n    public String getDataInclusao() {\n        return dataInclusao;\n    }\n\n    public void setDataInclusao(String dataInclusao) {\n        this.dataInclusao = dataInclusao;\n    }\n\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }\n\n    @Override\n    public String toString() {\n        return \"ResultadoExameVO [id=\" + id + \", cpf=\" + cpf + \", dataNascimento=\" + dataNascimento + \", tipoExame=\"\n                + tipoExame + \", observacao=\" + observacao + \", excluido=\" + excluido + \", dataInclusao=\" + dataInclusao\n                + \", resultadoExameArquivos=\" + resultadoExameArquivos + \"]\";\n    }\n    \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Override\n    public List&lt;ExameVO&gt; listarExames(String cpf, String dtNascimento, Long tipoExame) throws WebServiceException {\n        List&lt;ExameVO&gt; examesVO = new ArrayList&lt;ExameVO&gt;();\n\n        try {\n            examesVO = exameDAO.listarExames(cpf, dtNascimento, tipoExame);\n\n            if(!examesVO.isEmpty()) {\n                for(ExameVO exameVO : examesVO) {\n                    exameVO.setResultadoExameArquivos(new ArrayList&lt;ExameArquivoVO&gt;());\n                    exameVO.getResultadoExameArquivos().addAll(exameDAO.listarExameArquivos(exameVO.getId()));\n                }\n            }\n            \n            return examesVO;\n        } catch (Exception e) {\n            throw new WebServiceException(e);\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Response to postman: Notice that there is 1 object that has 2 objects inside the file list and another object that has 1 and it returns as an object and not as a list with 1 object.</p>\n<p><a href=\"https://i.stack.imgur.com/NZaVK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NZaVK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","flutter","visual-studio"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692964468,"post_id":76976946,"comment_id":135699932,"body_markdown":"`signingReport` isn&#39;t a standard Gradle task. If you want help, you&#39;ll have to tell us where it comes from.","body":"<code>signingReport</code> isn&#39;t a standard Gradle task. If you want help, you&#39;ll have to tell us where it comes from."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692964548,"post_id":76976946,"comment_id":135699955,"body_markdown":"Try printing the actual `JAVA_HOME` value from somewhere as close to executing that task as possible. Maybe something is overwriting the value you think you have set.","body":"Try printing the actual <code>JAVA_HOME</code> value from somewhere as close to executing that task as possible. Maybe something is overwriting the value you think you have set."},{"owner":{"account_id":17849184,"reputation":906,"user_id":12965265,"display_name":"Ashikul Islam Sawan"},"score":0,"creation_date":1692964549,"post_id":76976946,"comment_id":135699957,"body_markdown":"I added the screenshot","body":"I added the screenshot"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1692965951,"post_id":76976946,"comment_id":135700269,"body_markdown":"`JAVA_HOME` should point to the installation path of the JDK, not to the path of the `bin` sub-directory of the JDK.","body":"<code>JAVA_HOME</code> should point to the installation path of the JDK, not to the path of the <code>bin</code> sub-directory of the JDK."},{"owner":{"account_id":17849184,"reputation":906,"user_id":12965265,"display_name":"Ashikul Islam Sawan"},"score":0,"creation_date":1692975796,"post_id":76976946,"comment_id":135702760,"body_markdown":"@Jorn My java is working fine. I can run java programs too. But when I run ./gradlew signingReport for sha256_cert_fingerprints of keystore certificate. It shows error.","body":"@Jorn My java is working fine. I can run java programs too. But when I run ./gradlew signingReport for sha256_cert_fingerprints of keystore certificate. It shows error."}],"answers":[{"tags":[],"owner":{"account_id":17849184,"reputation":906,"user_id":12965265,"display_name":"Ashikul Islam Sawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692979772,"creation_date":1692979772,"answer_id":76978863,"question_id":76976946,"body_markdown":"**Solved** \r\n\r\nI just edit my `JAVA_HOME` variable path `F:\\java\\bin` -&gt; `F:\\java` (Customized installation)\r\n\r\nIt can be - `C:\\Program Files\\Java\\jdk-20\\bin` -&gt; `C:\\Program Files\\Java\\jdk-20`","title":"Failed to run ./gradlew signingReport because of java","body":"<p><strong>Solved</strong></p>\n<p>I just edit my <code>JAVA_HOME</code> variable path <code>F:\\java\\bin</code> -&gt; <code>F:\\java</code> (Customized installation)</p>\n<p>It can be - <code>C:\\Program Files\\Java\\jdk-20\\bin</code> -&gt; <code>C:\\Program Files\\Java\\jdk-20</code></p>\n"}],"owner":{"account_id":17849184,"reputation":906,"user_id":12965265,"display_name":"Ashikul Islam Sawan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692979772,"creation_date":1692964409,"question_id":76976946,"body_markdown":"I tried to run `./gradlew signingReport` it show me error\r\n\r\n`ERROR: JAVA_HOME is set to an invalid directory: F:\\java\\bin\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.`\r\n\r\nHere is JAVA_HOME in user path I also tried setting on System path.\r\n[What&#39;s problem with my java?](https://i.stack.imgur.com/N5FYj.jpg)\r\n\r\nFor testing,  I tried by setting path to `ENV` only user/only system/both system and user. Every time java is work. but when I try to run `./gradlew signingReport` it shows error for java. ","title":"Failed to run ./gradlew signingReport because of java","body":"<p>I tried to run <code>./gradlew signingReport</code> it show me error</p>\n<p><code>ERROR: JAVA_HOME is set to an invalid directory: F:\\java\\bin Please set the JAVA_HOME variable in your environment to match the location of your Java installation.</code></p>\n<p>Here is JAVA_HOME in user path I also tried setting on System path.\n<a href=\"https://i.stack.imgur.com/N5FYj.jpg\" rel=\"nofollow noreferrer\">What's problem with my java?</a></p>\n<p>For testing,  I tried by setting path to <code>ENV</code> only user/only system/both system and user. Every time java is work. but when I try to run <code>./gradlew signingReport</code> it shows error for java.</p>\n"},{"tags":["java","hibernate","jpa","proxy","orm"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692979512,"creation_date":1692979512,"answer_id":76978834,"question_id":76972421,"body_markdown":"Trace from the commit log , `ConnectionProxyHandler` and its proxy friends are removed in this [commit][1] on 15-Jan-2013 because of the JIRA issue [HHH-7902][2]. \r\n\r\nThe advantage is to improve the [performance][3] : \r\n\r\n&gt; Originally, JDBC types (Connection, Statement, ResultSet, etc.) were wrapped with Java Proxies to introduce resource management, logging, etc. The proxying was shown to be a performance hotspot, so they were entirely removed. The functionality was replaced with a new set of internal contracts/helpers.\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/commit/f70234c5ee386f3c3c36836125dff95049193f05\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-7902\r\n  [3]: https://in.relation.to/2013/02/01/hibernate-orm-420-cr-1-released/","title":"Why have ConnectionProxyHandler and other proxy classes been removed from Hibernate 4.2?","body":"<p>Trace from the commit log , <code>ConnectionProxyHandler</code> and its proxy friends are removed in this <a href=\"https://github.com/hibernate/hibernate-orm/commit/f70234c5ee386f3c3c36836125dff95049193f05\" rel=\"nofollow noreferrer\">commit</a> on 15-Jan-2013 because of the JIRA issue <a href=\"https://hibernate.atlassian.net/browse/HHH-7902\" rel=\"nofollow noreferrer\">HHH-7902</a>.</p>\n<p>The advantage is to improve the <a href=\"https://in.relation.to/2013/02/01/hibernate-orm-420-cr-1-released/\" rel=\"nofollow noreferrer\">performance</a> :</p>\n<blockquote>\n<p>Originally, JDBC types (Connection, Statement, ResultSet, etc.) were wrapped with Java Proxies to introduce resource management, logging, etc. The proxying was shown to be a performance hotspot, so they were entirely removed. The functionality was replaced with a new set of internal contracts/helpers.</p>\n</blockquote>\n"}],"owner":{"account_id":3157873,"reputation":55,"user_id":2669823,"display_name":"Navpreet Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76978834,"answer_count":1,"score":0,"last_activity_date":1692979512,"creation_date":1692905353,"question_id":76972421,"body_markdown":"I am migrating my project from Hibernate 4.1 to 5.1. While doing the upgrade, I found out that ConnectionProxyHandler and other proxy classes present in package &#39;org.hibernate.engine.jdbc.internal.proxy&#39; have been removed along with the package in Hibernate 4.2. Can someone please explain what the reason is? What were the advantages and disadvantages of using these proxy classes, and why were they removed?","title":"Why have ConnectionProxyHandler and other proxy classes been removed from Hibernate 4.2?","body":"<p>I am migrating my project from Hibernate 4.1 to 5.1. While doing the upgrade, I found out that ConnectionProxyHandler and other proxy classes present in package 'org.hibernate.engine.jdbc.internal.proxy' have been removed along with the package in Hibernate 4.2. Can someone please explain what the reason is? What were the advantages and disadvantages of using these proxy classes, and why were they removed?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692914221,"post_id":76972887,"comment_id":135693132,"body_markdown":"I&#39;m actually quite surprised you&#39;re not getting an exception because in theory your instance of the `MySpace` class should already be deconstructed after you call `stage.close()`. You could try saving the value in your main class, e.g. create a private field and a setter to call from the button event handler just before you call `stage.close()`","body":"I&#39;m actually quite surprised you&#39;re not getting an exception because in theory your instance of the <code>MySpace</code> class should already be deconstructed after you call <code>stage.close()</code>. You could try saving the value in your main class, e.g. create a private field and a setter to call from the button event handler just before you call <code>stage.close()</code>"},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692915307,"post_id":76972887,"comment_id":135693261,"body_markdown":"that, of course, would be a very bad design, but your classes are interdependent anyway, so you wouldn&#39;t lose anything","body":"that, of course, would be a very bad design, but your classes are interdependent anyway, so you wouldn&#39;t lose anything"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1692915325,"post_id":76972887,"comment_id":135693267,"body_markdown":"JavaFX, as part of calling `launch`, instantiates an instance of the `Application` subclass (via reflection). So, there&#39;s two instances of `MyScreen` in your program. The one you created, and the one JavaFX creates. You only have access to the former, but it&#39;s the latter&#39;s `userText` field that&#39;s being set.","body":"JavaFX, as part of calling <code>launch</code>, instantiates an instance of the <code>Application</code> subclass (via reflection). So, there&#39;s two instances of <code>MyScreen</code> in your program. The one you created, and the one JavaFX creates. You only have access to the former, but it&#39;s the latter&#39;s <code>userText</code> field that&#39;s being set."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1692915809,"post_id":76972887,"comment_id":135693334,"body_markdown":"Taking a step back, this whole design seems odd. If you&#39;re working on a GUI application, then I would expect the UI to be shown for the entire duration the application is in use. Right now, it seems like you have a CLI application and are using JavaFX to prompt the user for information. But if you have a CLI application then you should use the console to prompt the user. In other words, choose if your app is a CLI or a GUI app, but don&#39;t mix them. You should also note that, by default, JavaFX exits once the last window closes, and it cannot be launched again in the same JVM instance.","body":"Taking a step back, this whole design seems odd. If you&#39;re working on a GUI application, then I would expect the UI to be shown for the entire duration the application is in use. Right now, it seems like you have a CLI application and are using JavaFX to prompt the user for information. But if you have a CLI application then you should use the console to prompt the user. In other words, choose if your app is a CLI or a GUI app, but don&#39;t mix them. You should also note that, by default, JavaFX exits once the last window closes, and it cannot be launched again in the same JVM instance."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692915867,"post_id":76972887,"comment_id":135693341,"body_markdown":"In the interim, don&#39;t overlook the convenience of the clipboard.","body":"In the interim, don&#39;t overlook the convenience of the clipboard."},{"owner":{"account_id":16703650,"reputation":43,"user_id":12072633,"display_name":"Levithan6785"},"score":0,"creation_date":1692974581,"post_id":76972887,"comment_id":135702417,"body_markdown":"@Slaw The original design was going to follow the same general logic the current Graphical UI follows that was written in Powershell. I&#39;m changing the design from Powershell that uses Windows Forms to Java to be more responsive since there&#39;s a lot of overhead with PS. This PS code would launch authentication, then launch the UI. So that&#39;s where this comes from. I will have to re-evaluate my design implementation for this. Thank you for your feedback.","body":"@Slaw The original design was going to follow the same general logic the current Graphical UI follows that was written in Powershell. I&#39;m changing the design from Powershell that uses Windows Forms to Java to be more responsive since there&#39;s a lot of overhead with PS. This PS code would launch authentication, then launch the UI. So that&#39;s where this comes from. I will have to re-evaluate my design implementation for this. Thank you for your feedback."}],"answers":[{"comments":[{"owner":{"account_id":16703650,"reputation":43,"user_id":12072633,"display_name":"Levithan6785"},"score":0,"creation_date":1692979414,"post_id":76973534,"comment_id":135703576,"body_markdown":"Accepting your answer as it provided most of the information I required to fixing my design flaw and providing correct solutions for application &lt;-&gt; application communication. The ultimate fix for what I&#39;m trying to do is posted in another comment.. Thank you","body":"Accepting your answer as it provided most of the information I required to fixing my design flaw and providing correct solutions for application &lt;-&gt; application communication. The ultimate fix for what I&#39;m trying to do is posted in another comment.. Thank you"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692946684,"creation_date":1692922289,"answer_id":76973534,"question_id":76972887,"body_markdown":"I&#39;ll make an Answer of the two Comments by Slaw, [here][1] &amp; [here][2].\r\n\r\n# JavaFX magic\r\n\r\nJavaFX is a sophisticated framework that does quite a bit of magic beyond what you see in your own source code. \r\n\r\nOne bit of that magic is that when your JavaFX app launches, your subclass of `Application` is automatically instantiated via [reflection][3].\r\n\r\nSo your line of code, `MyScreen screen = New MyScreen();` is superfluous, and should be deleted. The JavaFX framework is already making an instance of `MyScreen` as your subclass of `Application`. So your app has two instances of `MyScreen` going, the one implicitly created by the JavaFX framework, and another one created by you in that line of code. \r\n\r\nThis explains why you fail in getting the value of `userText` field. Your code is making a call to *your* instance of `MyScreen`, not the JavaFX frameworks instance of `MyScreen`. The `userText` field was indeed set, but was set in the latter, not the former.\r\n\r\n## `this` hack\r\n\r\nIf you *really* want to track state within your app in your given approach, I have seen a hack where people make a [Singleton][4] reference to the implicitly instantiated object of their `Application` subclass. They add a `static` var on their subclass of `Application`, a var of the type of the subclass. Then in their `Application#start` override implementation, they assign `this` to that var.\r\n\r\n\r\n```java\r\npublic class MyScreen extends Application {\r\n    public static MyScreen myInstanceOfMyScreen;\r\n    private String userText;\r\n\r\n    @Override\r\n    private void start(Stage stage) {\r\n        \r\n        this.myInstanceOfMyScreen = this ;  // A hack, not necessarily recommended. \r\n    }\r\n\r\n    public getUserText() {\r\n        return userText;\r\n    }\r\n        \r\n```\r\n\r\nThen other classes can access that `static` singleton. \r\n\r\n    // Some code in some other class\r\n    String userText = MyScreen.myInstanceOfMyScreen.getUserText() ;\r\n\r\nBut this approach likely indicates a poor design within your app. \r\n\r\n\r\n## JavaFX lifecycle\r\n\r\nTo learn more about the lifecycle of a JavaFX app, see [my lengthy Answer][5] on another Question. \r\n\r\nCaveat: I am not an expert on JavaFX. For more expertise, look for posts by [jewelsea][6], by [Slaw][7], by [James_D][8], and others. And read [the documentation][9]. \r\n\r\n\r\n# GUI app versus console app\r\n\r\nYour approach in designing your app seems peculiar, running the JavaFX-based GUI app as a subroutine of a larger &quot;outer&quot; app. \r\n\r\nA GUI app is standalone. The lifecycle of the GUI should be the lifecycle of the app. If all the elements of the GUI have been closed, with no more windows and no more menu bar, then the app should end. \r\n\r\nThe fact that you named your `Application` subclass `MyScreen` shows how you are thinking of JavaFX as being only a part of your app. Instead you should be thinking of JavaFX as your *entire* app. \r\n\r\nIf your goal is build a console app that gathers input from a user, then use the console-related classes of Java such as `Scanner` to interact with the user on the console. Trying to mix a GUI app with a console app makes no sense, not from the architectural design of modern operating systems such as macOS, Windows, Linux, etc. \r\n\r\nThe one exception would be console-oriented environment that wants to run a GUI-style within that terminal screen. Such apps are known as [*text-based user-interface*][10], made famous by Microsoft with their COW (*Character-Oriented Windows*) apps such as [*Microsoft Works for MS-DOS*][11]. But such apps are meant to run within a terminal screen/window. In contrast, JavaFX apps are meant to run within a graphical environment such as macOS/Windows/Linux/etc. FYI, the Java ecosystem does offers some frameworks for build text-based UI apps, such as [*Lanterna*][12]. \r\n\r\n## Communicating data\r\n\r\nIf you need to share the users input beyond the limits of the GUI, use an external system. For example, post the data to a [message queue][13], send an email, insert into a database, write a file to storage.\r\n\r\n# Example app\r\n\r\nHere is an example JavaFX app that:\r\n\r\n 1. Gathers input from the user.\r\n 2. Reports that data to a message queue, sends an email, and writes to a database.\r\n 3. Quits/exits the app.\r\n\r\n[![screenshot of example app soliciting the user for their favorite color, along with a button to submit that data and then exit the app][14]][14]\r\n\r\nNotice that the GUI remains visible while reporting to that queue, email, and database. If anything goes wrong, you can use that GUI to notify the user of a problem.\r\n\r\n```java\r\npackage work.basil.example.exfxgatherinput;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class GatherInputApp extends Application\r\n{\r\n    @Override\r\n    public void start ( Stage stage ) throws IOException\r\n    {\r\n        // Scene\r\n        Scene scene = this.makeScene ( );\r\n\r\n        // Stage\r\n        stage.setTitle ( &quot;Give me your input&quot; );\r\n        stage.setHeight ( 300 );\r\n        stage.setWidth ( 500 );\r\n\r\n        stage.setScene ( scene );\r\n        stage.show ( );\r\n    }\r\n\r\n    private Scene makeScene ( )\r\n    {\r\n        // Data input\r\n        Label inputLabel = new Label ( &quot;Favorite color:&quot; );\r\n        TextField inputTextField = new TextField ( );\r\n        HBox inputBox = new HBox ( );\r\n        inputBox.setAlignment ( Pos.CENTER );\r\n        inputBox.getChildren ( ).addAll ( inputLabel , inputTextField );\r\n        inputBox.setSpacing ( 10 );\r\n\r\n        // Submit data\r\n        Button button = new Button ( );\r\n        button.setText ( &quot;Submit input, quit app&quot; );\r\n        button.setOnAction ( ( event ) -&gt;\r\n        {\r\n            String favoriteColor = inputTextField.getText ( );\r\n            System.out.println ( &quot;Reporting input to a message queue &quot; + favoriteColor );\r\n            System.out.println ( &quot;Sending input in an email &quot; + favoriteColor );\r\n            System.out.println ( &quot;Writing input to a database &quot; + favoriteColor );\r\n            Platform.exit ( );  // Ends the JavaFX app, after firing hooks for app-shutdown. \r\n        } );\r\n\r\n        VBox vbox = new VBox ( inputBox , button );\r\n        vbox.setPadding ( new Insets ( 20 , 20 , 20 , 20 ) );\r\n        vbox.setSpacing ( 10 );\r\n        vbox.setAlignment ( Pos.CENTER );\r\n\r\n        return new Scene ( vbox );\r\n    }\r\n\r\n    public static void main ( String[] args ) { launch ( ); }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nReporting input to a message queue purple\r\nSending input in an email purple\r\nWriting input to a database purple\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nBy the way, exiting a GUI app programmatically is considered rude. In a graphical environment, the user is in charge. Generally, the app should remain open and running until the *user* decides to quit/exit.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76972887/javafx-extended-application-class-variables-reset-after-stage-closes/76973534#comment135693267_76972887\r\n  [2]: https://stackoverflow.com/questions/76972887/javafx-extended-application-class-variables-reset-after-stage-closes/76973534#comment135693334_76972887\r\n  [3]: https://en.wikipedia.org/wiki/Reflective_programming\r\n  [4]: https://en.wikipedia.org/wiki/Singleton_pattern\r\n  [5]: https://stackoverflow.com/a/76800602/642706\r\n  [6]: https://stackoverflow.com/users/1155209/jewelsea\r\n  [7]: https://stackoverflow.com/users/6395627/slaw\r\n  [8]: https://stackoverflow.com/users/2189127/james-d\r\n  [9]: https://openjfx.io/\r\n  [10]: https://en.wikipedia.org/wiki/Text-based_user_interface\r\n  [11]: https://en.wikipedia.org/wiki/Microsoft_Works#Works_for_MS-DOS\r\n  [12]: https://github.com/mabe02/lanterna\r\n  [13]: https://en.wikipedia.org/wiki/Message_queue\r\n  [14]: https://i.stack.imgur.com/pDbie.jpg","title":"JavaFx - Extended Application class variables reset after Stage Closes","body":"<p>I'll make an Answer of the two Comments by Slaw, <a href=\"https://stackoverflow.com/questions/76972887/javafx-extended-application-class-variables-reset-after-stage-closes/76973534#comment135693267_76972887\">here</a> &amp; <a href=\"https://stackoverflow.com/questions/76972887/javafx-extended-application-class-variables-reset-after-stage-closes/76973534#comment135693334_76972887\">here</a>.</p>\n<h1>JavaFX magic</h1>\n<p>JavaFX is a sophisticated framework that does quite a bit of magic beyond what you see in your own source code.</p>\n<p>One bit of that magic is that when your JavaFX app launches, your subclass of <code>Application</code> is automatically instantiated via <a href=\"https://en.wikipedia.org/wiki/Reflective_programming\" rel=\"nofollow noreferrer\">reflection</a>.</p>\n<p>So your line of code, <code>MyScreen screen = New MyScreen();</code> is superfluous, and should be deleted. The JavaFX framework is already making an instance of <code>MyScreen</code> as your subclass of <code>Application</code>. So your app has two instances of <code>MyScreen</code> going, the one implicitly created by the JavaFX framework, and another one created by you in that line of code.</p>\n<p>This explains why you fail in getting the value of <code>userText</code> field. Your code is making a call to <em>your</em> instance of <code>MyScreen</code>, not the JavaFX frameworks instance of <code>MyScreen</code>. The <code>userText</code> field was indeed set, but was set in the latter, not the former.</p>\n<h2><code>this</code> hack</h2>\n<p>If you <em>really</em> want to track state within your app in your given approach, I have seen a hack where people make a <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">Singleton</a> reference to the implicitly instantiated object of their <code>Application</code> subclass. They add a <code>static</code> var on their subclass of <code>Application</code>, a var of the type of the subclass. Then in their <code>Application#start</code> override implementation, they assign <code>this</code> to that var.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyScreen extends Application {\n    public static MyScreen myInstanceOfMyScreen;\n    private String userText;\n\n    @Override\n    private void start(Stage stage) {\n        \n        this.myInstanceOfMyScreen = this ;  // A hack, not necessarily recommended. \n    }\n\n    public getUserText() {\n        return userText;\n    }\n        \n</code></pre>\n<p>Then other classes can access that <code>static</code> singleton.</p>\n<pre><code>// Some code in some other class\nString userText = MyScreen.myInstanceOfMyScreen.getUserText() ;\n</code></pre>\n<p>But this approach likely indicates a poor design within your app.</p>\n<h2>JavaFX lifecycle</h2>\n<p>To learn more about the lifecycle of a JavaFX app, see <a href=\"https://stackoverflow.com/a/76800602/642706\">my lengthy Answer</a> on another Question.</p>\n<p>Caveat: I am not an expert on JavaFX. For more expertise, look for posts by <a href=\"https://stackoverflow.com/users/1155209/jewelsea\">jewelsea</a>, by <a href=\"https://stackoverflow.com/users/6395627/slaw\">Slaw</a>, by <a href=\"https://stackoverflow.com/users/2189127/james-d\">James_D</a>, and others. And read <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<h1>GUI app versus console app</h1>\n<p>Your approach in designing your app seems peculiar, running the JavaFX-based GUI app as a subroutine of a larger &quot;outer&quot; app.</p>\n<p>A GUI app is standalone. The lifecycle of the GUI should be the lifecycle of the app. If all the elements of the GUI have been closed, with no more windows and no more menu bar, then the app should end.</p>\n<p>The fact that you named your <code>Application</code> subclass <code>MyScreen</code> shows how you are thinking of JavaFX as being only a part of your app. Instead you should be thinking of JavaFX as your <em>entire</em> app.</p>\n<p>If your goal is build a console app that gathers input from a user, then use the console-related classes of Java such as <code>Scanner</code> to interact with the user on the console. Trying to mix a GUI app with a console app makes no sense, not from the architectural design of modern operating systems such as macOS, Windows, Linux, etc.</p>\n<p>The one exception would be console-oriented environment that wants to run a GUI-style within that terminal screen. Such apps are known as <a href=\"https://en.wikipedia.org/wiki/Text-based_user_interface\" rel=\"nofollow noreferrer\"><em>text-based user-interface</em></a>, made famous by Microsoft with their COW (<em>Character-Oriented Windows</em>) apps such as <a href=\"https://en.wikipedia.org/wiki/Microsoft_Works#Works_for_MS-DOS\" rel=\"nofollow noreferrer\"><em>Microsoft Works for MS-DOS</em></a>. But such apps are meant to run within a terminal screen/window. In contrast, JavaFX apps are meant to run within a graphical environment such as macOS/Windows/Linux/etc. FYI, the Java ecosystem does offers some frameworks for build text-based UI apps, such as <a href=\"https://github.com/mabe02/lanterna\" rel=\"nofollow noreferrer\"><em>Lanterna</em></a>.</p>\n<h2>Communicating data</h2>\n<p>If you need to share the users input beyond the limits of the GUI, use an external system. For example, post the data to a <a href=\"https://en.wikipedia.org/wiki/Message_queue\" rel=\"nofollow noreferrer\">message queue</a>, send an email, insert into a database, write a file to storage.</p>\n<h1>Example app</h1>\n<p>Here is an example JavaFX app that:</p>\n<ol>\n<li>Gathers input from the user.</li>\n<li>Reports that data to a message queue, sends an email, and writes to a database.</li>\n<li>Quits/exits the app.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/pDbie.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pDbie.jpg\" alt=\"screenshot of example app soliciting the user for their favorite color, along with a button to submit that data and then exit the app\" /></a></p>\n<p>Notice that the GUI remains visible while reporting to that queue, email, and database. If anything goes wrong, you can use that GUI to notify the user of a problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.exfxgatherinput;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class GatherInputApp extends Application\n{\n    @Override\n    public void start ( Stage stage ) throws IOException\n    {\n        // Scene\n        Scene scene = this.makeScene ( );\n\n        // Stage\n        stage.setTitle ( &quot;Give me your input&quot; );\n        stage.setHeight ( 300 );\n        stage.setWidth ( 500 );\n\n        stage.setScene ( scene );\n        stage.show ( );\n    }\n\n    private Scene makeScene ( )\n    {\n        // Data input\n        Label inputLabel = new Label ( &quot;Favorite color:&quot; );\n        TextField inputTextField = new TextField ( );\n        HBox inputBox = new HBox ( );\n        inputBox.setAlignment ( Pos.CENTER );\n        inputBox.getChildren ( ).addAll ( inputLabel , inputTextField );\n        inputBox.setSpacing ( 10 );\n\n        // Submit data\n        Button button = new Button ( );\n        button.setText ( &quot;Submit input, quit app&quot; );\n        button.setOnAction ( ( event ) -&gt;\n        {\n            String favoriteColor = inputTextField.getText ( );\n            System.out.println ( &quot;Reporting input to a message queue &quot; + favoriteColor );\n            System.out.println ( &quot;Sending input in an email &quot; + favoriteColor );\n            System.out.println ( &quot;Writing input to a database &quot; + favoriteColor );\n            Platform.exit ( );  // Ends the JavaFX app, after firing hooks for app-shutdown. \n        } );\n\n        VBox vbox = new VBox ( inputBox , button );\n        vbox.setPadding ( new Insets ( 20 , 20 , 20 , 20 ) );\n        vbox.setSpacing ( 10 );\n        vbox.setAlignment ( Pos.CENTER );\n\n        return new Scene ( vbox );\n    }\n\n    public static void main ( String[] args ) { launch ( ); }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Reporting input to a message queue purple\nSending input in an email purple\nWriting input to a database purple\n\nProcess finished with exit code 0\n</code></pre>\n<p>By the way, exiting a GUI app programmatically is considered rude. In a graphical environment, the user is in charge. Generally, the app should remain open and running until the <em>user</em> decides to quit/exit.</p>\n"},{"tags":[],"owner":{"account_id":16703650,"reputation":43,"user_id":12072633,"display_name":"Levithan6785"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692979123,"creation_date":1692979123,"answer_id":76978787,"question_id":76972887,"body_markdown":"After reviewing the comments and answers, I realized the original design I had was inherently flawed.\r\n\r\nI attempted to return and get data from an independent Application to be used in another Application. The correct approach was to have one Main Application with different classes to display sub windows (stages). And store that info in their respective class.\r\n\r\nBelow is the corrected approach for what I&#39;m trying to do.\r\n\r\n\r\n```java\r\npublic class MyScreen {\r\n    private String userText;\r\n\r\n    private void displayUserInputPrompt() {\r\n        Stage stage = new Stage();\r\n        // Create window controls\r\n        button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(final ActionEvent event) {\r\n                // Do stuff with user data\r\n                userText = textField.getText();\r\n                stage.close();\r\n            }\r\n        })\r\n\r\n       stage.initModality(Modality.APPLICATION_MODAL)\r\n       stage.showAndWait();\r\n    }\r\n\r\n    public getUserText() {\r\n        return userText;\r\n```\r\n\r\nMain Class\r\n```java\r\npublic class MyMainClass extends Application {\r\n    public static void main(String args[]) {\r\n        launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(final Stage primaryStage) {\r\n        // Setup Control elements\r\n        MyScreen newScreen = MyScreen();\r\n        newScreen.displayUserInputPrompt();\r\n        String text = newScreen.getUserText();\r\n        // Do stuff\r\n    }\r\n}\r\n```\r\n\r\nThe reason my original approach was flawed was because:\r\n1. launch() creates a reflection of the current class. So my new instance of MyScreen is not the same object that is created when calling launch();\r\n2. Only one Application per JVM instance is allowed.\r\n2. The MyMainClass should be the application object, and call classes that create different controls or stages. NOT another application.\r\n3. Sharing data between two applications should be done using: \r\n&gt; message queue, send an email, insert into a database, write a file to storage.\r\n","title":"JavaFx - Extended Application class variables reset after Stage Closes","body":"<p>After reviewing the comments and answers, I realized the original design I had was inherently flawed.</p>\n<p>I attempted to return and get data from an independent Application to be used in another Application. The correct approach was to have one Main Application with different classes to display sub windows (stages). And store that info in their respective class.</p>\n<p>Below is the corrected approach for what I'm trying to do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyScreen {\n    private String userText;\n\n    private void displayUserInputPrompt() {\n        Stage stage = new Stage();\n        // Create window controls\n        button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(final ActionEvent event) {\n                // Do stuff with user data\n                userText = textField.getText();\n                stage.close();\n            }\n        })\n\n       stage.initModality(Modality.APPLICATION_MODAL)\n       stage.showAndWait();\n    }\n\n    public getUserText() {\n        return userText;\n</code></pre>\n<p>Main Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyMainClass extends Application {\n    public static void main(String args[]) {\n        launch();\n    }\n\n    @Override\n    public void start(final Stage primaryStage) {\n        // Setup Control elements\n        MyScreen newScreen = MyScreen();\n        newScreen.displayUserInputPrompt();\n        String text = newScreen.getUserText();\n        // Do stuff\n    }\n}\n</code></pre>\n<p>The reason my original approach was flawed was because:</p>\n<ol>\n<li>launch() creates a reflection of the current class. So my new instance of MyScreen is not the same object that is created when calling launch();</li>\n<li>Only one Application per JVM instance is allowed.</li>\n<li>The MyMainClass should be the application object, and call classes that create different controls or stages. NOT another application.</li>\n<li>Sharing data between two applications should be done using:</li>\n</ol>\n<blockquote>\n<p>message queue, send an email, insert into a database, write a file to storage.</p>\n</blockquote>\n"}],"owner":{"account_id":16703650,"reputation":43,"user_id":12072633,"display_name":"Levithan6785"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76973534,"answer_count":2,"score":2,"last_activity_date":1692979123,"creation_date":1692910614,"question_id":76972887,"body_markdown":"I&#39;m working on creating a Desktop UI using JavaFX. The app will open a window where the user will input some information before closing it. My initial idea for returning the data, was to have this opened window save the info to the class variables. And I would use getters to retrieve the data from the class that created the UI application. However, it seems that the variables are getting reset to their original values after the window is closed and I am unable to retrieve the data. Below is psuedoCode for what I am trying to achieve.\r\n\r\nThe class for the UI.\r\n```java\r\npublic class MyScreen extends Application {\r\n    private String userText;\r\n\r\n    public void openWindow() {\r\n        launch();\r\n        System.out.println(&quot;3. &quot; + userText); // Outputs empty string.\r\n    }\r\n\r\n    @Override\r\n    private void start(Stage stage) {\r\n        // Create window controls\r\n        button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(final ActionEvent event) {\r\n                // Do stuff with user data\r\n                System.out.println(&quot;1. &quot; + userText); // Outputs empty string\r\n                userText = textField.getText();\r\n                System.out.println(&quot;2. &quot; + userText); // Outputs user inputted text.\r\n                stage.close();\r\n            }\r\n        })\r\n    }\r\n\r\n    public getUserText() {\r\n        return userText;\r\n    }\r\n}\r\n```\r\n\r\nThe calling class.\r\n```java\r\npublic class MyMainClass {\r\n    public static void main(String args[]) {\r\n        MyScreen screen = New MyScreen();\r\n        screen.openWindow();\r\n        System.out.println(&quot;4. &quot; + screen.getUserText());\r\n    }\r\n}\r\n```\r\nSample output from running my process:\r\n```\r\n&gt; 1.\r\n&gt; 2. sample text\r\n&gt; 3.\r\n&gt; 4.\r\n```\r\n\r\nWhat is the proper methodology to go about returning data from a class that instantiates a JavaFX ui?","title":"JavaFx - Extended Application class variables reset after Stage Closes","body":"<p>I'm working on creating a Desktop UI using JavaFX. The app will open a window where the user will input some information before closing it. My initial idea for returning the data, was to have this opened window save the info to the class variables. And I would use getters to retrieve the data from the class that created the UI application. However, it seems that the variables are getting reset to their original values after the window is closed and I am unable to retrieve the data. Below is psuedoCode for what I am trying to achieve.</p>\n<p>The class for the UI.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyScreen extends Application {\n    private String userText;\n\n    public void openWindow() {\n        launch();\n        System.out.println(&quot;3. &quot; + userText); // Outputs empty string.\n    }\n\n    @Override\n    private void start(Stage stage) {\n        // Create window controls\n        button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(final ActionEvent event) {\n                // Do stuff with user data\n                System.out.println(&quot;1. &quot; + userText); // Outputs empty string\n                userText = textField.getText();\n                System.out.println(&quot;2. &quot; + userText); // Outputs user inputted text.\n                stage.close();\n            }\n        })\n    }\n\n    public getUserText() {\n        return userText;\n    }\n}\n</code></pre>\n<p>The calling class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyMainClass {\n    public static void main(String args[]) {\n        MyScreen screen = New MyScreen();\n        screen.openWindow();\n        System.out.println(&quot;4. &quot; + screen.getUserText());\n    }\n}\n</code></pre>\n<p>Sample output from running my process:</p>\n<pre><code>&gt; 1.\n&gt; 2. sample text\n&gt; 3.\n&gt; 4.\n</code></pre>\n<p>What is the proper methodology to go about returning data from a class that instantiates a JavaFX ui?</p>\n"},{"tags":["java","security","bluemix-app-scan"],"answers":[{"tags":[],"owner":{"account_id":8584692,"reputation":9,"user_id":6431245,"display_name":"S.Wang"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483729775,"creation_date":1483729775,"answer_id":41512650,"question_id":40508481,"body_markdown":"The major goal of mitigating Validatoin.required finding is to validate against malicious input. Check in your code if any variable can be set to a value that can be controlled by a malicious user. Any input taking from outside of your system should be validated or sanitized using white-listing: https://www.owasp.org/index.php/Input_Validation_Cheat_Sheet#White_List_Input_Validation","title":"Appscan Validation.Required issue in java","body":"<p>The major goal of mitigating Validatoin.required finding is to validate against malicious input. Check in your code if any variable can be set to a value that can be controlled by a malicious user. Any input taking from outside of your system should be validated or sanitized using white-listing: <a href=\"https://www.owasp.org/index.php/Input_Validation_Cheat_Sheet#White_List_Input_Validation\" rel=\"nofollow noreferrer\">https://www.owasp.org/index.php/Input_Validation_Cheat_Sheet#White_List_Input_Validation</a></p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692978853,"creation_date":1692978853,"answer_id":76978739,"question_id":40508481,"body_markdown":"Validation.Required means you are using a value supplied by an end user, which is not under the control of your own application.  A malicious end user could supply a huge value that your program would then store, causing memory and performance issues.\r\n\r\nThe solution is simply to limit the length to something reasonable:\r\n\r\n    String tableName = this.request.getParameter(TABLE_NAME);\r\n\r\n    // There is no valid reason for a table name to be\r\n    // larger than 200 characters.\r\n    if (tableName.length() &gt; 200) {\r\n        throw new RuntimeException(\r\n            &quot;Request parameter &#39;&quot; + TABLE_NAME + &quot;&#39; is too long.&quot;);\r\n    }\r\n","title":"Appscan Validation.Required issue in java","body":"<p>Validation.Required means you are using a value supplied by an end user, which is not under the control of your own application.  A malicious end user could supply a huge value that your program would then store, causing memory and performance issues.</p>\n<p>The solution is simply to limit the length to something reasonable:</p>\n<pre><code>String tableName = this.request.getParameter(TABLE_NAME);\n\n// There is no valid reason for a table name to be\n// larger than 200 characters.\nif (tableName.length() &gt; 200) {\n    throw new RuntimeException(\n        &quot;Request parameter '&quot; + TABLE_NAME + &quot;' is too long.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":4721124,"reputation":1,"user_id":3818922,"display_name":"Siddhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692978853,"creation_date":1478699040,"question_id":40508481,"body_markdown":"I ran appScan on my application. I can see most of the Validation.Required issues for String objects. But, not sure what validation the appscan is expecting here. we have tried with null and empty check still there is no use. Please any one let me know what validation appscan expects on a string object.\r\n\r\n        String tableName = this.request.getParameter(TABLE_NAME);\r\n    \r\n    session.setAttribute(tableName + &quot;_&quot; + parentTableName + &quot;_editColumnMap&quot;, editableColumnsMap);\r\n\r\n\r\nPlease let me know if you need any more information","title":"Appscan Validation.Required issue in java","body":"<p>I ran appScan on my application. I can see most of the Validation.Required issues for String objects. But, not sure what validation the appscan is expecting here. we have tried with null and empty check still there is no use. Please any one let me know what validation appscan expects on a string object.</p>\n\n<pre><code>    String tableName = this.request.getParameter(TABLE_NAME);\n\nsession.setAttribute(tableName + \"_\" + parentTableName + \"_editColumnMap\", editableColumnsMap);\n</code></pre>\n\n<p>Please let me know if you need any more information</p>\n"},{"tags":["java","spring","logging","cucumber","test-framework"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692976036,"post_id":76977507,"comment_id":135702821,"body_markdown":"Why not start with something simple like `mvn test &gt;test.log 2&gt;&amp;1`?","body":"Why not start with something simple like <code>mvn test &gt;test.log 2&gt;&amp;1</code>?"},{"owner":{"account_id":28969176,"reputation":1,"user_id":22189881,"display_name":"Tatiana Povodova"},"score":0,"creation_date":1692977725,"post_id":76977507,"comment_id":135703217,"body_markdown":"Maven is running on Jenkins CI not from console","body":"Maven is running on Jenkins CI not from console"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692978783,"post_id":76977507,"comment_id":135703454,"body_markdown":"Ah OK. But you *could* run it from the console ..?","body":"Ah OK. But you <i>could</i> run it from the console ..?"}],"owner":{"account_id":28969176,"reputation":1,"user_id":22189881,"display_name":"Tatiana Povodova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692978733,"creation_date":1692968824,"question_id":76977507,"body_markdown":"I need to redirect maven build test errors (including full exception) which I see in Jenkins build console into a specific file using cucumber+java+spring?\r\n\r\nI&#39;ve tried to use redirectTestOutputToFile and useFile but it outputs only errors into separate file, not the one I need. ","title":"How to redirect maven build test errors in a specific file?","body":"<p>I need to redirect maven build test errors (including full exception) which I see in Jenkins build console into a specific file using cucumber+java+spring?</p>\n<p>I've tried to use redirectTestOutputToFile and useFile but it outputs only errors into separate file, not the one I need.</p>\n"},{"tags":["java","openapi"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1692978551,"post_id":76978436,"comment_id":135703401,"body_markdown":"I&#39;m not 100% sure, but I&#39;m _pretty_ sure no standard classloader looks for jars-within-jars. One thing you could do is to unzip the jar (a jar file is literally just a zip file with some filepath conventions) to get the internal zip file, and then manually create a class loader for that. Alternatively, you may be able to add the internal jar as a top-level dependency to your project (via maven, ant, etc &#160;whatever you&#39;re using), and so not have to deal with the jar-within-a-jar issue at all. You&#39;ll have A(continains B) and B as two top-level jars in your classpath.","body":"I&#39;m not 100% sure, but I&#39;m <i>pretty</i> sure no standard classloader looks for jars-within-jars. One thing you could do is to unzip the jar (a jar file is literally just a zip file with some filepath conventions) to get the internal zip file, and then manually create a class loader for that. Alternatively, you may be able to add the internal jar as a top-level dependency to your project (via maven, ant, etc  whatever you&#39;re using), and so not have to deal with the jar-within-a-jar issue at all. You&#39;ll have A(continains B) and B as two top-level jars in your classpath."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1692986319,"post_id":76978436,"comment_id":135704918,"body_markdown":"Which exactly features of the OpenAPI Generator do you need to change? If you need to change the code that it generates, this is done by [providing custom templates](https://openapi-generator.tech/docs/templating) as as argument to the CLI/JAR.","body":"Which exactly features of the OpenAPI Generator do you need to change? If you need to change the code that it generates, this is done by <a href=\"https://openapi-generator.tech/docs/templating\" rel=\"nofollow noreferrer\">providing custom templates</a> as as argument to the CLI/JAR."},{"owner":{"account_id":29298550,"reputation":9,"user_id":22447352,"display_name":"Adam"},"score":0,"creation_date":1693074013,"post_id":76978436,"comment_id":135713117,"body_markdown":"I need to change it so that it creates the models into packages from the &quot;tags&quot; or &quot;paths&quot; of the provided json","body":"I need to change it so that it creates the models into packages from the &quot;tags&quot; or &quot;paths&quot; of the provided json"}],"answers":[{"comments":[{"owner":{"account_id":29298550,"reputation":9,"user_id":22447352,"display_name":"Adam"},"score":1,"creation_date":1692980154,"post_id":76978678,"comment_id":135703719,"body_markdown":"I&#39;m using VS Code  and this is what I have in my settings.json\n{\n  &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\n  &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n  &quot;java.project.referencedLibraries&quot;: [\n    &quot;lib/**/*.jar&quot;\n  ]\n}\nout of desperation I even added the jar that has AbstractMojo(maven-plugin-api-3.9.4.jar) as well in my main project and it still doesn&#39;t work. \nThe classes are visible to the editor but not when executed.","body":"I&#39;m using VS Code  and this is what I have in my settings.json {   &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],   &quot;java.project.outputPath&quot;: &quot;bin&quot;,   &quot;java.project.referencedLibraries&quot;: [     &quot;lib/**/*.jar&quot;   ] } out of desperation I even added the jar that has AbstractMojo(maven-plugin-api-3.9.4.jar) as well in my main project and it still doesn&#39;t work.  The classes are visible to the editor but not when executed."},{"owner":{"account_id":25741180,"reputation":21,"user_id":19495165,"display_name":"EdwardT2021"},"score":0,"creation_date":1692981059,"post_id":76978678,"comment_id":135703888,"body_markdown":"So I think settings.json is only used by vscode hence visible to the editor but the project cant actually see it. Are you using something like maven or gradle to build your project?","body":"So I think settings.json is only used by vscode hence visible to the editor but the project cant actually see it. Are you using something like maven or gradle to build your project?"},{"owner":{"account_id":29298550,"reputation":9,"user_id":22447352,"display_name":"Adam"},"score":0,"creation_date":1693073913,"post_id":76978678,"comment_id":135713107,"body_markdown":"No i&#39;m not using maven or gradle it&#39;s just a simple javafx project that i&#39;m using to invoke the jar through an interface","body":"No i&#39;m not using maven or gradle it&#39;s just a simple javafx project that i&#39;m using to invoke the jar through an interface"}],"tags":[],"owner":{"account_id":25741180,"reputation":21,"user_id":19495165,"display_name":"EdwardT2021"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692978351,"creation_date":1692978351,"answer_id":76978678,"question_id":76978436,"body_markdown":"This sort of error implies that during runtime classes available when\r\nfirst compiled are no longer available. Ensure that the application classpath includes your new jar files. Then rebuild your project. Also check if there are any other errors to see if this is caused by a static class failing to initialise. See [here][1] for more info\r\n\r\n\r\n  [1]: https://rollbar.com/blog/java-no-class-def-found-error","title":"Does java allow you to instantiate a class inside a jar that extends a class from a jar inside the first jar?","body":"<p>This sort of error implies that during runtime classes available when\nfirst compiled are no longer available. Ensure that the application classpath includes your new jar files. Then rebuild your project. Also check if there are any other errors to see if this is caused by a static class failing to initialise. See <a href=\"https://rollbar.com/blog/java-no-class-def-found-error\" rel=\"nofollow noreferrer\">here</a> for more info</p>\n"}],"owner":{"account_id":29298550,"reputation":9,"user_id":22447352,"display_name":"Adam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692978351,"creation_date":1692976240,"question_id":76978436,"body_markdown":"I&#39;m being tasked in my internship to update a couple features in the OpenApiGenerator tool. As such I needed to use it&#39;s source code so I exported it to jar to use it easier but the problem is that it itself has a jar inside it that other classes use:\r\npublic class CodeGenMojo extends AbstractMojo \r\nCodeGenMojo is in the jar I created from the source code and AbstractMojo is in a jar in the source code.\r\nI&#39;m still new to java and jars so I&#39;m kind of lost here.\r\n\r\n\r\nWhen I try to create an instance of CodeGenMojo I get:\r\n Caused by: java.lang.NoClassDefFoundError: org/openapitools/codegen/plugin/CodeGenMojo\r\n Caused by: java.lang.ClassNotFoundException: org.openapitools.codegen.plugin.CodeGenMojo\r\nAnd I wanted to make sure if it was even possible to use a jar within a jar or is it something else.","title":"Does java allow you to instantiate a class inside a jar that extends a class from a jar inside the first jar?","body":"<p>I'm being tasked in my internship to update a couple features in the OpenApiGenerator tool. As such I needed to use it's source code so I exported it to jar to use it easier but the problem is that it itself has a jar inside it that other classes use:\npublic class CodeGenMojo extends AbstractMojo\nCodeGenMojo is in the jar I created from the source code and AbstractMojo is in a jar in the source code.\nI'm still new to java and jars so I'm kind of lost here.</p>\n<p>When I try to create an instance of CodeGenMojo I get:\nCaused by: java.lang.NoClassDefFoundError: org/openapitools/codegen/plugin/CodeGenMojo\nCaused by: java.lang.ClassNotFoundException: org.openapitools.codegen.plugin.CodeGenMojo\nAnd I wanted to make sure if it was even possible to use a jar within a jar or is it something else.</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692976709,"post_id":76978437,"comment_id":135702992,"body_markdown":"Does this answer your question? [Best way to build a Plugin system with Java](https://stackoverflow.com/questions/465099/best-way-to-build-a-plugin-system-with-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/465099/best-way-to-build-a-plugin-system-with-java\">Best way to build a Plugin system with Java</a>"},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1694004344,"post_id":76978437,"comment_id":135833863,"body_markdown":"Can you add more client code which is actually using these library.The target is to get the contact for commonality between the implementations","body":"Can you add more client code which is actually using these library.The target is to get the contact for commonality between the implementations"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692978054,"creation_date":1692978054,"answer_id":76978644,"question_id":76978437,"body_markdown":"You can hide the logic for choosing between LibraryA and LibraryB in a [factory method][1].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern","title":"Design Pattern for using Multiple Libraries to achieve one thing","body":"<p>You can hide the logic for choosing between LibraryA and LibraryB in a <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">factory method</a>.</p>\n"}],"owner":{"account_id":11092340,"reputation":21,"user_id":8143748,"display_name":"Vishal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692978054,"creation_date":1692976243,"question_id":76978437,"body_markdown":"Scenario:\r\n\r\n1. I have two Libraries which are essentially doing same things but in a different way\r\n2. Their parameter types, return types and even method names are different from each other.\r\n3. I need to design a class which at the very beginning decides whether it needs to chose Library A or Library B for its working throughout the code\r\n\r\nI am using an abstract class with generics to define the template of the common interface\r\n\r\n```\r\npublic abstract class LibraryInterface&lt;A,B,C&gt; {\r\n\r\n    public abstract List&lt;B&gt; methodA(A a,B b,C c);\r\n\r\n    public abstract List&lt;C&gt; methodB(B b);\r\n\r\n    public abstract List&lt;A&gt; methodC();\r\n}\r\n```\r\n\r\nIt has 2 implementations, each for Library A and Library B\r\n\r\n```\r\npublic class LibraryA extends LibraryInterface&lt;ObjectA,ObjectB,ObjectC&gt; {\r\n    \r\n    @Override\r\n    public List&lt;ObjectB&gt; methodA(ObjectA a,ObjectB b,ObjectC c) {\r\n         // do something\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ObjectC&gt; methodB(ObjectB b) {\r\n         // do something\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ObjectA&gt; methodC() {\r\n         // do something\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class LibraryB extends LibraryInterface&lt;ObjectD,ObjectE,ObjectF&gt; {\r\n    \r\n    @Override\r\n    public List&lt;ObjectE&gt; methodA(ObjectD d,ObjectE e,ObjectF f) {\r\n         // do something\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ObjectF&gt; methodB(ObjectE e) {\r\n         // do something\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ObjectD&gt; methodC() {\r\n         // do something\r\n    }\r\n\r\n}\r\n```\r\n\r\nProblem:\r\n1. I need to chose a particular implementation at the start of my client code and then use it throughout.\r\n2. However I cannot couple my client code with specific implementation of a Library.\r\n\r\nHow do I design my client code to effectively use these libraries.\r\n\r\nUPDATE:\r\n1.Plugin system does not solve for my client code issue which needs to heavily work with one of the library implementations","title":"Design Pattern for using Multiple Libraries to achieve one thing","body":"<p>Scenario:</p>\n<ol>\n<li>I have two Libraries which are essentially doing same things but in a different way</li>\n<li>Their parameter types, return types and even method names are different from each other.</li>\n<li>I need to design a class which at the very beginning decides whether it needs to chose Library A or Library B for its working throughout the code</li>\n</ol>\n<p>I am using an abstract class with generics to define the template of the common interface</p>\n<pre><code>public abstract class LibraryInterface&lt;A,B,C&gt; {\n\n    public abstract List&lt;B&gt; methodA(A a,B b,C c);\n\n    public abstract List&lt;C&gt; methodB(B b);\n\n    public abstract List&lt;A&gt; methodC();\n}\n</code></pre>\n<p>It has 2 implementations, each for Library A and Library B</p>\n<pre><code>public class LibraryA extends LibraryInterface&lt;ObjectA,ObjectB,ObjectC&gt; {\n    \n    @Override\n    public List&lt;ObjectB&gt; methodA(ObjectA a,ObjectB b,ObjectC c) {\n         // do something\n    }\n\n    @Override\n    public List&lt;ObjectC&gt; methodB(ObjectB b) {\n         // do something\n    }\n\n    @Override\n    public List&lt;ObjectA&gt; methodC() {\n         // do something\n    }\n\n}\n</code></pre>\n<pre><code>public class LibraryB extends LibraryInterface&lt;ObjectD,ObjectE,ObjectF&gt; {\n    \n    @Override\n    public List&lt;ObjectE&gt; methodA(ObjectD d,ObjectE e,ObjectF f) {\n         // do something\n    }\n\n    @Override\n    public List&lt;ObjectF&gt; methodB(ObjectE e) {\n         // do something\n    }\n\n    @Override\n    public List&lt;ObjectD&gt; methodC() {\n         // do something\n    }\n\n}\n</code></pre>\n<p>Problem:</p>\n<ol>\n<li>I need to chose a particular implementation at the start of my client code and then use it throughout.</li>\n<li>However I cannot couple my client code with specific implementation of a Library.</li>\n</ol>\n<p>How do I design my client code to effectively use these libraries.</p>\n<p>UPDATE:\n1.Plugin system does not solve for my client code issue which needs to heavily work with one of the library implementations</p>\n"},{"tags":["java","wso2","ojdbc"],"comments":[{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1692963925,"post_id":76973905,"comment_id":135699820,"body_markdown":"Not sure why you are getting this, you can update the Integration Studio to the latest version. If that doesn&#39;t work you can ignore this as this will not affect the functionality when you deploy the actual service to the runtime.","body":"Not sure why you are getting this, you can update the Integration Studio to the latest version. If that doesn&#39;t work you can ignore this as this will not affect the functionality when you deploy the actual service to the runtime."},{"owner":{"account_id":13188725,"reputation":1,"user_id":9525736,"display_name":"Saray Kim"},"score":0,"creation_date":1692978009,"post_id":76973905,"comment_id":135703279,"body_markdown":"I already try brother. Let me try to search more. By the way thank you for your comment :)","body":"I already try brother. Let me try to search more. By the way thank you for your comment :)"}],"owner":{"account_id":13188725,"reputation":1,"user_id":9525736,"display_name":"Saray Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692977828,"creation_date":1692930253,"question_id":76973905,"body_markdown":"Do you ever face this problem on WSO2?\r\n\r\nReason: `java.sql.SQLException: no suitable driver found for jdbc:oracle`\r\n\r\nI would like to connection with Oracle Database vai wso2 (DBlookup Mediator).\r\n\r\n[Reference Image][1]\r\n\r\n**Log Detail**\r\n\r\n```\r\njava.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@192.168.0.109:1521/CMSUAT3\r\nNo suitable driver found for jdbc:oracle:thin:@192.168.0.109:1521/CMSUAT3\r\n  java.base/java.lang.Thread.getStackTrace(Thread.java:1607)\r\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider.createMultiStatus(DependencyProvider.java:1657)\r\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider.testConnecton(DependencyProvider.java:1354)\r\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider$10.handleEvent(DependencyProvider.java:954)\r\n  org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n  org.eclipse.swt.widgets.Display.sendEvent(Display.java:4243)\r\n  org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1060)\r\n  org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4060)\r\n  org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3632)\r\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider.open(DependencyProvider.java:1037)\r\n  org.wso2.integrationstudio.gmf.esb.parts.forms.DBLookupMediatorPropertiesEditionPartForm$10$1$1.run(DBLookupMediatorPropertiesEditionPartForm.java:702)\r\n  org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\r\n  org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:185)\r\n  org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4035)\r\n  org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3635)\r\n  org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1154)\r\n  org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n  org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1045)\r\n  org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n  org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n  org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n  org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n  org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n  org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n  org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n  org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n  org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n  java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n  java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n  org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n  org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n  org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n```\r\n\r\nDriver using: `ojdbc11.jar`\r\n\r\nPlease help comment :)\r\n\r\n&lt;!-- List Image --&gt;\r\n\r\n[1]: https://i.stack.imgur.com/VahUk.png","title":"WSO2 - java.sql.SQLException: no suitable driver found for jdbc:oracle","body":"<p>Do you ever face this problem on WSO2?</p>\n<p>Reason: <code>java.sql.SQLException: no suitable driver found for jdbc:oracle</code></p>\n<p>I would like to connection with Oracle Database vai wso2 (DBlookup Mediator).</p>\n<p><a href=\"https://i.stack.imgur.com/VahUk.png\" rel=\"nofollow noreferrer\">Reference Image</a></p>\n<p><strong>Log Detail</strong></p>\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@192.168.0.109:1521/CMSUAT3\nNo suitable driver found for jdbc:oracle:thin:@192.168.0.109:1521/CMSUAT3\n  java.base/java.lang.Thread.getStackTrace(Thread.java:1607)\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider.createMultiStatus(DependencyProvider.java:1657)\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider.testConnecton(DependencyProvider.java:1354)\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider$10.handleEvent(DependencyProvider.java:954)\n  org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n  org.eclipse.swt.widgets.Display.sendEvent(Display.java:4243)\n  org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1060)\n  org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4060)\n  org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3632)\n  org.wso2.integrationstudio.gmf.esb.presentation.DependencyProvider.open(DependencyProvider.java:1037)\n  org.wso2.integrationstudio.gmf.esb.parts.forms.DBLookupMediatorPropertiesEditionPartForm$10$1$1.run(DBLookupMediatorPropertiesEditionPartForm.java:702)\n  org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\n  org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:185)\n  org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4035)\n  org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3635)\n  org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1154)\n  org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n  org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1045)\n  org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n  org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\n  org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n  org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\n  org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\n  org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n  org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n  org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n  org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n  java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.base/java.lang.reflect.Method.invoke(Method.java:566)\n  org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n  org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n  org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n</code></pre>\n<p>Driver using: <code>ojdbc11.jar</code></p>\n<p>Please help comment :)</p>\n\n"},{"tags":["java","spring-integration-sftp"],"owner":{"account_id":13682657,"reputation":7,"user_id":9872609,"display_name":"Abraham Macias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692977625,"creation_date":1692977149,"question_id":76978552,"body_markdown":"Well I need to include a trace Id in the log for each file downloaded and processed from  the SFTP server. I was investigating and reading about it, especially for AWS but nothing, please let me know if this is possible and please give me some link or documentation for read it. Thankyou!!","title":"Is possible include a trace Id when I&#39;m using SFTP adapters with Spring Integration?","body":"<p>Well I need to include a trace Id in the log for each file downloaded and processed from  the SFTP server. I was investigating and reading about it, especially for AWS but nothing, please let me know if this is possible and please give me some link or documentation for read it. Thankyou!!</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692977050,"creation_date":1692977050,"answer_id":76978538,"question_id":76975282,"body_markdown":"Use this way which is efficient\r\n\r\n    public Publisher&lt;Document&gt; getCollectionStats(MongoDatabase database, String collectionName, MongoDbCollectionStatsUnit scale) {\r\n    return database.runCommand(new Document(&quot;collStats&quot;, collectionName).append(&quot;scale&quot;, scale.size));\r\n  }\r\n\r\nAnd to get list of Collection names\r\n\r\n    import org.bson.Document;\r\n    import org.reactivestreams.Publisher;\r\n    import reactor.core.publisher.Flux;\r\n        \r\n    List&lt;JsonObject&gt; collectionsFiltered = new ArrayList&lt;&gt;();\r\n    MongoDatabase database = mongoReactveStreamsClient.getDatabase(dbName);\r\n    Flux.from(database.listCollectionNames())\r\n        .filter(p -&gt; p.contains(keyword))\r\n        .flatMap(collectionName -&gt; getCollectionStats(database, collectionName, scale))\r\n        .subscribe(stats -&gt; {\r\n          stats.getInteger(&quot;size&quot;);\r\n          stats.getInteger(&quot;count&quot;);\r\n          stats.getInteger(&quot;storageSize&quot;);\r\n          \r\n        }, error -&gt; {\r\n          error.printStacktrace();\r\n        });","title":"Get MongoDB Collection stats took more time using reactivestreams library","body":"<p>Use this way which is efficient</p>\n<pre><code>public Publisher&lt;Document&gt; getCollectionStats(MongoDatabase database, String collectionName, MongoDbCollectionStatsUnit scale) {\nreturn database.runCommand(new Document(&quot;collStats&quot;, collectionName).append(&quot;scale&quot;, scale.size));\n</code></pre>\n<p>}</p>\n<p>And to get list of Collection names</p>\n<pre><code>import org.bson.Document;\nimport org.reactivestreams.Publisher;\nimport reactor.core.publisher.Flux;\n    \nList&lt;JsonObject&gt; collectionsFiltered = new ArrayList&lt;&gt;();\nMongoDatabase database = mongoReactveStreamsClient.getDatabase(dbName);\nFlux.from(database.listCollectionNames())\n    .filter(p -&gt; p.contains(keyword))\n    .flatMap(collectionName -&gt; getCollectionStats(database, collectionName, scale))\n    .subscribe(stats -&gt; {\n      stats.getInteger(&quot;size&quot;);\n      stats.getInteger(&quot;count&quot;);\n      stats.getInteger(&quot;storageSize&quot;);\n      \n    }, error -&gt; {\n      error.printStacktrace();\n    });\n</code></pre>\n"}],"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692977050,"creation_date":1692949794,"question_id":76975282,"body_markdown":"This is my method to get Collection stas using reactivestreams library.\r\n\r\n```\r\nimport com.mongodb.reactivestreams.client.MongoDatabase;\r\nimport org.bson.Document;\r\nimport org.reactivestreams.Subscriber;\r\nimport org.reactivestreams.Subscription;\r\n\r\ncom.mongodb.reactivestreams.client.MongoClient mongoReactveStreamsClient;\r\n\r\nprivate CompletableFuture&lt;String&gt; getCollectionStats(String collectionName) {\r\n    MongoDatabase database = mongoReactveStreamsClient.getDatabase(dbName);\r\n    CompletableFuture&lt;String&gt; result = new CompletableFuture&lt;&gt;();\r\n\r\n    database.runCommand(new Document(&quot;collStats&quot;, collectionName)).subscribe(new Subscriber&lt;Document&gt;() {\r\n      private Subscription subscription;\r\n\r\n      @Override\r\n      public void onSubscribe(Subscription s) {\r\n        subscription = s;\r\n        s.request(1);\r\n      }\r\n\r\n      @Override\r\n      public void onNext(Document document) {\r\n        //subscription.cancel();\r\n        result.complete(document.toJson());\r\n      }\r\n\r\n      @Override\r\n      public void onError(Throwable t) {\r\n        logger.info(&quot;onError [ERROR]----------------------------&quot;+t.getMessage());\r\n      }\r\n\r\n      @Override\r\n      public void onComplete() {\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n```\r\n\r\npom.xml\r\nI have dependency from my pom.xml using 3.9.1 version of mongodb driver reactivestreams\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n &lt;artifactId&gt;mongodb-driver-reactivestreams&lt;/artifactId&gt;\r\n &lt;version&gt;3.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI am using vertx framework where it goes thread blocked issue by blocking get stats method over 1 min, In a list I have only 3 collection names from my mongoDB.","title":"Get MongoDB Collection stats took more time using reactivestreams library","body":"<p>This is my method to get Collection stas using reactivestreams library.</p>\n<pre><code>import com.mongodb.reactivestreams.client.MongoDatabase;\nimport org.bson.Document;\nimport org.reactivestreams.Subscriber;\nimport org.reactivestreams.Subscription;\n\ncom.mongodb.reactivestreams.client.MongoClient mongoReactveStreamsClient;\n\nprivate CompletableFuture&lt;String&gt; getCollectionStats(String collectionName) {\n    MongoDatabase database = mongoReactveStreamsClient.getDatabase(dbName);\n    CompletableFuture&lt;String&gt; result = new CompletableFuture&lt;&gt;();\n\n    database.runCommand(new Document(&quot;collStats&quot;, collectionName)).subscribe(new Subscriber&lt;Document&gt;() {\n      private Subscription subscription;\n\n      @Override\n      public void onSubscribe(Subscription s) {\n        subscription = s;\n        s.request(1);\n      }\n\n      @Override\n      public void onNext(Document document) {\n        //subscription.cancel();\n        result.complete(document.toJson());\n      }\n\n      @Override\n      public void onError(Throwable t) {\n        logger.info(&quot;onError [ERROR]----------------------------&quot;+t.getMessage());\n      }\n\n      @Override\n      public void onComplete() {\n      }\n    });\n    return result;\n  }\n</code></pre>\n<p>pom.xml\nI have dependency from my pom.xml using 3.9.1 version of mongodb driver reactivestreams</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n &lt;artifactId&gt;mongodb-driver-reactivestreams&lt;/artifactId&gt;\n &lt;version&gt;3.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using vertx framework where it goes thread blocked issue by blocking get stats method over 1 min, In a list I have only 3 collection names from my mongoDB.</p>\n"},{"tags":["java","constructor","abstract"],"comments":[{"owner":{"account_id":3252686,"reputation":252,"user_id":2742554,"accept_rate":100,"display_name":"Kuldeep S Chauhan"},"score":0,"creation_date":1403787566,"post_id":3164334,"comment_id":37799984,"body_markdown":"An Elegant solution can be found here : http://stackoverflow.com/questions/6028526/java-force-an-extending-class","body":"An Elegant solution can be found here : <a href=\"http://stackoverflow.com/questions/6028526/java-force-an-extending-class\" title=\"java force an extending class\">stackoverflow.com/questions/6028526/&hellip;</a>"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1675960128,"post_id":3164334,"comment_id":133044366,"body_markdown":"in fact, it prolly can be done with apt proccesor ... [here (in update)](https://stackoverflow.com/questions/1571905/how-can-i-enforce-a-type-constructor-in-a-concrete-class-through-the-interface-i#answer-1571950) is a mentioned to do this to no arg constructor and there is a link ... and in code from link you can change `visitExecutable` to check not `t.getParameterTypes().isEmpty()` but if parameters are given classes (you can prolly pass it to annotation)... it will work at compile time","body":"in fact, it prolly can be done with apt proccesor ... <a href=\"https://stackoverflow.com/questions/1571905/how-can-i-enforce-a-type-constructor-in-a-concrete-class-through-the-interface-i#answer-1571950\">here (in update)</a> is a mentioned to do this to no arg constructor and there is a link ... and in code from link you can change <code>visitExecutable</code> to check not <code>t.getParameterTypes().isEmpty()</code> but if parameters are given classes (you can prolly pass it to annotation)... it will work at compile time"}],"answers":[{"comments":[{"owner":{"account_id":128695,"reputation":1119,"user_id":326730,"display_name":"dodecaplex"},"score":2,"creation_date":1278063819,"post_id":3164343,"comment_id":3254897,"body_markdown":"Lets say that I am defining the API of a Matrix class. In my problem, Matrix cannot change their dimensions.\n\nFor a Matrix to be created, I need to provide its size.\n\nHence, I want all my implementors to provide the constructor with the size as a parameter. This constructor is motivated by the problem, not by an implementation concern. The implementation can do whatever it wants with these, provided that all the semantic of the methods are kept.","body":"Lets say that I am defining the API of a Matrix class. In my problem, Matrix cannot change their dimensions.  For a Matrix to be created, I need to provide its size.  Hence, I want all my implementors to provide the constructor with the size as a parameter. This constructor is motivated by the problem, not by an implementation concern. The implementation can do whatever it wants with these, provided that all the semantic of the methods are kept."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1278065030,"post_id":3164343,"comment_id":3255011,"body_markdown":"@dodecaplex: But what if you want to create a `FixedSizeMatrix` implementation which is *always* 10 x 10? You can&#39;t *call* constructors polymorphically anyway, so why are you trying to restrict the implementation?","body":"@dodecaplex: But what if you want to create a <code>FixedSizeMatrix</code> implementation which is <i>always</i> 10 x 10? You can&#39;t <i>call</i> constructors polymorphically anyway, so why are you trying to restrict the implementation?"},{"owner":{"account_id":128695,"reputation":1119,"user_id":326730,"display_name":"dodecaplex"},"score":1,"creation_date":1278068344,"post_id":3164343,"comment_id":3255397,"body_markdown":"Well then the implementation will not conform to my API... If it has good reason to do it, then, it will provide a zero arg constructor and a 2 args constructor that will raise an Exception if args are not 10x10.\n\nThis means that I will still be able to create an empty Matrix of the same implementation and of the same size (without knowing the effective implementation), but I&#39;ll get an exception if I try to use this implementation for non 10x10 Matrixes.","body":"Well then the implementation will not conform to my API... If it has good reason to do it, then, it will provide a zero arg constructor and a 2 args constructor that will raise an Exception if args are not 10x10.  This means that I will still be able to create an empty Matrix of the same implementation and of the same size (without knowing the effective implementation), but I&#39;ll get an exception if I try to use this implementation for non 10x10 Matrixes."},{"owner":{"account_id":128695,"reputation":1119,"user_id":326730,"display_name":"dodecaplex"},"score":0,"creation_date":1278068881,"post_id":3164343,"comment_id":3255448,"body_markdown":"I do not want to restrict the implementation, but to properly define the contract it has to fullfil.\n\nThe only thing is why shouldn&#39;t I be able to include a constructor in the contract ?","body":"I do not want to restrict the implementation, but to properly define the contract it has to fullfil.  The only thing is why shouldn&#39;t I be able to include a constructor in the contract ?"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":3,"creation_date":1278071219,"post_id":3164343,"comment_id":3255701,"body_markdown":"@dodecaplex, you could easily declare a constructor in the abstract class that took two ints, and then a no-arg constructor for `FixedSizeMatrix` which looks like `public FixedSizeMatrix() { super(10, 10); }`, like Jon said. APIs are less about constructors (how you build an object) than they are about methods (how you use an object).","body":"@dodecaplex, you could easily declare a constructor in the abstract class that took two ints, and then a no-arg constructor for <code>FixedSizeMatrix</code> which looks like <code>public FixedSizeMatrix() { super(10, 10); }</code>, like Jon said. APIs are less about constructors (how you build an object) than they are about methods (how you use an object)."},{"owner":{"account_id":6671110,"reputation":601,"user_id":5147246,"display_name":"klaar"},"score":0,"creation_date":1438856399,"post_id":3164343,"comment_id":51625994,"body_markdown":"@mattb The problem with that is that the abstract class would then have the implement its constructor, something that OP was trying to avoid. He _could_ however delegate the implementation of that constructor to an abstract method, but that would violate other principles, alas.","body":"@mattb The problem with that is that the abstract class would then have the implement its constructor, something that OP was trying to avoid. He <i>could</i> however delegate the implementation of that constructor to an abstract method, but that would violate other principles, alas."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1518694566,"post_id":3164343,"comment_id":84615226,"body_markdown":"You *can&#39;t* call constructors polymorphically, but you *can* use reflection: `getClass().getConstructor(Integer.TYPE, Integer.TYPE).newInstance(initargs)` would not throw a `NoSuchMethodException`.","body":"You <i>can&#39;t</i> call constructors polymorphically, but you <i>can</i> use reflection: <code>getClass().getConstructor(Integer.TYPE, Integer.TYPE).newInstance(initargs)</code> would not throw a <code>NoSuchMethodException</code>."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1689010543,"post_id":3164343,"comment_id":135149771,"body_markdown":"*You can&#39;t force a particular signature of constructor in your subclass* yes, you can... Using apt processor","body":"<i>You can&#39;t force a particular signature of constructor in your subclass</i> yes, you can... Using apt processor"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":8,"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1278061037,"creation_date":1278061037,"answer_id":3164343,"question_id":3164334,"body_markdown":"You can&#39;t force a particular signature of constructor in your subclass - but you *can* force it to go through a constructor in your abstract class taking two integers. Subclasses *could* call that constructor from a parameterless constructor, passing in constants, for example. That&#39;s the closest you can come though.\r\n\r\nMoreover, as you say, you don&#39;t know anything about the implementation - so how do you know that it&#39;s appropriate for them to have a constructor which requires two integers? What if one of them needs a String as well? Or possibly it makes sense for it to use a constant for one of those integers.\r\n\r\nWhat&#39;s the bigger picture here - *why* do you want to force a particular constructor signature on your subclasses? (As I say, you can&#39;t actually *do* this, but if you explain why you want it, a solution might present itself.)\r\n\r\nOne option is to have a separate interface for a factory:\r\n\r\n    interface MyClassFactory\r\n    {\r\n        MyClass newInstance(int x, int y);\r\n    }\r\n\r\nThen each of your concrete subclasses of `MyClass` would also need a factory which knew how to build an instance given two integers. It&#39;s not terribly convenient though - and you&#39;d still need to build instances of the factories themselves. Again, what&#39;s the real situation here?","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>You can't force a particular signature of constructor in your subclass - but you <em>can</em> force it to go through a constructor in your abstract class taking two integers. Subclasses <em>could</em> call that constructor from a parameterless constructor, passing in constants, for example. That's the closest you can come though.</p>\n\n<p>Moreover, as you say, you don't know anything about the implementation - so how do you know that it's appropriate for them to have a constructor which requires two integers? What if one of them needs a String as well? Or possibly it makes sense for it to use a constant for one of those integers.</p>\n\n<p>What's the bigger picture here - <em>why</em> do you want to force a particular constructor signature on your subclasses? (As I say, you can't actually <em>do</em> this, but if you explain why you want it, a solution might present itself.)</p>\n\n<p>One option is to have a separate interface for a factory:</p>\n\n<pre><code>interface MyClassFactory\n{\n    MyClass newInstance(int x, int y);\n}\n</code></pre>\n\n<p>Then each of your concrete subclasses of <code>MyClass</code> would also need a factory which knew how to build an instance given two integers. It's not terribly convenient though - and you'd still need to build instances of the factories themselves. Again, what's the real situation here?</p>\n"},{"comments":[{"owner":{"account_id":128695,"reputation":1119,"user_id":326730,"display_name":"dodecaplex"},"score":1,"creation_date":1278063589,"post_id":3164498,"comment_id":3254871,"body_markdown":"Well, if I&#39;m defining a Point in a n-dimension space, I know for sure that the point cannot exist in a m-dimension space (m != n). Hence, It seems to me that the dimension of the space is an INHERENT attribute of the Point, regardless of the point implementation. As far as I can tell this is encapsulation and data abstraction.\n\nIf the dimension is NECESSARILY known for each instance to be created it seems natural to REQUIRE all implementations to provide a constructor that takes this argument.","body":"Well, if I&#39;m defining a Point in a n-dimension space, I know for sure that the point cannot exist in a m-dimension space (m != n). Hence, It seems to me that the dimension of the space is an INHERENT attribute of the Point, regardless of the point implementation. As far as I can tell this is encapsulation and data abstraction.  If the dimension is NECESSARILY known for each instance to be created it seems natural to REQUIRE all implementations to provide a constructor that takes this argument."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1278087882,"post_id":3164498,"comment_id":3258139,"body_markdown":"@dodecaplex, Ahh, a point, great example. Let us suppose you are talking about a 2-dimensional point. Well, sure, I can use an x and y value to represent it. Or, I can use a radians/degrees value and a distance value to represent it. Just one example. There could be other ways. You only think you know how one might implement. Anyway, by definition, if you are trying to enforce a representation you are not using data abstraction.","body":"@dodecaplex, Ahh, a point, great example. Let us suppose you are talking about a 2-dimensional point. Well, sure, I can use an x and y value to represent it. Or, I can use a radians/degrees value and a distance value to represent it. Just one example. There could be other ways. You only think you know how one might implement. Anyway, by definition, if you are trying to enforce a representation you are not using data abstraction."}],"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1278062507,"creation_date":1278062507,"answer_id":3164498,"question_id":3164334,"body_markdown":"If you need to define in your interface the internal representation that implementing classes will use, then you are just doing it wrong. Please go read about [encapsulation][1] and [data abstraction][2].\r\n\r\nIf your abstract implementation relies on certain implementation details, then they belong to that abstract class. Meaning, the abstract class should define a constructor which allows it to initialize the internal state needed to allow the abstracted methods to work.\r\n\r\nGenerally, constructors are intended to create an instance of a class by providing some details of the initial state of that object instance. This does not mean that the instance being constructed should copy a reference to each individual argument as is often the case in most software I see. Therefore, even if Java did offer a construct for forcing the implementation of certain Constructor signatures on subclasses, those subclasses could easily discard the arguments. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Encapsulation_(computer_science)#Encapsulation\r\n  [2]: http://en.wikipedia.org/wiki/Data_abstraction#Data_abstraction","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>If you need to define in your interface the internal representation that implementing classes will use, then you are just doing it wrong. Please go read about <a href=\"http://en.wikipedia.org/wiki/Encapsulation_(computer_science)#Encapsulation\" rel=\"nofollow noreferrer\">encapsulation</a> and <a href=\"http://en.wikipedia.org/wiki/Data_abstraction#Data_abstraction\" rel=\"nofollow noreferrer\">data abstraction</a>.</p>\n\n<p>If your abstract implementation relies on certain implementation details, then they belong to that abstract class. Meaning, the abstract class should define a constructor which allows it to initialize the internal state needed to allow the abstracted methods to work.</p>\n\n<p>Generally, constructors are intended to create an instance of a class by providing some details of the initial state of that object instance. This does not mean that the instance being constructed should copy a reference to each individual argument as is often the case in most software I see. Therefore, even if Java did offer a construct for forcing the implementation of certain Constructor signatures on subclasses, those subclasses could easily discard the arguments. </p>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10755,"user_id":348975,"accept_rate":86,"display_name":"emory"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1406812063,"creation_date":1278071987,"answer_id":3165436,"question_id":3164334,"body_markdown":"\r\nYou could try something like below.  The constructor will thrown an exception if the implementing class does not have a constructor with the appropriate arguments.\r\n\r\nThis is silly.  Compare OK and Bad.  Both classes are the same, except that OK meets your requirement and thus passes the runtime checks.  Thus enforcing the requirement promotes counter-productive busy work.\r\n\r\nA better solution would be some sort of Factory.\r\n\r\n    abstract class RequiresConstructor\r\n    {\r\n        RequiresConstructor( int x, int y ) throws NoSuchMethodException\r\n        {\r\n    \tsuper();\r\n    \tSystem.out.println( this.getClass().getName() ) ;\r\n    \tthis.getClass(). getConstructor ( int.class , int.class ) ;\r\n        }\r\n    \r\n        public static void main( String[] args ) throws NoSuchMethodException\r\n        {\r\n    \tGood good = new Good ( 0, 0 );\r\n    \tOK ok = new OK ();\r\n    \tBad bad = new Bad ();\r\n        }\r\n    }\r\n    \r\n    class Good extends RequiresConstructor\r\n    {\r\n        public Good( int x, int y ) throws NoSuchMethodException\r\n        {\r\n    \tsuper( x, y ) ;\r\n        }\r\n    }\r\n    \r\n    class OK extends RequiresConstructor\r\n    {\r\n        public OK( int x, int y ) throws NoSuchMethodException\r\n        {\r\n    \tsuper( x, y ) ;\r\n    \tthrow new NoSuchMethodException() ;\r\n        }\r\n    \r\n        public OK() throws NoSuchMethodException\r\n        {\r\n    \tsuper( 0, 0 ) ;\r\n        }\r\n    }\r\n    \r\n    class Bad extends RequiresConstructor\r\n    {\r\n        public Bad() throws NoSuchMethodException\r\n        {\r\n    \tsuper( 0, 0 ) ;\r\n        }\r\n    }","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>You could try something like below.  The constructor will thrown an exception if the implementing class does not have a constructor with the appropriate arguments.</p>\n\n<p>This is silly.  Compare OK and Bad.  Both classes are the same, except that OK meets your requirement and thus passes the runtime checks.  Thus enforcing the requirement promotes counter-productive busy work.</p>\n\n<p>A better solution would be some sort of Factory.</p>\n\n<pre><code>abstract class RequiresConstructor\n{\n    RequiresConstructor( int x, int y ) throws NoSuchMethodException\n    {\n    super();\n    System.out.println( this.getClass().getName() ) ;\n    this.getClass(). getConstructor ( int.class , int.class ) ;\n    }\n\n    public static void main( String[] args ) throws NoSuchMethodException\n    {\n    Good good = new Good ( 0, 0 );\n    OK ok = new OK ();\n    Bad bad = new Bad ();\n    }\n}\n\nclass Good extends RequiresConstructor\n{\n    public Good( int x, int y ) throws NoSuchMethodException\n    {\n    super( x, y ) ;\n    }\n}\n\nclass OK extends RequiresConstructor\n{\n    public OK( int x, int y ) throws NoSuchMethodException\n    {\n    super( x, y ) ;\n    throw new NoSuchMethodException() ;\n    }\n\n    public OK() throws NoSuchMethodException\n    {\n    super( 0, 0 ) ;\n    }\n}\n\nclass Bad extends RequiresConstructor\n{\n    public Bad() throws NoSuchMethodException\n    {\n    super( 0, 0 ) ;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2442207,"reputation":1167,"user_id":2130376,"accept_rate":100,"display_name":"yesennes"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1430795884,"creation_date":1430795884,"answer_id":30043683,"question_id":3164334,"body_markdown":"Have the abstract class have an abstract method which takes what you would have for parameters. For instance:\r\n\r\n    public abstract void setSize(int rows,int columns);","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>Have the abstract class have an abstract method which takes what you would have for parameters. For instance:</p>\n\n<pre><code>public abstract void setSize(int rows,int columns);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8596870,"reputation":31,"user_id":6439647,"display_name":"Abdullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465379685,"creation_date":1465379685,"answer_id":37699174,"question_id":3164334,"body_markdown":"A little bit late, but...\r\n\r\nJust create a default constructor in your class which is always called as super constructor. In this default constructor you can check all defined constructors with reflection on it&#39;s own class object (which is then not the abstract super class but the concrete subclass). If the constructor you want to be implemented is missing, throw a runtime exception.\r\n\r\nI&#39;m not a great friend of reflection because it has the taste of hacking through the back door, but sometimes it helps...\r\n\r\nHave a look at this example:\r\n\r\n    import java.lang.reflect.Constructor;\r\n    \r\n    public abstract class Gaga {\r\n      public Gaga() {\r\n        boolean found = false;\r\n        try {\r\n          Constructor&lt;?&gt;[] constructors = getClass().getConstructors();\r\n          for (Constructor&lt;?&gt; c : constructors) {\r\n            if (c.getParameterTypes().length==2) {\r\n              Class&lt;?&gt; class0 = c.getParameterTypes()[0];\r\n              Class&lt;?&gt; class1 = c.getParameterTypes()[1];\r\n              if ( (class0.getName().equals(&quot;int&quot;) || class0.isAssignableFrom(Integer.class))\r\n                  &amp;&amp;  (class1.getName().equals(&quot;int&quot;) || class1.isAssignableFrom(Integer.class)) )\r\n                found = true;\r\n            }\r\n          }\r\n        } catch (SecurityException e)\r\n        {\r\n          found = false;\r\n        }\r\n        \r\n        if (!found)\r\n          throw new RuntimeException(&quot;Each subclass of Gaga has to implement a constructor with two integers as parameter.&quot;);\r\n        \r\n        //...\r\n      }\r\n    \r\n    }\r\n\r\nAnd a test class:\r\n\r\n    public class Test {\r\n      private class Gaga1 extends Gaga {\r\n        public Gaga1() { this(0, 0); }\r\n        public Gaga1(int x, Integer y) { }\r\n      }\r\n    \r\n      private class Gaga2 extends Gaga {\r\n    \r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        new Gaga1();\r\n        new Gaga1(1, 5);\r\n        new Gaga2();\r\n        System.exit(0);\r\n      }\r\n    }\r\n\r\nIn the main function the objects of Gaga1 will be created, but the creation of Gaga2 will throw a runtime exception.\r\n\r\nBut you can&#39;t be sure that this constructor is called - you can&#39;t even ensure that it is doing the things you want.\r\n\r\nThis test is only useful if you&#39;re working with reflection.\r\n","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>A little bit late, but...</p>\n\n<p>Just create a default constructor in your class which is always called as super constructor. In this default constructor you can check all defined constructors with reflection on it's own class object (which is then not the abstract super class but the concrete subclass). If the constructor you want to be implemented is missing, throw a runtime exception.</p>\n\n<p>I'm not a great friend of reflection because it has the taste of hacking through the back door, but sometimes it helps...</p>\n\n<p>Have a look at this example:</p>\n\n<pre><code>import java.lang.reflect.Constructor;\n\npublic abstract class Gaga {\n  public Gaga() {\n    boolean found = false;\n    try {\n      Constructor&lt;?&gt;[] constructors = getClass().getConstructors();\n      for (Constructor&lt;?&gt; c : constructors) {\n        if (c.getParameterTypes().length==2) {\n          Class&lt;?&gt; class0 = c.getParameterTypes()[0];\n          Class&lt;?&gt; class1 = c.getParameterTypes()[1];\n          if ( (class0.getName().equals(\"int\") || class0.isAssignableFrom(Integer.class))\n              &amp;&amp;  (class1.getName().equals(\"int\") || class1.isAssignableFrom(Integer.class)) )\n            found = true;\n        }\n      }\n    } catch (SecurityException e)\n    {\n      found = false;\n    }\n\n    if (!found)\n      throw new RuntimeException(\"Each subclass of Gaga has to implement a constructor with two integers as parameter.\");\n\n    //...\n  }\n\n}\n</code></pre>\n\n<p>And a test class:</p>\n\n<pre><code>public class Test {\n  private class Gaga1 extends Gaga {\n    public Gaga1() { this(0, 0); }\n    public Gaga1(int x, Integer y) { }\n  }\n\n  private class Gaga2 extends Gaga {\n\n  }\n\n  public static void main(String[] args)\n  {\n    new Gaga1();\n    new Gaga1(1, 5);\n    new Gaga2();\n    System.exit(0);\n  }\n}\n</code></pre>\n\n<p>In the main function the objects of Gaga1 will be created, but the creation of Gaga2 will throw a runtime exception.</p>\n\n<p>But you can't be sure that this constructor is called - you can't even ensure that it is doing the things you want.</p>\n\n<p>This test is only useful if you're working with reflection.</p>\n"},{"tags":[],"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592561546,"creation_date":1592561546,"answer_id":62468009,"question_id":3164334,"body_markdown":"Supper class:\r\n\r\n    public abstract class SupperClass {\r\n      protected Foo foo;\r\n    \r\n      //primary constructor\r\n      public SupperClass(Foo foo) {\r\n          this.foo = foo;\r\n      }\r\n\r\n      private SupperClass(){\r\n        //with this private constructor, the subclass forced to implement primary constructor\r\n      }\r\n}\r\n\r\n\r\nSubclass:\r\n\r\n    public class SubClass extends JLLayer {\r\n\r\n      public SubClass(Foo foo) {\r\n          super(foo);\r\n      }\r\n    }","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>Supper class:</p>\n\n<pre><code>public abstract class SupperClass {\n  protected Foo foo;\n\n  //primary constructor\n  public SupperClass(Foo foo) {\n      this.foo = foo;\n  }\n\n  private SupperClass(){\n    //with this private constructor, the subclass forced to implement primary constructor\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>Subclass:</p>\n\n<pre><code>public class SubClass extends JLLayer {\n\n  public SubClass(Foo foo) {\n      super(foo);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692976274,"creation_date":1692976274,"answer_id":76978442,"question_id":3164334,"body_markdown":"The question from title is &quot;How can I force a Constructor to be defined in all subclass of my abstract class&quot; and I wana answer to this question and not debate about OP&#39;s real needs.\r\n\r\nAnd the answer is:\r\n\r\n**You can go for APT processor**\r\n\r\n\r\n    @SupportedAnnotationTypes(&quot;pl.selvin.constructorsconstraints.apt.ConstructorConstraint&quot;)\r\n    @SupportedSourceVersion(SourceVersion.RELEASE_8)\r\n    public class ConstructorConstraintProcessor extends AbstractProcessor {\r\n    \tprivate static final TypeVisitor&lt;Boolean, ArrayList&lt;String&gt;&gt; constraintArgsVisitor =\r\n    \t\t\tnew SimpleTypeVisitor7&lt;Boolean, ArrayList&lt;String&gt;&gt;() {\r\n    \t\t\t\tpublic Boolean visitExecutable(ExecutableType t, ArrayList&lt;String&gt; args) {\r\n    \t\t\t\t\tfinal List&lt;? extends TypeMirror&gt; types = t.getParameterTypes();\r\n    \t\t\t\t\tif (args.size() != types.size()) {\r\n    \t\t\t\t\t\treturn false;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tfor (int i = 0; i &lt; args.size(); i++) {\r\n    \t\t\t\t\t\tif (!args.get(i).equals(types.get(i).toString()))\r\n    \t\t\t\t\t\t\treturn false;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;String&gt; getSupportedOptions() {\r\n    \t\tfinal HashSet&lt;String&gt; ret = new HashSet&lt;&gt;();\r\n    \t\tret.add(&quot;org.gradle.annotation.processing.aggregating&quot;);\r\n    \t\treturn ret;\r\n    \t}\r\n    \r\n    \tpublic boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment env) {\r\n    \t\tfor (final TypeElement type : annotations) {\r\n    \t\t\tprocessConstructorConstraintClasses(env, type);\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n\t\t\tprivate void processConstructorConstraintClasses(final RoundEnvironment env, final TypeElement type) {\r\n\t\t\tfinal Element constructorConstraintElement = processingEnv.getElementUtils().getTypeElement(ConstructorConstraint.class.getName());\r\n\t\t\tfinal TypeMirror constructorConstraintType = constructorConstraintElement.asType();\r\n\t\t\tfinal HashMap&lt;String, ArrayList&lt;String&gt;&gt; constructorConstraints = new HashMap&lt;&gt;();\r\n\t\t\tfinal ArrayList&lt;Element&gt; elements = new ArrayList&lt;&gt;();\r\n\t\t\tfor (final Element element : env.getElementsAnnotatedWith(type)) {\r\n\t\t\t\telements.add(element);\r\n\t\t\t\tfor (AnnotationMirror am : element.getAnnotationMirrors()) {\r\n\t\t\t\t\tif (am.getAnnotationType().equals(constructorConstraintType)) {\r\n\t\t\t\t\t\tfor (Map.Entry&lt;? extends ExecutableElement, ? extends AnnotationValue&gt; entry : am.getElementValues().entrySet()) {\r\n\t\t\t\t\t\t\tif (&quot;arguments&quot;.equals(entry.getKey().getSimpleName().toString()) &amp;&amp; entry.getValue() instanceof Attribute.Array) {\r\n\t\t\t\t\t\t\t\tfinal Attribute.Array array = (Attribute.Array) entry.getValue();\r\n\t\t\t\t\t\t\t\tfor (final Attribute a : array.values) {\r\n\t\t\t\t\t\t\t\t\tfinal String className = element.toString();\r\n\t\t\t\t\t\t\t\t\tfinal ArrayList&lt;String&gt; arguments;\r\n\t\t\t\t\t\t\t\t\tif(constructorConstraints.containsKey(className)) {\r\n\t\t\t\t\t\t\t\t\t\targuments = constructorConstraints.get(className);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\targuments = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t\t\t\t\t\tconstructorConstraints.put(className, arguments);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\targuments.add(a.getValue().toString());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (Element element : elements) {\r\n\t\t\t\tfinal TypeMirror derived = element.asType();\r\n\t\t\t\tfor (String className : constructorConstraints.keySet()) {\r\n\t\t\t\t\tfinal TypeMirror baseType = processingEnv.getElementUtils().getTypeElement(className).asType();\r\n\t\t\t\t\tif(derived.equals(baseType)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(processingEnv.getTypeUtils().isAssignable(derived, baseType)) {\r\n\t\t\t\t\t\tprocessClass(element, constructorConstraints.get(className));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    \tprivate void processClass(Element element, ArrayList&lt;String&gt; arguments) {\r\n    \t\tif (!doesClassContainConstructorWithConstraint(element, arguments)) {\r\n    \t\t\tfinal String needs;\r\n    \t\t\tif (arguments == null || arguments.size() == 0) {\r\n    \t\t\t\tneeds = &quot;a No-Args Constructor&quot;;\r\n    \t\t\t} else {\r\n    \t\t\t\tneeds = &quot;a Contrcutor with arguments(&quot; + String.join(&quot;, &quot;, arguments) + &quot;)&quot;;\r\n    \t\t\t}\r\n    \t\t\tprocessingEnv.getMessager().printMessage(Diagnostic.Kind.ERROR, &quot;Class &quot; + element + &quot; needs &quot; + needs);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate boolean doesClassContainConstructorWithConstraint(Element element, ArrayList&lt;String&gt; arguments) {\r\n    \t\tfor (final Element subElement : element.getEnclosedElements()) {\r\n    \t\t\tif (subElement.getKind() == ElementKind.CONSTRUCTOR &amp;&amp; subElement.getModifiers().contains(Modifier.PUBLIC)) {\r\n    \t\t\t\tfinal TypeMirror mirror = subElement.asType();\r\n    \t\t\t\tif (mirror.accept(constraintArgsVisitor, arguments))\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nPros:\r\n- **It will throw compile time error if derived class would not have such constructor**\r\n\r\nCons: \r\n- generic classes like\r\n\r\n    ```\r\n    class Whatever&lt;T&gt;{\r\n        Whatever(T arg) {}\r\n    }\r\n    ```\r\n - multiple constructors\r\n - it is not incremental\r\n\r\nGithub page:\r\nhttps://github.com/SelvinPL/ConstructorsConstraints\r\n\r\n-fixed multiple base classes annotated casuing strange behaviour\r\n\r\n\r\nFX I wana use something like \r\n\r\n    public class QueryProviders {\r\n    \tprivate final ArrayList&lt;AbstractQueryProvider&gt; providers = new ArrayList&lt;&gt;();\r\n    \r\n    \t@SafeVarargs\r\n    \tpublic QueryProviders(SomeClass arg1, ...OtherArgs... ,\r\n    \t\t\t\t\t\t  Class&lt;? extends AbstractQueryProvider&gt;... providerClasses) {\r\n    \t\ttry {\r\n    \t\t\tfor (Class&lt;? extends AbstractQueryProvider&gt; providerClass : providerClasses) {\r\n    \t\t\t\tfinal Constructor&lt;? extends AbstractQueryProvider&gt; ctor = providerClass.getConstructor(SomeClass arg1, ...OtherArgs...);\r\n    \t\t\t\tproviders.add(ctor.newInstance(arg1, ...OtherArgs...));\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nand class\r\n\r\n    public abstract class AbstractQueryProvider {\r\n    \tpublic AbstractQueryProvider(SomeClass arg1, ...OtherArgs...) {\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nand usage\r\n\r\n    QueryProviders providers = new QueryProviders(SomeClass arg1, ...OtherArgs...,\r\n    \t\t\tBackup.class,\r\n    \t\t\tGoodsPrices.class, ...OtherDerived...);\r\n\r\nwhere `Backup` and `GoodsPrices` are derived from `AbstractQueryProvider`\r\n\r\n\r\n**And I need compile time error when I forget about such constructor (in other words &quot;force a Constructor&quot;)**\r\n\r\n\r\nSo with APT processor you will have class like this:\r\n\r\n    @ConstructorConstraint(SomeClass.class, ...)\r\n    public abstract class AbstractQueryProvider {\r\n    \tpublic AbstractQueryProvider(SomeClass arg1, ...) {\r\n    \r\n    \t}\r\n    }\r\n\r\n(package: &quot;pl.selvin.constructorsconstraints.apt&quot;)\r\nwith annotation like this:\r\n\r\n    @Inherited\r\n    @Documented\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    @Target(ElementType.TYPE)\r\n    public @interface ConstructorConstraint {\r\n    \tClass&lt;?&gt;[] arguments() default {};\r\n    }\r\n","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>The question from title is &quot;How can I force a Constructor to be defined in all subclass of my abstract class&quot; and I wana answer to this question and not debate about OP's real needs.</p>\n<p>And the answer is:</p>\n<p><strong>You can go for APT processor</strong></p>\n<pre><code>@SupportedAnnotationTypes(&quot;pl.selvin.constructorsconstraints.apt.ConstructorConstraint&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\npublic class ConstructorConstraintProcessor extends AbstractProcessor {\n    private static final TypeVisitor&lt;Boolean, ArrayList&lt;String&gt;&gt; constraintArgsVisitor =\n            new SimpleTypeVisitor7&lt;Boolean, ArrayList&lt;String&gt;&gt;() {\n                public Boolean visitExecutable(ExecutableType t, ArrayList&lt;String&gt; args) {\n                    final List&lt;? extends TypeMirror&gt; types = t.getParameterTypes();\n                    if (args.size() != types.size()) {\n                        return false;\n                    }\n                    for (int i = 0; i &lt; args.size(); i++) {\n                        if (!args.get(i).equals(types.get(i).toString()))\n                            return false;\n                    }\n                    return true;\n                }\n            };\n\n    @Override\n    public Set&lt;String&gt; getSupportedOptions() {\n        final HashSet&lt;String&gt; ret = new HashSet&lt;&gt;();\n        ret.add(&quot;org.gradle.annotation.processing.aggregating&quot;);\n        return ret;\n    }\n\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment env) {\n        for (final TypeElement type : annotations) {\n            processConstructorConstraintClasses(env, type);\n        }\n        return true;\n    }\n\n        private void processConstructorConstraintClasses(final RoundEnvironment env, final TypeElement type) {\n        final Element constructorConstraintElement = processingEnv.getElementUtils().getTypeElement(ConstructorConstraint.class.getName());\n        final TypeMirror constructorConstraintType = constructorConstraintElement.asType();\n        final HashMap&lt;String, ArrayList&lt;String&gt;&gt; constructorConstraints = new HashMap&lt;&gt;();\n        final ArrayList&lt;Element&gt; elements = new ArrayList&lt;&gt;();\n        for (final Element element : env.getElementsAnnotatedWith(type)) {\n            elements.add(element);\n            for (AnnotationMirror am : element.getAnnotationMirrors()) {\n                if (am.getAnnotationType().equals(constructorConstraintType)) {\n                    for (Map.Entry&lt;? extends ExecutableElement, ? extends AnnotationValue&gt; entry : am.getElementValues().entrySet()) {\n                        if (&quot;arguments&quot;.equals(entry.getKey().getSimpleName().toString()) &amp;&amp; entry.getValue() instanceof Attribute.Array) {\n                            final Attribute.Array array = (Attribute.Array) entry.getValue();\n                            for (final Attribute a : array.values) {\n                                final String className = element.toString();\n                                final ArrayList&lt;String&gt; arguments;\n                                if(constructorConstraints.containsKey(className)) {\n                                    arguments = constructorConstraints.get(className);\n                                } else {\n                                    arguments = new ArrayList&lt;&gt;();\n                                    constructorConstraints.put(className, arguments);\n                                }\n                                arguments.add(a.getValue().toString());\n                            }\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        for (Element element : elements) {\n            final TypeMirror derived = element.asType();\n            for (String className : constructorConstraints.keySet()) {\n                final TypeMirror baseType = processingEnv.getElementUtils().getTypeElement(className).asType();\n                if(derived.equals(baseType)) {\n                    continue;\n                }\n                if(processingEnv.getTypeUtils().isAssignable(derived, baseType)) {\n                    processClass(element, constructorConstraints.get(className));\n                }\n            }\n        }\n    }\n\n    private void processClass(Element element, ArrayList&lt;String&gt; arguments) {\n        if (!doesClassContainConstructorWithConstraint(element, arguments)) {\n            final String needs;\n            if (arguments == null || arguments.size() == 0) {\n                needs = &quot;a No-Args Constructor&quot;;\n            } else {\n                needs = &quot;a Contrcutor with arguments(&quot; + String.join(&quot;, &quot;, arguments) + &quot;)&quot;;\n            }\n            processingEnv.getMessager().printMessage(Diagnostic.Kind.ERROR, &quot;Class &quot; + element + &quot; needs &quot; + needs);\n        }\n    }\n\n    private boolean doesClassContainConstructorWithConstraint(Element element, ArrayList&lt;String&gt; arguments) {\n        for (final Element subElement : element.getEnclosedElements()) {\n            if (subElement.getKind() == ElementKind.CONSTRUCTOR &amp;&amp; subElement.getModifiers().contains(Modifier.PUBLIC)) {\n                final TypeMirror mirror = subElement.asType();\n                if (mirror.accept(constraintArgsVisitor, arguments))\n                    return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>Pros:</p>\n<ul>\n<li><strong>It will throw compile time error if derived class would not have such constructor</strong></li>\n</ul>\n<p>Cons:</p>\n<ul>\n<li><p>generic classes like</p>\n<pre><code>class Whatever&lt;T&gt;{\n    Whatever(T arg) {}\n}\n</code></pre>\n</li>\n<li><p>multiple constructors</p>\n</li>\n<li><p>it is not incremental</p>\n</li>\n</ul>\n<p>Github page:\n<a href=\"https://github.com/SelvinPL/ConstructorsConstraints\" rel=\"nofollow noreferrer\">https://github.com/SelvinPL/ConstructorsConstraints</a></p>\n<p>-fixed multiple base classes annotated casuing strange behaviour</p>\n<p>FX I wana use something like</p>\n<pre><code>public class QueryProviders {\n    private final ArrayList&lt;AbstractQueryProvider&gt; providers = new ArrayList&lt;&gt;();\n\n    @SafeVarargs\n    public QueryProviders(SomeClass arg1, ...OtherArgs... ,\n                          Class&lt;? extends AbstractQueryProvider&gt;... providerClasses) {\n        try {\n            for (Class&lt;? extends AbstractQueryProvider&gt; providerClass : providerClasses) {\n                final Constructor&lt;? extends AbstractQueryProvider&gt; ctor = providerClass.getConstructor(SomeClass arg1, ...OtherArgs...);\n                providers.add(ctor.newInstance(arg1, ...OtherArgs...));\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>and class</p>\n<pre><code>public abstract class AbstractQueryProvider {\n    public AbstractQueryProvider(SomeClass arg1, ...OtherArgs...) {\n\n    }\n}\n</code></pre>\n<p>and usage</p>\n<pre><code>QueryProviders providers = new QueryProviders(SomeClass arg1, ...OtherArgs...,\n            Backup.class,\n            GoodsPrices.class, ...OtherDerived...);\n</code></pre>\n<p>where <code>Backup</code> and <code>GoodsPrices</code> are derived from <code>AbstractQueryProvider</code></p>\n<p><strong>And I need compile time error when I forget about such constructor (in other words &quot;force a Constructor&quot;)</strong></p>\n<p>So with APT processor you will have class like this:</p>\n<pre><code>@ConstructorConstraint(SomeClass.class, ...)\npublic abstract class AbstractQueryProvider {\n    public AbstractQueryProvider(SomeClass arg1, ...) {\n\n    }\n}\n</code></pre>\n<p>(package: &quot;pl.selvin.constructorsconstraints.apt&quot;)\nwith annotation like this:</p>\n<pre><code>@Inherited\n@Documented\n@Retention(RetentionPolicy.SOURCE)\n@Target(ElementType.TYPE)\npublic @interface ConstructorConstraint {\n    Class&lt;?&gt;[] arguments() default {};\n}\n</code></pre>\n"}],"owner":{"account_id":128695,"reputation":1119,"user_id":326730,"display_name":"dodecaplex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63978,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":3164343,"answer_count":7,"score":73,"last_activity_date":1692976274,"creation_date":1278060946,"question_id":3164334,"body_markdown":"I have an abstract class A that define abstract methods. This means that, for a class to be instanciable, all the abstract method have to be implemented.\r\n\r\nI&#39;d like all my subclasses to implement a constructor with 2 ints as parameters. \r\n\r\nDeclaring a constructor defeats my purpose, as I want the constructor defined in subclasses and I don&#39;t know anything about the implementation. Moreover I cannot declare a constructor as being abstract;\r\n\r\nIs there a way to do this ?\r\n\r\n__Example of what I want:__\r\n\r\nLets say that I am defining the API of a Matrix class. In my problem, Matrix cannot change their dimensions.\r\n\r\nFor a Matrix to be created, I need to provide its size.\r\n\r\nHence, I want all my implementors to provide the constructor with the size as a parameter. This constructor is motivated by the problem, not by an implementation concern. The implementation can do whatever it wants with these, provided that all the semantic of the methods are kept.\r\n\r\nLet&#39;s say I want to provide a basic implementation of the `invert()` method in my abstract class. This method will create a new matrix with `this` inverted dimensions. More specifically, as it is defined in the abstract class, it will create a new instance of the same class as `this`, using a constructor that takes two ints. As it does not know the instance it will use reflection (getDefinedConstructor) and I want a way to waranty that I&#39;ll get it and that it will be meaningfull for the implementation.\r\n","title":"How can I force a Constructor to be defined in all subclass of my abstract class","body":"<p>I have an abstract class A that define abstract methods. This means that, for a class to be instanciable, all the abstract method have to be implemented.</p>\n\n<p>I'd like all my subclasses to implement a constructor with 2 ints as parameters. </p>\n\n<p>Declaring a constructor defeats my purpose, as I want the constructor defined in subclasses and I don't know anything about the implementation. Moreover I cannot declare a constructor as being abstract;</p>\n\n<p>Is there a way to do this ?</p>\n\n<p><strong>Example of what I want:</strong></p>\n\n<p>Lets say that I am defining the API of a Matrix class. In my problem, Matrix cannot change their dimensions.</p>\n\n<p>For a Matrix to be created, I need to provide its size.</p>\n\n<p>Hence, I want all my implementors to provide the constructor with the size as a parameter. This constructor is motivated by the problem, not by an implementation concern. The implementation can do whatever it wants with these, provided that all the semantic of the methods are kept.</p>\n\n<p>Let's say I want to provide a basic implementation of the <code>invert()</code> method in my abstract class. This method will create a new matrix with <code>this</code> inverted dimensions. More specifically, as it is defined in the abstract class, it will create a new instance of the same class as <code>this</code>, using a constructor that takes two ints. As it does not know the instance it will use reflection (getDefinedConstructor) and I want a way to waranty that I'll get it and that it will be meaningfull for the implementation.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":1837040,"reputation":844,"user_id":1667198,"display_name":"Ismael Sarmento"},"score":0,"creation_date":1646316872,"post_id":71338529,"comment_id":126096878,"body_markdown":"Are you using spring boot&#39;s default web mvc configuration, or do you have a file with custom config?","body":"Are you using spring boot&#39;s default web mvc configuration, or do you have a file with custom config?"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1646317210,"post_id":71338529,"comment_id":126097007,"body_markdown":"@IsmaelSarmento Sarmento I used spring initializ to create my project. So I think it&#39;s the default","body":"@IsmaelSarmento Sarmento I used spring initializ to create my project. So I think it&#39;s the default"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646322025,"post_id":71338529,"comment_id":126099115,"body_markdown":"I provided an answer if it satisfy your requirement please accept it as answer to improve the community otherwise feel free to comment !","body":"I provided an answer if it satisfy your requirement please accept it as answer to improve the community otherwise feel free to comment !"}],"answers":[{"comments":[{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1646383744,"post_id":71339816,"comment_id":126114227,"body_markdown":"Thanks for the answer @Fou , I&#39;m using SpringApplication. I have the parent that is present and the spring-boot-starter-web dependency. But it doesn&#39;t work. ``` &lt;parent&gt;\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n\t&lt;/parent&gt; ```","body":"Thanks for the answer @Fou , I&#39;m using SpringApplication. I have the parent that is present and the spring-boot-starter-web dependency. But it doesn&#39;t work. ``` &lt;parent&gt; \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; \t\t&lt;version&gt;2.6.4&lt;/version&gt; \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; \t&lt;/parent&gt; ```"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1646384026,"post_id":71339816,"comment_id":126114317,"body_markdown":"`&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;\n\t\t\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\n\t\t&lt;/dependency&gt; `","body":"<code>&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;&#47;artifactId&gt; \t\t&lt;&#47;dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;&#47;artifactId&gt; \t\t&lt;&#47;dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.projectlombok&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;lombok&lt;&#47;artifactId&gt; \t\t&lt;&#47;dependency&gt; \t\t \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;mysql&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;&#47;artifactId&gt; \t\t\t&lt;scope&gt;runtime&lt;&#47;scope&gt; \t\t&lt;&#47;dependency&gt; </code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1646384195,"post_id":71339816,"comment_id":126114372,"body_markdown":"`&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;`","body":"<code>&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;&#47;artifactId&gt; \t\t&lt;&#47;dependency&gt;</code>"}],"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646321973,"creation_date":1646321973,"answer_id":71339816,"question_id":71338529,"body_markdown":"Every thing on the controller class is implemented properly and there is definitely no need for other layers implementation to share, you probably use **SpringBootServletInitializer**, in the main class add the `@EnableWebMvc` annotation and override **SpringApplicationBuilder** method as\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @SpringBootApplication\r\n    @EnableWebMvc\r\n    public class Application extends SpringBootServletInitializer {\r\n\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n    }\r\n\r\nOtherwise if you use **SpringApplication** to sun the project make sure the main class annotated with `@SpringBootApplication` and be some thing like\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n\r\n    \t}\r\n\r\n    }\r\n\r\nAnd final thing check the presence of spring boot starter [web][1] dependency in you pom file \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n If you do not use spring boot parent do not forget to add the proper version to web starter artifact.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot/","title":"springBoot and hibernate 404 not found","body":"<p>Every thing on the controller class is implemented properly and there is definitely no need for other layers implementation to share, you probably use <strong>SpringBootServletInitializer</strong>, in the main class add the <code>@EnableWebMvc</code> annotation and override <strong>SpringApplicationBuilder</strong> method as</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@SpringBootApplication\n@EnableWebMvc\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>Otherwise if you use <strong>SpringApplication</strong> to sun the project make sure the main class annotated with <code>@SpringBootApplication</code> and be some thing like</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n\n    }\n\n}\n</code></pre>\n<p>And final thing check the presence of spring boot starter <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">web</a> dependency in you pom file</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>If you do not use spring boot parent do not forget to add the proper version to web starter artifact.</p>\n"}],"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692976269,"creation_date":1646316475,"question_id":71338529,"body_markdown":"I train with springboot and a mariadb database. When I test for data recovery, I get this message in postman: \r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-03-03T13:53:18.609+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;path&quot;: &quot;/user/all&quot;\r\n}\r\n```\r\n\r\n\r\n\r\n. I tried several tutorials in copy paste and I always have the same message. I will also put the message that is in the console. Thank you in advance for your help.\r\n\r\ncontroller\r\n```\r\npackage controller;\r\n\r\nimport model.Users;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport service.UsersService;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UsersController {\r\n\r\n\r\n    private UsersService usersService;\r\n\r\n    public UsersController(UsersService usersService) {\r\n        this.usersService = usersService;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getUsers() {\r\n        List&lt;Users&gt; users = usersService.getUsers();\r\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nService\r\n```\r\npackage service;\r\n\r\nimport model.Users;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport repository.UsersRepository;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class UsersService {\r\n\r\n    private UsersRepository usersRepository;\r\n\r\n    @Autowired\r\n    public UsersService(UsersRepository usersRepository) {\r\n        this.usersRepository = usersRepository;\r\n    }\r\n\r\n    public List&lt;Users&gt; saveUsers(List&lt;Users&gt;users){\r\n        return usersRepository.saveAll(users);\r\n    }\r\n\r\n    public Users saveUsers(Users users){\r\n       return usersRepository.save(users);\r\n    }\r\n\r\n    public List&lt;Users&gt; getUsers(){\r\n        return usersRepository.findAll();\r\n    }\r\n\r\n    public Users getUserById(int id_user){\r\n        return usersRepository.findById(id_user).orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nRespository\r\n```\r\npackage repository;\r\n\r\nimport model.Users;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UsersRepository extends JpaRepository&lt;Users, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nModel\r\n```\r\npackage model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport javax.persistence.*;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class Users {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id_user;\r\n\r\n    @Column(name=&quot;lastname&quot;)\r\n    private String lastname;\r\n\r\n    @Column(name=&quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name=&quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name=&quot;phone&quot;)\r\n    private String phone;\r\n\r\n    @Column(name=&quot;adress&quot;)\r\n    private String adress;\r\n\r\n    @Column(name=&quot;city&quot;)\r\n    private String city;\r\n\r\n    @Column(name=&quot;country&quot;)\r\n    private String country;\r\n\r\n}\r\n```\r\n\r\nApplication properties\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.datasource.url = jdbc:mysql://localhost:3306/database\r\nspring.datasource.username = root\r\nspring.datasource.password = root\r\nspring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\r\nspring.jpa.show-sql= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5Dialect\r\n\r\n```\r\n\r\nConsole\r\n```\r\n2022-03-03 14:52:57.479  INFO 24188 --- [           main] c.p.database.databaseApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-03-03 14:52:58.412  INFO 24188 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-03-03 14:52:58.435  INFO 24188 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.\r\n2022-03-03 14:52:59.190  INFO 24188 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-03-03 14:52:59.204  INFO 24188 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-03-03 14:52:59.204  INFO 24188 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\r\n2022-03-03 14:52:59.370  INFO 24188 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-03-03 14:52:59.370  INFO 24188 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1816 ms\r\n2022-03-03 14:52:59.627  INFO 24188 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-03-03 14:52:59.696  INFO 24188 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\r\n2022-03-03 14:52:59.892  INFO 24188 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-03-03 14:53:00.046  INFO 24188 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-03-03 14:53:00.252  INFO 24188 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-03-03 14:53:00.272  INFO 24188 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n2022-03-03 14:53:00.652  INFO 24188 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-03-03 14:53:00.666  INFO 24188 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-03-03 14:53:00.722  WARN 24188 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2022-03-03 14:53:01.296  INFO 24188 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-03-03 14:53:01.317  INFO 24188 --- [           main] c.p.database.databaseApplication   : Started dataBaseApplication in 4.589 seconds (JVM running for 5.786)\r\n2022-03-03 14:53:18.493  INFO 24188 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-03-03 14:53:18.493  INFO 24188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-03-03 14:53:18.495  INFO 24188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n","title":"springBoot and hibernate 404 not found","body":"<p>I train with springboot and a mariadb database. When I test for data recovery, I get this message in postman:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-03-03T13:53:18.609+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/user/all&quot;\n}\n</code></pre>\n<p>. I tried several tutorials in copy paste and I always have the same message. I will also put the message that is in the console. Thank you in advance for your help.</p>\n<p>controller</p>\n<pre><code>package controller;\n\nimport model.Users;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport service.UsersService;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UsersController {\n\n\n    private UsersService usersService;\n\n    public UsersController(UsersService usersService) {\n        this.usersService = usersService;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getUsers() {\n        List&lt;Users&gt; users = usersService.getUsers();\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Service</p>\n<pre><code>package service;\n\nimport model.Users;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport repository.UsersRepository;\nimport java.util.List;\n\n@Service\npublic class UsersService {\n\n    private UsersRepository usersRepository;\n\n    @Autowired\n    public UsersService(UsersRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n\n    public List&lt;Users&gt; saveUsers(List&lt;Users&gt;users){\n        return usersRepository.saveAll(users);\n    }\n\n    public Users saveUsers(Users users){\n       return usersRepository.save(users);\n    }\n\n    public List&lt;Users&gt; getUsers(){\n        return usersRepository.findAll();\n    }\n\n    public Users getUserById(int id_user){\n        return usersRepository.findById(id_user).orElse(null);\n    }\n}\n</code></pre>\n<p>Respository</p>\n<pre><code>package repository;\n\nimport model.Users;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UsersRepository extends JpaRepository&lt;Users, Integer&gt; {\n\n}\n</code></pre>\n<p>Model</p>\n<pre><code>package model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport javax.persistence.*;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class Users {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id_user;\n\n    @Column(name=&quot;lastname&quot;)\n    private String lastname;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @Column(name=&quot;password&quot;)\n    private String password;\n\n    @Column(name=&quot;phone&quot;)\n    private String phone;\n\n    @Column(name=&quot;adress&quot;)\n    private String adress;\n\n    @Column(name=&quot;city&quot;)\n    private String city;\n\n    @Column(name=&quot;country&quot;)\n    private String country;\n\n}\n</code></pre>\n<p>Application properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto = update\nspring.datasource.url = jdbc:mysql://localhost:3306/database\nspring.datasource.username = root\nspring.datasource.password = root\nspring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5Dialect\n\n</code></pre>\n<p>Console</p>\n<pre><code>2022-03-03 14:52:57.479  INFO 24188 --- [           main] c.p.database.databaseApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-03 14:52:58.412  INFO 24188 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-03 14:52:58.435  INFO 24188 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.\n2022-03-03 14:52:59.190  INFO 24188 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-03-03 14:52:59.204  INFO 24188 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-03-03 14:52:59.204  INFO 24188 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\n2022-03-03 14:52:59.370  INFO 24188 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-03-03 14:52:59.370  INFO 24188 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1816 ms\n2022-03-03 14:52:59.627  INFO 24188 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-03-03 14:52:59.696  INFO 24188 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\n2022-03-03 14:52:59.892  INFO 24188 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-03-03 14:53:00.046  INFO 24188 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-03-03 14:53:00.252  INFO 24188 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-03-03 14:53:00.272  INFO 24188 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2022-03-03 14:53:00.652  INFO 24188 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-03-03 14:53:00.666  INFO 24188 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-03-03 14:53:00.722  WARN 24188 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-03-03 14:53:01.296  INFO 24188 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-03-03 14:53:01.317  INFO 24188 --- [           main] c.p.database.databaseApplication   : Started dataBaseApplication in 4.589 seconds (JVM running for 5.786)\n2022-03-03 14:53:18.493  INFO 24188 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-03-03 14:53:18.493  INFO 24188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-03-03 14:53:18.495  INFO 24188 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1691348915,"post_id":76847264,"comment_id":135476400,"body_markdown":"You create a complete new `TableView` (which is never displayed) with `loader.load()` and add the data to *that* `TableView`. You need to add it to the existing `TableView`. Consider a [MVC approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx), or perhaps just [pass](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml) the existing tables items list to the `DashboardController`.","body":"You create a complete new <code>TableView</code> (which is never displayed) with <code>loader.load()</code> and add the data to <i>that</i> <code>TableView</code>. You need to add it to the existing <code>TableView</code>. Consider a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC approach</a>, or perhaps just <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">pass</a> the existing tables items list to the <code>DashboardController</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1691348998,"post_id":76847264,"comment_id":135476411,"body_markdown":"Also your `addRows()` method doesnt actually do what it says it does. It simply selects the last row and scrolls to it.","body":"Also your <code>addRows()</code> method doesnt actually do what it says it does. It simply selects the last row and scrolls to it."},{"owner":{"account_id":29047764,"reputation":11,"user_id":22251222,"display_name":"Multi Content"},"score":0,"creation_date":1691381196,"post_id":76847264,"comment_id":135478613,"body_markdown":"@james_D what is MVC approach?","body":"@james_D what is MVC approach?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1691389233,"post_id":76847264,"comment_id":135479366,"body_markdown":"what is MVC -&gt; There is a link in the comment and there is Google.","body":"what is MVC -&gt; There is a link in the comment and there is Google."},{"owner":{"account_id":29047764,"reputation":11,"user_id":22251222,"display_name":"Multi Content"},"score":0,"creation_date":1691394819,"post_id":76847264,"comment_id":135480170,"body_markdown":"I am a beginner and I don&#39;t have much clue where to fix the codes to get the expected output.Will you help me @jewelsea","body":"I am a beginner and I don&#39;t have much clue where to fix the codes to get the expected output.Will you help me @jewelsea"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1691397952,"post_id":76847264,"comment_id":135480794,"body_markdown":"I did.  The MVC stuff is harder to understand.  But the stuff is the passing parameter link is simpler, just follow that.  More assistance than that I am not prepared to provide at this time. Others might provide more specific assistance.","body":"I did.  The MVC stuff is harder to understand.  But the stuff is the passing parameter link is simpler, just follow that.  More assistance than that I am not prepared to provide at this time. Others might provide more specific assistance."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1691407537,"post_id":76847264,"comment_id":135482714,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692976113,"creation_date":1691422201,"answer_id":76853142,"question_id":76847264,"body_markdown":"I would suggest you learn what @James_D and @jewelsea are proposing. I think these ideas lead to better programming in `JavaFX`. If you don&#39;t have the time to study those ideas at the moment, I would suggest using a [`Custom Dialog`](https://code.makery.ch/blog/javafx-dialogs-official/).\r\n\r\n## Main ##\r\n\r\n```\r\nimport java.util.Optional;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonBar.ButtonData;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Dialog;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n   TableView&lt;Person&gt; table = new TableView();\r\n   ObservableList&lt;Person&gt; items;\r\n   \r\n   Button btnAddPerson = new Button(&quot;Add Person&quot;);\r\n   \r\n    public static void main(String[] args) {\r\n        App.launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {        \r\n        setupTableView();\r\n        setupButton();\r\n        \r\n        HBox root = new HBox( table, btnAddPerson);\r\n        root.setPadding(new Insets(5));\r\n        stage.setTitle(&quot;TableView and ListView&quot;);\r\n\r\n        Scene scene = new Scene(root, 450, 300);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    \r\n    private void setupTableView()\r\n    {\r\n        // Create column UserName (Data type of String).\r\n        TableColumn&lt;Person, String&gt; idCol = new TableColumn(&quot;ID&quot;);\r\n        TableColumn&lt;Person, String&gt; firstNameCol = new TableColumn(&quot;First Name&quot;);\r\n        TableColumn&lt;Person, String&gt; lastNameCol = new TableColumn(&quot;Last Name&quot;);\r\n        TableColumn&lt;Person, String&gt; emailCol = new TableColumn(&quot;Email&quot;);\r\n        table.getColumns().addAll(idCol, firstNameCol, lastNameCol, emailCol);\r\n\r\n        // Get value from property of Person. .\r\n        idCol.setCellValueFactory(cellData -&gt; cellData.getValue().idProperty().asString());        \r\n        firstNameCol.setCellValueFactory(cellData -&gt; cellData.getValue().firstNameProperty());\r\n        lastNameCol.setCellValueFactory(cellData -&gt; cellData.getValue().lastNameProperty());\r\n        emailCol.setCellValueFactory(cellData -&gt; cellData.getValue().emailProperty());\r\n      \r\n        // Display row data\r\n        items = getUserList();\r\n        table.setItems(items);\r\n    }\r\n    \r\n    private ObservableList&lt;Person&gt; getUserList() {\r\n        Person user1 = new Person(1, &quot;Susan&quot;, &quot;smith&quot;, &quot;smith@gmail.com&quot;);\r\n        Person user2 = new Person(2, &quot;Anne&quot;, &quot;mcneil&quot;, &quot;mcneil@gmail.com&quot;);\r\n        Person user3 = new Person(3, &quot;Kenvin&quot;, &quot;white&quot;, &quot;white@gmail.com&quot;);\r\n        \r\n        return FXCollections.observableArrayList(user1, user2, user3);\r\n    }\r\n    \r\n    private void setupButton()\r\n    {\r\n        btnAddPerson.setOnAction((actionEvent) -&gt; {\r\n            showCustomDialog();\r\n        });        \r\n    }\r\n    \r\n    private void showCustomDialog()\r\n    {\r\n        // Create the custom dialog.\r\n        Dialog&lt;Person&gt; dialog = new Dialog&lt;&gt;();\r\n        dialog.setTitle(&quot;Add Person Dialog&quot;);\r\n        dialog.setHeaderText(&quot;Add Person&quot;);\r\n\r\n        // Set the icon (must be included in the project).\r\n        //dialog.setGraphic(new ImageView(this.getClass().getResource(&quot;login.png&quot;).toString()));\r\n\r\n        // Set the button types.\r\n        ButtonType btntAdd = new ButtonType(&quot;Add&quot;, ButtonData.OK_DONE);\r\n        dialog.getDialogPane().getButtonTypes().addAll(btntAdd, ButtonType.CANCEL);\r\n\r\n        // Create the username and password labels and fields.\r\n        GridPane grid = new GridPane();\r\n        grid.setHgap(10);\r\n        grid.setVgap(10);\r\n        grid.setPadding(new Insets(20, 150, 10, 10));\r\n\r\n        TextField tfId = new TextField();\r\n        TextField tfFirstName = new TextField();\r\n        TextField tfLastName = new TextField();\r\n        TextField tfEmail = new TextField();\r\n\r\n        grid.add(new Label(&quot;ID:&quot;), 0, 0);\r\n        grid.add(tfId, 1, 0);\r\n        grid.add(new Label(&quot;First Name:&quot;), 0, 1);\r\n        grid.add(tfFirstName, 1, 1);\r\n        grid.add(new Label(&quot;Last Name:&quot;), 0, 2);\r\n        grid.add(tfLastName, 1, 2);\r\n        grid.add(new Label(&quot;Email Name:&quot;), 0, 3);\r\n        grid.add(tfEmail, 1, 3);\r\n\r\n        // Enable/Disable login button depending on whether a username was entered.\r\n        Button btnAdd = (Button)dialog.getDialogPane().lookupButton(btntAdd);\r\n        btnAdd.disableProperty().bind(\r\n            Bindings.isEmpty(tfId.textProperty())\r\n            .or(Bindings.isEmpty(tfFirstName.textProperty()))\r\n            .or(Bindings.isEmpty(tfLastName.textProperty()))\r\n            .or(Bindings.isEmpty(tfEmail.textProperty()))\r\n        );\r\n\r\n        dialog.getDialogPane().setContent(grid);\r\n\r\n        // Request focus on the username field by default.\r\n        Platform.runLater(() -&gt; tfId.requestFocus());\r\n\r\n        // Convert the result to a username-password-pair when the login button is clicked.\r\n        dialog.setResultConverter(dialogButton -&gt; {\r\n            if (dialogButton == btntAdd) {\r\n                return new Person(Integer.parseInt(tfId.getText()), tfFirstName.getText(), tfLastName.getText(), tfEmail.getText());\r\n            }\r\n            return null;\r\n        });\r\n\r\n        Optional&lt;Person&gt; result = dialog.showAndWait();\r\n        result.ifPresent(items::add);\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n## Person ##\r\n\r\n```\r\nimport javafx.beans.property.IntegerProperty;\r\nimport javafx.beans.property.SimpleIntegerProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\n\r\npublic class Person {        \r\n    private final IntegerProperty id;\r\n    private final StringProperty firstName;\r\n    private final StringProperty lastName;\r\n    private final StringProperty email;\r\n\r\n    public Person(int id, String fName, String lName, String email) {\r\n        this.id = new SimpleIntegerProperty(id);\r\n        this.firstName = new SimpleStringProperty(fName);\r\n        this.lastName = new SimpleStringProperty(lName);\r\n        this.email = new SimpleStringProperty(email);\r\n    }\r\n\r\n    public int getId()\r\n    {\r\n        return id.get();\r\n    }\r\n\r\n    public void setId(int id)\r\n    {\r\n        this.id.set(id);\r\n    }\r\n\r\n    public IntegerProperty idProperty()\r\n    {\r\n        return id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName.get();\r\n    }\r\n\r\n    public void setFirstName(String fName) {\r\n        firstName.set(fName);\r\n    }\r\n\r\n    public StringProperty firstNameProperty()\r\n    {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName.get();\r\n    }\r\n\r\n    public void setLastName(String fName) {\r\n        lastName.set(fName);\r\n    }\r\n\r\n    public StringProperty lastNameProperty()\r\n    {\r\n        return lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email.get();\r\n    }\r\n\r\n    public void setEmail(String fName) {\r\n        email.set(fName);\r\n    }\r\n\r\n    public StringProperty emailProperty()\r\n    {\r\n        return email;\r\n    }\r\n\r\n    @Override \r\n    public String toString()\r\n    {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        stringBuilder.append(&quot;id: &quot;).append(this.id.get())\r\n                .append(&quot;\\tName:&quot;).append(this.firstName.get()).append(&quot; &quot;).append(this.lastName.get())\r\n                .append(&quot;\\temail: &quot;).append(this.email.get());\r\n\r\n        return stringBuilder.toString();\r\n    }       \r\n}\r\n```\r\n\r\n## Output ##\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1aAv6.gif","title":"Java - How to add data to table view when click on button on another stage","body":"<p>I would suggest you learn what @James_D and @jewelsea are proposing. I think these ideas lead to better programming in <code>JavaFX</code>. If you don't have the time to study those ideas at the moment, I would suggest using a <a href=\"https://code.makery.ch/blog/javafx-dialogs-official/\" rel=\"nofollow noreferrer\"><code>Custom Dialog</code></a>.</p>\n<h2>Main</h2>\n<pre><code>import java.util.Optional;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.binding.Bindings;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonBar.ButtonData;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Dialog;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n   TableView&lt;Person&gt; table = new TableView();\n   ObservableList&lt;Person&gt; items;\n   \n   Button btnAddPerson = new Button(&quot;Add Person&quot;);\n   \n    public static void main(String[] args) {\n        App.launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) {        \n        setupTableView();\n        setupButton();\n        \n        HBox root = new HBox( table, btnAddPerson);\n        root.setPadding(new Insets(5));\n        stage.setTitle(&quot;TableView and ListView&quot;);\n\n        Scene scene = new Scene(root, 450, 300);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    \n    private void setupTableView()\n    {\n        // Create column UserName (Data type of String).\n        TableColumn&lt;Person, String&gt; idCol = new TableColumn(&quot;ID&quot;);\n        TableColumn&lt;Person, String&gt; firstNameCol = new TableColumn(&quot;First Name&quot;);\n        TableColumn&lt;Person, String&gt; lastNameCol = new TableColumn(&quot;Last Name&quot;);\n        TableColumn&lt;Person, String&gt; emailCol = new TableColumn(&quot;Email&quot;);\n        table.getColumns().addAll(idCol, firstNameCol, lastNameCol, emailCol);\n\n        // Get value from property of Person. .\n        idCol.setCellValueFactory(cellData -&gt; cellData.getValue().idProperty().asString());        \n        firstNameCol.setCellValueFactory(cellData -&gt; cellData.getValue().firstNameProperty());\n        lastNameCol.setCellValueFactory(cellData -&gt; cellData.getValue().lastNameProperty());\n        emailCol.setCellValueFactory(cellData -&gt; cellData.getValue().emailProperty());\n      \n        // Display row data\n        items = getUserList();\n        table.setItems(items);\n    }\n    \n    private ObservableList&lt;Person&gt; getUserList() {\n        Person user1 = new Person(1, &quot;Susan&quot;, &quot;smith&quot;, &quot;smith@gmail.com&quot;);\n        Person user2 = new Person(2, &quot;Anne&quot;, &quot;mcneil&quot;, &quot;mcneil@gmail.com&quot;);\n        Person user3 = new Person(3, &quot;Kenvin&quot;, &quot;white&quot;, &quot;white@gmail.com&quot;);\n        \n        return FXCollections.observableArrayList(user1, user2, user3);\n    }\n    \n    private void setupButton()\n    {\n        btnAddPerson.setOnAction((actionEvent) -&gt; {\n            showCustomDialog();\n        });        \n    }\n    \n    private void showCustomDialog()\n    {\n        // Create the custom dialog.\n        Dialog&lt;Person&gt; dialog = new Dialog&lt;&gt;();\n        dialog.setTitle(&quot;Add Person Dialog&quot;);\n        dialog.setHeaderText(&quot;Add Person&quot;);\n\n        // Set the icon (must be included in the project).\n        //dialog.setGraphic(new ImageView(this.getClass().getResource(&quot;login.png&quot;).toString()));\n\n        // Set the button types.\n        ButtonType btntAdd = new ButtonType(&quot;Add&quot;, ButtonData.OK_DONE);\n        dialog.getDialogPane().getButtonTypes().addAll(btntAdd, ButtonType.CANCEL);\n\n        // Create the username and password labels and fields.\n        GridPane grid = new GridPane();\n        grid.setHgap(10);\n        grid.setVgap(10);\n        grid.setPadding(new Insets(20, 150, 10, 10));\n\n        TextField tfId = new TextField();\n        TextField tfFirstName = new TextField();\n        TextField tfLastName = new TextField();\n        TextField tfEmail = new TextField();\n\n        grid.add(new Label(&quot;ID:&quot;), 0, 0);\n        grid.add(tfId, 1, 0);\n        grid.add(new Label(&quot;First Name:&quot;), 0, 1);\n        grid.add(tfFirstName, 1, 1);\n        grid.add(new Label(&quot;Last Name:&quot;), 0, 2);\n        grid.add(tfLastName, 1, 2);\n        grid.add(new Label(&quot;Email Name:&quot;), 0, 3);\n        grid.add(tfEmail, 1, 3);\n\n        // Enable/Disable login button depending on whether a username was entered.\n        Button btnAdd = (Button)dialog.getDialogPane().lookupButton(btntAdd);\n        btnAdd.disableProperty().bind(\n            Bindings.isEmpty(tfId.textProperty())\n            .or(Bindings.isEmpty(tfFirstName.textProperty()))\n            .or(Bindings.isEmpty(tfLastName.textProperty()))\n            .or(Bindings.isEmpty(tfEmail.textProperty()))\n        );\n\n        dialog.getDialogPane().setContent(grid);\n\n        // Request focus on the username field by default.\n        Platform.runLater(() -&gt; tfId.requestFocus());\n\n        // Convert the result to a username-password-pair when the login button is clicked.\n        dialog.setResultConverter(dialogButton -&gt; {\n            if (dialogButton == btntAdd) {\n                return new Person(Integer.parseInt(tfId.getText()), tfFirstName.getText(), tfLastName.getText(), tfEmail.getText());\n            }\n            return null;\n        });\n\n        Optional&lt;Person&gt; result = dialog.showAndWait();\n        result.ifPresent(items::add);\n    }\n    \n    \n}\n</code></pre>\n<h2>Person</h2>\n<pre><code>import javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\npublic class Person {        \n    private final IntegerProperty id;\n    private final StringProperty firstName;\n    private final StringProperty lastName;\n    private final StringProperty email;\n\n    public Person(int id, String fName, String lName, String email) {\n        this.id = new SimpleIntegerProperty(id);\n        this.firstName = new SimpleStringProperty(fName);\n        this.lastName = new SimpleStringProperty(lName);\n        this.email = new SimpleStringProperty(email);\n    }\n\n    public int getId()\n    {\n        return id.get();\n    }\n\n    public void setId(int id)\n    {\n        this.id.set(id);\n    }\n\n    public IntegerProperty idProperty()\n    {\n        return id;\n    }\n\n    public String getFirstName() {\n        return firstName.get();\n    }\n\n    public void setFirstName(String fName) {\n        firstName.set(fName);\n    }\n\n    public StringProperty firstNameProperty()\n    {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName.get();\n    }\n\n    public void setLastName(String fName) {\n        lastName.set(fName);\n    }\n\n    public StringProperty lastNameProperty()\n    {\n        return lastName;\n    }\n\n    public String getEmail() {\n        return email.get();\n    }\n\n    public void setEmail(String fName) {\n        email.set(fName);\n    }\n\n    public StringProperty emailProperty()\n    {\n        return email;\n    }\n\n    @Override \n    public String toString()\n    {\n        StringBuilder stringBuilder = new StringBuilder();\n        stringBuilder.append(&quot;id: &quot;).append(this.id.get())\n                .append(&quot;\\tName:&quot;).append(this.firstName.get()).append(&quot; &quot;).append(this.lastName.get())\n                .append(&quot;\\temail: &quot;).append(this.email.get());\n\n        return stringBuilder.toString();\n    }       \n}\n</code></pre>\n<h2>Output</h2>\n<p><a href=\"https://i.stack.imgur.com/1aAv6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1aAv6.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691464274,"creation_date":1691429987,"answer_id":76853991,"question_id":76847264,"body_markdown":"There are three ways I can see for you to approach this. I have created a greatly simplified version of the application to demonstrate each of these and focus on the three different approaches. They all use the following:\r\n\r\nA simplified `Customer` class (with just one property):\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    \r\n    public class Customer {\r\n        private final StringProperty name = new SimpleStringProperty();\r\n    \r\n        public Customer(String name){\r\n            setName(name);\r\n        }\r\n    \r\n        public final String getName() {\r\n            return nameProperty().get();\r\n        }\r\n    \r\n        public StringProperty nameProperty() {\r\n            return name;\r\n        }\r\n    \r\n        public final void setName(String name) {\r\n            nameProperty().set(name);\r\n        }\r\n    }\r\n\r\nThe main FXML file:\r\n\r\n`CustomerOverview.fxml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.control.TableView?&gt;\r\n    &lt;?import javafx.scene.control.TableColumn?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;BorderPane xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n                fx:controller=&quot;org.jamesd.examples.tableexample.CustomerOverviewController&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n        &lt;/padding&gt;\r\n    \r\n        &lt;top&gt;\r\n            &lt;HBox spacing=&quot;5&quot;&gt;\r\n                &lt;Label text=&quot;Search:&quot;/&gt;\r\n                &lt;TextField fx:id=&quot;searchField&quot; onTextChange=&quot;#updateFilterText&quot;/&gt;\r\n            &lt;/HBox&gt;\r\n        &lt;/top&gt;\r\n        &lt;center&gt;\r\n            &lt;TableView fx:id=&quot;customerTable&quot;&gt;\r\n                &lt;columns&gt;\r\n                    &lt;TableColumn fx:id=&quot;nameColumn&quot; text=&quot;Name&quot;/&gt;\r\n                &lt;/columns&gt;\r\n            &lt;/TableView&gt;\r\n        &lt;/center&gt;\r\n        &lt;bottom&gt;\r\n            &lt;HBox spacing=&quot;5&quot; alignment=&quot;CENTER_RIGHT&quot;&gt;\r\n                &lt;Button text=&quot;Add..&quot; onAction=&quot;#addCustomer&quot;/&gt;\r\n            &lt;/HBox&gt;\r\n        &lt;/bottom&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nand the FXML for the &quot;Add Customer&quot; dialog:\r\n\r\n`AddCustomerDialog.fxml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import java.util.*?&gt;\r\n    &lt;?import javafx.scene.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;GridPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n              xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n              fx:controller=&quot;org.jamesd.examples.tableexample.AddCustomerDialogController&quot;\r\n              hgap=&quot;5&quot;\r\n              vgap=&quot;5&quot;&gt;\r\n    \r\n        &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;10&quot;/&gt;&lt;/padding&gt;\r\n        &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;NEVER&quot; halignment=&quot;RIGHT&quot;/&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot; halignment=&quot;LEFT&quot;/&gt;\r\n        &lt;/columnConstraints&gt;\r\n    \r\n        &lt;Label text=&quot;Name:&quot; GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;0&quot;/&gt;\r\n        &lt;TextField fx:id=&quot;nameField&quot; GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;1&quot;/&gt;\r\n        &lt;HBox GridPane.rowIndex=&quot;1&quot; GridPane.columnIndex=&quot;0&quot; GridPane.columnSpan=&quot;2&quot; alignment=&quot;CENTER_RIGHT&quot; spacing=&quot;5&quot;&gt;\r\n            &lt;Button text=&quot;OK&quot; defaultButton=&quot;true&quot; onAction=&quot;#commit&quot; disable=&quot;${nameField.text.blank}&quot;/&gt;\r\n            &lt;Button text=&quot;Cancel&quot; cancelButton=&quot;true&quot; onAction=&quot;#cancel&quot;/&gt;\r\n        &lt;/HBox&gt;\r\n    &lt;/GridPane&gt;\r\n\r\nThe application is launched in the first two approaches in the usual way:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CustomerApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(CustomerApp.class.getResource(&quot;CustomerOverview.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            stage.setTitle(&quot;Customer Overview&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\nMethod 1: Wait for the dialog to close and then query its controller\r\n===\r\n\r\nThis is the simplest approach but not really the most elegant. The basic idea is to have the controller for the dialog expose a `Customer` object, which is set when the user presses &quot;OK&quot;. If the user cancels, it can be set to `null`.\r\n\r\nIn the controller for the main view, use `showAndWait()` to show the `Stage` containing &quot;Add Customer&quot; dialog. This will block execution until that stage closes, so you can then retrieve the customer.\r\n\r\nThis is basically equivalent to [SedJ601&#39;s solution](https://stackoverflow.com/a/76853142/2189127).\r\n\r\nThe main controller looks like this:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.collections.transformation.FilteredList;\r\n    import javafx.collections.transformation.SortedList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.stage.Modality;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CustomerOverviewController {\r\n    \r\n        @FXML\r\n        private TextField searchField;\r\n        @FXML\r\n        private TableView&lt;Customer&gt; customerTable;\r\n        @FXML\r\n        private TableColumn&lt;Customer, String&gt; nameColumn;\r\n    \r\n        private final ObservableList&lt;Customer&gt; allCustomers = FXCollections.observableArrayList();\r\n        private final FilteredList&lt;Customer&gt; filteredCustomers = new FilteredList&lt;&gt;(allCustomers);\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            nameColumn.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\r\n    \r\n            updateFilterText();\r\n            SortedList&lt;Customer&gt; sortedCustomers = new SortedList&lt;&gt;(filteredCustomers);\r\n            sortedCustomers.comparatorProperty().bind(customerTable.comparatorProperty());\r\n            customerTable.setItems(sortedCustomers);\r\n        }\r\n    \r\n        @FXML\r\n        private void updateFilterText() {\r\n            String filter = searchField.getText();\r\n            if (filter.isBlank()) {\r\n                filteredCustomers.setPredicate(customer -&gt; true);\r\n            } else {\r\n                filteredCustomers.setPredicate(customer -&gt; customer.getName().contains(filter));\r\n            }\r\n        }\r\n    \r\n        @FXML\r\n        private void addCustomer() throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AddCustomerDialog.fxml&quot;));\r\n            Parent root = loader.load();\r\n            Scene scene = new Scene(root);\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Add Customer&quot;);\r\n            stage.setScene(scene);\r\n            stage.initOwner(customerTable.getScene().getWindow());\r\n            stage.initModality(Modality.WINDOW_MODAL);\r\n            \r\n            // showAndWait() will block execution, so code after this line is executed when the stage is closed:\r\n            stage.showAndWait();\r\n            \r\n            // get the Customer the user added, if there is one, and add it to the table&#39;s items list:\r\n            AddCustomerDialogController controller = loader.getController();\r\n            Customer customer = controller.getCustomer();\r\n            if (customer != null) {\r\n                allCustomers.add(customer);\r\n            }\r\n        }\r\n    }\r\n\r\nand the controller for the dialog looks like this:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class AddCustomerDialogController {\r\n        @FXML\r\n        private TextField nameField;\r\n    \r\n        private Customer customer;\r\n        @FXML\r\n        private void commit() {\r\n            String name = nameField.getText();\r\n            if (! name.isBlank()) {\r\n                this.customer = new Customer(nameField.getText());\r\n            }\r\n            closeWindow();\r\n        }\r\n        \r\n        @FXML\r\n        private void cancel() {\r\n            this.customer = null;\r\n            closeWindow();\r\n        }\r\n    \r\n        private void closeWindow() {\r\n            nameField.getScene().getWindow().hide();\r\n        }\r\n        public Customer getCustomer() {\r\n            return customer;\r\n        }\r\n    }\r\n\r\n---\r\n\r\nMethod 2: Pass the table&#39;s items list to the dialog controller\r\n===\r\n\r\nThis is also a fairly simple method, and it bears some relationship to MVC (see below) in the sense you are sharing data between two different controllers, one of which updates the data and one of which observes it. However, it&#39;s not a very robust solution and relies on making sure, for example, you set the list in the dialog controller before the dialog is displayed. This will work for small applications but for medium or large scale applications the code will get quite complex.\r\n\r\nIn this method, the controller for the dialog is responsible for adding the new customer to the table&#39;s items list. For that to happen, it needs a reference to the list, which is passed to that controller after the FXML is loaded. \r\n\r\nThe controller for the dialog looks like this:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class AddCustomerDialogController {\r\n        \r\n        private ObservableList&lt;Customer&gt; customerList;\r\n        @FXML\r\n        private TextField nameField;\r\n        \r\n        public void setCustomerList(ObservableList&lt;Customer&gt; customerList) {\r\n            this.customerList = customerList;\r\n        }\r\n        @FXML\r\n        private void commit() {\r\n            String name = nameField.getText();\r\n            if (! name.isBlank()) {\r\n                // Add new customer to list of customers:\r\n                customerList.add(new Customer(nameField.getText()));\r\n            }\r\n            closeWindow();\r\n        }\r\n        \r\n        @FXML\r\n        private void cancel() {\r\n            closeWindow();\r\n        }\r\n    \r\n        private void closeWindow() {\r\n            nameField.getScene().getWindow().hide();\r\n        }\r\n    \r\n    }\r\n\r\nand the main controller looks like this. The only difference here is in the `addCustomer()` method.\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.collections.transformation.FilteredList;\r\n    import javafx.collections.transformation.SortedList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.stage.Modality;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CustomerOverviewController {\r\n    \r\n        @FXML\r\n        private TextField searchField;\r\n        @FXML\r\n        private TableView&lt;Customer&gt; customerTable;\r\n        @FXML\r\n        private TableColumn&lt;Customer, String&gt; nameColumn;\r\n    \r\n        private final ObservableList&lt;Customer&gt; allCustomers = FXCollections.observableArrayList();\r\n        private final FilteredList&lt;Customer&gt; filteredCustomers = new FilteredList&lt;&gt;(allCustomers);\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            nameColumn.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\r\n    \r\n            updateFilterText();\r\n            SortedList&lt;Customer&gt; sortedCustomers = new SortedList&lt;&gt;(filteredCustomers);\r\n            sortedCustomers.comparatorProperty().bind(customerTable.comparatorProperty());\r\n            customerTable.setItems(sortedCustomers);\r\n        }\r\n    \r\n        @FXML\r\n        private void updateFilterText() {\r\n            String filter = searchField.getText();\r\n            if (filter.isBlank()) {\r\n                filteredCustomers.setPredicate(customer -&gt; true);\r\n            } else {\r\n                filteredCustomers.setPredicate(customer -&gt; customer.getName().contains(filter));\r\n            }\r\n        }\r\n    \r\n        @FXML\r\n        private void addCustomer() throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AddCustomerDialog.fxml&quot;));\r\n            Parent root = loader.load();\r\n            \r\n            // pass the table&#39;s list to the dialog controller:\r\n            AddCustomerDialogController customerDialogController = loader.getController();\r\n            customerDialogController.setCustomerList(allCustomers);\r\n            \r\n            Scene scene = new Scene(root);\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Add Customer&quot;);\r\n            stage.setScene(scene);\r\n            stage.initOwner(customerTable.getScene().getWindow());\r\n            stage.initModality(Modality.WINDOW_MODAL);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nMethod 3: Use a MVC Design\r\n===\r\n\r\nModel-View-Controller (MVC) is a standard design pattern for GUI applications. This is explained a little more at https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx. There are some variants of MVC (Model-View-Presenter and Model-View-ViewModel, for example) and in my opinion MVC with FXML usually looks a little more like MVP. I would encourage you to read up further on this and related design patterns. There are many resources available online.\r\n\r\nThe common thread to all these patterns is that the data and business logic are factored out into a separate class (the &quot;Model&quot;). The View typically observes the model and responds to changes in it. (JavaFX properties and observable lists are designed exactly for this purpose.) The controller/presenter/etc updates the model, which then automatically causes updates to any views that are observing it.\r\n\r\nThis approach is the most robust but needs the most learning and for you to define some additional classes. However, for medium and larger applications there is payoff for this as your controller classes and views become simpler and can just delegate a lot of work to the model. It will also make your code more consistent (fewer special cases: everything just works the same way by accessing a central model) and since it follows a standard pattern is easier for other programmers to understand.\r\n\r\nA simple model for this application might expose the list of customers, a search filter property, and the filtered list:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.collections.transformation.FilteredList;\r\n    \r\n    public class Model {\r\n        private final ObservableList&lt;Customer&gt; allCustomers = FXCollections.observableArrayList();\r\n        private final FilteredList&lt;Customer&gt; filteredCustomers = new FilteredList&lt;&gt;(allCustomers);\r\n        private final StringProperty searchText = new SimpleStringProperty();\r\n    \r\n        public Model() {\r\n            searchText.addListener((obs, oldText, newText) -&gt; {\r\n                if (newText.isBlank()) {\r\n                    filteredCustomers.setPredicate(customer -&gt; true);\r\n                } else {\r\n                    filteredCustomers.setPredicate(customer -&gt; customer.getName().contains(newText));\r\n                }\r\n            });\r\n        }\r\n        \r\n        // Convenience method, equivalent to getAllCustomers().add(customer)\r\n        public void addCustomer(Customer customer) {\r\n            allCustomers.add(customer);\r\n        }\r\n    \r\n        public ObservableList&lt;Customer&gt; getAllCustomers() {\r\n            return allCustomers;\r\n        }\r\n    \r\n        public FilteredList&lt;Customer&gt; getFilteredCustomers() {\r\n            return filteredCustomers;\r\n        }\r\n    \r\n        public String getSearchText() {\r\n            return searchText.get();\r\n        }\r\n    \r\n        public StringProperty searchTextProperty() {\r\n            return searchText;\r\n        }\r\n    \r\n        public void setSearchText(String searchText) {\r\n            this.searchText.set(searchText);\r\n        }\r\n    }\r\n\r\nNow if the dialog controller has a reference to the model, it can add the new customer to the list simply by calling `model.addCustomer(..)`:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class AddCustomerDialogController {\r\n    \r\n        @FXML\r\n        private TextField nameField;\r\n    \r\n        private final Model model;\r\n    \r\n        public AddCustomerDialogController(Model model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @FXML\r\n        private void commit() {\r\n            String name = nameField.getText();\r\n            if (! name.isBlank()) {\r\n                Customer customer = new Customer(name);\r\n                model.addCustomer(customer);\r\n            }\r\n            closeWindow();\r\n        }\r\n    \r\n        @FXML\r\n        private void cancel() {\r\n            closeWindow();\r\n        }\r\n    \r\n        private void closeWindow() {\r\n            nameField.getScene().getWindow().hide();\r\n        }\r\n    \r\n    }\r\n\r\nThe only problem here is that this controller no longer has a no-arg constructor: its constructor requires a `Model` parameter. There are various ways to get around this. One is to provide a `controllerFactory` to the `FXMLLoader`. The controller factory is a function (a &quot;`Callback`&quot;) which determines how to create a controller object given its class (i.e. for the class defined by the `fx:controller` attribute in the FXML). This doesn&#39;t really have anything to do with MVC, or this solution to the problem (though in MVC you will always need your controllers and views to have access to a shared model). But for completeness, here is a controller factory which uses some reflection to find a constructor taking a model, and invokes that constructor:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.util.Callback;\r\n    \r\n    import java.lang.reflect.Constructor;\r\n    \r\n    public class ModelControllerFactory implements Callback&lt;Class&lt;?&gt;, Object&gt; {\r\n        private final Model model;\r\n        public ModelControllerFactory(Model model) {\r\n            this.model = model;\r\n        }\r\n    \r\n    \r\n        // This method will be called by the FXMLLoader to create a \r\n        // controller instance when the FXML is loaded. The Class&lt;?&gt;\r\n        // parameter that is passed into this method is determined\r\n        // by the fx:controller attribute in the FXML. \r\n        //\r\n        // The default implementation simply invokes a no-argument\r\n        // constructor on the controller class. Since we want to\r\n        // support controller classes with a constructor taking a\r\n        // Model parameter, we check for such a constructor, and\r\n        // invoke it, passing in the model instance. \r\n        //\r\n        // If no such constructor exists, we revert to the default\r\n        // implementation and call the no-arg constructor.\r\n        \r\n        @Override\r\n        public Object call(Class&lt;?&gt; type) {\r\n            try {\r\n                // Search for a constructor taking one parameter of type Model:\r\n                for (Constructor&lt;?&gt; c : type.getConstructors()) {\r\n                    if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0].equals(Model.class)) {\r\n                        // Call the constructor, passing the model:\r\n                        return c.newInstance(model);\r\n                    }\r\n                }\r\n                // no constructor taking a model found: use default constructor:\r\n                return type.getConstructor().newInstance();\r\n            } catch (Exception exc) {\r\n                if (exc instanceof RuntimeException re) {\r\n                    throw re;\r\n                } else {\r\n                    throw new RuntimeException(exc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe controller for the `CustomerOverview` also has a reference to the model, and uses the list in the model for the table. Note how it sets a controller factory on the `FXMLLoader` to load the dialog FXML:\r\n\r\n    package org.jamesd.examples.tableexample;\r\n    \r\n    import javafx.collections.transformation.SortedList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.stage.Modality;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CustomerOverviewController {\r\n    \r\n        @FXML\r\n        private TextField searchField;\r\n        @FXML\r\n        private TableView&lt;Customer&gt; customerTable;\r\n        @FXML\r\n        private TableColumn&lt;Customer, String&gt; nameColumn;\r\n    \r\n        private final Model model;\r\n    \r\n        public CustomerOverviewController(Model model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            nameColumn.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\r\n    \r\n            SortedList&lt;Customer&gt; sortedCustomers = new SortedList&lt;&gt;(model.getFilteredCustomers());\r\n            sortedCustomers.comparatorProperty().bind(customerTable.comparatorProperty());\r\n            customerTable.setItems(sortedCustomers);\r\n        }\r\n    \r\n        @FXML\r\n        private void updateFilterText() {\r\n            model.setSearchText(searchField.getText());\r\n        }\r\n    \r\n        @FXML\r\n        private void addCustomer() throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AddCustomerDialog.fxml&quot;));\r\n            loader.setControllerFactory(new ModelControllerFactory(model));\r\n    \r\n            Parent root = loader.load();\r\n    \r\n            Scene scene = new Scene(root);\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Add Customer&quot;);\r\n            stage.setScene(scene);\r\n            stage.initOwner(customerTable.getScene().getWindow());\r\n            stage.initModality(Modality.WINDOW_MODAL);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nFinally, since this controller also needs a model to be passed to its constructor, we need to update the application class:\r\n\r\n    public class CustomerApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Model model = new Model();\r\n            FXMLLoader fxmlLoader = new FXMLLoader(CustomerApp.class.getResource(&quot;CustomerOverview.fxml&quot;));\r\n            fxmlLoader.setControllerFactory(new ModelControllerFactory(model));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            stage.setTitle(&quot;Customer Overview&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nNote that both controllers end up with references to the same model *instance*. This is important, because the dialog controller must add the new `Customer` to the same list that the overview controller is using for the table.","title":"Java - How to add data to table view when click on button on another stage","body":"<p>There are three ways I can see for you to approach this. I have created a greatly simplified version of the application to demonstrate each of these and focus on the three different approaches. They all use the following:</p>\n<p>A simplified <code>Customer</code> class (with just one property):</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\npublic class Customer {\n    private final StringProperty name = new SimpleStringProperty();\n\n    public Customer(String name){\n        setName(name);\n    }\n\n    public final String getName() {\n        return nameProperty().get();\n    }\n\n    public StringProperty nameProperty() {\n        return name;\n    }\n\n    public final void setName(String name) {\n        nameProperty().set(name);\n    }\n}\n</code></pre>\n<p>The main FXML file:</p>\n<p><code>CustomerOverview.fxml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;BorderPane xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;org.jamesd.examples.tableexample.CustomerOverviewController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;top&gt;\n        &lt;HBox spacing=&quot;5&quot;&gt;\n            &lt;Label text=&quot;Search:&quot;/&gt;\n            &lt;TextField fx:id=&quot;searchField&quot; onTextChange=&quot;#updateFilterText&quot;/&gt;\n        &lt;/HBox&gt;\n    &lt;/top&gt;\n    &lt;center&gt;\n        &lt;TableView fx:id=&quot;customerTable&quot;&gt;\n            &lt;columns&gt;\n                &lt;TableColumn fx:id=&quot;nameColumn&quot; text=&quot;Name&quot;/&gt;\n            &lt;/columns&gt;\n        &lt;/TableView&gt;\n    &lt;/center&gt;\n    &lt;bottom&gt;\n        &lt;HBox spacing=&quot;5&quot; alignment=&quot;CENTER_RIGHT&quot;&gt;\n            &lt;Button text=&quot;Add..&quot; onAction=&quot;#addCustomer&quot;/&gt;\n        &lt;/HBox&gt;\n    &lt;/bottom&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>and the FXML for the &quot;Add Customer&quot; dialog:</p>\n<p><code>AddCustomerDialog.fxml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;GridPane xmlns=&quot;http://javafx.com/javafx&quot;\n          xmlns:fx=&quot;http://javafx.com/fxml&quot;\n          fx:controller=&quot;org.jamesd.examples.tableexample.AddCustomerDialogController&quot;\n          hgap=&quot;5&quot;\n          vgap=&quot;5&quot;&gt;\n\n    &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;10&quot;/&gt;&lt;/padding&gt;\n    &lt;columnConstraints&gt;\n        &lt;ColumnConstraints hgrow=&quot;NEVER&quot; halignment=&quot;RIGHT&quot;/&gt;\n        &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot; halignment=&quot;LEFT&quot;/&gt;\n    &lt;/columnConstraints&gt;\n\n    &lt;Label text=&quot;Name:&quot; GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;0&quot;/&gt;\n    &lt;TextField fx:id=&quot;nameField&quot; GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;1&quot;/&gt;\n    &lt;HBox GridPane.rowIndex=&quot;1&quot; GridPane.columnIndex=&quot;0&quot; GridPane.columnSpan=&quot;2&quot; alignment=&quot;CENTER_RIGHT&quot; spacing=&quot;5&quot;&gt;\n        &lt;Button text=&quot;OK&quot; defaultButton=&quot;true&quot; onAction=&quot;#commit&quot; disable=&quot;${nameField.text.blank}&quot;/&gt;\n        &lt;Button text=&quot;Cancel&quot; cancelButton=&quot;true&quot; onAction=&quot;#cancel&quot;/&gt;\n    &lt;/HBox&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p>The application is launched in the first two approaches in the usual way:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class CustomerApp extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(CustomerApp.class.getResource(&quot;CustomerOverview.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Customer Overview&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<h1>Method 1: Wait for the dialog to close and then query its controller</h1>\n<p>This is the simplest approach but not really the most elegant. The basic idea is to have the controller for the dialog expose a <code>Customer</code> object, which is set when the user presses &quot;OK&quot;. If the user cancels, it can be set to <code>null</code>.</p>\n<p>In the controller for the main view, use <code>showAndWait()</code> to show the <code>Stage</code> containing &quot;Add Customer&quot; dialog. This will block execution until that stage closes, so you can then retrieve the customer.</p>\n<p>This is basically equivalent to <a href=\"https://stackoverflow.com/a/76853142/2189127\">SedJ601's solution</a>.</p>\n<p>The main controller looks like this:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\nimport javafx.collections.transformation.SortedList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class CustomerOverviewController {\n\n    @FXML\n    private TextField searchField;\n    @FXML\n    private TableView&lt;Customer&gt; customerTable;\n    @FXML\n    private TableColumn&lt;Customer, String&gt; nameColumn;\n\n    private final ObservableList&lt;Customer&gt; allCustomers = FXCollections.observableArrayList();\n    private final FilteredList&lt;Customer&gt; filteredCustomers = new FilteredList&lt;&gt;(allCustomers);\n\n    @FXML\n    private void initialize() {\n        nameColumn.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\n\n        updateFilterText();\n        SortedList&lt;Customer&gt; sortedCustomers = new SortedList&lt;&gt;(filteredCustomers);\n        sortedCustomers.comparatorProperty().bind(customerTable.comparatorProperty());\n        customerTable.setItems(sortedCustomers);\n    }\n\n    @FXML\n    private void updateFilterText() {\n        String filter = searchField.getText();\n        if (filter.isBlank()) {\n            filteredCustomers.setPredicate(customer -&gt; true);\n        } else {\n            filteredCustomers.setPredicate(customer -&gt; customer.getName().contains(filter));\n        }\n    }\n\n    @FXML\n    private void addCustomer() throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AddCustomerDialog.fxml&quot;));\n        Parent root = loader.load();\n        Scene scene = new Scene(root);\n        Stage stage = new Stage();\n        stage.setTitle(&quot;Add Customer&quot;);\n        stage.setScene(scene);\n        stage.initOwner(customerTable.getScene().getWindow());\n        stage.initModality(Modality.WINDOW_MODAL);\n        \n        // showAndWait() will block execution, so code after this line is executed when the stage is closed:\n        stage.showAndWait();\n        \n        // get the Customer the user added, if there is one, and add it to the table's items list:\n        AddCustomerDialogController controller = loader.getController();\n        Customer customer = controller.getCustomer();\n        if (customer != null) {\n            allCustomers.add(customer);\n        }\n    }\n}\n</code></pre>\n<p>and the controller for the dialog looks like this:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextField;\n\npublic class AddCustomerDialogController {\n    @FXML\n    private TextField nameField;\n\n    private Customer customer;\n    @FXML\n    private void commit() {\n        String name = nameField.getText();\n        if (! name.isBlank()) {\n            this.customer = new Customer(nameField.getText());\n        }\n        closeWindow();\n    }\n    \n    @FXML\n    private void cancel() {\n        this.customer = null;\n        closeWindow();\n    }\n\n    private void closeWindow() {\n        nameField.getScene().getWindow().hide();\n    }\n    public Customer getCustomer() {\n        return customer;\n    }\n}\n</code></pre>\n<hr />\n<h1>Method 2: Pass the table's items list to the dialog controller</h1>\n<p>This is also a fairly simple method, and it bears some relationship to MVC (see below) in the sense you are sharing data between two different controllers, one of which updates the data and one of which observes it. However, it's not a very robust solution and relies on making sure, for example, you set the list in the dialog controller before the dialog is displayed. This will work for small applications but for medium or large scale applications the code will get quite complex.</p>\n<p>In this method, the controller for the dialog is responsible for adding the new customer to the table's items list. For that to happen, it needs a reference to the list, which is passed to that controller after the FXML is loaded.</p>\n<p>The controller for the dialog looks like this:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextField;\n\npublic class AddCustomerDialogController {\n    \n    private ObservableList&lt;Customer&gt; customerList;\n    @FXML\n    private TextField nameField;\n    \n    public void setCustomerList(ObservableList&lt;Customer&gt; customerList) {\n        this.customerList = customerList;\n    }\n    @FXML\n    private void commit() {\n        String name = nameField.getText();\n        if (! name.isBlank()) {\n            // Add new customer to list of customers:\n            customerList.add(new Customer(nameField.getText()));\n        }\n        closeWindow();\n    }\n    \n    @FXML\n    private void cancel() {\n        closeWindow();\n    }\n\n    private void closeWindow() {\n        nameField.getScene().getWindow().hide();\n    }\n\n}\n</code></pre>\n<p>and the main controller looks like this. The only difference here is in the <code>addCustomer()</code> method.</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\nimport javafx.collections.transformation.SortedList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class CustomerOverviewController {\n\n    @FXML\n    private TextField searchField;\n    @FXML\n    private TableView&lt;Customer&gt; customerTable;\n    @FXML\n    private TableColumn&lt;Customer, String&gt; nameColumn;\n\n    private final ObservableList&lt;Customer&gt; allCustomers = FXCollections.observableArrayList();\n    private final FilteredList&lt;Customer&gt; filteredCustomers = new FilteredList&lt;&gt;(allCustomers);\n\n    @FXML\n    private void initialize() {\n        nameColumn.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\n\n        updateFilterText();\n        SortedList&lt;Customer&gt; sortedCustomers = new SortedList&lt;&gt;(filteredCustomers);\n        sortedCustomers.comparatorProperty().bind(customerTable.comparatorProperty());\n        customerTable.setItems(sortedCustomers);\n    }\n\n    @FXML\n    private void updateFilterText() {\n        String filter = searchField.getText();\n        if (filter.isBlank()) {\n            filteredCustomers.setPredicate(customer -&gt; true);\n        } else {\n            filteredCustomers.setPredicate(customer -&gt; customer.getName().contains(filter));\n        }\n    }\n\n    @FXML\n    private void addCustomer() throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AddCustomerDialog.fxml&quot;));\n        Parent root = loader.load();\n        \n        // pass the table's list to the dialog controller:\n        AddCustomerDialogController customerDialogController = loader.getController();\n        customerDialogController.setCustomerList(allCustomers);\n        \n        Scene scene = new Scene(root);\n        Stage stage = new Stage();\n        stage.setTitle(&quot;Add Customer&quot;);\n        stage.setScene(scene);\n        stage.initOwner(customerTable.getScene().getWindow());\n        stage.initModality(Modality.WINDOW_MODAL);\n        stage.show();\n    }\n}\n</code></pre>\n<h1>Method 3: Use a MVC Design</h1>\n<p>Model-View-Controller (MVC) is a standard design pattern for GUI applications. This is explained a little more at <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">Applying MVC With JavaFx</a>. There are some variants of MVC (Model-View-Presenter and Model-View-ViewModel, for example) and in my opinion MVC with FXML usually looks a little more like MVP. I would encourage you to read up further on this and related design patterns. There are many resources available online.</p>\n<p>The common thread to all these patterns is that the data and business logic are factored out into a separate class (the &quot;Model&quot;). The View typically observes the model and responds to changes in it. (JavaFX properties and observable lists are designed exactly for this purpose.) The controller/presenter/etc updates the model, which then automatically causes updates to any views that are observing it.</p>\n<p>This approach is the most robust but needs the most learning and for you to define some additional classes. However, for medium and larger applications there is payoff for this as your controller classes and views become simpler and can just delegate a lot of work to the model. It will also make your code more consistent (fewer special cases: everything just works the same way by accessing a central model) and since it follows a standard pattern is easier for other programmers to understand.</p>\n<p>A simple model for this application might expose the list of customers, a search filter property, and the filtered list:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\n\npublic class Model {\n    private final ObservableList&lt;Customer&gt; allCustomers = FXCollections.observableArrayList();\n    private final FilteredList&lt;Customer&gt; filteredCustomers = new FilteredList&lt;&gt;(allCustomers);\n    private final StringProperty searchText = new SimpleStringProperty();\n\n    public Model() {\n        searchText.addListener((obs, oldText, newText) -&gt; {\n            if (newText.isBlank()) {\n                filteredCustomers.setPredicate(customer -&gt; true);\n            } else {\n                filteredCustomers.setPredicate(customer -&gt; customer.getName().contains(newText));\n            }\n        });\n    }\n    \n    // Convenience method, equivalent to getAllCustomers().add(customer)\n    public void addCustomer(Customer customer) {\n        allCustomers.add(customer);\n    }\n\n    public ObservableList&lt;Customer&gt; getAllCustomers() {\n        return allCustomers;\n    }\n\n    public FilteredList&lt;Customer&gt; getFilteredCustomers() {\n        return filteredCustomers;\n    }\n\n    public String getSearchText() {\n        return searchText.get();\n    }\n\n    public StringProperty searchTextProperty() {\n        return searchText;\n    }\n\n    public void setSearchText(String searchText) {\n        this.searchText.set(searchText);\n    }\n}\n</code></pre>\n<p>Now if the dialog controller has a reference to the model, it can add the new customer to the list simply by calling <code>model.addCustomer(..)</code>:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextField;\n\npublic class AddCustomerDialogController {\n\n    @FXML\n    private TextField nameField;\n\n    private final Model model;\n\n    public AddCustomerDialogController(Model model) {\n        this.model = model;\n    }\n\n    @FXML\n    private void commit() {\n        String name = nameField.getText();\n        if (! name.isBlank()) {\n            Customer customer = new Customer(name);\n            model.addCustomer(customer);\n        }\n        closeWindow();\n    }\n\n    @FXML\n    private void cancel() {\n        closeWindow();\n    }\n\n    private void closeWindow() {\n        nameField.getScene().getWindow().hide();\n    }\n\n}\n</code></pre>\n<p>The only problem here is that this controller no longer has a no-arg constructor: its constructor requires a <code>Model</code> parameter. There are various ways to get around this. One is to provide a <code>controllerFactory</code> to the <code>FXMLLoader</code>. The controller factory is a function (a &quot;<code>Callback</code>&quot;) which determines how to create a controller object given its class (i.e. for the class defined by the <code>fx:controller</code> attribute in the FXML). This doesn't really have anything to do with MVC, or this solution to the problem (though in MVC you will always need your controllers and views to have access to a shared model). But for completeness, here is a controller factory which uses some reflection to find a constructor taking a model, and invokes that constructor:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.util.Callback;\n\nimport java.lang.reflect.Constructor;\n\npublic class ModelControllerFactory implements Callback&lt;Class&lt;?&gt;, Object&gt; {\n    private final Model model;\n    public ModelControllerFactory(Model model) {\n        this.model = model;\n    }\n\n\n    // This method will be called by the FXMLLoader to create a \n    // controller instance when the FXML is loaded. The Class&lt;?&gt;\n    // parameter that is passed into this method is determined\n    // by the fx:controller attribute in the FXML. \n    //\n    // The default implementation simply invokes a no-argument\n    // constructor on the controller class. Since we want to\n    // support controller classes with a constructor taking a\n    // Model parameter, we check for such a constructor, and\n    // invoke it, passing in the model instance. \n    //\n    // If no such constructor exists, we revert to the default\n    // implementation and call the no-arg constructor.\n    \n    @Override\n    public Object call(Class&lt;?&gt; type) {\n        try {\n            // Search for a constructor taking one parameter of type Model:\n            for (Constructor&lt;?&gt; c : type.getConstructors()) {\n                if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0].equals(Model.class)) {\n                    // Call the constructor, passing the model:\n                    return c.newInstance(model);\n                }\n            }\n            // no constructor taking a model found: use default constructor:\n            return type.getConstructor().newInstance();\n        } catch (Exception exc) {\n            if (exc instanceof RuntimeException re) {\n                throw re;\n            } else {\n                throw new RuntimeException(exc);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The controller for the <code>CustomerOverview</code> also has a reference to the model, and uses the list in the model for the table. Note how it sets a controller factory on the <code>FXMLLoader</code> to load the dialog FXML:</p>\n<pre><code>package org.jamesd.examples.tableexample;\n\nimport javafx.collections.transformation.SortedList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class CustomerOverviewController {\n\n    @FXML\n    private TextField searchField;\n    @FXML\n    private TableView&lt;Customer&gt; customerTable;\n    @FXML\n    private TableColumn&lt;Customer, String&gt; nameColumn;\n\n    private final Model model;\n\n    public CustomerOverviewController(Model model) {\n        this.model = model;\n    }\n\n    @FXML\n    private void initialize() {\n        nameColumn.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\n\n        SortedList&lt;Customer&gt; sortedCustomers = new SortedList&lt;&gt;(model.getFilteredCustomers());\n        sortedCustomers.comparatorProperty().bind(customerTable.comparatorProperty());\n        customerTable.setItems(sortedCustomers);\n    }\n\n    @FXML\n    private void updateFilterText() {\n        model.setSearchText(searchField.getText());\n    }\n\n    @FXML\n    private void addCustomer() throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AddCustomerDialog.fxml&quot;));\n        loader.setControllerFactory(new ModelControllerFactory(model));\n\n        Parent root = loader.load();\n\n        Scene scene = new Scene(root);\n        Stage stage = new Stage();\n        stage.setTitle(&quot;Add Customer&quot;);\n        stage.setScene(scene);\n        stage.initOwner(customerTable.getScene().getWindow());\n        stage.initModality(Modality.WINDOW_MODAL);\n        stage.show();\n    }\n}\n</code></pre>\n<p>Finally, since this controller also needs a model to be passed to its constructor, we need to update the application class:</p>\n<pre><code>public class CustomerApp extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Model model = new Model();\n        FXMLLoader fxmlLoader = new FXMLLoader(CustomerApp.class.getResource(&quot;CustomerOverview.fxml&quot;));\n        fxmlLoader.setControllerFactory(new ModelControllerFactory(model));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Customer Overview&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Note that both controllers end up with references to the same model <em>instance</em>. This is important, because the dialog controller must add the new <code>Customer</code> to the same list that the overview controller is using for the table.</p>\n"}],"owner":{"account_id":29047764,"reputation":11,"user_id":22251222,"display_name":"Multi Content"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692976113,"creation_date":1691346448,"question_id":76847264,"body_markdown":"Ok I created a tableview and there is button(ADDROW). When I press that button,a new window is open, where I\r\nfill those textfields and the information of those textfields will be added to the tableveiw, but it fails to add that information.My all methods are correct because I try to print out something on that method and it&#39;s printing those things correctly. How to fix it?\r\n\r\n\r\n![](https://i.stack.imgur.com/UJ3DL.png)\r\n\r\n![](https://i.stack.imgur.com/ztlrT.png)\r\n\r\n\\--Here are the codes\r\n\r\n    package javafxtableviewaddrows;\r\n    \r\n    import java.io.IOException; import java.net.URL; import java.util.ResourceBundle; import javafx.application.Platform; import javafx.collections.FXCollections; import javafx.collections.ObservableList; import javafx.collections.transformation.FilteredList; import javafx.collections.transformation.SortedList; import javafx.event.ActionEvent; import javafx.fxml.FXML; import javafx.fxml.FXMLLoader; import javafx.fxml.Initializable; import javafx.scene.Parent; import javafx.scene.Scene; import javafx.scene.control.Button; import javafx.scene.control.Label; import javafx.scene.control.TableColumn; import javafx.scene.control.TableView; import javafx.scene.control.TextField; import javafx.scene.control.cell.PropertyValueFactory; import javafx.scene.paint.Color; import javafx.stage.Stage; import javafx.stage.StageStyle;\r\n    \r\n    public class FXMLDocumentController implements Initializable {\r\n    \r\n    @FXML\r\n    private Label label;\r\n    @FXML private TextField filterField;\r\n    @FXML private TableView&lt;Customer&gt; tableview;\r\n    Button []rbutton=new Button[400];\r\n    \r\n         @FXML  public ObservableList&lt;Customer&gt; dataList = FXCollections.observableArrayList();    \r\n    \r\n    \r\n    \r\n    \r\n    private void calculation(){\r\n        TableColumn id=new TableColumn(&quot;ID&quot;);\r\n        TableColumn name=new TableColumn(&quot;NAME&quot;);\r\n        TableColumn address=new TableColumn(&quot;ADDRESS&quot;);\r\n        TableColumn description=new TableColumn(&quot;DESCRIPTION&quot;);\r\n        TableColumn quantity=new TableColumn(&quot;QUANTITY&quot;);\r\n        TableColumn transiction=new TableColumn(&quot;TRANSICTION&quot;);\r\n        TableColumn payment=new TableColumn(&quot;PAYMENT&quot;);\r\n        TableColumn button=new TableColumn(&quot;PREVIEW&quot;);\r\n        \r\n        tableview.getColumns().addAll(id,name,address,description,quantity,transiction,payment,button);\r\n        \r\n         for(int i=0;i&lt;rbutton.length;i++){\r\n            rbutton[i]=new Button();\r\n        }\r\n        dataList = FXCollections.observableArrayList(\r\n               new Customer(&quot;1&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[0]),\r\n    new Customer(&quot;2&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[1]),\r\n     new Customer(&quot;3&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[2]),\r\n     new Customer(&quot;4&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[3])\r\n    );  \r\n                               \r\n        id.setCellValueFactory(new PropertyValueFactory(&quot;id&quot;));       \r\n        name.setCellValueFactory(new PropertyValueFactory(&quot;name&quot;));        \r\n        address.setCellValueFactory(new PropertyValueFactory(&quot;address&quot;));        \r\n        description.setCellValueFactory(new PropertyValueFactory(&quot;description&quot;));        \r\n        quantity.setCellValueFactory(new PropertyValueFactory(&quot;quantity&quot;)); \r\n        transiction.setCellValueFactory(new PropertyValueFactory(&quot;transiction&quot;)); \r\n        payment.setCellValueFactory(new PropertyValueFactory(&quot;payment&quot;)); \r\n        button.setCellValueFactory(new PropertyValueFactory(&quot;button&quot;)); \r\n        \r\n        \r\n        \r\n        \r\n       FilteredList&lt;Customer&gt; filteredData = new FilteredList&lt;&gt;(dataList, b -&gt; true);\r\n    \t\r\n    \t// 2. Set the filter Predicate whenever the filter changes.\r\n    \tfilterField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n    \t\tfilteredData.setPredicate(employee -&gt; {\r\n    \t\t\t// If filter text is empty, display all persons.\r\n    \t\t\t\t\t\t\t\r\n    \t\t\tif (newValue == null || newValue.isEmpty()) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// Compare first name and last name of every person with filter text.\r\n    \t\t\tString lowerCaseFilter = newValue.toLowerCase();\r\n    \t\t\t\r\n    \t\t\tif (employee.getId().toLowerCase().indexOf(lowerCaseFilter) != -1 ) {\r\n    \t\t\t\treturn true; // Filter matches first name.\r\n    \t\t\t} else if (employee.getName().toLowerCase().indexOf(lowerCaseFilter) != -1) {\r\n    \t\t\t\treturn true; // Filter matches last name.\r\n    \t\t\t}\r\n    \t\t\telse if (employee.getPayment().toLowerCase().indexOf(lowerCaseFilter) != -1)\r\n    \t\t\t     return true;\r\n    \t\t\t     else  \r\n    \t\t\t    \t return false; // Does not match.\r\n    \t\t});\r\n    \t});\r\n    \t\r\n    \t\r\n    \tSortedList&lt;Customer&gt; sortedData = new SortedList&lt;&gt;(filteredData);\r\n    \t\r\n    \t\r\n    \tsortedData.comparatorProperty().bind(tableview.comparatorProperty());\r\n    \t\r\n    \t\r\n    \ttableview.setItems(sortedData);\r\n    }\r\n    public void initialize(URL url, ResourceBundle rb) {  \r\n    \r\n             calculation();  \r\n        \r\n    }  \r\n    @FXML private void deleteRow(ActionEvent event) throws IOException{\r\n    dataList.remove(tableview.getSelectionModel().getSelectedItem());\r\n    \r\n    } @FXML public void addrows(String id, String name, String address, String description, String quantity, String transiction, String payment) { Customer customer = new Customer(id, name, address, description, quantity, transiction, payment,rbutton[4]); dataList.add(customer); Platform.runLater(() -&gt; {\r\n        int row = tableview.getItems().size() - 1;\r\n        tableview.getSelectionModel().select(row);\r\n        tableview.scrollTo(row);\r\n    });\r\n    \r\n    } @FXML public void addRow(ActionEvent event) throws IOException{ FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;dashbord.fxml&quot;)); Parent root1 = (Parent) fxmlLoader.load(); Stage stage = new Stage(); stage.setScene(new Scene(root1));stage.show(); }\r\n    \r\n    }\r\n    \r\n\r\n\\--Codes of the Customer class\r\n\r\n    package javafxtableviewaddrows;\r\n    \r\n    import javafx.beans.property.SimpleStringProperty; import javafx.scene.control.Button;\r\n    \r\n    public class Customer { private SimpleStringProperty id; private SimpleStringProperty name; private SimpleStringProperty address; private SimpleStringProperty description; private SimpleStringProperty quantity; private SimpleStringProperty transiction; private SimpleStringProperty payment; private Button button;\r\n    public Customer(String id, String name, String address, String description, String quantity, String transiction, String payment, Button button) {\r\n        this.id = new SimpleStringProperty(id);\r\n        this.name = new SimpleStringProperty(name);\r\n        this.address = new SimpleStringProperty(address);\r\n        this.description = new SimpleStringProperty(description);\r\n        this.quantity = new SimpleStringProperty(quantity);\r\n        this.transiction = new SimpleStringProperty(transiction);\r\n        this.payment = new SimpleStringProperty(payment);\r\n        this.button = button;\r\n        this.button.setText(&quot;Preview&quot;);\r\n    }\r\n    \r\n    public String getId() {\r\n        return id.get();\r\n    }\r\n    \r\n    public String getName() {\r\n        return name.get();\r\n    }\r\n    \r\n    public String getAddress() {\r\n        return address.get();\r\n    }\r\n    \r\n    public String getDescription() {\r\n        return description.get();\r\n    }\r\n    \r\n    public String getQuantity() {\r\n        return quantity.get();\r\n    }\r\n    \r\n    public String getTransiction() {\r\n        return transiction.get();\r\n    }\r\n    \r\n    public String getPayment() {\r\n        return payment.get();\r\n    }\r\n    \r\n    public Button getButton() {\r\n        return button;\r\n    }\r\n    \r\n    public void setId(String id) {\r\n        this.id.set(id);\r\n    }\r\n    \r\n    public void setName(String name) {\r\n        this.name.set(name);\r\n    }\r\n    \r\n    public void setAddress(String address) {\r\n        this.address.set(address);\r\n    }\r\n    \r\n    public void setDescription(String description) {\r\n        this.description.set(description);\r\n    }\r\n    \r\n    public void setQuantity(String quantity) {\r\n        this.quantity.set(quantity);\r\n    }\r\n    \r\n    public void setTransiction(String transiction) {\r\n        this.transiction.set(transiction);\r\n    }\r\n    \r\n    public void setPayment(String payment) {\r\n        this.payment.set(payment);\r\n    }\r\n    \r\n    public void setButton(Button button) {\r\n        this.button = button;\r\n    }\r\n    }\r\n\r\n\\--Codes of dashboardController\r\n\r\n    \r\n    package javafxtableviewaddrows;\r\n    \r\n    import java.io.IOException; import java.net.URL; import java.util.ResourceBundle; import javafx.event.ActionEvent; import javafx.fxml.FXML; import javafx.fxml.FXMLLoader; import javafx.fxml.Initializable; import javafx.scene.Parent; import javafx.scene.Scene; import javafx.scene.control.TextField; import javafx.scene.paint.Color; import javafx.stage.Stage;\r\n    \r\n    public class DashbordController implements Initializable {\r\n    @FXML\r\n    private TextField id;\r\n    @FXML\r\n    private TextField name;\r\n    @FXML\r\n    private TextField address;\r\n    @FXML\r\n    private TextField description;\r\n    @FXML\r\n    private TextField quantity;\r\n    @FXML\r\n    private TextField transiction;\r\n    @FXML\r\n    private TextField payment;\r\n    \r\n    \r\n    \r\n    public void initialize(URL url, ResourceBundle rb) {\r\n       \r\n    }    \r\n    \r\n    @FXML\r\n    private void addtotable(ActionEvent event) throws IOException {\r\n         FXMLLoader loader=new FXMLLoader (getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n         Parent root=loader.load();\r\n         FXMLDocumentController nd=loader.getController();\r\n         \r\n        nd.addrows(id.getText(), name.getText(), address.getText(), description.getText(), quantity.getText(), transiction.getText(), payment.getText());\r\n       \r\n    }\r\n    }\r\n\r\nI was expecting that the information will go to the tableview and It will display that information which I input from another stage......","title":"Java - How to add data to table view when click on button on another stage","body":"<p>Ok I created a tableview and there is button(ADDROW). When I press that button,a new window is open, where I\nfill those textfields and the information of those textfields will be added to the tableveiw, but it fails to add that information.My all methods are correct because I try to print out something on that method and it's printing those things correctly. How to fix it?</p>\n<p><img src=\"https://i.stack.imgur.com/UJ3DL.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/ztlrT.png\" alt=\"\" /></p>\n<p>--Here are the codes</p>\n<pre><code>package javafxtableviewaddrows;\n\nimport java.io.IOException; import java.net.URL; import java.util.ResourceBundle; import javafx.application.Platform; import javafx.collections.FXCollections; import javafx.collections.ObservableList; import javafx.collections.transformation.FilteredList; import javafx.collections.transformation.SortedList; import javafx.event.ActionEvent; import javafx.fxml.FXML; import javafx.fxml.FXMLLoader; import javafx.fxml.Initializable; import javafx.scene.Parent; import javafx.scene.Scene; import javafx.scene.control.Button; import javafx.scene.control.Label; import javafx.scene.control.TableColumn; import javafx.scene.control.TableView; import javafx.scene.control.TextField; import javafx.scene.control.cell.PropertyValueFactory; import javafx.scene.paint.Color; import javafx.stage.Stage; import javafx.stage.StageStyle;\n\npublic class FXMLDocumentController implements Initializable {\n\n@FXML\nprivate Label label;\n@FXML private TextField filterField;\n@FXML private TableView&lt;Customer&gt; tableview;\nButton []rbutton=new Button[400];\n\n     @FXML  public ObservableList&lt;Customer&gt; dataList = FXCollections.observableArrayList();    \n\n\n\n\nprivate void calculation(){\n    TableColumn id=new TableColumn(&quot;ID&quot;);\n    TableColumn name=new TableColumn(&quot;NAME&quot;);\n    TableColumn address=new TableColumn(&quot;ADDRESS&quot;);\n    TableColumn description=new TableColumn(&quot;DESCRIPTION&quot;);\n    TableColumn quantity=new TableColumn(&quot;QUANTITY&quot;);\n    TableColumn transiction=new TableColumn(&quot;TRANSICTION&quot;);\n    TableColumn payment=new TableColumn(&quot;PAYMENT&quot;);\n    TableColumn button=new TableColumn(&quot;PREVIEW&quot;);\n    \n    tableview.getColumns().addAll(id,name,address,description,quantity,transiction,payment,button);\n    \n     for(int i=0;i&lt;rbutton.length;i++){\n        rbutton[i]=new Button();\n    }\n    dataList = FXCollections.observableArrayList(\n           new Customer(&quot;1&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[0]),\nnew Customer(&quot;2&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[1]),\n new Customer(&quot;3&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[2]),\n new Customer(&quot;4&quot;, &quot;AMIT&quot;, &quot;east west&quot;, &quot;batman tshirt&quot;, &quot;= 1&quot;,&quot;/NO&quot;,&quot;NOT COMPLETED&quot;,rbutton[3])\n);  \n                           \n    id.setCellValueFactory(new PropertyValueFactory(&quot;id&quot;));       \n    name.setCellValueFactory(new PropertyValueFactory(&quot;name&quot;));        \n    address.setCellValueFactory(new PropertyValueFactory(&quot;address&quot;));        \n    description.setCellValueFactory(new PropertyValueFactory(&quot;description&quot;));        \n    quantity.setCellValueFactory(new PropertyValueFactory(&quot;quantity&quot;)); \n    transiction.setCellValueFactory(new PropertyValueFactory(&quot;transiction&quot;)); \n    payment.setCellValueFactory(new PropertyValueFactory(&quot;payment&quot;)); \n    button.setCellValueFactory(new PropertyValueFactory(&quot;button&quot;)); \n    \n    \n    \n    \n   FilteredList&lt;Customer&gt; filteredData = new FilteredList&lt;&gt;(dataList, b -&gt; true);\n    \n    // 2. Set the filter Predicate whenever the filter changes.\n    filterField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n        filteredData.setPredicate(employee -&gt; {\n            // If filter text is empty, display all persons.\n                            \n            if (newValue == null || newValue.isEmpty()) {\n                return true;\n            }\n            \n            // Compare first name and last name of every person with filter text.\n            String lowerCaseFilter = newValue.toLowerCase();\n            \n            if (employee.getId().toLowerCase().indexOf(lowerCaseFilter) != -1 ) {\n                return true; // Filter matches first name.\n            } else if (employee.getName().toLowerCase().indexOf(lowerCaseFilter) != -1) {\n                return true; // Filter matches last name.\n            }\n            else if (employee.getPayment().toLowerCase().indexOf(lowerCaseFilter) != -1)\n                 return true;\n                 else  \n                     return false; // Does not match.\n        });\n    });\n    \n    \n    SortedList&lt;Customer&gt; sortedData = new SortedList&lt;&gt;(filteredData);\n    \n    \n    sortedData.comparatorProperty().bind(tableview.comparatorProperty());\n    \n    \n    tableview.setItems(sortedData);\n}\npublic void initialize(URL url, ResourceBundle rb) {  \n\n         calculation();  \n    \n}  \n@FXML private void deleteRow(ActionEvent event) throws IOException{\ndataList.remove(tableview.getSelectionModel().getSelectedItem());\n\n} @FXML public void addrows(String id, String name, String address, String description, String quantity, String transiction, String payment) { Customer customer = new Customer(id, name, address, description, quantity, transiction, payment,rbutton[4]); dataList.add(customer); Platform.runLater(() -&gt; {\n    int row = tableview.getItems().size() - 1;\n    tableview.getSelectionModel().select(row);\n    tableview.scrollTo(row);\n});\n\n} @FXML public void addRow(ActionEvent event) throws IOException{ FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;dashbord.fxml&quot;)); Parent root1 = (Parent) fxmlLoader.load(); Stage stage = new Stage(); stage.setScene(new Scene(root1));stage.show(); }\n\n}\n</code></pre>\n<p>--Codes of the Customer class</p>\n<pre><code>package javafxtableviewaddrows;\n\nimport javafx.beans.property.SimpleStringProperty; import javafx.scene.control.Button;\n\npublic class Customer { private SimpleStringProperty id; private SimpleStringProperty name; private SimpleStringProperty address; private SimpleStringProperty description; private SimpleStringProperty quantity; private SimpleStringProperty transiction; private SimpleStringProperty payment; private Button button;\npublic Customer(String id, String name, String address, String description, String quantity, String transiction, String payment, Button button) {\n    this.id = new SimpleStringProperty(id);\n    this.name = new SimpleStringProperty(name);\n    this.address = new SimpleStringProperty(address);\n    this.description = new SimpleStringProperty(description);\n    this.quantity = new SimpleStringProperty(quantity);\n    this.transiction = new SimpleStringProperty(transiction);\n    this.payment = new SimpleStringProperty(payment);\n    this.button = button;\n    this.button.setText(&quot;Preview&quot;);\n}\n\npublic String getId() {\n    return id.get();\n}\n\npublic String getName() {\n    return name.get();\n}\n\npublic String getAddress() {\n    return address.get();\n}\n\npublic String getDescription() {\n    return description.get();\n}\n\npublic String getQuantity() {\n    return quantity.get();\n}\n\npublic String getTransiction() {\n    return transiction.get();\n}\n\npublic String getPayment() {\n    return payment.get();\n}\n\npublic Button getButton() {\n    return button;\n}\n\npublic void setId(String id) {\n    this.id.set(id);\n}\n\npublic void setName(String name) {\n    this.name.set(name);\n}\n\npublic void setAddress(String address) {\n    this.address.set(address);\n}\n\npublic void setDescription(String description) {\n    this.description.set(description);\n}\n\npublic void setQuantity(String quantity) {\n    this.quantity.set(quantity);\n}\n\npublic void setTransiction(String transiction) {\n    this.transiction.set(transiction);\n}\n\npublic void setPayment(String payment) {\n    this.payment.set(payment);\n}\n\npublic void setButton(Button button) {\n    this.button = button;\n}\n}\n</code></pre>\n<p>--Codes of dashboardController</p>\n<pre><code>package javafxtableviewaddrows;\n\nimport java.io.IOException; import java.net.URL; import java.util.ResourceBundle; import javafx.event.ActionEvent; import javafx.fxml.FXML; import javafx.fxml.FXMLLoader; import javafx.fxml.Initializable; import javafx.scene.Parent; import javafx.scene.Scene; import javafx.scene.control.TextField; import javafx.scene.paint.Color; import javafx.stage.Stage;\n\npublic class DashbordController implements Initializable {\n@FXML\nprivate TextField id;\n@FXML\nprivate TextField name;\n@FXML\nprivate TextField address;\n@FXML\nprivate TextField description;\n@FXML\nprivate TextField quantity;\n@FXML\nprivate TextField transiction;\n@FXML\nprivate TextField payment;\n\n\n\npublic void initialize(URL url, ResourceBundle rb) {\n   \n}    \n\n@FXML\nprivate void addtotable(ActionEvent event) throws IOException {\n     FXMLLoader loader=new FXMLLoader (getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n     Parent root=loader.load();\n     FXMLDocumentController nd=loader.getController();\n     \n    nd.addrows(id.getText(), name.getText(), address.getText(), description.getText(), quantity.getText(), transiction.getText(), payment.getText());\n   \n}\n}\n</code></pre>\n<p>I was expecting that the information will go to the tableview and It will display that information which I input from another stage......</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6871757,"reputation":470,"user_id":5547899,"display_name":"Jigar Shah"},"score":0,"creation_date":1524558378,"post_id":49226517,"comment_id":87009958,"body_markdown":"Hey there, did you got any solution? I am facing the same problem.","body":"Hey there, did you got any solution? I am facing the same problem."},{"owner":{"account_id":1260090,"reputation":2176,"user_id":1218613,"accept_rate":87,"display_name":"ews2001"},"score":0,"creation_date":1524768296,"post_id":49226517,"comment_id":87116122,"body_markdown":"@JigarShah: Unfortunately no, no solution yet :(  I had to move on to some of my other projects.","body":"@JigarShah: Unfortunately no, no solution yet :(  I had to move on to some of my other projects."},{"owner":{"account_id":4156264,"reputation":438,"user_id":3407480,"display_name":"elhaj"},"score":0,"creation_date":1570636436,"post_id":49226517,"comment_id":102977614,"body_markdown":"This problem is already answered here https://stackoverflow.com/a/49736794/3407480","body":"This problem is already answered here <a href=\"https://stackoverflow.com/a/49736794/3407480\">stackoverflow.com/a/49736794/3407480</a>"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1594896154,"post_id":49226517,"comment_id":111290138,"body_markdown":"Does this answer your question? [Content type &#39;multipart/form-data;boundary=----...;charset=UTF-8&#39; not supported](https://stackoverflow.com/questions/48051177/content-type-multipart-form-databoundary-charset-utf-8-not-supported)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48051177/content-type-multipart-form-databoundary-charset-utf-8-not-supported\">Content type &#39;multipart/form-data;boundary=----...;charset=UTF-8&#39; not supported</a>"}],"answers":[{"comments":[{"owner":{"account_id":557088,"reputation":1605,"user_id":919415,"accept_rate":71,"display_name":"Pankaj Sejwal"},"score":0,"creation_date":1659945876,"post_id":54266990,"comment_id":129406679,"body_markdown":"Just this change and it worked.","body":"Just this change and it worked."}],"tags":[],"owner":{"account_id":95652,"reputation":420,"user_id":260386,"display_name":"dimaKudr"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547900074,"creation_date":1547900074,"answer_id":54266990,"question_id":49226517,"body_markdown":"In createModel method, instead of @RequestBody, please use @ModelAttribute for MyModelDto parameter.","title":"Spring Boot Content type &#39;multipart/form-data;boundary=--------------------------#;charset=UTF-8&#39; not supported","body":"<p>In createModel method, instead of @RequestBody, please use @ModelAttribute for MyModelDto parameter.</p>\n"},{"comments":[{"owner":{"account_id":22656461,"reputation":2316,"user_id":16830299,"display_name":"Rajanboy"},"score":0,"creation_date":1657386905,"post_id":62932442,"comment_id":128800379,"body_markdown":"how can i use it in postman then?","body":"how can i use it in postman then?"},{"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1660793466,"post_id":62932442,"comment_id":129618142,"body_markdown":"Create one DTO which contains your part file &amp; your current entity as a string. Replace it with your current request param and after getting this you can convert your string DTO value to your real entity. Same way in postman you can pass two variables one is a multipart file and the other is your data JSON as a string","body":"Create one DTO which contains your part file &amp; your current entity as a string. Replace it with your current request param and after getting this you can convert your string DTO value to your real entity. Same way in postman you can pass two variables one is a multipart file and the other is your data JSON as a string"},{"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1660793493,"post_id":62932442,"comment_id":129618145,"body_markdown":"I&#39;ll share example once I get some free time.","body":"I&#39;ll share example once I get some free time."}],"tags":[],"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594894522,"creation_date":1594894522,"answer_id":62932442,"question_id":49226517,"body_markdown":"You can use can try following ways,\r\n\r\nSet consume block in &quot;@RequestMapping&quot;.\r\n\r\nlike , @RequestMapping(value=&quot;/abc&quot;, consume = &quot;multipart/form-data&quot;, method=HTTPMethod.POST&quot;)\r\n\r\nUse @Multipart annotation and file object as @Part annotation\r\n\r\nInstead of use @RequestBody use @RequestPart.","title":"Spring Boot Content type &#39;multipart/form-data;boundary=--------------------------#;charset=UTF-8&#39; not supported","body":"<p>You can use can try following ways,</p>\n<p>Set consume block in &quot;@RequestMapping&quot;.</p>\n<p>like , @RequestMapping(value=&quot;/abc&quot;, consume = &quot;multipart/form-data&quot;, method=HTTPMethod.POST&quot;)</p>\n<p>Use @Multipart annotation and file object as @Part annotation</p>\n<p>Instead of use @RequestBody use @RequestPart.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693029327,"post_id":76978402,"comment_id":135708797,"body_markdown":"Are you sure that the OP knows where to place this annotation in his code?","body":"Are you sure that the OP knows where to place this annotation in his code?"}],"tags":[],"owner":{"account_id":27069014,"reputation":1,"user_id":20619931,"display_name":"Ranjith Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692975914,"creation_date":1692975914,"answer_id":76978402,"question_id":49226517,"body_markdown":"    @PostMapping(value = &quot;/upload&quot;, consumes = &quot;multipart/form-data&quot;) \r\n","title":"Spring Boot Content type &#39;multipart/form-data;boundary=--------------------------#;charset=UTF-8&#39; not supported","body":"<pre><code>@PostMapping(value = &quot;/upload&quot;, consumes = &quot;multipart/form-data&quot;) \n</code></pre>\n"}],"owner":{"account_id":1260090,"reputation":2176,"user_id":1218613,"accept_rate":87,"display_name":"ews2001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14718,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1692975914,"creation_date":1520813829,"question_id":49226517,"body_markdown":"I&#39;m new to Spring...I have a Spring Boot API application and all of my methods (POST, GET, etc) work great with Postman when the Content-Type is set to application/json, I can send and receive JSON.\r\n\r\nHowever, I&#39;d really like for my methods to also accept a GET or POST in the browser.  When I use the browser to do a GET, the API returns an INTERNAL_SERVER_ERROR.  I created a small form and try to POST to my API, but then I get the UNSUPPORTED_MEDIA_TYPE: Content type &#39;multipart/form-data;boundary=--------------------------802438220043016845671644;charset=UTF-8&#39; not supported\r\n\r\nThese are 2 of the methods in my @RestController:\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = {&quot;&quot;,&quot;/&quot;})\r\n    public ResponseEntity&lt;MyModel&gt; createModel(@Valid @RequestBody MyModelDto modelDto) {\r\n        MyModel model = modelService.createModel(modelDto);\r\n        URI createdModelUrl = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{identifier}&quot;)\r\n                .buildAndExpand(model.getIdentifier()).normalize().toUri();\r\n        return ResponseEntity.created(createdModelUrl).build();\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/{identifier}&quot;)\r\n    public Resource&lt;MyModel&gt; getByIdentifier(@PathVariable(&quot;identifier&quot;) String identifier) {\r\n        MyModel model = modelService.getByIdentifier(identifier);\r\n        Resource&lt;MyModel&gt; resource = new Resource&lt;&gt;(model);\r\n        return resource;\r\n    }\r\n\r\nIf there&#39;s any other code that would be helpful to show, let me know and I&#39;ll update the thread.","title":"Spring Boot Content type &#39;multipart/form-data;boundary=--------------------------#;charset=UTF-8&#39; not supported","body":"<p>I'm new to Spring...I have a Spring Boot API application and all of my methods (POST, GET, etc) work great with Postman when the Content-Type is set to application/json, I can send and receive JSON.</p>\n\n<p>However, I'd really like for my methods to also accept a GET or POST in the browser.  When I use the browser to do a GET, the API returns an INTERNAL_SERVER_ERROR.  I created a small form and try to POST to my API, but then I get the UNSUPPORTED_MEDIA_TYPE: Content type 'multipart/form-data;boundary=--------------------------802438220043016845671644;charset=UTF-8' not supported</p>\n\n<p>These are 2 of the methods in my @RestController:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = {\"\",\"/\"})\npublic ResponseEntity&lt;MyModel&gt; createModel(@Valid @RequestBody MyModelDto modelDto) {\n    MyModel model = modelService.createModel(modelDto);\n    URI createdModelUrl = ServletUriComponentsBuilder.fromCurrentRequest().path(\"/{identifier}\")\n            .buildAndExpand(model.getIdentifier()).normalize().toUri();\n    return ResponseEntity.created(createdModelUrl).build();\n\n@RequestMapping(method = RequestMethod.GET, value = \"/{identifier}\")\npublic Resource&lt;MyModel&gt; getByIdentifier(@PathVariable(\"identifier\") String identifier) {\n    MyModel model = modelService.getByIdentifier(identifier);\n    Resource&lt;MyModel&gt; resource = new Resource&lt;&gt;(model);\n    return resource;\n}\n</code></pre>\n\n<p>If there's any other code that would be helpful to show, let me know and I'll update the thread.</p>\n"},{"tags":["java","xml","web-services","soap","domparser"],"comments":[{"owner":{"account_id":285597,"reputation":515,"user_id":584355,"accept_rate":100,"display_name":"Steffen Nieuwenhoven"},"score":0,"creation_date":1378882791,"post_id":18734576,"comment_id":27609509,"body_markdown":"can you maybe post the pure XML of the relevant line, including all tags?","body":"can you maybe post the pure XML of the relevant line, including all tags?"},{"owner":{"account_id":1353436,"reputation":1715,"user_id":1292309,"accept_rate":58,"display_name":"Jayaram"},"score":0,"creation_date":1378882937,"post_id":18734576,"comment_id":27609580,"body_markdown":"Exception clearly showing you have something wrong with your xml, could you please show your xml document","body":"Exception clearly showing you have something wrong with your xml, could you please show your xml document"},{"owner":{"account_id":2178237,"reputation":77,"user_id":1928403,"display_name":"user1928403"},"score":0,"creation_date":1378884790,"post_id":18734576,"comment_id":27610418,"body_markdown":"Corrected my question and pasted the expected xml response","body":"Corrected my question and pasted the expected xml response"}],"answers":[{"comments":[{"owner":{"account_id":2178237,"reputation":77,"user_id":1928403,"display_name":"user1928403"},"score":0,"creation_date":1378884226,"post_id":18734683,"comment_id":27610164,"body_markdown":"name is different actually for easiness to read i put it as child 1, and i corrected as Child1 in my question, i checked in my xml element throwing exception is in correct format, i suspect its value is causing the exception becasue log statement is fetching the tag name correctly but before value gets logged exception is coming at place i mentioned in my question DOMParser parser","body":"name is different actually for easiness to read i put it as child 1, and i corrected as Child1 in my question, i checked in my xml element throwing exception is in correct format, i suspect its value is causing the exception becasue log statement is fetching the tag name correctly but before value gets logged exception is coming at place i mentioned in my question DOMParser parser"}],"tags":[],"owner":{"account_id":1057674,"reputation":12774,"user_id":1060037,"display_name":"Jayamohan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378883263,"creation_date":1378882924,"answer_id":18734683,"question_id":18734576,"body_markdown":"Your XML is **invalid**\r\n\r\n    row--&gt;Parent--&gt;Child--&gt;Child 1\r\n\r\nYou cannot have space in XML element name. Your xml element name **Child 1** is having a space.\r\n\r\nXML elements name must follow these [naming rules.....][1]\r\n\r\n - Names can contain letters, numbers, and other characters       \r\n - Names cannot start with a number or punctuation character\r\n - Names cannot start with the letters xml (or XML, or Xml, etc)\r\n - Names cannot contain spaces\r\n\r\n\r\n  [1]: http://www.w3schools.com/xml/xml_elements.asp","title":"org.xmlGetting exception while parsing XML.sax.SAXParseException: The content of elements must consist of well-formed character data or markup","body":"<p>Your XML is <strong>invalid</strong></p>\n\n<pre><code>row--&gt;Parent--&gt;Child--&gt;Child 1\n</code></pre>\n\n<p>You cannot have space in XML element name. Your xml element name <strong>Child 1</strong> is having a space.</p>\n\n<p>XML elements name must follow these <a href=\"http://www.w3schools.com/xml/xml_elements.asp\" rel=\"nofollow\">naming rules.....</a></p>\n\n<ul>\n<li>Names can contain letters, numbers, and other characters       </li>\n<li>Names cannot start with a number or punctuation character</li>\n<li>Names cannot start with the letters xml (or XML, or Xml, etc)</li>\n<li>Names cannot contain spaces</li>\n</ul>\n"}],"owner":{"account_id":2178237,"reputation":77,"user_id":1928403,"display_name":"user1928403"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10068,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692975785,"creation_date":1378882562,"question_id":18734576,"body_markdown":" I am sending one query in the handler formed from WSDL file, its nothing\r\n     but to execute a query if we don&#39;t have access to databse.\r\n     the handler has only one xml tag inside which we have to write query which\r\n     we want to execute then it will query database and return the response in xml format.\r\n     i am executing a simple select query to get the details of one row.\r\n     but in the response i am getting the below exception\r\n                    \r\n    org.xml.sax.SAXParseException:The content of elements must consist of well-formed character data or markup.\r\n    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n\r\n    proper return response XML should be\r\n    &lt;row&gt;    \r\n     &lt;Vendor&gt;\r\n          &lt;Number&gt;\r\n             &lt;CountryCode&gt;1&lt;/CountryCode&gt;\r\n             &lt;AreaCode&gt;23&lt;/AreaCode&gt;\r\n             &lt;SubNumber&gt;456&lt;/SubNumber&gt;\r\n          &lt;/Number&gt;\r\n     &lt;/Vendor&gt;\r\n    &lt;/row&gt;\r\n    \r\n    in this &lt;SubNumber&gt; tag is giving error,\r\n    i am not aware of value inside this tag in database.\r\n\r\n            \r\n    i followed the stack trace and piece of code which is throwing the exception is:\r\n       DOMParser parser = new DOMParser();    \r\n   \r\ncan anyone please help me with this exception?\r\nwhere to look for? any modification required?\r\ndo i need to check the tags in return data ? are those valid\r\nbasically Child1 tag is designed in such a way that it holds an XML inside it which will go and persist into one column of the table","title":"org.xmlGetting exception while parsing XML.sax.SAXParseException: The content of elements must consist of well-formed character data or markup","body":"<p>I am sending one query in the handler formed from WSDL file, its nothing\n     but to execute a query if we don't have access to databse.\n     the handler has only one xml tag inside which we have to write query which\n     we want to execute then it will query database and return the response in xml format.\n     i am executing a simple select query to get the details of one row.\n     but in the response i am getting the below exception</p>\n\n<pre><code>org.xml.sax.SAXParseException:The content of elements must consist of well-formed character data or markup.\nat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n\nproper return response XML should be\n&lt;row&gt;    \n &lt;Vendor&gt;\n      &lt;Number&gt;\n         &lt;CountryCode&gt;1&lt;/CountryCode&gt;\n         &lt;AreaCode&gt;23&lt;/AreaCode&gt;\n         &lt;SubNumber&gt;456&lt;/SubNumber&gt;\n      &lt;/Number&gt;\n &lt;/Vendor&gt;\n&lt;/row&gt;\n\nin this &lt;SubNumber&gt; tag is giving error,\ni am not aware of value inside this tag in database.\n\n\ni followed the stack trace and piece of code which is throwing the exception is:\n   DOMParser parser = new DOMParser();    \n</code></pre>\n\n<p>can anyone please help me with this exception?\nwhere to look for? any modification required?\ndo i need to check the tags in return data ? are those valid\nbasically Child1 tag is designed in such a way that it holds an XML inside it which will go and persist into one column of the table</p>\n"},{"tags":["java","hibernate","hibernate-envers"],"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1700595914,"post_id":76978293,"comment_id":136673474,"body_markdown":"[This](https://blog-doubleslash-de.translate.goog/hibernate-envers-suche?_x_tr_sl=auto&amp;_x_tr_tl=en&amp;_x_tr_hl=de&amp;_x_tr_pto=wapp) blog post (via Google Translate) suggests to use `or` instead of `in`. Appears to be a limitation of the `AuditReader` API, at least with 5.x?","body":"<a href=\"https://blog-doubleslash-de.translate.goog/hibernate-envers-suche?_x_tr_sl=auto&amp;_x_tr_tl=en&amp;_x_tr_hl=de&amp;_x_tr_pto=wapp\" rel=\"nofollow noreferrer\">This</a> blog post (via Google Translate) suggests to use <code>or</code> instead of <code>in</code>. Appears to be a limitation of the <code>AuditReader</code> API, at least with 5.x?"},{"owner":{"account_id":11765571,"reputation":140,"user_id":8610289,"accept_rate":25,"display_name":"t1daz"},"score":0,"creation_date":1700686948,"post_id":76978293,"comment_id":136686564,"body_markdown":"yes, it looks like a limitation with hibernate envers. For now i&#39;m using native SQL","body":"yes, it looks like a limitation with hibernate envers. For now i&#39;m using native SQL"}],"owner":{"account_id":11765571,"reputation":140,"user_id":8610289,"accept_rate":25,"display_name":"t1daz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692975020,"creation_date":1692975020,"question_id":76978293,"body_markdown":"I&#39;m using hibernate (5.4.32) envers to audit my tables and I want to retrieve all the results that matching certain criteria with the &quot;IN&quot; condition, example: \r\n\r\n    AuditQuery auditQ = auditReader.createQuery()\r\n                       .forRevisionsOfEntity(TABLEX.class, false, true)\r\n                       .add(AuditEntity.property(&quot;state&quot;).in(listStateIds));\r\n\r\nIf I try to do that I&#39;m getting the following error:\r\n\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path [/app/] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: This criterion cannot be used on a property that is a relation to another property.; nested exception is org.hibernate.envers.exception.AuditException: This criterion cannot be used on a property that is a relation to another property.] with root cause\r\n\r\nAny idea how to workaround this? Native SQL?\r\nThanks\r\n\r\n","title":"Hibernate envers - Filter results using &quot;IN&quot; condition","body":"<p>I'm using hibernate (5.4.32) envers to audit my tables and I want to retrieve all the results that matching certain criteria with the &quot;IN&quot; condition, example:</p>\n<pre><code>AuditQuery auditQ = auditReader.createQuery()\n                   .forRevisionsOfEntity(TABLEX.class, false, true)\n                   .add(AuditEntity.property(&quot;state&quot;).in(listStateIds));\n</code></pre>\n<p>If I try to do that I'm getting the following error:</p>\n<blockquote>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path [/app/] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: This criterion cannot be used on a property that is a relation to another property.; nested exception is org.hibernate.envers.exception.AuditException: This criterion cannot be used on a property that is a relation to another property.] with root cause</p>\n</blockquote>\n<p>Any idea how to workaround this? Native SQL?\nThanks</p>\n"},{"tags":["java","eclipse","jar","sip","decompiling"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1449861617,"post_id":34230946,"comment_id":56205623,"body_markdown":"You read the page you linked to... &quot;Peers source code is now hosted on GitHub: https://github.com/ymartineau/peers .&quot;","body":"You read the page you linked to... &quot;Peers source code is now hosted on GitHub: <a href=\"https://github.com/ymartineau/peers\" rel=\"nofollow noreferrer\">github.com/ymartineau/peers</a> .&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7454398,"reputation":117,"user_id":5668077,"display_name":"Alexey Zavyalov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449861636,"creation_date":1449861636,"answer_id":34230989,"question_id":34230946,"body_markdown":"Jitsi is an audio/video Internet phone and instant messenger written in Java. It supports some of the most popular instant messaging and telephony protocols such as SIP, Jabber/XMPP (and hence Facebook and Google Talk), AIM, ICQ, MSN, Yahoo! Messenger.\r\n[Jitsi source code][1]\r\n\r\n\r\n  [1]: https://jitsi.org/Development/VersionControl","title":"How to get source code from peers","body":"<p>Jitsi is an audio/video Internet phone and instant messenger written in Java. It supports some of the most popular instant messaging and telephony protocols such as SIP, Jabber/XMPP (and hence Facebook and Google Talk), AIM, ICQ, MSN, Yahoo! Messenger.\n<a href=\"https://jitsi.org/Development/VersionControl\" rel=\"nofollow\">Jitsi source code</a></p>\n"},{"tags":[],"owner":{"account_id":7360454,"reputation":28,"user_id":5603883,"display_name":"MrGlue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692974998,"creation_date":1531400356,"answer_id":51306344,"question_id":34230946,"body_markdown":"[http://github.com/ymartineau/peers][1] hosts the source code as [Jon Skeet][2] has pointed out correctly\r\n\r\n\r\n  [1]: http://github.com/ymartineau/peers\r\n  [2]: https://stackoverflow.com/users/22656/jon-skeet","title":"How to get source code from peers","body":"<p><a href=\"http://github.com/ymartineau/peers\" rel=\"nofollow noreferrer\">http://github.com/ymartineau/peers</a> hosts the source code as <a href=\"https://stackoverflow.com/users/22656/jon-skeet\">Jon Skeet</a> has pointed out correctly</p>\n"}],"owner":{"account_id":7360454,"reputation":28,"user_id":5603883,"display_name":"MrGlue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":51306344,"answer_count":2,"score":-4,"last_activity_date":1692974998,"creation_date":1449861444,"question_id":34230946,"body_markdown":"I just want to have a java sip application to run in eclipse but I have&#39;nt found a way yet.  I tried various ``decompilers`` but none of them completed their work without any ``problems``. Is there any way to copy the code ``of a jar`` to an eclipse project or did someone ``find`` the source for &quot;peers&quot;?  http://peers.sourceforge.net/","title":"How to get source code from peers","body":"<p>I just want to have a java sip application to run in eclipse but I have'nt found a way yet.  I tried various <code>decompilers</code> but none of them completed their work without any <code>problems</code>. Is there any way to copy the code <code>of a jar</code> to an eclipse project or did someone <code>find</code> the source for \"peers\"?  <a href=\"http://peers.sourceforge.net/\" rel=\"nofollow\">http://peers.sourceforge.net/</a></p>\n"},{"tags":["java","spring-boot","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1644897024,"post_id":71116472,"comment_id":125720696,"body_markdown":"Where is your integration test, pray tell? Can you please edit the question, either adding a link to an [MCVE](https://stackoverflow.com/help/mcve) on GitHub or show more code (full classes, not just snippets) in order to make the problem reproducible? Does the application as such work outside of your integration test? Did the test work before, but not anymore after changes in the test code or after dependency version upgrades?","body":"Where is your integration test, pray tell? Can you please edit the question, either adding a link to an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub or show more code (full classes, not just snippets) in order to make the problem reproducible? Does the application as such work outside of your integration test? Did the test work before, but not anymore after changes in the test code or after dependency version upgrades?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644992148,"post_id":71131385,"comment_id":125749063,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71131385/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13523097,"reputation":21,"user_id":12701154,"display_name":"just_curious"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644948727,"creation_date":1644948727,"answer_id":71131385,"question_id":71116472,"body_markdown":"In the Integration tests, I had to create a Mock static of AopContext and return the class. \r\n\r\n```\r\n@Mock\r\nprivate MockedStatic&lt;AopContext&gt; aopContextMockedStatic;\r\n\r\n@BeforeEach\r\nvoid setUp() {\r\n   MockitoAnnotations.openMocks(this);\r\n   processService = spy(new ProcessService(InputPraramters...));\r\naopContextMockedStatic.when(AopContext::currentProxy).thenReturn(processService);\r\n}\r\n\r\n@AfterEach\r\nvoid tearDownStatic() {\r\n    aopContextMockedStatic.close();\r\n}\r\n```","title":"Cannot find current proxy: Set &#39;exposeProxy&#39; property on Advised to &#39;true&#39; to make it available&quot;","body":"<p>In the Integration tests, I had to create a Mock static of AopContext and return the class.</p>\n<pre><code>@Mock\nprivate MockedStatic&lt;AopContext&gt; aopContextMockedStatic;\n\n@BeforeEach\nvoid setUp() {\n   MockitoAnnotations.openMocks(this);\n   processService = spy(new ProcessService(InputPraramters...));\naopContextMockedStatic.when(AopContext::currentProxy).thenReturn(processService);\n}\n\n@AfterEach\nvoid tearDownStatic() {\n    aopContextMockedStatic.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20112116,"reputation":29,"user_id":14748320,"display_name":"atanava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692974925,"creation_date":1692974925,"answer_id":76978277,"question_id":71116472,"body_markdown":"It seems **@EnableAspectJAutoProxy(exposeProxy = true)** [doesn&#39;t work][1] with **@EnableAsync** in Spring Boot\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/16516#issuecomment-496533580\r\n\r\nI created such a helper class to delegate my async operations\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class AsyncHelper {\r\n    \r\n        @Async\r\n        public &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Supplier&lt;T&gt; supplier) {\r\n            log.info(&quot;supplyAsync invoked&quot;);\r\n            return CompletableFuture.supplyAsync(supplier);\r\n        }\r\n    \r\n        @Async\r\n        public void runAsync(Runnable runnable) {\r\n            log.info(&quot;runAsync invoked&quot;);\r\n            CompletableFuture.runAsync(runnable);\r\n        }\r\n    }\r\nAnd now I removed @Async annotations from my target class and invoke helper instead like in this code:\r\n\r\n    protected CompletableFuture&lt;String&gt; doSupplyAsyncUsingHelper() {\r\n        return asyncHelper.supplyAsync(() -&gt; {\r\n            doSomething();\r\n            return &quot;Something&quot;;\r\n        });\r\n    }\r\n\r\n    protected void doRunAsyncUsingHelper() {\r\n        asyncHelper.runAsync(() -&gt; {\r\n            doSomething();\r\n            doSomethingElse();\r\n        });\r\n    }\r\n","title":"Cannot find current proxy: Set &#39;exposeProxy&#39; property on Advised to &#39;true&#39; to make it available&quot;","body":"<p>It seems <strong>@EnableAspectJAutoProxy(exposeProxy = true)</strong> <a href=\"https://github.com/spring-projects/spring-boot/issues/16516#issuecomment-496533580\" rel=\"nofollow noreferrer\">doesn't work</a> with <strong>@EnableAsync</strong> in Spring Boot</p>\n<p>I created such a helper class to delegate my async operations</p>\n<pre><code>@Slf4j\n@Component\npublic class AsyncHelper {\n\n    @Async\n    public &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Supplier&lt;T&gt; supplier) {\n        log.info(&quot;supplyAsync invoked&quot;);\n        return CompletableFuture.supplyAsync(supplier);\n    }\n\n    @Async\n    public void runAsync(Runnable runnable) {\n        log.info(&quot;runAsync invoked&quot;);\n        CompletableFuture.runAsync(runnable);\n    }\n}\n</code></pre>\n<p>And now I removed @Async annotations from my target class and invoke helper instead like in this code:</p>\n<pre><code>protected CompletableFuture&lt;String&gt; doSupplyAsyncUsingHelper() {\n    return asyncHelper.supplyAsync(() -&gt; {\n        doSomething();\n        return &quot;Something&quot;;\n    });\n}\n\nprotected void doRunAsyncUsingHelper() {\n    asyncHelper.runAsync(() -&gt; {\n        doSomething();\n        doSomethingElse();\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":13523097,"reputation":21,"user_id":12701154,"display_name":"just_curious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692974925,"creation_date":1644862667,"question_id":71116472,"body_markdown":"I&#39;m using ```org.springframework.boot``` version &#39;2.3.3.RELEASE&#39;. \r\nWhen I&#39;m running Integration tests on ProcessService class, I get the error:\r\n\r\n```\r\njava.lang.IllegalStateException: Cannot find current proxy: Set &#39;exposeProxy&#39; property on Advised to &#39;true&#39; to make it available, and ensure that AopContext.currentProxy() is invoked in the same thread as the AOP invocation context.\r\n\tat org.springframework.aop.framework.AopContext.currentProxy(AopContext.java:69)\r\n```\r\n\r\nThis is the main class:\r\n```\r\n@EnableRetry\r\n@EnableScheduling\r\n@SpringBootApplication\r\n@EnableRedNotificationService\r\n@EnableAspectJAutoProxy(exposeProxy = true)\r\npublic class MainApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainApplication.class, args);\r\n    }\r\n}\r\n  \r\n```\r\n\r\nService class getting the error:\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class ProcessService {\r\n\r\n@Retryable(maxAttemptsExpression = &quot;${api.retry.limit}&quot;, backoff = @Backoff(delayExpression = &quot;${api.retry.max-interval}&quot;,\r\n            multiplierExpression = &quot;${api.retry.delay-multiplier}&quot;, maxDelayExpression = &quot;${api.retry.max-delay}&quot;))\r\npublic void triggerJob(Parameters...) throws Exception {\r\n        // Some code\r\n        method1();\r\n        // some code\r\n}\r\n\r\npublic JobResult method1(Parameters.. ) {\r\n        ProcessService processService = (ProcessService) AopContext.currentProxy();\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        Future&lt;JobResult&gt; task = executorService.submit(() -&gt; processService.method2(Parameters..));\r\n        // some code\r\n}\r\n\r\n@Retryable(maxAttemptsExpression = &quot;${api.retry.limit}&quot;, backoff = @Backoff(delayExpression = &quot;${api.retry.max-interval}&quot;,\r\n            multiplierExpression = &quot;${api.retry.delay-multiplier}&quot;, maxDelayExpression = &quot;${api.retry.max-delay}&quot;))\r\n    JobResult method2(Parameters.. ) {\r\n         // Some code\r\n}\r\n}\r\n```\r\n\r\nAny suggestions on how to fix this? How should I mock the ```AopContext.currentProxy()``` call in method1 to return an object of ProcessService class? \r\nCurrently, while test execution, the executon is stepping inside currentProxy() method of org.springframework.aop.framework.AopContext class and returning null. \r\n\r\n```\r\npublic static Object currentProxy() throws IllegalStateException {\r\n\t\tObject proxy = currentProxy.get();\r\n\t\tif (proxy == null) {\r\n\t\t\tthrow new IllegalStateException(\r\n\t\t\t\t\t&quot;Cannot find current proxy: Set &#39;exposeProxy&#39; property on Advised to &#39;true&#39; to make it available, and &quot; +\r\n\t\t\t\t\t\t\t&quot;ensure that AopContext.currentProxy() is invoked in the same thread as the AOP invocation context.&quot;);\r\n\t\t}\r\n\t\treturn proxy;\r\n}\r\n```","title":"Cannot find current proxy: Set &#39;exposeProxy&#39; property on Advised to &#39;true&#39; to make it available&quot;","body":"<p>I'm using <code>org.springframework.boot</code> version '2.3.3.RELEASE'.\nWhen I'm running Integration tests on ProcessService class, I get the error:</p>\n<pre><code>java.lang.IllegalStateException: Cannot find current proxy: Set 'exposeProxy' property on Advised to 'true' to make it available, and ensure that AopContext.currentProxy() is invoked in the same thread as the AOP invocation context.\n    at org.springframework.aop.framework.AopContext.currentProxy(AopContext.java:69)\n</code></pre>\n<p>This is the main class:</p>\n<pre><code>@EnableRetry\n@EnableScheduling\n@SpringBootApplication\n@EnableRedNotificationService\n@EnableAspectJAutoProxy(exposeProxy = true)\npublic class MainApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n  \n</code></pre>\n<p>Service class getting the error:</p>\n<pre><code>@Slf4j\n@Service\npublic class ProcessService {\n\n@Retryable(maxAttemptsExpression = &quot;${api.retry.limit}&quot;, backoff = @Backoff(delayExpression = &quot;${api.retry.max-interval}&quot;,\n            multiplierExpression = &quot;${api.retry.delay-multiplier}&quot;, maxDelayExpression = &quot;${api.retry.max-delay}&quot;))\npublic void triggerJob(Parameters...) throws Exception {\n        // Some code\n        method1();\n        // some code\n}\n\npublic JobResult method1(Parameters.. ) {\n        ProcessService processService = (ProcessService) AopContext.currentProxy();\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\n        Future&lt;JobResult&gt; task = executorService.submit(() -&gt; processService.method2(Parameters..));\n        // some code\n}\n\n@Retryable(maxAttemptsExpression = &quot;${api.retry.limit}&quot;, backoff = @Backoff(delayExpression = &quot;${api.retry.max-interval}&quot;,\n            multiplierExpression = &quot;${api.retry.delay-multiplier}&quot;, maxDelayExpression = &quot;${api.retry.max-delay}&quot;))\n    JobResult method2(Parameters.. ) {\n         // Some code\n}\n}\n</code></pre>\n<p>Any suggestions on how to fix this? How should I mock the <code>AopContext.currentProxy()</code> call in method1 to return an object of ProcessService class?\nCurrently, while test execution, the executon is stepping inside currentProxy() method of org.springframework.aop.framework.AopContext class and returning null.</p>\n<pre><code>public static Object currentProxy() throws IllegalStateException {\n        Object proxy = currentProxy.get();\n        if (proxy == null) {\n            throw new IllegalStateException(\n                    &quot;Cannot find current proxy: Set 'exposeProxy' property on Advised to 'true' to make it available, and &quot; +\n                            &quot;ensure that AopContext.currentProxy() is invoked in the same thread as the AOP invocation context.&quot;);\n        }\n        return proxy;\n}\n</code></pre>\n"},{"tags":["java","maven","github-actions"],"answers":[{"comments":[{"owner":{"account_id":5707387,"reputation":2633,"user_id":4510444,"accept_rate":56,"display_name":"Aaron"},"score":0,"creation_date":1692974687,"post_id":76977958,"comment_id":135702449,"body_markdown":"I&#39;ve seen this action and looking at it as a last resort, I am wondering if I can solve this using setup-java.","body":"I&#39;ve seen this action and looking at it as a last resort, I am wondering if I can solve this using setup-java."},{"owner":{"account_id":5707387,"reputation":2633,"user_id":4510444,"accept_rate":56,"display_name":"Aaron"},"score":0,"creation_date":1694574019,"post_id":76977958,"comment_id":135907743,"body_markdown":"This is the best approach outside of self-hosted runner","body":"This is the best approach outside of self-hosted runner"}],"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692972381,"creation_date":1692972381,"answer_id":76977958,"question_id":76977742,"body_markdown":"You need to specify the private repositories you want to use in your `pom.xml`:   \r\n```\r\n&lt;project&gt;\r\n...\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;private-repo&lt;/id&gt;\r\n            &lt;url&gt;${URL}&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n...\r\n&lt;/project&gt;\r\n```\r\n\r\nIn your GitHub repo you can add a secret `MAVEN_SERVERS`:\r\n\r\n```\r\n[{&quot;id&quot;: &quot;private-repo&quot;, &quot;username&quot;: &quot;USERNAME&quot;, &quot;password&quot;: &quot;PASSWORD&quot;}]\r\n```\r\n\r\nAnd use it in your [GitHub actions](https://github.com/marketplace/actions/maven-settings-action#settingsxml-with-servers-section):\r\n\r\n```\r\nsteps:\r\n- uses: s4u/maven-settings-action@v2.8.0\r\n  with:\r\n    servers: ${{ secrets.MAVEN_SERVERS}}\r\n```\r\n\r\n","title":"Github Actions setup-java - read maven packages from a private nexus repository","body":"<p>You need to specify the private repositories you want to use in your <code>pom.xml</code>:</p>\n<pre><code>&lt;project&gt;\n...\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;private-repo&lt;/id&gt;\n            &lt;url&gt;${URL}&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n...\n&lt;/project&gt;\n</code></pre>\n<p>In your GitHub repo you can add a secret <code>MAVEN_SERVERS</code>:</p>\n<pre><code>[{&quot;id&quot;: &quot;private-repo&quot;, &quot;username&quot;: &quot;USERNAME&quot;, &quot;password&quot;: &quot;PASSWORD&quot;}]\n</code></pre>\n<p>And use it in your <a href=\"https://github.com/marketplace/actions/maven-settings-action#settingsxml-with-servers-section\" rel=\"nofollow noreferrer\">GitHub actions</a>:</p>\n<pre><code>steps:\n- uses: s4u/maven-settings-action@v2.8.0\n  with:\n    servers: ${{ secrets.MAVEN_SERVERS}}\n</code></pre>\n"}],"owner":{"account_id":5707387,"reputation":2633,"user_id":4510444,"accept_rate":56,"display_name":"Aaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76977958,"answer_count":1,"score":0,"last_activity_date":1692974642,"creation_date":1692970694,"question_id":76977742,"body_markdown":"I have a private nexus repository where I need to read internal libraries and also publish.\r\n\r\nI am following the guide [here][1] for publishing using setup-java, but I can&#39;t figure out how can I instruct actions to read artifacts from my nexus repository.\r\n\r\n    name: Publish package to Nexus\r\n    \r\n    on:\r\n      push:\r\n        branches:\r\n          - main\r\n    \r\n    jobs:\r\n      build:\r\n        runs-on: ubuntu-latest\r\n        steps:\r\n          - uses: actions/checkout@v3\r\n          - name: Set up Nexus Repository\r\n            uses: actions/setup-java@v3\r\n            with:\r\n              java-version: &#39;17&#39;\r\n              distribution: &#39;corretto&#39;\r\n              cache: &#39;maven&#39;\r\n              server-id: nexus-snapshots\r\n              server-username: MAVEN_USERNAME\r\n              server-password: MAVEN_PASSWORD\r\n          - name: Publish package\r\n            run: mvn --batch-mode deploy\r\n            env:\r\n              MAVEN_USERNAME: ${{ secrets.NEXUS_PUBLISHER_USERNAME }}\r\n              MAVEN_PASSWORD: ${{ secrets.NEXUS_PUBLISHER_PASSWORD }}\r\n\r\nHere&#39;s the distributionManagement:\r\n\r\n    &lt;distributionManagement&gt;\r\n      &lt;snapshotRepository&gt;\r\n        &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n        &lt;url&gt;${NEXUS_SNAPSHOT_URL_OMITTED}&lt;/url&gt;\r\n      &lt;/snapshotRepository&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;nexus-release&lt;/id&gt;\r\n        &lt;url&gt;${NEXUS_RELEASE_URL_OMITTED}&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\nIdeally, I would use [settings-path][2], but at the moment, my setup is not yet using a self-hosted runner.\r\n\r\nEDIT: I can use a different action like [this][3], but I&#39;m wondering if I can solve this using setup-java.\r\n\r\n\r\n  [1]: https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#Publishing-using-Apache-Maven\r\n  [2]: https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#apache-maven-with-a-settings-path\r\n  [3]: https://github.com/marketplace/actions/maven-settings-action#settingsxml-with-servers-section","title":"Github Actions setup-java - read maven packages from a private nexus repository","body":"<p>I have a private nexus repository where I need to read internal libraries and also publish.</p>\n<p>I am following the guide <a href=\"https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#Publishing-using-Apache-Maven\" rel=\"nofollow noreferrer\">here</a> for publishing using setup-java, but I can't figure out how can I instruct actions to read artifacts from my nexus repository.</p>\n<pre><code>name: Publish package to Nexus\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up Nexus Repository\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'corretto'\n          cache: 'maven'\n          server-id: nexus-snapshots\n          server-username: MAVEN_USERNAME\n          server-password: MAVEN_PASSWORD\n      - name: Publish package\n        run: mvn --batch-mode deploy\n        env:\n          MAVEN_USERNAME: ${{ secrets.NEXUS_PUBLISHER_USERNAME }}\n          MAVEN_PASSWORD: ${{ secrets.NEXUS_PUBLISHER_PASSWORD }}\n</code></pre>\n<p>Here's the distributionManagement:</p>\n<pre><code>&lt;distributionManagement&gt;\n  &lt;snapshotRepository&gt;\n    &lt;id&gt;nexus-snapshots&lt;/id&gt;\n    &lt;url&gt;${NEXUS_SNAPSHOT_URL_OMITTED}&lt;/url&gt;\n  &lt;/snapshotRepository&gt;\n  &lt;repository&gt;\n    &lt;id&gt;nexus-release&lt;/id&gt;\n    &lt;url&gt;${NEXUS_RELEASE_URL_OMITTED}&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n<p>Ideally, I would use <a href=\"https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#apache-maven-with-a-settings-path\" rel=\"nofollow noreferrer\">settings-path</a>, but at the moment, my setup is not yet using a self-hosted runner.</p>\n<p>EDIT: I can use a different action like <a href=\"https://github.com/marketplace/actions/maven-settings-action#settingsxml-with-servers-section\" rel=\"nofollow noreferrer\">this</a>, but I'm wondering if I can solve this using setup-java.</p>\n"},{"tags":["java","oop","design-patterns","game-development"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1692976148,"post_id":76977338,"comment_id":135702849,"body_markdown":"Use a factory to help create the map.","body":"Use a factory to help create the map."}],"owner":{"account_id":17005041,"reputation":29,"user_id":12301425,"display_name":"Itay Segev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1692973655,"creation_date":1692967669,"question_id":76977338,"body_markdown":" I want to create a simple dungeon crawler game in Java. The Main function can take an argument &quot;-t&quot; that says that the program uses a file to build the maps and the UI is characters printed to the application screen (and not using JavaFX for example). I want to make it so I can easily add other ways to make the map (like with a graphic mapmaker) and make the UI use some images, not text. the mapmaking using the file only needs the string path of the file. but other ways of making a map might not need a file for making the map so I can&#39;t use an abstract class with the getMap(String path) function that will be implemented in a concrete map maker class.\r\n\r\nis there something I can write that will make it generic so the specific map maker will be able to get his arguments?\r\n\r\nFrom what I can tell maybe a design pattern will be useful here but I don&#39;t have much knowledge of the subject, dependency injection perhaps?\r\n\r\nhere is an outline of the code:\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        Map map;\r\n        MapGUI mapGUI;\r\n        MapMaker fileMaker;\r\n\r\n        if(args[0].compareToIgnoreCase(&quot;-t&quot;) == 0) {\r\n\r\n            mapMaker = new FileMapMaker();\r\n            mapGUI = new MapTextGUI();\r\n\r\n        }//other cases will be added in the future...\r\n\r\n        map = map.Maker.getMap();\r\n        mapGUI.print(map);\r\n    }\r\n}\r\n```\r\n","title":"How to loosen the coupling for an implementation of a map maker?","body":"<p>I want to create a simple dungeon crawler game in Java. The Main function can take an argument &quot;-t&quot; that says that the program uses a file to build the maps and the UI is characters printed to the application screen (and not using JavaFX for example). I want to make it so I can easily add other ways to make the map (like with a graphic mapmaker) and make the UI use some images, not text. the mapmaking using the file only needs the string path of the file. but other ways of making a map might not need a file for making the map so I can't use an abstract class with the getMap(String path) function that will be implemented in a concrete map maker class.</p>\n<p>is there something I can write that will make it generic so the specific map maker will be able to get his arguments?</p>\n<p>From what I can tell maybe a design pattern will be useful here but I don't have much knowledge of the subject, dependency injection perhaps?</p>\n<p>here is an outline of the code:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n\n        Map map;\n        MapGUI mapGUI;\n        MapMaker fileMaker;\n\n        if(args[0].compareToIgnoreCase(&quot;-t&quot;) == 0) {\n\n            mapMaker = new FileMapMaker();\n            mapGUI = new MapTextGUI();\n\n        }//other cases will be added in the future...\n\n        map = map.Maker.getMap();\n        mapGUI.print(map);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","spring-annotations"],"comments":[{"owner":{"account_id":6084213,"reputation":1143,"user_id":4748886,"display_name":"horizon7"},"score":0,"creation_date":1579013888,"post_id":17353327,"comment_id":105621368,"body_markdown":"I have described a solution [here](https://stackoverflow.com/a/59736272/4748886) for similar problem. Hope it helps.","body":"I have described a solution <a href=\"https://stackoverflow.com/a/59736272/4748886\">here</a> for similar problem. Hope it helps."}],"answers":[{"comments":[{"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"score":3,"creation_date":1452679385,"post_id":17355595,"comment_id":57272308,"body_markdown":"Or even without Spring dependencies at all by changing the field to default access (package protected) to make it simply accessible to the test.","body":"Or even without Spring dependencies at all by changing the field to default access (package protected) to make it simply accessible to the test."},{"owner":{"account_id":1647242,"reputation":2282,"user_id":1518555,"accept_rate":80,"display_name":"OlivierLarue"},"score":59,"creation_date":1489142229,"post_id":17355595,"comment_id":72552674,"body_markdown":"Example : `org.springframework.test.util.ReflectionTestUtils.setField(classUnderTest, &quot;field&quot;, &quot;value&quot;);`","body":"Example : <code>org.springframework.test.util.ReflectionTestUtils.setField(c&zwnj;&#8203;lassUnderTest, &quot;field&quot;, &quot;value&quot;);</code>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":23,"creation_date":1546439989,"post_id":17355595,"comment_id":94853034,"body_markdown":"You may want to make these fields set by the constructor and then move the `@Value` annotation to the constructor parameter.  This makes the test code much simpler when writing the code manually, and Spring Boot doesn&#39;t care.","body":"You may want to make these fields set by the constructor and then move the <code>@Value</code> annotation to the constructor parameter.  This makes the test code much simpler when writing the code manually, and Spring Boot doesn&#39;t care."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1551871756,"post_id":17355595,"comment_id":96797324,"body_markdown":"This is the best answer to just quickly change one property for a single testcase.","body":"This is the best answer to just quickly change one property for a single testcase."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1668623635,"post_id":17355595,"comment_id":131452971,"body_markdown":"ReflectionTestUtils works with Java 17 or above? Since reflection no longer gives warning, it gives error","body":"ReflectionTestUtils works with Java 17 or above? Since reflection no longer gives warning, it gives error"},{"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"score":0,"creation_date":1689252229,"post_id":17355595,"comment_id":135188925,"body_markdown":"Would not cut it, if you want to test also whether your datatype will be mapped correctly with @Value. double for example..","body":"Would not cut it, if you want to test also whether your datatype will be mapped correctly with @Value. double for example.."}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":6,"down_vote_count":4,"up_vote_count":296,"is_accepted":true,"score":292,"last_activity_date":1484826738,"creation_date":1372380906,"answer_id":17355595,"question_id":17353327,"body_markdown":"If possible I would try to write those test without Spring Context. If you create this class in your test without spring, then you have full control over its fields.\r\n\r\nTo set the `@value` field you can use Springs [`ReflectionTestUtils`](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html) - it has a method [`setField`](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Object-java.lang.String-java.lang.Object-) to set private fields.\r\n\r\n@see [JavaDoc: ReflectionTestUtils.setField(java.lang.Object, java.lang.String, java.lang.Object)][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField(java.lang.Object,%20java.lang.String,%20java.lang.Object)","title":"Populating Spring @Value during Unit Test","body":"<p>If possible I would try to write those test without Spring Context. If you create this class in your test without spring, then you have full control over its fields.</p>\n\n<p>To set the <code>@value</code> field you can use Springs <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"noreferrer\"><code>ReflectionTestUtils</code></a> - it has a method <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Object-java.lang.String-java.lang.Object-\" rel=\"noreferrer\"><code>setField</code></a> to set private fields.</p>\n\n<p>@see <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField(java.lang.Object,%20java.lang.String,%20java.lang.Object)\" rel=\"noreferrer\">JavaDoc: ReflectionTestUtils.setField(java.lang.Object, java.lang.String, java.lang.Object)</a></p>\n"},{"comments":[{"owner":{"account_id":1205912,"reputation":1236,"user_id":1175583,"accept_rate":43,"display_name":"Altair7852"},"score":4,"creation_date":1443732074,"post_id":27038948,"comment_id":53622275,"body_markdown":"I agree that most logic should be tested with Mockito. I wish there was a better way of testing presence and correctness of annotations than running tests through Spring.","body":"I agree that most logic should be tested with Mockito. I wish there was a better way of testing presence and correctness of annotations than running tests through Spring."}],"tags":[],"owner":{"account_id":72944,"reputation":6719,"user_id":210356,"accept_rate":100,"display_name":"Lukasz Korzybski"},"comment_count":1,"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1485283230,"creation_date":1416484383,"answer_id":27038948,"question_id":17353327,"body_markdown":"If you want, you can still run your tests within Spring Context and set the required properties inside Spring configuration class. If you use JUnit, use SpringJUnit4ClassRunner and define dedicated configuration class for your tests like that:\r\n\r\nThe class under test:\r\n\r\n    @Component\r\n    public SomeClass {\r\n\r\n        @Autowired\r\n        private SomeDependency someDependency;\r\n        \r\n        @Value(&quot;${someProperty}&quot;)\r\n        private String someProperty;\r\n    }\r\n\r\nThe test class:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class) \r\n    @ContextConfiguration(classes = SomeClassTestsConfig.class)\r\n    public class SomeClassTests {\r\n        \r\n        @Autowired\r\n        private SomeClass someClass;\r\n        \r\n        @Autowired\r\n        private SomeDependency someDependency;\r\n\r\n        @Before\r\n        public void setup() {\r\n           Mockito.reset(someDependency);\r\n\r\n        @Test\r\n        public void someTest() { ... }\r\n    }\r\n\r\nAnd the configuration class for this test:\r\n\r\n    @Configuration\r\n    public class SomeClassTestsConfig {\r\n        \r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer properties() throws Exception {\r\n            final PropertySourcesPlaceholderConfigurer pspc = new PropertySourcesPlaceholderConfigurer();\r\n            Properties properties = new Properties();\r\n\r\n            properties.setProperty(&quot;someProperty&quot;, &quot;testValue&quot;);\r\n\r\n            pspc.setProperties(properties);\r\n            return pspc;\r\n        }\r\n        @Bean\r\n        public SomeClass getSomeClass() {\r\n            return new SomeClass();\r\n        }\r\n\r\n        @Bean\r\n        public SomeDependency getSomeDependency() {\r\n            // Mockito used here for mocking dependency\r\n            return Mockito.mock(SomeDependency.class);\r\n        }\r\n    }\r\n\r\nHaving that said, I wouldn&#39;t recommend this approach, I just added it here for reference. In my opinion much better way is to use Mockito runner. In that case you don&#39;t run tests inside Spring at all, which is much more clear and simpler.","title":"Populating Spring @Value during Unit Test","body":"<p>If you want, you can still run your tests within Spring Context and set the required properties inside Spring configuration class. If you use JUnit, use SpringJUnit4ClassRunner and define dedicated configuration class for your tests like that:</p>\n\n<p>The class under test:</p>\n\n<pre><code>@Component\npublic SomeClass {\n\n    @Autowired\n    private SomeDependency someDependency;\n\n    @Value(\"${someProperty}\")\n    private String someProperty;\n}\n</code></pre>\n\n<p>The test class:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class) \n@ContextConfiguration(classes = SomeClassTestsConfig.class)\npublic class SomeClassTests {\n\n    @Autowired\n    private SomeClass someClass;\n\n    @Autowired\n    private SomeDependency someDependency;\n\n    @Before\n    public void setup() {\n       Mockito.reset(someDependency);\n\n    @Test\n    public void someTest() { ... }\n}\n</code></pre>\n\n<p>And the configuration class for this test:</p>\n\n<pre><code>@Configuration\npublic class SomeClassTestsConfig {\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer properties() throws Exception {\n        final PropertySourcesPlaceholderConfigurer pspc = new PropertySourcesPlaceholderConfigurer();\n        Properties properties = new Properties();\n\n        properties.setProperty(\"someProperty\", \"testValue\");\n\n        pspc.setProperties(properties);\n        return pspc;\n    }\n    @Bean\n    public SomeClass getSomeClass() {\n        return new SomeClass();\n    }\n\n    @Bean\n    public SomeDependency getSomeDependency() {\n        // Mockito used here for mocking dependency\n        return Mockito.mock(SomeDependency.class);\n    }\n}\n</code></pre>\n\n<p>Having that said, I wouldn't recommend this approach, I just added it here for reference. In my opinion much better way is to use Mockito runner. In that case you don't run tests inside Spring at all, which is much more clear and simpler.</p>\n"},{"comments":[{"owner":{"account_id":2900414,"reputation":5120,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"score":2,"creation_date":1519344683,"post_id":31912564,"comment_id":84885567,"body_markdown":"I think this answer is cleaner as it is Spring agnostic, it works well for different scenarios, like when you have to use custom test runners and cannot just add the `@TestProperty` annotation.","body":"I think this answer is cleaner as it is Spring agnostic, it works well for different scenarios, like when you have to use custom test runners and cannot just add the <code>@TestProperty</code> annotation."},{"owner":{"account_id":1395326,"reputation":8690,"user_id":1325216,"accept_rate":58,"display_name":"Sander Verhagen"},"score":3,"creation_date":1547611243,"post_id":31912564,"comment_id":95246532,"body_markdown":"This only works for the Spring integration test approach. Some answers and comments in here are leaning toward a Mockito approach, for which this certainly doesn&#39;t work (since there&#39;s nothing in Mockito that will populate the `@Value`s, regardless of whether the corresponding property is set or not.","body":"This only works for the Spring integration test approach. Some answers and comments in here are leaning toward a Mockito approach, for which this certainly doesn&#39;t work (since there&#39;s nothing in Mockito that will populate the <code>@Value</code>s, regardless of whether the corresponding property is set or not."}],"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":2,"down_vote_count":5,"up_vote_count":38,"is_accepted":false,"score":33,"last_activity_date":1439186593,"creation_date":1439186593,"answer_id":31912564,"question_id":17353327,"body_markdown":"This seems to work, although still a bit verbose (I&#39;d like something shorter still):\r\n\r\n    @BeforeClass\r\n    public static void beforeClass() {\r\n        System.setProperty(&quot;some.property&quot;, &quot;&lt;value&gt;&quot;);\r\n    }\r\n\r\n    // Optionally:\r\n    @AfterClass\r\n    public static void afterClass() {\r\n        System.clearProperty(&quot;some.property&quot;);\r\n    }","title":"Populating Spring @Value during Unit Test","body":"<p>This seems to work, although still a bit verbose (I'd like something shorter still):</p>\n\n<pre><code>@BeforeClass\npublic static void beforeClass() {\n    System.setProperty(\"some.property\", \"&lt;value&gt;\");\n}\n\n// Optionally:\n@AfterClass\npublic static void afterClass() {\n    System.clearProperty(\"some.property\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1829075,"reputation":1414,"user_id":2502267,"accept_rate":0,"display_name":"fjkjava"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1558715616,"creation_date":1442266243,"answer_id":32574270,"question_id":17353327,"body_markdown":"Adding PropertyPlaceholderConfigurer in configuration is working for me.\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableJpaRepositories\r\n    @EnableTransactionManagement\r\n    public class TestConfiguration {\r\n\t    @Bean\r\n    \tpublic DataSource dataSource() {\r\n\t    \tEmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\r\n    \t\tbuilder.setType(EmbeddedDatabaseType.DERBY);\r\n\t    \treturn builder.build();\r\n    \t}\r\n\r\n\t    @Bean\r\n    \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t    \tLocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n\t\t    entityManagerFactoryBean.setDataSource(dataSource());\r\n    \t\tentityManagerFactoryBean.setPackagesToScan(new String[] { &quot;com.test.model&quot; });\r\n    \t\t// Use hibernate\r\n\t    \tJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\t    entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\r\n    \t\tentityManagerFactoryBean.setJpaProperties(getHibernateProperties());\r\n    \t\treturn entityManagerFactoryBean;\r\n\t    }\r\n\r\n    \tprivate Properties getHibernateProperties() {\r\n\t    \tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;hibernate.show_sql&quot;, &quot;false&quot;);\r\n\t    \tproperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.DerbyDialect&quot;);\r\n\t\t    properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n    \t\treturn properties;\r\n    \t}\r\n\r\n\t    @Bean\r\n    \tpublic JpaTransactionManager transactionManager() {\r\n\t    \tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n             transactionManager.setEntityManagerFactory(\r\n                  entityManagerFactory().getObject()\r\n             );\r\n\r\n             return transactionManager;\r\n        }\r\n\r\n    \t@Bean\r\n\t    PropertyPlaceholderConfigurer propConfig() {\r\n\t\t    PropertyPlaceholderConfigurer placeholderConfigurer = new PropertyPlaceholderConfigurer();\r\n            placeholderConfigurer.setLocation(new ClassPathResource(&quot;application_test.properties&quot;));\r\n\t    \treturn placeholderConfigurer;\r\n    \t}\r\n    }\r\n\r\nAnd in test class\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = TestConfiguration.class)\r\n    public class DataServiceTest {\r\n\r\n\t    @Autowired\r\n\t    private DataService dataService;\r\n\r\n\t    @Autowired\r\n\t    private DataRepository dataRepository;\r\n\r\n\t    @Value(&quot;${Api.url}&quot;)\r\n\t    private String baseUrl;\r\n\r\n\t    @Test\r\n\t    public void testUpdateData() {\r\n\t\t    List&lt;Data&gt; datas = (List&lt;Data&gt;) dataRepository.findAll();\r\n    \t\tassertTrue(datas.isEmpty());\r\n    \t\tdataService.updateDatas();\r\n\t    \tdatas = (List&lt;Data&gt;) dataRepository.findAll();\r\n\t    \tassertFalse(datas.isEmpty());\r\n    \t}\r\n    }\r\n","title":"Populating Spring @Value during Unit Test","body":"<p>Adding PropertyPlaceholderConfigurer in configuration is working for me.</p>\n\n<pre><code>@Configuration\n@ComponentScan\n@EnableJpaRepositories\n@EnableTransactionManagement\npublic class TestConfiguration {\n    @Bean\n    public DataSource dataSource() {\n        EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\n        builder.setType(EmbeddedDatabaseType.DERBY);\n        return builder.build();\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setDataSource(dataSource());\n        entityManagerFactoryBean.setPackagesToScan(new String[] { \"com.test.model\" });\n        // Use hibernate\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\n        entityManagerFactoryBean.setJpaProperties(getHibernateProperties());\n        return entityManagerFactoryBean;\n    }\n\n    private Properties getHibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(\"hibernate.show_sql\", \"false\");\n        properties.put(\"hibernate.dialect\", \"org.hibernate.dialect.DerbyDialect\");\n        properties.put(\"hibernate.hbm2ddl.auto\", \"update\");\n        return properties;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n         transactionManager.setEntityManagerFactory(\n              entityManagerFactory().getObject()\n         );\n\n         return transactionManager;\n    }\n\n    @Bean\n    PropertyPlaceholderConfigurer propConfig() {\n        PropertyPlaceholderConfigurer placeholderConfigurer = new PropertyPlaceholderConfigurer();\n        placeholderConfigurer.setLocation(new ClassPathResource(\"application_test.properties\"));\n        return placeholderConfigurer;\n    }\n}\n</code></pre>\n\n<p>And in test class</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = TestConfiguration.class)\npublic class DataServiceTest {\n\n    @Autowired\n    private DataService dataService;\n\n    @Autowired\n    private DataRepository dataRepository;\n\n    @Value(\"${Api.url}\")\n    private String baseUrl;\n\n    @Test\n    public void testUpdateData() {\n        List&lt;Data&gt; datas = (List&lt;Data&gt;) dataRepository.findAll();\n        assertTrue(datas.isEmpty());\n        dataService.updateDatas();\n        datas = (List&lt;Data&gt;) dataRepository.findAll();\n        assertFalse(datas.isEmpty());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2370977,"reputation":667,"user_id":2075605,"display_name":"tequilacat"},"score":6,"creation_date":1500313968,"post_id":41964308,"comment_id":77270344,"body_markdown":"Thank you, finally someone answered how to override Value and not how to set a field. I derive values from the string field in PostConstruct and so I need the string value to be set by Spring, not after construction.","body":"Thank you, finally someone answered how to override Value and not how to set a field. I derive values from the string field in PostConstruct and so I need the string value to be set by Spring, not after construction."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1525970215,"post_id":41964308,"comment_id":87571735,"body_markdown":"@Value(&quot;$aaaa&quot;)  - can you use this inside class Config itself?","body":"@Value(&quot;$aaaa&quot;)  - can you use this inside class Config itself?"},{"owner":{"account_id":305881,"reputation":5257,"user_id":616290,"accept_rate":57,"display_name":"Dmytro Boichenko"},"score":0,"creation_date":1526053683,"post_id":41964308,"comment_id":87608649,"body_markdown":"I&#39;m not sure because Config is static class. But please feel free to check","body":"I&#39;m not sure because Config is static class. But please feel free to check"},{"owner":{"account_id":1719243,"reputation":405,"user_id":1575601,"accept_rate":31,"display_name":"user1575601"},"score":0,"creation_date":1540244604,"post_id":41964308,"comment_id":92785418,"body_markdown":"How can I use @Value annotation in Mockito Test class?","body":"How can I use @Value annotation in Mockito Test class?"},{"owner":{"account_id":8689428,"reputation":273,"user_id":6502722,"accept_rate":75,"display_name":"legend"},"score":0,"creation_date":1555397674,"post_id":41964308,"comment_id":98085550,"body_markdown":"I&#39;m writing an integration test for a service which doesn&#39;t refer any code which fetch values from property file but my application has configuration class which is fetching value from property file. So when I&#39;m running test it is giving error of unresolve placeholder , say  &quot;${spring.redis.port}&quot;","body":"I&#39;m writing an integration test for a service which doesn&#39;t refer any code which fetch values from property file but my application has configuration class which is fetching value from property file. So when I&#39;m running test it is giving error of unresolve placeholder , say  &quot;${spring.redis.port}&quot;"},{"owner":{"account_id":1923201,"reputation":389,"user_id":1734198,"accept_rate":80,"display_name":"Gat"},"score":0,"creation_date":1581687462,"post_id":41964308,"comment_id":106530045,"body_markdown":"Note that using `TestPropertySource` annotation in different test classes will result in the creation of a new Spring context for each class.\nA nice article on multiple spring-context and how to avoid it: https://medium.com/@mykola.gurov/integration-tests-v-spring-context-when-less-is-more-2e454572c3a8","body":"Note that using <code>TestPropertySource</code> annotation in different test classes will result in the creation of a new Spring context for each class. A nice article on multiple spring-context and how to avoid it: <a href=\"https://medium.com/@mykola.gurov/integration-tests-v-spring-context-when-less-is-more-2e454572c3a8\" rel=\"nofollow noreferrer\">medium.com/@mykola.gurov/&hellip;</a>"},{"owner":{"account_id":10561548,"reputation":2425,"user_id":7781169,"display_name":"fyrkov"},"score":0,"creation_date":1602512547,"post_id":41964308,"comment_id":113736602,"body_markdown":"The original question refers to an isolated unit test, while this solution is dependent on a Spring context.","body":"The original question refers to an isolated unit test, while this solution is dependent on a Spring context."},{"owner":{"account_id":305881,"reputation":5257,"user_id":616290,"accept_rate":57,"display_name":"Dmytro Boichenko"},"score":0,"creation_date":1604499176,"post_id":41964308,"comment_id":114365487,"body_markdown":"@fyrkov actually not\n_Is there a way to use Java code inside my test class to initialize a Java class and populate the Spring @Value property inside that class then use that to test with?_\nWhere `Spring Value` is filled by the Spring Engine. In this case, my comment gives a correct answer.","body":"@fyrkov actually not <i>Is there a way to use Java code inside my test class to initialize a Java class and populate the Spring @Value property inside that class then use that to test with?</i> Where <code>Spring Value</code> is filled by the Spring Engine. In this case, my comment gives a correct answer."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1619001550,"post_id":41964308,"comment_id":118771204,"body_markdown":"You can also use an application.properties with your unit test properties as such: `@TestPropertySource(&quot;/application.properties&quot;)`","body":"You can also use an application.properties with your unit test properties as such: <code>@TestPropertySource(&quot;&#47;application.properties&quot;)</code>"}],"tags":[],"owner":{"account_id":305881,"reputation":5257,"user_id":616290,"accept_rate":57,"display_name":"Dmytro Boichenko"},"comment_count":9,"down_vote_count":4,"up_vote_count":265,"is_accepted":false,"score":261,"last_activity_date":1503577298,"creation_date":1485885270,"answer_id":41964308,"question_id":17353327,"body_markdown":"Since Spring 4.1 you could set up property values just in code by using `org.springframework.test.context.TestPropertySource` annotation on Unit Tests class level. You could use this approach even for injecting properties into dependent bean instances\r\n\r\nFor example\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = FooTest.Config.class)\r\n    @TestPropertySource(properties = {\r\n        &quot;some.bar.value=testValue&quot;,\r\n    })\r\n    public class FooTest {\r\n\r\n      @Value(&quot;${some.bar.value}&quot;)\r\n      String bar;\r\n\r\n      @Test\r\n      public void testValueSetup() {\r\n        assertEquals(&quot;testValue&quot;, bar);\r\n      }\r\n\r\n\r\n      @Configuration\r\n      static class Config {\r\n\r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertiesResolver() {\r\n            return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n**Note:** It&#39;s necessary to have instance of `org.springframework.context.support.PropertySourcesPlaceholderConfigurer` in Spring context\r\n\r\n**Edit 24-08-2017:** If you are using SpringBoot 1.4.0 and later you could initialize tests with [`@SpringBootTest`][1] and [`@SpringBootConfiguration`][2] annotations. More info [here][3]\r\n\r\nIn case of SpringBoot we have following code\r\n\r\n    @SpringBootTest\r\n    @SpringBootConfiguration\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @TestPropertySource(properties = {\r\n        &quot;some.bar.value=testValue&quot;,\r\n    })\r\n    public class FooTest {\r\n\r\n      @Value(&quot;${some.bar.value}&quot;)\r\n      String bar;\r\n\r\n      @Test\r\n      public void testValueSetup() {\r\n        assertEquals(&quot;testValue&quot;, bar);\r\n      }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringBootConfiguration.html\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility","title":"Populating Spring @Value during Unit Test","body":"<p>Since Spring 4.1 you could set up property values just in code by using <code>org.springframework.test.context.TestPropertySource</code> annotation on Unit Tests class level. You could use this approach even for injecting properties into dependent bean instances</p>\n\n<p>For example</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = FooTest.Config.class)\n@TestPropertySource(properties = {\n    \"some.bar.value=testValue\",\n})\npublic class FooTest {\n\n  @Value(\"${some.bar.value}\")\n  String bar;\n\n  @Test\n  public void testValueSetup() {\n    assertEquals(\"testValue\", bar);\n  }\n\n\n  @Configuration\n  static class Config {\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertiesResolver() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n\n  }\n\n}\n</code></pre>\n\n<p><strong>Note:</strong> It's necessary to have instance of <code>org.springframework.context.support.PropertySourcesPlaceholderConfigurer</code> in Spring context</p>\n\n<p><strong>Edit 24-08-2017:</strong> If you are using SpringBoot 1.4.0 and later you could initialize tests with <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"noreferrer\"><code>@SpringBootTest</code></a> and <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringBootConfiguration.html\" rel=\"noreferrer\"><code>@SpringBootConfiguration</code></a> annotations. More info <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility\" rel=\"noreferrer\">here</a></p>\n\n<p>In case of SpringBoot we have following code</p>\n\n<pre><code>@SpringBootTest\n@SpringBootConfiguration\n@RunWith(SpringJUnit4ClassRunner.class)\n@TestPropertySource(properties = {\n    \"some.bar.value=testValue\",\n})\npublic class FooTest {\n\n  @Value(\"${some.bar.value}\")\n  String bar;\n\n  @Test\n  public void testValueSetup() {\n    assertEquals(\"testValue\", bar);\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1435623,"reputation":119,"user_id":1454720,"display_name":"kugo2006"},"score":6,"creation_date":1587497562,"post_id":51810713,"comment_id":108534289,"body_markdown":"Great answer. Best practice here is also for constructor-initialized fields to be `final`, i.e `private String final property`","body":"Great answer. Best practice here is also for constructor-initialized fields to be <code>final</code>, i.e <code>private String final property</code>"},{"owner":{"account_id":3023236,"reputation":191,"user_id":2563771,"accept_rate":0,"display_name":"vimterd"},"score":2,"creation_date":1591193035,"post_id":51810713,"comment_id":109962571,"body_markdown":"It&#39;s nice that somebody highlighted that. To make it working with Spring only, it is necessary to add the class under test in @ContextConfiguration.","body":"It&#39;s nice that somebody highlighted that. To make it working with Spring only, it is necessary to add the class under test in @ContextConfiguration."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":1,"creation_date":1596536534,"post_id":51810713,"comment_id":111835880,"body_markdown":"And if I have 10 fields with `@Value` you propose to create a constructor with 10 parameters?","body":"And if I have 10 fields with <code>@Value</code> you propose to create a constructor with 10 parameters?"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":4,"creation_date":1596593158,"post_id":51810713,"comment_id":111858516,"body_markdown":"@ACV never. Please read the last sentence of my answer. And the configuration properties class could have setters if many fields to set. That  is less annoying for a class that is only designed to be a  properties holder.","body":"@ACV never. Please read the last sentence of my answer. And the configuration properties class could have setters if many fields to set. That  is less annoying for a class that is only designed to be a  properties holder."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":1,"creation_date":1619007805,"post_id":51810713,"comment_id":118774105,"body_markdown":"I think this answer provides the real solution to the problem.","body":"I think this answer provides the real solution to the problem."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":5,"down_vote_count":3,"up_vote_count":177,"is_accepted":false,"score":174,"last_activity_date":1594365715,"creation_date":1534091247,"answer_id":51810713,"question_id":17353327,"body_markdown":"**Don&#39;t abuse private fields get/set by reflection**  \r\n\r\nUsing reflection as that is done in several answers here is something that we could avoid.   \r\nIt brings a small value here while it presents multiple drawbacks : \r\n\r\n- we detect reflection issues only at runtime (ex: fields not existing any longer)\r\n- We want  encapsulation but not a opaque class that hides dependencies that should be visible and make the class more opaque and less testable.   \r\n- it encourages bad design.  Today you declare a `@Value String field`. Tomorrow you can declare `5` or `10` of them in that class and you may not even be straight aware that you decrease the design of the class. With a more visible approach to set these fields (such as constructor) , you will think twice before adding all these fields and you will probably encapsulate them into another class and use `@ConfigurationProperties`.   \r\n\r\n\r\n**Make your class testable both unitary and in integration**    \r\n\r\nTo be able to write both plain unit tests (that is without a running spring container) and integration tests for your Spring component class, you have to make this class usable with or without Spring.   \r\nRunning a container in an unit test when it is not required is a bad practice that slows down local builds : you don&#39;t want that.    \r\nI added this answer because no answer here seems to show this distinction and so they rely on a running container systematically.  \r\n\r\nSo I think that you should move this property defined as an internal of the class :\r\n\r\n    @Component\r\n    public class Foo{   \r\n        @Value(&quot;${property.value}&quot;) private String property;\r\n        //...\r\n    }\r\n\r\ninto a constructor parameter that will be injected by Spring :\r\n\r\n    @Component\r\n    public class Foo{   \r\n        private String property;\r\n         \r\n        public Foo(@Value(&quot;${property.value}&quot;) String property){\r\n           this.property = property;\r\n        }\r\n    \r\n        //...         \r\n    }\r\n\r\n**Unit test example**    \r\n\r\nYou can instantiate `Foo` without Spring and inject any value for `property` thanks to the constructor  :\r\n\r\n    public class FooTest{\r\n    \r\n       Foo foo = new Foo(&quot;dummyValue&quot;);\r\n    \r\n       @Test\r\n       public void doThat(){\r\n          ...\r\n       }\r\n    }\r\n\r\n\r\n**Integration test example**    \r\n\r\nYou can injecting the property in the context with  Spring Boot in this simple way thanks to the `properties` attribute of `@SpringBootTest`   :  \r\n\r\n    @SpringBootTest(properties=&quot;property.value=dummyValue&quot;)\r\n    public class FooTest{\r\n        \r\n       @Autowired\r\n       Foo foo;\r\n         \r\n       @Test\r\n       public void doThat(){\r\n           ...\r\n       }    \r\n    }\r\n\r\nYou could use as alternative  `@TestPropertySource` but it adds an additional annotation : \r\n\r\n    @SpringBootTest\r\n    @TestPropertySource(properties=&quot;property.value=dummyValue&quot;)\r\n    public class FooTest{ ...}\r\n\r\nWith Spring (without Spring Boot), it should be a little more complicated but as I didn&#39;t use Spring without Spring Boot from a long time I don&#39;t prefer say a stupid thing.     \r\n\r\nAs a side note : if you have many `@Value` fields to set, extracting them into a class annotated with `@ConfigurationProperties` is more relevant because we don&#39;t want a constructor with too many arguments. \r\n\r\n\r\n\r\n\r\n","title":"Populating Spring @Value during Unit Test","body":"<p><strong>Don't abuse private fields get/set by reflection</strong></p>\n<p>Using reflection as that is done in several answers here is something that we could avoid.<br />\nIt brings a small value here while it presents multiple drawbacks :</p>\n<ul>\n<li>we detect reflection issues only at runtime (ex: fields not existing any longer)</li>\n<li>We want  encapsulation but not a opaque class that hides dependencies that should be visible and make the class more opaque and less testable.</li>\n<li>it encourages bad design.  Today you declare a <code>@Value String field</code>. Tomorrow you can declare <code>5</code> or <code>10</code> of them in that class and you may not even be straight aware that you decrease the design of the class. With a more visible approach to set these fields (such as constructor) , you will think twice before adding all these fields and you will probably encapsulate them into another class and use <code>@ConfigurationProperties</code>.</li>\n</ul>\n<p><strong>Make your class testable both unitary and in integration</strong></p>\n<p>To be able to write both plain unit tests (that is without a running spring container) and integration tests for your Spring component class, you have to make this class usable with or without Spring.<br />\nRunning a container in an unit test when it is not required is a bad practice that slows down local builds : you don't want that.<br />\nI added this answer because no answer here seems to show this distinction and so they rely on a running container systematically.</p>\n<p>So I think that you should move this property defined as an internal of the class :</p>\n<pre><code>@Component\npublic class Foo{   \n    @Value(&quot;${property.value}&quot;) private String property;\n    //...\n}\n</code></pre>\n<p>into a constructor parameter that will be injected by Spring :</p>\n<pre><code>@Component\npublic class Foo{   \n    private String property;\n     \n    public Foo(@Value(&quot;${property.value}&quot;) String property){\n       this.property = property;\n    }\n\n    //...         \n}\n</code></pre>\n<p><strong>Unit test example</strong></p>\n<p>You can instantiate <code>Foo</code> without Spring and inject any value for <code>property</code> thanks to the constructor  :</p>\n<pre><code>public class FooTest{\n\n   Foo foo = new Foo(&quot;dummyValue&quot;);\n\n   @Test\n   public void doThat(){\n      ...\n   }\n}\n</code></pre>\n<p><strong>Integration test example</strong></p>\n<p>You can injecting the property in the context with  Spring Boot in this simple way thanks to the <code>properties</code> attribute of <code>@SpringBootTest</code>   :</p>\n<pre><code>@SpringBootTest(properties=&quot;property.value=dummyValue&quot;)\npublic class FooTest{\n    \n   @Autowired\n   Foo foo;\n     \n   @Test\n   public void doThat(){\n       ...\n   }    \n}\n</code></pre>\n<p>You could use as alternative  <code>@TestPropertySource</code> but it adds an additional annotation :</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(properties=&quot;property.value=dummyValue&quot;)\npublic class FooTest{ ...}\n</code></pre>\n<p>With Spring (without Spring Boot), it should be a little more complicated but as I didn't use Spring without Spring Boot from a long time I don't prefer say a stupid thing.</p>\n<p>As a side note : if you have many <code>@Value</code> fields to set, extracting them into a class annotated with <code>@ConfigurationProperties</code> is more relevant because we don't want a constructor with too many arguments.</p>\n"},{"tags":[],"owner":{"account_id":4103613,"reputation":110,"user_id":3370635,"display_name":"Zetared"},"comment_count":0,"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1595595215,"creation_date":1595595215,"answer_id":63073971,"question_id":17353327,"body_markdown":"Spring Boot do a lot of automatically things to us but when we use the annotation `@SpringBootTest` we think that everything will be automatically solved by Spring boot.\r\n\r\nThere are a lot of documentation, but the minimal is to choose one **engine** (`@RunWith(SpringRunner.class)`) and indicate the class that will be used create the **context** to load the configuration (`resources/applicationl.properties`).\r\n\r\nIn a simple way you need the **engine** and the **context**:\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = MyClassTest .class)\r\npublic class MyClassTest {\r\n\r\n    @Value(&quot;${my.property}&quot;)\r\n    private String myProperty;\r\n\r\n    @Test\r\n    public void checkMyProperty(){\r\n        Assert.assertNotNull(my.property);\r\n    }\r\n}\r\n```\r\n\r\nOf course, if you look the Spring Boot documentation you will find thousands os ways to do that.\r\n","title":"Populating Spring @Value during Unit Test","body":"<p>Spring Boot do a lot of automatically things to us but when we use the annotation <code>@SpringBootTest</code> we think that everything will be automatically solved by Spring boot.</p>\n<p>There are a lot of documentation, but the minimal is to choose one <strong>engine</strong> (<code>@RunWith(SpringRunner.class)</code>) and indicate the class that will be used create the <strong>context</strong> to load the configuration (<code>resources/applicationl.properties</code>).</p>\n<p>In a simple way you need the <strong>engine</strong> and the <strong>context</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = MyClassTest .class)\npublic class MyClassTest {\n\n    @Value(&quot;${my.property}&quot;)\n    private String myProperty;\n\n    @Test\n    public void checkMyProperty(){\n        Assert.assertNotNull(my.property);\n    }\n}\n</code></pre>\n<p>Of course, if you look the Spring Boot documentation you will find thousands os ways to do that.</p>\n"},{"tags":[],"owner":{"account_id":9195034,"reputation":638,"user_id":6834044,"display_name":"Przemysaw Gsieniec"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1609336962,"creation_date":1609336962,"answer_id":65508217,"question_id":17353327,"body_markdown":"Its quite old question, and I&#39;m not sure if it was an option at that time, but this is the reason why I always prefer DependencyInjection by the constructor than by the value. \r\n\r\nI can imagine that your class might look like this:\r\n\r\n    class ExampleClass{\r\n\r\n       @Autowired\r\n       private Dog dog;\r\n\r\n       @Value(&quot;${this.property.value}&quot;) \r\n       private String thisProperty;\r\n    \r\n       ...other stuff...\r\n    }\r\n\r\nYou can change it to:\r\n\r\n    class ExampleClass{\r\n\r\n       private Dog dog;\r\n       private String thisProperty;\r\n\r\n       //optionally @Autowire\r\n       public ExampleClass(final Dog dog, @Value(&quot;${this.property.value}&quot;) final String thisProperty){\r\n          this.dog = dog;\r\n          this.thisProperty = thisProperty;\r\n       }\r\n    \r\n       ...other stuff...\r\n    }\r\n\r\nWith this implementation, the spring will know what to inject automatically, but for unit testing, you can do whatever you need. For example Autowire every dependency wth spring, and inject them manually via constructor to create &quot;ExampleClass&quot; instance, or use only spring with test property file, or do not use spring at all and create all object yourself. \r\n\r\n","title":"Populating Spring @Value during Unit Test","body":"<p>Its quite old question, and I'm not sure if it was an option at that time, but this is the reason why I always prefer DependencyInjection by the constructor than by the value.</p>\n<p>I can imagine that your class might look like this:</p>\n<pre><code>class ExampleClass{\n\n   @Autowired\n   private Dog dog;\n\n   @Value(&quot;${this.property.value}&quot;) \n   private String thisProperty;\n\n   ...other stuff...\n}\n</code></pre>\n<p>You can change it to:</p>\n<pre><code>class ExampleClass{\n\n   private Dog dog;\n   private String thisProperty;\n\n   //optionally @Autowire\n   public ExampleClass(final Dog dog, @Value(&quot;${this.property.value}&quot;) final String thisProperty){\n      this.dog = dog;\n      this.thisProperty = thisProperty;\n   }\n\n   ...other stuff...\n}\n</code></pre>\n<p>With this implementation, the spring will know what to inject automatically, but for unit testing, you can do whatever you need. For example Autowire every dependency wth spring, and inject them manually via constructor to create &quot;ExampleClass&quot; instance, or use only spring with test property file, or do not use spring at all and create all object yourself.</p>\n"},{"tags":[],"owner":{"account_id":15179154,"reputation":53,"user_id":10952927,"display_name":"Camilo Melges"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610597112,"creation_date":1610597112,"answer_id":65713282,"question_id":17353327,"body_markdown":"In springboot 2.4.1 im just added annotation ```@SpringBootTest``` in my test, and obviously, setted ```spring.profiles.active = test``` in my ```src/test/resources/application.yml```\r\n\r\nIm using ```@ExtendWith({SpringExtension.class})``` and ```@ContextConfiguration(classes = {RabbitMQ.class, GenericMapToObject.class, ModelMapper.class, StringUtils.class})``` for external confs","title":"Populating Spring @Value during Unit Test","body":"<p>In springboot 2.4.1 im just added annotation <code>@SpringBootTest</code> in my test, and obviously, setted <code>spring.profiles.active = test</code> in my <code>src/test/resources/application.yml</code></p>\n<p>Im using <code>@ExtendWith({SpringExtension.class})</code> and <code>@ContextConfiguration(classes = {RabbitMQ.class, GenericMapToObject.class, ModelMapper.class, StringUtils.class})</code> for external confs</p>\n"},{"comments":[{"owner":{"account_id":1327092,"reputation":2293,"user_id":1271706,"accept_rate":100,"display_name":"Dylan Watson"},"score":0,"creation_date":1681350013,"post_id":66092938,"comment_id":134043523,"body_markdown":"Yes! Amazing! Exactly what I needed and crazy fast! (Well... at least for a spring-boot related test &#128517;&#128514;\n\nThis should be the accepted answer.","body":"Yes! Amazing! Exactly what I needed and crazy fast! (Well... at least for a spring-boot related test   This should be the accepted answer."}],"tags":[],"owner":{"account_id":3745896,"reputation":2369,"user_id":3114566,"display_name":"ahll"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1612730791,"creation_date":1612730791,"answer_id":66092938,"question_id":17353327,"body_markdown":"    @ExtendWith(SpringExtension.class)    // @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(initializers = ConfigDataApplicationContextInitializer.class)\r\n\r\nMay that could help. The key is ConfigDataApplicationContextInitializer get all props datas","title":"Populating Spring @Value during Unit Test","body":"<pre><code>@ExtendWith(SpringExtension.class)    // @RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(initializers = ConfigDataApplicationContextInitializer.class)\n</code></pre>\n<p>May that could help. The key is ConfigDataApplicationContextInitializer get all props datas</p>\n"},{"comments":[{"owner":{"account_id":15076433,"reputation":129,"user_id":15635042,"display_name":"Siddharth Aadarsh"},"score":1,"creation_date":1651328000,"post_id":71874497,"comment_id":127341116,"body_markdown":"Have you tried this approach?","body":"Have you tried this approach?"}],"tags":[],"owner":{"account_id":15076433,"reputation":129,"user_id":15635042,"display_name":"Siddharth Aadarsh"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1649952021,"creation_date":1649952021,"answer_id":71874497,"question_id":17353327,"body_markdown":"I used the below code and it worked for me:\r\n\r\n    @InjectMocks\r\n    private ClassNotify classNotify;\r\n    \r\n    @BeforeEach\r\n      void init() {\r\n        closeable = MockitoAnnotations.openMocks(this);\r\n        ReflectionTestUtils.setField(classNotify, &quot;EventType&quot;, &quot;test-event&quot;);\r\n    \r\n      }","title":"Populating Spring @Value during Unit Test","body":"<p>I used the below code and it worked for me:</p>\n<pre><code>@InjectMocks\nprivate ClassNotify classNotify;\n\n@BeforeEach\n  void init() {\n    closeable = MockitoAnnotations.openMocks(this);\n    ReflectionTestUtils.setField(classNotify, &quot;EventType&quot;, &quot;test-event&quot;);\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3822436,"reputation":1169,"user_id":3170186,"accept_rate":88,"display_name":"Atequer Rahman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662642550,"creation_date":1662642550,"answer_id":73649602,"question_id":17353327,"body_markdown":"Inside the `test method` need to add following code_\r\n\r\n    @Test\r\n\tpublic void testIsValidFile() {\r\n\r\n        AnyClass anyClass = new AnyClass();\r\n        ReflectionTestUtils.setField(anyClass, &quot;fieldName&quot;, &quot;value&quot;);\r\n        .........\r\n        .........\r\n    }\r\n","title":"Populating Spring @Value during Unit Test","body":"<p>Inside the <code>test method</code> need to add following code_</p>\n<pre><code>@Test\npublic void testIsValidFile() {\n\n    AnyClass anyClass = new AnyClass();\n    ReflectionTestUtils.setField(anyClass, &quot;fieldName&quot;, &quot;value&quot;);\n    .........\n    .........\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4605590,"reputation":251,"user_id":3735177,"display_name":"Ev.Rei."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692973511,"creation_date":1692973511,"answer_id":76978121,"question_id":17353327,"body_markdown":"I had a similar issue.\r\nAs it turns out the test class created awhile back by some previous developer was using Mockito and not Spring Boot Test. I had removed Extend With and replaced @Mock and @Spy annotations with @MockBean and @SpyBean so test became true Spring Boot Test. This solved the problem.","title":"Populating Spring @Value during Unit Test","body":"<p>I had a similar issue.\nAs it turns out the test class created awhile back by some previous developer was using Mockito and not Spring Boot Test. I had removed Extend With and replaced @Mock and @Spy annotations with @MockBean and @SpyBean so test became true Spring Boot Test. This solved the problem.</p>\n"}],"owner":{"account_id":1432036,"reputation":14206,"user_id":1354251,"accept_rate":95,"display_name":"Kyle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452817,"favorite_count":0,"down_vote_count":0,"up_vote_count":381,"accepted_answer_id":17355595,"answer_count":13,"score":381,"last_activity_date":1692973511,"creation_date":1372367681,"question_id":17353327,"body_markdown":"I&#39;m trying to write a Unit Test for a simple bean that&#39;s used in my program to validate forms. The bean is annotated with `@Component` and has a class variable that is initialized using \r\n\r\n    @Value(&quot;${this.property.value}&quot;) private String thisProperty;\r\n\r\nI would like to write unit tests for the validation methods inside this class, however, if possible I would like to do so without utilizing the properties file. My reasoning behind this, is that if the value I&#39;m pulling from the properties file changes, I would like that to not affect my test case. My test case is testing the code that validates the value, not the value itself. \r\n\r\nIs there a way to use Java code inside my test class to initialize a Java class and populate the Spring @Value property inside that class then use that to test with?\r\n\r\nI did find this [How To][1] that seems to be close, but still uses a properties file. I would rather it all be Java code.\r\n\r\n  [1]: https://gist.github.com/danlangford/3418696","title":"Populating Spring @Value during Unit Test","body":"<p>I'm trying to write a Unit Test for a simple bean that's used in my program to validate forms. The bean is annotated with <code>@Component</code> and has a class variable that is initialized using </p>\n\n<pre><code>@Value(\"${this.property.value}\") private String thisProperty;\n</code></pre>\n\n<p>I would like to write unit tests for the validation methods inside this class, however, if possible I would like to do so without utilizing the properties file. My reasoning behind this, is that if the value I'm pulling from the properties file changes, I would like that to not affect my test case. My test case is testing the code that validates the value, not the value itself. </p>\n\n<p>Is there a way to use Java code inside my test class to initialize a Java class and populate the Spring @Value property inside that class then use that to test with?</p>\n\n<p>I did find this <a href=\"https://gist.github.com/danlangford/3418696\" rel=\"noreferrer\">How To</a> that seems to be close, but still uses a properties file. I would rather it all be Java code.</p>\n"},{"tags":["java","android","download","mp3"],"comments":[{"owner":{"account_id":13859796,"reputation":10065,"user_id":10005707,"display_name":"Jaswant Singh"},"score":0,"creation_date":1571282383,"post_id":58382049,"comment_id":103190732,"body_markdown":"What have you tried to play your mp3? I mean, if youre playing mp3 you should have its url or file path in your storage already otherwise you wont be able to play any mp3.","body":"What have you tried to play your mp3? I mean, if youre playing mp3 you should have its url or file path in your storage already otherwise you wont be able to play any mp3."},{"owner":{"account_id":12069024,"reputation":2988,"user_id":8825020,"display_name":"Dilshod K"},"score":0,"creation_date":1571282704,"post_id":58382049,"comment_id":103190800,"body_markdown":"@JaswantSingh We can play mp3 from web sites, apps (for example VK, Facebook ...), not only from storage","body":"@JaswantSingh We can play mp3 from web sites, apps (for example VK, Facebook ...), not only from storage"},{"owner":{"account_id":13859796,"reputation":10065,"user_id":10005707,"display_name":"Jaswant Singh"},"score":0,"creation_date":1571282847,"post_id":58382049,"comment_id":103190837,"body_markdown":"If youre using Facebook or YouTube as your source, it wont be possible to get the url of the mp3 as these sites dont reveal the source plus, its not legal to download these mp3s. Afaik","body":"If youre using Facebook or YouTube as your source, it wont be possible to get the url of the mp3 as these sites dont reveal the source plus, its not legal to download these mp3s. Afaik"},{"owner":{"account_id":12069024,"reputation":2988,"user_id":8825020,"display_name":"Dilshod K"},"score":0,"creation_date":1571283455,"post_id":58382049,"comment_id":103190965,"body_markdown":"@JaswantSingh, Got it, What about browsers?","body":"@JaswantSingh, Got it, What about browsers?"},{"owner":{"account_id":13859796,"reputation":10065,"user_id":10005707,"display_name":"Jaswant Singh"},"score":0,"creation_date":1571283601,"post_id":58382049,"comment_id":103191004,"body_markdown":"If youve noticed, some websites dont reveal the url (source) due to privacy and other stuff while some websites do, and to get the url from those websites youll need to parse the complete HTML (DOM)page to look for the audio source, by using some kind of regex to find the pattern.","body":"If youve noticed, some websites dont reveal the url (source) due to privacy and other stuff while some websites do, and to get the url from those websites youll need to parse the complete HTML (DOM)page to look for the audio source, by using some kind of regex to find the pattern."},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1571308334,"post_id":58382049,"comment_id":103201717,"body_markdown":"@DIlshodK from browsers you can easily get, let me know if you want it.","body":"@DIlshodK from browsers you can easily get, let me know if you want it."},{"owner":{"account_id":12069024,"reputation":2988,"user_id":8825020,"display_name":"Dilshod K"},"score":0,"creation_date":1571309396,"post_id":58382049,"comment_id":103202288,"body_markdown":"@VishwaRatna, I want, Could you give some examples?","body":"@VishwaRatna, I want, Could you give some examples?"}],"answers":[{"tags":[],"owner":{"account_id":12638560,"reputation":956,"user_id":9186913,"display_name":"raj kavadia"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571386268,"creation_date":1571385455,"answer_id":58446383,"question_id":58382049,"body_markdown":"First import the JSOUP library from maven \r\n\r\n    compile &#39;org.jsoup:jsoup:1.12.1&#39;\r\n\r\nafter that use this code\r\n\r\n                Document doc = Jsoup.connect(url).get();\r\n                System.out.println(doc.title());\r\n                Elements h1s = doc.select(&quot;.jp-type-single&quot;); \r\n                System.out.println(&quot;Number of results: &quot; + h1s.size());\r\n                for (Element element : h1s) { \r\n                String mp3Url = element.attr(&quot;data-xc-filepath&quot;); \r\n                System.out.println(&quot;mp3 url: &quot; + mp3Url);\r\n                file_num++;\r\n                URLConnection conn = new URL(mp3Url).openConnection();\r\n                InputStream is = conn.getInputStream();\r\n                OutputStream outstream = new FileOutputStream(new \r\n                File(&quot;/users/pelican/downloads/&quot;+file_num+&quot;file.mp3&quot;));\r\n                byte[] buffer = new byte[4096];\r\n                int len;\r\n                while ((len = is.read(buffer)) &gt; 0) {\r\n                    outstream.write(buffer, 0, len);\r\n                }\r\n                \r\nnow let me explain this \r\nJSOUP fetched the webpage using your HTML URL \r\n\r\nafter that, it converts into doc \r\n\r\nand after that, it selects the element by using a select method and here we are getting the first audio tag that we want to search.","title":"How to get URL of mp3 when it is playing","body":"<p>First import the JSOUP library from maven </p>\n\n<pre><code>compile 'org.jsoup:jsoup:1.12.1'\n</code></pre>\n\n<p>after that use this code</p>\n\n<pre><code>            Document doc = Jsoup.connect(url).get();\n            System.out.println(doc.title());\n            Elements h1s = doc.select(\".jp-type-single\"); \n            System.out.println(\"Number of results: \" + h1s.size());\n            for (Element element : h1s) { \n            String mp3Url = element.attr(\"data-xc-filepath\"); \n            System.out.println(\"mp3 url: \" + mp3Url);\n            file_num++;\n            URLConnection conn = new URL(mp3Url).openConnection();\n            InputStream is = conn.getInputStream();\n            OutputStream outstream = new FileOutputStream(new \n            File(\"/users/pelican/downloads/\"+file_num+\"file.mp3\"));\n            byte[] buffer = new byte[4096];\n            int len;\n            while ((len = is.read(buffer)) &gt; 0) {\n                outstream.write(buffer, 0, len);\n            }\n</code></pre>\n\n<p>now let me explain this \nJSOUP fetched the webpage using your HTML URL </p>\n\n<p>after that, it converts into doc </p>\n\n<p>and after that, it selects the element by using a select method and here we are getting the first audio tag that we want to search.</p>\n"},{"tags":[],"owner":{"account_id":7151624,"reputation":2308,"user_id":5465447,"display_name":"Roaim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571818743,"creation_date":1571818440,"answer_id":58518391,"question_id":58382049,"body_markdown":"&gt; If you can see the music is playing and it has a URL. I want to get\r\n&gt; this URL when music starts playing. How can I do that?\r\n\r\nIf you are loading the website into a `WebView`, the easiest possible way you can get the URL by intercept the requests through `WebViewClient` and check if the URL contains &#39;.mp3&#39;. See the following example,\r\n\r\n    public class YourWebViewClient extends WebViewClient {\r\n            @Override\r\n            public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n                String url = request.getUrl().toString();\r\n                if (url.contains(&quot;.mp3&quot;)) {\r\n                    Log.d(TAG, &quot;MP3 url = [&quot; + url + &quot;]&quot;);\r\n                }\r\n                return super.shouldInterceptRequest(view, request);\r\n            }\r\n    }\r\n\r\n&gt; And how can I get URL of music which is playing in some app? Is it\r\n&gt; possible?\r\n\r\nYes possible but not too easy especially if you are going to get it from SSL traffic. To sniff other app&#39;s network traffic you need to perform [MITM][1]. There are a couple of apps in the play store which are doing exactly the same thing. You can look into [HttpCanary][2] app for reference. Basically you need to perform the following steps -\r\n\r\n 1. Set up a proxy server\r\n 2. Configure your device to pass its network traffic to that proxy server\r\n 3. Ask the proxy server to give you the network data\r\n 4. Analyze the network data to see if it contains &#39;mp3&#39; URL\r\n\r\nIf you need to intercept https traffic, you need to generate and install an SSL certificate.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Man-in-the-middle_attack\r\n  [2]: https://github.com/MegatronKing/HttpCanary","title":"How to get URL of mp3 when it is playing","body":"<blockquote>\n  <p>If you can see the music is playing and it has a URL. I want to get\n  this URL when music starts playing. How can I do that?</p>\n</blockquote>\n\n<p>If you are loading the website into a <code>WebView</code>, the easiest possible way you can get the URL by intercept the requests through <code>WebViewClient</code> and check if the URL contains '.mp3'. See the following example,</p>\n\n<pre><code>public class YourWebViewClient extends WebViewClient {\n        @Override\n        public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n            String url = request.getUrl().toString();\n            if (url.contains(\".mp3\")) {\n                Log.d(TAG, \"MP3 url = [\" + url + \"]\");\n            }\n            return super.shouldInterceptRequest(view, request);\n        }\n}\n</code></pre>\n\n<blockquote>\n  <p>And how can I get URL of music which is playing in some app? Is it\n  possible?</p>\n</blockquote>\n\n<p>Yes possible but not too easy especially if you are going to get it from SSL traffic. To sniff other app's network traffic you need to perform <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">MITM</a>. There are a couple of apps in the play store which are doing exactly the same thing. You can look into <a href=\"https://github.com/MegatronKing/HttpCanary\" rel=\"nofollow noreferrer\">HttpCanary</a> app for reference. Basically you need to perform the following steps -</p>\n\n<ol>\n<li>Set up a proxy server</li>\n<li>Configure your device to pass its network traffic to that proxy server</li>\n<li>Ask the proxy server to give you the network data</li>\n<li>Analyze the network data to see if it contains 'mp3' URL</li>\n</ol>\n\n<p>If you need to intercept https traffic, you need to generate and install an SSL certificate.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693091892,"post_id":76978105,"comment_id":135714753,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76978105/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28403828,"reputation":1,"user_id":21728204,"display_name":"dama-dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692973415,"creation_date":1692973415,"answer_id":76978105,"question_id":58382049,"body_markdown":"As the tip above of intercepting the requests, I went to the Network tab on the browser console and found what I want it.\r\n\r\nUsing Google Chrome, just inspect the page and go to the network tab. The audio link is there. Just click on the line that you think it is (the ones that has *.mp3, *.wav etc) and the browser will open the audio on a new tab, with the full link","title":"How to get URL of mp3 when it is playing","body":"<p>As the tip above of intercepting the requests, I went to the Network tab on the browser console and found what I want it.</p>\n<p>Using Google Chrome, just inspect the page and go to the network tab. The audio link is there. Just click on the line that you think it is (the ones that has *.mp3, *.wav etc) and the browser will open the audio on a new tab, with the full link</p>\n"}],"owner":{"account_id":12069024,"reputation":2988,"user_id":8825020,"display_name":"Dilshod K"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10229,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":58518391,"answer_count":3,"score":5,"last_activity_date":1692973415,"creation_date":1571076717,"question_id":58382049,"body_markdown":"We can play mp3 files from browsers, Social Networks, Apps... I want to get URL of mp3 when it&#39;s playing. One way here is to create an extension in the browser. But in other apps we can&#39;t. Here is an example: \r\nI go to some site and open some mp3:\r\n\r\n[![mp3 from sote][1]][1]\r\n\r\nIf you can see the music is playing and it has a URL. I want to get this URL when music starts playing. How can I do that? And how can I get URL of music which is playing in some app? Is it possible?\r\n\r\n  [1]: https://i.stack.imgur.com/yfizP.png","title":"How to get URL of mp3 when it is playing","body":"<p>We can play mp3 files from browsers, Social Networks, Apps... I want to get URL of mp3 when it's playing. One way here is to create an extension in the browser. But in other apps we can't. Here is an example: \nI go to some site and open some mp3:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yfizP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yfizP.png\" alt=\"mp3 from sote\"></a></p>\n\n<p>If you can see the music is playing and it has a URL. I want to get this URL when music starts playing. How can I do that? And how can I get URL of music which is playing in some app? Is it possible?</p>\n"},{"tags":["java","android","permissions","camera","provider"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692873541,"post_id":76968310,"comment_id":135684379,"body_markdown":"It makes no sense trying to get a real path from a nice uri.","body":"It makes no sense trying to get a real path from a nice uri."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692873636,"post_id":76968310,"comment_id":135684399,"body_markdown":"It also makes no sense using FileProvider to write to a file yourself. FileProvider is for getting an uri and then let the uri be used by a different app.","body":"It also makes no sense using FileProvider to write to a file yourself. FileProvider is for getting an uri and then let the uri be used by a different app."},{"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"score":0,"creation_date":1692873734,"post_id":76968310,"comment_id":135684426,"body_markdown":"That comment helped not at all. This is not the question. The error happens after that as you can see from the logoutput. And the other point is that I need the File to another location as I actually wrote the app in C++ and there I have only access to the local folder not to the URI","body":"That comment helped not at all. This is not the question. The error happens after that as you can see from the logoutput. And the other point is that I need the File to another location as I actually wrote the app in C++ and there I have only access to the local folder not to the URI"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692873741,"post_id":76968310,"comment_id":135684428,"body_markdown":"You also did not tell of which startActivityForResult onActivityResult is the result.","body":"You also did not tell of which startActivityForResult onActivityResult is the result."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692873910,"post_id":76968310,"comment_id":135684459,"body_markdown":"`am trying to store the Video File to a local accessible File.` For me it looks as if you try to over write the original file.","body":"<code>am trying to store the Video File to a local accessible File.</code> For me it looks as if you try to over write the original file."},{"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"score":0,"creation_date":1692873937,"post_id":76968310,"comment_id":135684463,"body_markdown":"You are not helping. It is easy to understand that this is not relevant as my question is only how to get the content://media/external/video/media/17877 to a local file using the provider in the app folder (where no extra access is needed)","body":"You are not helping. It is easy to understand that this is not relevant as my question is only how to get the content://media/external/video/media/17877 to a local file using the provider in the app folder (where no extra access is needed)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692874022,"post_id":76968310,"comment_id":135684475,"body_markdown":"Then put what you want on the first lines of your post. Not afterwards in comments. And directly make it clear for what you want it. Including c++ access. And if you want to over write the file then tell it.","body":"Then put what you want on the first lines of your post. Not afterwards in comments. And directly make it clear for what you want it. Including c++ access. And if you want to over write the file then tell it."},{"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"score":0,"creation_date":1692874307,"post_id":76968310,"comment_id":135684535,"body_markdown":"stop trolling. If you had read the whole question with the log it could be understandable but I puttet the question for those who don&#39;t read the complete code in the first lines as you suggested. The point where I want to use the local file is irrelevant.","body":"stop trolling. If you had read the whole question with the log it could be understandable but I puttet the question for those who don&#39;t read the complete code in the first lines as you suggested. The point where I want to use the local file is irrelevant."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692874331,"post_id":76968310,"comment_id":135684541,"body_markdown":"`how to get the content://media/external/video/media/17877 to a local file ` That is already a local file. It is already on your device. Unclear what you want.","body":"<code>how to get the content:&#47;&#47;media&#47;external&#47;video&#47;media&#47;17877 to a local file </code> That is already a local file. It is already on your device. Unclear what you want."},{"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"score":0,"creation_date":1692879607,"post_id":76968310,"comment_id":135685657,"body_markdown":"read the log, the file uri content://media/external/video/media/17877 is inaccessible - PERMISSION DENIED. If I can read it it should be copied to a LOCAL File of the app so the Apps other function can access it without requesting any Permissions. To understand my question you need basic knowledge how after Android Q the Permissions for certain Folders are managed","body":"read the log, the file uri content://media/external/video/media/17877 is inaccessible - PERMISSION DENIED. If I can read it it should be copied to a LOCAL File of the app so the Apps other function can access it without requesting any Permissions. To understand my question you need basic knowledge how after Android Q the Permissions for certain Folders are managed"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1692881223,"post_id":76968310,"comment_id":135686039,"body_markdown":"You are missing basic knowledge how to read the logcat. The message comes from using uri of FilePrivider not from using original uri. See subject of your post.","body":"You are missing basic knowledge how to read the logcat. The message comes from using uri of FilePrivider not from using original uri. See subject of your post."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692881453,"post_id":76968310,"comment_id":135686094,"body_markdown":"`de.x.y.App.onActivityResult(App.java:484)`","body":"<code>de.x.y.App.onActivityResult(App.java:484)</code>"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1692971277,"post_id":76968310,"comment_id":135701587,"body_markdown":"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjnnJyd-feAAxWATmwGHf_DBiEQFnoECA0QAQ&amp;url=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F8854359%2Fexception-open-failed-eacces-permission-denied-on-android&amp;usg=AOvVaw1CGqAaQPKl9ta_LWszaURK&amp;opi=89978449","body":"<a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjnnJyd-feAAxWATmwGHf_DBiEQFnoECA0QAQ&amp;url=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F8854359%2Fexception-open-failed-eacces-permission-denied-on-android&amp;usg=AOvVaw1CGqAaQPKl9ta_LWszaURK&amp;opi=89978449\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1692971314,"post_id":76968310,"comment_id":135701600,"body_markdown":"check that link may be you will get solution","body":"check that link may be you will get solution"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1692971379,"post_id":76968310,"comment_id":135701623,"body_markdown":"android:requestLegacyExternalStorage=&quot;true&quot; are u used that line in your manifest","body":"android:requestLegacyExternalStorage=&quot;true&quot; are u used that line in your manifest"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":1,"creation_date":1692971484,"post_id":76968310,"comment_id":135701654,"body_markdown":"&lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt; this one also check\\","body":"&lt;uses-feature         android:name=&quot;android.hardware.camera&quot;         android:required=&quot;true&quot; /&gt; this one also check\\"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1692971552,"post_id":76968310,"comment_id":135701670,"body_markdown":"&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;","body":"&lt;provider             android:name=&quot;androidx.core.content.FileProvider&quot;             android:authorities=&quot;${applicationId}.provider&quot;             android:exported=&quot;false&quot;             android:grantUriPermissions=&quot;true&quot;&gt;             &lt;meta-data                 android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;                 android:resource=&quot;@xml/provider_paths&quot; /&gt;         &lt;/provider&gt;"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1692971563,"post_id":76968310,"comment_id":135701676,"body_markdown":"provider also check","body":"provider also check"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1692971630,"post_id":76968310,"comment_id":135701695,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;!--    &lt;external-path name=&quot;OctopusDriver&quot; path=&quot;OctopusDriver/&quot;/&gt;--&gt;\n    &lt;external-path name=&quot;yourappname&quot; path=&quot;Android/data/in.yourpackgename.android/files/Images/Pictures/Yourappname/&quot;/&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n    &lt;files-path path=&quot;Images/&quot; name=&quot;Pictures&quot; /&gt;\n&lt;/paths&gt;","body":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;paths xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt; &lt;!--    &lt;external-path name=&quot;OctopusDriver&quot; path=&quot;OctopusDriver/&quot;/&gt;--&gt;     &lt;external-path name=&quot;yourappname&quot; path=&quot;Android/data/in.yourpackgename.android/files/Images/Pi&zwnj;&#8203;ctures/Yourappname/&quot;&zwnj;&#8203;/&gt;     &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;     &lt;files-path path=&quot;Images/&quot; name=&quot;Pictures&quot; /&gt; &lt;/paths&gt;"},{"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"score":0,"creation_date":1692972496,"post_id":76968310,"comment_id":135701903,"body_markdown":"Thanks but it was the problem blackapps mentioned. I had another path that was not meant to be inserted as the tempfile path. Just something that was missed after a long day","body":"Thanks but it was the problem blackapps mentioned. I had another path that was not meant to be inserted as the tempfile path. Just something that was missed after a long day"}],"answers":[{"comments":[{"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"score":0,"creation_date":1692877162,"post_id":76968550,"comment_id":135685093,"body_markdown":"Thanks but still no luck. I got the Access denied again. As I see it in the Android Description I will need a Fileprovider to be allowed to get the Sourcefile from the Phones Media Folder (content://media/external/video/media/17877). But I didn&#39;t find any good description on how to use it.","body":"Thanks but still no luck. I got the Access denied again. As I see it in the Android Description I will need a Fileprovider to be allowed to get the Sourcefile from the Phones Media Folder (content://media/external/video/media/17877). But I didn&#39;t find any good description on how to use it."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692874171,"creation_date":1692874171,"answer_id":76968550,"question_id":76968310,"body_markdown":"&gt; The getRealPathFromURI function\r\n\r\nDelete that function.\r\n\r\nThen, replace:\r\n\r\n```java\r\n            Uri sharedFileUri = FileProvider.getUriForFile(this, &quot;de.xyz.app.fileprovider&quot;, fileCameraResult);\r\n            InputStream is = getContentResolver().openInputStream(sharedFileUri);\r\n```\r\n\r\nwith:\r\n\r\n```java\r\n            InputStream is = getContentResolver().openInputStream(selectedMediaUri);\r\n```\r\n\r\nAt this point, your code to copy the content into the filesystem path identified as `fileCameraTemp` should work better. You can also remove the rest of your `FileProvider` configuration, along with the now-unused variables in your existing code.","title":"open failed: EACCES (Permission denied) while using a FileProvider in onActivityResult","body":"<blockquote>\n<p>The getRealPathFromURI function</p>\n</blockquote>\n<p>Delete that function.</p>\n<p>Then, replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            Uri sharedFileUri = FileProvider.getUriForFile(this, &quot;de.xyz.app.fileprovider&quot;, fileCameraResult);\n            InputStream is = getContentResolver().openInputStream(sharedFileUri);\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            InputStream is = getContentResolver().openInputStream(selectedMediaUri);\n</code></pre>\n<p>At this point, your code to copy the content into the filesystem path identified as <code>fileCameraTemp</code> should work better. You can also remove the rest of your <code>FileProvider</code> configuration, along with the now-unused variables in your existing code.</p>\n"},{"tags":[],"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692973107,"creation_date":1692973107,"answer_id":76978063,"question_id":76968310,"body_markdown":"The correction mentioned by @blackapps in the comments (although he became a little bit insolent) was the key. After he read my post especially the logcat output in detail he found what I did not read precise enough. It was something not shown in my code snipped above. \r\n\r\nI missed that the strCameraTempFile was filled with a not accessible path (I changed it while debugging before using the Fileprovider). So the above posted code is correct but the input for strCameraTempFile should be a reachable path e.g. like getFilesDir().getAbsolutePath().\r\n\r\nHope it helps someone.","title":"open failed: EACCES (Permission denied) while using a FileProvider in onActivityResult","body":"<p>The correction mentioned by @blackapps in the comments (although he became a little bit insolent) was the key. After he read my post especially the logcat output in detail he found what I did not read precise enough. It was something not shown in my code snipped above.</p>\n<p>I missed that the strCameraTempFile was filled with a not accessible path (I changed it while debugging before using the Fileprovider). So the above posted code is correct but the input for strCameraTempFile should be a reachable path e.g. like getFilesDir().getAbsolutePath().</p>\n<p>Hope it helps someone.</p>\n"}],"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76978063,"answer_count":2,"score":0,"last_activity_date":1692973107,"creation_date":1692872175,"question_id":76968310,"body_markdown":"I am trying to get a recently recorded Video in onActivityResult. But I don&#39;t understand how this Content Provider works. I am not used to program in Java for Android so it might be a simple thing but I can&#39;t solve it myself.\r\n\r\nThe Question is only how to get the content://media/external/video/media/17877 to a local file using the provider in the app folder where no extra access is needed\r\n\r\nThis is the Codepart I am Debugging:\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        ....\r\n        } else if (requestCode == CAMERA_REQUEST_VIDEO) {\r\n            if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\r\n        ....\r\n                Uri selectedMediaUri = data.getData();\r\n                String strMediaFile = getRealPathFromURI(getApplicationContext(),selectedMediaUri);\r\n                Log.d(&quot;App&quot;,&quot;got link:&quot;+selectedMediaUri+&quot; File:&quot;+strMediaFile);\r\n                File fileCameraTemp = new File(strCameraTempFile);\r\n                File fileCameraResult = new File(strMediaFile);\r\n                Uri sharedFileUri = FileProvider.getUriForFile(this, &quot;de.xyz.app.fileprovider&quot;, fileCameraResult);\r\n                InputStream is = getContentResolver().openInputStream(sharedFileUri);\r\n                FileOutputStream fos = new FileOutputStream(fileCameraTemp);\r\n\r\n                byte[] buf = new byte[1024];\r\n                int len;\r\n                while ((len = is.read(buf)) &gt; 0) {\r\n                    fos.write(buf, 0, len);\r\n                }\r\n                is.close();\r\n                fos.close();\r\n        ....\r\n    }\r\n\r\nI am trying to store the Video File to a local accessible File.\r\n\r\nThe getRealPathFromURI function:\r\n\r\n    public String getRealPathFromURI(Context context, Uri contentUri) {\r\n      Cursor cursor = null;\r\n      try {\r\n        String[] proj = { MediaStore.Images.Media.DATA };\r\n        cursor = context.getContentResolver().query(contentUri,  proj, null, null, null);\r\n        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n        cursor.moveToFirst();\r\n        return cursor.getString(column_index);\r\n      } finally {\r\n        if (cursor != null) {\r\n          cursor.close();\r\n        }\r\n      }\r\n    }\r\n\r\nSo the log output I get is following:\r\n\r\n    App: onActivityResult\r\n    D App: CAMERA_REQUEST_VIDEO\r\n    D App: No valid strCameraTempFile:/storage/emulated/0/cameraresult.mp4 -&gt; using data\r\n    D App: got data\r\n    D App: got link:content://media/external/video/media/17877 File:/storage/emulated/0/DCIM/Camera/20230824_113912.mp4\r\n    W System.err: java.io.FileNotFoundException: open failed: EACCES (Permission denied)\r\n    W System.err: \tat android.os.ParcelFileDescriptor.openInternal(ParcelFileDescriptor.java:315)\r\n    W System.err: \tat android.os.ParcelFileDescriptor.open(ParcelFileDescriptor.java:220)\r\n    W System.err: \tat androidx.core.content.FileProvider.openFile(FileProvider.java:566)\r\n    W System.err: \tat android.content.ContentProvider.openAssetFile(ContentProvider.java:1733)\r\n    W System.err: \tat android.content.ContentProvider.openTypedAssetFile(ContentProvider.java:1915)\r\n    W System.err: \tat android.content.ContentProvider.openTypedAssetFile(ContentProvider.java:1982)\r\n    W System.err: \tat android.content.ContentProvider$Transport.openTypedAssetFile(ContentProvider.java:511)\r\n    W System.err: \tat android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1701)\r\n    W System.err: \tat android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1517)\r\n    W System.err: \tat android.content.ContentResolver.openInputStream(ContentResolver.java:1201)\r\n    W System.err: \tat de.x.y.App.onActivityResult(App.java:484)\r\n    W System.err: \tat android.app.Activity.dispatchActivityResult(Activity.java:8300)\r\n    W System.err: \tat android.app.ActivityThread.deliverResults(ActivityThread.java:5353)\r\n    W System.err: \tat android.app.ActivityThread.handleSendResult(ActivityThread.java:5401)\r\n    W System.err: \tat android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:51)\r\n    W System.err: \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n    W System.err: \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n    W System.err: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2267)\r\n    W System.err: \tat android.os.Handler.dispatchMessage(Handler.java:107)\r\n    W System.err: \tat android.os.Looper.loop(Looper.java:237)\r\n    W System.err: \tat android.app.ActivityThread.main(ActivityThread.java:8167)\r\n    W System.err: \tat java.lang.reflect.Method.invoke(Native Method)\r\n    W System.err: \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\r\n    W System.err: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\r\n\r\nI have a Provider in my Android Manifest:\r\n\r\n        &lt;provider android:name=&quot;androidx.core.content.FileProvider&quot; android:authorities=&quot;v.fileprovider&quot; android:exported=&quot;false&quot; android:grantUriPermissions=&quot;true&quot;&gt;\r\n\r\n            &lt;meta-data android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot; android:resource=&quot;@xml/file_paths&quot;/&gt;\r\n        &lt;/provider&gt;\r\n\r\nwith following Configuration:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n         &lt;external-files-path name=&quot;images&quot; path=&quot;Pictures&quot;/&gt;\r\n         &lt;cache-path name=&quot;cache&quot; path=&quot;.&quot;/&gt;\r\n         &lt;files-path name=&quot;files&quot; path=&quot;.&quot;/&gt;\r\n         &lt;external-path name=&quot;external&quot; path=&quot;.&quot; /&gt;\r\n         &lt;cache-path name=&quot;cache&quot; path=&quot;.&quot; /&gt;\r\n         &lt;external-cache-path name=&quot;external_cache&quot; path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nI don&#39;t know what to do to make this work and hope that somebody can help me with this\r\n\r\nThe strCameraTempFile is a File in the local App Folder.","title":"open failed: EACCES (Permission denied) while using a FileProvider in onActivityResult","body":"<p>I am trying to get a recently recorded Video in onActivityResult. But I don't understand how this Content Provider works. I am not used to program in Java for Android so it might be a simple thing but I can't solve it myself.</p>\n<p>The Question is only how to get the content://media/external/video/media/17877 to a local file using the provider in the app folder where no extra access is needed</p>\n<p>This is the Codepart I am Debugging:</p>\n<pre><code>protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    ....\n    } else if (requestCode == CAMERA_REQUEST_VIDEO) {\n        if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n    ....\n            Uri selectedMediaUri = data.getData();\n            String strMediaFile = getRealPathFromURI(getApplicationContext(),selectedMediaUri);\n            Log.d(&quot;App&quot;,&quot;got link:&quot;+selectedMediaUri+&quot; File:&quot;+strMediaFile);\n            File fileCameraTemp = new File(strCameraTempFile);\n            File fileCameraResult = new File(strMediaFile);\n            Uri sharedFileUri = FileProvider.getUriForFile(this, &quot;de.xyz.app.fileprovider&quot;, fileCameraResult);\n            InputStream is = getContentResolver().openInputStream(sharedFileUri);\n            FileOutputStream fos = new FileOutputStream(fileCameraTemp);\n\n            byte[] buf = new byte[1024];\n            int len;\n            while ((len = is.read(buf)) &gt; 0) {\n                fos.write(buf, 0, len);\n            }\n            is.close();\n            fos.close();\n    ....\n}\n</code></pre>\n<p>I am trying to store the Video File to a local accessible File.</p>\n<p>The getRealPathFromURI function:</p>\n<pre><code>public String getRealPathFromURI(Context context, Uri contentUri) {\n  Cursor cursor = null;\n  try {\n    String[] proj = { MediaStore.Images.Media.DATA };\n    cursor = context.getContentResolver().query(contentUri,  proj, null, null, null);\n    int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n    cursor.moveToFirst();\n    return cursor.getString(column_index);\n  } finally {\n    if (cursor != null) {\n      cursor.close();\n    }\n  }\n}\n</code></pre>\n<p>So the log output I get is following:</p>\n<pre><code>App: onActivityResult\nD App: CAMERA_REQUEST_VIDEO\nD App: No valid strCameraTempFile:/storage/emulated/0/cameraresult.mp4 -&gt; using data\nD App: got data\nD App: got link:content://media/external/video/media/17877 File:/storage/emulated/0/DCIM/Camera/20230824_113912.mp4\nW System.err: java.io.FileNotFoundException: open failed: EACCES (Permission denied)\nW System.err:   at android.os.ParcelFileDescriptor.openInternal(ParcelFileDescriptor.java:315)\nW System.err:   at android.os.ParcelFileDescriptor.open(ParcelFileDescriptor.java:220)\nW System.err:   at androidx.core.content.FileProvider.openFile(FileProvider.java:566)\nW System.err:   at android.content.ContentProvider.openAssetFile(ContentProvider.java:1733)\nW System.err:   at android.content.ContentProvider.openTypedAssetFile(ContentProvider.java:1915)\nW System.err:   at android.content.ContentProvider.openTypedAssetFile(ContentProvider.java:1982)\nW System.err:   at android.content.ContentProvider$Transport.openTypedAssetFile(ContentProvider.java:511)\nW System.err:   at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1701)\nW System.err:   at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1517)\nW System.err:   at android.content.ContentResolver.openInputStream(ContentResolver.java:1201)\nW System.err:   at de.x.y.App.onActivityResult(App.java:484)\nW System.err:   at android.app.Activity.dispatchActivityResult(Activity.java:8300)\nW System.err:   at android.app.ActivityThread.deliverResults(ActivityThread.java:5353)\nW System.err:   at android.app.ActivityThread.handleSendResult(ActivityThread.java:5401)\nW System.err:   at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:51)\nW System.err:   at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nW System.err:   at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nW System.err:   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2267)\nW System.err:   at android.os.Handler.dispatchMessage(Handler.java:107)\nW System.err:   at android.os.Looper.loop(Looper.java:237)\nW System.err:   at android.app.ActivityThread.main(ActivityThread.java:8167)\nW System.err:   at java.lang.reflect.Method.invoke(Native Method)\nW System.err:   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\nW System.err:   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\n</code></pre>\n<p>I have a Provider in my Android Manifest:</p>\n<pre><code>    &lt;provider android:name=&quot;androidx.core.content.FileProvider&quot; android:authorities=&quot;v.fileprovider&quot; android:exported=&quot;false&quot; android:grantUriPermissions=&quot;true&quot;&gt;\n\n        &lt;meta-data android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot; android:resource=&quot;@xml/file_paths&quot;/&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>with following Configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n     &lt;external-files-path name=&quot;images&quot; path=&quot;Pictures&quot;/&gt;\n     &lt;cache-path name=&quot;cache&quot; path=&quot;.&quot;/&gt;\n     &lt;files-path name=&quot;files&quot; path=&quot;.&quot;/&gt;\n     &lt;external-path name=&quot;external&quot; path=&quot;.&quot; /&gt;\n     &lt;cache-path name=&quot;cache&quot; path=&quot;.&quot; /&gt;\n     &lt;external-cache-path name=&quot;external_cache&quot; path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>I don't know what to do to make this work and hope that somebody can help me with this</p>\n<p>The strCameraTempFile is a File in the local App Folder.</p>\n"},{"tags":["java","database","ucanaccess"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1692973430,"post_id":76978011,"comment_id":135702135,"body_markdown":"Check the permissions on the database. Did you give the credentials write permissions?","body":"Check the permissions on the database. Did you give the credentials write permissions?"}],"owner":{"account_id":29298245,"reputation":1,"user_id":22447114,"display_name":"Khanya Chauke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692973032,"creation_date":1692972731,"question_id":76978011,"body_markdown":"I&#39;m trying to save users into my user database on access and I&#39;m met with this error every time \r\n\r\n&gt;net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.0-SNAPSHOT user lacks privilege or object not found: USERS\r\n\r\n\r\n\r\nI&#39;ve insured there are no syntax errors in the code or Query I hope someone could help me sort this out\r\n\r\nhere is the class\r\n```\r\npublic void UserUpload(RegisterUserModel registerUserModel) throws Exception\r\n        {\r\n    \r\n         try\r\n            {\r\n             Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n             conn = DriverManager.getConnection(URL);\r\n             Statement s=conn.createStatement();\r\n             String sql = &quot;INSERT INTO Users (Firstname, Surname, Email, Password) VALUES (&#39;&quot; +RegisterUserModel.name  + &quot;&#39;,&#39;&quot; + RegisterUserModel.surname + &quot;&#39;,&#39;&quot; + RegisterUserModel.email + &quot;&#39;,&#39;&quot; + RegisterUserModel.password + &quot;&#39;)&quot;; \r\n             s.executeUpdate(sql);\r\n             while(rs.next())\r\n                    {\r\n                        System.out.println(rs.getString(1));\r\n                    }\r\n            } \r\n         \r\n            catch(SQLException e)\r\n             {\r\n             e.printStackTrace();\r\n             }\r\n         \r\n        }\r\n \r\n\r\n        \r\npublic void update(String ud)throws Exception\r\n{\r\n    try \r\n        {\r\n        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n        statement = conn.createStatement();\r\n        statement.executeUpdate(ud);\r\n        }\r\n        catch(SQLException e)\r\n            {\r\n            System.out.println(&quot;Cannot updte the database&quot;);\r\n            e.printStackTrace();\r\n            }\r\n\r\n\r\n    }\r\n}\r\n````","title":"I&#39;m struggling to upload users to my user Database on Access","body":"<p>I'm trying to save users into my user database on access and I'm met with this error every time</p>\n<blockquote>\n<p>net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.0-SNAPSHOT user lacks privilege or object not found: USERS</p>\n</blockquote>\n<p>I've insured there are no syntax errors in the code or Query I hope someone could help me sort this out</p>\n<p>here is the class</p>\n<pre><code>public void UserUpload(RegisterUserModel registerUserModel) throws Exception\n        {\n    \n         try\n            {\n             Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n             conn = DriverManager.getConnection(URL);\n             Statement s=conn.createStatement();\n             String sql = &quot;INSERT INTO Users (Firstname, Surname, Email, Password) VALUES ('&quot; +RegisterUserModel.name  + &quot;','&quot; + RegisterUserModel.surname + &quot;','&quot; + RegisterUserModel.email + &quot;','&quot; + RegisterUserModel.password + &quot;')&quot;; \n             s.executeUpdate(sql);\n             while(rs.next())\n                    {\n                        System.out.println(rs.getString(1));\n                    }\n            } \n         \n            catch(SQLException e)\n             {\n             e.printStackTrace();\n             }\n         \n        }\n \n\n        \npublic void update(String ud)throws Exception\n{\n    try \n        {\n        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n        statement = conn.createStatement();\n        statement.executeUpdate(ud);\n        }\n        catch(SQLException e)\n            {\n            System.out.println(&quot;Cannot updte the database&quot;);\n            e.printStackTrace();\n            }\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1692972437,"post_id":76977951,"comment_id":135701878,"body_markdown":"Are you asking [how to compare String in java](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)?","body":"Are you asking <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">how to compare String in java</a>?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692972449,"post_id":76977951,"comment_id":135701885,"body_markdown":"Arrays don&#39;t have a value-based equals method. There&#39;s a method to do that instead: `Arrays.equals`","body":"Arrays don&#39;t have a value-based equals method. There&#39;s a method to do that instead: <code>Arrays.equals</code>"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1692972674,"post_id":76977951,"comment_id":135701947,"body_markdown":"*&quot;I am translating my knowledge of javaScript&quot;* - despite the similar names the two languages are vastly different, so you should ignore your knowledge of JS when working in Java","body":"<i>&quot;I am translating my knowledge of javaScript&quot;</i> - despite the similar names the two languages are vastly different, so you should ignore your knowledge of JS when working in Java"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692972967,"creation_date":1692972967,"answer_id":76978044,"question_id":76977951,"body_markdown":"`boolean isSix = contains6[0] == contains6[1];`\r\n\r\n&gt;Is false was expecting true since should both be &quot;6&quot; and if I convert them to integers the values are allowed to be equal.\r\n\r\nIf you convert them to `ints` they will be equal because that is how you compare primitives.\r\n\r\nIf they are Objects they must be compared with `equals`.  In the case  of `&quot;6&quot;` they would be strings.\r\n\r\nIf the objects are Integers (not ints) then they may be compared using == depending on how they were allocated or assigned since Integer&#39;s cache values between `-127 and 128` inclusive.  However, in that case you are only comparing references, not the actual values.\r\n\r\nBest practice is to compare Objects using `equals` and primitives using `==`.","title":"What is an array of split values equal to in Java?","body":"<p><code>boolean isSix = contains6[0] == contains6[1];</code></p>\n<blockquote>\n<p>Is false was expecting true since should both be &quot;6&quot; and if I convert them to integers the values are allowed to be equal.</p>\n</blockquote>\n<p>If you convert them to <code>ints</code> they will be equal because that is how you compare primitives.</p>\n<p>If they are Objects they must be compared with <code>equals</code>.  In the case  of <code>&quot;6&quot;</code> they would be strings.</p>\n<p>If the objects are Integers (not ints) then they may be compared using == depending on how they were allocated or assigned since Integer's cache values between <code>-127 and 128</code> inclusive.  However, in that case you are only comparing references, not the actual values.</p>\n<p>Best practice is to compare Objects using <code>equals</code> and primitives using <code>==</code>.</p>\n"}],"owner":{"account_id":29298179,"reputation":1,"user_id":22447056,"display_name":"Andy Simmons"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692972667,"answer_count":1,"score":0,"last_activity_date":1692972967,"creation_date":1692972337,"question_id":76977951,"body_markdown":"Trying to split a string of space separated integers in java. To save time not converting the values to integers I wanted to do splitIntegers[i] == splitIntegers[i + 1]. However, I was unable to get any == to come out true even using splitIntegers[i] == &quot;6&quot;, since 6 is the first integer stored in the array. \r\n\r\n```java\r\nString sixString = &quot;6 6 6&quot;;\r\nString[] contains6 = sixString.split(&quot; &quot;);\r\nboolean isSix = contains6[0] == contains6[1]; // is false was expecting true since should both be &quot;6&quot; and if I convert them to integers the values are allowed to be equal\r\nboolean isSixString = contains6[0] == &quot;6&quot;; // is false\r\nboolean areSixes = &quot;6&quot; == &quot;6&quot;; // is true, and can store &quot;6&quot; in a variable and get true\r\n```\r\n\r\nSo something weird happens when you split a string in Java. \r\n\r\nI am translating my knowledge of javaScript where my attempted solution works. Somehow I have an array of strings of 6 that do not equal a string litteral &quot;6&quot; or each other.\r\n\r\nI am passing half the tests, and am sure I could speed things up If I did not have to convert the values I split into integers. ","title":"What is an array of split values equal to in Java?","body":"<p>Trying to split a string of space separated integers in java. To save time not converting the values to integers I wanted to do splitIntegers[i] == splitIntegers[i + 1]. However, I was unable to get any == to come out true even using splitIntegers[i] == &quot;6&quot;, since 6 is the first integer stored in the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sixString = &quot;6 6 6&quot;;\nString[] contains6 = sixString.split(&quot; &quot;);\nboolean isSix = contains6[0] == contains6[1]; // is false was expecting true since should both be &quot;6&quot; and if I convert them to integers the values are allowed to be equal\nboolean isSixString = contains6[0] == &quot;6&quot;; // is false\nboolean areSixes = &quot;6&quot; == &quot;6&quot;; // is true, and can store &quot;6&quot; in a variable and get true\n</code></pre>\n<p>So something weird happens when you split a string in Java.</p>\n<p>I am translating my knowledge of javaScript where my attempted solution works. Somehow I have an array of strings of 6 that do not equal a string litteral &quot;6&quot; or each other.</p>\n<p>I am passing half the tests, and am sure I could speed things up If I did not have to convert the values I split into integers.</p>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":6081376,"reputation":3138,"user_id":4747043,"display_name":"alan ocallaghan"},"score":0,"creation_date":1692714244,"post_id":76954042,"comment_id":135660157,"body_markdown":"Nice, thanks. Project is currently on 19.0.2 but hopefully can bump it without breaking anything","body":"Nice, thanks. Project is currently on 19.0.2 but hopefully can bump it without breaking anything"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1692811323,"post_id":76954042,"comment_id":135676176,"body_markdown":"@alanocallaghan I was just looking at the Javadocs for `flatMap()`, and apparently it was introduced in JavaFX 19 (not 20 as I had originally stated). So you won&#39;t need to update your JavaFX version (though you should be able to with no issues anyway).","body":"@alanocallaghan I was just looking at the Javadocs for <code>flatMap()</code>, and apparently it was introduced in JavaFX 19 (not 20 as I had originally stated). So you won&#39;t need to update your JavaFX version (though you should be able to with no issues anyway)."},{"owner":{"account_id":6081376,"reputation":3138,"user_id":4747043,"display_name":"alan ocallaghan"},"score":0,"creation_date":1692815395,"post_id":76954042,"comment_id":135676884,"body_markdown":"Indeed, thanks again","body":"Indeed, thanks again"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1692972781,"creation_date":1692712643,"answer_id":76954042,"question_id":76953873,"body_markdown":"In JavaFX 19 and later you can do\r\n\r\n    button.disableProperty().bind(\r\n        choiceBox.getSelectionModel().selectedItemProperty()\r\n                 .flatMap(selection -&gt; selection.myProperty())\r\n                 .orElse(Boolean.TRUE)\r\n    );\r\n\r\nFor more information on `flatMap()`, `orElse()`, and related methods, see [this Q/A](https://stackoverflow.com/questions/76971752/what-are-the-use-cases-for-the-new-methods-introduced-to-observablevalue-in-java).\r\n\r\nPrior to JavaFX 19 you need something like the following (this is not tested):\r\n\r\n```\r\nchoiceBox.getSelectionModel().selectedItemProperty().addListener(\r\n    (obs, oldSelection, newSelection) -&gt; {\r\n        if (newSelection == null) {\r\n            button.disableProperty().unbind();\r\n            button.setDisable(true);\r\n        } else {\r\n            button.disableProperty().bind(newSelection.myProperty());\r\n        }\r\n    }\r\n);\r\nif (choiceBox.getSelectionModel().getSelectedItem() == null) {\r\n    button.setDisable(true);\r\n} else {\r\n    button.disableProperty().bind(choiceBox.getSelectionModel().getSelectedItem().myProperty());\r\n}\r\n```","title":"Check JavaFX Property of item only if it isNotNull()","body":"<p>In JavaFX 19 and later you can do</p>\n<pre><code>button.disableProperty().bind(\n    choiceBox.getSelectionModel().selectedItemProperty()\n             .flatMap(selection -&gt; selection.myProperty())\n             .orElse(Boolean.TRUE)\n);\n</code></pre>\n<p>For more information on <code>flatMap()</code>, <code>orElse()</code>, and related methods, see <a href=\"https://stackoverflow.com/questions/76971752/what-are-the-use-cases-for-the-new-methods-introduced-to-observablevalue-in-java\">this Q/A</a>.</p>\n<p>Prior to JavaFX 19 you need something like the following (this is not tested):</p>\n<pre><code>choiceBox.getSelectionModel().selectedItemProperty().addListener(\n    (obs, oldSelection, newSelection) -&gt; {\n        if (newSelection == null) {\n            button.disableProperty().unbind();\n            button.setDisable(true);\n        } else {\n            button.disableProperty().bind(newSelection.myProperty());\n        }\n    }\n);\nif (choiceBox.getSelectionModel().getSelectedItem() == null) {\n    button.setDisable(true);\n} else {\n    button.disableProperty().bind(choiceBox.getSelectionModel().getSelectedItem().myProperty());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692926764,"creation_date":1692718184,"answer_id":76954837,"question_id":76953873,"body_markdown":"# Select Bindings (JavaFX &lt; 19)\r\n\r\n[James_D&#39;s answer][1] is perfect for JavaFX 19+. For older versions of JavaFX, I wanted to offer an alternative:\r\n\r\n```java\r\nvoid bindDisableProperty(Node node, ChoiceBox&lt;Foo&gt; choiceBox) {\r\n    BooleanBinding selectionNotNull = Bindings\r\n            .select(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;)\r\n            .isNotNull();\r\n\r\n    BooleanBinding flag = Bindings\r\n            .selectBoolean(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;, &quot;flag&quot;);\r\n    \r\n    BooleanBinding disable = Bindings\r\n            .when(selectionNotNull)\r\n            .then(flag)\r\n            .otherwise(true);\r\n    \r\n    node.disableProperty().bind(disable);\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** See the full example below for the definition of `Foo` and its `flag` property.&lt;/sup&gt;\r\n\r\nIf you know the selection model will never change, then you can simply do:\r\n\r\n```java\r\nReadOnlyObjectProperty&lt;Foo&gt; selectedItem = choiceBox\r\n        .getSelectionModel()\r\n        .selectedItemProperty();\r\nBooleanBinding selectionNotNull = selectedItem.isNotNull();\r\nBooleanBinding flag = Bindings.selectBoolean(selectedItem, &quot;flag&quot;);\r\n\r\n// ...\r\n```\r\n\r\nAnd typically the selection model _won&#39;t_ be changed. Of course, in that case, using the listener approach shown in James_D&#39;s answer might be preferred. Especially since when using a &quot;select binding&quot; you rely on reflection, and thus run into the same disadvantages as described in [Why should I avoid using PropertyValueFactory in JavaFX?][2].\r\n\r\nHere&#39;s a full example:\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.binding.BooleanBinding;\r\nimport javafx.beans.property.BooleanProperty;\r\nimport javafx.beans.property.SimpleBooleanProperty;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ChoiceBox;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.StringConverter;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        ChoiceBox&lt;Foo&gt; choiceBox = new ChoiceBox&lt;&gt;();\r\n        choiceBox.getItems().addAll(new Foo(true), new Foo(true), new Foo(false), new Foo(false), new Foo(true));\r\n        choiceBox.setConverter(new StringConverter&lt;Foo&gt;() {\r\n            @Override\r\n            public String toString(Foo object) {\r\n                return object == null ? &quot;&lt;no selection&gt;&quot; : &quot;Foo (&quot; + object.isFlag() + &quot;)&quot;;\r\n            }\r\n\r\n            @Override\r\n            public Foo fromString(String string) {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n        });\r\n\r\n        Button clearSelectionBtn = new Button(&quot;Clear Selection&quot;);\r\n        clearSelectionBtn.setOnAction(e -&gt; {\r\n            e.consume();\r\n            choiceBox.setValue(null);\r\n        });\r\n\r\n        TextField toDisable = new TextField(&quot;I am a text field!&quot;);\r\n        bindDisableProperty(toDisable, choiceBox);\r\n\r\n        VBox root = new VBox(10, clearSelectionBtn, choiceBox, toDisable);\r\n        root.setPadding(new Insets(10));\r\n        root.setAlignment(Pos.TOP_CENTER);\r\n\r\n        primaryStage.setScene(new Scene(root, 600, 400));\r\n        primaryStage.show();\r\n    }\r\n\r\n    private void bindDisableProperty(Node node, ChoiceBox&lt;Foo&gt; choiceBox) {\r\n        BooleanBinding selectionNotNull =\r\n                Bindings.select(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;).isNotNull();\r\n        BooleanBinding flag = Bindings.selectBoolean(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;, &quot;flag&quot;);\r\n        BooleanBinding disable = Bindings.when(selectionNotNull).then(flag).otherwise(true);\r\n        node.disableProperty().bind(disable);\r\n    }\r\n\r\n    public static class Foo {\r\n\r\n        private final BooleanProperty flag = new SimpleBooleanProperty(this, &quot;flag&quot;);\r\n\r\n        public final void setFlag(boolean flag) {\r\n            this.flag.set(flag);\r\n        }\r\n\r\n        public final boolean isFlag() {\r\n            return flag.get();\r\n        }\r\n\r\n        public final BooleanProperty flagProperty() {\r\n            return flag;\r\n        }\r\n\r\n        public Foo() {}\r\n\r\n        public Foo(boolean flag) {\r\n            setFlag(flag);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n# Type-Safe Alternative to Select Bindings\r\n\r\nI&#39;ve always had an idea on how to create a type-safe version of the &quot;select bindings&quot; offered by JavaFX. Decided to actually code the idea up. Note I have not tested this code, so there may be bugs. Also note there are no primitive specializations of the below class.\r\n\r\n```java\r\nimport java.util.Objects;\r\nimport javafx.beans.InvalidationListener;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.binding.ObjectBinding;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.util.Callback;\r\n\r\n/**\r\n * A type-safe alternative to {@link Bindings#select(Object, String...) select} bindings. A {@code Chain} is made up\r\n * of one or more &quot;links&quot; of {@linkplain ObservableValue observable values}. Except for the &quot;root&quot; link of the chain,\r\n * the observable value of a link is computed by a {@link Callback} based on the observable value of the previous\r\n * link. If any link&#39;s {@code Callback} in the chain returns {@code null}, then the chain will be &quot;broken&quot; at that link\r\n * and the end value of the chain will be {@code null}.\r\n *\r\n * &lt;p&gt;A {@code Chain} is created via the {@link Builder} class. Use the {@link #from(ObservableValue)} and {@link\r\n * #fromValue(Object)} methods to create a new builder.\r\n *\r\n * &lt;p&gt;Unless otherwise stated, passing {@code null} to any method of this API will result in a {@code\r\n * NullPointerException} being thrown.\r\n *\r\n * @param &lt;T&gt; The value type.\r\n */\r\npublic class Chain&lt;T&gt; extends ObjectBinding&lt;T&gt; {\r\n\r\n    /**\r\n     * Creates a new builder for a chain with the given observable as its root.\r\n     *\r\n     * @param observable the root observable value\r\n     * @return a new {@code Builder}\r\n     * @param &lt;T&gt; The observable&#39;s value type.\r\n     * @param &lt;U&gt; The observable type.\r\n     * @see #fromValue(Object)\r\n     */\r\n    public static &lt;T, U extends ObservableValue&lt;T&gt;&gt; Builder&lt;T, U&gt; from(U observable) {\r\n        Objects.requireNonNull(observable);\r\n        return new Builder&lt;&gt;(observable);\r\n    }\r\n\r\n    /**\r\n     * Creates a new builder for a chain with the given &lt;b&gt;value&lt;/b&gt; as its root. This method wraps {@code value} in an\r\n     * {@code ObservableValue} implementation whose {@code getValue()} method will always return {@code value}.\r\n     *\r\n     * @param value the root value; may be {@code null}\r\n     * @return a new {@code Builder}\r\n     * @param &lt;T&gt; The value type.\r\n     * @see #from(ObservableValue)\r\n     */\r\n    public static &lt;T&gt; Builder&lt;T, ?&gt; fromValue(T value) {\r\n        return from(new ImmutableObservableValue&lt;&gt;(value));\r\n    }\r\n\r\n    private final Link&lt;?, ?, T, ?&gt; tail;\r\n\r\n    private Chain(Link&lt;?, ?, T, ?&gt; tail) {\r\n        this.tail = tail;\r\n        bind(tail);\r\n    }\r\n\r\n    @Override\r\n    protected T computeValue() {\r\n        ObservableValue&lt;T&gt; observable = tail.get();\r\n        return observable == null ? null : observable.getValue();\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n        tail.dispose();\r\n    }\r\n\r\n    /**\r\n     * A builder class for {@link Chain} objects. A {@code Builder} instance is not reusable. Once any of the &quot;link&quot;\r\n     * methods or the {@code build} method are invoked, invoking any of them again will result in an {@code \r\n     * IllegalStateException} being thrown. Note that the &quot;link&quot; methods all return a &lt;b&gt;new&lt;/b&gt; instance of {@code \r\n     * Builder}.\r\n     * \r\n     * &lt;p&gt;This class provides four &quot;link&quot; methods for different scenarios.\r\n     * \r\n     * &lt;table&gt;\r\n     *     &lt;tbody&gt;\r\n     *         &lt;tr&gt;\r\n     *             &lt;th&gt;Method&lt;/th&gt;\r\n     *             &lt;th&gt;Purpose&lt;/th&gt;\r\n     *         &lt;/tr&gt;\r\n     *         &lt;tr&gt;\r\n     *             &lt;td&gt;{@link #link(Callback)}&lt;/td&gt;\r\n     *             &lt;td&gt;To map the previous {@code ObservableValue} to another {@code ObservableValue}.&lt;/td&gt;\r\n     *         &lt;/tr&gt;\r\n     *         &lt;tr&gt;\r\n     *             &lt;td&gt;{@link #linkFromValue(Callback)}&lt;/td&gt;\r\n     *             &lt;td&gt;To map the &lt;b&gt;value&lt;/b&gt; of the previous {@code ObservableValue} to an {@code ObservableValue}.&lt;/td&gt;\r\n     *         &lt;/tr&gt;\r\n     *         &lt;tr&gt;\r\n     *             &lt;td&gt;{@link #linkToValue(Callback)}&lt;/td&gt;\r\n     *             &lt;td&gt;To map the previous {@code ObservableValue} to a &lt;b&gt;value&lt;/b&gt;.&lt;/td&gt;\r\n     *         &lt;/tr&gt;\r\n     *         &lt;tr&gt;\r\n     *             &lt;td&gt;{@link #linkByValue(Callback)}&lt;/td&gt;\r\n     *             &lt;td&gt;To map the &lt;b&gt;value&lt;/b&gt; of the previous {@code ObservableValue} to a &lt;b&gt;value&lt;/b&gt;.&lt;/td&gt;\r\n     *         &lt;/tr&gt;\r\n     *     &lt;/tbody&gt;\r\n     * &lt;/table&gt;\r\n     *\r\n     * @param &lt;T&gt; The observable&#39;s value type.\r\n     * @param &lt;U&gt; The observable type.\r\n     * @see Chain#from(ObservableValue)\r\n     * @see Chain#fromValue(Object)\r\n     */\r\n    public static class Builder&lt;T, U extends ObservableValue&lt;T&gt;&gt; {\r\n\r\n        private final Link&lt;?, ?, T, U&gt; tail;\r\n        private boolean valid = true;\r\n\r\n        // creates a builder for the root link\r\n        Builder(U observable) {\r\n            this.tail = new Link&lt;&gt;(observable);\r\n        }\r\n\r\n        // creates a builder for the next link in the chain\r\n        Builder(Link&lt;?, ?, T, U&gt; tail) {\r\n            this.tail = tail;\r\n        }\r\n\r\n        /**\r\n         * Creates a link that maps the previous link&#39;s observable to a new observable.\r\n         *\r\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\r\n         *\r\n         * @param callback the callback to compute the new link&#39;s observable\r\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance\r\n         * @param &lt;X&gt; The next observable&#39;s value type.\r\n         * @param &lt;Y&gt; The next observable&#39;s type.\r\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\r\n         * chain\r\n         */\r\n        public &lt;X, Y extends ObservableValue&lt;X&gt;&gt; Builder&lt;X, Y&gt; link(Callback&lt;? super U, ? extends Y&gt; callback) {\r\n            Objects.requireNonNull(callback);\r\n            invalidate();\r\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, callback));\r\n        }\r\n\r\n        /**\r\n         * Creates a link that maps the &lt;b&gt;value&lt;/b&gt; of the previous link&#39;s observable to a new observable.\r\n         *\r\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\r\n         *\r\n         * @param callback the callback to compute the new link&#39;s observable\r\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance to continue building the chain\r\n         * @param &lt;X&gt; The next observable&#39;s value type.\r\n         * @param &lt;Y&gt; The next observable&#39;s type.\r\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\r\n         * chain\r\n         */\r\n        public &lt;X, Y extends ObservableValue&lt;X&gt;&gt; Builder&lt;X, Y&gt; linkFromValue(\r\n                Callback&lt;? super T, ? extends Y&gt; callback) {\r\n            Objects.requireNonNull(callback);\r\n            invalidate();\r\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, observable -&gt; {\r\n                T value = observable.getValue();\r\n                return value == null ? null : callback.call(value);\r\n            }));\r\n        }\r\n\r\n        /**\r\n         * Creates a new link that maps the previous link&#39;s observable to a new &lt;b&gt;value&lt;/b&gt;. The new value, when not\r\n         * {@code null}, will be wrapped in an {@code ObservableValue} implementation whose {@code getValue()} method\r\n         * will always return said new value. If the value of the previous observable is {@code null} then the chain\r\n         * is considered broken.\r\n         *\r\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\r\n         *\r\n         * @param callback the callback to compute the new link&#39;s value\r\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance to continue building the chain\r\n         * @param &lt;X&gt; The next observable value&#39;s value type.\r\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\r\n         * chain\r\n         */\r\n        public &lt;X&gt; Builder&lt;X, ?&gt; linkToValue(Callback&lt;? super U, ? extends X&gt; callback) {\r\n            Objects.requireNonNull(callback);\r\n            invalidate();\r\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, observable -&gt; {\r\n                X nextValue = callback.call(observable);\r\n                return nextValue == null ? null : new ImmutableObservableValue&lt;&gt;(nextValue);\r\n            }));\r\n        }\r\n\r\n        /**\r\n         * Creates a new link that maps the &lt;b&gt;value&lt;/b&gt; of the previous link&#39;s observable to a new &lt;b&gt;value&lt;/b&gt;. The\r\n         * new value, when not {@code null}, will wrapped in an {@code ObservableValue} implementation whose {@code\r\n         * getValue()} method will always return said new value. If the value of the previous observable is {@code null}\r\n         * then the chain is considered broken.\r\n         *\r\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\r\n         *\r\n         * @param callback the callback to compute the new link&#39;s value\r\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance to continue building the chain\r\n         * @param &lt;X&gt; The next observable value&#39;s value type.\r\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\r\n         * chain\r\n         */\r\n        public &lt;X&gt; Builder&lt;X, ?&gt; linkByValue(Callback&lt;? super T, ? extends X&gt; callback) {\r\n            Objects.requireNonNull(callback);\r\n            invalidate();\r\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, observable -&gt; {\r\n                T value = observable.getValue();\r\n                if (value == null) {\r\n                    return null;\r\n                }\r\n                X nextValue = callback.call(value);\r\n                return nextValue == null ? null : new ImmutableObservableValue&lt;&gt;(nextValue);\r\n            }));\r\n        }\r\n\r\n        /**\r\n         * Builds and returns the {@code Chain}.\r\n         *\r\n         * @return the built {@code Chain}\r\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\r\n         * chain\r\n         */\r\n        public Chain&lt;T&gt; build() {\r\n            invalidate();\r\n            return new Chain&lt;&gt;(tail);\r\n        }\r\n\r\n        private void invalidate() {\r\n            if (!valid) {\r\n                throw new IllegalStateException(&quot;builder already used to create next link or build chain&quot;);\r\n            }\r\n            valid = false;\r\n        }\r\n    }\r\n\r\n    private static class Link&lt;T, U extends ObservableValue&lt;T&gt;, X, Y extends ObservableValue&lt;X&gt;&gt;\r\n            extends ObjectBinding&lt;Y&gt; {\r\n\r\n        private final boolean root;\r\n        private final Link&lt;?, ?, T, U&gt; previous;\r\n        private final Callback&lt;? super U, ? extends Y&gt; callback;\r\n\r\n        private Y observable;\r\n\r\n        // creates a root link\r\n        Link(Y observable) {\r\n            this.root = true;\r\n            this.previous = null;\r\n            this.callback = null;\r\n\r\n            this.observable = observable;\r\n            bind(observable);\r\n        }\r\n\r\n        // creates a non-root link\r\n        Link(Link&lt;?, ?, T, U&gt; previous, Callback&lt;? super U, ? extends Y&gt; callback) {\r\n            this.root = false;\r\n            this.previous = previous;\r\n            this.callback = callback;\r\n\r\n            bind(previous);\r\n        }\r\n\r\n        @Override\r\n        protected Y computeValue() {\r\n            /*\r\n             * A link can become invalid in one of two ways:\r\n             *\r\n             *   - The previous link is invalidated.\r\n             *   - The observable of this link is invalidated.\r\n             *\r\n             * Only in the first case do we need to recompute the observable for\r\n             * this link. Whether or not the observable needs to be recomputed\r\n             * upon invalidation is handled by the onInvalidating() method.\r\n             */\r\n            if (!root &amp;&amp; observable == null) {\r\n                U previousObservable = previous.get();\r\n                if (previousObservable != null) {\r\n                    observable = callback.call(previousObservable);\r\n                    if (observable != null) {\r\n                        bind(observable);\r\n                    }\r\n                }\r\n            }\r\n            return observable;\r\n        }\r\n\r\n        @Override\r\n        protected void onInvalidating() {\r\n            if (!root &amp;&amp; !previous.isValid() &amp;&amp; observable != null) {\r\n                unbind(observable);\r\n                observable = null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void dispose() {\r\n            if (observable != null) {\r\n                unbind(observable);\r\n                observable = null;\r\n            }\r\n            if (!root) {\r\n                unbind(previous);\r\n                previous.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static class ImmutableObservableValue&lt;T&gt; implements ObservableValue&lt;T&gt; {\r\n\r\n        private final T value;\r\n\r\n        ImmutableObservableValue(T value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @Override\r\n        public T getValue() {\r\n            return value;\r\n        }\r\n\r\n        /*\r\n         * Since this observable value is immutable, there&#39;s no reason to store\r\n         * the listeners. These methods simply check the argument for null in\r\n         * order to minimally satisfy their contracts.\r\n         */\r\n\r\n        @Override\r\n        public void addListener(ChangeListener&lt;? super T&gt; listener) {\r\n            Objects.requireNonNull(listener);\r\n        }\r\n\r\n        @Override\r\n        public void removeListener(ChangeListener&lt;? super T&gt; listener) {\r\n            Objects.requireNonNull(listener);\r\n        }\r\n\r\n        @Override\r\n        public void addListener(InvalidationListener listener) {\r\n            Objects.requireNonNull(listener);\r\n        }\r\n\r\n        @Override\r\n        public void removeListener(InvalidationListener listener) {\r\n            Objects.requireNonNull(listener);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUsing `Chain`, you can then bind the `disable` property like so:\r\n\r\n```java\r\nvoid bindDisableProperty(Node node, ChoiceBox&lt;Foo&gt; choiceBox) {\r\n    Chain&lt;Foo&gt; selectedItem = Chain.from(choiceBox.selectionModelProperty())\r\n            .linkFromValue(SelectionModel::selectedItemProperty)\r\n            .build();\r\n\r\n    ObjectBinding&lt;Boolean&gt; disable = Bindings.when(selectedItem.isNotNull())\r\n            .then(Chain.from(selectedItem).linkFromValue(Foo::flagProperty).build())\r\n            .otherwise(Boolean.TRUE);\r\n\r\n    node.disableProperty().bind(disable);\r\n}\r\n```\r\n\r\nOf course, there may be an existing library that does something similar.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76954042/6395627\r\n  [2]: https://stackoverflow.com/q/72437983/6395627","title":"Check JavaFX Property of item only if it isNotNull()","body":"<h1>Select Bindings (JavaFX &lt; 19)</h1>\n<p><a href=\"https://stackoverflow.com/a/76954042/6395627\">James_D's answer</a> is perfect for JavaFX 19+. For older versions of JavaFX, I wanted to offer an alternative:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void bindDisableProperty(Node node, ChoiceBox&lt;Foo&gt; choiceBox) {\n    BooleanBinding selectionNotNull = Bindings\n            .select(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;)\n            .isNotNull();\n\n    BooleanBinding flag = Bindings\n            .selectBoolean(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;, &quot;flag&quot;);\n    \n    BooleanBinding disable = Bindings\n            .when(selectionNotNull)\n            .then(flag)\n            .otherwise(true);\n    \n    node.disableProperty().bind(disable);\n}\n</code></pre>\n<p><sup><strong>Note:</strong> See the full example below for the definition of <code>Foo</code> and its <code>flag</code> property.</sup></p>\n<p>If you know the selection model will never change, then you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ReadOnlyObjectProperty&lt;Foo&gt; selectedItem = choiceBox\n        .getSelectionModel()\n        .selectedItemProperty();\nBooleanBinding selectionNotNull = selectedItem.isNotNull();\nBooleanBinding flag = Bindings.selectBoolean(selectedItem, &quot;flag&quot;);\n\n// ...\n</code></pre>\n<p>And typically the selection model <em>won't</em> be changed. Of course, in that case, using the listener approach shown in James_D's answer might be preferred. Especially since when using a &quot;select binding&quot; you rely on reflection, and thus run into the same disadvantages as described in <a href=\"https://stackoverflow.com/q/72437983/6395627\">Why should I avoid using PropertyValueFactory in JavaFX?</a>.</p>\n<p>Here's a full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.binding.BooleanBinding;\nimport javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.StringConverter;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        ChoiceBox&lt;Foo&gt; choiceBox = new ChoiceBox&lt;&gt;();\n        choiceBox.getItems().addAll(new Foo(true), new Foo(true), new Foo(false), new Foo(false), new Foo(true));\n        choiceBox.setConverter(new StringConverter&lt;Foo&gt;() {\n            @Override\n            public String toString(Foo object) {\n                return object == null ? &quot;&lt;no selection&gt;&quot; : &quot;Foo (&quot; + object.isFlag() + &quot;)&quot;;\n            }\n\n            @Override\n            public Foo fromString(String string) {\n                throw new UnsupportedOperationException();\n            }\n        });\n\n        Button clearSelectionBtn = new Button(&quot;Clear Selection&quot;);\n        clearSelectionBtn.setOnAction(e -&gt; {\n            e.consume();\n            choiceBox.setValue(null);\n        });\n\n        TextField toDisable = new TextField(&quot;I am a text field!&quot;);\n        bindDisableProperty(toDisable, choiceBox);\n\n        VBox root = new VBox(10, clearSelectionBtn, choiceBox, toDisable);\n        root.setPadding(new Insets(10));\n        root.setAlignment(Pos.TOP_CENTER);\n\n        primaryStage.setScene(new Scene(root, 600, 400));\n        primaryStage.show();\n    }\n\n    private void bindDisableProperty(Node node, ChoiceBox&lt;Foo&gt; choiceBox) {\n        BooleanBinding selectionNotNull =\n                Bindings.select(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;).isNotNull();\n        BooleanBinding flag = Bindings.selectBoolean(choiceBox, &quot;selectionModel&quot;, &quot;selectedItem&quot;, &quot;flag&quot;);\n        BooleanBinding disable = Bindings.when(selectionNotNull).then(flag).otherwise(true);\n        node.disableProperty().bind(disable);\n    }\n\n    public static class Foo {\n\n        private final BooleanProperty flag = new SimpleBooleanProperty(this, &quot;flag&quot;);\n\n        public final void setFlag(boolean flag) {\n            this.flag.set(flag);\n        }\n\n        public final boolean isFlag() {\n            return flag.get();\n        }\n\n        public final BooleanProperty flagProperty() {\n            return flag;\n        }\n\n        public Foo() {}\n\n        public Foo(boolean flag) {\n            setFlag(flag);\n        }\n    }\n}\n</code></pre>\n<hr />\n<h1>Type-Safe Alternative to Select Bindings</h1>\n<p>I've always had an idea on how to create a type-safe version of the &quot;select bindings&quot; offered by JavaFX. Decided to actually code the idea up. Note I have not tested this code, so there may be bugs. Also note there are no primitive specializations of the below class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\nimport javafx.beans.InvalidationListener;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.binding.ObjectBinding;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.util.Callback;\n\n/**\n * A type-safe alternative to {@link Bindings#select(Object, String...) select} bindings. A {@code Chain} is made up\n * of one or more &quot;links&quot; of {@linkplain ObservableValue observable values}. Except for the &quot;root&quot; link of the chain,\n * the observable value of a link is computed by a {@link Callback} based on the observable value of the previous\n * link. If any link's {@code Callback} in the chain returns {@code null}, then the chain will be &quot;broken&quot; at that link\n * and the end value of the chain will be {@code null}.\n *\n * &lt;p&gt;A {@code Chain} is created via the {@link Builder} class. Use the {@link #from(ObservableValue)} and {@link\n * #fromValue(Object)} methods to create a new builder.\n *\n * &lt;p&gt;Unless otherwise stated, passing {@code null} to any method of this API will result in a {@code\n * NullPointerException} being thrown.\n *\n * @param &lt;T&gt; The value type.\n */\npublic class Chain&lt;T&gt; extends ObjectBinding&lt;T&gt; {\n\n    /**\n     * Creates a new builder for a chain with the given observable as its root.\n     *\n     * @param observable the root observable value\n     * @return a new {@code Builder}\n     * @param &lt;T&gt; The observable's value type.\n     * @param &lt;U&gt; The observable type.\n     * @see #fromValue(Object)\n     */\n    public static &lt;T, U extends ObservableValue&lt;T&gt;&gt; Builder&lt;T, U&gt; from(U observable) {\n        Objects.requireNonNull(observable);\n        return new Builder&lt;&gt;(observable);\n    }\n\n    /**\n     * Creates a new builder for a chain with the given &lt;b&gt;value&lt;/b&gt; as its root. This method wraps {@code value} in an\n     * {@code ObservableValue} implementation whose {@code getValue()} method will always return {@code value}.\n     *\n     * @param value the root value; may be {@code null}\n     * @return a new {@code Builder}\n     * @param &lt;T&gt; The value type.\n     * @see #from(ObservableValue)\n     */\n    public static &lt;T&gt; Builder&lt;T, ?&gt; fromValue(T value) {\n        return from(new ImmutableObservableValue&lt;&gt;(value));\n    }\n\n    private final Link&lt;?, ?, T, ?&gt; tail;\n\n    private Chain(Link&lt;?, ?, T, ?&gt; tail) {\n        this.tail = tail;\n        bind(tail);\n    }\n\n    @Override\n    protected T computeValue() {\n        ObservableValue&lt;T&gt; observable = tail.get();\n        return observable == null ? null : observable.getValue();\n    }\n\n    @Override\n    public void dispose() {\n        tail.dispose();\n    }\n\n    /**\n     * A builder class for {@link Chain} objects. A {@code Builder} instance is not reusable. Once any of the &quot;link&quot;\n     * methods or the {@code build} method are invoked, invoking any of them again will result in an {@code \n     * IllegalStateException} being thrown. Note that the &quot;link&quot; methods all return a &lt;b&gt;new&lt;/b&gt; instance of {@code \n     * Builder}.\n     * \n     * &lt;p&gt;This class provides four &quot;link&quot; methods for different scenarios.\n     * \n     * &lt;table&gt;\n     *     &lt;tbody&gt;\n     *         &lt;tr&gt;\n     *             &lt;th&gt;Method&lt;/th&gt;\n     *             &lt;th&gt;Purpose&lt;/th&gt;\n     *         &lt;/tr&gt;\n     *         &lt;tr&gt;\n     *             &lt;td&gt;{@link #link(Callback)}&lt;/td&gt;\n     *             &lt;td&gt;To map the previous {@code ObservableValue} to another {@code ObservableValue}.&lt;/td&gt;\n     *         &lt;/tr&gt;\n     *         &lt;tr&gt;\n     *             &lt;td&gt;{@link #linkFromValue(Callback)}&lt;/td&gt;\n     *             &lt;td&gt;To map the &lt;b&gt;value&lt;/b&gt; of the previous {@code ObservableValue} to an {@code ObservableValue}.&lt;/td&gt;\n     *         &lt;/tr&gt;\n     *         &lt;tr&gt;\n     *             &lt;td&gt;{@link #linkToValue(Callback)}&lt;/td&gt;\n     *             &lt;td&gt;To map the previous {@code ObservableValue} to a &lt;b&gt;value&lt;/b&gt;.&lt;/td&gt;\n     *         &lt;/tr&gt;\n     *         &lt;tr&gt;\n     *             &lt;td&gt;{@link #linkByValue(Callback)}&lt;/td&gt;\n     *             &lt;td&gt;To map the &lt;b&gt;value&lt;/b&gt; of the previous {@code ObservableValue} to a &lt;b&gt;value&lt;/b&gt;.&lt;/td&gt;\n     *         &lt;/tr&gt;\n     *     &lt;/tbody&gt;\n     * &lt;/table&gt;\n     *\n     * @param &lt;T&gt; The observable's value type.\n     * @param &lt;U&gt; The observable type.\n     * @see Chain#from(ObservableValue)\n     * @see Chain#fromValue(Object)\n     */\n    public static class Builder&lt;T, U extends ObservableValue&lt;T&gt;&gt; {\n\n        private final Link&lt;?, ?, T, U&gt; tail;\n        private boolean valid = true;\n\n        // creates a builder for the root link\n        Builder(U observable) {\n            this.tail = new Link&lt;&gt;(observable);\n        }\n\n        // creates a builder for the next link in the chain\n        Builder(Link&lt;?, ?, T, U&gt; tail) {\n            this.tail = tail;\n        }\n\n        /**\n         * Creates a link that maps the previous link's observable to a new observable.\n         *\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\n         *\n         * @param callback the callback to compute the new link's observable\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance\n         * @param &lt;X&gt; The next observable's value type.\n         * @param &lt;Y&gt; The next observable's type.\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\n         * chain\n         */\n        public &lt;X, Y extends ObservableValue&lt;X&gt;&gt; Builder&lt;X, Y&gt; link(Callback&lt;? super U, ? extends Y&gt; callback) {\n            Objects.requireNonNull(callback);\n            invalidate();\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, callback));\n        }\n\n        /**\n         * Creates a link that maps the &lt;b&gt;value&lt;/b&gt; of the previous link's observable to a new observable.\n         *\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\n         *\n         * @param callback the callback to compute the new link's observable\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance to continue building the chain\n         * @param &lt;X&gt; The next observable's value type.\n         * @param &lt;Y&gt; The next observable's type.\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\n         * chain\n         */\n        public &lt;X, Y extends ObservableValue&lt;X&gt;&gt; Builder&lt;X, Y&gt; linkFromValue(\n                Callback&lt;? super T, ? extends Y&gt; callback) {\n            Objects.requireNonNull(callback);\n            invalidate();\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, observable -&gt; {\n                T value = observable.getValue();\n                return value == null ? null : callback.call(value);\n            }));\n        }\n\n        /**\n         * Creates a new link that maps the previous link's observable to a new &lt;b&gt;value&lt;/b&gt;. The new value, when not\n         * {@code null}, will be wrapped in an {@code ObservableValue} implementation whose {@code getValue()} method\n         * will always return said new value. If the value of the previous observable is {@code null} then the chain\n         * is considered broken.\n         *\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\n         *\n         * @param callback the callback to compute the new link's value\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance to continue building the chain\n         * @param &lt;X&gt; The next observable value's value type.\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\n         * chain\n         */\n        public &lt;X&gt; Builder&lt;X, ?&gt; linkToValue(Callback&lt;? super U, ? extends X&gt; callback) {\n            Objects.requireNonNull(callback);\n            invalidate();\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, observable -&gt; {\n                X nextValue = callback.call(observable);\n                return nextValue == null ? null : new ImmutableObservableValue&lt;&gt;(nextValue);\n            }));\n        }\n\n        /**\n         * Creates a new link that maps the &lt;b&gt;value&lt;/b&gt; of the previous link's observable to a new &lt;b&gt;value&lt;/b&gt;. The\n         * new value, when not {@code null}, will wrapped in an {@code ObservableValue} implementation whose {@code\n         * getValue()} method will always return said new value. If the value of the previous observable is {@code null}\n         * then the chain is considered broken.\n         *\n         * &lt;p&gt;The {@code callback} will never be invoked with a {@code null} argument.\n         *\n         * @param callback the callback to compute the new link's value\n         * @return a &lt;b&gt;new&lt;/b&gt; {@code Builder} instance to continue building the chain\n         * @param &lt;X&gt; The next observable value's value type.\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\n         * chain\n         */\n        public &lt;X&gt; Builder&lt;X, ?&gt; linkByValue(Callback&lt;? super T, ? extends X&gt; callback) {\n            Objects.requireNonNull(callback);\n            invalidate();\n            return new Builder&lt;&gt;(new Link&lt;&gt;(tail, observable -&gt; {\n                T value = observable.getValue();\n                if (value == null) {\n                    return null;\n                }\n                X nextValue = callback.call(value);\n                return nextValue == null ? null : new ImmutableObservableValue&lt;&gt;(nextValue);\n            }));\n        }\n\n        /**\n         * Builds and returns the {@code Chain}.\n         *\n         * @return the built {@code Chain}\n         * @throws IllegalStateException if this builder has already been used to create the next link or build the\n         * chain\n         */\n        public Chain&lt;T&gt; build() {\n            invalidate();\n            return new Chain&lt;&gt;(tail);\n        }\n\n        private void invalidate() {\n            if (!valid) {\n                throw new IllegalStateException(&quot;builder already used to create next link or build chain&quot;);\n            }\n            valid = false;\n        }\n    }\n\n    private static class Link&lt;T, U extends ObservableValue&lt;T&gt;, X, Y extends ObservableValue&lt;X&gt;&gt;\n            extends ObjectBinding&lt;Y&gt; {\n\n        private final boolean root;\n        private final Link&lt;?, ?, T, U&gt; previous;\n        private final Callback&lt;? super U, ? extends Y&gt; callback;\n\n        private Y observable;\n\n        // creates a root link\n        Link(Y observable) {\n            this.root = true;\n            this.previous = null;\n            this.callback = null;\n\n            this.observable = observable;\n            bind(observable);\n        }\n\n        // creates a non-root link\n        Link(Link&lt;?, ?, T, U&gt; previous, Callback&lt;? super U, ? extends Y&gt; callback) {\n            this.root = false;\n            this.previous = previous;\n            this.callback = callback;\n\n            bind(previous);\n        }\n\n        @Override\n        protected Y computeValue() {\n            /*\n             * A link can become invalid in one of two ways:\n             *\n             *   - The previous link is invalidated.\n             *   - The observable of this link is invalidated.\n             *\n             * Only in the first case do we need to recompute the observable for\n             * this link. Whether or not the observable needs to be recomputed\n             * upon invalidation is handled by the onInvalidating() method.\n             */\n            if (!root &amp;&amp; observable == null) {\n                U previousObservable = previous.get();\n                if (previousObservable != null) {\n                    observable = callback.call(previousObservable);\n                    if (observable != null) {\n                        bind(observable);\n                    }\n                }\n            }\n            return observable;\n        }\n\n        @Override\n        protected void onInvalidating() {\n            if (!root &amp;&amp; !previous.isValid() &amp;&amp; observable != null) {\n                unbind(observable);\n                observable = null;\n            }\n        }\n\n        @Override\n        public void dispose() {\n            if (observable != null) {\n                unbind(observable);\n                observable = null;\n            }\n            if (!root) {\n                unbind(previous);\n                previous.dispose();\n            }\n        }\n    }\n\n    private static class ImmutableObservableValue&lt;T&gt; implements ObservableValue&lt;T&gt; {\n\n        private final T value;\n\n        ImmutableObservableValue(T value) {\n            this.value = value;\n        }\n\n        @Override\n        public T getValue() {\n            return value;\n        }\n\n        /*\n         * Since this observable value is immutable, there's no reason to store\n         * the listeners. These methods simply check the argument for null in\n         * order to minimally satisfy their contracts.\n         */\n\n        @Override\n        public void addListener(ChangeListener&lt;? super T&gt; listener) {\n            Objects.requireNonNull(listener);\n        }\n\n        @Override\n        public void removeListener(ChangeListener&lt;? super T&gt; listener) {\n            Objects.requireNonNull(listener);\n        }\n\n        @Override\n        public void addListener(InvalidationListener listener) {\n            Objects.requireNonNull(listener);\n        }\n\n        @Override\n        public void removeListener(InvalidationListener listener) {\n            Objects.requireNonNull(listener);\n        }\n    }\n}\n</code></pre>\n<p>Using <code>Chain</code>, you can then bind the <code>disable</code> property like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void bindDisableProperty(Node node, ChoiceBox&lt;Foo&gt; choiceBox) {\n    Chain&lt;Foo&gt; selectedItem = Chain.from(choiceBox.selectionModelProperty())\n            .linkFromValue(SelectionModel::selectedItemProperty)\n            .build();\n\n    ObjectBinding&lt;Boolean&gt; disable = Bindings.when(selectedItem.isNotNull())\n            .then(Chain.from(selectedItem).linkFromValue(Foo::flagProperty).build())\n            .otherwise(Boolean.TRUE);\n\n    node.disableProperty().bind(disable);\n}\n</code></pre>\n<p>Of course, there may be an existing library that does something similar.</p>\n"}],"owner":{"account_id":6081376,"reputation":3138,"user_id":4747043,"display_name":"alan ocallaghan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76954042,"answer_count":2,"score":3,"last_activity_date":1692972781,"creation_date":1692711416,"question_id":76953873,"body_markdown":"I have a few places where I want to check first if the `selectedItemProperty()` of a `ChoiceBox`&#39;s `selectionModel` is null, and if it is not null, to check some property of the selected item.\r\n\r\nWhat I would ideally like is something like:\r\n\r\n```java\r\nbutton.disableProperty().bind(\r\n    choiceBox.getSelectionModel().selectedItemProperty().isNull().or(\r\n        choiceBox.getSelectionModel().selectedItemProperty().get().myProperty()\r\n    )\r\n);\r\n```\r\n\r\nHowever, this fails, because `the return value of &quot;javafx.beans.property.ReadOnlyObjectProperty.get()&quot; is null` (ie, it&#39;s trying to fetch the selected item to evaluate `myProperty()`).\r\n\r\nInstead, I can do something like\r\n\r\n```java\r\nbutton.disableProperty().bind(\r\n    Bindings.createBooleanBinding(\r\n        () -&gt; {\r\n            if (choiceBox.getSelectionModel().selectedItemProperty().isNull())\r\n                return true;\r\n            return choiceBox.getSelectionModel().selectedItemProperty().get().myProperty().get();\r\n            },\r\n            choiceBox.getSelectionModel().selectedItemProperty()\r\n        }\r\n    )\r\n);\r\n```\r\n\r\nHowever, this only updates if the selected item changes; it&#39;s completely ignorant of changes in the underlying `myProperty()`. I&#39;d like to be able to propagate changes in the underlying property. What I really want here is for the `or` to be short-circuiting, that is for it to see that the `selectedItemProperty` is null and to not carry on, but if it is not null, to check the underlying property.","title":"Check JavaFX Property of item only if it isNotNull()","body":"<p>I have a few places where I want to check first if the <code>selectedItemProperty()</code> of a <code>ChoiceBox</code>'s <code>selectionModel</code> is null, and if it is not null, to check some property of the selected item.</p>\n<p>What I would ideally like is something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>button.disableProperty().bind(\n    choiceBox.getSelectionModel().selectedItemProperty().isNull().or(\n        choiceBox.getSelectionModel().selectedItemProperty().get().myProperty()\n    )\n);\n</code></pre>\n<p>However, this fails, because <code>the return value of &quot;javafx.beans.property.ReadOnlyObjectProperty.get()&quot; is null</code> (ie, it's trying to fetch the selected item to evaluate <code>myProperty()</code>).</p>\n<p>Instead, I can do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>button.disableProperty().bind(\n    Bindings.createBooleanBinding(\n        () -&gt; {\n            if (choiceBox.getSelectionModel().selectedItemProperty().isNull())\n                return true;\n            return choiceBox.getSelectionModel().selectedItemProperty().get().myProperty().get();\n            },\n            choiceBox.getSelectionModel().selectedItemProperty()\n        }\n    )\n);\n</code></pre>\n<p>However, this only updates if the selected item changes; it's completely ignorant of changes in the underlying <code>myProperty()</code>. I'd like to be able to propagate changes in the underlying property. What I really want here is for the <code>or</code> to be short-circuiting, that is for it to see that the <code>selectedItemProperty</code> is null and to not carry on, but if it is not null, to check the underlying property.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1692678207,"post_id":76948353,"comment_id":135652917,"body_markdown":"This is an interesting problem and a nice question.","body":"This is an interesting problem and a nice question."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692665003,"creation_date":1692661160,"answer_id":76949277,"question_id":76948353,"body_markdown":"There may be other ways to fix this, but below is my version of fixing this. I hope this may help you to give you some direction.\r\n\r\nFor the table, to automatically refresh the changes done in Person property, we need to provide the extractor to the ObservableList to listen for changes.\r\n\r\n    ObservableList&lt;Order&gt; orders = FXCollections.observableArrayList(data -&gt; new Observable[]{data.person});\r\n\r\nSo any updates to the object property (of person) will update the cells. \r\n\r\nBut in your case, the object (Person) in ObjectProperty is not updated. Only its internal state is updated. So this will not fire any changes in the TableView. \r\n\r\nFor the TableView to fire this, we will create a custom ObjectProperty that have access to trigger the value changed method.\r\n\r\n    class MyObjectProperty&lt;T&gt; extends SimpleObjectProperty&lt;T&gt; {\r\n        public MyObjectProperty(T obj) {\r\n            super(obj);\r\n        }\r\n    \r\n        @Override\r\n        public void fireValueChangedEvent() {\r\n            super.fireValueChangedEvent();\r\n        }\r\n    }\r\n    \r\n    class Order {\r\n        final MyObjectProperty&lt;Person&gt; person;\r\n    \r\n        Order(Person person) {\r\n            this.person = new MyObjectProperty&lt;&gt;(person);\r\n        }\r\n    }\r\n\r\n\r\nSo whenever we modify the Person, we manually call the fireValueChangedEvent() to notify the TableView that the Person object is modified. Then the TableView will reevaluate the updateItems of the cells to reflect the changes.\r\n\r\n    nextName.setOnAction(event -&gt; {\r\n                order.person.get().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\r\n                order.person.fireValueChangedEvent();\r\n                System.out.println(&quot;people are %s&quot;.formatted(people));\r\n                System.out.println(&quot;person is %s&quot;.formatted(order.person.get()));\r\n            });\r\n\r\nAnd one final thing, updating the name of the Person will not immediately reflect in the ComboBox list. So we follow the same extractor pattern for the comboBox list as well.\r\n\r\n    ObservableList&lt;Person&gt; people = FXCollections.observableArrayList(person -&gt; new Observable[]{person.name});\r\n\r\n\r\n\r\nCombining all the above, below the demo that let the name to update and change the person as well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.Observable;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.ComboBoxTableCell;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    class Person {\r\n        final SimpleStringProperty name;\r\n    \r\n        Person(String name) {\r\n            this.name = new SimpleStringProperty(name);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return name.get();\r\n        }\r\n    }\r\n    \r\n    class Order {\r\n        final MyObjectProperty&lt;Person&gt; person;\r\n    \r\n        Order(Person person) {\r\n            this.person = new MyObjectProperty&lt;&gt;(person);\r\n        }\r\n    }\r\n    \r\n    class MyObjectProperty&lt;T&gt; extends SimpleObjectProperty&lt;T&gt; {\r\n        public MyObjectProperty(T obj) {\r\n            super(obj);\r\n        }\r\n    \r\n        @Override\r\n        public void fireValueChangedEvent() {\r\n            super.fireValueChangedEvent();\r\n        }\r\n    }\r\n    \r\n    class UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\r\n        public UpdatingCell(ObservableList&lt;Person&gt; people) {\r\n            super(people);\r\n        }\r\n    \r\n        @Override\r\n        public void updateItem(Person item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n    \r\n            if (empty || item == null) {\r\n                setText(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class OrderTable extends Application {\r\n    \r\n        private static final List&lt;String&gt; names = Arrays.asList(&quot;Anna&quot;, &quot;Bob&quot;, &quot;Charly&quot;);\r\n        private static final AtomicInteger nameIndex = new AtomicInteger();\r\n    \r\n        private static final ObservableList&lt;Person&gt; people = FXCollections.observableArrayList(person -&gt; new Observable[]{person.name});\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            people.addAll(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;));\r\n            Order order = new Order(people.get(0));\r\n            ObservableList&lt;Order&gt; orders = FXCollections.observableArrayList(data -&gt; new Observable[]{data.person});\r\n            orders.add(order);\r\n    \r\n            TableView&lt;Order&gt; table = new TableView&lt;&gt;();\r\n            TableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\r\n            col.setPrefWidth(100);\r\n            col.setCellValueFactory(data -&gt; data.getValue().person);\r\n            col.setCellFactory(tc -&gt; new UpdatingCell(people));\r\n            col.setEditable(true);\r\n    \r\n            table.getColumns().setAll(Collections.singleton(col));\r\n            table.getItems().setAll(orders);\r\n            table.setEditable(true);\r\n    \r\n            Button nextName = new Button(&quot;Next Name&quot;);\r\n            nextName.setOnAction(event -&gt; {\r\n                order.person.get().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\r\n                order.person.fireValueChangedEvent(); // Call this method to shout out that something happened in Person Object :)\r\n                System.out.println(&quot;people are %s&quot;.formatted(people));\r\n                System.out.println(&quot;person is %s&quot;.formatted(order.person.get()));\r\n            });\r\n    \r\n            stage.setScene(new Scene(new VBox(table, nextName), 250, 140));\r\n            stage.setTitle(&quot;Order Demo&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n**UPDATE:**\r\n\r\nInstead of firing the change on button action, if you want the Person and Order to automatically handle this, may be you can start with below code. In the below code, you can update the person externally (without the reference of Order) and the changes will reflect in Order table.\r\n \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.InvalidationListener;\r\n    import javafx.beans.Observable;\r\n    import javafx.beans.property.*;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.ComboBoxTableCell;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    class Person {\r\n        final BooleanProperty modified;\r\n        final StringProperty name;\r\n        final IntegerProperty age;\r\n    \r\n        Person(String name) {\r\n            this.modified = new SimpleBooleanProperty();\r\n            this.name = new SimpleStringProperty(name);\r\n            this.age = new SimpleIntegerProperty(25);\r\n    \r\n            InvalidationListener listener = p -&gt; modified.set(!modified.getValue());\r\n            this.name.addListener(listener);\r\n            this.age.addListener(listener);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return name.get();\r\n        }\r\n    }\r\n    \r\n    class Order {\r\n        final MyObjectProperty&lt;Person&gt; person;\r\n    \r\n        Order(Person person) {\r\n            this.person = new MyObjectProperty&lt;&gt;(person);\r\n    \r\n            final InvalidationListener listener = p -&gt; this.person.fireValueChangedEvent();\r\n            person.modified.addListener(listener);\r\n            this.person.addListener((obs, old, val) -&gt; {\r\n                if (old != val) {\r\n                    if (old != null) {\r\n                        old.modified.removeListener(listener);\r\n                    }\r\n                    if (val != null) {\r\n                        val.modified.addListener(listener);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    class MyObjectProperty&lt;T&gt; extends SimpleObjectProperty&lt;T&gt; {\r\n        public MyObjectProperty(T obj) {\r\n            super(obj);\r\n        }\r\n    \r\n        @Override\r\n        public void fireValueChangedEvent() {\r\n            super.fireValueChangedEvent();\r\n        }\r\n    }\r\n    \r\n    class UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\r\n        public UpdatingCell(ObservableList&lt;Person&gt; people) {\r\n            super(people);\r\n        }\r\n    \r\n        @Override\r\n        public void updateItem(Person item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n    \r\n            if (empty || item == null) {\r\n                setText(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class OrderTable extends Application {\r\n    \r\n        private static final List&lt;String&gt; names = Arrays.asList(&quot;Anna&quot;, &quot;Bob&quot;, &quot;Charly&quot;);\r\n        private static final AtomicInteger nameIndex = new AtomicInteger();\r\n    \r\n        private static final ObservableList&lt;Person&gt; people = FXCollections.observableArrayList(person -&gt; new Observable[]{person.name});\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            people.addAll(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;));\r\n            Order order = new Order(people.get(0));\r\n            ObservableList&lt;Order&gt; orders = FXCollections.observableArrayList(data -&gt; new Observable[]{data.person});\r\n            orders.add(order);\r\n    \r\n            TableView&lt;Order&gt; table = new TableView&lt;&gt;();\r\n            TableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\r\n            col.setPrefWidth(100);\r\n            col.setCellValueFactory(data -&gt; data.getValue().person);\r\n            col.setCellFactory(tc -&gt; new UpdatingCell(people));\r\n            col.setEditable(true);\r\n    \r\n            table.getColumns().setAll(Collections.singleton(col));\r\n            table.getItems().setAll(orders);\r\n            table.setEditable(true);\r\n    \r\n            ComboBox&lt;Person&gt; persons = new ComboBox&lt;&gt;();\r\n            persons.setItems(people);\r\n            persons.getSelectionModel().select(0);\r\n    \r\n            Button nextName = new Button(&quot;Next Name&quot;);\r\n            nextName.setOnAction(event -&gt; {\r\n                persons.getValue().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\r\n            });\r\n    \r\n            stage.setScene(new Scene(new VBox(10, table, new HBox(10, persons, nextName)), 250, 140));\r\n            stage.setTitle(&quot;Order Demo&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/tx7wv.gif","title":"Keep an editable TableColumn value updated from property","body":"<p>There may be other ways to fix this, but below is my version of fixing this. I hope this may help you to give you some direction.</p>\n<p>For the table, to automatically refresh the changes done in Person property, we need to provide the extractor to the ObservableList to listen for changes.</p>\n<pre><code>ObservableList&lt;Order&gt; orders = FXCollections.observableArrayList(data -&gt; new Observable[]{data.person});\n</code></pre>\n<p>So any updates to the object property (of person) will update the cells.</p>\n<p>But in your case, the object (Person) in ObjectProperty is not updated. Only its internal state is updated. So this will not fire any changes in the TableView.</p>\n<p>For the TableView to fire this, we will create a custom ObjectProperty that have access to trigger the value changed method.</p>\n<pre><code>class MyObjectProperty&lt;T&gt; extends SimpleObjectProperty&lt;T&gt; {\n    public MyObjectProperty(T obj) {\n        super(obj);\n    }\n\n    @Override\n    public void fireValueChangedEvent() {\n        super.fireValueChangedEvent();\n    }\n}\n\nclass Order {\n    final MyObjectProperty&lt;Person&gt; person;\n\n    Order(Person person) {\n        this.person = new MyObjectProperty&lt;&gt;(person);\n    }\n}\n</code></pre>\n<p>So whenever we modify the Person, we manually call the fireValueChangedEvent() to notify the TableView that the Person object is modified. Then the TableView will reevaluate the updateItems of the cells to reflect the changes.</p>\n<pre><code>nextName.setOnAction(event -&gt; {\n            order.person.get().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\n            order.person.fireValueChangedEvent();\n            System.out.println(&quot;people are %s&quot;.formatted(people));\n            System.out.println(&quot;person is %s&quot;.formatted(order.person.get()));\n        });\n</code></pre>\n<p>And one final thing, updating the name of the Person will not immediately reflect in the ComboBox list. So we follow the same extractor pattern for the comboBox list as well.</p>\n<pre><code>ObservableList&lt;Person&gt; people = FXCollections.observableArrayList(person -&gt; new Observable[]{person.name});\n</code></pre>\n<p>Combining all the above, below the demo that let the name to update and change the person as well.</p>\n<p><a href=\"https://i.stack.imgur.com/tx7wv.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tx7wv.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport javafx.application.Application;\nimport javafx.beans.Observable;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.ComboBoxTableCell;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nclass Person {\n    final SimpleStringProperty name;\n\n    Person(String name) {\n        this.name = new SimpleStringProperty(name);\n    }\n\n    @Override\n    public String toString() {\n        return name.get();\n    }\n}\n\nclass Order {\n    final MyObjectProperty&lt;Person&gt; person;\n\n    Order(Person person) {\n        this.person = new MyObjectProperty&lt;&gt;(person);\n    }\n}\n\nclass MyObjectProperty&lt;T&gt; extends SimpleObjectProperty&lt;T&gt; {\n    public MyObjectProperty(T obj) {\n        super(obj);\n    }\n\n    @Override\n    public void fireValueChangedEvent() {\n        super.fireValueChangedEvent();\n    }\n}\n\nclass UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\n    public UpdatingCell(ObservableList&lt;Person&gt; people) {\n        super(people);\n    }\n\n    @Override\n    public void updateItem(Person item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty || item == null) {\n            setText(&quot;&quot;);\n        }\n    }\n}\n\npublic class OrderTable extends Application {\n\n    private static final List&lt;String&gt; names = Arrays.asList(&quot;Anna&quot;, &quot;Bob&quot;, &quot;Charly&quot;);\n    private static final AtomicInteger nameIndex = new AtomicInteger();\n\n    private static final ObservableList&lt;Person&gt; people = FXCollections.observableArrayList(person -&gt; new Observable[]{person.name});\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        people.addAll(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;));\n        Order order = new Order(people.get(0));\n        ObservableList&lt;Order&gt; orders = FXCollections.observableArrayList(data -&gt; new Observable[]{data.person});\n        orders.add(order);\n\n        TableView&lt;Order&gt; table = new TableView&lt;&gt;();\n        TableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\n        col.setPrefWidth(100);\n        col.setCellValueFactory(data -&gt; data.getValue().person);\n        col.setCellFactory(tc -&gt; new UpdatingCell(people));\n        col.setEditable(true);\n\n        table.getColumns().setAll(Collections.singleton(col));\n        table.getItems().setAll(orders);\n        table.setEditable(true);\n\n        Button nextName = new Button(&quot;Next Name&quot;);\n        nextName.setOnAction(event -&gt; {\n            order.person.get().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\n            order.person.fireValueChangedEvent(); // Call this method to shout out that something happened in Person Object :)\n            System.out.println(&quot;people are %s&quot;.formatted(people));\n            System.out.println(&quot;person is %s&quot;.formatted(order.person.get()));\n        });\n\n        stage.setScene(new Scene(new VBox(table, nextName), 250, 140));\n        stage.setTitle(&quot;Order Demo&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>Instead of firing the change on button action, if you want the Person and Order to automatically handle this, may be you can start with below code. In the below code, you can update the person externally (without the reference of Order) and the changes will reflect in Order table.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport javafx.application.Application;\nimport javafx.beans.InvalidationListener;\nimport javafx.beans.Observable;\nimport javafx.beans.property.*;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.ComboBoxTableCell;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nclass Person {\n    final BooleanProperty modified;\n    final StringProperty name;\n    final IntegerProperty age;\n\n    Person(String name) {\n        this.modified = new SimpleBooleanProperty();\n        this.name = new SimpleStringProperty(name);\n        this.age = new SimpleIntegerProperty(25);\n\n        InvalidationListener listener = p -&gt; modified.set(!modified.getValue());\n        this.name.addListener(listener);\n        this.age.addListener(listener);\n    }\n\n    @Override\n    public String toString() {\n        return name.get();\n    }\n}\n\nclass Order {\n    final MyObjectProperty&lt;Person&gt; person;\n\n    Order(Person person) {\n        this.person = new MyObjectProperty&lt;&gt;(person);\n\n        final InvalidationListener listener = p -&gt; this.person.fireValueChangedEvent();\n        person.modified.addListener(listener);\n        this.person.addListener((obs, old, val) -&gt; {\n            if (old != val) {\n                if (old != null) {\n                    old.modified.removeListener(listener);\n                }\n                if (val != null) {\n                    val.modified.addListener(listener);\n                }\n            }\n        });\n    }\n}\n\nclass MyObjectProperty&lt;T&gt; extends SimpleObjectProperty&lt;T&gt; {\n    public MyObjectProperty(T obj) {\n        super(obj);\n    }\n\n    @Override\n    public void fireValueChangedEvent() {\n        super.fireValueChangedEvent();\n    }\n}\n\nclass UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\n    public UpdatingCell(ObservableList&lt;Person&gt; people) {\n        super(people);\n    }\n\n    @Override\n    public void updateItem(Person item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty || item == null) {\n            setText(&quot;&quot;);\n        }\n    }\n}\n\npublic class OrderTable extends Application {\n\n    private static final List&lt;String&gt; names = Arrays.asList(&quot;Anna&quot;, &quot;Bob&quot;, &quot;Charly&quot;);\n    private static final AtomicInteger nameIndex = new AtomicInteger();\n\n    private static final ObservableList&lt;Person&gt; people = FXCollections.observableArrayList(person -&gt; new Observable[]{person.name});\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        people.addAll(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;));\n        Order order = new Order(people.get(0));\n        ObservableList&lt;Order&gt; orders = FXCollections.observableArrayList(data -&gt; new Observable[]{data.person});\n        orders.add(order);\n\n        TableView&lt;Order&gt; table = new TableView&lt;&gt;();\n        TableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\n        col.setPrefWidth(100);\n        col.setCellValueFactory(data -&gt; data.getValue().person);\n        col.setCellFactory(tc -&gt; new UpdatingCell(people));\n        col.setEditable(true);\n\n        table.getColumns().setAll(Collections.singleton(col));\n        table.getItems().setAll(orders);\n        table.setEditable(true);\n\n        ComboBox&lt;Person&gt; persons = new ComboBox&lt;&gt;();\n        persons.setItems(people);\n        persons.getSelectionModel().select(0);\n\n        Button nextName = new Button(&quot;Next Name&quot;);\n        nextName.setOnAction(event -&gt; {\n            persons.getValue().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\n        });\n\n        stage.setScene(new Scene(new VBox(10, table, new HBox(10, persons, nextName)), 250, 140));\n        stage.setTitle(&quot;Order Demo&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692675582,"creation_date":1692675582,"answer_id":76949945,"question_id":76948353,"body_markdown":"Create your own Property class, for use as a table cells Observable value, that wraps a Person property and forwards both reads and writes to the name of that Person propertys value:\r\n\r\n    private static class NameProperty\r\n    extends StringPropertyBase {\r\n        private final Property&lt;Person&gt; person;\r\n\r\n        NameProperty(Property&lt;Person&gt; personProperty) {\r\n            this.person = Objects.requireNonNull(personProperty,\r\n                &quot;Person property cannot be null.&quot;);\r\n\r\n            Person person = personProperty.getValue();\r\n            if (person != null) {\r\n                bindBidirectional(person.name);\r\n            }\r\n\r\n            this.person.addListener((o, oldPerson, newPerson) -&gt; {\r\n                if (oldPerson != null) {\r\n                    unbindBidirectional(oldPerson.name);\r\n                }\r\n\r\n                if (newPerson != null) {\r\n                    bindBidirectional(newPerson.name);\r\n                } else {\r\n                    set(null);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return &quot;name&quot;;\r\n        }\r\n\r\n        @Override\r\n        public Object getBean() {\r\n            return person.getBean();\r\n        }\r\n    }\r\n\r\nHere is a complete program demonstrating it:\r\n\r\n    import java.util.Objects;\r\n\r\n    import javafx.application.Application;\r\n\r\n    import javafx.beans.property.Property;\r\n    import javafx.beans.property.StringPropertyBase;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n\r\n    import javafx.geometry.Insets;\r\n\r\n    import javafx.stage.Stage;\r\n\r\n    import javafx.scene.Scene;\r\n\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TableColumn;\r\n\r\n    import javafx.scene.control.cell.TextFieldTableCell;\r\n\r\n    import javafx.scene.layout.BorderPane;\r\n\r\n    public class OrderTable\r\n    extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            TableView&lt;Order&gt; table = new TableView&lt;&gt;();\r\n            table.setEditable(true);\r\n\r\n            TableColumn&lt;Order, String&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\r\n            col.setCellFactory(TextFieldTableCell.forTableColumn());\r\n            col.setCellValueFactory(\r\n                data -&gt; new NameProperty(data.getValue().person));\r\n\r\n            table.getColumns().add(col);\r\n\r\n            table.getItems().addAll(\r\n                new Order(new Person(&quot;John&quot;)),\r\n                new Order(new Person(&quot;Jane&quot;))\r\n            );\r\n\r\n            Button printItemsButton = new Button(&quot;Print&quot;);\r\n            printItemsButton.setOnAction(e -&gt; {\r\n                table.getItems().forEach(System.out::println);\r\n                System.out.println();\r\n            });\r\n\r\n            BorderPane pane = new BorderPane(table,\r\n                null, null, printItemsButton, null);\r\n            BorderPane.setMargin(printItemsButton, new Insets(12));\r\n\r\n            stage.setTitle(&quot;Orders&quot;);\r\n            stage.setScene(new Scene(pane));\r\n            stage.show();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n\r\n        private static class NameProperty\r\n        extends StringPropertyBase {\r\n            private final Property&lt;Person&gt; person;\r\n\r\n            NameProperty(Property&lt;Person&gt; personProperty) {\r\n                this.person = Objects.requireNonNull(personProperty,\r\n                    &quot;Person property cannot be null.&quot;);\r\n\r\n                Person person = personProperty.getValue();\r\n                if (person != null) {\r\n                    bindBidirectional(person.name);\r\n                }\r\n\r\n                this.person.addListener((o, oldPerson, newPerson) -&gt; {\r\n                    if (oldPerson != null) {\r\n                        unbindBidirectional(oldPerson.name);\r\n                    }\r\n\r\n                    if (newPerson != null) {\r\n                        bindBidirectional(newPerson.name);\r\n                    } else {\r\n                        set(null);\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return &quot;name&quot;;\r\n            }\r\n\r\n            @Override\r\n            public Object getBean() {\r\n                return person.getBean();\r\n            }\r\n        }\r\n\r\n        static class Person {\r\n            final SimpleStringProperty name;\r\n\r\n            Person(String name) {\r\n                this.name = new SimpleStringProperty(name);\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return name.get();\r\n            }\r\n        }\r\n\r\n        static class Order {\r\n            final SimpleObjectProperty&lt;Person&gt; person;\r\n\r\n            Order(Person person) {\r\n                this.person = new SimpleObjectProperty&lt;&gt;(person);\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Order[person=&quot; + person.get() + &quot;]&quot;;\r\n            }\r\n        }\r\n    }\r\n","title":"Keep an editable TableColumn value updated from property","body":"<p>Create your own Property class, for use as a table cells Observable value, that wraps a Person property and forwards both reads and writes to the name of that Person propertys value:</p>\n<pre><code>private static class NameProperty\nextends StringPropertyBase {\n    private final Property&lt;Person&gt; person;\n\n    NameProperty(Property&lt;Person&gt; personProperty) {\n        this.person = Objects.requireNonNull(personProperty,\n            &quot;Person property cannot be null.&quot;);\n\n        Person person = personProperty.getValue();\n        if (person != null) {\n            bindBidirectional(person.name);\n        }\n\n        this.person.addListener((o, oldPerson, newPerson) -&gt; {\n            if (oldPerson != null) {\n                unbindBidirectional(oldPerson.name);\n            }\n\n            if (newPerson != null) {\n                bindBidirectional(newPerson.name);\n            } else {\n                set(null);\n            }\n        });\n    }\n\n    @Override\n    public String getName() {\n        return &quot;name&quot;;\n    }\n\n    @Override\n    public Object getBean() {\n        return person.getBean();\n    }\n}\n</code></pre>\n<p>Here is a complete program demonstrating it:</p>\n<pre><code>import java.util.Objects;\n\nimport javafx.application.Application;\n\nimport javafx.beans.property.Property;\nimport javafx.beans.property.StringPropertyBase;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.SimpleObjectProperty;\n\nimport javafx.geometry.Insets;\n\nimport javafx.stage.Stage;\n\nimport javafx.scene.Scene;\n\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TableColumn;\n\nimport javafx.scene.control.cell.TextFieldTableCell;\n\nimport javafx.scene.layout.BorderPane;\n\npublic class OrderTable\nextends Application {\n    @Override\n    public void start(Stage stage) {\n        TableView&lt;Order&gt; table = new TableView&lt;&gt;();\n        table.setEditable(true);\n\n        TableColumn&lt;Order, String&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\n        col.setCellFactory(TextFieldTableCell.forTableColumn());\n        col.setCellValueFactory(\n            data -&gt; new NameProperty(data.getValue().person));\n\n        table.getColumns().add(col);\n\n        table.getItems().addAll(\n            new Order(new Person(&quot;John&quot;)),\n            new Order(new Person(&quot;Jane&quot;))\n        );\n\n        Button printItemsButton = new Button(&quot;Print&quot;);\n        printItemsButton.setOnAction(e -&gt; {\n            table.getItems().forEach(System.out::println);\n            System.out.println();\n        });\n\n        BorderPane pane = new BorderPane(table,\n            null, null, printItemsButton, null);\n        BorderPane.setMargin(printItemsButton, new Insets(12));\n\n        stage.setTitle(&quot;Orders&quot;);\n        stage.setScene(new Scene(pane));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    private static class NameProperty\n    extends StringPropertyBase {\n        private final Property&lt;Person&gt; person;\n\n        NameProperty(Property&lt;Person&gt; personProperty) {\n            this.person = Objects.requireNonNull(personProperty,\n                &quot;Person property cannot be null.&quot;);\n\n            Person person = personProperty.getValue();\n            if (person != null) {\n                bindBidirectional(person.name);\n            }\n\n            this.person.addListener((o, oldPerson, newPerson) -&gt; {\n                if (oldPerson != null) {\n                    unbindBidirectional(oldPerson.name);\n                }\n\n                if (newPerson != null) {\n                    bindBidirectional(newPerson.name);\n                } else {\n                    set(null);\n                }\n            });\n        }\n\n        @Override\n        public String getName() {\n            return &quot;name&quot;;\n        }\n\n        @Override\n        public Object getBean() {\n            return person.getBean();\n        }\n    }\n\n    static class Person {\n        final SimpleStringProperty name;\n\n        Person(String name) {\n            this.name = new SimpleStringProperty(name);\n        }\n\n        @Override\n        public String toString() {\n            return name.get();\n        }\n    }\n\n    static class Order {\n        final SimpleObjectProperty&lt;Person&gt; person;\n\n        Order(Person person) {\n            this.person = new SimpleObjectProperty&lt;&gt;(person);\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Order[person=&quot; + person.get() + &quot;]&quot;;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":1,"creation_date":1692749288,"post_id":76953719,"comment_id":135666079,"body_markdown":"+1 Thanks for highlighting the new API. Not aware of this new API. This is quite helpful for me in my other usecases ;).","body":"+1 Thanks for highlighting the new API. Not aware of this new API. This is quite helpful for me in my other usecases ;)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1692799313,"post_id":76953719,"comment_id":135673571,"body_markdown":"@SaiDandem The new API has an interesting history. It was originally developed as a [third party library](https://github.com/TomasMikula/EasyBind) by Tomas Mikula (also see [this library](https://github.com/TomasMikula/ReactFX), which includes some of the same content). As well as `ObservableValue::map` and `ObservableValue::flatMap` there is also `ObservableValue::orElse` which is quite useful. There are other similar functionality which could be developed (e.g. `ObservableList::map`), and may be under development for future releases.","body":"@SaiDandem The new API has an interesting history. It was originally developed as a <a href=\"https://github.com/TomasMikula/EasyBind\" rel=\"nofollow noreferrer\">third party library</a> by Tomas Mikula (also see <a href=\"https://github.com/TomasMikula/ReactFX\" rel=\"nofollow noreferrer\">this library</a>, which includes some of the same content). As well as <code>ObservableValue::map</code> and <code>ObservableValue::flatMap</code> there is also <code>ObservableValue::orElse</code> which is quite useful. There are other similar functionality which could be developed (e.g. <code>ObservableList::map</code>), and may be under development for future releases."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692972710,"creation_date":1692710216,"answer_id":76953719,"question_id":76948353,"body_markdown":"This is an interesting problem. Here is a solution that seems to work, preserving the original structure of the data. The basic idea is to replace the bindings with a listener. This uses [`ObservableValue.flatMap()`](https://openjfx.io/javadoc/20/javafx.base/javafx/beans/value/ObservableValue.html#flatMap(java.util.function.Function)), introduced in JavaFX 19, to create a listener on the name property of the cell&#39;s item property. (For more information on `flatMap` and related methods, see [this Q/A](https://stackoverflow.com/questions/76971752/what-are-the-use-cases-for-the-new-methods-introduced-to-observablevalue-in-java).)\r\n\r\n \r\n\r\nInstead of the `UpdatingCell` in the original, use\r\n\r\n    class UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\r\n    \r\n        ObservableValue&lt;String&gt; name = itemProperty().flatMap(person -&gt; person.name);\r\n        public UpdatingCell(ObservableList&lt;Person&gt; people) {\r\n            super(people);\r\n            name.addListener((obs, oldName, newName) -&gt; updateText());\r\n        }\r\n    \r\n        private void updateText() {\r\n            if (isEditing()) {\r\n                setText(null);\r\n            } else {\r\n                setText(name.getValue());\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void startEdit() {\r\n            super.startEdit();\r\n            updateText();\r\n        }\r\n    \r\n        @Override\r\n        public void updateItem(Person item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            updateText();\r\n        }\r\n    }\r\n\r\nIf you cannot use JavaFX 19, for some reason, replace \r\n\r\n    ObservableValue&lt;String&gt; name = itemProperty().flatMap(person -&gt; person.name);\r\n\r\nwith\r\n\r\n    ObservableValue&lt;String&gt; name = new StringBinding() {\r\n        {\r\n            itemProperty().addListener((obs, oldItem, newItem) -&gt; {\r\n                if (oldItem != null) {\r\n                    unbind(oldItem.name);\r\n                }\r\n                if (newItem != null) {\r\n                    bind(newItem.name);\r\n                }\r\n                invalidate();\r\n            });\r\n            if (getItem() != null) {\r\n                bind(getItem().name);\r\n            }\r\n        }\r\n        @Override\r\n        protected String computeValue() {\r\n            return getItem() == null ? null : getItem().name.getValue();\r\n        }\r\n    };\r\n\r\nNote there is one other bug in your code, which is somewhat independent. With the setup above, changing the name of a person by using the &quot;Next name&quot; button will not update the cells in the combo box in the editor. To allow this to happen, create the `people` list with an extractor, e.g.\r\n\r\n    ObservableList&lt;Person&gt; people = \r\n                FXCollections.observableList(List.of(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;)), \r\n                        person -&gt; new Observable[] {person.name});","title":"Keep an editable TableColumn value updated from property","body":"<p>This is an interesting problem. Here is a solution that seems to work, preserving the original structure of the data. The basic idea is to replace the bindings with a listener. This uses <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/beans/value/ObservableValue.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>ObservableValue.flatMap()</code></a>, introduced in JavaFX 19, to create a listener on the name property of the cell's item property. (For more information on <code>flatMap</code> and related methods, see <a href=\"https://stackoverflow.com/questions/76971752/what-are-the-use-cases-for-the-new-methods-introduced-to-observablevalue-in-java\">this Q/A</a>.)</p>\n<p>Instead of the <code>UpdatingCell</code> in the original, use</p>\n<pre><code>class UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\n\n    ObservableValue&lt;String&gt; name = itemProperty().flatMap(person -&gt; person.name);\n    public UpdatingCell(ObservableList&lt;Person&gt; people) {\n        super(people);\n        name.addListener((obs, oldName, newName) -&gt; updateText());\n    }\n\n    private void updateText() {\n        if (isEditing()) {\n            setText(null);\n        } else {\n            setText(name.getValue());\n        }\n    }\n\n    @Override\n    public void startEdit() {\n        super.startEdit();\n        updateText();\n    }\n\n    @Override\n    public void updateItem(Person item, boolean empty) {\n        super.updateItem(item, empty);\n        updateText();\n    }\n}\n</code></pre>\n<p>If you cannot use JavaFX 19, for some reason, replace</p>\n<pre><code>ObservableValue&lt;String&gt; name = itemProperty().flatMap(person -&gt; person.name);\n</code></pre>\n<p>with</p>\n<pre><code>ObservableValue&lt;String&gt; name = new StringBinding() {\n    {\n        itemProperty().addListener((obs, oldItem, newItem) -&gt; {\n            if (oldItem != null) {\n                unbind(oldItem.name);\n            }\n            if (newItem != null) {\n                bind(newItem.name);\n            }\n            invalidate();\n        });\n        if (getItem() != null) {\n            bind(getItem().name);\n        }\n    }\n    @Override\n    protected String computeValue() {\n        return getItem() == null ? null : getItem().name.getValue();\n    }\n};\n</code></pre>\n<p>Note there is one other bug in your code, which is somewhat independent. With the setup above, changing the name of a person by using the &quot;Next name&quot; button will not update the cells in the combo box in the editor. To allow this to happen, create the <code>people</code> list with an extractor, e.g.</p>\n<pre><code>ObservableList&lt;Person&gt; people = \n            FXCollections.observableList(List.of(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;)), \n                    person -&gt; new Observable[] {person.name});\n</code></pre>\n"}],"owner":{"account_id":1001833,"reputation":2489,"user_id":1016514,"accept_rate":100,"display_name":"Hans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76953719,"answer_count":3,"score":4,"last_activity_date":1692972710,"creation_date":1692647609,"question_id":76948353,"body_markdown":"I have something like the following simplified two classes, let&#39;s call them `Person` and `Order`. An `Order` has a single `Person`:\r\n\r\n    class Person {\r\n    \tfinal SimpleStringProperty name;\r\n    \r\n    \tPerson(String name) {\r\n    \t\tthis.name = new SimpleStringProperty(name);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn name.get();\r\n    \t}\r\n    }\r\n    \r\n    class Order {\r\n    \tfinal SimpleObjectProperty&lt;Person&gt; person;\r\n    \r\n    \tOrder(Person person) {\r\n    \t\tthis.person = new SimpleObjectProperty&lt;&gt;(person);\r\n    \t}\r\n    }\r\n\r\nI display the `Order`s in a `TableView`, and one column is that of the `Order`&#39;s `Person` (the name of the `Person`):\r\n\r\n    TableView&lt;Order&gt; table = new TableView&lt;&gt;();\r\n    TableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\r\n    col.setCellValueFactory(data -&gt; data.getValue().person);\r\n\r\nWhen I change the name of a `Person`, I would like the person column to reflect this change. I finally got this to work through a `Binding` in the column&#39;s `CellFactory` (as described in https://stackoverflow.com/a/67979303/1016514). However, the column is also editable using a `ComboBoxTableCell`, so double-clicking allows you to select a different person (not a different name, mind you):\r\n\r\n    class UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\r\n    \tpublic UpdatingCell(ObservableList&lt;Person&gt; people) {\r\n    \t\tsuper(people);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void startEdit() {\r\n    \t\ttextProperty().unbind();\r\n    \t\tsuper.startEdit();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void updateItem(Person item, boolean empty) {\r\n    \t\ttextProperty().unbind();\r\n    \t\tsuper.updateItem(item, empty);\r\n    \r\n    \t\tif (empty || item == null) {\r\n    \t\t\tsetText(&quot;&quot;);\r\n    \t\t} else {\r\n    \t\t\ttextProperty().bind(item.name);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWithout the `bind()`, the selection in the combo box works (but does not update the name shown in the column); but with the `bind()`, I get an exception on double-clicking, even though I have explicitly unbound the `textProperty` in `startEdit`:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: UpdatingCell.text : A bound value cannot be set.\r\n    \tat javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:141)\r\n    \tat javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:50)\r\n    \tat javafx.beans.property.StringProperty.setValue(StringProperty.java:71)\r\n    \tat javafx.scene.control.Labeled.setText(Labeled.java:147)\r\n    \tat javafx.scene.control.cell.ComboBoxTableCell.startEdit(ComboBoxTableCell.java:354)\r\n    \tat org.people.UpdatingCell.startEdit(OrderTable.java:50)\r\n    \tat javafx.scene.control.TableCell.updateEditing(TableCell.java:569)\r\n    \tat javafx.scene.control.TableCell.lambda$new$3(TableCell.java:141)\r\n    \tat javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:83)\r\n\r\nDebugging shows that the `textProperty` of the cell has its `Observable` re-set for obscure reasons somewhere deep within the workings of javafx. I would have thought this to be a common use case with a simpler solution, so I am starting to wonder whether I am going in the wrong direction. How can I make the column both reflect changes of a person&#39;s name and allow for the person to be changed?\r\n\r\nHere is a the complete example application where a button changes the name of the person in the order. Double-clicking on the person to change it throws an exception. When you comment out the `bind` in the `UpdatingCell`, you can select a different person, but the name does not update when you click the button.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.ComboBoxTableCell;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    class Person {\r\n    \tfinal SimpleStringProperty name;\r\n    \r\n    \tPerson(String name) {\r\n    \t\tthis.name = new SimpleStringProperty(name);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn name.get();\r\n    \t}\r\n    }\r\n    \r\n    class Order {\r\n    \tfinal SimpleObjectProperty&lt;Person&gt; person;\r\n    \r\n    \tOrder(Person person) {\r\n    \t\tthis.person = new SimpleObjectProperty&lt;&gt;(person);\r\n    \t}\r\n    }\r\n    \r\n    class UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\r\n    \tpublic UpdatingCell(ObservableList&lt;Person&gt; people) {\r\n    \t\tsuper(people);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void startEdit() {\r\n    \t\ttextProperty().unbind();\r\n    \t\tsuper.startEdit();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void updateItem(Person item, boolean empty) {\r\n    \t\ttextProperty().unbind();\r\n    \t\tsuper.updateItem(item, empty);\r\n    \r\n    \t\tif (empty || item == null) {\r\n    \t\t\tsetText(&quot;&quot;);\r\n    \t\t} else {\r\n    \t\t\t// comment out to be able to select person:\r\n    \t\t\ttextProperty().bind(item.name);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    public class OrderTable extends Application {\r\n    \r\n    \tprivate static final List&lt;String&gt; names = Arrays.asList(&quot;Anna&quot;, &quot;Bob&quot;, &quot;Charly&quot;);\r\n    \tprivate static final AtomicInteger nameIndex = new AtomicInteger();\r\n    \r\n    \tprivate static final ObservableList&lt;Person&gt; people = FXCollections\r\n    \t\t\t.observableArrayList(Arrays.asList(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;)));\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage stage) throws Exception {\r\n    \r\n    \t\tOrder order = new Order(people.get(0));\r\n    \t\tObservableList&lt;Order&gt; orders = FXCollections.observableArrayList();\r\n    \t\torders.add(order);\r\n    \r\n    \t\tTableView&lt;Order&gt; table = new TableView&lt;&gt;();\r\n    \t\tTableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\r\n    \t\tcol.setCellValueFactory(data -&gt; data.getValue().person);\r\n    \t\tcol.setCellFactory(tc -&gt; new UpdatingCell(people));\r\n    \t\tcol.setEditable(true);\r\n    \r\n    \t\ttable.getColumns().setAll(Collections.singleton(col));\r\n    \t\ttable.getItems().setAll(orders);\r\n    \t\ttable.setEditable(true);\r\n    \r\n    \t\tButton nextName = new Button(&quot;Next Name&quot;);\r\n    \t\tnextName.setOnAction(event -&gt; {\r\n    \t\t\torder.person.get().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\r\n    \t\t\tSystem.out.println(&quot;people are %s&quot;.formatted(people));\r\n    \t\t\tSystem.out.println(&quot;person is %s&quot;.formatted(order.person.get()));\r\n    \t\t});\r\n    \r\n    \t\tstage.setScene(new Scene(new VBox(table, nextName), 200, 140));\r\n    \t\tstage.show();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Keep an editable TableColumn value updated from property","body":"<p>I have something like the following simplified two classes, let's call them <code>Person</code> and <code>Order</code>. An <code>Order</code> has a single <code>Person</code>:</p>\n<pre><code>class Person {\n    final SimpleStringProperty name;\n\n    Person(String name) {\n        this.name = new SimpleStringProperty(name);\n    }\n\n    @Override\n    public String toString() {\n        return name.get();\n    }\n}\n\nclass Order {\n    final SimpleObjectProperty&lt;Person&gt; person;\n\n    Order(Person person) {\n        this.person = new SimpleObjectProperty&lt;&gt;(person);\n    }\n}\n</code></pre>\n<p>I display the <code>Order</code>s in a <code>TableView</code>, and one column is that of the <code>Order</code>'s <code>Person</code> (the name of the <code>Person</code>):</p>\n<pre><code>TableView&lt;Order&gt; table = new TableView&lt;&gt;();\nTableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\ncol.setCellValueFactory(data -&gt; data.getValue().person);\n</code></pre>\n<p>When I change the name of a <code>Person</code>, I would like the person column to reflect this change. I finally got this to work through a <code>Binding</code> in the column's <code>CellFactory</code> (as described in <a href=\"https://stackoverflow.com/a/67979303/1016514\">https://stackoverflow.com/a/67979303/1016514</a>). However, the column is also editable using a <code>ComboBoxTableCell</code>, so double-clicking allows you to select a different person (not a different name, mind you):</p>\n<pre><code>class UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\n    public UpdatingCell(ObservableList&lt;Person&gt; people) {\n        super(people);\n    }\n\n    @Override\n    public void startEdit() {\n        textProperty().unbind();\n        super.startEdit();\n    }\n\n    @Override\n    public void updateItem(Person item, boolean empty) {\n        textProperty().unbind();\n        super.updateItem(item, empty);\n\n        if (empty || item == null) {\n            setText(&quot;&quot;);\n        } else {\n            textProperty().bind(item.name);\n        }\n    }\n}\n</code></pre>\n<p>Without the <code>bind()</code>, the selection in the combo box works (but does not update the name shown in the column); but with the <code>bind()</code>, I get an exception on double-clicking, even though I have explicitly unbound the <code>textProperty</code> in <code>startEdit</code>:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: UpdatingCell.text : A bound value cannot be set.\n    at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:141)\n    at javafx.beans.property.StringPropertyBase.set(StringPropertyBase.java:50)\n    at javafx.beans.property.StringProperty.setValue(StringProperty.java:71)\n    at javafx.scene.control.Labeled.setText(Labeled.java:147)\n    at javafx.scene.control.cell.ComboBoxTableCell.startEdit(ComboBoxTableCell.java:354)\n    at org.people.UpdatingCell.startEdit(OrderTable.java:50)\n    at javafx.scene.control.TableCell.updateEditing(TableCell.java:569)\n    at javafx.scene.control.TableCell.lambda$new$3(TableCell.java:141)\n    at javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:83)\n</code></pre>\n<p>Debugging shows that the <code>textProperty</code> of the cell has its <code>Observable</code> re-set for obscure reasons somewhere deep within the workings of javafx. I would have thought this to be a common use case with a simpler solution, so I am starting to wonder whether I am going in the wrong direction. How can I make the column both reflect changes of a person's name and allow for the person to be changed?</p>\n<p>Here is a the complete example application where a button changes the name of the person in the order. Double-clicking on the person to change it throws an exception. When you comment out the <code>bind</code> in the <code>UpdatingCell</code>, you can select a different person, but the name does not update when you click the button.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.ComboBoxTableCell;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nclass Person {\n    final SimpleStringProperty name;\n\n    Person(String name) {\n        this.name = new SimpleStringProperty(name);\n    }\n\n    @Override\n    public String toString() {\n        return name.get();\n    }\n}\n\nclass Order {\n    final SimpleObjectProperty&lt;Person&gt; person;\n\n    Order(Person person) {\n        this.person = new SimpleObjectProperty&lt;&gt;(person);\n    }\n}\n\nclass UpdatingCell extends ComboBoxTableCell&lt;Order, Person&gt; {\n    public UpdatingCell(ObservableList&lt;Person&gt; people) {\n        super(people);\n    }\n\n    @Override\n    public void startEdit() {\n        textProperty().unbind();\n        super.startEdit();\n    }\n\n    @Override\n    public void updateItem(Person item, boolean empty) {\n        textProperty().unbind();\n        super.updateItem(item, empty);\n\n        if (empty || item == null) {\n            setText(&quot;&quot;);\n        } else {\n            // comment out to be able to select person:\n            textProperty().bind(item.name);\n        }\n    }\n}\n\npublic class OrderTable extends Application {\n\n    private static final List&lt;String&gt; names = Arrays.asList(&quot;Anna&quot;, &quot;Bob&quot;, &quot;Charly&quot;);\n    private static final AtomicInteger nameIndex = new AtomicInteger();\n\n    private static final ObservableList&lt;Person&gt; people = FXCollections\n            .observableArrayList(Arrays.asList(new Person(&quot;Zoe&quot;), new Person(&quot;Yvonne&quot;), new Person(&quot;Xavier&quot;)));\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        Order order = new Order(people.get(0));\n        ObservableList&lt;Order&gt; orders = FXCollections.observableArrayList();\n        orders.add(order);\n\n        TableView&lt;Order&gt; table = new TableView&lt;&gt;();\n        TableColumn&lt;Order, Person&gt; col = new TableColumn&lt;&gt;(&quot;Person&quot;);\n        col.setCellValueFactory(data -&gt; data.getValue().person);\n        col.setCellFactory(tc -&gt; new UpdatingCell(people));\n        col.setEditable(true);\n\n        table.getColumns().setAll(Collections.singleton(col));\n        table.getItems().setAll(orders);\n        table.setEditable(true);\n\n        Button nextName = new Button(&quot;Next Name&quot;);\n        nextName.setOnAction(event -&gt; {\n            order.person.get().name.set(names.get(nameIndex.getAndIncrement() % names.size()));\n            System.out.println(&quot;people are %s&quot;.formatted(people));\n            System.out.println(&quot;person is %s&quot;.formatted(order.person.get()));\n        });\n\n        stage.setScene(new Scene(new VBox(table, nextName), 200, 140));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","selenium-webdriver","appium"],"answers":[{"tags":[],"owner":{"account_id":28064486,"reputation":45,"user_id":21438080,"display_name":"Ostan Dsouza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692972573,"creation_date":1692972573,"answer_id":76977986,"question_id":76839305,"body_markdown":"You can achieve this in 2 ways.\r\n 1. **W3C action API:** \r\n    If you prefer generic solution to work on multiple platform then W3C\r\n    action is a way to go. W3C Actions (WebDriver Actions) in Appium refer to a\r\n    standardized way of performing user interactions and gestures on\r\n    mobile applications, following the WebDriver specification. Additional \r\n    info you can find [here][1].\r\n    \r\n    Here&#39;s an example to construct horizontal scroll using actions API\r\n\r\n    ```\r\n    WebElement slider = \r\n    driver.findElement(AppiumBy.accessibilityId(&quot;slider&quot;));\r\n\r\n    Point source = slider.getLocation();\r\n\r\n    PointerInput finger = new PointerInput(PointerInput.Kind.TOUCH, \r\n    &quot;finger&quot;);\r\n    Sequence sequence = new Sequence(finger, 1);\r\n\r\n    sequence.addAction(finger.createPointerMove(ofMillis(0),\r\n        PointerInput.Origin.viewport(), source.x, source.y + 400));\r\n    sequence.addAction(\r\n        finger.createPointerDown(PointerInput.MouseButton.MIDDLE.asArg()));\r\n    sequence.addAction(new Pause(finger, ofMillis(600)));\r\n    sequence.addAction(finger.createPointerMove(ofMillis(600),\r\n        PointerInput.Origin.viewport(), source.x, source.y));\r\n    sequence.addAction(\r\n        finger.createPointerUp(PointerInput.MouseButton.MIDDLE.asArg()));\r\n    \r\n    driver.perform(singletonList(sequence));\r\n\r\n\r\n 2. **Android specific gestures:**\r\n    In Appium, you can perform various Android-specific gestures to simulate \r\n    user interactions on Android devices. These gestures are used to test \r\n    the functionality and behavior of mobile applications. Additional \r\n    info you can find [here][2].\r\n    \r\n    Here&#39;s an example to construct horizontal scroll using android specific \r\n    gestures\r\n\r\n    ```\r\n    driver.findElement(AppiumBy.accessibilityId(&quot;slider&quot;));\r\n    Point source = slider.getLocation();\r\n\r\n    driver.executeScript(&quot;mobile: scrollGesture&quot;, ImmutableMap.of(&quot;left&quot;, \r\n    source.x, &quot;top&quot;, source.y + 400, &quot;width&quot;, source.x, &quot;height&quot;, source.y,\r\n    &quot;direction&quot;, &quot;down&quot;,&quot;percent&quot;, 1)); \r\n\r\n\r\n  [1]: https://www.w3.org/TR/webdriver2/#dfn-actions\r\n  [2]: https://github.com/appium/appium-uiautomator2-driver/blob/master/docs/android-mobile-gestures.md","title":"Appium Java: How do I use the TouchAction class or something equivalent with AndroidDriver?","body":"<p>You can achieve this in 2 ways.</p>\n<ol>\n<li><p><strong>W3C action API:</strong>\nIf you prefer generic solution to work on multiple platform then W3C\naction is a way to go. W3C Actions (WebDriver Actions) in Appium refer to a\nstandardized way of performing user interactions and gestures on\nmobile applications, following the WebDriver specification. Additional\ninfo you can find <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here's an example to construct horizontal scroll using actions API</p>\n<pre><code>WebElement slider = \ndriver.findElement(AppiumBy.accessibilityId(&quot;slider&quot;));\n\nPoint source = slider.getLocation();\n\nPointerInput finger = new PointerInput(PointerInput.Kind.TOUCH, \n&quot;finger&quot;);\nSequence sequence = new Sequence(finger, 1);\n\nsequence.addAction(finger.createPointerMove(ofMillis(0),\n    PointerInput.Origin.viewport(), source.x, source.y + 400));\nsequence.addAction(\n    finger.createPointerDown(PointerInput.MouseButton.MIDDLE.asArg()));\nsequence.addAction(new Pause(finger, ofMillis(600)));\nsequence.addAction(finger.createPointerMove(ofMillis(600),\n    PointerInput.Origin.viewport(), source.x, source.y));\nsequence.addAction(\n    finger.createPointerUp(PointerInput.MouseButton.MIDDLE.asArg()));\n\ndriver.perform(singletonList(sequence));\n\n\n</code></pre>\n</li>\n<li><p><strong>Android specific gestures:</strong>\nIn Appium, you can perform various Android-specific gestures to simulate\nuser interactions on Android devices. These gestures are used to test\nthe functionality and behavior of mobile applications. Additional\ninfo you can find <a href=\"https://github.com/appium/appium-uiautomator2-driver/blob/master/docs/android-mobile-gestures.md\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here's an example to construct horizontal scroll using android specific\ngestures</p>\n<pre><code>driver.findElement(AppiumBy.accessibilityId(&quot;slider&quot;));\nPoint source = slider.getLocation();\n\ndriver.executeScript(&quot;mobile: scrollGesture&quot;, ImmutableMap.of(&quot;left&quot;, \nsource.x, &quot;top&quot;, source.y + 400, &quot;width&quot;, source.x, &quot;height&quot;, source.y,\n&quot;direction&quot;, &quot;down&quot;,&quot;percent&quot;, 1)); \n\n\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692972573,"creation_date":1691186379,"question_id":76839305,"body_markdown":"I am using Appium Java client 8.5.1 and selenium version 4.10.0. I am trying to automate having the user touch a point on the screen (specified by me). I tried using this line:\r\n\r\n```\r\nWebDriver theDriver = new AndroidDriver(url, cap);\r\nTouchAction action = new TouchAction(theDriver);\r\n```\r\nHowever, I get an error that says that &quot;The constructor TouchAction(WebDriver) is undefined&quot;.\r\n\r\nThe PerformsTouchAction class is deprecated, and to be honest, the TouchAction class is too.\r\n\r\nI found something called TapOptions, but it doesn&#39;t take a webdriver into its constructor.\r\n\r\n```\r\nTapOptions action = new TapOptions();\r\n``` \r\nWithout taking the driver in, how would I apply this to my automation? Is there some alternative way to automating the ability to tap a specified (x,y) point on the screen?","title":"Appium Java: How do I use the TouchAction class or something equivalent with AndroidDriver?","body":"<p>I am using Appium Java client 8.5.1 and selenium version 4.10.0. I am trying to automate having the user touch a point on the screen (specified by me). I tried using this line:</p>\n<pre><code>WebDriver theDriver = new AndroidDriver(url, cap);\nTouchAction action = new TouchAction(theDriver);\n</code></pre>\n<p>However, I get an error that says that &quot;The constructor TouchAction(WebDriver) is undefined&quot;.</p>\n<p>The PerformsTouchAction class is deprecated, and to be honest, the TouchAction class is too.</p>\n<p>I found something called TapOptions, but it doesn't take a webdriver into its constructor.</p>\n<pre><code>TapOptions action = new TapOptions();\n</code></pre>\n<p>Without taking the driver in, how would I apply this to my automation? Is there some alternative way to automating the ability to tap a specified (x,y) point on the screen?</p>\n"},{"tags":["java","filesystems","nio"],"comments":[{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1542814431,"post_id":53415392,"comment_id":93705314,"body_markdown":"https://stackoverflow.com/questions/1390592/check-if-file-is-already-open?answertab=votes#tab-top ?","body":"<a href=\"https://stackoverflow.com/questions/1390592/check-if-file-is-already-open?answertab=votes#tab-top\" title=\"check if file is already open\">stackoverflow.com/questions/1390592/&hellip;</a> ?"},{"owner":{"account_id":14117115,"reputation":410,"user_id":10198627,"display_name":"a.ilchinger"},"score":0,"creation_date":1542814844,"post_id":53415392,"comment_id":93705587,"body_markdown":"I don&#39;t see how this answers my question.","body":"I don&#39;t see how this answers my question."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1542814949,"post_id":53415392,"comment_id":93705648,"body_markdown":"Usually the copier program will keep a file open. If the file is not open, then it&#39;s likely that the &quot;copy&quot; is finished. I don&#39;t know if it&#39;s the case for your copy program.","body":"Usually the copier program will keep a file open. If the file is not open, then it&#39;s likely that the &quot;copy&quot; is finished. I don&#39;t know if it&#39;s the case for your copy program."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1542816107,"post_id":53415392,"comment_id":93706387,"body_markdown":"Another approach is to watch files with a particular extension or naming convention.  The process creating the file initially names the file something like _file1.in.progress_, and the last step of that process renames the file to something like _file1.dat_.  Similarly, another approach is for the creator process to add a 0 byte flag file, for example when _file1.dat_ is complete the process also adds _file1.ready_ as a flag for your process.","body":"Another approach is to watch files with a particular extension or naming convention.  The process creating the file initially names the file something like <i>file1.in.progress</i>, and the last step of that process renames the file to something like <i>file1.dat</i>.  Similarly, another approach is for the creator process to add a 0 byte flag file, for example when <i>file1.dat</i> is complete the process also adds <i>file1.ready</i> as a flag for your process."},{"owner":{"account_id":14117115,"reputation":410,"user_id":10198627,"display_name":"a.ilchinger"},"score":0,"creation_date":1542819646,"post_id":53415392,"comment_id":93708579,"body_markdown":"These are all good ideas, and rather simple too. Unfortunately, I cannot control the copying process. There are multiple instances of this software running and the &quot;ingest&quot; is different everywhere and not under my supervision.","body":"These are all good ideas, and rather simple too. Unfortunately, I cannot control the copying process. There are multiple instances of this software running and the &quot;ingest&quot; is different everywhere and not under my supervision."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1542820526,"post_id":53415392,"comment_id":93709027,"body_markdown":"[WatchService](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/WatchService.html) is specifically designed to watch for changes to a directory.  As in, `WatchKey newFileKey = dir.register(dir.getFileSystem().newWatchService(), StandardWatchEventKinds.ENTRY_CREATE)`.","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/WatchService.html\" rel=\"nofollow noreferrer\">WatchService</a> is specifically designed to watch for changes to a directory.  As in, <code>WatchKey newFileKey = dir.register(dir.getFileSystem().newWatchService(), StandardWatchEventKinds.ENTRY_CREATE)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692972523,"creation_date":1542815900,"answer_id":53415932,"question_id":53415392,"body_markdown":"It is not safe to assume that a file is complete if it is in a directory. There could still be a lock associated with another process that could be writing to it or holds the lock for a different reason.\r\n\r\nI use the following method to check if a file is ready (this uses java 1.8)\r\n\r\n    public static boolean isFileReady(Path file) {\r\n      try(FileChannel ch = FileChannel.open(file, StandardOpenOption.WRITE, StandardOpenOption.APPEND); FileLock lock = ch.tryLock()) {\r\n        if (lock == null) return false;\r\n        return true;\r\n      } catch (IOException ex) {\r\n        return false;\r\n      }\r\n    }\r\n\r\nThis will try to open the file for appending (open for normal writing will erase all its content) and create a lock. If the lock is established then we are good to go otherwise we are not. ","title":"Java: Make sure Files.list() returns only &quot;complete&quot; files","body":"<p>It is not safe to assume that a file is complete if it is in a directory. There could still be a lock associated with another process that could be writing to it or holds the lock for a different reason.</p>\n<p>I use the following method to check if a file is ready (this uses java 1.8)</p>\n<pre><code>public static boolean isFileReady(Path file) {\n  try(FileChannel ch = FileChannel.open(file, StandardOpenOption.WRITE, StandardOpenOption.APPEND); FileLock lock = ch.tryLock()) {\n    if (lock == null) return false;\n    return true;\n  } catch (IOException ex) {\n    return false;\n  }\n}\n</code></pre>\n<p>This will try to open the file for appending (open for normal writing will erase all its content) and create a lock. If the lock is established then we are good to go otherwise we are not.</p>\n"}],"owner":{"account_id":14117115,"reputation":410,"user_id":10198627,"display_name":"a.ilchinger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692972523,"creation_date":1542814204,"question_id":53415392,"body_markdown":"In my application I watch a directory for new files.\r\n\r\nI keep an array of current files obtained with `Files.list(dir)`, process this list one file after another, and then reload the directory with `Files.list()` again.\r\n\r\nWhile I have never encountered the problem myself, a coworker told me that the predecessor software had an additional check that the file is older than 3 seconds (calculated with `(Files.getLastModifiedTime(path) - System.currentTimeMillis()) &gt; 3000`) because there were issues that incomplete transferred (or better: not yet fully transferred) files went into processing.\r\n\r\nCan I make any assumptions that the files returned by `Files.list()` were copied fully into the directory I am watching?\r\n\r\nIs there a cleaner way to check if a file is complete? The 3 seconds check is more like a hack, a file with multiple GB in size could be copied over a slow connection (network) and may not be fully transfered even after 3s have passed.","title":"Java: Make sure Files.list() returns only &quot;complete&quot; files","body":"<p>In my application I watch a directory for new files.</p>\n\n<p>I keep an array of current files obtained with <code>Files.list(dir)</code>, process this list one file after another, and then reload the directory with <code>Files.list()</code> again.</p>\n\n<p>While I have never encountered the problem myself, a coworker told me that the predecessor software had an additional check that the file is older than 3 seconds (calculated with <code>(Files.getLastModifiedTime(path) - System.currentTimeMillis()) &gt; 3000</code>) because there were issues that incomplete transferred (or better: not yet fully transferred) files went into processing.</p>\n\n<p>Can I make any assumptions that the files returned by <code>Files.list()</code> were copied fully into the directory I am watching?</p>\n\n<p>Is there a cleaner way to check if a file is complete? The 3 seconds check is more like a hack, a file with multiple GB in size could be copied over a slow connection (network) and may not be fully transfered even after 3s have passed.</p>\n"},{"tags":["java","tomcat","hashmap","base64"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1692969650,"post_id":76977603,"comment_id":135701164,"body_markdown":"Running code doesn&#39;t &quot;suddenly&quot; change its behaviour. Something must have changed. Are you sure there hasn&#39;t been a deploy of a new version?","body":"Running code doesn&#39;t &quot;suddenly&quot; change its behaviour. Something must have changed. Are you sure there hasn&#39;t been a deploy of a new version?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1692969816,"post_id":76977603,"comment_id":135701211,"body_markdown":"This looks like *something* sets a different type of value to those fields and that then gets serialized suboptimally (the Base64 in your sample decodes to a valid image URL). Where are the `image1` and `image2` fields defined and/or filled? Show us some code that&#39;s related to this.","body":"This looks like <i>something</i> sets a different type of value to those fields and that then gets serialized suboptimally (the Base64 in your sample decodes to a valid image URL). Where are the <code>image1</code> and <code>image2</code> fields defined and/or filled? Show us some code that&#39;s related to this."},{"owner":{"account_id":22590339,"reputation":1,"user_id":16773562,"display_name":"holy potato"},"score":0,"creation_date":1692970848,"post_id":76977603,"comment_id":135701481,"body_markdown":"Thank you for your feedback. I checked the publish history log with LTZB of our company, and the release time does not coincide with the time the error occurred.@Jorn","body":"Thank you for your feedback. I checked the publish history log with LTZB of our company, and the release time does not coincide with the time the error occurred.@Jorn"},{"owner":{"account_id":22590339,"reputation":1,"user_id":16773562,"display_name":"holy potato"},"score":0,"creation_date":1692970999,"post_id":76977603,"comment_id":135701514,"body_markdown":"Thank you for your feedback. I will show some pseudo code later after get home.@JoachimSauer","body":"Thank you for your feedback. I will show some pseudo code later after get home.@JoachimSauer"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692974983,"post_id":76977603,"comment_id":135702545,"body_markdown":"Make sure the fields of some backing class have not be incorrectly marked `static`","body":"Make sure the fields of some backing class have not be incorrectly marked <code>static</code>"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1693240978,"post_id":76977603,"comment_id":135731486,"body_markdown":"Looks like a JSON serialization issue, if the entity classes have not changes, then my guess (and just a guess) would be some custom serializer was being used before. Check a few things, if the code is using Jackson/Other JSON library, if there were any custom serializer or other mechanism being used before to convert the object value of the Base64 encoded to decoded. My hunch would be some entity class annotation is being lef out","body":"Looks like a JSON serialization issue, if the entity classes have not changes, then my guess (and just a guess) would be some custom serializer was being used before. Check a few things, if the code is using Jackson/Other JSON library, if there were any custom serializer or other mechanism being used before to convert the object value of the Base64 encoded to decoded. My hunch would be some entity class annotation is being lef out"}],"owner":{"account_id":22590339,"reputation":1,"user_id":16773562,"display_name":"holy potato"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692972406,"creation_date":1692969516,"question_id":76977603,"body_markdown":"An confusing error has occurred to one of my containers running stably in production environment. All values of type String of all HashMap became {&quot;bytes&quot;:&quot;&quot;,&quot;empty&quot;:false} suddenlybut entity classes are not affected in any way.\r\nThis is part of my log data:\r\n\r\n    {\r\n        &quot;image1&quot;:{\r\n            &quot;bytes&quot;:&quot;dGhpcyBpcyBpbWFnZSAxIHVybA==&quot;,\r\n            &quot;empty&quot;:false\r\n        },\r\n        &quot;image2&quot;:{\r\n            &quot;bytes&quot;:&quot;dGhpcyBpcyBpbWFnZSAxIHVybA==&quot;,\r\n            &quot;empty&quot;:false\r\n        }\r\n    }\r\n\r\n, and the data should be like this :\r\n\r\n    {\r\n        &quot;image1&quot;:&quot;this is image 1 url&quot;,\r\n        &quot;image2&quot;:&quot;this is image 2 url&quot;\r\n    }\r\n\r\n. I guess the data has been Base64, but I don&#39;t know any details and how to troubleshoot where the problem is.\r\n\r\nAnd, please forgive my poor English.\r\n\r\nCompared with the configuration files of other machines, but no difference.\r\nThe error occurred during a http request. The response and part of logs was correct, but part of asynchronous log was error. \r\nAfter the error occurred, all of data became wrong.\r\nI don&#39;t know where the problem is, and I cannot restart my machine to preserve the site.\r\n\r\n\r\n","title":"All values of type String of all HashMap became {&quot;bytes&quot;:&quot;&quot;,&quot;empty&quot;:false} suddenly","body":"<p>An confusing error has occurred to one of my containers running stably in production environment. All values of type String of all HashMap became {&quot;bytes&quot;:&quot;&quot;,&quot;empty&quot;:false} suddenlybut entity classes are not affected in any way.\nThis is part of my log data:</p>\n<pre><code>{\n    &quot;image1&quot;:{\n        &quot;bytes&quot;:&quot;dGhpcyBpcyBpbWFnZSAxIHVybA==&quot;,\n        &quot;empty&quot;:false\n    },\n    &quot;image2&quot;:{\n        &quot;bytes&quot;:&quot;dGhpcyBpcyBpbWFnZSAxIHVybA==&quot;,\n        &quot;empty&quot;:false\n    }\n}\n</code></pre>\n<p>, and the data should be like this :</p>\n<pre><code>{\n    &quot;image1&quot;:&quot;this is image 1 url&quot;,\n    &quot;image2&quot;:&quot;this is image 2 url&quot;\n}\n</code></pre>\n<p>. I guess the data has been Base64, but I don't know any details and how to troubleshoot where the problem is.</p>\n<p>And, please forgive my poor English.</p>\n<p>Compared with the configuration files of other machines, but no difference.\nThe error occurred during a http request. The response and part of logs was correct, but part of asynchronous log was error.\nAfter the error occurred, all of data became wrong.\nI don't know where the problem is, and I cannot restart my machine to preserve the site.</p>\n"},{"tags":["java","spring","azure","maven","deployment"],"comments":[{"owner":{"account_id":417729,"reputation":6909,"user_id":793891,"display_name":"CSharpRocks"},"score":0,"creation_date":1692959901,"post_id":76974462,"comment_id":135698987,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":23542400,"reputation":72,"user_id":17586397,"display_name":"Suresh Ganesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692972266,"creation_date":1692972266,"answer_id":76977941,"question_id":76974462,"body_markdown":"Use ingress controller and services in azure to define your own ports[different] in same AKS container.\r\nAssumption: It is assumed that you are using Azure Kubernetes Services[This details is not provided from your side ]","title":"Deploying SpringBoot Multi Module Maven Project in Azure","body":"<p>Use ingress controller and services in azure to define your own ports[different] in same AKS container.\nAssumption: It is assumed that you are using Azure Kubernetes Services[This details is not provided from your side ]</p>\n"}],"owner":{"account_id":21873027,"reputation":1,"user_id":16162315,"display_name":"Ahmed Ajmine Nehal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692972266,"creation_date":1692941338,"question_id":76974462,"body_markdown":"I have a Maven project which have 3 modules. Three of them are SpringBoot projects. Three modules are Customer, Shop and Library. Here Customer and Shop module runs on different ports in same server and shares packages from Library module. The Library module has all the model classes, Repository classes and Service classes. Here is the project Structure Below,\r\n\r\n[Project Structure](https://i.stack.imgur.com/9OiR0.png)\r\n\r\n\r\n\r\nNow, I am unable to find any way to deploy this Spring project in Azure. How can I deploy this multi module spring project having different ports in same server in azure?","title":"Deploying SpringBoot Multi Module Maven Project in Azure","body":"<p>I have a Maven project which have 3 modules. Three of them are SpringBoot projects. Three modules are Customer, Shop and Library. Here Customer and Shop module runs on different ports in same server and shares packages from Library module. The Library module has all the model classes, Repository classes and Service classes. Here is the project Structure Below,</p>\n<p><a href=\"https://i.stack.imgur.com/9OiR0.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>Now, I am unable to find any way to deploy this Spring project in Azure. How can I deploy this multi module spring project having different ports in same server in azure?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692971169,"post_id":76977785,"comment_id":135701555,"body_markdown":"`break` works the way you expect it to. There must be something else wrong in your code. You should use the debugger in your IDE to find out what that is. I&#39;d start by considering why the inner loop has two different ways to end: The counter, and the `break`.","body":"<code>break</code> works the way you expect it to. There must be something else wrong in your code. You should use the debugger in your IDE to find out what that is. I&#39;d start by considering why the inner loop has two different ways to end: The counter, and the <code>break</code>."},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":1,"creation_date":1692971235,"post_id":76977785,"comment_id":135701573,"body_markdown":"It might be practical to share some input and provide the expected output. Then, it will be much easier to determine what wrong with the code.","body":"It might be practical to share some input and provide the expected output. Then, it will be much easier to determine what wrong with the code."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692974586,"post_id":76977785,"comment_id":135702419,"body_markdown":"The problem is that `break;` only stops reading menu items for the *current* restaurant.  It exists the inner loop, but then the outer loop continues.  Therefore, if a menu contains &quot;pea soup&quot; and &quot;pancakes&quot; followed by other menu items, the next call to `int menuLength = sc.nextInt();` will try to interpret a menu item as if it were an int.  Perhaps after the inner loop completes, you should check the value of `rightStore`?","body":"The problem is that <code>break;</code> only stops reading menu items for the <i>current</i> restaurant.  It exists the inner loop, but then the outer loop continues.  Therefore, if a menu contains &quot;pea soup&quot; and &quot;pancakes&quot; followed by other menu items, the next call to <code>int menuLength = sc.nextInt();</code> will try to interpret a menu item as if it were an int.  Perhaps after the inner loop completes, you should check the value of <code>rightStore</code>?"}],"answers":[{"tags":[],"owner":{"account_id":29271617,"reputation":62,"user_id":22426243,"display_name":"NsoundarMCA"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692972004,"creation_date":1692972004,"answer_id":76977908,"question_id":76977785,"body_markdown":"Remove sc.nextLine() as shown below since it&#39;s not required, it works as you expected.\r\n\r\n\t\tString rightStore = null;\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint restaurants = sc.nextInt();\r\n\t\t//sc.nextLine();\r\n\r\n\t\tfor (int i = 0; i &lt; restaurants; i++)\r\n\t\t{\r\n\t\t\tint menuLength = sc.nextInt();\r\n\t\t\tsc.nextLine();\r\n\t\t\tString restaurantName = sc.nextLine();\r\n\t\t\tboolean[] hasRequiredItems = { false, false };\r\n\r\n\t\t\tfor (int j = 0; j &lt; menuLength; j++)\r\n\t\t\t{\r\n\t\t\t\tString item = sc.nextLine();\r\n\r\n\t\t\t\tif (item.equals(&quot;pea soup&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\thasRequiredItems[0] = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item.equals(&quot;pancakes&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\thasRequiredItems[1] = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (hasRequiredItems[0] &amp;&amp; hasRequiredItems[1])\r\n\t\t\t\t{\r\n\t\t\t\t\trightStore = restaurantName;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (rightStore != null)\r\n\t\t{\r\n\t\t\tSystem.out.println(rightStore);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Anywhere is fine I guess&quot;);\r\n\t\t}\r\n\r\n\t","title":"Why does the the break line still allow for String item = sc.nextLine(); to be executed but the subsequent conditional arguments to be ignored?","body":"<p>Remove sc.nextLine() as shown below since it's not required, it works as you expected.</p>\n<pre><code>    String rightStore = null;\n    Scanner sc = new Scanner(System.in);\n    int restaurants = sc.nextInt();\n    //sc.nextLine();\n\n    for (int i = 0; i &lt; restaurants; i++)\n    {\n        int menuLength = sc.nextInt();\n        sc.nextLine();\n        String restaurantName = sc.nextLine();\n        boolean[] hasRequiredItems = { false, false };\n\n        for (int j = 0; j &lt; menuLength; j++)\n        {\n            String item = sc.nextLine();\n\n            if (item.equals(&quot;pea soup&quot;))\n            {\n                hasRequiredItems[0] = true;\n            }\n\n            if (item.equals(&quot;pancakes&quot;))\n            {\n                hasRequiredItems[1] = true;\n            }\n\n            if (hasRequiredItems[0] &amp;&amp; hasRequiredItems[1])\n            {\n                rightStore = restaurantName;\n                break;\n            }\n        }\n    }\n\n    if (rightStore != null)\n    {\n        System.out.println(rightStore);\n    }\n    else\n    {\n        System.out.println(&quot;Anywhere is fine I guess&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":29298095,"reputation":1,"user_id":22446980,"display_name":"Darren Seah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692972004,"creation_date":1692970994,"question_id":76977785,"body_markdown":"\r\n```\r\nimport java.util.*;\r\n\r\npublic class PeaImproved {\r\n    public static void main(String[] args) {\r\n        String rightStore = null;\r\n        Scanner sc = new Scanner(System.in);\r\n        int restaurants = sc.nextInt(); \r\n        sc.nextLine(); \r\n        \r\n        for (int i = 0; i &lt; restaurants; i++) {\r\n            int menuLength = sc.nextInt(); \r\n            sc.nextLine();\r\n            String restaurantName = sc.nextLine(); \r\n            boolean[] hasRequiredItems = {false, false};\r\n\r\n            for (int j = 0; j &lt; menuLength; j++) {\r\n                String item = sc.nextLine();\r\n                \r\n                if (item.equals(&quot;pea soup&quot;)) {\r\n                    hasRequiredItems[0] = true;\r\n                }\r\n                \r\n                if (item.equals(&quot;pancakes&quot;)) {\r\n                    hasRequiredItems[1] = true;\r\n                }\r\n\r\n                if (hasRequiredItems[0] &amp;&amp; hasRequiredItems[1]) {\r\n                    rightStore = restaurantName;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        if (rightStore != null) {\r\n            System.out.println(rightStore);\r\n        } else {\r\n            System.out.println(&quot;Anywhere is fine I guess&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI expected the inner for loop to be completely executed. This is the whole problem:\r\n\r\nThe first line of input contains a number n, the number of restaurants. Then follow the n restaurant menus. Each menu starts with a line containing a number k, the number of menu items for the day. The remainder of the menu consists of k+1 lines, each containing a nonempty string of at most \r\n100 characters. The first of these lines is the restaurant name, and the rest are menu items. Strings consist only of lower case letters a-z and spaces, and they always start and end with a letter. All restaurant names are unique.\r\n\r\nOutput\r\nOutput a single line. If at least one restaurant has both pea soup and pancakes as menu items, output the name of the first of those restaurants, by the order in which the restaurants appear in the input. Otherwise, output Anywhere is fine I guess.","title":"Why does the the break line still allow for String item = sc.nextLine(); to be executed but the subsequent conditional arguments to be ignored?","body":"<pre><code>import java.util.*;\n\npublic class PeaImproved {\n    public static void main(String[] args) {\n        String rightStore = null;\n        Scanner sc = new Scanner(System.in);\n        int restaurants = sc.nextInt(); \n        sc.nextLine(); \n        \n        for (int i = 0; i &lt; restaurants; i++) {\n            int menuLength = sc.nextInt(); \n            sc.nextLine();\n            String restaurantName = sc.nextLine(); \n            boolean[] hasRequiredItems = {false, false};\n\n            for (int j = 0; j &lt; menuLength; j++) {\n                String item = sc.nextLine();\n                \n                if (item.equals(&quot;pea soup&quot;)) {\n                    hasRequiredItems[0] = true;\n                }\n                \n                if (item.equals(&quot;pancakes&quot;)) {\n                    hasRequiredItems[1] = true;\n                }\n\n                if (hasRequiredItems[0] &amp;&amp; hasRequiredItems[1]) {\n                    rightStore = restaurantName;\n                    break;\n                }\n            }\n        }\n        \n        if (rightStore != null) {\n            System.out.println(rightStore);\n        } else {\n            System.out.println(&quot;Anywhere is fine I guess&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I expected the inner for loop to be completely executed. This is the whole problem:</p>\n<p>The first line of input contains a number n, the number of restaurants. Then follow the n restaurant menus. Each menu starts with a line containing a number k, the number of menu items for the day. The remainder of the menu consists of k+1 lines, each containing a nonempty string of at most\n100 characters. The first of these lines is the restaurant name, and the rest are menu items. Strings consist only of lower case letters a-z and spaces, and they always start and end with a letter. All restaurant names are unique.</p>\n<p>Output\nOutput a single line. If at least one restaurant has both pea soup and pancakes as menu items, output the name of the first of those restaurants, by the order in which the restaurants appear in the input. Otherwise, output Anywhere is fine I guess.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":1882348,"reputation":1653,"user_id":1702242,"accept_rate":56,"display_name":"pmverma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692971869,"creation_date":1692971869,"answer_id":76977891,"question_id":76954096,"body_markdown":"I found a workaround to achieve this by implementing `HttpServiceArgumentResolver` and overriding `resolve` method.\r\n\r\nThe following is how body is read and header is added.\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class MySignatureHeaderResolver implements HttpServiceArgumentResolver {\r\n    \t@Override\r\n    \tpublic boolean resolve(@Nullable Object argument, MethodParameter parameter,\r\n    \t\t\tHttpRequestValues.Builder requestValues) {\r\n    \t\tObject requestBody = argument;\r\n    \t\tRequestBody annot = parameter.getParameterAnnotation(RequestBody.class);\r\n    \t\tif (annot == null) {\r\n    \t\t\trequestBody = &quot;&quot;; \r\n    \t\t}\r\n    \t\tString signatureValue = signRequest(timestamp + requestBody);\r\n    \t\trequestValues.addHeader(&quot;signature&quot;, signatureValue);\r\n    \t\t\r\n    \t\treturn false; // always return false, otherwise a correct request won&#39;t created.\r\n    \t}\r\n    }\r\n\r\nAnd then register this as a custom argument resolver (which is not in actual) to the http proxy factory.\r\n\r\n\t\r\n\r\n    @Bean\r\n    \tpublic HttpServiceProxyFactory httpServiceProxyFactory(\r\n    \t\t\tHttpServiceProxyFactory.Builder httpServiceProxyFactoryBuilder) {\r\n    \t\thttpServiceProxyFactoryBuilder.customArgumentResolver(mySignatureHeaderResolver);\r\n    \t\treturn httpServiceProxyFactoryBuilder.build();\r\n    \t}","title":"Accessing ClientRequest body in ExchangeFilterFunction","body":"<p>I found a workaround to achieve this by implementing <code>HttpServiceArgumentResolver</code> and overriding <code>resolve</code> method.</p>\n<p>The following is how body is read and header is added.</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class MySignatureHeaderResolver implements HttpServiceArgumentResolver {\n    @Override\n    public boolean resolve(@Nullable Object argument, MethodParameter parameter,\n            HttpRequestValues.Builder requestValues) {\n        Object requestBody = argument;\n        RequestBody annot = parameter.getParameterAnnotation(RequestBody.class);\n        if (annot == null) {\n            requestBody = &quot;&quot;; \n        }\n        String signatureValue = signRequest(timestamp + requestBody);\n        requestValues.addHeader(&quot;signature&quot;, signatureValue);\n        \n        return false; // always return false, otherwise a correct request won't created.\n    }\n}\n</code></pre>\n<p>And then register this as a custom argument resolver (which is not in actual) to the http proxy factory.</p>\n<pre><code>@Bean\n    public HttpServiceProxyFactory httpServiceProxyFactory(\n            HttpServiceProxyFactory.Builder httpServiceProxyFactoryBuilder) {\n        httpServiceProxyFactoryBuilder.customArgumentResolver(mySignatureHeaderResolver);\n        return httpServiceProxyFactoryBuilder.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":1882348,"reputation":1653,"user_id":1702242,"accept_rate":56,"display_name":"pmverma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692971869,"creation_date":1692712946,"question_id":76954096,"body_markdown":"My question is somewhat similar to https://stackoverflow.com/questions/48103462/can-i-access-the-request-response-body-on-an-exchangefilterfunction\r\n\r\nI am using declarative [Spring Rest Http Interface][1] to call our internal APIs. \r\n\r\nFor every outgoing request, I have to sign the request and add a signature in the header.\r\nThe obvious thing is to do this in an exchange filter which is similar to the following.\r\n\r\n    @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n    \r\n    \t// There is no way I can get request body like in spring mvc\r\n    \tString requestBody = request.body().toString();\r\n    \tvar\tsignatureValue = signRequest(requestBody);\r\n    \r\n    \t// Add the Signature header\r\n    \tvar headers = new HttpHeaders();\r\n    \theaders.add(signature, signatureValue);\r\n    \r\n    \tvar modifiedRequest = ClientRequest.from(request)\r\n        .headers(httpHeaders -&gt; httpHeaders.addAll(headers)).build();\r\n    \t\r\n    \treturn next.exchange(modifiedRequest);\r\n    \r\n    }\r\n\r\nSince I am not using either `restTemplate` or `webClient` directly, I am looking for a way to add the header possibly from a central place. \r\nAny idea, suggestion, workaround, or solution is really appreciated.\r\n\r\nRegards\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/integration/rest-clients.html#rest-http-interface\r\n","title":"Accessing ClientRequest body in ExchangeFilterFunction","body":"<p>My question is somewhat similar to <a href=\"https://stackoverflow.com/questions/48103462/can-i-access-the-request-response-body-on-an-exchangefilterfunction\">Can I access the request/response body on an ExchangeFilterFunction?</a></p>\n<p>I am using declarative <a href=\"https://docs.spring.io/spring-framework/reference/integration/rest-clients.html#rest-http-interface\" rel=\"nofollow noreferrer\">Spring Rest Http Interface</a> to call our internal APIs.</p>\n<p>For every outgoing request, I have to sign the request and add a signature in the header.\nThe obvious thing is to do this in an exchange filter which is similar to the following.</p>\n<pre><code>@Override\npublic Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n\n    // There is no way I can get request body like in spring mvc\n    String requestBody = request.body().toString();\n    var signatureValue = signRequest(requestBody);\n\n    // Add the Signature header\n    var headers = new HttpHeaders();\n    headers.add(signature, signatureValue);\n\n    var modifiedRequest = ClientRequest.from(request)\n    .headers(httpHeaders -&gt; httpHeaders.addAll(headers)).build();\n    \n    return next.exchange(modifiedRequest);\n\n}\n</code></pre>\n<p>Since I am not using either <code>restTemplate</code> or <code>webClient</code> directly, I am looking for a way to add the header possibly from a central place.\nAny idea, suggestion, workaround, or solution is really appreciated.</p>\n<p>Regards</p>\n"},{"tags":["java","arraylist","static-initializer"],"comments":[{"owner":{"account_id":83425,"reputation":3118,"user_id":233907,"accept_rate":75,"display_name":"romacafe"},"score":0,"creation_date":1291838754,"post_id":4391696,"comment_id":4786077,"body_markdown":"Where did you find this new syntax?  Do you have a link to an article or something to share?","body":"Where did you find this new syntax?  Do you have a link to an article or something to share?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1291839234,"post_id":4391696,"comment_id":4786179,"body_markdown":"BTW: to add to the confusion, you can have any number of static { } and { } blocks anywhere in your class (outside method definitions of course)","body":"BTW: to add to the confusion, you can have any number of static { } and { } blocks anywhere in your class (outside method definitions of course)"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1291839542,"post_id":4391696,"comment_id":4786240,"body_markdown":"Related: http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization It&#39;s by the way not new. Has already been in Java for ages. It&#39;s indeed very rarely used, and with a good reason.","body":"Related: <a href=\"http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization\" title=\"efficiency of java double brace initialization\">stackoverflow.com/questions/924285/&hellip;</a> It&#39;s by the way not new. Has already been in Java for ages. It&#39;s indeed very rarely used, and with a good reason."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1291839571,"post_id":4391696,"comment_id":4786246,"body_markdown":"See http://stackoverflow.com/questions/1372113/meaning-of-new-class-initialization-idiom/1372124#1372124 and others. Difficult one to google.","body":"See <a href=\"http://stackoverflow.com/questions/1372113/meaning-of-new-class-initialization-idiom/1372124#1372124\" title=\"meaning of new class initialization idiom\">stackoverflow.com/questions/1372113/&hellip;</a> and others. Difficult one to google."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1291840965,"post_id":4391696,"comment_id":4786544,"body_markdown":"Note, your test verifies that the initializer runs before the constructor, but provides no evidence as to when the **super()** call runs relative to the initializer.","body":"Note, your test verifies that the initializer runs before the constructor, but provides no evidence as to when the <b>super()</b> call runs relative to the initializer."}],"answers":[{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1291839006,"post_id":4391746,"comment_id":4786132,"body_markdown":"Would anyone care to comment on whether the initializer is invoked before or after the super() invocation?","body":"Would anyone care to comment on whether the initializer is invoked before or after the super() invocation?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1291839162,"post_id":4391746,"comment_id":4786165,"body_markdown":"It would have to be after as super() as always called first.","body":"It would have to be after as super() as always called first."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1291840258,"post_id":4391746,"comment_id":4786377,"body_markdown":"Thanks for the fast answer.  Regarding the before/after, I built a quick test class, and it runs the initializer block before.","body":"Thanks for the fast answer.  Regarding the before/after, I built a quick test class, and it runs the initializer block before."},{"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"score":0,"creation_date":1291843084,"post_id":4391746,"comment_id":4787003,"body_markdown":"Perhaps you mean, &quot;advise against it&quot;?","body":"Perhaps you mean, &quot;advise against it&quot;?"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1291843451,"post_id":4391746,"comment_id":4787096,"body_markdown":"@I82Much: Yes, that is what I meant; fingers won&#39;t type what the brain is thinking.","body":"@I82Much: Yes, that is what I meant; fingers won&#39;t type what the brain is thinking."}],"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1291843410,"creation_date":1291838753,"answer_id":4391746,"question_id":4391696,"body_markdown":"You are creating a new anonymous subclass of ArrayList, with an instance initializer which calls add() twice.\r\n\r\nIt&#39;s the same as:\r\n\r\n    class MyList extends ArrayList\r\n    {\r\n\r\n    { // This is an instance initializer; the code is invoked before the constructor.\r\n    add(&quot;first&quot;); \r\n    add(&quot;second&quot;);\r\n    }\r\n\r\n    public MyList() {\r\n        super();\r\n        // I believe initializers run here, but I have never specifically tested this\r\n        }\r\n    }\r\n\r\n...\r\n\r\n    List list=new MyList();\r\n\r\nNote that, personally, I do not advise it as an idiom, since it will lead to class-file explosion.\r\n    ","title":"What does the {{ syntax on ArrayList initializer really do","body":"<p>You are creating a new anonymous subclass of ArrayList, with an instance initializer which calls add() twice.</p>\n\n<p>It's the same as:</p>\n\n<pre><code>class MyList extends ArrayList\n{\n\n{ // This is an instance initializer; the code is invoked before the constructor.\nadd(\"first\"); \nadd(\"second\");\n}\n\npublic MyList() {\n    super();\n    // I believe initializers run here, but I have never specifically tested this\n    }\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>List list=new MyList();\n</code></pre>\n\n<p>Note that, personally, I do not advise it as an idiom, since it will lead to class-file explosion.</p>\n"},{"tags":[],"owner":{"account_id":146892,"reputation":33550,"user_id":357641,"accept_rate":55,"display_name":"Greg"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1291838760,"creation_date":1291838760,"answer_id":4391748,"question_id":4391696,"body_markdown":"It is an initializer block for instance variables.\r\n\r\nFrom Oracle&#39;s documentation:\r\n\r\n&gt; Initializer blocks for instance\r\n&gt; variables look just like static\r\n&gt; initializer blocks, but without the\r\n&gt; static keyword:\r\n\r\n    {\r\n    \r\n        // whatever code is needed for initialization goes here\r\n    }\r\n\r\n&gt; The Java compiler copies initializer\r\n&gt; blocks into every constructor.\r\n&gt; Therefore, this approach can be used\r\n&gt; to share a block of code between\r\n&gt; multiple constructors.\r\n\r\nSee: http://download.oracle.com/javase/tutorial/java/javaOO/initial.html\r\n","title":"What does the {{ syntax on ArrayList initializer really do","body":"<p>It is an initializer block for instance variables.</p>\n\n<p>From Oracle's documentation:</p>\n\n<blockquote>\n  <p>Initializer blocks for instance\n  variables look just like static\n  initializer blocks, but without the\n  static keyword:</p>\n</blockquote>\n\n<pre><code>{\n\n    // whatever code is needed for initialization goes here\n}\n</code></pre>\n\n<blockquote>\n  <p>The Java compiler copies initializer\n  blocks into every constructor.\n  Therefore, this approach can be used\n  to share a block of code between\n  multiple constructors.</p>\n</blockquote>\n\n<p>See: <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/java/javaOO/initial.html</a></p>\n"},{"tags":[],"owner":{"account_id":255462,"reputation":41,"user_id":535528,"display_name":"pinkfilter"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1291839180,"creation_date":1291839180,"answer_id":4391818,"question_id":4391696,"body_markdown":"When you write `new ArrayList() { }` you are creating an anonymous subclass of `ArrayList`. The `{ }` as in the innermost brackets in your code denote an initializer block and is actually copied into every constructor.\r\n\r\nEDIT: You guys sure answer fast!","title":"What does the {{ syntax on ArrayList initializer really do","body":"<p>When you write <code>new ArrayList() { }</code> you are creating an anonymous subclass of <code>ArrayList</code>. The <code>{ }</code> as in the innermost brackets in your code denote an initializer block and is actually copied into every constructor.</p>\n\n<p>EDIT: You guys sure answer fast!</p>\n"}],"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":4391746,"answer_count":3,"score":6,"last_activity_date":1692971341,"creation_date":1291838425,"question_id":4391696,"body_markdown":"I have recently found what appears to me to be a new syntax for statically initializing an ArrayList:\r\n\r\n```java\r\nnew ArrayList&lt;String&gt;() {{\r\n   add(&quot;first&quot;);\r\n   add(&quot;second&quot;);\r\n}};\r\n```\r\n\r\nMy question is, what is really happening there?  Is that a shortcut for defining a static block (I thought it would need the &lt;code&gt;static&lt;/code&gt; keyword)?  Or just a way to define a default constructor?  Something else?  What version of Java did this become valid?  \r\n\r\nAn explanation plus a link to further reading would be greatly appreciated.\r\n\r\nedit:\r\nMy test class for showing whether initializer block executes before or after the constructor is below.  Results show that initializer blocks execute before the other constructor code:\r\n\r\n    import org.junit.Test;\r\n\r\n    public class InitializerBlockTest {\r\n        class InitializerTest {\r\n            {\r\n            System.out.println(&quot;Running initalizer block&quot;);\r\n            }\r\n\r\n            public InitializerTest() {\r\n                System.out.println(&quot;Running default constructor&quot;);\r\n            }\r\n        }\r\n        \r\n        class SubClass extends InitializerTest {\r\n          {\r\n            System.out.println(&quot;Running subclass Initializer block&quot;);\r\n          }\r\n\r\n          public SubClass()  {\r\n            System.out.println(&quot;Running subclass constructor&quot;);\r\n          }\r\n        }\r\n\r\n        @Test\r\n        public void testIt() {\r\n            new SubClass();\r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    Running initalizer block\r\n    Running default constructor\r\n    Running subclass Initializer block\r\n    Running subclass constructor\r\n","title":"What does the {{ syntax on ArrayList initializer really do","body":"<p>I have recently found what appears to me to be a new syntax for statically initializing an ArrayList:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArrayList&lt;String&gt;() {{\n   add(&quot;first&quot;);\n   add(&quot;second&quot;);\n}};\n</code></pre>\n<p>My question is, what is really happening there?  Is that a shortcut for defining a static block (I thought it would need the <code>static</code> keyword)?  Or just a way to define a default constructor?  Something else?  What version of Java did this become valid?</p>\n<p>An explanation plus a link to further reading would be greatly appreciated.</p>\n<p>edit:\nMy test class for showing whether initializer block executes before or after the constructor is below.  Results show that initializer blocks execute before the other constructor code:</p>\n<pre><code>import org.junit.Test;\n\npublic class InitializerBlockTest {\n    class InitializerTest {\n        {\n        System.out.println(&quot;Running initalizer block&quot;);\n        }\n\n        public InitializerTest() {\n            System.out.println(&quot;Running default constructor&quot;);\n        }\n    }\n    \n    class SubClass extends InitializerTest {\n      {\n        System.out.println(&quot;Running subclass Initializer block&quot;);\n      }\n\n      public SubClass()  {\n        System.out.println(&quot;Running subclass constructor&quot;);\n      }\n    }\n\n    @Test\n    public void testIt() {\n        new SubClass();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Running initalizer block\nRunning default constructor\nRunning subclass Initializer block\nRunning subclass constructor\n</code></pre>\n"},{"tags":["java","concurrency","race-condition"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1692973901,"post_id":76977113,"comment_id":135702257,"body_markdown":"FYI: `locks.add(false)` is shorthand for `locks.add(Boolean.valueOf(false))`, and `valueOf(false)` always returns a reference to the same instance, `Boolean.FALSE`. In other words, each call to `createTasks` does _not_ create a new lock. It uses the same lock as every other call.","body":"FYI: <code>locks.add(false)</code> is shorthand for <code>locks.add(Boolean.valueOf(false))</code>, and <code>valueOf(false)</code> always returns a reference to the same instance, <code>Boolean.FALSE</code>. In other words, each call to <code>createTasks</code> does <i>not</i> create a new lock. It uses the same lock as every other call."},{"owner":{"account_id":6246027,"reputation":111,"user_id":4857930,"display_name":"Elad Yehezkel"},"score":0,"creation_date":1693076737,"post_id":76977113,"comment_id":135713383,"body_markdown":"I assume this is not the case of Integer","body":"I assume this is not the case of Integer"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1693099651,"post_id":76977113,"comment_id":135715221,"body_markdown":"When you use `false` where a `Boolean` is expected and it calls `Boolean.valueOf(false)`, that&#39;s called [_autoboxing_](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html). Similarly, autoboxing for `Integer` calls `Integer.valueOf(...)`. [Documentation for `Integer.valueOf`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#valueOf(int)) promises that for any given value in the range [-128..127], it will always return the same unique object, just like how `Boolean.valueOf(false)` and `Boolean.valueOf(true)` each return a certain unique object.","body":"When you use <code>false</code> where a <code>Boolean</code> is expected and it calls <code>Boolean.valueOf(false)</code>, that&#39;s called <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\"><i>autoboxing</i></a>. Similarly, autoboxing for <code>Integer</code> calls <code>Integer.valueOf(...)</code>. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#valueOf(int)\" rel=\"nofollow noreferrer\">Documentation for <code>Integer.valueOf</code></a> promises that for any given value in the range [-128..127], it will always return the same unique object, just like how <code>Boolean.valueOf(false)</code> and <code>Boolean.valueOf(true)</code> each return a certain unique object."},{"owner":{"account_id":6246027,"reputation":111,"user_id":4857930,"display_name":"Elad Yehezkel"},"score":0,"creation_date":1693234094,"post_id":76977113,"comment_id":135729909,"body_markdown":"Any other advice on how to make this code better?","body":"Any other advice on how to make this code better?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693241148,"post_id":76977113,"comment_id":135731515,"body_markdown":"This code is horribly broken, in multiple ways, even beyond the incorrect synchronization. For example, think about what `locks.remove(lastIndex); locks.add(true);` is intended to do and what it actually does. But in what scope is `happenOnce();` supposed to happen once? Your code seems to try to execute it one hundred times instead of once, as otherwise you wouldnt need 100 different locks. This is self-contradicting. So what is the actual goal?","body":"This code is horribly broken, in multiple ways, even beyond the incorrect synchronization. For example, think about what <code>locks.remove(lastIndex); locks.add(true);</code> is intended to do and what it actually does. But in what scope is <code>happenOnce();</code> supposed to happen once? Your code seems to try to execute it one hundred times instead of once, as otherwise you wouldnt need 100 different locks. This is self-contradicting. So what is the actual goal?"}],"owner":{"account_id":6246027,"reputation":111,"user_id":4857930,"display_name":"Elad Yehezkel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692971259,"creation_date":1692965939,"question_id":76977113,"body_markdown":"I want to create a `List` of `Runnable`s inside a class, so they could later be executed with a simple thread pool, I want to check I dont have any race condition issues.\r\nThis is the class.\r\nNote that each call to `createTasks` create a new lock, the locks should not be shared across multiple calls to `createTasks`\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TestConcurrency {\r\n\r\n    private final List&lt;Boolean&gt; locks;\r\n\r\n    public TestConcurrency() {\r\n        locks = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void happenOnce() {\r\n        System.out.println(&quot;This line should be printed ONCE&quot;);\r\n    }\r\n\r\n    public List&lt;Runnable&gt; createTasks() {\r\n        locks.add(false);\r\n        final int lastIndex = locks.size() - 1;\r\n        List&lt;Runnable&gt; tasks = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            tasks.add(() -&gt; {\r\n                Boolean currentLock = locks.get(lastIndex);\r\n                System.out.println(&quot;This line should be printed for every thread, &quot; +\r\n                        &quot;currentLock value before re-access&quot; + currentLock);\r\n                synchronized (currentLock) {\r\n                    // This is a little risky move, we already hold a value\r\n                    // of `currentLock` that were accessed OUTSIDE the\r\n                    // critical section, so multiple threads can hold the\r\n                    // wrong value, so we access it again after acquiring the lock\r\n                    currentLock = locks.get(lastIndex);\r\n\r\n                    if (!currentLock) {\r\n                        happenOnce();\r\n                        synchronized (locks) {\r\n                            locks.remove(lastIndex);\r\n                            locks.add(true);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return tasks;\r\n    }\r\n}\r\n```\r\n\r\nAfter defining the above class, I use it in the following way:\r\n\r\n```\r\npublic class MyProgram {\r\n    public static void main(String[] args) {\r\n        TestConcurrency tc = new TestConcurrency();\r\n\r\n        ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n        for (Runnable task: tc.createTasks()) {\r\n            Future&lt;?&gt; z = executor.submit(task);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDoes this code seems ok to you? The method `happenOnce` should happen only once, of course","title":"Create tasks inside class with critical section","body":"<p>I want to create a <code>List</code> of <code>Runnable</code>s inside a class, so they could later be executed with a simple thread pool, I want to check I dont have any race condition issues.\nThis is the class.\nNote that each call to <code>createTasks</code> create a new lock, the locks should not be shared across multiple calls to <code>createTasks</code></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class TestConcurrency {\n\n    private final List&lt;Boolean&gt; locks;\n\n    public TestConcurrency() {\n        locks = new ArrayList&lt;&gt;();\n    }\n\n    public void happenOnce() {\n        System.out.println(&quot;This line should be printed ONCE&quot;);\n    }\n\n    public List&lt;Runnable&gt; createTasks() {\n        locks.add(false);\n        final int lastIndex = locks.size() - 1;\n        List&lt;Runnable&gt; tasks = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 100; i++) {\n            tasks.add(() -&gt; {\n                Boolean currentLock = locks.get(lastIndex);\n                System.out.println(&quot;This line should be printed for every thread, &quot; +\n                        &quot;currentLock value before re-access&quot; + currentLock);\n                synchronized (currentLock) {\n                    // This is a little risky move, we already hold a value\n                    // of `currentLock` that were accessed OUTSIDE the\n                    // critical section, so multiple threads can hold the\n                    // wrong value, so we access it again after acquiring the lock\n                    currentLock = locks.get(lastIndex);\n\n                    if (!currentLock) {\n                        happenOnce();\n                        synchronized (locks) {\n                            locks.remove(lastIndex);\n                            locks.add(true);\n                        }\n                    }\n                }\n            });\n        }\n        return tasks;\n    }\n}\n</code></pre>\n<p>After defining the above class, I use it in the following way:</p>\n<pre><code>public class MyProgram {\n    public static void main(String[] args) {\n        TestConcurrency tc = new TestConcurrency();\n\n        ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n        for (Runnable task: tc.createTasks()) {\n            Future&lt;?&gt; z = executor.submit(task);\n        }\n    }\n}\n</code></pre>\n<p>Does this code seems ok to you? The method <code>happenOnce</code> should happen only once, of course</p>\n"},{"tags":["java","intellij-idea","junit"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1684260563,"post_id":76265898,"comment_id":134491501,"body_markdown":"Does https://stackoverflow.com/questions/57040675/java-lang-noclassdeffounderror-org-junit-platform-commons-preconditionviolation help?","body":"Does <a href=\"https://stackoverflow.com/questions/57040675/java-lang-noclassdeffounderror-org-junit-platform-commons-preconditionviolation\" title=\"java lang noclassdeffounderror org junit platform commons preconditionviolation\">stackoverflow.com/questions/57040675/&hellip;</a> help?"},{"owner":{"account_id":6883882,"reputation":719,"user_id":5289695,"accept_rate":25,"display_name":"Olli"},"score":0,"creation_date":1684362060,"post_id":76265898,"comment_id":134509310,"body_markdown":"Check all your junit dependencies. You probably mixing 5.10 artifacts with 5.9 artifacts.","body":"Check all your junit dependencies. You probably mixing 5.10 artifacts with 5.9 artifacts."}],"owner":{"account_id":28613868,"reputation":1,"user_id":21908313,"display_name":"Rookiw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692971247,"creation_date":1684259829,"question_id":76265898,"body_markdown":"I tried to run my first test and this problem appeared and I have no clue how to correct it\r\n\r\nhere is the test code\r\n\r\n```\r\npackage g59474.dev2.model;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.function.Executable;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nclass GridTest {\r\n\r\n    @Test\r\n    void firstAdd_CaseA() {\r\n        System.out.println(&quot;Case A&quot;);\r\n        Grid grid = new Grid();\r\n        Tile t1 = new Tile(Color.RED, Shape.ROUND);\r\n        Tile t2 = new Tile(Color.RED, Shape.DIAMOND);\r\n        Tile t3 = new Tile(Color.RED, Shape.PLUS);\r\n        grid.firstAdd(Direction.UP, t1, t2, t3);\r\n\r\n        assertEquals(t1, grid.get(45,45));\r\n        assertEquals(t2, grid.get(44,45));\r\n        assertEquals(t3, grid.get(43,45));\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here the error \r\nI don&#39;t understand what these mean so I don&#39;t really now what i need to check\r\n\r\n```\r\nInternal Error occurred.\r\norg.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:132)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:78)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.NoClassDefFoundError: org/junit/jupiter/api/io/TempDirFactory\r\n\tat org.junit.jupiter.engine.config.DefaultJupiterConfiguration.&lt;clinit&gt;(DefaultJupiterConfiguration.java:62)\r\n\tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:66)\r\n\tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\r\n\t... 13 more\r\nCaused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.io.TempDirFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 16 more\r\n```\r\n\r\nThanks to all people willing to help me.","title":"&quot;No test were found&quot; with IntelliJ","body":"<p>I tried to run my first test and this problem appeared and I have no clue how to correct it</p>\n<p>here is the test code</p>\n<pre><code>package g59474.dev2.model;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.function.Executable;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass GridTest {\n\n    @Test\n    void firstAdd_CaseA() {\n        System.out.println(&quot;Case A&quot;);\n        Grid grid = new Grid();\n        Tile t1 = new Tile(Color.RED, Shape.ROUND);\n        Tile t2 = new Tile(Color.RED, Shape.DIAMOND);\n        Tile t3 = new Tile(Color.RED, Shape.PLUS);\n        grid.firstAdd(Direction.UP, t1, t2, t3);\n\n        assertEquals(t1, grid.get(45,45));\n        assertEquals(t2, grid.get(44,45));\n        assertEquals(t3, grid.get(43,45));\n    }\n}\n\n</code></pre>\n<p>And here the error\nI don't understand what these mean so I don't really now what i need to check</p>\n<pre><code>Internal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:132)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:78)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.NoClassDefFoundError: org/junit/jupiter/api/io/TempDirFactory\n    at org.junit.jupiter.engine.config.DefaultJupiterConfiguration.&lt;clinit&gt;(DefaultJupiterConfiguration.java:62)\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:66)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\n    ... 13 more\nCaused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.io.TempDirFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 16 more\n</code></pre>\n<p>Thanks to all people willing to help me.</p>\n"},{"tags":["javascript","java","android","kotlin","webview"],"owner":{"account_id":8829975,"reputation":13,"user_id":6596750,"display_name":"Anuj Kamboj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692971135,"creation_date":1692971135,"question_id":76977808,"body_markdown":"**Scenario:**\r\n\r\n1. Load **Profile page**(main URL) in WebView.\r\n2. Then click on edit number link on Profile page which loads **Edit number page**.\r\n3. **Edit number page** is redirected to Authentication page.\r\n4. On **Authentication page** enter OTP and submit then redirected to **Edit number page**.\r\n5. On **Edit number page**, Enter new number and click on submit then it shows successes message with OK button.\r\n6. Then click on OK button redirected to **Profile page**(main URL).\r\n7. Now if click on back button and call **webView.goBack()** then it redirected to **Authentication page** while should be redirected to **Edit number page**.\r\n\r\n\r\n**Note:** Same behavior is happening in android emulator WebView app also\r\nWhile in Chrome browser it is redirecting to the **Edit number page** (Expected Behavior).\r\n\r\n**Expected Behavior:** After clicking on Back button it should be redirected to the **Edit Number page**.\r\n\r\n**Observation:**\r\n\r\n**Referral Header** was wrong after executing point 7 (**Referral Header** on **Edit Number page** should be **authentication page** URL but we are getting **Edit number page** URL).\r\n\r\n\r\n**Expected Behavior:** After clicking on Back button it should be redirected to the **Edit Number page**.","title":"Webview goBack() issue, not redirecting to previous page after calling goBack()","body":"<p><strong>Scenario:</strong></p>\n<ol>\n<li>Load <strong>Profile page</strong>(main URL) in WebView.</li>\n<li>Then click on edit number link on Profile page which loads <strong>Edit number page</strong>.</li>\n<li><strong>Edit number page</strong> is redirected to Authentication page.</li>\n<li>On <strong>Authentication page</strong> enter OTP and submit then redirected to <strong>Edit number page</strong>.</li>\n<li>On <strong>Edit number page</strong>, Enter new number and click on submit then it shows successes message with OK button.</li>\n<li>Then click on OK button redirected to <strong>Profile page</strong>(main URL).</li>\n<li>Now if click on back button and call <strong>webView.goBack()</strong> then it redirected to <strong>Authentication page</strong> while should be redirected to <strong>Edit number page</strong>.</li>\n</ol>\n<p><strong>Note:</strong> Same behavior is happening in android emulator WebView app also\nWhile in Chrome browser it is redirecting to the <strong>Edit number page</strong> (Expected Behavior).</p>\n<p><strong>Expected Behavior:</strong> After clicking on Back button it should be redirected to the <strong>Edit Number page</strong>.</p>\n<p><strong>Observation:</strong></p>\n<p><strong>Referral Header</strong> was wrong after executing point 7 (<strong>Referral Header</strong> on <strong>Edit Number page</strong> should be <strong>authentication page</strong> URL but we are getting <strong>Edit number page</strong> URL).</p>\n<p><strong>Expected Behavior:</strong> After clicking on Back button it should be redirected to the <strong>Edit Number page</strong>.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1692954671,"post_id":76975747,"comment_id":135697907,"body_markdown":"another solution would be to simply change the name","body":"another solution would be to simply change the name"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1692954850,"post_id":76975747,"comment_id":135697942,"body_markdown":"@Stultuske change the name of what? There is only one AccountRepository class and is part of the ACCOUNTS module. The issue is that it is scanned through EnableJpaRepositories by both applications.","body":"@Stultuske change the name of what? There is only one AccountRepository class and is part of the ACCOUNTS module. The issue is that it is scanned through EnableJpaRepositories by both applications."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1692954967,"post_id":76975747,"comment_id":135697964,"body_markdown":"idd I missed that. Why do you have two applications there?","body":"idd I missed that. Why do you have two applications there?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692970711,"creation_date":1692957968,"answer_id":76976208,"question_id":76975747,"body_markdown":"If you have multiple Spring Boot applications in one Maven project you need something to distinguish between them. One possible solution is to use different Spring profiles and activate only one per application.\r\n\r\nAdd @Profile annotation to the configuration class like this:\r\n```\r\n@Profile(&quot;types&quot;)\r\n@SpringBootApplication\r\npublic class MyProjectTypesApplication {\r\n// ...\r\n}\r\n\r\n@Profile(&quot;accounts&quot;)\r\n@SpringBootApplication\r\npublic class MyProjectAccountsApplication {\r\n// ...\r\n}\r\n```\r\nYou can then activate specific profile by setting JVM system parameter when running application:\r\n```\r\n-Dspring.profiles.active=types/accounts\r\n```","title":"Repository bean defined in @EnableJpaRepositories declared on Application, could not be registered. A bean with that name has already been defined","body":"<p>If you have multiple Spring Boot applications in one Maven project you need something to distinguish between them. One possible solution is to use different Spring profiles and activate only one per application.</p>\n<p>Add @Profile annotation to the configuration class like this:</p>\n<pre><code>@Profile(&quot;types&quot;)\n@SpringBootApplication\npublic class MyProjectTypesApplication {\n// ...\n}\n\n@Profile(&quot;accounts&quot;)\n@SpringBootApplication\npublic class MyProjectAccountsApplication {\n// ...\n}\n</code></pre>\n<p>You can then activate specific profile by setting JVM system parameter when running application:</p>\n<pre><code>-Dspring.profiles.active=types/accounts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692967403,"creation_date":1692967403,"answer_id":76977292,"question_id":76975747,"body_markdown":"Use different paths for the project (com.myproject.accounts.account).\r\nAnd then try @EnableJpaRepositories(&quot;com.set.new.path*&quot;)\r\n\r\n","title":"Repository bean defined in @EnableJpaRepositories declared on Application, could not be registered. A bean with that name has already been defined","body":"<p>Use different paths for the project (com.myproject.accounts.account).\nAnd then try @EnableJpaRepositories(&quot;com.set.new.path*&quot;)</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76976208,"answer_count":2,"score":0,"last_activity_date":1692970711,"creation_date":1692954202,"question_id":76975747,"body_markdown":"I have a multi maven project\r\n\r\non the **ACCOUNTS**:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({ &quot;com.myproject*&quot; })\r\n    @EntityScan(&quot;com.myproject*&quot;)\r\n    @EnableJpaRepositories(&quot;com.myproject*&quot;)\r\n    public class MyProjectAccountsApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyProjectAccountsApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nI have a CustomerIndividual Entity\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_individual&quot;)\r\n    public class CustomerIndividual {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;fk_nationality&quot;, nullable = false)\r\n    \tprivate Integer fkNationality;\r\n    \r\n    \t@Column(name = &quot;fk_residence&quot;, nullable = false)\r\n    \tprivate Long fkResidence;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    \t@JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\r\n    \tprivate SexType sexType;\r\n    \r\n    \t@Column(name = &quot;birth_date&quot;, nullable = false)\r\n    \tprivate LocalDate birthDate;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;surname&quot;, nullable = false)\r\n    \tprivate String surname;\r\n    \r\n    \t@Column(name = &quot;email&quot;, nullable = false)\r\n    \tprivate String email;\r\n    \r\n    \t@Column(name = &quot;phone_number&quot;, nullable = false)\r\n    \tprivate String phoneNumber;\r\n    \t\r\n    \t@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    \t@JoinColumn(name = &quot;id_customer&quot;)\r\n        @MapsId\r\n    \tprivate Customer customer;\r\n    \t\r\n    } \r\n\r\nthat has a ManyToOne relationship with an entity (SexType) into another module called **TYPES**.\r\n\r\nSo **ACCOUNTS** module has **TYPES** as a dependency.\r\n\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({ &quot;com.myproject*&quot; })\r\n    @EntityScan(&quot;com.myproject*&quot;)\r\n    @EnableJpaRepositories(&quot;com.myproject*&quot;)\r\n    public class MyProjectTypesApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyProjectTypesApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nSexType:\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    @Table(name = &quot;sex_type&quot;)\r\n    @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id_sex_type&quot;, nullable = false))\r\n    public class SexType extends TypeEntity {\r\n    \r\n    }\r\n\r\n**ACCOUNTS** application failed to starts due to given exception:\r\n\r\n&gt; The bean &#39;accountRepository&#39;, defined in\r\n&gt; com.myproject.accounts.account.repository.AccountRepository defined in\r\n&gt; @EnableJpaRepositories declared on MyProjectAccountsApplication, could\r\n&gt; not be registered. A bean with that name has already been defined in\r\n&gt; com.myproject.accounts.account.repository.AccountRepository defined in\r\n&gt; @EnableJpaRepositories declared on MyProjectTypesApplication and\r\n&gt; overriding is disabled.\r\n\r\n\r\nA solution for that is to create a separate Maven module for the application types with the controller and put the **TYPES** module as a dependency.\r\n\r\nBut I&#39;m wondering if there is a better solution to avoid creating a new maven module.\r\n\r\n\r\n","title":"Repository bean defined in @EnableJpaRepositories declared on Application, could not be registered. A bean with that name has already been defined","body":"<p>I have a multi maven project</p>\n<p>on the <strong>ACCOUNTS</strong>:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({ &quot;com.myproject*&quot; })\n@EntityScan(&quot;com.myproject*&quot;)\n@EnableJpaRepositories(&quot;com.myproject*&quot;)\npublic class MyProjectAccountsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyProjectAccountsApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I have a CustomerIndividual Entity</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_individual&quot;)\npublic class CustomerIndividual {\n\n    @Id\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;fk_nationality&quot;, nullable = false)\n    private Integer fkNationality;\n\n    @Column(name = &quot;fk_residence&quot;, nullable = false)\n    private Long fkResidence;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\n    private SexType sexType;\n\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private LocalDate birthDate;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;surname&quot;, nullable = false)\n    private String surname;\n\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @Column(name = &quot;phone_number&quot;, nullable = false)\n    private String phoneNumber;\n    \n    @OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_customer&quot;)\n    @MapsId\n    private Customer customer;\n    \n} \n</code></pre>\n<p>that has a ManyToOne relationship with an entity (SexType) into another module called <strong>TYPES</strong>.</p>\n<p>So <strong>ACCOUNTS</strong> module has <strong>TYPES</strong> as a dependency.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({ &quot;com.myproject*&quot; })\n@EntityScan(&quot;com.myproject*&quot;)\n@EnableJpaRepositories(&quot;com.myproject*&quot;)\npublic class MyProjectTypesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyProjectTypesApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>SexType:</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@Table(name = &quot;sex_type&quot;)\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id_sex_type&quot;, nullable = false))\npublic class SexType extends TypeEntity {\n\n}\n</code></pre>\n<p><strong>ACCOUNTS</strong> application failed to starts due to given exception:</p>\n<blockquote>\n<p>The bean 'accountRepository', defined in\ncom.myproject.accounts.account.repository.AccountRepository defined in\n@EnableJpaRepositories declared on MyProjectAccountsApplication, could\nnot be registered. A bean with that name has already been defined in\ncom.myproject.accounts.account.repository.AccountRepository defined in\n@EnableJpaRepositories declared on MyProjectTypesApplication and\noverriding is disabled.</p>\n</blockquote>\n<p>A solution for that is to create a separate Maven module for the application types with the controller and put the <strong>TYPES</strong> module as a dependency.</p>\n<p>But I'm wondering if there is a better solution to avoid creating a new maven module.</p>\n"},{"tags":["java","flutter","gradle"],"owner":{"account_id":24603611,"reputation":1,"user_id":19447778,"display_name":"Miguel Moura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692970298,"creation_date":1692970298,"question_id":76977694,"body_markdown":"I cloned a repository of an appFlutter in production, I had several problems to be able to validate the flutter doctor, because the app was made in old versions.\r\nBut after a lot of research and attempts, getting it validated and approved; flutter, dart and java versions.\r\n\r\nBut when running Flutter run, I still get this error, and I can&#39;t understand what&#39;s wrong and how to solve it. Can you help? If you need any more information please let me know.\r\n\r\nERROR:\r\n```\r\nmurillo@murillo-Inspiron-3442:~/Projects/brflor-app-cubagem/app_floresta$ flutter run\r\nLaunching lib/main.dart on Redmi Note 8 in debug mode...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @47972fab\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 25s\r\nRunning Gradle task &#39;assembleDebug&#39;...                             26.2s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\nTry checking the environments and versions again, as well as looking back at the grandle location, to try to understand the problem. But still without success...","title":"Error in flutter run &#39;app:processDebugMAinManifest&#39;. &gt; : Unable to make field private final java.lang.String java.io.File.path accessible...&#39;","body":"<p>I cloned a repository of an appFlutter in production, I had several problems to be able to validate the flutter doctor, because the app was made in old versions.\nBut after a lot of research and attempts, getting it validated and approved; flutter, dart and java versions.</p>\n<p>But when running Flutter run, I still get this error, and I can't understand what's wrong and how to solve it. Can you help? If you need any more information please let me know.</p>\n<p>ERROR:</p>\n<pre><code>murillo@murillo-Inspiron-3442:~/Projects/brflor-app-cubagem/app_floresta$ flutter run\nLaunching lib/main.dart on Redmi Note 8 in debug mode...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @47972fab\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 25s\nRunning Gradle task 'assembleDebug'...                             26.2s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>Try checking the environments and versions again, as well as looking back at the grandle location, to try to understand the problem. But still without success...</p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1692958094,"post_id":76976059,"comment_id":135698582,"body_markdown":"What&#39;s the ProductType for each ProductsName?","body":"What&#39;s the ProductType for each ProductsName?"},{"owner":{"account_id":1326208,"reputation":2583,"user_id":1270958,"accept_rate":31,"display_name":"abc cba"},"score":0,"creation_date":1692958148,"post_id":76976059,"comment_id":135698593,"body_markdown":"@GilbertLeBlanc all same product type","body":"@GilbertLeBlanc all same product type"},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1692958157,"post_id":76976059,"comment_id":135698597,"body_markdown":"execute &quot;call dbo.sp_GetProducts(8)&quot; directly from DB client tool you use. probably it will also return 8 records. check you java application connects to the same database that you  connects via you DB client tool","body":"execute &quot;call dbo.sp_GetProducts(8)&quot; directly from DB client tool you use. probably it will also return 8 records. check you java application connects to the same database that you  connects via you DB client tool"},{"owner":{"account_id":1326208,"reputation":2583,"user_id":1270958,"accept_rate":31,"display_name":"abc cba"},"score":0,"creation_date":1692958227,"post_id":76976059,"comment_id":135698616,"body_markdown":"@hunter same db , and execute &quot;call dbo.sp_GetProducts(8)&quot; directly DB it return all the 8 record as above , but not from java application","body":"@hunter same db , and execute &quot;call dbo.sp_GetProducts(8)&quot; directly DB it return all the 8 record as above , but not from java application"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":2,"creation_date":1692958273,"post_id":76976059,"comment_id":135698630,"body_markdown":"[dbo].[sp_tbl_Prodcuts_Get]  I guess the typo has nothing to do with the issue","body":"[dbo].[sp_tbl_Prodcuts_Get]  I guess the typo has nothing to do with the issue"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1692958414,"post_id":76976059,"comment_id":135698663,"body_markdown":"Don&#39;t you need to use [CallableStatement](https://docs.oracle.com/javase/tutorial/jdbc/basics/storedprocedures.html) to call stored procedure from JDBC?","body":"Don&#39;t you need to use <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/storedprocedures.html\" rel=\"nofollow noreferrer\">CallableStatement</a> to call stored procedure from JDBC?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1692971871,"post_id":76976059,"comment_id":135701754,"body_markdown":"CallableStatement cs, cs.registerOutParameter for the implicit cursor, cs.execute, and cs.getObject to get the resultSet.","body":"CallableStatement cs, cs.registerOutParameter for the implicit cursor, cs.execute, and cs.getObject to get the resultSet."}],"owner":{"account_id":1326208,"reputation":2583,"user_id":1270958,"accept_rate":31,"display_name":"abc cba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692970177,"creation_date":1692956675,"question_id":76976059,"body_markdown":"I am using MSSQL store procedure with a select statement \r\n\r\n    ALTER PROCEDURE [dbo].[sp_GetProducts]\r\n\t@ProductType bigint\r\n    AS\r\n    BEGIN\r\n\t\r\n\tSET NOCOUNT ON;\r\n\r\n\tSELECT ProductsName FROM tbl_Products WITH(NOLOCK)\r\n\tWHERE ProductType = @ProductType \r\n\tORDER BY ProductType DESC\r\n     \r\n    END\r\n\r\nFor Database return\r\n\r\n    ------------------\r\n    ProductsName \r\n    ------------------\r\n    Apple\r\n    Orange\r\n    Honey\r\n    Watermelon\r\n    Table\r\n    Chair\r\n    Watch\r\n    Cup\r\n\r\n\r\n\r\n\r\n\r\nFor the JDBC part\r\n\r\n    Connection conn = null;\r\n    conn = DriverManager.getConnection(connString);\r\n    PreparedStatement pstmt = conn.prepareStatement(&quot;{call dbo.sp_GetProducts(8)}&quot;);               \r\n    ResultSet resultSet = pstmt.executeQuery(); \r\n    int size = 0;\r\n    while (resultSet.next()) {         \r\n    size = size + 1;\r\n    }\r\n    //End of program the size is only 2 instead of 8 (it only return Apple and Table)\r\n\r\nI did an inspection in the SQL profile for the execution part, it also returned all 8 rows, but form the program resultset it only has 2 rows , what is the possible issue ?\r\n    \r\n\r\n\r\n ","title":"Java JDBC not returning all rows from Database","body":"<p>I am using MSSQL store procedure with a select statement</p>\n<pre><code>ALTER PROCEDURE [dbo].[sp_GetProducts]\n@ProductType bigint\nAS\nBEGIN\n\nSET NOCOUNT ON;\n\nSELECT ProductsName FROM tbl_Products WITH(NOLOCK)\nWHERE ProductType = @ProductType \nORDER BY ProductType DESC\n \nEND\n</code></pre>\n<p>For Database return</p>\n<pre><code>------------------\nProductsName \n------------------\nApple\nOrange\nHoney\nWatermelon\nTable\nChair\nWatch\nCup\n</code></pre>\n<p>For the JDBC part</p>\n<pre><code>Connection conn = null;\nconn = DriverManager.getConnection(connString);\nPreparedStatement pstmt = conn.prepareStatement(&quot;{call dbo.sp_GetProducts(8)}&quot;);               \nResultSet resultSet = pstmt.executeQuery(); \nint size = 0;\nwhile (resultSet.next()) {         \nsize = size + 1;\n}\n//End of program the size is only 2 instead of 8 (it only return Apple and Table)\n</code></pre>\n<p>I did an inspection in the SQL profile for the execution part, it also returned all 8 rows, but form the program resultset it only has 2 rows , what is the possible issue ?</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692970158,"creation_date":1692970158,"answer_id":76977676,"question_id":76940787,"body_markdown":"You can specify the field &quot;Base URL&quot; in the client configuration in KeyCloak - this determines the link from the Applications List. You can use an absolute URL with protocol and host there. But as you could configure multiple valid redirect URIs it&#39;s probably not possible to make this configuration dependent on that field.","title":"Keycloak Account Console list clients","body":"<p>You can specify the field &quot;Base URL&quot; in the client configuration in KeyCloak - this determines the link from the Applications List. You can use an absolute URL with protocol and host there. But as you could configure multiple valid redirect URIs it's probably not possible to make this configuration dependent on that field.</p>\n"}],"owner":{"account_id":29262977,"reputation":3,"user_id":22419481,"display_name":"Nicholas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76977676,"answer_count":1,"score":0,"last_activity_date":1692970158,"creation_date":1692555739,"question_id":76940787,"body_markdown":"There is a list of client application in the Account Console =&gt; Applications. One is a Spring Boot web application:\r\n![enter image description here](https://i.stack.imgur.com/iFs3T.png)\r\n\r\nanother one is the Account Console itself:\r\n![enter image description here](https://i.stack.imgur.com/vX5p8.png)\r\n\r\nIs it possible to make the &quot;prosto-client&quot; clicable so that the user could be redirected from his Account Console to `http://localhost:8082/` which is the Valid Redirect URI of the client?\r\n\r\nI have created a realm &quot;test&quot;, in that realm created a user and set a password to the user. Also I have created a client &quot;prosto-client&quot; in the realm with the following settings:\r\n&gt; Client Protocol: openid-connect&lt;br&gt;\r\n&gt; Access type: Confidential&lt;br&gt;\r\n&gt; Standard flow enabled: On&lt;br&gt;\r\n&gt; Direct access grants enabled: On&lt;br&gt;\r\n&gt; Valid redirects URI: `http://localhost:8082/*`&lt;br&gt;\r\n\r\nThen I have created a Spring Boot application and configured it as a Keycloak client for the realm &quot;test&quot;. When the user makes a request to `http://localhost:8082`, he is redirected to Keycloak authorization url `http://localhost:9990/auth/` and after successful authentication the user is redirected back to `http://localhost:8082`. Everything works fine here.","title":"Keycloak Account Console list clients","body":"<p>There is a list of client application in the Account Console =&gt; Applications. One is a Spring Boot web application:\n<img src=\"https://i.stack.imgur.com/iFs3T.png\" alt=\"enter image description here\" /></p>\n<p>another one is the Account Console itself:\n<img src=\"https://i.stack.imgur.com/vX5p8.png\" alt=\"enter image description here\" /></p>\n<p>Is it possible to make the &quot;prosto-client&quot; clicable so that the user could be redirected from his Account Console to <code>http://localhost:8082/</code> which is the Valid Redirect URI of the client?</p>\n<p>I have created a realm &quot;test&quot;, in that realm created a user and set a password to the user. Also I have created a client &quot;prosto-client&quot; in the realm with the following settings:</p>\n<blockquote>\n<p>Client Protocol: openid-connect<br>\nAccess type: Confidential<br>\nStandard flow enabled: On<br>\nDirect access grants enabled: On<br>\nValid redirects URI: <code>http://localhost:8082/*</code><br></p>\n</blockquote>\n<p>Then I have created a Spring Boot application and configured it as a Keycloak client for the realm &quot;test&quot;. When the user makes a request to <code>http://localhost:8082</code>, he is redirected to Keycloak authorization url <code>http://localhost:9990/auth/</code> and after successful authentication the user is redirected back to <code>http://localhost:8082</code>. Everything works fine here.</p>\n"},{"tags":["java","spring","db2","liquibase"],"comments":[{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1559136121,"post_id":56358331,"comment_id":99326596,"body_markdown":"Do you want it to be a primary key?","body":"Do you want it to be a primary key?"},{"owner":{"account_id":941858,"reputation":2136,"user_id":969812,"accept_rate":90,"display_name":"Alex"},"score":0,"creation_date":1559136363,"post_id":56358331,"comment_id":99326759,"body_markdown":"yes but not necessary...","body":"yes but not necessary..."}],"answers":[{"tags":[],"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1559157410,"creation_date":1559157410,"answer_id":56367166,"question_id":56358331,"body_markdown":"An identity column cannot be nullable, this is what the [error message tells you][1]:\r\n\r\n&gt; A nullable column cannot be changed to become an identity\r\n         column.\r\n\r\nChange the column constraint to `nullable=&quot;false&quot;` I guess.\r\n\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.messages.sql.doc/com.ibm.db2.luw.messages.sql.doc-gentopic1.html#sql0270n","title":"Liquibase: Change column to an autoincrement column (identity) in DB2","body":"<p>An identity column cannot be nullable, this is what the <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.messages.sql.doc/com.ibm.db2.luw.messages.sql.doc-gentopic1.html#sql0270n\" rel=\"nofollow noreferrer\">error message tells you</a>:</p>\n\n<blockquote>\n  <p>A nullable column cannot be changed to become an identity\n           column.</p>\n</blockquote>\n\n<p>Change the column constraint to <code>nullable=\"false\"</code> I guess.</p>\n"},{"tags":[],"owner":{"account_id":941858,"reputation":2136,"user_id":969812,"accept_rate":90,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559214740,"creation_date":1559206440,"answer_id":56374845,"question_id":56358331,"body_markdown":"I found an answer myself at [this link][1] and the explanation is this:\r\n\r\n&gt; Every DB2 admin discovers sooner or later that DB2 can not add\r\n&gt; identity column to existing table easily. Following statements fails\r\n&gt; due to syntax error: alter table public.clicks add column id integer\r\n&gt; generated always as identity   But i have good news for everyone. It\r\n&gt; can be still done, but it requires more steps.\r\n\r\n \r\n1. Add **not null integer** column\r\nYou need to provide default value for it otherwise db2 will refuse it to make not null\r\nalter table public.clicks add column id integer not null default 0\r\n \r\n2. **Drop default value from column**\r\nI am not exactly sure why it is needed because some manuals on internet omits this step but i was not able to make it work without this on DB2 9.7.3 LUW\r\nalter table public.clicks alter column id drop default\r\n \r\n3. Now set column to always generated (**add the autoincrement**)\r\nalter table public.clicks alter column id set generated always as identity\r\n \r\n4. Reorg table to make it writeable **(I didn&#39;t do this and it still works)**\r\nreorg table public.clicks\r\n \r\n5. Now replace zeros with generated itentity values\r\n**update public.clicks set id = default**\r\n \r\n6. **And optionally make id column primary key for table**\r\nalter table public.clicks add constraint pkey primary key(id)\r\n\r\nAnd the liquibase code for it:\r\n\r\n&gt; defaultSchemaNames comes from spring properties which I defined like this. I don&#39;t know if there&#39;s a better way to get the schema but this one works also\r\n\r\n\r\n```\r\n# in application.properties I&#39;ve set this\r\nliquibase.parameters.defaultSchemaName=MY_SCHEMA_NAME\r\n```\r\n\r\nThe `liquibase.xml`\r\n```\r\n    &lt;property name=&quot;defaultSchema&quot; value=&quot;${defaultSchemaName}&quot; /&gt; \r\n\r\n    &lt;changeSet id=&quot;08.01.00&quot; author=&quot;alex@mail.com&quot;&gt;\r\n        &lt;dropPrimaryKey tableName=&quot;members&quot; constraintName=&quot;pk_members_relation&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;08.01&quot; author=&quot;alex@mail.com&quot;&gt;\r\n        &lt;addColumn tableName=&quot;members&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; defaultValue=&quot;0&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;member_type&quot; type=&quot;varchar(100)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/addColumn&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;08.02&quot; author=&quot;alex@mail.com&quot;&gt;\r\n        &lt;dropDefaultValue tableName=&quot;members&quot; columnName=&quot;id&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;08.03&quot; author=&quot;alex@mail.com&quot;&gt;\r\n        &lt;addAutoIncrement tableName=&quot;members&quot; columnName=&quot;id&quot; columnDataType=&quot;bigint&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;08.04&quot; author=&quot;alex@mail.com&quot;&gt;\r\n        &lt;sql&gt;\r\n            UPDATE ${defaultSchema}.members SET id = default\r\n        &lt;/sql&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\n\r\n  [1]: http://www.channeldb2.com/profiles/blogs/how-to-add-identity-column-to","title":"Liquibase: Change column to an autoincrement column (identity) in DB2","body":"<p>I found an answer myself at <a href=\"http://www.channeldb2.com/profiles/blogs/how-to-add-identity-column-to\" rel=\"nofollow noreferrer\">this link</a> and the explanation is this:</p>\n\n<blockquote>\n  <p>Every DB2 admin discovers sooner or later that DB2 can not add\n  identity column to existing table easily. Following statements fails\n  due to syntax error: alter table public.clicks add column id integer\n  generated always as identity   But i have good news for everyone. It\n  can be still done, but it requires more steps.</p>\n</blockquote>\n\n<ol>\n<li><p>Add <strong>not null integer</strong> column\nYou need to provide default value for it otherwise db2 will refuse it to make not null\nalter table public.clicks add column id integer not null default 0</p></li>\n<li><p><strong>Drop default value from column</strong>\nI am not exactly sure why it is needed because some manuals on internet omits this step but i was not able to make it work without this on DB2 9.7.3 LUW\nalter table public.clicks alter column id drop default</p></li>\n<li><p>Now set column to always generated (<strong>add the autoincrement</strong>)\nalter table public.clicks alter column id set generated always as identity</p></li>\n<li><p>Reorg table to make it writeable <strong>(I didn't do this and it still works)</strong>\nreorg table public.clicks</p></li>\n<li><p>Now replace zeros with generated itentity values\n<strong>update public.clicks set id = default</strong></p></li>\n<li><p><strong>And optionally make id column primary key for table</strong>\nalter table public.clicks add constraint pkey primary key(id)</p></li>\n</ol>\n\n<p>And the liquibase code for it:</p>\n\n<blockquote>\n  <p>defaultSchemaNames comes from spring properties which I defined like this. I don't know if there's a better way to get the schema but this one works also</p>\n</blockquote>\n\n<pre><code># in application.properties I've set this\nliquibase.parameters.defaultSchemaName=MY_SCHEMA_NAME\n</code></pre>\n\n<p>The <code>liquibase.xml</code></p>\n\n<pre><code>    &lt;property name=\"defaultSchema\" value=\"${defaultSchemaName}\" /&gt; \n\n    &lt;changeSet id=\"08.01.00\" author=\"alex@mail.com\"&gt;\n        &lt;dropPrimaryKey tableName=\"members\" constraintName=\"pk_members_relation\"/&gt;\n    &lt;/changeSet&gt;\n\n    &lt;changeSet id=\"08.01\" author=\"alex@mail.com\"&gt;\n        &lt;addColumn tableName=\"members\"&gt;\n            &lt;column name=\"id\" type=\"BIGINT\" defaultValue=\"0\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=\"member_type\" type=\"varchar(100)\"&gt;\n                &lt;constraints nullable=\"true\"/&gt;\n            &lt;/column&gt;\n        &lt;/addColumn&gt;\n    &lt;/changeSet&gt;\n\n    &lt;changeSet id=\"08.02\" author=\"alex@mail.com\"&gt;\n        &lt;dropDefaultValue tableName=\"members\" columnName=\"id\"/&gt;\n    &lt;/changeSet&gt;\n\n    &lt;changeSet id=\"08.03\" author=\"alex@mail.com\"&gt;\n        &lt;addAutoIncrement tableName=\"members\" columnName=\"id\" columnDataType=\"bigint\"/&gt;\n    &lt;/changeSet&gt;\n\n    &lt;changeSet id=\"08.04\" author=\"alex@mail.com\"&gt;\n        &lt;sql&gt;\n            UPDATE ${defaultSchema}.members SET id = default\n        &lt;/sql&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n"}],"owner":{"account_id":941858,"reputation":2136,"user_id":969812,"accept_rate":90,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56367166,"answer_count":2,"score":1,"last_activity_date":1692969761,"creation_date":1559125415,"question_id":56358331,"body_markdown":"I&#39;m trying to change a BIGINT Column to an autoincremented column in DB2 but I can&#39;t seem find how.\r\nI tried doing it like this:\r\n```\r\n    &lt;changeSet id=&quot;08.01&quot; author=&quot;...&quot;&gt;\r\n        &lt;addColumn tableName=&quot;table_name&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;member_type&quot; type=&quot;varchar(100)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/addColumn&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet id=&quot;08.02&quot; author=&quot;...&quot;&gt;\r\n        &lt;addAutoIncrement tableName=&quot;table_name&quot;\r\n                          columnDataType=&quot;bigint&quot;\r\n                          columnName=&quot;id&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nand when it runs I get this error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:db/changelog/08-separation.xml::08.01::author:\r\n     Reason: liquibase.exception.DatabaseException: DB2 SQL Error: SQLCODE=-270, SQLSTATE=42997, SQLERRMC=72, DRIVER=4.13.127 [Failed SQL: ALTER TABLE SCHEMATEST.table_name ALTER COLUMN id SET GENERATED BY DEFAULT AS IDENTITY]\r\n\tat org.springframework.bean\r\n...\r\n...\r\n...\r\nCaused by: liquibase.exception.MigrationFailedException: Migration failed for change set classpath:db/changelog/08separation.xml::08.01::author:\r\n     Reason: liquibase.exception.DatabaseException: DB2 SQL Error: SQLCODE=-270, SQLSTATE=42997, SQLERRMC=72, DRIVER=4.13.127 [Failed SQL: ALTER TABLE SCHEMATEST.table_name ALTER COLUMN id SET GENERATED BY DEFAULT AS IDENTITY]\r\n...\r\n...\r\n...\r\nCaused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-270, SQLSTATE=42997, SQLERRMC=72, DRIVER=4.13.127\r\n```","title":"Liquibase: Change column to an autoincrement column (identity) in DB2","body":"<p>I'm trying to change a BIGINT Column to an autoincremented column in DB2 but I can't seem find how.\nI tried doing it like this:</p>\n\n<pre><code>    &lt;changeSet id=\"08.01\" author=\"...\"&gt;\n        &lt;addColumn tableName=\"table_name\"&gt;\n            &lt;column name=\"id\" type=\"bigint\"&gt;\n                &lt;constraints nullable=\"true\"/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=\"member_type\" type=\"varchar(100)\"&gt;\n                &lt;constraints nullable=\"true\"/&gt;\n            &lt;/column&gt;\n        &lt;/addColumn&gt;\n    &lt;/changeSet&gt;\n\n    &lt;changeSet id=\"08.02\" author=\"...\"&gt;\n        &lt;addAutoIncrement tableName=\"table_name\"\n                          columnDataType=\"bigint\"\n                          columnName=\"id\"/&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n\n<p>and when it runs I get this error:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:db/changelog/08-separation.xml::08.01::author:\n     Reason: liquibase.exception.DatabaseException: DB2 SQL Error: SQLCODE=-270, SQLSTATE=42997, SQLERRMC=72, DRIVER=4.13.127 [Failed SQL: ALTER TABLE SCHEMATEST.table_name ALTER COLUMN id SET GENERATED BY DEFAULT AS IDENTITY]\n    at org.springframework.bean\n...\n...\n...\nCaused by: liquibase.exception.MigrationFailedException: Migration failed for change set classpath:db/changelog/08separation.xml::08.01::author:\n     Reason: liquibase.exception.DatabaseException: DB2 SQL Error: SQLCODE=-270, SQLSTATE=42997, SQLERRMC=72, DRIVER=4.13.127 [Failed SQL: ALTER TABLE SCHEMATEST.table_name ALTER COLUMN id SET GENERATED BY DEFAULT AS IDENTITY]\n...\n...\n...\nCaused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-270, SQLSTATE=42997, SQLERRMC=72, DRIVER=4.13.127\n</code></pre>\n"},{"tags":["java","integer","double","long-integer"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1622827868,"post_id":67841630,"comment_id":119912657,"body_markdown":"Note that there are also `BigDecimal` and `BigInteger` types.","body":"Note that there are also <code>BigDecimal</code> and <code>BigInteger</code> types."},{"owner":{"account_id":14247473,"reputation":1113,"user_id":10292075,"display_name":"Yoshikage Kira"},"score":5,"creation_date":1622827935,"post_id":67841630,"comment_id":119912680,"body_markdown":"Personally, I would use long since earth population is going to be a whole number. You can use `BigInteger` or `BigDecimal` as well although they might be overkill.","body":"Personally, I would use long since earth population is going to be a whole number. You can use <code>BigInteger</code> or <code>BigDecimal</code> as well although they might be overkill."},{"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":3,"creation_date":1622828345,"post_id":67841630,"comment_id":119912822,"body_markdown":"`long` is for *precise integer values*, e.g. `1234567890123`; if value is larger the `MAX_VALUE` (~`1e19`) you&#39;ll have *integer overflow* (totally wrong value). `double` is for *approximate* values: up to (`2^53 - 1` ~ `1e16`) integer values are *exact*, but then they becomes *approximate* up to `~1e308` (no catastrophy integer overflow)","body":"<code>long</code> is for <i>precise integer values</i>, e.g. <code>1234567890123</code>; if value is larger the <code>MAX_VALUE</code> (~<code>1e19</code>) you&#39;ll have <i>integer overflow</i> (totally wrong value). <code>double</code> is for <i>approximate</i> values: up to (<code>2^53 - 1</code> ~ <code>1e16</code>) integer values are <i>exact</i>, but then they becomes <i>approximate</i> up to <code>~1e308</code> (no catastrophy integer overflow)"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1622829187,"post_id":67841630,"comment_id":119913112,"body_markdown":"The big difference between `long` and `double` is that `long` can hold integer numbers only, while `double` is a floating-point number type (it can hold fractions). See: [Primitive Data Types](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)","body":"The big difference between <code>long</code> and <code>double</code> is that <code>long</code> can hold integer numbers only, while <code>double</code> is a floating-point number type (it can hold fractions). See: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692968852,"creation_date":1622829460,"answer_id":67841954,"question_id":67841630,"body_markdown":"# tl;dr\r\n\r\nFor population of humans, use `long` primitive or `Long` class.\r\n\r\n\r\n# Details\r\n\r\nThe floating-point types [trade away accuracy][1] in exchange for speed of execution. These types in Java include `float`/`Float` and `double`/`Double`.\r\n\r\n| Size | Whole numbers | Fractional numbers |\r\n| ----: | :----: |  :---: |\r\n| 32-bit    | `int` / `Integer`  | `float` / `Float` |\r\n| 64-bit   | `long` / `Long`  | `double` / `Double` |\r\n| varies  | `BigInteger`  | `BigDecimal` |\r\n\r\nIf working with whole numbers (no fractions):\r\n\r\n - For smaller numbers ranging from -2^31 to 2^31-1 (roughly plus or minus 2 billion , use `int`/`Integer`. Needs 32-bits for content.\r\n - For larger numbers, use `long`/`Long`. Needs 64-bits for content.\r\n - For extremely large numbers, use `BigInteger`.\r\n\r\nIf working with fractional numbers (not integers):\r\n\r\n - For numbers between (2-2^-23) * 2^127 and 2^-149 where you do *not* care about accuracy, use `float`/[`Float`][2]. Needs 32-bits for content.\r\n - For larger/smaller numbers where you do *not* care about accuracy, use `double`/`Double`. Needs 64-bits for content.\r\n - For more extreme numbers, use `BigDecimal`.\r\n - If you care about accuracy (such as money matters), use `BigDecimal`.\r\n\r\nSo for the earths population of humans, use `long`/`Long`.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Float.html","title":"double versus long for large numbers in Java","body":"<h1>tl;dr</h1>\n<p>For population of humans, use <code>long</code> primitive or <code>Long</code> class.</p>\n<h1>Details</h1>\n<p>The floating-point types <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\">trade away accuracy</a> in exchange for speed of execution. These types in Java include <code>float</code>/<code>Float</code> and <code>double</code>/<code>Double</code>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\">Size</th>\n<th style=\"text-align: center;\">Whole numbers</th>\n<th style=\"text-align: center;\">Fractional numbers</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">32-bit</td>\n<td style=\"text-align: center;\"><code>int</code> / <code>Integer</code></td>\n<td style=\"text-align: center;\"><code>float</code> / <code>Float</code></td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">64-bit</td>\n<td style=\"text-align: center;\"><code>long</code> / <code>Long</code></td>\n<td style=\"text-align: center;\"><code>double</code> / <code>Double</code></td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">varies</td>\n<td style=\"text-align: center;\"><code>BigInteger</code></td>\n<td style=\"text-align: center;\"><code>BigDecimal</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If working with whole numbers (no fractions):</p>\n<ul>\n<li>For smaller numbers ranging from -2^31 to 2^31-1 (roughly plus or minus 2 billion , use <code>int</code>/<code>Integer</code>. Needs 32-bits for content.</li>\n<li>For larger numbers, use <code>long</code>/<code>Long</code>. Needs 64-bits for content.</li>\n<li>For extremely large numbers, use <code>BigInteger</code>.</li>\n</ul>\n<p>If working with fractional numbers (not integers):</p>\n<ul>\n<li>For numbers between (2-2^-23) * 2^127 and 2^-149 where you do <em>not</em> care about accuracy, use <code>float</code>/<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Float.html\" rel=\"nofollow noreferrer\"><code>Float</code></a>. Needs 32-bits for content.</li>\n<li>For larger/smaller numbers where you do <em>not</em> care about accuracy, use <code>double</code>/<code>Double</code>. Needs 64-bits for content.</li>\n<li>For more extreme numbers, use <code>BigDecimal</code>.</li>\n<li>If you care about accuracy (such as money matters), use <code>BigDecimal</code>.</li>\n</ul>\n<p>So for the earths population of humans, use <code>long</code>/<code>Long</code>.</p>\n"}],"owner":{"account_id":21472348,"reputation":31,"user_id":15821133,"display_name":"Christoffer Druvg&#229;rden"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692968852,"creation_date":1622827735,"question_id":67841630,"body_markdown":"I&#39;m just starting to learn to code and this might be a very simple question but I have seen double used for numbers that are larger than int can hold. If I understand correctly, double is less precise than using long might be. \r\n\r\nSo if I have a number larger than int can hold, would it be best to use double or long? In what cases is one preferred over the other? What is best practice for this? \r\n\r\n(Say I would like to store a variable with Earth&#39;s population. Is double or long preferred?)","title":"double versus long for large numbers in Java","body":"<p>I'm just starting to learn to code and this might be a very simple question but I have seen double used for numbers that are larger than int can hold. If I understand correctly, double is less precise than using long might be.</p>\n<p>So if I have a number larger than int can hold, would it be best to use double or long? In what cases is one preferred over the other? What is best practice for this?</p>\n<p>(Say I would like to store a variable with Earth's population. Is double or long preferred?)</p>\n"},{"tags":["java","servlets","jersey","servlet-filters"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692966710,"post_id":76977201,"comment_id":135700429,"body_markdown":"Every filter is supposed to call the next one in the chain. If you do that, it&#39;ll work as you expect.","body":"Every filter is supposed to call the next one in the chain. If you do that, it&#39;ll work as you expect."},{"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"score":0,"creation_date":1692968414,"post_id":76977201,"comment_id":135700838,"body_markdown":"As far as I know, each servlet filter can decide to call the next filter via chain.doFilter() or not. I my case, I declared two servlet filters (first jersey filter, then another filter) in web.xml, both matching on url-pattern /*. When requesting a non-existing endpoint, the jersey filter is always executed, but the second filter runs only if the FILTER_FORWARD_ON_404 property has been set to true and no ExceptionMapper is registered.","body":"As far as I know, each servlet filter can decide to call the next filter via chain.doFilter() or not. I my case, I declared two servlet filters (first jersey filter, then another filter) in web.xml, both matching on url-pattern /*. When requesting a non-existing endpoint, the jersey filter is always executed, but the second filter runs only if the FILTER_FORWARD_ON_404 property has been set to true and no ExceptionMapper is registered."}],"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692968625,"creation_date":1692966633,"question_id":76977201,"body_markdown":"I&#39;d like to use Jersey (3.1.3) to filter http requests at endpoint */x* as follows:\r\n\r\n - if */x* exists: serve the request,\r\n - if */x* does not exist: continue with the next servlet filter in the chain that may handle */x*\r\n\r\nThe whole works when setting *property(ServletProperties.FILTER_FORWARD_ON_404, true)*. But, as soon as I add an *jakarta.ws.rs.ext.ExceptionMapper* as resource, the request gets aborted and upcoming servlet filters are not executed.\r\n\r\nHas anybody a solution of my problem?\r\n\r\n\r\nSidemark: Looking at the Jersey sources, I&#39;m looking for a way to handle the *NotFoundException* thrown in *org.glassfish.jersey.server.ServerRuntime* in case that no endpoint has been found - before calling the *ExceptionMapper* which effectively aborts the request. I tried also *ServerProperties.RESPONSE_SET_STATUS_OVER_SEND_ERROR* but this doesn&#39;t seem to be relevant here.","title":"Jersey - how to continue with next servlet filter on 404?","body":"<p>I'd like to use Jersey (3.1.3) to filter http requests at endpoint <em>/x</em> as follows:</p>\n<ul>\n<li>if <em>/x</em> exists: serve the request,</li>\n<li>if <em>/x</em> does not exist: continue with the next servlet filter in the chain that may handle <em>/x</em></li>\n</ul>\n<p>The whole works when setting <em>property(ServletProperties.FILTER_FORWARD_ON_404, true)</em>. But, as soon as I add an <em>jakarta.ws.rs.ext.ExceptionMapper</em> as resource, the request gets aborted and upcoming servlet filters are not executed.</p>\n<p>Has anybody a solution of my problem?</p>\n<p>Sidemark: Looking at the Jersey sources, I'm looking for a way to handle the <em>NotFoundException</em> thrown in <em>org.glassfish.jersey.server.ServerRuntime</em> in case that no endpoint has been found - before calling the <em>ExceptionMapper</em> which effectively aborts the request. I tried also <em>ServerProperties.RESPONSE_SET_STATUS_OVER_SEND_ERROR</em> but this doesn't seem to be relevant here.</p>\n"},{"tags":["java","collections","dictionary","hashmap"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1372322396,"post_id":17338480,"comment_id":25153794,"body_markdown":"In the loop you should do `screen_dataz.put(k,longValues[k]);` Look at your `HashMap` again and you&#39;ll understand why.","body":"In the loop you should do <code>screen_dataz.put(k,longValues[k]);</code> Look at your <code>HashMap</code> again and you&#39;ll understand why."},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":7,"creation_date":1372322424,"post_id":17338480,"comment_id":25153804,"body_markdown":"Please use generics to avoid potential errors due to wrong typecasting.","body":"Please use generics to avoid potential errors due to wrong typecasting."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1372322552,"post_id":17338480,"comment_id":25153886,"body_markdown":"99% of the time using Object is wrong. All the times you&#39;ve used Object[] they seem to actually be String[] in this case","body":"99% of the time using Object is wrong. All the times you&#39;ve used Object[] they seem to actually be String[] in this case"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1372322863,"post_id":17338480,"comment_id":25154048,"body_markdown":"As proposed on your earlier questions: Java is an OOP language. You&#39;ll produce easier to write and maintain code if you start using custom classes. `Object`, `Object[]` and `Object[][]` are very bad design decisions (in most cases - most certainly in yours).","body":"As proposed on your earlier questions: Java is an OOP language. You&#39;ll produce easier to write and maintain code if you start using custom classes. <code>Object</code>, <code>Object[]</code> and <code>Object[][]</code> are very bad design decisions (in most cases - most certainly in yours)."}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372322423,"creation_date":1372322423,"answer_id":17338528,"question_id":17338480,"body_markdown":"One correction in your code:\r\n\r\nYou may want to update your for loop\r\n\r\nas \r\n\r\n     for (int k=0; k&lt;longValues.length; k++)\r\n        {\r\n        screen_dataz.put(k,longValues[k]);\r\n        }\r\n\r\n","title":"How to retrieve key &amp; values from hashmap","body":"<p>One correction in your code:</p>\n\n<p>You may want to update your for loop</p>\n\n<p>as </p>\n\n<pre><code> for (int k=0; k&lt;longValues.length; k++)\n    {\n    screen_dataz.put(k,longValues[k]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1372322541,"creation_date":1372322541,"answer_id":17338555,"question_id":17338480,"body_markdown":"First, you must add a row of the `longValues` matrix to the map, and not the whole matrix:\r\n\r\n     for (int k=0; k&lt;longValues.length; k++)\r\n     {\r\n         screen_dataz.put(k,longValues[k]);\r\n     }\r\n\r\nThen, while iterating extract the value as `Object[]` and not `String`, and key as `Integer`\r\n\r\n     while (mapIterator.hasNext()) \r\n     {\r\n         Map.Entry mapEntry = (Map.Entry) mapIterator.next();\r\n         Integer keyValue = (Integer) mapEntry.getKey();\r\n         Object[] value = (Object[]) mapEntry.getValue();\r\n         //iterate over the array and print each value\r\n         for (int i=0; i&lt;value.length; i++) {\r\n             System.out.print(value[i] + &quot; &quot;);\r\n         }\r\n         System.out.println();\r\n     }","title":"How to retrieve key &amp; values from hashmap","body":"<p>First, you must add a row of the <code>longValues</code> matrix to the map, and not the whole matrix:</p>\n\n<pre><code> for (int k=0; k&lt;longValues.length; k++)\n {\n     screen_dataz.put(k,longValues[k]);\n }\n</code></pre>\n\n<p>Then, while iterating extract the value as <code>Object[]</code> and not <code>String</code>, and key as <code>Integer</code></p>\n\n<pre><code> while (mapIterator.hasNext()) \n {\n     Map.Entry mapEntry = (Map.Entry) mapIterator.next();\n     Integer keyValue = (Integer) mapEntry.getKey();\n     Object[] value = (Object[]) mapEntry.getValue();\n     //iterate over the array and print each value\n     for (int i=0; i&lt;value.length; i++) {\n         System.out.print(value[i] + \" \");\n     }\n     System.out.println();\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":1,"creation_date":1372322871,"post_id":17338593,"comment_id":25154055,"body_markdown":"+1 - that fixes the majority of the issues. You can still change `Object` to `String`, though.","body":"+1 - that fixes the majority of the issues. You can still change <code>Object</code> to <code>String</code>, though."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1372323055,"post_id":17338593,"comment_id":25154159,"body_markdown":"@Andreas I did, but reverted this change, thought that maybe there was some reason why the OP has chosen `Object` over `String`, if not then just replace `Object` with `String`.","body":"@Andreas I did, but reverted this change, thought that maybe there was some reason why the OP has chosen <code>Object</code> over <code>String</code>, if not then just replace <code>Object</code> with <code>String</code>."}],"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411150263,"creation_date":1372322683,"answer_id":17338593,"question_id":17338480,"body_markdown":"Your code with a few fixes/improvements:\r\n\r\n* **do not use casting when using generics**\r\n* the loop adding elements to `screen_dataz` was always adding the same object\r\n* the value stored in the map is an array which means it will not be printed as you expect with a simple call to `toString()`\r\n\r\n        public class TaskList {\r\n        \tprivate static HashMap&lt;Integer, String[]&gt; dataz = new HashMap&lt;Integer, String[]&gt;();\r\n        \tprivate static HashMap&lt;Integer, String[]&gt; screen_dataz = new HashMap&lt;Integer, String[]&gt;();\r\n        \tpublic final static String[][] longValues = {\r\n        \t\t\t{ &quot;10&quot;, &quot;kstc-proc&quot;, &quot;10.10.10.10.10.&quot;, &quot;5&quot;, &quot;O&quot; },\r\n        \t\t\t{ &quot;11&quot;, &quot;proc-lvk1&quot;, &quot;12.1.2.&quot;, &quot;4&quot;, &quot;O&quot; },\r\n        \t\t\t{ &quot;13&quot;, &quot;trng-lvk1&quot;, &quot;4.6.1.&quot;, &quot;3&quot;, &quot;O&quot; } };\r\n        \tprivate static String sl, pid, tid, mval, status;\r\n\r\n        \tpublic static void main(String args[]) {\r\n        \t\taddTask();\r\n        \t}\r\n\r\n        \tpublic static void addTask() {\r\n        \t\tfor (int k = 0; k &lt; longValues.length; k++) {\r\n        \t\t\tscreen_dataz.put(k, longValues[k]);\r\n        \t\t}\r\n        \t\tSet&lt;Entry&lt;Integer, String[]&gt;&gt; mapSet = screen_dataz.entrySet();\r\n        \t\tIterator&lt;Entry&lt;Integer, String[]&gt;&gt; mapIterator = mapSet.iterator();\r\n        \t\twhile (mapIterator.hasNext()) {\r\n        \t\t\tEntry&lt;Integer, String[]&gt; mapEntry = mapIterator.next();\r\n        \t\t\tInteger keyValue = mapEntry.getKey();\r\n        \t\t\tString[] value = mapEntry.getValue();\r\n        \t\t\tSystem.out.println(Arrays.toString(value));\r\n        \t\t}\r\n        \t}\r\n        }","title":"How to retrieve key &amp; values from hashmap","body":"<p>Your code with a few fixes/improvements:</p>\n\n<ul>\n<li><strong>do not use casting when using generics</strong></li>\n<li>the loop adding elements to <code>screen_dataz</code> was always adding the same object</li>\n<li><p>the value stored in the map is an array which means it will not be printed as you expect with a simple call to <code>toString()</code></p>\n\n<pre><code>public class TaskList {\n    private static HashMap&lt;Integer, String[]&gt; dataz = new HashMap&lt;Integer, String[]&gt;();\n    private static HashMap&lt;Integer, String[]&gt; screen_dataz = new HashMap&lt;Integer, String[]&gt;();\n    public final static String[][] longValues = {\n            { \"10\", \"kstc-proc\", \"10.10.10.10.10.\", \"5\", \"O\" },\n            { \"11\", \"proc-lvk1\", \"12.1.2.\", \"4\", \"O\" },\n            { \"13\", \"trng-lvk1\", \"4.6.1.\", \"3\", \"O\" } };\n    private static String sl, pid, tid, mval, status;\n\n    public static void main(String args[]) {\n        addTask();\n    }\n\n    public static void addTask() {\n        for (int k = 0; k &lt; longValues.length; k++) {\n            screen_dataz.put(k, longValues[k]);\n        }\n        Set&lt;Entry&lt;Integer, String[]&gt;&gt; mapSet = screen_dataz.entrySet();\n        Iterator&lt;Entry&lt;Integer, String[]&gt;&gt; mapIterator = mapSet.iterator();\n        while (mapIterator.hasNext()) {\n            Entry&lt;Integer, String[]&gt; mapEntry = mapIterator.next();\n            Integer keyValue = mapEntry.getKey();\n            String[] value = mapEntry.getValue();\n            System.out.println(Arrays.toString(value));\n        }\n    }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372322709,"creation_date":1372322709,"answer_id":17338599,"question_id":17338480,"body_markdown":"First, change your `for` loop to populate to `screen_dataz` like this.\r\n\r\n    for (int k=0; k&lt;longValues.length; k++)\r\n    {\r\n        screen_dataz.put(k,longValues[k]);\r\n    }\r\n\r\nNext, make the below change:-\r\n\r\n    String keyValue = mapEntry.getKey().toString();\r\n    String value = Arrays.asList((Object[])mapEntry.getValue()).toString();\r\n\r\nThis will print your value properly.","title":"How to retrieve key &amp; values from hashmap","body":"<p>First, change your <code>for</code> loop to populate to <code>screen_dataz</code> like this.</p>\n\n<pre><code>for (int k=0; k&lt;longValues.length; k++)\n{\n    screen_dataz.put(k,longValues[k]);\n}\n</code></pre>\n\n<p>Next, make the below change:-</p>\n\n<pre><code>String keyValue = mapEntry.getKey().toString();\nString value = Arrays.asList((Object[])mapEntry.getValue()).toString();\n</code></pre>\n\n<p>This will print your value properly.</p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372323263,"creation_date":1372322883,"answer_id":17338659,"question_id":17338480,"body_markdown":"Quite a few things to comment about this code.\r\n\r\nFirst, the generic arguments of the parameterized type are incorrect.  The map is currently storing `Map&lt;Long,Object[]&gt;` however objects of type `Object[][]` are added to the `Map`.  I assume you want to enter each `Object[]` as a separate `Entry` in the `Map`.\r\n\r\n        for (int k=0; k&lt;longValues.length; k++)\r\n        {\r\n        screen_dataz.put(k,longValues[k]);\r\n        }\r\n\r\nThe second piece to look at is the iteration over the `Map` entries.  Instead of using the `Iterator` use a `for..each` loop.\r\n\r\n        for(Entry&lt;Integer,Object[]&gt; entry: screen_dataz.entrySet()){\r\n           //repetitive task\r\n        }\r\n\r\n**Final Output**\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Set;\r\n    \r\n    public class TaskList\r\n    {   \r\n    \r\n        private static HashMap&lt;Integer, Object[]&gt; dataz = new HashMap&lt;Integer,Object[]&gt;();\r\n        private static  HashMap&lt;Integer, Object[]&gt; screen_dataz = new HashMap&lt;Integer,Object[]&gt;();\r\n        public final static Object[][] longValues = {{&quot;10&quot;, &quot;kstc-proc&quot;, &quot;10.10.10.10.10.&quot;,&quot;5&quot;,&quot;O&quot;},{&quot;11&quot;, &quot;proc-lvk1&quot;, &quot;12.1.2.&quot;,&quot;4&quot;,&quot;O&quot;},{&quot;13&quot;, &quot;trng-lvk1&quot;, &quot;4.6.1.&quot;,&quot;3&quot;,&quot;O&quot;}};\r\n        private static String sl,pid,tid,mval,status;\r\n    \r\n        public static void main(String args[])\r\n        {\r\n            addTask();\r\n        }\r\n    \r\n        public static void addTask()\r\n        {  \r\n            for (int k=0; k&lt;longValues.length; k++)\r\n            {\r\n            screen_dataz.put(k,longValues[k]);\r\n            }\r\n            \r\n            for(Entry&lt;Integer,Object[]&gt; entry: screen_dataz.entrySet()){\r\n            \tSystem.out.println(entry.getKey());\r\n            \tfor(Object obj: entry.getValue()){\r\n            \t\t\tSystem.out.println(obj.toString());\r\n            \t}\r\n            }\r\n        }\r\n        \r\n    }","title":"How to retrieve key &amp; values from hashmap","body":"<p>Quite a few things to comment about this code.</p>\n\n<p>First, the generic arguments of the parameterized type are incorrect.  The map is currently storing <code>Map&lt;Long,Object[]&gt;</code> however objects of type <code>Object[][]</code> are added to the <code>Map</code>.  I assume you want to enter each <code>Object[]</code> as a separate <code>Entry</code> in the <code>Map</code>.</p>\n\n<pre><code>    for (int k=0; k&lt;longValues.length; k++)\n    {\n    screen_dataz.put(k,longValues[k]);\n    }\n</code></pre>\n\n<p>The second piece to look at is the iteration over the <code>Map</code> entries.  Instead of using the <code>Iterator</code> use a <code>for..each</code> loop.</p>\n\n<pre><code>    for(Entry&lt;Integer,Object[]&gt; entry: screen_dataz.entrySet()){\n       //repetitive task\n    }\n</code></pre>\n\n<p><strong>Final Output</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Set;\n\npublic class TaskList\n{   \n\n    private static HashMap&lt;Integer, Object[]&gt; dataz = new HashMap&lt;Integer,Object[]&gt;();\n    private static  HashMap&lt;Integer, Object[]&gt; screen_dataz = new HashMap&lt;Integer,Object[]&gt;();\n    public final static Object[][] longValues = {{\"10\", \"kstc-proc\", \"10.10.10.10.10.\",\"5\",\"O\"},{\"11\", \"proc-lvk1\", \"12.1.2.\",\"4\",\"O\"},{\"13\", \"trng-lvk1\", \"4.6.1.\",\"3\",\"O\"}};\n    private static String sl,pid,tid,mval,status;\n\n    public static void main(String args[])\n    {\n        addTask();\n    }\n\n    public static void addTask()\n    {  \n        for (int k=0; k&lt;longValues.length; k++)\n        {\n        screen_dataz.put(k,longValues[k]);\n        }\n\n        for(Entry&lt;Integer,Object[]&gt; entry: screen_dataz.entrySet()){\n            System.out.println(entry.getKey());\n            for(Object obj: entry.getValue()){\n                    System.out.println(obj.toString());\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2261099,"reputation":214,"user_id":1991181,"accept_rate":86,"display_name":"LTKD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372327567,"creation_date":1372327567,"answer_id":17340301,"question_id":17338480,"body_markdown":"I think using `screen_dataz.put(k,longValues[k]);` in a loop will help you.\r\nYou could also use an Iterator for this.","title":"How to retrieve key &amp; values from hashmap","body":"<p>I think using <code>screen_dataz.put(k,longValues[k]);</code> in a loop will help you.\nYou could also use an Iterator for this.</p>\n"}],"owner":{"account_id":2775449,"reputation":475,"user_id":2389127,"accept_rate":87,"display_name":"milano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92791,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":17338555,"answer_count":6,"score":3,"last_activity_date":1692968503,"creation_date":1372322259,"question_id":17338480,"body_markdown":"I am trying to insert the values to hash map through object, and i want to check if the values are inserted in to hash map. so i am using this code but in runtime i am not able to get any output.\r\n\r\nHow to resolve this? \r\n\r\nCode:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import java.lang.*;\r\n     \r\n    public class TaskList\r\n    {   \r\n       \r\n        private static HashMap&lt;Integer, Object[]&gt; dataz = new HashMap&lt;Integer,Object[]&gt;();\r\n        private static  HashMap&lt;Integer, Object[]&gt; screen_dataz = new HashMap&lt;Integer,Object[]&gt;();\r\n        public final static Object[][] longValues = {{&quot;10&quot;, &quot;kstc-proc&quot;, &quot;10.10.10.10.10.&quot;,&quot;5&quot;,&quot;O&quot;},{&quot;11&quot;, &quot;proc-lvk1&quot;, &quot;12.1.2.&quot;,&quot;4&quot;,&quot;O&quot;},{&quot;13&quot;, &quot;trng-lvk1&quot;, &quot;4.6.1.&quot;,&quot;3&quot;,&quot;O&quot;}};\r\n        private static String sl,pid,tid,mval,status;\r\n       \r\n        public static void main(String args[])\r\n        {\r\n            addTask();\r\n        }\r\n         \r\n        public static void addTask()\r\n        {  \r\n            for (int k=0; k&lt;longValues.length; k++)\r\n            {\r\n            screen_dataz.put(k,longValues);\r\n            }\r\n            Set mapSet = (Set) screen_dataz.entrySet();\r\n            Iterator mapIterator = mapSet.iterator();\r\n            while (mapIterator.hasNext()) \r\n            {\r\n            Map.Entry mapEntry = (Map.Entry) mapIterator.next();\r\n            String keyValue = (String) mapEntry.getKey();\r\n            String value = (String) mapEntry.getValue();\r\n            System.out.println(value);\r\n            }\r\n        }\r\n    }\r\n\r\n ","title":"How to retrieve key &amp; values from hashmap","body":"<p>I am trying to insert the values to hash map through object, and i want to check if the values are inserted in to hash map. so i am using this code but in runtime i am not able to get any output.</p>\n\n<p>How to resolve this? </p>\n\n<p>Code:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\nimport java.lang.*;\n\npublic class TaskList\n{   \n\n    private static HashMap&lt;Integer, Object[]&gt; dataz = new HashMap&lt;Integer,Object[]&gt;();\n    private static  HashMap&lt;Integer, Object[]&gt; screen_dataz = new HashMap&lt;Integer,Object[]&gt;();\n    public final static Object[][] longValues = {{\"10\", \"kstc-proc\", \"10.10.10.10.10.\",\"5\",\"O\"},{\"11\", \"proc-lvk1\", \"12.1.2.\",\"4\",\"O\"},{\"13\", \"trng-lvk1\", \"4.6.1.\",\"3\",\"O\"}};\n    private static String sl,pid,tid,mval,status;\n\n    public static void main(String args[])\n    {\n        addTask();\n    }\n\n    public static void addTask()\n    {  \n        for (int k=0; k&lt;longValues.length; k++)\n        {\n        screen_dataz.put(k,longValues);\n        }\n        Set mapSet = (Set) screen_dataz.entrySet();\n        Iterator mapIterator = mapSet.iterator();\n        while (mapIterator.hasNext()) \n        {\n        Map.Entry mapEntry = (Map.Entry) mapIterator.next();\n        String keyValue = (String) mapEntry.getKey();\n        String value = (String) mapEntry.getValue();\n        System.out.println(value);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","tcp","jboss","netty"],"answers":[{"tags":[],"owner":{"account_id":2374267,"reputation":563,"user_id":2078080,"accept_rate":60,"display_name":"mac"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1538720345,"creation_date":1538720345,"answer_id":52659401,"question_id":52658774,"body_markdown":"OK, I have figured out a way to print the values. If anyone is interested,\r\n\r\n    byte[] bytes = new byte[buf.readableBytes()];\r\n    buf.duplicate().readBytes(bytes);\r\n    System.out.println(new String(bytes));","title":"Netty io.netty.buffer.ByteBuf.array() throws exception - direct buffer","body":"<p>OK, I have figured out a way to print the values. If anyone is interested,</p>\n\n<pre><code>byte[] bytes = new byte[buf.readableBytes()];\nbuf.duplicate().readBytes(bytes);\nSystem.out.println(new String(bytes));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538733616,"creation_date":1538733616,"answer_id":52663041,"question_id":52658774,"body_markdown":"To print the contents of a ByteBuf as a string, you can use *buf.toString(java.nio.charset.Charset)*.","title":"Netty io.netty.buffer.ByteBuf.array() throws exception - direct buffer","body":"<p>To print the contents of a ByteBuf as a string, you can use <em>buf.toString(java.nio.charset.Charset)</em>.</p>\n"},{"tags":[],"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692968498,"creation_date":1692968498,"answer_id":76977461,"question_id":52658774,"body_markdown":"Netty has a method for this\r\n\r\n```\r\nio.netty.buffer.ByteBufUtil.hexDump(buf)\r\n```","title":"Netty io.netty.buffer.ByteBuf.array() throws exception - direct buffer","body":"<p>Netty has a method for this</p>\n<pre><code>io.netty.buffer.ByteBufUtil.hexDump(buf)\n</code></pre>\n"}],"owner":{"account_id":2374267,"reputation":563,"user_id":2078080,"accept_rate":60,"display_name":"mac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3331,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52659401,"answer_count":3,"score":3,"last_activity_date":1692968498,"creation_date":1538716760,"question_id":52658774,"body_markdown":"I wanted to print io.netty.buffer.ByteBuf as string. But io.netty.buffer.ByteBuf.array() throws exception as follows.\r\n\r\njava.lang.UnsupportedOperationException: direct buffer\r\n\tat io.netty.buffer.PooledUnsafeDirectByteBuf.array(PooledUnsafeDirectByteBuf.java:343)\r\n\r\nCould some one help me to get the byte[] from byte io.netty.buffer.ByteBuf.\r\n\r\nThanks.\r\n","title":"Netty io.netty.buffer.ByteBuf.array() throws exception - direct buffer","body":"<p>I wanted to print io.netty.buffer.ByteBuf as string. But io.netty.buffer.ByteBuf.array() throws exception as follows.</p>\n\n<p>java.lang.UnsupportedOperationException: direct buffer\n    at io.netty.buffer.PooledUnsafeDirectByteBuf.array(PooledUnsafeDirectByteBuf.java:343)</p>\n\n<p>Could some one help me to get the byte[] from byte io.netty.buffer.ByteBuf.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","arrays","indexing","runtime-error","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1692968357,"post_id":76977419,"comment_id":135700822,"body_markdown":"this means you are trying to access the second element of an array which has zero or one element. Also, for future reference, try and keep the code as minimal as possible. There&#39;s no need for such lengthy code to reproduce this issue, is there?","body":"this means you are trying to access the second element of an array which has zero or one element. Also, for future reference, try and keep the code as minimal as possible. There&#39;s no need for such lengthy code to reproduce this issue, is there?"},{"owner":{"account_id":1778502,"reputation":913,"user_id":1621777,"accept_rate":17,"display_name":"Ashish Bansal"},"score":0,"creation_date":1692968809,"post_id":76977419,"comment_id":135700948,"body_markdown":"replace this code answers[0][1]=&quot;Execute Java Code&quot;;   with answer[0][0]...note : there is no index 0,1 or 9,1 for array answer[10][1]  as size is only 1 .","body":"replace this code answers[0][1]=&quot;Execute Java Code&quot;;   with answer[0][0]...note : there is no index 0,1 or 9,1 for array answer[10][1]  as size is only 1 ."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692969757,"post_id":76977419,"comment_id":135701188,"body_markdown":"you must be aware that indexes start at `0` and so can only go up to `length-1`  - so, for example, if you instantiate an array as `int[] array = new int[1];` - only one element - the only valid index is `0` and you will get that error if trying to access (read or set) `array[1]`","body":"you must be aware that indexes start at <code>0</code> and so can only go up to <code>length-1</code>  - so, for example, if you instantiate an array as <code>int[] array = new int[1];</code> - only one element - the only valid index is <code>0</code> and you will get that error if trying to access (read or set) <code>array[1]</code>"}],"owner":{"account_id":28035101,"reputation":1,"user_id":21413634,"display_name":"Hafsa Izhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692968456,"answer_count":0,"score":0,"last_activity_date":1692968196,"creation_date":1692968196,"question_id":76977419,"body_markdown":"HERE IS THE JAVA CODE.HAVING ARRAY INDEX OUT OF BOUND ERROR ON RUNTIME.\r\ni don&#39;t know what to do. I have tried every possible solution for this.\r\nThis is the error i am getting &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 1\r\n\tat QuizPG1.&lt;init&gt;(QuizPG1.java:90)\r\n\tat QuizPG1$3.run(QuizPG1.java:330)&quot;\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.ButtonGroup;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\n\r\npublic class QuizPG1 extends javax.swing.JFrame {\r\n      String questions[][]=new String [10][5];\r\n      String answers [][]=new String [10][1];\r\n      String userans[][]=new String[10][1];\r\n      public static int timer = 15;\r\n      public static int answerGiven = 0;\r\n      public static int count = 0;\r\n      public static int score = 0;\r\n      String name;\r\n    public QuizPG1(String name) {\r\n        this.name = name;\r\n        initComponents();\r\n        setSize(950,750);\r\n        setLocation(500,150);\r\n        \r\n        questions[0][0]=&quot;What is the general purpose of JAVA VIRTUAL MACHINE(JVM)?&quot;;\r\n        questions[0][1]=&quot;Compile Java Code&quot;;\r\n        questions[0][2]=&quot;Execute Java Code&quot;;  //correct \r\n        questions[0][3]=&quot;Debug Java Code&quot;;\r\n        questions[0][4]=&quot;Package Java Code&quot;;\r\n        \r\n        questions[1][0]=&quot;Which keyword is used to define constant variable in JAVA?&quot;;\r\n        questions[1][1]=&quot;final&quot;;   //correct\r\n        questions[1][2]=&quot;const&quot;;\r\n        questions[1][3]=&quot;var&quot;;\r\n        questions[1][4]=&quot;static&quot;;\r\n        \r\n        \r\n        questions[2][0]=&quot;In JAVA which access modifier provides the widest visibility?&quot;;\r\n        questions[2][1]=&quot;private&quot;;\r\n        questions[2][2]=&quot;default&quot;;\r\n        questions[2][3]=&quot;protected&quot;;\r\n        questions[2][4]=&quot;public&quot;;  //correct\r\n        \r\n        questions[3][0]=&quot;Which is the correct syntax to create an object of a class named &#39;My Class&#39;?&quot;;\r\n        questions[3][1]=&quot;object MyClass = new object;&quot;;\r\n        questions[3][2]=&quot;MyClass obj = create MyClass();&quot;;\r\n        questions[3][3]=&quot;MyClass obj = new MyClass();&quot;;   //correct\r\n        questions[3][4]=&quot;object obj = new MyClass;&quot;;\r\n        \r\n        questions[4][0]=&quot;Which data type is used to store a single Unicode character in JAVA?&quot;;\r\n        questions[4][1]=&quot;char&quot;;  //correct\r\n        questions[4][2]=&quot;string&quot;;\r\n        questions[4][3]=&quot;character&quot;;\r\n        questions[4][4]=&quot;unicode&quot;;\r\n        \r\n        questions[5][0]=&quot;Which statement is used to exit a loop in JAVA?&quot;;\r\n        questions[5][1]=&quot;halt&quot;;\r\n        questions[5][2]=&quot;stop&quot;;\r\n        questions[5][3]=&quot;end&quot;;\r\n        questions[5][4]=&quot;break&quot;;  //correct\r\n        \r\n        questions[6][0]=&quot;Which of the following is not a primitive data type in JAVA?&quot;;\r\n        questions[6][1]=&quot;int&quot;;\r\n        questions[6][2]=&quot;float&quot;;\r\n        questions[6][3]=&quot;boolean&quot;;\r\n        questions[6][4]=&quot;object&quot;;  //correct\r\n        \r\n        questions[7][0]=&quot;Which JAVA loop is guaranteed to execute at least once?&quot;;\r\n        questions[7][1]=&quot;while&quot;;\r\n        questions[7][2]=&quot;do-while&quot;;  //correct\r\n        questions[7][3]=&quot;for&quot;;\r\n        questions[7][4]=&quot;for-each&quot;;\r\n        \r\n        questions[8][0]=&quot;Which method is called automatically when an object is created from a class?&quot;;\r\n        questions[8][1]=&quot;start()&quot;;\r\n        questions[8][2]=&quot;initialize()&quot;;\r\n        questions[8][3]=&quot;main()&quot;;\r\n        questions[8][4]=&quot;constructor()&quot;;  //correct\r\n\r\n        \r\n        questions[9][0]=&quot;Which JAVA keyword is used to explicitly raise an exception?&quot;;\r\n        questions[9][1]=&quot;raise&quot;;\r\n        questions[9][2]=&quot;throw&quot;;   //correct\r\n        questions[9][3]=&quot;exception&quot;;\r\n        questions[9][4]=&quot;try&quot;;   \r\n        \r\n        answers[0][1]=&quot;Execute Java Code&quot;;\r\n        answers[1][1]=&quot;final&quot;;\r\n        answers[2][1]=&quot;public&quot;;\r\n        answers[3][1]=&quot;MyClass obj = new MyClass();&quot;;\r\n        answers[4][1]=&quot;char&quot;;\r\n        answers[5][1]=&quot;break&quot;;\r\n        answers[6][1]=&quot;object&quot;;\r\n        answers[7][1]=&quot;do-while&quot;;\r\n        answers[8][1]=&quot;constructor()&quot;;\r\n        answers[9][1]=&quot;throw&quot;;\r\n        \r\n        buttonGroup1.add(opt1);\r\n        buttonGroup1.add(opt2);\r\n        buttonGroup1.add(opt3);\r\n        buttonGroup1.add(opt4);\r\n        submit.setEnabled(false);\r\n        add(submit);\r\n        start(count);\r\n        setVisible(true);\r\n        \r\n    }\r\n\r\n    QuizPG1() {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n private void nextActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n        // TODO add your handling code here:\r\n     //   DefaultTableModel tb = (DefaultTableModel) tablemodel1.getModel();\r\n        repaint();\r\n        \r\n        answerGiven = 1;\r\n        if (buttonGroup1.getSelection()== null){\r\n               userans[count][0]=&quot;&quot;;\r\n           }else{\r\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\r\n           }\r\n        if(count == 8){\r\n            next.setEnabled(false);\r\n            submit.setEnabled(true);\r\n        }\r\n        count++;\r\n        start(count);\r\n    }                                    \r\n\r\n    private void submitActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        // TODO add your handling code here:\r\n        \r\n        answerGiven = 1;\r\n        if (buttonGroup1.getSelection()==null){\r\n               userans[count][0]=&quot;&quot;;\r\n           }else{\r\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\r\n           }\r\n             for(int i=0 ; i&lt;userans.length;i++){\r\n                 if(userans[i][0].equals(answers[i][1])){\r\n                     score += 10;\r\n                 }\r\n             }\r\n             setVisible(false);\r\n             new Score(name,score);\r\n             //SCOREtf.setText(score);\r\n                 \r\n    }                                      \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public void paint(Graphics g){\r\n        super.paint(g);\r\n        \r\n        String time = &quot;Time Left:&quot;+ timer + &quot;seconds&quot;;\r\n        g.setColor(Color.RED);\r\n        g.setFont(new Font(&quot;Tahoma&quot;,Font.BOLD,25));\r\n        if (timer &gt; 0){\r\n           g.drawString(time, 900, 500);    \r\n        }else{\r\n            g.drawString(&quot;Times Up!!&quot;, 900, 500);   \r\n        }\r\n       timer--;\r\n       \r\n       try{\r\n           Thread.sleep(1000);\r\n           repaint();\r\n       }  catch (InterruptedException ex) {\r\n              Logger.getLogger(QuizPG1.class.getName()).log(Level.SEVERE, null, ex);\r\n          }\r\n       if (answerGiven == 1){\r\n           answerGiven = 0;\r\n           timer = 15;\r\n       }else if (timer &lt; 0) {\r\n           \r\n           if(count == 8){\r\n            next.setEnabled(false);\r\n            submit.setEnabled(true);\r\n         } \r\n           if(count == 9){  //submit button\r\n               if(count &lt; userans.length){\r\n             if (buttonGroup1.getSelection()==null){\r\n               userans[count][0]=&quot;&quot;;\r\n           }else{\r\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\r\n           }\r\n       }\r\n              \r\n             for(int i=0 ; i&lt;userans.length;i++){\r\n                 if(userans[i][0]!= null &amp;&amp; userans[i][0].equals(answers[i][1])){\r\n                     score += 10;\r\n                 }\r\n             }\r\n             setVisible(false);\r\n              new Score(name,score);\r\n         } else{      // next button\r\n           \r\n           if (buttonGroup1.getSelection()==null){\r\n               userans[count][0]=&quot;&quot;;\r\n           }else{\r\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\r\n           }\r\n           count++;\r\n           start(count); \r\n           }\r\n       }\r\n    \r\n    }\r\n   \r\n    public void start(int count){\r\n        qno.setText(&quot;&quot;+ (count +1)+&quot;.&quot;);\r\n        question.setText(questions[count][0]);\r\n        opt1.setText(questions[count][1]);\r\n        opt1.setActionCommand(questions[count][1]);\r\n        \r\n        opt2.setText(questions[count][2]);    \r\n        opt2.setActionCommand(questions[count][2]);\r\n        \r\n        opt3.setText(questions[count][3]);        \r\n        opt3.setActionCommand(questions[count][3]);\r\n        \r\n        opt4.setText(questions[count][4]);\r\n        opt4.setActionCommand(questions[count][4]);\r\n        \r\n        buttonGroup1.clearSelection();\r\n    }\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new QuizPG1(&quot;user&quot;).setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.ButtonGroup buttonGroup1;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JButton next;\r\n    private javax.swing.JRadioButton opt1;\r\n    private javax.swing.JRadioButton opt2;\r\n    private javax.swing.JRadioButton opt3;\r\n    private javax.swing.JRadioButton opt4;\r\n    private javax.swing.JLabel qno;\r\n    private javax.swing.JLabel question;\r\n    private javax.swing.JButton submit;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried this piece of code in paint method.\r\n\r\n\r\n```\r\nfor(int i = 0; i &lt; userans.length; i++){\r\n    if(userans[i][0] != null &amp;&amp; userans[i][0].equals(answers[i][1])){\r\n        score += 10;\r\n    }\r\n}```\r\n\r\nBut it is still giving error.So i removed that amendment from my original code. Please provide me the solution.\r\nThe program is simple but on runtime I am having the Array index out of bound error.\r\n","title":"I have having Array Index Out Of Bound Error in this code","body":"<p>HERE IS THE JAVA CODE.HAVING ARRAY INDEX OUT OF BOUND ERROR ON RUNTIME.\ni don't know what to do. I have tried every possible solution for this.\nThis is the error i am getting &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 1\nat QuizPG1.(QuizPG1.java:90)\nat QuizPG1$3.run(QuizPG1.java:330)&quot;</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.ButtonGroup;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport javax.swing.table.DefaultTableModel;\n\n\npublic class QuizPG1 extends javax.swing.JFrame {\n      String questions[][]=new String [10][5];\n      String answers [][]=new String [10][1];\n      String userans[][]=new String[10][1];\n      public static int timer = 15;\n      public static int answerGiven = 0;\n      public static int count = 0;\n      public static int score = 0;\n      String name;\n    public QuizPG1(String name) {\n        this.name = name;\n        initComponents();\n        setSize(950,750);\n        setLocation(500,150);\n        \n        questions[0][0]=&quot;What is the general purpose of JAVA VIRTUAL MACHINE(JVM)?&quot;;\n        questions[0][1]=&quot;Compile Java Code&quot;;\n        questions[0][2]=&quot;Execute Java Code&quot;;  //correct \n        questions[0][3]=&quot;Debug Java Code&quot;;\n        questions[0][4]=&quot;Package Java Code&quot;;\n        \n        questions[1][0]=&quot;Which keyword is used to define constant variable in JAVA?&quot;;\n        questions[1][1]=&quot;final&quot;;   //correct\n        questions[1][2]=&quot;const&quot;;\n        questions[1][3]=&quot;var&quot;;\n        questions[1][4]=&quot;static&quot;;\n        \n        \n        questions[2][0]=&quot;In JAVA which access modifier provides the widest visibility?&quot;;\n        questions[2][1]=&quot;private&quot;;\n        questions[2][2]=&quot;default&quot;;\n        questions[2][3]=&quot;protected&quot;;\n        questions[2][4]=&quot;public&quot;;  //correct\n        \n        questions[3][0]=&quot;Which is the correct syntax to create an object of a class named 'My Class'?&quot;;\n        questions[3][1]=&quot;object MyClass = new object;&quot;;\n        questions[3][2]=&quot;MyClass obj = create MyClass();&quot;;\n        questions[3][3]=&quot;MyClass obj = new MyClass();&quot;;   //correct\n        questions[3][4]=&quot;object obj = new MyClass;&quot;;\n        \n        questions[4][0]=&quot;Which data type is used to store a single Unicode character in JAVA?&quot;;\n        questions[4][1]=&quot;char&quot;;  //correct\n        questions[4][2]=&quot;string&quot;;\n        questions[4][3]=&quot;character&quot;;\n        questions[4][4]=&quot;unicode&quot;;\n        \n        questions[5][0]=&quot;Which statement is used to exit a loop in JAVA?&quot;;\n        questions[5][1]=&quot;halt&quot;;\n        questions[5][2]=&quot;stop&quot;;\n        questions[5][3]=&quot;end&quot;;\n        questions[5][4]=&quot;break&quot;;  //correct\n        \n        questions[6][0]=&quot;Which of the following is not a primitive data type in JAVA?&quot;;\n        questions[6][1]=&quot;int&quot;;\n        questions[6][2]=&quot;float&quot;;\n        questions[6][3]=&quot;boolean&quot;;\n        questions[6][4]=&quot;object&quot;;  //correct\n        \n        questions[7][0]=&quot;Which JAVA loop is guaranteed to execute at least once?&quot;;\n        questions[7][1]=&quot;while&quot;;\n        questions[7][2]=&quot;do-while&quot;;  //correct\n        questions[7][3]=&quot;for&quot;;\n        questions[7][4]=&quot;for-each&quot;;\n        \n        questions[8][0]=&quot;Which method is called automatically when an object is created from a class?&quot;;\n        questions[8][1]=&quot;start()&quot;;\n        questions[8][2]=&quot;initialize()&quot;;\n        questions[8][3]=&quot;main()&quot;;\n        questions[8][4]=&quot;constructor()&quot;;  //correct\n\n        \n        questions[9][0]=&quot;Which JAVA keyword is used to explicitly raise an exception?&quot;;\n        questions[9][1]=&quot;raise&quot;;\n        questions[9][2]=&quot;throw&quot;;   //correct\n        questions[9][3]=&quot;exception&quot;;\n        questions[9][4]=&quot;try&quot;;   \n        \n        answers[0][1]=&quot;Execute Java Code&quot;;\n        answers[1][1]=&quot;final&quot;;\n        answers[2][1]=&quot;public&quot;;\n        answers[3][1]=&quot;MyClass obj = new MyClass();&quot;;\n        answers[4][1]=&quot;char&quot;;\n        answers[5][1]=&quot;break&quot;;\n        answers[6][1]=&quot;object&quot;;\n        answers[7][1]=&quot;do-while&quot;;\n        answers[8][1]=&quot;constructor()&quot;;\n        answers[9][1]=&quot;throw&quot;;\n        \n        buttonGroup1.add(opt1);\n        buttonGroup1.add(opt2);\n        buttonGroup1.add(opt3);\n        buttonGroup1.add(opt4);\n        submit.setEnabled(false);\n        add(submit);\n        start(count);\n        setVisible(true);\n        \n    }\n\n    QuizPG1() {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n private void nextActionPerformed(java.awt.event.ActionEvent evt) {                                     \n        // TODO add your handling code here:\n     //   DefaultTableModel tb = (DefaultTableModel) tablemodel1.getModel();\n        repaint();\n        \n        answerGiven = 1;\n        if (buttonGroup1.getSelection()== null){\n               userans[count][0]=&quot;&quot;;\n           }else{\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\n           }\n        if(count == 8){\n            next.setEnabled(false);\n            submit.setEnabled(true);\n        }\n        count++;\n        start(count);\n    }                                    \n\n    private void submitActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        // TODO add your handling code here:\n        \n        answerGiven = 1;\n        if (buttonGroup1.getSelection()==null){\n               userans[count][0]=&quot;&quot;;\n           }else{\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\n           }\n             for(int i=0 ; i&lt;userans.length;i++){\n                 if(userans[i][0].equals(answers[i][1])){\n                     score += 10;\n                 }\n             }\n             setVisible(false);\n             new Score(name,score);\n             //SCOREtf.setText(score);\n                 \n    }                                      \n\n    /**\n     * @param args the command line arguments\n     */\n    public void paint(Graphics g){\n        super.paint(g);\n        \n        String time = &quot;Time Left:&quot;+ timer + &quot;seconds&quot;;\n        g.setColor(Color.RED);\n        g.setFont(new Font(&quot;Tahoma&quot;,Font.BOLD,25));\n        if (timer &gt; 0){\n           g.drawString(time, 900, 500);    \n        }else{\n            g.drawString(&quot;Times Up!!&quot;, 900, 500);   \n        }\n       timer--;\n       \n       try{\n           Thread.sleep(1000);\n           repaint();\n       }  catch (InterruptedException ex) {\n              Logger.getLogger(QuizPG1.class.getName()).log(Level.SEVERE, null, ex);\n          }\n       if (answerGiven == 1){\n           answerGiven = 0;\n           timer = 15;\n       }else if (timer &lt; 0) {\n           \n           if(count == 8){\n            next.setEnabled(false);\n            submit.setEnabled(true);\n         } \n           if(count == 9){  //submit button\n               if(count &lt; userans.length){\n             if (buttonGroup1.getSelection()==null){\n               userans[count][0]=&quot;&quot;;\n           }else{\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\n           }\n       }\n              \n             for(int i=0 ; i&lt;userans.length;i++){\n                 if(userans[i][0]!= null &amp;&amp; userans[i][0].equals(answers[i][1])){\n                     score += 10;\n                 }\n             }\n             setVisible(false);\n              new Score(name,score);\n         } else{      // next button\n           \n           if (buttonGroup1.getSelection()==null){\n               userans[count][0]=&quot;&quot;;\n           }else{\n               userans[count][0]=buttonGroup1.getSelection().getActionCommand();\n           }\n           count++;\n           start(count); \n           }\n       }\n    \n    }\n   \n    public void start(int count){\n        qno.setText(&quot;&quot;+ (count +1)+&quot;.&quot;);\n        question.setText(questions[count][0]);\n        opt1.setText(questions[count][1]);\n        opt1.setActionCommand(questions[count][1]);\n        \n        opt2.setText(questions[count][2]);    \n        opt2.setActionCommand(questions[count][2]);\n        \n        opt3.setText(questions[count][3]);        \n        opt3.setActionCommand(questions[count][3]);\n        \n        opt4.setText(questions[count][4]);\n        opt4.setActionCommand(questions[count][4]);\n        \n        buttonGroup1.clearSelection();\n    }\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(QuizPG1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new QuizPG1(&quot;user&quot;).setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.ButtonGroup buttonGroup1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JButton next;\n    private javax.swing.JRadioButton opt1;\n    private javax.swing.JRadioButton opt2;\n    private javax.swing.JRadioButton opt3;\n    private javax.swing.JRadioButton opt4;\n    private javax.swing.JLabel qno;\n    private javax.swing.JLabel question;\n    private javax.swing.JButton submit;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>I tried this piece of code in paint method.</p>\n<pre><code>for(int i = 0; i &lt; userans.length; i++){\n    if(userans[i][0] != null &amp;&amp; userans[i][0].equals(answers[i][1])){\n        score += 10;\n    }\n}```\n\nBut it is still giving error.So i removed that amendment from my original code. Please provide me the solution.\nThe program is simple but on runtime I am having the Array index out of bound error.\n</code></pre>\n"},{"tags":["java","spring","event-listener"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692966630,"post_id":76977187,"comment_id":135700416,"body_markdown":"Probably by design. Don&#39;t count on `publishEvent` calling all listeners synchronously.","body":"Probably by design. Don&#39;t count on <code>publishEvent</code> calling all listeners synchronously."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1692966771,"post_id":76977187,"comment_id":135700444,"body_markdown":"@Jorn No. It is synchronous by default. You annotate your listener with `@Async` if it can be async. https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html They haven&#39;t used that annotation, so they can count on it.","body":"@Jorn No. It is synchronous by default. You annotate your listener with <code>@Async</code> if it can be async. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> They haven&#39;t used that annotation, so they can count on it."}],"answers":[{"tags":[],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692968091,"creation_date":1692968091,"answer_id":76977406,"question_id":76977187,"body_markdown":"Have a look at the ApplicationEventPublisher.html documentation. [https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html#publishEvent(java.lang.Object)][1]\r\n\r\n&gt; Such an event publication step is effectively a hand-off to the multicaster and does not imply synchronous/asynchronous execution or even immediate execution at all. Event listeners are encouraged to be as efficient as possible, individually using asynchronous execution for longer-running and potentially blocking operations.","title":"Spring event publisher is not waiting listener","body":"<p>Have a look at the ApplicationEventPublisher.html documentation. [https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html#publishEvent(java.lang.Object)][1]</p>\n<blockquote>\n<p>Such an event publication step is effectively a hand-off to the multicaster and does not imply synchronous/asynchronous execution or even immediate execution at all. Event listeners are encouraged to be as efficient as possible, individually using asynchronous execution for longer-running and potentially blocking operations.</p>\n</blockquote>\n"}],"owner":{"account_id":16760288,"reputation":41,"user_id":12115215,"display_name":"Bedirhan G&#246;kce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692968091,"creation_date":1692966553,"question_id":76977187,"body_markdown":"I have 3 classes on 2 different projects. I want to publish event from one project and wait for the end of the listener method on the other project. But in my case publisher method is not waiting for the listeners. After the end of publisher method, listener methods starts running.\r\n\r\nHere is Minimal, Reproducible Example:\r\n\r\nIn project 1 I have 2 classes:\r\n\r\n    import org.springframework.context.ApplicationEvent;\r\n\r\n    public class ConfigEvent extends ApplicationEvent {\r\n\r\n        private static final long serialVersionUID = 144711L;\r\n\r\n        public ConfigEvent(Object source) {\r\n            super(source);\r\n        }\r\n    }\r\n \r\n\r\n\r\n    @Configuration\r\n    public class Config {\r\n\r\n        @Autowired\r\n        ApplicationEventPublisher publisher;\r\n\r\n        @Bean\r\n        public Object object(Object unnecessaryObject) {\r\n            System.out.println(&quot;Before publish&quot;);\r\n            publisher.publishEvent(new ConfigEvent(this));\r\n            System.out.println(&quot;After publish&quot;);\r\n            Object obj= new Object ();\r\n\r\n            System.out.println(&quot;End of publisher&quot;);\r\n            return obj;\r\n        }\r\n    }\r\nIn project 2:\r\n\r\n    @Component\r\n    public class MyConfig implements ApplicationListener&lt;ConfigEvent&gt; {\r\n        @Override\r\n        public void onApplicationEvent(ConfigEvent event) {\r\n            System.out.println(&quot;Start of Event listener&quot;);\r\n            System.out.println(&quot;End of Event listener&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIn the above case output order is like this:\r\n\r\n - Before publish \r\n - After publish \r\n - End of publish method \r\n - Start of Event listener \r\n - End of Event listener\r\n\r\nMy publisher method was waiting for the listeners. But after the changing spring version, it&#39;s not waiting anymore.\r\n\r\nHere is the expected output order:\r\n - Before publish \r\n - Start of Event listener \r\n - End of Event listener\r\n - After publish \r\n - End of publish method \r\n\r\nIs there a bug or this is the correct working of application listeners? And what can I do to achieve this? \r\n \r\n","title":"Spring event publisher is not waiting listener","body":"<p>I have 3 classes on 2 different projects. I want to publish event from one project and wait for the end of the listener method on the other project. But in my case publisher method is not waiting for the listeners. After the end of publisher method, listener methods starts running.</p>\n<p>Here is Minimal, Reproducible Example:</p>\n<p>In project 1 I have 2 classes:</p>\n<pre><code>import org.springframework.context.ApplicationEvent;\n\npublic class ConfigEvent extends ApplicationEvent {\n\n    private static final long serialVersionUID = 144711L;\n\n    public ConfigEvent(Object source) {\n        super(source);\n    }\n}\n\n\n\n@Configuration\npublic class Config {\n\n    @Autowired\n    ApplicationEventPublisher publisher;\n\n    @Bean\n    public Object object(Object unnecessaryObject) {\n        System.out.println(&quot;Before publish&quot;);\n        publisher.publishEvent(new ConfigEvent(this));\n        System.out.println(&quot;After publish&quot;);\n        Object obj= new Object ();\n\n        System.out.println(&quot;End of publisher&quot;);\n        return obj;\n    }\n}\n</code></pre>\n<p>In project 2:</p>\n<pre><code>@Component\npublic class MyConfig implements ApplicationListener&lt;ConfigEvent&gt; {\n    @Override\n    public void onApplicationEvent(ConfigEvent event) {\n        System.out.println(&quot;Start of Event listener&quot;);\n        System.out.println(&quot;End of Event listener&quot;);\n    }\n}\n</code></pre>\n<p>In the above case output order is like this:</p>\n<ul>\n<li>Before publish</li>\n<li>After publish</li>\n<li>End of publish method</li>\n<li>Start of Event listener</li>\n<li>End of Event listener</li>\n</ul>\n<p>My publisher method was waiting for the listeners. But after the changing spring version, it's not waiting anymore.</p>\n<p>Here is the expected output order:</p>\n<ul>\n<li>Before publish</li>\n<li>Start of Event listener</li>\n<li>End of Event listener</li>\n<li>After publish</li>\n<li>End of publish method</li>\n</ul>\n<p>Is there a bug or this is the correct working of application listeners? And what can I do to achieve this?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"score":0,"creation_date":1692910888,"post_id":76972633,"comment_id":135692610,"body_markdown":"Could you provide examples of the code for the save procedure of both entities?","body":"Could you provide examples of the code for the save procedure of both entities?"},{"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"score":0,"creation_date":1692911631,"post_id":76972633,"comment_id":135692745,"body_markdown":"updated the question with more details","body":"updated the question with more details"},{"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"score":0,"creation_date":1692911840,"post_id":76972633,"comment_id":135692781,"body_markdown":"Still missing the part where you build the entities used by the Repository.","body":"Still missing the part where you build the entities used by the Repository."},{"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"score":0,"creation_date":1692913330,"post_id":76972633,"comment_id":135692989,"body_markdown":"updated now, please check","body":"updated now, please check"}],"answers":[{"comments":[{"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"score":0,"creation_date":1693258292,"post_id":76977405,"comment_id":135734321,"body_markdown":"As a work around I did as you suggested. But in an ideal scenario saving entity one should also save entity two right, once we establish the relation","body":"As a work around I did as you suggested. But in an ideal scenario saving entity one should also save entity two right, once we establish the relation"}],"tags":[],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692968086,"creation_date":1692968086,"answer_id":76977405,"question_id":76972633,"body_markdown":"According to your code, you are not associating EntityOne to EntityTwo has a field directly (using @OneToMany is not enough). Try saving EntityOne and then EntityTwo having it assigned its entityOne field. That should be enough.","title":"PK of the first Entity is not updating in second Entites referenced column --&gt; hibernate spring boot","body":"<p>According to your code, you are not associating EntityOne to EntityTwo has a field directly (using @OneToMany is not enough). Try saving EntityOne and then EntityTwo having it assigned its entityOne field. That should be enough.</p>\n"}],"owner":{"account_id":22307976,"reputation":95,"user_id":16532376,"display_name":"sai23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692968086,"creation_date":1692907782,"question_id":76972633,"body_markdown":"As the title says, I&#39;ve 2 entity classes \r\n\r\nEntity - 1\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity1&quot;, schema = &quot;schema&quot;)\r\n    public class EntityOne {\r\n       \r\n       @Id\r\n       @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;first_id_seq&quot;)\r\n       @SequenceGenerator(sequenceName = &quot;[schema].[first_id_seq]&quot;, name = &quot;first_id_seq&quot;, allocationSize = 1)\r\n       \r\n       @Column(name = &quot;id&quot;)\r\n       private Integer id;\r\n       \r\n       private String name;\r\n       \r\n       @OneToMany(mappedBy = &quot;entityOne&quot;, cascade=CascadeType.ALL)\r\n       private List&lt;EntityTwo&gt; entityTwo;\r\n    }\r\nEntity - 2\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity2&quot;, schema = &quot;schema&quot;)\r\n    public class EntityTwo {\r\n       \r\n       @Id\r\n       @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;second_id_seq&quot;)\r\n       @SequenceGenerator(sequenceName = &quot;[schema].[second_id_seq]&quot;, name = &quot;second_id_seq&quot;, allocationSize = 1)\r\n       @Column(name = &quot;id&quot;)\r\n       private Integer id;\r\n       \r\n       @Column(name = &quot;vendor_id&quot;)\r\n       private Integer vendorId;\r\n\r\n       private String name;\r\n       \r\n       @ManyToOne(fetch = FetchType.LAZY)\r\n       @JoinColumn(name = &quot;vendor_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false, insertable = false, updatable = false)\r\n       private EntityOne entityOne;\r\n    }\r\n\r\nFinally when saving it i&#39;ve DAO layer with method like this\r\n\r\n    @Repository\r\n    public interface Repository extends JpaRepository&lt;EntityOne, Integer&gt; {\r\n    }\r\n\r\n    public class DAO {\r\n        \r\n        @Autowired\r\n        private Repository repository;\r\n\r\n    //consider this method getting called from controller\r\n            public EnitityOne mapRequestToEntity(Request request) {\r\n             EntityOne entityOne = new EntityOne();\r\n             entityOne.setName(request.getName);\r\n             List&lt;EntityTwo&gt; entityTwo = new ArrayList&lt;&gt;();\r\n             // setting entityTwo values here from the request\r\n             entityOne.setEntityTwo(entityTwo);\r\n             entityOne = save(entityOne);\r\n             return entityOne;\r\n    }\r\n        \r\n        public EntityOne save(EntityOne entityOne) {\r\n            repository.saveAndFlush(entityOne);\r\n        }\r\n    }\r\n\r\nI&#39;m saving the EntityOne from the controller, but when saving EnityOne&#39;s id(PK) should be mapped to EntityTwo&#39;s vendor_id and save but this is not happening. It is saving as `NULL`(null is accepted in db just for POC)\r\n","title":"PK of the first Entity is not updating in second Entites referenced column --&gt; hibernate spring boot","body":"<p>As the title says, I've 2 entity classes</p>\n<p>Entity - 1</p>\n<pre><code>@Entity\n@Table(name = &quot;entity1&quot;, schema = &quot;schema&quot;)\npublic class EntityOne {\n   \n   @Id\n   @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;first_id_seq&quot;)\n   @SequenceGenerator(sequenceName = &quot;[schema].[first_id_seq]&quot;, name = &quot;first_id_seq&quot;, allocationSize = 1)\n   \n   @Column(name = &quot;id&quot;)\n   private Integer id;\n   \n   private String name;\n   \n   @OneToMany(mappedBy = &quot;entityOne&quot;, cascade=CascadeType.ALL)\n   private List&lt;EntityTwo&gt; entityTwo;\n}\n</code></pre>\n<p>Entity - 2</p>\n<pre><code>@Entity\n@Table(name = &quot;entity2&quot;, schema = &quot;schema&quot;)\npublic class EntityTwo {\n   \n   @Id\n   @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;second_id_seq&quot;)\n   @SequenceGenerator(sequenceName = &quot;[schema].[second_id_seq]&quot;, name = &quot;second_id_seq&quot;, allocationSize = 1)\n   @Column(name = &quot;id&quot;)\n   private Integer id;\n   \n   @Column(name = &quot;vendor_id&quot;)\n   private Integer vendorId;\n\n   private String name;\n   \n   @ManyToOne(fetch = FetchType.LAZY)\n   @JoinColumn(name = &quot;vendor_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false, insertable = false, updatable = false)\n   private EntityOne entityOne;\n}\n</code></pre>\n<p>Finally when saving it i've DAO layer with method like this</p>\n<pre><code>@Repository\npublic interface Repository extends JpaRepository&lt;EntityOne, Integer&gt; {\n}\n\npublic class DAO {\n    \n    @Autowired\n    private Repository repository;\n\n//consider this method getting called from controller\n        public EnitityOne mapRequestToEntity(Request request) {\n         EntityOne entityOne = new EntityOne();\n         entityOne.setName(request.getName);\n         List&lt;EntityTwo&gt; entityTwo = new ArrayList&lt;&gt;();\n         // setting entityTwo values here from the request\n         entityOne.setEntityTwo(entityTwo);\n         entityOne = save(entityOne);\n         return entityOne;\n}\n    \n    public EntityOne save(EntityOne entityOne) {\n        repository.saveAndFlush(entityOne);\n    }\n}\n</code></pre>\n<p>I'm saving the EntityOne from the controller, but when saving EnityOne's id(PK) should be mapped to EntityTwo's vendor_id and save but this is not happening. It is saving as <code>NULL</code>(null is accepted in db just for POC)</p>\n"},{"tags":["java","arrays","algorithm","matrix","point"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692963891,"post_id":76976614,"comment_id":135699811,"body_markdown":"Your question is really how to find the points. You don&#39;t have a problem printing them, do you?","body":"Your question is really how to find the points. You don&#39;t have a problem printing them, do you?"},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692965725,"post_id":76976614,"comment_id":135700207,"body_markdown":"@aled I have this application that find the delta minimum, and it works, I have problem to how put the closest pair of point into an array to make them in a bright color in the panel. Cause the program always color the wrong points.","body":"@aled I have this application that find the delta minimum, and it works, I have problem to how put the closest pair of point into an array to make them in a bright color in the panel. Cause the program always color the wrong points."}],"answers":[{"comments":[{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692966313,"post_id":76976807,"comment_id":135700350,"body_markdown":"I want to add to the list just the one with the minimum distance, but I do the brute force more times, so it add in the list only the latest and this is not what I need.","body":"I want to add to the list just the one with the minimum distance, but I do the brute force more times, so it add in the list only the latest and this is not what I need."},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692966362,"post_id":76976807,"comment_id":135700358,"body_markdown":"can I create a new list every time and then compare them?","body":"can I create a new list every time and then compare them?"},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692967526,"post_id":76976807,"comment_id":135700630,"body_markdown":"I edited my question with another part of code","body":"I edited my question with another part of code"},{"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"score":0,"creation_date":1692967669,"post_id":76976807,"comment_id":135700657,"body_markdown":"@imtrying727 if I understood correctly, you just need to add some `ArrayList` before first for loop, and replace `bfList` with this `ArrayList` inside the inner loop. And before `return delta1` add them to `bfList`","body":"@imtrying727 if I understood correctly, you just need to add some <code>ArrayList</code> before first for loop, and replace <code>bfList</code> with this <code>ArrayList</code> inside the inner loop. And before <code>return delta1</code> add them to <code>bfList</code>"},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692968000,"post_id":76976807,"comment_id":135700734,"body_markdown":"I&#39;ll post my code that now works","body":"I&#39;ll post my code that now works"},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692968084,"post_id":76976807,"comment_id":135700761,"body_markdown":"Thank you btw cause I used this .clear() in another part of the code","body":"Thank you btw cause I used this .clear() in another part of the code"}],"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692963231,"creation_date":1692963231,"answer_id":76976807,"question_id":76976614,"body_markdown":"Your solution is not correct, because in your outer loop you are adding the points to `bfList`:\r\n```java\r\nbfList.add(P[i]);\r\n```\r\nbefore even checking any condition. So, you have to move it to inner loop:\r\n```java\r\nfor (int i = 0; i &lt; n; i++) {\r\n    for (int j = i + 1; j &lt; n; j++) {\r\n        double deltam = distance(P[i], P[j]);\r\n        if (deltam &lt; delta1) {\r\n            delta1 = deltam;\r\n            bfList.clear(); // Clear the list and add the new closest points\r\n            bfList.add(P[i]);\r\n            bfList.add(P[j]);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How can I print the closest Point?","body":"<p>Your solution is not correct, because in your outer loop you are adding the points to <code>bfList</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bfList.add(P[i]);\n</code></pre>\n<p>before even checking any condition. So, you have to move it to inner loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; n; i++) {\n    for (int j = i + 1; j &lt; n; j++) {\n        double deltam = distance(P[i], P[j]);\n        if (deltam &lt; delta1) {\n            delta1 = deltam;\n            bfList.clear(); // Clear the list and add the new closest points\n            bfList.add(P[i]);\n            bfList.add(P[j]);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1692968049,"creation_date":1692961554,"question_id":76976614,"body_markdown":"I have my program with the closest pair of point in a array of n (number inserted by the user) points, I created the algorithm for it and it works giving back the minor delta (distance between points), I used the divide et impera approach.\r\nI tried to put them in a list when they go inside the BruteForce() method, like inside the brute force I start a method that do this:\r\n\r\n    public double bruteForce(Point[] P, int n) {\r\n\t\tdouble delta1 = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2));\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tbfList.add(P[i]);\r\n\t\t\t\r\n\t        for (int j = i+1; j &lt; n; j++) {\r\n\t\t\t    double deltam = distance(P[i],P[j]);\r\n\t\t\t    if(deltam &lt; delta1) {\r\n\t\t\t\t    delta1 = deltam;\t\t\t\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n\t\t\r\n\t\treturn delta1;\r\n\t}\r\n\r\nBut it insert all the points of the beginning array P[n] inside it.\r\nI don&#39;t understand if the brute force works for every 2 or 3 points and then insert all the points in the list or idk.\r\nI just want to print my pair of closest points.\r\n\r\nI modified my code in this way:\r\n```\r\ndouble delta1=Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2)+Math.pow(FTCPPanel.HEIGHT, 2));\r\n\t\tfor(int i=0; i&lt;n;i++) {\r\n\t\t\tfor(int j=i+1;j&lt;n;j++) {\r\n\t\t\t\tdouble deltam=distance(P[i],P[j]);\r\n\t\t\t\tif(deltam&lt;delta1) {\r\n\t\t\t\t\tdelta1=deltam;\t\r\n\t\t\t\t\tbfList.add(P[i]);\r\n\t\t\t\t\tbfList.add(P[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn delta1;\r\n\t}\r\n```\r\nand then I modified another class in this way:\r\n```\r\npublic Point[] closestPointsArray(List&lt;Point&gt; list,List&lt;Point&gt; list1) {\r\n\t\tint size1 = list.size(); //another list with other points that I checked\r\n\t\tint size = list1.size(); //the bruteforce one\r\n\t\tdouble dist = Double.MAX_VALUE;\r\n\t\tSystem.out.println(&quot;list&quot;+list); //this is just for my output\r\n\t\tPoint[]cp=list.toArray(new Point[size1]);\r\n\t\tPoint[] l= list1.toArray(new Point[size]);\r\n\t\tPoint[]cp1 = new Point[2];\r\n\t\t\r\n\t\tSystem.out.println(&quot;list l&quot;+list1);\r\n\t\tSystem.out.println(&quot;list cp&quot;+list);\r\n\t\t\r\n\t\tfor(int i=0;i&lt;size; i=i+2) { //I use this one to can the array and found the closest here in the bruteforce, but something is wrong\r\n\t\t\t    int j=i+1;\r\n\t\t\t\tdouble distij=distance(l[i],l[j]);\r\n\t\t\t\tif(distij&lt;=dist) {\r\n\t\t\t\t\tdist=distij;\r\n\t\t\t\t\tcp1[0]=l[i];\r\n\t\t\t\t\tcp1[1]=l[j];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(list.isEmpty()) {\r\n\t\t\treturn cp1;\r\n\t\t}else {\r\n\t\t\tdouble distL=distance(cp1[0],cp1[1]);\r\n\t\t\tdouble distCP=distance(cp[0],cp[1]);\r\n\t\t\tSystem.out.println(&quot;dist L&quot;+distL);\r\n\t\t\tSystem.out.println(&quot;dist CP&quot;+distCP);\r\n\t\t\t\r\n\t\t\tif(distCP&lt;distL) {\r\n\t\t\t\treturn cp;\r\n\t\t\t}else {\r\n\t\t\t\treturn cp1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\nI think that in this way I can scan my list in pair of (0,1),(2,3)....\r\nbut I don&#39;t know why sometimes the distance is 0.... when it isn&#39;t.","title":"How can I print the closest Point?","body":"<p>I have my program with the closest pair of point in a array of n (number inserted by the user) points, I created the algorithm for it and it works giving back the minor delta (distance between points), I used the divide et impera approach.\nI tried to put them in a list when they go inside the BruteForce() method, like inside the brute force I start a method that do this:</p>\n<pre><code>public double bruteForce(Point[] P, int n) {\n    double delta1 = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2));\n    for (int i = 0; i &lt; n; i++) {\n        bfList.add(P[i]);\n        \n        for (int j = i+1; j &lt; n; j++) {\n            double deltam = distance(P[i],P[j]);\n            if(deltam &lt; delta1) {\n                delta1 = deltam;            \n            }\n        }\n    }\n    \n    return delta1;\n}\n</code></pre>\n<p>But it insert all the points of the beginning array P[n] inside it.\nI don't understand if the brute force works for every 2 or 3 points and then insert all the points in the list or idk.\nI just want to print my pair of closest points.</p>\n<p>I modified my code in this way:</p>\n<pre><code>double delta1=Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2)+Math.pow(FTCPPanel.HEIGHT, 2));\n        for(int i=0; i&lt;n;i++) {\n            for(int j=i+1;j&lt;n;j++) {\n                double deltam=distance(P[i],P[j]);\n                if(deltam&lt;delta1) {\n                    delta1=deltam;  \n                    bfList.add(P[i]);\n                    bfList.add(P[j]);\n                }\n            }\n        }\n        return delta1;\n    }\n</code></pre>\n<p>and then I modified another class in this way:</p>\n<pre><code>public Point[] closestPointsArray(List&lt;Point&gt; list,List&lt;Point&gt; list1) {\n        int size1 = list.size(); //another list with other points that I checked\n        int size = list1.size(); //the bruteforce one\n        double dist = Double.MAX_VALUE;\n        System.out.println(&quot;list&quot;+list); //this is just for my output\n        Point[]cp=list.toArray(new Point[size1]);\n        Point[] l= list1.toArray(new Point[size]);\n        Point[]cp1 = new Point[2];\n        \n        System.out.println(&quot;list l&quot;+list1);\n        System.out.println(&quot;list cp&quot;+list);\n        \n        for(int i=0;i&lt;size; i=i+2) { //I use this one to can the array and found the closest here in the bruteforce, but something is wrong\n                int j=i+1;\n                double distij=distance(l[i],l[j]);\n                if(distij&lt;=dist) {\n                    dist=distij;\n                    cp1[0]=l[i];\n                    cp1[1]=l[j];\n                \n            }\n        }\n        if(list.isEmpty()) {\n            return cp1;\n        }else {\n            double distL=distance(cp1[0],cp1[1]);\n            double distCP=distance(cp[0],cp[1]);\n            System.out.println(&quot;dist L&quot;+distL);\n            System.out.println(&quot;dist CP&quot;+distCP);\n            \n            if(distCP&lt;distL) {\n                return cp;\n            }else {\n                return cp1;\n            }\n        }\n        \n        \n    }\n</code></pre>\n<p>I think that in this way I can scan my list in pair of (0,1),(2,3)....\nbut I don't know why sometimes the distance is 0.... when it isn't.</p>\n"},{"tags":["java","maven","opencv","nixos"],"answers":[{"tags":[],"owner":{"account_id":12484704,"reputation":183,"user_id":9088304,"display_name":"Djaff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692967886,"creation_date":1692967886,"answer_id":76977374,"question_id":76977042,"body_markdown":"Found the problem: my shade-plugin wasn&#39;t running since it was in the pluginManagement section. Moved it out and removed the pluginManagement entirely which solved it. ","title":"NoClassDefFoundError when attempting to use openCV in java while running NixOS","body":"<p>Found the problem: my shade-plugin wasn't running since it was in the pluginManagement section. Moved it out and removed the pluginManagement entirely which solved it.</p>\n"}],"owner":{"account_id":12484704,"reputation":183,"user_id":9088304,"display_name":"Djaff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692967886,"creation_date":1692965181,"question_id":76977042,"body_markdown":"I&#39;m trying to follow a tutorial on the use of openCV in java while also learning how to use NixOS. \r\n\r\nI have the following flake:\r\n\r\n        {\r\n          inputs = {\r\n            nixpkgs.url = &quot;github:NixOS/nixpkgs/nixos-unstable&quot;;\r\n        flake-utils.url = &quot;github:numtide/flake-utils&quot;;\r\n      };\r\n      outputs = {\r\n        nixpkgs,\r\n        flake-utils,\r\n        ...\r\n      }:\r\n        flake-utils.lib.eachDefaultSystem (system: let\r\n          javaVersion = 19;\r\n    \r\n          overlays = [\r\n            (self: super: rec {\r\n              jdk = super.&quot;jdk${toString javaVersion}&quot;;\r\n              maven = super.maven.override {\r\n                inherit jdk;\r\n              };\r\n            })\r\n          ];\r\n          pkgs = import nixpkgs {inherit overlays system;};\r\n        in {\r\n          devShell = let\r\n            generateEditorConfig = pkgs.writeShellScriptBin &quot;generateEditorConfig&quot; &#39;&#39;\r\n              if [ ! -f .editorconfig ]; then\r\n                echo &quot;root = true&quot; &gt; .editorconfig\r\n                echo &quot;&quot; &gt;&gt; .editorconfig\r\n                echo &quot;[*]&quot; &gt;&gt; .editorconfig\r\n                echo &quot;end_of_line = lf&quot; &gt;&gt; .editorconfig\r\n                echo &quot;insert_final_newline = true&quot; &gt;&gt; .editorconfig\r\n                echo &quot;indent_style = tab&quot; &gt;&gt; .editorconfig\r\n                echo &quot;tab_width = 4&quot; &gt;&gt; .editorconfig\r\n                echo &quot;charset = utf-8&quot; &gt;&gt; .editorconfig\r\n                echo &quot;&quot; &gt;&gt; .editorconfig\r\n                echo &quot;[*.{yaml,yml}]&quot; &gt;&gt; .editorconfig\r\n                echo &quot;indent_style = space&quot; &gt;&gt; .editorconfig\r\n                echo &quot;indent_size = 2&quot; &gt;&gt; .editorconfig\r\n                echo &quot;&quot; &gt;&gt; .editorconfig\r\n                echo &quot;[*.{md,nix}]&quot; &gt;&gt; .editorconfig\r\n                echo &quot;indent_style = space&quot; &gt;&gt; .editorconfig\r\n                echo &quot;indent_size = 2&quot; &gt;&gt; .editorconfig\r\n              fi\r\n            &#39;&#39;;\r\n          in\r\n            pkgs.mkShell {\r\n              name = &quot;java&quot;;\r\n              buildInputs = with pkgs; [\r\n                jdk\r\n                maven\r\n                tomcat9\r\n                opencv\r\n              ];\r\n              shellHook = &#39;&#39;\r\n                export JAVA_HOME=${pkgs.jdk}\r\n                ${generateEditorConfig}/bin/generateEditorConfig\r\n              &#39;&#39;;\r\n            };\r\n        });\r\n    }\r\n\r\nJava file: src/main/java/NerfThis.java\r\n\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfRect;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.objdetect.CascadeClassifier;\r\n    import org.opencv.objdetect.Objdetect;\r\n    \r\n    import nu.pattern.OpenCV;\r\n    \r\n    public class NerfThis {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Test&quot;);\r\n    \t\tOpenCV.loadShared();\r\n    \t\t\r\n    \t\tString sourceImagePath = &quot;src/main/resources/face.jpeg&quot;;\r\n    \t\tString targetImagePath = &quot;src/main/resources/result.jpeg&quot;;\r\n    \t\t\r\n    \r\n    \t\tMat loadedImage = loadImage(sourceImagePath);\r\n    \t\tint minFaceSize = Math.round(loadedImage.rows() * 0.1f); \r\n    \t\tMatOfRect facesDetected = new MatOfRect();\r\n    \t\tCascadeClassifier cascadeClassifier = new CascadeClassifier();\r\n    \t\tcascadeClassifier.load(&quot;./src/main/resources/haarcascades/haarcascade_frontalface_alt.xml&quot;);\r\n    \t\tcascadeClassifier.detectMultiScale(loadedImage, \r\n      \t\t\tfacesDetected, \r\n      \t\t\t1.1, \r\n      \t\t\t3, \r\n    \t\t  Objdetect.CASCADE_SCALE_IMAGE, \r\n    \t\t  new Size(minFaceSize, minFaceSize), \r\n    \t\t  new Size() \r\n    \t\t);\r\n    \t\t\r\n    \t\tRect[] facesArray = facesDetected.toArray(); \r\n    \t\tfor(Rect face : facesArray) { \r\n    \t\t\tImgproc.rectangle(loadedImage, face.tl(), face.br(), new Scalar(0, 0, 255), 3); \r\n    \t\t} \r\n    \t\tsaveImage(loadedImage, targetImagePath);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static Mat loadImage(String imagePath) {\r\n    \t\tImgcodecs imageCodecs = new Imgcodecs();\r\n    \t\treturn imageCodecs.imread(imagePath);\r\n    \t}\r\n    \r\n    \tpublic static void saveImage(Mat imageMatrix, String targetPath) {\r\n        \tImgcodecs imgcodecs = new Imgcodecs();\r\n        \timgcodecs.imwrite(targetPath, imageMatrix);\r\n    \t}\r\n    }\r\n\r\nAnd my pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;sigubrat-nerfThis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;NerfThis&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;name&gt;NerfThis&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7.0-0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n    \t\t\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t  &lt;archive&gt;\r\n    \t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t  &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t  &lt;mainClass&gt;NerfThis&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t  &lt;/archive&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t  &lt;/plugin&gt;\r\n    \r\n    \t\t &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI can build it just fine using Maven, but when I try to run the jar I get the following error:\r\n\r\n    java -jar target/NerfThis-1.0-SNAPSHOT.jar\r\n    Error: Unable to initialize main class NerfThis\r\n    Caused by: java.lang.NoClassDefFoundError: org/opencv/core/Mat\r\n\r\nI&#39;ve been debugging this for hours now and can&#39;t understand why it&#39;s struggling to find the Definition for Mat. ","title":"NoClassDefFoundError when attempting to use openCV in java while running NixOS","body":"<p>I'm trying to follow a tutorial on the use of openCV in java while also learning how to use NixOS.</p>\n<p>I have the following flake:</p>\n<pre><code>    {\n      inputs = {\n        nixpkgs.url = &quot;github:NixOS/nixpkgs/nixos-unstable&quot;;\n    flake-utils.url = &quot;github:numtide/flake-utils&quot;;\n  };\n  outputs = {\n    nixpkgs,\n    flake-utils,\n    ...\n  }:\n    flake-utils.lib.eachDefaultSystem (system: let\n      javaVersion = 19;\n\n      overlays = [\n        (self: super: rec {\n          jdk = super.&quot;jdk${toString javaVersion}&quot;;\n          maven = super.maven.override {\n            inherit jdk;\n          };\n        })\n      ];\n      pkgs = import nixpkgs {inherit overlays system;};\n    in {\n      devShell = let\n        generateEditorConfig = pkgs.writeShellScriptBin &quot;generateEditorConfig&quot; ''\n          if [ ! -f .editorconfig ]; then\n            echo &quot;root = true&quot; &gt; .editorconfig\n            echo &quot;&quot; &gt;&gt; .editorconfig\n            echo &quot;[*]&quot; &gt;&gt; .editorconfig\n            echo &quot;end_of_line = lf&quot; &gt;&gt; .editorconfig\n            echo &quot;insert_final_newline = true&quot; &gt;&gt; .editorconfig\n            echo &quot;indent_style = tab&quot; &gt;&gt; .editorconfig\n            echo &quot;tab_width = 4&quot; &gt;&gt; .editorconfig\n            echo &quot;charset = utf-8&quot; &gt;&gt; .editorconfig\n            echo &quot;&quot; &gt;&gt; .editorconfig\n            echo &quot;[*.{yaml,yml}]&quot; &gt;&gt; .editorconfig\n            echo &quot;indent_style = space&quot; &gt;&gt; .editorconfig\n            echo &quot;indent_size = 2&quot; &gt;&gt; .editorconfig\n            echo &quot;&quot; &gt;&gt; .editorconfig\n            echo &quot;[*.{md,nix}]&quot; &gt;&gt; .editorconfig\n            echo &quot;indent_style = space&quot; &gt;&gt; .editorconfig\n            echo &quot;indent_size = 2&quot; &gt;&gt; .editorconfig\n          fi\n        '';\n      in\n        pkgs.mkShell {\n          name = &quot;java&quot;;\n          buildInputs = with pkgs; [\n            jdk\n            maven\n            tomcat9\n            opencv\n          ];\n          shellHook = ''\n            export JAVA_HOME=${pkgs.jdk}\n            ${generateEditorConfig}/bin/generateEditorConfig\n          '';\n        };\n    });\n}\n</code></pre>\n<p>Java file: src/main/java/NerfThis.java</p>\n<pre><code>import org.opencv.core.Mat;\nimport org.opencv.core.MatOfRect;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Size;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.objdetect.CascadeClassifier;\nimport org.opencv.objdetect.Objdetect;\n\nimport nu.pattern.OpenCV;\n\npublic class NerfThis {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test&quot;);\n        OpenCV.loadShared();\n        \n        String sourceImagePath = &quot;src/main/resources/face.jpeg&quot;;\n        String targetImagePath = &quot;src/main/resources/result.jpeg&quot;;\n        \n\n        Mat loadedImage = loadImage(sourceImagePath);\n        int minFaceSize = Math.round(loadedImage.rows() * 0.1f); \n        MatOfRect facesDetected = new MatOfRect();\n        CascadeClassifier cascadeClassifier = new CascadeClassifier();\n        cascadeClassifier.load(&quot;./src/main/resources/haarcascades/haarcascade_frontalface_alt.xml&quot;);\n        cascadeClassifier.detectMultiScale(loadedImage, \n            facesDetected, \n            1.1, \n            3, \n          Objdetect.CASCADE_SCALE_IMAGE, \n          new Size(minFaceSize, minFaceSize), \n          new Size() \n        );\n        \n        Rect[] facesArray = facesDetected.toArray(); \n        for(Rect face : facesArray) { \n            Imgproc.rectangle(loadedImage, face.tl(), face.br(), new Scalar(0, 0, 255), 3); \n        } \n        saveImage(loadedImage, targetImagePath);\n\n    }\n\n    public static Mat loadImage(String imagePath) {\n        Imgcodecs imageCodecs = new Imgcodecs();\n        return imageCodecs.imread(imagePath);\n    }\n\n    public static void saveImage(Mat imageMatrix, String targetPath) {\n        Imgcodecs imgcodecs = new Imgcodecs();\n        imgcodecs.imwrite(targetPath, imageMatrix);\n    }\n}\n</code></pre>\n<p>And my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;sigubrat-nerfThis&lt;/groupId&gt;\n  &lt;artifactId&gt;NerfThis&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;NerfThis&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n        &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n        &lt;version&gt;4.7.0-0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;archive&gt;\n                &lt;manifest&gt;\n                  &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                  &lt;mainClass&gt;NerfThis&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n              &lt;/archive&gt;\n            &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n         &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I can build it just fine using Maven, but when I try to run the jar I get the following error:</p>\n<pre><code>java -jar target/NerfThis-1.0-SNAPSHOT.jar\nError: Unable to initialize main class NerfThis\nCaused by: java.lang.NoClassDefFoundError: org/opencv/core/Mat\n</code></pre>\n<p>I've been debugging this for hours now and can't understand why it's struggling to find the Definition for Mat.</p>\n"},{"tags":["java","osgi","apache-karaf","osgi-fragment"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692715858,"post_id":76954399,"comment_id":135660527,"body_markdown":"What do you mean &quot;is not working&quot;? Do you receive some sorts of error?","body":"What do you mean &quot;is not working&quot;? Do you receive some sorts of error?"},{"owner":{"account_id":29276261,"reputation":33,"user_id":22429926,"display_name":"biplob ghosh"},"score":0,"creation_date":1692771711,"post_id":76954399,"comment_id":135668003,"body_markdown":"there is no error but there is some unpredictable behaviour as only one host bundle is available in the console","body":"there is no error but there is some unpredictable behaviour as only one host bundle is available in the console"}],"answers":[{"tags":[],"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692967433,"creation_date":1692832064,"answer_id":76965392,"question_id":76954399,"body_markdown":"You are right that a fragment can have multiple hosts according to the specification. But it seems to be limited to different versions of bundles with the same symbolic name:\r\n\r\nThe grammar for [`Fragment-Host`][1] is defined as\r\n\r\n&gt;     Fragment-Host       ::= bundle-description\r\n&gt;     bundle-description  ::= symbolic-name ( &#39;;&#39; parameter )*\r\n\r\nand by using a version range, you technically define multiple host:\r\n\r\n&gt; bundle-version - The version range to select the host bundle. If a range is used, then the fragment can attach to multiple hosts.\r\n\r\nIt doesn&#39;t seem to be possible to attach a fragment to host bundles with different names like in your example.\r\n\r\n  [1]: https://docs.osgi.org/specification/osgi.core/8.0.0/framework.module.html#framework.module.fragmenthost\r\n  [2]: https://docs.osgi.org/specification/osgi.core/8.0.0/framework.module.html#framework.module.fragmentbundles","title":"How to specify multiple hosts in the manifest of an OSGI fragment bundle in apache karaf","body":"<p>You are right that a fragment can have multiple hosts according to the specification. But it seems to be limited to different versions of bundles with the same symbolic name:</p>\n<p>The grammar for <a href=\"https://docs.osgi.org/specification/osgi.core/8.0.0/framework.module.html#framework.module.fragmenthost\" rel=\"nofollow noreferrer\"><code>Fragment-Host</code></a> is defined as</p>\n<blockquote>\n<pre><code>Fragment-Host       ::= bundle-description\nbundle-description  ::= symbolic-name ( ';' parameter )*\n</code></pre>\n</blockquote>\n<p>and by using a version range, you technically define multiple host:</p>\n<blockquote>\n<p>bundle-version - The version range to select the host bundle. If a range is used, then the fragment can attach to multiple hosts.</p>\n</blockquote>\n<p>It doesn't seem to be possible to attach a fragment to host bundles with different names like in your example.</p>\n"}],"owner":{"account_id":29276261,"reputation":33,"user_id":22429926,"display_name":"biplob ghosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76965392,"answer_count":1,"score":1,"last_activity_date":1692967433,"creation_date":1692715129,"question_id":76954399,"body_markdown":"According to the OSGI specification, a fragment bundle in OSGI can have multiple hosts. But in apache karaf it does not seem to work.\r\n\r\n\r\n\r\nI have tried the following.\r\n```\r\nFragment-Host: default_host;bundle-version=1.0.0,Second_host;bundle-version=1.0.0\r\n```","title":"How to specify multiple hosts in the manifest of an OSGI fragment bundle in apache karaf","body":"<p>According to the OSGI specification, a fragment bundle in OSGI can have multiple hosts. But in apache karaf it does not seem to work.</p>\n<p>I have tried the following.</p>\n<pre><code>Fragment-Host: default_host;bundle-version=1.0.0,Second_host;bundle-version=1.0.0\n</code></pre>\n"},{"tags":["java","pdfbox","rectangles"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1531842832,"post_id":51380677,"comment_id":89743259,"body_markdown":"*&quot;More specific, can i change the rectangle according to every row&#39;s height using a function?&quot;* - At first glance the lines might be vector graphic lines or rectangles. You can extract these vector graphics, derive table cells from them, and then use these cells for extraction by area. Please share the PDF for a more in-detail analysis.","body":"<i>&quot;More specific, can i change the rectangle according to every row&#39;s height using a function?&quot;</i> - At first glance the lines might be vector graphic lines or rectangles. You can extract these vector graphics, derive table cells from them, and then use these cells for extraction by area. Please share the PDF for a more in-detail analysis."},{"owner":{"account_id":13975915,"reputation":33,"user_id":10093356,"display_name":"A. Groza"},"score":0,"creation_date":1531892656,"post_id":51380677,"comment_id":89760007,"body_markdown":"https://www.info.uvt.ro/wp-content/uploads/2018/07/Programare-licenta-5-Iulie-2018_1.pdf","body":"<a href=\"https://www.info.uvt.ro/wp-content/uploads/2018/07/Programare-licenta-5-Iulie-2018_1.pdf\" rel=\"nofollow noreferrer\">info.uvt.ro/wp-content/uploads/2018/07/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1531901988,"post_id":51380677,"comment_id":89764898,"body_markdown":"Ok, the lines are drawn as thin rectangles. I&#39;ll try and think of something later.","body":"Ok, the lines are drawn as thin rectangles. I&#39;ll try and think of something later."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1531904533,"post_id":51380677,"comment_id":89766579,"body_markdown":"Here&#39;s code to collect paths https://stackoverflow.com/questions/38931422/pdfbox-2-0-2-calling-of-pagedrawer-processpage-method-caught-exceptions","body":"Here&#39;s code to collect paths <a href=\"https://stackoverflow.com/questions/38931422/pdfbox-2-0-2-calling-of-pagedrawer-processpage-method-caught-exceptions\" title=\"pdfbox 2 0 2 calling of pagedrawer processpage method caught exceptions\">stackoverflow.com/questions/38931422/&hellip;</a>"},{"owner":{"account_id":13975915,"reputation":33,"user_id":10093356,"display_name":"A. Groza"},"score":0,"creation_date":1531916805,"post_id":51380677,"comment_id":89774698,"body_markdown":"In the meantime i&#39;ve done this: converted the pdf to image and scanned every pixel of it. set a counter at every Y and set a threshold so if the X Y rgb is not white and the counter is higher than the threshold it will print the X coordinate and the length of the line. but since the resolution was high, same line has 3 consecutive X coordinates. i think, if i can define regions between the lines of X coordinates that are not close to 1-2 pixels of each other, i may easier extract information later.","body":"In the meantime i&#39;ve done this: converted the pdf to image and scanned every pixel of it. set a counter at every Y and set a threshold so if the X Y rgb is not white and the counter is higher than the threshold it will print the X coordinate and the length of the line. but since the resolution was high, same line has 3 consecutive X coordinates. i think, if i can define regions between the lines of X coordinates that are not close to 1-2 pixels of each other, i may easier extract information later."}],"answers":[{"comments":[{"owner":{"account_id":9597099,"reputation":177,"user_id":7125894,"accept_rate":71,"display_name":"Rohan Chavan"},"score":0,"creation_date":1638284824,"post_id":51560024,"comment_id":124044327,"body_markdown":"In my case border color is gray in that case above code is not working. could you please help me in this case?","body":"In my case border color is gray in that case above code is not working. could you please help me in this case?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1638300206,"post_id":51560024,"comment_id":124050567,"body_markdown":"As you can see in the code, the color of the border is not tested at all. Thus, it&#39;s not the color which makes the code fail for your PDF. Thus, please make that a question in its own right and please share the PDF in question.","body":"As you can see in the code, the color of the border is not tested at all. Thus, it&#39;s not the color which makes the code fail for your PDF. Thus, please make that a question in its own right and please share the PDF in question."},{"owner":{"account_id":9597099,"reputation":177,"user_id":7125894,"accept_rate":71,"display_name":"Rohan Chavan"},"score":0,"creation_date":1638333681,"post_id":51560024,"comment_id":124058168,"body_markdown":"I am trying this pdf file to parse it.                                                                                              https://drive.google.com/file/d/125CBa9voMM6-0S5N3RfYqfT1n5r8nHrh/view?usp=sharing","body":"I am trying this pdf file to parse it.                                                                                              <a href=\"https://drive.google.com/file/d/125CBa9voMM6-0S5N3RfYqfT1n5r8nHrh/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/125CBa9voMM6-0S5N3RfYqfT1n5r8nHrh/&hellip;</a>"},{"owner":{"account_id":9597099,"reputation":177,"user_id":7125894,"accept_rate":71,"display_name":"Rohan Chavan"},"score":0,"creation_date":1638376126,"post_id":51560024,"comment_id":124072914,"body_markdown":"could you please help me with this(https://drive.google.com/file/d/125CBa9voMM6-0S5N3RfYqfT1n5r8nHrh/view?usp=sharing) pdf file.","body":"could you please help me with this(<a href=\"https://drive.google.com/file/d/125CBa9voMM6-0S5N3RfYqfT1n5r8nHrh/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/125CBa9voMM6-0S5N3RfYqfT1n5r8nH&zwnj;&#8203;rh/&hellip;</a>) pdf file."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1639479398,"post_id":51560024,"comment_id":124353459,"body_markdown":"@RohanChavan *&quot;I am trying this pdf file to parse it. ... could you please help me with this&quot;* - As already written in my previous comment, please make this a question in its own right.","body":"@RohanChavan <i>&quot;I am trying this pdf file to parse it. ... could you please help me with this&quot;</i> - As already written in my previous comment, please make this a question in its own right."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1532701495,"creation_date":1532701495,"answer_id":51560024,"question_id":51380677,"body_markdown":"As proposed in comments, you can automatically recognize the table cell regions of your example PDF by parsing the vector graphics instructions of the page.\n\nFor such a task you can extend the PDFBox `PDFGraphicsStreamEngine` which provides abstract methods called for path building and drawing instructions.\n\nBeware: The stream engine class I show here is specialized on recognizing table cell frame lines drawn as long, small rectangles filled with black as used in your example document. For a general solution you should at least also recognize frame lines drawn as vector graphics line segments or as stroked rectangles.\n\n### The stream engine class `PdfBoxFinder`\n\nThis stream engine class collects the *y* coordinate ranges of horizontal lines and the *x* coordinate ranges of vertical lines and afterwards provides the boxes of the grid defined by these coordinate ranges. In particular this means that row spans or column spans are not supported; in the case at hand this is ok as there are no such spans.\n\n&lt;!-- language-all: lang-java --&gt;\n\n    public class PdfBoxFinder extends PDFGraphicsStreamEngine {\n        /**\n         * Supply the page to analyze here; to analyze multiple pages\n         * create multiple {@link PdfBoxFinder} instances.\n         */\n        public PdfBoxFinder(PDPage page) {\n            super(page);\n        }\n    \n        /**\n         * The boxes ({@link Rectangle2D} instances with coordinates according to\n         * the PDF coordinate system, e.g. for decorating the table cells) the\n         * {@link PdfBoxFinder} has recognized on the current page.\n         */\n        public Map&lt;String, Rectangle2D&gt; getBoxes() {\n            consolidateLists();\n            Map&lt;String, Rectangle2D&gt; result = new HashMap&lt;&gt;();\n            if (!horizontalLines.isEmpty() &amp;&amp; !verticalLines.isEmpty())\n            {\n                Interval top = horizontalLines.get(horizontalLines.size() - 1);\n                char rowLetter = &#39;A&#39;;\n                for (int i = horizontalLines.size() - 2; i &gt;= 0; i--, rowLetter++) {\n                    Interval bottom = horizontalLines.get(i);\n                    Interval left = verticalLines.get(0);\n                    int column = 1;\n                    for (int j = 1; j &lt; verticalLines.size(); j++, column++) {\n                        Interval right = verticalLines.get(j);\n                        String name = String.format(&quot;%s%s&quot;, rowLetter, column);\n                        Rectangle2D rectangle = new Rectangle2D.Float(left.from, bottom.from, right.to - left.from, top.to - bottom.from);\n                        result.put(name, rectangle);\n                        left = right;\n                    }\n                    top = bottom;\n                }\n            }\n            return result;\n        }\n    \n        /**\n         * The regions ({@link Rectangle2D} instances with coordinates according\n         * to the PDFBox text extraction API, e.g. for initializing the regions of\n         * a {@link PDFTextStripperByArea}) the {@link PdfBoxFinder} has recognized\n         * on the current page.\n         */\n        public Map&lt;String, Rectangle2D&gt; getRegions() {\n            PDRectangle cropBox = getPage().getCropBox();\n            float xOffset = cropBox.getLowerLeftX();\n            float yOffset = cropBox.getUpperRightY();\n            Map&lt;String, Rectangle2D&gt; result = getBoxes();\n            for (Map.Entry&lt;String, Rectangle2D&gt; entry : result.entrySet()) {\n                Rectangle2D box = entry.getValue();\n                Rectangle2D region = new Rectangle2D.Float(xOffset + (float)box.getX(), yOffset - (float)(box.getY() + box.getHeight()), (float)box.getWidth(), (float)box.getHeight());\n                entry.setValue(region);\n            }\n            return result;\n        }\n    \n        /**\n         * &lt;p&gt;\n         * Processes the path elements currently in the {@link #path} list and\n         * eventually clears the list.\n         * &lt;/p&gt;\n         * &lt;p&gt;\n         * Currently only elements are considered which \n         * &lt;/p&gt;\n         * &lt;ul&gt;\n         * &lt;li&gt;are {@link Rectangle} instances;\n         * &lt;li&gt;are filled fairly black;\n         * &lt;li&gt;have a thin and long form; and\n         * &lt;li&gt;have sides fairly parallel to the coordinate axis.\n         * &lt;/ul&gt;\n         */\n        void processPath() throws IOException {\n            PDColor color = getGraphicsState().getNonStrokingColor();\n            if (!isBlack(color)) {\n                logger.debug(&quot;Dropped path due to non-black fill-color.&quot;);\n                return;\n            }\n    \n            for (PathElement pathElement : path) {\n                if (pathElement instanceof Rectangle) {\n                    Rectangle rectangle = (Rectangle) pathElement;\n    \n                    double p0p1 = rectangle.p0.distance(rectangle.p1);\n                    double p1p2 = rectangle.p1.distance(rectangle.p2);\n                    boolean p0p1small = p0p1 &lt; 3;\n                    boolean p1p2small = p1p2 &lt; 3;\n    \n                    if (p0p1small) {\n                        if (p1p2small) {\n                            logger.debug(&quot;Dropped rectangle too small on both sides.&quot;);\n                        } else {\n                            processThinRectangle(rectangle.p0, rectangle.p1, rectangle.p2, rectangle.p3);\n                        }\n                    } else if (p1p2small) {\n                        processThinRectangle(rectangle.p1, rectangle.p2, rectangle.p3, rectangle.p0);\n                    } else {\n                        logger.debug(&quot;Dropped rectangle too large on both sides.&quot;);\n                    }\n                }\n            }\n            path.clear();\n        }\n    \n        /**\n         * The argument points shall be sorted to have (p0, p1) and (p2, p3) be the small\n         * edges and (p1, p2) and (p3, p0) the long ones.\n         */\n        void processThinRectangle(Point2D p0, Point2D p1, Point2D p2, Point2D p3) {\n            float longXDiff = (float)Math.abs(p2.getX() - p1.getX());\n            float longYDiff = (float)Math.abs(p2.getY() - p1.getY());\n            boolean longXDiffSmall = longXDiff * 10 &lt; longYDiff;\n            boolean longYDiffSmall = longYDiff * 10 &lt; longXDiff;\n    \n            if (longXDiffSmall) {\n                verticalLines.add(new Interval(p0.getX(), p1.getX(), p2.getX(), p3.getX()));\n            } else if (longYDiffSmall) {\n                horizontalLines.add(new Interval(p0.getY(), p1.getY(), p2.getY(), p3.getY()));\n            } else {\n                logger.debug(&quot;Dropped rectangle too askew.&quot;);\n            }\n        }\n    \n        /**\n         * Sorts the {@link #horizontalLines} and {@link #verticalLines} lists and\n         * merges fairly identical entries.\n         */\n        void consolidateLists() {\n            for (List&lt;Interval&gt; intervals : Arrays.asList(horizontalLines, verticalLines)) {\n                intervals.sort(null);\n                for (int i = 1; i &lt; intervals.size();) {\n                    if (intervals.get(i-1).combinableWith(intervals.get(i))) {\n                        Interval interval = intervals.get(i-1).combineWith(intervals.get(i));\n                        intervals.set(i-1, interval);\n                        intervals.remove(i);\n                    } else {\n                        i++;\n                    }\n                }\n            }\n        }\n    \n        /**\n         * Checks whether the given color is black&#39;ish.\n         */\n        boolean isBlack(PDColor color) throws IOException {\n            int value = color.toRGB();\n            for (int i = 0; i &lt; 2; i++) {\n                int component = value &amp; 0xff;\n                if (component &gt; 5)\n                    return false;\n                value /= 256;\n            }\n            return true;\n        }\n    \n        //\n        // PDFGraphicsStreamEngine overrides\n        //\n        @Override\n        public void appendRectangle(Point2D p0, Point2D p1, Point2D p2, Point2D p3) throws IOException {\n            path.add(new Rectangle(p0, p1, p2, p3));\n        }\n    \n        @Override\n        public void endPath() throws IOException {\n            path.clear();\n        }\n    \n        @Override\n        public void strokePath() throws IOException {\n            path.clear();\n        }\n    \n        @Override\n        public void fillPath(int windingRule) throws IOException {\n            processPath();\n        }\n    \n        @Override\n        public void fillAndStrokePath(int windingRule) throws IOException {\n            processPath();\n        }\n    \n        @Override public void drawImage(PDImage pdImage) throws IOException { }\n        @Override public void clip(int windingRule) throws IOException { }\n        @Override public void moveTo(float x, float y) throws IOException { }\n        @Override public void lineTo(float x, float y) throws IOException { }\n        @Override public void curveTo(float x1, float y1, float x2, float y2, float x3, float y3) throws IOException { }\n        @Override public Point2D getCurrentPoint() throws IOException { return null; }\n        @Override public void closePath() throws IOException { }\n        @Override public void shadingFill(COSName shadingName) throws IOException { }\n    \n        //\n        // inner classes\n        //\n        class Interval implements Comparable&lt;Interval&gt; {\n            final float from;\n            final float to;\n    \n            Interval(float... values) {\n                Arrays.sort(values);\n                this.from = values[0];\n                this.to = values[values.length - 1];\n            }\n    \n            Interval(double... values) {\n                Arrays.sort(values);\n                this.from = (float) values[0];\n                this.to = (float) values[values.length - 1];\n            }\n    \n            boolean combinableWith(Interval other) {\n                if (this.from &gt; other.from)\n                    return other.combinableWith(this);\n                if (this.to &lt; other.from)\n                    return false;\n                float intersectionLength = Math.min(this.to, other.to) - other.from;\n                float thisLength = this.to - this.from;\n                float otherLength = other.to - other.from;\n                return (intersectionLength &gt;= thisLength * .9f) || (intersectionLength &gt;= otherLength * .9f);\n            }\n    \n            Interval combineWith(Interval other) {\n                return new Interval(this.from, this.to, other.from, other.to);\n            }\n    \n            @Override\n            public int compareTo(Interval o) {\n                return this.from == o.from ? Float.compare(this.to, o.to) : Float.compare(this.from, o.from);\n            }\n    \n            @Override\n            public String toString() {\n                return String.format(&quot;[%3.2f, %3.2f]&quot;, from, to);\n            }\n        }\n    \n        interface PathElement {\n        }\n    \n        class Rectangle implements PathElement {\n            final Point2D p0, p1, p2, p3;\n    \n            Rectangle(Point2D p0, Point2D p1, Point2D p2, Point2D p3) {\n                this.p0 = p0;\n                this.p1 = p1;\n                this.p2 = p2;\n                this.p3 = p3;\n            }\n        }\n    \n        //\n        // members\n        //\n        final List&lt;PathElement&gt; path = new ArrayList&lt;&gt;();\n        final List&lt;Interval&gt; horizontalLines = new ArrayList&lt;&gt;();\n        final List&lt;Interval&gt; verticalLines = new ArrayList&lt;&gt;();\n        final Logger logger = LoggerFactory.getLogger(PdfBoxFinder.class);\n    }\n\n*([PdfBoxFinder.java][1])*\n\n### Example use\n\nYou can use the `PdfBoxFinder` like this to extract text from the table cells of the sample document located at `FILE_PATH`:\n\n    try (   PDDocument document = PDDocument.load(FILE_PATH) ) {\n        for (PDPage page : document.getDocumentCatalog().getPages()) {\n            PdfBoxFinder boxFinder = new PdfBoxFinder(page);\n            boxFinder.processPage(page);\n\n            PDFTextStripperByArea stripperByArea = new PDFTextStripperByArea();\n            for (Map.Entry&lt;String, Rectangle2D&gt; entry : boxFinder.getRegions().entrySet()) {\n                stripperByArea.addRegion(entry.getKey(), entry.getValue());\n            }\n\n            stripperByArea.extractRegions(page);\n            List&lt;String&gt; names = stripperByArea.getRegions();\n            names.sort(null);\n            for (String name : names) {\n                System.out.printf(&quot;[%s] %s\\n&quot;, name, stripperByArea.getTextForRegion(name));\n            }\n        }\n    }\n\n*([ExtractBoxedText][2] test `testExtractBoxedTexts`)*\n\nThe start of the output:\n\n&lt;!-- language: lang-none --&gt;\n\n    [A1] Nr. \n    crt. \n    \n    [A2] Nume i prenume \n    \n    [A3] Titlul lucrrii \n    \n    [A4] Coordonator tiinific \n    \n    [A5] Ora \n    \n    [B1] 1. \n    \n    [B2] SFETCU I. JESSICA-\n    LARISA \n    \n    [B3] Analiza fluxurilor de date twitter \n    \n    [B4] Conf. univ. dr. Fr&#238;ncu Marc \n    Eduard \n     \n    \n    [B5] 8:00 \n    \n    [C1] 2. \n    \n    [C2] TARBA V. IONU-\n    ADRIAN \n    \n    [C3] Test me - rest api folosind java i \n    play framework \n    \n    [C4] Conf.univ.dr. Forti Teodor \n    Florin \n     \n    \n    [C5] 8:12 \n\nThe first page of the document:\n\n[![screen shot][3a]][3]\n\n\n  [1]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/extract/PdfBoxFinder.java#L54\n  [2]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/extract/ExtractBoxedText.java#L104\n  [3]: https://i.stack.imgur.com/QQRxL.png\n  [3a]: https://i.stack.imgur.com/QQRxLl.png\n","title":"Extracting text from pdf (java using pdfbox library) from a table&#39;s rows with different heights","body":"<p>As proposed in comments, you can automatically recognize the table cell regions of your example PDF by parsing the vector graphics instructions of the page.</p>\n<p>For such a task you can extend the PDFBox <code>PDFGraphicsStreamEngine</code> which provides abstract methods called for path building and drawing instructions.</p>\n<p>Beware: The stream engine class I show here is specialized on recognizing table cell frame lines drawn as long, small rectangles filled with black as used in your example document. For a general solution you should at least also recognize frame lines drawn as vector graphics line segments or as stroked rectangles.</p>\n<h3>The stream engine class <code>PdfBoxFinder</code></h3>\n<p>This stream engine class collects the <em>y</em> coordinate ranges of horizontal lines and the <em>x</em> coordinate ranges of vertical lines and afterwards provides the boxes of the grid defined by these coordinate ranges. In particular this means that row spans or column spans are not supported; in the case at hand this is ok as there are no such spans.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class PdfBoxFinder extends PDFGraphicsStreamEngine {\n    /**\n     * Supply the page to analyze here; to analyze multiple pages\n     * create multiple {@link PdfBoxFinder} instances.\n     */\n    public PdfBoxFinder(PDPage page) {\n        super(page);\n    }\n\n    /**\n     * The boxes ({@link Rectangle2D} instances with coordinates according to\n     * the PDF coordinate system, e.g. for decorating the table cells) the\n     * {@link PdfBoxFinder} has recognized on the current page.\n     */\n    public Map&lt;String, Rectangle2D&gt; getBoxes() {\n        consolidateLists();\n        Map&lt;String, Rectangle2D&gt; result = new HashMap&lt;&gt;();\n        if (!horizontalLines.isEmpty() &amp;&amp; !verticalLines.isEmpty())\n        {\n            Interval top = horizontalLines.get(horizontalLines.size() - 1);\n            char rowLetter = 'A';\n            for (int i = horizontalLines.size() - 2; i &gt;= 0; i--, rowLetter++) {\n                Interval bottom = horizontalLines.get(i);\n                Interval left = verticalLines.get(0);\n                int column = 1;\n                for (int j = 1; j &lt; verticalLines.size(); j++, column++) {\n                    Interval right = verticalLines.get(j);\n                    String name = String.format(&quot;%s%s&quot;, rowLetter, column);\n                    Rectangle2D rectangle = new Rectangle2D.Float(left.from, bottom.from, right.to - left.from, top.to - bottom.from);\n                    result.put(name, rectangle);\n                    left = right;\n                }\n                top = bottom;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * The regions ({@link Rectangle2D} instances with coordinates according\n     * to the PDFBox text extraction API, e.g. for initializing the regions of\n     * a {@link PDFTextStripperByArea}) the {@link PdfBoxFinder} has recognized\n     * on the current page.\n     */\n    public Map&lt;String, Rectangle2D&gt; getRegions() {\n        PDRectangle cropBox = getPage().getCropBox();\n        float xOffset = cropBox.getLowerLeftX();\n        float yOffset = cropBox.getUpperRightY();\n        Map&lt;String, Rectangle2D&gt; result = getBoxes();\n        for (Map.Entry&lt;String, Rectangle2D&gt; entry : result.entrySet()) {\n            Rectangle2D box = entry.getValue();\n            Rectangle2D region = new Rectangle2D.Float(xOffset + (float)box.getX(), yOffset - (float)(box.getY() + box.getHeight()), (float)box.getWidth(), (float)box.getHeight());\n            entry.setValue(region);\n        }\n        return result;\n    }\n\n    /**\n     * &lt;p&gt;\n     * Processes the path elements currently in the {@link #path} list and\n     * eventually clears the list.\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * Currently only elements are considered which \n     * &lt;/p&gt;\n     * &lt;ul&gt;\n     * &lt;li&gt;are {@link Rectangle} instances;\n     * &lt;li&gt;are filled fairly black;\n     * &lt;li&gt;have a thin and long form; and\n     * &lt;li&gt;have sides fairly parallel to the coordinate axis.\n     * &lt;/ul&gt;\n     */\n    void processPath() throws IOException {\n        PDColor color = getGraphicsState().getNonStrokingColor();\n        if (!isBlack(color)) {\n            logger.debug(&quot;Dropped path due to non-black fill-color.&quot;);\n            return;\n        }\n\n        for (PathElement pathElement : path) {\n            if (pathElement instanceof Rectangle) {\n                Rectangle rectangle = (Rectangle) pathElement;\n\n                double p0p1 = rectangle.p0.distance(rectangle.p1);\n                double p1p2 = rectangle.p1.distance(rectangle.p2);\n                boolean p0p1small = p0p1 &lt; 3;\n                boolean p1p2small = p1p2 &lt; 3;\n\n                if (p0p1small) {\n                    if (p1p2small) {\n                        logger.debug(&quot;Dropped rectangle too small on both sides.&quot;);\n                    } else {\n                        processThinRectangle(rectangle.p0, rectangle.p1, rectangle.p2, rectangle.p3);\n                    }\n                } else if (p1p2small) {\n                    processThinRectangle(rectangle.p1, rectangle.p2, rectangle.p3, rectangle.p0);\n                } else {\n                    logger.debug(&quot;Dropped rectangle too large on both sides.&quot;);\n                }\n            }\n        }\n        path.clear();\n    }\n\n    /**\n     * The argument points shall be sorted to have (p0, p1) and (p2, p3) be the small\n     * edges and (p1, p2) and (p3, p0) the long ones.\n     */\n    void processThinRectangle(Point2D p0, Point2D p1, Point2D p2, Point2D p3) {\n        float longXDiff = (float)Math.abs(p2.getX() - p1.getX());\n        float longYDiff = (float)Math.abs(p2.getY() - p1.getY());\n        boolean longXDiffSmall = longXDiff * 10 &lt; longYDiff;\n        boolean longYDiffSmall = longYDiff * 10 &lt; longXDiff;\n\n        if (longXDiffSmall) {\n            verticalLines.add(new Interval(p0.getX(), p1.getX(), p2.getX(), p3.getX()));\n        } else if (longYDiffSmall) {\n            horizontalLines.add(new Interval(p0.getY(), p1.getY(), p2.getY(), p3.getY()));\n        } else {\n            logger.debug(&quot;Dropped rectangle too askew.&quot;);\n        }\n    }\n\n    /**\n     * Sorts the {@link #horizontalLines} and {@link #verticalLines} lists and\n     * merges fairly identical entries.\n     */\n    void consolidateLists() {\n        for (List&lt;Interval&gt; intervals : Arrays.asList(horizontalLines, verticalLines)) {\n            intervals.sort(null);\n            for (int i = 1; i &lt; intervals.size();) {\n                if (intervals.get(i-1).combinableWith(intervals.get(i))) {\n                    Interval interval = intervals.get(i-1).combineWith(intervals.get(i));\n                    intervals.set(i-1, interval);\n                    intervals.remove(i);\n                } else {\n                    i++;\n                }\n            }\n        }\n    }\n\n    /**\n     * Checks whether the given color is black'ish.\n     */\n    boolean isBlack(PDColor color) throws IOException {\n        int value = color.toRGB();\n        for (int i = 0; i &lt; 2; i++) {\n            int component = value &amp; 0xff;\n            if (component &gt; 5)\n                return false;\n            value /= 256;\n        }\n        return true;\n    }\n\n    //\n    // PDFGraphicsStreamEngine overrides\n    //\n    @Override\n    public void appendRectangle(Point2D p0, Point2D p1, Point2D p2, Point2D p3) throws IOException {\n        path.add(new Rectangle(p0, p1, p2, p3));\n    }\n\n    @Override\n    public void endPath() throws IOException {\n        path.clear();\n    }\n\n    @Override\n    public void strokePath() throws IOException {\n        path.clear();\n    }\n\n    @Override\n    public void fillPath(int windingRule) throws IOException {\n        processPath();\n    }\n\n    @Override\n    public void fillAndStrokePath(int windingRule) throws IOException {\n        processPath();\n    }\n\n    @Override public void drawImage(PDImage pdImage) throws IOException { }\n    @Override public void clip(int windingRule) throws IOException { }\n    @Override public void moveTo(float x, float y) throws IOException { }\n    @Override public void lineTo(float x, float y) throws IOException { }\n    @Override public void curveTo(float x1, float y1, float x2, float y2, float x3, float y3) throws IOException { }\n    @Override public Point2D getCurrentPoint() throws IOException { return null; }\n    @Override public void closePath() throws IOException { }\n    @Override public void shadingFill(COSName shadingName) throws IOException { }\n\n    //\n    // inner classes\n    //\n    class Interval implements Comparable&lt;Interval&gt; {\n        final float from;\n        final float to;\n\n        Interval(float... values) {\n            Arrays.sort(values);\n            this.from = values[0];\n            this.to = values[values.length - 1];\n        }\n\n        Interval(double... values) {\n            Arrays.sort(values);\n            this.from = (float) values[0];\n            this.to = (float) values[values.length - 1];\n        }\n\n        boolean combinableWith(Interval other) {\n            if (this.from &gt; other.from)\n                return other.combinableWith(this);\n            if (this.to &lt; other.from)\n                return false;\n            float intersectionLength = Math.min(this.to, other.to) - other.from;\n            float thisLength = this.to - this.from;\n            float otherLength = other.to - other.from;\n            return (intersectionLength &gt;= thisLength * .9f) || (intersectionLength &gt;= otherLength * .9f);\n        }\n\n        Interval combineWith(Interval other) {\n            return new Interval(this.from, this.to, other.from, other.to);\n        }\n\n        @Override\n        public int compareTo(Interval o) {\n            return this.from == o.from ? Float.compare(this.to, o.to) : Float.compare(this.from, o.from);\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;[%3.2f, %3.2f]&quot;, from, to);\n        }\n    }\n\n    interface PathElement {\n    }\n\n    class Rectangle implements PathElement {\n        final Point2D p0, p1, p2, p3;\n\n        Rectangle(Point2D p0, Point2D p1, Point2D p2, Point2D p3) {\n            this.p0 = p0;\n            this.p1 = p1;\n            this.p2 = p2;\n            this.p3 = p3;\n        }\n    }\n\n    //\n    // members\n    //\n    final List&lt;PathElement&gt; path = new ArrayList&lt;&gt;();\n    final List&lt;Interval&gt; horizontalLines = new ArrayList&lt;&gt;();\n    final List&lt;Interval&gt; verticalLines = new ArrayList&lt;&gt;();\n    final Logger logger = LoggerFactory.getLogger(PdfBoxFinder.class);\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/extract/PdfBoxFinder.java#L54\" rel=\"nofollow noreferrer\">PdfBoxFinder.java</a>)</em></p>\n<h3>Example use</h3>\n<p>You can use the <code>PdfBoxFinder</code> like this to extract text from the table cells of the sample document located at <code>FILE_PATH</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (   PDDocument document = PDDocument.load(FILE_PATH) ) {\n    for (PDPage page : document.getDocumentCatalog().getPages()) {\n        PdfBoxFinder boxFinder = new PdfBoxFinder(page);\n        boxFinder.processPage(page);\n\n        PDFTextStripperByArea stripperByArea = new PDFTextStripperByArea();\n        for (Map.Entry&lt;String, Rectangle2D&gt; entry : boxFinder.getRegions().entrySet()) {\n            stripperByArea.addRegion(entry.getKey(), entry.getValue());\n        }\n\n        stripperByArea.extractRegions(page);\n        List&lt;String&gt; names = stripperByArea.getRegions();\n        names.sort(null);\n        for (String name : names) {\n            System.out.printf(&quot;[%s] %s\\n&quot;, name, stripperByArea.getTextForRegion(name));\n        }\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/extract/ExtractBoxedText.java#L104\" rel=\"nofollow noreferrer\">ExtractBoxedText</a> test <code>testExtractBoxedTexts</code>)</em></p>\n<p>The start of the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[A1] Nr. \ncrt. \n\n[A2] Nume i prenume \n\n[A3] Titlul lucrrii \n\n[A4] Coordonator tiinific \n\n[A5] Ora \n\n[B1] 1. \n\n[B2] SFETCU I. JESSICA-\nLARISA \n\n[B3] Analiza fluxurilor de date twitter \n\n[B4] Conf. univ. dr. Frncu Marc \nEduard \n \n\n[B5] 8:00 \n\n[C1] 2. \n\n[C2] TARBA V. IONU-\nADRIAN \n\n[C3] Test me - rest api folosind java i \nplay framework \n\n[C4] Conf.univ.dr. Forti Teodor \nFlorin \n \n\n[C5] 8:12 \n</code></pre>\n<p>The first page of the document:</p>\n<p><a href=\"https://i.stack.imgur.com/QQRxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQRxLl.png\" alt=\"screen shot\" /></a></p>\n"}],"owner":{"account_id":13975915,"reputation":33,"user_id":10093356,"display_name":"A. Groza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4279,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51560024,"answer_count":1,"score":3,"last_activity_date":1692967262,"creation_date":1531828254,"question_id":51380677,"body_markdown":"Black shapes are text that need to be extracted:\r\n\r\n[![Black shapes are text that need to be extracted][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KhWWF.png\r\n\r\nSo far, i&#39;ve extracted the text from columns, but manually, because there are only 5 (using the Rectangle class for the regions). My question is: is there a way to do so for rows since the size (height) of the Rectangles are different and manually doing it to 50+ rows would be an atrocity? More specific, can i change the rectangle according to every row&#39;s height using a function? Or any suggestion that may help?","title":"Extracting text from pdf (java using pdfbox library) from a table&#39;s rows with different heights","body":"<p>Black shapes are text that need to be extracted:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KhWWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KhWWF.png\" alt=\"Black shapes are text that need to be extracted\"></a></p>\n\n<p>So far, i've extracted the text from columns, but manually, because there are only 5 (using the Rectangle class for the regions). My question is: is there a way to do so for rows since the size (height) of the Rectangles are different and manually doing it to 50+ rows would be an atrocity? More specific, can i change the rectangle according to every row's height using a function? Or any suggestion that may help?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1692803069,"post_id":76962580,"comment_id":135674496,"body_markdown":"The file is hardly stored in a database, it is stored on the local disk. `src/main/resources` may be easily available when you are running the application locally but after the application is built and deployed, that directory is not automatically available to serve content through a web server. If you are going for this solution you need to store the file in a directory that is available to the web server.","body":"The file is hardly stored in a database, it is stored on the local disk. <code>src&#47;main&#47;resources</code> may be easily available when you are running the application locally but after the application is built and deployed, that directory is not automatically available to serve content through a web server. If you are going for this solution you need to store the file in a directory that is available to the web server."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692805794,"post_id":76962580,"comment_id":135675108,"body_markdown":"Quite right. Don&#39;t use your source tree. You want `Path filename = Path.of(originalFilename, &quot;_&quot;, uidString, extension);Path dest = Path.of(System.getProperty(&quot;user.home&quot;), filename);` You might not want to put the file in your home directory, in which case choose another. But be aware that `user.dir` is redundant as the default target would be the current directory anyway.","body":"Quite right. Don&#39;t use your source tree. You want <code>Path filename = Path.of(originalFilename, &quot;_&quot;, uidString, extension);Path dest = Path.of(System.getProperty(&quot;user.home&quot;), filename);</code> You might not want to put the file in your home directory, in which case choose another. But be aware that <code>user.dir</code> is redundant as the default target would be the current directory anyway."}],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692966538,"creation_date":1692966538,"answer_id":76977184,"question_id":76962580,"body_markdown":"You can programmatically create directory in project&#39;s root directory to save uploaded files this way\r\n\r\n    public static final String UPLOAD_DIR = &quot;uploads/images/&quot;;\r\n\r\n    @Component\r\n    public class FilesHelper {\r\n        public String saveFile(MultipartFile file) throws IOException {\r\n\r\n            File fileSaveDir = new File(UPLOAD_DIR);\r\n            if (!fileSaveDir.exists()) {\r\n                fileSaveDir.mkdirs();\r\n            }\r\n        }\r\n    }\r\n\r\nAfter deploying the directory will be created in `tomcat/bin` \r\n\r\nFor local test you can save uploaded file url in database as\r\n\r\n    http://localhost:9000/uploads/images/hello.png\r\n\r\nAfter deploying url will be \r\n\r\n    http://yourdomain.com:9000/YourJarFileName/uploads/images/hello.png\r\n\r\nTherefore you should change upload base url before building jar to be deployed\r\n\r\neg. change \r\n \r\n    http://localhost:9000/ \r\n\r\n   to\r\n\r\n    http://yourdomain.com:9000/YourJarFileName/","title":"Spring boot jar deploy file upload system","body":"<p>You can programmatically create directory in project's root directory to save uploaded files this way</p>\n<pre><code>public static final String UPLOAD_DIR = &quot;uploads/images/&quot;;\n\n@Component\npublic class FilesHelper {\n    public String saveFile(MultipartFile file) throws IOException {\n\n        File fileSaveDir = new File(UPLOAD_DIR);\n        if (!fileSaveDir.exists()) {\n            fileSaveDir.mkdirs();\n        }\n    }\n}\n</code></pre>\n<p>After deploying the directory will be created in <code>tomcat/bin</code></p>\n<p>For local test you can save uploaded file url in database as</p>\n<pre><code>http://localhost:9000/uploads/images/hello.png\n</code></pre>\n<p>After deploying url will be</p>\n<pre><code>http://yourdomain.com:9000/YourJarFileName/uploads/images/hello.png\n</code></pre>\n<p>Therefore you should change upload base url before building jar to be deployed</p>\n<p>eg. change</p>\n<pre><code>http://localhost:9000/ \n</code></pre>\n<p>to</p>\n<pre><code>http://yourdomain.com:9000/YourJarFileName/\n</code></pre>\n"}],"owner":{"account_id":29121688,"reputation":1,"user_id":22308987,"display_name":"nirah tmg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692966538,"creation_date":1692802447,"question_id":76962580,"body_markdown":"hello sir i build the springboot app which serves as backend for electron app which we made from react so i was saving file inside project folder resource&gt;static and saving the details of photo in database as localhost:9000/hello.png ...in development phase i was able to get the image by that name which i have stored in database but when i build a jar file and tried to run it i was able to create file but cannot get the file \r\nand my requirment is i have to run that server locally also and in future in cloud also \r\n\r\n\r\n```\r\n/**class that have server url\r\npublic class KanchanjungaApplication implements CommandLineRunner {\r\n\r\n\tpublic static final String SERVERURL = &quot;http://localhost:9000/&quot;;\r\n**/\r\n\r\nand this is my code that saves file  \r\npackage Kanchanjunga.Utility;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardCopyOption;\r\nimport java.rmi.server.UID;\r\n\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport Kanchanjunga.KanchanjungaApplication;\r\n\r\n@Component\r\npublic class FilesHelper {\r\n\tpublic String saveFile(MultipartFile file) throws IOException {\r\n\t\t// uid for unique name of image\r\n\t\tUID uid = new UID();\r\n\t\tString uidString = uid.toString().replace(&#39;:&#39;, &#39;_&#39;);\r\n\t\tString originalFilename = file.getOriginalFilename();\r\n\t\tString extension = &quot;&quot;;\r\n\t\tif (originalFilename != null) {\r\n\t\t\tint dotIndex = originalFilename.lastIndexOf(&#39;.&#39;);\r\n\t\t\tif (dotIndex &gt;= 0) {\r\n\t\t\t\textension = originalFilename.substring(dotIndex);\r\n\t\t\t\toriginalFilename = originalFilename.substring(0, dotIndex);\r\n\t\t\t}\r\n\t\t}\r\n\t\tString filename = originalFilename + &quot;_&quot; + uidString + extension;\r\n\t\tString uploadDir = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static&quot;;\r\n                Path paths = Paths.get(uploadDir);\r\n\t\tif (!Files.exists(paths)) {\r\n\t\t\tFiles.createDirectories(paths);\r\n\t\t}\r\n\t\tPath imagePath = paths.resolve(filename);\r\n\t\ttry (InputStream inputStream = file.getInputStream()) {\r\n\t\t\tFiles.copy(inputStream, imagePath, StandardCopyOption.REPLACE_EXISTING);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Fail to save file &quot; + filename, e);\r\n\t\t}\r\n\t\treturn KanchanjungaApplication.SERVERURL + filename;\r\n\t}\r\n\r\n\tpublic Boolean deleteExistingFile(String fileName) {\r\n\t\tString uploadDirectory = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static&quot;;\r\n\t\tString filePathString = fileName.replace(KanchanjungaApplication.SERVERURL, &quot;&quot;);\r\n\t\tPath filePath = Paths.get(uploadDirectory, filePathString);\r\n\t\ttry {\r\n\t\t\tFiles.deleteIfExists(filePath);\r\n\t\t\treturn true;\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\n\r\ni researched and tried to find solution but failed i really need help and your expertise`\r\n","title":"Spring boot jar deploy file upload system","body":"<p>hello sir i build the springboot app which serves as backend for electron app which we made from react so i was saving file inside project folder resource&gt;static and saving the details of photo in database as localhost:9000/hello.png ...in development phase i was able to get the image by that name which i have stored in database but when i build a jar file and tried to run it i was able to create file but cannot get the file\nand my requirment is i have to run that server locally also and in future in cloud also</p>\n<pre><code>/**class that have server url\npublic class KanchanjungaApplication implements CommandLineRunner {\n\n    public static final String SERVERURL = &quot;http://localhost:9000/&quot;;\n**/\n\nand this is my code that saves file  \npackage Kanchanjunga.Utility;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\nimport java.rmi.server.UID;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport Kanchanjunga.KanchanjungaApplication;\n\n@Component\npublic class FilesHelper {\n    public String saveFile(MultipartFile file) throws IOException {\n        // uid for unique name of image\n        UID uid = new UID();\n        String uidString = uid.toString().replace(':', '_');\n        String originalFilename = file.getOriginalFilename();\n        String extension = &quot;&quot;;\n        if (originalFilename != null) {\n            int dotIndex = originalFilename.lastIndexOf('.');\n            if (dotIndex &gt;= 0) {\n                extension = originalFilename.substring(dotIndex);\n                originalFilename = originalFilename.substring(0, dotIndex);\n            }\n        }\n        String filename = originalFilename + &quot;_&quot; + uidString + extension;\n        String uploadDir = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static&quot;;\n                Path paths = Paths.get(uploadDir);\n        if (!Files.exists(paths)) {\n            Files.createDirectories(paths);\n        }\n        Path imagePath = paths.resolve(filename);\n        try (InputStream inputStream = file.getInputStream()) {\n            Files.copy(inputStream, imagePath, StandardCopyOption.REPLACE_EXISTING);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Fail to save file &quot; + filename, e);\n        }\n        return KanchanjungaApplication.SERVERURL + filename;\n    }\n\n    public Boolean deleteExistingFile(String fileName) {\n        String uploadDirectory = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static&quot;;\n        String filePathString = fileName.replace(KanchanjungaApplication.SERVERURL, &quot;&quot;);\n        Path filePath = Paths.get(uploadDirectory, filePathString);\n        try {\n            Files.deleteIfExists(filePath);\n            return true;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>i researched and tried to find solution but failed i really need help and your expertise`</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1536073931,"post_id":52169272,"comment_id":91289096,"body_markdown":"*&quot;The LocalDateTime.toString is not either in ISO 8601, the letter z in ISO8601 is gone.&quot;* Yes, it is. ISO-8601 doesn&#39;t require a timezone on strings; the string shown is a perfectly valid ISO-8601 datetime string. If there is no timezone, ISO-8601 assumes &quot;local time.&quot; Given that the class is `LocalDateTime`, that representation makes sense.","body":"<i>&quot;The LocalDateTime.toString is not either in ISO 8601, the letter z in ISO8601 is gone.&quot;</i> Yes, it is. ISO-8601 doesn&#39;t require a timezone on strings; the string shown is a perfectly valid ISO-8601 datetime string. If there is no timezone, ISO-8601 assumes &quot;local time.&quot; Given that the class is <code>LocalDateTime</code>, that representation makes sense."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1536074123,"post_id":52169272,"comment_id":91289214,"body_markdown":"The &quot;local&quot; part indicates the LocalDateTime is for a date/time without a timezone.","body":"The &quot;local&quot; part indicates the LocalDateTime is for a date/time without a timezone."},{"owner":{"account_id":13546677,"reputation":517,"user_id":9772778,"display_name":"Cosaic"},"score":0,"creation_date":1536074210,"post_id":52169272,"comment_id":91289274,"body_markdown":"Should I use `Instant` instead of `LocalDateTime`? If so, what should I change in my PostgreSQL DB?","body":"Should I use <code>Instant</code> instead of <code>LocalDateTime</code>? If so, what should I change in my PostgreSQL DB?"},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1536074361,"post_id":52169272,"comment_id":91289383,"body_markdown":"@Cosaic See the [documentation](https://jdbc.postgresql.org/documentation/head/8-date-time.html).","body":"@Cosaic See the <a href=\"https://jdbc.postgresql.org/documentation/head/8-date-time.html\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1536077698,"post_id":52169272,"comment_id":91291279,"body_markdown":"@Cosaic Use `Instant` for an actual moment, a point on the timeline, in UTC. Use `LocalDateTime` when you mean all time zones or any time zone.  These are completely different animals, not at all interchangeable, because **`LocalDateTime` cannot represent a moment**. See: [*Whats the difference between `Instant` and `LocalDateTime`?*](https://stackoverflow.com/q/32437550/642706).","body":"@Cosaic Use <code>Instant</code> for an actual moment, a point on the timeline, in UTC. Use <code>LocalDateTime</code> when you mean all time zones or any time zone.  These are completely different animals, not at all interchangeable, because <b><code>LocalDateTime</code> cannot represent a moment</b>. See: <a href=\"https://stackoverflow.com/q/32437550/642706\"><i>Whats the difference between <code>Instant</code> and <code>LocalDateTime</code>?</i></a>."},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1536078480,"post_id":52169272,"comment_id":91291654,"body_markdown":"@BasilBourque Your answer is golden. I wish I could upvote it again.","body":"@BasilBourque Your answer is golden. I wish I could upvote it again."}],"answers":[{"comments":[{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":3,"creation_date":1536076979,"post_id":52169382,"comment_id":91290897,"body_markdown":"Or use `Instant` if you always want to use the UTC timezone. `ZonedDateTime`/`OffsetDateTime`s are only useful if you want to use variable timezones. Please note that the actual timezone might be lost if saved to a database such as postgres (only the timestamp in utc is saved). They are supported by (some) JPA implementations.","body":"Or use <code>Instant</code> if you always want to use the UTC timezone. <code>ZonedDateTime</code>/<code>OffsetDateTime</code>s are only useful if you want to use variable timezones. Please note that the actual timezone might be lost if saved to a database such as postgres (only the timestamp in utc is saved). They are supported by (some) JPA implementations."},{"owner":{"account_id":13546677,"reputation":517,"user_id":9772778,"display_name":"Cosaic"},"score":0,"creation_date":1536078353,"post_id":52169382,"comment_id":91291587,"body_markdown":"If I have an `Instant` in UTC, I then convert it to `LocalDateTime` and store it in DB. Is this a valid process?","body":"If I have an <code>Instant</code> in UTC, I then convert it to <code>LocalDateTime</code> and store it in DB. Is this a valid process?"},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1536082913,"post_id":52169382,"comment_id":91293628,"body_markdown":"@Cosaic It depends. `Instant` and `LocalDateTime` are different things. Have a look at this [answer](https://stackoverflow.com/a/32443004/1426227) from Basil Bourque.","body":"@Cosaic It depends. <code>Instant</code> and <code>LocalDateTime</code> are different things. Have a look at this <a href=\"https://stackoverflow.com/a/32443004/1426227\">answer</a> from Basil Bourque."}],"tags":[],"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1692966240,"creation_date":1536073928,"answer_id":52169382,"question_id":52169272,"body_markdown":"&gt; The `LocalDateTime.toString` is not either in ISO 8601, the letter `Z` in ISO8601 is gone.\r\n\r\n[`LocalDateTime`][1] a description of the date, as used for birthdays, combined with the local time as seen on a wall clock. It cannot represent an instant on the time-line without additional information such as an offset or time-zone.\r\n\r\n`Z` is the zone designator for the zero UTC offset and that&#39;s why you won&#39;t see it when invoking [`toString()`][2] from a [`LocalDateTime`][1] instance. Use [`ZonedDateTime`][3] or [`OffsetDateTime`][4] if you need a time-zone or an offset.\r\n\r\nTo (de)serialize [JSR-310][5] types with Jackson, consider the [`JavaTimeModule`][6]. See the [documentation][7] for details. \r\n\r\n---\r\n\r\n&gt; Should I use `Instant` instead of `LocalDateTime`? If so, what should I change in my PostgreSQL DB?\r\n\r\nCheck what the PostgreSQL JDBC driver [documentation][8] says about it:\r\n\r\n&gt; The PostgreSQL JDBC driver implements native support for the [Java 8 Date and Time API][9] (JSR-310) using JDBC 4.2.\r\n&gt;\r\n&gt;```\r\n&gt; +--------------------------------+----------------+\r\n&gt; | PostgreSQL                    | Java SE 8      |\r\n&gt; +--------------------------------+----------------+\r\n&gt; | DATE                           | LocalDate      |\r\n&gt; | TIME [ WITHOUT TIMEZONE ]      | LocalTime      |\r\n&gt; | TIMESTAMP [ WITHOUT TIMEZONE ] | LocalDateTime  |\r\n&gt; | TIMESTAMP WITH TIMEZONE        | OffsetDateTime |\r\n&gt; +--------------------------------+----------------+\r\n&gt;```\r\n&gt;\r\n&gt; This is closely aligned with tables B-4 and B-5 of the JDBC 4.2 specification.\r\n&gt;\r\n&gt; **Note**  \r\n&gt; `ZonedDateTime`, `Instant` and `OffsetTime / TIME [ WITHOUT TIMEZONE ]` are not supported. Also note that all `OffsetDateTime` will instances will have be in UTC (have offset 0). This is because the backend stores them as UTC.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\r\n  [4]: https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\r\n  [5]: https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\r\n  [6]: https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\r\n  [7]: https://github.com/FasterXML/jackson-modules-java8/tree/master/datetime\r\n  [8]: https://jdbc.postgresql.org/documentation/query/\r\n  [9]: http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html","title":"LocalDateTime is not ISO8601 by default","body":"<blockquote>\n<p>The <code>LocalDateTime.toString</code> is not either in ISO 8601, the letter <code>Z</code> in ISO8601 is gone.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> a description of the date, as used for birthdays, combined with the local time as seen on a wall clock. It cannot represent an instant on the time-line without additional information such as an offset or time-zone.</p>\n<p><code>Z</code> is the zone designator for the zero UTC offset and that's why you won't see it when invoking <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\" rel=\"nofollow noreferrer\"><code>toString()</code></a> from a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> instance. Use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> or <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> if you need a time-zone or an offset.</p>\n<p>To (de)serialize <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">JSR-310</a> types with Jackson, consider the <a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\"><code>JavaTimeModule</code></a>. See the <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/master/datetime\" rel=\"nofollow noreferrer\">documentation</a> for details.</p>\n<hr />\n<blockquote>\n<p>Should I use <code>Instant</code> instead of <code>LocalDateTime</code>? If so, what should I change in my PostgreSQL DB?</p>\n</blockquote>\n<p>Check what the PostgreSQL JDBC driver <a href=\"https://jdbc.postgresql.org/documentation/query/\" rel=\"nofollow noreferrer\">documentation</a> says about it:</p>\n<blockquote>\n<p>The PostgreSQL JDBC driver implements native support for the <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow noreferrer\">Java 8 Date and Time API</a> (JSR-310) using JDBC 4.2.</p>\n<pre><code>+--------------------------------+----------------+\n| PostgreSQL                    | Java SE 8      |\n+--------------------------------+----------------+\n| DATE                           | LocalDate      |\n| TIME [ WITHOUT TIMEZONE ]      | LocalTime      |\n| TIMESTAMP [ WITHOUT TIMEZONE ] | LocalDateTime  |\n| TIMESTAMP WITH TIMEZONE        | OffsetDateTime |\n+--------------------------------+----------------+\n</code></pre>\n<p>This is closely aligned with tables B-4 and B-5 of the JDBC 4.2 specification.</p>\n<p><strong>Note</strong><br />\n<code>ZonedDateTime</code>, <code>Instant</code> and <code>OffsetTime / TIME [ WITHOUT TIMEZONE ]</code> are not supported. Also note that all <code>OffsetDateTime</code> will instances will have be in UTC (have offset 0). This is because the backend stores them as UTC.</p>\n</blockquote>\n"}],"owner":{"account_id":13546677,"reputation":517,"user_id":9772778,"display_name":"Cosaic"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4615,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52169382,"answer_count":1,"score":2,"last_activity_date":1692966240,"creation_date":1536073614,"question_id":52169272,"body_markdown":"I&#39;m using `LocalDateTime` to represent time.\r\nIn the debugging mode, I noticed that the time format is not in ISO 8601, which makes me hard to send directly to other apis.\r\n\r\nRequest class\r\n\r\n    public class AgreementRequest {\r\n        @NonNull\r\n        private String name;\r\n        @NonNull\r\n        private String description;\r\n        @JsonProperty(&quot;start_date&quot;)\r\n        @DateTimeFormat(iso = DATE_TIME)\r\n        @NonNull\r\n        private String startDate;\r\n    }\r\n\r\nInitialization:\r\n\r\n    request = AgreementRequest.builder()\r\n                    .name(&quot;Premium subscription&quot;)\r\n                    .description(&quot;Montly subscription&quot;)\r\n                    .startDate(LocalDateTime.now().plusDays(1).toString()).build();\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe `LocalDateTime.toString` is not either in ISO 8601, the letter `z` in ISO8601 is gone.\r\n\r\n\r\nI have `objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);` disabled, is this the problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IylN4.png","title":"LocalDateTime is not ISO8601 by default","body":"<p>I'm using <code>LocalDateTime</code> to represent time.\nIn the debugging mode, I noticed that the time format is not in ISO 8601, which makes me hard to send directly to other apis.</p>\n\n<p>Request class</p>\n\n<pre><code>public class AgreementRequest {\n    @NonNull\n    private String name;\n    @NonNull\n    private String description;\n    @JsonProperty(\"start_date\")\n    @DateTimeFormat(iso = DATE_TIME)\n    @NonNull\n    private String startDate;\n}\n</code></pre>\n\n<p>Initialization:</p>\n\n<pre><code>request = AgreementRequest.builder()\n                .name(\"Premium subscription\")\n                .description(\"Montly subscription\")\n                .startDate(LocalDateTime.now().plusDays(1).toString()).build();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/IylN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IylN4.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <code>LocalDateTime.toString</code> is not either in ISO 8601, the letter <code>z</code> in ISO8601 is gone.</p>\n\n<p>I have <code>objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);</code> disabled, is this the problem?</p>\n"},{"tags":["java","javafx","locale","badass-runtime-plugin"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692966540,"post_id":76977146,"comment_id":135700392,"body_markdown":"You&#39;ll probably get a quicker answer to this if you ask on the plugin&#39;s Github","body":"You&#39;ll probably get a quicker answer to this if you ask on the plugin&#39;s Github"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1693281184,"post_id":76977146,"comment_id":135736465,"body_markdown":"I think, behind the scenes, badass uses jlink and/or jpackage.  To [include locales using jlink you need a special option](https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html). You also need the `jdk.localedata` module added. Example: `--add-modules jdk.localedata --include-locales=en,ja,*-IN`. I dont know how you configure badass to pass the required option to jlink, perhaps it will be mentioned in the plugin documentation.","body":"I think, behind the scenes, badass uses jlink and/or jpackage.  To <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\">include locales using jlink you need a special option</a>. You also need the <code>jdk.localedata</code> module added. Example: <code>--add-modules jdk.localedata --include-locales=en,ja,*-IN</code>. I dont know how you configure badass to pass the required option to jlink, perhaps it will be mentioned in the plugin documentation."}],"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692966184,"creation_date":1692966184,"question_id":76977146,"body_markdown":"I&#39;m creating an image of my javafx application using Badass Runtime plugin https://github.com/beryx/badass-runtime-plugin\r\nWhen I execute the bat file to launch my application the locale is not set to Spanish which is the locale of my code.\r\nAny idea why is it happening and how can I solve it?\r\nThank you!","title":"Badass runtime plugin locale","body":"<p>I'm creating an image of my javafx application using Badass Runtime plugin <a href=\"https://github.com/beryx/badass-runtime-plugin\" rel=\"nofollow noreferrer\">https://github.com/beryx/badass-runtime-plugin</a>\nWhen I execute the bat file to launch my application the locale is not set to Spanish which is the locale of my code.\nAny idea why is it happening and how can I solve it?\nThank you!</p>\n"},{"tags":["java","generics","types","collections"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692715246,"post_id":76950367,"comment_id":135660381,"body_markdown":"You can see with [`Collections::swap`](https://github.com/openjdk/jdk/blob/20e94784c9f7c30e95550c72aedb5e986a153114/src/java.base/share/classes/java/util/Collections.java#L520) that using `List&lt;?&gt;` requires raw types and suppressing warnings. Given a swap method inherently needs to both read and _write_ to the list, I never understood why the built-in `swap` method _did not_ use `List&lt;T&gt;`.","body":"You can see with <a href=\"https://github.com/openjdk/jdk/blob/20e94784c9f7c30e95550c72aedb5e986a153114/src/java.base/share/classes/java/util/Collections.java#L520\" rel=\"nofollow noreferrer\"><code>Collections::swap</code></a> that using <code>List&lt;?&gt;</code> requires raw types and suppressing warnings. Given a swap method inherently needs to both read and <i>write</i> to the list, I never understood why the built-in <code>swap</code> method <i>did not</i> use <code>List&lt;T&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692683284,"creation_date":1692683284,"answer_id":76950391,"question_id":76950367,"body_markdown":"The wildcard symbol &#39;?&#39;, can add complexity to the code in certain situations, while the `swapHelper` method it might not be necessary or advantageous in many common scenarios.\r\nIn many cases, when you&#39;re working with generics and collections, you already know the type of elements you&#39;re dealing with so there&#39;s no need to use a captured type and by doing this you make the code more straightforward and less error-prone.\r\n\r\nCaptured types typically come into play when you&#39;re dealing with unknown or mixed types within a collection. However, in practice, we often try to structure the code in a way that avoids such situations to keep the codebase more manageable and comprehensible.","title":"Why does Java ArrayList&#39;s reverse method doesn&#39;t use capture of wildcard?","body":"<p>The wildcard symbol '?', can add complexity to the code in certain situations, while the <code>swapHelper</code> method it might not be necessary or advantageous in many common scenarios.\nIn many cases, when you're working with generics and collections, you already know the type of elements you're dealing with so there's no need to use a captured type and by doing this you make the code more straightforward and less error-prone.</p>\n<p>Captured types typically come into play when you're dealing with unknown or mixed types within a collection. However, in practice, we often try to structure the code in a way that avoids such situations to keep the codebase more manageable and comprehensible.</p>\n"},{"comments":[{"owner":{"account_id":20301213,"reputation":13,"user_id":14890564,"display_name":"CHAEHOON PARK"},"score":1,"creation_date":1693030171,"post_id":76977109,"comment_id":135708836,"body_markdown":"I was curious about the usage of the capture of wildcard, but your comment also helped me understand more about the generics, especially &#39;don&#39;t use generics always!&#39;. Thnx :)","body":"I was curious about the usage of the capture of wildcard, but your comment also helped me understand more about the generics, especially &#39;don&#39;t use generics always!&#39;. Thnx :)"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693056786,"post_id":76977109,"comment_id":135711133,"body_markdown":"Anytime. Be sure to accept the answer that solves your problem. And upvote any answers that are helpful.","body":"Anytime. Be sure to accept the answer that solves your problem. And upvote any answers that are helpful."}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692965886,"creation_date":1692965886,"answer_id":76977109,"question_id":76950367,"body_markdown":"The short answer -- generics are powerful and useful, but not every method needs them.\r\n\r\nThink about it. You want to reverse a list. Not take something out, or put something back in. What would generics give you here?\r\n\r\nIf you wanted to extract something from the list, generics would allow you to maintain type-safety by ensuring that what comes out is of a particular type.\r\n\r\nIf you wanted to put something into the list, generics would allow you to ensure that the item you are inserting into the list is a type that the list can handle.\r\n\r\nBut in your situation, your items are already in the list, and you are not taking them out right at this moment. Specifically, the method&#39;s return type is void. Therefore, what do generics give you?\r\n\r\nThe answer is - nothing useful. At least not for this shuffle method. Like I said, they are useful elsewhere, but not for this shuffle method.\r\n\r\nAnd you will see similar things for other methods. Consider the following.\r\n\r\n* [`Collections.disjoint(Collection&lt;?&gt; c1, Collection&lt;?&gt; c2) --&gt; boolean`][1]\r\n* [`Collections.frequency(Collection&lt;?&gt; c1, Object o) --&gt; int`][2]\r\n\r\nFor both of the above examples, they don&#39;t actually care about what the parameterized type is for each of the `Collection` parameters. So, they simply put those aside, and focus on doing the actual task given. Also notice that their return types are unrelated to the parameterized types of each `Collection`, so again, there is no benefit to be had by inserting a type parameter here.\r\n\r\nUse generics where they are useful. They add complexity, so the only time you should include them is when the tradeoff actually gives you something good in exchange.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#disjoint(java.util.Collection,java.util.Collection)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)","title":"Why does Java ArrayList&#39;s reverse method doesn&#39;t use capture of wildcard?","body":"<p>The short answer -- generics are powerful and useful, but not every method needs them.</p>\n<p>Think about it. You want to reverse a list. Not take something out, or put something back in. What would generics give you here?</p>\n<p>If you wanted to extract something from the list, generics would allow you to maintain type-safety by ensuring that what comes out is of a particular type.</p>\n<p>If you wanted to put something into the list, generics would allow you to ensure that the item you are inserting into the list is a type that the list can handle.</p>\n<p>But in your situation, your items are already in the list, and you are not taking them out right at this moment. Specifically, the method's return type is void. Therefore, what do generics give you?</p>\n<p>The answer is - nothing useful. At least not for this shuffle method. Like I said, they are useful elsewhere, but not for this shuffle method.</p>\n<p>And you will see similar things for other methods. Consider the following.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#disjoint(java.util.Collection,java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collections.disjoint(Collection&lt;?&gt; c1, Collection&lt;?&gt; c2) --&gt; boolean</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Collections.frequency(Collection&lt;?&gt; c1, Object o) --&gt; int</code></a></li>\n</ul>\n<p>For both of the above examples, they don't actually care about what the parameterized type is for each of the <code>Collection</code> parameters. So, they simply put those aside, and focus on doing the actual task given. Also notice that their return types are unrelated to the parameterized types of each <code>Collection</code>, so again, there is no benefit to be had by inserting a type parameter here.</p>\n<p>Use generics where they are useful. They add complexity, so the only time you should include them is when the tradeoff actually gives you something good in exchange.</p>\n"}],"owner":{"account_id":20301213,"reputation":13,"user_id":14890564,"display_name":"CHAEHOON PARK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76977109,"answer_count":2,"score":1,"last_activity_date":1692965886,"creation_date":1692682937,"question_id":76950367,"body_markdown":"I&#39;m currently studying on Effective Java Item 26, 27.\r\n\r\nI learned about the captured type and looked up on Java Collections&#39;s reverse method,\r\n\r\nand recognized that Java developers didn&#39;t use capture of type.\r\n\r\n\r\n\r\n\r\nLooked up on GPT, and is replies that Java Developers might not have used it\r\n\r\nbecause using type capture would increase the complexity of the code.\r\n\r\nI kind of get the idea, but wonder this is the actual idea.\r\n\r\n[Understanding a captured type in Java (symbol &#39;?&#39;)](https://stackoverflow.com/questions/30797805/understanding-a-captured-type-in-java-symbol#answer-30798066)\r\n\r\n[Chapter&#160;5.&#160;Conversions and Contexts](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.10)\r\n\r\n\r\n```java\r\nprivate static &lt;T&gt; void swapHelper(List&lt;T&gt; list, int i, int j) {    // captured!\r\n        T temp = list.get(i);\r\n        list.set(i, list.get(j));\r\n        list.set(j, temp);\r\n}\r\n```\r\nI know the method above (swapHelper) can be used. Just curious why they didn&#39;t used it.\r\n","title":"Why does Java ArrayList&#39;s reverse method doesn&#39;t use capture of wildcard?","body":"<p>I'm currently studying on Effective Java Item 26, 27.</p>\n<p>I learned about the captured type and looked up on Java Collections's reverse method,</p>\n<p>and recognized that Java developers didn't use capture of type.</p>\n<p>Looked up on GPT, and is replies that Java Developers might not have used it</p>\n<p>because using type capture would increase the complexity of the code.</p>\n<p>I kind of get the idea, but wonder this is the actual idea.</p>\n<p><a href=\"https://stackoverflow.com/questions/30797805/understanding-a-captured-type-in-java-symbol#answer-30798066\">Understanding a captured type in Java (symbol '?')</a></p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">Chapter5.Conversions and Contexts</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T&gt; void swapHelper(List&lt;T&gt; list, int i, int j) {    // captured!\n        T temp = list.get(i);\n        list.set(i, list.get(j));\n        list.set(j, temp);\n}\n</code></pre>\n<p>I know the method above (swapHelper) can be used. Just curious why they didn't used it.</p>\n"},{"tags":["java","arrays","selenium-webdriver"],"comments":[{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":0,"creation_date":1377679244,"post_id":18475578,"comment_id":27169462,"body_markdown":"Well what information from the WebElement you want? Do you want it&#39;s `text`? Some other attribute?","body":"Well what information from the WebElement you want? Do you want it&#39;s <code>text</code>? Some other attribute?"},{"owner":{"account_id":2652108,"reputation":95,"user_id":2293498,"accept_rate":44,"display_name":"vslat"},"score":0,"creation_date":1377781711,"post_id":18475578,"comment_id":27219411,"body_markdown":"I was trying to get the text, then do a string comparison.","body":"I was trying to get the text, then do a string comparison."}],"answers":[{"tags":[],"owner":{"account_id":2121679,"reputation":1115,"user_id":1884792,"accept_rate":43,"display_name":"Lingaraj R M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398412676,"creation_date":1398412676,"answer_id":23287368,"question_id":18475578,"body_markdown":"Please try using following sample code, change xpath/data accordingly        \r\n\r\n    List&lt;WebElement&gt; resultList = _driver.findElements(By.xpath(&quot;//img[contains(@src,&#39;tab-close.png&#39;)]/preceding-sibling::span[@class=&#39;tab-name ng-binding&#39;]&quot;));\r\n            for (WebElement resultItem : resultList){\r\n               String tabname=resultItem.getText();\r\n               if(resultItem.getText().equalsIgnoreCase(&quot;Dashboard&quot;)){\r\n               GlobalFunctions.clickOnButtonCustomised(false, _driver, By.xpath(&quot;//span[@class=&#39;tab-name ng-binding&#39; and contains(text(),&#39;&quot;+tabname+&quot;&#39;)]/following-sibling::img[contains(@src,&#39;tab-close.png&#39;)]&quot;), &quot;&quot;);\r\n                }\r\n            }","title":"Selenium adding items from a Web element list to a string array list","body":"<p>Please try using following sample code, change xpath/data accordingly        </p>\n\n<pre><code>List&lt;WebElement&gt; resultList = _driver.findElements(By.xpath(\"//img[contains(@src,'tab-close.png')]/preceding-sibling::span[@class='tab-name ng-binding']\"));\n        for (WebElement resultItem : resultList){\n           String tabname=resultItem.getText();\n           if(resultItem.getText().equalsIgnoreCase(\"Dashboard\")){\n           GlobalFunctions.clickOnButtonCustomised(false, _driver, By.xpath(\"//span[@class='tab-name ng-binding' and contains(text(),'\"+tabname+\"')]/following-sibling::img[contains(@src,'tab-close.png')]\"), \"\");\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398417049,"creation_date":1398417049,"answer_id":23288840,"question_id":18475578,"body_markdown":"Change this:\r\n\r\n    for (int i=0; i&lt;tbl1; i++)\r\n        webList.add(emailFolders.get(0));\r\n\r\nTo this:\r\n\r\n    for (WebElement emailFolder : emailFolders)\r\n        webList.add(emailFolder.getAttribute(XXX));\r\n\r\nThen, replace `XXX` with the name of the attribute which stores the actual folder name.\r\n\r\nA few examples:\r\n\r\n- For `&lt;tag&gt;&lt;class=&quot;folder-name&quot; id=&quot;folder1&quot;&gt;&lt;/tag&gt;`, replace `XXX` with `&quot;id&quot;`\r\n- For `&lt;tag&gt;&lt;class=&quot;folder-name&quot; value=&quot;folder1&quot;&gt;&lt;/tag&gt;`, replace `XXX` with `&quot;value&quot;`\r\n- For `&lt;tag&gt;&lt;class=&quot;folder-name&quot;&gt;folder1&lt;/tag&gt;`, replace `XXX` with `&quot;innerHTML&quot;`\r\n\r\nBTW, instead of `getAttribute(&quot;innerHTML&quot;)`, you can simply use `getText()`.\r\n","title":"Selenium adding items from a Web element list to a string array list","body":"<p>Change this:</p>\n\n<pre><code>for (int i=0; i&lt;tbl1; i++)\n    webList.add(emailFolders.get(0));\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>for (WebElement emailFolder : emailFolders)\n    webList.add(emailFolder.getAttribute(XXX));\n</code></pre>\n\n<p>Then, replace <code>XXX</code> with the name of the attribute which stores the actual folder name.</p>\n\n<p>A few examples:</p>\n\n<ul>\n<li>For <code>&lt;tag&gt;&lt;class=\"folder-name\" id=\"folder1\"&gt;&lt;/tag&gt;</code>, replace <code>XXX</code> with <code>\"id\"</code></li>\n<li>For <code>&lt;tag&gt;&lt;class=\"folder-name\" value=\"folder1\"&gt;&lt;/tag&gt;</code>, replace <code>XXX</code> with <code>\"value\"</code></li>\n<li>For <code>&lt;tag&gt;&lt;class=\"folder-name\"&gt;folder1&lt;/tag&gt;</code>, replace <code>XXX</code> with <code>\"innerHTML\"</code></li>\n</ul>\n\n<p>BTW, instead of <code>getAttribute(\"innerHTML\")</code>, you can simply use <code>getText()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3234687,"reputation":165,"user_id":2729186,"display_name":"Chris Liston"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487780761,"creation_date":1487780414,"answer_id":42396897,"question_id":18475578,"body_markdown":"There may be an easier way to convert a List of WebElements to String[] array, but this generic method works -\r\n\r\n\t//\titerate through all elements adding to array we are returning\r\n\tpublic static String[] listToStringArray(List&lt;WebElement&gt; inList) {\r\n\t\tString[] outArray = new String[inList.size()];\t// instantiate Array\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; inList.size(); i++) {\r\n\t\t\toutArray[i] = inList.get(i).getText();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn outArray;\r\n\t}\r\n","title":"Selenium adding items from a Web element list to a string array list","body":"<p>There may be an easier way to convert a List of WebElements to String[] array, but this generic method works -</p>\n\n<pre><code>//  iterate through all elements adding to array we are returning\npublic static String[] listToStringArray(List&lt;WebElement&gt; inList) {\n    String[] outArray = new String[inList.size()];  // instantiate Array\n\n    for (int i = 0; i &lt; inList.size(); i++) {\n        outArray[i] = inList.get(i).getText();\n        }\n    }\n    return outArray;\n}\n</code></pre>\n"}],"owner":{"account_id":2652108,"reputation":95,"user_id":2293498,"accept_rate":44,"display_name":"vslat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692965296,"creation_date":1377637946,"question_id":18475578,"body_markdown":"I&#39;m doing some automated testing and I&#39;m trying to save some items from a web element list to a string array, there should be some parsing involved but I&#39;m not sure how, see code snippet below\r\n\r\n\tpublic void I_should_see_the_following_folders(DataTable expectedData) throws Throwable {\r\n\t\tint tbl1; int tbl2;\r\n\t\tList&lt;List&lt;String&gt;&gt; featureTable = expectedData.raw();\r\n\t\tWebElement folders = driver.findElement(By.id(&quot;folders&quot;));\r\n\t\tList &lt;WebElement&gt; emailFolders = folders.findElements(By.className(&quot;folder-name&quot;));\r\n\t\t\r\n\t\tList&lt;String&gt; foo = new ArrayList&lt;String&gt;();\r\n\t\tfor (List&lt;String&gt; featuresList : expectedData.raw())\r\n\t\t\tfoo.add(featuresList.get(0));\r\n\t\t\t\r\n\t\t\ttbl1 = emailFolders.size();\r\n\t\t\ttbl2 = featureTable.size();\r\n\t\t\t\r\n\t\tList&lt;String&gt; webList = new ArrayList&lt;String&gt;();\r\n\t\tfor(int i=0;i&lt;tbl1;i++){\r\n\t\t\twebList.add(emailFolders.get(0));\r\n\t\t}\r\n\t\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\nwhat I&#39;m trying to do is take a datatable list of items, convert it into a string array and then take a list of items from the webpage and also store it into a string array and then compare each array to determine if the elements are present and are the same in not particular order.\r\n\r\nI think I got the data table array list to work, but need some help with the web elements array list. \r\n\r\nThanks!!!","title":"Selenium adding items from a Web element list to a string array list","body":"<p>I'm doing some automated testing and I'm trying to save some items from a web element list to a string array, there should be some parsing involved but I'm not sure how, see code snippet below</p>\n\n<pre><code>public void I_should_see_the_following_folders(DataTable expectedData) throws Throwable {\n    int tbl1; int tbl2;\n    List&lt;List&lt;String&gt;&gt; featureTable = expectedData.raw();\n    WebElement folders = driver.findElement(By.id(\"folders\"));\n    List &lt;WebElement&gt; emailFolders = folders.findElements(By.className(\"folder-name\"));\n\n    List&lt;String&gt; foo = new ArrayList&lt;String&gt;();\n    for (List&lt;String&gt; featuresList : expectedData.raw())\n        foo.add(featuresList.get(0));\n\n        tbl1 = emailFolders.size();\n        tbl2 = featureTable.size();\n\n    List&lt;String&gt; webList = new ArrayList&lt;String&gt;();\n    for(int i=0;i&lt;tbl1;i++){\n        webList.add(emailFolders.get(0));\n    }\n\n\n\n}\n</code></pre>\n\n<p>what I'm trying to do is take a datatable list of items, convert it into a string array and then take a list of items from the webpage and also store it into a string array and then compare each array to determine if the elements are present and are the same in not particular order.</p>\n\n<p>I think I got the data table array list to work, but need some help with the web elements array list. </p>\n\n<p>Thanks!!!</p>\n"},{"tags":["java","maven","classnotfoundexception","methodnotfound"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1692965223,"post_id":76976965,"comment_id":135700121,"body_markdown":"it says NoSuchMethod, not NoSuchClass. Chances are, you have dependencies to several versions which contain that class, and one has that method, but the other doesn&#39;t","body":"it says NoSuchMethod, not NoSuchClass. Chances are, you have dependencies to several versions which contain that class, and one has that method, but the other doesn&#39;t"},{"owner":{"account_id":8054037,"reputation":1564,"user_id":6071721,"display_name":"Gremi64"},"score":0,"creation_date":1695995190,"post_id":76976965,"comment_id":136101025,"body_markdown":"did you find a solution ? can you share it please ?","body":"did you find a solution ? can you share it please ?"},{"owner":{"account_id":18056483,"reputation":17,"user_id":13260382,"display_name":"koque"},"score":0,"creation_date":1696083738,"post_id":76976965,"comment_id":136110145,"body_markdown":"I relocated the wrong package instead of relocating com.google.cloud relocate com.google.collect.","body":"I relocated the wrong package instead of relocating com.google.cloud relocate com.google.collect."}],"owner":{"account_id":18056483,"reputation":17,"user_id":13260382,"display_name":"koque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692964602,"creation_date":1692964602,"question_id":76976965,"body_markdown":"I&#39;m getting the following error:\r\n\r\n    java.lang.NoSuchMethodError: &#39;com.google.common.collect.ImmutableMap com.google.common.collect.ImmutableMap$Builder.buildKeepingLast()&#39;\r\n\r\nMy pom file looks like that:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;de.kastenklicker&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ActivateServer&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1&lt;/version&gt;\r\n    \r\n      &lt;name&gt;activateServer&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;papermc&lt;/id&gt;\r\n          &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.velocitypowered&lt;/groupId&gt;\r\n          &lt;artifactId&gt;velocity-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.0-SNAPSHOT&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.github.t9t.minecraft-rcon-client&lt;/groupId&gt;\r\n          &lt;artifactId&gt;minecraft-rcon-client&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-compute --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;google-cloud-compute&lt;/artifactId&gt;\r\n          &lt;version&gt;1.33.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;relocations&gt;\r\n                &lt;relocation&gt;\r\n                  &lt;pattern&gt;com.github.t9t.minecraft-rcon-client&lt;/pattern&gt;\r\n                  &lt;shadedPattern&gt;de.kastenklicker.activeserver.com.github.t9t.minecraft-rcon-client&lt;/shadedPattern&gt;\r\n                &lt;/relocation&gt;\r\n                &lt;relocation&gt;\r\n                  &lt;pattern&gt;com.google.cloud&lt;/pattern&gt;\r\n                  &lt;shadedPattern&gt;de.kastenklicker.activeserver.com.google.cloud&lt;/shadedPattern&gt;\r\n                &lt;/relocation&gt;\r\n              &lt;/relocations&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;filters&gt;\r\n                    &lt;filter&gt;\r\n                      &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                      &lt;excludes&gt;\r\n                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                      &lt;/excludes&gt;\r\n                    &lt;/filter&gt;\r\n                  &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nWhat I tried so far:\r\nAdding google guava, like suggested in another [question](https://stackoverflow.com/questions/71095560/java-lang-nosuchmethoderror-com-google-common-collect-immutablemap-error-when).\r\n\r\nIncluding the class manual:\r\n\r\n    &lt;artifactSet&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;com.google.common.collect.ImmutableMap&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/artifactSet&gt;\r\n\r\nwhich results in:\r\n\r\n    java.lang.NoClassDefFoundError: com/google/auth/Credentials\r\n\r\nand adding:\r\n\r\n    &lt;include&gt;com.google.auth.Credentials&lt;/include&gt;\r\ndoes nothing.\r\n\r\nFor context, the code I wrote is a plugin for the velocitypowered proxy and should start a Google Compute Engine, when a server connects to the proxy. My code works fine as standalone application.\r\n\r\nI don&#39;t know any further, any help is appreciated. Thx","title":"java.lang.NoSuchMethodError caused by maven shade","body":"<p>I'm getting the following error:</p>\n<pre><code>java.lang.NoSuchMethodError: 'com.google.common.collect.ImmutableMap com.google.common.collect.ImmutableMap$Builder.buildKeepingLast()'\n</code></pre>\n<p>My pom file looks like that:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.kastenklicker&lt;/groupId&gt;\n  &lt;artifactId&gt;ActivateServer&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n\n  &lt;name&gt;activateServer&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;papermc&lt;/id&gt;\n      &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.velocitypowered&lt;/groupId&gt;\n      &lt;artifactId&gt;velocity-api&lt;/artifactId&gt;\n      &lt;version&gt;3.2.0-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.t9t.minecraft-rcon-client&lt;/groupId&gt;\n      &lt;artifactId&gt;minecraft-rcon-client&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-compute --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;google-cloud-compute&lt;/artifactId&gt;\n      &lt;version&gt;1.33.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;relocations&gt;\n            &lt;relocation&gt;\n              &lt;pattern&gt;com.github.t9t.minecraft-rcon-client&lt;/pattern&gt;\n              &lt;shadedPattern&gt;de.kastenklicker.activeserver.com.github.t9t.minecraft-rcon-client&lt;/shadedPattern&gt;\n            &lt;/relocation&gt;\n            &lt;relocation&gt;\n              &lt;pattern&gt;com.google.cloud&lt;/pattern&gt;\n              &lt;shadedPattern&gt;de.kastenklicker.activeserver.com.google.cloud&lt;/shadedPattern&gt;\n            &lt;/relocation&gt;\n          &lt;/relocations&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;filters&gt;\n                &lt;filter&gt;\n                  &lt;artifact&gt;*:*&lt;/artifact&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                &lt;/filter&gt;\n              &lt;/filters&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What I tried so far:\nAdding google guava, like suggested in another <a href=\"https://stackoverflow.com/questions/71095560/java-lang-nosuchmethoderror-com-google-common-collect-immutablemap-error-when\">question</a>.</p>\n<p>Including the class manual:</p>\n<pre><code>&lt;artifactSet&gt;\n    &lt;includes&gt;\n        &lt;include&gt;com.google.common.collect.ImmutableMap&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/artifactSet&gt;\n</code></pre>\n<p>which results in:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/auth/Credentials\n</code></pre>\n<p>and adding:</p>\n<pre><code>&lt;include&gt;com.google.auth.Credentials&lt;/include&gt;\n</code></pre>\n<p>does nothing.</p>\n<p>For context, the code I wrote is a plugin for the velocitypowered proxy and should start a Google Compute Engine, when a server connects to the proxy. My code works fine as standalone application.</p>\n<p>I don't know any further, any help is appreciated. Thx</p>\n"},{"tags":["java","bouncycastle","provider"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1604085566,"post_id":64614376,"comment_id":114249758,"body_markdown":"Why do you need to install the provider in the JVM, isn&#39;t it sufficient to have it on your classpath and add it from within your application?","body":"Why do you need to install the provider in the JVM, isn&#39;t it sufficient to have it on your classpath and add it from within your application?"},{"owner":{"account_id":18437987,"reputation":23,"user_id":14512808,"display_name":"MaXbeMan"},"score":0,"creation_date":1604302915,"post_id":64614376,"comment_id":114295746,"body_markdown":"I thought it made more sense to set it as a provider. Is this not possible or is it not recommended?","body":"I thought it made more sense to set it as a provider. Is this not possible or is it not recommended?"}],"answers":[{"tags":[],"owner":{"account_id":10647443,"reputation":118,"user_id":7839582,"display_name":"Ripal Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692964533,"creation_date":1605116464,"answer_id":64791444,"question_id":64614376,"body_markdown":"if you are using Maven then add BouncyCastle dependency in pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-ext-jdk15to18&lt;/artifactId&gt;\r\n        &lt;version&gt;1.67&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nLater, you can dynamically add BouncyCastleProvider using below line when you need it.\r\n\r\n    Security.addProvider(new BouncyCastleProvider());\r\n\r\nTo add statically, \r\n\r\nAdd the Bouncy Castle provider jar to the $JAVA_HOME/jre/lib/ext directory\r\n\r\nadd below line in this file {JAVA_HOME}/jre/lib/security/java.security\r\n\r\n    security.provider.N = org.bouncycastle.jce.provider.BouncyCastleProvider\r\n\r\n\r\n\r\n\r\n\r\n","title":"Installing the Bouncy Castle Provider in java version &quot;15.0.1&quot;","body":"<p>if you are using Maven then add BouncyCastle dependency in pom.xml.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-ext-jdk15to18&lt;/artifactId&gt;\n    &lt;version&gt;1.67&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Later, you can dynamically add BouncyCastleProvider using below line when you need it.</p>\n<pre><code>Security.addProvider(new BouncyCastleProvider());\n</code></pre>\n<p>To add statically,</p>\n<p>Add the Bouncy Castle provider jar to the $JAVA_HOME/jre/lib/ext directory</p>\n<p>add below line in this file {JAVA_HOME}/jre/lib/security/java.security</p>\n<pre><code>security.provider.N = org.bouncycastle.jce.provider.BouncyCastleProvider\n</code></pre>\n"}],"owner":{"account_id":18437987,"reputation":23,"user_id":14512808,"display_name":"MaXbeMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64791444,"answer_count":1,"score":0,"last_activity_date":1692964533,"creation_date":1604084867,"question_id":64614376,"body_markdown":"I need to install this provider in windows 10.\r\nThis is the java version:\r\n\r\n    java version &quot;15.0.1&quot; 2020-10-20\r\n    Java(TM) SE Runtime Environment (build 15.0.1+9-18)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\r\n\r\nNow, I changed the java.security file to\r\n\r\n    Java\\jdk-15.0.1\\conf\\security\r\n\r\nI added the provider like this:\r\n\r\n    # List of providers and their preference orders (see above):\r\n    #\r\n    security.provider.1=SUN\r\n    security.provider.2=SunRsaSign\r\n    security.provider.3=SunEC\r\n    security.provider.4=SunJSSE\r\n    security.provider.5=SunJCE\r\n    security.provider.6=SunJGSS\r\n    security.provider.7=SunSASL\r\n    security.provider.8=XMLDSig\r\n    security.provider.9=SunPCSC\r\n    security.provider.10=JdkLDAP\r\n    security.provider.11=JdkSASL\r\n    security.provider.12=SunMSCAPI\r\n    security.provider.13=SunPKCS11\r\n    security.provider.14=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n\r\nIn this version of Java where should jar files be placed? I don&#39;t have the \\lib\\ext path\r\n\r\nDid I edit the correct file?","title":"Installing the Bouncy Castle Provider in java version &quot;15.0.1&quot;","body":"<p>I need to install this provider in windows 10.\nThis is the java version:</p>\n<pre><code>java version &quot;15.0.1&quot; 2020-10-20\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\n</code></pre>\n<p>Now, I changed the java.security file to</p>\n<pre><code>Java\\jdk-15.0.1\\conf\\security\n</code></pre>\n<p>I added the provider like this:</p>\n<pre><code># List of providers and their preference orders (see above):\n#\nsecurity.provider.1=SUN\nsecurity.provider.2=SunRsaSign\nsecurity.provider.3=SunEC\nsecurity.provider.4=SunJSSE\nsecurity.provider.5=SunJCE\nsecurity.provider.6=SunJGSS\nsecurity.provider.7=SunSASL\nsecurity.provider.8=XMLDSig\nsecurity.provider.9=SunPCSC\nsecurity.provider.10=JdkLDAP\nsecurity.provider.11=JdkSASL\nsecurity.provider.12=SunMSCAPI\nsecurity.provider.13=SunPKCS11\nsecurity.provider.14=org.bouncycastle.jce.provider.BouncyCastleProvider\n</code></pre>\n<p>In this version of Java where should jar files be placed? I don't have the \\lib\\ext path</p>\n<p>Did I edit the correct file?</p>\n"},{"tags":["java","sockets","client-server","serversocket"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692512007,"post_id":76936896,"comment_id":135631737,"body_markdown":"Exactly. He is received the ints and then throwing them away, then trying to receive them again but blocking forever because they aren&#39;t being sent twice.","body":"Exactly. He is received the ints and then throwing them away, then trying to receive them again but blocking forever because they aren&#39;t being sent twice."},{"owner":{"account_id":29256899,"reputation":3,"user_id":22414897,"display_name":"Gianluca"},"score":0,"creation_date":1692533229,"post_id":76936896,"comment_id":135633603,"body_markdown":"Thanks for the reply. I updated the script so you can see what I changed. Now the server terminal says: &quot;Works Server&quot; &quot;2&quot; &quot;Works Server&quot; &quot;2&quot; and then stops. But the client and the server both get the position once, change the position of player2 and then it stops.","body":"Thanks for the reply. I updated the script so you can see what I changed. Now the server terminal says: &quot;Works Server&quot; &quot;2&quot; &quot;Works Server&quot; &quot;2&quot; and then stops. But the client and the server both get the position once, change the position of player2 and then it stops."},{"owner":{"account_id":179924,"reputation":3558,"user_id":412908,"accept_rate":67,"display_name":"Neil Brown"},"score":0,"creation_date":1692897695,"post_id":76936896,"comment_id":135690091,"body_markdown":"Have you also fixed the similar problem in `updateClient()` where you are also calling `receiveInts()` twice?","body":"Have you also fixed the similar problem in <code>updateClient()</code> where you are also calling <code>receiveInts()</code> twice?"},{"owner":{"account_id":29256899,"reputation":3,"user_id":22414897,"display_name":"Gianluca"},"score":0,"creation_date":1692900596,"post_id":76936896,"comment_id":135690721,"body_markdown":"Yes, it&#39;s exactly the same as in `updatePosition()`","body":"Yes, it&#39;s exactly the same as in <code>updatePosition()</code>"},{"owner":{"account_id":29256899,"reputation":3,"user_id":22414897,"display_name":"Gianluca"},"score":0,"creation_date":1692964387,"post_id":76936896,"comment_id":135699913,"body_markdown":"I also updated the script here, so you can see the newest version","body":"I also updated the script here, so you can see the newest version"},{"owner":{"account_id":179924,"reputation":3558,"user_id":412908,"accept_rate":67,"display_name":"Neil Brown"},"score":0,"creation_date":1692997135,"post_id":76936896,"comment_id":135706606,"body_markdown":"I pasted your latest code for MyWorld and Player into a new project (with a new actor named Player2 with the default code), loaded the project twice in Greenfoot on the same machine, and it does not stop.  It prints &quot;Works Server&quot; &quot;2&quot; over and over on the server end.  Maybe there is some other code causing a problem, perhaps in Player2?","body":"I pasted your latest code for MyWorld and Player into a new project (with a new actor named Player2 with the default code), loaded the project twice in Greenfoot on the same machine, and it does not stop.  It prints &quot;Works Server&quot; &quot;2&quot; over and over on the server end.  Maybe there is some other code causing a problem, perhaps in Player2?"},{"owner":{"account_id":29256899,"reputation":3,"user_id":22414897,"display_name":"Gianluca"},"score":0,"creation_date":1692998945,"post_id":76936896,"comment_id":135706851,"body_markdown":"It seems that player 2 caused the problem. I deleted and re-added player 2 and now it works fine...\nThank you for your help, I really appreciate it!","body":"It seems that player 2 caused the problem. I deleted and re-added player 2 and now it works fine... Thank you for your help, I really appreciate it!"}],"tags":[],"owner":{"account_id":179924,"reputation":3558,"user_id":412908,"accept_rate":67,"display_name":"Neil Brown"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692476550,"creation_date":1692476550,"answer_id":76936896,"question_id":76935177,"body_markdown":"One thing that looks odd is that in `updatePosition()` you call `receiveInts()` twice, so the first one will read from the socket then discard it, and the second one will have to wait for the next corresponding `sendInts()` call.  I suspect you want the assignment to `w1` before the if statement in `updatePosition()`, then check if `w1` is null.","title":"Program stop when server try to receive client data","body":"<p>One thing that looks odd is that in <code>updatePosition()</code> you call <code>receiveInts()</code> twice, so the first one will read from the socket then discard it, and the second one will have to wait for the next corresponding <code>sendInts()</code> call.  I suspect you want the assignment to <code>w1</code> before the if statement in <code>updatePosition()</code>, then check if <code>w1</code> is null.</p>\n"}],"owner":{"account_id":29256899,"reputation":3,"user_id":22414897,"display_name":"Gianluca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76936896,"answer_count":1,"score":0,"last_activity_date":1692964333,"creation_date":1692449222,"question_id":76935177,"body_markdown":"I&#39;m trying to make a simple multiplayer game in Greenfoot for a school project.\r\n\r\nIf I remove `updatePosition();` in the player script, the server can move and the client gets the data. However, when I try to get the data from the client and call `updatePosition();` in the player script, it stops when the server tries to call `receiveInt()`. The terminal of the server side shows &quot;Works Server&quot; &quot;2&quot; &quot;Works Server&quot; &quot;2&quot; and then the program stops on the client and server.\r\n\r\n**&quot;GameManager&quot;:**\r\n\r\n```\r\nimport greenfoot.*;\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\nimport javax.swing.JOptionPane;\r\nimport java.util.ArrayList;\r\n\r\npublic class MyWorld extends World\r\n{\r\n    public Server server;\r\n    public Client client;\r\n    public boolean Server = false;\r\n\r\n    /**\r\n     * Constructor for objects of class MyWorld.\r\n     * \r\n     */\r\n    public MyWorld()\r\n    {    \r\n        super(600, 400, 1);\r\n        Player player = new Player(this);\r\n        addObject(player, getWidth()/2, getHeight()/2);\r\n    }\r\n\r\n    public void act()\r\n    {\r\n        if(Greenfoot.isKeyDown(&quot;q&quot;))\r\n        {\r\n            if(Server)\r\n            {\r\n                server.close();\r\n            }else\r\n            {\r\n                client.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void init()\r\n    {\r\n        Object[] options = {&quot;Server&quot;,&quot;Client&quot;};\r\n        int i = JOptionPane.showOptionDialog(null, &quot;Host as server or join as client?&quot;, &quot;Selection&quot;, JOptionPane.DEFAULT_OPTION, JOptionPane.INFORMATION_MESSAGE, null, options, options[0]);\r\n        if(i == 0)\r\n        {\r\n            server = new Server(this);\r\n            Server = true;\r\n\r\n            Player2 player2 = new Player2();\r\n            addObject(player2, 0, 0);\r\n        }else if(i == 1)\r\n        {\r\n            client = new Client(this);\r\n            \r\n            Player2 player2 = new Player2();\r\n            addObject(player2, 0, 0);\r\n        }\r\n    }\r\n\r\n    public class Server\r\n    {\r\n        MyWorld myWorld;\r\n        public ServerSocket serverSocket;\r\n        public Socket skt;\r\n        private ObjectInputStream inServer;\r\n        private ObjectOutputStream outServer;\r\n        public Server(MyWorld myWorl)\r\n        {\r\n            this.myWorld = myWorl;\r\n            try\r\n            {\r\n                serverSocket = new ServerSocket(8888);\r\n                skt = serverSocket.accept();\r\n                inServer = new ObjectInputStream(skt.getInputStream());\r\n                outServer = new ObjectOutputStream(skt.getOutputStream());\r\n            }catch(IOException e)\r\n            {\r\n                close();\r\n            }\r\n        }\r\n\r\n        public void sendInts(int ...arr) {\r\n            try {\r\n                outServer.writeObject(arr);\r\n                Greenfoot.delay(1);\r\n                outServer.flush();\r\n            }\r\n            catch(NullPointerException ex) {\r\n            }\r\n            catch(IOException ex) {\r\n            }\r\n        }\r\n\r\n        public int[] receiveInts() {\r\n            int[] datServer = null;\r\n            try {\r\n                datServer = (int[])inServer.readObject();\r\n            }\r\n            catch(ClassNotFoundException ex) {\r\n                ex.printStackTrace();\r\n                close();\r\n            }\r\n            catch(NullPointerException ex) {\r\n                close();\r\n            }\r\n            catch(IOException ex) {\r\n                close();\r\n            }\r\n            return datServer;\r\n        }\r\n\r\n        public void close()\r\n        {\r\n            try {\r\n                outServer.close();\r\n                inServer.close();\r\n                skt.close();\r\n                serverSocket.close();\r\n            }\r\n            catch(IOException ex) {\r\n                throw new RuntimeException(&quot;Error closing streams...&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class Client\r\n    {\r\n        MyWorld myWorld;\r\n        private ObjectOutputStream outClient;\r\n        private ObjectInputStream inClient;\r\n        public Socket clientSocket;\r\n        public Client(MyWorld myWorl)\r\n        {\r\n            this.myWorld = myWorl;\r\n            try\r\n            {\r\n                clientSocket = new Socket(&quot;localhost&quot;,8888);\r\n                outClient = new ObjectOutputStream(clientSocket.getOutputStream());\r\n                inClient = new ObjectInputStream(clientSocket.getInputStream());\r\n            }catch(IOException e)\r\n            {\r\n                close();\r\n            }   \r\n        }\r\n\r\n        public void sendInts(int ...arr) {\r\n            try {\r\n                outClient.writeObject(arr);\r\n                Greenfoot.delay(1);\r\n                outClient.flush();\r\n            }\r\n            catch(NullPointerException ex) {\r\n            }\r\n            catch(IOException ex) {\r\n            }\r\n        }\r\n\r\n        public int[] receiveInts() {\r\n            int[] datClient = null;\r\n            try {\r\n                datClient = (int[])inClient.readObject();\r\n            }\r\n            catch(ClassNotFoundException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            catch(NullPointerException ex) {\r\n            }\r\n            catch(IOException ex) {\r\n                close();\r\n            }\r\n            return datClient;\r\n        }\r\n\r\n        public void close()\r\n        {\r\n            try {\r\n                outClient.close();\r\n                inClient.close();\r\n                clientSocket.close();\r\n            }\r\n            catch(IOException ex) {\r\n                throw new RuntimeException(&quot;Error closing streams...&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Player:**\r\n\r\n```\r\nimport greenfoot.*;\r\n\r\npublic class Player extends Actor\r\n{\r\n    private MyWorld myWorld;\r\n    private Player2 player2;\r\n\r\n    public Player(MyWorld myWorl)\r\n    {\r\n        myWorld = myWorl;\r\n    }\r\n\r\n    private boolean startSelectionBool = false;\r\n\r\n    public void act() \r\n    {\r\n        if(!startSelectionBool)\r\n        {\r\n            if(Greenfoot.getMouseInfo() != null)\r\n            {\r\n                if(Greenfoot.mouseClicked(this))\r\n                {\r\n                    myWorld.init();\r\n                    startSelectionBool = true;\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(myWorld.Server == true)\r\n            {\r\n                updateServer();\r\n                //System.out.println(&quot;Server&quot;);\r\n            }else\r\n            {\r\n                updateClient();\r\n                //System.out.println(&quot;Client&quot;);\r\n            }\r\n        }\r\n    }   \r\n\r\n    public void updateServer()\r\n    {\r\n        if(Greenfoot.isKeyDown(&quot;w&quot;))\r\n        {\r\n            setLocation(this.getX(), this.getY()-1);\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;s&quot;))\r\n        {\r\n            setLocation(this.getX(), this.getY()+1);\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;a&quot;))\r\n        {\r\n            setLocation(this.getX()-1, this.getY());\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;d&quot;))\r\n        {\r\n            setLocation(this.getX()+1, this.getY());\r\n        }\r\n        myWorld.server.sendInts(this.getX(), this.getY());\r\n\r\n        updatePosition();\r\n    }\r\n\r\n    public void updatePosition()\r\n    {\r\n        int[] w1 = myWorld.server.receiveInts();\r\n        \r\n        if (w1 != null)\r\n        {\r\n            Greenfoot.delay(5);\r\n            player2 = getWorld().getObjects(Player2.class).get(0);\r\n\r\n            System.out.println(&quot;Works Server&quot;);\r\n            player2.setLocation(w1[0], w1[1]);\r\n            System.out.println(&quot;2&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;1&quot;);\r\n        }\r\n    }\r\n\r\n    public void updateClient()\r\n    {\r\n        if(Greenfoot.isKeyDown(&quot;w&quot;))\r\n        {\r\n            setLocation(this.getX(), this.getY()-1);\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;s&quot;))\r\n        {\r\n            setLocation(this.getX(), this.getY()+1);\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;a&quot;))\r\n        {\r\n            setLocation(this.getX()-1, this.getY());\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;d&quot;))\r\n        {\r\n            setLocation(this.getX()+1, this.getY());\r\n        }\r\n        myWorld.client.sendInts(this.getX(), this.getY());\r\n\r\n        int[] w2 = myWorld.client.receiveInts();\r\n        \r\n        if (w2 == null)\r\n        {\r\n            System.out.println(&quot;Return Client&quot;);\r\n            return;\r\n        }\r\n        else\r\n        {\r\n            player2 = getWorld().getObjects(Player2.class).get(0);\r\n\r\n            player2.setLocation(w2[0], w2[1]);\r\n        }\r\n    }\r\n}\r\n```","title":"Program stop when server try to receive client data","body":"<p>I'm trying to make a simple multiplayer game in Greenfoot for a school project.</p>\n<p>If I remove <code>updatePosition();</code> in the player script, the server can move and the client gets the data. However, when I try to get the data from the client and call <code>updatePosition();</code> in the player script, it stops when the server tries to call <code>receiveInt()</code>. The terminal of the server side shows &quot;Works Server&quot; &quot;2&quot; &quot;Works Server&quot; &quot;2&quot; and then the program stops on the client and server.</p>\n<p><strong>&quot;GameManager&quot;:</strong></p>\n<pre><code>import greenfoot.*;\nimport java.io.*;\nimport java.net.*;\n\nimport javax.swing.JOptionPane;\nimport java.util.ArrayList;\n\npublic class MyWorld extends World\n{\n    public Server server;\n    public Client client;\n    public boolean Server = false;\n\n    /**\n     * Constructor for objects of class MyWorld.\n     * \n     */\n    public MyWorld()\n    {    \n        super(600, 400, 1);\n        Player player = new Player(this);\n        addObject(player, getWidth()/2, getHeight()/2);\n    }\n\n    public void act()\n    {\n        if(Greenfoot.isKeyDown(&quot;q&quot;))\n        {\n            if(Server)\n            {\n                server.close();\n            }else\n            {\n                client.close();\n            }\n        }\n    }\n\n    public void init()\n    {\n        Object[] options = {&quot;Server&quot;,&quot;Client&quot;};\n        int i = JOptionPane.showOptionDialog(null, &quot;Host as server or join as client?&quot;, &quot;Selection&quot;, JOptionPane.DEFAULT_OPTION, JOptionPane.INFORMATION_MESSAGE, null, options, options[0]);\n        if(i == 0)\n        {\n            server = new Server(this);\n            Server = true;\n\n            Player2 player2 = new Player2();\n            addObject(player2, 0, 0);\n        }else if(i == 1)\n        {\n            client = new Client(this);\n            \n            Player2 player2 = new Player2();\n            addObject(player2, 0, 0);\n        }\n    }\n\n    public class Server\n    {\n        MyWorld myWorld;\n        public ServerSocket serverSocket;\n        public Socket skt;\n        private ObjectInputStream inServer;\n        private ObjectOutputStream outServer;\n        public Server(MyWorld myWorl)\n        {\n            this.myWorld = myWorl;\n            try\n            {\n                serverSocket = new ServerSocket(8888);\n                skt = serverSocket.accept();\n                inServer = new ObjectInputStream(skt.getInputStream());\n                outServer = new ObjectOutputStream(skt.getOutputStream());\n            }catch(IOException e)\n            {\n                close();\n            }\n        }\n\n        public void sendInts(int ...arr) {\n            try {\n                outServer.writeObject(arr);\n                Greenfoot.delay(1);\n                outServer.flush();\n            }\n            catch(NullPointerException ex) {\n            }\n            catch(IOException ex) {\n            }\n        }\n\n        public int[] receiveInts() {\n            int[] datServer = null;\n            try {\n                datServer = (int[])inServer.readObject();\n            }\n            catch(ClassNotFoundException ex) {\n                ex.printStackTrace();\n                close();\n            }\n            catch(NullPointerException ex) {\n                close();\n            }\n            catch(IOException ex) {\n                close();\n            }\n            return datServer;\n        }\n\n        public void close()\n        {\n            try {\n                outServer.close();\n                inServer.close();\n                skt.close();\n                serverSocket.close();\n            }\n            catch(IOException ex) {\n                throw new RuntimeException(&quot;Error closing streams...&quot;);\n            }\n        }\n    }\n\n    public class Client\n    {\n        MyWorld myWorld;\n        private ObjectOutputStream outClient;\n        private ObjectInputStream inClient;\n        public Socket clientSocket;\n        public Client(MyWorld myWorl)\n        {\n            this.myWorld = myWorl;\n            try\n            {\n                clientSocket = new Socket(&quot;localhost&quot;,8888);\n                outClient = new ObjectOutputStream(clientSocket.getOutputStream());\n                inClient = new ObjectInputStream(clientSocket.getInputStream());\n            }catch(IOException e)\n            {\n                close();\n            }   \n        }\n\n        public void sendInts(int ...arr) {\n            try {\n                outClient.writeObject(arr);\n                Greenfoot.delay(1);\n                outClient.flush();\n            }\n            catch(NullPointerException ex) {\n            }\n            catch(IOException ex) {\n            }\n        }\n\n        public int[] receiveInts() {\n            int[] datClient = null;\n            try {\n                datClient = (int[])inClient.readObject();\n            }\n            catch(ClassNotFoundException ex) {\n                ex.printStackTrace();\n            }\n            catch(NullPointerException ex) {\n            }\n            catch(IOException ex) {\n                close();\n            }\n            return datClient;\n        }\n\n        public void close()\n        {\n            try {\n                outClient.close();\n                inClient.close();\n                clientSocket.close();\n            }\n            catch(IOException ex) {\n                throw new RuntimeException(&quot;Error closing streams...&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Player:</strong></p>\n<pre><code>import greenfoot.*;\n\npublic class Player extends Actor\n{\n    private MyWorld myWorld;\n    private Player2 player2;\n\n    public Player(MyWorld myWorl)\n    {\n        myWorld = myWorl;\n    }\n\n    private boolean startSelectionBool = false;\n\n    public void act() \n    {\n        if(!startSelectionBool)\n        {\n            if(Greenfoot.getMouseInfo() != null)\n            {\n                if(Greenfoot.mouseClicked(this))\n                {\n                    myWorld.init();\n                    startSelectionBool = true;\n                }\n            }\n        }\n        else\n        {\n            if(myWorld.Server == true)\n            {\n                updateServer();\n                //System.out.println(&quot;Server&quot;);\n            }else\n            {\n                updateClient();\n                //System.out.println(&quot;Client&quot;);\n            }\n        }\n    }   \n\n    public void updateServer()\n    {\n        if(Greenfoot.isKeyDown(&quot;w&quot;))\n        {\n            setLocation(this.getX(), this.getY()-1);\n        }\n        if(Greenfoot.isKeyDown(&quot;s&quot;))\n        {\n            setLocation(this.getX(), this.getY()+1);\n        }\n        if(Greenfoot.isKeyDown(&quot;a&quot;))\n        {\n            setLocation(this.getX()-1, this.getY());\n        }\n        if(Greenfoot.isKeyDown(&quot;d&quot;))\n        {\n            setLocation(this.getX()+1, this.getY());\n        }\n        myWorld.server.sendInts(this.getX(), this.getY());\n\n        updatePosition();\n    }\n\n    public void updatePosition()\n    {\n        int[] w1 = myWorld.server.receiveInts();\n        \n        if (w1 != null)\n        {\n            Greenfoot.delay(5);\n            player2 = getWorld().getObjects(Player2.class).get(0);\n\n            System.out.println(&quot;Works Server&quot;);\n            player2.setLocation(w1[0], w1[1]);\n            System.out.println(&quot;2&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;1&quot;);\n        }\n    }\n\n    public void updateClient()\n    {\n        if(Greenfoot.isKeyDown(&quot;w&quot;))\n        {\n            setLocation(this.getX(), this.getY()-1);\n        }\n        if(Greenfoot.isKeyDown(&quot;s&quot;))\n        {\n            setLocation(this.getX(), this.getY()+1);\n        }\n        if(Greenfoot.isKeyDown(&quot;a&quot;))\n        {\n            setLocation(this.getX()-1, this.getY());\n        }\n        if(Greenfoot.isKeyDown(&quot;d&quot;))\n        {\n            setLocation(this.getX()+1, this.getY());\n        }\n        myWorld.client.sendInts(this.getX(), this.getY());\n\n        int[] w2 = myWorld.client.receiveInts();\n        \n        if (w2 == null)\n        {\n            System.out.println(&quot;Return Client&quot;);\n            return;\n        }\n        else\n        {\n            player2 = getWorld().getObjects(Player2.class).get(0);\n\n            player2.setLocation(w2[0], w2[1]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","redis"],"comments":[{"owner":{"account_id":14870040,"reputation":500,"user_id":10737796,"display_name":"A. Guy"},"score":0,"creation_date":1692896261,"post_id":76969641,"comment_id":135689803,"body_markdown":"Im not too familiar with Jedis, but I know for sure that it is possible to use cursors and sorter together, and it should work as expected (sort by something, limit 0 100, cursor count 10 will give you 10 results at first, and then 10 on every read until you got all 100)","body":"Im not too familiar with Jedis, but I know for sure that it is possible to use cursors and sorter together, and it should work as expected (sort by something, limit 0 100, cursor count 10 will give you 10 results at first, and then 10 on every read until you got all 100)"},{"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"score":0,"creation_date":1692900120,"post_id":76969641,"comment_id":135690597,"body_markdown":"1) How many total results do you have for the ft.aggregate query? 2) How you certain that everything is working fine if you just remove the sortby?","body":"1) How many total results do you have for the ft.aggregate query? 2) How you certain that everything is working fine if you just remove the sortby?"}],"answers":[{"tags":[],"owner":{"account_id":14870040,"reputation":500,"user_id":10737796,"display_name":"A. Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692964103,"creation_date":1692896481,"answer_id":76971516,"question_id":76969641,"body_markdown":"It seem to me that you simply deplete your query on the first iteration.\r\n\r\nTry giving a smaller read count to the cursor. The default sort limit is 10 and can be larger, but it represents the **total number of results** your query will yield.\r\n\r\nThe cursor should get the number of results to give on every read, and if you give it the number of results you limited the query to, you will get them all on the first call.\r\n\r\nFrom Jedis code:\r\n```java\r\n  public AggregationBuilder cursor(int count) {\r\n    isWithCursor = true;\r\n    aggrArgs.add(SearchKeyword.WITHCURSOR);\r\n    aggrArgs.add(SearchKeyword.COUNT);\r\n    aggrArgs.add(count);\r\n    return this;\r\n  }\r\n\r\n  public AggregationBuilder cursor(int count, long maxIdle) {\r\n    isWithCursor = true;\r\n    aggrArgs.add(SearchKeyword.WITHCURSOR);\r\n    aggrArgs.add(SearchKeyword.COUNT);\r\n    aggrArgs.add(count);\r\n    aggrArgs.add(SearchKeyword.MAXIDLE);\r\n    aggrArgs.add(maxIdle);\r\n    return this;\r\n  }\r\n```\r\n\r\nSeems like a cursor gets either the chunk size, or the chunk size and an expatriation limit (like other keys in redis).\r\n\r\nYou need to define your query limit.\r\nTry something like this:\r\n```Java\r\npublic void fetchData() {\r\n   var chuckSize = 1000;\r\n   var queryLimit = chunkSize * 10;\r\n   var result = jedis.ftAggregate(&quot;myIndex&quot;, new AggregationBuilder(&quot;*&quot;)\r\n                     .loadAll()\r\n                     .sortBy(&quot;myField&quot;)\r\n                     .limit(queryLimit)\r\n                     .cursor(chuckSize));\r\n   var cursor = new AtomicLong(result.getCursorId());\r\n   while(true) {\r\n       try {\r\n         //process result\r\n         result = jedis.ftCursorRead(&quot;myIndex&quot;,cursor.get(), chunckSize);\r\n         cursor.set(result.getCursorId());\r\n       } catch(JedisDataException e) {\r\n         //data read end\r\n         break;\r\n       }\r\n}\r\n```","title":"Redis FTAggregate with SORT BY doesnt work with Cursor","body":"<p>It seem to me that you simply deplete your query on the first iteration.</p>\n<p>Try giving a smaller read count to the cursor. The default sort limit is 10 and can be larger, but it represents the <strong>total number of results</strong> your query will yield.</p>\n<p>The cursor should get the number of results to give on every read, and if you give it the number of results you limited the query to, you will get them all on the first call.</p>\n<p>From Jedis code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public AggregationBuilder cursor(int count) {\n    isWithCursor = true;\n    aggrArgs.add(SearchKeyword.WITHCURSOR);\n    aggrArgs.add(SearchKeyword.COUNT);\n    aggrArgs.add(count);\n    return this;\n  }\n\n  public AggregationBuilder cursor(int count, long maxIdle) {\n    isWithCursor = true;\n    aggrArgs.add(SearchKeyword.WITHCURSOR);\n    aggrArgs.add(SearchKeyword.COUNT);\n    aggrArgs.add(count);\n    aggrArgs.add(SearchKeyword.MAXIDLE);\n    aggrArgs.add(maxIdle);\n    return this;\n  }\n</code></pre>\n<p>Seems like a cursor gets either the chunk size, or the chunk size and an expatriation limit (like other keys in redis).</p>\n<p>You need to define your query limit.\nTry something like this:</p>\n<pre><code>public void fetchData() {\n   var chuckSize = 1000;\n   var queryLimit = chunkSize * 10;\n   var result = jedis.ftAggregate(&quot;myIndex&quot;, new AggregationBuilder(&quot;*&quot;)\n                     .loadAll()\n                     .sortBy(&quot;myField&quot;)\n                     .limit(queryLimit)\n                     .cursor(chuckSize));\n   var cursor = new AtomicLong(result.getCursorId());\n   while(true) {\n       try {\n         //process result\n         result = jedis.ftCursorRead(&quot;myIndex&quot;,cursor.get(), chunckSize);\n         cursor.set(result.getCursorId());\n       } catch(JedisDataException e) {\n         //data read end\n         break;\n       }\n}\n</code></pre>\n"}],"owner":{"account_id":13527984,"reputation":53,"user_id":9759267,"display_name":"Vlad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692964103,"creation_date":1692882718,"question_id":76969641,"body_markdown":"I am trying to process some data in batches using FTAggregate in Java. If I use sortBy I get results only on the ft.aggregate call and no results on subsequent cursor reads. My sort field is indexed as NUMERIC and SORTABLE. Am I doing something wrong or is it desired behaviour? Because I couldn&#39;t find any info on CURSOR and SORT BY interaction on Redis doc. Everything works fine if i remove the sortBy(). If I let only the sortBy() without limit() I get only 10 results and no subsequent ones because default limit for sort by is 10 if not specified otherwise. So my question is, can sortBy can work with CURSOR or should I use LIMIT with offset for paginating even if it would mean nuking the performance?\r\n\r\n    public void fetchData() {\r\n       var chuckSize = 1000;\r\n       var result = jedis.ftAggregate(&quot;myIndex&quot;, new AggregationBuilder(&quot;*&quot;)\r\n                         .loadAll()\r\n                         .sortBy(&quot;myField&quot;)\r\n                         .limit(chuckSize)\r\n                         .cursor(chuckSize, 1000));\r\n       var cursor = new AtomicLong(result.getCursorId());\r\n       while(true) {\r\n           try {\r\n             //process result\r\n             result = jedis.ftCursorRead(&quot;myIndex&quot;,cursor.get(), chunckSize);\r\n             cursor.set(result.getCursorId());\r\n           } catch(JedisDataException e) {\r\n             //data read end\r\n             break;\r\n           }\r\n    }","title":"Redis FTAggregate with SORT BY doesnt work with Cursor","body":"<p>I am trying to process some data in batches using FTAggregate in Java. If I use sortBy I get results only on the ft.aggregate call and no results on subsequent cursor reads. My sort field is indexed as NUMERIC and SORTABLE. Am I doing something wrong or is it desired behaviour? Because I couldn't find any info on CURSOR and SORT BY interaction on Redis doc. Everything works fine if i remove the sortBy(). If I let only the sortBy() without limit() I get only 10 results and no subsequent ones because default limit for sort by is 10 if not specified otherwise. So my question is, can sortBy can work with CURSOR or should I use LIMIT with offset for paginating even if it would mean nuking the performance?</p>\n<pre><code>public void fetchData() {\n   var chuckSize = 1000;\n   var result = jedis.ftAggregate(&quot;myIndex&quot;, new AggregationBuilder(&quot;*&quot;)\n                     .loadAll()\n                     .sortBy(&quot;myField&quot;)\n                     .limit(chuckSize)\n                     .cursor(chuckSize, 1000));\n   var cursor = new AtomicLong(result.getCursorId());\n   while(true) {\n       try {\n         //process result\n         result = jedis.ftCursorRead(&quot;myIndex&quot;,cursor.get(), chunckSize);\n         cursor.set(result.getCursorId());\n       } catch(JedisDataException e) {\n         //data read end\n         break;\n       }\n}\n</code></pre>\n"},{"tags":["java","android","android-custom-view"],"owner":{"account_id":21832269,"reputation":1,"user_id":16127074,"display_name":"Amir Rehail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692963963,"creation_date":1692963963,"question_id":76976900,"body_markdown":"I am working on my custom **bottomNavigationBar** by extending the view class , everything is working very well, i made a method to get the selected item from my customView ,but when i try to get in in my MainActivity it doesn&#39;t work.\r\n\r\nThis is my BottomNavBar class :\r\n\r\n```\r\npublic class BottomNavBar extends View\r\n{\r\n\tprivate RectF outerRect;\r\n\tprivate Rect[] items;\r\n\tprivate Paint outerPaint,shadowPaint,itemPaint,itemClickedPaint,itemCutPaint;\r\n\tprivate Path outerPath;\r\n\tprivate int width,height;\r\n\tprivate float[] outerRadii={50,50,50,50,50,50,50,50},circle={60,60,60,60,60,60,60,60};\r\n\tprivate Drawable[] icon;\r\n\tprivate ArrayList&lt;Integer&gt; iconsList;\r\n\tprivate int outerShapeColor,itemCircleColor;\r\n\tprivate int itemClickedCount=0;\r\n\tprivate long pressStartTime,pressDuration;\r\n\tprivate int clickXpos,clickYpos;\r\n\tpublic boolean itemClicked,click,longPress;\r\n\tprivate bottomBarSet set;\r\n\tpublic BottomNavBar (Context context) {super(context);}\r\n\tpublic BottomNavBar(Context context , AttributeSet attr) {super(context, attr);}\r\n\r\n\t@Override\r\n\tprotected void onDraw(Canvas canvas)\r\n\t{\r\n\t\tthis.getLayoutParams().width=getWidth();\r\n\t\tthis.getLayoutParams().height=120;\r\n\t\tthis.setLayoutParams(this.getLayoutParams());\r\n\t\tint xPos=getLeft()+50;\r\n\t\tint yPos=getHeight() -110;\r\n\t\twidth=getMeasuredWidth()-50;\r\n\t\theight=100;\r\n\t\tdrawOuterShape(canvas,xPos,yPos,width,height);\r\n\t\tdrawItems(canvas,xPos,yPos);\r\n\t\tsuper.onDraw(canvas);\r\n\t}\r\n\r\n\tprivate void drawOuterShape(Canvas canvas, float xPos,float yPos, float width ,float height)\r\n\t{\r\n\t\touterRect =new RectF(xPos,yPos,width,height);\r\n\t\tshadowPaint=new Paint();\r\n\t\tshadowPaint.setAntiAlias(true);\r\n\t\tshadowPaint.setMaskFilter(new BlurMaskFilter(15,BlurMaskFilter.Blur.NORMAL));\r\n\t\tshadowPaint.setColor(Color.parseColor(&quot;#181818&quot;));\r\n\t\tshadowPaint.setAlpha(80);\r\n\t\t\r\n\t\tif (android.os.Build.VERSION.SDK_INT &gt;= 11) {\r\n\t\t\tsetLayerType(View.LAYER_TYPE_SOFTWARE, null);\r\n\t\t}\r\n\t\touterPaint=new Paint();\r\n\t\touterPaint.setAntiAlias(true);\r\n\t\touterPaint.setStyle(Paint.Style.FILL);\r\n\t\touterPaint.setColor(outerShapeColor);\r\n\r\n\t\touterPath =new Path();\r\n\t\touterPath.addRoundRect(xPos-5,yPos+10,width+5,height+10,outerRadii,Path.Direction.CW);\r\n\t\tcanvas.drawPath(outerPath,shadowPaint);\r\n\t\touterPath.reset();\r\n\t\touterPath.addRoundRect(outerRect,outerRadii,Path.Direction.CW);\r\n\t\tcanvas.drawPath(outerPath,outerPaint);\r\n\t}\r\n\r\n\tprivate void drawItems(Canvas canvas,int Xpos,int Ypos)\r\n\t{\r\n//init paint \r\n\t\titemPaint =new Paint();\r\n\t\titemPaint.setAntiAlias(true);\r\n\t\titemPaint.setStyle(Paint.Style.FILL);\r\n\t\titemPaint.setColor(Color.TRANSPARENT);\r\n\t\titems=new Rect[4];\r\n\r\n\t\t\r\n\t\tint itemWidth=(width-50)/items.length;\r\n\t\tfor(int i=0;i&lt;items.length;i++){\r\n\t\t\tint startLeft=Xpos;\r\n\t\t\tint itemLeft =startLeft +(i*itemWidth);\r\n\t\t\tint itemTop = Ypos;\r\n\t\t\tint itemRight=startLeft+((i+1)*itemWidth);\r\n\t\t\tint itemBottom=height;\r\n\r\n\t\t\titems[i] =new Rect(itemLeft,itemTop,itemRight,itemBottom);\r\n\t\t\tPath path=new Path();\r\n\t\t\t//draw item\r\n\t\t\t\r\n\t\t\tRectF[] rect=new RectF[4];\r\n\t\t\trect[i] =new RectF();\r\n\t\t\trect[i].set(items[i]);\r\n\r\n\t\t\tpath.addRoundRect(rect[i],circle,Path.Direction.CW);\r\n\t\t\tcanvas.drawPath(path,itemPaint);\r\n\t\t\t//draw clicked item\r\n\t\t\tif(i==itemClickedCount){\r\n\t\t\t\titemClickedPaint=new Paint(Paint.ANTI_ALIAS_FLAG);\r\n\t\t\t\titemClickedPaint.setStyle(Paint.Style.FILL);\r\n\t\t\t\titemClickedPaint.setColor(itemCircleColor);\r\n\t\t\t\tpath.reset();\r\n\t\t\t\r\n\t\t\t\tpath.addRoundRect(itemLeft-5,itemTop-5,itemRight+5,itemBottom+5,circle,Path.Direction.CW);\r\n\t\t\t\tcanvas.drawPath(path,itemClickedPaint);\r\n\t\t\t\titemCutPaint=new Paint();\r\n\t\t\t\titemCutPaint.setAntiAlias(true);\r\n\t\t\t\titemCutPaint.setAlpha(0);\r\n\t\t\t\titemCutPaint.setColor(0xFFFFFF);\r\n\t\t\t\titemCutPaint.setColor(Color.TRANSPARENT);\r\n\t\t\t\titemCutPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.CLEAR));\r\n\t\t\t\t\r\n\t\t\t\tpath.reset();\r\n\t\t\t\t//path.addCircle(items[i].centerX(),items[i].centerY(),35,Path.Direction.CW);\r\n\t\t\t\tpath.addRoundRect(itemLeft+10,itemTop+10,itemRight-10,itemBottom-10,circle,Path.Direction.CW);\r\n\t\t\t\tcanvas.drawPath(path,itemCutPaint);\r\n\t\t\t\t\r\n\t\t\t\t//Toast.makeText(getContext(),&quot;Count: &quot;+ i,Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t\t//check click item\r\n\t\t\tif(items[i].contains(clickXpos,clickYpos)) {\r\n\t\t\t\titemClicked=true;\r\n\t\t\t\tfinal Handler handler = new Handler();\r\n\t\t\t\thandler.postDelayed(new Runnable() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\titemClicked=false;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 5);\r\n\r\n\t\t\t} else {itemClicked=false;}\r\n\r\n\t\t\tif(itemClicked==true){\r\n\t\t\t\t\r\n\t\t\t\titemClickedCount=i;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\r\n\t\t\t//draw icon\r\n\r\n\t\t\ticon=new Drawable[4];\r\n\t\t\ticon[i]=getContext().getResources().getDrawable(iconsList.get(i));\r\n\t\t\tif(icon[i]!=null){\r\n\t\t\t\t\r\n\t\t\t\ticon[i].setBounds(items[i].centerX()-30,items[i].centerY()-30,items[i].centerX() +30,items[i].centerY()+30);\r\n\t\t\t\ticon[i].draw(canvas);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t\r\n\t\t\t\ticon[i]=getResources().getDrawable(R.drawable.ic_delete);\r\n\t\t\t\ticon[i].setBounds(items[i].centerX()-30,items[i].centerY()-30,items[i].centerX() +30,items[i].centerY()+30);\r\n\r\n\t\t\t\ticon[i].draw(canvas);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onTouchEvent(MotionEvent event)\r\n\t{\r\n\t\tswitch(event.getAction()){\r\n\t\t\tcase MotionEvent.ACTION_DOWN:\r\n\t\t\t\tpressStartTime=System.currentTimeMillis();\r\n\t\t\t\tclickXpos=(int)event.getX();\r\n\t\t\t\tclickYpos=(int)event.getY();\r\n\r\n\t\t\t\treturn true;\r\n\t\t\tcase MotionEvent.ACTION_UP:\r\n\t\t\t\tpressDuration=System.currentTimeMillis()-pressStartTime;\r\n\t\t\t\tif(pressDuration&lt;500 &amp;&amp; distance(clickXpos,clickYpos,event.getX(),event.getY())&lt;15){\r\n\t\t\t\t\t// duration less than half second and distance less than 15 PXs\r\n\t\t\t\t\tclick=true;\r\n\t\t\t\t\tlongPress=false;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//clicked\r\n\t\t\t\t}\r\n\t\t\t\tif(pressDuration&gt;=1000 &amp;&amp; distance(clickXpos,clickYpos,event.getX(),event.getY())&lt;15){\r\n\t\t\t\t\t// duration greater than 1 second and distance less than 15 PXs\r\n\t\t\t\t\tclick=false;\r\n\t\t\t\t\tlongPress=true;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//long press\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinvalidate();\r\n\t\t\t\treturn true;\r\n\t\t\tdefault :\r\n\t\t\t\treturn super.onTouchEvent(event);\r\n\r\n\r\n\r\n\t\t}\r\n\r\n\t\t// TODO: Implement this method\r\n\t}\r\n\r\n\tprivate static float distance(float x1,float y1,float x2,float y2)\r\n\t{\r\n\t\tfloat dx = x1 - x2;\r\n\t\tfloat dy = y1 - y2;\r\n\t\tfloat distanceInPx = (float) Math.sqrt(dx * dx + dy * dy);\r\n\t\treturn distanceInPx;\r\n\t}\r\n\t\r\n\t\r\n\t//Setters\r\n\t\r\n\tpublic void setOuterShapeColor(int color){\r\n\t\tthis.outerShapeColor=color;\r\n\t}\r\n\tpublic void setItemCircleColor(int color){\r\n\t\tthis.itemCircleColor=color;\r\n\t}\r\n\tpublic void setIcons(ArrayList&lt;Integer&gt; icons){\r\n\t\tthis.iconsList=icons;\r\n\t}\r\n\r\n\t//Getters\r\n\t\r\n\tpublic int getSelectedItem(){\r\n\t\treturn itemClickedCount;\r\n\t}\r\n\tpublic boolean isClicked(){\r\n\t\treturn itemClicked;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n}\r\n```\r\nWhen i add a Toast inside DrawItem() shows the selected item count successfully.\r\nI tried to do a Listener for items and it didn&#39;t work too\r\nPlease help me guys and thanks .\r\n","title":"how to get selected item from a custom bottomNavBar in android","body":"<p>I am working on my custom <strong>bottomNavigationBar</strong> by extending the view class , everything is working very well, i made a method to get the selected item from my customView ,but when i try to get in in my MainActivity it doesn't work.</p>\n<p>This is my BottomNavBar class :</p>\n<pre><code>public class BottomNavBar extends View\n{\n    private RectF outerRect;\n    private Rect[] items;\n    private Paint outerPaint,shadowPaint,itemPaint,itemClickedPaint,itemCutPaint;\n    private Path outerPath;\n    private int width,height;\n    private float[] outerRadii={50,50,50,50,50,50,50,50},circle={60,60,60,60,60,60,60,60};\n    private Drawable[] icon;\n    private ArrayList&lt;Integer&gt; iconsList;\n    private int outerShapeColor,itemCircleColor;\n    private int itemClickedCount=0;\n    private long pressStartTime,pressDuration;\n    private int clickXpos,clickYpos;\n    public boolean itemClicked,click,longPress;\n    private bottomBarSet set;\n    public BottomNavBar (Context context) {super(context);}\n    public BottomNavBar(Context context , AttributeSet attr) {super(context, attr);}\n\n    @Override\n    protected void onDraw(Canvas canvas)\n    {\n        this.getLayoutParams().width=getWidth();\n        this.getLayoutParams().height=120;\n        this.setLayoutParams(this.getLayoutParams());\n        int xPos=getLeft()+50;\n        int yPos=getHeight() -110;\n        width=getMeasuredWidth()-50;\n        height=100;\n        drawOuterShape(canvas,xPos,yPos,width,height);\n        drawItems(canvas,xPos,yPos);\n        super.onDraw(canvas);\n    }\n\n    private void drawOuterShape(Canvas canvas, float xPos,float yPos, float width ,float height)\n    {\n        outerRect =new RectF(xPos,yPos,width,height);\n        shadowPaint=new Paint();\n        shadowPaint.setAntiAlias(true);\n        shadowPaint.setMaskFilter(new BlurMaskFilter(15,BlurMaskFilter.Blur.NORMAL));\n        shadowPaint.setColor(Color.parseColor(&quot;#181818&quot;));\n        shadowPaint.setAlpha(80);\n        \n        if (android.os.Build.VERSION.SDK_INT &gt;= 11) {\n            setLayerType(View.LAYER_TYPE_SOFTWARE, null);\n        }\n        outerPaint=new Paint();\n        outerPaint.setAntiAlias(true);\n        outerPaint.setStyle(Paint.Style.FILL);\n        outerPaint.setColor(outerShapeColor);\n\n        outerPath =new Path();\n        outerPath.addRoundRect(xPos-5,yPos+10,width+5,height+10,outerRadii,Path.Direction.CW);\n        canvas.drawPath(outerPath,shadowPaint);\n        outerPath.reset();\n        outerPath.addRoundRect(outerRect,outerRadii,Path.Direction.CW);\n        canvas.drawPath(outerPath,outerPaint);\n    }\n\n    private void drawItems(Canvas canvas,int Xpos,int Ypos)\n    {\n//init paint \n        itemPaint =new Paint();\n        itemPaint.setAntiAlias(true);\n        itemPaint.setStyle(Paint.Style.FILL);\n        itemPaint.setColor(Color.TRANSPARENT);\n        items=new Rect[4];\n\n        \n        int itemWidth=(width-50)/items.length;\n        for(int i=0;i&lt;items.length;i++){\n            int startLeft=Xpos;\n            int itemLeft =startLeft +(i*itemWidth);\n            int itemTop = Ypos;\n            int itemRight=startLeft+((i+1)*itemWidth);\n            int itemBottom=height;\n\n            items[i] =new Rect(itemLeft,itemTop,itemRight,itemBottom);\n            Path path=new Path();\n            //draw item\n            \n            RectF[] rect=new RectF[4];\n            rect[i] =new RectF();\n            rect[i].set(items[i]);\n\n            path.addRoundRect(rect[i],circle,Path.Direction.CW);\n            canvas.drawPath(path,itemPaint);\n            //draw clicked item\n            if(i==itemClickedCount){\n                itemClickedPaint=new Paint(Paint.ANTI_ALIAS_FLAG);\n                itemClickedPaint.setStyle(Paint.Style.FILL);\n                itemClickedPaint.setColor(itemCircleColor);\n                path.reset();\n            \n                path.addRoundRect(itemLeft-5,itemTop-5,itemRight+5,itemBottom+5,circle,Path.Direction.CW);\n                canvas.drawPath(path,itemClickedPaint);\n                itemCutPaint=new Paint();\n                itemCutPaint.setAntiAlias(true);\n                itemCutPaint.setAlpha(0);\n                itemCutPaint.setColor(0xFFFFFF);\n                itemCutPaint.setColor(Color.TRANSPARENT);\n                itemCutPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.CLEAR));\n                \n                path.reset();\n                //path.addCircle(items[i].centerX(),items[i].centerY(),35,Path.Direction.CW);\n                path.addRoundRect(itemLeft+10,itemTop+10,itemRight-10,itemBottom-10,circle,Path.Direction.CW);\n                canvas.drawPath(path,itemCutPaint);\n                \n                //Toast.makeText(getContext(),&quot;Count: &quot;+ i,Toast.LENGTH_SHORT).show();\n            }\n            //check click item\n            if(items[i].contains(clickXpos,clickYpos)) {\n                itemClicked=true;\n                final Handler handler = new Handler();\n                handler.postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            \n                            itemClicked=false;\n\n                        }\n                    }, 5);\n\n            } else {itemClicked=false;}\n\n            if(itemClicked==true){\n                \n                itemClickedCount=i;\n                \n                \n            }\n            \n\n\n            //draw icon\n\n            icon=new Drawable[4];\n            icon[i]=getContext().getResources().getDrawable(iconsList.get(i));\n            if(icon[i]!=null){\n                \n                icon[i].setBounds(items[i].centerX()-30,items[i].centerY()-30,items[i].centerX() +30,items[i].centerY()+30);\n                icon[i].draw(canvas);\n            }\n            else{\n                \n                icon[i]=getResources().getDrawable(R.drawable.ic_delete);\n                icon[i].setBounds(items[i].centerX()-30,items[i].centerY()-30,items[i].centerX() +30,items[i].centerY()+30);\n\n                icon[i].draw(canvas);\n            }\n            \n        \n            \n        }\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event)\n    {\n        switch(event.getAction()){\n            case MotionEvent.ACTION_DOWN:\n                pressStartTime=System.currentTimeMillis();\n                clickXpos=(int)event.getX();\n                clickYpos=(int)event.getY();\n\n                return true;\n            case MotionEvent.ACTION_UP:\n                pressDuration=System.currentTimeMillis()-pressStartTime;\n                if(pressDuration&lt;500 &amp;&amp; distance(clickXpos,clickYpos,event.getX(),event.getY())&lt;15){\n                    // duration less than half second and distance less than 15 PXs\n                    click=true;\n                    longPress=false;\n                    \n                    //clicked\n                }\n                if(pressDuration&gt;=1000 &amp;&amp; distance(clickXpos,clickYpos,event.getX(),event.getY())&lt;15){\n                    // duration greater than 1 second and distance less than 15 PXs\n                    click=false;\n                    longPress=true;\n                    \n                    //long press\n                }\n\n                invalidate();\n                return true;\n            default :\n                return super.onTouchEvent(event);\n\n\n\n        }\n\n        // TODO: Implement this method\n    }\n\n    private static float distance(float x1,float y1,float x2,float y2)\n    {\n        float dx = x1 - x2;\n        float dy = y1 - y2;\n        float distanceInPx = (float) Math.sqrt(dx * dx + dy * dy);\n        return distanceInPx;\n    }\n    \n    \n    //Setters\n    \n    public void setOuterShapeColor(int color){\n        this.outerShapeColor=color;\n    }\n    public void setItemCircleColor(int color){\n        this.itemCircleColor=color;\n    }\n    public void setIcons(ArrayList&lt;Integer&gt; icons){\n        this.iconsList=icons;\n    }\n\n    //Getters\n    \n    public int getSelectedItem(){\n        return itemClickedCount;\n    }\n    public boolean isClicked(){\n        return itemClicked;\n    }\n    \n    \n    \n    \n    \n\n\n}\n</code></pre>\n<p>When i add a Toast inside DrawItem() shows the selected item count successfully.\nI tried to do a Listener for items and it didn't work too\nPlease help me guys and thanks .</p>\n"},{"tags":["java","spring","filter","stream"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692964231,"post_id":76976884,"comment_id":135699891,"body_markdown":"because you are doing `equals()` on 2 different values for example : `&quot;2022-2023&quot;.equals(&quot;2022-23&quot;)` witch is `false` !","body":"because you are doing <code>equals()</code> on 2 different values for example : <code>&quot;2022-2023&quot;.equals(&quot;2022-23&quot;)</code> witch is <code>false</code> !"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692964291,"post_id":76976884,"comment_id":135699901,"body_markdown":"In other words, &quot;even though I compare the right strings&quot; just isn&#39;t true","body":"In other words, &quot;even though I compare the right strings&quot; just isn&#39;t true"},{"owner":{"account_id":28350442,"reputation":1,"user_id":21682019,"display_name":"Adzhiew"},"score":0,"creation_date":1692964393,"post_id":76976884,"comment_id":135699915,"body_markdown":"I do not get it how could be false?","body":"I do not get it how could be false?"},{"owner":{"account_id":28350442,"reputation":1,"user_id":21682019,"display_name":"Adzhiew"},"score":2,"creation_date":1692964549,"post_id":76976884,"comment_id":135699956,"body_markdown":"Sorry my bad, i see it now, i overlooked the database inconsistency","body":"Sorry my bad, i see it now, i overlooked the database inconsistency"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692975917,"post_id":76976884,"comment_id":135702796,"body_markdown":"Side note:  `String.format(&quot;Groups &quot; + courseGroupList)` is exactly the same as writing `&quot;Groups &quot; + courseGroupList`.  String.format adds nothing here.","body":"Side note:  <code>String.format(&quot;Groups &quot; + courseGroupList)</code> is exactly the same as writing <code>&quot;Groups &quot; + courseGroupList</code>.  String.format adds nothing here."}],"owner":{"account_id":28350442,"reputation":1,"user_id":21682019,"display_name":"Adzhiew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692963881,"creation_date":1692963805,"question_id":76976884,"body_markdown":"The filter is supposed to compare two strings, but it doesnt work\r\n\r\n\r\n```\r\n        this.courseGroupRepository.findAll()\r\n                .stream().forEach(courseGroup -&gt; {\r\n                    System.out.println(courseGroup.getCourse().getSemester().getYear() + &quot; &quot; + semesterExamSession.getYear());\r\n                });\r\n\r\n//               List&lt;CourseGroup&gt; courseGroupList = this.courseGroupRepository\r\n//                .findAllByCourse_Semester_Year(semesterExamSession.getYear());\r\n\r\n//        List&lt;CourseGroup&gt; courseGroupList = this.courseGroupRepository.findAll()\r\n//                .stream()\r\n//                .filter(courseGroup -&gt; (courseGroup.getCourse().getSemester().getYear()).equals(semesterExamSession.getYear()))\r\n//                .collect(Collectors.toList());\r\n\r\n\r\n        System.out.println(String.format(&quot;Groups &quot; + courseGroupList));\r\n```\r\nBoth commented methods do not work, I tried printing the strings that need to be compared and got this, but list still empty\r\n[print screenshot](https://i.stack.imgur.com/ITDMQ.png)\r\n","title":"Why is java filter returning empty list even though I compare the right strings","body":"<p>The filter is supposed to compare two strings, but it doesnt work</p>\n<pre><code>        this.courseGroupRepository.findAll()\n                .stream().forEach(courseGroup -&gt; {\n                    System.out.println(courseGroup.getCourse().getSemester().getYear() + &quot; &quot; + semesterExamSession.getYear());\n                });\n\n//               List&lt;CourseGroup&gt; courseGroupList = this.courseGroupRepository\n//                .findAllByCourse_Semester_Year(semesterExamSession.getYear());\n\n//        List&lt;CourseGroup&gt; courseGroupList = this.courseGroupRepository.findAll()\n//                .stream()\n//                .filter(courseGroup -&gt; (courseGroup.getCourse().getSemester().getYear()).equals(semesterExamSession.getYear()))\n//                .collect(Collectors.toList());\n\n\n        System.out.println(String.format(&quot;Groups &quot; + courseGroupList));\n</code></pre>\n<p>Both commented methods do not work, I tried printing the strings that need to be compared and got this, but list still empty\n<a href=\"https://i.stack.imgur.com/ITDMQ.png\" rel=\"nofollow noreferrer\">print screenshot</a></p>\n"},{"tags":["java","exception","junit","mockito"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1310376667,"post_id":6647957,"comment_id":7856148,"body_markdown":"Not a duplicate but another question on that topic: http://stackoverflow.com/questions/3762047/throw-checked-exceptions-from-mocks-with-mockito","body":"Not a duplicate but another question on that topic: <a href=\"http://stackoverflow.com/questions/3762047/throw-checked-exceptions-from-mocks-with-mockito\" title=\"throw checked exceptions from mocks with mockito\">stackoverflow.com/questions/3762047/&hellip;</a>"},{"owner":{"account_id":338994,"reputation":455,"user_id":668184,"accept_rate":62,"display_name":"Edheene"},"score":0,"creation_date":1310376843,"post_id":6647957,"comment_id":7856174,"body_markdown":"I have seen that, but it doesn&#39;t answer my question. thanks though","body":"I have seen that, but it doesn&#39;t answer my question. thanks though"},{"owner":{"display_name":"user545680"},"score":0,"creation_date":1310376942,"post_id":6647957,"comment_id":7856195,"body_markdown":"What is the type of testObj? Is it `MocSbb` or is it a super class or interface? Does the interface/parent class declare the exception also?","body":"What is the type of testObj? Is it <code>MocSbb</code> or is it a super class or interface? Does the interface/parent class declare the exception also?"}],"answers":[{"comments":[{"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"score":0,"creation_date":1502457976,"post_id":6694742,"comment_id":78231842,"body_markdown":"Reason: Stubbing voids requires different approach from Mockito.when(Object) because the compiler does not like void methods inside brackets...","body":"Reason: Stubbing voids requires different approach from Mockito.when(Object) because the compiler does not like void methods inside brackets..."},{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":0,"creation_date":1547167766,"post_id":6694742,"comment_id":95109433,"body_markdown":"This did not work for me.  What ended up working was actually changing the exception to a RuntimeException type.  It&#39;s not clear to me why Mockito doesn&#39;t allow checked exceptions to be thrown with these methods.","body":"This did not work for me.  What ended up working was actually changing the exception to a RuntimeException type.  It&#39;s not clear to me why Mockito doesn&#39;t allow checked exceptions to be thrown with these methods."}],"tags":[],"owner":{"account_id":334761,"reputation":318,"user_id":661423,"accept_rate":60,"display_name":"Szczepan"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1310653317,"creation_date":1310653317,"answer_id":6694742,"question_id":6647957,"body_markdown":"I have a feeling the solution is to use doThrow() syntax instead of when().thenThrow(). When spying it is safer to use doThrow/doReturn syntax for stubbing. The reasons are somewhat described in the documentation: http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13\r\n\r\nI think we can improve an exception message in this instance so that it is m","title":"Mockito refuses to throw checked exception","body":"<p>I have a feeling the solution is to use doThrow() syntax instead of when().thenThrow(). When spying it is safer to use doThrow/doReturn syntax for stubbing. The reasons are somewhat described in the documentation: <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13\" rel=\"nofollow\">http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13</a></p>\n\n<p>I think we can improve an exception message in this instance so that it is m</p>\n"},{"comments":[{"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"score":0,"creation_date":1441224865,"post_id":6758221,"comment_id":52597316,"body_markdown":"It happened to my also, but with a class implementing an interface","body":"It happened to my also, but with a class implementing an interface"}],"tags":[],"owner":{"account_id":338994,"reputation":455,"user_id":668184,"accept_rate":62,"display_name":"Edheene"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1311176077,"creation_date":1311145743,"answer_id":6758221,"question_id":6647957,"body_markdown":"I have finally found the solution for this problem.  \r\n\r\nWe have used an anonymous class extending original `Sbb` class which was tested and in this extended class implementation of mentioned method was altered and `throws` expression was removed which caused the problem.\r\n\r\nI should have read my colleagues code more carefully.","title":"Mockito refuses to throw checked exception","body":"<p>I have finally found the solution for this problem.  </p>\n\n<p>We have used an anonymous class extending original <code>Sbb</code> class which was tested and in this extended class implementation of mentioned method was altered and <code>throws</code> expression was removed which caused the problem.</p>\n\n<p>I should have read my colleagues code more carefully.</p>\n"},{"tags":[],"owner":{"account_id":8762422,"reputation":3387,"user_id":6552016,"display_name":"Rub&#233;n Viguera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488455556,"creation_date":1488455556,"answer_id":42554771,"question_id":6647957,"body_markdown":"I know this post is very old but my solution it could be of help to someone:\r\nI solved this same error by changing the visibility of my method to be test to public.\r\n\r\nIn this case you whould have change\r\n\r\n    protected MocFsm getSs7Fsm() throws FsmInitializationException {\r\n        ...\r\n    }\r\n\r\nto\r\n\r\n    public MocFsm getSs7Fsm() throws FsmInitializationException {\r\n        ...\r\n    }","title":"Mockito refuses to throw checked exception","body":"<p>I know this post is very old but my solution it could be of help to someone:\nI solved this same error by changing the visibility of my method to be test to public.</p>\n\n<p>In this case you whould have change</p>\n\n<pre><code>protected MocFsm getSs7Fsm() throws FsmInitializationException {\n    ...\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>public MocFsm getSs7Fsm() throws FsmInitializationException {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3555029,"reputation":1963,"user_id":2968988,"accept_rate":100,"display_name":"Mohamed Nageh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616331064,"creation_date":1616331064,"answer_id":66732489,"question_id":6647957,"body_markdown":"Following [this answer][1]. Using Mockito&#39;s `doAnswer` instead of `thenThrow` method solved my issue.\r\n\r\n    Mockito.doAnswer(\r\n          invocation -&gt; {\r\n            throw new Exception(&quot;Something went wrong&quot;);\r\n          })\r\n      .when(moc)\r\n      .getSs7Fsm();\r\n\r\nI know it&#39;s too late but just in case anyone faces the same issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55351849/2968988","title":"Mockito refuses to throw checked exception","body":"<p>Following <a href=\"https://stackoverflow.com/a/55351849/2968988\">this answer</a>. Using Mockito's <code>doAnswer</code> instead of <code>thenThrow</code> method solved my issue.</p>\n<pre><code>Mockito.doAnswer(\n      invocation -&gt; {\n        throw new Exception(&quot;Something went wrong&quot;);\n      })\n  .when(moc)\n  .getSs7Fsm();\n</code></pre>\n<p>I know it's too late but just in case anyone faces the same issue.</p>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692963855,"creation_date":1692963855,"answer_id":76976891,"question_id":6647957,"body_markdown":"In my case, since I was using @SneakyThrows on my void method, I had to throw a RuntimeException, instead of a normal exception, in my mock, so\r\n\r\n    doThrow(new RuntimeException()).when(mock).doStuff(any());\r\n\r\n","title":"Mockito refuses to throw checked exception","body":"<p>In my case, since I was using @SneakyThrows on my void method, I had to throw a RuntimeException, instead of a normal exception, in my mock, so</p>\n<pre><code>doThrow(new RuntimeException()).when(mock).doStuff(any());\n</code></pre>\n"}],"owner":{"account_id":338994,"reputation":455,"user_id":668184,"accept_rate":62,"display_name":"Edheene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33668,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":6758221,"answer_count":5,"score":15,"last_activity_date":1692963855,"creation_date":1310375406,"question_id":6647957,"body_markdown":"I&#39;m using Mockito for my unit tests and I encounetered a problem with throwing exception on spied object. I have done this before on this object (in different test case and it worked).\r\nHere&#39;s the test code:  \r\n \r\n    @Test\r\n    public void callInitiated_FsmInitializationException() throws FsmInitializationException, Exception {\r\n        MocSbb moc = Mockito.spy(testObj);\r\n\r\n        MocTracer tracer = Mockito.mock(MocTracer.class);\r\n        Mockito.doReturn(tracer).when(moc).getTracer();\r\n\r\n        CAP2InitialDPArg idp = Mockito.mock(CAP2InitialDPArg.class);\r\n        MocFsm mocFsm = Mockito.mock(MocFsm.class);\r\n        //Mockito.doReturn(mocFsm).when(moc).getSs7Fsm();\r\n\r\n        TicketingLocalInterface ticketing = mockTicketingLocalInterface();\r\n        CAP2InitialDPArgWrap idpWrap = Mockito.mock(CAP2InitialDPArgWrap.class);\r\n        PowerMockito.whenNew(CAP2InitialDPArgWrap.class).withArguments(idp, tracer).thenReturn(idpWrap);\r\n\r\n        MocSession mocSession = Mockito.mock(MocSession.class);\r\n        Mockito.doReturn(mocSession).when(moc).getMocSession();\r\n\r\n        Mockito.when(moc.getSs7Fsm()).thenThrow(new FsmInitializationException()); ////HERE&#39;S THE PROBLEM\r\n        \r\n        moc.callInitiated(idp);\r\n\r\n        verify(moc).getFailedFsm();\r\n    } \r\n \r\nhere&#39;s the method on which the exception should be thrown: \r\n \r\n    protected MocFsm getSs7Fsm() throws FsmInitializationException {\r\n        mocFsm.setContextProvider(getMocLocalObject());\r\n        return mocFsm;\r\n    }  \r\n\r\nthe error I get during test execution looks like this:\r\n\r\n    Testcase: callInitiated_FsmInitializationException(com.nsn.as.ccs.moc.sbb.MocSbbTest):\tCaused an ERROR\r\n\r\n    Checked exception is invalid for this method!\r\n    Invalid: com.nsn.as.ccs.moc.fsm.FsmInitializationException\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Checked exception is invalid for this method!\r\n    Invalid: com.nsn.as.ccs.moc.fsm.FsmInitializationException\r\n\tat com.nsn.as.ccs.moc.sbb.MocSbbTest.callInitiated_FsmInitializationException(MocSbbTest.java:1194)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:322)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:309)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:112)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:73)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:297)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:222)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:161)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:135)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:133)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:112)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)  \r\n\r\nDoes anyone have any idea why it doesn&#39;t work in this case?","title":"Mockito refuses to throw checked exception","body":"<p>I'm using Mockito for my unit tests and I encounetered a problem with throwing exception on spied object. I have done this before on this object (in different test case and it worked).\nHere's the test code:  </p>\n\n<pre><code>@Test\npublic void callInitiated_FsmInitializationException() throws FsmInitializationException, Exception {\n    MocSbb moc = Mockito.spy(testObj);\n\n    MocTracer tracer = Mockito.mock(MocTracer.class);\n    Mockito.doReturn(tracer).when(moc).getTracer();\n\n    CAP2InitialDPArg idp = Mockito.mock(CAP2InitialDPArg.class);\n    MocFsm mocFsm = Mockito.mock(MocFsm.class);\n    //Mockito.doReturn(mocFsm).when(moc).getSs7Fsm();\n\n    TicketingLocalInterface ticketing = mockTicketingLocalInterface();\n    CAP2InitialDPArgWrap idpWrap = Mockito.mock(CAP2InitialDPArgWrap.class);\n    PowerMockito.whenNew(CAP2InitialDPArgWrap.class).withArguments(idp, tracer).thenReturn(idpWrap);\n\n    MocSession mocSession = Mockito.mock(MocSession.class);\n    Mockito.doReturn(mocSession).when(moc).getMocSession();\n\n    Mockito.when(moc.getSs7Fsm()).thenThrow(new FsmInitializationException()); ////HERE'S THE PROBLEM\n\n    moc.callInitiated(idp);\n\n    verify(moc).getFailedFsm();\n} \n</code></pre>\n\n<p>here's the method on which the exception should be thrown: </p>\n\n<pre><code>protected MocFsm getSs7Fsm() throws FsmInitializationException {\n    mocFsm.setContextProvider(getMocLocalObject());\n    return mocFsm;\n}  \n</code></pre>\n\n<p>the error I get during test execution looks like this:</p>\n\n<pre><code>Testcase: callInitiated_FsmInitializationException(com.nsn.as.ccs.moc.sbb.MocSbbTest):  Caused an ERROR\n\nChecked exception is invalid for this method!\nInvalid: com.nsn.as.ccs.moc.fsm.FsmInitializationException\norg.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\nInvalid: com.nsn.as.ccs.moc.fsm.FsmInitializationException\nat com.nsn.as.ccs.moc.sbb.MocSbbTest.callInitiated_FsmInitializationException(MocSbbTest.java:1194)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:322)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:309)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:112)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:73)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:297)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:222)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:161)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:135)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:133)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:112)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)  \n</code></pre>\n\n<p>Does anyone have any idea why it doesn't work in this case?</p>\n"},{"tags":["java","spring","caching","caffeine-cache"],"comments":[{"owner":{"account_id":22979257,"reputation":61,"user_id":17106454,"display_name":"Axiomatic-1"},"score":0,"creation_date":1692963511,"post_id":76976773,"comment_id":135699725,"body_markdown":"I think you can find answer here: https://stackoverflow.com/questions/74130063/is-there-anyway-to-refresh-the-caffeine-cache-on-certain-interval-wihtout-adding\n\nOr here: https://stackoverflow.com/questions/57886754/how-to-update-cache-every-30-minutes-in-spring","body":"I think you can find answer here: <a href=\"https://stackoverflow.com/questions/74130063/is-there-anyway-to-refresh-the-caffeine-cache-on-certain-interval-wihtout-adding\" title=\"is there anyway to refresh the caffeine cache on certain interval wihtout adding\">stackoverflow.com/questions/74130063/&hellip;</a>  Or here: <a href=\"https://stackoverflow.com/questions/57886754/how-to-update-cache-every-30-minutes-in-spring\" title=\"how to update cache every 30 minutes in spring\">stackoverflow.com/questions/57886754/&hellip;</a>"}],"owner":{"display_name":"user6450105"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692963355,"creation_date":1692962860,"question_id":76976773,"body_markdown":"I have currently this code for Caffeine cache(I want to have all rules from DB in my cache, since there is no lot of them):\r\n\r\n    public class CaffeineCache {\r\n        LoadingCache&lt;String, Rule&gt; cache = Caffeine.newBuilder()\r\n                .maximumSize(10_000)\r\n                .build(key -&gt; Rule.builder().build());\r\n    \r\n        public Collection&lt;Rule&gt; getRules() {\r\n            return cache.asMap().values();\r\n        }\r\n    \r\n        public void addRule(Rule rule) {\r\n            cache.put(rule.getRuleId(), rule);\r\n        }\r\n    \r\n        public void refreshCache() {\r\n            Executors.newScheduledThreadPool(1).scheduleAtFixedRate(\r\n                    () -&gt; cache.refresh(&quot;SOME_KEY&quot;),\r\n                    0, 15, TimeUnit.MINUTES\r\n            );\r\n        }\r\n\r\nI want to update my cache every 15 minutes(no matter if there are new values or not). If it not correct approach, what should I do?","title":"How to update Caffeine cache every N minutes?","body":"<p>I have currently this code for Caffeine cache(I want to have all rules from DB in my cache, since there is no lot of them):</p>\n<pre><code>public class CaffeineCache {\n    LoadingCache&lt;String, Rule&gt; cache = Caffeine.newBuilder()\n            .maximumSize(10_000)\n            .build(key -&gt; Rule.builder().build());\n\n    public Collection&lt;Rule&gt; getRules() {\n        return cache.asMap().values();\n    }\n\n    public void addRule(Rule rule) {\n        cache.put(rule.getRuleId(), rule);\n    }\n\n    public void refreshCache() {\n        Executors.newScheduledThreadPool(1).scheduleAtFixedRate(\n                () -&gt; cache.refresh(&quot;SOME_KEY&quot;),\n                0, 15, TimeUnit.MINUTES\n        );\n    }\n</code></pre>\n<p>I want to update my cache every 15 minutes(no matter if there are new values or not). If it not correct approach, what should I do?</p>\n"},{"tags":["java","visual-studio-code","intellij-idea","syntax-highlighting"],"comments":[{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1692889954,"post_id":76970598,"comment_id":135688203,"body_markdown":"Can you explain what I did wrong to get a -1?  I added some example pictures to improve the question.","body":"Can you explain what I did wrong to get a -1?  I added some example pictures to improve the question."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1692890149,"post_id":76970598,"comment_id":135688254,"body_markdown":"Might not be easy, but you have the capability to set up your own now: https://www.jetbrains.com/help/idea/configuring-colors-and-fonts.html#share-color-scheme","body":"Might not be easy, but you have the capability to set up your own now: <a href=\"https://www.jetbrains.com/help/idea/configuring-colors-and-fonts.html#share-color-scheme\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1692890263,"post_id":76970598,"comment_id":135688288,"body_markdown":"just like you can create a theme for VSC create one for IntelliJ, borrow the colors from the theme you like","body":"just like you can create a theme for VSC create one for IntelliJ, borrow the colors from the theme you like"}],"answers":[{"comments":[{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":1,"creation_date":1692971449,"post_id":76970746,"comment_id":135701642,"body_markdown":"Thanks, I&#39;ve installed that, it looks good! https://plugins.jetbrains.com/plugin/16142-nightfall-theme","body":"Thanks, I&#39;ve installed that, it looks good! <a href=\"https://plugins.jetbrains.com/plugin/16142-nightfall-theme\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/16142-nightfall-theme</a>"}],"tags":[],"owner":{"account_id":26535163,"reputation":53,"user_id":20166797,"display_name":"therealvirtuoso"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692890314,"creation_date":1692890314,"answer_id":76970746,"question_id":76970598,"body_markdown":"Theres a really nice looking theme plugin you can use for IntelliJ called **nightfall**, and based on your first picture, it will give syntax highlighting of a similar shade / similar hues to that.","title":"How can I get Visual Studio Code&#39;s Dark Modern Java color syntax in IntelliJ","body":"<p>Theres a really nice looking theme plugin you can use for IntelliJ called <strong>nightfall</strong>, and based on your first picture, it will give syntax highlighting of a similar shade / similar hues to that.</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692942161,"creation_date":1692942161,"answer_id":76974516,"question_id":76970598,"body_markdown":"You can [customize syntax highlighting][1] and enable [semantic highlighting][2]. \r\n\r\nOr search and use similar themed extensions (might take many trials)\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/configuring-colors-and-fonts.html#customize-color-scheme\r\n  [2]: https://www.jetbrains.com/help/idea/configuring-colors-and-fonts.html#semantic-highlighting","title":"How can I get Visual Studio Code&#39;s Dark Modern Java color syntax in IntelliJ","body":"<p>You can <a href=\"https://www.jetbrains.com/help/idea/configuring-colors-and-fonts.html#customize-color-scheme\" rel=\"nofollow noreferrer\">customize syntax highlighting</a> and enable <a href=\"https://www.jetbrains.com/help/idea/configuring-colors-and-fonts.html#semantic-highlighting\" rel=\"nofollow noreferrer\">semantic highlighting</a>.</p>\n<p>Or search and use similar themed extensions (might take many trials)</p>\n"}],"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76970746,"answer_count":2,"score":1,"last_activity_date":1692963212,"creation_date":1692889195,"question_id":76970598,"body_markdown":"The default theme in VS Code is dark modern:\r\n\r\n[![VS Code default theme][1]][1]\r\n\r\nExample Java:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI like how this shows Java code with the yellow method names and the method parameters with their own distinctive color. \r\n\r\nBut my main IDE is IntelliJ, where I use the dark color scheme. \r\nExample Java:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nDoes anyone have any suggestions about how I can use (free) plugins to add VS Code&#39;s Java syntax coloring scheme to IntelliJ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C9sPX.png\r\n  [2]: https://i.stack.imgur.com/qzz3z.png\r\n  [3]: https://i.stack.imgur.com/QY3wj.png","title":"How can I get Visual Studio Code&#39;s Dark Modern Java color syntax in IntelliJ","body":"<p>The default theme in VS Code is dark modern:</p>\n<p><a href=\"https://i.stack.imgur.com/C9sPX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C9sPX.png\" alt=\"VS Code default theme\" /></a></p>\n<p>Example Java:</p>\n<p><a href=\"https://i.stack.imgur.com/qzz3z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzz3z.png\" alt=\"enter image description here\" /></a></p>\n<p>I like how this shows Java code with the yellow method names and the method parameters with their own distinctive color.</p>\n<p>But my main IDE is IntelliJ, where I use the dark color scheme.\nExample Java:</p>\n<p><a href=\"https://i.stack.imgur.com/QY3wj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QY3wj.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone have any suggestions about how I can use (free) plugins to add VS Code's Java syntax coloring scheme to IntelliJ?</p>\n"},{"tags":["java","jdbc","prepared-statement"],"answers":[{"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":2,"creation_date":1251726306,"post_id":1357449,"comment_id":1194279,"body_markdown":"+1: Interesting.  I assumed that&#39;s how setXXX worked with nulls, but I&#39;d never actually tested it or read the docs for it.","body":"+1: Interesting.  I assumed that&#39;s how setXXX worked with nulls, but I&#39;d never actually tested it or read the docs for it."},{"owner":{"display_name":"user74754"},"score":2,"creation_date":1337652654,"post_id":1357449,"comment_id":13883322,"body_markdown":"I don&#39;t suppose there is something like myPreparedStatement.setInteger(myIntegerObject) (although I see that exact method name does not exist) in the case I&#39;m wanting use a potentially null integer?  Otherwise I&#39;m going to have to use an if/else statement, calling .setInt() one way and .setNull() the other way, which seems a bit tedious.","body":"I don&#39;t suppose there is something like myPreparedStatement.setInteger(myIntegerObject) (although I see that exact method name does not exist) in the case I&#39;m wanting use a potentially null integer?  Otherwise I&#39;m going to have to use an if/else statement, calling .setInt() one way and .setNull() the other way, which seems a bit tedious."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1337659134,"post_id":1357449,"comment_id":13884330,"body_markdown":"@ardave, yes that&#39;s what I mean by my final paragraph","body":"@ardave, yes that&#39;s what I mean by my final paragraph"},{"owner":{"account_id":1054964,"reputation":161,"user_id":1970714,"display_name":"ldkronos"},"score":0,"creation_date":1529938644,"post_id":1357449,"comment_id":89045263,"body_markdown":"@user74754 if you aren&#39;t sure whether your Integer is going to be null, and you don&#39;t want to use an if/else, then you could do this: stmt.setObject(1, myPossiblyNullInteger, java.sql.Types.INTEGER)","body":"@user74754 if you aren&#39;t sure whether your Integer is going to be null, and you don&#39;t want to use an if/else, then you could do this: stmt.setObject(1, myPossiblyNullInteger, java.sql.Types.INTEGER)"}],"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":4,"down_vote_count":1,"up_vote_count":86,"is_accepted":true,"score":85,"last_activity_date":1647546835,"creation_date":1251725000,"answer_id":1357449,"question_id":1357429,"body_markdown":"This [guide](https://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/getstart/preparedstatement.html) says:\r\n\r\n&gt; #### 6.1.5 Sending JDBC NULL as an IN parameter\r\n&gt;\r\n&gt; The `setNull` method allows a programmer to send a JDBC `NULL` (a generic SQL `NULL`) value to the database as an IN parameter. Note, however, that one must still specify the JDBC type of the parameter.\r\n&gt;\r\n&gt; A JDBC `NULL` will also be sent to the database when a Java `null` value is passed to a `setXXX` method (if it takes Java objects as arguments). The method `setObject`, however, can take a `null` value only if the JDBC type is specified.\r\n\r\nSo yes they&#39;re equivalent.","title":"PreparedStatement setNull(..)","body":"<p>This <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/getstart/preparedstatement.html\" rel=\"noreferrer\">guide</a> says:</p>\n<blockquote>\n<h4>6.1.5 Sending JDBC NULL as an IN parameter</h4>\n<p>The <code>setNull</code> method allows a programmer to send a JDBC <code>NULL</code> (a generic SQL <code>NULL</code>) value to the database as an IN parameter. Note, however, that one must still specify the JDBC type of the parameter.</p>\n<p>A JDBC <code>NULL</code> will also be sent to the database when a Java <code>null</code> value is passed to a <code>setXXX</code> method (if it takes Java objects as arguments). The method <code>setObject</code>, however, can take a <code>null</code> value only if the JDBC type is specified.</p>\n</blockquote>\n<p>So yes they're equivalent.</p>\n"},{"tags":[],"owner":{"account_id":28626,"reputation":18594,"user_id":76661,"accept_rate":59,"display_name":"paweloque"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1251803796,"creation_date":1251803401,"answer_id":1361850,"question_id":1357429,"body_markdown":"Finally I did a small test and while I was programming it it came to my mind, that without the setNull(..) method there would be no way to set null values for the Java primitives. For Objects both ways \r\n\r\n    setNull(..)\r\n\r\nand \r\n\r\n    set&lt;ClassName&gt;(.., null)) \r\n\r\nbehave the same way.","title":"PreparedStatement setNull(..)","body":"<p>Finally I did a small test and while I was programming it it came to my mind, that without the setNull(..) method there would be no way to set null values for the Java primitives. For Objects both ways </p>\n\n<pre><code>setNull(..)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>set&lt;ClassName&gt;(.., null)) \n</code></pre>\n\n<p>behave the same way.</p>\n"},{"comments":[{"owner":{"account_id":325831,"reputation":374,"user_id":647252,"display_name":"sf_jeff"},"score":0,"creation_date":1597629661,"post_id":9542866,"comment_id":112185948,"body_markdown":"That is actually the example that brought me here.","body":"That is actually the example that brought me here."},{"owner":{"account_id":4248593,"reputation":320,"user_id":3476440,"display_name":"casperw"},"score":2,"creation_date":1617735044,"post_id":9542866,"comment_id":118386807,"body_markdown":"In this case (using a Postgres DB in my case), you can use the setObject method.\n`Long nullLong = null; preparedStatement.setObject(nullLong);`","body":"In this case (using a Postgres DB in my case), you can use the setObject method. <code>Long nullLong = null; preparedStatement.setObject(nullLong);</code>"},{"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"score":0,"creation_date":1642673928,"post_id":9542866,"comment_id":125135841,"body_markdown":"@Owen : if(obj== null || obj == 0) {ps.setLong(INDEX_TWO, Types.BIGINT);} else {ps.setLong(INDEX_TWO, obj);}  worked for me","body":"@Owen : if(obj== null || obj == 0) {ps.setLong(INDEX_TWO, Types.BIGINT);} else {ps.setLong(INDEX_TWO, obj);}  worked for me"}],"tags":[],"owner":{"account_id":1295047,"reputation":839,"user_id":1246329,"display_name":"Owen"},"comment_count":3,"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1393299086,"creation_date":1330741914,"answer_id":9542866,"question_id":1357429,"body_markdown":"but watch out for this....\r\n\r\n    Long nullLong = null;\r\n\r\n    preparedStatement.setLong( nullLong );\r\n\r\n-thows null pointer exception-\r\n\r\n\r\n\r\nbecause the protype is\r\n\r\n    setLong( long )   \r\nNOT\r\n\r\n    setLong( Long )\r\n\r\nnice one to catch you out eh.","title":"PreparedStatement setNull(..)","body":"<p>but watch out for this....</p>\n\n<pre><code>Long nullLong = null;\n\npreparedStatement.setLong( nullLong );\n</code></pre>\n\n<p>-thows null pointer exception-</p>\n\n<p>because the protype is</p>\n\n<pre><code>setLong( long )   \n</code></pre>\n\n<p>NOT</p>\n\n<pre><code>setLong( Long )\n</code></pre>\n\n<p>nice one to catch you out eh.</p>\n"},{"tags":[],"owner":{"account_id":5675474,"reputation":186,"user_id":4488812,"accept_rate":80,"display_name":"bithom"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1448346314,"creation_date":1448337571,"answer_id":33885209,"question_id":1357429,"body_markdown":"You could also consider using `preparedStatement.setObject(index,value,type);`","title":"PreparedStatement setNull(..)","body":"<p>You could also consider using <code>preparedStatement.setObject(index,value,type);</code></p>\n"},{"tags":[],"owner":{"account_id":505795,"reputation":390,"user_id":1689489,"display_name":"Dmitriy Pichugin"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1692963004,"creation_date":1581551283,"answer_id":60198554,"question_id":1357429,"body_markdown":"    preparedStatement.setNull(index, java.sql.Types.NULL);\r\n\r\nthat should work for any type.\r\nThough in some cases failure happens on the server-side, like:\r\nfor SQL:\r\n\r\n    COALESCE(?, CURRENT_TIMESTAMP)\r\n\r\nOracle 18XE fails with the wrong type: expected DATE, got STRING -- that is a perfectly valid failure; \r\n\r\nBottom line: it is good to know the type if you call `.setNull()`.","title":"PreparedStatement setNull(..)","body":"<pre><code>preparedStatement.setNull(index, java.sql.Types.NULL);\n</code></pre>\n<p>that should work for any type.\nThough in some cases failure happens on the server-side, like:\nfor SQL:</p>\n<pre><code>COALESCE(?, CURRENT_TIMESTAMP)\n</code></pre>\n<p>Oracle 18XE fails with the wrong type: expected DATE, got STRING -- that is a perfectly valid failure;</p>\n<p>Bottom line: it is good to know the type if you call <code>.setNull()</code>.</p>\n"}],"owner":{"account_id":28626,"reputation":18594,"user_id":76661,"accept_rate":59,"display_name":"paweloque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189184,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":1357449,"answer_count":5,"score":107,"last_activity_date":1692963004,"creation_date":1251724708,"question_id":1357429,"body_markdown":"Java PreparedStatement provides a possibility to explicitely set a Null value. This possibility is:\r\n\r\n    prepStmt.setNull(parameterIndex, Types.VARCHAR);\r\n\r\nAre the semantics of this call the same as when using a specific setType with a null parameter?\r\n\r\n    prepStmt.setString(null);\r\n\r\n?","title":"PreparedStatement setNull(..)","body":"<p>Java PreparedStatement provides a possibility to explicitely set a Null value. This possibility is:</p>\n\n<pre><code>prepStmt.setNull(parameterIndex, Types.VARCHAR);\n</code></pre>\n\n<p>Are the semantics of this call the same as when using a specific setType with a null parameter?</p>\n\n<pre><code>prepStmt.setString(null);\n</code></pre>\n\n<p>?</p>\n"},{"tags":["java","mapstruct"],"owner":{"account_id":15043990,"reputation":1,"user_id":10857744,"display_name":"AHensel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692962816,"creation_date":1692961130,"question_id":76976561,"body_markdown":"We use MapStruct 1.5.3 for class mapping between several layers. One layer has &#39;simple&#39; properties (i.e. int, Integer, BigDecimal, String), the other container properties, where the containers has additional metadata:\r\n\r\n```\r\n@ lombok.Data\r\nclass SimpleClass {\r\n    String name;\r\n    String title;\r\n    [...]\r\n}\r\n```\r\n\r\n```\r\n@ lombok.Data\r\nclass ContaineredClass {\r\n    StringContainer name;\r\n    StringContainer title;\r\n    [...]\r\n}\r\n\r\n@ lombok.Data\r\nclass StringCountainer extends Container&lt;String&gt;{\r\n     String value;\r\n     int allowedMaxLength;\r\n     boolean mandatory;\r\n     [...]\r\n}\r\n```\r\nFor the class mapping we are using the &quot;update&quot; variant:\r\n\r\n```\r\nvoid mapSimpletoContainer(SimpleClass simple, @MappingTarget ContaineredClass containered);\r\n```\r\n\r\nWe do have special &quot;update&quot; functions which are used to update the inner value inside the container, so updating works, even if the source value is NULL (in that case, the inner value is cleared as intended):\r\n\r\n```\r\nclass persistenceUtils {\r\n      public void update(String value, @MappingTarget StringContainer container) {\r\n            container.setValue(value);\r\n      }\r\n}\r\n```\r\n\r\nBefore mapping from SimpleClass to ContaineredClass, we initialise all the containers, esp. setting metadata.\r\n\r\nFor the mapper implementation, MapStruct renders a null check on the target container, but this is no problem, we make sure the target container will never be null.\r\n\r\nUnfortunately, MapStruct also renders a null check on the *source* value before updating, and in case of source-NULL the whole container will be nulled:\r\n\r\n```\r\npublic void mapSimpletoContainer(SimpleClass simple, ContaineredClass containered) {\r\n      [...]\r\n      if ( simple.getName() != null ) { // This IF is the problem\r\n            if ( containered.getName() == null ) {\r\n                containered.setName( new StringContainer() );\r\n            }\r\n            persistenceUtils.update( simple.getName(), containered.setName() );\r\n      }\r\n      else {\r\n            containered.setName( null ); // This is the error\r\n      }\r\n      [...]\r\n}\r\n```\r\n\r\nThis NULL container causes fails. \r\n\r\nHow can one get rid of the outer IF-construct at all?\\\r\n-OR-\\\r\nHow can one cause a special updating for the ELSE part?\\\r\n-OR-\\\r\nWhere a better documentation for the @Condition configuration, esp. how to finetune its configuration for respecting when rendering of the Mapper implementation?\r\n\r\nWe tried NullValuePropertyMappingStrategy.IGNORE, this eliminates the else-branch of the outer if-construct, but this means, in case of NULL the container value will not be altered.\r\n\r\nWe don&#39;t want to add a @Condition for every property, as this is error prone: the set of properties will change over the life of the application.\r\n\r\nWe tried an appropriate global @Condition (which will always return true) but suffered problems to have it used in the Mapper implementation:\r\n\r\n1) catch all\r\n\r\n    ```\r\n    @Condition\r\n    default boolean always(Object value) { return true; }\r\n    ```\r\n\r\n    This catch-all-approach is too broad; it will be used for ALL mappings of the Mapper implementation (we define both directions in the same mapper and would like to keep it that way, but this would certainly be a workaround).\r\n\r\n\r\n2) Narrow by source value class\r\n\r\n    ```\r\n    @Condition\r\n    default boolean always(String value) { return true; }\r\n    ```\r\n\r\n    This is too specific and would needed to be repeated for all &quot;simple&quot; types; but also a workaround.\r\n\r\n3) Using @Mapping target\r\n\r\n    ```\r\n    @Condition\r\n    default boolean always(Object value, @MappingTarget ContaineredClass containered) {\r\n          return true;\r\n    }\r\n    ```\r\n\r\n    This would be preferable, but somehow will not be picked/applied when rendering the Mapper implementation.\r\n","title":"How to instrument correct handling of null source values, when target is custom container (i.e. not List, Map, Optional)?","body":"<p>We use MapStruct 1.5.3 for class mapping between several layers. One layer has 'simple' properties (i.e. int, Integer, BigDecimal, String), the other container properties, where the containers has additional metadata:</p>\n<pre><code>@ lombok.Data\nclass SimpleClass {\n    String name;\n    String title;\n    [...]\n}\n</code></pre>\n<pre><code>@ lombok.Data\nclass ContaineredClass {\n    StringContainer name;\n    StringContainer title;\n    [...]\n}\n\n@ lombok.Data\nclass StringCountainer extends Container&lt;String&gt;{\n     String value;\n     int allowedMaxLength;\n     boolean mandatory;\n     [...]\n}\n</code></pre>\n<p>For the class mapping we are using the &quot;update&quot; variant:</p>\n<pre><code>void mapSimpletoContainer(SimpleClass simple, @MappingTarget ContaineredClass containered);\n</code></pre>\n<p>We do have special &quot;update&quot; functions which are used to update the inner value inside the container, so updating works, even if the source value is NULL (in that case, the inner value is cleared as intended):</p>\n<pre><code>class persistenceUtils {\n      public void update(String value, @MappingTarget StringContainer container) {\n            container.setValue(value);\n      }\n}\n</code></pre>\n<p>Before mapping from SimpleClass to ContaineredClass, we initialise all the containers, esp. setting metadata.</p>\n<p>For the mapper implementation, MapStruct renders a null check on the target container, but this is no problem, we make sure the target container will never be null.</p>\n<p>Unfortunately, MapStruct also renders a null check on the <em>source</em> value before updating, and in case of source-NULL the whole container will be nulled:</p>\n<pre><code>public void mapSimpletoContainer(SimpleClass simple, ContaineredClass containered) {\n      [...]\n      if ( simple.getName() != null ) { // This IF is the problem\n            if ( containered.getName() == null ) {\n                containered.setName( new StringContainer() );\n            }\n            persistenceUtils.update( simple.getName(), containered.setName() );\n      }\n      else {\n            containered.setName( null ); // This is the error\n      }\n      [...]\n}\n</code></pre>\n<p>This NULL container causes fails.</p>\n<p>How can one get rid of the outer IF-construct at all?<br />\n-OR-<br />\nHow can one cause a special updating for the ELSE part?<br />\n-OR-<br />\nWhere a better documentation for the @Condition configuration, esp. how to finetune its configuration for respecting when rendering of the Mapper implementation?</p>\n<p>We tried NullValuePropertyMappingStrategy.IGNORE, this eliminates the else-branch of the outer if-construct, but this means, in case of NULL the container value will not be altered.</p>\n<p>We don't want to add a @Condition for every property, as this is error prone: the set of properties will change over the life of the application.</p>\n<p>We tried an appropriate global @Condition (which will always return true) but suffered problems to have it used in the Mapper implementation:</p>\n<ol>\n<li><p>catch all</p>\n<pre><code>@Condition\ndefault boolean always(Object value) { return true; }\n</code></pre>\n<p>This catch-all-approach is too broad; it will be used for ALL mappings of the Mapper implementation (we define both directions in the same mapper and would like to keep it that way, but this would certainly be a workaround).</p>\n</li>\n<li><p>Narrow by source value class</p>\n<pre><code>@Condition\ndefault boolean always(String value) { return true; }\n</code></pre>\n<p>This is too specific and would needed to be repeated for all &quot;simple&quot; types; but also a workaround.</p>\n</li>\n<li><p>Using @Mapping target</p>\n<pre><code>@Condition\ndefault boolean always(Object value, @MappingTarget ContaineredClass containered) {\n      return true;\n}\n</code></pre>\n<p>This would be preferable, but somehow will not be picked/applied when rendering the Mapper implementation.</p>\n</li>\n</ol>\n"},{"tags":["java","swing","popup","jbutton","popupmenu"],"comments":[{"owner":{"account_id":436678,"reputation":5234,"user_id":823991,"accept_rate":83,"display_name":"John Snow"},"score":0,"creation_date":1333525380,"post_id":10006853,"comment_id":12792672,"body_markdown":"It would be helpful if you posted some code that includes how you create the buttons and the menus. Does the menu hide the button, or do they just &quot;dissapear&quot; ?","body":"It would be helpful if you posted some code that includes how you create the buttons and the menus. Does the menu hide the button, or do they just &quot;dissapear&quot; ?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1333525522,"post_id":10006853,"comment_id":12792714,"body_markdown":"*&quot;Why is it like this?&quot;*  Because of the code used.  For better help sooner, post an [SSCCE](http://sscce.org/).","body":"<i>&quot;Why is it like this?&quot;</i>  Because of the code used.  For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":1367126,"reputation":1154,"user_id":1303334,"accept_rate":60,"display_name":"mbaydar"},"score":0,"creation_date":1333525854,"post_id":10006853,"comment_id":12792802,"body_markdown":"You can add some code so we can understand what is wrong.","body":"You can add some code so we can understand what is wrong."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1333528727,"post_id":10006853,"comment_id":12793640,"body_markdown":"@RahulBorkar *&quot;to receive something personally from you&quot;*  It does not count for much, but you already have.  I regularly see answers from you that make me think *&quot;Great answer, now I don&#39;t have to deal with that.  +1&quot;*.  ;)","body":"@RahulBorkar <i>&quot;to receive something personally from you&quot;</i>  It does not count for much, but you already have.  I regularly see answers from you that make me think <i>&quot;Great answer, now I don&#39;t have to deal with that.  +1&quot;</i>.  ;)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1333529167,"post_id":10006853,"comment_id":12793815,"body_markdown":"*&quot;all the methods here are in the same class&quot;*  Thanks for the edit, but note that I still think you are more likely to get help by posting an **SSCCE**, rather than uncompilable code snippets.","body":"<i>&quot;all the methods here are in the same class&quot;</i>  Thanks for the edit, but note that I still think you are more likely to get help by posting an <b>SSCCE</b>, rather than uncompilable code snippets."},{"owner":{"account_id":1333615,"reputation":1556,"user_id":1276897,"accept_rate":77,"display_name":"Zik"},"score":0,"creation_date":1333529178,"post_id":10006853,"comment_id":12793821,"body_markdown":"my class implements the mouse listener of course","body":"my class implements the mouse listener of course"},{"owner":{"account_id":1333615,"reputation":1556,"user_id":1276897,"accept_rate":77,"display_name":"Zik"},"score":0,"creation_date":1333529217,"post_id":10006853,"comment_id":12793837,"body_markdown":"@AndrewThompson ok. sorry, I&#39;m new here","body":"@AndrewThompson ok. sorry, I&#39;m new here"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1333529301,"post_id":10006853,"comment_id":12793874,"body_markdown":"No need to be sorry.  We were all new at one stage, and some very experienced folk have not heard of an SSCCE.  :)  (In addition to that, many code problems ***are solved*** without an SSCCE.)","body":"No need to be sorry.  We were all new at one stage, and some very experienced folk have not heard of an SSCCE.  :)  (In addition to that, many code problems <b><i>are solved</i></b> without an SSCCE.)"}],"answers":[{"comments":[{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1333537383,"post_id":10009740,"comment_id":12796738,"body_markdown":"@Stephan : Thankyou and Keep Smiling :-) , that `LnF` can be another culprit :(","body":"@Stephan : Thankyou and Keep Smiling :-) , that <code>LnF</code> can be another culprit :("},{"owner":{"account_id":389200,"reputation":4415,"user_id":748524,"accept_rate":95,"display_name":"Stephan"},"score":0,"creation_date":1333537507,"post_id":10009740,"comment_id":12796776,"body_markdown":"This would become even nicer and more dynamically if you use a `JTable` with custom cells. ;-)","body":"This would become even nicer and more dynamically if you use a <code>JTable</code> with custom cells. ;-)"},{"owner":{"account_id":1333615,"reputation":1556,"user_id":1276897,"accept_rate":77,"display_name":"Zik"},"score":0,"creation_date":1333537556,"post_id":10009740,"comment_id":12796799,"body_markdown":"The black grid behind the buttons is just because of paint method. Thank you very much! I will experiment with this code.","body":"The black grid behind the buttons is just because of paint method. Thank you very much! I will experiment with this code."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1333537872,"post_id":10009740,"comment_id":12796914,"body_markdown":"@Marvin : Try this latest code, I had added Border to it, why you using `paint(...)` method, any specific reason for that, since in `Swing` never override `paint(...)` always override `paintComponent(...)` if the said `JComponent` has one. You are MOST Welcome and Keep Smiling :-)","body":"@Marvin : Try this latest code, I had added Border to it, why you using <code>paint(...)</code> method, any specific reason for that, since in <code>Swing</code> never override <code>paint(...)</code> always override <code>paintComponent(...)</code> if the said <code>JComponent</code> has one. You are MOST Welcome and Keep Smiling :-)"},{"owner":{"account_id":1333615,"reputation":1556,"user_id":1276897,"accept_rate":77,"display_name":"Zik"},"score":0,"creation_date":1333539112,"post_id":10009740,"comment_id":12797376,"body_markdown":"Ok I will take note of that, but why should you never override paint? I&#39;d just like to ask. And also calling repaint() calls paint() not paintComponent(), am I right? or not? I&#39;m just a beginner in Java. :)","body":"Ok I will take note of that, but why should you never override paint? I&#39;d just like to ask. And also calling repaint() calls paint() not paintComponent(), am I right? or not? I&#39;m just a beginner in Java. :)"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1333539233,"post_id":10009740,"comment_id":12797418,"body_markdown":"More than me, [Java Docs](http://docs.oracle.com/javase/tutorial/uiswing/painting/problems.html) can help you on this, why `paintComponent(...)`","body":"More than me, <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/problems.html\" rel=\"nofollow noreferrer\">Java Docs</a> can help you on this, why <code>paintComponent(...)</code>"}],"tags":[],"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1333537748,"creation_date":1333537131,"answer_id":10009740,"question_id":10006853,"body_markdown":"Stop using `null` Layout, seems like that can be one of the issues regarding this. Your `JFrame` appears sort of `BLACK` to me, is this some `THEME` or a new `LOOK AND FEEL` you are using, that can be the cause of this thing too. Here check this out, it&#39;s working flawlessly here with this code : \r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ButtonPopUp\r\n    {\r\n    \tprivate static final int SIZE = 30;\r\n    \tprivate JButton[] button = new JButton[SIZE];\r\n    \tprivate JPopupMenu popup = new JPopupMenu(&quot;Hello World&quot;);\r\n    \t\r\n    \tprivate void createAndDisplayGUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;Button POP UP Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\t\r\n    \t\tfinal JPanel contentPane = new JPanel();\r\n    \t\tcontentPane.setLayout(new GridLayout(0, 5));\r\n    \t\t\r\n    \t\tJMenuItem menuItem1 = new JMenuItem(&quot;Menu Item 1&quot;);\r\n    \t\tJMenuItem menuItem2 = new JMenuItem(&quot;Menu Item 2&quot;);\r\n    \t\t//popup.add(greetings);\r\n    \t\tpopup.insert(menuItem1, 0);\r\n    \t\tpopup.insert(menuItem2, 1);\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; SIZE; i++)\r\n    \t\t{\r\n    \t\t\tbutton[i] = new JButton();\r\n    \t\t\tbutton[i].setBorder(BorderFactory.createEtchedBorder());\r\n    \t\t\tbutton[i].addMouseListener(new MouseAdapter()\r\n                {\r\n                \tpublic void mouseClicked(MouseEvent me)\r\n                \t{\r\n                \t\tSystem.out.println(&quot;I am WORKING!!&quot;);\r\n                \t\tpopup.show((JComponent)me.getSource(), me.getX(), me.getY());\r\n                \t}\r\n                });\r\n                contentPane.add(button[i]);\r\n    \t\t}\r\n    \t\t\r\n    \t\tframe.getContentPane().add(contentPane);\r\n    \t\tframe.setSize(175, 250);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String... args)\r\n    \t{\r\n    \t\tSwingUtilities.invokeLater(new Runnable()\r\n            {\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tnew ButtonPopUp().createAndDisplayGUI();\r\n    \t\t\t}\r\n            });\r\n    \t}\r\n    }\r\n\r\nHere is the output : \r\n\r\n![Before Event][1] ![After Event][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VgBwG.png\r\n  [2]: http://i.stack.imgur.com/CFWLF.png","title":"JButtons disappear after the popup menu shows","body":"<p>Stop using <code>null</code> Layout, seems like that can be one of the issues regarding this. Your <code>JFrame</code> appears sort of <code>BLACK</code> to me, is this some <code>THEME</code> or a new <code>LOOK AND FEEL</code> you are using, that can be the cause of this thing too. Here check this out, it's working flawlessly here with this code : </p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class ButtonPopUp\n{\n    private static final int SIZE = 30;\n    private JButton[] button = new JButton[SIZE];\n    private JPopupMenu popup = new JPopupMenu(\"Hello World\");\n\n    private void createAndDisplayGUI()\n    {\n        JFrame frame = new JFrame(\"Button POP UP Example\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.setLocationByPlatform(true);\n\n        final JPanel contentPane = new JPanel();\n        contentPane.setLayout(new GridLayout(0, 5));\n\n        JMenuItem menuItem1 = new JMenuItem(\"Menu Item 1\");\n        JMenuItem menuItem2 = new JMenuItem(\"Menu Item 2\");\n        //popup.add(greetings);\n        popup.insert(menuItem1, 0);\n        popup.insert(menuItem2, 1);\n\n        for (int i = 0; i &lt; SIZE; i++)\n        {\n            button[i] = new JButton();\n            button[i].setBorder(BorderFactory.createEtchedBorder());\n            button[i].addMouseListener(new MouseAdapter()\n            {\n                public void mouseClicked(MouseEvent me)\n                {\n                    System.out.println(\"I am WORKING!!\");\n                    popup.show((JComponent)me.getSource(), me.getX(), me.getY());\n                }\n            });\n            contentPane.add(button[i]);\n        }\n\n        frame.getContentPane().add(contentPane);\n        frame.setSize(175, 250);\n        frame.setVisible(true);\n    }\n\n    public static void main(String... args)\n    {\n        SwingUtilities.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                new ButtonPopUp().createAndDisplayGUI();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Here is the output : </p>\n\n<p><img src=\"https://i.stack.imgur.com/VgBwG.png\" alt=\"Before Event\"> <img src=\"https://i.stack.imgur.com/CFWLF.png\" alt=\"After Event\"></p>\n"}],"owner":{"account_id":1333615,"reputation":1556,"user_id":1276897,"accept_rate":77,"display_name":"Zik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10009740,"answer_count":1,"score":2,"last_activity_date":1692962792,"creation_date":1333525221,"question_id":10006853,"body_markdown":"I added listeners to my JButtons for the popup menu but when the popup menu appears the JButtons disappear and I would need to hover my cursor on the buttons to make them appear again. Why is it like this?\r\n\r\n(all the methods here are in the same class)\r\n\r\n    public Inventory() {\r\n\t\tsetLayout(null);\r\n\t\tsetBounds(0, 0, 175, 210);\r\n\t\t\r\n\t\tinitPopupMenu(); // this just sets what is inside the popup menu\r\n\t\tint x;\r\n                // 30 buttons\r\n\t\tfor(x = 0; x &lt; 30; x++) {\r\n\t\t\tbutton[x] = new JButton();\r\n\t\t\tadd(button[x]);\r\n\t\t\tbutton[x].addMouseListener(this);\r\n\t\t}\r\n\r\n\t\tx = 0;\r\n                // it&#39;s a grid of buttons\r\n\t\tfor(int i = 0; i &lt; 5; i++) \r\n\t\t\tfor(int j = 0; j &lt; 6; j++) {\r\n\t\t\t\tbutton[x].setBounds(i*35+1,j*35+1, 33,33);\t\r\n\t\t\t\tx++;\r\n\t\t\t}\r\n\t\t\r\n\t\t\r\n    }\r\n\r\n    public void mouseClicked(MouseEvent e) {\r\n\t\tfor(int j = 0; j &lt; 30; j++) // i tried this one but it still disappears\r\n\t\t\tbutton[j].repaint();\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; 30; i++) {\r\n\t\t\tif(e.getSource() == button[i]) {\r\n\t\t\t\tSystem.out.println(&quot;You pressed Button &quot;+i);\r\n\t\t\t\tpopup.show(e.getComponent(), e.getX(), e.getY());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThis is what happens, [![jbuttons][1]][1]  \n&lt;sub&gt;(source: [uploadir.com](https://uploadir.com/u/115577))&lt;/sub&gt;  \n\r\n[![popup][2]][2]  \n&lt;sub&gt;(source: [uploadir.com](https://uploadir.com/u/4h9t6n))&lt;/sub&gt;  \n\n\n [1]: https://i.stack.imgur.com/u7NnP.jpg\n [2]: https://i.stack.imgur.com/kQwUe.jpg","title":"JButtons disappear after the popup menu shows","body":"<p>I added listeners to my JButtons for the popup menu but when the popup menu appears the JButtons disappear and I would need to hover my cursor on the buttons to make them appear again. Why is it like this?</p>\n<p>(all the methods here are in the same class)</p>\n<pre><code>public Inventory() {\n    setLayout(null);\n    setBounds(0, 0, 175, 210);\n    \n    initPopupMenu(); // this just sets what is inside the popup menu\n    int x;\n            // 30 buttons\n    for(x = 0; x &lt; 30; x++) {\n        button[x] = new JButton();\n        add(button[x]);\n        button[x].addMouseListener(this);\n    }\n\n    x = 0;\n            // it's a grid of buttons\n    for(int i = 0; i &lt; 5; i++) \n        for(int j = 0; j &lt; 6; j++) {\n            button[x].setBounds(i*35+1,j*35+1, 33,33);  \n            x++;\n        }\n    \n    \n}\n\npublic void mouseClicked(MouseEvent e) {\n    for(int j = 0; j &lt; 30; j++) // i tried this one but it still disappears\n        button[j].repaint();\n    \n    for(int i = 0; i &lt; 30; i++) {\n        if(e.getSource() == button[i]) {\n            System.out.println(&quot;You pressed Button &quot;+i);\n            popup.show(e.getComponent(), e.getX(), e.getY());\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>This is what happens, <a href=\"https://i.stack.imgur.com/u7NnP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u7NnP.jpg\" alt=\"jbuttons\" /></a><br />\n<sub>(source: <a href=\"https://uploadir.com/u/115577\" rel=\"nofollow noreferrer\">uploadir.com</a>)</sub></p>\n<p><a href=\"https://i.stack.imgur.com/kQwUe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kQwUe.jpg\" alt=\"popup\" /></a><br />\n<sub>(source: <a href=\"https://uploadir.com/u/4h9t6n\" rel=\"nofollow noreferrer\">uploadir.com</a>)</sub></p>\n"},{"tags":["java","maven","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":10807091,"reputation":972,"user_id":7949076,"display_name":"coffman21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692962744,"creation_date":1692962744,"answer_id":76976756,"question_id":76976675,"body_markdown":"After digging a while on docs page, I found [this setting][1]:\r\n\r\n&gt; `&lt;systemPropertyVariables&gt;`  \r\n&gt; List of System properties to pass to a provider.\r\n\r\nThat worked, however special properties like `-Xmx` [must be set up externally:][2]  \r\n&gt; Some system properties must be set on the command line of the forked VM, and cannot be set after the VM has been started. These properties must be added to the `argLine` parameter of the Surefire plugin.\r\n\r\nSo my plugin configuration now looks like:\r\n``` lang-pom\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n        &lt;systemPropertyVariables&gt;\r\n            &lt;spring.profiles.active&gt;${spring.profiles.active}&lt;/spring.profiles.active&gt;\r\n        &lt;/systemPropertyVariables&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#systempropertyvariables\r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/system-properties.html#special-vm-properties\r\n\r\n","title":"maven-surefire-plugin ignores argLine when setting forkCount=0","body":"<p>After digging a while on docs page, I found <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#systempropertyvariables\" rel=\"nofollow noreferrer\">this setting</a>:</p>\n<blockquote>\n<p><code>&lt;systemPropertyVariables&gt;</code><br />\nList of System properties to pass to a provider.</p>\n</blockquote>\n<p>That worked, however special properties like <code>-Xmx</code> <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/system-properties.html#special-vm-properties\" rel=\"nofollow noreferrer\">must be set up externally:</a></p>\n<blockquote>\n<p>Some system properties must be set on the command line of the forked VM, and cannot be set after the VM has been started. These properties must be added to the <code>argLine</code> parameter of the Surefire plugin.</p>\n</blockquote>\n<p>So my plugin configuration now looks like:</p>\n<pre class=\"lang-pom prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;forkCount&gt;0&lt;/forkCount&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;spring.profiles.active&gt;${spring.profiles.active}&lt;/spring.profiles.active&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":10807091,"reputation":972,"user_id":7949076,"display_name":"coffman21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692962744,"creation_date":1692962100,"question_id":76976675,"body_markdown":"I want to update build of my project to not forking process, due to limitation of provided build agents. We run two profiles on each build, with different databases used for testing, each profile set system property like so:\r\n\r\n``` lang-pom\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;argLine&gt;-Dspring.profiles.active=${spring.profiles.active}&lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;profiles&gt;\r\n    &lt;profile&gt;\r\n        &lt;id&gt;ignite&lt;/id&gt;\r\n        &lt;properties&gt;\r\n            &lt;spring.profiles.active&gt;ignite&lt;/spring.profiles.active&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n    &lt;profile&gt;\r\n        &lt;id&gt;oracle&lt;/id&gt;\r\n        &lt;properties&gt;\r\n            &lt;spring.profiles.active&gt;oracle&lt;/spring.profiles.active&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\nThen different Spring configurations are used depending on `@Profile`.  \r\nNow I want to run tests without forking VM, so I configure plugin accordingly:\r\n```  lang-pom\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n        &lt;argLine&gt;-Dspring.profiles.active=${spring.profiles.active}&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nHowever, surefire-plugin does not use `argLine` on tests run, resulting in empty `spring.profiles.active` system property failure of tests on incomplete configured project. How  do I work this around?","title":"maven-surefire-plugin ignores argLine when setting forkCount=0","body":"<p>I want to update build of my project to not forking process, due to limitation of provided build agents. We run two profiles on each build, with different databases used for testing, each profile set system property like so:</p>\n<pre class=\"lang-pom prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;-Dspring.profiles.active=${spring.profiles.active}&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;ignite&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;ignite&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;oracle&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;oracle&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Then different Spring configurations are used depending on <code>@Profile</code>.<br />\nNow I want to run tests without forking VM, so I configure plugin accordingly:</p>\n<pre class=\"lang-pom prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;forkCount&gt;0&lt;/forkCount&gt;\n        &lt;argLine&gt;-Dspring.profiles.active=${spring.profiles.active}&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However, surefire-plugin does not use <code>argLine</code> on tests run, resulting in empty <code>spring.profiles.active</code> system property failure of tests on incomplete configured project. How  do I work this around?</p>\n"},{"tags":["java","docker","gitlab-ci"],"answers":[{"comments":[{"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"score":0,"creation_date":1644852364,"post_id":71112311,"comment_id":125708866,"body_markdown":"Thanks, it works but I get this error: &quot; unknown initscript, /etc/init.d/docker not found.&quot; so if I run &quot;service docker status&quot; system returns me the error &quot;docker: unrecognized service&quot;. Any recommendation?","body":"Thanks, it works but I get this error: &quot; unknown initscript, /etc/init.d/docker not found.&quot; so if I run &quot;service docker status&quot; system returns me the error &quot;docker: unrecognized service&quot;. Any recommendation?"},{"owner":{"account_id":7575391,"reputation":32369,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1644880676,"post_id":71112311,"comment_id":125718086,"body_markdown":"@Rafael the docker daemon runs on the remote `docker:dind` service, not locally. So it won&#39;t be found in init.d or running services. You only need the docker _client_ not the docker _daemon_.","body":"@Rafael the docker daemon runs on the remote <code>docker:dind</code> service, not locally. So it won&#39;t be found in init.d or running services. You only need the docker <i>client</i> not the docker <i>daemon</i>."},{"owner":{"account_id":410026,"reputation":1821,"user_id":781610,"accept_rate":75,"display_name":"Niranjan"},"score":0,"creation_date":1691583427,"post_id":71112311,"comment_id":135510814,"body_markdown":"@sytech I have a similar issue as @Rafael ., I see an error `Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?`  when i would like to build a docker image.  docker -version is giving the response though.","body":"@sytech I have a similar issue as @Rafael ., I see an error <code>Cannot connect to the Docker daemon at unix:&#47;&#47;&#47;var&#47;run&#47;docker.sock. Is the docker daemon running?</code>  when i would like to build a docker image.  docker -version is giving the response though."},{"owner":{"account_id":410026,"reputation":1821,"user_id":781610,"accept_rate":75,"display_name":"Niranjan"},"score":0,"creation_date":1691589308,"post_id":71112311,"comment_id":135512181,"body_markdown":"added the /var/run/docker.sock` to the volumes section under [runners.docker]  in `config.toml`  to fix the issue, Reference :   `volumes = [&quot;/var/run/docker.sock:/var/run/docker.sock&quot;, &quot;/certs/client&quot;, &quot;/cache&quot;]`","body":"added the /var/run/docker.sock` to the volumes section under [runners.docker]  in <code>config.toml</code>  to fix the issue, Reference :   <code>volumes = [&quot;&#47;var&#47;run&#47;docker.sock:&#47;var&#47;run&#47;docker.sock&quot;, &quot;&#47;certs&#47;client&quot;, &quot;&#47;cache&quot;]</code>"},{"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"score":0,"creation_date":1692962164,"post_id":71112311,"comment_id":135699415,"body_markdown":"Hi @Niranjan, in our case we finally realized that out gitlab runner has locked the docker-in-docker so we couldn&#39;t start testcontainer for aur test in gitlab. \n\nOur solution was to use the kafka a postresql services provided by gitlab: https://docs.gitlab.com/ee/ci/services/","body":"Hi @Niranjan, in our case we finally realized that out gitlab runner has locked the docker-in-docker so we couldn&#39;t start testcontainer for aur test in gitlab.   Our solution was to use the kafka a postresql services provided by gitlab: <a href=\"https://docs.gitlab.com/ee/ci/services/\" rel=\"nofollow noreferrer\">docs.gitlab.com/ee/ci/services</a>"}],"tags":[],"owner":{"account_id":7575391,"reputation":32369,"user_id":5747944,"display_name":"sytech"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644843628,"creation_date":1644843628,"answer_id":71112311,"question_id":71109409,"body_markdown":"The image `gradle:jdk16` does not include the docker client. You&#39;ll have to install it in your job. Additionally, you&#39;ll need to use the service `docker:dind` in your `services:` configuration (not `docker:latest`)\r\n\r\n```yaml\r\ntest:\r\n  stage: test\r\n  image: gradle:jdk16\r\n  services:\r\n    - docker:dind # use the docker-in-docker image\r\n  before_script: # install docker\r\n    - apt update &amp;&amp; apt install --no-install-recommends -y docker.io  \r\n  script:\r\n    - docker --version\r\n```\r\n\r\nRunning this on gitlab.com runners, you should see an output like this:\r\n\r\n[![job on gitlab.com][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KCNKM.png","title":"Gitlab-ci docker inside java image","body":"<p>The image <code>gradle:jdk16</code> does not include the docker client. You'll have to install it in your job. Additionally, you'll need to use the service <code>docker:dind</code> in your <code>services:</code> configuration (not <code>docker:latest</code>)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>test:\n  stage: test\n  image: gradle:jdk16\n  services:\n    - docker:dind # use the docker-in-docker image\n  before_script: # install docker\n    - apt update &amp;&amp; apt install --no-install-recommends -y docker.io  \n  script:\n    - docker --version\n</code></pre>\n<p>Running this on gitlab.com runners, you should see an output like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KCNKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KCNKM.png\" alt=\"job on gitlab.com\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692962276,"creation_date":1692962276,"answer_id":76976701,"question_id":71109409,"body_markdown":"We finally realized that our gitlab runner had locked the docker-in-docker so we couldn&#39;t start testcontainer for aur test in gitlab. Our solution was to use the kafka a postresql services provided by gitlab:\r\n\r\n\r\nhttps://docs.gitlab.com/ee/ci/services/","title":"Gitlab-ci docker inside java image","body":"<p>We finally realized that our gitlab runner had locked the docker-in-docker so we couldn't start testcontainer for aur test in gitlab. Our solution was to use the kafka a postresql services provided by gitlab:</p>\n<p><a href=\"https://docs.gitlab.com/ee/ci/services/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/ci/services/</a></p>\n"}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76976701,"answer_count":2,"score":0,"last_activity_date":1692962276,"creation_date":1644829853,"question_id":71109409,"body_markdown":"To use a integration test library https://www.testcontainers.org/&quot; I need a image with java a docker installed at same time.\r\n\r\nI&#39;m trying o use this stage:\r\n```\r\ntest:\r\n  stage: test\r\n  image: gradle:jdk16\r\n  services:\r\n    - docker:latest\r\n  script:\r\n    - docker --version\r\n    - chmod +x ./gradlew\r\n    - export GRADLE_USER_HOME=`pwd`/.gradle\r\n    - ./gradlew test  --stacktrace\r\n  rules:\r\n    - !reference [.rules_merge_request, rules]\r\n```\r\nBut It does not work:\r\n```\r\n$ docker --version\r\n/scripts-33119345-2089057982/step_script: line 154: docker: command not found\r\n```\r\n\r\nAny help?","title":"Gitlab-ci docker inside java image","body":"<p>To use a integration test library <a href=\"https://www.testcontainers.org/%22\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/&quot;</a> I need a image with java a docker installed at same time.</p>\n<p>I'm trying o use this stage:</p>\n<pre><code>test:\n  stage: test\n  image: gradle:jdk16\n  services:\n    - docker:latest\n  script:\n    - docker --version\n    - chmod +x ./gradlew\n    - export GRADLE_USER_HOME=`pwd`/.gradle\n    - ./gradlew test  --stacktrace\n  rules:\n    - !reference [.rules_merge_request, rules]\n</code></pre>\n<p>But It does not work:</p>\n<pre><code>$ docker --version\n/scripts-33119345-2089057982/step_script: line 154: docker: command not found\n</code></pre>\n<p>Any help?</p>\n"},{"tags":["java","spring","dependencies","autowired","circular-dependency"],"answers":[{"comments":[{"owner":{"account_id":26110461,"reputation":1,"user_id":19804483,"display_name":"CraigL"},"score":0,"creation_date":1661250442,"post_id":73442862,"comment_id":129721490,"body_markdown":"Just want to say thanks for the response.  Trying to work out if I should redesign (which would take some work -in retrospect having allowed circular dependencies being true wasn&#39;t a wise decision, but also something I wasn&#39;t aware of when I was using an earlier version of Spring.  I&#39;m trying to work out the uses of lazy initialization, allowing circular dependencies to be true and whether or not I call a method on an autowired dependency which can affect things....","body":"Just want to say thanks for the response.  Trying to work out if I should redesign (which would take some work -in retrospect having allowed circular dependencies being true wasn&#39;t a wise decision, but also something I wasn&#39;t aware of when I was using an earlier version of Spring.  I&#39;m trying to work out the uses of lazy initialization, allowing circular dependencies to be true and whether or not I call a method on an autowired dependency which can affect things...."}],"tags":[],"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661163430,"creation_date":1661160245,"answer_id":73442862,"question_id":73421264,"body_markdown":"Circular Dependencies are usually a sign of bad design and should be avoided, as you correctly mentioned. To improve your design you might want to get familiar with the SOLID principles. Especially, the Single Responsibility Principle. \r\n\r\nFrom your description, ServiceB seems to be doing more than one thing. It validates your event and makes sure a ServiceC is called to created a new event. Instead you could have both ServiceB and ServiceC as dependencies of ServiceA. That would get rid of your circular dependency. Maybe this helps: \r\n\r\n    void process(Event event) {\r\n      if(!serviceB.isValid(event)) {\r\n        Event correctedEvent = serviceC.correctEvent(event);\r\n        processValidEvent(correctedEvent);\r\n      }\r\n      processValidEvent(event);\r\n    }","title":"Circular dependencies solutions?","body":"<p>Circular Dependencies are usually a sign of bad design and should be avoided, as you correctly mentioned. To improve your design you might want to get familiar with the SOLID principles. Especially, the Single Responsibility Principle.</p>\n<p>From your description, ServiceB seems to be doing more than one thing. It validates your event and makes sure a ServiceC is called to created a new event. Instead you could have both ServiceB and ServiceC as dependencies of ServiceA. That would get rid of your circular dependency. Maybe this helps:</p>\n<pre><code>void process(Event event) {\n  if(!serviceB.isValid(event)) {\n    Event correctedEvent = serviceC.correctEvent(event);\n    processValidEvent(correctedEvent);\n  }\n  processValidEvent(event);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8742544,"reputation":33,"user_id":6539123,"display_name":"singla_02"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692962138,"creation_date":1692957363,"answer_id":76976142,"question_id":73421264,"body_markdown":"Service C requires Service A but it not necessarily has to be a blocker for its instance creation. Instead of autowiring Service A in Service C, declare it as non-final field. A setter method to be exposed which could be called from `@PostConstruct` of Service A. Hence, service A is providing its instance to Service C after creation.\r\n\r\nRef: [Circular Dependencies in Spring][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/circular-dependencies-in-spring#4-use-postconstruct","title":"Circular dependencies solutions?","body":"<p>Service C requires Service A but it not necessarily has to be a blocker for its instance creation. Instead of autowiring Service A in Service C, declare it as non-final field. A setter method to be exposed which could be called from <code>@PostConstruct</code> of Service A. Hence, service A is providing its instance to Service C after creation.</p>\n<p>Ref: <a href=\"https://www.baeldung.com/circular-dependencies-in-spring#4-use-postconstruct\" rel=\"nofollow noreferrer\">Circular Dependencies in Spring</a></p>\n"}],"owner":{"account_id":26110461,"reputation":1,"user_id":19804483,"display_name":"CraigL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692962138,"creation_date":1660936135,"question_id":73421264,"body_markdown":"I recently upgraded to the latest Spring, and I&#39;m now getting circular dependencies issues (I know the default is now no longer true to allow for circular dependencies) but even setting it to true still causes issues...  A perfect time to update my code:\r\n\r\nMy problem is this (where serviceA is autowired and has autowired service B, service B has autowired serviceC, service C has autowired serviceA):\r\n\r\n  \r\n\r\n      ---&gt;---serviceA\r\n      |\t       |\t\r\n      |       \\/\r\n      |\t    serviceB\r\n      |\t       |\r\n      |       \\/\r\n      ---&lt;---serviceC\r\n\r\n  \r\n\r\nThe above (very simplified) scenario could be that ServiceA processes an event.  Service B checks the event -if it&#39;s not valid it sends it to ServiceC that creates a corrected event and resubmits to ServiceA....  I want the services to be singletons (and autowiring seems to provide the perfect answer with singletons in a context)\r\n\r\nI&#39;ve tried using autowired setters and lazy initialization but no luck and am still getting circular dependencies.  I know the documentation says to not use circular dependencies -which obviously I would prefer -but what is the best way to do this? Or can I not use autowiring and have to use a singleton pattern in serviceA to get it from within serviceC?  And in which case if I have any other autowiring in serviceA (such as the autowired serviceB!), I then have to apply a singleton pattern to serviceB, etc, etc (which would be a pain as wouldn&#39;t this negate the advantage of using autowiring?).","title":"Circular dependencies solutions?","body":"<p>I recently upgraded to the latest Spring, and I'm now getting circular dependencies issues (I know the default is now no longer true to allow for circular dependencies) but even setting it to true still causes issues...  A perfect time to update my code:</p>\n<p>My problem is this (where serviceA is autowired and has autowired service B, service B has autowired serviceC, service C has autowired serviceA):</p>\n<pre><code>  ---&gt;---serviceA\n  |        |    \n  |       \\/\n  |     serviceB\n  |        |\n  |       \\/\n  ---&lt;---serviceC\n</code></pre>\n<p>The above (very simplified) scenario could be that ServiceA processes an event.  Service B checks the event -if it's not valid it sends it to ServiceC that creates a corrected event and resubmits to ServiceA....  I want the services to be singletons (and autowiring seems to provide the perfect answer with singletons in a context)</p>\n<p>I've tried using autowired setters and lazy initialization but no luck and am still getting circular dependencies.  I know the documentation says to not use circular dependencies -which obviously I would prefer -but what is the best way to do this? Or can I not use autowiring and have to use a singleton pattern in serviceA to get it from within serviceC?  And in which case if I have any other autowiring in serviceA (such as the autowired serviceB!), I then have to apply a singleton pattern to serviceB, etc, etc (which would be a pain as wouldn't this negate the advantage of using autowiring?).</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-data-r2dbc","blockhound"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692964872,"post_id":76976622,"comment_id":135700038,"body_markdown":"As stacktrace shows, you have Hibernate trying to replace a message placesholder with data in classpath, and to do so it needs an IO operation, which is blocking","body":"As stacktrace shows, you have Hibernate trying to replace a message placesholder with data in classpath, and to do so it needs an IO operation, which is blocking"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1693234064,"post_id":76976622,"comment_id":135729904,"body_markdown":"Can you share with us, please, your `ServicesApi.getServiceIntegrations()` which is marked with `@Validated`?","body":"Can you share with us, please, your <code>ServicesApi.getServiceIntegrations()</code> which is marked with <code>@Validated</code>?"}],"owner":{"account_id":8921227,"reputation":1,"user_id":6673576,"display_name":"Ifeanyi Onyejekwe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692961630,"creation_date":1692961630,"question_id":76976622,"body_markdown":"I added postgres support to my application, but when I try to run the tests, I keep getting a blocking call error from blockhound, and I&#39;m not sure why this is happening. The application it&#39;s runs fine, only the tests fail with the blocking call error. \r\n\r\nThese are my app dependencies:\r\n\r\n        plugins {\r\n        id &#39;org.springframework.boot&#39;\r\n    }\r\n    \r\n        dependencies {\r\n            annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n            testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n            compileOnly &#39;org.projectlombok:lombok&#39;\r\n            testCompileOnly &#39;org.projectlombok:lombok&#39;\r\n        implementation &#39;io.projectreactor:reactor-tools&#39;\r\n    \r\n        implementation &#39;software.amazon.awssdk:dynamodb-enhanced&#39;\r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-redis-reactive&#39;\r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;io.r2dbc:r2dbc-postgresql&#39;\r\n        implementation &#39;org.postgresql:postgresql&#39;\r\n        implementation &#39;org.flywaydb:flyway-core&#39;\r\n    \r\n        implementation &#39;com.github.bsideup.liiklus:client&#39;\r\n    \r\n        implementation &#39;com.auth0:java-jwt&#39;\r\n    \r\n        implementation &#39;org.springdoc:springdoc-openapi-webflux-core&#39;\r\n        implementation &#39;org.springdoc:springdoc-openapi-security&#39;\r\n        implementation &#39;org.springdoc:springdoc-openapi-webflux-ui&#39;\r\n    \r\n        runtimeOnly &#39;io.sentry:sentry-logback&#39;\r\n    \r\n        testRuntimeOnly &#39;io.sentry:sentry-logback&#39;\r\n    \r\n        testImplementation &#39;com.amazonaws:aws-java-sdk-dynamodb&#39;\r\n        testImplementation &#39;com.github.bsideup.liiklus:testing&#39;\r\n        testImplementation &#39;io.projectreactor.tools:blockhound-junit-platform&#39;\r\n        testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n        testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n        testImplementation &#39;org.assertj:assertj-core&#39;\r\n        testImplementation &#39;org.awaitility:awaitility&#39;\r\n        testImplementation &#39;org.bouncycastle:bcprov-jdk15on&#39;\r\n        testImplementation &#39;org.mock-server:mockserver-client-java&#39;\r\n        testImplementation &#39;org.mock-server:mockserver-netty&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.testcontainers:localstack&#39;\r\n        testImplementation &quot;org.testcontainers:testcontainers&quot;\r\n        testImplementation &#39;org.testcontainers:mockserver&#39;\r\n        testImplementation &quot;org.testcontainers:junit-jupiter&quot;\r\n    \r\n        testImplementation &quot;org.testcontainers:postgresql&quot;\r\n        testImplementation &quot;org.testcontainers:r2dbc&quot;\r\n    \r\n        testRuntimeOnly &quot;net.java.dev.jna:jna:5.12.1&quot;\r\n    \r\n        //http://github.com/gradle/gradle/issues/8806 requires platform launcher in test runtime explicitly\r\n        testRuntimeOnly &#39;org.junit.platform:junit-platform-launcher&#39;\r\n    }\r\n\r\nThen I added these dependencies in the project build.gradle:\r\n\r\n            dependency &#39;io.r2dbc:r2dbc-postgresql:0.8.12.RELEASE&#39;\r\n            dependency &#39;org.flywaydb:flyway-core:8.5.10&#39;\r\n            testImplementation &#39;org.postgresql:postgresql&#39;\r\n\r\n\r\nThen I have a test container logic like so:\r\n\r\n    var jdbcUrl = postgresqlContainer.getJdbcUrl();\r\n        var r2dbcUrl = jdbcUrl.replaceAll(&quot;jdbc&quot;, &quot;r2dbc&quot;);\r\n\r\n        log.info(&quot;Set JDBC url: {}&quot;, jdbcUrl);\r\n        log.info(&quot;Set R2DBC url: {}&quot;, r2dbcUrl);\r\n\r\n        System.getProperties().put(&quot;spring.flyway.url&quot;, jdbcUrl);\r\n        System.getProperties().put(&quot;spring.r2dbc.url&quot;, r2dbcUrl);\r\n\r\n        Flyway flyway = Flyway.configure().dataSource(\r\n                postgresqlContainer.getJdbcUrl(),\r\n                postgresqlContainer.getUsername(),\r\n                postgresqlContainer.getPassword()\r\n        ).load();\r\n\r\n        flyway.migrate();\r\n\r\nFinally I had some configurations in app.yml, for setting test postgres url and credentials. And that&#39;s basically it. But when I run the tests, I get this error/stack trace:\r\n\r\n        reactor.blockhound.BlockingOperationError: Blocking call! java.io.RandomAccessFile#readBytes\r\n    \tat java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Assembly trace from producer [reactor.core.publisher.MonoFlatMap] :\r\n    \treactor.core.publisher.Mono.flatMap\r\n    \torg.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\r\n    Error has been observed at the following site(s):\r\n    \t|_           Mono.flatMap  at org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\r\n    \t|_                         at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$1(RequestMappingHandlerAdapter.java:199)\r\n    \t|_             Mono.defer  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\r\n    \t|_              Mono.then  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\r\n    \t|_          Mono.doOnNext  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:200)\r\n    \t|_          Mono.doOnNext  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:201)\r\n    \t|_             Mono.error  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handleException(RequestMappingHandlerAdapter.java:235)\r\n    \t|_                         at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$0(RequestMappingHandlerAdapter.java:195)\r\n    \t|_     Mono.onErrorResume  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:202)\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_     Mono.switchIfEmpty  at org.springframework.security.web.server.authorization.AuthorizationWebFilter.filter(AuthorizationWebFilter.java:55)\r\n    \t|_             checkpoint  org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_     Mono.onErrorResume  at org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.filter(ExceptionTranslationWebFilter.java:44)\r\n    \t|_             checkpoint  org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_              Mono.then  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\r\n    \t|_     Mono.switchIfEmpty  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\r\n    \t|_               Mono.map  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\r\n    \t|_           Mono.flatMap  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\r\n    \t|_           Mono.flatMap  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\r\n    \t|_             checkpoint  org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.lambda$filter$1(ServerRequestCacheWebFilter.java:39)\r\n    \t|_           Mono.flatMap  at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.filter(ServerRequestCacheWebFilter.java:39)\r\n    \t|_             checkpoint  org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter.filter(SecurityContextServerWebExchangeWebFilter.java:38)\r\n    \t|_             checkpoint  org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.security.web.server.authentication.WebFilterChainServerAuthenticationSuccessHandler.onAuthenticationSuccess(WebFilterChainServerAuthenticationSuccessHandler.java:36)\r\n    \t|_              Mono.then  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:135)\r\n    \t|_ Mono.subscriberContext  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:136)\r\n    \t|_                         at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$authenticate$7(AuthenticationWebFilter.java:124)\r\n    \t|_           Mono.flatMap  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:124)\r\n    \t|_         Mono.doOnError  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:126)\r\n    \t|_                         at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$filter$3(AuthenticationWebFilter.java:114)\r\n    \t|_           Mono.flatMap  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:114)\r\n    \t|_     Mono.onErrorResume  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:115)\r\n    \t|_             checkpoint  org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_ Mono.subscriberContext  at org.springframework.security.web.server.context.ReactorContextWebFilter.filter(ReactorContextWebFilter.java:47)\r\n    \t|_             checkpoint  org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.security.web.server.csrf.CsrfWebFilter.lambda$continueFilterChain$10(CsrfWebFilter.java:165)\r\n    \t|_             Mono.defer  at org.springframework.security.web.server.csrf.CsrfWebFilter.continueFilterChain(CsrfWebFilter.java:162)\r\n    \t|_              Mono.then  at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\r\n    \t|_     Mono.switchIfEmpty  at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\r\n    \t|_     Mono.onErrorResume  at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:125)\r\n    \t|_             checkpoint  org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.security.web.server.header.HttpHeaderWriterWebFilter.filter(HttpHeaderWriterWebFilter.java:44)\r\n    \t|_             checkpoint  org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_ Mono.subscriberContext  at org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter.filter(ServerHttpSecurity.java:2936)\r\n    \t|_             checkpoint  org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.security.web.server.WebFilterChainProxy.lambda$filter$4(WebFilterChainProxy.java:56)\r\n    \t|_           Mono.flatMap  at org.springframework.security.web.server.WebFilterChainProxy.filter(WebFilterChainProxy.java:56)\r\n    \t|_             checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_          Mono.doOnEach  at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:87)\r\n    \t|_        Mono.doOnCancel  at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:88)\r\n    \t|_ Mono.transformDeferred  at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:82)\r\n    \t|_             checkpoint  org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n    \t|_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                         at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\r\n    \t|_                         at org.springframework.web.server.handler.WebHandlerDecorator.handle(WebHandlerDecorator.java:56)\r\n    \t|_             Mono.error  at org.springframework.web.server.handler.ExceptionHandlingWebHandler$CheckpointInsertingHandler.handle(ExceptionHandlingWebHandler.java:98)\r\n    \t|_             checkpoint  HTTP GET &quot;/subjects/me/services/health&quot; [ExceptionHandlingWebHandler]\r\n    \t|_                         at org.springframework.web.server.handler.ExceptionHandlingWebHandler.lambda$handle$0(ExceptionHandlingWebHandler.java:77)\r\n    \t|_     Mono.onErrorResume  at org.springframework.web.server.handler.ExceptionHandlingWebHandler.handle(ExceptionHandlingWebHandler.java:77)\r\n    Stack trace:\r\n    \t\tat java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\r\n    \t\tat java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:404)\r\n    \t\tat java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:468)\r\n    \t\tat java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1314)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:913)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:929)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:446)\r\n    \t\tat java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\r\n    \t\tat java.base/java.io.InputStream.readNBytes(InputStream.java:506)\r\n    \t\tat java.base/java.util.jar.JarFile.getBytes(JarFile.java:813)\r\n    \t\tat java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1003)\r\n    \t\tat java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:390)\r\n    \t\tat java.base/java.util.jar.JarFile.getEntry(JarFile.java:512)\r\n    \t\tat java.base/sun.net.www.protocol.jar.URLJarFile.getEntry(URLJarFile.java:131)\r\n    \t\tat java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:137)\r\n    \t\tat java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)\r\n    \t\tat java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3227)\r\n    \t\tat java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3216)\r\n    \t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\r\n    \t\tat java.base/java.util.ResourceBundle$Control.newBundle(ResourceBundle.java:3215)\r\n    \t\tat java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1987)\r\n    \t\tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1769)\r\n    \t\tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\r\n    \t\tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\r\n    \t\tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1655)\r\n    \t\tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586)\r\n    \t\tat java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:1278)\r\n    \t\tat org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.loadBundle(PlatformResourceBundleLocator.java:234)\r\n    \t\tat org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.doGetResourceBundle(PlatformResourceBundleLocator.java:199)\r\n    \t\tat org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.getResourceBundle(PlatformResourceBundleLocator.java:183)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.resolveMessage(AbstractMessageInterpolator.java:455)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.lambda$interpolateMessage$0(AbstractMessageInterpolator.java:399)\r\n    \t\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolateMessage(AbstractMessageInterpolator.java:399)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolate(AbstractMessageInterpolator.java:355)\r\n    \t\tat org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator.interpolate(LocaleContextMessageInterpolator.java:51)\r\n    \t\tat org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.interpolate(AbstractValidationContext.java:322)\r\n    \t\tat org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.addConstraintFailure(AbstractValidationContext.java:231)\r\n    \t\tat org.hibernate.validator.internal.engine.validationcontext.ParameterExecutableValidationContext.addConstraintFailure(ParameterExecutableValidationContext.java:38)\r\n    \t\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:79)\r\n    \t\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\r\n    \t\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:537)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForSingleGroup(ValidatorImpl.java:991)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForGroup(ValidatorImpl.java:932)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:863)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\r\n    \t\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:110)\r\n    \t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n    \t\tat services.vivy.integrations.api.ServicesApi$$EnhancerBySpringCGLIB$$60998295.getServiceIntegrations(&lt;generated&gt;)\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \t\tat org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:146)\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n    \t\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251)\r\n    \t\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336)\r\n    \t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n    \t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:108)\r\n    \t\tat reactor.core.publisher.Operators.complete(Operators.java:136)\r\n    \t\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:45)\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4150)\r\n    \t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\r\nI also have a blockhound configuration class:\r\n\r\n        @Override\r\n    public void applyTo(BlockHound.Builder builder) {\r\n        builder\r\n                .allowBlockingCallsInside(\r\n                        UUID.class.getName(),\r\n                        &quot;randomUUID&quot;\r\n                )\r\n                .allowBlockingCallsInside(\r\n                        &quot;software.amazon.awssdk.http.nio.netty.internal.BetterSimpleChannelPool&quot;,\r\n                        &quot;close&quot;\r\n                )\r\n                .allowBlockingCallsInside(\r\n                        &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\r\n                        &quot;invoke&quot;\r\n                )\r\n        ;\r\n    }\r\n\r\nPlease is there something I need to do differently to make this work? I have gone through the stack trace, but I don&#39;t have much understanding of what the issue could be. I tried allowing calls from beanVaildation in blockhound like so:\r\n\r\n    .allowBlockingCallsInside(\r\n                            &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\r\n                            &quot;invoke&quot;\r\n                    )\r\n\r\nBut the issue still persists. \r\n\r\n","title":"Why is Blockhound detecting a blocking call after I added r2dbms to spring?","body":"<p>I added postgres support to my application, but when I try to run the tests, I keep getting a blocking call error from blockhound, and I'm not sure why this is happening. The application it's runs fine, only the tests fail with the blocking call error.</p>\n<p>These are my app dependencies:</p>\n<pre><code>    plugins {\n    id 'org.springframework.boot'\n}\n\n    dependencies {\n        annotationProcessor 'org.projectlombok:lombok'\n        testAnnotationProcessor 'org.projectlombok:lombok'\n        compileOnly 'org.projectlombok:lombok'\n        testCompileOnly 'org.projectlombok:lombok'\n    implementation 'io.projectreactor:reactor-tools'\n\n    implementation 'software.amazon.awssdk:dynamodb-enhanced'\n\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis-reactive'\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'io.r2dbc:r2dbc-postgresql'\n    implementation 'org.postgresql:postgresql'\n    implementation 'org.flywaydb:flyway-core'\n\n    implementation 'com.github.bsideup.liiklus:client'\n\n    implementation 'com.auth0:java-jwt'\n\n    implementation 'org.springdoc:springdoc-openapi-webflux-core'\n    implementation 'org.springdoc:springdoc-openapi-security'\n    implementation 'org.springdoc:springdoc-openapi-webflux-ui'\n\n    runtimeOnly 'io.sentry:sentry-logback'\n\n    testRuntimeOnly 'io.sentry:sentry-logback'\n\n    testImplementation 'com.amazonaws:aws-java-sdk-dynamodb'\n    testImplementation 'com.github.bsideup.liiklus:testing'\n    testImplementation 'io.projectreactor.tools:blockhound-junit-platform'\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'io.rest-assured:rest-assured'\n    testImplementation 'org.assertj:assertj-core'\n    testImplementation 'org.awaitility:awaitility'\n    testImplementation 'org.bouncycastle:bcprov-jdk15on'\n    testImplementation 'org.mock-server:mockserver-client-java'\n    testImplementation 'org.mock-server:mockserver-netty'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.testcontainers:localstack'\n    testImplementation &quot;org.testcontainers:testcontainers&quot;\n    testImplementation 'org.testcontainers:mockserver'\n    testImplementation &quot;org.testcontainers:junit-jupiter&quot;\n\n    testImplementation &quot;org.testcontainers:postgresql&quot;\n    testImplementation &quot;org.testcontainers:r2dbc&quot;\n\n    testRuntimeOnly &quot;net.java.dev.jna:jna:5.12.1&quot;\n\n    //http://github.com/gradle/gradle/issues/8806 requires platform launcher in test runtime explicitly\n    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'\n}\n</code></pre>\n<p>Then I added these dependencies in the project build.gradle:</p>\n<pre><code>        dependency 'io.r2dbc:r2dbc-postgresql:0.8.12.RELEASE'\n        dependency 'org.flywaydb:flyway-core:8.5.10'\n        testImplementation 'org.postgresql:postgresql'\n</code></pre>\n<p>Then I have a test container logic like so:</p>\n<pre><code>var jdbcUrl = postgresqlContainer.getJdbcUrl();\n    var r2dbcUrl = jdbcUrl.replaceAll(&quot;jdbc&quot;, &quot;r2dbc&quot;);\n\n    log.info(&quot;Set JDBC url: {}&quot;, jdbcUrl);\n    log.info(&quot;Set R2DBC url: {}&quot;, r2dbcUrl);\n\n    System.getProperties().put(&quot;spring.flyway.url&quot;, jdbcUrl);\n    System.getProperties().put(&quot;spring.r2dbc.url&quot;, r2dbcUrl);\n\n    Flyway flyway = Flyway.configure().dataSource(\n            postgresqlContainer.getJdbcUrl(),\n            postgresqlContainer.getUsername(),\n            postgresqlContainer.getPassword()\n    ).load();\n\n    flyway.migrate();\n</code></pre>\n<p>Finally I had some configurations in app.yml, for setting test postgres url and credentials. And that's basically it. But when I run the tests, I get this error/stack trace:</p>\n<pre><code>    reactor.blockhound.BlockingOperationError: Blocking call! java.io.RandomAccessFile#readBytes\n    at java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\n    reactor.core.publisher.Mono.flatMap\n    org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\nError has been observed at the following site(s):\n    |_           Mono.flatMap  at org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\n    |_                         at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$1(RequestMappingHandlerAdapter.java:199)\n    |_             Mono.defer  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\n    |_              Mono.then  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\n    |_          Mono.doOnNext  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:200)\n    |_          Mono.doOnNext  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:201)\n    |_             Mono.error  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handleException(RequestMappingHandlerAdapter.java:235)\n    |_                         at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$0(RequestMappingHandlerAdapter.java:195)\n    |_     Mono.onErrorResume  at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:202)\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_     Mono.switchIfEmpty  at org.springframework.security.web.server.authorization.AuthorizationWebFilter.filter(AuthorizationWebFilter.java:55)\n    |_             checkpoint  org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_     Mono.onErrorResume  at org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.filter(ExceptionTranslationWebFilter.java:44)\n    |_             checkpoint  org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_              Mono.then  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\n    |_     Mono.switchIfEmpty  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\n    |_               Mono.map  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\n    |_           Mono.flatMap  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\n    |_           Mono.flatMap  at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\n    |_             checkpoint  org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.lambda$filter$1(ServerRequestCacheWebFilter.java:39)\n    |_           Mono.flatMap  at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.filter(ServerRequestCacheWebFilter.java:39)\n    |_             checkpoint  org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter.filter(SecurityContextServerWebExchangeWebFilter.java:38)\n    |_             checkpoint  org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.security.web.server.authentication.WebFilterChainServerAuthenticationSuccessHandler.onAuthenticationSuccess(WebFilterChainServerAuthenticationSuccessHandler.java:36)\n    |_              Mono.then  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:135)\n    |_ Mono.subscriberContext  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:136)\n    |_                         at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$authenticate$7(AuthenticationWebFilter.java:124)\n    |_           Mono.flatMap  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:124)\n    |_         Mono.doOnError  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:126)\n    |_                         at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$filter$3(AuthenticationWebFilter.java:114)\n    |_           Mono.flatMap  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:114)\n    |_     Mono.onErrorResume  at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:115)\n    |_             checkpoint  org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_ Mono.subscriberContext  at org.springframework.security.web.server.context.ReactorContextWebFilter.filter(ReactorContextWebFilter.java:47)\n    |_             checkpoint  org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.security.web.server.csrf.CsrfWebFilter.lambda$continueFilterChain$10(CsrfWebFilter.java:165)\n    |_             Mono.defer  at org.springframework.security.web.server.csrf.CsrfWebFilter.continueFilterChain(CsrfWebFilter.java:162)\n    |_              Mono.then  at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\n    |_     Mono.switchIfEmpty  at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\n    |_     Mono.onErrorResume  at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:125)\n    |_             checkpoint  org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.security.web.server.header.HttpHeaderWriterWebFilter.filter(HttpHeaderWriterWebFilter.java:44)\n    |_             checkpoint  org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_ Mono.subscriberContext  at org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter.filter(ServerHttpSecurity.java:2936)\n    |_             checkpoint  org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.security.web.server.WebFilterChainProxy.lambda$filter$4(WebFilterChainProxy.java:56)\n    |_           Mono.flatMap  at org.springframework.security.web.server.WebFilterChainProxy.filter(WebFilterChainProxy.java:56)\n    |_             checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_          Mono.doOnEach  at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:87)\n    |_        Mono.doOnCancel  at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:88)\n    |_ Mono.transformDeferred  at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:82)\n    |_             checkpoint  org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n    |_                         at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer  at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                         at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\n    |_                         at org.springframework.web.server.handler.WebHandlerDecorator.handle(WebHandlerDecorator.java:56)\n    |_             Mono.error  at org.springframework.web.server.handler.ExceptionHandlingWebHandler$CheckpointInsertingHandler.handle(ExceptionHandlingWebHandler.java:98)\n    |_             checkpoint  HTTP GET &quot;/subjects/me/services/health&quot; [ExceptionHandlingWebHandler]\n    |_                         at org.springframework.web.server.handler.ExceptionHandlingWebHandler.lambda$handle$0(ExceptionHandlingWebHandler.java:77)\n    |_     Mono.onErrorResume  at org.springframework.web.server.handler.ExceptionHandlingWebHandler.handle(ExceptionHandlingWebHandler.java:77)\nStack trace:\n        at java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\n        at java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:404)\n        at java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:468)\n        at java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1314)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:913)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:929)\n        at java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:446)\n        at java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\n        at java.base/java.io.InputStream.readNBytes(InputStream.java:506)\n        at java.base/java.util.jar.JarFile.getBytes(JarFile.java:813)\n        at java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1003)\n        at java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:390)\n        at java.base/java.util.jar.JarFile.getEntry(JarFile.java:512)\n        at java.base/sun.net.www.protocol.jar.URLJarFile.getEntry(URLJarFile.java:131)\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:137)\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)\n        at java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3227)\n        at java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3216)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\n        at java.base/java.util.ResourceBundle$Control.newBundle(ResourceBundle.java:3215)\n        at java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1987)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1769)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1655)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586)\n        at java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:1278)\n        at org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.loadBundle(PlatformResourceBundleLocator.java:234)\n        at org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.doGetResourceBundle(PlatformResourceBundleLocator.java:199)\n        at org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.getResourceBundle(PlatformResourceBundleLocator.java:183)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.resolveMessage(AbstractMessageInterpolator.java:455)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.lambda$interpolateMessage$0(AbstractMessageInterpolator.java:399)\n        at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolateMessage(AbstractMessageInterpolator.java:399)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolate(AbstractMessageInterpolator.java:355)\n        at org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator.interpolate(LocaleContextMessageInterpolator.java:51)\n        at org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.interpolate(AbstractValidationContext.java:322)\n        at org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.addConstraintFailure(AbstractValidationContext.java:231)\n        at org.hibernate.validator.internal.engine.validationcontext.ParameterExecutableValidationContext.addConstraintFailure(ParameterExecutableValidationContext.java:38)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:79)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:537)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForSingleGroup(ValidatorImpl.java:991)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForGroup(ValidatorImpl.java:932)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:863)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:110)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n        at services.vivy.integrations.api.ServicesApi$$EnhancerBySpringCGLIB$$60998295.getServiceIntegrations(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:146)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n        at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251)\n        at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336)\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:108)\n        at reactor.core.publisher.Operators.complete(Operators.java:136)\n        at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:45)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4150)\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n</code></pre>\n<p>I also have a blockhound configuration class:</p>\n<pre><code>    @Override\npublic void applyTo(BlockHound.Builder builder) {\n    builder\n            .allowBlockingCallsInside(\n                    UUID.class.getName(),\n                    &quot;randomUUID&quot;\n            )\n            .allowBlockingCallsInside(\n                    &quot;software.amazon.awssdk.http.nio.netty.internal.BetterSimpleChannelPool&quot;,\n                    &quot;close&quot;\n            )\n            .allowBlockingCallsInside(\n                    &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\n                    &quot;invoke&quot;\n            )\n    ;\n}\n</code></pre>\n<p>Please is there something I need to do differently to make this work? I have gone through the stack trace, but I don't have much understanding of what the issue could be. I tried allowing calls from beanVaildation in blockhound like so:</p>\n<pre><code>.allowBlockingCallsInside(\n                        &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\n                        &quot;invoke&quot;\n                )\n</code></pre>\n<p>But the issue still persists.</p>\n"},{"tags":["java","converters","currency"],"comments":[{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":6,"creation_date":1413772105,"post_id":26457601,"comment_id":41555588,"body_markdown":"I assume this program works (as you wrote there)? If it is, then it&#39;s better to post it in [codereview.se] instead.","body":"I assume this program works (as you wrote there)? If it is, then it&#39;s better to post it in <a href=\"https://codereview.stackexchange.com\">Code Review</a> instead."}],"answers":[{"tags":[],"owner":{"account_id":4732429,"reputation":78,"user_id":3827664,"display_name":"DasScooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413771552,"creation_date":1413771552,"answer_id":26457681,"question_id":26457601,"body_markdown":"I am always cautious of using integer input. If someone types a char, your program would likely crash as an exception would occur. Accepting a char of the number might be a safer alternative.\r\n\r\nWhen you check the &quot;choice&quot; and &quot;output&quot; in the same if statement it requires more resources. Nesting the if statements might improve efficiency. This would be having the if statement for choice with the if statements for output within them.","title":"Basic Currency Converter - Looking for feedback","body":"<p>I am always cautious of using integer input. If someone types a char, your program would likely crash as an exception would occur. Accepting a char of the number might be a safer alternative.</p>\n\n<p>When you check the \"choice\" and \"output\" in the same if statement it requires more resources. Nesting the if statements might improve efficiency. This would be having the if statement for choice with the if statements for output within them.</p>\n"},{"tags":[],"owner":{"account_id":4654736,"reputation":316,"user_id":3770608,"display_name":"Luc Berthiaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413772150,"creation_date":1413772150,"answer_id":26457752,"question_id":26457601,"body_markdown":"Since you refer to your currency as int, I would use an n by m matrix for storing the exchange rate.  n would be the first currency and m the second.  With both int you can retrace the correct exchange rate.\r\n\r\nThe diagonal in the matrix would be 1 (since USD &gt;&gt; USD =1 ).\r\n\r\nFinally, write a function to compute the exchange rate and return the corresponding text (you can use an hashmap for that, with the int as a key and the name ( string) as the value)\r\n\r\n    exchange_rate = currency[1][2];\r\n\r\n      \r\n    HashMap hm = new HashMap();\r\n\r\n    hm.put(1, new string(&quot;USD&quot;);\r\n\r\netc...","title":"Basic Currency Converter - Looking for feedback","body":"<p>Since you refer to your currency as int, I would use an n by m matrix for storing the exchange rate.  n would be the first currency and m the second.  With both int you can retrace the correct exchange rate.</p>\n\n<p>The diagonal in the matrix would be 1 (since USD >> USD =1 ).</p>\n\n<p>Finally, write a function to compute the exchange rate and return the corresponding text (you can use an hashmap for that, with the int as a key and the name ( string) as the value)</p>\n\n<pre><code>exchange_rate = currency[1][2];\n\n\nHashMap hm = new HashMap();\n\nhm.put(1, new string(\"USD\");\n</code></pre>\n\n<p>etc...</p>\n"},{"tags":[],"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413774633,"creation_date":1413774633,"answer_id":26458027,"question_id":26457601,"body_markdown":"Express all of your rates as a multiplier of one standard value, for instance use the USD as the standard value.  Then the conversion values for GBP would be 1.60, the USD would be 1.0 and the Euro would be 1.29.  Then the conversion calculation would be:\r\n\r\nFrom Value * From Conversion * 1/To Conversion\r\n\r\nFor instance from 1 GBP to Euro would be:\r\n\r\n1 * 1.60 * (1/1.29) = 1.24 \r\n\r\nIf  you store all of your rates in a HashMap&lt;Integer, Double&gt; then you can avoid the switch statements completely.","title":"Basic Currency Converter - Looking for feedback","body":"<p>Express all of your rates as a multiplier of one standard value, for instance use the USD as the standard value.  Then the conversion values for GBP would be 1.60, the USD would be 1.0 and the Euro would be 1.29.  Then the conversion calculation would be:</p>\n\n<p>From Value * From Conversion * 1/To Conversion</p>\n\n<p>For instance from 1 GBP to Euro would be:</p>\n\n<p>1 * 1.60 * (1/1.29) = 1.24 </p>\n\n<p>If  you store all of your rates in a HashMap then you can avoid the switch statements completely.</p>\n"},{"tags":[],"owner":{"account_id":7837687,"reputation":1295,"user_id":5925085,"accept_rate":97,"display_name":"Tano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473246626,"creation_date":1473246626,"answer_id":39368306,"question_id":26457601,"body_markdown":"Why you are using this way to convert currency. You have the **JSR 354 Money and Currency API** here are some examples you can use, its really easy to use and fast:\r\n\r\n    MonetaryAmount&#160;monetaryAmount&#160;=&#160;Money.of(100.20,&#160;usd);\r\n    CurrencyUnit&#160;currency&#160;=&#160;monetaryAmount.getCurrency();\r\n    NumberValue&#160;numberValue&#160;=&#160;monetaryAmount.getNumber();\r\n    &#160;\r\n    int&#160;value=&#160;numberValue.intValue();","title":"Basic Currency Converter - Looking for feedback","body":"<p>Why you are using this way to convert currency. You have the <strong>JSR 354 Money and Currency API</strong> here are some examples you can use, its really easy to use and fast:</p>\n\n<pre><code>MonetaryAmountmonetaryAmount=Money.of(100.20,usd);\nCurrencyUnitcurrency=monetaryAmount.getCurrency();\nNumberValuenumberValue=monetaryAmount.getNumber();\n\nintvalue=numberValue.intValue();\n</code></pre>\n"}],"owner":{"account_id":5197257,"reputation":73,"user_id":4158039,"accept_rate":83,"display_name":"2redgoose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23021,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1692961620,"creation_date":1413770801,"question_id":26457601,"body_markdown":"This is my basic currency converter for my intro to java class. I&#39;m supposed to be able to convert between yen, dollars, pounds and euros using static rates. It works, but I was curious to know if I did it in the most efficient way possible. It seems quite long and looks like a huge mess. Just wanting some feedback.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class currency\r\n    {\r\n       \r\n         public currency()\r\n        {\r\n            char us_dollar_sym = 36;\r\n            char pound_sym = 163;\r\n            char yen_sym = 165;\r\n            char euro_sym = 8364; \r\n        \r\n            String us_dollar = &quot;Dollars&quot;; \r\n            String pound = &quot;Pounds&quot;;\r\n            String yen = &quot;Yen&quot;;\r\n            String euro = &quot;Euros&quot;;\r\n            double rate = 0;\r\n            \r\n          \r\n            // Interface\r\n            System.out.println(&quot;Welcome to the Currency Converter Program \\n&quot;);\r\n            System.out.println(&quot;Use the following codes to input your currency choices: \\n 1 - US dollars \\n 2 - Euros \\n 3 - British Pounds \\n 4 - Japanese Yen \\n&quot;);\r\n           \r\n            // \r\n            System.out.println(&quot;Please choose the input currency:&quot;);\r\n            Scanner in = new Scanner(System.in);\r\n            int choice = in.nextInt(); \r\n            \r\n           String inType = null;\r\n            switch(choice) {\r\n            case 1: inType = &quot;US Dollars &gt;&gt; &quot; + us_dollar_sym;  break;\r\n            case 2: inType = &quot;Euros &gt;&gt; &quot; + euro_sym; break;\r\n            case 3: inType = &quot;British Pounds &gt;&gt; &quot; + pound_sym; break;\r\n            case 4: inType = &quot;Japanese Yen &gt;&gt; &quot; + yen_sym; break;\r\n            default:\r\n            System.out.println(&quot;Please restart the program &amp; enter a number from the list.&quot;);\r\n            return;\r\n          }\r\n    \r\n            System.out.println(&quot;Please choose the output currency&quot;);\r\n            int output = in.nextInt();\r\n            \r\n            System.out.printf(&quot;Now enter the input in &quot; + inType);\r\n            double input = in.nextDouble(); \r\n            \r\n          if (choice == output) \r\n            System.out.println(&quot;Same currency no need to convert&quot;);\r\n       \r\n          if (choice == 1 &amp;&amp; output == 2)\r\n            { \r\n               double dollar_euro_rate = 0.78391;\r\n               rate = input * dollar_euro_rate;\r\n               System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + dollar_euro_rate + &quot; Dollars to %s = %.2f\\n&quot;, (char)us_dollar_sym, euro, rate);\r\n            }\r\n            else if (choice == 1 &amp;&amp; output == 3){ \r\n               double dollar_pound_rate = 0.621484;\r\n               rate = input * dollar_pound_rate;\r\n               System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + dollar_pound_rate + &quot; Dollars to %s = %.2f\\n&quot;, (char)us_dollar_sym, pound, rate);\r\n            }\r\n            else if (choice == 1 &amp;&amp; output == 4){ \r\n              double dollar_yen_rate = 107.174;\r\n              rate = input * dollar_yen_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + dollar_yen_rate + &quot; Dollars to %s = %.2f\\n&quot;, (char)us_dollar_sym, yen, rate);\r\n            }\r\n          if (choice == 2 &amp;&amp; output == 1)\r\n          {\r\n              double euro_dollar_rate = 1.27579;\r\n              rate = input * euro_dollar_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + euro_dollar_rate + &quot; Euros to %s = %.2f\\n&quot;, (char)euro_sym, us_dollar, rate);\r\n            }\r\n            else if (choice == 2 &amp;&amp; output == 3)\r\n            {\r\n              double euro_pound_rate = 0.792648;\r\n              rate = input * euro_pound_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + euro_pound_rate + &quot; Euros to %s = %.2f\\n&quot;, (char)euro_sym, pound, rate);\r\n            }\r\n            else if (choice == 2 &amp;&amp; output == 4)\r\n            {\r\n              double euro_yen_rate = 136.708;\r\n              rate = input * euro_yen_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + euro_yen_rate + &quot; Euros to %s = %.2f\\n&quot;, (char)euro_sym, yen, rate);\r\n            }\r\n          if (choice == 3 &amp;&amp; output == 1)\r\n          {\r\n              double pound_dollar_rate = 1.60972;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + pound_dollar_rate + &quot; Pounds to %s = %.2f\\n&quot;, (char)pound_sym, us_dollar, rate);\r\n            }\r\n            else if (choice == 3 &amp;&amp; output == 2)\r\n            {\r\n              double pound_euro_rate = 1.26161;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + pound_euro_rate + &quot; Pounds to %s = %.2f\\n&quot;, (char)pound_sym, euro, rate);\r\n            }\r\n            else if (choice == 3 &amp;&amp; output == 4)\r\n            {\r\n              double pound_yen_rate = 172.511;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + pound_yen_rate + &quot; Pounds to %s = %.2f\\n&quot;, (char)pound_sym, yen, rate);\r\n            }\r\n          if (choice == 4 &amp;&amp; output == 1)\r\n          { \r\n              double yen_dollar_rate = 0.00932574;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + yen_dollar_rate + &quot; Yen to %s = %.2f\\n&quot;, (char)yen_sym, us_dollar, rate);\r\n            }\r\n            else if (choice == 4 &amp;&amp; output == 2)\r\n            { \r\n              double yen_euro_rate = 0.00730615;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + yen_euro_rate + &quot; Yen to %s = %.2f\\n&quot;, (char)yen_sym, euro, rate);\r\n            }\r\n            else if (choice == 4 &amp;&amp; output == 3)\r\n            {\r\n              double yen_pound_rate = 0.00579135;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + yen_pound_rate + &quot; Yen to %s = %.2f\\n&quot;, (char)yen_sym, pound, rate);\r\n            }\r\n           System.out.println(&quot;Thank you for using the currency converter&quot;);\r\n        }\r\n    }","title":"Basic Currency Converter - Looking for feedback","body":"<p>This is my basic currency converter for my intro to java class. I'm supposed to be able to convert between yen, dollars, pounds and euros using static rates. It works, but I was curious to know if I did it in the most efficient way possible. It seems quite long and looks like a huge mess. Just wanting some feedback.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class currency\n{\n\n     public currency()\n    {\n        char us_dollar_sym = 36;\n        char pound_sym = 163;\n        char yen_sym = 165;\n        char euro_sym = 8364; \n\n        String us_dollar = \"Dollars\"; \n        String pound = \"Pounds\";\n        String yen = \"Yen\";\n        String euro = \"Euros\";\n        double rate = 0;\n\n\n        // Interface\n        System.out.println(\"Welcome to the Currency Converter Program \\n\");\n        System.out.println(\"Use the following codes to input your currency choices: \\n 1 - US dollars \\n 2 - Euros \\n 3 - British Pounds \\n 4 - Japanese Yen \\n\");\n\n        // \n        System.out.println(\"Please choose the input currency:\");\n        Scanner in = new Scanner(System.in);\n        int choice = in.nextInt(); \n\n       String inType = null;\n        switch(choice) {\n        case 1: inType = \"US Dollars &gt;&gt; \" + us_dollar_sym;  break;\n        case 2: inType = \"Euros &gt;&gt; \" + euro_sym; break;\n        case 3: inType = \"British Pounds &gt;&gt; \" + pound_sym; break;\n        case 4: inType = \"Japanese Yen &gt;&gt; \" + yen_sym; break;\n        default:\n        System.out.println(\"Please restart the program &amp; enter a number from the list.\");\n        return;\n      }\n\n        System.out.println(\"Please choose the output currency\");\n        int output = in.nextInt();\n\n        System.out.printf(\"Now enter the input in \" + inType);\n        double input = in.nextDouble(); \n\n      if (choice == output) \n        System.out.println(\"Same currency no need to convert\");\n\n      if (choice == 1 &amp;&amp; output == 2)\n        { \n           double dollar_euro_rate = 0.78391;\n           rate = input * dollar_euro_rate;\n           System.out.printf( \"%s\" + input + \" at a conversion rate of \" + dollar_euro_rate + \" Dollars to %s = %.2f\\n\", (char)us_dollar_sym, euro, rate);\n        }\n        else if (choice == 1 &amp;&amp; output == 3){ \n           double dollar_pound_rate = 0.621484;\n           rate = input * dollar_pound_rate;\n           System.out.printf( \"%s\" + input + \" at a conversion rate of \" + dollar_pound_rate + \" Dollars to %s = %.2f\\n\", (char)us_dollar_sym, pound, rate);\n        }\n        else if (choice == 1 &amp;&amp; output == 4){ \n          double dollar_yen_rate = 107.174;\n          rate = input * dollar_yen_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + dollar_yen_rate + \" Dollars to %s = %.2f\\n\", (char)us_dollar_sym, yen, rate);\n        }\n      if (choice == 2 &amp;&amp; output == 1)\n      {\n          double euro_dollar_rate = 1.27579;\n          rate = input * euro_dollar_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + euro_dollar_rate + \" Euros to %s = %.2f\\n\", (char)euro_sym, us_dollar, rate);\n        }\n        else if (choice == 2 &amp;&amp; output == 3)\n        {\n          double euro_pound_rate = 0.792648;\n          rate = input * euro_pound_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + euro_pound_rate + \" Euros to %s = %.2f\\n\", (char)euro_sym, pound, rate);\n        }\n        else if (choice == 2 &amp;&amp; output == 4)\n        {\n          double euro_yen_rate = 136.708;\n          rate = input * euro_yen_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + euro_yen_rate + \" Euros to %s = %.2f\\n\", (char)euro_sym, yen, rate);\n        }\n      if (choice == 3 &amp;&amp; output == 1)\n      {\n          double pound_dollar_rate = 1.60972;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + pound_dollar_rate + \" Pounds to %s = %.2f\\n\", (char)pound_sym, us_dollar, rate);\n        }\n        else if (choice == 3 &amp;&amp; output == 2)\n        {\n          double pound_euro_rate = 1.26161;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + pound_euro_rate + \" Pounds to %s = %.2f\\n\", (char)pound_sym, euro, rate);\n        }\n        else if (choice == 3 &amp;&amp; output == 4)\n        {\n          double pound_yen_rate = 172.511;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + pound_yen_rate + \" Pounds to %s = %.2f\\n\", (char)pound_sym, yen, rate);\n        }\n      if (choice == 4 &amp;&amp; output == 1)\n      { \n          double yen_dollar_rate = 0.00932574;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + yen_dollar_rate + \" Yen to %s = %.2f\\n\", (char)yen_sym, us_dollar, rate);\n        }\n        else if (choice == 4 &amp;&amp; output == 2)\n        { \n          double yen_euro_rate = 0.00730615;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + yen_euro_rate + \" Yen to %s = %.2f\\n\", (char)yen_sym, euro, rate);\n        }\n        else if (choice == 4 &amp;&amp; output == 3)\n        {\n          double yen_pound_rate = 0.00579135;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + yen_pound_rate + \" Yen to %s = %.2f\\n\", (char)yen_sym, pound, rate);\n        }\n       System.out.println(\"Thank you for using the currency converter\");\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","json","parsing","webclient"],"comments":[{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1693064652,"post_id":76976507,"comment_id":135711971,"body_markdown":"your JSON response is an array, yet you are trying to parse it to an object.","body":"your JSON response is an array, yet you are trying to parse it to an object."},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1693152621,"post_id":76976507,"comment_id":135719409,"body_markdown":"so should I convert private List&lt;Error&gt; errors to array?","body":"so should I convert private List&lt;Error&gt; errors to array?"},{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1693154106,"post_id":76976507,"comment_id":135719588,"body_markdown":"No, you should parse your JSON to a `List&lt;Response&gt;`","body":"No, you should parse your JSON to a <code>List&lt;Response&gt;</code>"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692960759,"creation_date":1692960759,"question_id":76976507,"body_markdown":"I am trying to map failed response of an api to a java class. The failed response looks like this . The 200OK response is getting mapped correctly in ordersList object but in failure scenario , server is returning below json (I cannot change the response owned by 3rdParty)\r\n\r\n    [\r\n        {\r\n        &quot;errorCode&quot;: &quot;404&quot;,\r\n        &quot;errorMessage&quot;: &quot;Data not found&quot;\r\n        }\r\n    ] \r\n\r\nPojo\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Data\r\n    @Builder\r\n    public class Response {\r\n\r\n    private int total;\r\n    private String errorCode;\r\n    private String errorMessage;\r\n    private String description;\r\n    private List&lt;Order&gt; ordersList;\r\n    private List&lt;Error&gt; errors;\r\n    }\r\n\r\nThis is how I am calling the api\r\n\r\n      Response response =\r\n          webClient\r\n              .post()\r\n              .uri(url, uri -&gt; uri.queryParam(Constants.QUERY_PARAM).build())\r\n              .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n              .bodyValue(request)\r\n              .retrieve()\r\n              .bodyToMono(Response.class)\r\n              .block();\r\n   ","title":"Parse JsonArray without any root to POJO class in Java","body":"<p>I am trying to map failed response of an api to a java class. The failed response looks like this . The 200OK response is getting mapped correctly in ordersList object but in failure scenario , server is returning below json (I cannot change the response owned by 3rdParty)</p>\n<pre><code>[\n    {\n    &quot;errorCode&quot;: &quot;404&quot;,\n    &quot;errorMessage&quot;: &quot;Data not found&quot;\n    }\n] \n</code></pre>\n<p>Pojo</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@Data\n@Builder\npublic class Response {\n\nprivate int total;\nprivate String errorCode;\nprivate String errorMessage;\nprivate String description;\nprivate List&lt;Order&gt; ordersList;\nprivate List&lt;Error&gt; errors;\n}\n</code></pre>\n<p>This is how I am calling the api</p>\n<pre><code>  Response response =\n      webClient\n          .post()\n          .uri(url, uri -&gt; uri.queryParam(Constants.QUERY_PARAM).build())\n          .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n          .bodyValue(request)\n          .retrieve()\n          .bodyToMono(Response.class)\n          .block();\n</code></pre>\n"},{"tags":["java","web","tomcat","jaas"],"owner":{"account_id":19503247,"reputation":83,"user_id":14268800,"display_name":"ironmanAJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692960395,"creation_date":1692946307,"question_id":76974887,"body_markdown":"**Quick Question:** Does Tomcat authentication (JAAS) maintain the `HttpRequest` object throughout the authentication process?\r\n\r\nFor example, let&#39;s say the request has an attribute `id`. Is this attribute maintained after the authentication flow, such as:\r\n\r\n`Custom Form` -&gt; `LoginContext` -&gt; `Appropriate Login Module` -&gt; `Creation of user principal` -&gt; `Custom Form`?\r\n\r\nAfter all these processes, does the request still contain the `id`? If it is maintained, how exactly is it preserved?\r\n\r\nPS I am not talking about Callbacks. ","title":"Tomcat Authentication Request","body":"<p><strong>Quick Question:</strong> Does Tomcat authentication (JAAS) maintain the <code>HttpRequest</code> object throughout the authentication process?</p>\n<p>For example, let's say the request has an attribute <code>id</code>. Is this attribute maintained after the authentication flow, such as:</p>\n<p><code>Custom Form</code> -&gt; <code>LoginContext</code> -&gt; <code>Appropriate Login Module</code> -&gt; <code>Creation of user principal</code> -&gt; <code>Custom Form</code>?</p>\n<p>After all these processes, does the request still contain the <code>id</code>? If it is maintained, how exactly is it preserved?</p>\n<p>PS I am not talking about Callbacks.</p>\n"},{"tags":["java","android","speech-recognition","speech-to-text","android-13"],"owner":{"account_id":12518162,"reputation":1,"user_id":9110544,"display_name":"Zaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692959925,"creation_date":1692955193,"question_id":76975870,"body_markdown":"I am building an android app and I&#39;m using speech recognition but while the app work just fine with Android 11 and any versions below, I&#39;ve encountered a roadblock with anything beyond Android 12. Despite investing a considerable amount of time into troubleshooting, the root cause of this issue is unknown to me. \r\n\r\nI even attempted to follow the suggestions provided in a related Stack Overflow post [**Here**](https://stackoverflow.com/questions/73516849/how-to-get-devices-default-speechservice-provider-android-api-13)\r\n\r\nUnfortunately, even after following these recommendations the result is the same.\r\n\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n           *************************\r\n\r\n          initSpeechRecognition(this);\r\n        speech.setRecognitionListener(this);\r\n        recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;);\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,                 RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic void initSpeechRecognition(Activity activity) {\r\n        String recognitionServiceName = getAvailableVoiceRecognitionService(activity);\r\n        if (recognitionServiceName == null)\r\n            return;\r\n\r\n        speech = SpeechRecognizer.createSpeechRecognizer(activity,\r\n                ComponentName.unflattenFromString(recognitionServiceName));\r\n        Log.i(&quot;TEST&quot;, recognitionServiceName);\r\n    }\r\n\r\n    public static String getAvailableVoiceRecognitionService(Activity activity) {\r\n        final List&lt;ResolveInfo&gt; services = activity.getPackageManager().queryIntentServices(\r\n                new Intent(RecognitionService.SERVICE_INTERFACE), 0);\r\n\r\n        String recognitionServiceName = null;\r\n\r\n        for (final ResolveInfo info : services) {\r\n            String packageName = info.serviceInfo.packageName;\r\n            String serviceName = info.serviceInfo.name;\r\n\r\n            String testRecognitionServiceName = packageName + &quot;/&quot; + serviceName;\r\n\r\n            ServiceConnection connection = new ServiceConnection() {\r\n                @Override\r\n                public void onServiceConnected(ComponentName name, IBinder service) {\r\n                    Log.i(&quot;TEST&quot;, name + &quot;::&quot; + service);\r\n                }\r\n\r\n                @Override\r\n                public void onServiceDisconnected(ComponentName name) {\r\n                    Log.i(&quot;TEST&quot;, name + &quot;::Disconnected&quot;);\r\n                }\r\n            };\r\n\r\n            Intent serviceIntent = new Intent(RecognitionService.SERVICE_INTERFACE);\r\n\r\n            ComponentName recognizerServiceComponent = ComponentName.unflattenFromString(testRecognitionServiceName);\r\n\r\n            if (recognizerServiceComponent != null) {\r\n                serviceIntent.setComponent(recognizerServiceComponent);\r\n                try {\r\n                    boolean isServiceAvailableToBind = activity.bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\r\n                    if (isServiceAvailableToBind) {\r\n                        activity.unbindService(connection);\r\n                        recognitionServiceName = testRecognitionServiceName;\r\n                        break;\r\n                    }\r\n                } catch (SecurityException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        return recognitionServiceName;\r\n    }\r\n```\r\n\r\nand these are the rest of the methods\r\n\r\n\r\n```\r\n@Override\r\n    public void onBeginningOfSpeech() {\r\n        Log.i(VOICE_RECOGNITION, &quot;onBeginningOfSpeech&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onBufferReceived(byte[] buffer) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onBufferReceived: &quot; + Arrays.toString(buffer));\r\n    }\r\n\r\n    @Override\r\n    public void onEndOfSpeech() {\r\n        Log.i(VOICE_RECOGNITION, &quot;onEndOfSpeech&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onError(int errorCode) {\r\n        String errorMessage = getErrorText(errorCode);\r\n        Log.d(VOICE_RECOGNITION, &quot;FAILED &quot; + errorMessage);\r\n    }\r\n\r\n    @Override\r\n    public void onEvent(int arg0, Bundle arg1) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onEvent&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onPartialResults(Bundle arg0) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onPartialResults&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onReadyForSpeech(Bundle arg0) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onReadyForSpeech&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onResults(Bundle results) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onResults&quot;);\r\n        ArrayList&lt;String&gt; matches = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n        StringBuilder text = new StringBuilder();\r\n        assert matches != null;\r\n        for (String result : matches) text.append(result).append(&quot;\\n&quot;);\r\n        audioToText.add(text.toString());\r\n        Log.i(VOICE_RECOGNITION, String.valueOf(audioToText));\r\n    }\r\n\r\n    @Override\r\n    public void onRmsChanged(float rmsdB) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onRmsChanged: &quot; + rmsdB);\r\n    }\r\n\r\n    public static String getErrorText(int errorCode) {\r\n        String message;\r\n        switch (errorCode) {\r\n            case SpeechRecognizer.ERROR_AUDIO:\r\n                message = &quot;Audio recording error&quot;;\r\n                audioToText.add(&quot;audio recording error&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_CLIENT:\r\n                message = &quot;Client side error&quot;;\r\n                audioToText.add(&quot;client side error&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\r\n                message = &quot;Insufficient permissions&quot;;\r\n                audioToText.add(&quot;insufficient permissions&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_NETWORK:\r\n                message = &quot;Network error&quot;;\r\n                audioToText.add(&quot;network error&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\r\n                message = &quot;Network timeout&quot;;\r\n                audioToText.add(&quot;network timeout&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_NO_MATCH:\r\n                message = &quot;No match&quot;;\r\n                audioToText.add(&quot;no audio detected&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\r\n                message = &quot;RecognitionService busy&quot;;\r\n                audioToText.add(&quot;recognition service busy&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_SERVER:\r\n                message = &quot;error from server&quot;;\r\n                audioToText.add(&quot;error from server&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\r\n                message = &quot;No speech input&quot;;\r\n                audioToText.add(&quot;no speech input&quot;);\r\n                break;\r\n            default:\r\n                message = &quot;Didn&#39;t understand, please try again.&quot;;\r\n                audioToText.add(&quot;no audio detected&quot;);\r\n                break;\r\n        }\r\n        return message;\r\n    }\r\n```\r\n\r\nI also have the code for startListening() and stopListening() in their appropriate positions and they are triggered just fine.\r\n\r\nhere is also my the part of the log that get triggered when the app start listening to the speech \r\n\r\n\r\n```\r\n2023-08-25 12:07:55.696 31209-31209 Voice Recognition     I  onReadyForSpeech\r\n2023-08-25 12:07:55.730 31209-31209 Voice Recognition     I  onRmsChanged: -2.0\r\n2023-08-25 12:07:58.091 31209-31209 Voice Recognition     D  FAILED No match\r\n```\r\n\r\n\r\nI know the app is working fine on a device with android 10 that I have but not with another device that has android 13 and I know that google had made some changes in the Speech Recognizer in android 12 and 13 but there is no place on the internet that properly show how you can implement the changes to the SpeechService and make it work on android 13 even on the official documentation website there is no single snippet of code to show how to implement speech recognition with android 13.\r\n\r\n\r\nCould anyone provide insights into this matter or suggest potential solutions? Your assistance would be immensely appreciated.\r\n","title":"Speech Recognition on Android 13","body":"<p>I am building an android app and I'm using speech recognition but while the app work just fine with Android 11 and any versions below, I've encountered a roadblock with anything beyond Android 12. Despite investing a considerable amount of time into troubleshooting, the root cause of this issue is unknown to me.</p>\n<p>I even attempted to follow the suggestions provided in a related Stack Overflow post <a href=\"https://stackoverflow.com/questions/73516849/how-to-get-devices-default-speechservice-provider-android-api-13\"><strong>Here</strong></a></p>\n<p>Unfortunately, even after following these recommendations the result is the same.</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n           *************************\n\n          initSpeechRecognition(this);\n        speech.setRecognitionListener(this);\n        recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,                 RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\n\n}\n</code></pre>\n<pre><code>public void initSpeechRecognition(Activity activity) {\n        String recognitionServiceName = getAvailableVoiceRecognitionService(activity);\n        if (recognitionServiceName == null)\n            return;\n\n        speech = SpeechRecognizer.createSpeechRecognizer(activity,\n                ComponentName.unflattenFromString(recognitionServiceName));\n        Log.i(&quot;TEST&quot;, recognitionServiceName);\n    }\n\n    public static String getAvailableVoiceRecognitionService(Activity activity) {\n        final List&lt;ResolveInfo&gt; services = activity.getPackageManager().queryIntentServices(\n                new Intent(RecognitionService.SERVICE_INTERFACE), 0);\n\n        String recognitionServiceName = null;\n\n        for (final ResolveInfo info : services) {\n            String packageName = info.serviceInfo.packageName;\n            String serviceName = info.serviceInfo.name;\n\n            String testRecognitionServiceName = packageName + &quot;/&quot; + serviceName;\n\n            ServiceConnection connection = new ServiceConnection() {\n                @Override\n                public void onServiceConnected(ComponentName name, IBinder service) {\n                    Log.i(&quot;TEST&quot;, name + &quot;::&quot; + service);\n                }\n\n                @Override\n                public void onServiceDisconnected(ComponentName name) {\n                    Log.i(&quot;TEST&quot;, name + &quot;::Disconnected&quot;);\n                }\n            };\n\n            Intent serviceIntent = new Intent(RecognitionService.SERVICE_INTERFACE);\n\n            ComponentName recognizerServiceComponent = ComponentName.unflattenFromString(testRecognitionServiceName);\n\n            if (recognizerServiceComponent != null) {\n                serviceIntent.setComponent(recognizerServiceComponent);\n                try {\n                    boolean isServiceAvailableToBind = activity.bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\n                    if (isServiceAvailableToBind) {\n                        activity.unbindService(connection);\n                        recognitionServiceName = testRecognitionServiceName;\n                        break;\n                    }\n                } catch (SecurityException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        return recognitionServiceName;\n    }\n</code></pre>\n<p>and these are the rest of the methods</p>\n<pre><code>@Override\n    public void onBeginningOfSpeech() {\n        Log.i(VOICE_RECOGNITION, &quot;onBeginningOfSpeech&quot;);\n    }\n\n    @Override\n    public void onBufferReceived(byte[] buffer) {\n        Log.i(VOICE_RECOGNITION, &quot;onBufferReceived: &quot; + Arrays.toString(buffer));\n    }\n\n    @Override\n    public void onEndOfSpeech() {\n        Log.i(VOICE_RECOGNITION, &quot;onEndOfSpeech&quot;);\n    }\n\n    @Override\n    public void onError(int errorCode) {\n        String errorMessage = getErrorText(errorCode);\n        Log.d(VOICE_RECOGNITION, &quot;FAILED &quot; + errorMessage);\n    }\n\n    @Override\n    public void onEvent(int arg0, Bundle arg1) {\n        Log.i(VOICE_RECOGNITION, &quot;onEvent&quot;);\n    }\n\n    @Override\n    public void onPartialResults(Bundle arg0) {\n        Log.i(VOICE_RECOGNITION, &quot;onPartialResults&quot;);\n    }\n\n    @Override\n    public void onReadyForSpeech(Bundle arg0) {\n        Log.i(VOICE_RECOGNITION, &quot;onReadyForSpeech&quot;);\n    }\n\n    @Override\n    public void onResults(Bundle results) {\n        Log.i(VOICE_RECOGNITION, &quot;onResults&quot;);\n        ArrayList&lt;String&gt; matches = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n        StringBuilder text = new StringBuilder();\n        assert matches != null;\n        for (String result : matches) text.append(result).append(&quot;\\n&quot;);\n        audioToText.add(text.toString());\n        Log.i(VOICE_RECOGNITION, String.valueOf(audioToText));\n    }\n\n    @Override\n    public void onRmsChanged(float rmsdB) {\n        Log.i(VOICE_RECOGNITION, &quot;onRmsChanged: &quot; + rmsdB);\n    }\n\n    public static String getErrorText(int errorCode) {\n        String message;\n        switch (errorCode) {\n            case SpeechRecognizer.ERROR_AUDIO:\n                message = &quot;Audio recording error&quot;;\n                audioToText.add(&quot;audio recording error&quot;);\n                break;\n            case SpeechRecognizer.ERROR_CLIENT:\n                message = &quot;Client side error&quot;;\n                audioToText.add(&quot;client side error&quot;);\n                break;\n            case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\n                message = &quot;Insufficient permissions&quot;;\n                audioToText.add(&quot;insufficient permissions&quot;);\n                break;\n            case SpeechRecognizer.ERROR_NETWORK:\n                message = &quot;Network error&quot;;\n                audioToText.add(&quot;network error&quot;);\n                break;\n            case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\n                message = &quot;Network timeout&quot;;\n                audioToText.add(&quot;network timeout&quot;);\n                break;\n            case SpeechRecognizer.ERROR_NO_MATCH:\n                message = &quot;No match&quot;;\n                audioToText.add(&quot;no audio detected&quot;);\n                break;\n            case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\n                message = &quot;RecognitionService busy&quot;;\n                audioToText.add(&quot;recognition service busy&quot;);\n                break;\n            case SpeechRecognizer.ERROR_SERVER:\n                message = &quot;error from server&quot;;\n                audioToText.add(&quot;error from server&quot;);\n                break;\n            case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\n                message = &quot;No speech input&quot;;\n                audioToText.add(&quot;no speech input&quot;);\n                break;\n            default:\n                message = &quot;Didn't understand, please try again.&quot;;\n                audioToText.add(&quot;no audio detected&quot;);\n                break;\n        }\n        return message;\n    }\n</code></pre>\n<p>I also have the code for startListening() and stopListening() in their appropriate positions and they are triggered just fine.</p>\n<p>here is also my the part of the log that get triggered when the app start listening to the speech</p>\n<pre><code>2023-08-25 12:07:55.696 31209-31209 Voice Recognition     I  onReadyForSpeech\n2023-08-25 12:07:55.730 31209-31209 Voice Recognition     I  onRmsChanged: -2.0\n2023-08-25 12:07:58.091 31209-31209 Voice Recognition     D  FAILED No match\n</code></pre>\n<p>I know the app is working fine on a device with android 10 that I have but not with another device that has android 13 and I know that google had made some changes in the Speech Recognizer in android 12 and 13 but there is no place on the internet that properly show how you can implement the changes to the SpeechService and make it work on android 13 even on the official documentation website there is no single snippet of code to show how to implement speech recognition with android 13.</p>\n<p>Could anyone provide insights into this matter or suggest potential solutions? Your assistance would be immensely appreciated.</p>\n"},{"tags":["java","apache-poi","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1692969464,"post_id":76976308,"comment_id":135701117,"body_markdown":"Please link to your PDF so we can have a look. Your code looks ok IMHO. (Unrelated: you&#39;ll get more performance with `PDDocument.load(new File(filepath))` than by using a stream)","body":"Please link to your PDF so we can have a look. Your code looks ok IMHO. (Unrelated: you&#39;ll get more performance with <code>PDDocument.load(new File(filepath))</code> than by using a stream)"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1692988893,"post_id":76976308,"comment_id":135705322,"body_markdown":"Try looking at [How to extract hyperlink information PDFBox](https://stackoverflow.com/questions/38587567/how-to-extract-hyperlink-information-pdfbox).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/38587567/how-to-extract-hyperlink-information-pdfbox\">How to extract hyperlink information PDFBox</a>."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1693196738,"post_id":76976308,"comment_id":135723210,"body_markdown":"Hi, I am getting this error in my console screen:\n\nUsage: AddDimensionedImage imageFile outputFile","body":"Hi, I am getting this error in my console screen:  Usage: AddDimensionedImage imageFile outputFile"},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1693196788,"post_id":76976308,"comment_id":135723213,"body_markdown":"I am using normal sample pdf doc with a link to google and yahoo site.","body":"I am using normal sample pdf doc with a link to google and yahoo site."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1693208071,"post_id":76976308,"comment_id":135724662,"body_markdown":"Your code does not have &quot;AddDimensionedImage&quot; in it.","body":"Your code does not have &quot;AddDimensionedImage&quot; in it."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1693209894,"post_id":76976308,"comment_id":135724997,"body_markdown":"So what we need to do in this case?","body":"So what we need to do in this case?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1693237671,"post_id":76976308,"comment_id":135730822,"body_markdown":"1) Share your document, 2) Post the relevant code. You claim that you&#39;re getting the error &quot;AddDimensionedImage imageFile outputFile&quot; but your code does no such thing.","body":"1) Share your document, 2) Post the relevant code. You claim that you&#39;re getting the error &quot;AddDimensionedImage imageFile outputFile&quot; but your code does no such thing."}],"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692958731,"creation_date":1692958731,"question_id":76976308,"body_markdown":"I am trying to extract hyperlinks and its corresponding URL by hovering on it from PDF file and trying to print it.\r\n\r\n\r\n\r\n\r\nI tried to use Apache PDFBox library in my code but getting no results. Can anyone help me through this?\r\n\r\nCode which i am trying:\r\n\r\n    FileInputStream fis = new FileInputStream(filepath);\r\n\t\t\tPDDocument document = PDDocument.load(fis);\r\n\t\t\tList&lt;PDPage&gt; pages = (List&lt;PDPage&gt;) document.getPages();\r\n\t\t\tfor (PDPage page : pages) {\r\n                List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\r\n                for (PDAnnotation annotation : annotations) {\r\n                    if (annotation instanceof PDAnnotationLink) {\r\n                        PDAnnotationLink link = (PDAnnotationLink) annotation;\r\n                        PDActionURI action = (PDActionURI) link.getAction();\r\n                        if (action != null) {\r\n                            String url = action.getURI();\r\n                            System.out.println(&quot;URL: &quot; + url);\r\n                        }\r\n                    }\r\n                }\r\n\t\t\t}","title":"Extract hyperlinks from PDF file","body":"<p>I am trying to extract hyperlinks and its corresponding URL by hovering on it from PDF file and trying to print it.</p>\n<p>I tried to use Apache PDFBox library in my code but getting no results. Can anyone help me through this?</p>\n<p>Code which i am trying:</p>\n<pre><code>FileInputStream fis = new FileInputStream(filepath);\n        PDDocument document = PDDocument.load(fis);\n        List&lt;PDPage&gt; pages = (List&lt;PDPage&gt;) document.getPages();\n        for (PDPage page : pages) {\n            List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\n            for (PDAnnotation annotation : annotations) {\n                if (annotation instanceof PDAnnotationLink) {\n                    PDAnnotationLink link = (PDAnnotationLink) annotation;\n                    PDActionURI action = (PDActionURI) link.getAction();\n                    if (action != null) {\n                        String url = action.getURI();\n                        System.out.println(&quot;URL: &quot; + url);\n                    }\n                }\n            }\n        }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9909,"page":225,"page_size":100}
