{"items":[{"tags":["java","jdbc","odbc"],"comments":[{"owner":{"account_id":319457,"reputation":15507,"user_id":637236,"accept_rate":55,"display_name":"Rasel"},"score":0,"creation_date":1319609956,"post_id":7899225,"comment_id":9643896,"body_markdown":"http://stackoverflow.com/questions/6477887/connecting-to-sql-database-in-java/6477983#6477983","body":"<a href=\"http://stackoverflow.com/questions/6477887/connecting-to-sql-database-in-java/6477983#6477983\" title=\"connecting to sql database in java\">stackoverflow.com/questions/6477887/&hellip;</a>"},{"owner":{"account_id":967530,"reputation":2722,"user_id":990671,"accept_rate":41,"display_name":"Sam"},"score":0,"creation_date":1319610873,"post_id":7899225,"comment_id":9644027,"body_markdown":"But I&#39;m sure I&#39;m using the System DSN names rather than the database names.  I in fact read through the registry to derive the appropriate System DSN name for that matter.  Could you please give me any other suggestions??!","body":"But I&#39;m sure I&#39;m using the System DSN names rather than the database names.  I in fact read through the registry to derive the appropriate System DSN name for that matter.  Could you please give me any other suggestions??!"}],"answers":[{"comments":[{"owner":{"account_id":967530,"reputation":2722,"user_id":990671,"accept_rate":41,"display_name":"Sam"},"score":0,"creation_date":1319730443,"post_id":7917587,"comment_id":9671813,"body_markdown":"It ended up to be the wrong username and password!  How annoying!","body":"It ended up to be the wrong username and password!  How annoying!"}],"tags":[],"owner":{"account_id":782071,"reputation":230,"user_id":844479,"display_name":"Garry M. Biggs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319726267,"creation_date":1319726267,"answer_id":7917587,"question_id":7899225,"body_markdown":"Wondering if this could be yet another bitness issue?\r\n\r\nIf this is a 64bit system then the bitness of the Java runtime is important!!!!\r\n\r\n64bit Java run time will only be able to access 64bit ODBC drivers...\r\n\r\n32bit Java run time will only be able to access 32bit ODBC drivers...\r\n\r\n32bit and 64bit ODBC environments are not the same...","title":"java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)","body":"<p>Wondering if this could be yet another bitness issue?</p>\n\n<p>If this is a 64bit system then the bitness of the Java runtime is important!!!!</p>\n\n<p>64bit Java run time will only be able to access 64bit ODBC drivers...</p>\n\n<p>32bit Java run time will only be able to access 32bit ODBC drivers...</p>\n\n<p>32bit and 64bit ODBC environments are not the same...</p>\n"},{"tags":[],"owner":{"account_id":2008576,"reputation":1,"user_id":1797692,"display_name":"meki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354289244,"creation_date":1354287745,"answer_id":13647702,"question_id":7899225,"body_markdown":"Looking for the answer for &quot;general error&quot; I finally found that it is the problem on the data source name.\r\n\r\n`jdbc:odbc:xx` where `xx` is the data source name NOT the data base name\r\n\r\nIt works form me!\r\n","title":"java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)","body":"<p>Looking for the answer for \"general error\" I finally found that it is the problem on the data source name.</p>\n\n<p><code>jdbc:odbc:xx</code> where <code>xx</code> is the data source name NOT the data base name</p>\n\n<p>It works form me!</p>\n"}],"owner":{"account_id":967530,"reputation":2722,"user_id":990671,"accept_rate":41,"display_name":"Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674295756,"creation_date":1319609615,"question_id":7899225,"body_markdown":"I&#39;m trying to establish a JDBC-ODBC connection using the following routine,\r\n\r\n    private static Connection getConnection(String systemDSN, String username, String password) throws Exception {\r\n        String driver = &quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;;\r\n        String url = &quot;jdbc:odbc:&quot; + systemDSN;\r\n        Class.forName(driver);\r\n        return DriverManager.getConnection(url, username, password);\r\n    }\r\n\r\nAnd here&#39;s the complete stack trace I&#39;m getting!\r\n\r\n    java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbc.standardError(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbc.SQLDriverConnect(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbcConnection.initialize(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbcDriver.connect(Unknown Source)\r\n    at java.sql.DriverManager.getConnection(Unknown Source)\r\n    at java.sql.DriverManager.getConnection(Unknown Source)\r\n\r\nCan anyone PLEASE let me know how this is caused and how I can remedy this??!","title":"java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)","body":"<p>I'm trying to establish a JDBC-ODBC connection using the following routine,</p>\n\n<pre><code>private static Connection getConnection(String systemDSN, String username, String password) throws Exception {\n    String driver = \"sun.jdbc.odbc.JdbcOdbcDriver\";\n    String url = \"jdbc:odbc:\" + systemDSN;\n    Class.forName(driver);\n    return DriverManager.getConnection(url, username, password);\n}\n</code></pre>\n\n<p>And here's the complete stack trace I'm getting!</p>\n\n<pre><code>java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbc.standardError(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbc.SQLDriverConnect(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbcConnection.initialize(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbcDriver.connect(Unknown Source)\nat java.sql.DriverManager.getConnection(Unknown Source)\nat java.sql.DriverManager.getConnection(Unknown Source)\n</code></pre>\n\n<p>Can anyone PLEASE let me know how this is caused and how I can remedy this??!</p>\n"},{"tags":["java","spring","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":282742,"reputation":21634,"user_id":579828,"accept_rate":83,"display_name":"Vic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674294261,"creation_date":1674233080,"answer_id":75186979,"question_id":75184076,"body_markdown":"As written in [Oracle&#39;s Java tutorial ][1]\r\n\r\n&gt; Annotations, a form of metadata, provide data about a program that is\r\n&gt; not part of the program itself. Annotations have no direct effect on\r\n&gt; the operation of the code they annotate.\r\n&gt; \r\n&gt; Annotations have a number of uses, among them:\r\n&gt; \r\n&gt;  1. Information for the compiler — Annotations can be used by the\r\n&gt;     compiler to detect errors or suppress warnings. \r\n&gt;  2. Compile-time and\r\n&gt;     deployment-time processing — Software tools can process annotation\r\n&gt;     information to generate code, XML files, and so forth. \r\n&gt;  3. Runtime processing — Some annotations are available to be examined at\r\n&gt;     runtime.\r\n\r\nThey&#39;re not really directly executable and therefore not debuggable; for example what would you expect when putting a break point on `@Override` annotation? \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/annotations/","title":"Intellij doesnt break line in spring controller","body":"<p>As written in <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/\" rel=\"nofollow noreferrer\">Oracle's Java tutorial </a></p>\n<blockquote>\n<p>Annotations, a form of metadata, provide data about a program that is\nnot part of the program itself. Annotations have no direct effect on\nthe operation of the code they annotate.</p>\n<p>Annotations have a number of uses, among them:</p>\n<ol>\n<li>Information for the compiler — Annotations can be used by the\ncompiler to detect errors or suppress warnings.</li>\n<li>Compile-time and\ndeployment-time processing — Software tools can process annotation\ninformation to generate code, XML files, and so forth.</li>\n<li>Runtime processing — Some annotations are available to be examined at\nruntime.</li>\n</ol>\n</blockquote>\n<p>They're not really directly executable and therefore not debuggable; for example what would you expect when putting a break point on <code>@Override</code> annotation?</p>\n"}],"owner":{"account_id":27580432,"reputation":1,"user_id":21049772,"display_name":"Lesmoto 22 Mowa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674294261,"creation_date":1674217930,"question_id":75184076,"body_markdown":"When I press CTRL + ALT + L then every line gets breaked, except of a Controller line with annotations. \r\n\r\nI set it up to wrap at 200 and it does so, just not on this as example:\r\n[![enter image description here][1]][1]\r\nI tried to set up the Code Style -&gt; Java -&gt; Wrapping and Braces.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lnaUN.png","title":"Intellij doesnt break line in spring controller","body":"<p>When I press CTRL + ALT + L then every line gets breaked, except of a Controller line with annotations.</p>\n<p>I set it up to wrap at 200 and it does so, just not on this as example:\n<a href=\"https://i.stack.imgur.com/lnaUN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lnaUN.png\" alt=\"enter image description here\" /></a>\nI tried to set up the Code Style -&gt; Java -&gt; Wrapping and Braces.</p>\n"},{"tags":["java","jvm","eclipse-memory-analyzer","oql"],"answers":[{"tags":[],"owner":{"account_id":18866500,"reputation":431,"user_id":13762112,"display_name":"user13762112"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598620009,"creation_date":1598620009,"answer_id":63634386,"question_id":62208144,"body_markdown":"Yes, a query such as:\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET objects s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\r\n\r\nshould do it.\r\n\r\nExplanation:\r\n\r\nFind the GC roots:\r\n\r\n    SELECT objects s FROM OBJECTS ${snapshot}.@GCRoots s\r\n\r\nFind the GC roots, then for each GC root get the array of GC root information, then look at each GCRootInfo and find the type and see if it is Type.UNREACHABLE (2048) and only then select a GC root where the GC root information says it is unreachable. This finds the unreachable object roots. Keep unreachable objects only marks some of the unreachable objects as GC roots - the remaining unreachable objects are retained by these roots. Queries work better than way.\r\n\r\n    SELECT OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\r\n\r\nFind all the unreachable objects by finding all the objects retained by the unreachable GC roots:\r\n\r\n    SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\r\n\r\nFind all the LocalCache$StrongAccessWriteEntry objects\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r\r\n\r\nFind all the LocalCache$StrongAccessWriteEntry objects which are also in the unreachable objects set.\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\r\n\r\n\r\nThere is more information about writing queries in the [Eclipse Memory Analyzer wiki][1].\r\n\r\n  [1]: https://wiki.eclipse.org/MemoryAnalyzer/OQL#Writing_Queries","title":"Is there any way to get unreachable objects using OQL in mat?","body":"<p>Yes, a query such as:</p>\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET objects s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\n</code></pre>\n<p>should do it.</p>\n<p>Explanation:</p>\n<p>Find the GC roots:</p>\n<pre><code>SELECT objects s FROM OBJECTS ${snapshot}.@GCRoots s\n</code></pre>\n<p>Find the GC roots, then for each GC root get the array of GC root information, then look at each GCRootInfo and find the type and see if it is Type.UNREACHABLE (2048) and only then select a GC root where the GC root information says it is unreachable. This finds the unreachable object roots. Keep unreachable objects only marks some of the unreachable objects as GC roots - the remaining unreachable objects are retained by these roots. Queries work better than way.</p>\n<pre><code>SELECT OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\n</code></pre>\n<p>Find all the unreachable objects by finding all the objects retained by the unreachable GC roots:</p>\n<pre><code>SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\n</code></pre>\n<p>Find all the LocalCache$StrongAccessWriteEntry objects</p>\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r\n</code></pre>\n<p>Find all the LocalCache$StrongAccessWriteEntry objects which are also in the unreachable objects set.</p>\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\n</code></pre>\n<p>There is more information about writing queries in the <a href=\"https://wiki.eclipse.org/MemoryAnalyzer/OQL#Writing_Queries\" rel=\"noreferrer\">Eclipse Memory Analyzer wiki</a>.</p>\n"},{"tags":[],"owner":{"account_id":11130947,"reputation":1,"user_id":8170965,"display_name":"X. Wu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674293957,"creation_date":1670482941,"answer_id":74726598,"question_id":62208144,"body_markdown":"Unreachable objects means it has no incoming reference.\r\n```\r\nSELECT * \r\nFROM com.google.common.cache.LocalCache$StrongAccessWriteEntry o \r\nWHERE (inbounds(o).size() = 0)\r\n```","title":"Is there any way to get unreachable objects using OQL in mat?","body":"<p>Unreachable objects means it has no incoming reference.</p>\n<pre><code>SELECT * \nFROM com.google.common.cache.LocalCache$StrongAccessWriteEntry o \nWHERE (inbounds(o).size() = 0)\n</code></pre>\n"}],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674293957,"creation_date":1591331318,"question_id":62208144,"body_markdown":"I can query all the instances of `com.google.common.cache.LocalCache$StrongAccessWriteEntry\r\n` in mat using OQL:\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry\r\n\r\nI&#39;ve turned on `Keep unreachable objects` in mat. So the result contains both reachable and unreachable objects. Now I want to get all the unreachable `com.google.common.cache.LocalCache$StrongAccessWriteEntry instances`(aka. no gc roots), something like this:\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry WHERE unreachable=true\r\n\r\nCan I do it using OQL?","title":"Is there any way to get unreachable objects using OQL in mat?","body":"<p>I can query all the instances of <code>com.google.common.cache.LocalCache$StrongAccessWriteEntry\n</code> in mat using OQL:</p>\n\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry\n</code></pre>\n\n<p>I've turned on <code>Keep unreachable objects</code> in mat. So the result contains both reachable and unreachable objects. Now I want to get all the unreachable <code>com.google.common.cache.LocalCache$StrongAccessWriteEntry instances</code>(aka. no gc roots), something like this:</p>\n\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry WHERE unreachable=true\n</code></pre>\n\n<p>Can I do it using OQL?</p>\n"},{"tags":["java","android","database","kotlin","android-room"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1674289005,"post_id":75191933,"comment_id":132686547,"body_markdown":"You need to consider. If it is worth it to give up the clean structure,and maintainability of using POJOs and TypeConverter just to save serialization and deserialization time which is barely noticeable.","body":"You need to consider. If it is worth it to give up the clean structure,and maintainability of using POJOs and TypeConverter just to save serialization and deserialization time which is barely noticeable."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674293775,"creation_date":1674293040,"answer_id":75192303,"question_id":75191933,"body_markdown":"There are some who advocate storing a representation of objects as a single column. This is fine if you just want to store and retrieve the objects and then work with the objects. The code itself can often be shorter.\r\n\r\nIf you want to manipulate the underlying values (fields in the object) embedded in the representation via the power of SQLite then matters can get quite complex and perhaps inefficient due to the much higher likelihood of full table scans due to the likely lack of available/usable indexes. \r\n\r\ne.g. if myvalue is a value within a representation (typically JSON) then to find rows with this value you would have to use something like\r\n\r\n    @Query(&quot;SELECT * FROM the_table WHERE the_one_for_many_values_column LIKE &#39;%myvalue%&#39;&quot;)\r\n\r\nor \r\n\r\n    @Query(&quot;SELECT * FROM the_table WHERE instr(the_one_for_may_values_column,&#39;myvalue&#39;)\r\n\r\n\r\nas opposed to myvalue being stored in a column of it&#39;s own (say the_value) then\r\n\r\n    @Query(&quot;SELECT * FROM the_table WHERE the_value LIKE &#39;myvalue&#39;)\r\n\r\n- the former two have the flaw that if myvalue is stored elsewhere within the representation then that row is also included even. Other than the fact that LIKE is case independent the third is an EXACT.\r\n- an index on the the_value column may improve performance\r\n\r\nAdditionally the representation will undoubtedly add bloat (separators and descriptors of the values) and thus will require more storage. This compounded as the same data would often be stored multiple times whilst a normalised relational approach may well store just 1 instance of the data (with just up to 8 bytes per repetition if a 1-M relationship (indexes excluded)).\r\n\r\n-  32 bytes of bloat and the maximum needed to cater for a many-many relationship (8 bytes parent 8 bytes child and two 8 bytes columns in the mapping table) will be exceeded.\r\n\r\nAs the SQLite API utilises Cursors (buffering) to retrieve extracted data, then with a greater storage requirement fewer rows can be held at once by a CursorWindow (the limited sized buffer that is loaded by x rows of output). There is also greater potential, again due to the bloat, of a single row being larger than the CursorWindow permits.\r\n\r\nIn short for smaller simpler projects not interested greatly in performance, then storing representations via TypeConverters could be the more convenient and practical approach. For larger more complex projects then unleashing the relational aspects of SQLite via data that is related rather than embedded within a representation could well be the way to go.","title":"Alternate approach to storing complex data types in room database","body":"<p>There are some who advocate storing a representation of objects as a single column. This is fine if you just want to store and retrieve the objects and then work with the objects. The code itself can often be shorter.</p>\n<p>If you want to manipulate the underlying values (fields in the object) embedded in the representation via the power of SQLite then matters can get quite complex and perhaps inefficient due to the much higher likelihood of full table scans due to the likely lack of available/usable indexes.</p>\n<p>e.g. if myvalue is a value within a representation (typically JSON) then to find rows with this value you would have to use something like</p>\n<pre><code>@Query(&quot;SELECT * FROM the_table WHERE the_one_for_many_values_column LIKE '%myvalue%'&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>@Query(&quot;SELECT * FROM the_table WHERE instr(the_one_for_may_values_column,'myvalue')\n</code></pre>\n<p>as opposed to myvalue being stored in a column of it's own (say the_value) then</p>\n<pre><code>@Query(&quot;SELECT * FROM the_table WHERE the_value LIKE 'myvalue')\n</code></pre>\n<ul>\n<li>the former two have the flaw that if myvalue is stored elsewhere within the representation then that row is also included even. Other than the fact that LIKE is case independent the third is an EXACT.</li>\n<li>an index on the the_value column may improve performance</li>\n</ul>\n<p>Additionally the representation will undoubtedly add bloat (separators and descriptors of the values) and thus will require more storage. This compounded as the same data would often be stored multiple times whilst a normalised relational approach may well store just 1 instance of the data (with just up to 8 bytes per repetition if a 1-M relationship (indexes excluded)).</p>\n<ul>\n<li>32 bytes of bloat and the maximum needed to cater for a many-many relationship (8 bytes parent 8 bytes child and two 8 bytes columns in the mapping table) will be exceeded.</li>\n</ul>\n<p>As the SQLite API utilises Cursors (buffering) to retrieve extracted data, then with a greater storage requirement fewer rows can be held at once by a CursorWindow (the limited sized buffer that is loaded by x rows of output). There is also greater potential, again due to the bloat, of a single row being larger than the CursorWindow permits.</p>\n<p>In short for smaller simpler projects not interested greatly in performance, then storing representations via TypeConverters could be the more convenient and practical approach. For larger more complex projects then unleashing the relational aspects of SQLite via data that is related rather than embedded within a representation could well be the way to go.</p>\n"}],"owner":{"account_id":22988785,"reputation":1,"user_id":17114603,"display_name":"shantanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674293775,"creation_date":1674288543,"question_id":75191933,"body_markdown":"**Existing approach**: Currently we use **TypeConverters** to help database to store and retrieve complex data type (POJO class objects). But that involves serializing and deserializing the objects, which seems unnecessary when we only need a simple primitive data type like int, string, float, etc.\r\n\r\n**My approach**: I am thinking of an approach of breaking down the complex data type to primitive ones and create separate columns to store them. When we need a simple primitive type from the database, then we won&#39;t have to go through the process of deserializing complex objects.\r\n\r\n\r\nI have tried the my approach and it is working but I&#39;m not sure of the corner cases that may arise while implementing this approach in big projects.\r\n\r\n**I am still new to this, need help in finding pros and cons of my approach.**","title":"Alternate approach to storing complex data types in room database","body":"<p><strong>Existing approach</strong>: Currently we use <strong>TypeConverters</strong> to help database to store and retrieve complex data type (POJO class objects). But that involves serializing and deserializing the objects, which seems unnecessary when we only need a simple primitive data type like int, string, float, etc.</p>\n<p><strong>My approach</strong>: I am thinking of an approach of breaking down the complex data type to primitive ones and create separate columns to store them. When we need a simple primitive type from the database, then we won't have to go through the process of deserializing complex objects.</p>\n<p>I have tried the my approach and it is working but I'm not sure of the corner cases that may arise while implementing this approach in big projects.</p>\n<p><strong>I am still new to this, need help in finding pros and cons of my approach.</strong></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1673542589,"post_id":75099238,"comment_id":132527921,"body_markdown":"`Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAdapter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\n    &lt;... more stacktrace...&gt;` what if you try debugging from the latest line in that piece of stacktrace? Maybe you could find out why it throws an IllegalArgumentException and what is wrong there.","body":"<code>Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAda&zwnj;&#8203;pter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans     &lt;... more stacktrace...&gt;</code> what if you try debugging from the latest line in that piece of stacktrace? Maybe you could find out why it throws an IllegalArgumentException and what is wrong there."}],"answers":[{"tags":[],"owner":{"account_id":296566,"reputation":193,"user_id":601594,"accept_rate":100,"display_name":"tyler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673605340,"creation_date":1673605340,"answer_id":75107863,"question_id":75099238,"body_markdown":"I know this does not explain the IllegalArgumentException, but for reasons of pragmatism  i circumvented this problem by implementing a dummy configuration class inside the test-folder of the maven-project that provides the same beans as the original but does not use the @InboundChannelAdapter, as suggested by Matheus Santz in [how-to-exclude-java-configuration-class-from-test-context][1]. So for the tests this new dummy class is used.\r\nThanx to Vitaly Chura and all others reading.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39729752/java-spring-boot-test-how-to-exclude-java-configuration-class-from-test-context","title":"Why does InboundChannelAdapter not work in SpringBootTest","body":"<p>I know this does not explain the IllegalArgumentException, but for reasons of pragmatism  i circumvented this problem by implementing a dummy configuration class inside the test-folder of the maven-project that provides the same beans as the original but does not use the @InboundChannelAdapter, as suggested by Matheus Santz in <a href=\"https://stackoverflow.com/questions/39729752/java-spring-boot-test-how-to-exclude-java-configuration-class-from-test-context\">how-to-exclude-java-configuration-class-from-test-context</a>. So for the tests this new dummy class is used.\nThanx to Vitaly Chura and all others reading.</p>\n"}],"owner":{"account_id":296566,"reputation":193,"user_id":601594,"accept_rate":100,"display_name":"tyler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674293501,"creation_date":1673539901,"question_id":75099238,"body_markdown":"In a spring-boot project i am using the following code:\r\n\r\n    import org.springframework.integration.core.MessageSource;\r\n\r\n    @Configuration\r\n    public class Config\r\n    {\r\n    \r\n    @Bean\r\n    @InboundChannelAdapter(channel = &quot;channel1&quot;, autoStartup = &quot;false&quot;,\r\n          poller = @Poller(&quot;poller&quot;))\r\n    public MessageSource messages() throws Exception\r\n    {\r\n    ...\r\n\r\nto poll a mailaccount for incoming messages. This works fine so far.\r\n\r\nThe problem arises when i try to call some tests in a class that is annotated with `@SpringBootTest`. Then the initialisation of my testclass fails: \r\n\r\n    2023-01-12T16:43:03.846+01:00 ERROR 3625 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@63648ee9] to prepare test instance [MyClass@b849fa6]\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:131) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\r\n    \t&lt;... stacktrace ...&gt;\r\n    Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAdapter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\r\n    \t&lt;... more stacktrace...&gt;\r\n\r\nI can&#39;t see the problem here, since the annotation is used together with MessageSource. Can someone help me on this one, please?\r\n\t\r\nupdate in reply to the comment from Vitaly Chura:\r\nin fact, that does not tell me much, unfortunately, but i will give it a try:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAdapter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:139) ~[spring-core-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.createMessageSource(InboundChannelAdapterAnnotationPostProcessor.java:100) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.postProcess(InboundChannelAdapterAnnotationPostProcessor.java:72) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.postProcessMethodAndRegisterEndpointIfAny(MessagingAnnotationPostProcessor.java:231) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.lambda$processAnnotationTypeOnMethod$4(MessagingAnnotationPostProcessor.java:220) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.afterSingletonsInstantiated(MessagingAnnotationPostProcessor.java:135) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:941) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:926) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:123) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\r\n\t... 72 common frames omitted\r\n\r\n","title":"Why does InboundChannelAdapter not work in SpringBootTest","body":"<p>In a spring-boot project i am using the following code:</p>\n<pre><code>import org.springframework.integration.core.MessageSource;\n\n@Configuration\npublic class Config\n{\n\n@Bean\n@InboundChannelAdapter(channel = &quot;channel1&quot;, autoStartup = &quot;false&quot;,\n      poller = @Poller(&quot;poller&quot;))\npublic MessageSource messages() throws Exception\n{\n...\n</code></pre>\n<p>to poll a mailaccount for incoming messages. This works fine so far.</p>\n<p>The problem arises when i try to call some tests in a class that is annotated with <code>@SpringBootTest</code>. Then the initialisation of my testclass fails:</p>\n<pre><code>2023-01-12T16:43:03.846+01:00 ERROR 3625 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@63648ee9] to prepare test instance [MyClass@b849fa6]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:131) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\n    &lt;... stacktrace ...&gt;\nCaused by: java.lang.IllegalArgumentException: The 'interface org.springframework.integration.annotation.InboundChannelAdapter' on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\n    &lt;... more stacktrace...&gt;\n</code></pre>\n<p>I can't see the problem here, since the annotation is used together with MessageSource. Can someone help me on this one, please?</p>\n<p>update in reply to the comment from Vitaly Chura:\nin fact, that does not tell me much, unfortunately, but i will give it a try:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The 'interface org.springframework.integration.annotation.InboundChannelAdapter' on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\nat org.springframework.util.Assert.isTrue(Assert.java:139) ~[spring-core-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.createMessageSource(InboundChannelAdapterAnnotationPostProcessor.java:100) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.postProcess(InboundChannelAdapterAnnotationPostProcessor.java:72) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.postProcessMethodAndRegisterEndpointIfAny(MessagingAnnotationPostProcessor.java:231) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.lambda$processAnnotationTypeOnMethod$4(MessagingAnnotationPostProcessor.java:220) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.afterSingletonsInstantiated(MessagingAnnotationPostProcessor.java:135) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:941) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:926) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:123) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\n... 72 common frames omitted\n</code></pre>\n"},{"tags":["java","android","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":1849824,"reputation":2350,"user_id":1676587,"display_name":"Phat H. VU"},"score":1,"creation_date":1418699520,"post_id":27457044,"comment_id":43425249,"body_markdown":"You can also use verify to verify exact number of invocations / at least once / never, or make sure interaction(s) never happened on mock","body":"You can also use verify to verify exact number of invocations / at least once / never, or make sure interaction(s) never happened on mock"}],"answers":[{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1598084597,"post_id":27457074,"comment_id":112347355,"body_markdown":"Right, it says `org.mockito.exceptions.verification.WantedButNotInvoked`, thanks weston.","body":"Right, it says <code>org.mockito.exceptions.verification.WantedButNotInvoked</code>, thanks weston."}],"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1418460223,"creation_date":1418460223,"answer_id":27457074,"question_id":27457044,"body_markdown":"It asserts that the method was called, and with those arguments.\n\nComment out:\n\n    //mockedList.add(&quot;one&quot;);\n\nOr change its argument and the test will fail.","title":"Mockito - what does verify method do?","body":"<p>It asserts that the method was called, and with those arguments.</p>\n\n<p>Comment out:</p>\n\n<pre><code>//mockedList.add(\"one\");\n</code></pre>\n\n<p>Or change its argument and the test will fail.</p>\n"},{"tags":[],"owner":{"account_id":1496516,"reputation":2066,"user_id":2422278,"accept_rate":86,"display_name":"kinbiko"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1418460243,"creation_date":1418460243,"answer_id":27457077,"question_id":27457044,"body_markdown":"`Mockito.verify(MockedObject).someMethodOnTheObject(someParametersToTheMethod);`\r\nverifies that the methods you called on your mocked object are indeed called. If they weren&#39;t called, or called with the wrong parameters, or called the wrong number of times, they would fail your test.","title":"Mockito - what does verify method do?","body":"<p><code>Mockito.verify(MockedObject).someMethodOnTheObject(someParametersToTheMethod);</code>\nverifies that the methods you called on your mocked object are indeed called. If they weren't called, or called with the wrong parameters, or called the wrong number of times, they would fail your test.</p>\n"},{"tags":[],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674292858,"creation_date":1674292858,"answer_id":75192282,"question_id":27457044,"body_markdown":"\r\nThe verify() method in Mockito is used to check if a method of an object was called. It is used to make sure that the method was called with certain parameters, the number of times it was called, etc.\r\n\r\n    // Example:\r\n    \r\n    // Create a mock object of a class \r\n    MyClass mockClass = Mockito.mock(MyClass.class); \r\n    \r\n    // Call a method on the mock object \r\n    mockClass.doSomething(); \r\n    \r\n    // Verify that the doSomething() method was called \r\n    Mockito.verify(mockClass).doSomething();","title":"Mockito - what does verify method do?","body":"<p>The verify() method in Mockito is used to check if a method of an object was called. It is used to make sure that the method was called with certain parameters, the number of times it was called, etc.</p>\n<pre><code>// Example:\n\n// Create a mock object of a class \nMyClass mockClass = Mockito.mock(MyClass.class); \n\n// Call a method on the mock object \nmockClass.doSomething(); \n\n// Verify that the doSomething() method was called \nMockito.verify(mockClass).doSomething();\n</code></pre>\n"}],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16874,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":27457077,"answer_count":3,"score":39,"last_activity_date":1674292858,"creation_date":1418459938,"question_id":27457044,"body_markdown":"Let&#39;s say i have the following psuedo like test code: \r\n\r\n     //Let&#39;s import Mockito statically so that the code looks clearer\r\n     import static org.mockito.Mockito.*;\r\n     \r\n     //mock creation\r\n     List mockedList = mock(List.class);\r\n     \r\n     //using mock object\r\n     mockedList.add(&quot;one&quot;);\r\n     mockedList.clear();\r\n     \r\n     //what do these two verify methods do ?\r\n     verify(mockedList).add(&quot;one&quot;);\r\n     verify(mockedList).clear();\r\n\r\n\r\nI keep showing the test passed but i dont know what the verify means ? what is it verifying exactly ? I understand that i mocked a call to add and clear but what does the two verify calls do ?","title":"Mockito - what does verify method do?","body":"<p>Let's say i have the following psuedo like test code: </p>\n\n<pre><code> //Let's import Mockito statically so that the code looks clearer\n import static org.mockito.Mockito.*;\n\n //mock creation\n List mockedList = mock(List.class);\n\n //using mock object\n mockedList.add(\"one\");\n mockedList.clear();\n\n //what do these two verify methods do ?\n verify(mockedList).add(\"one\");\n verify(mockedList).clear();\n</code></pre>\n\n<p>I keep showing the test passed but i dont know what the verify means ? what is it verifying exactly ? I understand that i mocked a call to add and clear but what does the two verify calls do ?</p>\n"},{"tags":["java","spring-boot","spring-mvc","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674293056,"post_id":75192235,"comment_id":132686938,"body_markdown":"[AUTO flush](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#flushing-auto)","body":"<a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#flushing-auto\" rel=\"nofollow noreferrer\">AUTO flush</a>"},{"owner":{"account_id":16348003,"reputation":11,"user_id":11807260,"display_name":"samaz"},"score":0,"creation_date":1674294463,"post_id":75192235,"comment_id":132687130,"body_markdown":"@AndreyB.Panfilov thanks, can u describe it in a simple word please? and is there any way to off this mode? set it to off causes problem?","body":"@AndreyB.Panfilov thanks, can u describe it in a simple word please? and is there any way to off this mode? set it to off causes problem?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674295458,"post_id":75192235,"comment_id":132687269,"body_markdown":"you may disable that either for specific query via query hint: `@QueryHints(value = { @QueryHint(name = org.hibernate.annotations.QueryHints.FLUSH_MODE, value = &quot;COMMIT&quot;) })` or globally via specifying `spring.jpa.properties.org.hibernate.flushMode=COMMIT` in application.properties, however that may drastically change application behaviour, I would suggest to store temporary data in `@Transient` fields","body":"you may disable that either for specific query via query hint: <code>@QueryHints(value = { @QueryHint(name = org.hibernate.annotations.QueryHints.FLUSH_MODE, value = &quot;COMMIT&quot;) })</code> or globally via specifying <code>spring.jpa.properties.org.hibernate.flushMode=COMMIT</code> in application.properties, however that may drastically change application behaviour, I would suggest to store temporary data in <code>@Transient</code> fields"}],"owner":{"account_id":16348003,"reputation":11,"user_id":11807260,"display_name":"samaz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674292223,"creation_date":1674292223,"question_id":75192235,"body_markdown":"I work on a spring boot data jpa web application,\r\nin my controller class (I use thymeleaf for frontend) when i get my attribute field from database, then if the relatedTo filed is null, i valued it a temporary value to handling some things and conditions in thymeleaf:\r\n\r\n`\t Attribute attribute=attributeService.getAttributeById(attrId);\r\n         if(attribute.getRelatedTo()==null)\r\n            attribute.setRelatedTo(new Attribute(-1));\r\n\t`\r\n\r\nbut this line  &quot;attribute.setRelatedTo(new Attribute(-1));&quot; causes an update operation in database by data jpa while i don&#39;t called update yet! and get this foreign key error because of attribute with id=-1 does not exist.\r\n`Cannot add or update a child row: a foreign key constraint fails (`attribute`, CONSTRAINT `attribute_ibfk_2` FOREIGN KEY (`related_to`) REFERENCES `attribute` (`id`) ON UPDATE CASCADE)\r\n`\r\n\r\nwhy is this happening?\r\nthanks.\r\n\r\n\r\n\r\n\r\ni got this error before in another case and try to change my code to avoid this, but i want to find the reason of this functionality of jpa to handle similar cases in future. ","title":"why spring boot data jpa update database field While the update function is not called","body":"<p>I work on a spring boot data jpa web application,\nin my controller class (I use thymeleaf for frontend) when i get my attribute field from database, then if the relatedTo filed is null, i valued it a temporary value to handling some things and conditions in thymeleaf:</p>\n<p><code>   Attribute attribute=attributeService.getAttributeById(attrId); if(attribute.getRelatedTo()==null) attribute.setRelatedTo(new Attribute(-1));</code></p>\n<p>but this line  &quot;attribute.setRelatedTo(new Attribute(-1));&quot; causes an update operation in database by data jpa while i don't called update yet! and get this foreign key error because of attribute with id=-1 does not exist.\n<code>Cannot add or update a child row: a foreign key constraint fails (</code>attribute<code>, CONSTRAINT </code>attribute_ibfk_2<code> FOREIGN KEY (</code>related_to<code>) REFERENCES </code>attribute<code> (</code>id<code>) ON UPDATE CASCADE) </code></p>\n<p>why is this happening?\nthanks.</p>\n<p>i got this error before in another case and try to change my code to avoid this, but i want to find the reason of this functionality of jpa to handle similar cases in future.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674292067,"creation_date":1674292067,"answer_id":75192219,"question_id":75191384,"body_markdown":"## [`@DynamoDBAutoGeneratedKey`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGeneratedKey.html)\r\n\r\n&gt;Annotation for marking a hash key or range key property in a class to auto-generate this key. Only String typed keys can be auto generated, and are given a random UUID. The annotation can be applied to either the getter method or the class field for the auto-generated key property. If the annotation is applied directly to the class field, the corresponding getter and setter must be declared in the same class. This annotation can be applied to both primary and index keys.","title":"Hash key in DynamoDB","body":"<h2><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGeneratedKey.html\" rel=\"nofollow noreferrer\"><code>@DynamoDBAutoGeneratedKey</code></a></h2>\n<blockquote>\n<p>Annotation for marking a hash key or range key property in a class to auto-generate this key. Only String typed keys can be auto generated, and are given a random UUID. The annotation can be applied to either the getter method or the class field for the auto-generated key property. If the annotation is applied directly to the class field, the corresponding getter and setter must be declared in the same class. This annotation can be applied to both primary and index keys.</p>\n</blockquote>\n"}],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674333421,"answer_count":1,"score":0,"last_activity_date":1674292111,"creation_date":1674279981,"question_id":75191384,"body_markdown":"    @DynamoDBTable(tableName = &quot;student_table&quot;)\r\n    public class Stduent {\r\n\t\r\n\t@DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n    private int id;\r\n\r\nI am not understanding what is the use of the below code?\r\n\t\r\n\t@DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n    private int id;","title":"Hash key in DynamoDB","body":"<pre><code>@DynamoDBTable(tableName = &quot;student_table&quot;)\npublic class Stduent {\n\n@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate int id;\n</code></pre>\n<p>I am not understanding what is the use of the below code?</p>\n<pre><code>@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate int id;\n</code></pre>\n"},{"tags":["java","spring-boot","flyway"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674006469,"post_id":75153891,"comment_id":132621679,"body_markdown":"that is exactly what `Flyway` is supposed to do.","body":"that is exactly what <code>Flyway</code> is supposed to do."},{"owner":{"account_id":22634404,"reputation":1,"user_id":16811417,"display_name":"Nob"},"score":0,"creation_date":1674010973,"post_id":75153891,"comment_id":132622196,"body_markdown":"@Andrey B. Panfilov which page should I look at in Flyway document in order to refer to what I want to know?","body":"@Andrey B. Panfilov which page should I look at in Flyway document in order to refer to what I want to know?"}],"owner":{"account_id":22634404,"reputation":1,"user_id":16811417,"display_name":"Nob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674291452,"creation_date":1674005622,"question_id":75153891,"body_markdown":" have a question about the data initialization of newly added columns on some tables in the case of the SpringBoot app\r\n\r\nour team would like to add a new column to the existing table\r\n\r\n&amp; after we ran the table schema migration,\r\nall the data in the newly added column are NULL\r\n\r\nthen, we&#39;d like to set data, referencing another column,\r\nthat means I wonder if there is some way to run SQL update statements at the SpringBooot app&#39;s start-up like table schema can be updated at the same timing with Flyway\r\n\r\nis it possible? &amp; if so, can anyone introduce some article about this into me?\r\n\r\nWhat did you try: I&#39;M not a member of implementation, so I&#39;M in the middle of research\r\n\r\n\r\nwhat were you expecting?: data of newly added column can be set at app&#39;s startup","title":"how to initialize data of newly added column at app startup? ~ Java, SpringBoot, DB","body":"<p>have a question about the data initialization of newly added columns on some tables in the case of the SpringBoot app</p>\n<p>our team would like to add a new column to the existing table</p>\n<p>&amp; after we ran the table schema migration,\nall the data in the newly added column are NULL</p>\n<p>then, we'd like to set data, referencing another column,\nthat means I wonder if there is some way to run SQL update statements at the SpringBooot app's start-up like table schema can be updated at the same timing with Flyway</p>\n<p>is it possible? &amp; if so, can anyone introduce some article about this into me?</p>\n<p>What did you try: I'M not a member of implementation, so I'M in the middle of research</p>\n<p>what were you expecting?: data of newly added column can be set at app's startup</p>\n"},{"tags":["java","spring","completable-future"],"comments":[{"owner":{"account_id":5407075,"reputation":1114,"user_id":4305223,"display_name":"Jiwon"},"score":0,"creation_date":1674291417,"post_id":75192018,"comment_id":132686774,"body_markdown":"@user16320675 Thank you for the comment. I used `whenCompleteAsync()` instead of `get()`, and added the code snippet related to this.","body":"@user16320675 Thank you for the comment. I used <code>whenCompleteAsync()</code> instead of <code>get()</code>, and added the code snippet related to this."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1674317687,"post_id":75192018,"comment_id":132690975,"body_markdown":"I tried your code and got a `CompletionException`. Please provide a [mre]. For it to be minimal, you should probably remove the Spring/`DeferredResult` part as they don’t seem to be related to the problem.","body":"I tried your code and got a <code>CompletionException</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For it to be minimal, you should probably remove the Spring/<code>DeferredResult</code> part as they don’t seem to be related to the problem."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674460553,"post_id":75192018,"comment_id":132710504,"body_markdown":"As a side note, it’s very confusing to name a parameter `executor` when it is actually a `Throwable`.","body":"As a side note, it’s very confusing to name a parameter <code>executor</code> when it is actually a <code>Throwable</code>."}],"owner":{"account_id":5407075,"reputation":1114,"user_id":4305223,"display_name":"Jiwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674291205,"creation_date":1674289718,"question_id":75192018,"body_markdown":"Below is exception handling java code using CompletableFuture.  \r\nI intentionally raise `InvalidParameterException` in the subthread.    \r\n```\r\n    public CompletableFuture&lt;Object&gt; myCompletableFuture() throws CompletionException {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            try {\r\n                    // While doing some tasks...\r\n                    // InvalidParameterException arises in here...\r\n                    // ...\r\n                });\r\n            } catch (Exception e){ \r\n                throw new CompletionException(e); \r\n            }\r\n        });\r\n    }\r\n```\r\n(Edited) And above Future is activated by calling `whenCompleteAsync`. \r\n```\r\nDeferredResult&lt;Object&gt; myFunc() throws CompletionException {\r\n      DeferredResult&lt;Object&gt; deferredResult = new DeferredResult&lt;&gt;();\r\n      myCompletableFuture().whenCompleteAsync((result, executor) -&gt; {\r\n         if (executor != null) {\r\n            deferredResult.setErrorResult(executor);\r\n         } else {\r\n            deferredResult.setResult(result);\r\n         }\r\n      });\r\n      return deferredResult;\r\n}\r\n```\r\n***What I&#39;v expected:***  \r\n`java.util.concurrent.CompletionException: InvalidParameterException(param:myparam)`\r\n\r\n***Actual:***  \r\n`java.util.concurrent.ExecutionException: InvalidParameterException(param:myparam)`\r\n\r\n***Question:***   \r\nWhy exception wraps `ExecutionException` instead of `CompletionException`?","title":"I threw CompletionException, but ExecutionException arises. Why?","body":"<p>Below is exception handling java code using CompletableFuture.<br />\nI intentionally raise <code>InvalidParameterException</code> in the subthread.</p>\n<pre><code>    public CompletableFuture&lt;Object&gt; myCompletableFuture() throws CompletionException {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                    // While doing some tasks...\n                    // InvalidParameterException arises in here...\n                    // ...\n                });\n            } catch (Exception e){ \n                throw new CompletionException(e); \n            }\n        });\n    }\n</code></pre>\n<p>(Edited) And above Future is activated by calling <code>whenCompleteAsync</code>.</p>\n<pre><code>DeferredResult&lt;Object&gt; myFunc() throws CompletionException {\n      DeferredResult&lt;Object&gt; deferredResult = new DeferredResult&lt;&gt;();\n      myCompletableFuture().whenCompleteAsync((result, executor) -&gt; {\n         if (executor != null) {\n            deferredResult.setErrorResult(executor);\n         } else {\n            deferredResult.setResult(result);\n         }\n      });\n      return deferredResult;\n}\n</code></pre>\n<p><em><strong>What I'v expected:</strong></em><br />\n<code>java.util.concurrent.CompletionException: InvalidParameterException(param:myparam)</code></p>\n<p><em><strong>Actual:</strong></em><br />\n<code>java.util.concurrent.ExecutionException: InvalidParameterException(param:myparam)</code></p>\n<p><em><strong>Question:</strong></em><br />\nWhy exception wraps <code>ExecutionException</code> instead of <code>CompletionException</code>?</p>\n"},{"tags":["java","xml","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674217381,"post_id":75183727,"comment_id":132672204,"body_markdown":"`C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml` , where  is your `${appVersion}`","body":"<code>C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml</code> , where  is your <code>${appVersion}</code>"},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1674217689,"post_id":75183727,"comment_id":132672298,"body_markdown":"@life888888 thanks for the comment, it stored in properties in that pom.cml &lt;appVersion&gt;0.0.40-SNAPSHOT&lt;/appVersion&gt;","body":"@life888888 thanks for the comment, it stored in properties in that pom.cml &lt;appVersion&gt;0.0.40-SNAPSHOT&lt;/appVersion&gt;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674218002,"post_id":75183727,"comment_id":132672399,"body_markdown":"Will your `test` profile be enabled forever? Because your property `current.jbossWeb` is defined in the test profile block, that is, **if the test profile is not enabled**, there should be no `current.jbossWeb` property set.","body":"Will your <code>test</code> profile be enabled forever? Because your property <code>current.jbossWeb</code> is defined in the test profile block, that is, <b>if the test profile is not enabled</b>, there should be no <code>current.jbossWeb</code> property set."},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1674218606,"post_id":75183727,"comment_id":132672584,"body_markdown":"Hi, yes each profile has setted the property with value to securityOff or securityOn and I was trying with the test profile","body":"Hi, yes each profile has setted the property with value to securityOff or securityOn and I was trying with the test profile"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674220941,"post_id":75183727,"comment_id":132673226,"body_markdown":"Simply answer to this: `&lt;version&gt;${appVersion}&lt;/version&gt;` that does not work. There is only one way to reach something alike via https://maven.apache.org/maven-ci-friendly.html (But most recent version really recommended.)","body":"Simply answer to this: <code>&lt;version&gt;${appVersion}&lt;&#47;version&gt;</code> that does not work. There is only one way to reach something alike via <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a> (But most recent version really recommended.)"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674290361,"creation_date":1674215997,"question_id":75183727,"body_markdown":"I have 3 pom.xml,\r\nIn one pom I have the profiles for test/prod.., depending on which one is active there are 2 folder it could be choose, the problem is when I update maven I get this error:\r\n\r\n         on project projWeb: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.2.2:war fai\r\n    led: basedir C:\\Progetti\\Proj\\sviluppo\\archicon\\projWeb\\src\\main\\webapp\\WEB-INF\\jbossWeb\\${current.jbossWeb} does not exist -\r\n\r\nin the parent pom I have this: `C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml`\r\n\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;it.sisal&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n    &lt;version&gt;${appVersion}&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;Proj&lt;/name&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;projWeb&lt;/module&gt;\r\n        &lt;module&gt;projEAR&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    ....\r\n    &lt;profile&gt;\r\n                &lt;id&gt;test&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;environment.profile&gt;test&lt;/environment.profile&gt;\r\n                    &lt;current.jbossWeb&gt;securityOff&lt;/current.jbossWeb&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n\r\nIn my child pom.xml: `C:\\Progetti\\Proj\\sviluppo\\proj\\projWeb\\pom.xml`\r\n \r\n\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;it.sisal&lt;/groupId&gt;\r\n        &lt;artifactId&gt;projWeb&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;0.0.40-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Proj Web&lt;/name&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n            &lt;groupId&gt;it.sisal&lt;/groupId&gt;\r\n            &lt;version&gt;${appVersion}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n     &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- \t\t\t\t\t&lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt; --&gt;\r\n                        &lt;webXml&gt;${current.webXml}&lt;/webXml&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                        &lt;!-- \t\t\t\t\t&lt;warSourceExcludes&gt;css/&lt;/warSourceExcludes&gt; --&gt;\r\n                        &lt;webResources&gt;\r\n                            &lt;resource&gt;\r\n                                &lt;directory&gt;${jbossWeb.folder}/${current.jbossWeb}&lt;/directory&gt;\r\n                                &lt;targetPath&gt;WEB-INF&lt;/targetPath&gt;\r\n                            &lt;/resource&gt;\r\n                        &lt;/webResources&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nEven in Intellij I can see: [![enter image description here][1]][1]\r\n\r\nCan Somebody could explain me why Can&#39;t I get the property and how could I solve it, please.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N722X.png","title":"Maven errors to get a property from another pom","body":"<p>I have 3 pom.xml,\nIn one pom I have the profiles for test/prod.., depending on which one is active there are 2 folder it could be choose, the problem is when I update maven I get this error:</p>\n<pre><code>     on project projWeb: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.2.2:war fai\nled: basedir C:\\Progetti\\Proj\\sviluppo\\archicon\\projWeb\\src\\main\\webapp\\WEB-INF\\jbossWeb\\${current.jbossWeb} does not exist -\n</code></pre>\n<p>in the parent pom I have this: <code>C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml</code></p>\n<pre><code>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;it.sisal&lt;/groupId&gt;\n&lt;artifactId&gt;proj&lt;/artifactId&gt;\n&lt;version&gt;${appVersion}&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;name&gt;Proj&lt;/name&gt;\n&lt;modules&gt;\n    &lt;module&gt;projWeb&lt;/module&gt;\n    &lt;module&gt;projEAR&lt;/module&gt;\n&lt;/modules&gt;\n....\n&lt;profile&gt;\n            &lt;id&gt;test&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;environment.profile&gt;test&lt;/environment.profile&gt;\n                &lt;current.jbossWeb&gt;securityOff&lt;/current.jbossWeb&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>In my child pom.xml: <code>C:\\Progetti\\Proj\\sviluppo\\proj\\projWeb\\pom.xml</code></p>\n<pre><code> &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;it.sisal&lt;/groupId&gt;\n    &lt;artifactId&gt;projWeb&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.40-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Proj Web&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;proj&lt;/artifactId&gt;\n        &lt;groupId&gt;it.sisal&lt;/groupId&gt;\n        &lt;version&gt;${appVersion}&lt;/version&gt;\n    &lt;/parent&gt;\n &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--                    &lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt; --&gt;\n                    &lt;webXml&gt;${current.webXml}&lt;/webXml&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                    &lt;!--                    &lt;warSourceExcludes&gt;css/&lt;/warSourceExcludes&gt; --&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;${jbossWeb.folder}/${current.jbossWeb}&lt;/directory&gt;\n                            &lt;targetPath&gt;WEB-INF&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Even in Intellij I can see: <a href=\"https://i.stack.imgur.com/N722X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N722X.png\" alt=\"enter image description here\" /></a></p>\n<p>Can Somebody could explain me why Can't I get the property and how could I solve it, please.</p>\n"},{"tags":["java","performance","while-loop","try-catch"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1674286787,"post_id":75191788,"comment_id":132686343,"body_markdown":"Where do you set `x` to something else than `1`? That would be the only cause to break the `do` ... `while(x == 1)` loop.","body":"Where do you set <code>x</code> to something else than <code>1</code>? That would be the only cause to break the <code>do</code> ... <code>while(x == 1)</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674289828,"creation_date":1674289828,"answer_id":75192029,"question_id":75191788,"body_markdown":"The do loop executes as long as the value of x is 1. Which in your case is not changed even when the desired result is achieved.\r\n\r\nMay be try updating the value of x to some other value except 1 in valid scenario as well.","title":"Why I am not getting out of loop? Even My input is correct","body":"<p>The do loop executes as long as the value of x is 1. Which in your case is not changed even when the desired result is achieved.</p>\n<p>May be try updating the value of x to some other value except 1 in valid scenario as well.</p>\n"}],"owner":{"account_id":26150316,"reputation":1,"user_id":19838382,"display_name":"Mohd Zeeshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674289828,"creation_date":1674286253,"question_id":75191788,"body_markdown":"public void getLogin()throws IOException{\r\n\t\tint x=1;\r\n\t\t\r\n\t\tdo {\r\n\t\t\ttry {\r\n\t\t\t\tdata.put(961668\t, 2255);\r\n\t\t\t\tdata.put(961768\t, 2253);\r\n\t\t\t\tdata.put(961568\t, 2353);\r\n\r\n\t\t\t\tSystem.out.println(&quot;----------Welcome to the ATM Machine Project----------&quot;);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Enter your Account number: &quot;);\r\n\t\t\t\tsetAccountNumber(menuOutput.nextInt());\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Enter your correct PIN number: &quot;);\r\n\t\t\t\tsetPinNumber(menuOutput.nextInt());\r\n\t\t\t\r\n\t\t\t}catch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;\\n&quot;+&quot;You have Enter Incorrect value !! you have to enter only numbers: &quot;+&quot;\\n&quot;);\r\n\t\t\t\tx=2;\r\n\t\t\t}\r\n\t\t\tfor(Entry&lt;Integer, Integer&gt; entry : data.entrySet()) {\r\n\t\t\t\tif(entry.getKey()== getAccountNumber() &amp;&amp; entry.getValue()== getPinNumber()) {\r\n\t\t\t\t\tgetAccountType();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;\\n&quot;+&quot;Wrong Account or Pin Number &quot;+&quot;\\n&quot;);\r\n\t\t}while(x == 1);\r\n\t}\r\n\r\nIs there any reason, performance or otherwise, to prefer one over the other?\r\nWhere am I doing Mistake?  I check every thing.","title":"Why I am not getting out of loop? Even My input is correct","body":"<p>public void getLogin()throws IOException{\nint x=1;</p>\n<pre><code>    do {\n        try {\n            data.put(961668 , 2255);\n            data.put(961768 , 2253);\n            data.put(961568 , 2353);\n\n            System.out.println(&quot;----------Welcome to the ATM Machine Project----------&quot;);\n            \n            System.out.println(&quot;Enter your Account number: &quot;);\n            setAccountNumber(menuOutput.nextInt());\n            \n            System.out.println(&quot;Enter your correct PIN number: &quot;);\n            setPinNumber(menuOutput.nextInt());\n        \n        }catch (Exception e) {\n            System.out.println(&quot;\\n&quot;+&quot;You have Enter Incorrect value !! you have to enter only numbers: &quot;+&quot;\\n&quot;);\n            x=2;\n        }\n        for(Entry&lt;Integer, Integer&gt; entry : data.entrySet()) {\n            if(entry.getKey()== getAccountNumber() &amp;&amp; entry.getValue()== getPinNumber()) {\n                getAccountType();\n            }\n        }\n        System.out.println(&quot;\\n&quot;+&quot;Wrong Account or Pin Number &quot;+&quot;\\n&quot;);\n    }while(x == 1);\n}\n</code></pre>\n<p>Is there any reason, performance or otherwise, to prefer one over the other?\nWhere am I doing Mistake?  I check every thing.</p>\n"},{"tags":["java","android"],"owner":{"account_id":15465752,"reputation":111,"user_id":11157146,"display_name":"Dennis Manicani Jr."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674289658,"creation_date":1674289658,"question_id":75192012,"body_markdown":"Is it possible to use INTENT.ACTION_SEND to send files through bluetooth devices using serial bluetooth (e.g. HC-05)? It can search for Android devices but can&#39;t see HC-05 in the list. I can only see HC-05 when searching for bluetooth devices in the settings. \r\n\r\n\r\nI currently use this code to send files using ACTION_SEND\r\n\r\n    /**\r\n     * Sends the file using Android&#39;s Bluetooth FTP.\r\n     */\r\n    private void shareFileUsingIntent(String path) {\r\n        File fileToBeSent = new File(path);\r\n        String mimeType = getMimeType(Uri.fromFile(fileToBeSent));\r\n        Uri uri = FileProvider.getUriForFile(\r\n                BluetoothSend.this,\r\n                getApplicationContext().getPackageName() + &quot;.fileprovider&quot;,\r\n                fileToBeSent\r\n        );\r\n        Intent sendIntent = new Intent();\r\n        sendIntent.setAction(Intent.ACTION_SEND);\r\n        sendIntent.setPackage(&quot;com.android.bluetooth&quot;);\r\n        sendIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        sendIntent.putExtra(Intent.EXTRA_STREAM, uri);\r\n        sendIntent.setType(mimeType);\r\n        startActivity(Intent.createChooser(sendIntent, &quot;Share file&quot;));\r\n    }\r\n","title":"Using INTENT ACTION_SEND to send files to serial Bluetooth device (HC-05)","body":"<p>Is it possible to use INTENT.ACTION_SEND to send files through bluetooth devices using serial bluetooth (e.g. HC-05)? It can search for Android devices but can't see HC-05 in the list. I can only see HC-05 when searching for bluetooth devices in the settings.</p>\n<p>I currently use this code to send files using ACTION_SEND</p>\n<pre><code>/**\n * Sends the file using Android's Bluetooth FTP.\n */\nprivate void shareFileUsingIntent(String path) {\n    File fileToBeSent = new File(path);\n    String mimeType = getMimeType(Uri.fromFile(fileToBeSent));\n    Uri uri = FileProvider.getUriForFile(\n            BluetoothSend.this,\n            getApplicationContext().getPackageName() + &quot;.fileprovider&quot;,\n            fileToBeSent\n    );\n    Intent sendIntent = new Intent();\n    sendIntent.setAction(Intent.ACTION_SEND);\n    sendIntent.setPackage(&quot;com.android.bluetooth&quot;);\n    sendIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    sendIntent.putExtra(Intent.EXTRA_STREAM, uri);\n    sendIntent.setType(mimeType);\n    startActivity(Intent.createChooser(sendIntent, &quot;Share file&quot;));\n}\n</code></pre>\n"},{"tags":["java","database","postgresql","jms","publishing"],"answers":[{"comments":[{"owner":{"account_id":7460,"reputation":109058,"user_id":12983,"accept_rate":97,"display_name":"TM."},"score":2,"creation_date":1258733022,"post_id":1771431,"comment_id":1656181,"body_markdown":"PostgreSQL does offer stored procedures in Java.  &quot;PostgreSQL runs stored procedures in more than a dozen programming languages, including Java, Perl, Python, Ruby, Tcl, C/C++, and its own PL/pgSQL, which is similar to Oracle&#39;s PL/SQL.&quot;  -  http://www.postgresql.org/about/","body":"PostgreSQL does offer stored procedures in Java.  &quot;PostgreSQL runs stored procedures in more than a dozen programming languages, including Java, Perl, Python, Ruby, Tcl, C/C++, and its own PL/pgSQL, which is similar to Oracle&#39;s PL/SQL.&quot;  -  <a href=\"http://www.postgresql.org/about/\" rel=\"nofollow noreferrer\">postgresql.org/about</a>"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1258746745,"post_id":1771431,"comment_id":1657934,"body_markdown":"Well, that first sentence was qualified by &quot;as far as I can tell&quot;. The rest is and remains useful information regardless. I&#39;m about to go update my answer to reflect the greater truth now.","body":"Well, that first sentence was qualified by &quot;as far as I can tell&quot;. The rest is and remains useful information regardless. I&#39;m about to go update my answer to reflect the greater truth now."},{"owner":{"account_id":45798,"reputation":327472,"user_id":135152,"accept_rate":100,"display_name":"OMG Ponies"},"score":1,"creation_date":1258828872,"post_id":1771431,"comment_id":1661954,"body_markdown":"@TM: It&#39;s a courtesy to give someone a little time to correct their answer based on your comments.  We can&#39;t all be 100% correct, all the time.","body":"@TM: It&#39;s a courtesy to give someone a little time to correct their answer based on your comments.  We can&#39;t all be 100% correct, all the time."}],"tags":[],"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"comment_count":3,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1258746875,"creation_date":1258732722,"answer_id":1771431,"question_id":1771350,"body_markdown":"**EDIT:** I&#39;ve been informed that PostgreSQL *does* support stored procedures in Java. That means the following approach becomes feasible:\r\n\r\nEssentially, the way I would go is to put a trigger on whatever it is you want to watch, and then call a stored procedure from that. The stored procedure then needs to communicate with the world outside the DB server; I once did an SP like this in Java that opened up a socket connection to a process on the same server listening on a port. If worst came to worst, you could maybe write a file and have something like imon monitoring that file, or you could start up a program in an exec() shell of its own... something like that.","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p><strong>EDIT:</strong> I've been informed that PostgreSQL <em>does</em> support stored procedures in Java. That means the following approach becomes feasible:</p>\n\n<p>Essentially, the way I would go is to put a trigger on whatever it is you want to watch, and then call a stored procedure from that. The stored procedure then needs to communicate with the world outside the DB server; I once did an SP like this in Java that opened up a socket connection to a process on the same server listening on a port. If worst came to worst, you could maybe write a file and have something like imon monitoring that file, or you could start up a program in an exec() shell of its own... something like that.</p>\n"},{"comments":[{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1258734628,"post_id":1771571,"comment_id":1656402,"body_markdown":"Hmm. As already stated, I&#39;m no Postgres expert, and would have welomed finding out about cool new capabilities. However, here: &lt;http://jdbc.postgresql.org/documentation/83/listennotify.html&gt; they say: &quot;A key limitation of the JDBC driver is that it cannot receive asynchronous notifications and must poll the backend to check if any notifications were issued.&quot; Polling would be a bummer.","body":"Hmm. As already stated, I&#39;m no Postgres expert, and would have welomed finding out about cool new capabilities. However, here: &lt;<a href=\"http://jdbc.postgresql.org/documentation/83/listennotify.html\" rel=\"nofollow noreferrer\">jdbc.postgresql.org/documentation/83/listennotify.html</a>&gt; they say: &quot;A key limitation of the JDBC driver is that it cannot receive asynchronous notifications and must poll the backend to check if any notifications were issued.&quot; Polling would be a bummer."},{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":0,"creation_date":1403291872,"post_id":1771571,"comment_id":37617499,"body_markdown":"You can use the pgjdbc-ng driver for async notifications https://github.com/impossibl/pgjdbc-ng","body":"You can use the pgjdbc-ng driver for async notifications <a href=\"https://github.com/impossibl/pgjdbc-ng\" rel=\"nofollow noreferrer\">github.com/impossibl/pgjdbc-ng</a>"}],"tags":[],"owner":{"display_name":"user80168"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1258733828,"creation_date":1258733828,"answer_id":1771571,"question_id":1771350,"body_markdown":"the simplest approach is to use [LISTEN][1]/[NOTIFY][2] interface, write your own program that connects to database, issues some LISTENs, and does whatever you want when it gets notification - for example sens information over JMS, or simply does what should be done, without adding additional transportation layer.\r\n\r\n [1]: http://www.postgresql.org/docs/current/interactive/sql-listen.html\r\n [2]: http://www.postgresql.org/docs/current/interactive/sql-notify.html","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>the simplest approach is to use <a href=\"http://www.postgresql.org/docs/current/interactive/sql-listen.html\" rel=\"nofollow noreferrer\">LISTEN</a>/<a href=\"http://www.postgresql.org/docs/current/interactive/sql-notify.html\" rel=\"nofollow noreferrer\">NOTIFY</a> interface, write your own program that connects to database, issues some LISTENs, and does whatever you want when it gets notification - for example sens information over JMS, or simply does what should be done, without adding additional transportation layer.</p>\n"},{"tags":[],"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259189268,"creation_date":1259189268,"answer_id":1800475,"question_id":1771350,"body_markdown":"If LISTEN/NOTIFY isn&#39;t accessible via JDBC, perhaps you could implement a long-polling HTTP  comet-like mechanism via the [LOCK][1] statement, or plain &quot;SELECT ... FOR UPDATE&quot; and &quot;SELECT ... FOR SHARE&quot; or other similar queries from within a transaction that&#39;d cause other transactions to block.\r\n\r\nThe message-writing party could e.g. start a transaction, perform &quot;SELECT ... FOR UPDATE&quot;, wait (java code) until either something changes, or a timer expires (say after 30 seconds or so), update the locked row to indicate if data (elsewhere?) is available and commit the transaction to unblock others. Then repeat with a new transaction with &quot;SELECT ... FOR UPDATE&quot; immediately.\r\n\r\nThe message-reading party would perform a &quot;SELECT ... FOR SHARE&quot; which would block while a &quot;SELECT ... FOR UPDATE&quot; initiated elsewhere is active. It&#39;d return an indication of message availability or the message data itself when the message-writing party&#39;s transaction ends.\r\n\r\nHopefully PostgreSQL queues the parties fairly, so that there&#39;s no risk of live-lock continuously blocking the message-reading party.\r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/current/interactive/sql-lock.html","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>If LISTEN/NOTIFY isn't accessible via JDBC, perhaps you could implement a long-polling HTTP  comet-like mechanism via the <a href=\"http://www.postgresql.org/docs/current/interactive/sql-lock.html\" rel=\"nofollow noreferrer\">LOCK</a> statement, or plain \"SELECT ... FOR UPDATE\" and \"SELECT ... FOR SHARE\" or other similar queries from within a transaction that'd cause other transactions to block.</p>\n\n<p>The message-writing party could e.g. start a transaction, perform \"SELECT ... FOR UPDATE\", wait (java code) until either something changes, or a timer expires (say after 30 seconds or so), update the locked row to indicate if data (elsewhere?) is available and commit the transaction to unblock others. Then repeat with a new transaction with \"SELECT ... FOR UPDATE\" immediately.</p>\n\n<p>The message-reading party would perform a \"SELECT ... FOR SHARE\" which would block while a \"SELECT ... FOR UPDATE\" initiated elsewhere is active. It'd return an indication of message availability or the message data itself when the message-writing party's transaction ends.</p>\n\n<p>Hopefully PostgreSQL queues the parties fairly, so that there's no risk of live-lock continuously blocking the message-reading party.</p>\n"},{"tags":[],"owner":{"account_id":178224,"reputation":91,"user_id":410052,"display_name":"Laazik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259190533,"creation_date":1259190533,"answer_id":1800574,"question_id":1771350,"body_markdown":"I would install [PL/Java][1] to Postgres and write a stored procedure based trigger for the the data you are interested in, which then calls JMS when being called. PL/Java documentation covers the trigger + stored procedure part pretty nicely btw.\r\n\r\nI haven&#39;t used the JMS from the trigger code, but I&#39;m pretty certain that there are no reasons why it wouldn&#39;t be doable, as this is standard Java code and my quick recheck on the documentation also didn&#39;t indicate anything suspicious.\r\n\r\nAnother possibility would be to call the JMS through a proxy service using either, perl, python or any other language that is available for postgres stored procedure development. Just as the JMS doesn&#39;t have a standard wire protocol you have to write a proxy service which does the translation.\r\n\r\n\r\n  [1]: http://pgfoundry.org/projects/pljava/?downloads","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>I would install <a href=\"http://pgfoundry.org/projects/pljava/?downloads\" rel=\"nofollow noreferrer\">PL/Java</a> to Postgres and write a stored procedure based trigger for the the data you are interested in, which then calls JMS when being called. PL/Java documentation covers the trigger + stored procedure part pretty nicely btw.</p>\n\n<p>I haven't used the JMS from the trigger code, but I'm pretty certain that there are no reasons why it wouldn't be doable, as this is standard Java code and my quick recheck on the documentation also didn't indicate anything suspicious.</p>\n\n<p>Another possibility would be to call the JMS through a proxy service using either, perl, python or any other language that is available for postgres stored procedure development. Just as the JMS doesn't have a standard wire protocol you have to write a proxy service which does the translation.</p>\n"},{"tags":[],"owner":{"account_id":71085,"reputation":105200,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259363960,"creation_date":1259363960,"answer_id":1810968,"question_id":1771350,"body_markdown":"You can certainly create a Java-language stored procedure and put it into PostgreSQL. But why not keep it simple and debuggable until you know you have your messaging scheme working perfectly?  If I were doing this  (I am actually doing something similar) here&#39;s what I&#39;d do.\r\n\r\n(1) create an &quot;outbound message&quot; table with columns for the payload and other info for your JMS messages. I&#39;d put a timestamp column in each row.\r\n\r\n(2) write a database trigger for each item that you want to generate a message.  Have the trigger INSERT a row into your &quot;outbound message&quot; table.\r\n\r\n(3) unit test (1) and (2) by looking at the contents of your outbound message table as you change stuff in your database that should generate messages.\r\n\r\n(4) write yourself a simple but high-performance Java JDBC client program that will query this outbound message table, send a JMS message for each row, and then DELETE it.  Order the rows in your query by timestamp to preserve your message order.  To get it to be high performance you&#39;ll need to do a good job with PreparedStatement objects and other aspects of heap management.\r\n\r\n(5) Unit test (4) by running it a few times while message-generating changes are happening to your data base.\r\n\r\n(6) set up this program to repeat operation (6) several times a minute, while using a single persistent JDBC connection.  Queries to a small or empty table aren&#39;t very expensive, so this won&#39;t smack down your table server. \r\n\r\n(7) system test this whole setup.\r\n\r\n(8) figure out how to start your Java program from your crontab or your startup script.\r\n\r\nWhen you get all this working you&#39;ll have a functioning messaging / notification system ready for systems integration.  More importantly, you&#39;ll know exactly what you want your Java message-originating software to do.  Once you&#39;re up and running, if the latency of your messages or the database overhead proves to be a big problem, then you can migrate your Java program into a stored procedure.\r\n\r\nNote also that there are message-origination bindings for PERL and other languages built into the Apache ActiveMQ package, so you have some choices about how you implement your message-originating agent.\r\n\r\nThis approach happens to have two advantages:  you aren&#39;t critically dependent on postgreSQL&#39;s distinctive stored-procedure scheme, and you aren&#39;t putting code with external communications dependencies into your table server.\r\n\r\nGood luck.","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>You can certainly create a Java-language stored procedure and put it into PostgreSQL. But why not keep it simple and debuggable until you know you have your messaging scheme working perfectly?  If I were doing this  (I am actually doing something similar) here's what I'd do.</p>\n\n<p>(1) create an \"outbound message\" table with columns for the payload and other info for your JMS messages. I'd put a timestamp column in each row.</p>\n\n<p>(2) write a database trigger for each item that you want to generate a message.  Have the trigger INSERT a row into your \"outbound message\" table.</p>\n\n<p>(3) unit test (1) and (2) by looking at the contents of your outbound message table as you change stuff in your database that should generate messages.</p>\n\n<p>(4) write yourself a simple but high-performance Java JDBC client program that will query this outbound message table, send a JMS message for each row, and then DELETE it.  Order the rows in your query by timestamp to preserve your message order.  To get it to be high performance you'll need to do a good job with PreparedStatement objects and other aspects of heap management.</p>\n\n<p>(5) Unit test (4) by running it a few times while message-generating changes are happening to your data base.</p>\n\n<p>(6) set up this program to repeat operation (6) several times a minute, while using a single persistent JDBC connection.  Queries to a small or empty table aren't very expensive, so this won't smack down your table server. </p>\n\n<p>(7) system test this whole setup.</p>\n\n<p>(8) figure out how to start your Java program from your crontab or your startup script.</p>\n\n<p>When you get all this working you'll have a functioning messaging / notification system ready for systems integration.  More importantly, you'll know exactly what you want your Java message-originating software to do.  Once you're up and running, if the latency of your messages or the database overhead proves to be a big problem, then you can migrate your Java program into a stored procedure.</p>\n\n<p>Note also that there are message-origination bindings for PERL and other languages built into the Apache ActiveMQ package, so you have some choices about how you implement your message-originating agent.</p>\n\n<p>This approach happens to have two advantages:  you aren't critically dependent on postgreSQL's distinctive stored-procedure scheme, and you aren't putting code with external communications dependencies into your table server.</p>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":445017,"reputation":1103,"user_id":837189,"display_name":"scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674289503,"creation_date":1674260851,"answer_id":75190462,"question_id":1771350,"body_markdown":"Since the original question mentions JMS, consider using Apache ActiveMQ. ActiveMQ can use an SQL database for message persistence and supports Postgres in this way, see:\r\nhttps://activemq.apache.org/jdbc-support\r\n\r\nIf you don&#39;t want to run the ActiveMQ broker as a separate service, it can be run in embedded mode as described here:\r\nhttps://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection\r\n\r\nThough I&#39;m not sure if there are any limitations when running it embedded","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>Since the original question mentions JMS, consider using Apache ActiveMQ. ActiveMQ can use an SQL database for message persistence and supports Postgres in this way, see:\n<a href=\"https://activemq.apache.org/jdbc-support\" rel=\"nofollow noreferrer\">https://activemq.apache.org/jdbc-support</a></p>\n<p>If you don't want to run the ActiveMQ broker as a separate service, it can be run in embedded mode as described here:\n<a href=\"https://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection\" rel=\"nofollow noreferrer\">https://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection</a></p>\n<p>Though I'm not sure if there are any limitations when running it embedded</p>\n"}],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5550,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1771431,"answer_count":6,"score":4,"last_activity_date":1674289503,"creation_date":1258731873,"question_id":1771350,"body_markdown":"I want to have my PostgreSQL server send out notifications when a piece of data changes, preferably over JMS, but also considering any other Pub-Sub mechanism or Callback.\r\n\r\nAny ideas if this is possible?\r\n\r\nAre there any available Java Add-on Packages that replicate this sort of functionality?","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>I want to have my PostgreSQL server send out notifications when a piece of data changes, preferably over JMS, but also considering any other Pub-Sub mechanism or Callback.</p>\n\n<p>Any ideas if this is possible?</p>\n\n<p>Are there any available Java Add-on Packages that replicate this sort of functionality?</p>\n"},{"tags":["java","c++"],"owner":{"account_id":12489083,"reputation":599,"user_id":9091289,"display_name":"Roboman Robo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674289331,"creation_date":1674289331,"question_id":75191986,"body_markdown":"Making a C++ program and want to receive values from a Java Api using Java method calls.\r\n\r\nI have tried using Java Virtual Machines in C++ but it did not work so far. (New to C++ and Java)\r\n\r\nHow can I set C++ variables with the outputs from Java Methods?\r\n\r\n--\r\n\r\n\r\nPseudo code of Desired Outcome:\r\n\r\n\r\n    //This example getnumber() Java Method returns back the number you give it\r\n    \r\n    \r\n    //C++ variables get the results from the Java getnumber() function\r\n    double Number1 = getnumber(7.00);\r\n    double Number2 = getnumber(9.00);\r\n    \t\r\n\t\r\n\t\r\nCode so far:\r\n\r\n\r\n    #include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\win32\\\\jni_md.h&quot;   \r\n    #include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\jni.h&quot;       \r\n    \r\n    \r\n    JavaVM* vm;\r\n    jsize vmCount;\r\n    if (JNI_GetCreatedJavaVMs(&amp;vm, 1, &amp;vmCount) != JNI_OK || vmCount == 0) {\r\n    \tfprintf(stderr, &quot;Could not get active VM\\n&quot;);\r\n    \treturn NULL;\r\n    }\r\n    \r\n    JNIEnv* env;\r\n    jint result = vm-&gt;GetEnv((void**)&amp;env, JNI_VERSION_1_6);\r\n    if (result == JNI_EDETACHED) {\r\n    \tresult = vm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n    }\r\n    if (result != JNI_OK) {\r\n    \tfprintf(stderr, &quot;Failed to get JNIEnv\\n&quot;);\r\n    \treturn NULL;\r\n    }\r\n    \r\n    jclass cls = env-&gt;FindClass(&quot;JMyService&quot;);\r\n    jmethodID ctor = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n    jobject service = env-&gt;NewObject(cls, ctor);\r\n    \r\n    jmethodID loadMethod = env-&gt;GetMethodID(cls, &quot;loadContactInformation&quot;, &quot;(I)Ljava/lang/String;&quot;);\r\n    jobject serviceResult = env-&gt;CallObjectMethod(service, loadMethod, userId);\r\n    return serviceResult;\r\n\r\n\r\n\r\n","title":"How to Set C++ variables with Java Methods?","body":"<p>Making a C++ program and want to receive values from a Java Api using Java method calls.</p>\n<p>I have tried using Java Virtual Machines in C++ but it did not work so far. (New to C++ and Java)</p>\n<p>How can I set C++ variables with the outputs from Java Methods?</p>\n<p>--</p>\n<p>Pseudo code of Desired Outcome:</p>\n<pre><code>//This example getnumber() Java Method returns back the number you give it\n\n\n//C++ variables get the results from the Java getnumber() function\ndouble Number1 = getnumber(7.00);\ndouble Number2 = getnumber(9.00);\n    \n</code></pre>\n<p>Code so far:</p>\n<pre><code>#include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\win32\\\\jni_md.h&quot;   \n#include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\jni.h&quot;       \n\n\nJavaVM* vm;\njsize vmCount;\nif (JNI_GetCreatedJavaVMs(&amp;vm, 1, &amp;vmCount) != JNI_OK || vmCount == 0) {\n    fprintf(stderr, &quot;Could not get active VM\\n&quot;);\n    return NULL;\n}\n\nJNIEnv* env;\njint result = vm-&gt;GetEnv((void**)&amp;env, JNI_VERSION_1_6);\nif (result == JNI_EDETACHED) {\n    result = vm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n}\nif (result != JNI_OK) {\n    fprintf(stderr, &quot;Failed to get JNIEnv\\n&quot;);\n    return NULL;\n}\n\njclass cls = env-&gt;FindClass(&quot;JMyService&quot;);\njmethodID ctor = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\njobject service = env-&gt;NewObject(cls, ctor);\n\njmethodID loadMethod = env-&gt;GetMethodID(cls, &quot;loadContactInformation&quot;, &quot;(I)Ljava/lang/String;&quot;);\njobject serviceResult = env-&gt;CallObjectMethod(service, loadMethod, userId);\nreturn serviceResult;\n</code></pre>\n"},{"tags":["java","android","android-intent"],"owner":{"account_id":21224802,"reputation":1834,"user_id":15610685,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674288447,"creation_date":1674288447,"question_id":75191925,"body_markdown":"Before i was using otp at seperate page. Now I updated my UI, Now I am using mobile number and otp at same page.\r\n\r\nHere I am using auto hint mobile number after mobile number select coming otp for auto fill but it is not fiilig automatic.\r\n\r\nIn SecondCase after selecting or entering mobile number then I entering my otp then app is crasing.\r\n\r\nHere I have used Two onActivityResult. I dont know this is best idea or not. if not then two use only one and my functionality too.\r\n\r\nthis is my MainActivity.java code\r\n\r\n```\r\npackage com.toe.playgame;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActionBar;\r\nimport android.app.Activity;\r\nimport android.app.PendingIntent;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.content.IntentSender;\r\nimport android.content.SharedPreferences;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.NetworkInfo;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.DefaultRetryPolicy;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.gms.auth.api.Auth;\r\nimport com.google.android.gms.auth.api.credentials.Credential;\r\nimport com.google.android.gms.auth.api.credentials.HintRequest;\r\nimport com.google.android.gms.auth.api.phone.SmsRetriever;\r\nimport com.google.android.gms.auth.api.phone.SmsRetrieverClient;\r\nimport com.google.android.gms.common.ConnectionResult;\r\nimport com.google.android.gms.common.GoogleApiAvailability;\r\nimport com.google.android.gms.common.api.GoogleApiClient;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.hbb20.CountryCodePicker;\r\nimport com.kochava.tracker.events.Event;\r\nimport com.kochava.tracker.events.EventType;\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class MainActivity extends AppCompatActivity implements  GoogleApiClient.OnConnectionFailedListener{\r\n\r\n    private EditText MobileNumber;\r\n    public ProgressDialog loadings;\r\n    private CountryCodePicker ccps;\r\n    private GoogleApiClient apiClients;\r\n    private String mobile_numbers;\r\n    public static String portal_names = &quot;false&quot;;\r\n    public static String m_requires = &quot;false&quot;;\r\n    public static String statuss = &quot;false&quot;;\r\n    public static String portal_urls = &quot;false&quot;;\r\n    public static String deviceId;\r\n    public static String cid=&quot;mewochat&quot;;\r\n    public static String portal_paths = &quot;false&quot;;\r\n    public static String portal_descriptions = &quot;&quot;;\r\n    public static String portal_number_limits ;\r\n    public static String portal_total_numbers = &quot;false&quot;;\r\n\r\n    public EditText otpnumbers;\r\n    Button btn_verify;\r\n    String getotp=&quot;&quot;;\r\n    SmsBroadcastReceiver smsBroadcastReceiver;\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n\r\n    String sentpin =&quot;go&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ccps = findViewById(R.id.country_code);\r\n        MobileNumber = findViewById(R.id.MobileNumber);\r\n        otpnumbers = findViewById(R.id.otp);\r\n       // otpnumbers.setEnabled(false);\r\n        btn_verify = findViewById(R.id.btn_verify);\r\n       // btn_verify.setEnabled(false);\r\n        Button btn_sendotp = findViewById(R.id.btn_submit);\r\n       // btn_sendotp.setText(getString(R.string.sendotp));\r\n        btn_sendotp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                generateotp();\r\n            }\r\n        });\r\n\r\n        onloadcountry();\r\n        onchangescountry();\r\n        getHashCode(this);\r\n\r\n        apiClients = new GoogleApiClient.Builder(this)\r\n                .enableAutoManage(this /* FragmentActivity */,\r\n                        this /* OnConnectionFailedListener */)\r\n                .addApi(Auth.CREDENTIALS_API)\r\n                .addApi(Auth.GOOGLE_SIGN_IN_API)\r\n                .build();\r\n\r\n        // OTPActivity Page Start\r\n\r\n\r\n//if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\r\n    activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            Log.d(&quot;raja0&quot;,&quot;raja0&quot;);\r\n            if ((result.getResultCode() == RESULT_OK) &amp;&amp; (result.getData() != null)) {\r\n                Intent data = result.getData();\r\n\r\n                //That gives all message to us.\r\n                // We need to get the code from inside with regex\r\n                String message = data.getStringExtra(SmsRetriever.EXTRA_SMS_MESSAGE);\r\n                Log.d(&quot;raja1&quot;,&quot;raja1&quot;);\r\n\r\n                getOtpFromMessage(message);\r\n            }\r\n        }\r\n    });\r\n\r\n    otpnumbers.addTextChangedListener(new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable editable) {\r\n            //if(editable.toString().length()==4 || editable.toString().length()==6 ) {\r\n            getotp = editable.toString();\r\n\r\n\r\n        }\r\n    });\r\n\r\n\r\n        // OTPActivity Page End\r\n\r\n    }\r\n    // MainACtivity Page Start\r\n    public static String getHashCode(Context context){\r\n        com.toe.playgame.SignatureApp appSignature = new com.toe.playgame.SignatureApp(context);\r\n        Log.e(&quot; getAppSignatures &quot;,&quot;&quot;+appSignature.getAppSignatures());\r\n        return appSignature.getAppSignatures().get(0);\r\n    }\r\n\r\n    public void onloadcountry(){\r\n        String final_url = // my url\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @RequiresApi(api = Build.VERSION_CODES.N)\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        Log.d(&quot;OnloadCountryresponse&quot;,response);\r\n                        if (response.isEmpty()) {\r\n//                            terms.setText(&quot;&quot;);\r\n                            Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot;+ccps.getSelectedCountryName() , Toast.LENGTH_SHORT).show();\r\n\r\n                        }else {\r\n                            autosuggest();\r\n                            String finalValues[] = response.toString().split(&quot;~&quot;);\r\n                            int len = finalValues.length;\r\n                            portal_names = finalValues[0];\r\n                            portal_number_limits = finalValues[1];\r\n                            portal_total_numbers = finalValues[2];\r\n                            portal_paths = finalValues[3];\r\n                            if (len == 5) {\r\n                                portal_descriptions = finalValues[4];\r\n                            } else {\r\n                                portal_descriptions = &quot;&quot;;\r\n                            }\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                if (NetworkAvailable()) {\r\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n\r\n        stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                0,\r\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        requestQueue.add(stringRequest);\r\n    }\r\n\r\n    public void onchangescountry(){\r\n        ccps.setOnCountryChangeListener(new CountryCodePicker.OnCountryChangeListener() {\r\n            @Override\r\n            public void onCountrySelected() {\r\n                String final_url = //my url\r\n                Toast.makeText(MainActivity.this, &quot;You have selected &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\r\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\r\n                        new Response.Listener&lt;String&gt;() {\r\n                            @Override\r\n                            public void onResponse(String response) {\r\n                                Log.d(&quot;Countryresponse&quot;,response);\r\n                                if (response.isEmpty()) {\r\n                                    //  terms.setText(&quot;&quot;);\r\n                                    Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\r\n\r\n                                }else{\r\n                                    String finalValues[] = response.toString().split(&quot;~&quot;);\r\n                                    int len = finalValues.length;\r\n                                    portal_names=finalValues[0];\r\n                                    portal_number_limits= finalValues[1];\r\n                                    portal_total_numbers=finalValues[2];\r\n                                    portal_paths=finalValues[3];\r\n                                    if(len == 5){\r\n                                        portal_descriptions=finalValues[4];\r\n                                    }else{\r\n                                        portal_descriptions=&quot;&quot;;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }, new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        if (NetworkAvailable()) {\r\n                            Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n                RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n                stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                        0,\r\n                        DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n\r\n                requestQueue.add(stringRequest);\r\n\r\n            }\r\n        });\r\n    }\r\n    public void autosuggest() {\r\n        if (isGooglePlayServicesAvailable(this)) {\r\n            HintRequest hintRequest = new HintRequest.Builder()\r\n                    .setPhoneNumberIdentifierSupported(true)\r\n                    .build();\r\n\r\n            PendingIntent intent = Auth.CredentialsApi.getHintPickerIntent(\r\n                    apiClients, hintRequest);\r\n            try {\r\n                startIntentSenderForResult(intent.getIntentSender(),\r\n                        599, null, 0, 0, 0);\r\n            } catch (IntentSender.SendIntentException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    public boolean isGooglePlayServicesAvailable(Activity activity) {\r\n        GoogleApiAvailability googleApiAvailability = GoogleApiAvailability.getInstance();\r\n        int status = googleApiAvailability.isGooglePlayServicesAvailable(activity);\r\n        if (status != ConnectionResult.SUCCESS) {\r\n            if (googleApiAvailability.isUserResolvableError(status)) {\r\n                googleApiAvailability.getErrorDialog(activity, status, 2404).show();\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    private boolean NetworkAvailable() {\r\n        ConnectivityManager connectivityManager\r\n                = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n        return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data)\r\n    {\r\n        if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            //MobileNumber.setText(&quot;&quot;);\r\n            int no_limit;\r\n            if (portal_number_limits.isEmpty()) {\r\n                no_limit = 0;\r\n            } else {\r\n                no_limit = Integer.parseInt(portal_number_limits);\r\n            }\r\n            if (resultCode == RESULT_OK) {\r\n                Credential credential = data.getParcelableExtra(Credential.EXTRA_KEY);\r\n                String phone_number = credential.getId();\r\n                phone_number = phone_number.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n                String country_code = ccps.getSelectedCountryCode();\r\n                phone_number = phone_number.replaceFirst(&quot;^&quot; + country_code, &quot;&quot;);\r\n\r\n                phone_number = phone_number.substring(Math.max(phone_number.length() - no_limit, 0));\r\n\r\n                MobileNumber.setText(phone_number);\r\n                mobile_numbers = MobileNumber.getText().toString().trim();\r\n                if (!mobile_numbers.isEmpty()) {\r\n                    generateotp();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Something is wrong Please enter mobile number&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public void generateotp() {\r\n        int nos;\r\n        int total_nos;\r\n        if (portal_number_limits.isEmpty()) {\r\n            nos = 0;\r\n            total_nos = 0;\r\n        } else {\r\n            nos = Integer.parseInt(portal_number_limits);\r\n            total_nos = Integer.parseInt(portal_total_numbers);\r\n        }\r\n        String country_code = ccps.getSelectedCountryCode();//country_codeset.getText().toString().trim();//getCountryDialCode();//ccp.getSelectedCountryCode();\r\n        mobile_numbers = MobileNumber.getText().toString().trim();\r\n        mobile_numbers = mobile_numbers.substring(Math.max(mobile_numbers.length() - nos, 0));\r\n        MobileNumber.setText(mobile_numbers);\r\n\r\n        if (mobile_numbers.isEmpty()) {\r\n            Toast.makeText(this, &quot;Please enter mobile number first&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        mobile_numbers = country_code + mobile_numbers;\r\n        if (mobile_numbers.length() &lt; total_nos) {\r\n            Toast.makeText(this, &quot;Please enter valid mobile number&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Validating&quot;, &quot;Please wait...&quot;, false, false);\r\n        if (!NetworkAvailable()) {\r\n            loadings.dismiss();\r\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        if (mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\r\n            loadings.dismiss();\r\n            portal_urls = // portal urls\r\n            m_requires = &quot;N&quot;;\r\n            mobile_numbers = &quot;912345767089&quot;;\r\n            portal_names = &quot;epicon&quot;;\r\n            portal_paths = &quot;mother_app_new&quot;;\r\n            Toast.makeText(this, &quot;OTP SEND&quot;, Toast.LENGTH_SHORT).show();\r\n            registerBroadcastReceiver();\r\n            startSmsUserConsent();\r\n            sentpin =&quot;&quot;;\r\n//            Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\r\n\r\n        } else {\r\n            String final_url = // my url\r\n            Log.d(&quot;pinrequest_url&quot;, final_url);\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            Log.d(&quot;pinrequest_response&quot;, response);\r\n                            String finalValue[] = response.toString().split(&quot;~&quot;);\r\n\r\n\r\n                            portal_names = finalValue[0];\r\n                            statuss = finalValue[1];\r\n                            portal_urls = finalValue[2];\r\n                            m_requires = finalValue[3];\r\n\r\n\r\n                            loadings.dismiss();\r\n                            if (!response.isEmpty()) {\r\n                                if (statuss.equalsIgnoreCase(&quot;already_active&quot;)) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Already active&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                    SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                    SharedPreferences.Editor editor = sps.edit();\r\n                                    editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                    editor.putString(&quot;portal_names&quot;, portal_names);\r\n                                    editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                    editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n                                    editor.apply();\r\n                                    Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\r\n                                    intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                    intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                    intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                    intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n\r\n                                    startActivity(intent);\r\n                                    return;\r\n                                } else if (statuss.equalsIgnoreCase(&quot;pin_sent&quot;)) {\r\n\r\n\r\n\r\n\r\n                                } else if (statuss.equalsIgnoreCase(&quot;0&quot;)) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Invalid MSISDN&quot;, Toast.LENGTH_SHORT).show();\r\n                                    return;\r\n                                } else {\r\n                                    Toast.makeText(MainActivity.this, statuss, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            } else {\r\n                                Toast.makeText(MainActivity.this, &quot;An unknown error occurred, please try again!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    if (NetworkAvailable()) {\r\n                        loadings.dismiss();\r\n                        Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n            //Creating a request queue\r\n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n            //Setting retry policy - encounter timeout error\r\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                    0,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n            //Adding request to the queue\r\n            requestQueue.add(stringRequest);\r\n            //  }\r\n        }\r\n    }\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n    // MainACtivity Page END\r\n\r\n    // OTPActivity Page Start\r\n\r\n    private void verifyOtp() {\r\n        String otps = getotp;\r\n\r\n        if (otps.length() != 4 &amp;&amp; otps.length() != 6) {\r\n            Toast.makeText(this, &quot;Please enter Valid OTP First&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Verifying otp&quot;, &quot;Please wait...&quot;, false, false);\r\n        if (!NetworkAvailable()) {\r\n            loadings.dismiss();\r\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        if (otps.equalsIgnoreCase(&quot;2558&quot;) &amp;&amp; mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\r\n            loadings.dismiss();\r\n            //Invalid PIN/OTP\r\n            SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = sps.edit();\r\n            editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n            editor.putString(&quot;portal_names&quot;, portal_names);\r\n            editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n            editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n            editor.apply();\r\n            Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n            intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n            intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n            intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n            intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n            startActivity(intent);\r\n            return;\r\n        } else {\r\n            String final_urls = // my url\r\n            Log.d(&quot;pinverify_url&quot;, final_urls);\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_urls,\r\n                    response -&gt; {\r\n                        Log.d(&quot;pinverify_response&quot;, response);\r\n                        loadings.dismiss();\r\n                        if (!response.isEmpty()) {\r\n                            if (response.equalsIgnoreCase(&quot;Already_Active&quot;)) {\r\n                                //Already active\r\n                                SharedPreferences sp = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                SharedPreferences.Editor editor = sp.edit();\r\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n                                editor.apply();\r\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                startActivity(intent);\r\n                                return;\r\n                            } else if (response.equalsIgnoreCase(&quot;1&quot;)) {\r\n                                //Invalid PIN/OTP\r\n                                unregisterReceiver(smsBroadcastReceiver);\r\n                                Event.buildWithEventType(EventType.PURCHASE)\r\n                                        .setPrice(1)\r\n                                        .setName(&quot;Purchase&quot;)\r\n                                        .setCurrency(&quot;usd&quot;)\r\n                                        .send();\r\n\r\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                SharedPreferences.Editor editor = sps.edit();\r\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                editor.putString(&quot;portal_names&quot;, portal_names);\r\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n                                editor.apply();\r\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                startActivity(intent);\r\n                                return;\r\n                            } else if (response.equalsIgnoreCase(&quot;11&quot;)) {\r\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                SharedPreferences.Editor editor = sps.edit();\r\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                editor.putString(&quot;portal_names&quot;, portal_names);\r\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                editor.putString(&quot;m_requires&quot;, m_requires);\r\n                                editor.apply();\r\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                startActivity(intent);\r\n                                return;\r\n                            } else if (response.equalsIgnoreCase(&quot;0&quot;)) {\r\n                                Toast.makeText(MainActivity.this, &quot;Invalid PIN&quot;, Toast.LENGTH_SHORT).show();\r\n                                return;\r\n                            } else {\r\n                                Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }, error -&gt; {\r\n                if (NetworkAvailable()) {\r\n                    loadings.dismiss();\r\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n           \r\n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n            //Setting retry policy - encounter timeout error\r\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                    0,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n            //Adding request to the queue\r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n\r\n    // AUTO READ OTP\r\n    private void startSmsUserConsent() {\r\n        SmsRetrieverClient client = SmsRetriever.getClient(this);\r\n        //We can add sender phone number or leave it blank\r\n        // I&#39;m adding null here\r\n        client.startSmsUserConsent(null).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                // Toast.makeText(getApplicationContext(), &quot;On Success&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                //Toast.makeText(getApplicationContext(), &quot;On OnFailure&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n    private void getOtpFromMessage(String message) {\r\n        // This will match any 6 digit number in the message\r\n        Pattern pattern = Pattern.compile(&quot;(|^)\\\\d{4,6}&quot;);\r\n        Matcher matcher = pattern.matcher(message);\r\n        Toast.makeText(getApplicationContext(), &quot;getOtpFromMessage&quot;, Toast.LENGTH_LONG).show();\r\n        if (matcher.find()) {\r\n            otpnumbers.setText(matcher.group(0));\r\n            verifyOtp();\r\n        }\r\n    }\r\n    private void registerBroadcastReceiver() {\r\n        smsBroadcastReceiver = new SmsBroadcastReceiver();\r\n        smsBroadcastReceiver.smsBroadcastReceiverListener =\r\n                new SmsBroadcastReceiver.SmsBroadcastReceiverListener() {\r\n                    @Override\r\n                    public void onSuccess(Intent intent) {\r\n                       Log.d(&quot;raja&quot;,&quot;raja&quot;);\r\n\r\n                        activityResultLauncher.launch(intent);\r\n                        // startActivityForResult(intent, REQ_USER_CONSENT);\r\n                    }\r\n                    @Override\r\n                    public void onFailure() {\r\n                    }\r\n                };\r\n        IntentFilter intentFilter = new IntentFilter(SmsRetriever.SMS_RETRIEVED_ACTION);\r\n        registerReceiver(smsBroadcastReceiver, intentFilter);\r\n    }\r\n//\r\n\r\n    // OTPActivity Page End\r\n}\r\n```\r\nthis is my UI \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1yGCL.jpg","title":"android issue: otp is not filling in editText","body":"<p>Before i was using otp at seperate page. Now I updated my UI, Now I am using mobile number and otp at same page.</p>\n<p>Here I am using auto hint mobile number after mobile number select coming otp for auto fill but it is not fiilig automatic.</p>\n<p>In SecondCase after selecting or entering mobile number then I entering my otp then app is crasing.</p>\n<p>Here I have used Two onActivityResult. I dont know this is best idea or not. if not then two use only one and my functionality too.</p>\n<p>this is my MainActivity.java code</p>\n<pre><code>package com.toe.playgame;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ActionBar;\nimport android.app.Activity;\nimport android.app.PendingIntent;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.IntentSender;\nimport android.content.SharedPreferences;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.android.volley.DefaultRetryPolicy;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.google.android.gms.auth.api.Auth;\nimport com.google.android.gms.auth.api.credentials.Credential;\nimport com.google.android.gms.auth.api.credentials.HintRequest;\nimport com.google.android.gms.auth.api.phone.SmsRetriever;\nimport com.google.android.gms.auth.api.phone.SmsRetrieverClient;\nimport com.google.android.gms.common.ConnectionResult;\nimport com.google.android.gms.common.GoogleApiAvailability;\nimport com.google.android.gms.common.api.GoogleApiClient;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.hbb20.CountryCodePicker;\nimport com.kochava.tracker.events.Event;\nimport com.kochava.tracker.events.EventType;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class MainActivity extends AppCompatActivity implements  GoogleApiClient.OnConnectionFailedListener{\n\n    private EditText MobileNumber;\n    public ProgressDialog loadings;\n    private CountryCodePicker ccps;\n    private GoogleApiClient apiClients;\n    private String mobile_numbers;\n    public static String portal_names = &quot;false&quot;;\n    public static String m_requires = &quot;false&quot;;\n    public static String statuss = &quot;false&quot;;\n    public static String portal_urls = &quot;false&quot;;\n    public static String deviceId;\n    public static String cid=&quot;mewochat&quot;;\n    public static String portal_paths = &quot;false&quot;;\n    public static String portal_descriptions = &quot;&quot;;\n    public static String portal_number_limits ;\n    public static String portal_total_numbers = &quot;false&quot;;\n\n    public EditText otpnumbers;\n    Button btn_verify;\n    String getotp=&quot;&quot;;\n    SmsBroadcastReceiver smsBroadcastReceiver;\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n\n    String sentpin =&quot;go&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ccps = findViewById(R.id.country_code);\n        MobileNumber = findViewById(R.id.MobileNumber);\n        otpnumbers = findViewById(R.id.otp);\n       // otpnumbers.setEnabled(false);\n        btn_verify = findViewById(R.id.btn_verify);\n       // btn_verify.setEnabled(false);\n        Button btn_sendotp = findViewById(R.id.btn_submit);\n       // btn_sendotp.setText(getString(R.string.sendotp));\n        btn_sendotp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                generateotp();\n            }\n        });\n\n        onloadcountry();\n        onchangescountry();\n        getHashCode(this);\n\n        apiClients = new GoogleApiClient.Builder(this)\n                .enableAutoManage(this /* FragmentActivity */,\n                        this /* OnConnectionFailedListener */)\n                .addApi(Auth.CREDENTIALS_API)\n                .addApi(Auth.GOOGLE_SIGN_IN_API)\n                .build();\n\n        // OTPActivity Page Start\n\n\n//if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\n    activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            Log.d(&quot;raja0&quot;,&quot;raja0&quot;);\n            if ((result.getResultCode() == RESULT_OK) &amp;&amp; (result.getData() != null)) {\n                Intent data = result.getData();\n\n                //That gives all message to us.\n                // We need to get the code from inside with regex\n                String message = data.getStringExtra(SmsRetriever.EXTRA_SMS_MESSAGE);\n                Log.d(&quot;raja1&quot;,&quot;raja1&quot;);\n\n                getOtpFromMessage(message);\n            }\n        }\n    });\n\n    otpnumbers.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n\n        @Override\n        public void afterTextChanged(Editable editable) {\n            //if(editable.toString().length()==4 || editable.toString().length()==6 ) {\n            getotp = editable.toString();\n\n\n        }\n    });\n\n\n        // OTPActivity Page End\n\n    }\n    // MainACtivity Page Start\n    public static String getHashCode(Context context){\n        com.toe.playgame.SignatureApp appSignature = new com.toe.playgame.SignatureApp(context);\n        Log.e(&quot; getAppSignatures &quot;,&quot;&quot;+appSignature.getAppSignatures());\n        return appSignature.getAppSignatures().get(0);\n    }\n\n    public void onloadcountry(){\n        String final_url = // my url\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\n                new Response.Listener&lt;String&gt;() {\n                    @RequiresApi(api = Build.VERSION_CODES.N)\n                    @Override\n                    public void onResponse(String response) {\n                        Log.d(&quot;OnloadCountryresponse&quot;,response);\n                        if (response.isEmpty()) {\n//                            terms.setText(&quot;&quot;);\n                            Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot;+ccps.getSelectedCountryName() , Toast.LENGTH_SHORT).show();\n\n                        }else {\n                            autosuggest();\n                            String finalValues[] = response.toString().split(&quot;~&quot;);\n                            int len = finalValues.length;\n                            portal_names = finalValues[0];\n                            portal_number_limits = finalValues[1];\n                            portal_total_numbers = finalValues[2];\n                            portal_paths = finalValues[3];\n                            if (len == 5) {\n                                portal_descriptions = finalValues[4];\n                            } else {\n                                portal_descriptions = &quot;&quot;;\n                            }\n                        }\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                if (NetworkAvailable()) {\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n\n        stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                0,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n        requestQueue.add(stringRequest);\n    }\n\n    public void onchangescountry(){\n        ccps.setOnCountryChangeListener(new CountryCodePicker.OnCountryChangeListener() {\n            @Override\n            public void onCountrySelected() {\n                String final_url = //my url\n                Toast.makeText(MainActivity.this, &quot;You have selected &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\n                        new Response.Listener&lt;String&gt;() {\n                            @Override\n                            public void onResponse(String response) {\n                                Log.d(&quot;Countryresponse&quot;,response);\n                                if (response.isEmpty()) {\n                                    //  terms.setText(&quot;&quot;);\n                                    Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\n\n                                }else{\n                                    String finalValues[] = response.toString().split(&quot;~&quot;);\n                                    int len = finalValues.length;\n                                    portal_names=finalValues[0];\n                                    portal_number_limits= finalValues[1];\n                                    portal_total_numbers=finalValues[2];\n                                    portal_paths=finalValues[3];\n                                    if(len == 5){\n                                        portal_descriptions=finalValues[4];\n                                    }else{\n                                        portal_descriptions=&quot;&quot;;\n                                    }\n                                }\n                            }\n                        }, new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        if (NetworkAvailable()) {\n                            Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n                RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n                stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                        0,\n                        DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n\n                requestQueue.add(stringRequest);\n\n            }\n        });\n    }\n    public void autosuggest() {\n        if (isGooglePlayServicesAvailable(this)) {\n            HintRequest hintRequest = new HintRequest.Builder()\n                    .setPhoneNumberIdentifierSupported(true)\n                    .build();\n\n            PendingIntent intent = Auth.CredentialsApi.getHintPickerIntent(\n                    apiClients, hintRequest);\n            try {\n                startIntentSenderForResult(intent.getIntentSender(),\n                        599, null, 0, 0, 0);\n            } catch (IntentSender.SendIntentException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    public boolean isGooglePlayServicesAvailable(Activity activity) {\n        GoogleApiAvailability googleApiAvailability = GoogleApiAvailability.getInstance();\n        int status = googleApiAvailability.isGooglePlayServicesAvailable(activity);\n        if (status != ConnectionResult.SUCCESS) {\n            if (googleApiAvailability.isUserResolvableError(status)) {\n                googleApiAvailability.getErrorDialog(activity, status, 2404).show();\n            }\n            return false;\n        }\n        return true;\n    }\n    private boolean NetworkAvailable() {\n        ConnectivityManager connectivityManager\n                = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n        return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data)\n    {\n        if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\n            super.onActivityResult(requestCode, resultCode, data);\n            //MobileNumber.setText(&quot;&quot;);\n            int no_limit;\n            if (portal_number_limits.isEmpty()) {\n                no_limit = 0;\n            } else {\n                no_limit = Integer.parseInt(portal_number_limits);\n            }\n            if (resultCode == RESULT_OK) {\n                Credential credential = data.getParcelableExtra(Credential.EXTRA_KEY);\n                String phone_number = credential.getId();\n                phone_number = phone_number.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n                String country_code = ccps.getSelectedCountryCode();\n                phone_number = phone_number.replaceFirst(&quot;^&quot; + country_code, &quot;&quot;);\n\n                phone_number = phone_number.substring(Math.max(phone_number.length() - no_limit, 0));\n\n                MobileNumber.setText(phone_number);\n                mobile_numbers = MobileNumber.getText().toString().trim();\n                if (!mobile_numbers.isEmpty()) {\n                    generateotp();\n                } else {\n                    Toast.makeText(this, &quot;Something is wrong Please enter mobile number&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n            }\n        }\n    }\n    public void generateotp() {\n        int nos;\n        int total_nos;\n        if (portal_number_limits.isEmpty()) {\n            nos = 0;\n            total_nos = 0;\n        } else {\n            nos = Integer.parseInt(portal_number_limits);\n            total_nos = Integer.parseInt(portal_total_numbers);\n        }\n        String country_code = ccps.getSelectedCountryCode();//country_codeset.getText().toString().trim();//getCountryDialCode();//ccp.getSelectedCountryCode();\n        mobile_numbers = MobileNumber.getText().toString().trim();\n        mobile_numbers = mobile_numbers.substring(Math.max(mobile_numbers.length() - nos, 0));\n        MobileNumber.setText(mobile_numbers);\n\n        if (mobile_numbers.isEmpty()) {\n            Toast.makeText(this, &quot;Please enter mobile number first&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        mobile_numbers = country_code + mobile_numbers;\n        if (mobile_numbers.length() &lt; total_nos) {\n            Toast.makeText(this, &quot;Please enter valid mobile number&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Validating&quot;, &quot;Please wait...&quot;, false, false);\n        if (!NetworkAvailable()) {\n            loadings.dismiss();\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        if (mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\n            loadings.dismiss();\n            portal_urls = // portal urls\n            m_requires = &quot;N&quot;;\n            mobile_numbers = &quot;912345767089&quot;;\n            portal_names = &quot;epicon&quot;;\n            portal_paths = &quot;mother_app_new&quot;;\n            Toast.makeText(this, &quot;OTP SEND&quot;, Toast.LENGTH_SHORT).show();\n            registerBroadcastReceiver();\n            startSmsUserConsent();\n            sentpin =&quot;&quot;;\n//            Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\n\n        } else {\n            String final_url = // my url\n            Log.d(&quot;pinrequest_url&quot;, final_url);\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\n                    new Response.Listener&lt;String&gt;() {\n                        @Override\n                        public void onResponse(String response) {\n                            Log.d(&quot;pinrequest_response&quot;, response);\n                            String finalValue[] = response.toString().split(&quot;~&quot;);\n\n\n                            portal_names = finalValue[0];\n                            statuss = finalValue[1];\n                            portal_urls = finalValue[2];\n                            m_requires = finalValue[3];\n\n\n                            loadings.dismiss();\n                            if (!response.isEmpty()) {\n                                if (statuss.equalsIgnoreCase(&quot;already_active&quot;)) {\n                                    Toast.makeText(MainActivity.this, &quot;Already active&quot;, Toast.LENGTH_SHORT).show();\n\n                                    SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                    SharedPreferences.Editor editor = sps.edit();\n                                    editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                    editor.putString(&quot;portal_names&quot;, portal_names);\n                                    editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                    editor.putString(&quot;m_requires&quot;, m_requires);\n\n                                    editor.apply();\n                                    Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\n                                    intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                    intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                    intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                    intent.putExtra(&quot;portal_names&quot;, portal_names);\n\n                                    startActivity(intent);\n                                    return;\n                                } else if (statuss.equalsIgnoreCase(&quot;pin_sent&quot;)) {\n\n\n\n\n                                } else if (statuss.equalsIgnoreCase(&quot;0&quot;)) {\n                                    Toast.makeText(MainActivity.this, &quot;Invalid MSISDN&quot;, Toast.LENGTH_SHORT).show();\n                                    return;\n                                } else {\n                                    Toast.makeText(MainActivity.this, statuss, Toast.LENGTH_SHORT).show();\n                                }\n                            } else {\n                                Toast.makeText(MainActivity.this, &quot;An unknown error occurred, please try again!&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    if (NetworkAvailable()) {\n                        loadings.dismiss();\n                        Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n            //Creating a request queue\n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n            //Setting retry policy - encounter timeout error\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                    0,\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n            //Adding request to the queue\n            requestQueue.add(stringRequest);\n            //  }\n        }\n    }\n    @Override\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n    }\n    // MainACtivity Page END\n\n    // OTPActivity Page Start\n\n    private void verifyOtp() {\n        String otps = getotp;\n\n        if (otps.length() != 4 &amp;&amp; otps.length() != 6) {\n            Toast.makeText(this, &quot;Please enter Valid OTP First&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Verifying otp&quot;, &quot;Please wait...&quot;, false, false);\n        if (!NetworkAvailable()) {\n            loadings.dismiss();\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        if (otps.equalsIgnoreCase(&quot;2558&quot;) &amp;&amp; mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\n            loadings.dismiss();\n            //Invalid PIN/OTP\n            SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n            SharedPreferences.Editor editor = sps.edit();\n            editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n            editor.putString(&quot;portal_names&quot;, portal_names);\n            editor.putString(&quot;portal_urls&quot;, portal_urls);\n            editor.putString(&quot;m_requires&quot;, m_requires);\n\n            editor.apply();\n            Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n            intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n            intent.putExtra(&quot;portal_names&quot;, portal_names);\n            intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n            intent.putExtra(&quot;m_requires&quot;, m_requires);\n            startActivity(intent);\n            return;\n        } else {\n            String final_urls = // my url\n            Log.d(&quot;pinverify_url&quot;, final_urls);\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_urls,\n                    response -&gt; {\n                        Log.d(&quot;pinverify_response&quot;, response);\n                        loadings.dismiss();\n                        if (!response.isEmpty()) {\n                            if (response.equalsIgnoreCase(&quot;Already_Active&quot;)) {\n                                //Already active\n                                SharedPreferences sp = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                SharedPreferences.Editor editor = sp.edit();\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                editor.putString(&quot;m_requires&quot;, m_requires);\n\n                                editor.apply();\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                startActivity(intent);\n                                return;\n                            } else if (response.equalsIgnoreCase(&quot;1&quot;)) {\n                                //Invalid PIN/OTP\n                                unregisterReceiver(smsBroadcastReceiver);\n                                Event.buildWithEventType(EventType.PURCHASE)\n                                        .setPrice(1)\n                                        .setName(&quot;Purchase&quot;)\n                                        .setCurrency(&quot;usd&quot;)\n                                        .send();\n\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                SharedPreferences.Editor editor = sps.edit();\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                editor.putString(&quot;portal_names&quot;, portal_names);\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                editor.putString(&quot;m_requires&quot;, m_requires);\n\n                                editor.apply();\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                startActivity(intent);\n                                return;\n                            } else if (response.equalsIgnoreCase(&quot;11&quot;)) {\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                SharedPreferences.Editor editor = sps.edit();\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                editor.putString(&quot;portal_names&quot;, portal_names);\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                editor.putString(&quot;m_requires&quot;, m_requires);\n                                editor.apply();\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                startActivity(intent);\n                                return;\n                            } else if (response.equalsIgnoreCase(&quot;0&quot;)) {\n                                Toast.makeText(MainActivity.this, &quot;Invalid PIN&quot;, Toast.LENGTH_SHORT).show();\n                                return;\n                            } else {\n                                Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }, error -&gt; {\n                if (NetworkAvailable()) {\n                    loadings.dismiss();\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n           \n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n            //Setting retry policy - encounter timeout error\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                    0,\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n            //Adding request to the queue\n            requestQueue.add(stringRequest);\n        }\n    }\n\n    // AUTO READ OTP\n    private void startSmsUserConsent() {\n        SmsRetrieverClient client = SmsRetriever.getClient(this);\n        //We can add sender phone number or leave it blank\n        // I'm adding null here\n        client.startSmsUserConsent(null).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void aVoid) {\n                // Toast.makeText(getApplicationContext(), &quot;On Success&quot;, Toast.LENGTH_LONG).show();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                //Toast.makeText(getApplicationContext(), &quot;On OnFailure&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n    private void getOtpFromMessage(String message) {\n        // This will match any 6 digit number in the message\n        Pattern pattern = Pattern.compile(&quot;(|^)\\\\d{4,6}&quot;);\n        Matcher matcher = pattern.matcher(message);\n        Toast.makeText(getApplicationContext(), &quot;getOtpFromMessage&quot;, Toast.LENGTH_LONG).show();\n        if (matcher.find()) {\n            otpnumbers.setText(matcher.group(0));\n            verifyOtp();\n        }\n    }\n    private void registerBroadcastReceiver() {\n        smsBroadcastReceiver = new SmsBroadcastReceiver();\n        smsBroadcastReceiver.smsBroadcastReceiverListener =\n                new SmsBroadcastReceiver.SmsBroadcastReceiverListener() {\n                    @Override\n                    public void onSuccess(Intent intent) {\n                       Log.d(&quot;raja&quot;,&quot;raja&quot;);\n\n                        activityResultLauncher.launch(intent);\n                        // startActivityForResult(intent, REQ_USER_CONSENT);\n                    }\n                    @Override\n                    public void onFailure() {\n                    }\n                };\n        IntentFilter intentFilter = new IntentFilter(SmsRetriever.SMS_RETRIEVED_ACTION);\n        registerReceiver(smsBroadcastReceiver, intentFilter);\n    }\n//\n\n    // OTPActivity Page End\n}\n</code></pre>\n<p>this is my UI\n<a href=\"https://i.stack.imgur.com/1yGCL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1yGCL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","char","equals"],"comments":[{"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"score":11,"creation_date":1414842425,"post_id":26688990,"comment_id":41974916,"body_markdown":"`&quot;f&quot;`is a String, `&#39;f&#39;` is a char.","body":"<code>&quot;f&quot;</code>is a String, <code>&#39;f&#39;</code> is a char."}],"answers":[{"tags":[],"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1674287992,"creation_date":1414842472,"answer_id":26689001,"question_id":26688990,"body_markdown":"This is the correct way to write that:\r\n\r\n    if ( fieldNames.charAt(4) == &#39;f&#39; )\r\n\r\nIn your original version, `&quot;f&quot;` is a `String` and `fieldNames.charAt(4)` is a `char`, and you cannot compare a `String` with a `char` using `==`.  If you write `&#39;f&#39;` instead of `&quot;f&quot;` (as above) you will be comparing a `char` with a `char`.\r\n\r\nNote that `&quot;g&quot; == &quot;h&quot;` is also accepted by the compiler because both `&quot;g&quot;` and `&quot;h&quot;` are `String` objects.  However, you shouldn&#39;t do that.  You should use `&quot;g&quot;.equals(&quot;h&quot;)` instead.  To understand why, please read https://stackoverflow.com/questions/513832/.  (The short version is that `someString == otherString` comparisons will *often* give an unexpected answer!)\r\n\r\nBy contrast `&#39;g&#39; == &#39;h&#39;` is both accepted by the compiler AND correct code.\r\n\r\n--------------------\r\n\r\nMore background: a Java `String` literal is surrounded by double quotes, but a `char` literal is surrounded by single quotes; e.g. \r\n\r\n    String s = &quot;g&quot;;\r\n    char c = &#39;g&#39;;\r\n\r\nA `char` value consists of one and only one character&lt;sup&gt;1&lt;/sup&gt; but `String` value can contain more than one  character ... or zero characters.\r\n\r\n    String s2 = &quot;gg&quot;;  valid\r\n    char c2 = &#39;gg&#39;;  not valid\r\n\r\n    String s3 = &quot;&quot;;  valid\r\n    char c3 = &#39;&#39;;  not valid\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - Actually, calling them characters is technically a stretch.  A `char` ... or a value returned by `String.getChar` is actually an unsigned 16 bit number.  But Java natively uses Unicode, and 16 bits is not enough to represent all Unicode *code points*.  It was when Java was designed, but then Unicode added more code planes.&lt;/sup&gt;\r\n","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>This is the correct way to write that:</p>\n<pre><code>if ( fieldNames.charAt(4) == 'f' )\n</code></pre>\n<p>In your original version, <code>&quot;f&quot;</code> is a <code>String</code> and <code>fieldNames.charAt(4)</code> is a <code>char</code>, and you cannot compare a <code>String</code> with a <code>char</code> using <code>==</code>.  If you write <code>'f'</code> instead of <code>&quot;f&quot;</code> (as above) you will be comparing a <code>char</code> with a <code>char</code>.</p>\n<p>Note that <code>&quot;g&quot; == &quot;h&quot;</code> is also accepted by the compiler because both <code>&quot;g&quot;</code> and <code>&quot;h&quot;</code> are <code>String</code> objects.  However, you shouldn't do that.  You should use <code>&quot;g&quot;.equals(&quot;h&quot;)</code> instead.  To understand why, please read <a href=\"https://stackoverflow.com/questions/513832/\">How do I compare strings in Java?</a>.  (The short version is that <code>someString == otherString</code> comparisons will <em>often</em> give an unexpected answer!)</p>\n<p>By contrast <code>'g' == 'h'</code> is both accepted by the compiler AND correct code.</p>\n<hr />\n<p>More background: a Java <code>String</code> literal is surrounded by double quotes, but a <code>char</code> literal is surrounded by single quotes; e.g.</p>\n<pre><code>String s = &quot;g&quot;;\nchar c = 'g';\n</code></pre>\n<p>A <code>char</code> value consists of one and only one character<sup>1</sup> but <code>String</code> value can contain more than one  character ... or zero characters.</p>\n<pre><code>String s2 = &quot;gg&quot;;  valid\nchar c2 = 'gg';  not valid\n\nString s3 = &quot;&quot;;  valid\nchar c3 = '';  not valid\n</code></pre>\n<hr />\n<p><sup>1 - Actually, calling them characters is technically a stretch.  A <code>char</code> ... or a value returned by <code>String.getChar</code> is actually an unsigned 16 bit number.  But Java natively uses Unicode, and 16 bits is not enough to represent all Unicode <em>code points</em>.  It was when Java was designed, but then Unicode added more code planes.</sup></p>\n"},{"tags":[],"owner":{"account_id":9549348,"reputation":21,"user_id":7094025,"display_name":"And"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478237476,"creation_date":1478237476,"answer_id":40415874,"question_id":26688990,"body_markdown":"I was having the same problem, but I was able to solve it using:\r\n\r\n    if (str.substring(0,1).equals(&quot;x&quot;) )\r\nthe substring can be used in a loop str.substring(i, i + 1)\r\n\r\ncharAt(i).equals(&#39;x&#39;) will not work together","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>I was having the same problem, but I was able to solve it using:</p>\n\n<pre><code>if (str.substring(0,1).equals(\"x\") )\n</code></pre>\n\n<p>the substring can be used in a loop str.substring(i, i + 1)</p>\n\n<p>charAt(i).equals('x') will not work together</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674287825,"post_id":64977107,"comment_id":132686421,"body_markdown":"While `someChar.equals(&#39;c&#39;)` is technically correct code, it is doing unnecessary auto-boxing.  That may involve a runtime overhead (depending on how smart the JIT compiler is).","body":"While <code>someChar.equals(&#39;c&#39;)</code> is technically correct code, it is doing unnecessary auto-boxing.  That may involve a runtime overhead (depending on how smart the JIT compiler is)."}],"tags":[],"owner":{"account_id":18909029,"reputation":291,"user_id":13795508,"display_name":"M A F"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606168678,"creation_date":1606168678,"answer_id":64977107,"question_id":26688990,"body_markdown":".equals() can still be used, but you have to remember that chars require apostrophes(&#39;) instead of quotes(&quot;). For example: someChar.equals(&#39;c&#39;) is valid for chars and someString.equals(&quot;c&quot;) is valid for strings.","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>.equals() can still be used, but you have to remember that chars require apostrophes(') instead of quotes(&quot;). For example: someChar.equals('c') is valid for chars and someString.equals(&quot;c&quot;) is valid for strings.</p>\n"}],"owner":{"account_id":4118046,"reputation":2195,"user_id":3379140,"accept_rate":88,"display_name":"Mayron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61591,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26689001,"answer_count":3,"score":6,"last_activity_date":1674287992,"creation_date":1414842398,"question_id":26688990,"body_markdown":"I want to see if a character in my string equals a certain other char value but I do not know what the char in the string is so I have used this:\r\n\r\n    if ( fieldNames.charAt(4) == &quot;f&quot; )\r\n\r\nBut I get the error:\r\n\r\n    &quot;Operator &#39;==&#39; cannot be applied to &#39;char&#39;, &#39;jav.lang.String&#39;&quot;\r\n\r\nBut `&quot;g&quot; == &quot;h&quot;` seems to work and I know you can use `&#39;==&#39;` with char types. \r\n\r\nIs there another way to do this correctly?\r\nThanks!\r\n\r\n","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>I want to see if a character in my string equals a certain other char value but I do not know what the char in the string is so I have used this:</p>\n\n<pre><code>if ( fieldNames.charAt(4) == \"f\" )\n</code></pre>\n\n<p>But I get the error:</p>\n\n<pre><code>\"Operator '==' cannot be applied to 'char', 'jav.lang.String'\"\n</code></pre>\n\n<p>But <code>\"g\" == \"h\"</code> seems to work and I know you can use <code>'=='</code> with char types. </p>\n\n<p>Is there another way to do this correctly?\nThanks!</p>\n"},{"tags":["java","syntax","linked-list","logic"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1674284964,"post_id":75191645,"comment_id":132686168,"body_markdown":"Can you show the runtime error?","body":"Can you show the runtime error?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1674285355,"post_id":75191645,"comment_id":132686204,"body_markdown":"... and the definition of class `LinkedListNode` as it is not a default Java class. And the code where `removeDuplicates` get&#39;s called, as I guess the exception is thrown there rather than in this method.","body":"... and the definition of class <code>LinkedListNode</code> as it is not a default Java class. And the code where <code>removeDuplicates</code> get&#39;s called, as I guess the exception is thrown there rather than in this method."}],"answers":[{"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1674285961,"post_id":75191731,"comment_id":132686267,"body_markdown":"The question was why it throws an exception without `t1.next = null`. That is not answered by your answer, is it?","body":"The question was why it throws an exception without <code>t1.next = null</code>. That is not answered by your answer, is it?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1674286178,"post_id":75191731,"comment_id":132686290,"body_markdown":"@AxelRichter The OP needs to provide more details to answer that. I&#39;ve updated my answer stating this is answering why `t1.next = null` is needed from a correctness point of view.","body":"@AxelRichter The OP needs to provide more details to answer that. I&#39;ve updated my answer stating this is answering why <code>t1.next = null</code> is needed from a correctness point of view."}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674286143,"creation_date":1674285454,"answer_id":75191731,"question_id":75191645,"body_markdown":"Answering why `t1.next = null` is needed from a correctness point of view...\r\n\r\nConsider a linked list like this\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n```\r\n....Skipping a few initial iterations of the loop.... and when `t1` is and `t2` are pointing to the penultimate `3`. \r\n\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          ↑    \r\n          t1\r\n          t2 \r\n```\r\n\r\nThe `if` condition would be *true* and you would move `t2` to the last `3` (while `t1` still points to the penultimate `3`). \r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          ↑    ↑\r\n          t1   t2\r\n```\r\n\r\nOn the next iteration, the same `if` condition would be *true* and you would make `t2` *null* and break out of the `while` loop.\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          ↑          ↑\r\n          t1         t2\r\n```\r\n\r\nNow, to get the effect of removing the duplicate 3s, you should make the *next* of `t1` as null.\r\n\r\nFrom this,\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          ↑   \r\n          t1\r\n```\r\nSetting `t1.next = null` results in,\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; NULL\r\n          ↑   \r\n          t1\r\n```","title":"What is the purpose of t1.next=null below the while loop?","body":"<p>Answering why <code>t1.next = null</code> is needed from a correctness point of view...</p>\n<p>Consider a linked list like this</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n</code></pre>\n<p>....Skipping a few initial iterations of the loop.... and when <code>t1</code> is and <code>t2</code> are pointing to the penultimate <code>3</code>.</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          ↑    \n          t1\n          t2 \n</code></pre>\n<p>The <code>if</code> condition would be <em>true</em> and you would move <code>t2</code> to the last <code>3</code> (while <code>t1</code> still points to the penultimate <code>3</code>).</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          ↑    ↑\n          t1   t2\n</code></pre>\n<p>On the next iteration, the same <code>if</code> condition would be <em>true</em> and you would make <code>t2</code> <em>null</em> and break out of the <code>while</code> loop.</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          ↑          ↑\n          t1         t2\n</code></pre>\n<p>Now, to get the effect of removing the duplicate 3s, you should make the <em>next</em> of <code>t1</code> as null.</p>\n<p>From this,</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          ↑   \n          t1\n</code></pre>\n<p>Setting <code>t1.next = null</code> results in,</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; NULL\n          ↑   \n          t1\n</code></pre>\n"}],"owner":{"account_id":20860409,"reputation":1,"user_id":15322786,"display_name":"Shivam Kabra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674286143,"creation_date":1674284226,"question_id":75191645,"body_markdown":"```\r\npublic class Solution {\r\n\r\n\tpublic static LinkedListNode&lt;Integer&gt; removeDuplicates(LinkedListNode&lt;Integer&gt; head) {\r\n\t\t//Your code goes here\r\n\t\t\r\n\t\tif(head==null){\r\n\t\t\treturn head;\r\n\t\t}\r\n\t\tif(head.next==null){\r\n\t\t\treturn head;\r\n\t\t}\r\n        LinkedListNode&lt;Integer&gt; t1=head, t2=head.next;\r\n\t\tLinkedListNode&lt;Integer&gt; final_head=head;\r\n\t\twhile(t2!=null){\r\n             if(t1.data==t2.data){\r\n\t\t\t\t t2=t2.next;\r\n\t\t\t }else{\r\n\t\t\t\t t1.next=t2;\r\n\t\t\t\t t1=t2;\r\n\t\t\t }\r\n\t\t}\r\n                t1.next=null;\r\n\t\treturn final_head;\r\n\r\n\t}\r\n}\r\n```\r\nWhy is it showing runtime error when I remove `t1.next=null` ?\r\nAm I missing something here ? I dont undertand the purpose of `t1.next=null`.","title":"What is the purpose of t1.next=null below the while loop?","body":"<pre><code>public class Solution {\n\n    public static LinkedListNode&lt;Integer&gt; removeDuplicates(LinkedListNode&lt;Integer&gt; head) {\n        //Your code goes here\n        \n        if(head==null){\n            return head;\n        }\n        if(head.next==null){\n            return head;\n        }\n        LinkedListNode&lt;Integer&gt; t1=head, t2=head.next;\n        LinkedListNode&lt;Integer&gt; final_head=head;\n        while(t2!=null){\n             if(t1.data==t2.data){\n                 t2=t2.next;\n             }else{\n                 t1.next=t2;\n                 t1=t2;\n             }\n        }\n                t1.next=null;\n        return final_head;\n\n    }\n}\n</code></pre>\n<p>Why is it showing runtime error when I remove <code>t1.next=null</code> ?\nAm I missing something here ? I dont undertand the purpose of <code>t1.next=null</code>.</p>\n"},{"tags":["java","spring-boot","mongodb-atlas"],"owner":{"account_id":20628958,"reputation":23,"user_id":15144199,"display_name":"Aman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674285951,"creation_date":1674285951,"question_id":75191761,"body_markdown":"I am facing this exception in my project. I tried to connect my project with mongodb atlas, can any one  please help me resolve this issue. Written the atlas configuration in application.properties file = spring.data.mongodb.uri = url with updated password.\r\n\r\n**Exception**\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authorServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;authorRepository&#39;: Error creating bean with name &#39;authorRepository&#39; defined in com.bookdekho.application.repository.AuthorRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;\r\n\r\n**Author model**\r\n\r\n    package com.bookdekho.application.model;\r\n\r\n    import com.bookdekho.application.enums.Genre;\r\n    import com.bookdekho.application.enums.UserType;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.data.annotation.Id;\r\n\r\n    import java.util.Set;\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Author {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    private UserType userType;\r\n    private Set&lt;Genre&gt; preferences;\r\n    private OnlineLinks onlineLinks;\r\n    private Set&lt;String&gt; authorImages;\r\n    private String primaryImageUrl;\r\n    private Set&lt;String&gt; aboutBooks;\r\n    private Set&lt;String&gt; bookReviewed;\r\n    private Long achievedPoints;\r\n}\r\n\r\n**Author Repository**\r\n\r\n    package com.bookdekho.application.repository;\r\n\r\n    import com.bookdekho.application.model.Author;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface AuthorRepository extends MongoRepository&lt;Author, String&gt; {\r\n    \r\n    }\r\n\r\n**Author Service**\r\n\r\n    package com.bookdekho.application.service;\r\n\r\n    import com.bookdekho.application.dto.AuthorDTO;\r\n    import com.bookdekho.application.model.Author;\r\n    import org.springframework.data.domain.Page;\r\n\r\n    public interface AuthorService {\r\n\r\n    AuthorDTO addAuthor(AuthorDTO authorDTO);\r\n\r\n    AuthorDTO updateAuthor(String userId, AuthorDTO authorDTO);\r\n\r\n    AuthorDTO getAuthorById(String authorId);\r\n\r\n    Page&lt;Author&gt; getAllAuthors(int page, int size);\r\n\r\n    void deleteAuthorById(String authorId);\r\n\r\n}\r\n\r\n**Author Service Impl**\r\n\r\n    package com.bookdekho.application.serviceimpl;\r\n\r\n    import com.bookdekho.application.dto.AuthorDTO;\r\n    import com.bookdekho.application.exception.EntityNotFoundException;\r\n    import com.bookdekho.application.model.Author;\r\n    import com.bookdekho.application.repository.AuthorRepository;\r\n    import com.bookdekho.application.service.AuthorService;\r\n    import org.springframework.beans.BeanUtils;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageRequest;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class AuthorServiceImpl implements AuthorService {\r\n\r\n    @Autowired\r\n    private AuthorRepository authorRepository;\r\n\r\n    @Override\r\n    public AuthorDTO addAuthor(AuthorDTO authorDTO) {\r\n        Author author = new Author();\r\n        BeanUtils.copyProperties(authorDTO,author);\r\n        authorRepository.save(author);\r\n        BeanUtils.copyProperties(author,authorDTO);\r\n        return authorDTO;\r\n    }\r\n\r\n    @Override\r\n    public AuthorDTO updateAuthor(String authorId, AuthorDTO authorDTO) {\r\n        Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException:: new);\r\n        BeanUtils.copyProperties(authorDTO,author);\r\n        authorRepository.save(author);\r\n        BeanUtils.copyProperties(author, authorDTO);\r\n        return authorDTO;\r\n    }\r\n\r\n    @Override\r\n    public AuthorDTO getAuthorById(String authorId) {\r\n        Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException :: new);\r\n        AuthorDTO authorDTO = new AuthorDTO();\r\n        BeanUtils.copyProperties(author, authorDTO);\r\n        return authorDTO;\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;Author&gt; getAllAuthors(int page, int size) {\r\n        Pageable pageable = PageRequest.of(page,size);\r\n        return authorRepository.findAll(pageable);\r\n    }\r\n\r\n    @Override\r\n    public void deleteAuthorById(String authorId) {\r\n        authorRepository.deleteById(authorId);\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"MongoDb Atlas : Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;","body":"<p>I am facing this exception in my project. I tried to connect my project with mongodb atlas, can any one  please help me resolve this issue. Written the atlas configuration in application.properties file = spring.data.mongodb.uri = url with updated password.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authorServiceImpl': Unsatisfied dependency expressed through field 'authorRepository': Error creating bean with name 'authorRepository' defined in com.bookdekho.application.repository.AuthorRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'\n</code></pre>\n<p><strong>Author model</strong></p>\n<pre><code>package com.bookdekho.application.model;\n\nimport com.bookdekho.application.enums.Genre;\nimport com.bookdekho.application.enums.UserType;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\n\nimport java.util.Set;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Author {\n\n@Id\nprivate String id;\n\nprivate UserType userType;\nprivate Set&lt;Genre&gt; preferences;\nprivate OnlineLinks onlineLinks;\nprivate Set&lt;String&gt; authorImages;\nprivate String primaryImageUrl;\nprivate Set&lt;String&gt; aboutBooks;\nprivate Set&lt;String&gt; bookReviewed;\nprivate Long achievedPoints;\n</code></pre>\n<p>}</p>\n<p><strong>Author Repository</strong></p>\n<pre><code>package com.bookdekho.application.repository;\n\nimport com.bookdekho.application.model.Author;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AuthorRepository extends MongoRepository&lt;Author, String&gt; {\n\n}\n</code></pre>\n<p><strong>Author Service</strong></p>\n<pre><code>package com.bookdekho.application.service;\n\nimport com.bookdekho.application.dto.AuthorDTO;\nimport com.bookdekho.application.model.Author;\nimport org.springframework.data.domain.Page;\n\npublic interface AuthorService {\n\nAuthorDTO addAuthor(AuthorDTO authorDTO);\n\nAuthorDTO updateAuthor(String userId, AuthorDTO authorDTO);\n\nAuthorDTO getAuthorById(String authorId);\n\nPage&lt;Author&gt; getAllAuthors(int page, int size);\n\nvoid deleteAuthorById(String authorId);\n</code></pre>\n<p>}</p>\n<p><strong>Author Service Impl</strong></p>\n<pre><code>package com.bookdekho.application.serviceimpl;\n\nimport com.bookdekho.application.dto.AuthorDTO;\nimport com.bookdekho.application.exception.EntityNotFoundException;\nimport com.bookdekho.application.model.Author;\nimport com.bookdekho.application.repository.AuthorRepository;\nimport com.bookdekho.application.service.AuthorService;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class AuthorServiceImpl implements AuthorService {\n\n@Autowired\nprivate AuthorRepository authorRepository;\n\n@Override\npublic AuthorDTO addAuthor(AuthorDTO authorDTO) {\n    Author author = new Author();\n    BeanUtils.copyProperties(authorDTO,author);\n    authorRepository.save(author);\n    BeanUtils.copyProperties(author,authorDTO);\n    return authorDTO;\n}\n\n@Override\npublic AuthorDTO updateAuthor(String authorId, AuthorDTO authorDTO) {\n    Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException:: new);\n    BeanUtils.copyProperties(authorDTO,author);\n    authorRepository.save(author);\n    BeanUtils.copyProperties(author, authorDTO);\n    return authorDTO;\n}\n\n@Override\npublic AuthorDTO getAuthorById(String authorId) {\n    Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException :: new);\n    AuthorDTO authorDTO = new AuthorDTO();\n    BeanUtils.copyProperties(author, authorDTO);\n    return authorDTO;\n}\n\n@Override\npublic Page&lt;Author&gt; getAllAuthors(int page, int size) {\n    Pageable pageable = PageRequest.of(page,size);\n    return authorRepository.findAll(pageable);\n}\n\n@Override\npublic void deleteAuthorById(String authorId) {\n    authorRepository.deleteById(authorId);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","sendkeys"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1674278855,"post_id":75190530,"comment_id":132685606,"body_markdown":"Create a common method, pass the parameters as the locator and the value to enter, call that method wherever you need to use sendkeys() function.","body":"Create a common method, pass the parameters as the locator and the value to enter, call that method wherever you need to use sendkeys() function."}],"answers":[{"comments":[{"owner":{"account_id":12177294,"reputation":71,"user_id":8889988,"display_name":"nayansFosgit"},"score":0,"creation_date":1674294671,"post_id":75191605,"comment_id":132687163,"body_markdown":"thanks a lot @Uditha Dissanyake it worked!!","body":"thanks a lot @Uditha Dissanyake it worked!!"}],"tags":[],"owner":{"account_id":7588042,"reputation":68,"user_id":5756499,"display_name":"Uditha Dissanayake"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674284004,"creation_date":1674283672,"answer_id":75191605,"question_id":75190530,"body_markdown":"textbox.sendKeys(&quot;13456,Teena&quot; + Keys.SHIFT + Keys.ENTER + &quot;12378,Tesa&quot; + Keys.SHIFT + Keys.ENTER + &quot;130987,Jhon&quot;);\r\n&lt;br/&gt;&lt;br/&gt;\r\nUse Keys.SHIFT + Keys.ENTER combination to the sendKeys() method.\r\n&lt;br/&gt;&lt;br/&gt;\r\nSimilarly, we can use Keys enum for different non-text keys and pass them to the sendKeys method. The following table has an entry for each of the non-text key present in a keyboard.\r\n&lt;br/&gt;&lt;br/&gt;\r\nRefer - https://artoftesting.com/press-enter-tab-space-arrow-function-keys-in-selenium-webdriver-with-java\r\n","title":"How to pass multiple values in different lines using sendKeys() inside a text box","body":"<p>textbox.sendKeys(&quot;13456,Teena&quot; + Keys.SHIFT + Keys.ENTER + &quot;12378,Tesa&quot; + Keys.SHIFT + Keys.ENTER + &quot;130987,Jhon&quot;);\n<br/><br/>\nUse Keys.SHIFT + Keys.ENTER combination to the sendKeys() method.\n<br/><br/>\nSimilarly, we can use Keys enum for different non-text keys and pass them to the sendKeys method. The following table has an entry for each of the non-text key present in a keyboard.\n<br/><br/>\nRefer - <a href=\"https://artoftesting.com/press-enter-tab-space-arrow-function-keys-in-selenium-webdriver-with-java\" rel=\"nofollow noreferrer\">https://artoftesting.com/press-enter-tab-space-arrow-function-keys-in-selenium-webdriver-with-java</a></p>\n"}],"owner":{"account_id":12177294,"reputation":71,"user_id":8889988,"display_name":"nayansFosgit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75191605,"answer_count":1,"score":0,"last_activity_date":1674284004,"creation_date":1674262263,"question_id":75190530,"body_markdown":"I wanted to pass multiple words in different line on to text box, can anyone help me finding out the solution\r\n\r\nExpected output :\r\n\r\n    13456,Teena\r\n    12378,Tesa\r\n    130987,Jhon\r\n\r\n","title":"How to pass multiple values in different lines using sendKeys() inside a text box","body":"<p>I wanted to pass multiple words in different line on to text box, can anyone help me finding out the solution</p>\n<p>Expected output :</p>\n<pre><code>13456,Teena\n12378,Tesa\n130987,Jhon\n</code></pre>\n"},{"tags":["java","sql-server","mssql-jdbc"],"comments":[{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":1,"creation_date":1539612178,"post_id":52818451,"comment_id":92554371,"body_markdown":"Don&#39;t use the image datatype. It has been deprecated for almost 15 years now. https://learn.microsoft.com/en-us/sql/t-sql/data-types/ntext-text-and-image-transact-sql?view=sql-server-2017 You should be using varbinary(max) instead.","body":"Don&#39;t use the image datatype. It has been deprecated for almost 15 years now. <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/ntext-text-and-image-transact-sql?view=sql-server-2017\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/t-sql/data-types/&hellip;</a> You should be using varbinary(max) instead."},{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":1,"creation_date":1539612229,"post_id":52818451,"comment_id":92554397,"body_markdown":"To the question at hand...it isn&#39;t clear what you want.","body":"To the question at hand...it isn&#39;t clear what you want."},{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":1,"creation_date":1539612786,"post_id":52818451,"comment_id":92554732,"body_markdown":"I can&#39;t for the life of me determine why somebody would think this question is worthy of an upvote.","body":"I can&#39;t for the life of me determine why somebody would think this question is worthy of an upvote."},{"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"score":1,"creation_date":1539613143,"post_id":52818451,"comment_id":92554964,"body_markdown":"It&#39;s true - it&#39;s not :). Sorry and thanks for pointing out that I would need to redefine my question. Hopefully, now it&#39;s more understandable.","body":"It&#39;s true - it&#39;s not :). Sorry and thanks for pointing out that I would need to redefine my question. Hopefully, now it&#39;s more understandable."}],"answers":[{"comments":[{"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"score":0,"creation_date":1539671475,"post_id":52819111,"comment_id":92574842,"body_markdown":"Thanks for the answer. However, when I&#39;ve tried to use this I get a problem: Explicit conversion from data type image to varchar(max) is not allowed.","body":"Thanks for the answer. However, when I&#39;ve tried to use this I get a problem: Explicit conversion from data type image to varchar(max) is not allowed."},{"owner":{"account_id":8273331,"reputation":6138,"user_id":6220377,"accept_rate":82,"display_name":"Marc Guillot"},"score":1,"creation_date":1539671749,"post_id":52819111,"comment_id":92574958,"body_markdown":"Yes, as said on some comment, image datatype is obsolete, you should change your field from image to varbinary(max).","body":"Yes, as said on some comment, image datatype is obsolete, you should change your field from image to varbinary(max)."}],"tags":[],"owner":{"account_id":8273331,"reputation":6138,"user_id":6220377,"accept_rate":82,"display_name":"Marc Guillot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539614751,"creation_date":1539614013,"answer_id":52819111,"question_id":52818451,"body_markdown":"You can use the [convert][1] SQL function to convert from binary (varbinary) to string (varchar), in order to translate your binary data to and from an string (with its hexadecimal representation).\r\n\r\nThe convert function has a parameter style, that indicates if the string starts with a 0x character or not. I use the value 2 (no 0x character) on these examples.\r\n\r\nFrom binary to string :\r\n\r\n    select convert(varchar(max), my_image, 2) as my_string_representation\r\n    from my_table\r\n\r\nFrom string, back to binary : \r\n\r\n    select convert(varbinary(max), my_string_representation, 2) as my_binary_image\r\n    from my_table\r\n\r\nSo, in order to build your plain-text insert statement, lets suppose that **convert(varchar(max), my_image, 2)** has returned the &#39;49747A696B...&#39; string on a certain record, then your insert statement for that record would be :\r\n\r\n    insert into my_table (my_id, my_image)\r\n                values (25, convert(varbinary(max), &#39;49747A696B...&#39;, 2))\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/functions/cast-and-convert-transact-sql?view=sql-server-2017","title":"Generate INSERT for &quot;image&quot; type in MSSQL (Java)","body":"<p>You can use the <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/functions/cast-and-convert-transact-sql?view=sql-server-2017\" rel=\"nofollow noreferrer\">convert</a> SQL function to convert from binary (varbinary) to string (varchar), in order to translate your binary data to and from an string (with its hexadecimal representation).</p>\n\n<p>The convert function has a parameter style, that indicates if the string starts with a 0x character or not. I use the value 2 (no 0x character) on these examples.</p>\n\n<p>From binary to string :</p>\n\n<pre><code>select convert(varchar(max), my_image, 2) as my_string_representation\nfrom my_table\n</code></pre>\n\n<p>From string, back to binary : </p>\n\n<pre><code>select convert(varbinary(max), my_string_representation, 2) as my_binary_image\nfrom my_table\n</code></pre>\n\n<p>So, in order to build your plain-text insert statement, lets suppose that <strong>convert(varchar(max), my_image, 2)</strong> has returned the '49747A696B...' string on a certain record, then your insert statement for that record would be :</p>\n\n<pre><code>insert into my_table (my_id, my_image)\n            values (25, convert(varbinary(max), '49747A696B...', 2))\n</code></pre>\n"}],"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674283931,"creation_date":1539611973,"question_id":52818451,"body_markdown":"I have a database, where one of the table&#39;s column is &quot;image&quot; type. I put there encoded pdf file. \r\n\r\nMy goal is to print in Java Applications Console, INSERT STATEMENT with all data from my table (so to do the same thing as &quot;Generate Script...&quot; does from Management Studio). However, since my &quot;image&quot; column is binary, I don&#39;t know how to encode it to put into INSERT statemnent so this statemement would be executable. \r\n","title":"Generate INSERT for &quot;image&quot; type in MSSQL (Java)","body":"<p>I have a database, where one of the table's column is \"image\" type. I put there encoded pdf file. </p>\n\n<p>My goal is to print in Java Applications Console, INSERT STATEMENT with all data from my table (so to do the same thing as \"Generate Script...\" does from Management Studio). However, since my \"image\" column is binary, I don't know how to encode it to put into INSERT statemnent so this statemement would be executable. </p>\n"},{"tags":["java","visual-studio-code","ant","vscode-extensions"],"comments":[{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1632724913,"post_id":69328757,"comment_id":122560165,"body_markdown":"There&#39;s no such option in VS Code. You may search specific tutorial online about developing Ant application in VS Code .","body":"There&#39;s no such option in VS Code. You may search specific tutorial online about developing Ant application in VS Code ."},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1635495334,"post_id":69328757,"comment_id":123318816,"body_markdown":"Now java extension only supports maven and gradle. May i know the reason you want this feature that java extension support ant? Does work or study need it?","body":"Now java extension only supports maven and gradle. May i know the reason you want this feature that java extension support ant? Does work or study need it?"},{"owner":{"account_id":10921724,"reputation":159,"user_id":8227653,"display_name":"Alejandro Martinez"},"score":4,"creation_date":1635508034,"post_id":69328757,"comment_id":123323405,"body_markdown":"College. The professor pointed out that we needed to create a &quot;Java with ant&quot; project from netbeans. But I don&#39;t like netbeans. My workaround is creating the project in netbeans and opening in VSCode or IntelliJ.","body":"College. The professor pointed out that we needed to create a &quot;Java with ant&quot; project from netbeans. But I don&#39;t like netbeans. My workaround is creating the project in netbeans and opening in VSCode or IntelliJ."}],"owner":{"account_id":10921724,"reputation":159,"user_id":8227653,"display_name":"Alejandro Martinez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4277,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674282776,"creation_date":1632592786,"question_id":69328757,"body_markdown":"I want to create  a new &quot;Java with Ant&quot; Application from VSCode just like is done in Apache Netbeans. I installed the required extensions for running Java in VSCode and even the &quot;Apache netbeans language server Extension&quot; but I&#39;m unable to find the option &quot;Java with Ant&quot; when creating a new Java project from VSCode. →\r\nImage from NetBeans:\r\n[Java with ant from NetBeans][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NIr9Q.png","title":"Create Java with Ant Application from VSCode","body":"<p>I want to create  a new &quot;Java with Ant&quot; Application from VSCode just like is done in Apache Netbeans. I installed the required extensions for running Java in VSCode and even the &quot;Apache netbeans language server Extension&quot; but I'm unable to find the option &quot;Java with Ant&quot; when creating a new Java project from VSCode. →\nImage from NetBeans:\n<a href=\"https://i.stack.imgur.com/NIr9Q.png\" rel=\"nofollow noreferrer\">Java with ant from NetBeans</a></p>\n"},{"tags":["java","windows","batch-file","installation"],"comments":[{"owner":{"account_id":12154457,"reputation":766,"user_id":8873770,"accept_rate":80,"display_name":"Jonxag"},"score":0,"creation_date":1674259512,"post_id":75190283,"comment_id":132683973,"body_markdown":"Try with java-installer.exe /s","body":"Try with java-installer.exe /s"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1674260952,"post_id":75190283,"comment_id":132684121,"body_markdown":"The first thing I&#39;d mention is, to the best of my knowledge, for at least a few years now, Oracle forbids anyone from downloading Java in such a manner. Then I&#39;d say the best way is to use a configuration file for installation. Additionaly, the installation options are clearly listed all over the internet, not just for the specific application if using an .exe file, but for Microsoft installers, i.e. .msi files. You have not even told us which you are trying to install, or how the download is working for you. We expect you to submit code and debugging information.","body":"The first thing I&#39;d mention is, to the best of my knowledge, for at least a few years now, Oracle forbids anyone from downloading Java in such a manner. Then I&#39;d say the best way is to use a configuration file for installation. Additionaly, the installation options are clearly listed all over the internet, not just for the specific application if using an .exe file, but for Microsoft installers, i.e. .msi files. You have not even told us which you are trying to install, or how the download is working for you. We expect you to submit code and debugging information."}],"owner":{"account_id":27578017,"reputation":9,"user_id":21047784,"display_name":"Xeon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674282201,"creation_date":1674258359,"question_id":75190283,"body_markdown":"I am writing a Batch to auto-install Modded Minecraft (included everything needed). Installing Java seemed simple enough but I can&#39;t figure out how to install it silently with something like wget.\r\n&lt;br&gt;Example:\r\n```\r\nwget {java download link}\r\n/s java-installer.exe (basically run it silently)\r\nthen wait for it to install (which I also can&#39;t find a good way)\r\nif exist &quot;java.exe&quot; (goto java-installed) else (goto java-install-failed)\r\nthen on to the rest of my code\r\n```\r\n\r\n(Any answers are appreciated)\r\n\r\nI tried to install java from the installer file in the batch but it just opens the file. I don&#39;t really know where to go from there. The ideal process would silently installed it and output the info from the java installer to the same command prompt window and the batch file","title":"Batch File to silently auto-install Java","body":"<p>I am writing a Batch to auto-install Modded Minecraft (included everything needed). Installing Java seemed simple enough but I can't figure out how to install it silently with something like wget.\n<br>Example:</p>\n<pre><code>wget {java download link}\n/s java-installer.exe (basically run it silently)\nthen wait for it to install (which I also can't find a good way)\nif exist &quot;java.exe&quot; (goto java-installed) else (goto java-install-failed)\nthen on to the rest of my code\n</code></pre>\n<p>(Any answers are appreciated)</p>\n<p>I tried to install java from the installer file in the batch but it just opens the file. I don't really know where to go from there. The ideal process would silently installed it and output the info from the java installer to the same command prompt window and the batch file</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7598116,"reputation":369,"user_id":5763677,"display_name":"Enosh Cohen"},"score":0,"creation_date":1674279189,"post_id":75191239,"comment_id":132685639,"body_markdown":"This is very interesting. \n\nMaybe there is an implicit cast\n\nso -&gt; `i += d` &lt;==&gt; `i = i + (int)d`\nhttps://godbolt.org/z/1rbohf7Ts","body":"This is very interesting.   Maybe there is an implicit cast  so -&gt; <code>i += d</code> &lt;==&gt; <code>i = i + (int)d</code> <a href=\"https://godbolt.org/z/1rbohf7Ts\" rel=\"nofollow noreferrer\">godbolt.org/z/1rbohf7Ts</a>"}],"answers":[{"tags":[],"owner":{"account_id":16279079,"reputation":69,"user_id":11755559,"display_name":"Sumit Bikram Maity"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674281208,"creation_date":1674281208,"answer_id":75191461,"question_id":75191239,"body_markdown":"&gt; Here, `+=` does `implicit cast`, where as `+` operator requires\r\n&gt; `explicit cast` for second operand, otherwise it won’t compile.\r\n\r\nSo in the first code, we are assigning the right side part `(k + Math.pow(2,4))` which becomes `double` after additon and assigning it to an `int` type variable at last. And that&#39;s an issue of **lossy conversion**.\r\n\r\n&lt;br&gt;\r\nIf we explain the second code snippet, \r\n\r\n    int k = 0\r\n    k += Math.pow(2, 4);\r\n    System.out.println(k);\r\n\r\nas per the java documentation we can see it&#39;s internal working like this:\r\n\r\n    int k = 0\r\n    k = (int) (k + Math.pow(2, 4));\r\n    System.out.println(k);\r\nYou can see in the doc [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2","title":"Why is the lossy conversion warning inconsistent?","body":"<blockquote>\n<p>Here, <code>+=</code> does <code>implicit cast</code>, where as <code>+</code> operator requires\n<code>explicit cast</code> for second operand, otherwise it won’t compile.</p>\n</blockquote>\n<p>So in the first code, we are assigning the right side part <code>(k + Math.pow(2,4))</code> which becomes <code>double</code> after additon and assigning it to an <code>int</code> type variable at last. And that's an issue of <strong>lossy conversion</strong>.</p>\n<br>\nIf we explain the second code snippet, \n<pre><code>int k = 0\nk += Math.pow(2, 4);\nSystem.out.println(k);\n</code></pre>\n<p>as per the java documentation we can see it's internal working like this:</p>\n<pre><code>int k = 0\nk = (int) (k + Math.pow(2, 4));\nSystem.out.println(k);\n</code></pre>\n<p>You can see in the doc <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":27585195,"reputation":3,"user_id":21053527,"display_name":"Arham Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75191461,"answer_count":1,"score":0,"last_activity_date":1674281208,"creation_date":1674277482,"question_id":75191239,"body_markdown":"The code below shows an error due to lossy conversion because math.pow returns a double, and I store the answer in an integer.\r\n\r\n```\r\nint k = 0\r\nk = k + Math.pow(2, 4);\r\nSystem.out.println(k);\r\n```\r\n\r\nbut this code:\r\n```\r\nint k = 0\r\nk += Math.pow(2, 4);\r\nSystem.out.println(k);\r\n```\r\n\r\nShows no error, why?\r\n \r\nMy question is: Why is there no error in the second code?","title":"Why is the lossy conversion warning inconsistent?","body":"<p>The code below shows an error due to lossy conversion because math.pow returns a double, and I store the answer in an integer.</p>\n<pre><code>int k = 0\nk = k + Math.pow(2, 4);\nSystem.out.println(k);\n</code></pre>\n<p>but this code:</p>\n<pre><code>int k = 0\nk += Math.pow(2, 4);\nSystem.out.println(k);\n</code></pre>\n<p>Shows no error, why?</p>\n<p>My question is: Why is there no error in the second code?</p>\n"},{"tags":["java","go","pass-by-reference","pass-by-value","pass-by-pointer"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1674251477,"post_id":75185425,"comment_id":132682620,"body_markdown":"Note that [Java passes references by value](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value).","body":"Note that <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Java passes references by value</a>."},{"owner":{"account_id":3274563,"reputation":6446,"user_id":2757035,"accept_rate":57,"display_name":"underscore_d"},"score":1,"creation_date":1674251861,"post_id":75185425,"comment_id":132682712,"body_markdown":"likely dupe of [Passing by reference and value in Go to functions](https://stackoverflow.com/questions/47296325/passing-by-reference-and-value-in-go-to-functions)","body":"likely dupe of <a href=\"https://stackoverflow.com/questions/47296325/passing-by-reference-and-value-in-go-to-functions\">Passing by reference and value in Go to functions</a>"},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674252410,"post_id":75185425,"comment_id":132682840,"body_markdown":"@underscore_d I need a more systematic answer: What is reference, pointer and value? it needs to be answered by using different language as examples Go is passing new value for pointer or prmitive type, which makes sense. But for java, it should also pass the reference by value,but why does it never get a new address allocated? see here: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"@underscore_d I need a more systematic answer: What is reference, pointer and value? it needs to be answered by using different language as examples Go is passing new value for pointer or prmitive type, which makes sense. But for java, it should also pass the reference by value,but why does it never get a new address allocated? see here: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1674254255,"post_id":75185425,"comment_id":132683210,"body_markdown":"might just be linguistics?... but it boils down to the same thing...you&#39;re passing a reference to an object (which boils down to pointers at some level) when you&#39;re passing by reference... you can also pass a new copy of that object... which is usually called by value.  I don&#39;t think Java is strictly one or the other... maybe the real concern is whether the original object is/can be modified by other scopes?","body":"might just be linguistics?... but it boils down to the same thing...you&#39;re passing a reference to an object (which boils down to pointers at some level) when you&#39;re passing by reference... you can also pass a new copy of that object... which is usually called by value.  I don&#39;t think Java is strictly one or the other... maybe the real concern is whether the original object is/can be modified by other scopes?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674255674,"post_id":75185425,"comment_id":132683448,"body_markdown":"Both Go and Java have garbage collectors which manage memory, so dealing directly with memory addresses is handled by their run-times.  So pointers are not used in code, but set by the run-time (and compilers?).   Pointers have a pretty precise definition... it&#39;s a handle (reference) to a specific piece of memory(which can hold a value).  The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are a bit more fuzzy. In Java I think there&#39;s differences when it comes to primitives and other types...  objects can have many types... (even answering what type is this object gets funny)","body":"Both Go and Java have garbage collectors which manage memory, so dealing directly with memory addresses is handled by their run-times.  So pointers are not used in code, but set by the run-time (and compilers?).   Pointers have a pretty precise definition... it&#39;s a handle (reference) to a specific piece of memory(which can hold a value).  The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are a bit more fuzzy. In Java I think there&#39;s differences when it comes to primitives and other types...  objects can have many types... (even answering what type is this object gets funny)"},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674281326,"post_id":75185425,"comment_id":132685823,"body_markdown":"@pcalkins maybe you are right. But as a programmer, I really dislike the things which are fuzzy. I like things that can be proved and verified by code. I need to understand what they are internally and at lower level. otherwise it is very easy to make mistakes during coding. value, reference and pointer are used by a lot of languages. If we can have a detailed explanation about these general concept shared by all languages, it is like a universal tool","body":"@pcalkins maybe you are right. But as a programmer, I really dislike the things which are fuzzy. I like things that can be proved and verified by code. I need to understand what they are internally and at lower level. otherwise it is very easy to make mistakes during coding. value, reference and pointer are used by a lot of languages. If we can have a detailed explanation about these general concept shared by all languages, it is like a universal tool"},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674285930,"post_id":75185425,"comment_id":132686264,"body_markdown":"@pcalkins There is nothing fuzzy about pass-by-value and pass-by-reference. Those terms are precise definitions that are valid across languages. Besides them there are other  kinds of passing arguments, but those two are the most commonly used. What is usually confusing to people is that those terms use _value_ and _reference_ but in that context it is not related to _reference or value types_. but to how is part of the parameter that is passed on to the method through stack.","body":"@pcalkins There is nothing fuzzy about pass-by-value and pass-by-reference. Those terms are precise definitions that are valid across languages. Besides them there are other  kinds of passing arguments, but those two are the most commonly used. What is usually confusing to people is that those terms use <i>value</i> and <i>reference</i> but in that context it is not related to <i>reference or value types</i>. but to how is part of the parameter that is passed on to the method through stack."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674286062,"post_id":75185425,"comment_id":132686275,"body_markdown":"In that light reference types consist of two parts: the reference itself and the data that reference points to. When passing parameters pass-by-value and pass-by-reference refer only to the first part - how is reference itself passed. They don&#39;t care about other data allocated in some other place. When we say Java is pass-by-value that means the reference part of the parameter is copied (passed as value) to the method.","body":"In that light reference types consist of two parts: the reference itself and the data that reference points to. When passing parameters pass-by-value and pass-by-reference refer only to the first part - how is reference itself passed. They don&#39;t care about other data allocated in some other place. When we say Java is pass-by-value that means the reference part of the parameter is copied (passed as value) to the method."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674286568,"post_id":75185425,"comment_id":132686327,"body_markdown":"@Stan You Java example is bad. It is showing the address of the allocated object not the address of the variable or parameter itself. You can verify this by retrieving address  of `Object obj2 = obj;` which will be the same as the address of `obj`. Integer object instances are not held in duplicates and what you get here is not address of primitive integer, but its boxed Integer object which is the same object in the both occasions because you are boxing same integer value.","body":"@Stan You Java example is bad. It is showing the address of the allocated object not the address of the variable or parameter itself. You can verify this by retrieving address  of <code>Object obj2 = obj;</code> which will be the same as the address of <code>obj</code>. Integer object instances are not held in duplicates and what you get here is not address of primitive integer, but its boxed Integer object which is the same object in the both occasions because you are boxing same integer value."},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674364212,"post_id":75185425,"comment_id":132697074,"body_markdown":"@DalijaPrasnikar Hi you are right. This java example is bad. it is hard to verify the address of var in Java","body":"@DalijaPrasnikar Hi you are right. This java example is bad. it is hard to verify the address of var in Java"},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674375471,"post_id":75185425,"comment_id":132698111,"body_markdown":"That is because Java does not use raw pointers and memory address is not something developers should be concerned about there. There are easier ways to confirm whether something is pass-by-reference or pass-by-value (besides reading documentation). Pass an object to method and then try to assign null to that parameter or new object. And then check what you have in the variable you passed to the method. If you get null or ne object it is pass-by-reference.","body":"That is because Java does not use raw pointers and memory address is not something developers should be concerned about there. There are easier ways to confirm whether something is pass-by-reference or pass-by-value (besides reading documentation). Pass an object to method and then try to assign null to that parameter or new object. And then check what you have in the variable you passed to the method. If you get null or ne object it is pass-by-reference."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":1,"creation_date":1674375765,"post_id":75185425,"comment_id":132698147,"body_markdown":"Note: There are some languages, Swift for instance, that does not have pass-by-reference, but in-out parameter which behaves like pass-by-reference, but has different mechanism behind and some slightly different behavior is some circumstances. So the above test is not fool proof.","body":"Note: There are some languages, Swift for instance, that does not have pass-by-reference, but in-out parameter which behaves like pass-by-reference, but has different mechanism behind and some slightly different behavior is some circumstances. So the above test is not fool proof."},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674379926,"post_id":75185425,"comment_id":132698639,"body_markdown":"@DalijaPrasnikar Thanks for your note. I really appreciate it","body":"@DalijaPrasnikar Thanks for your note. I really appreciate it"}],"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674293499,"answer_count":0,"score":0,"last_activity_date":1674281063,"creation_date":1674225133,"question_id":75185425,"body_markdown":"I am recently studying golang and realize that everything passed to a go function get a new copy of same type with different address? Is it something what we call pass by value?\r\n\r\nhttps://go.dev/play/p/eNvezQZrn8i\r\n```\r\npackage main\r\n\r\nimport &quot;fmt&quot;\r\n\r\nfunc fn(m map[int]int, s []int, i int) {\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n\r\n\tm = make(map[int]int)\r\n\ts = make([]int, 0)\r\n\ti = 1\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\nfunc main() {\r\n\tvar m map[int]int\r\n\tvar s []int\r\n\tvar i int\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n\r\n\tfn(m, s, i)\r\n\tfmt.Println(m == nil)\r\n\tfmt.Println(s == nil)\r\n\tfmt.Println(i == 0)\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\n```\r\nOutput: \r\n```\r\n0xc00011a018 \r\n0x0 \r\n0xc000116018 \r\n0xc000122000 \r\n0xc00011a028 \r\n0xc000116030 \r\n0xc000122008 \r\n0xc00011a028 \r\n0xc000116030 \r\n0xc000122008 \r\ntrue\r\ntrue\r\ntrue\r\n0xc00011a018 \r\n0xc000116018 \r\n0xc000122000 \r\n\r\n```\r\n\r\nSo basically everything gets a new address unless we directly pass in the address like below:\r\n```\r\npackage main\r\n\r\nimport &quot;fmt&quot;\r\n\r\nfunc fn(m *map[int]int, s *[]int, i *int) {\r\n\tfmt.Printf(&quot;%p \\n&quot;, m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, i)\r\n\r\n\t*m = make(map[int]int)\r\n\t*s = make([]int, 0)\r\n\t*i = 1\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\nfunc main() {\r\n\tvar m map[int]int\r\n\tvar s []int\r\n\tvar i int\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n\r\n\tfn(&amp;m, &amp;s, &amp;i)\r\n\tfmt.Println(m == nil)\r\n\tfmt.Println(s == nil)\r\n\tfmt.Println(i == 0)\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\n```\r\nhttps://go.dev/play/p/QLSBQd4Dbe0\r\noutput\r\n```\r\n0xc000012028 \r\n0xc000010030 \r\n0xc00001c030 \r\n0xc000012028 \r\n0xc000010030 \r\n0xc00001c030 \r\n0xc000012038 \r\n0xc000012040 \r\n0xc000012048 \r\nfalse\r\nfalse\r\nfalse\r\n0xc000012028 \r\n0xc000010030 \r\n0xc00001c030 \r\n```\r\nGolang still behaves consistently up to now.\r\n\r\n**But as for java, everything is passed by the exact memory address:**\r\n```\r\npublic class TestReferenceVsPointer {\r\n    public static void main(String[] args) {\r\n        Object obj = new Object();\r\n        int i = 1;\r\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\r\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\r\n\r\n    }\r\n\r\n    public static void print(Object obj, int i){\r\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\r\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\r\n    }\r\n}\r\n```\r\n[![enter image description here][3]][3]\r\n\r\nThis is really against my common sense. AS I always thought in java object is passed by pointer but this is apparently not pointer because it still has the same address as the argument.\r\nAs for primitive value will get a new copy and new address. But it is still same address for the primitive type.\r\n\r\n**Both java and golang have pass by value but why are they different?**\r\n\r\nCan anyone give me a clear definition as to what reference, value and pointer are and **what the above three examples use: reference, value and pointer?** It is better that you can use different languages to answer it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIE12.png\r\n  [2]: https://i.stack.imgur.com/spm9V.png\r\n  [3]: https://i.stack.imgur.com/uaNz8.png","title":"What is value, reference vs pointer and what these three example used to pass?","body":"<p>I am recently studying golang and realize that everything passed to a go function get a new copy of same type with different address? Is it something what we call pass by value?</p>\n<p><a href=\"https://go.dev/play/p/eNvezQZrn8i\" rel=\"nofollow noreferrer\">https://go.dev/play/p/eNvezQZrn8i</a></p>\n<pre><code>package main\n\nimport &quot;fmt&quot;\n\nfunc fn(m map[int]int, s []int, i int) {\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n\n    m = make(map[int]int)\n    s = make([]int, 0)\n    i = 1\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\nfunc main() {\n    var m map[int]int\n    var s []int\n    var i int\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n\n    fn(m, s, i)\n    fmt.Println(m == nil)\n    fmt.Println(s == nil)\n    fmt.Println(i == 0)\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>0xc00011a018 \n0x0 \n0xc000116018 \n0xc000122000 \n0xc00011a028 \n0xc000116030 \n0xc000122008 \n0xc00011a028 \n0xc000116030 \n0xc000122008 \ntrue\ntrue\ntrue\n0xc00011a018 \n0xc000116018 \n0xc000122000 \n\n</code></pre>\n<p>So basically everything gets a new address unless we directly pass in the address like below:</p>\n<pre><code>package main\n\nimport &quot;fmt&quot;\n\nfunc fn(m *map[int]int, s *[]int, i *int) {\n    fmt.Printf(&quot;%p \\n&quot;, m)\n    fmt.Printf(&quot;%p \\n&quot;, s)\n    fmt.Printf(&quot;%p \\n&quot;, i)\n\n    *m = make(map[int]int)\n    *s = make([]int, 0)\n    *i = 1\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\nfunc main() {\n    var m map[int]int\n    var s []int\n    var i int\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n\n    fn(&amp;m, &amp;s, &amp;i)\n    fmt.Println(m == nil)\n    fmt.Println(s == nil)\n    fmt.Println(i == 0)\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\n</code></pre>\n<p><a href=\"https://go.dev/play/p/QLSBQd4Dbe0\" rel=\"nofollow noreferrer\">https://go.dev/play/p/QLSBQd4Dbe0</a>\noutput</p>\n<pre><code>0xc000012028 \n0xc000010030 \n0xc00001c030 \n0xc000012028 \n0xc000010030 \n0xc00001c030 \n0xc000012038 \n0xc000012040 \n0xc000012048 \nfalse\nfalse\nfalse\n0xc000012028 \n0xc000010030 \n0xc00001c030 \n</code></pre>\n<p>Golang still behaves consistently up to now.</p>\n<p><strong>But as for java, everything is passed by the exact memory address:</strong></p>\n<pre><code>public class TestReferenceVsPointer {\n    public static void main(String[] args) {\n        Object obj = new Object();\n        int i = 1;\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\n\n    }\n\n    public static void print(Object obj, int i){\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uaNz8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uaNz8.png\" alt=\"enter image description here\" /></a></p>\n<p>This is really against my common sense. AS I always thought in java object is passed by pointer but this is apparently not pointer because it still has the same address as the argument.\nAs for primitive value will get a new copy and new address. But it is still same address for the primitive type.</p>\n<p><strong>Both java and golang have pass by value but why are they different?</strong></p>\n<p>Can anyone give me a clear definition as to what reference, value and pointer are and <strong>what the above three examples use: reference, value and pointer?</strong> It is better that you can use different languages to answer it</p>\n"},{"tags":["java","asynchronous","project-reactor","reactive"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1674310280,"post_id":75190486,"comment_id":132689605,"body_markdown":"The threading model is a little complex. Does [this explanation](https://stackoverflow.com/a/75127969/2678097) answers your question ?","body":"The threading model is a little complex. Does <a href=\"https://stackoverflow.com/a/75127969/2678097\">this explanation</a> answers your question ?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1674324184,"post_id":75190486,"comment_id":132692206,"body_markdown":"take a look to the similar question and my answer. In short, there&#39;s no blocking code in your snippet https://stackoverflow.com/questions/75071304/java-reactor-suscribe-is-sometime-blocking-sometime-not/75071744#75071744","body":"take a look to the similar question and my answer. In short, there&#39;s no blocking code in your snippet <a href=\"https://stackoverflow.com/questions/75071304/java-reactor-suscribe-is-sometime-blocking-sometime-not/75071744#75071744\" title=\"java reactor suscribe is sometime blocking sometime not\">stackoverflow.com/questions/75071304/&hellip;</a>"},{"owner":{"account_id":20466815,"reputation":3,"user_id":15018132,"display_name":"User198810"},"score":0,"creation_date":1674343116,"post_id":75190486,"comment_id":132695303,"body_markdown":"Thanks @kerbermeister.\nIn the real world, I have to load tons of data(from DB/web service) while the application starts up.\nThis causes the application for a slow startup. My intention was to let this code run in the background without affecting the startup and cache it.\nI will use those data later in my program. I don&#39;t want to load the data once the application has started. I was under the assumption\nthat I don&#39;t have to use any background thread or a separate process to load the data.\nThis will be handled by an asynchronous framework.","body":"Thanks @kerbermeister. In the real world, I have to load tons of data(from DB/web service) while the application starts up. This causes the application for a slow startup. My intention was to let this code run in the background without affecting the startup and cache it. I will use those data later in my program. I don&#39;t want to load the data once the application has started. I was under the assumption that I don&#39;t have to use any background thread or a separate process to load the data. This will be handled by an asynchronous framework."}],"owner":{"account_id":20466815,"reputation":3,"user_id":15018132,"display_name":"User198810"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674278604,"creation_date":1674261309,"question_id":75190486,"body_markdown":"I am quite new to reactive programming. I understood that it won&#39;t block the code for large data retrieval. To state that, I wrote the below code. \r\n\r\n\r\n```\r\nimport reactor.core.publisher.Flux;\r\n\r\npublic class ProjectReactorExamples {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;started &quot; +Thread.currentThread().getName());\t\t\r\n\t\tFlux.range(1,10).subscribe(data -&gt; print(data));\r\n\t\tSystem.out.println(&quot;Finished&quot;);\r\n\t  }\r\n\t\r\n\tprivate static void print(long data) {\t\t\r\n\t\tSystem.out.println(&quot;Printing &quot;+data+ &quot;with the thread &quot;+ Thread.currentThread().getName());\t\t\r\n\t}\r\n}\r\n```\r\n\r\nIn the below code I was expecting the output as\r\n```\r\n&quot;Started&quot;\r\n&quot;Finished&quot;\r\n&quot;print 1 -10 &quot; //printing 1-10\r\n```\r\n\r\nBut I am always getting the output in a sequential manner which means the &#39;Finished ..&#39; output is always showing after subscribe is completed. Here I can see a blocking. How do I rewrite this in order to see &#39;Finished&#39; as second and subscribed data as last.","title":"why the below code is blocking in project reactor","body":"<p>I am quite new to reactive programming. I understood that it won't block the code for large data retrieval. To state that, I wrote the below code.</p>\n<pre><code>import reactor.core.publisher.Flux;\n\npublic class ProjectReactorExamples {\n    public static void main(String[] args) {\n        System.out.println(&quot;started &quot; +Thread.currentThread().getName());       \n        Flux.range(1,10).subscribe(data -&gt; print(data));\n        System.out.println(&quot;Finished&quot;);\n      }\n    \n    private static void print(long data) {      \n        System.out.println(&quot;Printing &quot;+data+ &quot;with the thread &quot;+ Thread.currentThread().getName());     \n    }\n}\n</code></pre>\n<p>In the below code I was expecting the output as</p>\n<pre><code>&quot;Started&quot;\n&quot;Finished&quot;\n&quot;print 1 -10 &quot; //printing 1-10\n</code></pre>\n<p>But I am always getting the output in a sequential manner which means the 'Finished ..' output is always showing after subscribe is completed. Here I can see a blocking. How do I rewrite this in order to see 'Finished' as second and subscribed data as last.</p>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1674139028,"post_id":75173863,"comment_id":132654499,"body_markdown":"Your problem is unclear to me. are you seeing a NullPointerException. If so, at what line in your test or code ?","body":"Your problem is unclear to me. are you seeing a NullPointerException. If so, at what line in your test or code ?"},{"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"score":0,"creation_date":1674145581,"post_id":75173863,"comment_id":132656943,"body_markdown":"@Jayesh updated, please help","body":"@Jayesh updated, please help"}],"answers":[{"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1674222066,"post_id":75174362,"comment_id":132673670,"body_markdown":"This link could help: https://stackoverflow.com/questions/63386079/no-bean-named-mongotemplate-available-spring-boot-mongodb","body":"This link could help: <a href=\"https://stackoverflow.com/questions/63386079/no-bean-named-mongotemplate-available-spring-boot-mongodb\" title=\"no bean named mongotemplate available spring boot mongodb\">stackoverflow.com/questions/63386079/&hellip;</a>"}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674148044,"creation_date":1674141068,"answer_id":75174362,"question_id":75173863,"body_markdown":"The first thing you have to do is to clearly understand what your method `getAdmin` is doing and secondly clearly identify your dependencies and how they interact in the main method.\r\nTo finish, you have to define what you want to test, in your case you have two cases. The `if` case and the `else` case. \r\n\r\nIn your test you must define the behavior of your mock with a `when().thenReturn()...`\r\n\r\nYour test method will look like this:\r\n\r\n\r\n    @WebMvcTest(value = UserController.class)\r\n    class OrderApplicationTests {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        \r\n        @MockBean\r\n        private UserRepository userRepo;\r\n    \r\n        @Test\r\n        void contextLoads_whenNotNull() throws Exception{\r\n    \r\n            User myadmin = new User();\r\n            myadmin.setUsername(&quot;admin&quot;);\r\n            myadmin.setFirstname(&quot;admin&quot;);\r\n            myadmin.setLastname(&quot;admin&quot;);\r\n            myadmin.setEmail(&quot;admin@admin&quot;);\r\n            myadmin.setRole(&quot;admin&quot;);\r\n    \r\n            when(userRepo).thenReturn(myadmin)\r\n    \r\n            mockMvc.perform(get(&quot;/users/admin&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON))\r\n                    .andExpectAll(\r\n                            status().isOk(),\r\n                            jsonPath(&quot;$.message&quot;, containsString(&quot;admin generated&quot;))\r\n                    );\r\n        }\r\n\r\n        @Test\r\n        void contextLoads_whenIsNull() throws Exception{\r\n\r\n            when(userRepo).thenReturn(null)\r\n            mockMvc.perform(get(&quot;/users/admin&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpectAll(\r\n                        status().isOk(),\r\n                        jsonPath(&quot;$.message&quot;, containsString(&quot;admin only generated once&quot;))\r\n                );\r\n        }\r\n    }\r\n\r\nFor more details: https://www.bezkoder.com/spring-boot-webmvctest/","title":"Java Unit Testing Http Get test user auto generate","body":"<p>The first thing you have to do is to clearly understand what your method <code>getAdmin</code> is doing and secondly clearly identify your dependencies and how they interact in the main method.\nTo finish, you have to define what you want to test, in your case you have two cases. The <code>if</code> case and the <code>else</code> case.</p>\n<p>In your test you must define the behavior of your mock with a <code>when().thenReturn()...</code></p>\n<p>Your test method will look like this:</p>\n<pre><code>@WebMvcTest(value = UserController.class)\nclass OrderApplicationTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n    \n    @MockBean\n    private UserRepository userRepo;\n\n    @Test\n    void contextLoads_whenNotNull() throws Exception{\n\n        User myadmin = new User();\n        myadmin.setUsername(&quot;admin&quot;);\n        myadmin.setFirstname(&quot;admin&quot;);\n        myadmin.setLastname(&quot;admin&quot;);\n        myadmin.setEmail(&quot;admin@admin&quot;);\n        myadmin.setRole(&quot;admin&quot;);\n\n        when(userRepo).thenReturn(myadmin)\n\n        mockMvc.perform(get(&quot;/users/admin&quot;)\n                        .contentType(MediaType.APPLICATION_JSON))\n                .andExpectAll(\n                        status().isOk(),\n                        jsonPath(&quot;$.message&quot;, containsString(&quot;admin generated&quot;))\n                );\n    }\n\n    @Test\n    void contextLoads_whenIsNull() throws Exception{\n\n        when(userRepo).thenReturn(null)\n        mockMvc.perform(get(&quot;/users/admin&quot;)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpectAll(\n                    status().isOk(),\n                    jsonPath(&quot;$.message&quot;, containsString(&quot;admin only generated once&quot;))\n            );\n    }\n}\n</code></pre>\n<p>For more details: <a href=\"https://www.bezkoder.com/spring-boot-webmvctest/\" rel=\"nofollow noreferrer\">https://www.bezkoder.com/spring-boot-webmvctest/</a></p>\n"},{"tags":[],"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674277696,"creation_date":1674277696,"answer_id":75191249,"question_id":75173863,"body_markdown":"previously i am laravel user. When i run unit testing, i dont need to run the apps before i can run testing scenario. So i think, the error log tell me that the mongo database is not connected to apps, even the apps itself is not running yet.\r\n\r\nSo, based on my case, i need to make sure **run the apps first, not build**. If i only build the apps, the program will remain error.  \r\n\r\nBy default, when you need to build the apps, you need to make sure the apps is already running too. Spring Boot will also run the test case before build the jar file.\r\n\r\nfirst, run the apps\r\n```bash\r\nmvn spring-boot:run\r\n```\r\nthen,  \r\n- you can run only the test case\r\n    ```bash\r\n    mvn test\r\n    ```\r\n- or build your apps\r\n    ```bash\r\n    mvn clean package\r\n    ```","title":"Java Unit Testing Http Get test user auto generate","body":"<p>previously i am laravel user. When i run unit testing, i dont need to run the apps before i can run testing scenario. So i think, the error log tell me that the mongo database is not connected to apps, even the apps itself is not running yet.</p>\n<p>So, based on my case, i need to make sure <strong>run the apps first, not build</strong>. If i only build the apps, the program will remain error.</p>\n<p>By default, when you need to build the apps, you need to make sure the apps is already running too. Spring Boot will also run the test case before build the jar file.</p>\n<p>first, run the apps</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n<p>then,</p>\n<ul>\n<li>you can run only the test case\n<pre class=\"lang-bash prettyprint-override\"><code>mvn test\n</code></pre>\n</li>\n<li>or build your apps\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean package\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674277696,"creation_date":1674138679,"question_id":75173863,"body_markdown":"I write function in rest to automatically generate user with admin role. Here&#39;s the function:\r\n\r\nUserController.java\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;users&quot;)\r\npublic class UserController {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository userRepo;\r\n\t@Autowired\r\n\tprivate TokenRepository tokenRepo;\r\n\t\r\n\t@GetMapping(&quot;admin&quot;)\r\n\tpublic String getAdmin () {\r\n\t\tJSONObject report = new JSONObject();\r\n\t\tString dataAdmin = userRepo.findByUsername(&quot;admin&quot;);\r\n\t\tif(dataAdmin == null) {\r\n\t\t\tUser myadmin = new User();\r\n\t\t\tmyadmin.setUsername(&quot;admin&quot;);\r\n\t\t\tmyadmin.setFirstname(&quot;admin&quot;);\r\n\t\t\tmyadmin.setLastname(&quot;admin&quot;);\r\n\t\t\tmyadmin.setEmail(&quot;admin@admin&quot;);\r\n\t\t\tmyadmin.setRole(&quot;admin&quot;);\r\n\t\t\tuserRepo.save(myadmin);\r\n\t\t\treport.put(&quot;message&quot;, &quot;admin generated&quot;);\r\n\t\t} else {\r\n\t\t\treport.put(&quot;message&quot;, &quot;admin only generated once&quot;);\r\n\t\t}\r\n\t\treturn report.toString();\r\n\t}\r\n```\r\n\r\nI am trying to follow the instruction from here https://www.springboottutorial.com/unit-testing-for-spring-boot-rest-services.\r\nIn *Unit Testing Http Get Operation* section. I am getting several problem and also trying the different solution until I meet this https://stackoverflow.com/questions/63008254/unit-testing-a-get-request-in-a-spring-project from stackoverflow.\r\nbelow is the testing script I&#39;ve make so far.\r\n```java\r\npackage blablaaa.order;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.json.JSONObject;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MvcResult;\r\nimport org.springframework.test.web.servlet.RequestBuilder;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n\r\nimport blablaaa.order.controller.UserController;\r\nimport blablaaa.order.dao.UserRepository;\r\nimport blablaaa.order.model.User;\r\n\r\n//@ExtendWith(SpringExtension.class)\r\n//@SpringBootTest\r\n@WebMvcTest(value = UserController.class)\r\nclass OrderApplicationTests {\r\n//\t\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\t\r\n\t@MockBean\r\n\tprivate UserRepository userRepo;\r\n\r\n\t@Test\r\n\tvoid contextLoads() throws Exception{\r\n\r\n\t\tUser myadmin = new User();\r\n\t\tmyadmin.setUsername(&quot;admin&quot;);\r\n\t\tmyadmin.setFirstname(&quot;admin&quot;);\r\n\t\tmyadmin.setLastname(&quot;admin&quot;);\r\n\t\tmyadmin.setEmail(&quot;admin@admin&quot;);\r\n\t\tmyadmin.setRole(&quot;admin&quot;);\r\n\t\t\r\n\t\tList&lt;User&gt; myUser = new ArrayList&lt;&gt;();\r\n\t\tmyUser.add(myadmin);\r\n\t\tRequestBuilder rb = MockMvcRequestBuilders.get(&quot;/users/admin&quot;).accept(MediaType.APPLICATION_JSON);\r\n\t\tMvcResult result = mockMvc.perform(rb).andReturn();\r\n\t\tJSONObject expect = new JSONObject();\r\n\t\texpect.put(&quot;message&quot;, &quot;admin generated&quot;);\r\n//\t\tSystem.out.println(result.toString());\r\n\t\tSystem.out.println(expect.toString());\r\n//\t\tAssertions.assertTrue(result.toString().contains(expect.toString()));\r\n\t}\r\n\r\n}\r\n```\r\nI dont know, how the testing should be written. any keyword related to this?\r\n\r\n[update]  \r\nHere&#39;s my main:\r\n```java\r\n// OrderApplication.java\r\n@SpringBootApplication\r\n@EnableMongoRepositories(&quot;blablaaa.order.dao&quot;)\r\npublic class OrderApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(OrderApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nHere&#39;s my program error log\r\n```\r\nDescription:\r\n\r\nField tokenRepo in blablaaa.order.controller.UserController required a bean named &#39;mongoTemplate&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;mongoTemplate&#39; in your configuration.\r\n```","title":"Java Unit Testing Http Get test user auto generate","body":"<p>I write function in rest to automatically generate user with admin role. Here's the function:</p>\n<p>UserController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepo;\n    @Autowired\n    private TokenRepository tokenRepo;\n    \n    @GetMapping(&quot;admin&quot;)\n    public String getAdmin () {\n        JSONObject report = new JSONObject();\n        String dataAdmin = userRepo.findByUsername(&quot;admin&quot;);\n        if(dataAdmin == null) {\n            User myadmin = new User();\n            myadmin.setUsername(&quot;admin&quot;);\n            myadmin.setFirstname(&quot;admin&quot;);\n            myadmin.setLastname(&quot;admin&quot;);\n            myadmin.setEmail(&quot;admin@admin&quot;);\n            myadmin.setRole(&quot;admin&quot;);\n            userRepo.save(myadmin);\n            report.put(&quot;message&quot;, &quot;admin generated&quot;);\n        } else {\n            report.put(&quot;message&quot;, &quot;admin only generated once&quot;);\n        }\n        return report.toString();\n    }\n</code></pre>\n<p>I am trying to follow the instruction from here <a href=\"https://www.springboottutorial.com/unit-testing-for-spring-boot-rest-services\" rel=\"nofollow noreferrer\">https://www.springboottutorial.com/unit-testing-for-spring-boot-rest-services</a>.\nIn <em>Unit Testing Http Get Operation</em> section. I am getting several problem and also trying the different solution until I meet this <a href=\"https://stackoverflow.com/questions/63008254/unit-testing-a-get-request-in-a-spring-project\">Unit testing a Get request in a spring project</a> from stackoverflow.\nbelow is the testing script I've make so far.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package blablaaa.order;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.json.JSONObject;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\n\nimport blablaaa.order.controller.UserController;\nimport blablaaa.order.dao.UserRepository;\nimport blablaaa.order.model.User;\n\n//@ExtendWith(SpringExtension.class)\n//@SpringBootTest\n@WebMvcTest(value = UserController.class)\nclass OrderApplicationTests {\n//  \n    @Autowired\n    private MockMvc mockMvc;\n    \n    @MockBean\n    private UserRepository userRepo;\n\n    @Test\n    void contextLoads() throws Exception{\n\n        User myadmin = new User();\n        myadmin.setUsername(&quot;admin&quot;);\n        myadmin.setFirstname(&quot;admin&quot;);\n        myadmin.setLastname(&quot;admin&quot;);\n        myadmin.setEmail(&quot;admin@admin&quot;);\n        myadmin.setRole(&quot;admin&quot;);\n        \n        List&lt;User&gt; myUser = new ArrayList&lt;&gt;();\n        myUser.add(myadmin);\n        RequestBuilder rb = MockMvcRequestBuilders.get(&quot;/users/admin&quot;).accept(MediaType.APPLICATION_JSON);\n        MvcResult result = mockMvc.perform(rb).andReturn();\n        JSONObject expect = new JSONObject();\n        expect.put(&quot;message&quot;, &quot;admin generated&quot;);\n//      System.out.println(result.toString());\n        System.out.println(expect.toString());\n//      Assertions.assertTrue(result.toString().contains(expect.toString()));\n    }\n\n}\n</code></pre>\n<p>I dont know, how the testing should be written. any keyword related to this?</p>\n<p>[update]<br />\nHere's my main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// OrderApplication.java\n@SpringBootApplication\n@EnableMongoRepositories(&quot;blablaaa.order.dao&quot;)\npublic class OrderApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(OrderApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here's my program error log</p>\n<pre><code>Description:\n\nField tokenRepo in blablaaa.order.controller.UserController required a bean named 'mongoTemplate' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean named 'mongoTemplate' in your configuration.\n</code></pre>\n"},{"tags":["java","ping","http-head"],"comments":[{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":1,"creation_date":1312131878,"post_id":6890662,"comment_id":8202286,"body_markdown":"When you say &quot;a third-party website&quot;, is that one you own, or some random site? Please don&#39;t ping someone else&#39;s site like that. That can cause [trouble](http://en.wikipedia.org/wiki/NTP_server_misuse_and_abuse).","body":"When you say &quot;a third-party website&quot;, is that one you own, or some random site? Please don&#39;t ping someone else&#39;s site like that. That can cause <a href=\"http://en.wikipedia.org/wiki/NTP_server_misuse_and_abuse\" rel=\"nofollow noreferrer\">trouble</a>."}],"answers":[{"comments":[{"owner":{"account_id":318574,"reputation":4130,"user_id":635879,"display_name":"pyroscope"},"score":1,"creation_date":1312130368,"post_id":6890690,"comment_id":8202115,"body_markdown":"An OPTIONS request is even better because it&#39;s not associated to a resource that needs to be looked up first (to get its length etc).","body":"An OPTIONS request is even better because it&#39;s not associated to a resource that needs to be looked up first (to get its length etc)."}],"tags":[],"owner":{"account_id":10241,"reputation":5639,"user_id":19244,"accept_rate":50,"display_name":"sagi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1312136161,"creation_date":1312129477,"answer_id":6890690,"question_id":6890662,"body_markdown":"An HTTP HEAD is generally more reliable than a ping, as ICMP connections are often blocked and HTTP is usually open. Checking for a connectivity every second sounds pretty excessive, but it really depends on your use case what third party site you are trying to &quot;ping&quot;.","title":"Ping vs HTTP HEAD","body":"<p>An HTTP HEAD is generally more reliable than a ping, as ICMP connections are often blocked and HTTP is usually open. Checking for a connectivity every second sounds pretty excessive, but it really depends on your use case what third party site you are trying to \"ping\".</p>\n"},{"tags":[],"owner":{"account_id":242365,"reputation":6161,"user_id":513828,"accept_rate":96,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1330111946,"creation_date":1312129974,"answer_id":6890750,"question_id":6890662,"body_markdown":"I can&#39;t comment on whether its more effective to use HEAD or trying to do something like drop to the system and do a ping; but I don&#39;t think either of them is the solution you should be doing.  IMHO, it isn&#39;t necessary to poll your connection.  There are a lot of situations where a connection could be dropped and I don&#39;t think polling will provide much in the way of mitigating the problem.  Also, the user might be annoyed.  I know that if I were using an application, and then started doing something else, and all of a sudden I got a &quot;connection lost to 3rd party error&quot; from an application I wasn&#39;t even paying attention to; I would be very annoyed.\r\n\r\nIf your application depends on a connection being present, then I think its fair to handle this with exception handlers.  I&#39;m willing to be bet that whatever API you&#39;re using throws some kind of exception whenever you attempt a network action and you aren&#39;t able to establish a connection.  So, what I would do is in whatever class you&#39;re initializing the network action, I would follow this paradigm:\r\n\r\n    try {\r\n      performNetworkAction();\r\n    } catch (NoConnectionFoundException e) {\r\n      // handle the situation here\r\n    }\r\n\r\nYour application shouldn&#39;t be able to determine when a connection was lost, just how to react when you attempt a network action and no connection is found.\r\n\r\nThat being said - you still may disagree with me.  If that is the case then the frequency of polling allowed/recommended might be documented in the API for the service you&#39;re using.  Also, if the resource from the 3rd party is static, you should cache it as opposed to getting it over and over again.","title":"Ping vs HTTP HEAD","body":"<p>I can't comment on whether its more effective to use HEAD or trying to do something like drop to the system and do a ping; but I don't think either of them is the solution you should be doing.  IMHO, it isn't necessary to poll your connection.  There are a lot of situations where a connection could be dropped and I don't think polling will provide much in the way of mitigating the problem.  Also, the user might be annoyed.  I know that if I were using an application, and then started doing something else, and all of a sudden I got a \"connection lost to 3rd party error\" from an application I wasn't even paying attention to; I would be very annoyed.</p>\n\n<p>If your application depends on a connection being present, then I think its fair to handle this with exception handlers.  I'm willing to be bet that whatever API you're using throws some kind of exception whenever you attempt a network action and you aren't able to establish a connection.  So, what I would do is in whatever class you're initializing the network action, I would follow this paradigm:</p>\n\n<pre><code>try {\n  performNetworkAction();\n} catch (NoConnectionFoundException e) {\n  // handle the situation here\n}\n</code></pre>\n\n<p>Your application shouldn't be able to determine when a connection was lost, just how to react when you attempt a network action and no connection is found.</p>\n\n<p>That being said - you still may disagree with me.  If that is the case then the frequency of polling allowed/recommended might be documented in the API for the service you're using.  Also, if the resource from the 3rd party is static, you should cache it as opposed to getting it over and over again.</p>\n"},{"tags":[],"owner":{"account_id":87656,"reputation":31128,"user_id":242940,"display_name":"Sripathi Krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312164646,"creation_date":1312164646,"answer_id":6893667,"question_id":6890662,"body_markdown":"I wanted to expand [@Dave&#39;s answer][1], and a comment would not suffice.\r\n\r\n 1. When you lose internet connectivity, a `java.io.IOException` is thrown. Look at the [sub-classes of IOException][2] - UnknownHostException, SocketException and ProtocolException are the ones that usually smell of &quot;No Internet Connection&quot;\r\n 4. Create a central place for handling exceptions (this is good practice in itself). If you get any of the IOException&#39;s I mentioned above, set isInternetAvailable to false. \r\n 2. Instead of polling for internet connection, switch to retrying the operation you want to perform. You achieve the same thing\r\n 3. Use a backoff strategy - exponential backoff works great. For example, after it fails the first time, you wait for 5s. After the second failure, you wait for 25s and so on. Gmail webapp uses this strategy. [Twitter commons has utility classes for backoff][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6890662/ping-vs-http-head/6890750#6890750\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/io/IOException.html\r\n  [3]: http://twitter.github.com/commons/apidocs/com/twitter/common/util/BackoffHelper.html","title":"Ping vs HTTP HEAD","body":"<p>I wanted to expand <a href=\"https://stackoverflow.com/questions/6890662/ping-vs-http-head/6890750#6890750\">@Dave's answer</a>, and a comment would not suffice.</p>\n\n<ol>\n<li>When you lose internet connectivity, a <code>java.io.IOException</code> is thrown. Look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/IOException.html\" rel=\"nofollow noreferrer\">sub-classes of IOException</a> - UnknownHostException, SocketException and ProtocolException are the ones that usually smell of \"No Internet Connection\"</li>\n<li>Create a central place for handling exceptions (this is good practice in itself). If you get any of the IOException's I mentioned above, set isInternetAvailable to false. </li>\n<li>Instead of polling for internet connection, switch to retrying the operation you want to perform. You achieve the same thing</li>\n<li>Use a backoff strategy - exponential backoff works great. For example, after it fails the first time, you wait for 5s. After the second failure, you wait for 25s and so on. Gmail webapp uses this strategy. <a href=\"http://twitter.github.com/commons/apidocs/com/twitter/common/util/BackoffHelper.html\" rel=\"nofollow noreferrer\">Twitter commons has utility classes for backoff</a>.</li>\n</ol>\n"}],"owner":{"account_id":306734,"reputation":113,"user_id":617645,"accept_rate":71,"display_name":"Olbion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2415,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6890690,"answer_count":3,"score":4,"last_activity_date":1674276518,"creation_date":1312129249,"question_id":6890662,"body_markdown":"I&#39;m writing a Java app which has a feature to check whether it&#39;s connected to the internet by periodically trying to access a server. My first idea was to Ping the server - but turned out to be complicated to achieve in Java. So I remade it to send HTTP HEAD requests and check for the HTTP response code instead. I have two questions:\r\n\r\n1) Are HTTP HEAD requests &quot;as reliable&quot; as pings? Ping would be my first natural choice to check if something is available. Maybe just because it&#39;s so easy to run on the command line.\r\n\r\n2) If I send HTTP HEAD requests to a third-party website to check if it is accessible, is there some standard frequency at which these should be sent? Eg if I send them every second, would that be discouraged or even get me blocked from those services?","title":"Ping vs HTTP HEAD","body":"<p>I'm writing a Java app which has a feature to check whether it's connected to the internet by periodically trying to access a server. My first idea was to Ping the server - but turned out to be complicated to achieve in Java. So I remade it to send HTTP HEAD requests and check for the HTTP response code instead. I have two questions:</p>\n\n<p>1) Are HTTP HEAD requests \"as reliable\" as pings? Ping would be my first natural choice to check if something is available. Maybe just because it's so easy to run on the command line.</p>\n\n<p>2) If I send HTTP HEAD requests to a third-party website to check if it is accessible, is there some standard frequency at which these should be sent? Eg if I send them every second, would that be discouraged or even get me blocked from those services?</p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":4508874,"reputation":463,"user_id":3665575,"display_name":"Raushan Kuamr Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427401888,"creation_date":1427401888,"answer_id":29288263,"question_id":29287969,"body_markdown":"You&#39;re trying to load the file with default [load data] options. \r\nMight be the chance that the csv file that you&#39;re trying to upload have used different format like different FIELD Enclosed By, or different TERMINATED By or different LINE TERMINATED By option. \r\nhere are the examples to dump csv &amp; load csv files. Please check your csv file format &amp; verify with different options.\r\n\r\n    -- -- To dump sql data to csv file\r\n    SELECT * \r\n    FROM test.yourTableName\r\n    INTO OUTFILE &#39;C:/test/yourTableName.csv&#39;\r\n    FIELDS ENCLOSED BY &#39;&quot;&#39; TERMINATED BY &#39;;&#39; ESCAPED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\r\\n&#39;;\r\n    \r\n    \r\n    -- -- To load data to sql database from csv\r\n    LOAD DATA INFILE &#39;C:/test/yourTableName.csv&#39; INTO TABLE test.yourTableName\r\n     FIELDS ENCLOSED BY &#39;&quot;&#39; TERMINATED BY &#39;;&#39; ESCAPED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\r\\n&#39;;","title":"Import CSV data to mysql table within Java program","body":"<p>You're trying to load the file with default [load data] options. \nMight be the chance that the csv file that you're trying to upload have used different format like different FIELD Enclosed By, or different TERMINATED By or different LINE TERMINATED By option. \nhere are the examples to dump csv &amp; load csv files. Please check your csv file format &amp; verify with different options.</p>\n\n<pre><code>-- -- To dump sql data to csv file\nSELECT * \nFROM test.yourTableName\nINTO OUTFILE 'C:/test/yourTableName.csv'\nFIELDS ENCLOSED BY '\"' TERMINATED BY ';' ESCAPED BY '\"'\nLINES TERMINATED BY '\\r\\n';\n\n\n-- -- To load data to sql database from csv\nLOAD DATA INFILE 'C:/test/yourTableName.csv' INTO TABLE test.yourTableName\n FIELDS ENCLOSED BY '\"' TERMINATED BY ';' ESCAPED BY '\"'\nLINES TERMINATED BY '\\r\\n';\n</code></pre>\n"}],"owner":{"account_id":5845592,"reputation":696,"user_id":4605817,"accept_rate":85,"display_name":"Andrei Maieras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3872,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":29288263,"answer_count":1,"score":1,"last_activity_date":1674276473,"creation_date":1427400873,"question_id":29287969,"body_markdown":"I have this method to import data from a CSV file.\r\nBut the method adds only the PID. Any sugestion to fix this??\r\n\r\n\r\n        public void importData(){\r\n            try{\r\n                Import path = new Import();\r\n                String filename = path.getFileName();\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;);\r\n                st = con.createStatement(rs.TYPE_SCROLL_SENSITIVE, rs.CONCUR_UPDATABLE);\r\n                String query = &quot;LOAD DATA LOCAL INFILE &#39;&quot; + filename + &quot;&#39; INTO TABLE Pacient (PID, Nume,Prenume, Varsta, CNP, Adresa);&quot;;\r\n                st.execute(query);\r\n            }\r\n            catch (SQLException | HeadlessException e){\r\n                e.printStackTrace();\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n                st = null;\r\n            }\r\n        }","title":"Import CSV data to mysql table within Java program","body":"<p>I have this method to import data from a CSV file.\nBut the method adds only the PID. Any sugestion to fix this??</p>\n\n<pre><code>    public void importData(){\n        try{\n            Import path = new Import();\n            String filename = path.getFileName();\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/test\");\n            st = con.createStatement(rs.TYPE_SCROLL_SENSITIVE, rs.CONCUR_UPDATABLE);\n            String query = \"LOAD DATA LOCAL INFILE '\" + filename + \"' INTO TABLE Pacient (PID, Nume,Prenume, Varsta, CNP, Adresa);\";\n            st.execute(query);\n        }\n        catch (SQLException | HeadlessException e){\n            e.printStackTrace();\n        }\n        catch (Exception e){\n            e.printStackTrace();\n            st = null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","mysql","sql","csv","jdbc"],"comments":[{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470149833,"post_id":38723905,"comment_id":64823774,"body_markdown":"also it&#39;s worth noting that i used asterixes in place of my username so those arent existent in my actual code.","body":"also it&#39;s worth noting that i used asterixes in place of my username so those arent existent in my actual code."},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470161215,"post_id":38723905,"comment_id":64831015,"body_markdown":"show your `show create table xyz` and a sample of the data going in (like 5 rows of it)","body":"show your <code>show create table xyz</code> and a sample of the data going in (like 5 rows of it)"},{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470162436,"post_id":38723905,"comment_id":64831759,"body_markdown":"@Drew i&#39;m sorry? what do you mean by that?","body":"@Drew i&#39;m sorry? what do you mean by that?"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470162767,"post_id":38723905,"comment_id":64831971,"body_markdown":"`show create table pumpkin001` as seen in my first block [here](http://stackoverflow.com/a/38385192) , then a sample of your data so someone can reasonably help you","body":"<code>show create table pumpkin001</code> as seen in my first block <a href=\"http://stackoverflow.com/a/38385192\">here</a> , then a sample of your data so someone can reasonably help you"},{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470163373,"post_id":38723905,"comment_id":64832341,"body_markdown":"@Drew is this what you meant? i edited my original post.","body":"@Drew is this what you meant? i edited my original post."},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470163878,"post_id":38723905,"comment_id":64832658,"body_markdown":"Thx. Now we need sample data. The other half of my request. Oh, you provided that. Can you give both as text. Someone should be able to cut and paste the whole thing in as a test and not retype it.","body":"Thx. Now we need sample data. The other half of my request. Oh, you provided that. Can you give both as text. Someone should be able to cut and paste the whole thing in as a test and not retype it."},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470164087,"post_id":38723905,"comment_id":64832795,"body_markdown":"You should be able to get a phpmyadmin query to allow you to run `show create table patients`  and then cut and paste the text here with an [edit]","body":"You should be able to get a phpmyadmin query to allow you to run <code>show create table patients</code>  and then cut and paste the text here with an <a href=\"https://stackoverflow.com/posts/38723905/edit\">edit</a>"},{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470165314,"post_id":38723905,"comment_id":64833552,"body_markdown":"@drew done! is this good enough?","body":"@drew done! is this good enough?"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470165671,"post_id":38723905,"comment_id":64833739,"body_markdown":"The bottom half is coming from a text file. Let me find a link to show you","body":"The bottom half is coming from a text file. Let me find a link to show you"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470166976,"post_id":38723905,"comment_id":64834467,"body_markdown":"http://stackoverflow.com/q/37930310 at the top. We need to know what your text file look like.","body":"<a href=\"http://stackoverflow.com/q/37930310\">stackoverflow.com/q/37930310</a> at the top. We need to know what your text file look like."}],"answers":[{"tags":[],"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470172582,"creation_date":1470172582,"answer_id":38730595,"question_id":38723905,"body_markdown":"    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class myTest {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Connection con = null;\r\n            Statement st = null;\r\n            ResultSet rs = null;\r\n    \r\n            String url = &quot;jdbc:mysql://localhost:3306/so_gibberish&quot;; // **** MODIFY db name (my db_name is so_gibberish)\r\n            String user = &quot;dbUser&quot;;   // **** MODIFY \r\n            String password = &quot;password123&quot;;    // **** MODIFY \r\n    \r\n            try {\r\n                con = DriverManager.getConnection(url, user, password);\r\n                st = con.createStatement();\r\n                String sSqlLinux=&quot;LOAD DATA INFILE &#39;/Users/nate/patients.txt&#39; INTO TABLE Patients &quot; + \r\n                &quot; FIELDS TERMINATED BY &#39;,&#39; ENCLOSED BY &#39;\\&quot;&#39; &quot; +\r\n                &quot; LINES TERMINATED BY &#39;\\\\n&#39;&quot;;\r\n                \r\n                String sSqlWindows=&quot;LOAD DATA INFILE &#39;c:/nate/patients.txt&#39; INTO TABLE Patients &quot; + \r\n                &quot; FIELDS TERMINATED BY &#39;,&#39; ENCLOSED BY &#39;\\&quot;&#39; &quot; +\r\n                &quot; LINES TERMINATED BY &#39;\\\\r\\\\n&#39;&quot;;\r\n                \r\n                rs = st.executeQuery(sSqlLinux); // run the Linux version\r\n                System.out.println(&quot;------------------------------&quot;);    \r\n    \r\n            } catch (SQLException ex) {\r\n                Logger lgr = Logger.getLogger(myTest.class.getName());\r\n                lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n    \r\n            } finally {\r\n                try {\r\n                    if (rs != null) {\r\n                        rs.close();\r\n                    }\r\n                    if (st != null) {\r\n                        st.close();\r\n                    }\r\n                    if (con != null) {\r\n                        con.close();\r\n                    }\r\n    \r\n                } catch (SQLException ex) {\r\n                    Logger lgr = Logger.getLogger(myTest.class.getName());\r\n                    lgr.log(Level.WARNING, ex.getMessage(), ex);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nCode snippet to generate your text file from the supplied insert statement from MySQL Workbench:\r\n\r\n    select ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\r\n    INTO OUTFILE &#39;c:\\\\nate\\\\patients.txt&#39;\r\n    FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\r\\n&#39;\r\n    FROM Patients;\r\n    \r\n    select ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\r\n    INTO OUTFILE &#39;/Users/nate/patients.txt&#39;\r\n    FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\n&#39;\r\n    FROM Patients;\r\n\r\nSample CSV:\r\n\r\n    1,&quot;hanalei&quot;,&quot;ezz&quot;,&quot;hemophelia&quot;,&quot;+1(919)929-6567&quot;,&quot;hana@hanalei.me&quot;,&quot;1998-08-22&quot;,&quot;2008-03-12&quot;\r\n    2,&quot;monika&quot;,&quot;zanesco&quot;,&quot;sickle cell disease&quot;,&quot;+1(919)939-4264&quot;,&quot;monika.z@gmail.com&quot;,&quot;1998-10-05&quot;,&quot;2016-04-13&quot;\r\n    3,&quot;bang&quot;,&quot;pham&quot;,&quot;leukemia&quot;,&quot;+1(919)243-8937&quot;,&quot;bangp@aol.com&quot;,&quot;1998-03-15&quot;,&quot;2013-03-03&quot;\r\n\r\nThe Data loaded fine after a truncate (note: tested at the moment on my Windows box). So, mess around with any special concat you need to do in the string for your filename or tablename.","title":"load CSV contents into mysql database via JDBC?","body":"<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class myTest {\n\n    public static void main(String[] args) {\n\n        Connection con = null;\n        Statement st = null;\n        ResultSet rs = null;\n\n        String url = \"jdbc:mysql://localhost:3306/so_gibberish\"; // **** MODIFY db name (my db_name is so_gibberish)\n        String user = \"dbUser\";   // **** MODIFY \n        String password = \"password123\";    // **** MODIFY \n\n        try {\n            con = DriverManager.getConnection(url, user, password);\n            st = con.createStatement();\n            String sSqlLinux=\"LOAD DATA INFILE '/Users/nate/patients.txt' INTO TABLE Patients \" + \n            \" FIELDS TERMINATED BY ',' ENCLOSED BY '\\\"' \" +\n            \" LINES TERMINATED BY '\\\\n'\";\n\n            String sSqlWindows=\"LOAD DATA INFILE 'c:/nate/patients.txt' INTO TABLE Patients \" + \n            \" FIELDS TERMINATED BY ',' ENCLOSED BY '\\\"' \" +\n            \" LINES TERMINATED BY '\\\\r\\\\n'\";\n\n            rs = st.executeQuery(sSqlLinux); // run the Linux version\n            System.out.println(\"------------------------------\");    \n\n        } catch (SQLException ex) {\n            Logger lgr = Logger.getLogger(myTest.class.getName());\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\n\n        } finally {\n            try {\n                if (rs != null) {\n                    rs.close();\n                }\n                if (st != null) {\n                    st.close();\n                }\n                if (con != null) {\n                    con.close();\n                }\n\n            } catch (SQLException ex) {\n                Logger lgr = Logger.getLogger(myTest.class.getName());\n                lgr.log(Level.WARNING, ex.getMessage(), ex);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Code snippet to generate your text file from the supplied insert statement from MySQL Workbench:</p>\n\n<pre><code>select ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\nINTO OUTFILE 'c:\\\\nate\\\\patients.txt'\nFIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\nLINES TERMINATED BY '\\r\\n'\nFROM Patients;\n\nselect ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\nINTO OUTFILE '/Users/nate/patients.txt'\nFIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\nLINES TERMINATED BY '\\n'\nFROM Patients;\n</code></pre>\n\n<p>Sample CSV:</p>\n\n<pre><code>1,\"hanalei\",\"ezz\",\"hemophelia\",\"+1(919)929-6567\",\"hana@hanalei.me\",\"1998-08-22\",\"2008-03-12\"\n2,\"monika\",\"zanesco\",\"sickle cell disease\",\"+1(919)939-4264\",\"monika.z@gmail.com\",\"1998-10-05\",\"2016-04-13\"\n3,\"bang\",\"pham\",\"leukemia\",\"+1(919)243-8937\",\"bangp@aol.com\",\"1998-03-15\",\"2013-03-03\"\n</code></pre>\n\n<p>The Data loaded fine after a truncate (note: tested at the moment on my Windows box). So, mess around with any special concat you need to do in the string for your filename or tablename.</p>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674276380,"creation_date":1674276380,"answer_id":75191185,"question_id":38723905,"body_markdown":"You can also use [csv2jdbc](https://github.com/mageddo-projects/csv2jdbc) to easily import and export data across csv files and tables no matter which database you are using:\r\n\r\n#### Import CSV file from client machine to a database Table\r\nThe following statement will create table `MY_TABLE` with all columns existing in `file.csv` then import \r\nthe data to the table.\r\n```sql\r\nCSV2J COPY MY_TABLE \r\nFROM &#39;/tmp/file.csv&#39; \r\nWITH CSV HEADER CREATE_TABLE DELIMITER &#39;,&#39;\r\n```\r\n\r\n#### Export Select statement to a CSV file\r\nThe following statement will extract the select statement to  `file.csv` \r\n```sql\r\nCSV2J COPY (\r\n  SELECT 1 AS ID, 10.99 AS AMOUNT, TIMESTAMP &#39;2022-01-31 23:59:58.987&#39; AS DAT_CREATION\r\n  UNION ALL\r\n  SELECT 2 AS ID, 7.50 AS AMOUNT, TIMESTAMP &#39;2023-01-31 21:59:58.987&#39; AS DAT_CREATION\r\n) TO &#39;/tmp/file.csv&#39; WITH CSV HEADER\r\n```","title":"load CSV contents into mysql database via JDBC?","body":"<p>You can also use <a href=\"https://github.com/mageddo-projects/csv2jdbc\" rel=\"nofollow noreferrer\">csv2jdbc</a> to easily import and export data across csv files and tables no matter which database you are using:</p>\n<h4>Import CSV file from client machine to a database Table</h4>\n<p>The following statement will create table <code>MY_TABLE</code> with all columns existing in <code>file.csv</code> then import\nthe data to the table.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CSV2J COPY MY_TABLE \nFROM '/tmp/file.csv' \nWITH CSV HEADER CREATE_TABLE DELIMITER ','\n</code></pre>\n<h4>Export Select statement to a CSV file</h4>\n<p>The following statement will extract the select statement to  <code>file.csv</code></p>\n<pre class=\"lang-sql prettyprint-override\"><code>CSV2J COPY (\n  SELECT 1 AS ID, 10.99 AS AMOUNT, TIMESTAMP '2022-01-31 23:59:58.987' AS DAT_CREATION\n  UNION ALL\n  SELECT 2 AS ID, 7.50 AS AMOUNT, TIMESTAMP '2023-01-31 21:59:58.987' AS DAT_CREATION\n) TO '/tmp/file.csv' WITH CSV HEADER\n</code></pre>\n"}],"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674276380,"creation_date":1470149784,"question_id":38723905,"body_markdown":"so basically i&#39;m making my program via a console-based menu, yeah? it&#39;s a database manager and it&#39;s operated by answering with numbers(y&#39;know, enter &#39;1&#39; to enter a record, enter &#39;2&#39; to export records, etc..). so there&#39;s no different ways to mess with the parameters, here. but it doesn&#39;t seem to be working anyway?\r\nhere&#39;s my code, afterwards i&#39;ll tell you what i tried.\r\n\r\n    public void loadCSV(String table, String filename) {\r\n        String query;\r\n    \r\n        try (Statement st = con.createStatement()) {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/DrSoheirManager&quot;, &quot;root&quot;, &quot;ITGS!!!&quot;);\r\n            st = con.createStatement();\r\n            query = &quot;load data local infile &#39;/Users/****/NetBeansProjects/IA Draft 3/&quot; +\r\n                    filename + &quot;&#39; ignore into table &quot; + table + &quot; columns terminated\r\n                    by &#39;,&#39; \\n&quot; + &quot; lines terminated by &#39;\\\\n&#39;&quot;;\r\n            /* load data local infile &#39;/users/****/netbeansprojects/ia draft\r\n               3/patients.csv&#39; ignore into table */\r\n            st.execute(query);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            st = null;\r\n        }\r\n    }\r\n\r\nso how the method (should) be used, is basically: loadCSV(&quot;patients&quot;, patients.csv); where patients is the name of the table where i want to enter the values, and patients.csv is the source of the values i want to enter.\r\nthis is my first time working with the JDBC so i&#39;m unfamiliar with the methods involved, but i&#39;ve tried replacing st.execute(query) with st.executeQuery() and st.executeUpdate(), neither worked. beforehand i was getting an error but changing the SQL query a bit seemed to have fixed that. now i&#39;m not getting an error, but the information just isn&#39;t being added to the database.\r\n\r\n**ps: i used the &#39;ignore&#39; function because i want to be able to import to the database without adding duplicates. have i done this correctly?**\r\n \r\nif i am violating any rules by posting this please let me know so i can fix my errors. thank you in advance :)\r\n\r\nedit: my schema:\r\n\r\n[![the table is called patients.][1]][1]\r\n\r\nand a sample data set:\r\n\r\n[![][2]][2]\r\n\r\n    CREATE TABLE IF NOT EXISTS `Patients` (\r\n    `ID` int(11) NOT NULL,\r\n      `fname` text NOT NULL,\r\n      `lname` text NOT NULL,\r\n      `Diagnosis` text NOT NULL,\r\n      `phone` varchar(15) NOT NULL,\r\n      `email` varchar(25) NOT NULL,\r\n      `DOB` date NOT NULL,\r\n      `DOFV` date NOT NULL\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;\r\n    \r\n    \r\n    INSERT INTO `Patients` (`ID`, `fname`, `lname`, `Diagnosis`, `phone`, `email`, `DOB`, `DOFV`) VALUES\r\n    (1, &#39;hanalei&#39;, &#39;ezz&#39;, &#39;hemophelia&#39;, &#39;+1(919)929-6567&#39;, &#39;hana@hanalei.me&#39;, &#39;1998-08-22&#39;, &#39;2008-03-12&#39;),\r\n    (2, &#39;monika&#39;, &#39;zanesco&#39;, &#39;sickle cell disease&#39;, &#39;+1(919)939-4264&#39;, &#39;monika.z@gmail.com&#39;, &#39;1998-10-05&#39;, &#39;2016-04-13&#39;),\r\n    (3, &#39;bang&#39;, &#39;pham&#39;, &#39;leukemia&#39;, &#39;+1(919)243-8937&#39;, &#39;bangp@aol.com&#39;, &#39;1998-03-15&#39;, &#39;2013-03-03&#39;);\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/l6m53.png\r\n  [2]: http://i.stack.imgur.com/0vCta.png","title":"load CSV contents into mysql database via JDBC?","body":"<p>so basically i'm making my program via a console-based menu, yeah? it's a database manager and it's operated by answering with numbers(y'know, enter '1' to enter a record, enter '2' to export records, etc..). so there's no different ways to mess with the parameters, here. but it doesn't seem to be working anyway?\nhere's my code, afterwards i'll tell you what i tried.</p>\n\n<pre><code>public void loadCSV(String table, String filename) {\n    String query;\n\n    try (Statement st = con.createStatement()) {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/DrSoheirManager\", \"root\", \"ITGS!!!\");\n        st = con.createStatement();\n        query = \"load data local infile '/Users/****/NetBeansProjects/IA Draft 3/\" +\n                filename + \"' ignore into table \" + table + \" columns terminated\n                by ',' \\n\" + \" lines terminated by '\\\\n'\";\n        /* load data local infile '/users/****/netbeansprojects/ia draft\n           3/patients.csv' ignore into table */\n        st.execute(query);\n    } catch (Exception e) {\n        e.printStackTrace();\n        st = null;\n    }\n}\n</code></pre>\n\n<p>so how the method (should) be used, is basically: loadCSV(\"patients\", patients.csv); where patients is the name of the table where i want to enter the values, and patients.csv is the source of the values i want to enter.\nthis is my first time working with the JDBC so i'm unfamiliar with the methods involved, but i've tried replacing st.execute(query) with st.executeQuery() and st.executeUpdate(), neither worked. beforehand i was getting an error but changing the SQL query a bit seemed to have fixed that. now i'm not getting an error, but the information just isn't being added to the database.</p>\n\n<p><strong>ps: i used the 'ignore' function because i want to be able to import to the database without adding duplicates. have i done this correctly?</strong></p>\n\n<p>if i am violating any rules by posting this please let me know so i can fix my errors. thank you in advance :)</p>\n\n<p>edit: my schema:</p>\n\n<p><a href=\"https://i.stack.imgur.com/l6m53.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l6m53.png\" alt=\"the table is called patients.\"></a></p>\n\n<p>and a sample data set:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0vCta.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0vCta.png\" alt=\"\"></a></p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `Patients` (\n`ID` int(11) NOT NULL,\n  `fname` text NOT NULL,\n  `lname` text NOT NULL,\n  `Diagnosis` text NOT NULL,\n  `phone` varchar(15) NOT NULL,\n  `email` varchar(25) NOT NULL,\n  `DOB` date NOT NULL,\n  `DOFV` date NOT NULL\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;\n\n\nINSERT INTO `Patients` (`ID`, `fname`, `lname`, `Diagnosis`, `phone`, `email`, `DOB`, `DOFV`) VALUES\n(1, 'hanalei', 'ezz', 'hemophelia', '+1(919)929-6567', 'hana@hanalei.me', '1998-08-22', '2008-03-12'),\n(2, 'monika', 'zanesco', 'sickle cell disease', '+1(919)939-4264', 'monika.z@gmail.com', '1998-10-05', '2016-04-13'),\n(3, 'bang', 'pham', 'leukemia', '+1(919)243-8937', 'bangp@aol.com', '1998-03-15', '2013-03-03');\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652209698,"post_id":72185143,"comment_id":127550386,"body_markdown":"Does this answer your question? [Do you have a test to show differences between the reactor map() and flatMap()?](https://stackoverflow.com/questions/65689935/do-you-have-a-test-to-show-differences-between-the-reactor-map-and-flatmap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65689935/do-you-have-a-test-to-show-differences-between-the-reactor-map-and-flatmap\">Do you have a test to show differences between the reactor map() and flatMap()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652193427,"creation_date":1652193427,"answer_id":72188347,"question_id":72185143,"body_markdown":"**TL;DR** In case operation is asynchronous (returns `Mono` or `Flux`) - use `flatMap`, for synchronous logic use `map`.\r\n\r\nIn reactive nothing happens until you subscribe. `flatMap` subscribes to the  provided publisher, returning the value emitted by another `Mono` or `Flux`. `map` just transforms the value applying a synchronous function to it.\r\n\r\n```\r\n@RequestMapping(&quot;addUserSimple3&quot;)\r\npublic Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\r\n\treturn vo.flatMap(v -&gt;\r\n\t\t\tredisOps.delete(v.getGroupId())\r\n\t\t\t\t\t.flatMap(res -&gt; redisOps.set(v.getGroupId(), v.getPersonId()))\r\n\t\t\t\t\t.map(res -&gt; new AddUserResponse(ResponseState.GOOD, v.getLogId()))\r\n\t);\r\n}\r\n``` ","title":"what is a MonoNext in Webflux and how to choose which one to use between flatMap and map","body":"<p><strong>TL;DR</strong> In case operation is asynchronous (returns <code>Mono</code> or <code>Flux</code>) - use <code>flatMap</code>, for synchronous logic use <code>map</code>.</p>\n<p>In reactive nothing happens until you subscribe. <code>flatMap</code> subscribes to the  provided publisher, returning the value emitted by another <code>Mono</code> or <code>Flux</code>. <code>map</code> just transforms the value applying a synchronous function to it.</p>\n<pre><code>@RequestMapping(&quot;addUserSimple3&quot;)\npublic Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\n    return vo.flatMap(v -&gt;\n            redisOps.delete(v.getGroupId())\n                    .flatMap(res -&gt; redisOps.set(v.getGroupId(), v.getPersonId()))\n                    .map(res -&gt; new AddUserResponse(ResponseState.GOOD, v.getLogId()))\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674275006,"creation_date":1652180439,"question_id":72185143,"body_markdown":"The following code was about to first delete a KV from redis, and then set a new KV there and return. But it actually never `set` after `delete`. I only see mistake after print every `log`, as `2 any is MonoNext`. Then I released a chain step before this `any` needs to split off one `Mono`, so I used `flatMap` instead of `map` at marker. This problem is more likely happened to me, especially when functions are deeply encapsulated inside another function with `Mono` in and out.\r\n\r\n```\r\n    @RequestMapping(&quot;addUserSimple3&quot;)\r\n    public Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\r\n        return vo.flatMap(v -&gt;\r\n                redisOps.delete(v.getGroupId())\r\n                        .map(any -&gt; {   &lt;---------------------Use flatMap instead of map\r\n                            log.info(&quot;1 any is {}&quot;, any);\r\n                            return redisOps.set(v.getGroupId(), v.getPersonId());\r\n                        })\r\n                        .map(any -&gt;\r\n                        {\r\n                            log.info(&quot;2 any is {}&quot;, any);\r\n                            return new AddUserResponse(ResponseState.GOOD, v.getLogId());\r\n                        })\r\n        );\r\n    }\r\n```\r\n\r\nThen my question is, how to better understand `MonoNext` and `flatMap`? (aka, I let the above code work by replacing `map` but I don&#39;t understand why it did not work, and why it does later)","title":"what is a MonoNext in Webflux and how to choose which one to use between flatMap and map","body":"<p>The following code was about to first delete a KV from redis, and then set a new KV there and return. But it actually never <code>set</code> after <code>delete</code>. I only see mistake after print every <code>log</code>, as <code>2 any is MonoNext</code>. Then I released a chain step before this <code>any</code> needs to split off one <code>Mono</code>, so I used <code>flatMap</code> instead of <code>map</code> at marker. This problem is more likely happened to me, especially when functions are deeply encapsulated inside another function with <code>Mono</code> in and out.</p>\n<pre><code>    @RequestMapping(&quot;addUserSimple3&quot;)\n    public Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\n        return vo.flatMap(v -&gt;\n                redisOps.delete(v.getGroupId())\n                        .map(any -&gt; {   &lt;---------------------Use flatMap instead of map\n                            log.info(&quot;1 any is {}&quot;, any);\n                            return redisOps.set(v.getGroupId(), v.getPersonId());\n                        })\n                        .map(any -&gt;\n                        {\n                            log.info(&quot;2 any is {}&quot;, any);\n                            return new AddUserResponse(ResponseState.GOOD, v.getLogId());\n                        })\n        );\n    }\n</code></pre>\n<p>Then my question is, how to better understand <code>MonoNext</code> and <code>flatMap</code>? (aka, I let the above code work by replacing <code>map</code> but I don't understand why it did not work, and why it does later)</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673814299,"creation_date":1673587160,"answer_id":75105148,"question_id":75102884,"body_markdown":"If I understood the problem correctly you can use `.next()` to &quot;convert&quot; `Flux` into `Mono` by taking the first emitted element and then cancel the subscription.\r\n\r\n```\r\n .flatMap(r -&gt; save1)\r\n .flatMapMany(r -&gt; save2) //save a flux of elements\r\n .next()\r\n .flatMap(r -&gt; save3) //need r.getId\r\n\r\n```\r\n\r\n\r\nHere is a test for the above flow that shows that only &quot;2.1&quot; was handled in `save3`\r\n\r\n```\r\n@Test\r\nvoid testFlow() {\r\n    var flow = Mono.just(&quot;1&quot;)\r\n            .flatMap(r -&gt; save1(r))\r\n            .flatMapMany(r -&gt; save2(r))\r\n            .next()\r\n            .flatMap(r -&gt; save3(r));\r\n\r\n    StepVerifier.create(flow)\r\n            .expectNext(&quot;2.1&quot;)\r\n            .verifyComplete();\r\n}\r\n```\r\n\r\nwhere \r\n```\r\nprivate Mono&lt;String&gt; save3(String r) {\r\n    return Mono.just(r);\r\n}\r\n\r\nprivate Flux&lt;String&gt; save2(String r) {\r\n    return Flux.just(&quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;);\r\n}\r\n\r\nprivate Mono&lt;String&gt; save1(String r) {\r\n    return Mono.just(r);\r\n}\r\n```\r\n\r\n","title":"execute first emitted element of reactive chain","body":"<p>If I understood the problem correctly you can use <code>.next()</code> to &quot;convert&quot; <code>Flux</code> into <code>Mono</code> by taking the first emitted element and then cancel the subscription.</p>\n<pre><code> .flatMap(r -&gt; save1)\n .flatMapMany(r -&gt; save2) //save a flux of elements\n .next()\n .flatMap(r -&gt; save3) //need r.getId\n\n</code></pre>\n<p>Here is a test for the above flow that shows that only &quot;2.1&quot; was handled in <code>save3</code></p>\n<pre><code>@Test\nvoid testFlow() {\n    var flow = Mono.just(&quot;1&quot;)\n            .flatMap(r -&gt; save1(r))\n            .flatMapMany(r -&gt; save2(r))\n            .next()\n            .flatMap(r -&gt; save3(r));\n\n    StepVerifier.create(flow)\n            .expectNext(&quot;2.1&quot;)\n            .verifyComplete();\n}\n</code></pre>\n<p>where</p>\n<pre><code>private Mono&lt;String&gt; save3(String r) {\n    return Mono.just(r);\n}\n\nprivate Flux&lt;String&gt; save2(String r) {\n    return Flux.just(&quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;);\n}\n\nprivate Mono&lt;String&gt; save1(String r) {\n    return Mono.just(r);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673624649,"post_id":75108560,"comment_id":132548028,"body_markdown":"This is exactly wear next does and of course nothing happens without subscription but usually framework like webflux will subscribe","body":"This is exactly wear next does and of course nothing happens without subscription but usually framework like webflux will subscribe"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673814344,"post_id":75108560,"comment_id":132576428,"body_markdown":"updated the answer with the test","body":"updated the answer with the test"}],"tags":[],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673609458,"creation_date":1673609154,"answer_id":75108560,"question_id":75102884,"body_markdown":" but without a subscribe() it will not execute the entire chain (save1, save2) , right or i&#39;m doing confusion?\r\n\r\nImagine that i have 3 mono objects to save on save2\r\n\r\n    -&gt; save 2.1 \r\n    -&gt; save 2.2\r\n    -&gt; save 2.3\r\n\r\nafter 2.1 save operation (first element) -&gt; get response and save only once\r\n\r\n    -&gt; save 3 \r\n\r\ninstead of save 3 times\r\n\r\n    -&gt; save 3\r\n    -&gt; save 3\r\n    -&gt; save 3\r\n\r\nSo ... the idea is stop chain propagation to not duplicate saved objects in DB. ","title":"execute first emitted element of reactive chain","body":"<p>but without a subscribe() it will not execute the entire chain (save1, save2) , right or i'm doing confusion?</p>\n<p>Imagine that i have 3 mono objects to save on save2</p>\n<pre><code>-&gt; save 2.1 \n-&gt; save 2.2\n-&gt; save 2.3\n</code></pre>\n<p>after 2.1 save operation (first element) -&gt; get response and save only once</p>\n<pre><code>-&gt; save 3 \n</code></pre>\n<p>instead of save 3 times</p>\n<pre><code>-&gt; save 3\n-&gt; save 3\n-&gt; save 3\n</code></pre>\n<p>So ... the idea is stop chain propagation to not duplicate saved objects in DB.</p>\n"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75105148,"answer_count":2,"score":0,"last_activity_date":1674274906,"creation_date":1673562064,"question_id":75102884,"body_markdown":"I am doing a spring webflux reactive code \r\n\r\n     .flatMap(r -&gt; save1)\r\n     .flatMapMany(r -&gt; save2) //save a flux of elements\r\n     .flatMap(r -&gt; save3) //need r.getId\r\n     .subscribe();\r\n    \r\nI want to control the emission of events and only save 3 event for first emitted element of the previous chain (flatmapMany) instead of N times.\r\n\r\nSo in resume, i need to save N elements and catch the first save and ignore the others. I need to result of save2 to pass argument for save3 method.\r\n\r\nthanks,","title":"execute first emitted element of reactive chain","body":"<p>I am doing a spring webflux reactive code</p>\n<pre><code> .flatMap(r -&gt; save1)\n .flatMapMany(r -&gt; save2) //save a flux of elements\n .flatMap(r -&gt; save3) //need r.getId\n .subscribe();\n</code></pre>\n<p>I want to control the emission of events and only save 3 event for first emitted element of the previous chain (flatmapMany) instead of N times.</p>\n<p>So in resume, i need to save N elements and catch the first save and ignore the others. I need to result of save2 to pass argument for save3 method.</p>\n<p>thanks,</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":13794509,"reputation":138,"user_id":9956025,"display_name":"Hrithik Manchanda"},"score":0,"creation_date":1670913071,"post_id":74748859,"comment_id":131976883,"body_markdown":"What is your ENDPOINT_URL value. Also share webTestClient configuration.","body":"What is your ENDPOINT_URL value. Also share webTestClient configuration."}],"answers":[{"comments":[{"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"score":0,"creation_date":1671357444,"post_id":74827609,"comment_id":132078668,"body_markdown":"How can i make validateId() method part of the flow ?","body":"How can i make validateId() method part of the flow ?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1671375874,"post_id":74827609,"comment_id":132081881,"body_markdown":"Check code in the answer","body":"Check code in the answer"}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671210217,"creation_date":1671210217,"answer_id":74827609,"question_id":74748859,"body_markdown":"In reactive you need to construct the flow using reactive operators that will be executed when web flux subscribes to this flow. In you case `validateId` is not part of the flow.\r\n\r\nNot sure what is the contract of the `validateId()` but, assuming it&#39;s not reactive, you can use\r\n\r\n```\r\nreturn Mono.fromRunnable(() -&gt; validateId(id))\r\n\t.then(serviceLayer.someMonoData());\r\n```","title":"Junit for method in controller layer","body":"<p>In reactive you need to construct the flow using reactive operators that will be executed when web flux subscribes to this flow. In you case <code>validateId</code> is not part of the flow.</p>\n<p>Not sure what is the contract of the <code>validateId()</code> but, assuming it's not reactive, you can use</p>\n<pre><code>return Mono.fromRunnable(() -&gt; validateId(id))\n    .then(serviceLayer.someMonoData());\n</code></pre>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74827609,"answer_count":1,"score":3,"last_activity_date":1674274835,"creation_date":1670625043,"question_id":74748859,"body_markdown":"My rest endpoint looks like:\r\n\r\n```\r\n\r\n@GetMapping(&quot;/mango/{id}&quot;)\r\npublic Mono&lt;Mango&gt; getMango(@PathVariable(&quot;id&quot;) final String id){\r\n\r\nvalidateId(id);\r\nreturn serviceLayer.someMonoData();\r\n}\r\n\r\n```\r\n\r\nMy Junit looks like:\r\n```\r\n\r\n@Test\r\npublic void method(){\r\n\r\nwhen(serviceLayer.someMonoData()).thenReturn(someResponse);\r\n\r\nwebTestClient.get()\r\n   .uri(ENDPOINT_URL)\r\n   .headers(headers)\r\n   .exchange()\r\n   .expectStatus()\r\n   .isBadRequest();\r\n}\r\n```\r\n\r\nThe ```validateId(id);``` method is supposed to throw custom bad request exception for an invalid id. This method is not reactive.\r\n\r\nBut the Junit seems to bypass the ```validate()``` method and proceeds with the service call stub..\r\n\r\nWhat am i missing?\r\n","title":"Junit for method in controller layer","body":"<p>My rest endpoint looks like:</p>\n<pre><code>\n@GetMapping(&quot;/mango/{id}&quot;)\npublic Mono&lt;Mango&gt; getMango(@PathVariable(&quot;id&quot;) final String id){\n\nvalidateId(id);\nreturn serviceLayer.someMonoData();\n}\n\n</code></pre>\n<p>My Junit looks like:</p>\n<pre><code>\n@Test\npublic void method(){\n\nwhen(serviceLayer.someMonoData()).thenReturn(someResponse);\n\nwebTestClient.get()\n   .uri(ENDPOINT_URL)\n   .headers(headers)\n   .exchange()\n   .expectStatus()\n   .isBadRequest();\n}\n</code></pre>\n<p>The <code>validateId(id);</code> method is supposed to throw custom bad request exception for an invalid id. This method is not reactive.</p>\n<p>But the Junit seems to bypass the <code>validate()</code> method and proceeds with the service call stub..</p>\n<p>What am i missing?</p>\n"},{"tags":["java","reflection"],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1650934048,"post_id":72006977,"comment_id":127235933,"body_markdown":"`Unsafe.allocateInstance` is different - as it does not invoke a constructor - while the constructor for serialization invokes the constructor with no arguments of the first superclass that does not implement `Serializable`. This has some effects - for example, finalizers are only run after the constructor from `java,lang.Object` has been successfully run.","body":"<code>Unsafe.allocateInstance</code> is different - as it does not invoke a constructor - while the constructor for serialization invokes the constructor with no arguments of the first superclass that does not implement <code>Serializable</code>. This has some effects - for example, finalizers are only run after the constructor from <code>java,lang.Object</code> has been successfully run."},{"owner":{"account_id":10357373,"reputation":85,"user_id":7638877,"display_name":"AC-93"},"score":0,"creation_date":1650999863,"post_id":72006977,"comment_id":127256134,"body_markdown":"Thanks @JohannesKuhn, it is useful to know. I think in my scenario I don&#39;t need a finalizer but I will write some tests to show the difference between the versions.","body":"Thanks @JohannesKuhn, it is useful to know. I think in my scenario I don&#39;t need a finalizer but I will write some tests to show the difference between the versions."}],"tags":[],"owner":{"account_id":10357373,"reputation":85,"user_id":7638877,"display_name":"AC-93"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650932016,"creation_date":1650932016,"answer_id":72006977,"question_id":71926196,"body_markdown":"I was able to solve the issue by using `sun.misc.Unsafe.allocateInstance` via google protobuf proxy (https://github.com/protocolbuffers/protobuf/blob/520c601c99012101c816b6ccc89e8d6fc28fdbb8/java/core/src/main/java/com/google/protobuf/UnsafeUtil.java#L98), so now this dependency is compiled separately so I don&#39;t see the warnings and I could expect that google fixes it if `sun.misc.Unsafe` stops working due to java updates.  ","title":"replacement for sun.reflect.ReflectionFactory newConstructorForSerialization","body":"<p>I was able to solve the issue by using <code>sun.misc.Unsafe.allocateInstance</code> via google protobuf proxy (<a href=\"https://github.com/protocolbuffers/protobuf/blob/520c601c99012101c816b6ccc89e8d6fc28fdbb8/java/core/src/main/java/com/google/protobuf/UnsafeUtil.java#L98\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/blob/520c601c99012101c816b6ccc89e8d6fc28fdbb8/java/core/src/main/java/com/google/protobuf/UnsafeUtil.java#L98</a>), so now this dependency is compiled separately so I don't see the warnings and I could expect that google fixes it if <code>sun.misc.Unsafe</code> stops working due to java updates.</p>\n"}],"owner":{"account_id":10357373,"reputation":85,"user_id":7638877,"display_name":"AC-93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674273773,"creation_date":1650376601,"question_id":71926196,"body_markdown":"there is a project that uses `newConstructorForSerialization(Class&lt;?&gt; incomingArgument, Object.class.getDeclaredConstructor())` to get a constructor that is later used to create objects before they are actually initialized with `foreach field  field.set(instance, fieldObj);`.\r\n\r\nThis api is deprecated in the new java releases and compiler produces many warnings during build so I would like to replace it with something up-to-date. If I understand this code correctly it returns a public available constructor for `incomingArgument` that only initializes `Object` superclass fields, am I right?\r\n\r\nSo it solves three tasks:\r\n1. get the right amount of memory from `mConstructor.newInstance()`;\r\n2. avoids unnecessary field initialization (they will be set later);\r\n3. makes the constructor publicly available (it could be private or not be presented).\r\n\r\nIs there a way to achieve the same without using deprecated api-s?\r\n\r\nThanks.","title":"replacement for sun.reflect.ReflectionFactory newConstructorForSerialization","body":"<p>there is a project that uses <code>newConstructorForSerialization(Class&lt;?&gt; incomingArgument, Object.class.getDeclaredConstructor())</code> to get a constructor that is later used to create objects before they are actually initialized with <code>foreach field  field.set(instance, fieldObj);</code>.</p>\n<p>This api is deprecated in the new java releases and compiler produces many warnings during build so I would like to replace it with something up-to-date. If I understand this code correctly it returns a public available constructor for <code>incomingArgument</code> that only initializes <code>Object</code> superclass fields, am I right?</p>\n<p>So it solves three tasks:</p>\n<ol>\n<li>get the right amount of memory from <code>mConstructor.newInstance()</code>;</li>\n<li>avoids unnecessary field initialization (they will be set later);</li>\n<li>makes the constructor publicly available (it could be private or not be presented).</li>\n</ol>\n<p>Is there a way to achieve the same without using deprecated api-s?</p>\n<p>Thanks.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672301546,"post_id":74948099,"comment_id":132261544,"body_markdown":"Just to make sure, are you using Java 8? Because `tools.jar` no longer exists as of Java 9; its code was moved into JDK modules (e.g., [`jdk.compiler`](https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/module-summary.html)).","body":"Just to make sure, are you using Java 8? Because <code>tools.jar</code> no longer exists as of Java 9; its code was moved into JDK modules (e.g., <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.compiler</code></a>)."},{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1672301653,"post_id":74948099,"comment_id":132261570,"body_markdown":"yes，i&#39;m using  Java 8 .","body":"yes，i&#39;m using  Java 8 ."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672302214,"post_id":74948099,"comment_id":132261710,"body_markdown":"Then my guess is what you&#39;ve found is the best approach, though I&#39;ve never personally had reason to depend on `tools.jar` when using Java 8. But I doubt it&#39;s a Maven artifact, as it&#39;s part of the implementation of a JDK. What you&#39;ve found seems reasonable, at least for an application or sub-project library. I&#39;m not sure how `file` dependencies work with external libraries (i.e., those published to and downloaded from a repository). You also have to be mindful of the fact that JREs typically don&#39;t include `tools.jar`.","body":"Then my guess is what you&#39;ve found is the best approach, though I&#39;ve never personally had reason to depend on <code>tools.jar</code> when using Java 8. But I doubt it&#39;s a Maven artifact, as it&#39;s part of the implementation of a JDK. What you&#39;ve found seems reasonable, at least for an application or sub-project library. I&#39;m not sure how <code>file</code> dependencies work with external libraries (i.e., those published to and downloaded from a repository). You also have to be mindful of the fact that JREs typically don&#39;t include <code>tools.jar</code>."},{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1672303476,"post_id":74948099,"comment_id":132262010,"body_markdown":"My process logic only run at compile time , so JRE is not a problem .  it&#39;s quite reasonable because application won&#39;t  depends on jdk things usually . but sometimes it&#39;s the only way to get things done , ie https://stackoverflow.com/questions/6373145/accessing-source-code-from-java-annotation-processor  .","body":"My process logic only run at compile time , so JRE is not a problem .  it&#39;s quite reasonable because application won&#39;t  depends on jdk things usually . but sometimes it&#39;s the only way to get things done , ie <a href=\"https://stackoverflow.com/questions/6373145/accessing-source-code-from-java-annotation-processor\" title=\"accessing source code from java annotation processor\">stackoverflow.com/questions/6373145/&hellip;</a>  ."}],"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674273617,"creation_date":1672296770,"question_id":74948099,"body_markdown":"I need to use `compiler tree api` in my custom annotation processor logic . the compiler tree api belongs to `sun tools.jar` . i was thinking it could be import as a simple normal gradle dependency like `import group: &#39;com.sun&#39;, name: &#39;tools&#39;, version: &#39;1.8&#39;` , But it&#39;s not working . \r\n\r\nI&#39;ve searched many tech blogs , it seems like the common solution is `compile file(&quot;${System.properties[&#39;java.home&#39;]}/../lib/tools.jar&quot;)` , apparently it&#39;s lake of compatibility。 is there any better solution to solve this ？","title":"How to import `java sun tools` as a normal gradle dependency?","body":"<p>I need to use <code>compiler tree api</code> in my custom annotation processor logic . the compiler tree api belongs to <code>sun tools.jar</code> . i was thinking it could be import as a simple normal gradle dependency like <code>import group: 'com.sun', name: 'tools', version: '1.8'</code> , But it's not working .</p>\n<p>I've searched many tech blogs , it seems like the common solution is <code>compile file(&quot;${System.properties['java.home']}/../lib/tools.jar&quot;)</code> , apparently it's lake of compatibility。 is there any better solution to solve this ？</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674273519,"post_id":75191001,"comment_id":132685144,"body_markdown":"Code in the &quot;unnamed package&quot; can use any other code visible to it (including other classes in the unnamed package). But code in named packages have no way to import classes in the unnamed package. Regardless, it&#39;s good practice to use packages in all but the most trivial of applications. To use a class in another source file, import it if the two classes are not in the same package, and then just use it like normal (e.g., `var instance = new TheOtherClass();`).","body":"Code in the &quot;unnamed package&quot; can use any other code visible to it (including other classes in the unnamed package). But code in named packages have no way to import classes in the unnamed package. Regardless, it&#39;s good practice to use packages in all but the most trivial of applications. To use a class in another source file, import it if the two classes are not in the same package, and then just use it like normal (e.g., <code>var instance = new TheOtherClass();</code>)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674273581,"post_id":75191001,"comment_id":132685153,"body_markdown":"As for the &quot;_The declared package &quot;packager&quot; does not match the expected package_&quot; error, my guess is that VS Code doesn&#39;t have `src` setup as the root source directory (not sure why if it creates that directory for you).","body":"As for the &quot;<i>The declared package &quot;packager&quot; does not match the expected package</i>&quot; error, my guess is that VS Code doesn&#39;t have <code>src</code> setup as the root source directory (not sure why if it creates that directory for you)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674300492,"post_id":75191001,"comment_id":132687966,"body_markdown":"Don&#39;t think file/directory, think class, classpath","body":"Don&#39;t think file/directory, think class, classpath"}],"owner":{"account_id":27585173,"reputation":21,"user_id":21053512,"display_name":"Duck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674272190,"creation_date":1674272190,"question_id":75191001,"body_markdown":"Do they have to be in the &quot;package&quot;, or is it fine as long as they are both in the &quot;src&quot; directory.\r\n\r\n   For context, I&#39;m using VSCode with the Java extension enabled. It automatically sets up the    project directory to look like this:\r\n\r\n   ```\r\n   newproject.java (directory name)\r\n   └── bin\r\n   └── src\r\n    └── App.java \r\n   ```\r\n   Should I be doing this?\r\n   ```\r\n      newproject.java (directory name)\r\n      └── bin\r\n      └── src\r\n       └── packager\r\n         └── App.java \r\n   ```\r\n\r\nand then specify the package in all java files, for example:\r\n\r\n   ```\r\n      package packager\r\n      public class App { \r\n           // more code\r\n      } \r\n   ```\r\n\r\n   ```\r\n      package packager\r\n      public class TheOtherClass { \r\n           // more code\r\n      } \r\n   ```\r\n\r\nOr will they be fine as long as they are under src? Or am I totally missing the point? \r\n\r\nRight now I&#39;m getting `The declared package &quot;packager&quot; does not match the expected package` error in both files.","title":"How to instantiate an object from a class in Java that is located in another file","body":"<p>Do they have to be in the &quot;package&quot;, or is it fine as long as they are both in the &quot;src&quot; directory.</p>\n<p>For context, I'm using VSCode with the Java extension enabled. It automatically sets up the    project directory to look like this:</p>\n<pre><code>newproject.java (directory name)\n└── bin\n└── src\n └── App.java \n</code></pre>\n<p>Should I be doing this?</p>\n<pre><code>   newproject.java (directory name)\n   └── bin\n   └── src\n    └── packager\n      └── App.java \n</code></pre>\n<p>and then specify the package in all java files, for example:</p>\n<pre><code>   package packager\n   public class App { \n        // more code\n   } \n</code></pre>\n<pre><code>   package packager\n   public class TheOtherClass { \n        // more code\n   } \n</code></pre>\n<p>Or will they be fine as long as they are under src? Or am I totally missing the point?</p>\n<p>Right now I'm getting <code>The declared package &quot;packager&quot; does not match the expected package</code> error in both files.</p>\n"},{"tags":["java","spring","javabeans"],"owner":{"account_id":7450105,"reputation":11,"user_id":7666546,"display_name":"Sanjana S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674271253,"creation_date":1674271253,"question_id":75190942,"body_markdown":"I have 2 classes with name &quot;App&quot; in 2 of the dependency packages.\r\n\r\n```\r\npackage1;\r\n@SpringBootApplication\r\n@EnableCaching\r\nclass App {\r\n}\r\n\r\npackage2;\r\n@SpringBootApplication\r\n@EnableCaching\r\nclass App {\r\n}\r\n```\r\n\r\nMy main class:\r\n```\r\npackage3;\r\n@SpringBootApplication\r\n@EnableCaching\r\nclass MainApp {\r\n}\r\n```\r\nI am running MainApp and getting the below exception:\r\n\r\n**Annotation-specified bean name for bean class A conflicts with existing, non-compatible bean definition of same name and class B**\r\n\r\nIdeally class App of package1 and package2 should not even be scanned since they are in different packages.\r\n\r\nTried using exclude in springbootconfiguration annotation(as shown below) but this is not working as well.\r\n\r\n```\r\npackage3;\r\n@SpringBootApplication(scanBasePackages = {package1}, exclude = {App.class})\r\nclass MainApp {\r\n}\r\n```\r\n\r\nHow can I run MainApp without conflictionBeanDefinition error. I do not have access to source code of package1 and package2.","title":"Spring ConflictingBeanDefinitionException for main classes of library classes","body":"<p>I have 2 classes with name &quot;App&quot; in 2 of the dependency packages.</p>\n<pre><code>package1;\n@SpringBootApplication\n@EnableCaching\nclass App {\n}\n\npackage2;\n@SpringBootApplication\n@EnableCaching\nclass App {\n}\n</code></pre>\n<p>My main class:</p>\n<pre><code>package3;\n@SpringBootApplication\n@EnableCaching\nclass MainApp {\n}\n</code></pre>\n<p>I am running MainApp and getting the below exception:</p>\n<p><strong>Annotation-specified bean name for bean class A conflicts with existing, non-compatible bean definition of same name and class B</strong></p>\n<p>Ideally class App of package1 and package2 should not even be scanned since they are in different packages.</p>\n<p>Tried using exclude in springbootconfiguration annotation(as shown below) but this is not working as well.</p>\n<pre><code>package3;\n@SpringBootApplication(scanBasePackages = {package1}, exclude = {App.class})\nclass MainApp {\n}\n</code></pre>\n<p>How can I run MainApp without conflictionBeanDefinition error. I do not have access to source code of package1 and package2.</p>\n"},{"tags":["java","android","android-fragments","qr-code","android-fragmentactivity"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674275302,"post_id":75190866,"comment_id":132685283,"body_markdown":"It is crashing in the emulator?  Then please show us the stacktrace!","body":"It is crashing in the emulator?  Then please show us the stacktrace!"}],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674269669,"creation_date":1674269669,"question_id":75190866,"body_markdown":"I am trying to get a QR code to be encoded based on data collected throughout the other fragments and sent to the MainActivity. Then, at the end, I want to call getAllData(), which returns all data in one string. It will do this when a FloatingActionButton is clicked (fabGenerate). Currently, it will load the fragment, and when you click on the fab, it will go into the correct case (R.id.fabGenerate) and run until &quot;//error here&quot;. Also, I do NOT get an error message, due to the crash only occurring on the emulator.\r\n\r\n```\r\n String data;\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.fabGenerate:\r\n                Activity activity = getActivity();\r\n                if (activity != null &amp;&amp; activity instanceof MainActivity) {\r\n                    data = ((MainActivity) activity).getAllData(); //error here\r\n                }\r\n\r\n                qrgEncoder = new QRGEncoder(data, null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\r\n                break;\r\n        }\r\n}\r\n```\r\n\r\nI have tried first having data within the qrgEncoder line, where it will only do\r\n\r\n```\r\nqrgEncoder = new QRGEncoder(((MainActivity) getActivity).getAllData(), null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\r\n```\r\n\r\nThis did not work, and would still crash ONLY when it was run, not built.  \r\nI have also tried using Toast.makeText&#39;s to print a line, which determined that the error is within this piece of code.","title":"Why can&#39;t I call this String method from within a fragment?","body":"<p>I am trying to get a QR code to be encoded based on data collected throughout the other fragments and sent to the MainActivity. Then, at the end, I want to call getAllData(), which returns all data in one string. It will do this when a FloatingActionButton is clicked (fabGenerate). Currently, it will load the fragment, and when you click on the fab, it will go into the correct case (R.id.fabGenerate) and run until &quot;//error here&quot;. Also, I do NOT get an error message, due to the crash only occurring on the emulator.</p>\n<pre><code> String data;\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.fabGenerate:\n                Activity activity = getActivity();\n                if (activity != null &amp;&amp; activity instanceof MainActivity) {\n                    data = ((MainActivity) activity).getAllData(); //error here\n                }\n\n                qrgEncoder = new QRGEncoder(data, null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\n                break;\n        }\n}\n</code></pre>\n<p>I have tried first having data within the qrgEncoder line, where it will only do</p>\n<pre><code>qrgEncoder = new QRGEncoder(((MainActivity) getActivity).getAllData(), null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\n</code></pre>\n<p>This did not work, and would still crash ONLY when it was run, not built.<br />\nI have also tried using Toast.makeText's to print a line, which determined that the error is within this piece of code.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1674267863,"post_id":75190667,"comment_id":132684693,"body_markdown":"What&#39;s a Spring Book, lol? ... hmmm.  maybe that was what you meant to type.  Is the &quot;Book&quot; in the subject correct or should that be &quot;Boot&quot;?","body":"What&#39;s a Spring Book, lol? ... hmmm.  maybe that was what you meant to type.  Is the &quot;Book&quot; in the subject correct or should that be &quot;Boot&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":18739573,"reputation":14,"user_id":13663091,"display_name":"Braulio Monroy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674269260,"creation_date":1674267614,"answer_id":75190783,"question_id":75190667,"body_markdown":"the way to do so it&#39;s creating a new class to handle your JSON object, Spring need to know the strcucture of your JSON. Do it like so\r\n\r\nClass Book:\r\n\r\n    @Data\r\n    public class Book {\r\n       public int id;\r\n       public String title;\r\n       public String desc;\r\n    }\r\n\r\nCreeate a Request class to hadle your JSON:\r\n\r\nReminder! attributes name has to have the same as your JSON request\r\n\r\n    @Data\r\n    public class BookRequest {\r\n\r\n       public Book Book;\r\n\r\n        /* You can set the other next tow attributes if you want\r\n          public String function_call;\r\n          public Long date_called;\r\n        */\r\n    } \r\n\r\n\r\n\r\nAnd then set your Book Request class as a parameter and youre be able to get only the data on Book obj in your JSON:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nJSON request: \r\n\r\n    {\r\n      &quot;function_call&quot;: &quot;create_book&quot;,\r\n      &quot;date_called&quot;: 1672753599223,\r\n      &quot;Book&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;title&quot;: &quot;Spring Book use nested json object for RequestBody&quot;,\r\n      &quot;desc&quot;: &quot;Stackoverflow jason question&quot;\r\n     }\r\n    }\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/ComGy.png\r\n\r\n","title":"Spring Book use nested json object for RequestBody","body":"<p>the way to do so it's creating a new class to handle your JSON object, Spring need to know the strcucture of your JSON. Do it like so</p>\n<p>Class Book:</p>\n<pre><code>@Data\npublic class Book {\n   public int id;\n   public String title;\n   public String desc;\n}\n</code></pre>\n<p>Creeate a Request class to hadle your JSON:</p>\n<p>Reminder! attributes name has to have the same as your JSON request</p>\n<pre><code>@Data\npublic class BookRequest {\n\n   public Book Book;\n\n    /* You can set the other next tow attributes if you want\n      public String function_call;\n      public Long date_called;\n    */\n} \n</code></pre>\n<p>And then set your Book Request class as a parameter and youre be able to get only the data on Book obj in your JSON:</p>\n<p><a href=\"https://i.stack.imgur.com/ComGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ComGy.png\" alt=\"enter image description here\" /></a></p>\n<p>JSON request:</p>\n<pre><code>{\n  &quot;function_call&quot;: &quot;create_book&quot;,\n  &quot;date_called&quot;: 1672753599223,\n  &quot;Book&quot;: {\n  &quot;id&quot;: 1,\n  &quot;title&quot;: &quot;Spring Book use nested json object for RequestBody&quot;,\n  &quot;desc&quot;: &quot;Stackoverflow jason question&quot;\n }\n}\n</code></pre>\n"}],"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674269260,"creation_date":1674264559,"question_id":75190667,"body_markdown":"I have a controller that I want to accept a custom object in it&#39;s request body.  But, the json data coming in is nested.  Is it possible to map the nested json object to a class?  Or, do I need to take the json object in as a string instead and use a json mapper (like Jackson)?  Here is an example of what I mean:\r\n\r\n**json data being sent:**\r\n\r\n    {\r\n       &#39;function_call&#39;: &#39;create_book&#39;,\r\n       &#39;date_called&#39;: 1672753599223,\r\n       &#39;Book&#39;:{\r\n          &#39;id&#39;: 1,\r\n          &#39;title&#39;: &quot;some title&#39;,\r\n          &#39;desc&#39;: &#39;some desc&#39;\r\n       }\r\n    }\r\n\r\n**Book class:**\r\n\r\n    @Data\r\n    public class Book{\r\n       public int id;\r\n       public String title;\r\n       public String desc;\r\n    }\r\n\r\n**Controller:**\r\n\r\n\r\n    @PostMapping(&quot;/data-product&quot;)\r\n    @ResponseBody\r\n    public void createBook(@RequestBody Book book) {          \r\n        System.out.print(book);        \r\n    }\r\n\r\n","title":"Spring Book use nested json object for RequestBody","body":"<p>I have a controller that I want to accept a custom object in it's request body.  But, the json data coming in is nested.  Is it possible to map the nested json object to a class?  Or, do I need to take the json object in as a string instead and use a json mapper (like Jackson)?  Here is an example of what I mean:</p>\n<p><strong>json data being sent:</strong></p>\n<pre><code>{\n   'function_call': 'create_book',\n   'date_called': 1672753599223,\n   'Book':{\n      'id': 1,\n      'title': &quot;some title',\n      'desc': 'some desc'\n   }\n}\n</code></pre>\n<p><strong>Book class:</strong></p>\n<pre><code>@Data\npublic class Book{\n   public int id;\n   public String title;\n   public String desc;\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@PostMapping(&quot;/data-product&quot;)\n@ResponseBody\npublic void createBook(@RequestBody Book book) {          \n    System.out.print(book);        \n}\n</code></pre>\n"},{"tags":["java","json","xml-parsing","xml-to-json","underscore-java"],"comments":[{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1595118597,"post_id":62971263,"comment_id":111364112,"body_markdown":"Underscore-java library has a static method U.xmlToJson(xml).","body":"Underscore-java library has a static method U.xmlToJson(xml)."},{"owner":{"account_id":16400246,"reputation":141,"user_id":11846473,"display_name":"mosiek"},"score":0,"creation_date":1595149362,"post_id":62971263,"comment_id":111369324,"body_markdown":"@ValentynKolesnikov in my opinion this method doesen&#39;t work. Could you show me how can I use it in my case?","body":"@ValentynKolesnikov in my opinion this method doesen&#39;t work. Could you show me how can I use it in my case?"},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1595174762,"post_id":62971263,"comment_id":111376951,"body_markdown":"It will convert to this json:\n\n{\n  &quot;reservations&quot;: {\n    &quot;reservation&quot;: [\n      {\n        &quot;id&quot;: &quot;1318504&quot;,\n        &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,\n        &quot;rooms&quot;: {\n          &quot;room&quot;: [\n            {\n              &quot;id&quot;: &quot;28902&quot;,\n              &quot;floor&quot;: &quot;2&quot;\n            },\n            {\n              &quot;id&quot;: &quot;28903&quot;,\n              &quot;floor&quot;: &quot;3&quot;\n            }\n          ]\n        }\n      },\n      {\n        &quot;id&quot;: &quot;1318501&quot;,\n        &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;,\n...\n}","body":"It will convert to this json:  {   &quot;reservations&quot;: {     &quot;reservation&quot;: [       {         &quot;id&quot;: &quot;1318504&quot;,         &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,         &quot;rooms&quot;: {           &quot;room&quot;: [             {               &quot;id&quot;: &quot;28902&quot;,               &quot;floor&quot;: &quot;2&quot;             },             {               &quot;id&quot;: &quot;28903&quot;,               &quot;floor&quot;: &quot;3&quot;             }           ]         }       },       {         &quot;id&quot;: &quot;1318501&quot;,         &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;, ... }"},{"owner":{"account_id":16400246,"reputation":141,"user_id":11846473,"display_name":"mosiek"},"score":0,"creation_date":1595224015,"post_id":62971263,"comment_id":111388639,"body_markdown":"Read please my question in main topic again...","body":"Read please my question in main topic again..."},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1595504916,"post_id":62971263,"comment_id":111501427,"body_markdown":"I added the solution.","body":"I added the solution."}],"answers":[{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643043581,"creation_date":1595504891,"answer_id":63053541,"question_id":62971263,"body_markdown":"The solution:\r\n\r\n    import com.github.underscore.U;\r\n\r\n        String xml = &quot;&lt;reservations&gt;\\n&quot;\r\n              + &quot;    &lt;reservation&gt;\\n&quot;\r\n              + &quot;        &lt;id&gt;1318504&lt;/id&gt;\\n&quot;\r\n              + &quot;        &lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\\n&quot;\r\n              + &quot;        &lt;rooms&gt;  \\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;28902&lt;/id&gt;\\n&quot;\r\n              + &quot;                &lt;floor&gt;2&lt;/floor&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;  \\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;28903&lt;/id&gt;\\n&quot;\r\n              + &quot;                &lt;floor&gt;3&lt;/floor&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;\\n&quot;\r\n              + &quot;        &lt;/rooms&gt;\\n&quot;\r\n              + &quot;    &lt;/reservation &gt;\\n&quot;\r\n              + &quot;    &lt;reservation&gt;\\n&quot;\r\n              + &quot;        &lt;id&gt;1318501&lt;/id&gt;\\n&quot;\r\n              + &quot;        &lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\\n&quot;\r\n              + &quot;        &lt;rooms&gt;\\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;5&lt;/id&gt;\\n&quot;\r\n              + &quot;                &lt;floor&gt;25&lt;/floor&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;\\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;6&lt;/id&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;\\n&quot;\r\n              + &quot;        &lt;/rooms&gt;\\n&quot;\r\n              + &quot;    &lt;/reservation&gt;\\n&quot;\r\n              + &quot;&lt;/reservations&gt;&quot;;\r\n        Map&lt;String, Object&gt; map = U.fromXmlMap(xml);\r\n        U.set(map, &quot;reservations&quot;, U.get(map, &quot;reservations.reservation&quot;));\r\n        List&lt;Map&lt;String, Object&gt;&gt; list = U.get(map, &quot;reservations&quot;);\r\n        for (Map&lt;String, Object&gt; item : list) {\r\n            U.set(item, &quot;rooms&quot;, U.get(item, &quot;rooms.room&quot;));\r\n        }\r\n        System.out.println(U.toJson(map));\r\n\r\nResult:\r\n\r\n    {\r\n      &quot;reservations&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1318504&quot;,\r\n          &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,\r\n          &quot;rooms&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;28902&quot;,\r\n              &quot;floor&quot;: &quot;2&quot;\r\n            },\r\n            {\r\n              &quot;id&quot;: &quot;28903&quot;,\r\n              &quot;floor&quot;: &quot;3&quot;\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;1318501&quot;,\r\n          &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;,\r\n          &quot;rooms&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;5&quot;,\r\n              &quot;floor&quot;: &quot;25&quot;\r\n            },\r\n            {\r\n              &quot;id&quot;: &quot;6&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\r\n    }\r\n","title":"Converting xml of any structure to json with nested arrays","body":"<p>The solution:</p>\n<pre><code>import com.github.underscore.U;\n\n    String xml = &quot;&lt;reservations&gt;\\n&quot;\n          + &quot;    &lt;reservation&gt;\\n&quot;\n          + &quot;        &lt;id&gt;1318504&lt;/id&gt;\\n&quot;\n          + &quot;        &lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\\n&quot;\n          + &quot;        &lt;rooms&gt;  \\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;28902&lt;/id&gt;\\n&quot;\n          + &quot;                &lt;floor&gt;2&lt;/floor&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;  \\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;28903&lt;/id&gt;\\n&quot;\n          + &quot;                &lt;floor&gt;3&lt;/floor&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;\\n&quot;\n          + &quot;        &lt;/rooms&gt;\\n&quot;\n          + &quot;    &lt;/reservation &gt;\\n&quot;\n          + &quot;    &lt;reservation&gt;\\n&quot;\n          + &quot;        &lt;id&gt;1318501&lt;/id&gt;\\n&quot;\n          + &quot;        &lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\\n&quot;\n          + &quot;        &lt;rooms&gt;\\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;5&lt;/id&gt;\\n&quot;\n          + &quot;                &lt;floor&gt;25&lt;/floor&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;\\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;6&lt;/id&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;\\n&quot;\n          + &quot;        &lt;/rooms&gt;\\n&quot;\n          + &quot;    &lt;/reservation&gt;\\n&quot;\n          + &quot;&lt;/reservations&gt;&quot;;\n    Map&lt;String, Object&gt; map = U.fromXmlMap(xml);\n    U.set(map, &quot;reservations&quot;, U.get(map, &quot;reservations.reservation&quot;));\n    List&lt;Map&lt;String, Object&gt;&gt; list = U.get(map, &quot;reservations&quot;);\n    for (Map&lt;String, Object&gt; item : list) {\n        U.set(item, &quot;rooms&quot;, U.get(item, &quot;rooms.room&quot;));\n    }\n    System.out.println(U.toJson(map));\n</code></pre>\n<p>Result:</p>\n<pre><code>{\n  &quot;reservations&quot;: [\n    {\n      &quot;id&quot;: &quot;1318504&quot;,\n      &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,\n      &quot;rooms&quot;: [\n        {\n          &quot;id&quot;: &quot;28902&quot;,\n          &quot;floor&quot;: &quot;2&quot;\n        },\n        {\n          &quot;id&quot;: &quot;28903&quot;,\n          &quot;floor&quot;: &quot;3&quot;\n        }\n      ]\n    },\n    {\n      &quot;id&quot;: &quot;1318501&quot;,\n      &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;,\n      &quot;rooms&quot;: [\n        {\n          &quot;id&quot;: &quot;5&quot;,\n          &quot;floor&quot;: &quot;25&quot;\n        },\n        {\n          &quot;id&quot;: &quot;6&quot;\n        }\n      ]\n    }\n  ],\n  &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1646813,"reputation":736,"user_id":1518211,"accept_rate":55,"display_name":"eejai42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674268904,"creation_date":1674268904,"answer_id":75190831,"question_id":62971263,"body_markdown":"You may be able to use json:Array=&quot;true&quot; in the array - and the JsonConvert will interpret it correctly.\r\n\r\nhttps://www.newtonsoft.com/json/help/html/ConvertXmlToJsonForceArray.htm","title":"Converting xml of any structure to json with nested arrays","body":"<p>You may be able to use json:Array=&quot;true&quot; in the array - and the JsonConvert will interpret it correctly.</p>\n<p><a href=\"https://www.newtonsoft.com/json/help/html/ConvertXmlToJsonForceArray.htm\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com/json/help/html/ConvertXmlToJsonForceArray.htm</a></p>\n"}],"owner":{"account_id":16400246,"reputation":141,"user_id":11846473,"display_name":"mosiek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674268904,"creation_date":1595091524,"question_id":62971263,"body_markdown":"I have XML which can be of any structure like below. Therefore there is no POJO class for instantiation. As you can see I have nested arrays (in this case `reservations` is an array of two `reservation` and every `reservation` have simple elements and arrays of `rooms` - but that is only example - there may be more arrays and nested arrays).\r\n\r\n    &lt;reservations&gt;\r\n    \t&lt;reservation&gt;\r\n    \t\t&lt;id&gt;1318504&lt;/id&gt;\r\n    \t\t&lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\r\n    \t\t&lt;rooms&gt;\t \r\n    \t\t    &lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;28902&lt;/id&gt;\r\n    \t\t\t\t&lt;floor&gt;2&lt;/floor&gt;\r\n    \t\t\t&lt;/room&gt;\t \r\n    \t\t\t&lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;28903&lt;/id&gt;\r\n    \t\t\t\t&lt;floor&gt;3&lt;/floor&gt;\r\n    \t\t\t&lt;/room&gt;\r\n    \t\t&lt;/rooms&gt;\r\n    \t&lt;/reservation &gt;\r\n    \t&lt;reservation&gt;\r\n    \t\t&lt;id&gt;1318501&lt;/id&gt;\r\n    \t\t&lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\r\n    \t\t&lt;rooms&gt;\r\n    \t\t\t&lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;5&lt;/id&gt;\r\n    \t\t\t\t&lt;floor&gt;25&lt;/floor&gt;\r\n    \t\t\t&lt;/room&gt;\r\n    \t\t\t&lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;6&lt;/id&gt;\r\n    \t\t\t&lt;/room&gt;\r\n    \t\t&lt;/rooms&gt;\r\n    \t&lt;/reservation&gt;\r\n    &lt;/reservations&gt;\r\n\t\r\nI need to convert it to Json as:\r\n\r\n    {\r\n       &quot;reservations&quot;:[\r\n          {\r\n             &quot;id&quot;:&quot;1318504&quot;,\r\n             &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\r\n    \t\t &quot;rooms&quot;:[\r\n                {\r\n                   &quot;id&quot;:&quot;28902&quot;,\r\n    \t\t\t   &quot;floor&quot;:2\r\n                   \r\n                },\r\n                {\r\n                   &quot;id&quot;:&quot;28903&quot;,\r\n    \t\t\t   &quot;floor&quot;:3\r\n                }\r\n             ]\r\n          },\r\n          {\r\n             &quot;id&quot;:&quot;1318501&quot;,\r\n             &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\r\n    \t\t &quot;rooms&quot;:[\r\n                {\r\n                   &quot;id&quot;:&quot;5&quot;,\r\n    \t\t\t   &quot;floor&quot;:25\r\n                   \r\n                },\r\n                {\r\n                   &quot;id&quot;:&quot;6&quot;\r\n                }\r\n             ]\r\n          }\r\n       ]\r\n    }\r\n\r\n\t \r\nI have read lots of topic about converting XML to Json. I tried something like:\r\n\r\n\r\n\r\n 1. json.org\r\n\r\n    ```JSONObject xmlJSONObj = XML.toJSONObject(xmlString);```\r\n2. jackson\r\n\r\n    ```JsonNode node = new XmlMapper().readTree(xmlContent);```\r\n3. underscore-java\r\n\r\n    ```String jsonString = U.xmlToJson(xmlContent)```\r\n\r\nand so on. Bu the result, in best case is like:\r\n\r\n    {\r\n       &quot;reservations&quot;:{\r\n          &quot;reservation&quot;:[\r\n             {\r\n                &quot;rooms&quot;:{\r\n                   &quot;room&quot;:[\r\n                      {\r\n                         &quot;id&quot;:28902,\r\n                         &quot;floor&quot;:2\r\n                      },\r\n                      {\r\n                         &quot;id&quot;:28903,\r\n                         &quot;floor&quot;:3\r\n                      }\r\n                   ]\r\n                },\r\n                &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\r\n                &quot;id&quot;:1318504\r\n             },\r\n             {\r\n                &quot;rooms&quot;:{\r\n                   &quot;room&quot;:[\r\n                      {\r\n                         &quot;id&quot;:5,\r\n                         &quot;floor&quot;:25\r\n                      },\r\n                      {\r\n                         &quot;id&quot;:6\r\n                      }\r\n                   ]\r\n                },\r\n                &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\r\n                &quot;id&quot;:1318501\r\n             }\r\n          ]\r\n       }\r\n    }\r\n\r\nI don&#39;t need nodes like `reservation` and `room`. Could you help me how can I solve this problem? I can manipulate with xml or json, but the form without these nodes is my target.","title":"Converting xml of any structure to json with nested arrays","body":"<p>I have XML which can be of any structure like below. Therefore there is no POJO class for instantiation. As you can see I have nested arrays (in this case <code>reservations</code> is an array of two <code>reservation</code> and every <code>reservation</code> have simple elements and arrays of <code>rooms</code> - but that is only example - there may be more arrays and nested arrays).</p>\n<pre><code>&lt;reservations&gt;\n    &lt;reservation&gt;\n        &lt;id&gt;1318504&lt;/id&gt;\n        &lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\n        &lt;rooms&gt;  \n            &lt;room&gt;\n                &lt;id&gt;28902&lt;/id&gt;\n                &lt;floor&gt;2&lt;/floor&gt;\n            &lt;/room&gt;  \n            &lt;room&gt;\n                &lt;id&gt;28903&lt;/id&gt;\n                &lt;floor&gt;3&lt;/floor&gt;\n            &lt;/room&gt;\n        &lt;/rooms&gt;\n    &lt;/reservation &gt;\n    &lt;reservation&gt;\n        &lt;id&gt;1318501&lt;/id&gt;\n        &lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\n        &lt;rooms&gt;\n            &lt;room&gt;\n                &lt;id&gt;5&lt;/id&gt;\n                &lt;floor&gt;25&lt;/floor&gt;\n            &lt;/room&gt;\n            &lt;room&gt;\n                &lt;id&gt;6&lt;/id&gt;\n            &lt;/room&gt;\n        &lt;/rooms&gt;\n    &lt;/reservation&gt;\n&lt;/reservations&gt;\n</code></pre>\n<p>I need to convert it to Json as:</p>\n<pre><code>{\n   &quot;reservations&quot;:[\n      {\n         &quot;id&quot;:&quot;1318504&quot;,\n         &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\n         &quot;rooms&quot;:[\n            {\n               &quot;id&quot;:&quot;28902&quot;,\n               &quot;floor&quot;:2\n               \n            },\n            {\n               &quot;id&quot;:&quot;28903&quot;,\n               &quot;floor&quot;:3\n            }\n         ]\n      },\n      {\n         &quot;id&quot;:&quot;1318501&quot;,\n         &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\n         &quot;rooms&quot;:[\n            {\n               &quot;id&quot;:&quot;5&quot;,\n               &quot;floor&quot;:25\n               \n            },\n            {\n               &quot;id&quot;:&quot;6&quot;\n            }\n         ]\n      }\n   ]\n}\n\n \n</code></pre>\n<p>I have read lots of topic about converting XML to Json. I tried something like:</p>\n<ol>\n<li><p>json.org</p>\n<p><code>JSONObject xmlJSONObj = XML.toJSONObject(xmlString);</code></p>\n</li>\n<li><p>jackson</p>\n<p><code>JsonNode node = new XmlMapper().readTree(xmlContent);</code></p>\n</li>\n<li><p>underscore-java</p>\n<p><code>String jsonString = U.xmlToJson(xmlContent)</code></p>\n</li>\n</ol>\n<p>and so on. Bu the result, in best case is like:</p>\n<pre><code>{\n   &quot;reservations&quot;:{\n      &quot;reservation&quot;:[\n         {\n            &quot;rooms&quot;:{\n               &quot;room&quot;:[\n                  {\n                     &quot;id&quot;:28902,\n                     &quot;floor&quot;:2\n                  },\n                  {\n                     &quot;id&quot;:28903,\n                     &quot;floor&quot;:3\n                  }\n               ]\n            },\n            &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\n            &quot;id&quot;:1318504\n         },\n         {\n            &quot;rooms&quot;:{\n               &quot;room&quot;:[\n                  {\n                     &quot;id&quot;:5,\n                     &quot;floor&quot;:25\n                  },\n                  {\n                     &quot;id&quot;:6\n                  }\n               ]\n            },\n            &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\n            &quot;id&quot;:1318501\n         }\n      ]\n   }\n}\n</code></pre>\n<p>I don't need nodes like <code>reservation</code> and <code>room</code>. Could you help me how can I solve this problem? I can manipulate with xml or json, but the form without these nodes is my target.</p>\n"},{"tags":["java","android","android-fragments","android-activity","android-fragmentactivity"],"answers":[{"tags":[],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674267858,"creation_date":1674267858,"answer_id":75190792,"question_id":75190076,"body_markdown":"I have found my problem. Within this line, \r\n\r\n    WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\nIt should be \r\n\r\n    WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\r\nThis is because WindowManager requires to be called from an Activity or Service, but it is not being called from any.\r\n\r\nSecondly, there was an error within the toast message. It should be\r\n\r\n    Toast.makeText(MainActivity.this,String.valueOf(dimen),Toast.LENGTH_SHORT).show();\r\nVery simple, but ints must be string within Toast, so String.valueOf fixes this. Just posting so anyone in the future has a solution!","title":"Why is this WindowManager working until I ask to recall it&#39;s value?","body":"<p>I have found my problem. Within this line,</p>\n<pre><code>WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\n</code></pre>\n<p>It should be</p>\n<pre><code>WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\n</code></pre>\n<p>This is because WindowManager requires to be called from an Activity or Service, but it is not being called from any.</p>\n<p>Secondly, there was an error within the toast message. It should be</p>\n<pre><code>Toast.makeText(MainActivity.this,String.valueOf(dimen),Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>Very simple, but ints must be string within Toast, so String.valueOf fixes this. Just posting so anyone in the future has a solution!</p>\n"}],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190792,"answer_count":1,"score":0,"last_activity_date":1674267858,"creation_date":1674255702,"question_id":75190076,"body_markdown":"I have some code that I am using to find the dimensions for my QR code image. However, I am trying to do so within a fragment. What I&#39;ve done is within the main activity, declare a public int for the dimen, and then run the dimension code within the MainActivity and do a getter for it. However, whenever I try to use the dimen value, either from a getter or within MainActivity itself, the app crashes. It will run, but it crashes the second you try to do anything with dimen, be it putting it into a toast, or for a method call.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public int dimen;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n\r\n        WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\n        //initializing a variable for default display.\r\n        Display display = manager.getDefaultDisplay();\r\n        //creating a variable for point which is to be displayed in QR Code.\r\n        Point point = new Point();\r\n        display.getSize(point);\r\n        //getting width and height of a point\r\n        int width = point.x;\r\n        int height = point.y;\r\n        //generating dimension from width and height.\r\n        dimen = Math.min(width, height);\r\n        dimen = dimen * 3 / 4; \r\n        Toast.makeText(MainActivity.this,dimen,Toast.LENGTH_SHORT).show(); //If you remove this line, the code runs. However, using any other use of dimen will also crash the app. Toast.makeText is not the problem.\r\n    }\r\n}\r\n```\r\n\r\nI have tried doing it within the fragment, and within the MainActivity. I can&#39;t find the solution.","title":"Why is this WindowManager working until I ask to recall it&#39;s value?","body":"<p>I have some code that I am using to find the dimensions for my QR code image. However, I am trying to do so within a fragment. What I've done is within the main activity, declare a public int for the dimen, and then run the dimension code within the MainActivity and do a getter for it. However, whenever I try to use the dimen value, either from a getter or within MainActivity itself, the app crashes. It will run, but it crashes the second you try to do anything with dimen, be it putting it into a toast, or for a method call.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public int dimen;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n\n        WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\n        //initializing a variable for default display.\n        Display display = manager.getDefaultDisplay();\n        //creating a variable for point which is to be displayed in QR Code.\n        Point point = new Point();\n        display.getSize(point);\n        //getting width and height of a point\n        int width = point.x;\n        int height = point.y;\n        //generating dimension from width and height.\n        dimen = Math.min(width, height);\n        dimen = dimen * 3 / 4; \n        Toast.makeText(MainActivity.this,dimen,Toast.LENGTH_SHORT).show(); //If you remove this line, the code runs. However, using any other use of dimen will also crash the app. Toast.makeText is not the problem.\n    }\n}\n</code></pre>\n<p>I have tried doing it within the fragment, and within the MainActivity. I can't find the solution.</p>\n"},{"tags":["java","websocket","keycloak","openid-connect","quarkus"],"comments":[{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":0,"creation_date":1674201757,"post_id":75141521,"comment_id":132667422,"body_markdown":"So still not sure what is the problem? In short \n1-&gt; Why do you want to make `onOpen()` return anything? \n2-&gt; Yes you can\n3-&gt; Yes it does","body":"So still not sure what is the problem? In short  1-&gt; Why do you want to make <code>onOpen()</code> return anything?  2-&gt; Yes you can 3-&gt; Yes it does"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1674212929,"post_id":75141521,"comment_id":132670799,"body_markdown":"Thanks. I want to return a Uni to resolve the exception that is being thrown as mentioned above. ie it says: `Make the secured method return an async type, i.e. Uni, Multi or CompletionStage,`. It seems that is required in order for the async resolution of the authentication with Keycloak, which needs to happen in order to know whether the endpoint should be allowed or not, and to validate the access token.","body":"Thanks. I want to return a Uni to resolve the exception that is being thrown as mentioned above. ie it says: <code>Make the secured method return an async type, i.e. Uni, Multi or CompletionStage,</code>. It seems that is required in order for the async resolution of the authentication with Keycloak, which needs to happen in order to know whether the endpoint should be allowed or not, and to validate the access token."},{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":0,"creation_date":1674225580,"post_id":75141521,"comment_id":132675080,"body_markdown":"Hmm, that&#39;s strange, as that should not be a problem. Do you have a small POC where we can reproduce the problem?","body":"Hmm, that&#39;s strange, as that should not be a problem. Do you have a small POC where we can reproduce the problem?"}],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1674265796,"creation_date":1673923314,"question_id":75141521,"body_markdown":"I have gone down many rabbit holes and cannot get this working. I am hoping someone can help me.\r\n\r\nI am using Keycloak and my REST endpoints are successfully secured like this abbreviated example:\r\n\r\n```java\r\n@Path(&quot;/api&quot;)\r\npublic class MyResource {\r\n    @Inject\r\n    SecurityIdentity securityIdentity;\r\n\r\n    @Inject\r\n    JsonWebToken jwt;\r\n\r\n    @GET\r\n    @Path(&quot;/mydata&quot;)\r\n    @RolesAllowed(&quot;user&quot;)\r\n    @NoCache\r\n    public Uni&lt;Response&gt; getMyData(Request request) { \r\n        // Get a claim from the Keycloak JWT\r\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\r\n \r\n        // Do some work...\r\n        String resJson = &quot;{result of work here}&quot;;\r\n\r\n        return Uni.createFrom().item(resJson)\r\n              .onItem()\r\n              .transform(item -&gt; item != &quot;&quot; ? Response.ok(item) : Response.status(Response.Status.NO_CONTENT))\r\n              .onItem()\r\n              .transform(Response.ResponseBuilder::build);\r\n    }\r\n}\r\n```\r\nThe access token is supplied by the client app which manages the Keycloak authentication and which sends the API request with a Bearer token. Standard stuff, all working. :-)\r\n\r\nNow, I want to do something similar with a WebSocket endpoint.\r\n\r\nI am using the [Quarkus Websockets][1] sample as my guide and can get it all working without Authorization - ie making unsecured calls. \r\n\r\nI am stuck trying to secure the WebSocket connection.\r\n\r\nThe closest I have come to finding a solution is this post in the Quarkus GitHub issues:\r\n[https://github.com/quarkusio/quarkus/issues/29919][2]\r\n\r\nI have coded that up as per the sample code in the post. Logging shows the `reactive route` and `WebSocketSecurityConfigurator` are both being called and the `access_token` from the JS WebSocket client is present and presumably being processed by the Quarkus default security processes, as it does for REST end points. All good.\r\n\r\nThe missing piece is how to code the `onOpen()` and `onMessage()` methods in my WebSocket endpoint so they are secure, reactive, and I can access the JWT to get the claims I need.\r\n\r\nCan anyone elaborate on this code fragment from the Quarkus issue post mentioned above, please? I have added what I think I need as per the sample further below.\r\n\r\nThe fragment from the issue post:\r\n```java\r\n@Authenticated\r\n@ServerEndpoint(\r\n        value =&quot;/ws&quot;,\r\n        configurator = WebSocketSecurityConfigurator.class\r\n)\r\npublic class WebSocket {\r\n    @Inject\r\n    UserInfo userInfo;\r\n    // ...\r\n}\r\n```\r\n\r\nMy additions:\r\n```java\r\n@Authenticated\r\n@ServerEndpoint(\r\n        value =&quot;/services/{clientid}&quot;,\r\n        configurator = WebSocketSecurityConfigurator.class\r\n)\r\n\r\npublic class WebSocket {\r\n    @Inject\r\n    SecurityIdentity securityIdentity;\r\n\r\n    @Inject\r\n    JsonWebToken jwt;\r\n\r\n    @Inject\r\n    UserInfo userInfo;\r\n    \r\n    @OnOpen\r\n    @RolesAllowed(&quot;user&quot;) // Is this possible here? Or do I use the JWT and test myself?\r\n    public void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\r\n        // Get a claim from the Keycloak JWT\r\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\r\n \r\n        // Do some setup work...\r\n        // eg cache the session in a map, etc\r\n    }\r\n\r\n    @OnMessage\r\n    public void onMessage(String message, @PathParam(&quot;clientid&quot;) String clientid) {\r\n        // Get a claim from the Keycloak JWT\r\n        String myOtherSpecialClaim = (String) jwt.claim(&quot;myOtherCustomClaim&quot;).get();\r\n \r\n        // Do some work using the message...\r\n        String someMessage = &quot;tell the world&quot;;\r\n\r\n        // Broadcast something ...\r\n        myBroadcastFunction(someMessage);\r\n    }\r\n}\r\n```\r\nIn the non-secure version, the `onOpen()` and `onMessage()` methods return `void` because, of course, unlike a REST endpoint, one broadcasts the result instead of returning it. \r\n\r\nIn this secured version that does not work. If I only have an onOpen() method, and code it like this:\r\n```java\r\n@OnOpen\r\npublic void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\r\n    Log.info(&quot;websocket onOpen session=&quot; + session.getId());\r\n}\r\n```\r\n\r\nIt throws:\r\n```\r\nUnhandled error in annotated endpoint org.flowt.orgserver.gateway.WebSocketGateway_Subclass@732f20f8\r\n\r\njava.lang.RuntimeException: java.lang.RuntimeException: java.lang.RuntimeException: \r\n\r\nio.quarkus.runtime.BlockingOperationNotAllowedException: Blocking security check attempted in code running on the event loop. \r\nMake the secured method return an async type, i.e. Uni, Multi or CompletionStage, \r\nor use an authentication mechanism that sets the SecurityIdentity in a blocking manner prior to delegating the call\r\n```\r\n\r\nI would like not to block the event loop, so the first suggestion is the preferred one.\r\n\r\nBut how should I code that? \r\n1. If I make the onOpen() return a Uni, how do I subscribe to it so it runs?\r\n2. Can I still access the JWT to get the claims I need?\r\n3. Do annotations like `@RolesAllowed(&quot;user&quot;)` still work in this context?\r\n\r\nI wont waste space here with all my failed attempts. I am thinking I am not the first person to need to do this and there must be some kind of pattern to implement. The Quarkus docs are silent on this.\r\n\r\n**Can anyone tell me how to code the `onOpen()` and `onMessage()` methods using Quarkus so that the WebSocket endpoints are secured and the JWT is available inside those methods?**\r\n\r\n**EDIT =======**\r\n\r\nTo resolve the blocking exception, the Quarkus docs [here][3] say \r\n```\r\nTo work around this you need to @Inject an instance\r\nof io.quarkus.security.identity.CurrentIdentityAssociation, \r\nand call the Uni&lt;SecurityIdentity&gt; getDeferredIdentity(); method. \r\nYou can then subscribe to the resulting Uni and will be \r\nnotified when authentication is complete and the identity \r\nis available.\r\n```\r\n\r\nI cannot work out how to implement that instruction. Debugging into the Quarkus code I see that my access_token is being processed, the user is retrieved from Keycloak but the deferredIdentity is not being set. Therefore `onOpen()` never runs.\r\n\r\nClearly this is not what the docs mean me to do!\r\n\r\nHere is my class:\r\n```java\r\npackage org.flowt.orgserver.gateway;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\n\r\nimport javax.websocket.Session;\r\nimport javax.websocket.OnOpen;\r\nimport javax.websocket.server.PathParam;\r\nimport javax.websocket.server.ServerEndpoint;\r\n\r\nimport io.quarkus.logging.Log;\r\nimport io.quarkus.security.Authenticated;\r\nimport io.quarkus.security.identity.CurrentIdentityAssociation;\r\nimport io.quarkus.security.identity.SecurityIdentity;\r\n\r\nimport io.smallrye.mutiny.Uni;\r\n\r\n@ApplicationScoped\r\n@Authenticated\r\n@ServerEndpoint(value = &quot;/services/{clientid}&quot;, configurator = WebSocketSecurityConfigurator.class)\r\npublic class WebSocketGateway {\r\n\r\n    @Inject\r\n    SecurityIdentity securityIdentity;\r\n\r\n    @Inject\r\n    CurrentIdentityAssociation identities;\r\n\r\n    @OnOpen\r\n    public Uni&lt;Void&gt; onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\r\n        // This never runs\r\n        Log.info(&quot;=========================== onOpen session=&quot; + session.getId());\r\n\r\n        return identities.getDeferredIdentity()\r\n                .onItem()\r\n                .transformToUni(identity -&gt; {\r\n                    // Just to see if we reach here\r\n                    Log.info(&quot;identity=&quot; + identity.toString());\r\n                    return Uni.createFrom().voidItem();\r\n                });\r\n    }\r\n}\r\n\r\n```\r\nAnd just to reiterate: the REST endpoints in this same app for the same logged in user work perfectly.\r\n\r\nThanks,\r\nMurray\r\n\r\n\r\n  [1]: https://quarkus.io/guides/websockets\r\n  [2]: https://github.com/quarkusio/quarkus/issues/29919#issuecomment-1356917147\r\n  [3]: https://quarkus.io/guides/security-built-in-authentication-support-concept#proactive-authentication","title":"Quarkus: how to secure WebSocket when using Keycloak / OIDC","body":"<p>I have gone down many rabbit holes and cannot get this working. I am hoping someone can help me.</p>\n<p>I am using Keycloak and my REST endpoints are successfully secured like this abbreviated example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/api&quot;)\npublic class MyResource {\n    @Inject\n    SecurityIdentity securityIdentity;\n\n    @Inject\n    JsonWebToken jwt;\n\n    @GET\n    @Path(&quot;/mydata&quot;)\n    @RolesAllowed(&quot;user&quot;)\n    @NoCache\n    public Uni&lt;Response&gt; getMyData(Request request) { \n        // Get a claim from the Keycloak JWT\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\n \n        // Do some work...\n        String resJson = &quot;{result of work here}&quot;;\n\n        return Uni.createFrom().item(resJson)\n              .onItem()\n              .transform(item -&gt; item != &quot;&quot; ? Response.ok(item) : Response.status(Response.Status.NO_CONTENT))\n              .onItem()\n              .transform(Response.ResponseBuilder::build);\n    }\n}\n</code></pre>\n<p>The access token is supplied by the client app which manages the Keycloak authentication and which sends the API request with a Bearer token. Standard stuff, all working. :-)</p>\n<p>Now, I want to do something similar with a WebSocket endpoint.</p>\n<p>I am using the <a href=\"https://quarkus.io/guides/websockets\" rel=\"noreferrer\">Quarkus Websockets</a> sample as my guide and can get it all working without Authorization - ie making unsecured calls.</p>\n<p>I am stuck trying to secure the WebSocket connection.</p>\n<p>The closest I have come to finding a solution is this post in the Quarkus GitHub issues:\n<a href=\"https://github.com/quarkusio/quarkus/issues/29919#issuecomment-1356917147\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/issues/29919</a></p>\n<p>I have coded that up as per the sample code in the post. Logging shows the <code>reactive route</code> and <code>WebSocketSecurityConfigurator</code> are both being called and the <code>access_token</code> from the JS WebSocket client is present and presumably being processed by the Quarkus default security processes, as it does for REST end points. All good.</p>\n<p>The missing piece is how to code the <code>onOpen()</code> and <code>onMessage()</code> methods in my WebSocket endpoint so they are secure, reactive, and I can access the JWT to get the claims I need.</p>\n<p>Can anyone elaborate on this code fragment from the Quarkus issue post mentioned above, please? I have added what I think I need as per the sample further below.</p>\n<p>The fragment from the issue post:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Authenticated\n@ServerEndpoint(\n        value =&quot;/ws&quot;,\n        configurator = WebSocketSecurityConfigurator.class\n)\npublic class WebSocket {\n    @Inject\n    UserInfo userInfo;\n    // ...\n}\n</code></pre>\n<p>My additions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Authenticated\n@ServerEndpoint(\n        value =&quot;/services/{clientid}&quot;,\n        configurator = WebSocketSecurityConfigurator.class\n)\n\npublic class WebSocket {\n    @Inject\n    SecurityIdentity securityIdentity;\n\n    @Inject\n    JsonWebToken jwt;\n\n    @Inject\n    UserInfo userInfo;\n    \n    @OnOpen\n    @RolesAllowed(&quot;user&quot;) // Is this possible here? Or do I use the JWT and test myself?\n    public void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\n        // Get a claim from the Keycloak JWT\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\n \n        // Do some setup work...\n        // eg cache the session in a map, etc\n    }\n\n    @OnMessage\n    public void onMessage(String message, @PathParam(&quot;clientid&quot;) String clientid) {\n        // Get a claim from the Keycloak JWT\n        String myOtherSpecialClaim = (String) jwt.claim(&quot;myOtherCustomClaim&quot;).get();\n \n        // Do some work using the message...\n        String someMessage = &quot;tell the world&quot;;\n\n        // Broadcast something ...\n        myBroadcastFunction(someMessage);\n    }\n}\n</code></pre>\n<p>In the non-secure version, the <code>onOpen()</code> and <code>onMessage()</code> methods return <code>void</code> because, of course, unlike a REST endpoint, one broadcasts the result instead of returning it.</p>\n<p>In this secured version that does not work. If I only have an onOpen() method, and code it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OnOpen\npublic void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\n    Log.info(&quot;websocket onOpen session=&quot; + session.getId());\n}\n</code></pre>\n<p>It throws:</p>\n<pre><code>Unhandled error in annotated endpoint org.flowt.orgserver.gateway.WebSocketGateway_Subclass@732f20f8\n\njava.lang.RuntimeException: java.lang.RuntimeException: java.lang.RuntimeException: \n\nio.quarkus.runtime.BlockingOperationNotAllowedException: Blocking security check attempted in code running on the event loop. \nMake the secured method return an async type, i.e. Uni, Multi or CompletionStage, \nor use an authentication mechanism that sets the SecurityIdentity in a blocking manner prior to delegating the call\n</code></pre>\n<p>I would like not to block the event loop, so the first suggestion is the preferred one.</p>\n<p>But how should I code that?</p>\n<ol>\n<li>If I make the onOpen() return a Uni, how do I subscribe to it so it runs?</li>\n<li>Can I still access the JWT to get the claims I need?</li>\n<li>Do annotations like <code>@RolesAllowed(&quot;user&quot;)</code> still work in this context?</li>\n</ol>\n<p>I wont waste space here with all my failed attempts. I am thinking I am not the first person to need to do this and there must be some kind of pattern to implement. The Quarkus docs are silent on this.</p>\n<p><strong>Can anyone tell me how to code the <code>onOpen()</code> and <code>onMessage()</code> methods using Quarkus so that the WebSocket endpoints are secured and the JWT is available inside those methods?</strong></p>\n<p><strong>EDIT =======</strong></p>\n<p>To resolve the blocking exception, the Quarkus docs <a href=\"https://quarkus.io/guides/security-built-in-authentication-support-concept#proactive-authentication\" rel=\"noreferrer\">here</a> say</p>\n<pre><code>To work around this you need to @Inject an instance\nof io.quarkus.security.identity.CurrentIdentityAssociation, \nand call the Uni&lt;SecurityIdentity&gt; getDeferredIdentity(); method. \nYou can then subscribe to the resulting Uni and will be \nnotified when authentication is complete and the identity \nis available.\n</code></pre>\n<p>I cannot work out how to implement that instruction. Debugging into the Quarkus code I see that my access_token is being processed, the user is retrieved from Keycloak but the deferredIdentity is not being set. Therefore <code>onOpen()</code> never runs.</p>\n<p>Clearly this is not what the docs mean me to do!</p>\n<p>Here is my class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.flowt.orgserver.gateway;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\n\nimport javax.websocket.Session;\nimport javax.websocket.OnOpen;\nimport javax.websocket.server.PathParam;\nimport javax.websocket.server.ServerEndpoint;\n\nimport io.quarkus.logging.Log;\nimport io.quarkus.security.Authenticated;\nimport io.quarkus.security.identity.CurrentIdentityAssociation;\nimport io.quarkus.security.identity.SecurityIdentity;\n\nimport io.smallrye.mutiny.Uni;\n\n@ApplicationScoped\n@Authenticated\n@ServerEndpoint(value = &quot;/services/{clientid}&quot;, configurator = WebSocketSecurityConfigurator.class)\npublic class WebSocketGateway {\n\n    @Inject\n    SecurityIdentity securityIdentity;\n\n    @Inject\n    CurrentIdentityAssociation identities;\n\n    @OnOpen\n    public Uni&lt;Void&gt; onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\n        // This never runs\n        Log.info(&quot;=========================== onOpen session=&quot; + session.getId());\n\n        return identities.getDeferredIdentity()\n                .onItem()\n                .transformToUni(identity -&gt; {\n                    // Just to see if we reach here\n                    Log.info(&quot;identity=&quot; + identity.toString());\n                    return Uni.createFrom().voidItem();\n                });\n    }\n}\n\n</code></pre>\n<p>And just to reiterate: the REST endpoints in this same app for the same logged in user work perfectly.</p>\n<p>Thanks,\nMurray</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1673425267,"post_id":75078981,"comment_id":132493472,"body_markdown":"You forgot to set `args.nOptions = 1`","body":"You forgot to set <code>args.nOptions = 1</code>"},{"owner":{"account_id":26377301,"reputation":11,"user_id":20980109,"display_name":"user20980109"},"score":0,"creation_date":1673589941,"post_id":75078981,"comment_id":132537597,"body_markdown":"oh thanks . I have also another doubt ,I want to check the classpath on environmental variable in above code .How can do that","body":"oh thanks . I have also another doubt ,I want to check the classpath on environmental variable in above code .How can do that"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1673598472,"post_id":75078981,"comment_id":132539523,"body_markdown":"I don&#39;t understand what you mean by that.","body":"I don&#39;t understand what you mean by that."}],"answers":[{"tags":[],"owner":{"account_id":5397179,"reputation":458,"user_id":4298020,"display_name":"Boris Rasin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674263739,"creation_date":1674263739,"answer_id":75190614,"question_id":75078981,"body_markdown":"You can use [Scapix](https://github.com/scapix-com/scapix) to automatically generate Java bindings directly from C++ header files.\r\n\r\nDisclaimer: I am the author of [Scapix](https://github.com/scapix-com/scapix) project.","title":"call java methods from C++ using JNI","body":"<p>You can use <a href=\"https://github.com/scapix-com/scapix\" rel=\"nofollow noreferrer\">Scapix</a> to automatically generate Java bindings directly from C++ header files.</p>\n<p>Disclaimer: I am the author of <a href=\"https://github.com/scapix-com/scapix\" rel=\"nofollow noreferrer\">Scapix</a> project.</p>\n"}],"owner":{"account_id":26377301,"reputation":11,"user_id":20980109,"display_name":"user20980109"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674263739,"creation_date":1673417780,"question_id":75078981,"body_markdown":"I want to access java method from C++ using JNI.\r\nI try this code it can&#39;t find the class file of java. I got the error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Example like that \r\n\r\nJAVA code \r\n```\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        new Example().printHelloWorld();\r\n    }\r\n\r\n    public void printHelloWorld() {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n    }\r\n}\r\n```\r\nC++ code is\r\n```\r\n\r\n#include &lt;jni.h&gt;\r\n#include &lt;iostream&gt;\r\nusing namespace std;\r\nint main() \r\n{\r\n    // create JNI environment\r\n    JNIEnv* env;\r\n    JavaVM* jvm;\r\n    JavaVMInitArgs args;\r\n    args.version = JNI_VERSION_1_6;\r\n    JavaVMOption options[1];\r\n    char optionString[] = &quot;-Djava.class.path=&quot;;\r\n    options[0].optionString = optionString;\r\n    args.options = options;\r\n    args.ignoreUnrecognized = JNI_FALSE;\r\n    JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;args);\r\n\r\n    // find class of Java method\r\n    jclass cls = env-&gt;FindClass(&quot;Example&quot;);\r\n    if (env-&gt;ExceptionCheck()) {\r\n        env-&gt;ExceptionDescribe();\r\n        env-&gt;ExceptionClear();\r\n        return 1;\r\n    }\r\n    // get method ID of Java method\r\n    jmethodID mid = env-&gt;GetMethodID(cls, &quot;printHelloWorld&quot;, &quot;()V&quot;);\r\n    if (env-&gt;ExceptionCheck()) {\r\n        env-&gt;ExceptionDescribe();\r\n        env-&gt;ExceptionClear();\r\n        return 1;\r\n    }\r\n    // call Java method\r\n    jobject obj = env-&gt;AllocObject(cls);\r\n    env-&gt;CallVoidMethod(obj, mid);\r\n    if (env-&gt;ExceptionCheck()) {\r\n        env-&gt;ExceptionDescribe();\r\n        env-&gt;ExceptionClear();\r\n        return 1;\r\n    }\r\n    // clean up and exit\r\n    jvm-&gt;DestroyJavaVM();\r\n    return 0;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI can&#39;t find the error.","title":"call java methods from C++ using JNI","body":"<p>I want to access java method from C++ using JNI.\nI try this code it can't find the class file of java. I got the error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Example like that</p>\n<p>JAVA code</p>\n<pre><code>\nimport java.io.*;\nimport java.util.*;\npublic class Example {\n    public static void main(String[] args) {\n        new Example().printHelloWorld();\n    }\n\n    public void printHelloWorld() {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<p>C++ code is</p>\n<pre><code>\n#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() \n{\n    // create JNI environment\n    JNIEnv* env;\n    JavaVM* jvm;\n    JavaVMInitArgs args;\n    args.version = JNI_VERSION_1_6;\n    JavaVMOption options[1];\n    char optionString[] = &quot;-Djava.class.path=&quot;;\n    options[0].optionString = optionString;\n    args.options = options;\n    args.ignoreUnrecognized = JNI_FALSE;\n    JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;args);\n\n    // find class of Java method\n    jclass cls = env-&gt;FindClass(&quot;Example&quot;);\n    if (env-&gt;ExceptionCheck()) {\n        env-&gt;ExceptionDescribe();\n        env-&gt;ExceptionClear();\n        return 1;\n    }\n    // get method ID of Java method\n    jmethodID mid = env-&gt;GetMethodID(cls, &quot;printHelloWorld&quot;, &quot;()V&quot;);\n    if (env-&gt;ExceptionCheck()) {\n        env-&gt;ExceptionDescribe();\n        env-&gt;ExceptionClear();\n        return 1;\n    }\n    // call Java method\n    jobject obj = env-&gt;AllocObject(cls);\n    env-&gt;CallVoidMethod(obj, mid);\n    if (env-&gt;ExceptionCheck()) {\n        env-&gt;ExceptionDescribe();\n        env-&gt;ExceptionClear();\n        return 1;\n    }\n    // clean up and exit\n    jvm-&gt;DestroyJavaVM();\n    return 0;\n}\n\n</code></pre>\n<p>I can't find the error.</p>\n"},{"tags":["java","rsa","signature","sha256","verification"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1674237379,"post_id":75186857,"comment_id":132679263,"body_markdown":"You should always explicitly set the character encoding when using `String.getBytes`, but in several places you are not, like `content.getBytes()`. I don&#39;t know if that accounts for the problem though. We&#39;ll probably need a complete example of the problem include public keys and actual data.","body":"You should always explicitly set the character encoding when using <code>String.getBytes</code>, but in several places you are not, like <code>content.getBytes()</code>. I don&#39;t know if that accounts for the problem though. We&#39;ll probably need a complete example of the problem include public keys and actual data."},{"owner":{"account_id":27581976,"reputation":1,"user_id":21050993,"display_name":"Chris Cohoon"},"score":0,"creation_date":1674240938,"post_id":75186857,"comment_id":132680289,"body_markdown":"I went ahead and updated all instances of getBytes() (I&#39;ll also update my code in the initial post.  Unfortunately, it does not appear to have changed anything.  I&#39;ll see about getting shareable SAML that I can post here.  I appreciate your insight!","body":"I went ahead and updated all instances of getBytes() (I&#39;ll also update my code in the initial post.  Unfortunately, it does not appear to have changed anything.  I&#39;ll see about getting shareable SAML that I can post here.  I appreciate your insight!"},{"owner":{"account_id":27581976,"reputation":1,"user_id":21050993,"display_name":"Chris Cohoon"},"score":0,"creation_date":1674251109,"post_id":75186857,"comment_id":132682546,"body_markdown":"@PresidentJamesK.Polk I have updated my code with a public-appropriate SAML Response (The canonicalized SAML minus the Signature block is stored in the content String, and the Signature block is listed below the code).  As before, I&#39;m able to calculate the digest appropriately, but I&#39;m still seeing a &quot;false&quot; return from sig.verify.","body":"@PresidentJamesK.Polk I have updated my code with a public-appropriate SAML Response (The canonicalized SAML minus the Signature block is stored in the content String, and the Signature block is listed below the code).  As before, I&#39;m able to calculate the digest appropriately, but I&#39;m still seeing a &quot;false&quot; return from sig.verify."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1674261585,"post_id":75186857,"comment_id":132684188,"body_markdown":"@PresidentJamesK.Polk: in the general case charset matters, but base64 is designed very intentionally to use only characters in _all_ known character encodings, and in fact invariant in all charsets practically used in Java.","body":"@PresidentJamesK.Polk: in the general case charset matters, but base64 is designed very intentionally to use only characters in <i>all</i> known character encodings, and in fact invariant in all charsets practically used in Java."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1674263737,"post_id":75186857,"comment_id":132684375,"body_markdown":"@dave_thompson_085: The fact that the character exists in the charset is not the issue, it&#39;s the encoding into bytes that differs. The encoding of &quot;a&quot; is one byte in UTF-8, two bytes in UTF-16 and four bytes in UTF-32.","body":"@dave_thompson_085: The fact that the character exists in the charset is not the issue, it&#39;s the encoding into bytes that differs. The encoding of &quot;a&quot; is one byte in UTF-8, two bytes in UTF-16 and four bytes in UTF-32."}],"answers":[{"comments":[{"owner":{"account_id":27581976,"reputation":1,"user_id":21050993,"display_name":"Chris Cohoon"},"score":0,"creation_date":1674319950,"post_id":75190491,"comment_id":132691420,"body_markdown":"Thank you for the information @dave_thompson_085.  I have read through the links you have provided, and ultimately landed on this Oracle article: https://www.oracle.com/technical-resources/articles/javase/dig-signatures.html\nIs using the java.security.Signature class wrong for XMLdsig? I tried updating my signature String to contain the canonicalized XML for SignedInfo, but then I ran into &quot;java.security.SignatureException: Signature length not correct: got 2526 but was\n expecting 256&quot;. I will work on using the classes mentioned in the Oracle article in the meanwhile. Thank you for your help","body":"Thank you for the information @dave_thompson_085.  I have read through the links you have provided, and ultimately landed on this Oracle article: <a href=\"https://www.oracle.com/technical-resources/articles/javase/dig-signatures.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/javase/&hellip;</a> Is using the java.security.Signature class wrong for XMLdsig? I tried updating my signature String to contain the canonicalized XML for SignedInfo, but then I ran into &quot;java.security.SignatureException: Signature length not correct: got 2526 but was  expecting 256&quot;. I will work on using the classes mentioned in the Oracle article in the meanwhile. Thank you for your help"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1674418609,"post_id":75190491,"comment_id":132705393,"body_markdown":"Yes `Signature` with the correct scheme, as in your code, is correct. That error sounds like you&#39;re trying to use the SignedInfo as the _signature_. I said the signature is computed _over_ (or _on_) the SignedInfo -- that means the SignedInfo is used as _data_, which in the Java API means it is passed to `sig.update`. The _signature_ (passed to `sig.verify`) is, as you already had, the value in SignatureValue de-base64-ed.","body":"Yes <code>Signature</code> with the correct scheme, as in your code, is correct. That error sounds like you&#39;re trying to use the SignedInfo as the <i>signature</i>. I said the signature is computed <i>over</i> (or <i>on</i>) the SignedInfo -- that means the SignedInfo is used as <i>data</i>, which in the Java API means it is passed to <code>sig.update</code>. The <i>signature</i> (passed to <code>sig.verify</code>) is, as you already had, the value in SignatureValue de-base64-ed."}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674261429,"creation_date":1674261429,"answer_id":75190491,"question_id":75186857,"body_markdown":"Your approach is wrong in two ways.\r\n\r\nFirst, in XMLdsig, which SAML uses, the &#39;real&#39; signature (here the RSA signature) is not over the data or even the data hash as such. Rather, the hash of the data is placed in Reference.DigestValue, and the publickey signature is computed over the _SignedInfo_ element, which _includes_ that DigestValue, canonicalized. Conversely validation checks both that the signature matches the SignedInfo and that the DigestValue in the (or each) Reference matches the (related) data. See https://www.w3.org/TR/xmldsig-core2/#sec-Processing .\r\n\r\nSecond, the &#39;backwards RSA&#39; `Cipher` in Java -- &quot;encrypting with the privatekey and decrypting with the publickey&quot; -- is not correct RSA signature; [this is a mistake](https://security.stackexchange.com/questions/159282/#159289) made back in the 1990s that has never been corrected, apparently for compatibility. Correct PKCS1v1-style signature, now retronymed RSASSA-PKCS1-v1_5 as referenced in [that same spec](https://www.w3.org/TR/xmldsig-core2/#sec-PKCS1), is four steps:\r\n\r\n1. hash the data\r\n2. encode the hash (1) in an ASN.1 DigestInfo\r\n3. pad (2) with 01 FF... 00 \r\n4. take (3) as an integer and modexp with the private exponent\r\n\r\nVerification can be done by repeating 1-3 and comparing to the result of modexp-public which reverses 4 OR reversing 4 and 3 (remove 01 ...) AND 2 (split apart the ASN.1) before comparing to 1. Java&#39;s backwards `Cipher` only does 3 and 4 on the &#39;encrypt&#39; side and 4 and 3 on the &#39;decrypt&#39; side leaving you to do 2, as well as 1 _on the SignedInfo per above_. \r\n\r\nThis part is a very common mistake; see my list over at https://crypto.stackexchange.com/questions/87006/why-is-data-signed-with-sha256-rsa-pkcs-and-digest-signed-with-rsa-pkcs-different plus  \r\nhttps://stackoverflow.com/questions/71121290/java-certificate-verify-failed  \r\nhttps://stackoverflow.com/questions/65709994/how-to-use-x509-public-key-to-verify-a-signed-hashed-alexa-request-body  \r\n","title":"Signature Verification in Java for RSA SHA-256","body":"<p>Your approach is wrong in two ways.</p>\n<p>First, in XMLdsig, which SAML uses, the 'real' signature (here the RSA signature) is not over the data or even the data hash as such. Rather, the hash of the data is placed in Reference.DigestValue, and the publickey signature is computed over the <em>SignedInfo</em> element, which <em>includes</em> that DigestValue, canonicalized. Conversely validation checks both that the signature matches the SignedInfo and that the DigestValue in the (or each) Reference matches the (related) data. See <a href=\"https://www.w3.org/TR/xmldsig-core2/#sec-Processing\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xmldsig-core2/#sec-Processing</a> .</p>\n<p>Second, the 'backwards RSA' <code>Cipher</code> in Java -- &quot;encrypting with the privatekey and decrypting with the publickey&quot; -- is not correct RSA signature; <a href=\"https://security.stackexchange.com/questions/159282/#159289\">this is a mistake</a> made back in the 1990s that has never been corrected, apparently for compatibility. Correct PKCS1v1-style signature, now retronymed RSASSA-PKCS1-v1_5 as referenced in <a href=\"https://www.w3.org/TR/xmldsig-core2/#sec-PKCS1\" rel=\"nofollow noreferrer\">that same spec</a>, is four steps:</p>\n<ol>\n<li>hash the data</li>\n<li>encode the hash (1) in an ASN.1 DigestInfo</li>\n<li>pad (2) with 01 FF... 00</li>\n<li>take (3) as an integer and modexp with the private exponent</li>\n</ol>\n<p>Verification can be done by repeating 1-3 and comparing to the result of modexp-public which reverses 4 OR reversing 4 and 3 (remove 01 ...) AND 2 (split apart the ASN.1) before comparing to 1. Java's backwards <code>Cipher</code> only does 3 and 4 on the 'encrypt' side and 4 and 3 on the 'decrypt' side leaving you to do 2, as well as 1 <em>on the SignedInfo per above</em>.</p>\n<p>This part is a very common mistake; see my list over at <a href=\"https://crypto.stackexchange.com/questions/87006/why-is-data-signed-with-sha256-rsa-pkcs-and-digest-signed-with-rsa-pkcs-different\">https://crypto.stackexchange.com/questions/87006/why-is-data-signed-with-sha256-rsa-pkcs-and-digest-signed-with-rsa-pkcs-different</a> plus<br />\n<a href=\"https://stackoverflow.com/questions/71121290/java-certificate-verify-failed\">java certificate verify failed</a><br />\n<a href=\"https://stackoverflow.com/questions/65709994/how-to-use-x509-public-key-to-verify-a-signed-hashed-alexa-request-body\">How to use x509 public key to verify a signed/hashed Alexa request body?</a></p>\n"}],"owner":{"account_id":27581976,"reputation":1,"user_id":21050993,"display_name":"Chris Cohoon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674261429,"creation_date":1674232423,"question_id":75186857,"body_markdown":"**EDIT - Updated with full SAML**\r\n\r\nI&#39;m trying to verify a signature I receive from a SAML Response in Java.  The SAML Response is validated by samltool.io, but I am having a difficult time with the Signature class in java.  No matter what I try, it&#39;s returning false.  I have properly canonicalized my XML and I am able to successfully generate the correct MessageDigest with what I have in my content String.  Hopefully someone can point out what I&#39;m doing wrong.  Here is my code:\r\n\r\n\r\n```\r\npublic class SigVer {\r\n\tpublic static void main(String[] args) throws Exception {\t\r\n\t\tSystem.out.println(&quot;Initialized&quot;);\r\n\t\t\r\n\t\tString pubKeyStr = &quot;MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==&quot;;\r\n\t\t\r\n\t\tbyte[] certBytes = pubKeyStr.getBytes(java.nio.charset.StandardCharsets.UTF_8);\r\n\r\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        InputStream in = new ByteArrayInputStream(Base64.getDecoder().decode(certBytes));\r\n        X509Certificate certificate = (X509Certificate)certFactory.generateCertificate(in);\r\n\r\n        PublicKey publicKey = certificate.getPublicKey();\r\n\r\n\t\tString content = &quot;&lt;saml2p:Response xmlns:saml2p=\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\&quot; xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; Destination=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot; ID=\\&quot;id130347804157883831058335572\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2p:Status&gt;&lt;saml2p:StatusCode Value=\\&quot;urn:oasis:names:tc:SAML:2.0:status:Success\\&quot;&gt;&lt;/saml2p:StatusCode&gt;&lt;/saml2p:Status&gt;&lt;saml2:Assertion xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; ID=\\&quot;id1303478041593882583231621\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2:Subject&gt;&lt;saml2:NameID Format=\\&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\\&quot;&gt;matt@revnatech.com&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=\\&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer\\&quot;&gt;&lt;saml2:SubjectConfirmationData NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot; Recipient=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions NotBefore=\\&quot;2023-01-20T19:34:44.049Z\\&quot; NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot;&gt;&lt;saml2:AudienceRestriction&gt;&lt;saml2:Audience&gt;http://10.100.1.123:8080/identityiq/&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AuthnStatement AuthnInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; SessionIndex=\\&quot;id1674243584047.1963093145\\&quot;&gt;&lt;saml2:AuthnContext&gt;&lt;saml2:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml2:AuthnContextClassRef&gt;&lt;/saml2:AuthnContext&gt;&lt;/saml2:AuthnStatement&gt;&lt;saml2:AttributeStatement&gt;&lt;saml2:Attribute Name=\\&quot;email\\&quot; NameFormat=\\&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified\\&quot;&gt;&lt;saml2:AttributeValue xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:type=\\&quot;xs:string\\&quot;&gt;matt@revnatech.com&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;&lt;/saml2p:Response&gt;&quot;;\r\n\t\t\r\n\t\tMessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\tmd.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\r\n\t\tbyte[] digest = md.digest();\r\n\t\t\r\n\t\tSystem.out.println(new String(Base64.getEncoder().encode(digest)));\r\n\r\n\t\tString signature = &quot;laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n\t\t\tsig.initVerify(publicKey);\r\n\t\t\tsig.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\r\n\t\t\tboolean result = sig.verify(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8)));\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Returning &quot; + result);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMy SAML Signature block is as follows:\r\n\r\n\r\n```\r\n&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n        &lt;ds:SignedInfo&gt;\r\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;\r\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;\r\n            &lt;ds:Reference URI=&quot;#id130347804157883831058335572&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;xs&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;\r\n                &lt;ds:DigestValue&gt;\r\n                    1jaT9pnWmUCL0+atOcxHZ2yxhL5XOIhhHaK3Oz0gDWY=\r\n                &lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n        &lt;/ds:SignedInfo&gt;\r\n        &lt;ds:SignatureValue&gt;\r\n            laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==\r\n        &lt;/ds:SignatureValue&gt;\r\n        &lt;ds:KeyInfo&gt;\r\n            &lt;ds:X509Data&gt;\r\n                &lt;ds:X509Certificate&gt;\r\n                    MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==\r\n                &lt;/ds:X509Certificate&gt;\r\n            &lt;/ds:X509Data&gt;\r\n        &lt;/ds:KeyInfo&gt;\r\n    &lt;/ds:Signature&gt;\r\n```\r\n\r\n\r\n\r\nI have tried decrypting the SignatureValue with the PublicKey to retrieve what&#39;s in the DigestValue, but the value I retrieved when doing that didn&#39;t match up.  This is what I tried when attempting that:  \r\n\r\n```\r\nCipher c = Cipher.getInstance(&quot;RSA&quot;);\r\nc.init(Cipher.DECRYPT_MODE, publicKey);\t\t\r\nSystem.out.println(new String(Base64.getEncoder().encode(c.doFinal(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8))))));\r\n```","title":"Signature Verification in Java for RSA SHA-256","body":"<p><strong>EDIT - Updated with full SAML</strong></p>\n<p>I'm trying to verify a signature I receive from a SAML Response in Java.  The SAML Response is validated by samltool.io, but I am having a difficult time with the Signature class in java.  No matter what I try, it's returning false.  I have properly canonicalized my XML and I am able to successfully generate the correct MessageDigest with what I have in my content String.  Hopefully someone can point out what I'm doing wrong.  Here is my code:</p>\n<pre><code>public class SigVer {\n    public static void main(String[] args) throws Exception {   \n        System.out.println(&quot;Initialized&quot;);\n        \n        String pubKeyStr = &quot;MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==&quot;;\n        \n        byte[] certBytes = pubKeyStr.getBytes(java.nio.charset.StandardCharsets.UTF_8);\n\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n        InputStream in = new ByteArrayInputStream(Base64.getDecoder().decode(certBytes));\n        X509Certificate certificate = (X509Certificate)certFactory.generateCertificate(in);\n\n        PublicKey publicKey = certificate.getPublicKey();\n\n        String content = &quot;&lt;saml2p:Response xmlns:saml2p=\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\&quot; xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; Destination=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot; ID=\\&quot;id130347804157883831058335572\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2p:Status&gt;&lt;saml2p:StatusCode Value=\\&quot;urn:oasis:names:tc:SAML:2.0:status:Success\\&quot;&gt;&lt;/saml2p:StatusCode&gt;&lt;/saml2p:Status&gt;&lt;saml2:Assertion xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; ID=\\&quot;id1303478041593882583231621\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2:Subject&gt;&lt;saml2:NameID Format=\\&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\\&quot;&gt;matt@revnatech.com&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=\\&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer\\&quot;&gt;&lt;saml2:SubjectConfirmationData NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot; Recipient=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions NotBefore=\\&quot;2023-01-20T19:34:44.049Z\\&quot; NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot;&gt;&lt;saml2:AudienceRestriction&gt;&lt;saml2:Audience&gt;http://10.100.1.123:8080/identityiq/&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AuthnStatement AuthnInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; SessionIndex=\\&quot;id1674243584047.1963093145\\&quot;&gt;&lt;saml2:AuthnContext&gt;&lt;saml2:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml2:AuthnContextClassRef&gt;&lt;/saml2:AuthnContext&gt;&lt;/saml2:AuthnStatement&gt;&lt;saml2:AttributeStatement&gt;&lt;saml2:Attribute Name=\\&quot;email\\&quot; NameFormat=\\&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified\\&quot;&gt;&lt;saml2:AttributeValue xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:type=\\&quot;xs:string\\&quot;&gt;matt@revnatech.com&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;&lt;/saml2p:Response&gt;&quot;;\n        \n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        md.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\n        byte[] digest = md.digest();\n        \n        System.out.println(new String(Base64.getEncoder().encode(digest)));\n\n        String signature = &quot;laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==&quot;;\n        \n        try {\n            Signature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\n            sig.initVerify(publicKey);\n            sig.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\n            boolean result = sig.verify(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8)));\n            \n            System.out.println(&quot;Returning &quot; + result);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>My SAML Signature block is as follows:</p>\n<pre><code>&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n        &lt;ds:SignedInfo&gt;\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;\n            &lt;ds:Reference URI=&quot;#id130347804157883831058335572&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;xs&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;\n                &lt;ds:DigestValue&gt;\n                    1jaT9pnWmUCL0+atOcxHZ2yxhL5XOIhhHaK3Oz0gDWY=\n                &lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n        &lt;/ds:SignedInfo&gt;\n        &lt;ds:SignatureValue&gt;\n            laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==\n        &lt;/ds:SignatureValue&gt;\n        &lt;ds:KeyInfo&gt;\n            &lt;ds:X509Data&gt;\n                &lt;ds:X509Certificate&gt;\n                    MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==\n                &lt;/ds:X509Certificate&gt;\n            &lt;/ds:X509Data&gt;\n        &lt;/ds:KeyInfo&gt;\n    &lt;/ds:Signature&gt;\n</code></pre>\n<p>I have tried decrypting the SignatureValue with the PublicKey to retrieve what's in the DigestValue, but the value I retrieved when doing that didn't match up.  This is what I tried when attempting that:</p>\n<pre><code>Cipher c = Cipher.getInstance(&quot;RSA&quot;);\nc.init(Cipher.DECRYPT_MODE, publicKey);     \nSystem.out.println(new String(Base64.getEncoder().encode(c.doFinal(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8))))));\n</code></pre>\n"},{"tags":["java","jframe","resize","window-resize"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1674262646,"post_id":75190429,"comment_id":132684277,"body_markdown":"Make use of multiple/compound layout managers","body":"Make use of multiple/compound layout managers"},{"owner":{"account_id":27584545,"reputation":1,"user_id":21053038,"display_name":"Omair Salman"},"score":0,"creation_date":1674290126,"post_id":75190429,"comment_id":132686655,"body_markdown":"@MadProgrammer can you point me to a simple guide about layout managers? We didn&#39;t learn that in uni and I got really confused when looking it up myself &#128517;","body":"@MadProgrammer can you point me to a simple guide about layout managers? We didn&#39;t learn that in uni and I got really confused when looking it up myself 😅"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674291038,"post_id":75190429,"comment_id":132686734,"body_markdown":"[Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>"}],"owner":{"account_id":27584545,"reputation":1,"user_id":21053038,"display_name":"Omair Salman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674260986,"creation_date":1674260412,"question_id":75190429,"body_markdown":"I&#39;m learning java through university and I&#39;ve been taught the basics of making a java program and designing GUIs. Maximizing a window after running my program makes all the JFrame components stay in place while grey fills the rest of the space. Here&#39;s an example of how it looks like:\r\n\r\n[JFrame window normally][1], [Maximized window before &quot;fix&quot;][2].\r\n\r\nAfter failing to find a solution I came up with a band-aid solution which is to get the component locations and just move them with hard-coded values when the jframe is maximized. This was not an elegant solution and every jframe in my java course project increased in the number of elements on screen. Is there any piece of code to make my components move and resize automatically and dynamically?\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\nFirst I obtained the positions of components through 2D points:\r\n```\r\nPoint managementLoginBtnLocation, empLogLocation, logoLocation, customerBtnLocation, welcomeLblLocation, contactBtnLocation, aboutBtnLocation, mainMenuBtnLocation;\r\n//Constructor and rest of code...\r\npublic final void getOriginalComponentLocations()\r\n    {\r\n        managementLoginBtnLocation = managementLoginBtn.getLocation();\r\n        empLogLocation = empLoginBtn.getLocation();\r\n        logoLocation = shopLogo.getLocation();\r\n        customerBtnLocation = customerBtn.getLocation();\r\n        welcomeLblLocation = welcomeLbl.getLocation();\r\n        contactBtnLocation = contactBtn.getLocation();\r\n        aboutBtnLocation = aboutBtn.getLocation();\r\n        mainMenuBtnLocation = mainMenuBtn.getLocation();\r\n    }\r\n//This method is called within the constructor.\r\n```\r\nI implemented the ComponentListener Interface and added a component listener to my jframe. Then I made it so when the jframe&#39;s size changes, it changes the size of the jlabel used for background art. And if the label&#39;s width is greater than 800 (the default I used while designing) it moves the components and doubles their size and font size. When the jframe is minimized the label will go back to the default size so I made a method to revert the font sizes, because I found the component sizes and locations reset automatically.\r\n\r\n```\r\npublic void componentResized(ComponentEvent e)\r\n    {\r\n//Resizing the background label and setting its icon to a resized version of its current icon.\r\n        backgroundMainArt.setSize(this.getWidth() - 16, this.getHeight() - 21);\r\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Main menu\\\\main menu background art.jpg&quot;);\r\n        Image img = icon.getImage();\r\n        Image newImage = img.getScaledInstance(backgroundMainArt.getWidth(), backgroundMainArt.getHeight(), Image.SCALE_FAST);\r\n        icon = new ImageIcon(newImage);\r\n        backgroundMainArt.setIcon(icon);\r\n        if(backgroundMainArt.getWidth() &gt; 800) //When the size of the label is greater than default\r\n        {\r\n//I move the components, enlarge the buttons and zoom the font size\r\n            moveComponents();\r\n            enlargeBtns();\r\n            zoomBtnsFontSize();\r\n        }\r\n        else //When the label is back to its original size\r\n        {\r\n//I revert the font sizes as button sizes and positions reset automatically\r\n            revertBtnsFontSize();\r\n            setLogoIconAndBackgroundArtAndWelcomeLbl();\r\n        }\r\n    }\r\npublic void moveComponents()\r\n    {\r\n        moveLogo();\r\n        moveManagementLoginBtn();\r\n        moveEmployeeLoginBtn();\r\n        moveCustomerBtn();\r\n        moveWelcomeLbl();\r\n        moveContactInfoBtn();\r\n        moveAboutBtn();\r\n        moveMainMenuBtn();\r\n    }\r\n    public void moveLogo()\r\n    {\r\n        ImageIcon logoIcon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Shared resources\\\\OMO Clothing Store logo.png&quot;);\r\n        Image logoImg = logoIcon.getImage();\r\n        Image newLogoImage = logoImg.getScaledInstance(250, 250, Image.SCALE_DEFAULT);\r\n        logoIcon = new ImageIcon(newLogoImage);\r\n        shopLogo.setIcon(logoIcon);\r\n        Point newLogoLocation = new Point();\r\n        newLogoLocation.x = (logoLocation.x * 2) + 200;\r\n        newLogoLocation.y = (logoLocation.y * 2) + 30;\r\n        shopLogo.setLocation(newLogoLocation);\r\n    }\r\n//The rest of the &quot;moveX&quot; methods follow the same pattern as moveLogo()\r\npublic void enlargeBtns()\r\n    {\r\n        managementLoginBtn.setSize(410, 94);\r\n        empLoginBtn.setSize(410, 94);\r\n        customerBtn.setSize(410, 94);\r\n    }\r\n    public void zoomBtnsFontSize()\r\n    {\r\n        customerBtn.setFont(sizeBtn.getFont());\r\n//sizeBtn is a JButton that has a font size of 24. I found that just creating a new Font object with bigger size here made the font way larger for some reason.\r\n        empLoginBtn.setFont(sizeBtn.getFont());\r\n        managementLoginBtn.setFont(sizeBtn.getFont());\r\n    }\r\n    public void revertBtnsFontSize()\r\n    {\r\n        empLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\r\n        managementLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\r\n        customerBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\r\n    }\r\n```\r\nI split the moving of the components into many methods inside other methods because I found it easier to keep up with.\r\nThis worked. Here&#39;s how it looks like when running the JFrame: [Maximized window after &quot;fix&quot;][3]. But moving on to other JFrames, they are more intricate and have many more components - extra buttons, panels with other components in them, menu bars, etc.\r\nIs there a better approach to fixing this? Or do I just remove the ability to resize and move on?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f22Cz.png\r\n  [2]: https://i.stack.imgur.com/EXlcA.png\r\n  [3]: https://i.stack.imgur.com/OXINI.png","title":"How to make my JFrame components dynamically scale when resizing the window, without hard-coding position and size values?","body":"<p>I'm learning java through university and I've been taught the basics of making a java program and designing GUIs. Maximizing a window after running my program makes all the JFrame components stay in place while grey fills the rest of the space. Here's an example of how it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/f22Cz.png\" rel=\"nofollow noreferrer\">JFrame window normally</a>, <a href=\"https://i.stack.imgur.com/EXlcA.png\" rel=\"nofollow noreferrer\">Maximized window before &quot;fix&quot;</a>.</p>\n<p>After failing to find a solution I came up with a band-aid solution which is to get the component locations and just move them with hard-coded values when the jframe is maximized. This was not an elegant solution and every jframe in my java course project increased in the number of elements on screen. Is there any piece of code to make my components move and resize automatically and dynamically?</p>\n<p>Here's what I've tried so far:</p>\n<p>First I obtained the positions of components through 2D points:</p>\n<pre><code>Point managementLoginBtnLocation, empLogLocation, logoLocation, customerBtnLocation, welcomeLblLocation, contactBtnLocation, aboutBtnLocation, mainMenuBtnLocation;\n//Constructor and rest of code...\npublic final void getOriginalComponentLocations()\n    {\n        managementLoginBtnLocation = managementLoginBtn.getLocation();\n        empLogLocation = empLoginBtn.getLocation();\n        logoLocation = shopLogo.getLocation();\n        customerBtnLocation = customerBtn.getLocation();\n        welcomeLblLocation = welcomeLbl.getLocation();\n        contactBtnLocation = contactBtn.getLocation();\n        aboutBtnLocation = aboutBtn.getLocation();\n        mainMenuBtnLocation = mainMenuBtn.getLocation();\n    }\n//This method is called within the constructor.\n</code></pre>\n<p>I implemented the ComponentListener Interface and added a component listener to my jframe. Then I made it so when the jframe's size changes, it changes the size of the jlabel used for background art. And if the label's width is greater than 800 (the default I used while designing) it moves the components and doubles their size and font size. When the jframe is minimized the label will go back to the default size so I made a method to revert the font sizes, because I found the component sizes and locations reset automatically.</p>\n<pre><code>public void componentResized(ComponentEvent e)\n    {\n//Resizing the background label and setting its icon to a resized version of its current icon.\n        backgroundMainArt.setSize(this.getWidth() - 16, this.getHeight() - 21);\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Main menu\\\\main menu background art.jpg&quot;);\n        Image img = icon.getImage();\n        Image newImage = img.getScaledInstance(backgroundMainArt.getWidth(), backgroundMainArt.getHeight(), Image.SCALE_FAST);\n        icon = new ImageIcon(newImage);\n        backgroundMainArt.setIcon(icon);\n        if(backgroundMainArt.getWidth() &gt; 800) //When the size of the label is greater than default\n        {\n//I move the components, enlarge the buttons and zoom the font size\n            moveComponents();\n            enlargeBtns();\n            zoomBtnsFontSize();\n        }\n        else //When the label is back to its original size\n        {\n//I revert the font sizes as button sizes and positions reset automatically\n            revertBtnsFontSize();\n            setLogoIconAndBackgroundArtAndWelcomeLbl();\n        }\n    }\npublic void moveComponents()\n    {\n        moveLogo();\n        moveManagementLoginBtn();\n        moveEmployeeLoginBtn();\n        moveCustomerBtn();\n        moveWelcomeLbl();\n        moveContactInfoBtn();\n        moveAboutBtn();\n        moveMainMenuBtn();\n    }\n    public void moveLogo()\n    {\n        ImageIcon logoIcon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Shared resources\\\\OMO Clothing Store logo.png&quot;);\n        Image logoImg = logoIcon.getImage();\n        Image newLogoImage = logoImg.getScaledInstance(250, 250, Image.SCALE_DEFAULT);\n        logoIcon = new ImageIcon(newLogoImage);\n        shopLogo.setIcon(logoIcon);\n        Point newLogoLocation = new Point();\n        newLogoLocation.x = (logoLocation.x * 2) + 200;\n        newLogoLocation.y = (logoLocation.y * 2) + 30;\n        shopLogo.setLocation(newLogoLocation);\n    }\n//The rest of the &quot;moveX&quot; methods follow the same pattern as moveLogo()\npublic void enlargeBtns()\n    {\n        managementLoginBtn.setSize(410, 94);\n        empLoginBtn.setSize(410, 94);\n        customerBtn.setSize(410, 94);\n    }\n    public void zoomBtnsFontSize()\n    {\n        customerBtn.setFont(sizeBtn.getFont());\n//sizeBtn is a JButton that has a font size of 24. I found that just creating a new Font object with bigger size here made the font way larger for some reason.\n        empLoginBtn.setFont(sizeBtn.getFont());\n        managementLoginBtn.setFont(sizeBtn.getFont());\n    }\n    public void revertBtnsFontSize()\n    {\n        empLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\n        managementLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\n        customerBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\n    }\n</code></pre>\n<p>I split the moving of the components into many methods inside other methods because I found it easier to keep up with.\nThis worked. Here's how it looks like when running the JFrame: <a href=\"https://i.stack.imgur.com/OXINI.png\" rel=\"nofollow noreferrer\">Maximized window after &quot;fix&quot;</a>. But moving on to other JFrames, they are more intricate and have many more components - extra buttons, panels with other components in them, menu bars, etc.\nIs there a better approach to fixing this? Or do I just remove the ability to resize and move on?</p>\n"},{"tags":["java","spring","audio","video","duration"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1561432963,"creation_date":1561432963,"answer_id":56746410,"question_id":56722242,"body_markdown":"It will depend on the particular video container (e.g. mp4) and also possibly the framework you are using, but you can use ffprobe, part of ffmpeg, to get the information.\r\n\r\nThere are several ffmpeg wrappers for Java - at the time of writing this is a popular one: https://github.com/bramp/ffmpeg-cli-wrapper\r\n\r\n\r\nGetting media file information using this, from the example at the link above, looks like:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    FFprobe ffprobe = new FFprobe(&quot;/path/to/ffprobe&quot;);\r\n    FFmpegProbeResult probeResult = ffprobe.probe(&quot;input.mp4&quot;);\r\n\r\n    FFmpegFormat format = probeResult.getFormat();\r\n    System.out.format(&quot;%nFile: &#39;%s&#39; ; Format: &#39;%s&#39; ; Duration: %.3fs&quot;, \r\n    \tformat.filename, \r\n    \tformat.format_long_name,\r\n    \tformat.duration\r\n    );\r\n\r\n    FFmpegStream stream = probeResult.getStreams().get(0);\r\n    System.out.format(&quot;%nCodec: &#39;%s&#39; ; Width: %dpx ; Height: %dpx&quot;,\r\n    \tstream.codec_long_name,\r\n    \tstream.width,\r\n    \tstream.height\r\n    );\r\n\r\n\r\n","title":"How do I get video/audio info such as duration, width, and height?","body":"<p>It will depend on the particular video container (e.g. mp4) and also possibly the framework you are using, but you can use ffprobe, part of ffmpeg, to get the information.</p>\n\n<p>There are several ffmpeg wrappers for Java - at the time of writing this is a popular one: <a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">https://github.com/bramp/ffmpeg-cli-wrapper</a></p>\n\n<p>Getting media file information using this, from the example at the link above, looks like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>FFprobe ffprobe = new FFprobe(\"/path/to/ffprobe\");\nFFmpegProbeResult probeResult = ffprobe.probe(\"input.mp4\");\n\nFFmpegFormat format = probeResult.getFormat();\nSystem.out.format(\"%nFile: '%s' ; Format: '%s' ; Duration: %.3fs\", \n    format.filename, \n    format.format_long_name,\n    format.duration\n);\n\nFFmpegStream stream = probeResult.getStreams().get(0);\nSystem.out.format(\"%nCodec: '%s' ; Width: %dpx ; Height: %dpx\",\n    stream.codec_long_name,\n    stream.width,\n    stream.height\n);\n</code></pre>\n"}],"owner":{"account_id":11271382,"reputation":178,"user_id":8266730,"display_name":"Polla Toube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3221,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56746410,"answer_count":1,"score":3,"last_activity_date":1674260935,"creation_date":1561278591,"question_id":56722242,"body_markdown":"I need to get video/audio file information like duration, width, and height after upload from `RestController`.","title":"How do I get video/audio info such as duration, width, and height?","body":"<p>I need to get video/audio file information like duration, width, and height after upload from <code>RestController</code>.</p>\n"},{"tags":["java","mysql","spring-boot","many-to-many"],"comments":[{"owner":{"account_id":7598435,"reputation":409,"user_id":5763896,"display_name":"Theo Stefou"},"score":0,"creation_date":1674260996,"post_id":75190359,"comment_id":132684124,"body_markdown":"adding a one to many field in the  org_permissions entity class for each join might be what you are looking for (at least from what I can tell from your example query). Also, you can always try running native queries!","body":"adding a one to many field in the  org_permissions entity class for each join might be what you are looking for (at least from what I can tell from your example query). Also, you can always try running native queries!"},{"owner":{"account_id":17887339,"reputation":21,"user_id":12994704,"display_name":"Antonio Pisanello"},"score":0,"creation_date":1674261503,"post_id":75190359,"comment_id":132684180,"body_markdown":"Thanks for your reply, I add the @OneToMany in my org_permission entity class, but how to make my Organization class link with the OrganizationPermission class without having a whole Object User or OrganizatioAbility ? I just want to store a Map=id_user-&gt;List&lt;Pair&lt;&gt;&gt;. Maybe is not possible or I miss understood how JPA works","body":"Thanks for your reply, I add the @OneToMany in my org_permission entity class, but how to make my Organization class link with the OrganizationPermission class without having a whole Object User or OrganizatioAbility ? I just want to store a Map=id_user-&gt;List&lt;Pair&lt;&gt;&gt;. Maybe is not possible or I miss understood how JPA works"}],"owner":{"account_id":17887339,"reputation":21,"user_id":12994704,"display_name":"Antonio Pisanello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674260496,"creation_date":1674259369,"question_id":75190359,"body_markdown":"I&#39;m new to Java Springboot and I want to join multiple tables.\r\n\r\nI have this MySQL schema :\r\n```mysql\r\nCREATE TABLE `users`\r\n(\r\n    `id`                 int              NOT NULL AUTO_INCREMENT,\r\n    `email`              varchar(128)     NOT NULL,\r\n    `nickname`           varchar(128)     NOT NULL,\r\n    `password`           varchar(256)     NOT NULL,CURRENT_TIMESTAMP,\r\n    PRIMARY KEY (`id`),\r\n    UNIQUE KEY `email` (`email`),\r\n    UNIQUE KEY `nickname` (`nickname`)\r\n);\r\n\r\nCREATE TABLE `organizations` (\r\n    `id` int(11) NOT NULL AUTO_INCREMENT,\r\n    `name` varchar(128) NOT NULL,\r\n\r\n    PRIMARY KEY (`id`)\r\n);\r\n\r\nCREATE TABLE `org_abilities`\r\n(\r\n    `id`          int          NOT NULL AUTO_INCREMENT,\r\n    `key`         varchar(128) NOT NULL,\r\n    `description` varchar(128) DEFAULT NULL,\r\n    PRIMARY KEY (`id`),\r\n    UNIQUE KEY `idx_key` (`key`) USING BTREE\r\n);\r\n\r\nCREATE TABLE `org_permissions`\r\n(\r\n    `id`              int NOT NULL AUTO_INCREMENT,\r\n    `id_user`         int NOT NULL,\r\n    `id_organization` int NOT NULL,\r\n    `id_ability`      int NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    KEY `id_organization` (`id_organization`),\r\n    KEY `id_user` (`id_user`),\r\n    KEY `users_permissions_ibfk_2` (`id_ability`),\r\n    CONSTRAINT `org_permissions_ibfk_0` FOREIGN KEY (`id_organization`) REFERENCES `organizations` (`id`),\r\n    CONSTRAINT `org_permissions_ibfk_1` FOREIGN KEY (`id_user`) REFERENCES `users` (`id`),\r\n    CONSTRAINT `org_permissions_ibfk_2` FOREIGN KEY (`id_ability`) REFERENCES `org_abilities` (`id`)\r\n);\r\n\r\n```\r\n\r\nWhere my table org_permissions represent all abilities that a user has within an organization.\r\n\r\nI have created the corresponding Java classes. I have a JPA to fetch the datas from the DB to the classes. \r\n\r\nI want in my `Organization` class to have a field `Map&lt;long, List&lt;Pair&lt;long, String&gt;&gt;&gt; managers` which map an **id_user** to a list of tuple of abilities where the tuple is **(id_ability, org_ability.key)**. \r\n\r\n\r\nFinally I use DTO to send my response, and I want my response to look like that : \r\n```JSON\r\n{\r\n    id : _id_organization,\r\n    name : &quot;organisation name&quot;,\r\n    managers : {\r\n          id_user: [(id_ability, key), (id_ability, key)],\r\n          id_user:[(id_ability, key), (id_ability, key)]\r\n      }\r\n}\r\n```\r\n\r\n**For example:**\r\n```mysql\r\nSELECT op.*, oa.* FROM org_permissions as op\r\nJOIN org_abilities oa on oa.id = op.id_ability\r\nJOIN organizations o on o.id = op.id_organization\r\nJOIN users u on u.id = op.id_user;\r\n```\r\n\r\n[![MySQL query result][1]][1]\r\n\r\nHere, user with id *1* is member of organization **1** and **2**. for organization **1** user *1* has the `CREATE_EVENTS` and `DELETE_EVENTS` abilities and for organization **2** he only have the `DELETE_EVENTS` ability. \r\n\r\nWhen getting all the organization I want this result :\r\n\r\n```JSON\r\n[{\r\n    id : 1,\r\n    name : &quot;Org1&quot;,\r\n    managers : {\r\n      1: [(1, &quot;CREATE_EVENT&quot;), (2,&quot;CREATE_EVENT&quot;)]\r\n    }\r\n},\r\n{\r\n    id : 2,\r\n    name : &quot;Org2&quot;,\r\n    managers : {\r\n      1: [(2,&quot;CREATE_EVENT&quot;)]\r\n    }\r\n}]\r\n```\r\n\r\nThanks for your help, I&#39;m a bit lost with the High level of springboot and JPA\r\n\r\nP.S.: I tried to ask to chat GPT but nothing was concluent \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eL4G4.png","title":"Java Springboot JPA joining multiple tables","body":"<p>I'm new to Java Springboot and I want to join multiple tables.</p>\n<p>I have this MySQL schema :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `users`\n(\n    `id`                 int              NOT NULL AUTO_INCREMENT,\n    `email`              varchar(128)     NOT NULL,\n    `nickname`           varchar(128)     NOT NULL,\n    `password`           varchar(256)     NOT NULL,CURRENT_TIMESTAMP,\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `email` (`email`),\n    UNIQUE KEY `nickname` (`nickname`)\n);\n\nCREATE TABLE `organizations` (\n    `id` int(11) NOT NULL AUTO_INCREMENT,\n    `name` varchar(128) NOT NULL,\n\n    PRIMARY KEY (`id`)\n);\n\nCREATE TABLE `org_abilities`\n(\n    `id`          int          NOT NULL AUTO_INCREMENT,\n    `key`         varchar(128) NOT NULL,\n    `description` varchar(128) DEFAULT NULL,\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `idx_key` (`key`) USING BTREE\n);\n\nCREATE TABLE `org_permissions`\n(\n    `id`              int NOT NULL AUTO_INCREMENT,\n    `id_user`         int NOT NULL,\n    `id_organization` int NOT NULL,\n    `id_ability`      int NOT NULL,\n    PRIMARY KEY (`id`),\n    KEY `id_organization` (`id_organization`),\n    KEY `id_user` (`id_user`),\n    KEY `users_permissions_ibfk_2` (`id_ability`),\n    CONSTRAINT `org_permissions_ibfk_0` FOREIGN KEY (`id_organization`) REFERENCES `organizations` (`id`),\n    CONSTRAINT `org_permissions_ibfk_1` FOREIGN KEY (`id_user`) REFERENCES `users` (`id`),\n    CONSTRAINT `org_permissions_ibfk_2` FOREIGN KEY (`id_ability`) REFERENCES `org_abilities` (`id`)\n);\n\n</code></pre>\n<p>Where my table org_permissions represent all abilities that a user has within an organization.</p>\n<p>I have created the corresponding Java classes. I have a JPA to fetch the datas from the DB to the classes.</p>\n<p>I want in my <code>Organization</code> class to have a field <code>Map&lt;long, List&lt;Pair&lt;long, String&gt;&gt;&gt; managers</code> which map an <strong>id_user</strong> to a list of tuple of abilities where the tuple is <strong>(id_ability, org_ability.key)</strong>.</p>\n<p>Finally I use DTO to send my response, and I want my response to look like that :</p>\n<pre><code>{\n    id : _id_organization,\n    name : &quot;organisation name&quot;,\n    managers : {\n          id_user: [(id_ability, key), (id_ability, key)],\n          id_user:[(id_ability, key), (id_ability, key)]\n      }\n}\n</code></pre>\n<p><strong>For example:</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT op.*, oa.* FROM org_permissions as op\nJOIN org_abilities oa on oa.id = op.id_ability\nJOIN organizations o on o.id = op.id_organization\nJOIN users u on u.id = op.id_user;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eL4G4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eL4G4.png\" alt=\"MySQL query result\" /></a></p>\n<p>Here, user with id <em>1</em> is member of organization <strong>1</strong> and <strong>2</strong>. for organization <strong>1</strong> user <em>1</em> has the <code>CREATE_EVENTS</code> and <code>DELETE_EVENTS</code> abilities and for organization <strong>2</strong> he only have the <code>DELETE_EVENTS</code> ability.</p>\n<p>When getting all the organization I want this result :</p>\n<pre><code>[{\n    id : 1,\n    name : &quot;Org1&quot;,\n    managers : {\n      1: [(1, &quot;CREATE_EVENT&quot;), (2,&quot;CREATE_EVENT&quot;)]\n    }\n},\n{\n    id : 2,\n    name : &quot;Org2&quot;,\n    managers : {\n      1: [(2,&quot;CREATE_EVENT&quot;)]\n    }\n}]\n</code></pre>\n<p>Thanks for your help, I'm a bit lost with the High level of springboot and JPA</p>\n<p>P.S.: I tried to ask to chat GPT but nothing was concluent</p>\n"},{"tags":["java","eclipse","web-services","wsdl"],"comments":[{"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"score":0,"creation_date":1458483341,"post_id":36114659,"comment_id":59870261,"body_markdown":"path of document?.. file extension?...","body":"path of document?.. file extension?..."},{"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"score":0,"creation_date":1458483364,"post_id":36114659,"comment_id":59870272,"body_markdown":"Fail.  Fail what?  Is there a stacktrace?  Also, what&#39;s your version of Eclipse?  Version of Java?  OS (Windows/Linux)?","body":"Fail.  Fail what?  Is there a stacktrace?  Also, what&#39;s your version of Eclipse?  Version of Java?  OS (Windows/Linux)?"},{"owner":{"account_id":5623129,"reputation":139,"user_id":4452305,"accept_rate":43,"display_name":"Esam eldean"},"score":0,"creation_date":1458483919,"post_id":36114659,"comment_id":59870428,"body_markdown":"@Pawanmishra  if u can see the image i attached when i click on browse not give me any path or root path to browse for my wsdl file this is my problem","body":"@Pawanmishra  if u can see the image i attached when i click on browse not give me any path or root path to browse for my wsdl file this is my problem"},{"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"score":0,"creation_date":1458484425,"post_id":36114659,"comment_id":59870599,"body_markdown":"save wsdl file within your project folder and refresh project and then try to browse wsdl file...","body":"save wsdl file within your project folder and refresh project and then try to browse wsdl file..."}],"answers":[{"comments":[{"owner":{"account_id":5623129,"reputation":139,"user_id":4452305,"accept_rate":43,"display_name":"Esam eldean"},"score":0,"creation_date":1458484611,"post_id":36114950,"comment_id":59870673,"body_markdown":"when i click on the browse button,it open on project reside in downloads folder !!! i can&#39;t change to make it browse my project root this is my big problem !!","body":"when i click on the browse button,it open on project reside in downloads folder !!! i can&#39;t change to make it browse my project root this is my big problem !!"}],"tags":[],"owner":{"account_id":3380407,"reputation":142,"user_id":2837547,"display_name":"Mahesh Kumar Chopker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458484097,"creation_date":1458484097,"answer_id":36114950,"question_id":36114659,"body_markdown":"Please look at following post where an example was provided with detailed steps on creating a WSDL client from a given WSDL file:\r\n[WSDL Client from WSDL file][1]\r\n\r\n\r\n  [1]: http://myblogmchopker.blogspot.in/2013/09/generating-web-service-java-client-from.html","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>Please look at following post where an example was provided with detailed steps on creating a WSDL client from a given WSDL file:\n<a href=\"http://myblogmchopker.blogspot.in/2013/09/generating-web-service-java-client-from.html\" rel=\"nofollow\">WSDL Client from WSDL file</a></p>\n"},{"tags":[],"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458484374,"creation_date":1458484374,"answer_id":36115010,"question_id":36114659,"body_markdown":"In Windows, check the file permissions on the WSDL file : Also, confirm whether you run Eclipse as an Administrator or not.  For me, I NEED to run Eclipse as an Administrator to have certain Eclipse .metadata work in Windows 7.\r\n\r\nSo in Windows : \r\n\r\n- Right-click the WSDL file.\r\n- Select Properties\r\n- Security Tab \r\n- Locate Authenticated Users.\r\n- Click Edit\r\n- Set the Full Control check box.\r\n- In Eclipse, try again.\r\n","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>In Windows, check the file permissions on the WSDL file : Also, confirm whether you run Eclipse as an Administrator or not.  For me, I NEED to run Eclipse as an Administrator to have certain Eclipse .metadata work in Windows 7.</p>\n\n<p>So in Windows : </p>\n\n<ul>\n<li>Right-click the WSDL file.</li>\n<li>Select Properties</li>\n<li>Security Tab </li>\n<li>Locate Authenticated Users.</li>\n<li>Click Edit</li>\n<li>Set the Full Control check box.</li>\n<li>In Eclipse, try again.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617949441,"creation_date":1617949441,"answer_id":67016075,"question_id":36114659,"body_markdown":"Notice that you can also supply an URI pointing to a file located in your local machine without importing the file into an Eclipse project.\r\n\r\nThe Browse button doesn&#39;t allow you to navigate your local file system but you can type the URI directly in the input box.\r\n\r\nI have a WSDL file located in &lt;br&gt;\r\n\r\n    D:/stackoverflow/sayhello.wsdl \r\n\r\nIntroducing the URI\r\n\r\n    file:///D:\\stackoverflow\\sayhello.wsdl\r\n\r\nClicking the OK button, the wizard allow me to create the web service client.\r\n\r\n[![Supplying a local URI][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KpNZ8.png","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>Notice that you can also supply an URI pointing to a file located in your local machine without importing the file into an Eclipse project.</p>\n<p>The Browse button doesn't allow you to navigate your local file system but you can type the URI directly in the input box.</p>\n<p>I have a WSDL file located in <br></p>\n<pre><code>D:/stackoverflow/sayhello.wsdl \n</code></pre>\n<p>Introducing the URI</p>\n<pre><code>file:///D:\\stackoverflow\\sayhello.wsdl\n</code></pre>\n<p>Clicking the OK button, the wizard allow me to create the web service client.</p>\n<p><a href=\"https://i.stack.imgur.com/KpNZ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KpNZ8.png\" alt=\"Supplying a local URI\" /></a></p>\n"}],"owner":{"account_id":5623129,"reputation":139,"user_id":4452305,"accept_rate":43,"display_name":"Esam eldean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7849,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1674259821,"creation_date":1458482264,"question_id":36114659,"body_markdown":"I am trying to create a Eclipse Web Service Client using an existing WSDL document located on my machine. I need to browse for the wsdl document from my\r\nmachine\r\n\r\nI am using Eclipse Luna version 4.1 with jdk 7 on Windows 7 OS\r\n\r\nWhen I click the Browse button, I obtain this ![image][1] \r\n\r\nCan any one tell me how can I select the wsdl file?\r\n\r\n[Solution] When I put my wsdl document into my project root and refreshed the project inside Eclipse, the project appeared when I clicked on browse then I can select the wsdl document \r\n \r\n  ![now I can browse the wsdl document][2]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gsgvk.png\r\n  [2]: http://i.stack.imgur.com/NtbyH.png","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>I am trying to create a Eclipse Web Service Client using an existing WSDL document located on my machine. I need to browse for the wsdl document from my\nmachine</p>\n<p>I am using Eclipse Luna version 4.1 with jdk 7 on Windows 7 OS</p>\n<p>When I click the Browse button, I obtain this <img src=\"https://i.stack.imgur.com/gsgvk.png\" alt=\"image\" /></p>\n<p>Can any one tell me how can I select the wsdl file?</p>\n<p>[Solution] When I put my wsdl document into my project root and refreshed the project inside Eclipse, the project appeared when I clicked on browse then I can select the wsdl document</p>\n<p><img src=\"https://i.stack.imgur.com/NtbyH.png\" alt=\"now I can browse the wsdl document\" /></p>\n"},{"tags":["java","matrix","multidimensional-array","diagonal"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674256440,"post_id":75190129,"comment_id":132683550,"body_markdown":"Learn how to debug the code. Then you can step through the single statements and see what it does.","body":"Learn how to debug the code. Then you can step through the single statements and see what it does."}],"answers":[{"comments":[{"owner":{"account_id":25265587,"reputation":3,"user_id":19095823,"display_name":"Yousef Negmeldin"},"score":0,"creation_date":1674299899,"post_id":75190376,"comment_id":132687884,"body_markdown":"Thank you so much for your response, sometimes you just need to take a break and come back to the problem later, and thats exactly what i did. with the aid of your response i finally understood the problem.","body":"Thank you so much for your response, sometimes you just need to take a break and come back to the problem later, and thats exactly what i did. with the aid of your response i finally understood the problem."}],"tags":[],"owner":{"account_id":17613416,"reputation":281,"user_id":12780992,"display_name":"loic .B"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674259674,"creation_date":1674259674,"answer_id":75190376,"question_id":75190129,"body_markdown":"The inner for loop takes the input array, traverse it in diagonnal and store each diagonal element in the new array.\r\n\r\n`i` is the current row of new array,\r\n`j` is used for traversing the input array and finds anti diagonnal element,\r\n`r` is the index of current column in the new array\r\n\r\n`j`start at `i` and decrement at each iteration while `r` increment, this makes the loop traverse the input array diagonnaly : from last row / first column to first row / last column\r\n\r\nThe `if` statement check that the indices used to access the input array are within the bounds of the array, if it is in the bounds it assign the corresponding values of input array in the new array\r\n\r\nYou can try with an example and debug your code by stoping at each steps to follow and better understand the process. ","title":"finding Anti Diagonal of 2D array","body":"<p>The inner for loop takes the input array, traverse it in diagonnal and store each diagonal element in the new array.</p>\n<p><code>i</code> is the current row of new array,\n<code>j</code> is used for traversing the input array and finds anti diagonnal element,\n<code>r</code> is the index of current column in the new array</p>\n<p><code>j</code>start at <code>i</code> and decrement at each iteration while <code>r</code> increment, this makes the loop traverse the input array diagonnaly : from last row / first column to first row / last column</p>\n<p>The <code>if</code> statement check that the indices used to access the input array are within the bounds of the array, if it is in the bounds it assign the corresponding values of input array in the new array</p>\n<p>You can try with an example and debug your code by stoping at each steps to follow and better understand the process.</p>\n"}],"owner":{"account_id":25265587,"reputation":3,"user_id":19095823,"display_name":"Yousef Negmeldin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190376,"answer_count":1,"score":0,"last_activity_date":1674259674,"creation_date":1674256245,"question_id":75190129,"body_markdown":"this is the code to print the anti diagonal of a 2d array, if given the array\r\n                 \r\n `{{1,2,3},                                                                                            \r\n   {4,5,6},                                                                                      \r\n   {7,8,9}}`\r\n\r\nit should return\r\n\r\n    `{\r\n    {1},\r\n    {2,4},\r\n    {3,5,7},\r\n    {6,8},\r\n    {9}\r\n    }`\r\n    \r\n\r\nthis is the code:\r\n\r\n\r\n\r\n    public static int[][] antiDiagonal(int [][]x){\r\n\tint[][]res = new int[2*x.length-1][];\r\n\tint s = 0;\r\n\t\r\n\tfor( int i = 0 ; i &lt; res.length ; i++ ) {\r\n\t\tif(i&lt;= res.length/2)\r\n\t\t\ts = i+1;\r\n\t\telse\r\n\t\t\ts = s -1;\r\n\t\tres[i] = new int[s];\r\n\t\tfor( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\r\n\t\t\t\r\n\t\t\tif( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\r\n\t\t\t\tres[i][r] = x[i-j][j] ;\r\n\t\t\t\tr++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn res;\r\n\t}\r\n\r\n\r\n\r\nmy brain just can not process what the inner for loop does,\r\n\r\n    for( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\r\n\r\n        if( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\r\n            res[i][r] = x[i-j][j] ;\r\n            r++;\r\n        }\r\n    }\r\n \r\n\r\n\r\n\r\ni just need explanation of what the inner for loop achieves before my sanity detoriates and your response would be gladly appreciated.\r\n\r\nI can accomplish using an alternative solution with Arraylists but the sole purpose of the question was to use 2D arrays only. I have understood all parts of the code except the inner for loop.","title":"finding Anti Diagonal of 2D array","body":"<p>this is the code to print the anti diagonal of a 2d array, if given the array</p>\n<p><code>{{1,2,3},                                                                                             {4,5,6},                                                                                       {7,8,9}}</code></p>\n<p>it should return</p>\n<pre><code>`{\n{1},\n{2,4},\n{3,5,7},\n{6,8},\n{9}\n}`\n</code></pre>\n<p>this is the code:</p>\n<pre><code>public static int[][] antiDiagonal(int [][]x){\nint[][]res = new int[2*x.length-1][];\nint s = 0;\n\nfor( int i = 0 ; i &lt; res.length ; i++ ) {\n    if(i&lt;= res.length/2)\n        s = i+1;\n    else\n        s = s -1;\n    res[i] = new int[s];\n    for( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\n        \n        if( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\n            res[i][r] = x[i-j][j] ;\n            r++;\n        }\n    }\n}\n\nreturn res;\n}\n</code></pre>\n<p>my brain just can not process what the inner for loop does,</p>\n<pre><code>for( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\n\n    if( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\n        res[i][r] = x[i-j][j] ;\n        r++;\n    }\n}\n</code></pre>\n<p>i just need explanation of what the inner for loop achieves before my sanity detoriates and your response would be gladly appreciated.</p>\n<p>I can accomplish using an alternative solution with Arraylists but the sole purpose of the question was to use 2D arrays only. I have understood all parts of the code except the inner for loop.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674259384,"post_id":75190357,"comment_id":132683952,"body_markdown":"Posting speculative answers is discouraged. We should rather ask for clarification in the comments. --- Posting code-only answer is discouraged. We should rather explain the challenge(s), and how our solution tackles it (them).","body":"Posting speculative answers is discouraged. We should rather ask for clarification in the comments. --- Posting code-only answer is discouraged. We should rather explain the challenge(s), and how our solution tackles it (them)."}],"tags":[],"owner":{"account_id":12154457,"reputation":766,"user_id":8873770,"accept_rate":80,"display_name":"Jonxag"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674259324,"creation_date":1674259324,"answer_id":75190357,"question_id":75190321,"body_markdown":"Something like this?\r\n\r\n     public static double getAveragePrice() {\r\n            return (double) allPrice / allCount;\r\n        }\r\n        \r\n        public static double getAverageBasket() {\r\n            return (double) allPrice / basketCount;\r\n        }","title":"Creating a static average price method","body":"<p>Something like this?</p>\n<pre><code> public static double getAveragePrice() {\n        return (double) allPrice / allCount;\n    }\n    \n    public static double getAverageBasket() {\n        return (double) allPrice / basketCount;\n    }\n</code></pre>\n"}],"owner":{"account_id":22467439,"reputation":15,"user_id":16668372,"display_name":"flameprofi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190357,"answer_count":1,"score":0,"last_activity_date":1674259324,"creation_date":1674258825,"question_id":75190321,"body_markdown":"Good afternoon, I can&#39;t write a static method to calculate the average price\r\n\r\nImplement a static method to calculate the average price of goods in all baskets. It should calculate and return the ratio of the total cost of all baskets to the total number of all items.\r\nImplement the static method for calculating the average cost of a basket (the ratio of the total cost of all baskets to the number of baskets).\r\n\r\nI still have not been able to create static method data\r\n\r\n\r\n    public class Basket {\r\n    \r\n        private static int count = 0;\r\n        private String items = &quot;&quot;;\r\n        private int totalPrice = 0;\r\n        private double totalWeight = 0;\r\n        private int limit;\r\n    \r\n        public static int allprice = 0;\r\n        public static int allcount = 0;\r\n        public static int averagebasket = 0;\r\n    \r\n        public Basket() {\r\n            increaseCount(1);\r\n            items = &quot;Список товаров:&quot;;\r\n            this.limit = 1000000;\r\n        }\r\n    \r\n        public Basket(int limit) {\r\n            this();\r\n            this.limit = limit;\r\n        }\r\n    \r\n        public Basket(String items, int totalPrice) {\r\n            this();\r\n            this.items = this.items + items;\r\n            this.totalPrice = totalPrice;\r\n        }\r\n    \r\n        public static int getCount() {\r\n            return count;\r\n        }\r\n    \r\n        public static int getAllTovar() {\r\n            return allcount;\r\n        }\r\n    \r\n        public static int getAllPrice() {\r\n            return allprice;\r\n        }\r\n        public static int getAverageBasket() {\r\n            return averagebasket;\r\n        }\r\n    \r\n        public double getTotalWeight(){\r\n            return totalWeight;\r\n        }\r\n    \r\n        public static void increaseCount(int count) {\r\n            Basket.count = Basket.count + count;\r\n        }\r\n    \r\n        public static void increaseTovar(int count) {\r\n            Basket.allcount = Basket.allcount + count;\r\n        }\r\n    \r\n        public static void increasePrice(int totalPrice) {\r\n            Basket.allprice = Basket.allprice + totalPrice;\r\n        }\r\n    \r\n        public static void average() {\r\n            Basket.averagebasket = allprice / allcount;\r\n        }\r\n    \r\n        public void add(String name, int price, double weight) {\r\n            add(name, price, 1, weight);\r\n        }\r\n    \r\n        public void add(String name, int price, int count, double weight) {\r\n            boolean error = false;\r\n            if (contains(name)) {\r\n                error = true;\r\n            }\r\n    \r\n            if (totalPrice + count * price &gt;= limit) {\r\n                error = true;\r\n            }\r\n    \r\n            if (error) {\r\n                System.out.println(&quot;Error occured :(&quot;);\r\n                return;\r\n            }\r\n            increaseTovar(1);\r\n            items = items + &quot;\\n&quot; + name + &quot; - &quot; +\r\n                    count + &quot; шт. - &quot; + price + &quot; Вес - &quot; + totalWeight;\r\n            totalPrice = totalPrice + count * price;\r\n            totalWeight = totalWeight +  weight;\r\n            Basket.allprice += price * count;\r\n        }\r\n    \r\n        public void clear() {\r\n            items = &quot;&quot;;\r\n            totalPrice = 0;\r\n        }\r\n    \r\n        public int getTotalPrice() {\r\n            return totalPrice;\r\n        }\r\n    \r\n        public boolean contains(String name) {\r\n            return items.contains(name);\r\n        }\r\n    \r\n        public void print(String title) {\r\n            System.out.println(title);\r\n            if (items.isEmpty()) {\r\n                System.out.println(&quot;Корзина пуста&quot;);\r\n            } else {\r\n                System.out.println(items);\r\n            }\r\n        }\r\n    }\r\n    `\r\n    \r\n    `public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Basket basket = new Basket();\r\n            basket.add(&quot;Milk&quot;, 40, 305.4);\r\n            basket.print(&quot;Milk&quot;);\r\n            //System.out.println(Basket.getCount());\r\n            Basket vasya = new Basket();\r\n            basket.add(&quot;bread&quot;, 60, 555);\r\n            System.out.println(Basket.getAllTovar());\r\n            System.out.println((Basket.getAllPrice()));\r\n            System.out.println(Basket.getAverageBasket());\r\n        }\r\n    }","title":"Creating a static average price method","body":"<p>Good afternoon, I can't write a static method to calculate the average price</p>\n<p>Implement a static method to calculate the average price of goods in all baskets. It should calculate and return the ratio of the total cost of all baskets to the total number of all items.\nImplement the static method for calculating the average cost of a basket (the ratio of the total cost of all baskets to the number of baskets).</p>\n<p>I still have not been able to create static method data</p>\n<pre><code>public class Basket {\n\n    private static int count = 0;\n    private String items = &quot;&quot;;\n    private int totalPrice = 0;\n    private double totalWeight = 0;\n    private int limit;\n\n    public static int allprice = 0;\n    public static int allcount = 0;\n    public static int averagebasket = 0;\n\n    public Basket() {\n        increaseCount(1);\n        items = &quot;Список товаров:&quot;;\n        this.limit = 1000000;\n    }\n\n    public Basket(int limit) {\n        this();\n        this.limit = limit;\n    }\n\n    public Basket(String items, int totalPrice) {\n        this();\n        this.items = this.items + items;\n        this.totalPrice = totalPrice;\n    }\n\n    public static int getCount() {\n        return count;\n    }\n\n    public static int getAllTovar() {\n        return allcount;\n    }\n\n    public static int getAllPrice() {\n        return allprice;\n    }\n    public static int getAverageBasket() {\n        return averagebasket;\n    }\n\n    public double getTotalWeight(){\n        return totalWeight;\n    }\n\n    public static void increaseCount(int count) {\n        Basket.count = Basket.count + count;\n    }\n\n    public static void increaseTovar(int count) {\n        Basket.allcount = Basket.allcount + count;\n    }\n\n    public static void increasePrice(int totalPrice) {\n        Basket.allprice = Basket.allprice + totalPrice;\n    }\n\n    public static void average() {\n        Basket.averagebasket = allprice / allcount;\n    }\n\n    public void add(String name, int price, double weight) {\n        add(name, price, 1, weight);\n    }\n\n    public void add(String name, int price, int count, double weight) {\n        boolean error = false;\n        if (contains(name)) {\n            error = true;\n        }\n\n        if (totalPrice + count * price &gt;= limit) {\n            error = true;\n        }\n\n        if (error) {\n            System.out.println(&quot;Error occured :(&quot;);\n            return;\n        }\n        increaseTovar(1);\n        items = items + &quot;\\n&quot; + name + &quot; - &quot; +\n                count + &quot; шт. - &quot; + price + &quot; Вес - &quot; + totalWeight;\n        totalPrice = totalPrice + count * price;\n        totalWeight = totalWeight +  weight;\n        Basket.allprice += price * count;\n    }\n\n    public void clear() {\n        items = &quot;&quot;;\n        totalPrice = 0;\n    }\n\n    public int getTotalPrice() {\n        return totalPrice;\n    }\n\n    public boolean contains(String name) {\n        return items.contains(name);\n    }\n\n    public void print(String title) {\n        System.out.println(title);\n        if (items.isEmpty()) {\n            System.out.println(&quot;Корзина пуста&quot;);\n        } else {\n            System.out.println(items);\n        }\n    }\n}\n`\n\n`public class Main {\n\n    public static void main(String[] args) {\n        Basket basket = new Basket();\n        basket.add(&quot;Milk&quot;, 40, 305.4);\n        basket.print(&quot;Milk&quot;);\n        //System.out.println(Basket.getCount());\n        Basket vasya = new Basket();\n        basket.add(&quot;bread&quot;, 60, 555);\n        System.out.println(Basket.getAllTovar());\n        System.out.println((Basket.getAllPrice()));\n        System.out.println(Basket.getAverageBasket());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","numbers"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674298998,"post_id":75189113,"comment_id":132687725,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":27583730,"reputation":1,"user_id":21052379,"display_name":"Eduardo Avila"},"score":0,"creation_date":1674479733,"post_id":75190353,"comment_id":132716016,"body_markdown":"When I say I haven&#39;t found one I really mean not having found one, I&#39;ll take a look at that library thanks,\n\nI&#39;ll come back later to say if it helped me","body":"When I say I haven&#39;t found one I really mean not having found one, I&#39;ll take a look at that library thanks,  I&#39;ll come back later to say if it helped me"}],"tags":[],"owner":{"account_id":16395324,"reputation":188,"user_id":11843054,"display_name":"Thibault Capelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674259253,"creation_date":1674259253,"answer_id":75190353,"question_id":75189113,"body_markdown":"I don&#39;t know how you missed that but react-native-camera is deprecated since a long time for react-native-vision-camera which is really powerful. You can see in the doc that you can add frame processors to it.\r\n\r\n&quot;I didn&#39;t even find a library that does that&quot; =&gt; It would not be really a surprise to not find an open source library which combine a camera with image recognition for you.\r\n\r\nBut cause it is your lucky day someone developed the frame processors you searched for:\r\n https://github.com/aarongrider/vision-camera-ocr\r\n\r\nHave fun with it!","title":"ow can I assemble a camera that reads a sequence of numbers? with react-native","body":"<p>I don't know how you missed that but react-native-camera is deprecated since a long time for react-native-vision-camera which is really powerful. You can see in the doc that you can add frame processors to it.</p>\n<p>&quot;I didn't even find a library that does that&quot; =&gt; It would not be really a surprise to not find an open source library which combine a camera with image recognition for you.</p>\n<p>But cause it is your lucky day someone developed the frame processors you searched for:\n<a href=\"https://github.com/aarongrider/vision-camera-ocr\" rel=\"nofollow noreferrer\">https://github.com/aarongrider/vision-camera-ocr</a></p>\n<p>Have fun with it!</p>\n"}],"owner":{"account_id":27583730,"reputation":1,"user_id":21052379,"display_name":"Eduardo Avila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674259253,"creation_date":1674247098,"question_id":75189113,"body_markdown":"Is there any library that reads sequence of numbers for example on a paper has 123456789\r\n\r\nI want to get only the first 3 digits with the camera, I didn&#39;t even find a library that does that\r\n\r\nI tried to use react-native-camera with frame but I was not successful, I also tried to find java codes to put directly in react-native and call the function\r\n\r\nIf anyone knows where I can start, thanks.","title":"ow can I assemble a camera that reads a sequence of numbers? with react-native","body":"<p>Is there any library that reads sequence of numbers for example on a paper has 123456789</p>\n<p>I want to get only the first 3 digits with the camera, I didn't even find a library that does that</p>\n<p>I tried to use react-native-camera with frame but I was not successful, I also tried to find java codes to put directly in react-native and call the function</p>\n<p>If anyone knows where I can start, thanks.</p>\n"},{"tags":["java","jakarta-mail","bouncycastle","private-key","smime"],"answers":[{"comments":[{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1674318521,"post_id":75190350,"comment_id":132691129,"body_markdown":"Must I check both &#39;serial number&#39; and &#39;subject key identifier&#39; to match a certificate or is every value unique enough?","body":"Must I check both &#39;serial number&#39; and &#39;subject key identifier&#39; to match a certificate or is every value unique enough?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1674419286,"post_id":75190350,"comment_id":132705542,"body_markdown":"serial is only guaranteed unique within one CA, so you are _supposed_ to use issuer and serial together, or instead SKI which is a hash and normallly unique although rfc8551 warns it might not be. In practice nowadays, due to CABforum rules after &#39;hashclash&#39; and &#39;shattered&#39;, many (most?) CAs put enough entropy in serial you can probably get away with using it alone, although I prefer to follow and state the [official rules](https://www.rfc-editor.org/rfc/rfc5652#section-6.2.1)","body":"serial is only guaranteed unique within one CA, so you are <i>supposed</i> to use issuer and serial together, or instead SKI which is a hash and normallly unique although rfc8551 warns it might not be. In practice nowadays, due to CABforum rules after &#39;hashclash&#39; and &#39;shattered&#39;, many (most?) CAs put enough entropy in serial you can probably get away with using it alone, although I prefer to follow and state the <a href=\"https://www.rfc-editor.org/rfc/rfc5652#section-6.2.1\" rel=\"nofollow noreferrer\">official rules</a>"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674259225,"creation_date":1674259225,"answer_id":75190350,"question_id":75186458,"body_markdown":"S/MIME messages are usually encrypted using publickey from a _certificate_ specifically an X.509 or PKIX certificate (PKIX is the Internet &#39;version&#39; or technically profile of X.509) and KeyTransRI -- if that is indeed what you have, your code doesn&#39;t check -- or KeyAgreeRI contains a &#39;recipient id&#39; which actually identifies the certificate; you are expected to map that certificate to the corresponding privatekey, which is how Java crypto normally works (the `KeyStore` API stores a privatekey with its corresponding certificate or chain). \r\n\r\n`RecipientInformation.getRID()` returns a `RecipientId`, normally `KeyTransRecipientId` or `KeyAgreeRecipientId` corresponding to the `RecipientInfo`, either of which allows you to get the issuer and serial of the cert, or the &#39;subject key identifier&#39; an extension in most certs that normally [contains a hash of its subject key bit-string value](https://www.rfc-editor.org/rfc/rfc5280.html#section-4.2.1.2). \r\n\r\nSimilarly signing is done with the privatekey, and `SignerInfo` includes the id of the corresponding certificate, which is distributed to and used by reliers to verify the signature.\r\n","title":"How to find the PrivateKey for decrypt smime.p7m message with RecipientInformation?","body":"<p>S/MIME messages are usually encrypted using publickey from a <em>certificate</em> specifically an X.509 or PKIX certificate (PKIX is the Internet 'version' or technically profile of X.509) and KeyTransRI -- if that is indeed what you have, your code doesn't check -- or KeyAgreeRI contains a 'recipient id' which actually identifies the certificate; you are expected to map that certificate to the corresponding privatekey, which is how Java crypto normally works (the <code>KeyStore</code> API stores a privatekey with its corresponding certificate or chain).</p>\n<p><code>RecipientInformation.getRID()</code> returns a <code>RecipientId</code>, normally <code>KeyTransRecipientId</code> or <code>KeyAgreeRecipientId</code> corresponding to the <code>RecipientInfo</code>, either of which allows you to get the issuer and serial of the cert, or the 'subject key identifier' an extension in most certs that normally <a href=\"https://www.rfc-editor.org/rfc/rfc5280.html#section-4.2.1.2\" rel=\"nofollow noreferrer\">contains a hash of its subject key bit-string value</a>.</p>\n<p>Similarly signing is done with the privatekey, and <code>SignerInfo</code> includes the id of the corresponding certificate, which is distributed to and used by reliers to verify the signature.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190350,"answer_count":1,"score":0,"last_activity_date":1674259225,"creation_date":1674230424,"question_id":75186458,"body_markdown":"I try to use the follow Java code to decrypt a S/MIME message from the JavaMail API:\r\n\r\n            String mimeType = mail.getContentType();\r\n            if( mimeType == null ) {\r\n                return mail;\r\n            }\r\n            ContentType contentType = new ContentType( mimeType );\r\n            if( &quot;application/pkcs7-mime&quot;.equals( contentType.getBaseType() ) //\r\n                &amp;&amp; &quot;smime.p7m&quot;.equals( contentType.getParameter( &quot;name&quot; ) ) ) {\r\n                Object content = mail.getContent();\r\n                if( content instanceof InputStream ) {\r\n                    CMSEnvelopedDataParser ep = new CMSEnvelopedDataParser( (InputStream)content );\r\n                    RecipientInformationStore recipients = ep.getRecipientInfos();\r\n                    Iterator&lt;RecipientInformation&gt; it = recipients.getRecipients().iterator();\r\n                    RecipientInformation recipient = (RecipientInformation) it.next();\r\n                    recipient.getContent(new JceKeyTransEnvelopedRecipient(privateKey).setProvider( provider) );\r\n                }\r\n            }\r\n\r\nI have a list of PrivateKeys. How can I find the right PrivateKey to pass in the JceKeyTransEnvelopedRecipient constructor? I think that this should be possible with the RecipientInformation object.","title":"How to find the PrivateKey for decrypt smime.p7m message with RecipientInformation?","body":"<p>I try to use the follow Java code to decrypt a S/MIME message from the JavaMail API:</p>\n<pre><code>        String mimeType = mail.getContentType();\n        if( mimeType == null ) {\n            return mail;\n        }\n        ContentType contentType = new ContentType( mimeType );\n        if( &quot;application/pkcs7-mime&quot;.equals( contentType.getBaseType() ) //\n            &amp;&amp; &quot;smime.p7m&quot;.equals( contentType.getParameter( &quot;name&quot; ) ) ) {\n            Object content = mail.getContent();\n            if( content instanceof InputStream ) {\n                CMSEnvelopedDataParser ep = new CMSEnvelopedDataParser( (InputStream)content );\n                RecipientInformationStore recipients = ep.getRecipientInfos();\n                Iterator&lt;RecipientInformation&gt; it = recipients.getRecipients().iterator();\n                RecipientInformation recipient = (RecipientInformation) it.next();\n                recipient.getContent(new JceKeyTransEnvelopedRecipient(privateKey).setProvider( provider) );\n            }\n        }\n</code></pre>\n<p>I have a list of PrivateKeys. How can I find the right PrivateKey to pass in the JceKeyTransEnvelopedRecipient constructor? I think that this should be possible with the RecipientInformation object.</p>\n"},{"tags":["java","generics","overloading"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674549979,"post_id":75187290,"comment_id":132732188,"body_markdown":"You can add a parameter `Consumer&lt;T&gt;` and replace `func(a);` with `consumer.accept(a);`, then, the caller must provide a reference to the appropriate `func` method, `baz(42, this::func);` will use `func(Integer)`, `baz(&quot;test&quot;, this::func);` will use `func(String)`, etc.","body":"You can add a parameter <code>Consumer&lt;T&gt;</code> and replace <code>func(a);</code> with <code>consumer.accept(a);</code>, then, the caller must provide a reference to the appropriate <code>func</code> method, <code>baz(42, this::func);</code> will use <code>func(Integer)</code>, <code>baz(&quot;test&quot;, this::func);</code> will use <code>func(String)</code>, etc."}],"answers":[{"comments":[{"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"score":0,"creation_date":1674258692,"post_id":75187392,"comment_id":132683872,"body_markdown":"Is it possible if the return type is `void`? Just updated my question.","body":"Is it possible if the return type is <code>void</code>? Just updated my question."}],"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674235433,"creation_date":1674235433,"answer_id":75187392,"question_id":75187290,"body_markdown":"No, you can&#39;t do this as you&#39;ve written it.\r\n\r\nThe biggest blocker (as I see it) is that add(String,String) returns an object, but add(int,int) returns a primative(int), so there&#39;s a problem with return type.\r\n\r\nBut I think you are over complicating things here. Why can&#39;t the two add functions could stand on their own? Do you really need a generic `baz` function?","title":"Call different methods by type in Java","body":"<p>No, you can't do this as you've written it.</p>\n<p>The biggest blocker (as I see it) is that add(String,String) returns an object, but add(int,int) returns a primative(int), so there's a problem with return type.</p>\n<p>But I think you are over complicating things here. Why can't the two add functions could stand on their own? Do you really need a generic <code>baz</code> function?</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674235827,"creation_date":1674235827,"answer_id":75187460,"question_id":75187290,"body_markdown":"Your `baz` code is valid, but won&#39;t work for your case because generic parameters get reduced to `Object` at runtime, so it needs to be resolved at compile time. To be able to do that, you&#39;d need a common interface like `Addable`, then you could declare it\r\n\r\n```\r\nprivate &lt;T extends Addable&gt; void baz(T a, T b) {\r\n  // do something\r\n  System.out.println(add(a, b));\r\n  // do something else\r\n}\r\n```\r\n\r\nbut you wouldn&#39;t be able to call it with `int` or `String` because those don&#39;t implement `Addable`; you could wrap them, but not much gained in what you&#39;re trying to do.\r\n\r\nSo in short: no, not possible; you need to design around this.\r\n\r\n```\r\ninterface Addable&lt;T extends Addable&lt;T&gt;&gt; { T add(T to Add); }\r\n\r\nclass IntAddable implements Addable&lt;IntAddable&gt; {\r\n  Integer value;\r\n  Integer add(IntAddable toAdd { \r\n    return new IntAddable(value + to Add.value);\r\n }\r\n}\r\nIntAddable a = new IntAddable(1);\r\nIntAddable b = new IntAddable(2);\r\nIntAddable sum = baz(a, b);\r\n// assuming an analogue class for String\r\nStringAddable concatted = baz(s1, s2);\r\n```","title":"Call different methods by type in Java","body":"<p>Your <code>baz</code> code is valid, but won't work for your case because generic parameters get reduced to <code>Object</code> at runtime, so it needs to be resolved at compile time. To be able to do that, you'd need a common interface like <code>Addable</code>, then you could declare it</p>\n<pre><code>private &lt;T extends Addable&gt; void baz(T a, T b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n</code></pre>\n<p>but you wouldn't be able to call it with <code>int</code> or <code>String</code> because those don't implement <code>Addable</code>; you could wrap them, but not much gained in what you're trying to do.</p>\n<p>So in short: no, not possible; you need to design around this.</p>\n<pre><code>interface Addable&lt;T extends Addable&lt;T&gt;&gt; { T add(T to Add); }\n\nclass IntAddable implements Addable&lt;IntAddable&gt; {\n  Integer value;\n  Integer add(IntAddable toAdd { \n    return new IntAddable(value + to Add.value);\n }\n}\nIntAddable a = new IntAddable(1);\nIntAddable b = new IntAddable(2);\nIntAddable sum = baz(a, b);\n// assuming an analogue class for String\nStringAddable concatted = baz(s1, s2);\n</code></pre>\n"}],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674258612,"creation_date":1674234836,"question_id":75187290,"body_markdown":"    private void foo(int a, int b) {\r\n      // do something\r\n      System.out.println(add(a, b));\r\n      // do something else\r\n    }\r\n  \r\n    private void bar(String a, String b) {\r\n      // do something\r\n      System.out.println(add(a, b));\r\n      // do something else\r\n    }\r\n  \r\n    private int add(int a, int b) {\r\n      return a + b;\r\n    }\r\n  \r\n    private String add(String a, String b) {\r\n      return a.concat(b);\r\n    }\r\n\r\nIs it possible to merge duplicated logic in foo and bar into one function?\r\n\r\ne.g.\r\n\r\n    private &lt;T&gt; void baz(T a, T b) {\r\n      // do something\r\n      System.out.println(add(a, b));\r\n      // do something else\r\n    }\r\n\r\n\r\n-- EDIT --\r\n\r\nJust tried to put a simple example to describe my question.\r\n\r\nActually in my real code I don&#39;t need the return type, the functions are like following:\r\n\r\n    void func(Integer a);\r\n    void func(String a);\r\n    void func(MyEnum a);\r\n    void func(MyClass a);\r\n    void func(List&lt;MyClass&gt; a);\r\n\r\nAnd I&#39;d like to have a function like:\r\n\r\n    private &lt;T&gt; void baz(T a) {\r\n      // do something\r\n      func(a);\r\n      // do something else\r\n    }\r\n\r\nSo I don&#39;t have to write the same logic multiple times.","title":"Call different methods by type in Java","body":"<pre><code>private void foo(int a, int b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n\nprivate void bar(String a, String b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n\nprivate int add(int a, int b) {\n  return a + b;\n}\n\nprivate String add(String a, String b) {\n  return a.concat(b);\n}\n</code></pre>\n<p>Is it possible to merge duplicated logic in foo and bar into one function?</p>\n<p>e.g.</p>\n<pre><code>private &lt;T&gt; void baz(T a, T b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n</code></pre>\n<p>-- EDIT --</p>\n<p>Just tried to put a simple example to describe my question.</p>\n<p>Actually in my real code I don't need the return type, the functions are like following:</p>\n<pre><code>void func(Integer a);\nvoid func(String a);\nvoid func(MyEnum a);\nvoid func(MyClass a);\nvoid func(List&lt;MyClass&gt; a);\n</code></pre>\n<p>And I'd like to have a function like:</p>\n<pre><code>private &lt;T&gt; void baz(T a) {\n  // do something\n  func(a);\n  // do something else\n}\n</code></pre>\n<p>So I don't have to write the same logic multiple times.</p>\n"},{"tags":["java","class","object","oop","instantiation"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674256068,"post_id":75189964,"comment_id":132683504,"body_markdown":"Yes, the two approaches are different. Though the way you specifically describe the hypothetical in your question means ultimately the two approaches are _effectively_ equivalent with respect to the end state of the object. But the constructor approach means the state is set during instantiation. This has the benefit of allowing for immutability (i.e., `final` fields, which can only be set during instantiation). The setter method can only be called after the object is instantiated/fully initialized (ignoring calling the method _from_ the constructor). It also requires mutability.","body":"Yes, the two approaches are different. Though the way you specifically describe the hypothetical in your question means ultimately the two approaches are <i>effectively</i> equivalent with respect to the end state of the object. But the constructor approach means the state is set during instantiation. This has the benefit of allowing for immutability (i.e., <code>final</code> fields, which can only be set during instantiation). The setter method can only be called after the object is instantiated/fully initialized (ignoring calling the method <i>from</i> the constructor). It also requires mutability."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674256213,"post_id":75189964,"comment_id":132683529,"body_markdown":"Possibly a duplicate of [Setter methods or constructors](https://stackoverflow.com/questions/19359548/setter-methods-or-constructors).","body":"Possibly a duplicate of <a href=\"https://stackoverflow.com/questions/19359548/setter-methods-or-constructors\">Setter methods or constructors</a>."}],"answers":[{"tags":[],"owner":{"account_id":17613416,"reputation":281,"user_id":12780992,"display_name":"loic .B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674257416,"creation_date":1674257416,"answer_id":75190232,"question_id":75189964,"body_markdown":"Yes these are two differents things.\r\nYou have to think about what exactly is your object and how he relates to his properties. \r\n\r\nConstructor let you initialize the class variables dynamically at the time of instantiating the class so you should put the parameters without which the object would not be what it is (In the context of your code)\r\n\r\nThe setters methods are a totally different thing, it let you access variable to modify it.\r\nYou should have setters when ,in your code, it make sense to modify a private variable.\r\n\r\nIf having a `Dog` without a name does not make sense in your code then add it as parameter in constructor.\r\nCan a `Dog` be renamed ? if yes, then add a `setName` method.\r\nDoes your `Dog` have a default run speed that you can modify ? Then add a default `speed` variable in the class and `setSpeed` method.\r\n\r\nConstructor are for parameters that make an object what it is and parameters that you always want to define **when instanciating** the object.\r\n\r\nSetters are for modifying parameters **after** object was created.\r\n\r\n\r\n","title":"Query about setname() method in Java","body":"<p>Yes these are two differents things.\nYou have to think about what exactly is your object and how he relates to his properties.</p>\n<p>Constructor let you initialize the class variables dynamically at the time of instantiating the class so you should put the parameters without which the object would not be what it is (In the context of your code)</p>\n<p>The setters methods are a totally different thing, it let you access variable to modify it.\nYou should have setters when ,in your code, it make sense to modify a private variable.</p>\n<p>If having a <code>Dog</code> without a name does not make sense in your code then add it as parameter in constructor.\nCan a <code>Dog</code> be renamed ? if yes, then add a <code>setName</code> method.\nDoes your <code>Dog</code> have a default run speed that you can modify ? Then add a default <code>speed</code> variable in the class and <code>setSpeed</code> method.</p>\n<p>Constructor are for parameters that make an object what it is and parameters that you always want to define <strong>when instanciating</strong> the object.</p>\n<p>Setters are for modifying parameters <strong>after</strong> object was created.</p>\n"}],"owner":{"account_id":27584277,"reputation":1,"user_id":21052823,"display_name":"szulkifl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674257416,"creation_date":1674254592,"question_id":75189964,"body_markdown":"I am very new to java and I was just trying to get acclimatised to the syntax and there is one thing that I have been confused about. What is the difference between instantiating a new object in java then using the setname method to name it, and using a string parameter to assign a name in the constructor.\r\n\r\nSo if I have a class called Dog, what is the difference between,\r\nnaming the dog by passing a name parameter onto its constructor and using setname under it. Are these processes different.","title":"Query about setname() method in Java","body":"<p>I am very new to java and I was just trying to get acclimatised to the syntax and there is one thing that I have been confused about. What is the difference between instantiating a new object in java then using the setname method to name it, and using a string parameter to assign a name in the constructor.</p>\n<p>So if I have a class called Dog, what is the difference between,\nnaming the dog by passing a name parameter onto its constructor and using setname under it. Are these processes different.</p>\n"},{"tags":["java","smartgwt","isomorphic-javascript","smartgwt-pro","gwt-2.8"],"owner":{"account_id":23528839,"reputation":109,"user_id":17630064,"display_name":"Norida Olivera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674257350,"creation_date":1674257350,"question_id":75190224,"body_markdown":"I have a test environment with the BuiltInDs project that uses the following components:\r\nJDK 1.8\r\nSmartGWT Eval v13.0-p20221103\r\nGWT 2.8.2\r\nMaven 3.8.6\r\n\r\nAnd to run it I use the following targets:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n\r\nWith this configuration, I can access Developer Mode for debugging the code and it works correctly.\r\n\r\nOn the other hand, I have an environment with a real project that uses the following components:\r\nJDK 1.8\r\nSmartGWT Pro v4.0\r\nGWT 2.8.0\r\nMaven 2.0\r\n\r\nAnd I run it using the following goals:\r\n[![enter image description here][7]\r\n[![enter image description here][8]][8]\r\n\r\nWith those goals I can access the Developer Mode for debugging the code and it works correctly.\r\n\r\nNow, when I migrate the productive project to the SmartGWT v13.0-p20221103 version with GWT 2.8.2, the same Maven 2.0 and JDK 1.8, with the same goals that worked in the project without migration, the goals are executed correctly and I can activate the Developer Mode, but the debugging has no effect; moreover, in the console, only a trace similar to this one appears:\r\n[![enter image description here][9]][9]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8g3eY.png\r\n  [2]: https://i.stack.imgur.com/tPNx0.png\r\n  [3]: https://i.stack.imgur.com/JnnVG.png\r\n  [4]: https://i.stack.imgur.com/7z5Il.png\r\n  [5]: https://i.stack.imgur.com/TKxzd.png\r\n  [6]: https://i.stack.imgur.com/zD7Qb.png\r\n  [7]: https://i.stack.imgur.com/AzhfE.png\r\n  [8]: https://i.stack.imgur.com/HRSO0.png\r\n  [9]: https://i.stack.imgur.com/stmZb.png","title":"Debug Doesn’t Work After Migrating SmartGWT from v4.0 to v13.0","body":"<p>I have a test environment with the BuiltInDs project that uses the following components:\nJDK 1.8\nSmartGWT Eval v13.0-p20221103\nGWT 2.8.2\nMaven 3.8.6</p>\n<p>And to run it I use the following targets:\n<a href=\"https://i.stack.imgur.com/8g3eY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8g3eY.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/tPNx0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tPNx0.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/JnnVG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JnnVG.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7z5Il.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7z5Il.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/TKxzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TKxzd.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/zD7Qb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zD7Qb.png\" alt=\"enter image description here\" /></a></p>\n<p>With this configuration, I can access Developer Mode for debugging the code and it works correctly.</p>\n<p>On the other hand, I have an environment with a real project that uses the following components:\nJDK 1.8\nSmartGWT Pro v4.0\nGWT 2.8.0\nMaven 2.0</p>\n<p>And I run it using the following goals:\n[<img src=\"https://i.stack.imgur.com/AzhfE.png\" alt=\"enter image description here\" />\n<a href=\"https://i.stack.imgur.com/HRSO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HRSO0.png\" alt=\"enter image description here\" /></a></p>\n<p>With those goals I can access the Developer Mode for debugging the code and it works correctly.</p>\n<p>Now, when I migrate the productive project to the SmartGWT v13.0-p20221103 version with GWT 2.8.2, the same Maven 2.0 and JDK 1.8, with the same goals that worked in the project without migration, the goals are executed correctly and I can activate the Developer Mode, but the debugging has no effect; moreover, in the console, only a trace similar to this one appears:\n<a href=\"https://i.stack.imgur.com/stmZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stmZb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-session"],"owner":{"account_id":25623995,"reputation":21,"user_id":19395388,"display_name":"Andrew_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674256928,"creation_date":1674256928,"question_id":75190186,"body_markdown":"I have enabled EnableJdbcHttpSession on my spring app and it works fine except that I am getting different sessionIds depending on context. A call like this:\r\n\r\n```\r\n((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getSession(false)\r\n```\r\nreturns a StandardSession on a Filter or ApplicationListener with one sessionId and at Controller level it returns a JdbcIndexedSessionRepository with a completely different sessionId.\r\n\r\nDo I need any code on configuration to have the same sessionId at all levels ?\r\n\r\n\r\nFilter or ApplicationListener return a StandardSession\r\nController returns a JdbcIndexedSessionRepository ","title":"JDBC spring session not visible on Filters and Listeners","body":"<p>I have enabled EnableJdbcHttpSession on my spring app and it works fine except that I am getting different sessionIds depending on context. A call like this:</p>\n<pre><code>((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getSession(false)\n</code></pre>\n<p>returns a StandardSession on a Filter or ApplicationListener with one sessionId and at Controller level it returns a JdbcIndexedSessionRepository with a completely different sessionId.</p>\n<p>Do I need any code on configuration to have the same sessionId at all levels ?</p>\n<p>Filter or ApplicationListener return a StandardSession\nController returns a JdbcIndexedSessionRepository</p>\n"},{"tags":["java","spring","orm","ibatis"],"answers":[{"comments":[{"owner":{"account_id":122428,"reputation":2971,"user_id":316232,"accept_rate":8,"display_name":"nephewtom"},"score":0,"creation_date":1563970991,"post_id":45808465,"comment_id":100876367,"body_markdown":"I am not modifying anything and still getting that message on `oracle.ucp.jdbc.PoolDataSourceImpl`... The source code is decompiled by IntelliJ from class files. So no modification at all.","body":"I am not modifying anything and still getting that message on <code>oracle.ucp.jdbc.PoolDataSourceImpl</code>... The source code is decompiled by IntelliJ from class files. So no modification at all."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1564028782,"post_id":45808465,"comment_id":100897284,"body_markdown":"@nephewtom is this class coming from the new jar which you added recently ?","body":"@nephewtom is this class coming from the new jar which you added recently ?"},{"owner":{"account_id":122428,"reputation":2971,"user_id":316232,"accept_rate":8,"display_name":"nephewtom"},"score":0,"creation_date":1564056182,"post_id":45808465,"comment_id":100910600,"body_markdown":"Not really... it is just happens in jars added from Maven dependencies.\nIt happens for classes belonging to Oracle UCP jar and classes from MyBatis jar.\nI guess it is a IntelliJ issue, that gets confused and shows that message.","body":"Not really... it is just happens in jars added from Maven dependencies. It happens for classes belonging to Oracle UCP jar and classes from MyBatis jar. I guess it is a IntelliJ issue, that gets confused and shows that message."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1564061100,"post_id":45808465,"comment_id":100913569,"body_markdown":"@nephewtom, did you kill any process on the taskbar of intellij","body":"@nephewtom, did you kill any process on the taskbar of intellij"},{"owner":{"account_id":122428,"reputation":2971,"user_id":316232,"accept_rate":8,"display_name":"nephewtom"},"score":0,"creation_date":1564069930,"post_id":45808465,"comment_id":100918660,"body_markdown":"I do not really know what you mean by &quot;the taskbar of intellij&quot;... but I do not kill or close anything. I just use the debugger. Sometimes happens, sometimes doesn&#39;t...\nWith the same classes and without recompiling anything.","body":"I do not really know what you mean by &quot;the taskbar of intellij&quot;... but I do not kill or close anything. I just use the debugger. Sometimes happens, sometimes doesn&#39;t... With the same classes and without recompiling anything."}],"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1653522537,"creation_date":1503372602,"answer_id":45808465,"question_id":45807888,"body_markdown":"Intellij gives a such warning when compiled code doesn&#39;t match the source code, i.e. you try to debug the code but it has changed and not rebuilt.\r\n\r\nMake sure after you imported your code you didn&#39;t modify it. If you modify then first build/compile it before starting the debugger.\r\n\r\nFor example below code will cause this warning :-\r\n\r\n        public class HelloSO {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;First time source code&quot;);\r\n    \t}\r\n      }\r\n\r\nNow you compiled above class and start debugging it, everything works fine. \r\n\r\nBut after that you add one more print statement and try to put the debug point on that line without re-compile it, then in this case as byte code for new line is not generated, hence you will get same warning from IntelliJ.\r\n\r\n\r\n","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>Intellij gives a such warning when compiled code doesn't match the source code, i.e. you try to debug the code but it has changed and not rebuilt.</p>\n<p>Make sure after you imported your code you didn't modify it. If you modify then first build/compile it before starting the debugger.</p>\n<p>For example below code will cause this warning :-</p>\n<pre><code>    public class HelloSO {\n    public static void main(String[] args) {\n        System.out.println(&quot;First time source code&quot;);\n    }\n  }\n</code></pre>\n<p>Now you compiled above class and start debugging it, everything works fine.</p>\n<p>But after that you add one more print statement and try to put the debug point on that line without re-compile it, then in this case as byte code for new line is not generated, hence you will get same warning from IntelliJ.</p>\n"},{"comments":[{"owner":{"account_id":1429490,"reputation":211,"user_id":1352225,"accept_rate":100,"display_name":"Jake Gaston"},"score":2,"creation_date":1565624735,"post_id":54099399,"comment_id":101402059,"body_markdown":"how do you &#39;deploy&#39; it?","body":"how do you &#39;deploy&#39; it?"}],"tags":[],"owner":{"account_id":8642371,"reputation":330,"user_id":6470686,"accept_rate":75,"display_name":"Neil Ruggiero"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546980121,"creation_date":1546980121,"answer_id":54099399,"question_id":45807888,"body_markdown":"For me this issue was arising because I&#39;d made changes to my source code but had not yet deployed them to the target device.  It still allowed me to set up the debugging which was confusing, but then gave me this error.\r\n\r\nTo fix:\r\n\r\n 1. Rebuild your project / module\r\n 2. Redeploy to your target device\r\n 3. Run the debugger\r\n\r\nAfter rebuilding / redeploying, your debug and deployed code will match up and you shouldn&#39;t get any more errors!  Just a matter of matching up the two binaries.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>For me this issue was arising because I'd made changes to my source code but had not yet deployed them to the target device.  It still allowed me to set up the debugging which was confusing, but then gave me this error.</p>\n\n<p>To fix:</p>\n\n<ol>\n<li>Rebuild your project / module</li>\n<li>Redeploy to your target device</li>\n<li>Run the debugger</li>\n</ol>\n\n<p>After rebuilding / redeploying, your debug and deployed code will match up and you shouldn't get any more errors!  Just a matter of matching up the two binaries.</p>\n"},{"tags":[],"owner":{"display_name":"user3533413"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653522630,"creation_date":1561992192,"answer_id":56837710,"question_id":45807888,"body_markdown":"After viewing the other similar questions and answers on this problem, none of which helped me. What solved the problem was simply adding a dependency. In my case I ran into this issue when I was attempting to debug org.springframework.web.servlet.DispatcherServlet. I finally noticed that IntelliJ could not find javax.servlet in my imports. \r\n\r\nIn my Maven project, I added \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto my pom.xml which solved the problem.\r\n\r\nDouble check that all of your imports are being resolved.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>After viewing the other similar questions and answers on this problem, none of which helped me. What solved the problem was simply adding a dependency. In my case I ran into this issue when I was attempting to debug org.springframework.web.servlet.DispatcherServlet. I finally noticed that IntelliJ could not find javax.servlet in my imports.</p>\n<p>In my Maven project, I added</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax&lt;/groupId&gt;\n  &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n  &lt;version&gt;8.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to my pom.xml which solved the problem.</p>\n<p>Double check that all of your imports are being resolved.</p>\n"},{"tags":[],"owner":{"account_id":946203,"reputation":514,"user_id":5499391,"display_name":"mouse_8b"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572361739,"creation_date":1572361739,"answer_id":58610197,"question_id":45807888,"body_markdown":"This can also happen if you have multiple dependencies that themselves have different versions of the same dependency. This post on the JetBrains site shows how to enable the alternate source switcher in preferences.\r\n\r\n[https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-][1]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>This can also happen if you have multiple dependencies that themselves have different versions of the same dependency. This post on the JetBrains site shows how to enable the alternate source switcher in preferences.</p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-</a></p>\n"},{"tags":[],"owner":{"account_id":12191040,"reputation":196,"user_id":8898509,"display_name":"Rt.Tong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584091940,"creation_date":1584091940,"answer_id":60667955,"question_id":45807888,"body_markdown":"I had the same issue, too. The root reason is two different jar packages have some conflicts. So I solved it by removing one of the conflicting jar package.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>I had the same issue, too. The root reason is two different jar packages have some conflicts. So I solved it by removing one of the conflicting jar package.</p>\n"},{"tags":[],"owner":{"account_id":20802335,"reputation":1,"user_id":15278069,"display_name":"Bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623521570,"creation_date":1623521243,"answer_id":67951668,"question_id":45807888,"body_markdown":"I had a problem like yours today. I found that my IntelliJ was set to work with Java version 16 and my project was built in Java version 11. \r\n\r\nTo fix it, I did this: clicked on File -&gt; Project Structure -&gt; Project Settings -&gt; Project, and changed &quot;Project SDK&quot; property to version 11.\r\n\r\nAfter clicking on OK button, I didn&#39;t get the message &quot;source code does not match bytecode&quot; anymore.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>I had a problem like yours today. I found that my IntelliJ was set to work with Java version 16 and my project was built in Java version 11.</p>\n<p>To fix it, I did this: clicked on File -&gt; Project Structure -&gt; Project Settings -&gt; Project, and changed &quot;Project SDK&quot; property to version 11.</p>\n<p>After clicking on OK button, I didn't get the message &quot;source code does not match bytecode&quot; anymore.</p>\n"},{"tags":[],"owner":{"account_id":13802939,"reputation":21,"user_id":10039875,"display_name":"Camilo Fl&#243;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651621804,"creation_date":1645822416,"answer_id":71271624,"question_id":45807888,"body_markdown":"You can try this\r\n\r\n 1. Open or move to &#39;Project Panel&#39;\r\n[![enter image description here][1]][1]\r\n 2. Scroll down and find your library\r\n[![enter image description here][2]][2]\r\n 3. Left click on your library\r\n[![enter image description here][3]][3]\r\n 4. Inside the context menu, select &#39;Open Library Settings&#39;\r\n[![enter image description here][6]][6]\r\n 5. Once there, check that the binaries and sources are associated:\r\n[![enter image description here][5]][5]\r\n\r\n  [1]: https://i.stack.imgur.com/D8Jly.png\r\n  [2]: https://i.stack.imgur.com/XxKSt.png\r\n  [3]: https://i.stack.imgur.com/0PnKC.png\r\n  [5]: https://i.stack.imgur.com/7feZE.png\r\n  [6]: https://i.stack.imgur.com/hBzie.png","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>You can try this</p>\n<ol>\n<li>Open or move to 'Project Panel'\n<a href=\"https://i.stack.imgur.com/D8Jly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D8Jly.png\" alt=\"enter image description here\" /></a></li>\n<li>Scroll down and find your library\n<a href=\"https://i.stack.imgur.com/XxKSt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XxKSt.png\" alt=\"enter image description here\" /></a></li>\n<li>Left click on your library\n<a href=\"https://i.stack.imgur.com/0PnKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0PnKC.png\" alt=\"enter image description here\" /></a></li>\n<li>Inside the context menu, select 'Open Library Settings'\n<a href=\"https://i.stack.imgur.com/hBzie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBzie.png\" alt=\"enter image description here\" /></a></li>\n<li>Once there, check that the binaries and sources are associated:\n<a href=\"https://i.stack.imgur.com/7feZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7feZE.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"}],"owner":{"account_id":11275298,"reputation":369,"user_id":8269508,"display_name":"guruboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33038,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":7,"score":14,"last_activity_date":1674256920,"creation_date":1503367677,"question_id":45807888,"body_markdown":"When I debug the JdbcTemplate sourcecode use IDEA，the IDE tips me：&#39;Source code does not match the bytecode&#39;\r\n\r\nScreenshot:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eKONU.png\r\n\r\n\r\n\r\nand i use mvn to manage my project；my maven pom config is:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;org.springframework.orm&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>When I debug the JdbcTemplate sourcecode use IDEA，the IDE tips me：'Source code does not match the bytecode'</p>\n<p>Screenshot:</p>\n<p><img src=\"https://i.stack.imgur.com/eKONU.png\" alt=\"enter image description here\" /></p>\n<p>and i use mvn to manage my project；my maven pom config is:</p>\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;org.springframework.orm&lt;/artifactId&gt;\n                &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","format-specifiers"],"comments":[{"owner":{"account_id":4005423,"reputation":696,"user_id":3300189,"display_name":"TheSatinKnight"},"score":0,"creation_date":1661196639,"post_id":73432137,"comment_id":129710096,"body_markdown":"https://stackoverflow.com/questions/388461/how-can-i-pad-a-string-in-java","body":"<a href=\"https://stackoverflow.com/questions/388461/how-can-i-pad-a-string-in-java\" title=\"how can i pad a string in java\">stackoverflow.com/questions/388461/&hellip;</a>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1661305383,"post_id":73432137,"comment_id":129738306,"body_markdown":"Does this answer your question? [Simple way to repeat a string](https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string\">Simple way to repeat a string</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674256540,"creation_date":1661063747,"answer_id":73432183,"question_id":73432137,"body_markdown":"# `String#repeat`\r\n\r\nSimply append a string generated by [`String#repeat`][1] method, in Java 11+.\r\n\r\n    String result = &quot;=&quot;.repeat( 20 ) ;\r\n\r\n&gt;====================\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)","title":"How to print character repeatedly using specifier instead of loop in java?","body":"<h1><code>String#repeat</code></h1>\n<p>Simply append a string generated by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a> method, in Java 11+.</p>\n<pre><code>String result = &quot;=&quot;.repeat( 20 ) ;\n</code></pre>\n<blockquote>\n<p>====================</p>\n</blockquote>\n"}],"owner":{"account_id":24285530,"reputation":23,"user_id":18231358,"display_name":"Pranali Hemane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1661442805,"accepted_answer_id":73432183,"answer_count":1,"score":2,"last_activity_date":1674256540,"creation_date":1661063308,"question_id":73432137,"body_markdown":"I want to print a char &#39;=&#39; repeatedly where I give the no. of times the asterisk should be repeated.\r\n\r\nExample: count = 20 and I want to print ==================== using printf() and format specifiers.","title":"How to print character repeatedly using specifier instead of loop in java?","body":"<p>I want to print a char '=' repeatedly where I give the no. of times the asterisk should be repeated.</p>\n<p>Example: count = 20 and I want to print ==================== using printf() and format specifiers.</p>\n"},{"tags":["java","datetime","jodatime","java-time"],"answers":[{"comments":[{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1644459871,"post_id":71059027,"comment_id":125615182,"body_markdown":"I have an `Instant`, and I need to pass `DateTime` to a dependency. I guess this should work `new DateTime(myInstantVar.toEpochMilli())`.","body":"I have an <code>Instant</code>, and I need to pass <code>DateTime</code> to a dependency. I guess this should work <code>new DateTime(myInstantVar.toEpochMilli())</code>."},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1644459943,"post_id":71059027,"comment_id":125615202,"body_markdown":"/**\n     * Constructs an instance set to the milliseconds from 1970-01-01T00:00:00Z\n     * using &lt;code&gt;ISOChronology&lt;/code&gt; in the default time zone.\n     *\n     * @param instant  the milliseconds from 1970-01-01T00:00:00Z\n     */\n    public DateTime(long instant) {\n        super(instant);\n    }","body":"/**      * Constructs an instance set to the milliseconds from 1970-01-01T00:00:00Z      * using &lt;code&gt;ISOChronology&lt;/code&gt; in the default time zone.      *      * @param instant  the milliseconds from 1970-01-01T00:00:00Z      */     public DateTime(long instant) {         super(instant);     }"},{"owner":{"account_id":8512214,"reputation":76,"user_id":6381914,"display_name":"Capitan Empanada"},"score":1,"creation_date":1674000517,"post_id":71059027,"comment_id":132620837,"body_markdown":"Thanks you sir, you helped me quick with my issue :)","body":"Thanks you sir, you helped me quick with my issue :)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1674256401,"creation_date":1644459459,"answer_id":71059027,"question_id":71058986,"body_markdown":"# tl;dr\r\n\r\n    new DateTime( myInstant.toEpochMilli() )\r\n\r\n\r\n# *java.time* replaces *Joda-Time*\r\n\r\nDo you understand that *java.time* is the successor to *Joda-Time*? If you have *java.time* at your disposal, there should be no need to use *Joda-Time*. The same man, [Stephen Colebourne][1], led both projects, taking lessons learned from *Joda-Time* to design *java.time* in [JSR 310][2].\r\n\r\n# Convert by way of count of milliseconds\r\n\r\nBut to answer your Question directly: [Extract from the `Instant` object a count of milliseconds][3] since the first moment of 1970 in UTC. Use that count to [construct a `DateTime`][4] object. \r\n\r\nBeware of potential data loss. An `Instant` may contain microseconds or nanoseconds. These will be ignored, of course, when extracting milliseconds. \r\n\r\n    java.time.Instant myInstant = Instant.now() ; \r\n    long millis = myInstant.toEpochMilli() ;\r\n    org.joda.time.DateTime dt = new DateTime( millis ) ;\r\n\r\n\r\nIn *java.time*, an `Instant` is always in UTC. To match that on your `DateTime`, pass the [`UTC`][5] constant to [this other constructor][6].\r\n\r\n    DateTime dt = new DateTime( millis , DateTimeZone.UTC ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/38896/jodastephen\r\n  [2]: https://jcp.org/en/jsr/detail?id=310\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)\r\n  [4]: https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-\r\n  [5]: https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\r\n  [6]: https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-org.joda.time.DateTimeZone-","title":"How to convert Instant to joda DateTime?","body":"<h1>tl;dr</h1>\n<pre><code>new DateTime( myInstant.toEpochMilli() )\n</code></pre>\n<h1><em>java.time</em> replaces <em>Joda-Time</em></h1>\n<p>Do you understand that <em>java.time</em> is the successor to <em>Joda-Time</em>? If you have <em>java.time</em> at your disposal, there should be no need to use <em>Joda-Time</em>. The same man, <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a>, led both projects, taking lessons learned from <em>Joda-Time</em> to design <em>java.time</em> in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<h1>Convert by way of count of milliseconds</h1>\n<p>But to answer your Question directly: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)\" rel=\"nofollow noreferrer\">Extract from the <code>Instant</code> object a count of milliseconds</a> since the first moment of 1970 in UTC. Use that count to <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-\" rel=\"nofollow noreferrer\">construct a <code>DateTime</code></a> object.</p>\n<p>Beware of potential data loss. An <code>Instant</code> may contain microseconds or nanoseconds. These will be ignored, of course, when extracting milliseconds.</p>\n<pre><code>java.time.Instant myInstant = Instant.now() ; \nlong millis = myInstant.toEpochMilli() ;\norg.joda.time.DateTime dt = new DateTime( millis ) ;\n</code></pre>\n<p>In <em>java.time</em>, an <code>Instant</code> is always in UTC. To match that on your <code>DateTime</code>, pass the <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\" rel=\"nofollow noreferrer\"><code>UTC</code></a> constant to <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-org.joda.time.DateTimeZone-\" rel=\"nofollow noreferrer\">this other constructor</a>.</p>\n<pre><code>DateTime dt = new DateTime( millis , DateTimeZone.UTC ) ;\n</code></pre>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4197,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71059027,"answer_count":1,"score":3,"last_activity_date":1674256401,"creation_date":1644459042,"question_id":71058986,"body_markdown":"How to convert Instant(java.time.Instant) to joda DateTime (org.joda.time.DateTime)? Or rather, what&#39;s the best way to do this?\r\n","title":"How to convert Instant to joda DateTime?","body":"<p>How to convert Instant(java.time.Instant) to joda DateTime (org.joda.time.DateTime)? Or rather, what's the best way to do this?</p>\n"},{"tags":["java","java-time","java.time.instant"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":8,"creation_date":1631740087,"post_id":69199722,"comment_id":122307126,"body_markdown":"Look at the JDK-8266847 to see if it answer your question: https://bugs-stage.openjdk.java.net/browse/JDK-8266847 ?","body":"Look at the JDK-8266847 to see if it answer your question: <a href=\"https://bugs-stage.openjdk.java.net/browse/JDK-8266847\" rel=\"nofollow noreferrer\">bugs-stage.openjdk.java.net/browse/JDK-8266847</a> ?"},{"owner":{"account_id":12167284,"reputation":91,"user_id":12724047,"display_name":"Олег Мельник"},"score":0,"creation_date":1631742384,"post_id":69199722,"comment_id":122307687,"body_markdown":"But anyway to create an object with the type of InstantSource we use Clock factory methods explicitly or under the hood (Clock with UTC). So anyway we operate specific timezone. There is example in javadocs where InstantSource used as pluggable injected object. What can be injected in that case?","body":"But anyway to create an object with the type of InstantSource we use Clock factory methods explicitly or under the hood (Clock with UTC). So anyway we operate specific timezone. There is example in javadocs where InstantSource used as pluggable injected object. What can be injected in that case?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632327287,"post_id":69199722,"comment_id":122464129,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1633884516,"post_id":69514853,"comment_id":122873718,"body_markdown":"Interesting - for NodaTime, our `IClock` interface is equivalent to `InstantSource`... and then we have a `ZonedClock` class which accepts an `IClock` and a `IDateTimeZone` for the sake of convenience.","body":"Interesting - for NodaTime, our <code>IClock</code> interface is equivalent to <code>InstantSource</code>... and then we have a <code>ZonedClock</code> class which accepts an <code>IClock</code> and a <code>IDateTimeZone</code> for the sake of convenience."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1674256366,"creation_date":1633866273,"answer_id":69514853,"question_id":69199722,"body_markdown":"With thanks to NoDataFound for the link in the comment (link repeated at the bottom of this answer). The “bug” report by [Stephen Colebourne][1] (original developer of java.time) says:\r\n\r\n&gt; ### Problem\r\n&gt; \r\n&gt; Since java.time was first added in Java 8, it has become apparent that\r\n&gt; there is a missing concept - a source of Instant independent of time\r\n&gt; zone. Put simply, if the only thing you want is an Instant, then Clock\r\n&gt; isn&#39;t the right API because it forces you to think about time zones.\r\n&gt; \r\n&gt; A good architectural design for time-based code would have a\r\n&gt; separation between the abstraction of the OS clock (dependency\r\n&gt; injected for unit testing), and the time zone linked to user\r\n&gt; localization. Passing these two things around separately is key. To\r\n&gt; achieve this as it stands, developers must either write their own\r\n&gt; TimeSource or InstantSource interface, or use Clock and &quot;hold their\r\n&gt; nose&quot; to ignore the time zone held within.\r\n&gt; \r\n&gt; A `Supplier&lt;Instant&gt;` obviously performs similar functionality, but it\r\n&gt; lacks discoverability and understandability. Plus, injecting\r\n&gt; generified interfaces tends to be painful.\r\n\r\nIn my words: The `Clock` class was introduced as a source of the current time. Conceptually a source of the current time should be independent of time zone. The `Clock` nevertheless has a time zone. Possibly for practical purposes so that you can draw all sorts of date-time objects from it: `LocalDate`, `ZonedDateTime`, `LocalTime`, etc.\r\n\r\nThe `InstantSource` interface asked about realizes the clock concept that I just described: a source of the current time that is independent of time zone. For when a clock with time zone is too heavyweight for your purpose.\r\n\r\nOne of the purposes of both `Clock` and `InstantSource` is testability: With those you can control which time is considered “the current time” when your tests are run, which is often required when you want reproducible tests.\r\n\r\n&gt; … if anyway all implementations of that interface are Clock\r\n&gt; implementations also?\r\n\r\nI haven’t checked whether all `InstantSource` implementations shipped with Java 17 are `Clock` subclasses. Even if this is the case, (1) it is not the point, and (2) there’s no one stopping you implementing an `InstantSource` that is not a `Clock`. Abstraction is a key concept in programming. If you want only `Instant`s, then you want to program against a simple interface that can give you only `Instant`s. `InstantSource` abstracts away the fact that the object you are using would also be able to play the r&#244;le of a `Clock` in some other context. The `InstantSource` interface is a school example of applying the well-respected Fa&#231;ade design pattern (link below). With Stephen Colebourne’s descriptive words from the bug system, the interface frees the programmer from „holding their nose” while obtaining `Instant`s.\r\n\r\n## Links\r\n\r\n - [Add java.time.InstantSource](https://bugs-stage.openjdk.java.net/browse/JDK-8266847) in the OpenJDK Bug System.\r\n - [Facade pattern](https://en.wikipedia.org/wiki/Facade_pattern) on Wikipedia.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/38896/jodastephen","title":"What is the main purpose of the new interface java.time.InstantSource over existing abstract class Clock?","body":"<p>With thanks to NoDataFound for the link in the comment (link repeated at the bottom of this answer). The “bug” report by <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a> (original developer of java.time) says:</p>\n<blockquote>\n<h3>Problem</h3>\n<p>Since java.time was first added in Java 8, it has become apparent that\nthere is a missing concept - a source of Instant independent of time\nzone. Put simply, if the only thing you want is an Instant, then Clock\nisn't the right API because it forces you to think about time zones.</p>\n<p>A good architectural design for time-based code would have a\nseparation between the abstraction of the OS clock (dependency\ninjected for unit testing), and the time zone linked to user\nlocalization. Passing these two things around separately is key. To\nachieve this as it stands, developers must either write their own\nTimeSource or InstantSource interface, or use Clock and &quot;hold their\nnose&quot; to ignore the time zone held within.</p>\n<p>A <code>Supplier&lt;Instant&gt;</code> obviously performs similar functionality, but it\nlacks discoverability and understandability. Plus, injecting\ngenerified interfaces tends to be painful.</p>\n</blockquote>\n<p>In my words: The <code>Clock</code> class was introduced as a source of the current time. Conceptually a source of the current time should be independent of time zone. The <code>Clock</code> nevertheless has a time zone. Possibly for practical purposes so that you can draw all sorts of date-time objects from it: <code>LocalDate</code>, <code>ZonedDateTime</code>, <code>LocalTime</code>, etc.</p>\n<p>The <code>InstantSource</code> interface asked about realizes the clock concept that I just described: a source of the current time that is independent of time zone. For when a clock with time zone is too heavyweight for your purpose.</p>\n<p>One of the purposes of both <code>Clock</code> and <code>InstantSource</code> is testability: With those you can control which time is considered “the current time” when your tests are run, which is often required when you want reproducible tests.</p>\n<blockquote>\n<p>… if anyway all implementations of that interface are Clock\nimplementations also?</p>\n</blockquote>\n<p>I haven’t checked whether all <code>InstantSource</code> implementations shipped with Java 17 are <code>Clock</code> subclasses. Even if this is the case, (1) it is not the point, and (2) there’s no one stopping you implementing an <code>InstantSource</code> that is not a <code>Clock</code>. Abstraction is a key concept in programming. If you want only <code>Instant</code>s, then you want to program against a simple interface that can give you only <code>Instant</code>s. <code>InstantSource</code> abstracts away the fact that the object you are using would also be able to play the rôle of a <code>Clock</code> in some other context. The <code>InstantSource</code> interface is a school example of applying the well-respected Façade design pattern (link below). With Stephen Colebourne’s descriptive words from the bug system, the interface frees the programmer from „holding their nose” while obtaining <code>Instant</code>s.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://bugs-stage.openjdk.java.net/browse/JDK-8266847\" rel=\"nofollow noreferrer\">Add java.time.InstantSource</a> in the OpenJDK Bug System.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Facade_pattern\" rel=\"nofollow noreferrer\">Facade pattern</a> on Wikipedia.</li>\n</ul>\n"}],"owner":{"account_id":12167284,"reputation":91,"user_id":12724047,"display_name":"Олег Мельник"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1674256366,"creation_date":1631739596,"question_id":69199722,"body_markdown":"A new interface `java.time.InstantSource` was added in Java 17. What is the use case of that additional abstraction if all implementations of that interface are `Clock` implementations too anyway?","title":"What is the main purpose of the new interface java.time.InstantSource over existing abstract class Clock?","body":"<p>A new interface <code>java.time.InstantSource</code> was added in Java 17. What is the use case of that additional abstraction if all implementations of that interface are <code>Clock</code> implementations too anyway?</p>\n"},{"tags":["java","clock"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1474349631,"post_id":39586311,"comment_id":66482269,"body_markdown":"http://stackoverflow.com/questions/33472569/any-new-method-to-get-current-time-with-accuracy-in-microseconds-in-java-now","body":"<a href=\"http://stackoverflow.com/questions/33472569/any-new-method-to-get-current-time-with-accuracy-in-microseconds-in-java-now\" title=\"any new method to get current time with accuracy in microseconds in java now\">stackoverflow.com/questions/33472569/&hellip;</a>"},{"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"score":1,"creation_date":1474349891,"post_id":39586311,"comment_id":66482372,"body_markdown":"That post was originally from 2009 and the updated answer is the solution that I am having issues with. I am looking for something different.","body":"That post was originally from 2009 and the updated answer is the solution that I am having issues with. I am looking for something different."},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1474350527,"post_id":39586311,"comment_id":66482616,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now-- is the best available method for the most precise timestamps.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now&zwnj;&#8203;--</a> is the best available method for the most precise timestamps."}],"answers":[{"tags":[],"owner":{"account_id":21459,"reputation":31234,"user_id":52162,"accept_rate":83,"display_name":"jensgram"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474350728,"creation_date":1474350728,"answer_id":39586624,"question_id":39586311,"body_markdown":"While your computer is able to report something more precise (but probably not accurate, at least not in wall time) than milliseconds this does not change the fact the Java per default uses a [`Clock`](https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html) based off of `System.currentTimeMillis()`.\r\n\r\nYou must [provide a more precise `Clock`](https://stackoverflow.com/a/20689213/52162) to get values more precise than ms. That is, [until Java 9](https://stackoverflow.com/a/33478391/52162).","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<p>While your computer is able to report something more precise (but probably not accurate, at least not in wall time) than milliseconds this does not change the fact the Java per default uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> based off of <code>System.currentTimeMillis()</code>.</p>\n\n<p>You must <a href=\"https://stackoverflow.com/a/20689213/52162\">provide a more precise <code>Clock</code></a> to get values more precise than ms. That is, <a href=\"https://stackoverflow.com/a/33478391/52162\">until Java 9</a>.</p>\n"},{"comments":[{"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"score":0,"creation_date":1474350951,"post_id":39586646,"comment_id":66482793,"body_markdown":"How would I implement my own clock?","body":"How would I implement my own clock?"},{"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"score":0,"creation_date":1474351312,"post_id":39586646,"comment_id":66482939,"body_markdown":"`class YourClock extends Clock { .... }` ... I assume there are various ways to do this, one could be to run a timer thread, that counts loop iterations between two time measurements of System.currentTimeMillis() form this derive the number of microseconds or nanoseconds in that interval. But keep in mind, the more precise you get, the less accurate it&#39;ll be.","body":"<code>class YourClock extends Clock { .... }</code> ... I assume there are various ways to do this, one could be to run a timer thread, that counts loop iterations between two time measurements of System.currentTimeMillis() form this derive the number of microseconds or nanoseconds in that interval. But keep in mind, the more precise you get, the less accurate it&#39;ll be."},{"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"score":0,"creation_date":1474351570,"post_id":39586646,"comment_id":66483034,"body_markdown":"I need to use the micro/nano seconds for sending logs that will also be compared to logs sent from a javascript project, so I need to be able to get a system wide microsecond value.","body":"I need to use the micro/nano seconds for sending logs that will also be compared to logs sent from a javascript project, so I need to be able to get a system wide microsecond value."}],"tags":[],"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474350849,"creation_date":1474350849,"answer_id":39586646,"question_id":39586311,"body_markdown":"The `LocalDate.now()` relies on the `SystemClock::instant()` method, which uses `System.currentTimeMillis()`, so you won&#39;t get a more precise resolution with the default clock. \r\n\r\nHowever, you could implement your own high-precision `Clock` and use that in conjunction with LocalDate:\r\n\r\n    LocalDate hpDate = LocalDate.now(microsecondClock);\r\n\r\nFor high-precision you could use the `TickClock` with microsecond ticks:\r\n\r\n    Clock microsecondClock = Clock.tick(Clock.systemUTC(), Duration.ofNanos(1000));\r\n\r\nor subclass `Clock` and implement your own high precision clock, i.e. by using System.currentTimemillis() and System.nanoTime().","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<p>The <code>LocalDate.now()</code> relies on the <code>SystemClock::instant()</code> method, which uses <code>System.currentTimeMillis()</code>, so you won't get a more precise resolution with the default clock. </p>\n\n<p>However, you could implement your own high-precision <code>Clock</code> and use that in conjunction with LocalDate:</p>\n\n<pre><code>LocalDate hpDate = LocalDate.now(microsecondClock);\n</code></pre>\n\n<p>For high-precision you could use the <code>TickClock</code> with microsecond ticks:</p>\n\n<pre><code>Clock microsecondClock = Clock.tick(Clock.systemUTC(), Duration.ofNanos(1000));\n</code></pre>\n\n<p>or subclass <code>Clock</code> and implement your own high precision clock, i.e. by using System.currentTimemillis() and System.nanoTime().</p>\n"},{"comments":[{"owner":{"account_id":2651121,"reputation":4898,"user_id":2292766,"accept_rate":80,"display_name":"Hannes Schneidermayer"},"score":11,"creation_date":1563865599,"post_id":49203836,"comment_id":100831402,"body_markdown":"What an answer!","body":"What an answer!"},{"owner":{"account_id":7730120,"reputation":751,"user_id":5853556,"accept_rate":68,"display_name":"Kervvv"},"score":0,"creation_date":1674253203,"post_id":49203836,"comment_id":132683007,"body_markdown":"an excellent and comprehensive answer. Learned a lot!","body":"an excellent and comprehensive answer. Learned a lot!"},{"owner":{"account_id":4471460,"reputation":2059,"user_id":3808828,"accept_rate":73,"display_name":"Selali Adobor"},"score":0,"creation_date":1676276973,"post_id":49203836,"comment_id":133097494,"body_markdown":"For posterity on Android you&#39;ll still only get millisecond precision from a Desugared java.time implementation: https://github.com/google/desugar_jdk_libs/blob/be076b13963efbfca6137a56b155398533df53aa/jdk11/src/java.base/share/classes/java/time/Clock.java#L477","body":"For posterity on Android you&#39;ll still only get millisecond precision from a Desugared java.time implementation: <a href=\"https://github.com/google/desugar_jdk_libs/blob/be076b13963efbfca6137a56b155398533df53aa/jdk11/src/java.base/share/classes/java/time/Clock.java#L477\" rel=\"nofollow noreferrer\">github.com/google/desugar_jdk_libs/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1674256177,"creation_date":1520639291,"answer_id":49203836,"question_id":39586311,"body_markdown":"# tl;dr\r\n\r\n&gt;Is it possible to get microseconds in Java 8? \r\n\r\nNo, not in Java 8. Use Java 9 or later.\r\n\r\n    Instant.now()  // Returns a value in microseconds in Java 9 and later, but is restricted to mere milliseconds in Java 8.\r\n\r\nThis refers to implementations of Java based on the [OpenJDK][1] open-source code. Others may vary. \r\n\r\n# Java 9 and later\r\n\r\nThe implementations of Java 9 based on OpenJDK have a [fresh implementation][2] of [`java.time.Clock`][3] capable of capturing the current moment in resolution finer than milliseconds (*three* digits of decimal fraction). \r\n\r\nThe actual resolution depends on the limits of your host computer hardware clock. On macOS Sierra with Oracle Java 9.0.4, I am getting current moment with microseconds (*six* digits of decimal fraction).\r\n\r\n    Instant.now().toString()\r\n\r\n&gt;2018-03-09T21:03:33.831515Z\r\n\r\n# Java 8\r\n\r\nThe java.time classes were new in Java 8. These classes are defined to carry nanoseconds (*nine* digits of decimal fraction). But capturing the current moment was limited to only [milliseconds][4] in Java 8, and enhanced in Java 9 to capture the current moment in finer [microseconds][5].\r\n\r\n&gt;2018-03-09T21:03:33.831Z\r\n\r\n\r\n# Other issues\r\n\r\n## `System.currentTimeMillis()`\r\n\r\n&gt;If I get System.currentTimeMillis() and System.nanoTime()\r\n\r\nNo need to use `System.currentTimeMillis()` ever again. Instead use `java.time.Instant` for a moment in UTC with a resolution as fine as nanoseconds. \r\n\r\nIf you really need a count of milliseconds from the epoch reference of 1970-01-01T00:00Z, ask the `Instant` object. Be aware of data loss, as you would be ignoring any microseconds or nanoseconds present in the `Instant`.\r\n\r\n    long millisSinceEpoch = instant.now().toEpochMilli() ;\r\n\r\n&gt;Is there a way that I can parse clock time from these values?\r\n\r\nYes, you can convert a count of milliseconds since epoch of 1970-01-01T00:00Z to a `Instant`. \r\n\r\n    Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\r\n\r\n## `System.nanoTime()`\r\n\r\nAs for `System.nanoTime()`, that is intended for tracking elapsed time, such as benchmarking your code’ performance. Calling `System.nanoTime()` does *not* tell you anything about the current date-time. \r\n\r\nThis value is a count of nanoseconds since some undocumented origin point in time. In practice, I have seen the number appear to track time since the JVM launched, but this behavior is not documented and so you should not rely upon it.\r\n\r\n## `LocalDateTime` is *not* a moment\r\n\r\n&gt;My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.\r\n\r\nFirstly, for logging you should *not* be using `LocalDateTime` class. That class purposely lacks any concept of time zone or offset-from-UTC. As such, a `LocalDateTime` does *not* represent a moment, is *not* a point on the timeline. A `LocalDateTime` is an idea about *potential* moments along a range of about 26-27 hours. Use `LocalDateTime` only if the zone/offset is unknown (not a good situation), or if this represents something like &quot;Christmas Day starts on first moment of Decemeber 25, 2018&quot;, where Christmas starts at different moments for different regions around the globe, starting first in the far East (Pacific), and moving westward midnight after successive midnight.\r\n\r\nFor logging you should be using UTC. In Java, that would be the [`Instant`][6] class, always in UTC by definition. Just call `Instant.now()`. \r\n\r\nWhen serializing to text such as for logging, always use the standard [ISO 8601][7] formats. The *java.time* classes use these standard formats by default when parsing/generating strings. You saw examples above in this Answer.\r\n\r\nSee another Question, [*What&#39;s the difference between Instant and LocalDateTime?*](https://stackoverflow.com/q/32437550/642706).\r\n\r\n\r\n[![Table of date-time types in Java, both modern and legacy][8]][8]\r\n\r\n### ISO 8601\r\n\r\nIn ISO 8601, the decimal fraction of a second can have any number of digits. So you really should not care about whether the logged event was recorded in milliseconds, microseconds, or nanoseconds.\r\n\r\n    Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456789Z&quot; ) ;\r\n    Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456Z&quot; ) ;\r\n    Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123Z&quot; ) ;\r\n\r\n### Truncate\r\n\r\nIf you *really* believe you need uniform resolution, you can [truncate a `Instant`][9].\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ; // Strip away any microseconds or nanoseconds.\r\n\r\n### Don&#39;t worry about resolution\r\n\r\n&gt;My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.\r\n\r\nFirstly, I doubt you really need to care about this. If you use standard ISO 8601 format, and the `Instant` class in Java, you can serialize and re-hydrate a moment successfully in millis, micros, or nanos. \r\n\r\nAnd the ISO 8601 formatted strings will conveniently alphabetize chronologically even if the fractional second resolution varies.\r\n\r\nSecondly, if you are trying to track actual moments to microseconds for some reason, you are likely to be disappointed. As of 2018, conventional computer clocks are not reliable in the microsecond range. \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8068730\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html\r\n  [4]: https://en.wikipedia.org/wiki/Millisecond\r\n  [5]: https://en.wikipedia.org/wiki/Microsecond\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [7]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [8]: https://i.stack.imgur.com/u07Jj.png\r\n  [9]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#truncatedTo-java.time.temporal.TemporalUnit-","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>Is it possible to get microseconds in Java 8?</p>\n</blockquote>\n<p>No, not in Java 8. Use Java 9 or later.</p>\n<pre><code>Instant.now()  // Returns a value in microseconds in Java 9 and later, but is restricted to mere milliseconds in Java 8.\n</code></pre>\n<p>This refers to implementations of Java based on the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\">OpenJDK</a> open-source code. Others may vary.</p>\n<h1>Java 9 and later</h1>\n<p>The implementations of Java 9 based on OpenJDK have a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"noreferrer\">fresh implementation</a> of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html\" rel=\"noreferrer\"><code>java.time.Clock</code></a> capable of capturing the current moment in resolution finer than milliseconds (<em>three</em> digits of decimal fraction).</p>\n<p>The actual resolution depends on the limits of your host computer hardware clock. On macOS Sierra with Oracle Java 9.0.4, I am getting current moment with microseconds (<em>six</em> digits of decimal fraction).</p>\n<pre><code>Instant.now().toString()\n</code></pre>\n<blockquote>\n<p>2018-03-09T21:03:33.831515Z</p>\n</blockquote>\n<h1>Java 8</h1>\n<p>The java.time classes were new in Java 8. These classes are defined to carry nanoseconds (<em>nine</em> digits of decimal fraction). But capturing the current moment was limited to only <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a> in Java 8, and enhanced in Java 9 to capture the current moment in finer <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a>.</p>\n<blockquote>\n<p>2018-03-09T21:03:33.831Z</p>\n</blockquote>\n<h1>Other issues</h1>\n<h2><code>System.currentTimeMillis()</code></h2>\n<blockquote>\n<p>If I get System.currentTimeMillis() and System.nanoTime()</p>\n</blockquote>\n<p>No need to use <code>System.currentTimeMillis()</code> ever again. Instead use <code>java.time.Instant</code> for a moment in UTC with a resolution as fine as nanoseconds.</p>\n<p>If you really need a count of milliseconds from the epoch reference of 1970-01-01T00:00Z, ask the <code>Instant</code> object. Be aware of data loss, as you would be ignoring any microseconds or nanoseconds present in the <code>Instant</code>.</p>\n<pre><code>long millisSinceEpoch = instant.now().toEpochMilli() ;\n</code></pre>\n<blockquote>\n<p>Is there a way that I can parse clock time from these values?</p>\n</blockquote>\n<p>Yes, you can convert a count of milliseconds since epoch of 1970-01-01T00:00Z to a <code>Instant</code>.</p>\n<pre><code>Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\n</code></pre>\n<h2><code>System.nanoTime()</code></h2>\n<p>As for <code>System.nanoTime()</code>, that is intended for tracking elapsed time, such as benchmarking your code’ performance. Calling <code>System.nanoTime()</code> does <em>not</em> tell you anything about the current date-time.</p>\n<p>This value is a count of nanoseconds since some undocumented origin point in time. In practice, I have seen the number appear to track time since the JVM launched, but this behavior is not documented and so you should not rely upon it.</p>\n<h2><code>LocalDateTime</code> is <em>not</em> a moment</h2>\n<blockquote>\n<p>My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.</p>\n</blockquote>\n<p>Firstly, for logging you should <em>not</em> be using <code>LocalDateTime</code> class. That class purposely lacks any concept of time zone or offset-from-UTC. As such, a <code>LocalDateTime</code> does <em>not</em> represent a moment, is <em>not</em> a point on the timeline. A <code>LocalDateTime</code> is an idea about <em>potential</em> moments along a range of about 26-27 hours. Use <code>LocalDateTime</code> only if the zone/offset is unknown (not a good situation), or if this represents something like &quot;Christmas Day starts on first moment of Decemeber 25, 2018&quot;, where Christmas starts at different moments for different regions around the globe, starting first in the far East (Pacific), and moving westward midnight after successive midnight.</p>\n<p>For logging you should be using UTC. In Java, that would be the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class, always in UTC by definition. Just call <code>Instant.now()</code>.</p>\n<p>When serializing to text such as for logging, always use the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats. The <em>java.time</em> classes use these standard formats by default when parsing/generating strings. You saw examples above in this Answer.</p>\n<p>See another Question, <a href=\"https://stackoverflow.com/q/32437550/642706\"><em>What's the difference between Instant and LocalDateTime?</em></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/u07Jj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u07Jj.png\" alt=\"Table of date-time types in Java, both modern and legacy\" /></a></p>\n<h3>ISO 8601</h3>\n<p>In ISO 8601, the decimal fraction of a second can have any number of digits. So you really should not care about whether the logged event was recorded in milliseconds, microseconds, or nanoseconds.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456789Z&quot; ) ;\nInstant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456Z&quot; ) ;\nInstant instant = Instant.parse( &quot;2018-03-09T21:03:33.123Z&quot; ) ;\n</code></pre>\n<h3>Truncate</h3>\n<p>If you <em>really</em> believe you need uniform resolution, you can <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#truncatedTo-java.time.temporal.TemporalUnit-\" rel=\"noreferrer\">truncate a <code>Instant</code></a>.</p>\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ; // Strip away any microseconds or nanoseconds.\n</code></pre>\n<h3>Don't worry about resolution</h3>\n<blockquote>\n<p>My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.</p>\n</blockquote>\n<p>Firstly, I doubt you really need to care about this. If you use standard ISO 8601 format, and the <code>Instant</code> class in Java, you can serialize and re-hydrate a moment successfully in millis, micros, or nanos.</p>\n<p>And the ISO 8601 formatted strings will conveniently alphabetize chronologically even if the fractional second resolution varies.</p>\n<p>Secondly, if you are trying to track actual moments to microseconds for some reason, you are likely to be disappointed. As of 2018, conventional computer clocks are not reliable in the microsecond range.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32143,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":49203836,"answer_count":3,"score":24,"last_activity_date":1674256177,"creation_date":1474349278,"question_id":39586311,"body_markdown":"Is it possible to get microseconds in Java 8? The Java 8 `LocalDateTime` class has a `.getNano()` method which is meant to return `nanoseconds`, but on both Linux(Ubuntu) and OS X (10.11.5) it only returns `milliseconds` (when I ran it it returned `301000000` which equals `301 milliseconds`) and I really need to be able to get `microseconds`.\n\nI know that it is possible to get `nanoseconds` (and therefore get `microseconds` from it) on my computer as the javascript method `process.hrtime()` returns a precise value.\n\nBefore anyone starts a precise vs. accurate argument I know that nanoseconds is completely unreliable between threads and shouldn&#39;t be used for comparison.\n\n**Edit**:\n\n  To be clear the `LocalDateTime` class is part of the Java 8 `java.time` set of classes.\n\n**Update**:\n\nSo I realised that Javascript&#39;s `process.hrtime` is like Java&#39;s `System.nanoTime()` and isn&#39;t actually related to the wall clock, it&#39;s time since some arbitrary value which are different between the two languages.\n\nNew question: Is there a way that I can parse clock time from these values? Ie. If I get `System.currentTimeMillis()` and `System.nanoTime()`, and compare that to another set of those values could I get the actual time of the second set of values?\n\nMy problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<p>Is it possible to get microseconds in Java 8? The Java 8 <code>LocalDateTime</code> class has a <code>.getNano()</code> method which is meant to return <code>nanoseconds</code>, but on both Linux(Ubuntu) and OS X (10.11.5) it only returns <code>milliseconds</code> (when I ran it it returned <code>301000000</code> which equals <code>301 milliseconds</code>) and I really need to be able to get <code>microseconds</code>.</p>\n<p>I know that it is possible to get <code>nanoseconds</code> (and therefore get <code>microseconds</code> from it) on my computer as the javascript method <code>process.hrtime()</code> returns a precise value.</p>\n<p>Before anyone starts a precise vs. accurate argument I know that nanoseconds is completely unreliable between threads and shouldn't be used for comparison.</p>\n<p><strong>Edit</strong>:</p>\n<p>To be clear the <code>LocalDateTime</code> class is part of the Java 8 <code>java.time</code> set of classes.</p>\n<p><strong>Update</strong>:</p>\n<p>So I realised that Javascript's <code>process.hrtime</code> is like Java's <code>System.nanoTime()</code> and isn't actually related to the wall clock, it's time since some arbitrary value which are different between the two languages.</p>\n<p>New question: Is there a way that I can parse clock time from these values? Ie. If I get <code>System.currentTimeMillis()</code> and <code>System.nanoTime()</code>, and compare that to another set of those values could I get the actual time of the second set of values?</p>\n<p>My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.</p>\n"},{"tags":["java","graph","processing"],"comments":[{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":0,"creation_date":1674177745,"post_id":75177182,"comment_id":132665086,"body_markdown":"I love this question. Can you edit the code and make it runnable?","body":"I love this question. Can you edit the code and make it runnable?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674179640,"post_id":75177182,"comment_id":132665306,"body_markdown":"Also, remember to follow the [posting guidelines](/help/how-to-ask): look at your question after posting it, and at the very least [edit] it to fix the [markdown](/markdown) errors it has.","body":"Also, remember to follow the <a href=\"/help/how-to-ask\">posting guidelines</a>: look at your question after posting it, and at the very least <a href=\"https://stackoverflow.com/posts/75177182/edit\">edit</a> it to fix the <a href=\"/markdown\">markdown</a> errors it has."},{"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"score":0,"creation_date":1674233098,"post_id":75177182,"comment_id":132677876,"body_markdown":"I did some modifications. I hope this helps to understand it better and runnable","body":"I did some modifications. I hope this helps to understand it better and runnable"}],"answers":[{"tags":[],"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674255824,"creation_date":1674255824,"answer_id":75190084,"question_id":75177182,"body_markdown":"I modified your code a bunch to simplify it for readability reasons; it may be that you need some of the changes I made for your own code so don&#39;t take it the wrong way, but making these modifications helped me to analyze your code.\r\n\r\nI noticed that you used pixels instead of lines to link the &#39;points&#39; of the graph. It makes sense in some contexts but here I choose to use line segments instead. Also, I coded it in a way that uses only the seconds instead of a real month-day-hour-minute-second line, because if I had you would have seen only a straight line. I wanted you to see the actual curve.\r\n\r\nSo you understand that my code here isn&#39;t a copy-and-paste solution to your issue, but instead a methodology that aims to let you understand the principle behind the graph lines.\r\n\r\nHere what it&#39;ll look like:\r\n\r\n[![graph][1]][1]\r\n\r\nTo draw a line, you need 2 sets of coordinates: the 1st point and the 2nd point. That&#39;s pretty easy to get the basic informations needed by using the `Info_Sun` array. The only difficulty is to translate these into actual coordinates. It&#39;s way easier when you remember these points:\r\n\r\n - The (0,0) point of this graph&#39;s coordinates is actually the (220, 600) point.\r\n - The (0,0) point of the sketch is in the left-up corner of the sketch.\r\n - The X axis coordinates increases when you go right.\r\n - The Y axis coordinates increases when you go down.\r\n\r\nSo you need to know these 2 distances to be able to calculate a point&#39;s coordinates:\r\n\r\n - The distance between 2 points on the X axis.\r\n - The distance between 2 points on the Y axis.\r\n\r\nWhich are being stored here in the variables `distanceX` and `distanceY`. By now you probably have guessed where I&#39;m going with that but I&#39;ll go on anyway: the coordinates of a point are as follow:\r\n\r\n    X == 220 + distanceX * (Index of the point + 1)\r\n    Y == 600 - distanceY * Index of the point\r\n    // &#39;+ 1&#39; because arrays starts at 0 so day 1 is at index 0\r\n\r\nOf course, you have to be aware that you&#39;ll need to calculate these coordinates of 2 points every time you draw a line: for the point at the current index, and for the point at index+1. So you can link those 2 points.\r\n\r\nThis said, here&#39;s some code that reflects what I just said. You will notice my modifications in the first part of the code; they are not that important. The part that interests you is at the end.\r\n\r\n```\r\nint[][] Info_Sun = {\r\n\r\n  {  1, 1, 8, 23, 2 }, \r\n  {  1, 2, 8, 23, 9 }, \r\n  {  1, 3, 8, 23, 13 }, \r\n  {  1, 4, 8, 23, 15 }, \r\n  {  1, 5, 8, 23, 16 }, \r\n  {  1, 6, 8, 23, 14 }, \r\n  {  1, 7, 8, 23, 10  }, \r\n};\r\n\r\nfloat positionX, positionY;\r\nfloat sunset_pixel, sunrise_pixel, pixel_X, distanceX, distanceY;\r\nPFont f;     \r\n\r\nvoid setup() {\r\n  size(1500, 800);\r\n  background(255, 255, 211);\r\n\r\n  // drawing axis and titles\r\n  // modified for readability\r\n  line(220, 600, 1300, 600);                   \r\n  line(220, 600, 220, 55);                                \r\n  distanceY=21.5;\r\n\r\n  f= createFont(&quot;Consolas&quot;, 16, true);                  \r\n  textFont (f, 14);\r\n  fill(0);\r\n  // Hours\r\n  for (int i=0; i&lt;24; i++) {\r\n    line(220, 600-(distanceY*i), 1300, 600-(distanceY*i));\r\n    text(i, 200, 600-(distanceY*i));\r\n  }\r\n  // Days\r\n  distanceX = (1300-220)/(Info_Sun.length+1);\r\n  for (int i=1; i&lt;=Info_Sun.length; i++) {\r\n    line(220+distanceX*i, 600, 220+distanceX*i, 55);\r\n    text(i, 220+distanceX*i, 630);\r\n  }\r\n  text(&quot;Sortida i posta (hora)&quot;, 100, 50);\r\n  text(&quot;DIES DE L&#39;ANY&quot;, 1200, 615);\r\n\r\n  //// drawing curves\r\n  strokeWeight(3);\r\n  stroke(255, 0, 0);\r\n\r\n  // THIS IS THE PART WHERE I DRAW THE CURVE\r\n  // Using only the seconds so you see a curve and not a straight line\r\n  for (int i=0; i&lt;Info_Sun.length-1; i++) {\r\n    line(220+distanceX*(i+1), 600-distanceY*Info_Sun[i][4], 220+distanceX*(i+2), 600-distanceY*Info_Sun[i+1][4]);\r\n    // Here I calculate 2 points per loop, one for everyday\r\n    // so then I link every day by tracing a line between them, and as I start with the day 1 (which is at the index 0 in your table) I use index 0 and 1 for my first line\r\n    // that&#39;s why loop ends at &#39;i&lt;Info_Sun.length-1&#39;: else I would go out of the bounds of the array\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m sure you can adapt this principle to your own ends. I hope this helps!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/knKts.png","title":"Draw points in a graph","body":"<p>I modified your code a bunch to simplify it for readability reasons; it may be that you need some of the changes I made for your own code so don't take it the wrong way, but making these modifications helped me to analyze your code.</p>\n<p>I noticed that you used pixels instead of lines to link the 'points' of the graph. It makes sense in some contexts but here I choose to use line segments instead. Also, I coded it in a way that uses only the seconds instead of a real month-day-hour-minute-second line, because if I had you would have seen only a straight line. I wanted you to see the actual curve.</p>\n<p>So you understand that my code here isn't a copy-and-paste solution to your issue, but instead a methodology that aims to let you understand the principle behind the graph lines.</p>\n<p>Here what it'll look like:</p>\n<p><a href=\"https://i.stack.imgur.com/knKts.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/knKts.png\" alt=\"graph\" /></a></p>\n<p>To draw a line, you need 2 sets of coordinates: the 1st point and the 2nd point. That's pretty easy to get the basic informations needed by using the <code>Info_Sun</code> array. The only difficulty is to translate these into actual coordinates. It's way easier when you remember these points:</p>\n<ul>\n<li>The (0,0) point of this graph's coordinates is actually the (220, 600) point.</li>\n<li>The (0,0) point of the sketch is in the left-up corner of the sketch.</li>\n<li>The X axis coordinates increases when you go right.</li>\n<li>The Y axis coordinates increases when you go down.</li>\n</ul>\n<p>So you need to know these 2 distances to be able to calculate a point's coordinates:</p>\n<ul>\n<li>The distance between 2 points on the X axis.</li>\n<li>The distance between 2 points on the Y axis.</li>\n</ul>\n<p>Which are being stored here in the variables <code>distanceX</code> and <code>distanceY</code>. By now you probably have guessed where I'm going with that but I'll go on anyway: the coordinates of a point are as follow:</p>\n<pre><code>X == 220 + distanceX * (Index of the point + 1)\nY == 600 - distanceY * Index of the point\n// '+ 1' because arrays starts at 0 so day 1 is at index 0\n</code></pre>\n<p>Of course, you have to be aware that you'll need to calculate these coordinates of 2 points every time you draw a line: for the point at the current index, and for the point at index+1. So you can link those 2 points.</p>\n<p>This said, here's some code that reflects what I just said. You will notice my modifications in the first part of the code; they are not that important. The part that interests you is at the end.</p>\n<pre><code>int[][] Info_Sun = {\n\n  {  1, 1, 8, 23, 2 }, \n  {  1, 2, 8, 23, 9 }, \n  {  1, 3, 8, 23, 13 }, \n  {  1, 4, 8, 23, 15 }, \n  {  1, 5, 8, 23, 16 }, \n  {  1, 6, 8, 23, 14 }, \n  {  1, 7, 8, 23, 10  }, \n};\n\nfloat positionX, positionY;\nfloat sunset_pixel, sunrise_pixel, pixel_X, distanceX, distanceY;\nPFont f;     \n\nvoid setup() {\n  size(1500, 800);\n  background(255, 255, 211);\n\n  // drawing axis and titles\n  // modified for readability\n  line(220, 600, 1300, 600);                   \n  line(220, 600, 220, 55);                                \n  distanceY=21.5;\n\n  f= createFont(&quot;Consolas&quot;, 16, true);                  \n  textFont (f, 14);\n  fill(0);\n  // Hours\n  for (int i=0; i&lt;24; i++) {\n    line(220, 600-(distanceY*i), 1300, 600-(distanceY*i));\n    text(i, 200, 600-(distanceY*i));\n  }\n  // Days\n  distanceX = (1300-220)/(Info_Sun.length+1);\n  for (int i=1; i&lt;=Info_Sun.length; i++) {\n    line(220+distanceX*i, 600, 220+distanceX*i, 55);\n    text(i, 220+distanceX*i, 630);\n  }\n  text(&quot;Sortida i posta (hora)&quot;, 100, 50);\n  text(&quot;DIES DE L'ANY&quot;, 1200, 615);\n\n  //// drawing curves\n  strokeWeight(3);\n  stroke(255, 0, 0);\n\n  // THIS IS THE PART WHERE I DRAW THE CURVE\n  // Using only the seconds so you see a curve and not a straight line\n  for (int i=0; i&lt;Info_Sun.length-1; i++) {\n    line(220+distanceX*(i+1), 600-distanceY*Info_Sun[i][4], 220+distanceX*(i+2), 600-distanceY*Info_Sun[i+1][4]);\n    // Here I calculate 2 points per loop, one for everyday\n    // so then I link every day by tracing a line between them, and as I start with the day 1 (which is at the index 0 in your table) I use index 0 and 1 for my first line\n    // that's why loop ends at 'i&lt;Info_Sun.length-1': else I would go out of the bounds of the array\n  }\n}\n</code></pre>\n<p>I'm sure you can adapt this principle to your own ends. I hope this helps!</p>\n"}],"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75190084,"answer_count":1,"score":0,"last_activity_date":1674255824,"creation_date":1674155352,"question_id":75177182,"body_markdown":"`I have an array that every row is a day and 1st column means month, 2nd: day, 3rd: hour, 4th: minute and 5th:second of the sunrise.\r\n\r\nI manage to the draw the graph, but I can&#39;t draw the line of the values of the array. The x axis is for the days of the year and y axis is the times of sunrise.\r\nThe original array has 365 columns, but I thought gicing the example of 4 would be enough.\r\n\r\n```\r\nint[][] Info_Sun = {\r\n                \r\n                      {  1  ,  1  ,  8  ,  23  ,  2 }  ,\r\n                      {  1  ,  2  ,  8  ,  23  ,  9 }  ,\r\n                      {  1  ,  3  ,  8  ,  23  ,  13 }  ,\r\n                      {  1  ,  4  ,  8  ,  23  ,  15 }  ,\r\n                      {  1  ,  5  ,  8  ,  23  ,  16 }  ,\r\n                      {  1  ,  6  ,  8  ,  23  ,  14 }  ,\r\n                      {  1  ,  7  ,  8  ,  23  ,  10  }  ,\r\n             };\r\n\r\nfloat positionX, positionY;\r\nfloat sunset_pixel, sunrise_pixel, pixel_X, distance;\r\nPFont f;     \r\n\r\nvoid setup(){\r\n    size(1500, 800);\r\n    background(255, 255, 211);\r\n    \r\n    line(220,height/2+200,width-200,height/2+200);                   \r\n    line(width/4-155,55,width/4-155,600);                                \r\n    distance=-21.5;\r\n    for(int s=1; s&lt;25; s++){\r\n  \r\n          line(220,height/2+200+distance,width-200,height/2+200+distance);\r\n          f= createFont(&quot;Consolas&quot;, 16, true);                  \r\n          textFont (f,14);\r\n          fill(0);\r\n          text(s,200,height/2+200+distance);\r\n          text(&quot;Sortida i posta (hora)&quot;, 100, 50);\r\n          text(&quot;DIES DE L&#39;ANY&quot;, 1200, 615);\r\n          \r\n          distance-=21.5;\r\n          point(220, 220);\r\n  }\r\n  pixel_X=25;\r\n    \r\n  for (int i=0; i&lt;Info_Sun.length; i++){\r\n        sunrise_pixel=Info_Sun[i][2]*pixel_X+(Info_Sun[i][3]*pixel_X)/60+(Info_Sun[i][4]*pixel_X)/3600;\r\n        strokeWeight(3);\r\n        stroke(255,0,0);\r\n        point (Info_Sun[i][1]+220, sunrise_pixel);      \r\n    \r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n","title":"Draw points in a graph","body":"<p>`I have an array that every row is a day and 1st column means month, 2nd: day, 3rd: hour, 4th: minute and 5th:second of the sunrise.</p>\n<p>I manage to the draw the graph, but I can't draw the line of the values of the array. The x axis is for the days of the year and y axis is the times of sunrise.\nThe original array has 365 columns, but I thought gicing the example of 4 would be enough.</p>\n<pre><code>int[][] Info_Sun = {\n                \n                      {  1  ,  1  ,  8  ,  23  ,  2 }  ,\n                      {  1  ,  2  ,  8  ,  23  ,  9 }  ,\n                      {  1  ,  3  ,  8  ,  23  ,  13 }  ,\n                      {  1  ,  4  ,  8  ,  23  ,  15 }  ,\n                      {  1  ,  5  ,  8  ,  23  ,  16 }  ,\n                      {  1  ,  6  ,  8  ,  23  ,  14 }  ,\n                      {  1  ,  7  ,  8  ,  23  ,  10  }  ,\n             };\n\nfloat positionX, positionY;\nfloat sunset_pixel, sunrise_pixel, pixel_X, distance;\nPFont f;     \n\nvoid setup(){\n    size(1500, 800);\n    background(255, 255, 211);\n    \n    line(220,height/2+200,width-200,height/2+200);                   \n    line(width/4-155,55,width/4-155,600);                                \n    distance=-21.5;\n    for(int s=1; s&lt;25; s++){\n  \n          line(220,height/2+200+distance,width-200,height/2+200+distance);\n          f= createFont(&quot;Consolas&quot;, 16, true);                  \n          textFont (f,14);\n          fill(0);\n          text(s,200,height/2+200+distance);\n          text(&quot;Sortida i posta (hora)&quot;, 100, 50);\n          text(&quot;DIES DE L'ANY&quot;, 1200, 615);\n          \n          distance-=21.5;\n          point(220, 220);\n  }\n  pixel_X=25;\n    \n  for (int i=0; i&lt;Info_Sun.length; i++){\n        sunrise_pixel=Info_Sun[i][2]*pixel_X+(Info_Sun[i][3]*pixel_X)/60+(Info_Sun[i][4]*pixel_X)/3600;\n        strokeWeight(3);\n        stroke(255,0,0);\n        point (Info_Sun[i][1]+220, sunrise_pixel);      \n    \n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","hibernate","quarkus"],"owner":{"account_id":5227687,"reputation":1059,"user_id":4179212,"accept_rate":75,"display_name":"ss1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674255651,"creation_date":1674255651,"question_id":75190072,"body_markdown":"I have a library which uses `hibernate-core 5.6.14` &amp; `h2 2.1.214`. It uses a `persistence.xml` which defines a persistence unit inside the library. The library on its own works fine and also when importing it as an dependency into a simple Maven project.  But when importing it into a Quarkus it suddenly fails when using `entityManager.persist()` with:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unknown entity: com.example.core.taskdb.h2.H2Task\r\n```\r\n\r\n- The `persistence.xml` and the resulting `EntityManagerFactory` are correctly loaded inside the Quarkus project (checked via `entityManagerFactory.getProperties()`).\r\n- The Quarkus project itself does not use Hibernate, so there shouldn&#39;t be conflicts.\r\n- The library works fine when imported as an dependency into a simple Maven project.\r\n\r\nThanks for any suggestion!","title":"Library using Hibernate with H2 doesn&#39;t work when imported into Quarkus project","body":"<p>I have a library which uses <code>hibernate-core 5.6.14</code> &amp; <code>h2 2.1.214</code>. It uses a <code>persistence.xml</code> which defines a persistence unit inside the library. The library on its own works fine and also when importing it as an dependency into a simple Maven project.  But when importing it into a Quarkus it suddenly fails when using <code>entityManager.persist()</code> with:</p>\n<pre><code>java.lang.IllegalArgumentException: Unknown entity: com.example.core.taskdb.h2.H2Task\n</code></pre>\n<ul>\n<li>The <code>persistence.xml</code> and the resulting <code>EntityManagerFactory</code> are correctly loaded inside the Quarkus project (checked via <code>entityManagerFactory.getProperties()</code>).</li>\n<li>The Quarkus project itself does not use Hibernate, so there shouldn't be conflicts.</li>\n<li>The library works fine when imported as an dependency into a simple Maven project.</li>\n</ul>\n<p>Thanks for any suggestion!</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1674237664,"post_id":75187784,"comment_id":132679363,"body_markdown":"Can we get a better problem description than &quot;isn&#39;t working&quot; and a [mcve]? Please see [ask].","body":"Can we get a better problem description than &quot;isn&#39;t working&quot; and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":27517016,"reputation":11,"user_id":20997787,"display_name":"Mr Gondal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674255415,"creation_date":1674237574,"question_id":75187784,"body_markdown":"I have  created Inside app activity where I have called different fragments using switch case and called that Inside App activity in the main_activity, but the issue is that only one fragments appear that I have showed as default but if we click on the menu Items then they won&#39;t change ? I have tried many different methods but I don&#39;t know where I did anything wrong bcz it isn&#39;t working.\r\n\r\n\r\nInside App :\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.ClipData;\r\nimport android.support.annotation.NonNull;\r\nimport android.support.design.widget.BottomNavigationView;\r\nimport android.support.v4.app.Fragment;\r\nimport android.support.v4.app.FragmentManager;\r\nimport android.support.v4.app.FragmentTransaction;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\n\r\npublic class InsideApp extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_inside_app);\r\n        HomeFragment home_Fragment = new HomeFragment();\r\n        Setting_Fragment setting_fragment = new Setting_Fragment();\r\n        profile_fragment profile_fragment = new profile_fragment();\r\n        BottomNavigationView bottomNavigationView;\r\n        bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n        getSupportFragmentManager()\r\n                .beginTransaction()\r\n                .replace(R.id.layout, new HomeFragment())\r\n                .commit();\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                Fragment fragment = null;\r\n                switch (menuItem.getItemId()) {\r\n\r\n                    case R.id.home_fragment:\r\n                        fragment = new HomeFragment();\r\n                        break;\r\n                    case R.id.profiles:\r\n                        fragment = new profile_fragment();\r\n                        break;\r\n                    case R.id.settings:\r\n                        fragment = new Setting_Fragment();\r\n                        break;\r\n                }\r\n                if (fragment != null) {\r\n                    getSupportFragmentManager()\r\n                            .beginTransaction()\r\n                            .replace(R.id.layout, fragment)\r\n                            .commit();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n`\r\nMain Activity:\r\n\r\n`package com.example.myapplication;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.support.annotation.NonNull;\r\nimport android.support.design.widget.BottomNavigationView;\r\nimport android.support.design.widget.Snackbar;\r\nimport android.support.v4.app.Fragment;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.view.View;\r\n\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\n\r\n\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.widget.Button;\r\nimport android.widget.MediaController;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport android.widget.VideoView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration appBarConfiguration;\r\n\r\n     private  Button insideApp ;\r\n     private Button demovideo;\r\n\r\n\r\n    public void SubmitButton(View view){\r\n\r\n        Toast.makeText(this, &quot;LOGIN SUCCESSFUL&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    public void forgetpassword(View view){\r\n\r\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    public void btn_google(View view){\r\n\r\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    public void btn_facebook(View view){\r\n\r\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        TextView btn = findViewById(R.id.textViewSignup);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, Register.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        insideApp = findViewById(R.id.Login);\r\n        insideApp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, InsideApp.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        demovideo = findViewById(R.id.aboutus);\r\n        demovideo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, demovideo.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n`\r\nXMl of InsideAPP\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.InsideApp&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/layout&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;android.support.design.widget.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNavigationView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:animationCache=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/menu_view&quot; /&gt;\r\n&lt;/android.support.constraint.ConstraintLayout&gt;`\r\n\r\n```\r\n","title":"Fragments are not getting changed after clicking on the the MenuItems on navigation bar","body":"<p>I have  created Inside app activity where I have called different fragments using switch case and called that Inside App activity in the main_activity, but the issue is that only one fragments appear that I have showed as default but if we click on the menu Items then they won't change ? I have tried many different methods but I don't know where I did anything wrong bcz it isn't working.</p>\n<p>Inside App :</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.ClipData;\nimport android.support.annotation.NonNull;\nimport android.support.design.widget.BottomNavigationView;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\nimport android.support.v4.app.FragmentTransaction;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\n\npublic class InsideApp extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_inside_app);\n        HomeFragment home_Fragment = new HomeFragment();\n        Setting_Fragment setting_fragment = new Setting_Fragment();\n        profile_fragment profile_fragment = new profile_fragment();\n        BottomNavigationView bottomNavigationView;\n        bottomNavigationView = findViewById(R.id.bottomNavigationView);\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(R.id.layout, new HomeFragment())\n                .commit();\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n                Fragment fragment = null;\n                switch (menuItem.getItemId()) {\n\n                    case R.id.home_fragment:\n                        fragment = new HomeFragment();\n                        break;\n                    case R.id.profiles:\n                        fragment = new profile_fragment();\n                        break;\n                    case R.id.settings:\n                        fragment = new Setting_Fragment();\n                        break;\n                }\n                if (fragment != null) {\n                    getSupportFragmentManager()\n                            .beginTransaction()\n                            .replace(R.id.layout, fragment)\n                            .commit();\n                    return true;\n                }\n                return false;\n            }\n        });\n\n    }\n}\n`\nMain Activity:\n\n`package com.example.myapplication;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.support.annotation.NonNull;\nimport android.support.design.widget.BottomNavigationView;\nimport android.support.design.widget.Snackbar;\nimport android.support.v4.app.Fragment;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\n\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\n\n\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Button;\nimport android.widget.MediaController;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.VideoView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration appBarConfiguration;\n\n     private  Button insideApp ;\n     private Button demovideo;\n\n\n    public void SubmitButton(View view){\n\n        Toast.makeText(this, &quot;LOGIN SUCCESSFUL&quot;, Toast.LENGTH_SHORT).show();\n    }\n    public void forgetpassword(View view){\n\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\n    }\n    public void btn_google(View view){\n\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\n    }\n    public void btn_facebook(View view){\n\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView btn = findViewById(R.id.textViewSignup);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, Register.class);\n                startActivity(intent);\n            }\n        });\n        insideApp = findViewById(R.id.Login);\n        insideApp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, InsideApp.class);\n                startActivity(intent);\n            }\n        });\n        demovideo = findViewById(R.id.aboutus);\n        demovideo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, demovideo.class);\n                startActivity(intent);\n            }\n        });\n\n\n    }\n\n\n}\n`\nXMl of InsideAPP\n\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.InsideApp&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/layout&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:animationCache=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:menu=&quot;@menu/menu_view&quot; /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;`\n\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1674255411,"post_id":75187776,"comment_id":132683397,"body_markdown":"Why do you need that kind of static build?","body":"Why do you need that kind of static build?"},{"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"score":0,"creation_date":1674326979,"post_id":75187776,"comment_id":132692721,"body_markdown":"Actually, I am trying to do some simulation on FPGAs. Due to the limited memory size, the FPGA file system can&#39;t contain much (like dependencies or libraries). So, I am thinking of simply putting statically compiled binaries and running them.","body":"Actually, I am trying to do some simulation on FPGAs. Due to the limited memory size, the FPGA file system can&#39;t contain much (like dependencies or libraries). So, I am thinking of simply putting statically compiled binaries and running them."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1674330135,"post_id":75187776,"comment_id":132693315,"body_markdown":"Did you think about [GraalVM&#39;s `native-image`](https://www.graalvm.org/22.0/reference-manual/native-image/) tool before compiling OpenJDK by yourself? It does [support static binaries with `musl` and mostly-static binaries](https://www.graalvm.org/22.0/reference-manual/native-image/StaticImages/). `native-image` does have a few limitations though.","body":"Did you think about <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/\" rel=\"nofollow noreferrer\">GraalVM&#39;s <code>native-image</code></a> tool before compiling OpenJDK by yourself? It does <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/StaticImages/\" rel=\"nofollow noreferrer\">support static binaries with <code>musl</code> and mostly-static binaries</a>. <code>native-image</code> does have a few limitations though."}],"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674254744,"creation_date":1674237549,"question_id":75187776,"body_markdown":"I am new to OpenJDK,\r\nso I&#39;d like to apologize if it&#39;s a known issue or there is already a way to get over it.\r\n\r\nCurrently, I am trying to &#39;static build&#39; the OpenJDK\r\nso that I can remove all dynamic library dependencies\r\nwhen I use the tools like java, javac, etc.\r\n\r\nFor that purpose, I found an option called &#39;--enable-static-build&#39; fed to the configure file.\r\nHowever, it seems like it&#39;s not supported (even not allowed to enable) at the current mainstream.\r\n\r\nWould there be any workaround to enable that option for static build?\r\nOr, does anyone know any specific branch or GitHub tag where the static build works fine by any chance?\r\n\r\nMany thanks in advance!\r\n\r\nI have tried to use the configure option, --enable-static-build, but didn&#39;t work.","title":"OpenJDK Static Build","body":"<p>I am new to OpenJDK,\nso I'd like to apologize if it's a known issue or there is already a way to get over it.</p>\n<p>Currently, I am trying to 'static build' the OpenJDK\nso that I can remove all dynamic library dependencies\nwhen I use the tools like java, javac, etc.</p>\n<p>For that purpose, I found an option called '--enable-static-build' fed to the configure file.\nHowever, it seems like it's not supported (even not allowed to enable) at the current mainstream.</p>\n<p>Would there be any workaround to enable that option for static build?\nOr, does anyone know any specific branch or GitHub tag where the static build works fine by any chance?</p>\n<p>Many thanks in advance!</p>\n<p>I have tried to use the configure option, --enable-static-build, but didn't work.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1674254108,"post_id":75189784,"comment_id":132683179,"body_markdown":"I suspect you will need to attach the matching source in your IDE and trace through the `close()` call to see what is actually happening.","body":"I suspect you will need to attach the matching source in your IDE and trace through the <code>close()</code> call to see what is actually happening."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1674257698,"post_id":75189784,"comment_id":132683734,"body_markdown":"**YES multiple HTTP requests and responses can be done over one connection** in HTTP/1.0 up i.e. since about 2000. Caching and reusing TCP connections saves a little, but your case is HTTPS and reusing _TLS_ (over TCP) connections saves the TLS handshake which can be relatively slow and costly. (HTTP/2, in Apache HC 5, can do multiple requests _concurrently_ and requests to multiple vhosts on one connection, but the API changes some.) Compare https://stackoverflow.com/questions/56571672/apache-httpclient-connection-management#56611236","body":"<b>YES multiple HTTP requests and responses can be done over one connection</b> in HTTP/1.0 up i.e. since about 2000. Caching and reusing TCP connections saves a little, but your case is HTTPS and reusing <i>TLS</i> (over TCP) connections saves the TLS handshake which can be relatively slow and costly. (HTTP/2, in Apache HC 5, can do multiple requests <i>concurrently</i> and requests to multiple vhosts on one connection, but the API changes some.) Compare <a href=\"https://stackoverflow.com/questions/56571672/apache-httpclient-connection-management#56611236\" title=\"apache httpclient connection management%2356611236\">stackoverflow.com/questions/56571672/&hellip;</a>"}],"owner":{"account_id":3388948,"reputation":125,"user_id":2844289,"accept_rate":31,"display_name":"bforcer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674254584,"creation_date":1674252653,"question_id":75189784,"body_markdown":"I&#39;m chasing down some http request timeout issues related to my java application that uses spring and Apache HTTPClient to get data from a REST endpoint. \r\n\r\nI create a single instance of `CloseableHttpClient` using spring (simplified in the example below) which is reused to execute requests. With the `try-with-resources` block I&#39;m sure I&#39;m closing the httpResponse, but when I run `netstat` I can see that the TCP connection I created for this request is still `ESTABLISHED` and doesn&#39;t go away until I stop the process or close the `CloseableHttpClient` explicitly.\r\n\r\nI would have expected the underlying TCP connection to be closed when the application marks the connection as completely consumed. Any explanations for this? Seemingly these connections stay established for a long time (hours). Should I be worried about these connections staying around? \r\n  \r\n\r\n```\r\npublic static void checkHttp() throws ClientProtocolException, IOException, InterruptedException {\r\n\tCloseableHttpClient client = HttpClientBuilder.create().build();\r\n\t\t\r\n\tHttpGet request = new HttpGet(&quot;https://www.myapp.com&quot;);\r\n\ttry (CloseableHttpResponse httpResponse = client.execute(request)) {\r\n\t\tHttpEntity entity = httpResponse.getEntity();\r\n\t}\r\n\t\t\r\n\tThread.sleep(500000000);\r\n}\r\n```\r\n\r\nHere&#39;s netstat during the execution:\r\n```\r\n# Before running\r\n~/git/$ netstat -an | grep 443\r\n\r\n# While request is happening\r\n~/git/$ netstat -an | grep 443\r\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\r\n\r\n# After response.close()\r\n~/git/$ netstat -an | grep 443\r\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\r\n\r\n# After client.close()\r\n~/git/$ netstat -an | grep 443\r\ntcp4       0      0  10.2.X.X.63258     100.64.X.X.443       TIME_WAIT \r\n```","title":"Closing Apache HTTPResponse doesn&#39;t close TCP Connection","body":"<p>I'm chasing down some http request timeout issues related to my java application that uses spring and Apache HTTPClient to get data from a REST endpoint.</p>\n<p>I create a single instance of <code>CloseableHttpClient</code> using spring (simplified in the example below) which is reused to execute requests. With the <code>try-with-resources</code> block I'm sure I'm closing the httpResponse, but when I run <code>netstat</code> I can see that the TCP connection I created for this request is still <code>ESTABLISHED</code> and doesn't go away until I stop the process or close the <code>CloseableHttpClient</code> explicitly.</p>\n<p>I would have expected the underlying TCP connection to be closed when the application marks the connection as completely consumed. Any explanations for this? Seemingly these connections stay established for a long time (hours). Should I be worried about these connections staying around?</p>\n<pre><code>public static void checkHttp() throws ClientProtocolException, IOException, InterruptedException {\n    CloseableHttpClient client = HttpClientBuilder.create().build();\n        \n    HttpGet request = new HttpGet(&quot;https://www.myapp.com&quot;);\n    try (CloseableHttpResponse httpResponse = client.execute(request)) {\n        HttpEntity entity = httpResponse.getEntity();\n    }\n        \n    Thread.sleep(500000000);\n}\n</code></pre>\n<p>Here's netstat during the execution:</p>\n<pre><code># Before running\n~/git/$ netstat -an | grep 443\n\n# While request is happening\n~/git/$ netstat -an | grep 443\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\n\n# After response.close()\n~/git/$ netstat -an | grep 443\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\n\n# After client.close()\n~/git/$ netstat -an | grep 443\ntcp4       0      0  10.2.X.X.63258     100.64.X.X.443       TIME_WAIT \n</code></pre>\n"},{"tags":["java","timer","timertask"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674242555,"post_id":75188497,"comment_id":132680712,"body_markdown":"The [documentation of `Timer` clearly says](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Timer.html): &quot;*Tasks may be scheduled for one-time execution, or for repeated execution at regular intervals.*&quot; Thus re-using is not in-scope and thus not possible.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Timer.html\" rel=\"nofollow noreferrer\">documentation of <code>Timer</code> clearly says</a>: &quot;<i>Tasks may be scheduled for one-time execution, or for repeated execution at regular intervals.</i>&quot; Thus re-using is not in-scope and thus not possible."},{"owner":{"account_id":6251182,"reputation":61,"user_id":21000902,"display_name":"data03&#39;"},"score":0,"creation_date":1674243076,"post_id":75188497,"comment_id":132680831,"body_markdown":"You could use a ScheduledExecutorService. With that you could use the scheduleWithFixedDelay method to schedule a task with a fixed delay between the end of the previous task and the start of the next task.","body":"You could use a ScheduledExecutorService. With that you could use the scheduleWithFixedDelay method to schedule a task with a fixed delay between the end of the previous task and the start of the next task."},{"owner":{"account_id":3579384,"reputation":10125,"user_id":2987953,"accept_rate":49,"display_name":"lannyf"},"score":0,"creation_date":1674243304,"post_id":75188497,"comment_id":132680900,"body_markdown":"Thank you guys. So in this case a new timer has to be created. Anyone cares about putting in an answer? I could approve it.","body":"Thank you guys. So in this case a new timer has to be created. Anyone cares about putting in an answer? I could approve it."}],"answers":[{"comments":[{"owner":{"account_id":6251182,"reputation":61,"user_id":21000902,"display_name":"data03&#39;"},"score":0,"creation_date":1674244012,"post_id":75188657,"comment_id":132681072,"body_markdown":"-&gt; `With flowing code if do not always create a new timer, after timer.cancel(), the timer.schedule() will crash with &quot;Timer already cancelled.&quot;.`\n\nThe timer can not be executed again after `cancel()` has been called. It needs to be initialized again since it is meant for a one time execution. `...Tasks may be scheduled for one-time execution...`","body":"-&gt; <code>With flowing code if do not always create a new timer, after timer.cancel(), the timer.schedule() will crash with &quot;Timer already cancelled.&quot;.</code>  The timer can not be executed again after <code>cancel()</code> has been called. It needs to be initialized again since it is meant for a one time execution. <code>...Tasks may be scheduled for one-time execution...</code>"}],"tags":[],"owner":{"account_id":6251182,"reputation":61,"user_id":21000902,"display_name":"data03&#39;"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674243341,"creation_date":1674243341,"answer_id":75188657,"question_id":75188497,"body_markdown":"&gt; A facility for threads to schedule tasks for future execution in a\r\n&gt; background thread. Tasks may be scheduled for one-time execution, or\r\n&gt; for repeated execution at regular intervals.\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Timer.html\r\n\r\nHere is an example using ScheduledExecutorService that could work:\r\n\r\n    private ScheduledExecutorService debouncer = Executors.newSingleThreadScheduledExecutor();\r\n    private ScheduledFuture&lt;?&gt; scheduledRequest;\r\n    \r\n    synchronized void debounceRequest() {\r\n        if (scheduledRequest != null) {\r\n            scheduledRequest.cancel(false);\r\n        }\r\n        scheduledRequest = debouncer.scheduleWithFixedDelay(this::doSendRequest, 0, 150, TimeUnit.MILLISECONDS);\r\n    }\r\n    \r\n    private void doSendRequest() {\r\n        //Send request stuff here\r\n    }","title":"in java the after timer.cancel(), got exctpion","body":"<blockquote>\n<p>A facility for threads to schedule tasks for future execution in a\nbackground thread. Tasks may be scheduled for one-time execution, or\nfor repeated execution at regular intervals.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Timer.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Timer.html</a></p>\n<p>Here is an example using ScheduledExecutorService that could work:</p>\n<pre><code>private ScheduledExecutorService debouncer = Executors.newSingleThreadScheduledExecutor();\nprivate ScheduledFuture&lt;?&gt; scheduledRequest;\n\nsynchronized void debounceRequest() {\n    if (scheduledRequest != null) {\n        scheduledRequest.cancel(false);\n    }\n    scheduledRequest = debouncer.scheduleWithFixedDelay(this::doSendRequest, 0, 150, TimeUnit.MILLISECONDS);\n}\n\nprivate void doSendRequest() {\n    //Send request stuff here\n}\n</code></pre>\n"}],"owner":{"account_id":3579384,"reputation":10125,"user_id":2987953,"accept_rate":49,"display_name":"lannyf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674252962,"creation_date":1674242202,"question_id":75188497,"body_markdown":"Trying do some debouncing, the use case is that client may send multiple requests to server in short interval unnecessarily. The requests are all the same but response is different at the time of the server processing, so the last response is the one to use.\r\n\r\nWith following code if do not always create a new timer, after timer.cancel(), the timer.schedule() will crash with `&quot;Timer already cancelled.&quot;`.\r\n\r\nCan&#39;t the timer be reused?\r\n\r\nIs there better way to do the debouncing without using timer?\r\n\r\n```\r\nprivate Timer debouncerTimer = new Timer();\r\nsynchronized void debounceRequest() {\r\n       \r\n        debouncerTimer.cancel();\r\n\r\n        //debouncerTimer = new Timer(); //&lt;== without this one it crashes with IllegalStateException(&quot;Timer already cancelled.&quot;)\r\n\r\n        debouncerTimer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                \r\n                doSendRequest();\r\n            }\r\n        }, 150);\r\n    }\r\n``` ","title":"in java the after timer.cancel(), got exctpion","body":"<p>Trying do some debouncing, the use case is that client may send multiple requests to server in short interval unnecessarily. The requests are all the same but response is different at the time of the server processing, so the last response is the one to use.</p>\n<p>With following code if do not always create a new timer, after timer.cancel(), the timer.schedule() will crash with <code>&quot;Timer already cancelled.&quot;</code>.</p>\n<p>Can't the timer be reused?</p>\n<p>Is there better way to do the debouncing without using timer?</p>\n<pre><code>private Timer debouncerTimer = new Timer();\nsynchronized void debounceRequest() {\n       \n        debouncerTimer.cancel();\n\n        //debouncerTimer = new Timer(); //&lt;== without this one it crashes with IllegalStateException(&quot;Timer already cancelled.&quot;)\n\n        debouncerTimer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                \n                doSendRequest();\n            }\n        }, 150);\n    }\n</code></pre>\n"},{"tags":["java","cassandra","datastax","datastax-enterprise","datastax-startup"],"comments":[{"owner":{"account_id":3967006,"reputation":1643,"user_id":3272707,"display_name":"MarcintheCloud"},"score":0,"creation_date":1463584276,"post_id":37300879,"comment_id":62129109,"body_markdown":"Hey Dan, can you share your schemas and queries to give us a better idea of what&#39;s going on? While Cassandra is an eventually consistent system, inconsistencies usually mean a larger problem. Cassandra replicates in microseconds - if it takes seconds for all replicas to get the data, something is very wrong.","body":"Hey Dan, can you share your schemas and queries to give us a better idea of what&#39;s going on? While Cassandra is an eventually consistent system, inconsistencies usually mean a larger problem. Cassandra replicates in microseconds - if it takes seconds for all replicas to get the data, something is very wrong."},{"owner":{"account_id":1471109,"reputation":2221,"user_id":3182139,"accept_rate":71,"display_name":"LHWizard"},"score":0,"creation_date":1463594779,"post_id":37300879,"comment_id":62135537,"body_markdown":"do you ever run `nodetool repair`? It&#39;s still a recommended practice afaik. also are your nodes synced up wrt time? the times should be the same within a few millis. otherwise writes can get messed up and older data can appear to be newer because of a bad timestamp.","body":"do you ever run <code>nodetool repair</code>? It&#39;s still a recommended practice afaik. also are your nodes synced up wrt time? the times should be the same within a few millis. otherwise writes can get messed up and older data can appear to be newer because of a bad timestamp."}],"answers":[{"tags":[],"owner":{"account_id":6865905,"reputation":11,"user_id":6227069,"display_name":"Dan Priscornic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674252849,"creation_date":1674252849,"answer_id":75189800,"question_id":37300879,"body_markdown":"UPDATE: Of course, the issues was caused by not running regular repairs.","title":"datastax exterprise - issues while reading with local one","body":"<p>UPDATE: Of course, the issues was caused by not running regular repairs.</p>\n"}],"owner":{"account_id":6865905,"reputation":11,"user_id":6227069,"display_name":"Dan Priscornic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674252849,"creation_date":1463577540,"question_id":37300879,"body_markdown":"We have two tables with replication factor 3. We write in batches to both tables, the same data.  We write with LOCAL_QUORUM.\r\n\r\nWhen we read with LOCAL_ONE we get different results for data written months ago. If we read with LOCAL_QUORUM it&#39;s fine.\r\n\r\nFrom what I understand eventually consistent means that the data wrote in the last seconds might not be consistent .. but \r\nnot the data older than months.\r\n","title":"datastax exterprise - issues while reading with local one","body":"<p>We have two tables with replication factor 3. We write in batches to both tables, the same data.  We write with LOCAL_QUORUM.</p>\n\n<p>When we read with LOCAL_ONE we get different results for data written months ago. If we read with LOCAL_QUORUM it's fine.</p>\n\n<p>From what I understand eventually consistent means that the data wrote in the last seconds might not be consistent .. but \nnot the data older than months.</p>\n"},{"tags":["java","n-queens"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1674241686,"post_id":75188357,"comment_id":132680495,"body_markdown":"This is _very_ unusual: `for(boolean check; ...; ...)`. Usually your for-loop would be defined `for(int column = 0; column &lt; board.length; column++ )`","body":"This is <i>very</i> unusual: <code>for(boolean check; ...; ...)</code>. Usually your for-loop would be defined <code>for(int column = 0; column &lt; board.length; column++ )</code>"},{"owner":{"account_id":27583008,"reputation":1,"user_id":21051793,"display_name":"Joy"},"score":0,"creation_date":1674242098,"post_id":75188357,"comment_id":132680612,"body_markdown":"I tried it and the loop went on forever. It became infinite :/","body":"I tried it and the loop went on forever. It became infinite :/"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1674252117,"post_id":75188357,"comment_id":132682767,"body_markdown":"*&quot;While loop gets terminated before condition is met&quot;* - no, it doesn&#39;t, because you don&#39;t have any `break` or `return` or `throw` that would get out of that loop. The only way it happens is when the condition becomes false. So you should investigate why the condition is becoming false when you don&#39;t expect it to.","body":"<i>&quot;While loop gets terminated before condition is met&quot;</i> - no, it doesn&#39;t, because you don&#39;t have any <code>break</code> or <code>return</code> or <code>throw</code> that would get out of that loop. The only way it happens is when the condition becomes false. So you should investigate why the condition is becoming false when you don&#39;t expect it to."},{"owner":{"account_id":27583008,"reputation":1,"user_id":21051793,"display_name":"Joy"},"score":0,"creation_date":1674254219,"post_id":75188357,"comment_id":132683206,"body_markdown":"I think I fixed the while problem for now but now I have a different issue. Will try to figure it out.","body":"I think I fixed the while problem for now but now I have a different issue. Will try to figure it out."}],"owner":{"account_id":27583008,"reputation":1,"user_id":21051793,"display_name":"Joy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674251877,"creation_date":1674241309,"question_id":75188357,"body_markdown":"I&#39;m trying to write an iterative program that will help me palce 4 queens on a 4x4 board without them hitting each other. The problem is after looping through each position and backtracking a couple of times my main while loop that keeps looping until a solution is found gets terminated and the program ends even though the condition is not yet met.\r\n\r\n\r\nI tried the following code:\r\n\r\n```\r\nstatic int[] solve(char[][] board){\r\n    int[] position = new int[4];\r\n    int row = 0;\r\n    int column = 0;\r\n\r\n    while(row &lt; 4){\r\n        for(boolean check; column &lt; board.length; column++){\r\n            System.out.println(&quot;[&quot;+row+&quot;,&quot;+column+&quot;]&quot;);\r\n            check = true;\r\n            for(int queen= 0; queen &lt; row; queen++){\r\n                if (position[queen] == column || queen- position[queen] == row - column || queen + position[queen] == row + column) {\r\n                    check = false;\r\n                    break;\r\n                }\r\n            }\r\n            if(check){\r\n                position[row] = column;\r\n                column = 0;\r\n                row++;\r\n            }\r\n            if(column &gt; 2){\r\n                column = position[--row];\r\n            }\r\n        }\r\n    }\r\n    return position;\r\n}\r\n```\r\n\r\nI&#39;m currently getting the following output:\r\n\r\n| Q | X | X | X |\r\n\r\n| X | X | X | Q |\r\n\r\n| X | Q | X | X |\r\n\r\n| Q | X | X | X |\r\n\r\nTo check when exactly the while loop is getting terminated I printed the location (row and column) \r\n`System.out.println(&quot;[&quot;+row+&quot;,&quot;+column+&quot;]&quot;);` and got the following: \r\n\r\n[0,0][1,0][1,1][1,2][2,0][2,1][2,2][2,3][1,3][2,0][2,1][3,0][3,1][3,2][3,3][2,2][2,3]\r\n\r\nAfter backtracking to [2,3] the while loop ends even though my row count is still less than 4.\r\n\r\nI was expecting the following output:\r\n\r\n| X | Q | X | X |\r\n\r\n| X | X | X | Q |\r\n\r\n| Q | X | X | X |\r\n\r\n| X | X | Q | X |\r\n\r\nI tried the code in a different compiler and still got the same wrong output. Is there a logical mistake that I missed out? \r\n\r\nI&#39;m new to programming so I&#39;m still trying to get the hang of the fundamentals.","title":"While loop gets terminated before condition is met when backtracking","body":"<p>I'm trying to write an iterative program that will help me palce 4 queens on a 4x4 board without them hitting each other. The problem is after looping through each position and backtracking a couple of times my main while loop that keeps looping until a solution is found gets terminated and the program ends even though the condition is not yet met.</p>\n<p>I tried the following code:</p>\n<pre><code>static int[] solve(char[][] board){\n    int[] position = new int[4];\n    int row = 0;\n    int column = 0;\n\n    while(row &lt; 4){\n        for(boolean check; column &lt; board.length; column++){\n            System.out.println(&quot;[&quot;+row+&quot;,&quot;+column+&quot;]&quot;);\n            check = true;\n            for(int queen= 0; queen &lt; row; queen++){\n                if (position[queen] == column || queen- position[queen] == row - column || queen + position[queen] == row + column) {\n                    check = false;\n                    break;\n                }\n            }\n            if(check){\n                position[row] = column;\n                column = 0;\n                row++;\n            }\n            if(column &gt; 2){\n                column = position[--row];\n            }\n        }\n    }\n    return position;\n}\n</code></pre>\n<p>I'm currently getting the following output:</p>\n<p>| Q | X | X | X |</p>\n<p>| X | X | X | Q |</p>\n<p>| X | Q | X | X |</p>\n<p>| Q | X | X | X |</p>\n<p>To check when exactly the while loop is getting terminated I printed the location (row and column)\n<code>System.out.println(&quot;[&quot;+row+&quot;,&quot;+column+&quot;]&quot;);</code> and got the following:</p>\n<p>[0,0][1,0][1,1][1,2][2,0][2,1][2,2][2,3][1,3][2,0][2,1][3,0][3,1][3,2][3,3][2,2][2,3]</p>\n<p>After backtracking to [2,3] the while loop ends even though my row count is still less than 4.</p>\n<p>I was expecting the following output:</p>\n<p>| X | Q | X | X |</p>\n<p>| X | X | X | Q |</p>\n<p>| Q | X | X | X |</p>\n<p>| X | X | Q | X |</p>\n<p>I tried the code in a different compiler and still got the same wrong output. Is there a logical mistake that I missed out?</p>\n<p>I'm new to programming so I'm still trying to get the hang of the fundamentals.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data"],"comments":[{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1673960682,"post_id":75140004,"comment_id":132608995,"body_markdown":"You need to set a User on every Item you want to persist. Is not that the cause of the problem?","body":"You need to set a User on every Item you want to persist. Is not that the cause of the problem?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673961239,"post_id":75140004,"comment_id":132609171,"body_markdown":"how is `user_id` supposed to be populated if you defined it as `nullable = false, insertable=false, updatable=false`?","body":"how is <code>user_id</code> supposed to be populated if you defined it as <code>nullable = false, insertable=false, updatable=false</code>?"},{"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"score":0,"creation_date":1673968817,"post_id":75140004,"comment_id":132612077,"body_markdown":"Yes I need to set but my question is how do I get the current logged in user to be linked to the added product @Michal","body":"Yes I need to set but my question is how do I get the current logged in user to be linked to the added product @Michal"},{"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"score":0,"creation_date":1673968896,"post_id":75140004,"comment_id":132612098,"body_markdown":"@AndreyB.Panfilov this does not effect it I was just playing around with some things my problem is I need to set the currently logged in user to the item, thank you in advance","body":"@AndreyB.Panfilov this does not effect it I was just playing around with some things my problem is I need to set the currently logged in user to the item, thank you in advance"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673980811,"post_id":75140004,"comment_id":132616030,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1673983283,"post_id":75140004,"comment_id":132616798,"body_markdown":"@James Coding - so your question is not at all about the error you are getting? It is instead about how to get the logged-in user?","body":"@James Coding - so your question is not at all about the error you are getting? It is instead about how to get the logged-in user?"},{"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"score":0,"creation_date":1674049260,"post_id":75140004,"comment_id":132631473,"body_markdown":"@Michal The reason I&#39;m getting this error is because I want to set user id to currently logged in user which I&#39;m not sure how to do so yes that is the issue","body":"@Michal The reason I&#39;m getting this error is because I want to set user id to currently logged in user which I&#39;m not sure how to do so yes that is the issue"}],"answers":[{"tags":[],"owner":{"account_id":8742400,"reputation":35,"user_id":6539041,"display_name":"Vescoci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674251459,"creation_date":1674251459,"answer_id":75189650,"question_id":75140004,"body_markdown":"There are a few ways to get a User connected to an Item. Since you are using the current logged in user, one way is to retrieve that user&#39;s User object information from the database and then attaching it to the Item you plan to save right before calling:\r\n`itemRepository.save(item)`.\r\n\r\nAs I don&#39;t know how you store session information I cannot give an exact way but as an example if you are using Spring Security you could use the following:\r\n\r\n    @PostMapping(&quot;/process_Item&quot;)\r\n    public String itemAdd(Item item, Principal principal)  {\r\n        User user = userRepository.findByUsername(principal.getName());\r\n\r\n        item.setUser(user);\r\n        itemRepository.save(item);\r\n        return &quot;home_page&quot;;\r\n    }","title":"SpringBoot ManyToOne saving to database issue - getting error: Field &#39;user_id&#39; doesn&#39;t have a default value","body":"<p>There are a few ways to get a User connected to an Item. Since you are using the current logged in user, one way is to retrieve that user's User object information from the database and then attaching it to the Item you plan to save right before calling:\n<code>itemRepository.save(item)</code>.</p>\n<p>As I don't know how you store session information I cannot give an exact way but as an example if you are using Spring Security you could use the following:</p>\n<pre><code>@PostMapping(&quot;/process_Item&quot;)\npublic String itemAdd(Item item, Principal principal)  {\n    User user = userRepository.findByUsername(principal.getName());\n\n    item.setUser(user);\n    itemRepository.save(item);\n    return &quot;home_page&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189650,"answer_count":1,"score":0,"last_activity_date":1674251459,"creation_date":1673905612,"question_id":75140004,"body_markdown":"My situation is this: I am creating a marketplace where users can buy and sell products. I am trying to list a product with a ManyToOne relationship with the logged in user. I am getting the error: Field &#39;user_id&#39; doesn&#39;t have a default value. Im guessing this is because I haven&#39;t set the user_id but I&#39;m not sure how to.\r\n\r\nHere is the code: \r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;msItem&quot;)\r\n    public class Item {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long itemId;\r\n    \r\n    \t@Column(nullable = false, length = 45)\r\n    \tprivate String itemName;\r\n    \r\n    \t@Column(nullable = false)\r\n    \tprivate int itemPrice;\r\n    \r\n    \t@Column(nullable = false, length = 100)\r\n    \tprivate String itemDesc;\r\n    \r\n    \t@Column(nullable = false, length = 100)\r\n    \tprivate String category;\r\n    \r\n    \t@Column(nullable = false, length = 100)\r\n    \tprivate String image;\r\n    \r\n    \t@ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false, insertable=false, updatable=false)\r\n        private User user;\r\n    \r\n    \tpublic long getItemId() {\r\n    \t\treturn itemId;\r\n    \t}\r\n    \r\n    \tpublic void setItemId(long itemId) {\r\n    \t\tthis.itemId = itemId;\r\n    \t}\r\n    \r\n    \tpublic String getItemName() {\r\n    \t\treturn itemName;\r\n    \t}\r\n    \r\n    \tpublic void setItemName(String itemName) {\r\n    \t\tthis.itemName = itemName;\r\n    \t}\r\n    \r\n    \tpublic int getItemPrice() {\r\n    \t\treturn itemPrice;\r\n    \t}\r\n    \r\n    \tpublic void setItemPrice(int itemPrice) {\r\n    \t\tthis.itemPrice = itemPrice;\r\n    \t}\r\n    \r\n    \tpublic String getItemDesc() {\r\n    \t\treturn itemDesc;\r\n    \t}\r\n    \r\n    \tpublic void setItemDesc(String itemDesc) {\r\n    \t\tthis.itemDesc = itemDesc;\r\n    \t}\r\n    \r\n    \tpublic String getCategory() {\r\n    \t\treturn category;\r\n    \t}\r\n    \r\n    \tpublic void setCategory(String category) {\r\n    \t\tthis.category = category;\r\n    \t}\r\n    \r\n    \tpublic String getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic void setImage(String image) {\r\n    \t\tthis.image = image;\r\n    \t}\r\n    \r\n    \tpublic User user() {\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Service\r\n    public class ItemServiceImp{\r\n    \r\n        @Autowired\r\n        private ItemRepository itemRepository;\r\n    \r\n        public List&lt;Item&gt; listItems(User user) {\r\n             return itemRepository.findByUser(user);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Repository\r\n    public interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\r\n    \r\n        public List&lt;Item&gt; findByUser(User user);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Controller\r\n    public class ProductController {\r\n    \r\n        @Autowired\r\n        private ItemRepository itemRepository;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @GetMapping(&quot;/listItem&quot;)\r\n        public String listing(Model model) {\r\n    \r\n            model.addAttribute(&quot;item&quot;, new Item());\r\n            return &quot;addItem&quot;;\r\n    \r\n    \r\n        }\r\n    \r\n        @PostMapping(&quot;/process_Item&quot;)\r\n        public String itemAdd(Item item)  {\r\n    \r\n            itemRepository.save(item);\r\n            return &quot;home_page&quot;;\r\n    \r\n    \r\n        }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nError is happening at line 27 of controller class\r\n\r\nPlease help.. Thank you in advance!\r\n","title":"SpringBoot ManyToOne saving to database issue - getting error: Field &#39;user_id&#39; doesn&#39;t have a default value","body":"<p>My situation is this: I am creating a marketplace where users can buy and sell products. I am trying to list a product with a ManyToOne relationship with the logged in user. I am getting the error: Field 'user_id' doesn't have a default value. Im guessing this is because I haven't set the user_id but I'm not sure how to.</p>\n<p>Here is the code:</p>\n<pre><code>@Entity\n@Table(name = &quot;msItem&quot;)\npublic class Item {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long itemId;\n\n    @Column(nullable = false, length = 45)\n    private String itemName;\n\n    @Column(nullable = false)\n    private int itemPrice;\n\n    @Column(nullable = false, length = 100)\n    private String itemDesc;\n\n    @Column(nullable = false, length = 100)\n    private String category;\n\n    @Column(nullable = false, length = 100)\n    private String image;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false, insertable=false, updatable=false)\n    private User user;\n\n    public long getItemId() {\n        return itemId;\n    }\n\n    public void setItemId(long itemId) {\n        this.itemId = itemId;\n    }\n\n    public String getItemName() {\n        return itemName;\n    }\n\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n\n    public int getItemPrice() {\n        return itemPrice;\n    }\n\n    public void setItemPrice(int itemPrice) {\n        this.itemPrice = itemPrice;\n    }\n\n    public String getItemDesc() {\n        return itemDesc;\n    }\n\n    public void setItemDesc(String itemDesc) {\n        this.itemDesc = itemDesc;\n    }\n\n    public String getCategory() {\n        return category;\n    }\n\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public User user() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n}\n\n\n\n\n\n\n\n@Service\npublic class ItemServiceImp{\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n    public List&lt;Item&gt; listItems(User user) {\n         return itemRepository.findByUser(user);\n    }\n}\n\n\n\n\n\n\n\n@Repository\npublic interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\n\n    public List&lt;Item&gt; findByUser(User user);\n}\n\n\n\n\n\n\n\n@Controller\npublic class ProductController {\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n\n\n\n\n    @GetMapping(&quot;/listItem&quot;)\n    public String listing(Model model) {\n\n        model.addAttribute(&quot;item&quot;, new Item());\n        return &quot;addItem&quot;;\n\n\n    }\n\n    @PostMapping(&quot;/process_Item&quot;)\n    public String itemAdd(Item item)  {\n\n        itemRepository.save(item);\n        return &quot;home_page&quot;;\n\n\n    }\n</code></pre>\n<p>}</p>\n<p>Error is happening at line 27 of controller class</p>\n<p>Please help.. Thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-session"],"comments":[{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1671146734,"post_id":74816992,"comment_id":132042233,"body_markdown":"This definitely seems like a bug, but to be sure, a minimal reproducible sample would be helpful. Have you been able to isolate this behavior from your larger application and can you reproduce it with a fresh spring boot app?","body":"This definitely seems like a bug, but to be sure, a minimal reproducible sample would be helpful. Have you been able to isolate this behavior from your larger application and can you reproduce it with a fresh spring boot app?"},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1671148487,"post_id":74816992,"comment_id":132042504,"body_markdown":"@SteveRiesenberg as I was putting together the question I realized there is potentially a lot going on that could make it hard to pinpoint what&#39;s going on. Isolating the issue in a fresh app sounds like my next step, thanks. I&#39;ll post a link here once I get a chance to put that together.","body":"@SteveRiesenberg as I was putting together the question I realized there is potentially a lot going on that could make it hard to pinpoint what&#39;s going on. Isolating the issue in a fresh app sounds like my next step, thanks. I&#39;ll post a link here once I get a chance to put that together."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1671154768,"post_id":74816992,"comment_id":132043438,"body_markdown":"does enabling [Force Eager Session Creation](https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#session-mgmt-force-session-creation) help? FYI, according to logs `curl` and `HttpClient` are consuming different urls: `localhost:9000` and `localhost:64723`","body":"does enabling <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#session-mgmt-force-session-creation\" rel=\"nofollow noreferrer\">Force Eager Session Creation</a> help? FYI, according to logs <code>curl</code> and <code>HttpClient</code> are consuming different urls: <code>localhost:9000</code> and <code>localhost:64723</code>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671158158,"post_id":74816992,"comment_id":132043926,"body_markdown":"+ https://docs.spring.io/spring-security/reference/migration/servlet/session-management.html","body":"+ <a href=\"https://docs.spring.io/spring-security/reference/migration/servlet/session-management.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/migration/servlet/&hellip;</a>"},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1671187182,"post_id":74816992,"comment_id":132049738,"body_markdown":"@AndreyB.Panfilov using eager session creation fixed it! I knew about SessionCreationPolicy but hadn&#39;t tried changing it for this issue - I am interested in understanding what&#39;s going on instead of just patching it. But that is a good find, thank you. The migration guide is something I have already gone over, that&#39;s where my addition of requireExplicitSave() came from.","body":"@AndreyB.Panfilov using eager session creation fixed it! I knew about SessionCreationPolicy but hadn&#39;t tried changing it for this issue - I am interested in understanding what&#39;s going on instead of just patching it. But that is a good find, thank you. The migration guide is something I have already gone over, that&#39;s where my addition of requireExplicitSave() came from."},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1671187593,"post_id":74816992,"comment_id":132049842,"body_markdown":"@AndreyB.Panfilov The different ports are because 9000 is from running the app standalone and hitting it with curl from the command line, and the other is a random port assigned when running the @ SpringBootTest where HttpClient is called from a test method.","body":"@AndreyB.Panfilov The different ports are because 9000 is from running the app standalone and hitting it with curl from the command line, and the other is a random port assigned when running the @ SpringBootTest where HttpClient is called from a test method."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671188943,"post_id":74816992,"comment_id":132050260,"body_markdown":"@Jason your guess about preflight calls performed by HttpClient seems to be correct, old versions had a special flag: https://hc.apache.org/httpclient-legacy/authentication.html#Preemptive_Authentication and if my memory serves me right I was doing something very similar for new versions.","body":"@Jason your guess about preflight calls performed by HttpClient seems to be correct, old versions had a special flag: <a href=\"https://hc.apache.org/httpclient-legacy/authentication.html#Preemptive_Authentication\" rel=\"nofollow noreferrer\">hc.apache.org/httpclient-legacy/&hellip;</a> and if my memory serves me right I was doing something very similar for new versions."},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1671190322,"post_id":74816992,"comment_id":132050706,"body_markdown":"This is about java.net.http.HttpClient, yeah the names are confusing :/","body":"This is about java.net.http.HttpClient, yeah the names are confusing :/"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671194195,"post_id":74816992,"comment_id":132051898,"body_markdown":"The same idea in [java.net.http.HttpClient](https://stackoverflow.com/questions/58606145/how-to-do-preemptive-authentication-using-java-11-http-client)","body":"The same idea in <a href=\"https://stackoverflow.com/questions/58606145/how-to-do-preemptive-authentication-using-java-11-http-client\">java.net.http.HttpClient</a>"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1671211838,"post_id":74816992,"comment_id":132057901,"body_markdown":"I think that when using the `HttpClient` it is always sending the credentials in the request, while in JS and Curl you are sending only once. The basic authentication has a stateless nature and needs the credentials to be sent on every request unless you are using some kind of Remember me feature","body":"I think that when using the <code>HttpClient</code> it is always sending the credentials in the request, while in JS and Curl you are sending only once. The basic authentication has a stateless nature and needs the credentials to be sent on every request unless you are using some kind of Remember me feature"},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1671232452,"post_id":74816992,"comment_id":132062772,"body_markdown":"@SteveRiesenberg here is a simple fresh project that demonstrates the behavior: https://github.com/thinkbigthings/curl-test  The behavior is exactly the same as what I see in my larger project. I actually was able to replicate the behavior of HttpClient using curl and craft my own preflight call.","body":"@SteveRiesenberg here is a simple fresh project that demonstrates the behavior: <a href=\"https://github.com/thinkbigthings/curl-test\" rel=\"nofollow noreferrer\">github.com/thinkbigthings/curl-test</a>  The behavior is exactly the same as what I see in my larger project. I actually was able to replicate the behavior of HttpClient using curl and craft my own preflight call."},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":1,"creation_date":1671233902,"post_id":74816992,"comment_id":132063001,"body_markdown":"The question is now better phrased: &quot;why does spring security not create a session linked to the authenticated user on initial authentication?&quot; or &quot;How can I configure spring security to link a session to the authenticated user on initial authentication?&quot; I think it worked like that before I upgraded to spring security 6 - all of my curl test commands worked before but now don&#39;t work without a separate preflight call to create the session.","body":"The question is now better phrased: &quot;why does spring security not create a session linked to the authenticated user on initial authentication?&quot; or &quot;How can I configure spring security to link a session to the authenticated user on initial authentication?&quot; I think it worked like that before I upgraded to spring security 6 - all of my curl test commands worked before but now don&#39;t work without a separate preflight call to create the session."}],"answers":[{"comments":[{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":1,"creation_date":1671328131,"post_id":74838578,"comment_id":132075823,"body_markdown":"That does indeed restore the old behavior! I didn&#39;t know I could restore the old repository directly, this is an interesting find and seems like it should have been included in the migration guide. Thank you sir!","body":"That does indeed restore the old behavior! I didn&#39;t know I could restore the old repository directly, this is an interesting find and seems like it should have been included in the migration guide. Thank you sir!"},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1671328868,"post_id":74838578,"comment_id":132075889,"body_markdown":"Out of curiosity, what do you mean &quot;investigate why preflight requests make sense&quot;? Does it make more sense to use preflight requests than to make a basic auth request directly?","body":"Out of curiosity, what do you mean &quot;investigate why preflight requests make sense&quot;? Does it make more sense to use preflight requests than to make a basic auth request directly?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671329881,"post_id":74838578,"comment_id":132075973,"body_markdown":"@Jason Preflight requests cause spring to [handle AccessDenied exceptions and save failed requests in http session](https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/access/ExceptionTranslationFilter.java#L218). Such implementation seems to be weird: it does not create sessions by default for authenticated users and does create session for unauthenticated users, who are potential attackers.","body":"@Jason Preflight requests cause spring to <a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/access/ExceptionTranslationFilter.java#L218\" rel=\"nofollow noreferrer\">handle AccessDenied exceptions and save failed requests in http session</a>. Such implementation seems to be weird: it does not create sessions by default for authenticated users and does create session for unauthenticated users, who are potential attackers."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671330059,"post_id":74838578,"comment_id":132075984,"body_markdown":"So, attacker may potentially consume a lot of server memory via sending malicious http requests, that is definitely a DoS.","body":"So, attacker may potentially consume a lot of server memory via sending malicious http requests, that is definitely a DoS."},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1671365705,"post_id":74838578,"comment_id":132079936,"body_markdown":"I just replicated it explicitly: it does NOT create sessions for calls that pass authentication and DOES create sessions for calls that fail authentication - which seems backwards. Another aspect is that it does create a session for authenticated users if we use SessionCreationPolicy.IF_REQUIRED ... I read online that this is the default policy, but the behavior clearly changes when I set it, and stepping into the debugger I see that the policy is actually null unless I set it.","body":"I just replicated it explicitly: it does NOT create sessions for calls that pass authentication and DOES create sessions for calls that fail authentication - which seems backwards. Another aspect is that it does create a session for authenticated users if we use SessionCreationPolicy.IF_REQUIRED ... I read online that this is the default policy, but the behavior clearly changes when I set it, and stepping into the debugger I see that the policy is actually null unless I set it."},{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":1,"creation_date":1671381078,"post_id":74838578,"comment_id":132082783,"body_markdown":"@andrey-b-panfilov I created a spring security issue, let&#39;s see what they say  https://github.com/spring-projects/spring-security/issues/12431","body":"@andrey-b-panfilov I created a spring security issue, let&#39;s see what they say  <a href=\"https://github.com/spring-projects/spring-security/issues/12431\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/12431</a>"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1671326988,"creation_date":1671326988,"answer_id":74838578,"question_id":74816992,"body_markdown":"Well, if we are not going to investigate why preflight requests make sense (IMO, that seems to be a bug), the explanation of what has been changed in spring 6 is following:\r\n\r\nas was mentioned in [Session Management Migrations](https://docs.spring.io/spring-security/reference/migration/servlet/session-management.html) now Spring does not enable [SecurityContextPersistenceFilter](https://docs.spring.io/spring-security/reference/servlet/authentication/persistence.html#securitycontextpersistencefilter) by default, however in Spring 5 [SecurityContextPersistenceFilter](https://docs.spring.io/spring-security/reference/servlet/authentication/persistence.html#securitycontextpersistencefilter) was responsible for saving `SecurityContext` in `http session` (and hence creating it) unless that was explicitly disabled. Now in order to return previous behaviour you desire you need to setup `SecurityContextRepository` via:\r\n\r\n  ```java\r\n  http.securityContext(securityContext -&gt; securityContext.\r\n        securityContextRepository(new HttpSessionSecurityContextRepository())\r\n  )\r\n  ```","title":"Why does Spring Security 6 not create sessions when authenticating with curl and basic auth?","body":"<p>Well, if we are not going to investigate why preflight requests make sense (IMO, that seems to be a bug), the explanation of what has been changed in spring 6 is following:</p>\n<p>as was mentioned in <a href=\"https://docs.spring.io/spring-security/reference/migration/servlet/session-management.html\" rel=\"noreferrer\">Session Management Migrations</a> now Spring does not enable <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/persistence.html#securitycontextpersistencefilter\" rel=\"noreferrer\">SecurityContextPersistenceFilter</a> by default, however in Spring 5 <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/persistence.html#securitycontextpersistencefilter\" rel=\"noreferrer\">SecurityContextPersistenceFilter</a> was responsible for saving <code>SecurityContext</code> in <code>http session</code> (and hence creating it) unless that was explicitly disabled. Now in order to return previous behaviour you desire you need to setup <code>SecurityContextRepository</code> via:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.securityContext(securityContext -&gt; securityContext.\n      securityContextRepository(new HttpSessionSecurityContextRepository())\n)\n</code></pre>\n"}],"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4380,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":74838578,"answer_count":1,"score":11,"last_activity_date":1674250566,"creation_date":1671134833,"question_id":74816992,"body_markdown":"I recently upgraded to Spring Security 6, and have found that authenticating using basic auth from JS or from curl no longer works but authenticating with basic auth using Java&#39;s HttpClient does work. My goal is to be able to authenticate with all approaches.\r\n\r\nThe app uses Java 17, Spring Security 6, and Spring Session 3. It has a &quot;login&quot; endpoint which is just a convenience endpoint that is expected to be hit with basic auth and create a session, and it returns a User object. The session id should be used for subsequent requests to other endpoints.\r\n\r\nThe curl command is like so:\r\n\r\n     curl -kv --user admin:admin &quot;https://localhost:9000/login&quot;\r\n\r\nVS the HttpClient is configured like so and calling HttpClient.get(loginUrl)\r\n\r\n    HttpClient.newBuilder()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.connectTimeout(Duration.ofSeconds(300))\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.cookieHandler(new CookieManager())\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.authenticator(new BasicAuthenticator(username, password))\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.sslContext(createSsl())\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.build();\r\n\r\n    public class BasicAuthenticator extends Authenticator {\r\n    \r\n    &#160;&#160;&#160;private PasswordAuthentication authentication;\r\n    \r\n    &#160;&#160;&#160;public BasicAuthenticator(String username, String password) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;authentication = new PasswordAuthentication(username, password.toCharArray());\r\n    &#160;&#160;&#160;}\r\n\r\n    &#160;&#160;&#160;@Override\r\n    &#160;&#160;&#160;public PasswordAuthentication getPasswordAuthentication() {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;return authentication;\r\n    &#160;&#160;&#160;}\r\n    }\r\n\r\nThe security configuration is the block below... In upgrading to SpringSecurity 6 I added the requireExplicitSave() method, I have suspicions around this because my trouble is around saving sessions, but the added code is supposed to have spring security using the old functionality.\r\n\r\n    http\r\n    &#160;&#160;&#160;.securityContext( securityContext -&gt; securityContext.requireExplicitSave(false))\r\n    &#160;&#160;&#160;.authorizeHttpRequests((authz) -&gt; authz\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.requestMatchers(openEndpoints).permitAll()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.anyRequest().authenticated()\r\n    &#160;&#160;&#160;)\r\n    &#160;&#160;&#160;.httpBasic()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.and()\r\n    &#160;&#160;&#160;.csrf()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.disable()\r\n    &#160;&#160;&#160;.exceptionHandling()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.accessDeniedHandler((req, resp, e) -&gt; e.printStackTrace() )\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.and()\r\n    &#160;&#160;&#160;.logout()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.invalidateHttpSession(true)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;.clearAuthentication(true);\r\n\r\n\r\nI turned on request logging, security logging, and SQL logging. The SQL is all the same, and the basic auth request is always authenticated for all scenarios. The headers are different, but I can&#39;t see the headers for the HttpClient preflight call, and of the headers I do see, I don&#39;t know why authentication or session creation would work for one set of headers but not the other.\r\n\r\nThe core of the problem seems to be that the login request from the HttpClient ends with a session being created and the request from curl does not. Note that the big difference in the server logs when using curl is &quot;Failed to create a session, as response has been committed. Unable to store SecurityContext.&quot; However even stepping through the spring security code I can&#39;t tell what is causing the difference.&#160;\r\n\r\nSee logs here:\r\n\r\nCURL\r\n\r\n    2022-12-14T16:38:07.594-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2022-12-14T16:38:07.597-05:00 DEBUG 92726 --- [nio-9000-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2022-12-14T16:38:07.704-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,r1_0.user_id,r1_0.role_id,u1_0.username from app_user u1_0 join user_role r1_0 on u1_0.id=r1_0.user_id where u1_0.username=?\r\n    2022-12-14T16:38:07.797-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n    2022-12-14T16:38:07.799-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN, ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_USER]]\r\n    2022-12-14T16:38:07.801-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2022-12-14T16:38:07.805-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /login, headers=[host:&quot;localhost:9000&quot;, authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, user-agent:&quot;curl/7.84.0&quot;, accept:&quot;*/*&quot;]]\r\n    2022-12-14T16:38:07.816-05:00 DEBUG 92726 --- [nio-9000-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\r\n    2022-12-14T16:38:07.822-05:00 DEBUG 92726 --- [nio-9000-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\r\n    2022-12-14T16:38:07.826-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,u1_0.username from app_user u1_0 where u1_0.username=?\r\n    2022-12-14T16:38:07.832-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select r1_0.user_id,r1_0.role_id from user_role r1_0 where r1_0.user_id=?\r\n    2022-12-14T16:38:07.836-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select a1_0.user_id,a1_0.id,a1_0.city,a1_0.line1,a1_0.state,a1_0.zip from address a1_0 where a1_0.user_id=?\r\n    2022-12-14T16:38:07.840-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select s1_0.principal_name,s1_0.primary_id,s1_0.session_id from spring_session s1_0 where s1_0.principal_name=?\r\n    2022-12-14T16:38:07.871-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /login, headers=[host:&quot;localhost:9000&quot;, authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, user-agent:&quot;curl/7.84.0&quot;, accept:&quot;*/*&quot;]]\r\n    2022-12-14T16:38:07.873-05:00  WARN 92726 --- [nio-9000-exec-1] w.c.HttpSessionSecurityContextRepository : Failed to create a session, as response has been committed. Unable to store SecurityContext.\r\n    2022-12-14T16:38:07.873-05:00 DEBUG 92726 --- [nio-9000-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\nHttpClient\r\n\r\n    2022-12-14T06:31:28.390-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2022-12-14T06:31:28.420-05:00 DEBUG 85610 --- [o-auto-1-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2022-12-14T06:31:28.913-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,r1_0.user_id,r1_0.role_id,u1_0.username from app_user u1_0 join user_role r1_0 on u1_0.id=r1_0.user_id where u1_0.username=?\r\n    2022-12-14T06:31:29.102-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n    2022-12-14T06:31:29.103-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN, ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19ab0971-5fb3-47fd-a4f9-cdde1ad24883], Granted Authorities=[ROLE_ADMIN, ROLE_USER]]\r\n    2022-12-14T06:31:29.108-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login\r\n    2022-12-14T06:31:29.136-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /login, headers=[authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, content-length:&quot;0&quot;, host:&quot;localhost:64723&quot;, user-agent:&quot;Java-http-client/17.0.2&quot;, cookie:&quot;SESSION=MTlhYjA5NzEtNWZiMy00N2ZkLWE0ZjktY2RkZTFhZDI0ODgz&quot;, Content-Type:&quot;application/json;charset=UTF-8&quot;]]\r\n    2022-12-14T06:31:29.274-05:00 DEBUG 85610 --- [o-auto-1-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\r\n    2022-12-14T06:31:29.332-05:00 DEBUG 85610 --- [o-auto-1-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\r\n    2022-12-14T06:31:29.373-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,u1_0.username from app_user u1_0 where u1_0.username=?\r\n    2022-12-14T06:31:29.392-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select r1_0.user_id,r1_0.role_id from user_role r1_0 where r1_0.user_id=?\r\n    2022-12-14T06:31:29.409-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select a1_0.user_id,a1_0.id,a1_0.city,a1_0.line1,a1_0.state,a1_0.zip from address a1_0 where a1_0.user_id=?\r\n    2022-12-14T06:31:29.413-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select s1_0.principal_name,s1_0.primary_id,s1_0.session_id from spring_session s1_0 where s1_0.principal_name=?\r\n    2022-12-14T06:31:29.678-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /login, headers=[authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, content-length:&quot;0&quot;, host:&quot;localhost:64723&quot;, user-agent:&quot;Java-http-client/17.0.2&quot;, cookie:&quot;SESSION=MTlhYjA5NzEtNWZiMy00N2ZkLWE0ZjktY2RkZTFhZDI0ODgz&quot;, Content-Type:&quot;application/json;charset=UTF-8&quot;]]\r\n    2022-12-14T06:31:29.680-05:00 DEBUG 85610 --- [o-auto-1-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN, ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19ab0971-5fb3-47fd-a4f9-cdde1ad24883], Granted Authorities=[ROLE_ADMIN, ROLE_USER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7ba784f2]\r\n    2022-12-14T06:31:29.680-05:00 DEBUG 85610 --- [o-auto-1-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\nNote the session in headers for the HttpClient call... I think HttpClient makes a preflight auth call that gets a 401 and then makes the &quot;real&quot; call with the credentials, at least that&#39;s how it was in Java 11.\r\n\r\nI think if I understood the difference in how these calls are being made/handled that causes one technique to work but not the other, I would be able to solve the problem. So that really is the question: What is the difference in spring security 6 (along with spring session) handling session creation when using Java 17&#39;s HttpClient vs curl?\r\n\r\n[UPDATE] to anyone who read this far: the behavior is actually expected behavior for Spring Security. A full discussion and explanation are in the spring security issue that I had opened [here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/12431","title":"Why does Spring Security 6 not create sessions when authenticating with curl and basic auth?","body":"<p>I recently upgraded to Spring Security 6, and have found that authenticating using basic auth from JS or from curl no longer works but authenticating with basic auth using Java's HttpClient does work. My goal is to be able to authenticate with all approaches.</p>\n<p>The app uses Java 17, Spring Security 6, and Spring Session 3. It has a &quot;login&quot; endpoint which is just a convenience endpoint that is expected to be hit with basic auth and create a session, and it returns a User object. The session id should be used for subsequent requests to other endpoints.</p>\n<p>The curl command is like so:</p>\n<pre><code> curl -kv --user admin:admin &quot;https://localhost:9000/login&quot;\n</code></pre>\n<p>VS the HttpClient is configured like so and calling HttpClient.get(loginUrl)</p>\n<pre><code>HttpClient.newBuilder()\n       .connectTimeout(Duration.ofSeconds(300))\n       .cookieHandler(new CookieManager())\n       .authenticator(new BasicAuthenticator(username, password))\n       .sslContext(createSsl())\n       .build();\n\npublic class BasicAuthenticator extends Authenticator {\n\n   private PasswordAuthentication authentication;\n\n   public BasicAuthenticator(String username, String password) {\n       authentication = new PasswordAuthentication(username, password.toCharArray());\n   }\n\n   @Override\n   public PasswordAuthentication getPasswordAuthentication() {\n       return authentication;\n   }\n}\n</code></pre>\n<p>The security configuration is the block below... In upgrading to SpringSecurity 6 I added the requireExplicitSave() method, I have suspicions around this because my trouble is around saving sessions, but the added code is supposed to have spring security using the old functionality.</p>\n<pre><code>http\n   .securityContext( securityContext -&gt; securityContext.requireExplicitSave(false))\n   .authorizeHttpRequests((authz) -&gt; authz\n           .requestMatchers(openEndpoints).permitAll()\n           .anyRequest().authenticated()\n   )\n   .httpBasic()\n       .and()\n   .csrf()\n       .disable()\n   .exceptionHandling()\n       .accessDeniedHandler((req, resp, e) -&gt; e.printStackTrace() )\n       .and()\n   .logout()\n       .invalidateHttpSession(true)\n       .clearAuthentication(true);\n</code></pre>\n<p>I turned on request logging, security logging, and SQL logging. The SQL is all the same, and the basic auth request is always authenticated for all scenarios. The headers are different, but I can't see the headers for the HttpClient preflight call, and of the headers I do see, I don't know why authentication or session creation would work for one set of headers but not the other.</p>\n<p>The core of the problem seems to be that the login request from the HttpClient ends with a session being created and the request from curl does not. Note that the big difference in the server logs when using curl is &quot;Failed to create a session, as response has been committed. Unable to store SecurityContext.&quot; However even stepping through the spring security code I can't tell what is causing the difference. </p>\n<p>See logs here:</p>\n<p>CURL</p>\n<pre><code>2022-12-14T16:38:07.594-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login\n2022-12-14T16:38:07.597-05:00 DEBUG 92726 --- [nio-9000-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-12-14T16:38:07.704-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,r1_0.user_id,r1_0.role_id,u1_0.username from app_user u1_0 join user_role r1_0 on u1_0.id=r1_0.user_id where u1_0.username=?\n2022-12-14T16:38:07.797-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2022-12-14T16:38:07.799-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN, ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_USER]]\n2022-12-14T16:38:07.801-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login\n2022-12-14T16:38:07.805-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /login, headers=[host:&quot;localhost:9000&quot;, authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, user-agent:&quot;curl/7.84.0&quot;, accept:&quot;*/*&quot;]]\n2022-12-14T16:38:07.816-05:00 DEBUG 92726 --- [nio-9000-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\n2022-12-14T16:38:07.822-05:00 DEBUG 92726 --- [nio-9000-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\n2022-12-14T16:38:07.826-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,u1_0.username from app_user u1_0 where u1_0.username=?\n2022-12-14T16:38:07.832-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select r1_0.user_id,r1_0.role_id from user_role r1_0 where r1_0.user_id=?\n2022-12-14T16:38:07.836-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select a1_0.user_id,a1_0.id,a1_0.city,a1_0.line1,a1_0.state,a1_0.zip from address a1_0 where a1_0.user_id=?\n2022-12-14T16:38:07.840-05:00 DEBUG 92726 --- [nio-9000-exec-1] org.hibernate.SQL                        : select s1_0.principal_name,s1_0.primary_id,s1_0.session_id from spring_session s1_0 where s1_0.principal_name=?\n2022-12-14T16:38:07.871-05:00 DEBUG 92726 --- [nio-9000-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /login, headers=[host:&quot;localhost:9000&quot;, authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, user-agent:&quot;curl/7.84.0&quot;, accept:&quot;*/*&quot;]]\n2022-12-14T16:38:07.873-05:00  WARN 92726 --- [nio-9000-exec-1] w.c.HttpSessionSecurityContextRepository : Failed to create a session, as response has been committed. Unable to store SecurityContext.\n2022-12-14T16:38:07.873-05:00 DEBUG 92726 --- [nio-9000-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n</code></pre>\n<p>HttpClient</p>\n<pre><code>2022-12-14T06:31:28.390-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login\n2022-12-14T06:31:28.420-05:00 DEBUG 85610 --- [o-auto-1-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-12-14T06:31:28.913-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,r1_0.user_id,r1_0.role_id,u1_0.username from app_user u1_0 join user_role r1_0 on u1_0.id=r1_0.user_id where u1_0.username=?\n2022-12-14T06:31:29.102-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2022-12-14T06:31:29.103-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN, ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19ab0971-5fb3-47fd-a4f9-cdde1ad24883], Granted Authorities=[ROLE_ADMIN, ROLE_USER]]\n2022-12-14T06:31:29.108-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login\n2022-12-14T06:31:29.136-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [GET /login, headers=[authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, content-length:&quot;0&quot;, host:&quot;localhost:64723&quot;, user-agent:&quot;Java-http-client/17.0.2&quot;, cookie:&quot;SESSION=MTlhYjA5NzEtNWZiMy00N2ZkLWE0ZjktY2RkZTFhZDI0ODgz&quot;, Content-Type:&quot;application/json;charset=UTF-8&quot;]]\n2022-12-14T06:31:29.274-05:00 DEBUG 85610 --- [o-auto-1-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\n2022-12-14T06:31:29.332-05:00 DEBUG 85610 --- [o-auto-1-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.seebie.dto.User com.seebie.server.controller.UserController.login(java.security.Principal); target is of class [com.seebie.server.controller.UserController]\n2022-12-14T06:31:29.373-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.display_name,u1_0.email,u1_0.enabled,u1_0.password,u1_0.registration_time,u1_0.username from app_user u1_0 where u1_0.username=?\n2022-12-14T06:31:29.392-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select r1_0.user_id,r1_0.role_id from user_role r1_0 where r1_0.user_id=?\n2022-12-14T06:31:29.409-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select a1_0.user_id,a1_0.id,a1_0.city,a1_0.line1,a1_0.state,a1_0.zip from address a1_0 where a1_0.user_id=?\n2022-12-14T06:31:29.413-05:00 DEBUG 85610 --- [o-auto-1-exec-1] org.hibernate.SQL                        : select s1_0.principal_name,s1_0.primary_id,s1_0.session_id from spring_session s1_0 where s1_0.principal_name=?\n2022-12-14T06:31:29.678-05:00 DEBUG 85610 --- [o-auto-1-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA : GET /login, headers=[authorization:&quot;Basic YWRtaW46YWRtaW4=&quot;, content-length:&quot;0&quot;, host:&quot;localhost:64723&quot;, user-agent:&quot;Java-http-client/17.0.2&quot;, cookie:&quot;SESSION=MTlhYjA5NzEtNWZiMy00N2ZkLWE0ZjktY2RkZTFhZDI0ODgz&quot;, Content-Type:&quot;application/json;charset=UTF-8&quot;]]\n2022-12-14T06:31:29.680-05:00 DEBUG 85610 --- [o-auto-1-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN, ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19ab0971-5fb3-47fd-a4f9-cdde1ad24883], Granted Authorities=[ROLE_ADMIN, ROLE_USER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7ba784f2]\n2022-12-14T06:31:29.680-05:00 DEBUG 85610 --- [o-auto-1-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n</code></pre>\n<p>Note the session in headers for the HttpClient call... I think HttpClient makes a preflight auth call that gets a 401 and then makes the &quot;real&quot; call with the credentials, at least that's how it was in Java 11.</p>\n<p>I think if I understood the difference in how these calls are being made/handled that causes one technique to work but not the other, I would be able to solve the problem. So that really is the question: What is the difference in spring security 6 (along with spring session) handling session creation when using Java 17's HttpClient vs curl?</p>\n<p>[UPDATE] to anyone who read this far: the behavior is actually expected behavior for Spring Security. A full discussion and explanation are in the spring security issue that I had opened <a href=\"https://github.com/spring-projects/spring-security/issues/12431\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","mysql","hibernate","date"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674233839,"post_id":75187074,"comment_id":132678115,"body_markdown":"What is the time zone of the process, i.e. what is the value of the java system property `user.timezone`?","body":"What is the time zone of the process, i.e. what is the value of the java system property <code>user.timezone</code>?"},{"owner":{"account_id":22705185,"reputation":11,"user_id":16872009,"display_name":"geraldgangsta"},"score":0,"creation_date":1674239745,"post_id":75187074,"comment_id":132679965,"body_markdown":"user.timezone = &quot;America/Mexico_City&quot;","body":"user.timezone = &quot;America/Mexico_City&quot;"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674241520,"post_id":75187074,"comment_id":132680448,"body_markdown":"Mexico citiy is UTC-6, i.e. has exactly the 6-hour offset we observe. I would recommend to either convert the date to `UTC`or configure the `user.timezone` to `UTC` (Warning: configuring `user.timezone` will change all time and date information for the whole application, e.g. log timestamps will also be represented in the configured timezone).","body":"Mexico citiy is UTC-6, i.e. has exactly the 6-hour offset we observe. I would recommend to either convert the date to <code>UTC</code>or configure the <code>user.timezone</code> to <code>UTC</code> (Warning: configuring <code>user.timezone</code> will change all time and date information for the whole application, e.g. log timestamps will also be represented in the configured timezone)."},{"owner":{"account_id":22705185,"reputation":11,"user_id":16872009,"display_name":"geraldgangsta"},"score":0,"creation_date":1674249921,"post_id":75187074,"comment_id":132682319,"body_markdown":"I did that, but doesn&#39;t work, but I tried with this and now works fine:\n\n@Temporal(TemporalType.DATE)\n\nthanks a lot","body":"I did that, but doesn&#39;t work, but I tried with this and now works fine:  @Temporal(TemporalType.DATE)  thanks a lot"}],"answers":[{"tags":[],"owner":{"account_id":22705185,"reputation":11,"user_id":16872009,"display_name":"geraldgangsta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674250069,"creation_date":1674250069,"answer_id":75189465,"question_id":75187074,"body_markdown":"I solved this adding this in the date field:\r\n\r\n@Temporal(TemporalType.DATE)\r\n\r\n","title":"why mysql and hibernate return incorrect date in the code(-1 day at 18:00:00)","body":"<p>I solved this adding this in the date field:</p>\n<p>@Temporal(TemporalType.DATE)</p>\n"}],"owner":{"account_id":22705185,"reputation":11,"user_id":16872009,"display_name":"geraldgangsta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189465,"answer_count":1,"score":0,"last_activity_date":1674250069,"creation_date":1674233654,"question_id":75187074,"body_markdown":"I have a little problem with mysql + hibernate.\r\nin the database I have:\r\n[![records from DB](https://i.stack.imgur.com/mX2vT.png)](https://i.stack.imgur.com/mX2vT.png)\r\n\r\nI don&#39;t have any record of January 13th 2023\r\n\r\nif I perform a query to get this information of the January 14th 2023, in the code I get this:\r\n\r\n[![date in the code](https://i.stack.imgur.com/Gwu0s.png)](https://i.stack.imgur.com/Gwu0s.png)\r\n\r\nI don&#39;t know why if in the database I have 14-jan-23 in the code I get: 13-jan-23 18:00:00\r\n\r\nI thing that it&#39;s a configuration problem, in the hibernate.cfg.xml I have:\r\n\r\n```\r\n&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/metsa?serverTimezone=UTC&lt;/property&gt;\r\n```\r\n\r\nany one knows what I have wrong?\r\n\r\n\r\n\r\nI tried to change the time zone in mysql, but doesn&#39;t matter what I set, always I have the same date in the code -1 day at 18:00:00\r\n\r\n```\r\nSET @@global.time_zone = &#39;+00:00&#39;;\r\nSET @@session.time_zone = &#39;+00:00&#39;;\r\n```\r\n\r\n","title":"why mysql and hibernate return incorrect date in the code(-1 day at 18:00:00)","body":"<p>I have a little problem with mysql + hibernate.\nin the database I have:\n<a href=\"https://i.stack.imgur.com/mX2vT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mX2vT.png\" alt=\"records from DB\" /></a></p>\n<p>I don't have any record of January 13th 2023</p>\n<p>if I perform a query to get this information of the January 14th 2023, in the code I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/Gwu0s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gwu0s.png\" alt=\"date in the code\" /></a></p>\n<p>I don't know why if in the database I have 14-jan-23 in the code I get: 13-jan-23 18:00:00</p>\n<p>I thing that it's a configuration problem, in the hibernate.cfg.xml I have:</p>\n<pre><code>&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/metsa?serverTimezone=UTC&lt;/property&gt;\n</code></pre>\n<p>any one knows what I have wrong?</p>\n<p>I tried to change the time zone in mysql, but doesn't matter what I set, always I have the same date in the code -1 day at 18:00:00</p>\n<pre><code>SET @@global.time_zone = '+00:00';\nSET @@session.time_zone = '+00:00';\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":2,"creation_date":1526515292,"post_id":50381487,"comment_id":87779134,"body_markdown":"I&#39;m confused about your actual problem. Is the problem that you need to instantly be notified when the size of a `Map` changes? Or is the problem that you need to store the elements in a sorted order? Or is it a combination of these 2? A `TreeMap` (or `TreeSet`, depending on your needs) would definitely make it easier to maintain a collection of sorted key/value pairs.","body":"I&#39;m confused about your actual problem. Is the problem that you need to instantly be notified when the size of a <code>Map</code> changes? Or is the problem that you need to store the elements in a sorted order? Or is it a combination of these 2? A <code>TreeMap</code> (or <code>TreeSet</code>, depending on your needs) would definitely make it easier to maintain a collection of sorted key/value pairs."},{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1526520391,"post_id":50381487,"comment_id":87780068,"body_markdown":"The second one, basicly i need to run a Map containing for example 100 Taxpayers as a value and put the 10 Taxpayers that spent the most inside another collection. It doesn&#39;t need to be ordered but it&#39;s probably easier to do by ordering it.... Edit: Already edited the question to make it a bit more clear.","body":"The second one, basicly i need to run a Map containing for example 100 Taxpayers as a value and put the 10 Taxpayers that spent the most inside another collection. It doesn&#39;t need to be ordered but it&#39;s probably easier to do by ordering it.... Edit: Already edited the question to make it a bit more clear."}],"answers":[{"tags":[],"owner":{"account_id":11086745,"reputation":678,"user_id":8140152,"display_name":"AnonymousX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526523556,"creation_date":1526523556,"answer_id":50382429,"question_id":50381487,"body_markdown":"Is this a classic Top K problem ? Maybe you can use the java.util.PriorityQueue to build a  min heap to get the top 10 Taxpayer.","title":"How to get 10 Objects based on a value from the Object?","body":"<p>Is this a classic Top K problem ? Maybe you can use the java.util.PriorityQueue to build a  min heap to get the top 10 Taxpayer.</p>\n"},{"comments":[{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1526600397,"post_id":50392696,"comment_id":87819494,"body_markdown":"Still got to test it, been very busy. Will try to test it out tomorrow. Thanks man.","body":"Still got to test it, been very busy. Will try to test it out tomorrow. Thanks man."},{"owner":{"account_id":3883061,"reputation":3764,"user_id":8524301,"accept_rate":89,"display_name":"payloc91"},"score":0,"creation_date":1529758808,"post_id":50392696,"comment_id":88996525,"body_markdown":"@Jo&#227;oAmorim what is the outcome then?","body":"@Jo&#227;oAmorim what is the outcome then?"}],"tags":[],"owner":{"account_id":3883061,"reputation":3764,"user_id":8524301,"accept_rate":89,"display_name":"payloc91"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526563650,"creation_date":1526563650,"answer_id":50392696,"question_id":50381487,"body_markdown":"This can be broken down into 3 steps:\r\n\r\n - Extract distinct `TaxPayer`s\r\n - Extract `Invoice`s for each payer and then sum amount\r\n - Sort by the payed amount and limit to first 10\r\n\r\nIf you are using [tag:java-8] you can do something like:\r\n\r\n    final Map&lt;TaxPayer, Double&gt; toTenMap = payersMap.values()                       // get values from map\r\n            .stream()                                                                   // create java.util.Stream\r\n            .distinct()                                                                 // do not process duplicates (TaxPayer must provide a standard-compliant equals method)\r\n            .map(taxPayer -&gt; {\r\n                final double totalAmount = invoicesMap\r\n                    .values()                                                           // get values from the invoices map\r\n                    .stream()                                                           // create Stream\r\n                    .filter(invoice -&gt; invoice.getTIN().equals(taxPayer.getTIN()))      // get only those for the current TaxPayer\r\n                    .mapToDouble(Invoice::getAmount)                                    // get amount\r\n                    .sum();                                                             // sum amount\r\n                return new AbstractMap.SimpleEntry&lt;&gt;(taxPayer, totalAmount);            // create Map.Entry\r\n            })\r\n            .sorted( ( entry1, entry2 ) -&gt; {                                            // sort by total amount\r\n                if (entry1.getValue() &gt; entry2.getValue()) return 1;\r\n                if (entry1.getValue() &lt; entry2.getValue()) return -1;\r\n                return 0;\r\n            })\r\n            .limit(10)                                                                  // get only top ten payers\r\n            .collect(Collectors.toMap(                                                  // save to map\r\n                    AbstractMap.SimpleEntry::getKey,\r\n                    AbstractMap.SimpleEntry::getValue\r\n            ));\r\n\r\n\r\nSurely there is a more elegant solution. Also, I haven&#39;t tested it because I don&#39;t have much time now.\r\n\r\n\r\n\r\n\r\n","title":"How to get 10 Objects based on a value from the Object?","body":"<p>This can be broken down into 3 steps:</p>\n\n<ul>\n<li>Extract distinct <code>TaxPayer</code>s</li>\n<li>Extract <code>Invoice</code>s for each payer and then sum amount</li>\n<li>Sort by the payed amount and limit to first 10</li>\n</ul>\n\n<p>If you are using <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> you can do something like:</p>\n\n<pre><code>final Map&lt;TaxPayer, Double&gt; toTenMap = payersMap.values()                       // get values from map\n        .stream()                                                                   // create java.util.Stream\n        .distinct()                                                                 // do not process duplicates (TaxPayer must provide a standard-compliant equals method)\n        .map(taxPayer -&gt; {\n            final double totalAmount = invoicesMap\n                .values()                                                           // get values from the invoices map\n                .stream()                                                           // create Stream\n                .filter(invoice -&gt; invoice.getTIN().equals(taxPayer.getTIN()))      // get only those for the current TaxPayer\n                .mapToDouble(Invoice::getAmount)                                    // get amount\n                .sum();                                                             // sum amount\n            return new AbstractMap.SimpleEntry&lt;&gt;(taxPayer, totalAmount);            // create Map.Entry\n        })\n        .sorted( ( entry1, entry2 ) -&gt; {                                            // sort by total amount\n            if (entry1.getValue() &gt; entry2.getValue()) return 1;\n            if (entry1.getValue() &lt; entry2.getValue()) return -1;\n            return 0;\n        })\n        .limit(10)                                                                  // get only top ten payers\n        .collect(Collectors.toMap(                                                  // save to map\n                AbstractMap.SimpleEntry::getKey,\n                AbstractMap.SimpleEntry::getValue\n        ));\n</code></pre>\n\n<p>Surely there is a more elegant solution. Also, I haven't tested it because I don't have much time now.</p>\n"}],"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674249774,"creation_date":1526514869,"question_id":50381487,"body_markdown":"I have to create a method that gives the 10 Taxpayers that spent the most in the entire system.\r\nThere&#39;s a lot of classes already created and code that would have to be in between but what I need is something like:\r\n\r\n    public TreeSet&lt;Taxpayer&gt; getTenTaxpayers(){\r\n        TreeSet&lt;Taxpayer&gt; taxp = new TreeSet&lt;Taxpayer&gt;();\r\n        ... \r\n        for(Taxpayer t: this.taxpayers.values()){ //going through the Map&lt;String, Taxpayer&gt;\r\n            for(Invoice i: this.invoices.values()){ //going through the Map&lt;String, Invoice&gt;\r\n                 if(taxp.size()&lt;=10){ \r\n                    if(t.getTIN().equals(i.getTIN())){ //if the TIN on the taxpayer is the same as in the Invoice\r\n                         ...\r\n                    }\r\n                 }\r\n            }\r\n        }\r\n        return taxp;\r\n    }\r\n\r\nTo sum it up, I have to go through a `Map&lt;String, Taxpayer&gt;` which has for example 100 Taxpayers, then go through a `Map&lt;String, Invoice&gt;` for each respective invoice and return a new Collection holding the 10 Taxpayers that spent the most on the entire system based on 1 attribute on the Invoice Class. My problem is how do I get those 10, and how do I keep it sorted. My first look at it was to use a TreeSet with a Comparator but the problem is the TreeSet would be with the class Taxpayer while what we need to compare is an attribute on the class Invoice. ","title":"How to get 10 Objects based on a value from the Object?","body":"<p>I have to create a method that gives the 10 Taxpayers that spent the most in the entire system.\nThere's a lot of classes already created and code that would have to be in between but what I need is something like:</p>\n<pre><code>public TreeSet&lt;Taxpayer&gt; getTenTaxpayers(){\n    TreeSet&lt;Taxpayer&gt; taxp = new TreeSet&lt;Taxpayer&gt;();\n    ... \n    for(Taxpayer t: this.taxpayers.values()){ //going through the Map&lt;String, Taxpayer&gt;\n        for(Invoice i: this.invoices.values()){ //going through the Map&lt;String, Invoice&gt;\n             if(taxp.size()&lt;=10){ \n                if(t.getTIN().equals(i.getTIN())){ //if the TIN on the taxpayer is the same as in the Invoice\n                     ...\n                }\n             }\n        }\n    }\n    return taxp;\n}\n</code></pre>\n<p>To sum it up, I have to go through a <code>Map&lt;String, Taxpayer&gt;</code> which has for example 100 Taxpayers, then go through a <code>Map&lt;String, Invoice&gt;</code> for each respective invoice and return a new Collection holding the 10 Taxpayers that spent the most on the entire system based on 1 attribute on the Invoice Class. My problem is how do I get those 10, and how do I keep it sorted. My first look at it was to use a TreeSet with a Comparator but the problem is the TreeSet would be with the class Taxpayer while what we need to compare is an attribute on the class Invoice.</p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1667346998,"post_id":74219505,"comment_id":131145027,"body_markdown":"Don&#39;t use `/**` in the path predicate, use `/{segment}` instead","body":"Don&#39;t use <code>&#47;**</code> in the path predicate, use <code>&#47;{segment}</code> instead"},{"owner":{"account_id":26681039,"reputation":11,"user_id":20290985,"display_name":"Adam Szabo"},"score":0,"creation_date":1667571891,"post_id":74219505,"comment_id":131204652,"body_markdown":"Hey @HuuPhuongVu\nWhat do you mean by &quot;/{segment}&quot;? Is this some documented function of Cloud Gateway that I didn&#39;t find, or you just mean that I shouldn&#39;t just route from &quot;/**&quot;?","body":"Hey @HuuPhuongVu What do you mean by &quot;/{segment}&quot;? Is this some documented function of Cloud Gateway that I didn&#39;t find, or you just mean that I shouldn&#39;t just route from &quot;/**&quot;?"}],"owner":{"account_id":26681039,"reputation":11,"user_id":20290985,"display_name":"Adam Szabo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674249261,"creation_date":1666861895,"question_id":74219505,"body_markdown":"I&#39;m trying to write a gateway routing with a path (route everything to www.example.com/foobar/), but the &#39;/foobar/&#39; part is ignored, and everything is routed to www.example.com/)\r\n\r\nMy RouteLocator configuration is:\r\n\r\n```\r\n@Bean\r\npublic RouteLocator myRouteLocator(final RouteLocatorBuilder builder) {\r\n    return builder.routes()\r\n            .route(route -&gt; route.path(&quot;/**&quot;).uri(&quot;http://www.example.com/foobar&quot;))\r\n            .build();\r\n}\r\n```\r\n\r\nWhen I call the service with `http://localhost:8080/myApiCall`, cloud gateway forwards the call to `http://www.example.com/myApiCall` instead of `http://www.example.com/foobar/myApiCall`.\r\n\r\nIf I call my service as `http://localhost:8080/foobar/myApiCall`, the resulting call is `http://www.example.com/foobar/myApiCall`, so it works correctly in this case.\r\n\r\nBased on some debugging, my final URL is created here:\r\nhttps://github.com/spring-cloud/spring-cloud-gateway/blob/v3.1.3/spring-cloud-gateway-server/src/main/java/org/springframework/cloud/gateway/filter/RouteToRequestUrlFilter.java#L88\r\nWhere only the host is used, the path is omitted from the configuration.\r\n\r\nMy used versions:\r\nspring-cloud-gateway: v3.1.3\r\nspring-core: v5.3.20\r\n\r\nI have thought about just using a rewritepath filter to always append the `/foobar/` part - but isn&#39;t there a better way?\r\n","title":"Spring cloud gateway routing with path","body":"<p>I'm trying to write a gateway routing with a path (route everything to <a href=\"http://www.example.com/foobar/\" rel=\"nofollow noreferrer\">www.example.com/foobar/</a>), but the '/foobar/' part is ignored, and everything is routed to <a href=\"http://www.example.com/\" rel=\"nofollow noreferrer\">www.example.com/</a>)</p>\n<p>My RouteLocator configuration is:</p>\n<pre><code>@Bean\npublic RouteLocator myRouteLocator(final RouteLocatorBuilder builder) {\n    return builder.routes()\n            .route(route -&gt; route.path(&quot;/**&quot;).uri(&quot;http://www.example.com/foobar&quot;))\n            .build();\n}\n</code></pre>\n<p>When I call the service with <code>http://localhost:8080/myApiCall</code>, cloud gateway forwards the call to <code>http://www.example.com/myApiCall</code> instead of <code>http://www.example.com/foobar/myApiCall</code>.</p>\n<p>If I call my service as <code>http://localhost:8080/foobar/myApiCall</code>, the resulting call is <code>http://www.example.com/foobar/myApiCall</code>, so it works correctly in this case.</p>\n<p>Based on some debugging, my final URL is created here:\n<a href=\"https://github.com/spring-cloud/spring-cloud-gateway/blob/v3.1.3/spring-cloud-gateway-server/src/main/java/org/springframework/cloud/gateway/filter/RouteToRequestUrlFilter.java#L88\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/blob/v3.1.3/spring-cloud-gateway-server/src/main/java/org/springframework/cloud/gateway/filter/RouteToRequestUrlFilter.java#L88</a>\nWhere only the host is used, the path is omitted from the configuration.</p>\n<p>My used versions:\nspring-cloud-gateway: v3.1.3\nspring-core: v5.3.20</p>\n<p>I have thought about just using a rewritepath filter to always append the <code>/foobar/</code> part - but isn't there a better way?</p>\n"},{"tags":["java","apache-spark","pyspark","anaconda"],"comments":[{"owner":{"account_id":72439,"reputation":2520,"user_id":209129,"display_name":"Amit Naidu"},"score":0,"creation_date":1677701519,"post_id":54104959,"comment_id":133392155,"body_markdown":"You have Java 8 installed, but your `JAVA_HOME` is still pointing to the old one. Update that variable taking care to handle the spaces with [proper quoting syntax](https://superuser.com/a/452357/120610).","body":"You have Java 8 installed, but your <code>JAVA_HOME</code> is still pointing to the old one. Update that variable taking care to handle the spaces with <a href=\"https://superuser.com/a/452357/120610\">proper quoting syntax</a>."}],"answers":[{"comments":[{"owner":{"account_id":1366076,"reputation":9156,"user_id":1302468,"accept_rate":67,"display_name":"Valli69"},"score":0,"creation_date":1547025006,"post_id":54106173,"comment_id":95045322,"body_markdown":"I have tried from bin folder also. It&#39;s working for spark-1.6.3-bin-hadoop2.6 versions but getting error for spark-2.3.2-bin-hadoop2.7.","body":"I have tried from bin folder also. It&#39;s working for spark-1.6.3-bin-hadoop2.6 versions but getting error for spark-2.3.2-bin-hadoop2.7."}],"tags":[],"owner":{"account_id":15057339,"reputation":177,"user_id":10867242,"display_name":"parthasarathi0317"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1547023637,"creation_date":1547023637,"answer_id":54106173,"question_id":54104959,"body_markdown":"Try executing spark-shell from bin folder.\r\n\r\nc:\\spark1.6&gt;bin\\spark-shell","title":"Spark-shell command returning \\Java\\jdk1.7.0\\bin\\java was unexpected at this time","body":"<p>Try executing spark-shell from bin folder.</p>\n\n<p>c:\\spark1.6>bin\\spark-shell</p>\n"},{"tags":[],"owner":{"account_id":6166574,"reputation":29,"user_id":4806254,"display_name":"Ehiz Ize"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1557915437,"creation_date":1557915437,"answer_id":56146922,"question_id":54104959,"body_markdown":" 1. JAVA_HOME in your Environment Variables must be something like this: \r\n`C:\\Program Files (x86)\\Java` \r\nwe need to change it some thing like this `C:\\Progra~2\\Java\\jre1.8.0_211`\r\nbecause there is a space in your path\r\n2. Once that is done, please close your cmd and reopen it and fire you spark-shell, it should work","title":"Spark-shell command returning \\Java\\jdk1.7.0\\bin\\java was unexpected at this time","body":"<ol>\n<li>JAVA_HOME in your Environment Variables must be something like this: \n<code>C:\\Program Files (x86)\\Java</code> \nwe need to change it some thing like this <code>C:\\Progra~2\\Java\\jre1.8.0_211</code>\nbecause there is a space in your path\n\n<ol start=\"2\">\n<li>Once that is done, please close your cmd and reopen it and fire you spark-shell, it should work</li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26228822,"reputation":31,"user_id":19905138,"display_name":"A K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674249208,"creation_date":1674249208,"answer_id":75189383,"question_id":54104959,"body_markdown":"Please check the folder where Java is installed in your machine. If it is &quot;C:\\Program Files&quot; or &quot;C:\\Program Files (x86)&quot;, you&#39;re likely experiencing this issue due to the space in the path. \r\n\r\nTo resolve this issue:\r\n1. Create a folder with no space like &quot;C:\\Java\\jre1.8.0_361&quot; and point the installer to this folder\r\n2. Once this installation is complete, navigate to your &quot;Environment Variables&quot; and update your &quot;JAVA_HOME&quot; system variable to point to this location.\r\n3. Reopen your terminal and issue your spark shell commands. This should likely take care of your issue.\r\n\r\nAlso, please note this will also work for pyspark.","title":"Spark-shell command returning \\Java\\jdk1.7.0\\bin\\java was unexpected at this time","body":"<p>Please check the folder where Java is installed in your machine. If it is &quot;C:\\Program Files&quot; or &quot;C:\\Program Files (x86)&quot;, you're likely experiencing this issue due to the space in the path.</p>\n<p>To resolve this issue:</p>\n<ol>\n<li>Create a folder with no space like &quot;C:\\Java\\jre1.8.0_361&quot; and point the installer to this folder</li>\n<li>Once this installation is complete, navigate to your &quot;Environment Variables&quot; and update your &quot;JAVA_HOME&quot; system variable to point to this location.</li>\n<li>Reopen your terminal and issue your spark shell commands. This should likely take care of your issue.</li>\n</ol>\n<p>Also, please note this will also work for pyspark.</p>\n"}],"owner":{"account_id":1366076,"reputation":9156,"user_id":1302468,"accept_rate":67,"display_name":"Valli69"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1927,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1674249208,"creation_date":1547018275,"question_id":54104959,"body_markdown":"I&#39;m trying to set up spark in my local machine. I have followed all steps mentioned in the below link.\n\n[https://hernandezpaul.wordpress.com/2016/01/24/apache-spark-installation-on-windows-10/][1]\n\nMy system installed with Java 1.8. But I&#39;m getting error related to Java 1.7 like below.\n\n[![enter image description here][2]][2]\n\nCan anyone please suggest how to resolve this error.\n\nThanks in advance.\n\n  [1]: https://hernandezpaul.wordpress.com/2016/01/24/apache-spark-installation-on-windows-10/\n  [2]: https://i.stack.imgur.com/CAz01.png","title":"Spark-shell command returning \\Java\\jdk1.7.0\\bin\\java was unexpected at this time","body":"<p>I'm trying to set up spark in my local machine. I have followed all steps mentioned in the below link.</p>\n<p><a href=\"https://hernandezpaul.wordpress.com/2016/01/24/apache-spark-installation-on-windows-10/\" rel=\"nofollow noreferrer\">https://hernandezpaul.wordpress.com/2016/01/24/apache-spark-installation-on-windows-10/</a></p>\n<p>My system installed with Java 1.8. But I'm getting error related to Java 1.7 like below.</p>\n<p><a href=\"https://i.stack.imgur.com/CAz01.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAz01.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone please suggest how to resolve this error.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","sqlite","kotlin","android-room"],"comments":[{"owner":{"account_id":7720404,"reputation":103,"user_id":5859376,"display_name":"Ярослав Мовчан"},"score":1,"creation_date":1674207588,"post_id":75181972,"comment_id":132669067,"body_markdown":"Could you please also share Expenses class?\nAnd logcat error, if exists","body":"Could you please also share Expenses class? And logcat error, if exists"},{"owner":{"account_id":2535419,"reputation":5583,"user_id":2202675,"display_name":"danny117"},"score":0,"creation_date":1674224474,"post_id":75181972,"comment_id":132674614,"body_markdown":"Missing default values. Int =0  on primary key.  Maybe others could have defaults too.","body":"Missing default values. Int =0  on primary key.  Maybe others could have defaults too."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1674246975,"post_id":75181972,"comment_id":132681685,"body_markdown":"@danny117 not an issue as a java primitives have default values. `int` defaulting to 0 so the 0 is implicit.","body":"@danny117 not an issue as a java primitives have default values. <code>int</code> defaulting to 0 so the 0 is implicit."},{"owner":{"account_id":2535419,"reputation":5583,"user_id":2202675,"display_name":"danny117"},"score":0,"creation_date":1674318933,"post_id":75181972,"comment_id":132691224,"body_markdown":"@MikeT it was issue for me didn&#39;t work till I added it.  Instead its a chatgpt answer that may be correct but is too difficult to prove.","body":"@MikeT it was issue for me didn&#39;t work till I added it.  Instead its a chatgpt answer that may be correct but is too difficult to prove."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674249063,"creation_date":1674249063,"answer_id":75189371,"question_id":75181972,"body_markdown":"Your code (less use of Subscirptions and getAllApaces) i.e. MainActivity being:-\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val db = Repository(applicationContext)\r\n            var spacesList: List&lt;String&gt; = listOf(&quot;No Spaces Found&quot;)\r\n    \r\n            var expList: List&lt;Expenses&gt; = listOf(\r\n                Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy1&quot;),\r\n                Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy2&quot;),\r\n                Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 13.22, &quot;dummy3&quot;),\r\n                Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 14.22, &quot;dummy4&quot;),\r\n                Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 15.22, &quot;dummy5&quot;),\r\n                Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 16.22, &quot;dummy6&quot;)\r\n            )\r\n    \r\n            CoroutineScope(Dispatchers.IO).launch {\r\n                // the insert call\r\n                val x = db.addExpense(expList)\r\n                println(&quot;--&gt;&gt; &quot;+x.toString())\r\n            }\r\n    \r\n            /*\r\n            val tempSpacesList = db.getAllSpaces().value\r\n            if (tempSpacesList?.isEmpty() == true) {\r\n                spacesList = tempSpacesList\r\n            }\r\n             */\r\n        }\r\n    }\r\n\r\nWorks with AppInspection showing:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Perhaps your issue is with how you are trying to see if tables exist**. Have you used App Inspection (and waited for it to do it&#39;s business)?\r\n\r\n\r\nThe following assumptions have been made:\r\n\r\n- AppDatabase is Java as per\r\n\r\n:-\r\n\r\n    @Database(entities = {Expenses.class}, exportSchema = false, version = 1)\r\n    abstract class AppDatabase extends RoomDatabase {\r\n        abstract ExpensesDao expensesDao();\r\n    }\r\n\r\n- The dependencies, for room are use are (as per the module build.gradle)\r\n\r\n:-\r\n\r\n    kapt &#39;androidx.room:room-compiler:2.5.0&#39;\r\n    implementation &#39;androidx.room:room-ktx:2.5.0&#39;\r\n    implementation &#39;androidx.room:room-runtime:2.5.0&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.5.0&#39;\r\n\r\n- with the plugins section including\r\n\r\n:-\r\n\r\n    id &#39;kotlin-kapt&#39;\r\n\r\n\r\n\r\n&gt; Is this the right way of using insert dao?\r\n\r\nYes\r\n\r\n&gt; What can I improve on this implementation?\r\n\r\nYou could eradicate the inefficient use of `autoGenerate=true`, which doesn&#39;t actually cause auto generation but instead adds the **`AUTOINCREMENT`** keyword, but accepts 0 as not being 0 rather interpreting the value of 0 as no value and hence having the value generated.\r\n\r\nThat is you could use:-\r\n\r\n    @Entity\r\n    public class Expenses {\r\n    \r\n       public Expenses(String space, String date, double amount, String description) {\r\n          this.space = space;\r\n          this.date = date;\r\n          this.amount = amount;\r\n          this.description = description;\r\n       }\r\n    \r\n       @PrimaryKey\r\n       Integer uid= null; /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; now Inetger (object not primitive) so can be null\r\n       ....\r\n\r\n**AUTOINCREMENT** aka `autoGenerate=true` introduces a constraint (rule) that forces a generated value to be greater than any ever used and a per table basis. Without AUTOINCRMENT the generated value will be 1 greater than the current maximum value, thus allowing the reuse of values of rows that have been deleted.\r\n\r\nThe inefficiency is that to know the values of rows that have existed that SQLite creates a table named sqlite_sequence which stores the highest allocated value. This additional table needs to be read and updated whenever generating a value and hence the [documentation][2] saying \r\n\r\n&gt; The AUTOINCREMENT keyword imposes extra CPU, memory, disk space, and disk I/O overhead and should be avoided if not strictly needed. It is usually not needed.\r\n\r\nHere&#39;s all of the tables when using `autoGenerate=true` (again using App Inspection)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWith the suggested removal of `autoGenerate=true` then\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Another improvement** is that instead of int or Integer, it is more correct to use long or Long for such columns (INTEGER column type and the PRIMARY KEY) and thus a generated value if not value is provided when inserting. The value can exceed what an int/Integer can hold (max 2147483647) as SQLite stores up to a 64bit signed integer (9223372036854775807).\r\n\r\n- with AUTOINCREMENT when this massive value has been reached the next insert would fail with an SQLITE_FULL error. Without then an unused value would be applied if available. \r\n\r\nAdditionally the actual generated value can be very useful to have as it uniquely identifies the row (especially so if using relationships between tables). You can get this value when inserting a row or rows but it will be returned as a long not an Int. You can also retrieve an array of values when inserting multiple rows again longs not ints. So you could have:-\r\n\r\n    @Insert\r\n    public long[] addExpense(List&lt;Expenses&gt; exp); /* or Long[] */\r\n\r\n- If using `@Insert(onConflict = OnConflictStrategy.IGNORE)` then if a row were IGNOREd due to an ignorable conflict (e.g. duplicate) then the value for that insert would be -1.\r\n\r\nWith the suggested changes then App Inspection shows:-\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\ni.e. no noticeable difference, the data has been added (app was uninstalled deleting the entire database)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ECWQf.png\r\n  [2]: https://www.sqlite.org/autoinc.html\r\n  [3]: https://i.stack.imgur.com/YxN5n.png\r\n  [4]: https://i.stack.imgur.com/RoDLG.png\r\n  [5]: https://i.stack.imgur.com/ACfca.png","title":"Unable to insert data to Room database","body":"<p>Your code (less use of Subscirptions and getAllApaces) i.e. MainActivity being:-</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val db = Repository(applicationContext)\n        var spacesList: List&lt;String&gt; = listOf(&quot;No Spaces Found&quot;)\n\n        var expList: List&lt;Expenses&gt; = listOf(\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy1&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy2&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 13.22, &quot;dummy3&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 14.22, &quot;dummy4&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 15.22, &quot;dummy5&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 16.22, &quot;dummy6&quot;)\n        )\n\n        CoroutineScope(Dispatchers.IO).launch {\n            // the insert call\n            val x = db.addExpense(expList)\n            println(&quot;--&gt;&gt; &quot;+x.toString())\n        }\n\n        /*\n        val tempSpacesList = db.getAllSpaces().value\n        if (tempSpacesList?.isEmpty() == true) {\n            spacesList = tempSpacesList\n        }\n         */\n    }\n}\n</code></pre>\n<p>Works with AppInspection showing:-</p>\n<p><a href=\"https://i.stack.imgur.com/ECWQf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ECWQf.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Perhaps your issue is with how you are trying to see if tables exist</strong>. Have you used App Inspection (and waited for it to do it's business)?</p>\n<p>The following assumptions have been made:</p>\n<ul>\n<li>AppDatabase is Java as per</li>\n</ul>\n<p>:-</p>\n<pre><code>@Database(entities = {Expenses.class}, exportSchema = false, version = 1)\nabstract class AppDatabase extends RoomDatabase {\n    abstract ExpensesDao expensesDao();\n}\n</code></pre>\n<ul>\n<li>The dependencies, for room are use are (as per the module build.gradle)</li>\n</ul>\n<p>:-</p>\n<pre><code>kapt 'androidx.room:room-compiler:2.5.0'\nimplementation 'androidx.room:room-ktx:2.5.0'\nimplementation 'androidx.room:room-runtime:2.5.0'\nannotationProcessor 'androidx.room:room-compiler:2.5.0'\n</code></pre>\n<ul>\n<li>with the plugins section including</li>\n</ul>\n<p>:-</p>\n<pre><code>id 'kotlin-kapt'\n</code></pre>\n<blockquote>\n<p>Is this the right way of using insert dao?</p>\n</blockquote>\n<p>Yes</p>\n<blockquote>\n<p>What can I improve on this implementation?</p>\n</blockquote>\n<p>You could eradicate the inefficient use of <code>autoGenerate=true</code>, which doesn't actually cause auto generation but instead adds the <strong><code>AUTOINCREMENT</code></strong> keyword, but accepts 0 as not being 0 rather interpreting the value of 0 as no value and hence having the value generated.</p>\n<p>That is you could use:-</p>\n<pre><code>@Entity\npublic class Expenses {\n\n   public Expenses(String space, String date, double amount, String description) {\n      this.space = space;\n      this.date = date;\n      this.amount = amount;\n      this.description = description;\n   }\n\n   @PrimaryKey\n   Integer uid= null; /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; now Inetger (object not primitive) so can be null\n   ....\n</code></pre>\n<p><strong>AUTOINCREMENT</strong> aka <code>autoGenerate=true</code> introduces a constraint (rule) that forces a generated value to be greater than any ever used and a per table basis. Without AUTOINCRMENT the generated value will be 1 greater than the current maximum value, thus allowing the reuse of values of rows that have been deleted.</p>\n<p>The inefficiency is that to know the values of rows that have existed that SQLite creates a table named sqlite_sequence which stores the highest allocated value. This additional table needs to be read and updated whenever generating a value and hence the <a href=\"https://www.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">documentation</a> saying</p>\n<blockquote>\n<p>The AUTOINCREMENT keyword imposes extra CPU, memory, disk space, and disk I/O overhead and should be avoided if not strictly needed. It is usually not needed.</p>\n</blockquote>\n<p>Here's all of the tables when using <code>autoGenerate=true</code> (again using App Inspection)</p>\n<p><a href=\"https://i.stack.imgur.com/YxN5n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YxN5n.png\" alt=\"enter image description here\" /></a></p>\n<p>With the suggested removal of <code>autoGenerate=true</code> then</p>\n<p><a href=\"https://i.stack.imgur.com/RoDLG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RoDLG.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Another improvement</strong> is that instead of int or Integer, it is more correct to use long or Long for such columns (INTEGER column type and the PRIMARY KEY) and thus a generated value if not value is provided when inserting. The value can exceed what an int/Integer can hold (max 2147483647) as SQLite stores up to a 64bit signed integer (9223372036854775807).</p>\n<ul>\n<li>with AUTOINCREMENT when this massive value has been reached the next insert would fail with an SQLITE_FULL error. Without then an unused value would be applied if available.</li>\n</ul>\n<p>Additionally the actual generated value can be very useful to have as it uniquely identifies the row (especially so if using relationships between tables). You can get this value when inserting a row or rows but it will be returned as a long not an Int. You can also retrieve an array of values when inserting multiple rows again longs not ints. So you could have:-</p>\n<pre><code>@Insert\npublic long[] addExpense(List&lt;Expenses&gt; exp); /* or Long[] */\n</code></pre>\n<ul>\n<li>If using <code>@Insert(onConflict = OnConflictStrategy.IGNORE)</code> then if a row were IGNOREd due to an ignorable conflict (e.g. duplicate) then the value for that insert would be -1.</li>\n</ul>\n<p>With the suggested changes then App Inspection shows:-</p>\n<p><a href=\"https://i.stack.imgur.com/ACfca.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ACfca.png\" alt=\"enter image description here\" /></a></p>\n<p>i.e. no noticeable difference, the data has been added (app was uninstalled deleting the entire database)</p>\n"}],"owner":{"account_id":9843548,"reputation":337,"user_id":7291866,"accept_rate":14,"display_name":"AashishKSahu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75189371,"answer_count":1,"score":1,"last_activity_date":1674249063,"creation_date":1674206387,"question_id":75181972,"body_markdown":"I am trying to insert values to room database but it&#39;s not working, I checked the database, and the tables were not created. I have created the database, DAO and Repository in java and calling the insert dao inside a coroutine in MainActivity Kotlin class.\r\n\r\nDAO\r\n```java\r\n@Insert\r\npublic void addExpense(List&lt;Expenses&gt; exp);\r\n```\r\nRepository\r\n```java\r\npublic class Repository {\r\n    private ExpensesDao expensesDao;\r\n    private SubscriptionsDao subscriptionsDao;\r\n    private static AppDatabase db;\r\n\r\n    public Repository(Context context) {\r\n        initDb(context);\r\n        expensesDao = db.expensesDao();\r\n        subscriptionsDao = db.subscriptionsDao();\r\n    }\r\n\r\n    private static void initDb(Context context) {\r\n\r\n        if (db == null) {\r\n            db = Room.databaseBuilder(\r\n                            context,\r\n                            AppDatabase.class, &quot;local_db&quot;\r\n                    )\r\n                    .addMigrations(AppDatabase.DbMigration)\r\n                    .build();\r\n        }\r\n\r\n    }\r\n\r\n    public void addExpense(List&lt;Expenses&gt; exp) {\r\n        expensesDao.addExpense(exp);\r\n    }\r\n}\r\n```\r\n\r\nMainActivity.kt\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private var firstRun = true\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val db = Repository(applicationContext)\r\n        var spacesList: List&lt;String&gt; = listOf(&quot;No Spaces Found&quot;)\r\n\r\n        var expList: List&lt;Expenses&gt; = listOf(\r\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy1&quot;),\r\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy2&quot;),\r\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 13.22, &quot;dummy3&quot;),\r\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 14.22, &quot;dummy4&quot;),\r\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 15.22, &quot;dummy5&quot;),\r\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 16.22, &quot;dummy6&quot;)\r\n        )\r\n\r\n        CoroutineScope(Dispatchers.IO).launch {\r\n            // the insert call\r\n            val x = db.addExpense(expList)\r\n            println(&quot;--&gt;&gt; &quot;+x.toString())\r\n        }\r\n\r\n        val tempSpacesList = db.getAllSpaces().value\r\n        if (tempSpacesList?.isEmpty() == true) {\r\n            spacesList = tempSpacesList\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Edit**\r\n```java\r\n@Entity\r\npublic class Expenses {\r\n\r\n    public Expenses(String space, String date, double amount, String description) {\r\n        this.uid = uid;\r\n        this.space = space;\r\n        this.date = date;\r\n        this.amount = amount;\r\n        this.description = description;\r\n    }\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    int uid;\r\n\r\n    @ColumnInfo(name = &quot;space&quot;)\r\n    String space;\r\n\r\n    @ColumnInfo(name = &quot;date&quot;)\r\n    String date;\r\n\r\n    @ColumnInfo(name = &quot;amount&quot;)\r\n    double amount;\r\n\r\n    @ColumnInfo(name = &quot;description&quot;)\r\n    String description;\r\n}\r\n```\r\n\r\nLogcat (not much here..)\r\n```\r\n15:11:55.340  E  Could not remove dir &#39;/data/data/org.android.app/code_cache/.ll/&#39;: No such file or directory\r\n```\r\n\r\n* Is this the right way of using insert dao?\r\n* What can I improve on this implementation?","title":"Unable to insert data to Room database","body":"<p>I am trying to insert values to room database but it's not working, I checked the database, and the tables were not created. I have created the database, DAO and Repository in java and calling the insert dao inside a coroutine in MainActivity Kotlin class.</p>\n<p>DAO</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Insert\npublic void addExpense(List&lt;Expenses&gt; exp);\n</code></pre>\n<p>Repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Repository {\n    private ExpensesDao expensesDao;\n    private SubscriptionsDao subscriptionsDao;\n    private static AppDatabase db;\n\n    public Repository(Context context) {\n        initDb(context);\n        expensesDao = db.expensesDao();\n        subscriptionsDao = db.subscriptionsDao();\n    }\n\n    private static void initDb(Context context) {\n\n        if (db == null) {\n            db = Room.databaseBuilder(\n                            context,\n                            AppDatabase.class, &quot;local_db&quot;\n                    )\n                    .addMigrations(AppDatabase.DbMigration)\n                    .build();\n        }\n\n    }\n\n    public void addExpense(List&lt;Expenses&gt; exp) {\n        expensesDao.addExpense(exp);\n    }\n}\n</code></pre>\n<p>MainActivity.kt</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n\n    private var firstRun = true\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val db = Repository(applicationContext)\n        var spacesList: List&lt;String&gt; = listOf(&quot;No Spaces Found&quot;)\n\n        var expList: List&lt;Expenses&gt; = listOf(\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy1&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 12.22, &quot;dummy2&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 13.22, &quot;dummy3&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 14.22, &quot;dummy4&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 15.22, &quot;dummy5&quot;),\n            Expenses(&quot;dummy&quot;, LocalDate.now().toString(), 16.22, &quot;dummy6&quot;)\n        )\n\n        CoroutineScope(Dispatchers.IO).launch {\n            // the insert call\n            val x = db.addExpense(expList)\n            println(&quot;--&gt;&gt; &quot;+x.toString())\n        }\n\n        val tempSpacesList = db.getAllSpaces().value\n        if (tempSpacesList?.isEmpty() == true) {\n            spacesList = tempSpacesList\n        }\n\n    }\n}\n</code></pre>\n<p><strong>Edit</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Expenses {\n\n    public Expenses(String space, String date, double amount, String description) {\n        this.uid = uid;\n        this.space = space;\n        this.date = date;\n        this.amount = amount;\n        this.description = description;\n    }\n\n    @PrimaryKey(autoGenerate = true)\n    int uid;\n\n    @ColumnInfo(name = &quot;space&quot;)\n    String space;\n\n    @ColumnInfo(name = &quot;date&quot;)\n    String date;\n\n    @ColumnInfo(name = &quot;amount&quot;)\n    double amount;\n\n    @ColumnInfo(name = &quot;description&quot;)\n    String description;\n}\n</code></pre>\n<p>Logcat (not much here..)</p>\n<pre><code>15:11:55.340  E  Could not remove dir '/data/data/org.android.app/code_cache/.ll/': No such file or directory\n</code></pre>\n<ul>\n<li>Is this the right way of using insert dao?</li>\n<li>What can I improve on this implementation?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1673816604,"post_id":75128363,"comment_id":132576866,"body_markdown":"Your methods should not be static at first","body":"Your methods should not be static at first"},{"owner":{"account_id":27530579,"reputation":3,"user_id":21009155,"display_name":"Thomas Shelby"},"score":0,"creation_date":1673818382,"post_id":75128363,"comment_id":132577215,"body_markdown":"@HarryCoder I referred to https://www.baeldung.com/spring-security-two-login-pages","body":"@HarryCoder I referred to <a href=\"https://www.baeldung.com/spring-security-two-login-pages\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-two-login-pages</a>"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673821030,"post_id":75128363,"comment_id":132577638,"body_markdown":"Show your request with URL, body and header. For example a screemshot of your dev tool in your browser (F12).","body":"Show your request with URL, body and header. For example a screemshot of your dev tool in your browser (F12)."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673864739,"post_id":75128363,"comment_id":132584837,"body_markdown":"You are using the wrong URL. Instead of `/userLogin` you have to use `/user/userLogin`.","body":"You are using the wrong URL. Instead of <code>&#47;userLogin</code> you have to use <code>&#47;user&#47;userLogin</code>."},{"owner":{"account_id":27530579,"reputation":3,"user_id":21009155,"display_name":"Thomas Shelby"},"score":0,"creation_date":1673873880,"post_id":75128363,"comment_id":132587644,"body_markdown":"@dur tried changing it, still not working, same issue. I don&#39;t think the issue is with the URL, the login works fine while using `requestMatchers()` but out of 2 filter chains only one would work so I had to switch to `securityMatcher()` .","body":"@dur tried changing it, still not working, same issue. I don&#39;t think the issue is with the URL, the login works fine while using <code>requestMatchers()</code> but out of 2 filter chains only one would work so I had to switch to <code>securityMatcher()</code> ."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673874974,"post_id":75128363,"comment_id":132588005,"body_markdown":"The URL is wrong. If you get the same error (at least the URL should changed in the error) you have a second problem. Did you change `.loginProcessingUrl(&quot;/userLogin&quot;)` to `.loginProcessingUrl(&quot;/user/userLogin&quot;)`? And also changed your HTML?","body":"The URL is wrong. If you get the same error (at least the URL should changed in the error) you have a second problem. Did you change <code>.loginProcessingUrl(&quot;&#47;userLogin&quot;)</code> to <code>.loginProcessingUrl(&quot;&#47;user&#47;userLogin&quot;)</code>? And also changed your HTML?"},{"owner":{"account_id":27530579,"reputation":3,"user_id":21009155,"display_name":"Thomas Shelby"},"score":0,"creation_date":1673878275,"post_id":75128363,"comment_id":132589149,"body_markdown":"@dur yes, I did that., still not working :( . Also if the URL was a problem, how does it work properly while using `requestMatchers()` ?","body":"@dur yes, I did that., still not working :( . Also if the URL was a problem, how does it work properly while using <code>requestMatchers()</code> ?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673881070,"post_id":75128363,"comment_id":132590211,"body_markdown":"If you add `requestMatchers()` only one chain is exceuted and this chain defines processing URL, which is accessabe in the chain. If you restrict that chain, the processing URL is not accessible anymore.","body":"If you add <code>requestMatchers()</code> only one chain is exceuted and this chain defines processing URL, which is accessabe in the chain. If you restrict that chain, the processing URL is not accessible anymore."}],"answers":[{"comments":[{"owner":{"account_id":27530579,"reputation":3,"user_id":21009155,"display_name":"Thomas Shelby"},"score":0,"creation_date":1674276593,"post_id":75189330,"comment_id":132685404,"body_markdown":"To use configure method, we&#39;ll need to extend webconfigureradapter, which is now deprecated right?","body":"To use configure method, we&#39;ll need to extend webconfigureradapter, which is now deprecated right?"},{"owner":{"account_id":8742400,"reputation":35,"user_id":6539041,"display_name":"Vescoci"},"score":0,"creation_date":1674279532,"post_id":75189330,"comment_id":132685676,"body_markdown":"@ThomasShelby I extend WebSecurityConfigurerAdapter however I did not notice the difference in Spring version. The version of Spring used in our project is 5.3.9, if you are using a newer version which it appears to be so, you could also try using WebSecurityCustomizer.\n\nHere&#39;s a link referring to the changes: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\n\nI would have to attempt a sample using the newer Spring versions. Which version of Spring are you using?","body":"@ThomasShelby I extend WebSecurityConfigurerAdapter however I did not notice the difference in Spring version. The version of Spring used in our project is 5.3.9, if you are using a newer version which it appears to be so, you could also try using WebSecurityCustomizer.  Here&#39;s a link referring to the changes: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>  I would have to attempt a sample using the newer Spring versions. Which version of Spring are you using?"},{"owner":{"account_id":27530579,"reputation":3,"user_id":21009155,"display_name":"Thomas Shelby"},"score":0,"creation_date":1674283366,"post_id":75189330,"comment_id":132686026,"body_markdown":"i am using version 6.0.2","body":"i am using version 6.0.2"}],"tags":[],"owner":{"account_id":8742400,"reputation":35,"user_id":6539041,"display_name":"Vescoci"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674248622,"creation_date":1674248622,"answer_id":75189330,"question_id":75128363,"body_markdown":"I had followed the same tutorial link you posted in the comments. I encountered similar issues and came to a resolution by combining that tutorial with this second one [Multiple Login Pages][1]\r\n\r\nEssentially, I kept both static classes in the SecurityConfig file as described by the baeldung tutorial but instead of configuring a SecurityFilterChain I used the configure method to establish both logins.\r\n\r\n  [1]: https://www.codejava.net/frameworks/spring-boot/multiple-login-pages-examples","title":"I keep getting 404 error while trying to login","body":"<p>I had followed the same tutorial link you posted in the comments. I encountered similar issues and came to a resolution by combining that tutorial with this second one <a href=\"https://www.codejava.net/frameworks/spring-boot/multiple-login-pages-examples\" rel=\"nofollow noreferrer\">Multiple Login Pages</a></p>\n<p>Essentially, I kept both static classes in the SecurityConfig file as described by the baeldung tutorial but instead of configuring a SecurityFilterChain I used the configure method to establish both logins.</p>\n"}],"owner":{"account_id":27530579,"reputation":3,"user_id":21009155,"display_name":"Thomas Shelby"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75189330,"answer_count":1,"score":-2,"last_activity_date":1674248622,"creation_date":1673816302,"question_id":75128363,"body_markdown":"I have two separate login forms, one for users and one for admins.\r\n\r\nThe problem is that Spring ignores the config paramter for `loginProcessingUrl`, for the admin as well as for the user. Whenever I try to login, it gives me 404 error.\r\n \r\nWhile I was using `RequestMatchers()`, it worked perfectly but just for one of them (user or admin) but not both. So I switched to `SecurityMatcher()` which does restrict the users from accessing any path such as `/admin/**` or `/user/**` without login but the problem is that the login is not working. \r\nCan someone help me with this? \r\n\r\nConfig class: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.business.config;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n    import com.business.service.impl.UserDetailsServiceImpl;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Order(1)\r\n    public class SecurityConfiguration {\r\n\r\n    \t@Autowired\r\n    \tUserDetailsServiceImpl userDetailService;\r\n\r\n    \t@Bean\r\n    \tpublic static BCryptPasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic DaoAuthenticationProvider authProvider() {\r\n    \t\tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n\r\n    \t\tprovider.setUserDetailsService(userDetailService);\r\n\r\n    \t\tprovider.setPasswordEncoder(passwordEncoder());\r\n    \t\treturn provider;\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n\t\t\tthrows Exception {\r\n    \t\treturn authenticationConfiguration.getAuthenticationManager();\r\n    \t}\r\n\t\r\n    \t@Order(1)\r\n\t    public static class UserSecurityConfig {\r\n\r\n    \t\t@Bean\r\n    \t\tpublic SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\r\n\t\t\t\thttp\r\n                    .securityMatcher(&quot;/user/**&quot;)\r\n                    .authorizeHttpRequests()\r\n                        .requestMatchers(&quot;/user/**&quot;).hasRole(&quot;ROLE_USER&quot;)\r\n\t\t\t\t\t\t.and()\r\n                    .formLogin()\r\n                        .loginPage(&quot;/user-login&quot;)\r\n                        .loginProcessingUrl(&quot;/userLogin&quot;)\r\n                        .permitAll()\r\n\t\t\t\t\t\t.usernameParameter(&quot;email&quot;)\r\n                        .passwordParameter(&quot;password&quot;)\r\n                        .defaultSuccessUrl(&quot;/user/home&quot;)\r\n                        .and()\r\n\t\t\t\t    .logout()\r\n                        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                        .logoutSuccessUrl(&quot;/&quot;).and()\r\n\t\t\t\t\t.exceptionHandling()\r\n                        .accessDeniedPage(&quot;/403&quot;);\r\n\t\t\t\treturn http.build();\r\n    \t\t}\r\n    \t}\r\n\r\n    \t@Order(2)\r\n    \tpublic static class AdminSecurityConfig {\r\n\r\n\t    \t@Bean\r\n\t\t    public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\r\n    \t\t\thttp\r\n                    .securityMatcher(&quot;/admin/**&quot;)\r\n                    .authorizeHttpRequests()\r\n                        .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ROLE_ADMIN&quot;)\r\n    \t\t\t\t\t.and()\r\n                    .formLogin()\r\n                        .loginPage(&quot;/admin-login&quot;)\r\n                        .loginProcessingUrl(&quot;/adminLogin&quot;)\r\n                        .permitAll()\r\n    \t\t\t\t\t.usernameParameter(&quot;email&quot;)\r\n                        .passwordParameter(&quot;password&quot;)\r\n                        .defaultSuccessUrl(&quot;/admin/home&quot;)\r\n                        .and()\r\n    \t\t\t\t.logout()\r\n                        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                        .logoutSuccessUrl(&quot;/&quot;)\r\n                        .and()\r\n    \t\t\t\t.exceptionHandling()\r\n                        .accessDeniedPage(&quot;/403&quot;);\r\n    \t\t\treturn http.build();\r\n    \t   \t}\r\n        }\r\n\r\n    \t@Order(3)\r\n    \tpublic static class GeneralSecurityConfig {\r\n\r\n    \t\t@Bean\r\n    \t\tpublic SecurityFilterChain filterChain3(HttpSecurity http) throws Exception {\r\n       \t\t\thttp\r\n                    .authorizeHttpRequests()\r\n                        .requestMatchers(&quot;/**&quot;).permitAll();\r\n    \t\t\thttp\r\n                    .csrf().disable()\r\n                    .headers()\r\n                        .frameOptions().disable();\r\n\r\n    \t\t\treturn http.build();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAdmin login page: \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;\r\n\tth:replace=&quot;~{base::layout(~{::section})}&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Universal Education : Login&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\t&lt;section&gt;\r\n\t\t&lt;div class=&quot;background-img&quot;&gt;\r\n\t\t\t&lt;div class=&quot;container auth-container-login bg-white&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t&lt;h3 class=&quot;text-center mb-3&quot;&gt;Admin Login&lt;/h3&gt;\r\n\t\t\t\t\t&lt;div th:if=&quot;${register}&quot; class=&quot;text-center mb-2&quot;&gt;\r\n\t\t\t\t\t\t&lt;h6 th:text=&quot;${register}&quot; class=&quot;text-success&quot;&gt;&lt;/h6&gt;\r\n\t\t\t\t\t\t&lt;th:block&gt;&lt;/th:block&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t&lt;!-- Pills navs --&gt;\r\n\t\t\t\t\t&lt;ul class=&quot;nav nav-pills nav-justified mb-3&quot; id=&quot;ex1&quot;\r\n\t\t\t\t\t\trole=&quot;tablist&quot;&gt;\r\n\t\t\t\t\t\t&lt;li class=&quot;nav-item&quot; role=&quot;presentation&quot;&gt;&lt;a\r\n\t\t\t\t\t\t\tclass=&quot;nav-link active&quot; id=&quot;tab-login&quot; data-mdb-toggle=&quot;pill&quot;\r\n\t\t\t\t\t\t\thref=&quot;#pills-login&quot; role=&quot;tab&quot; aria-controls=&quot;pills-login&quot;\r\n\t\t\t\t\t\t\taria-selected=&quot;true&quot;&gt;Login&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t\t\t&lt;li class=&quot;nav-item&quot; role=&quot;presentation&quot;&gt;&lt;a class=&quot;nav-link&quot;\r\n\t\t\t\t\t\t\tid=&quot;tab-register&quot; data-mdb-toggle=&quot;pill&quot; href=&quot;/admin-register&quot;\r\n\t\t\t\t\t\t\trole=&quot;tab&quot; aria-controls=&quot;pills-register&quot; aria-selected=&quot;false&quot;&gt;Register&lt;/a&gt;\r\n\t\t\t\t\t\t&lt;/li&gt;\r\n\t\t\t\t\t&lt;/ul&gt;\r\n\t\t\t\t\t&lt;!-- Pills navs --&gt;\r\n\t\t\t\t\t&lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-danger&quot;&gt;Invalid Email\r\n\t\t\t\t\t\tand Password&lt;/div&gt;\r\n\t\t\t\t\t&lt;div th:if=&quot;${param.logout}&quot; class=&quot;alert alert-success&quot;&gt;\r\n\t\t\t\t\t\tSuccessfully Logged Out&lt;/div&gt;\r\n\t\t\t\t\t&lt;!-- Pills content --&gt;\r\n\t\t\t\t\t&lt;div class=&quot;tab-content&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;tab-pane fade show active&quot; id=&quot;pills-login&quot;\r\n\t\t\t\t\t\t\trole=&quot;tabpanel&quot; aria-labelledby=&quot;tab-login&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;form th:action=&quot;@{/adminLogin}&quot; method=&quot;post&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Email input --&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;form-outline mb-2&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;input type=&quot;email&quot; id=&quot;loginName&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\t\t\t\t\tname=&quot;email&quot; /&gt; &lt;label class=&quot;form-label&quot; for=&quot;loginName&quot;&gt;Email&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t\t\t\t&lt;!-- Password input --&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;form-outline mb-2&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;input type=&quot;password&quot; id=&quot;loginPassword&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\t\t\t\t\tname=&quot;password&quot; /&gt; &lt;label class=&quot;form-label&quot;\r\n\t\t\t\t\t\t\t\t\t\tfor=&quot;loginPassword&quot;&gt;Password&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t\t\t\t&lt;!-- 2 column grid layout --&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;text-center&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;!-- Submit button --&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mb-2&quot;&gt;Sign\r\n\t\t\t\t\t\t\t\t\t\t\tin&lt;/button&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;row mb-2&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;!-- Simple link --&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;a href=&quot;#!&quot;&gt;Forgot password?&lt;/a&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;!-- Register buttons --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;p&gt;\r\n\t\t\t\t\t\t\t\t\t\tNot a member? &lt;a th:href=&quot;@{/user-register}&quot;&gt;Register&lt;/a&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/p&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;/form&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;!-- Pills content --&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/section&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nScreenshot :\r\n\r\n[This is what I get when I try to login][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u24Ql.png","title":"I keep getting 404 error while trying to login","body":"<p>I have two separate login forms, one for users and one for admins.</p>\n<p>The problem is that Spring ignores the config paramter for <code>loginProcessingUrl</code>, for the admin as well as for the user. Whenever I try to login, it gives me 404 error.</p>\n<p>While I was using <code>RequestMatchers()</code>, it worked perfectly but just for one of them (user or admin) but not both. So I switched to <code>SecurityMatcher()</code> which does restrict the users from accessing any path such as <code>/admin/**</code> or <code>/user/**</code> without login but the problem is that the login is not working.\nCan someone help me with this?</p>\n<p>Config class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.business.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.business.service.impl.UserDetailsServiceImpl;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class SecurityConfiguration {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailService;\n\n    @Bean\n    public static BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n\n        provider.setUserDetailsService(userDetailService);\n\n        provider.setPasswordEncoder(passwordEncoder());\n        return provider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n        throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Order(1)\n    public static class UserSecurityConfig {\n\n        @Bean\n        public SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\n            http\n                .securityMatcher(&quot;/user/**&quot;)\n                .authorizeHttpRequests()\n                    .requestMatchers(&quot;/user/**&quot;).hasRole(&quot;ROLE_USER&quot;)\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/user-login&quot;)\n                    .loginProcessingUrl(&quot;/userLogin&quot;)\n                    .permitAll()\n                    .usernameParameter(&quot;email&quot;)\n                    .passwordParameter(&quot;password&quot;)\n                    .defaultSuccessUrl(&quot;/user/home&quot;)\n                    .and()\n                .logout()\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                    .logoutSuccessUrl(&quot;/&quot;).and()\n                .exceptionHandling()\n                    .accessDeniedPage(&quot;/403&quot;);\n            return http.build();\n        }\n    }\n\n    @Order(2)\n    public static class AdminSecurityConfig {\n\n        @Bean\n        public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\n            http\n                .securityMatcher(&quot;/admin/**&quot;)\n                .authorizeHttpRequests()\n                    .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ROLE_ADMIN&quot;)\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/admin-login&quot;)\n                    .loginProcessingUrl(&quot;/adminLogin&quot;)\n                    .permitAll()\n                    .usernameParameter(&quot;email&quot;)\n                    .passwordParameter(&quot;password&quot;)\n                    .defaultSuccessUrl(&quot;/admin/home&quot;)\n                    .and()\n                .logout()\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                    .logoutSuccessUrl(&quot;/&quot;)\n                    .and()\n                .exceptionHandling()\n                    .accessDeniedPage(&quot;/403&quot;);\n            return http.build();\n        }\n    }\n\n    @Order(3)\n    public static class GeneralSecurityConfig {\n\n        @Bean\n        public SecurityFilterChain filterChain3(HttpSecurity http) throws Exception {\n            http\n                .authorizeHttpRequests()\n                    .requestMatchers(&quot;/**&quot;).permitAll();\n            http\n                .csrf().disable()\n                .headers()\n                    .frameOptions().disable();\n\n            return http.build();\n        }\n    }\n}\n</code></pre>\n<p>Admin login page:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot;\nth:replace=&quot;~{base::layout(~{::section})}&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Universal Education : Login&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;section&gt;\n    &lt;div class=&quot;background-img&quot;&gt;\n        &lt;div class=&quot;container auth-container-login bg-white&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;h3 class=&quot;text-center mb-3&quot;&gt;Admin Login&lt;/h3&gt;\n                &lt;div th:if=&quot;${register}&quot; class=&quot;text-center mb-2&quot;&gt;\n                    &lt;h6 th:text=&quot;${register}&quot; class=&quot;text-success&quot;&gt;&lt;/h6&gt;\n                    &lt;th:block&gt;&lt;/th:block&gt;\n                &lt;/div&gt;\n\n                &lt;!-- Pills navs --&gt;\n                &lt;ul class=&quot;nav nav-pills nav-justified mb-3&quot; id=&quot;ex1&quot;\n                    role=&quot;tablist&quot;&gt;\n                    &lt;li class=&quot;nav-item&quot; role=&quot;presentation&quot;&gt;&lt;a\n                        class=&quot;nav-link active&quot; id=&quot;tab-login&quot; data-mdb-toggle=&quot;pill&quot;\n                        href=&quot;#pills-login&quot; role=&quot;tab&quot; aria-controls=&quot;pills-login&quot;\n                        aria-selected=&quot;true&quot;&gt;Login&lt;/a&gt;&lt;/li&gt;\n                    &lt;li class=&quot;nav-item&quot; role=&quot;presentation&quot;&gt;&lt;a class=&quot;nav-link&quot;\n                        id=&quot;tab-register&quot; data-mdb-toggle=&quot;pill&quot; href=&quot;/admin-register&quot;\n                        role=&quot;tab&quot; aria-controls=&quot;pills-register&quot; aria-selected=&quot;false&quot;&gt;Register&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n                &lt;!-- Pills navs --&gt;\n                &lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-danger&quot;&gt;Invalid Email\n                    and Password&lt;/div&gt;\n                &lt;div th:if=&quot;${param.logout}&quot; class=&quot;alert alert-success&quot;&gt;\n                    Successfully Logged Out&lt;/div&gt;\n                &lt;!-- Pills content --&gt;\n                &lt;div class=&quot;tab-content&quot;&gt;\n                    &lt;div class=&quot;tab-pane fade show active&quot; id=&quot;pills-login&quot;\n                        role=&quot;tabpanel&quot; aria-labelledby=&quot;tab-login&quot;&gt;\n                        &lt;form th:action=&quot;@{/adminLogin}&quot; method=&quot;post&quot;&gt;\n                            &lt;!-- Email input --&gt;\n                            &lt;div class=&quot;form-outline mb-2&quot;&gt;\n                                &lt;input type=&quot;email&quot; id=&quot;loginName&quot; class=&quot;form-control&quot;\n                                    name=&quot;email&quot; /&gt; &lt;label class=&quot;form-label&quot; for=&quot;loginName&quot;&gt;Email&lt;/label&gt;\n                            &lt;/div&gt;\n\n                            &lt;!-- Password input --&gt;\n                            &lt;div class=&quot;form-outline mb-2&quot;&gt;\n                                &lt;input type=&quot;password&quot; id=&quot;loginPassword&quot; class=&quot;form-control&quot;\n                                    name=&quot;password&quot; /&gt; &lt;label class=&quot;form-label&quot;\n                                    for=&quot;loginPassword&quot;&gt;Password&lt;/label&gt;\n                            &lt;/div&gt;\n\n                            &lt;!-- 2 column grid layout --&gt;\n                            &lt;div class=&quot;text-center&quot;&gt;\n                                &lt;div class=&quot;row&quot;&gt;\n                                    &lt;!-- Submit button --&gt;\n                                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mb-2&quot;&gt;Sign\n                                        in&lt;/button&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;row mb-2&quot;&gt;\n                                    &lt;!-- Simple link --&gt;\n                                    &lt;a href=&quot;#!&quot;&gt;Forgot password?&lt;/a&gt;\n                                &lt;/div&gt;\n\n                                &lt;!-- Register buttons --&gt;\n                                &lt;p&gt;\n                                    Not a member? &lt;a th:href=&quot;@{/user-register}&quot;&gt;Register&lt;/a&gt;\n                                &lt;/p&gt;\n                            &lt;/div&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n\n                &lt;/div&gt;\n                &lt;!-- Pills content --&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Screenshot :</p>\n<p><a href=\"https://i.stack.imgur.com/u24Ql.png\" rel=\"nofollow noreferrer\">This is what I get when I try to login</a></p>\n"},{"tags":["java","android","kotlin-android-extensions"],"comments":[{"owner":{"account_id":245621,"reputation":1106,"user_id":2435126,"display_name":"Karan Harsh Wardhan"},"score":0,"creation_date":1552558814,"post_id":55159487,"comment_id":97059053,"body_markdown":"https://developer.android.com/training/basics/network-ops/managing.html","body":"<a href=\"https://developer.android.com/training/basics/network-ops/managing.html\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/network-ops/managing.h&zwnj;&#8203;tml</a>"}],"answers":[{"comments":[{"owner":{"account_id":13618779,"reputation":1031,"user_id":9823976,"display_name":"Denny"},"score":0,"creation_date":1608287585,"post_id":55159624,"comment_id":115542922,"body_markdown":"Do you have a code snippet on how it can be done?","body":"Do you have a code snippet on how it can be done?"},{"owner":{"account_id":14160040,"reputation":136,"user_id":11196721,"display_name":"jalako"},"score":0,"creation_date":1608378584,"post_id":55159624,"comment_id":115568607,"body_markdown":"A code snippet for pinging? Or do you mean one for a speedtest to then calculate the download kbps?","body":"A code snippet for pinging? Or do you mean one for a speedtest to then calculate the download kbps?"}],"tags":[],"owner":{"account_id":14160040,"reputation":136,"user_id":11196721,"display_name":"jalako"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552557750,"creation_date":1552557750,"answer_id":55159624,"question_id":55159487,"body_markdown":"You can&#39;t directly check it.\r\n\r\nHowever, you could either ping a server and see if the response takes very long or doesn&#39;t come back at all. \r\n\r\nYou could also do a speedtest. In most applications this would not make much sense though, because it&#39;s a hog on the user&#39;s data.","title":"Android: How to determine Network speed in android programmatically","body":"<p>You can't directly check it.</p>\n\n<p>However, you could either ping a server and see if the response takes very long or doesn't come back at all. </p>\n\n<p>You could also do a speedtest. In most applications this would not make much sense though, because it's a hog on the user's data.</p>\n"},{"tags":[],"owner":{"account_id":4571052,"reputation":408,"user_id":3710743,"display_name":"FonzTech"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552557969,"creation_date":1552557969,"answer_id":55159724,"question_id":55159487,"body_markdown":"The most basic thing you can do is to probe an URL whose uptime is almost 100% like, let&#39;s say, `www.google.com`. From the time you start the request, to the time it has completed, you can just measure the amount of data you have downloaded for the request. So you have the data (space) and time spent. Just divide space by time to get network speed. This is somewhat imprecise, because it also depend on the URL you probe.","title":"Android: How to determine Network speed in android programmatically","body":"<p>The most basic thing you can do is to probe an URL whose uptime is almost 100% like, let's say, <code>www.google.com</code>. From the time you start the request, to the time it has completed, you can just measure the amount of data you have downloaded for the request. So you have the data (space) and time spent. Just divide space by time to get network speed. This is somewhat imprecise, because it also depend on the URL you probe.</p>\n"},{"comments":[{"owner":{"account_id":17621565,"reputation":149,"user_id":12835892,"display_name":"Eddy Yoel Fresno Hern&#225;ndez"},"score":0,"creation_date":1692545728,"post_id":55159735,"comment_id":135635140,"body_markdown":"*** Requires minimum api:23 ***","body":"*** Requires minimum api:23 ***"},{"owner":{"account_id":245621,"reputation":1106,"user_id":2435126,"display_name":"Karan Harsh Wardhan"},"score":0,"creation_date":1694479097,"post_id":55159735,"comment_id":135893273,"body_markdown":"i was pretty sure of the answer att, feel free to edit it with a source if it&#39;s incorrect now","body":"i was pretty sure of the answer att, feel free to edit it with a source if it&#39;s incorrect now"}],"tags":[],"owner":{"account_id":245621,"reputation":1106,"user_id":2435126,"display_name":"Karan Harsh Wardhan"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1553100251,"creation_date":1552558003,"answer_id":55159735,"question_id":55159487,"body_markdown":"Requires minimum api:21. I use `ConnectivityManager` combined with `NetworkCapabilities` to get both the downstream and upstream bandwidth. Works just fine. You can decide whether speed is 2G,3G or 4G level based on the speed in kbps.\r\n\r\n    ConnectivityManager cm = (ConnectivityManager)this.getSystemService(CONNECTIVITY_SERVICE);\r\n    NetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\n    var downSpeed = nc.getLinkDownstreamBandwidthKbps();\r\n    var upSpeed = nc.getLinkUpstreamBandwidthKbps();\r\n\r\n\r\n\r\n- 2G GSM   \t~14.4 Kbps  \r\n- G\t GPRS\t~26.8 Kbps  \r\n- E  EDGE\t~108.8 Kbps  \r\n- 3G UMTS\t~128 Kbps  \r\n- H  HSPA\t~3.6 Mbps  \r\n- H+ HSPA+\t~14.4 Mbps-23.0 Mbps  \r\n- 4G LTE\t~50 Mbps  \r\n- 4G LTE-A  ~500 Mbps  \r\n\r\nDownloading a file is over-engineering the solution because after all, you aren&#39;t responsible for the users internet connection - they are (or rather their service provider is)! Giving them info based on their current status is more than enough for most use cases. This gives you a speedy way of checking current link speed before performing operations.","title":"Android: How to determine Network speed in android programmatically","body":"<p>Requires minimum api:21. I use <code>ConnectivityManager</code> combined with <code>NetworkCapabilities</code> to get both the downstream and upstream bandwidth. Works just fine. You can decide whether speed is 2G,3G or 4G level based on the speed in kbps.</p>\n\n<pre><code>ConnectivityManager cm = (ConnectivityManager)this.getSystemService(CONNECTIVITY_SERVICE);\nNetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\nvar downSpeed = nc.getLinkDownstreamBandwidthKbps();\nvar upSpeed = nc.getLinkUpstreamBandwidthKbps();\n</code></pre>\n\n<ul>\n<li>2G GSM    ~14.4 Kbps  </li>\n<li>G  GPRS   ~26.8 Kbps  </li>\n<li>E  EDGE   ~108.8 Kbps  </li>\n<li>3G UMTS   ~128 Kbps  </li>\n<li>H  HSPA   ~3.6 Mbps  </li>\n<li>H+ HSPA+  ~14.4 Mbps-23.0 Mbps  </li>\n<li>4G LTE    ~50 Mbps  </li>\n<li>4G LTE-A  ~500 Mbps  </li>\n</ul>\n\n<p>Downloading a file is over-engineering the solution because after all, you aren't responsible for the users internet connection - they are (or rather their service provider is)! Giving them info based on their current status is more than enough for most use cases. This gives you a speedy way of checking current link speed before performing operations.</p>\n"},{"tags":[],"owner":{"account_id":3848627,"reputation":129,"user_id":3189319,"display_name":"Sovandara LENG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552558060,"creation_date":1552558060,"answer_id":55159751,"question_id":55159487,"body_markdown":"It seem that android doesn&#39;t allow this directly. You can try to download some file to determine the speed of your internet. \r\nBelow are the list of the connection qualities:\r\n\r\n - POOR // Bandwidth under 150 kbps.  \r\n - MODERATE // Bandwidth between 150 and 550 kbps.\r\n - GOOD // Bandwidth over 2000 kbps.   \r\n - EXCELLENT // Bandwidth over 2000 kbps.   \r\n - UNKNOWN // connection quality cannot be found.\r\n\r\nYou can check detail in this article\r\nhttps://android.jlelse.eu/designing-android-apps-to-handle-slow-network-speed-dedc04119aac","title":"Android: How to determine Network speed in android programmatically","body":"<p>It seem that android doesn't allow this directly. You can try to download some file to determine the speed of your internet. \nBelow are the list of the connection qualities:</p>\n\n<ul>\n<li>POOR // Bandwidth under 150 kbps.  </li>\n<li>MODERATE // Bandwidth between 150 and 550 kbps.</li>\n<li>GOOD // Bandwidth over 2000 kbps.   </li>\n<li>EXCELLENT // Bandwidth over 2000 kbps.   </li>\n<li>UNKNOWN // connection quality cannot be found.</li>\n</ul>\n\n<p>You can check detail in this article\n<a href=\"https://android.jlelse.eu/designing-android-apps-to-handle-slow-network-speed-dedc04119aac\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/designing-android-apps-to-handle-slow-network-speed-dedc04119aac</a></p>\n"},{"tags":[],"owner":{"account_id":15467155,"reputation":1406,"user_id":11158194,"display_name":"Hardik Talaviya"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1552558589,"creation_date":1552558589,"answer_id":55159927,"question_id":55159487,"body_markdown":"Check internet speed for **mobile network** to use this code\r\n\r\n    ConnectivityManager connectivityManager = (ConnectivityManager)this.getSystemService(CONNECTIVITY_SERVICE);\r\n    NetworkCapabilities nc = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n    var downSpeed = nc.getLinkDownstreamBandwidthKbps();\r\n    var upSpeed = nc.getLinkUpstreamBandwidthKbps();\r\n\r\nIf check internet speed for **wifi network** to use this code\r\n\r\n    public int getWifiLevel()\r\n    {\r\n        WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n        int linkSpeed = wifiManager.getConnectionInfo().getRssi();\r\n        int level = WifiManager.calculateSignalLevel(linkSpeed, 5);\r\n        return level;\r\n    }\r\n\r\nAnd more details refer this link\r\n\r\nhttps://android.jlelse.eu/designing-android-apps-to-handle-slow-network-speed-dedc04119aac\r\n\r\nI hope this can help you!\r\n\r\nThank You.","title":"Android: How to determine Network speed in android programmatically","body":"<p>Check internet speed for <strong>mobile network</strong> to use this code</p>\n\n<pre><code>ConnectivityManager connectivityManager = (ConnectivityManager)this.getSystemService(CONNECTIVITY_SERVICE);\nNetworkCapabilities nc = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\nvar downSpeed = nc.getLinkDownstreamBandwidthKbps();\nvar upSpeed = nc.getLinkUpstreamBandwidthKbps();\n</code></pre>\n\n<p>If check internet speed for <strong>wifi network</strong> to use this code</p>\n\n<pre><code>public int getWifiLevel()\n{\n    WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    int linkSpeed = wifiManager.getConnectionInfo().getRssi();\n    int level = WifiManager.calculateSignalLevel(linkSpeed, 5);\n    return level;\n}\n</code></pre>\n\n<p>And more details refer this link</p>\n\n<p><a href=\"https://android.jlelse.eu/designing-android-apps-to-handle-slow-network-speed-dedc04119aac\" rel=\"noreferrer\">https://android.jlelse.eu/designing-android-apps-to-handle-slow-network-speed-dedc04119aac</a></p>\n\n<p>I hope this can help you!</p>\n\n<p>Thank You.</p>\n"},{"comments":[{"owner":{"account_id":980790,"reputation":8154,"user_id":1000551,"display_name":"Vadim Kotov"},"score":2,"creation_date":1560166723,"post_id":55161717,"comment_id":99635022,"body_markdown":"This requires API level 21","body":"This requires API level 21"},{"owner":{"account_id":4395329,"reputation":313,"user_id":3582580,"display_name":"Nitish"},"score":7,"creation_date":1569224250,"post_id":55161717,"comment_id":102512536,"body_markdown":"this requires API level 23","body":"this requires API level 23"},{"owner":{"account_id":4943270,"reputation":245,"user_id":3979415,"display_name":"Luca Biasotto"},"score":2,"creation_date":1579785771,"post_id":55161717,"comment_id":105888379,"body_markdown":"getLinkUpstreamBandwidthKbps and getLinkDownstreamBandwidthKbps in differente network always return same value. Why?","body":"getLinkUpstreamBandwidthKbps and getLinkDownstreamBandwidthKbps in differente network always return same value. Why?"},{"owner":{"account_id":3239773,"reputation":1680,"user_id":2733098,"accept_rate":54,"display_name":"Shanki Bansal"},"score":6,"creation_date":1583239006,"post_id":55161717,"comment_id":107042226,"body_markdown":"I too got the same values.\nI think this will not work, as it may only return the maximum bandwidth supported by the network. In my case, it returns 1048576, i.e. 1Gbps, that is not possible in the network to which I connected. Second thing, the class name &quot;NetworkCapabilities&quot; itself says that capabilities of the network, so it&#39;s telling the maximum capabilities of that network.","body":"I too got the same values. I think this will not work, as it may only return the maximum bandwidth supported by the network. In my case, it returns 1048576, i.e. 1Gbps, that is not possible in the network to which I connected. Second thing, the class name &quot;NetworkCapabilities&quot; itself says that capabilities of the network, so it&#39;s telling the maximum capabilities of that network."},{"owner":{"account_id":8717748,"reputation":591,"user_id":6521780,"accept_rate":29,"display_name":"Jeyaseelan"},"score":3,"creation_date":1618815129,"post_id":55161717,"comment_id":118706651,"body_markdown":"This does not work as they have said it returns the maximum upload and download speed of the network","body":"This does not work as they have said it returns the maximum upload and download speed of the network"},{"owner":{"account_id":14891319,"reputation":321,"user_id":10752877,"display_name":"TJ Olsen"},"score":0,"creation_date":1701979941,"post_id":55161717,"comment_id":136844930,"body_markdown":"This does not give the actual speed. &quot;Retrieves the up/downstream bandwidth for this network in Kbps. This always only refers to the estimated first hop transport bandwidth.&quot; If you have 1 GB router, this is always going to return that max of over 1m kbps. Not actually helpful for detecting speed - only potential. https://developer.android.com/reference/android/net/NetworkCapabilities","body":"This does not give the actual speed. &quot;Retrieves the up/downstream bandwidth for this network in Kbps. This always only refers to the estimated first hop transport bandwidth.&quot; If you have 1 GB router, this is always going to return that max of over 1m kbps. Not actually helpful for detecting speed - only potential. <a href=\"https://developer.android.com/reference/android/net/NetworkCapabilities\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/net/NetworkCapabilit&zwnj;&#8203;ies</a>"}],"tags":[],"owner":{"account_id":14924576,"reputation":337,"user_id":10775846,"display_name":"Rajiv Reddy"},"comment_count":6,"down_vote_count":2,"up_vote_count":21,"is_accepted":true,"score":19,"last_activity_date":1552563983,"creation_date":1552563983,"answer_id":55161717,"question_id":55159487,"body_markdown":"***Determining your Network Speed - (Slow Internet Speed)***\r\n\r\nUsing NetworkInfo class, ConnectivityManager and TelephonyManager to determine your Network Type.\r\n\r\nDownload any file from the internet &amp; calculate how long it took vs number of bytes in the file. ( Only possible way to determine Speed Check )\r\n\r\nI have tried the below Logic for my projects, You have also look into this, *Hope it helps you.*   \r\n\r\n\r\n    ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n        //should check null because in airplane mode it will be null\r\n        NetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\n        int downSpeed = nc.getLinkDownstreamBandwidthKbps();\r\n        int upSpeed = nc.getLinkUpstreamBandwidthKbps();","title":"Android: How to determine Network speed in android programmatically","body":"<p><strong><em>Determining your Network Speed - (Slow Internet Speed)</em></strong></p>\n\n<p>Using NetworkInfo class, ConnectivityManager and TelephonyManager to determine your Network Type.</p>\n\n<p>Download any file from the internet &amp; calculate how long it took vs number of bytes in the file. ( Only possible way to determine Speed Check )</p>\n\n<p>I have tried the below Logic for my projects, You have also look into this, <em>Hope it helps you.</em>   </p>\n\n<pre><code>ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo netInfo = cm.getActiveNetworkInfo();\n    //should check null because in airplane mode it will be null\n    NetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\n    int downSpeed = nc.getLinkDownstreamBandwidthKbps();\n    int upSpeed = nc.getLinkUpstreamBandwidthKbps();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1505732,"reputation":6615,"user_id":1409132,"accept_rate":65,"display_name":"Psest328"},"score":7,"creation_date":1579183020,"post_id":55162002,"comment_id":105686039,"body_markdown":"Sorry for the downvote :(. The library you pointed to hasn&#39;t been updated since 2015 and has reported issues with Android 9+.  I would advise AGAINST using this library unless it&#39;s updated in the future (if it ever is, I&#39;ll remove my downvote.  Promise :) )","body":"Sorry for the downvote :(. The library you pointed to hasn&#39;t been updated since 2015 and has reported issues with Android 9+.  I would advise AGAINST using this library unless it&#39;s updated in the future (if it ever is, I&#39;ll remove my downvote.  Promise :) )"},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1623233225,"post_id":55162002,"comment_id":120018564,"body_markdown":"i did converted this repo into kotlin and it&#39;s work in android 10. check it out [here](https://github.com/bhavin1994/network-connection-class.git)","body":"i did converted this repo into kotlin and it&#39;s work in android 10. check it out <a href=\"https://github.com/bhavin1994/network-connection-class.git\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":3181549,"reputation":147,"user_id":2688123,"accept_rate":100,"display_name":"tbfp"},"score":0,"creation_date":1669798251,"post_id":55162002,"comment_id":131722541,"body_markdown":"@BhavinPatel is the repo still there?","body":"@BhavinPatel is the repo still there?"},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":1,"creation_date":1671637893,"post_id":55162002,"comment_id":132142643,"body_markdown":"@tbfp sorry :( I don&#39;t know how and when it&#39;s deleted.","body":"@tbfp sorry :( I don&#39;t know how and when it&#39;s deleted."}],"tags":[],"owner":{"account_id":8354243,"reputation":8167,"user_id":6275174,"display_name":"Nicola Gallazzi"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1579347725,"creation_date":1552564749,"answer_id":55162002,"question_id":55159487,"body_markdown":"**UPDATE - DEPRECATED LIBRARY - no longer mainteined**\r\n\r\n**original post:**\r\n\r\nYou can use [Network Connection Class][1] by Facebook. \r\n\r\n\r\n  [1]: https://github.com/facebook/network-connection-class\r\n\r\nIts ConnectionClassStateChangeListener has a method called `onBandwidthStateChange` that returns an instance of **ConnectionQuality** class:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface ConnectionClassStateChangeListener {\r\n      public void onBandwidthStateChange(ConnectionQuality bandwidthState);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nConnectionQuality class is an enum class defined as below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public enum ConnectionQuality {\r\n      /**\r\n       * Bandwidth under 150 kbps.\r\n       */\r\n      POOR,\r\n      /**\r\n       * Bandwidth between 150 and 550 kbps.\r\n       */\r\n      MODERATE,\r\n      /**\r\n       * Bandwidth between 550 and 2000 kbps.\r\n       */\r\n      GOOD,\r\n      /**\r\n       * EXCELLENT - Bandwidth over 2000 kbps.\r\n       */\r\n      EXCELLENT,\r\n      /**\r\n       * Placeholder for unknown bandwidth. This is the initial value and will stay at this value\r\n       * if a bandwidth cannot be accurately found.\r\n       */\r\n      UNKNOWN\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android: How to determine Network speed in android programmatically","body":"<p><strong>UPDATE - DEPRECATED LIBRARY - no longer mainteined</strong></p>\n\n<p><strong>original post:</strong></p>\n\n<p>You can use <a href=\"https://github.com/facebook/network-connection-class\" rel=\"nofollow noreferrer\">Network Connection Class</a> by Facebook. </p>\n\n<p>Its ConnectionClassStateChangeListener has a method called <code>onBandwidthStateChange</code> that returns an instance of <strong>ConnectionQuality</strong> class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface ConnectionClassStateChangeListener {\n  public void onBandwidthStateChange(ConnectionQuality bandwidthState);\n}\n</code></pre>\n\n<p>ConnectionQuality class is an enum class defined as below:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum ConnectionQuality {\n  /**\n   * Bandwidth under 150 kbps.\n   */\n  POOR,\n  /**\n   * Bandwidth between 150 and 550 kbps.\n   */\n  MODERATE,\n  /**\n   * Bandwidth between 550 and 2000 kbps.\n   */\n  GOOD,\n  /**\n   * EXCELLENT - Bandwidth over 2000 kbps.\n   */\n  EXCELLENT,\n  /**\n   * Placeholder for unknown bandwidth. This is the initial value and will stay at this value\n   * if a bandwidth cannot be accurately found.\n   */\n  UNKNOWN\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15571619,"reputation":1344,"user_id":11233871,"display_name":"Happy Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650528334,"creation_date":1650528334,"answer_id":71950914,"question_id":55159487,"body_markdown":"Get network speed and network type\r\n\r\n\r\n    class NetworkUtils {\r\n\r\n      companion object {\r\n\r\n        // returns 102 Mbps\r\n        fun getNetworkSpeed(context: Context): String {\r\n            val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n            return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                val nc = cm.getNetworkCapabilities(cm.activeNetwork)\r\n                val downSpeed = (nc?.linkDownstreamBandwidthKbps)?.div(1000)\r\n                &quot;${downSpeed ?: 0} Mbps&quot;\r\n            } else {\r\n                &quot;-&quot;\r\n            }\r\n        }\r\n\r\n        // returns 2G,3G,4G,WIFI\r\n        fun getNetworkClass(context: Context): String {\r\n            val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n            val info = cm.activeNetworkInfo\r\n            if (info == null || !info.isConnected) return &quot;-&quot; // not connected\r\n            if (info.type == ConnectivityManager.TYPE_WIFI) return &quot;WIFI&quot;\r\n            if (info.type == ConnectivityManager.TYPE_MOBILE) {\r\n                return when (info.subtype) {\r\n                    TelephonyManager.NETWORK_TYPE_GPRS, TelephonyManager.NETWORK_TYPE_EDGE, TelephonyManager.NETWORK_TYPE_CDMA, TelephonyManager.NETWORK_TYPE_1xRTT, TelephonyManager.NETWORK_TYPE_IDEN, TelephonyManager.NETWORK_TYPE_GSM -&gt; &quot;2G&quot;\r\n                    TelephonyManager.NETWORK_TYPE_UMTS, TelephonyManager.NETWORK_TYPE_EVDO_0, TelephonyManager.NETWORK_TYPE_EVDO_A, TelephonyManager.NETWORK_TYPE_HSDPA, TelephonyManager.NETWORK_TYPE_HSUPA, TelephonyManager.NETWORK_TYPE_HSPA, TelephonyManager.NETWORK_TYPE_EVDO_B, TelephonyManager.NETWORK_TYPE_EHRPD, TelephonyManager.NETWORK_TYPE_HSPAP, TelephonyManager.NETWORK_TYPE_TD_SCDMA -&gt; &quot;3G&quot;\r\n                    TelephonyManager.NETWORK_TYPE_LTE, TelephonyManager.NETWORK_TYPE_IWLAN, 19 -&gt; &quot;4G&quot;\r\n                    else -&gt; &quot;?&quot;\r\n                }\r\n            }\r\n            return &quot;?&quot;\r\n        }\r\n\r\n      }\r\n    }","title":"Android: How to determine Network speed in android programmatically","body":"<p>Get network speed and network type</p>\n<pre><code>class NetworkUtils {\n\n  companion object {\n\n    // returns 102 Mbps\n    fun getNetworkSpeed(context: Context): String {\n        val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            val nc = cm.getNetworkCapabilities(cm.activeNetwork)\n            val downSpeed = (nc?.linkDownstreamBandwidthKbps)?.div(1000)\n            &quot;${downSpeed ?: 0} Mbps&quot;\n        } else {\n            &quot;-&quot;\n        }\n    }\n\n    // returns 2G,3G,4G,WIFI\n    fun getNetworkClass(context: Context): String {\n        val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val info = cm.activeNetworkInfo\n        if (info == null || !info.isConnected) return &quot;-&quot; // not connected\n        if (info.type == ConnectivityManager.TYPE_WIFI) return &quot;WIFI&quot;\n        if (info.type == ConnectivityManager.TYPE_MOBILE) {\n            return when (info.subtype) {\n                TelephonyManager.NETWORK_TYPE_GPRS, TelephonyManager.NETWORK_TYPE_EDGE, TelephonyManager.NETWORK_TYPE_CDMA, TelephonyManager.NETWORK_TYPE_1xRTT, TelephonyManager.NETWORK_TYPE_IDEN, TelephonyManager.NETWORK_TYPE_GSM -&gt; &quot;2G&quot;\n                TelephonyManager.NETWORK_TYPE_UMTS, TelephonyManager.NETWORK_TYPE_EVDO_0, TelephonyManager.NETWORK_TYPE_EVDO_A, TelephonyManager.NETWORK_TYPE_HSDPA, TelephonyManager.NETWORK_TYPE_HSUPA, TelephonyManager.NETWORK_TYPE_HSPA, TelephonyManager.NETWORK_TYPE_EVDO_B, TelephonyManager.NETWORK_TYPE_EHRPD, TelephonyManager.NETWORK_TYPE_HSPAP, TelephonyManager.NETWORK_TYPE_TD_SCDMA -&gt; &quot;3G&quot;\n                TelephonyManager.NETWORK_TYPE_LTE, TelephonyManager.NETWORK_TYPE_IWLAN, 19 -&gt; &quot;4G&quot;\n                else -&gt; &quot;?&quot;\n            }\n        }\n        return &quot;?&quot;\n    }\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4355856,"reputation":33,"user_id":3554512,"accept_rate":100,"display_name":"Jojo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674248598,"creation_date":1674245409,"answer_id":75188912,"question_id":55159487,"body_markdown":"There are two ways to solve this problem.\r\n1. Write a code to programmatically check how long it takes download a small file and determine your bandwidth - I have used this and it is fairly accurate considering server location. I used google image on google server of course. However, the larger the file, the more accurate the result.\r\n\r\n2. Use [JSpeedTest][1] - I have not tried this but it should work ok. Note, it uses 1mb file.\r\n\r\nFor solution 1: \r\n\r\n     public static float bandwidth( Context context) {\r\n        int len;\r\n        int size = 1024;\r\n        byte[] buf;\r\n\r\n        String imageurl = &quot;https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png&quot;;\r\n        InputStream is = null;\r\n        long start = System.currentTimeMillis();\r\n        long end = 0L;\r\n        float bandwidth=0.0f;\r\n        try{\r\n            Log.d(&quot;Network&quot;, imageurl);\r\n            URL url = new URL(imageurl);\r\n            URLConnection urlConn = url.openConnection();\r\n            HttpURLConnection httpConn = (HttpURLConnection) urlConn;\r\n            httpConn.connect();\r\n\r\n            is = httpConn.getInputStream();\r\n            if (is instanceof ByteArrayInputStream) {\r\n                size = is.available();\r\n                buf = new byte[size];\r\n                len = is.read(buf, 0, size);\r\n            } else {\r\n                ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                buf = new byte[size];\r\n                while ((len = is.read(buf, 0, size)) != -1)\r\n                    bos.write(buf, 0, len);\r\n                buf = bos.toByteArray();\r\n            }\r\n\r\n            Log.d(&quot;Network&quot;, &quot;ImageSize:&quot;+buf.length);\r\n            end = System.currentTimeMillis();\r\n            Log.d(&quot;Network&quot;, &quot;time:&quot;+end);\r\n\r\n            // Bandwidth : size(B/1000)=KB\r\n            //That is KiloBytes per secs\r\n            float kilobytesDownloaded = buf.length/1000;\r\n\r\n            //Get the duration, convert milliseconds to seconds\r\n            float diff = end-start;\r\n            float duration = (float)(diff/1000);\r\n            Log.d(&quot;Network&quot;, &quot;duration in secs:&quot;+duration);\r\n\r\n            bandwidth = (float)kilobytesDownloaded / duration;\r\n\r\n            Log.d(&quot;Network&quot;, &quot;difference:&quot;+(end-start));\r\n            Log.d(&quot;Network&quot;, &quot;bandwidth:&quot;+bandwidth+&quot;kb/s&quot;);\r\n        }catch (MalformedURLException e){\r\n            e.printStackTrace();\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return bandwidth;\r\n    }\r\n\r\nYour sample result should look something like this:\r\n\r\n - ImageSize:5969 bytes\r\n - time difference:129ms\r\n - duration in secs:0.129s\r\n - bandwidth:38.759693kb/s\r\n\r\nFor solution 2: click on the link, the implementation is on the page. You can get both download and upload speed with it.\r\n\r\n  [1]: https://github.com/bertrandmartel/speed-test-lib","title":"Android: How to determine Network speed in android programmatically","body":"<p>There are two ways to solve this problem.</p>\n<ol>\n<li><p>Write a code to programmatically check how long it takes download a small file and determine your bandwidth - I have used this and it is fairly accurate considering server location. I used google image on google server of course. However, the larger the file, the more accurate the result.</p>\n</li>\n<li><p>Use <a href=\"https://github.com/bertrandmartel/speed-test-lib\" rel=\"nofollow noreferrer\">JSpeedTest</a> - I have not tried this but it should work ok. Note, it uses 1mb file.</p>\n</li>\n</ol>\n<p>For solution 1:</p>\n<pre><code> public static float bandwidth( Context context) {\n    int len;\n    int size = 1024;\n    byte[] buf;\n\n    String imageurl = &quot;https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png&quot;;\n    InputStream is = null;\n    long start = System.currentTimeMillis();\n    long end = 0L;\n    float bandwidth=0.0f;\n    try{\n        Log.d(&quot;Network&quot;, imageurl);\n        URL url = new URL(imageurl);\n        URLConnection urlConn = url.openConnection();\n        HttpURLConnection httpConn = (HttpURLConnection) urlConn;\n        httpConn.connect();\n\n        is = httpConn.getInputStream();\n        if (is instanceof ByteArrayInputStream) {\n            size = is.available();\n            buf = new byte[size];\n            len = is.read(buf, 0, size);\n        } else {\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            buf = new byte[size];\n            while ((len = is.read(buf, 0, size)) != -1)\n                bos.write(buf, 0, len);\n            buf = bos.toByteArray();\n        }\n\n        Log.d(&quot;Network&quot;, &quot;ImageSize:&quot;+buf.length);\n        end = System.currentTimeMillis();\n        Log.d(&quot;Network&quot;, &quot;time:&quot;+end);\n\n        // Bandwidth : size(B/1000)=KB\n        //That is KiloBytes per secs\n        float kilobytesDownloaded = buf.length/1000;\n\n        //Get the duration, convert milliseconds to seconds\n        float diff = end-start;\n        float duration = (float)(diff/1000);\n        Log.d(&quot;Network&quot;, &quot;duration in secs:&quot;+duration);\n\n        bandwidth = (float)kilobytesDownloaded / duration;\n\n        Log.d(&quot;Network&quot;, &quot;difference:&quot;+(end-start));\n        Log.d(&quot;Network&quot;, &quot;bandwidth:&quot;+bandwidth+&quot;kb/s&quot;);\n    }catch (MalformedURLException e){\n        e.printStackTrace();\n    }catch (IOException e){\n        e.printStackTrace();\n    }\n\n    return bandwidth;\n}\n</code></pre>\n<p>Your sample result should look something like this:</p>\n<ul>\n<li>ImageSize:5969 bytes</li>\n<li>time difference:129ms</li>\n<li>duration in secs:0.129s</li>\n<li>bandwidth:38.759693kb/s</li>\n</ul>\n<p>For solution 2: click on the link, the implementation is on the page. You can get both download and upload speed with it.</p>\n"}],"owner":{"account_id":8920358,"reputation":315,"user_id":6657175,"display_name":"Mind_Control"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58524,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":55161717,"answer_count":9,"score":23,"last_activity_date":1674248598,"creation_date":1552557328,"question_id":55159487,"body_markdown":"How to show a slow internet connection to the user when the network is connected\r\nNote: Not a network type (2G,3G,4G, WIFI)","title":"Android: How to determine Network speed in android programmatically","body":"<p>How to show a slow internet connection to the user when the network is connected\nNote: Not a network type (2G,3G,4G, WIFI)</p>\n"},{"tags":["java","web-services","soap","jaxb"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674140093,"post_id":75173845,"comment_id":132654926,"body_markdown":"Where does this `defaultUri` coming from, and are you sure it is configured appropriately for your pre-prod environment? In any case, the error suggests that the `webServiceTemplate` of `WebServiceGatewaySupport` is null, which as far as I can tell from a quick look at the [code](https://github.com/spring-projects/spring-ws/blob/main/spring-ws-core/src/main/java/org/springframework/ws/client/core/support/WebServiceGatewaySupport.java) should not be possible.","body":"Where does this <code>defaultUri</code> coming from, and are you sure it is configured appropriately for your pre-prod environment? In any case, the error suggests that the <code>webServiceTemplate</code> of <code>WebServiceGatewaySupport</code> is null, which as far as I can tell from a quick look at the <a href=\"https://github.com/spring-projects/spring-ws/blob/main/spring-ws-core/src/main/java/org/springframework/ws/client/core/support/WebServiceGatewaySupport.java\" rel=\"nofollow noreferrer\">code</a> should not be possible."},{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1674140940,"post_id":75173845,"comment_id":132655223,"body_markdown":"Yes. `defaultUri` is configured in the properties. even i am able to print it inside the `setAppClient` method.","body":"Yes. <code>defaultUri</code> is configured in the properties. even i am able to print it inside the <code>setAppClient</code> method."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674141026,"post_id":75173845,"comment_id":132655250,"body_markdown":"In any case, without a [mre] (including the exact version of spring-ws), this is likely not diagnosable.","body":"In any case, without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (including the exact version of spring-ws), this is likely not diagnosable."},{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1674141165,"post_id":75173845,"comment_id":132655291,"body_markdown":"sure @MarkRotteveel. will share that. BTW. this app is working fine in other environments. only in _pre-prod_ its failing.","body":"sure @MarkRotteveel. will share that. BTW. this app is working fine in other environments. only in <i>pre-prod</i> its failing."}],"answers":[{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674248396,"creation_date":1674248396,"answer_id":75189299,"question_id":75173845,"body_markdown":"the solution which worked for us is manually create an object of `AppClient` class.\r\n\r\n1. Removed `@Component` annotation from `AppClient.java` class.\r\n2. Inside `AppClientConfiguration.java` class\r\n```\r\n    @Bean\r\n    public AppClient setAppClient(Jaxb2Marshaller marshaller) throws NoSuchAlgorithmException, KeyManagementException {\r\n        \r\n        AppClient client = new AppClient();//Manually creating the object  \r\n        client.setDefaultUri(defaultUri); \r\n        client.setMarshaller(marshaller);\r\n        client.setUnmarshaller(marshaller);\r\n        ............\r\n        ...........        \r\n        return client;\r\n    }\r\n```\r\n\r\nNot sure how the previous one is working in other instances. But , this approach is working.","title":"WebServiceGatewaySupport.setDefaultUri throwing NULL POINTER Exception only in Pre-Prod environment","body":"<p>the solution which worked for us is manually create an object of <code>AppClient</code> class.</p>\n<ol>\n<li>Removed <code>@Component</code> annotation from <code>AppClient.java</code> class.</li>\n<li>Inside <code>AppClientConfiguration.java</code> class</li>\n</ol>\n<pre><code>    @Bean\n    public AppClient setAppClient(Jaxb2Marshaller marshaller) throws NoSuchAlgorithmException, KeyManagementException {\n        \n        AppClient client = new AppClient();//Manually creating the object  \n        client.setDefaultUri(defaultUri); \n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        ............\n        ...........        \n        return client;\n    }\n</code></pre>\n<p>Not sure how the previous one is working in other instances. But , this approach is working.</p>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189299,"answer_count":1,"score":0,"last_activity_date":1674248396,"creation_date":1674138605,"question_id":75173845,"body_markdown":"Calling SOAP service application throwing the below error only in our _pre-prod_ environment. The code is working in _dev_ and _staging_. We&#39;re completely stuck here actually.\r\n\r\nThe application is not even getting deployed in the _pre-prod_ environment. We tried to put debug logs and found the place where it is failing, the methods which are defined inside `WebServiceGateWaySupport` which are `setDefaultUri` etc. Since this issue is coming only on one instance, we&#39;re not sure what to do. \r\n\r\nWe&#39;ve given the exception, which is being thrown, below.\r\n\r\nException:\r\n\r\n```none\r\njava.lang.NullPointerException\r\n\tat org.springframework.ws.client.core.support.WebServiceGatewaySupport.setDefaultUri(WebServiceGatewaySupport.java:92)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration.setAppClient(AppClientConfiguration.java:53)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.CGLIB$setAppClient$0(&lt;generated&gt;)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933$$FastClassBySpringCGLIB$$d3fe050c.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.setAppClient(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.company.cabs.mpd.event.consumer.StarterApplication.main(StarterApplication.java:17)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n```\r\n\r\nAppClientConfiguration.class \r\n\r\n```java\r\n@Configuration\r\npublic class AppClientConfiguration {\r\n\r\n.....   \r\n    @Bean\r\n    public AppClient setAppClient(Jaxb2Marshaller marshaller, AppClient client) throws NoSuchAlgorithmException, KeyManagementException {\r\n\r\n        client.setDefaultUri(defaultUri); //Error is being thrown here\r\n        client.setMarshaller(marshaller);//Error is being thrown here\r\n        client.setUnmarshaller(marshaller);//Error is being thrown here\r\n        client.getWebServiceTemplate().setMessageSender(webServiceMessageSender());//Error is being thrown here\r\n        client.getWebServiceTemplate().setCheckConnectionForError(false);//Error is being thrown here\r\n        client.getWebServiceTemplate().setCheckConnectionForFault(false);//Error is being thrown here\r\n        ClientInterceptor[] interceptors = {new AppClientInterceptor()};\r\n        client.setInterceptors(interceptors);\r\n\r\n        return client;\r\n    }\r\n....\r\n\r\n}\r\n```\r\n\r\nAppClient.java\r\n\r\n```java\r\n@Component\r\npublic class AppClient extends WebServiceGatewaySupport {\r\n....\r\n}\r\n```","title":"WebServiceGatewaySupport.setDefaultUri throwing NULL POINTER Exception only in Pre-Prod environment","body":"<p>Calling SOAP service application throwing the below error only in our <em>pre-prod</em> environment. The code is working in <em>dev</em> and <em>staging</em>. We're completely stuck here actually.</p>\n<p>The application is not even getting deployed in the <em>pre-prod</em> environment. We tried to put debug logs and found the place where it is failing, the methods which are defined inside <code>WebServiceGateWaySupport</code> which are <code>setDefaultUri</code> etc. Since this issue is coming only on one instance, we're not sure what to do.</p>\n<p>We've given the exception, which is being thrown, below.</p>\n<p>Exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\n    at org.springframework.ws.client.core.support.WebServiceGatewaySupport.setDefaultUri(WebServiceGatewaySupport.java:92)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration.setAppClient(AppClientConfiguration.java:53)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.CGLIB$setAppClient$0(&lt;generated&gt;)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933$$FastClassBySpringCGLIB$$d3fe050c.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.setAppClient(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.company.cabs.mpd.event.consumer.StarterApplication.main(StarterApplication.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n<p>AppClientConfiguration.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppClientConfiguration {\n\n.....   \n    @Bean\n    public AppClient setAppClient(Jaxb2Marshaller marshaller, AppClient client) throws NoSuchAlgorithmException, KeyManagementException {\n\n        client.setDefaultUri(defaultUri); //Error is being thrown here\n        client.setMarshaller(marshaller);//Error is being thrown here\n        client.setUnmarshaller(marshaller);//Error is being thrown here\n        client.getWebServiceTemplate().setMessageSender(webServiceMessageSender());//Error is being thrown here\n        client.getWebServiceTemplate().setCheckConnectionForError(false);//Error is being thrown here\n        client.getWebServiceTemplate().setCheckConnectionForFault(false);//Error is being thrown here\n        ClientInterceptor[] interceptors = {new AppClientInterceptor()};\n        client.setInterceptors(interceptors);\n\n        return client;\n    }\n....\n\n}\n</code></pre>\n<p>AppClient.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AppClient extends WebServiceGatewaySupport {\n....\n}\n</code></pre>\n"},{"tags":["java","performance","multithreading","dictionary","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1567829971,"creation_date":1259390925,"answer_id":1811806,"question_id":1811782,"body_markdown":"# Sorted, navigable, and concurrent\r\n\r\nSee [Skip List][1] for a definition of the data structure.  \r\n\r\nA [`ConcurrentSkipListMap`][2] stores the [`Map`][3] in the natural order of its keys (or some other key order you define).  So it&#39;ll have slower `get`/`put`/`contains` operations than a [`HashMap`][4], but to offset this it supports the [`SortedMap`][5], [`NavigableMap`][6], and [`ConcurrentNavigableMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentNavigableMap.html) interfaces.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Skip_list\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html","title":"When should I use ConcurrentSkipListMap?","body":"<h1>Sorted, navigable, and concurrent</h1>\n\n<p>See <a href=\"http://en.wikipedia.org/wiki/Skip_list\" rel=\"nofollow noreferrer\">Skip List</a> for a definition of the data structure.  </p>\n\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListMap</code></a> stores the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> in the natural order of its keys (or some other key order you define).  So it'll have slower <code>get</code>/<code>put</code>/<code>contains</code> operations than a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>, but to offset this it supports the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentNavigableMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentNavigableMap</code></a> interfaces.</p>\n"},{"comments":[{"owner":{"account_id":66378,"reputation":3043,"user_id":194764,"accept_rate":94,"display_name":"DKSRathore"},"score":0,"creation_date":1259392435,"post_id":1811810,"comment_id":1700901,"body_markdown":"Ok. Log(n) is fine but does ConcurrentSkipListMap is space efficient?","body":"Ok. Log(n) is fine but does ConcurrentSkipListMap is space efficient?"},{"owner":{"account_id":29738,"reputation":22271,"user_id":80572,"accept_rate":80,"display_name":"Kevin Montrose"},"score":1,"creation_date":1259393053,"post_id":1811810,"comment_id":1700914,"body_markdown":"Skip lists are necessarily larger than Hashtables, but the tunable nature of ConcurrentHashMap makes it possible to construct a Hashtable that is larger than the equivalent ConcurrentSkipListMap.  In general, I&#39;d expect the skip list to be larger but on the same order of magnitude.","body":"Skip lists are necessarily larger than Hashtables, but the tunable nature of ConcurrentHashMap makes it possible to construct a Hashtable that is larger than the equivalent ConcurrentSkipListMap.  In general, I&#39;d expect the skip list to be larger but on the same order of magnitude."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1330027926,"post_id":1811810,"comment_id":11908435,"body_markdown":"&quot;It also does not support tuning for concurrency&#39;s sake&quot;.. Why? What is the link?","body":"&quot;It also does not support tuning for concurrency&#39;s sake&quot;.. Why? What is the link?"},{"owner":{"account_id":29738,"reputation":22271,"user_id":80572,"accept_rate":80,"display_name":"Kevin Montrose"},"score":2,"creation_date":1330028242,"post_id":1811810,"comment_id":11908559,"body_markdown":"@Pacerier - I didn&#39;t mean it does support tuning because it&#39;s concurrent, I mean it doesn&#39;t allow you to tune parameters that influence it&#39;s concurrent performance (while ConcurrentHashMap does).","body":"@Pacerier - I didn&#39;t mean it does support tuning because it&#39;s concurrent, I mean it doesn&#39;t allow you to tune parameters that influence it&#39;s concurrent performance (while ConcurrentHashMap does)."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1330033054,"post_id":1811810,"comment_id":11910447,"body_markdown":"@KevinMontrose Ic, so you meant &quot;It also does not support concurrency tuning.&quot;","body":"@KevinMontrose Ic, so you meant &quot;It also does not support concurrency tuning.&quot;"},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":0,"creation_date":1642450968,"post_id":1811810,"comment_id":125069373,"body_markdown":"I find it odd that everyone likes to compare time complexity in the absence of required space.  SkipLists are much more memory efficient (a point that I think is worth noting)","body":"I find it odd that everyone likes to compare time complexity in the absence of required space.  SkipLists are much more memory efficient (a point that I think is worth noting)"}],"tags":[],"owner":{"account_id":29738,"reputation":22271,"user_id":80572,"accept_rate":80,"display_name":"Kevin Montrose"},"comment_count":6,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1303917321,"creation_date":1259391003,"answer_id":1811810,"question_id":1811782,"body_markdown":"These two classes vary in a few ways.\r\n\r\n[ConcurrentHashMap][1] does not guarantee* the runtime of its operations as part of its contract.  It also allows tuning for certain load factors (roughly, the number of threads concurrently modifying it).\r\n\r\n[ConcurrentSkipListMap][2], on the other hand, guarantees average O(log(n)) performance on a wide variety of operations.  It also does not support tuning for concurrency&#39;s sake.  `ConcurrentSkipListMap` also has a number of operations that `ConcurrentHashMap` doesn&#39;t: ceilingEntry/Key, floorEntry/Key, etc.  It also maintains a sort order, which would otherwise have to be calculated (at notable expense) if you were using a `ConcurrentHashMap`.\r\n\r\nBasically, different implementations are provided for different use cases.  If you need quick single key/value pair addition and quick single key lookup, use the `HashMap`.  If you need faster in-order traversal, and can afford the extra cost for insertion, use the `SkipListMap`.\r\n\r\n&lt;sub&gt;*Though I expect the implementation is roughly in line with the general hash-map guarantees of O(1) insertion/lookup; ignoring re-hashing&lt;/sub&gt;\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html","title":"When should I use ConcurrentSkipListMap?","body":"<p>These two classes vary in a few ways.</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a> does not guarantee* the runtime of its operations as part of its contract.  It also allows tuning for certain load factors (roughly, the number of threads concurrently modifying it).</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\">ConcurrentSkipListMap</a>, on the other hand, guarantees average O(log(n)) performance on a wide variety of operations.  It also does not support tuning for concurrency's sake.  <code>ConcurrentSkipListMap</code> also has a number of operations that <code>ConcurrentHashMap</code> doesn't: ceilingEntry/Key, floorEntry/Key, etc.  It also maintains a sort order, which would otherwise have to be calculated (at notable expense) if you were using a <code>ConcurrentHashMap</code>.</p>\n\n<p>Basically, different implementations are provided for different use cases.  If you need quick single key/value pair addition and quick single key lookup, use the <code>HashMap</code>.  If you need faster in-order traversal, and can afford the extra cost for insertion, use the <code>SkipListMap</code>.</p>\n\n<p><sub>*Though I expect the implementation is roughly in line with the general hash-map guarantees of O(1) insertion/lookup; ignoring re-hashing</sub></p>\n"},{"comments":[{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":2,"creation_date":1565815839,"post_id":39506822,"comment_id":101472937,"body_markdown":"I think ConcurrentSkipListMap should be compared to their non-concurrent counter part, the TreeMap.","body":"I think ConcurrentSkipListMap should be compared to their non-concurrent counter part, the TreeMap."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1567830693,"post_id":39506822,"comment_id":102090999,"body_markdown":"As abbas commented, comparing performance to ConcurrentHashMap seems silly. The purpose of ConcurrentSkipListMap is to (a) provide concurrency, and (b) maintain sort-order amongst the keys. ConcurrentHashMap does a, but not b. Comparing the 0-to-60 speed of a Tesla and a dump truck is senseless, as they serve different purposes.","body":"As abbas commented, comparing performance to ConcurrentHashMap seems silly. The purpose of ConcurrentSkipListMap is to (a) provide concurrency, and (b) maintain sort-order amongst the keys. ConcurrentHashMap does a, but not b. Comparing the 0-to-60 speed of a Tesla and a dump truck is senseless, as they serve different purposes."},{"owner":{"account_id":1162290,"reputation":3419,"user_id":1141564,"accept_rate":56,"display_name":"Xtra Coder"},"score":1,"creation_date":1568132104,"post_id":39506822,"comment_id":102174252,"body_markdown":"While you don&#39;t know performance metrics you don&#39;t know which one is Tesla and which one is &quot;dump truck&quot; :) Also ... you do not know the price of &quot;b&quot; without metrics. Therefore - comparing performance is generally useful thing.","body":"While you don&#39;t know performance metrics you don&#39;t know which one is Tesla and which one is &quot;dump truck&quot; :) Also ... you do not know the price of &quot;b&quot; without metrics. Therefore - comparing performance is generally useful thing."},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":1,"creation_date":1588212315,"post_id":39506822,"comment_id":108815637,"body_markdown":"Maybe add a comparison to tree map! :D","body":"Maybe add a comparison to tree map! :D"},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":0,"creation_date":1642450904,"post_id":39506822,"comment_id":125069348,"body_markdown":"Skip lists are much more memory efficient.  For me that&#39;s more important than a few milliseconds in lookups.","body":"Skip lists are much more memory efficient.  For me that&#39;s more important than a few milliseconds in lookups."},{"owner":{"account_id":3689978,"reputation":32029,"user_id":3072788,"accept_rate":82,"display_name":"Alec"},"score":0,"creation_date":1643215821,"post_id":39506822,"comment_id":125282135,"body_markdown":"It feels a little bit weird to benchmark the performance of a datastructure meant for concurrent access only single threaded. This would be more interesting with more threads (even just `-tc 1,2,4,8` to see performance with 1, 2, 4, 8 threads). I expect concurrent hashmap (even with the default config) would trounce concurrent skip list map, but the curve in vertical scalability could be interesting.","body":"It feels a little bit weird to benchmark the performance of a datastructure meant for concurrent access only single threaded. This would be more interesting with more threads (even just <code>-tc 1,2,4,8</code> to see performance with 1, 2, 4, 8 threads). I expect concurrent hashmap (even with the default config) would trounce concurrent skip list map, but the curve in vertical scalability could be interesting."}],"tags":[],"owner":{"account_id":1162290,"reputation":3419,"user_id":1141564,"accept_rate":56,"display_name":"Xtra Coder"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473929584,"creation_date":1473929584,"answer_id":39506822,"question_id":1811782,"body_markdown":"In terms of performance, `skipList` when is used as Map - appears to be 10-20 times slower. Here is the result of my tests (Java 1.8.0_102-b14, win x32)\r\n\r\n\tBenchmark                    Mode  Cnt  Score    Error  Units\r\n\tMyBenchmark.hasMap_get       avgt    5  0.015 ?  0.001   s/op\r\n\tMyBenchmark.hashMap_put      avgt    5  0.029 ?  0.004   s/op\r\n\tMyBenchmark.skipListMap_get  avgt    5  0.312 ?  0.014   s/op\r\n\tMyBenchmark.skipList_put     avgt    5  0.351 ?  0.007   s/op\r\n\r\nAnd additionally to that - use-case where comparing one-to-another really makes sense. Implementation of the cache of last-recently-used items using both of these collections. Now efficiency of skipList looks to be event more dubious.\r\n\r\n\tMyBenchmark.hashMap_put1000_lru      avgt    5  0.032 ?  0.001   s/op\r\n\tMyBenchmark.skipListMap_put1000_lru  avgt    5  3.332 ?  0.124   s/op\r\n\r\nHere is the code for JMH (executed as `java -jar target/benchmarks.jar -bm avgt -f 1 -wi 5 -i 5 -t 1`)\r\n\r\n    static final int nCycles = 50000;\r\n    static final int nRep = 10;\r\n    static final int dataSize = nCycles / 4;\r\n    static final List&lt;String&gt; data = new ArrayList&lt;&gt;(nCycles);\r\n    static final Map&lt;String,String&gt; hmap4get = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\r\n    static final Map&lt;String,String&gt; smap4get = new ConcurrentSkipListMap&lt;&gt;();\r\n    \r\n    static {\r\n        // prepare data\r\n        List&lt;String&gt; values = new ArrayList&lt;&gt;(dataSize);\r\n        for( int i = 0; i &lt; dataSize; i++ ) {\r\n            values.add(UUID.randomUUID().toString());\r\n        }\r\n        // rehash data for all cycles\r\n        for( int i = 0; i &lt; nCycles; i++ ) {\r\n            data.add(values.get((int)(Math.random() * dataSize)));\r\n        }\r\n        // rehash data for all cycles\r\n        for( int i = 0; i &lt; dataSize; i++ ) {\r\n            String value = data.get((int)(Math.random() * dataSize));\r\n            hmap4get.put(value, value);\r\n            smap4get.put(value, value);\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void skipList_put() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            Map&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\r\n\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                map.put(key, key);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void skipListMap_get() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                smap4get.get(key);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void hashMap_put() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\r\n\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                map.put(key, key);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void hasMap_get() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                hmap4get.get(key);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public void skipListMap_put1000_lru() {\r\n        int sizeLimit = 1000;\r\n        \r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            ConcurrentSkipListMap&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\r\n\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                String oldValue = map.put(key, key);\r\n                \r\n                if( (oldValue == null) &amp;&amp; map.size() &gt; sizeLimit ) {\r\n                    // not real lru, but i care only about performance here\r\n                    map.remove(map.firstKey());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public void hashMap_put1000_lru() {\r\n        int sizeLimit = 1000;\r\n        Queue&lt;String&gt; lru = new ArrayBlockingQueue&lt;&gt;(sizeLimit + 50);\r\n        \r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\r\n\r\n            lru.clear();\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                String oldValue = map.put(key, key);\r\n                \r\n                if( (oldValue == null) &amp;&amp; lru.size() &gt; sizeLimit ) {\r\n                    map.remove(lru.poll());\r\n                    lru.add(key);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"When should I use ConcurrentSkipListMap?","body":"<p>In terms of performance, <code>skipList</code> when is used as Map - appears to be 10-20 times slower. Here is the result of my tests (Java 1.8.0_102-b14, win x32)</p>\n\n<pre><code>Benchmark                    Mode  Cnt  Score    Error  Units\nMyBenchmark.hasMap_get       avgt    5  0.015 ?  0.001   s/op\nMyBenchmark.hashMap_put      avgt    5  0.029 ?  0.004   s/op\nMyBenchmark.skipListMap_get  avgt    5  0.312 ?  0.014   s/op\nMyBenchmark.skipList_put     avgt    5  0.351 ?  0.007   s/op\n</code></pre>\n\n<p>And additionally to that - use-case where comparing one-to-another really makes sense. Implementation of the cache of last-recently-used items using both of these collections. Now efficiency of skipList looks to be event more dubious.</p>\n\n<pre><code>MyBenchmark.hashMap_put1000_lru      avgt    5  0.032 ?  0.001   s/op\nMyBenchmark.skipListMap_put1000_lru  avgt    5  3.332 ?  0.124   s/op\n</code></pre>\n\n<p>Here is the code for JMH (executed as <code>java -jar target/benchmarks.jar -bm avgt -f 1 -wi 5 -i 5 -t 1</code>)</p>\n\n<pre><code>static final int nCycles = 50000;\nstatic final int nRep = 10;\nstatic final int dataSize = nCycles / 4;\nstatic final List&lt;String&gt; data = new ArrayList&lt;&gt;(nCycles);\nstatic final Map&lt;String,String&gt; hmap4get = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\nstatic final Map&lt;String,String&gt; smap4get = new ConcurrentSkipListMap&lt;&gt;();\n\nstatic {\n    // prepare data\n    List&lt;String&gt; values = new ArrayList&lt;&gt;(dataSize);\n    for( int i = 0; i &lt; dataSize; i++ ) {\n        values.add(UUID.randomUUID().toString());\n    }\n    // rehash data for all cycles\n    for( int i = 0; i &lt; nCycles; i++ ) {\n        data.add(values.get((int)(Math.random() * dataSize)));\n    }\n    // rehash data for all cycles\n    for( int i = 0; i &lt; dataSize; i++ ) {\n        String value = data.get((int)(Math.random() * dataSize));\n        hmap4get.put(value, value);\n        smap4get.put(value, value);\n    }\n}\n\n@Benchmark\npublic void skipList_put() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        Map&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\n\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            map.put(key, key);\n        }\n    }\n}\n\n@Benchmark\npublic void skipListMap_get() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            smap4get.get(key);\n        }\n    }\n}\n\n@Benchmark\npublic void hashMap_put() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\n\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            map.put(key, key);\n        }\n    }\n}\n\n@Benchmark\npublic void hasMap_get() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            hmap4get.get(key);\n        }\n    }\n}\n\n@Benchmark\npublic void skipListMap_put1000_lru() {\n    int sizeLimit = 1000;\n\n    for( int n = 0; n &lt; nRep; n++ ) {\n        ConcurrentSkipListMap&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\n\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            String oldValue = map.put(key, key);\n\n            if( (oldValue == null) &amp;&amp; map.size() &gt; sizeLimit ) {\n                // not real lru, but i care only about performance here\n                map.remove(map.firstKey());\n            }\n        }\n    }\n}\n\n@Benchmark\npublic void hashMap_put1000_lru() {\n    int sizeLimit = 1000;\n    Queue&lt;String&gt; lru = new ArrayBlockingQueue&lt;&gt;(sizeLimit + 50);\n\n    for( int n = 0; n &lt; nRep; n++ ) {\n        Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\n\n        lru.clear();\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            String oldValue = map.put(key, key);\n\n            if( (oldValue == null) &amp;&amp; lru.size() &gt; sizeLimit ) {\n                map.remove(lru.poll());\n                lru.add(key);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54651,"reputation":825,"user_id":163585,"display_name":"spats"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549452386,"creation_date":1549452386,"answer_id":54552560,"question_id":1811782,"body_markdown":"ConcurrentHashMap : when u want multithreaded index based get/put, only index based operations are supported. Get/Put are of O(1)\r\n\r\nConcurrentSkipListMap : More operations than just get/put, like sorted top/bottom n items by key, get last entry, fetch/traverse whole map sorted by key etc. Complexity is of O(log(n)), So put performance is not as great as ConcurrentHashMap. It&#39;t an implementation of ConcurrentNavigableMap with SkipList.\r\n\r\nTo summarize use ConcurrentSkipListMap when you want to do more operations on map requiring sorted features rather than just simple get and put.","title":"When should I use ConcurrentSkipListMap?","body":"<p>ConcurrentHashMap : when u want multithreaded index based get/put, only index based operations are supported. Get/Put are of O(1)</p>\n\n<p>ConcurrentSkipListMap : More operations than just get/put, like sorted top/bottom n items by key, get last entry, fetch/traverse whole map sorted by key etc. Complexity is of O(log(n)), So put performance is not as great as ConcurrentHashMap. It't an implementation of ConcurrentNavigableMap with SkipList.</p>\n\n<p>To summarize use ConcurrentSkipListMap when you want to do more operations on map requiring sorted features rather than just simple get and put.</p>\n"},{"comments":[{"owner":{"account_id":3521756,"reputation":489,"user_id":2943842,"display_name":"yusong"},"score":0,"creation_date":1566253277,"post_id":57500375,"comment_id":101590736,"body_markdown":"Thanks for sharing. I am justing thinking to replace TreeMap with ConcurrentSkipListMap in one of my project, so it is good to know this! Do you have more context about why ConcurrentSkipListMap is slower, and more detail about performance comparison?","body":"Thanks for sharing. I am justing thinking to replace TreeMap with ConcurrentSkipListMap in one of my project, so it is good to know this! Do you have more context about why ConcurrentSkipListMap is slower, and more detail about performance comparison?"}],"tags":[],"owner":{"account_id":3628744,"reputation":2431,"user_id":3025578,"accept_rate":77,"display_name":"Anurag Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565808612,"creation_date":1565808256,"answer_id":57500375,"question_id":1811782,"body_markdown":"Based on workloads ConcurrentSkipListMap could be slower than TreeMap with synchronized methods as in [KAFKA-8802][1] if range queries are needed.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/KAFKA-8802","title":"When should I use ConcurrentSkipListMap?","body":"<p>Based on workloads ConcurrentSkipListMap could be slower than TreeMap with synchronized methods as in <a href=\"https://issues.apache.org/jira/browse/KAFKA-8802\" rel=\"nofollow noreferrer\">KAFKA-8802</a> if range queries are needed.</p>\n"},{"comments":[{"owner":{"account_id":3355555,"reputation":2794,"user_id":2818583,"display_name":"AnV"},"score":0,"creation_date":1605887579,"post_id":57831686,"comment_id":114798798,"body_markdown":"This picture is awesome. Do you have similar pictures for some or all of normal and concurrent collections?","body":"This picture is awesome. Do you have similar pictures for some or all of normal and concurrent collections?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1605891486,"post_id":57831686,"comment_id":114800735,"body_markdown":"@Anv Thanks, making that chart took quite a bit of work. It is part of my presentation for Java user groups: *A map to Java Maps*. And, No, I’ve made just one other class diagram, [for `String` related classes and interface](https://stackoverflow.com/a/26498954/642706).","body":"@Anv Thanks, making that chart took quite a bit of work. It is part of my presentation for Java user groups: <i>A map to Java Maps</i>. And, No, I’ve made just one other class diagram, <a href=\"https://stackoverflow.com/a/26498954/642706\">for <code>String</code> related classes and interface</a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1593993713,"creation_date":1567841864,"answer_id":57831686,"question_id":1811782,"body_markdown":"&gt;Then when should I use ConcurrentSkipListMap?\r\n\r\nWhen you (a) need to keep keys sorted, and/or (b) need the first/last, head/tail, and submap features of a navigable map.\r\n\r\nThe [`ConcurrentHashMap`][1] class implements the [`ConcurrentMap`][2] interface, as does [`ConcurrentSkipListMap`][3]. But if you also want the behaviors of [`SortedMap`][4] and [`NavigableMap`][5], use [`ConcurrentSkipListMap`][3]\r\n\r\n# `ConcurrentHashMap`\r\n\r\n - ❌ Sorted\r\n - ❌ Navigable\r\n - ✅ Concurrent\r\n\r\n# `ConcurrentSkipListMap`\r\n\r\n - ✅ Sorted\r\n - ✅ Navigable\r\n - ✅ Concurrent\r\n\r\nHere is table guiding you through the major features of the various [`Map`][6] implementations bundled with Java 11. Click/tap to zoom.\r\n\r\n\r\n\r\n[![Table of map implementations in Java 11, comparing their features][8]][8]\r\n\r\n\r\nKeep in mind that you can obtain other [`Map`][6] implementations, and similar such data structures, from other sources such as [*Google Guava*][9].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [7]: https://i.stack.imgur.com/up6pt.png\r\n  [8]: https://i.stack.imgur.com/6KN0u.png\r\n  [9]: https://en.wikipedia.org/wiki/Google_Guava","title":"When should I use ConcurrentSkipListMap?","body":"<blockquote>\n<p>Then when should I use ConcurrentSkipListMap?</p>\n</blockquote>\n<p>When you (a) need to keep keys sorted, and/or (b) need the first/last, head/tail, and submap features of a navigable map.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\"><code>ConcurrentHashMap</code></a> class implements the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\" rel=\"noreferrer\"><code>ConcurrentMap</code></a> interface, as does <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a>. But if you also want the behaviors of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a>, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a></p>\n<h1><code>ConcurrentHashMap</code></h1>\n<ul>\n<li>❌ Sorted</li>\n<li>❌ Navigable</li>\n<li>✅ Concurrent</li>\n</ul>\n<h1><code>ConcurrentSkipListMap</code></h1>\n<ul>\n<li>✅ Sorted</li>\n<li>✅ Navigable</li>\n<li>✅ Concurrent</li>\n</ul>\n<p>Here is table guiding you through the major features of the various <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> implementations bundled with Java 11. Click/tap to zoom.</p>\n<p><a href=\"https://i.stack.imgur.com/6KN0u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6KN0u.png\" alt=\"Table of map implementations in Java 11, comparing their features\" /></a></p>\n<p>Keep in mind that you can obtain other <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> implementations, and similar such data structures, from other sources such as <a href=\"https://en.wikipedia.org/wiki/Google_Guava\" rel=\"noreferrer\"><em>Google Guava</em></a>.</p>\n"}],"owner":{"account_id":66378,"reputation":3043,"user_id":194764,"accept_rate":94,"display_name":"DKSRathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43845,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":1811810,"answer_count":6,"score":93,"last_activity_date":1674248293,"creation_date":1259390005,"question_id":1811782,"body_markdown":"In Java, `ConcurrentHashMap` is there for better `multithreading` solution. Then when should I use `ConcurrentSkipListMap`? Is it a redundancy?\r\n\r\nDoes multithreading aspects between these two are common?","title":"When should I use ConcurrentSkipListMap?","body":"<p>In Java, <code>ConcurrentHashMap</code> is there for better <code>multithreading</code> solution. Then when should I use <code>ConcurrentSkipListMap</code>? Is it a redundancy?</p>\n\n<p>Does multithreading aspects between these two are common?</p>\n"},{"tags":["java","unit-testing","jakarta-ee","easymock"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1299826745,"post_id":5269931,"comment_id":5936742,"body_markdown":"What is the type of `entity` and how exactly is `getType()` declared?","body":"What is the type of <code>entity</code> and how exactly is <code>getType()</code> declared?"},{"owner":{"account_id":86382,"reputation":1098,"user_id":240242,"accept_rate":67,"display_name":"Dinesh"},"score":0,"creation_date":1299827410,"post_id":5269931,"comment_id":5936817,"body_markdown":"Class Entity { private String type; }","body":"Class Entity { private String type; }"},{"owner":{"account_id":392619,"reputation":1091,"user_id":754001,"accept_rate":100,"display_name":"Apoorv"},"score":1,"creation_date":1306352035,"post_id":5269931,"comment_id":7113657,"body_markdown":"If what you have said is correct it means only one thing. There are two different versions of your class (or perhaps even the entire jar) at the server and your dev. machine. Also, it may be worth including a System.out.println(entity.getType().getClass()) statement before setting the mock return.","body":"If what you have said is correct it means only one thing. There are two different versions of your class (or perhaps even the entire jar) at the server and your dev. machine. Also, it may be worth including a System.out.println(entity.getType().getClass()) statement before setting the mock return."}],"answers":[{"tags":[],"owner":{"account_id":797820,"reputation":186,"user_id":889870,"display_name":"Bj&#246;rn"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1313084927,"creation_date":1313064782,"answer_id":7025627,"question_id":5269931,"body_markdown":"I just had the same problem.\r\n\r\nI had a partial mock in `EasyMock`, but forgot to call `addMockedMethod` for the method I wanted to set the expectation for.\r\n\r\nThe error message was the same as above, I&#39;d say that was somewhat misleading.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>I just had the same problem.</p>\n\n<p>I had a partial mock in <code>EasyMock</code>, but forgot to call <code>addMockedMethod</code> for the method I wanted to set the expectation for.</p>\n\n<p>The error message was the same as above, I'd say that was somewhat misleading.</p>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1314714026,"creation_date":1314714026,"answer_id":7244708,"question_id":5269931,"body_markdown":"Make sure that your `entity` object is not a simple POJO (eg. `new Entity()`), and it was created with the `createMock()` methods of EasyMock.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>Make sure that your <code>entity</code> object is not a simple POJO (eg. <code>new Entity()</code>), and it was created with the <code>createMock()</code> methods of EasyMock.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336072642,"creation_date":1336072642,"answer_id":10437942,"question_id":5269931,"body_markdown":"For me, I had to remember to call reset(...) on it after having used it once, or I (bizarrely) got this error message calling expect on it a second time.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>For me, I had to remember to call reset(...) on it after having used it once, or I (bizarrely) got this error message calling expect on it a second time.</p>\n"},{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1396016540,"creation_date":1396016540,"answer_id":22715484,"question_id":5269931,"body_markdown":"In my case the method was `final` on which I called `expect` on. So `EasyMock` was not able to mock the method and thus did not record the method invocation.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>In my case the method was <code>final</code> on which I called <code>expect</code> on. So <code>EasyMock</code> was not able to mock the method and thus did not record the method invocation.</p>\n"},{"tags":[],"owner":{"account_id":4391031,"reputation":1,"user_id":3579402,"display_name":"janimationd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674248267,"creation_date":1674248254,"answer_id":75189276,"question_id":5269931,"body_markdown":"If anyone gets this error when trying to mock behavior of a class&#39;s `toString()` method, e.g. `expect(entity.toString()).andReturn(&quot;string&quot;);`, EasyMock will instead invoke a special version of the `toString()` method on that line in the test, and will not modify the expected behavior of the method in the code under test. You basically can&#39;t mock any toString() behavior, and your test will liekly still pass if you just remove the line where you&#39;re trying to mock the call. PowerMock does not seem to offer any solutions in this case, since its `@PrepareForTest` doesn&#39;t change this behavior.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>If anyone gets this error when trying to mock behavior of a class's <code>toString()</code> method, e.g. <code>expect(entity.toString()).andReturn(&quot;string&quot;);</code>, EasyMock will instead invoke a special version of the <code>toString()</code> method on that line in the test, and will not modify the expected behavior of the method in the code under test. You basically can't mock any toString() behavior, and your test will liekly still pass if you just remove the line where you're trying to mock the call. PowerMock does not seem to offer any solutions in this case, since its <code>@PrepareForTest</code> doesn't change this behavior.</p>\n"}],"owner":{"account_id":86382,"reputation":1098,"user_id":240242,"accept_rate":67,"display_name":"Dinesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22181,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":7025627,"answer_count":5,"score":19,"last_activity_date":1674248267,"creation_date":1299826647,"question_id":5269931,"body_markdown":"I am using EasyMock to create mock classes in test cases.\r\n\r\n    expect(entity.getType()).andReturn(&quot;string&quot;);\r\n\r\nType belongs to the `String` datatype. In my development environment it is working fine. But If I transfer to my server and take build, it is failing with following error:\r\n\r\n    java.lang.IllegalStateException: incompatible return value type\r\n\r\nI don&#39;t know why it is failing in server and getting executed in my development machine.\r\n\r\nDevelopment EasyMock version: 2.5.2","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>I am using EasyMock to create mock classes in test cases.</p>\n\n<pre><code>expect(entity.getType()).andReturn(\"string\");\n</code></pre>\n\n<p>Type belongs to the <code>String</code> datatype. In my development environment it is working fine. But If I transfer to my server and take build, it is failing with following error:</p>\n\n<pre><code>java.lang.IllegalStateException: incompatible return value type\n</code></pre>\n\n<p>I don't know why it is failing in server and getting executed in my development machine.</p>\n\n<p>Development EasyMock version: 2.5.2</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1674248040,"post_id":75189170,"comment_id":132681930,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674288437,"post_id":75189170,"comment_id":132686492,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27230758,"reputation":1,"user_id":20758502,"display_name":"Mthn46300"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674247929,"creation_date":1674247443,"question_id":75189170,"body_markdown":"I&#39;m dealing with the movie application and the movies are sorted according to their id numbers in the related content section and the related content does not change in any movie. Can you help?\r\n\r\n\r\n\r\n```\r\n  //----related rv----------\r\n                relatedAdapter = new HomePageAdapter(this, listRelated, PreferenceUtils.isMandatoryLogin(configViewModel));\r\n                rvRelated.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL,\r\n                  reverselayout:false));\r\n                rvRelated.setHasFixedSize(true);\r\n                rvRelated.setAdapter(relatedAdapter);\r\n\r\n                if (categoryType.equals(&quot;tvseries&quot;)) {\r\n\r\n                    seasonSpinnerContainer.setVisibility(VISIBLE);\r\n                    rvServer.setVisibility(VISIBLE);\r\n                    serverIv.setVisibility(GONE);\r\n\r\n                    rvRelated.removeAllViews();\r\n                    listRelated.clear();\r\n                    rvServer.removeAllViews();\r\n                    listServer.clear();\r\n                    listServer.clear();\r\n\r\n                    downloadBt.setVisibility(GONE);\r\n                    watchNowBt.setVisibility(GONE);\r\n                    trailerBt.setVisibility(GONE);\r\n```\r\n\r\n```\r\n  //----related tv series---------------\r\n                    for (int i = 0; i &lt; singleDetails.getRelatedTvseries().size(); i++) {\r\n                        RelatedMovie relatedTvSeries = singleDetails.getRelatedTvseries().get(i);\r\n\r\n                        CommonModels models = new CommonModels();\r\n                        models.setTitle(relatedTvSeries.getTitle());\r\n                        models.setImageUrl(relatedTvSeries.getThumbnailUrl());\r\n                        models.setId(relatedTvSeries.getVideosId());\r\n                        models.setVideoType(&quot;tvseries&quot;);\r\n                        models.setIsPaid(relatedTvSeries.getIsPaid());\r\n                        listRelated.add(models);\r\n                    }\r\n\r\n                    if (listRelated.size() == 0) {\r\n                        tvRelated.setVisibility(GONE);\r\n                    }\r\n```\r\n\r\n\r\nreverselayout I tried several techniques but couldn&#39;t show the movie in the last id. This time it showed backwards from ID 24.","title":"I am having problems with related content","body":"<p>I'm dealing with the movie application and the movies are sorted according to their id numbers in the related content section and the related content does not change in any movie. Can you help?</p>\n<pre><code>  //----related rv----------\n                relatedAdapter = new HomePageAdapter(this, listRelated, PreferenceUtils.isMandatoryLogin(configViewModel));\n                rvRelated.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL,\n                  reverselayout:false));\n                rvRelated.setHasFixedSize(true);\n                rvRelated.setAdapter(relatedAdapter);\n\n                if (categoryType.equals(&quot;tvseries&quot;)) {\n\n                    seasonSpinnerContainer.setVisibility(VISIBLE);\n                    rvServer.setVisibility(VISIBLE);\n                    serverIv.setVisibility(GONE);\n\n                    rvRelated.removeAllViews();\n                    listRelated.clear();\n                    rvServer.removeAllViews();\n                    listServer.clear();\n                    listServer.clear();\n\n                    downloadBt.setVisibility(GONE);\n                    watchNowBt.setVisibility(GONE);\n                    trailerBt.setVisibility(GONE);\n</code></pre>\n<pre><code>  //----related tv series---------------\n                    for (int i = 0; i &lt; singleDetails.getRelatedTvseries().size(); i++) {\n                        RelatedMovie relatedTvSeries = singleDetails.getRelatedTvseries().get(i);\n\n                        CommonModels models = new CommonModels();\n                        models.setTitle(relatedTvSeries.getTitle());\n                        models.setImageUrl(relatedTvSeries.getThumbnailUrl());\n                        models.setId(relatedTvSeries.getVideosId());\n                        models.setVideoType(&quot;tvseries&quot;);\n                        models.setIsPaid(relatedTvSeries.getIsPaid());\n                        listRelated.add(models);\n                    }\n\n                    if (listRelated.size() == 0) {\n                        tvRelated.setVisibility(GONE);\n                    }\n</code></pre>\n<p>reverselayout I tried several techniques but couldn't show the movie in the last id. This time it showed backwards from ID 24.</p>\n"},{"tags":["java","spring-boot","return-type","method-chaining"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667122119,"post_id":74251842,"comment_id":131091998,"body_markdown":"does the code pass compilation","body":"does the code pass compilation"},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":2,"creation_date":1667122481,"post_id":74251842,"comment_id":131092063,"body_markdown":"Please replace images with code and use the code editor for formatting/highlightening. Images can&#39;t be read by search engines or by TTS-engines. Users can&#39;t copy/paste your image.","body":"Please replace images with code and use the code editor for formatting/highlightening. Images can&#39;t be read by search engines or by TTS-engines. Users can&#39;t copy/paste your image."},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1667122568,"post_id":74251842,"comment_id":131092083,"body_markdown":"Methods don&#39;t have objects, but parameters and return types. Please clarify.","body":"Methods don&#39;t have objects, but parameters and return types. Please clarify."}],"answers":[{"tags":[],"owner":{"account_id":9080284,"reputation":440,"user_id":6760346,"display_name":"damianr13"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674247865,"creation_date":1667122263,"answer_id":74251885,"question_id":74251842,"body_markdown":"In the future please upload text files for your code instead of images. \r\n\r\nThe answer is that you don&#39;t need the return type to be the same. You just need to know what methods you can call on the object you have at each step. \r\n\r\nIn your case: \r\n\r\n    em.createQuery(&quot;select m from Member m&quot;, Member.class).getResultList()\r\n\r\nYou could also expand on multiple lines: \r\n```java\r\nTypedQuery&lt;Member&gt; query = em.createQuery(&quot;select m from Member m&quot;,Member.class);\r\nList&lt;Member&gt; result = query.getResultList();\r\n```\r\n\r\nBecause the `TypedQuery` class has the `getResultList` method you can call that method on the query object. But you don&#39;t have to have the `query` explicitly stored in a variable if you have no use for it after. That&#39;s why the one liner is preferred in this case. ","title":"Is this method chaining in java? I don&#39;t understand some part of chaining","body":"<p>In the future please upload text files for your code instead of images.</p>\n<p>The answer is that you don't need the return type to be the same. You just need to know what methods you can call on the object you have at each step.</p>\n<p>In your case:</p>\n<pre><code>em.createQuery(&quot;select m from Member m&quot;, Member.class).getResultList()\n</code></pre>\n<p>You could also expand on multiple lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedQuery&lt;Member&gt; query = em.createQuery(&quot;select m from Member m&quot;,Member.class);\nList&lt;Member&gt; result = query.getResultList();\n</code></pre>\n<p>Because the <code>TypedQuery</code> class has the <code>getResultList</code> method you can call that method on the query object. But you don't have to have the <code>query</code> explicitly stored in a variable if you have no use for it after. That's why the one liner is preferred in this case.</p>\n"}],"owner":{"account_id":23954114,"reputation":9,"user_id":17945242,"display_name":"Soon chang Kwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1674247865,"creation_date":1667121821,"question_id":74251842,"body_markdown":"I have a code like this below:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tJNNC.png)](https://i.stack.imgur.com/tJNNC.png)\r\n\r\nThe code above is understandable. This is possible because each method (concat(), toupperclass(), trim()...) has the same object,which is &quot;String name.&quot; \r\n\r\nSo my question is a code like this one below.\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n    \r\n    em.createQuery(&quot;select m from Member m&quot;,Member.class)\r\n            .getResultList();\r\n\r\n[![enter image description here](https://i.stack.imgur.com/fVhk5.png)](https://i.stack.imgur.com/fVhk5.png)\r\n\r\nThey all have different return type. Unlike the one that I stated at the top, this one is different. how should I understand this? Can someone please help me understand this? \r\n\r\nI tried to see if the same kind of questions have been answered, but unfortunately I couldn&#39;t find the exact answer that I look for. \r\n","title":"Is this method chaining in java? I don&#39;t understand some part of chaining","body":"<p>I have a code like this below:</p>\n<p><a href=\"https://i.stack.imgur.com/tJNNC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tJNNC.png\" alt=\"enter image description here\" /></a></p>\n<p>The code above is understandable. This is possible because each method (concat(), toupperclass(), trim()...) has the same object,which is &quot;String name.&quot;</p>\n<p>So my question is a code like this one below.</p>\n<pre><code>@PersistenceContext\nprivate EntityManager em;\n\nem.createQuery(&quot;select m from Member m&quot;,Member.class)\n        .getResultList();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fVhk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fVhk5.png\" alt=\"enter image description here\" /></a></p>\n<p>They all have different return type. Unlike the one that I stated at the top, this one is different. how should I understand this? Can someone please help me understand this?</p>\n<p>I tried to see if the same kind of questions have been answered, but unfortunately I couldn't find the exact answer that I look for.</p>\n"},{"tags":["java","unit-testing","junit","private-members"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674243086,"post_id":75188608,"comment_id":132680840,"body_markdown":"I would ask another question: do you have enough time to test this functionality? I.e. aren&#39;t there more test-worthy parts of the program to test?","body":"I would ask another question: do you have enough time to test this functionality? I.e. aren&#39;t there more test-worthy parts of the program to test?"},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1674243253,"post_id":75188608,"comment_id":132680886,"body_markdown":"There are, and I have already written tests for those. I would also like to write tests for this if it can help catch any bugs in the future.","body":"There are, and I have already written tests for those. I would also like to write tests for this if it can help catch any bugs in the future."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674243286,"post_id":75188608,"comment_id":132680893,"body_markdown":"As an aside: Since Java 9, we can initialize maps without static blocks via [`Map::of` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)): `private static Map&lt;Integer, Float&gt; map = Map.of(1, &quot;3.5F&quot;, 2, &quot;5.8F&quot;, 3, &quot;2.7F&quot;);`","body":"As an aside: Since Java 9, we can initialize maps without static blocks via <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map::of</code> (<code>docs.oracle.com</code>)</a>: <code>private static Map&lt;Integer, Float&gt; map = Map.of(1, &quot;3.5F&quot;, 2, &quot;5.8F&quot;, 3, &quot;2.7F&quot;);</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674243371,"post_id":75188608,"comment_id":132680926,"body_markdown":"The code - as is - will not compile since the values are `String`s, not `Float`s.","body":"The code - as is - will not compile since the values are <code>String</code>s, not <code>Float</code>s."},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1674243913,"post_id":75188608,"comment_id":132681051,"body_markdown":"I am using a one-liner to initialize the map by reading from a file. This was just to give an idea of how the map looks like.","body":"I am using a one-liner to initialize the map by reading from a file. This was just to give an idea of how the map looks like."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674247257,"post_id":75188608,"comment_id":132681741,"body_markdown":"Since the map is actually initialized from an external source, any unit tests will be dependent on the contents of that source. In other words, you&#39;ll be duplicating the map keys/values in the file and in the unit test code. Are you sure you&#39;re OK with that coupling?","body":"Since the map is actually initialized from an external source, any unit tests will be dependent on the contents of that source. In other words, you&#39;ll be duplicating the map keys/values in the file and in the unit test code. Are you sure you&#39;re OK with that coupling?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674247459,"creation_date":1674247459,"answer_id":75189173,"question_id":75188608,"body_markdown":"You shouldn&#39;t be testing any of that - it&#39;s got way too much of a &quot;Grading your own exam&quot; vibe. The likely errors here involve you messing up either the constant, or the static file, which a test is not likely to catch. You&#39;ll be setting yourself up for a bunch of future updates (where you update the default and then later go: Oh, right, of course, I repeated myself in the test and I forgot to update the value there). You&#39;re not testing anything - you&#39;re giving your future self pointless homework.\r\n\r\nGet creative - what _could_ plausibly fail in the future? Not much - this is rather simple code. Test the likely failure avenues.\r\n\r\nIf I were you, I&#39;d test the following situations:\r\n\r\n* I would check that the value for a key I&#39;m sure is never going to be in the map (not now, and not likely ever in the future) returns non-0. This avoids having to hardcode the 4.4F, or having to mark as package-private the constant value, but still ensures 2 unlikely but plausible avenues of future failure: That the `.getMultiplier` method throws an exception due to a bug in the future, or that it returns 0 instead of an actual value. It would avoid having to update the test if you change this default later. Unless you change it to 0 or to &#39;if you ask for the multiplier for a number not listed, the method now throws&#39;, which are fundamental changes to functionality and therefore should indeed cause tests to fail.\r\n\r\n* I would not test _any_ value from the static file, because either you&#39;re again just testing that you correctly copied and pasted a value from it into your test source file and giving yourself future homework to update the tests when you update the file - or you&#39;re marking your own exam if you dynamically adjust the k/v pair you test by also getting it from the file (whatever bug might exist in the code that reads in this static file, it&#39;ll be in the test code too). Instead, I would take the thing that is capable of reading in the static file and turning it into that static &#39;map of constants&#39; and _test that_. In the test code I can then have a tiny example &#39;input static file&#39; and I would then test if the Multiplier class responds correctly given this known input. This frees you from future updates (the test code always supplies test static data to the code, it doesn&#39;t look at the thing that may be updated in the future and is therefore essentially &#39;unstable&#39;), and lets you test the thing that could plausibly break here - the part that turns the static file into a filled map.\r\n\r\nOnce tests ensure that the &#39;turn static file into static map&#39; code works, and I have tested that the getMultiplier method doesn&#39;t fail in the 2 obvious ways (throws, or, returns 0), then you&#39;ve tested everything relevant. ","title":"Right way to unit test helper methods","body":"<p>You shouldn't be testing any of that - it's got way too much of a &quot;Grading your own exam&quot; vibe. The likely errors here involve you messing up either the constant, or the static file, which a test is not likely to catch. You'll be setting yourself up for a bunch of future updates (where you update the default and then later go: Oh, right, of course, I repeated myself in the test and I forgot to update the value there). You're not testing anything - you're giving your future self pointless homework.</p>\n<p>Get creative - what <em>could</em> plausibly fail in the future? Not much - this is rather simple code. Test the likely failure avenues.</p>\n<p>If I were you, I'd test the following situations:</p>\n<ul>\n<li><p>I would check that the value for a key I'm sure is never going to be in the map (not now, and not likely ever in the future) returns non-0. This avoids having to hardcode the 4.4F, or having to mark as package-private the constant value, but still ensures 2 unlikely but plausible avenues of future failure: That the <code>.getMultiplier</code> method throws an exception due to a bug in the future, or that it returns 0 instead of an actual value. It would avoid having to update the test if you change this default later. Unless you change it to 0 or to 'if you ask for the multiplier for a number not listed, the method now throws', which are fundamental changes to functionality and therefore should indeed cause tests to fail.</p>\n</li>\n<li><p>I would not test <em>any</em> value from the static file, because either you're again just testing that you correctly copied and pasted a value from it into your test source file and giving yourself future homework to update the tests when you update the file - or you're marking your own exam if you dynamically adjust the k/v pair you test by also getting it from the file (whatever bug might exist in the code that reads in this static file, it'll be in the test code too). Instead, I would take the thing that is capable of reading in the static file and turning it into that static 'map of constants' and <em>test that</em>. In the test code I can then have a tiny example 'input static file' and I would then test if the Multiplier class responds correctly given this known input. This frees you from future updates (the test code always supplies test static data to the code, it doesn't look at the thing that may be updated in the future and is therefore essentially 'unstable'), and lets you test the thing that could plausibly break here - the part that turns the static file into a filled map.</p>\n</li>\n</ul>\n<p>Once tests ensure that the 'turn static file into static map' code works, and I have tested that the getMultiplier method doesn't fail in the 2 obvious ways (throws, or, returns 0), then you've tested everything relevant.</p>\n"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189173,"answer_count":1,"score":0,"last_activity_date":1674247459,"creation_date":1674242997,"question_id":75188608,"body_markdown":"I have the following class\r\n\r\n```\r\npublic class Multiplier {\r\n    private static Map&lt;Integer, Float&gt; map;\r\n    private static final float DEFAULT_MULTIPLIER = 4.4F;\r\n\r\n    static {\r\n        // This map is actually populated by reading from a file. This is an example on how the map looks like.\r\n        map = new HashMap&lt;&gt;();\r\n        map.put(1, &quot;3.5F&quot;);\r\n        map.put(2, &quot;5.8F&quot;);\r\n        map.put(3, &quot;2.7F&quot;);\r\n    }\r\n\r\n    public static float getMultiplier(Integer id) {\r\n        return map.getOrDefault(id, DEFAULT_MULTIPLIER);\r\n    }\r\n}\r\n```\r\n\r\nI want to test the getMultiplier method. What&#39;s the best way to go about it?\r\n\r\n1st - There are 1000s of entries inside the map. Should I just call the getMultiplier method with a couple of different ids and make sure the value returned matches? The file is static. It will occasionally change in the future, but that would mean updating the test, which is fine.\r\n\r\n2nd - I want to test the default value as well. Should I just do something like\r\n```\r\nAssert.assertEquals(4.4F, Multiplier.getMultiplier(&lt;invalidId/null&gt;));\r\n```\r\nI&#39;m hardcoding the DEFAULT_MULTIPLIER value in the expected parameter of assertEquals. Does this even make sense? \r\n\r\nI want to know what&#39;s the right way to unit test this method? Thanks!","title":"Right way to unit test helper methods","body":"<p>I have the following class</p>\n<pre><code>public class Multiplier {\n    private static Map&lt;Integer, Float&gt; map;\n    private static final float DEFAULT_MULTIPLIER = 4.4F;\n\n    static {\n        // This map is actually populated by reading from a file. This is an example on how the map looks like.\n        map = new HashMap&lt;&gt;();\n        map.put(1, &quot;3.5F&quot;);\n        map.put(2, &quot;5.8F&quot;);\n        map.put(3, &quot;2.7F&quot;);\n    }\n\n    public static float getMultiplier(Integer id) {\n        return map.getOrDefault(id, DEFAULT_MULTIPLIER);\n    }\n}\n</code></pre>\n<p>I want to test the getMultiplier method. What's the best way to go about it?</p>\n<p>1st - There are 1000s of entries inside the map. Should I just call the getMultiplier method with a couple of different ids and make sure the value returned matches? The file is static. It will occasionally change in the future, but that would mean updating the test, which is fine.</p>\n<p>2nd - I want to test the default value as well. Should I just do something like</p>\n<pre><code>Assert.assertEquals(4.4F, Multiplier.getMultiplier(&lt;invalidId/null&gt;));\n</code></pre>\n<p>I'm hardcoding the DEFAULT_MULTIPLIER value in the expected parameter of assertEquals. Does this even make sense?</p>\n<p>I want to know what's the right way to unit test this method? Thanks!</p>\n"},{"tags":["java","android","agora"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674247078,"creation_date":1674247078,"question_id":75189109,"body_markdown":"I&#39;m using agora to make voice calls in my android application , i have set up the code as per the documentation but whenever i try to join a call it crashes and says that rtcEngine is null even though it is initialized , any help would be appreciated , Thank you \r\n\r\n\r\n * Code \r\n\r\n```\r\n public class AudioCallActivity extends AppCompatActivity {\r\n\r\n    // An integer that identifies the local user.\r\n    private int uid = 0;\r\n    // Track the status of your connection\r\n    private boolean isJoined = false;\r\n\r\n    // Agora engine instance\r\n    private RtcEngine agoraEngine;\r\n    // UI elements\r\n    private TextView infoText;\r\n    private Button joinLeaveButton;\r\n    private static final int PERMISSION_REQ_ID = 22;\r\n    private static final String[] REQUESTED_PERMISSIONS = { Manifest.permission.RECORD_AUDIO};\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_audio_call);\r\n\r\n        // If all the permissions are granted, initialize the RtcEngine object and join a channel.\r\n        if (!checkSelfPermission()) {\r\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\r\n        }\r\n\r\n        setupVoiceSDKEngine();\r\n\r\n        // Set up access to the UI elements\r\n        joinLeaveButton = findViewById(R.id.joinLeaveButton);\r\n        infoText = findViewById(R.id.infoText);\r\n\r\n    }\r\n\r\n\r\n    private boolean checkSelfPermission() {\r\n        return ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n    void showMessage(String message) {\r\n        runOnUiThread(() -&gt; Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\r\n    }\r\n\r\n    private void setupVoiceSDKEngine() {\r\n        try {\r\n            RtcEngineConfig config = new RtcEngineConfig();\r\n            config.mContext = getBaseContext();\r\n            config.mAppId = getString(R.string.app_id);\r\n            config.mEventHandler = mRtcEventHandler;\r\n            agoraEngine = RtcEngine.create(config);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Check the error.&quot;);\r\n        }\r\n    }\r\n    private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\r\n        @Override\r\n        // Listen for the remote user joining the channel.\r\n        public void onUserJoined(int uid, int elapsed) {\r\n            runOnUiThread(()-&gt;infoText.setText(&quot;Remote user joined: &quot; + uid));\r\n        }\r\n\r\n        @Override\r\n        public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\r\n            // Successfully joined a channel\r\n            isJoined = true;\r\n            showMessage(&quot;Joined Channel &quot; + channel);\r\n            runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\r\n        }\r\n\r\n        @Override\r\n        public void onUserOffline(int uid, int reason) {\r\n            // Listen for remote users leaving the channel\r\n            showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\r\n            if (isJoined) runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\r\n        }\r\n\r\n        @Override\r\n        public void onLeaveChannel(RtcStats \tstats) {\r\n            // Listen for the local user leaving the channel\r\n            runOnUiThread(()-&gt;infoText.setText(&quot;Press the button to join a channel&quot;));\r\n            isJoined = false;\r\n        }\r\n    };\r\n    private void joinChannel() {\r\n        ChannelMediaOptions options = new ChannelMediaOptions();\r\n        options.autoSubscribeAudio = true;\r\n        // Set both clients as the BROADCASTER.\r\n        options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\r\n        // Set the channel profile as BROADCASTING.\r\n        options.channelProfile = Constants.CHANNEL_PROFILE_LIVE_BROADCASTING;\r\n\r\n        // Join the channel with a temp token.\r\n        // You need to specify the user ID yourself, and ensure that it is unique in the channel.\r\n        agoraEngine.joinChannel(getString(R.string.agora_token), &quot;ChannelOne&quot;, uid, options);\r\n    }\r\n    public void joinLeaveChannel(View view) {\r\n         try {\r\n             if (isJoined) {\r\n                 agoraEngine.leaveChannel();\r\n                 joinLeaveButton.setText(&quot;Join&quot;);\r\n             } else {\r\n                 joinChannel();\r\n                 joinLeaveButton.setText(&quot;Leave&quot;);\r\n             }\r\n         }catch (Exception e){\r\n             Log.d(&quot;TAG&quot;,&quot;Error is &quot; + e.getMessage());\r\n         }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        agoraEngine.leaveChannel();\r\n        // Destroy the engine in a sub-thread to avoid congestion\r\n        new Thread(() -&gt; {\r\n            RtcEngine.destroy();\r\n            agoraEngine = null;\r\n        }).start();\r\n        onDestroy();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n * Error Thrown \r\n\r\n```\r\n Attempt to invoke virtual method &#39;int io.agora.rtc2.RtcEngine.joinChannel(java.lang.String, java.lang.String, int, io.agora.rtc2.ChannelMediaOptions)&#39; on a null object reference\r\n```","title":"Agora RtcEngine always return null","body":"<p>I'm using agora to make voice calls in my android application , i have set up the code as per the documentation but whenever i try to join a call it crashes and says that rtcEngine is null even though it is initialized , any help would be appreciated , Thank you</p>\n<ul>\n<li>Code</li>\n</ul>\n<pre><code> public class AudioCallActivity extends AppCompatActivity {\n\n    // An integer that identifies the local user.\n    private int uid = 0;\n    // Track the status of your connection\n    private boolean isJoined = false;\n\n    // Agora engine instance\n    private RtcEngine agoraEngine;\n    // UI elements\n    private TextView infoText;\n    private Button joinLeaveButton;\n    private static final int PERMISSION_REQ_ID = 22;\n    private static final String[] REQUESTED_PERMISSIONS = { Manifest.permission.RECORD_AUDIO};\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_audio_call);\n\n        // If all the permissions are granted, initialize the RtcEngine object and join a channel.\n        if (!checkSelfPermission()) {\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\n        }\n\n        setupVoiceSDKEngine();\n\n        // Set up access to the UI elements\n        joinLeaveButton = findViewById(R.id.joinLeaveButton);\n        infoText = findViewById(R.id.infoText);\n\n    }\n\n\n    private boolean checkSelfPermission() {\n        return ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED;\n    }\n    void showMessage(String message) {\n        runOnUiThread(() -&gt; Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\n    }\n\n    private void setupVoiceSDKEngine() {\n        try {\n            RtcEngineConfig config = new RtcEngineConfig();\n            config.mContext = getBaseContext();\n            config.mAppId = getString(R.string.app_id);\n            config.mEventHandler = mRtcEventHandler;\n            agoraEngine = RtcEngine.create(config);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Check the error.&quot;);\n        }\n    }\n    private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\n        @Override\n        // Listen for the remote user joining the channel.\n        public void onUserJoined(int uid, int elapsed) {\n            runOnUiThread(()-&gt;infoText.setText(&quot;Remote user joined: &quot; + uid));\n        }\n\n        @Override\n        public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\n            // Successfully joined a channel\n            isJoined = true;\n            showMessage(&quot;Joined Channel &quot; + channel);\n            runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\n        }\n\n        @Override\n        public void onUserOffline(int uid, int reason) {\n            // Listen for remote users leaving the channel\n            showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\n            if (isJoined) runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\n        }\n\n        @Override\n        public void onLeaveChannel(RtcStats     stats) {\n            // Listen for the local user leaving the channel\n            runOnUiThread(()-&gt;infoText.setText(&quot;Press the button to join a channel&quot;));\n            isJoined = false;\n        }\n    };\n    private void joinChannel() {\n        ChannelMediaOptions options = new ChannelMediaOptions();\n        options.autoSubscribeAudio = true;\n        // Set both clients as the BROADCASTER.\n        options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\n        // Set the channel profile as BROADCASTING.\n        options.channelProfile = Constants.CHANNEL_PROFILE_LIVE_BROADCASTING;\n\n        // Join the channel with a temp token.\n        // You need to specify the user ID yourself, and ensure that it is unique in the channel.\n        agoraEngine.joinChannel(getString(R.string.agora_token), &quot;ChannelOne&quot;, uid, options);\n    }\n    public void joinLeaveChannel(View view) {\n         try {\n             if (isJoined) {\n                 agoraEngine.leaveChannel();\n                 joinLeaveButton.setText(&quot;Join&quot;);\n             } else {\n                 joinChannel();\n                 joinLeaveButton.setText(&quot;Leave&quot;);\n             }\n         }catch (Exception e){\n             Log.d(&quot;TAG&quot;,&quot;Error is &quot; + e.getMessage());\n         }\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        agoraEngine.leaveChannel();\n        // Destroy the engine in a sub-thread to avoid congestion\n        new Thread(() -&gt; {\n            RtcEngine.destroy();\n            agoraEngine = null;\n        }).start();\n        onDestroy();\n    }\n}\n\n</code></pre>\n<ul>\n<li>Error Thrown</li>\n</ul>\n<pre><code> Attempt to invoke virtual method 'int io.agora.rtc2.RtcEngine.joinChannel(java.lang.String, java.lang.String, int, io.agora.rtc2.ChannelMediaOptions)' on a null object reference\n</code></pre>\n"},{"tags":["java","ubuntu","java-11"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1537901151,"post_id":52504825,"comment_id":91950214,"body_markdown":"What error do you get when you attempt to `sudo apt-get install openjdk-11-jdk`?","body":"What error do you get when you attempt to <code>sudo apt-get install openjdk-11-jdk</code>?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":5,"creation_date":1537901348,"post_id":52504825,"comment_id":91950304,"body_markdown":"[Here](https://docs.oracle.com/en/java/javase/11/install/installation-jdk-linux-platforms.html#GUID-ADC9C14A-5F51-4C32-802C-9639A947317F) are the &quot;official&quot; installation instructions for Linux.  There&#39;s an RPM (`yum`), or you can install manually from archive libraries.  But apparently no Debian `apt-get` (yet).  Q: So why not just install from tar.gz?  See also [update-alternatives](https://stackoverflow.com/questions/12787757/how-to-use-the-command-update-alternatives-config-java)","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/install/installation-jdk-linux-platforms.html#GUID-ADC9C14A-5F51-4C32-802C-9639A947317F\" rel=\"nofollow noreferrer\">Here</a> are the &quot;official&quot; installation instructions for Linux.  There&#39;s an RPM (<code>yum</code>), or you can install manually from archive libraries.  But apparently no Debian <code>apt-get</code> (yet).  Q: So why not just install from tar.gz?  See also <a href=\"https://stackoverflow.com/questions/12787757/how-to-use-the-command-update-alternatives-config-java\">update-alternatives</a>"},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":5,"creation_date":1537901547,"post_id":52504825,"comment_id":91950391,"body_markdown":"@Mureinik &quot;E: Unable to locate package openjdk-11-jdk&quot; on Ubuntu 16.04","body":"@Mureinik &quot;E: Unable to locate package openjdk-11-jdk&quot; on Ubuntu 16.04"},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1537901599,"post_id":52504825,"comment_id":91950412,"body_markdown":"@paulsm4 well, apt-get is very convinient, especially when you have dozens of servers :).","body":"@paulsm4 well, apt-get is very convinient, especially when you have dozens of servers :)."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1537987301,"post_id":52504825,"comment_id":91988010,"body_markdown":"@Mureinik At the moment this package still installs Java 10. It will be updated in the next days I assume to provide Java 11.","body":"@Mureinik At the moment this package still installs Java 10. It will be updated in the next days I assume to provide Java 11."},{"owner":{"account_id":4824366,"reputation":1292,"user_id":3894179,"display_name":"Andra"},"score":0,"creation_date":1538443518,"post_id":52504825,"comment_id":92136090,"body_markdown":"Check out this question [link](https://askubuntu.com/questions/1037646/why-is-openjdk-10-packaged-as-openjdk-11)","body":"Check out this question <a href=\"https://askubuntu.com/questions/1037646/why-is-openjdk-10-packaged-as-openjdk-11\">link</a>"},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":5,"creation_date":1540302543,"post_id":52504825,"comment_id":92809367,"body_markdown":"@Robert next days, next weeks, next months...","body":"@Robert next days, next weeks, next months..."}],"answers":[{"tags":[],"owner":{"account_id":13280986,"reputation":356,"user_id":9588599,"display_name":"Jose Henriquez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537927051,"creation_date":1537927051,"answer_id":52508882,"question_id":52504825,"body_markdown":"I created a Bash script that basically automates the manual installation described in the linked [similar question](https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu).  It requires the `tar.gz` file as well as its SHA256 sum value.  You can find out more info and download the script from my [GitHub project page](https://github.com/jhenriquez418/linux-java-jdk-installer).  It is provided under MIT license.","title":"How to install JDK 11 under Ubuntu?","body":"<p>I created a Bash script that basically automates the manual installation described in the linked <a href=\"https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu\">similar question</a>.  It requires the <code>tar.gz</code> file as well as its SHA256 sum value.  You can find out more info and download the script from my <a href=\"https://github.com/jhenriquez418/linux-java-jdk-installer\" rel=\"nofollow noreferrer\">GitHub project page</a>.  It is provided under MIT license.</p>\n"},{"comments":[{"owner":{"display_name":"user7851115"},"score":1,"creation_date":1558745396,"post_id":52575307,"comment_id":99213681,"body_markdown":"Wow, something even similar to Anaconda for Java? Who&#39;d think!","body":"Wow, something even similar to Anaconda for Java? Who&#39;d think!"},{"owner":{"account_id":248860,"reputation":2568,"user_id":524504,"accept_rate":75,"display_name":"masterxilo"},"score":0,"creation_date":1583492913,"post_id":52575307,"comment_id":107144459,"body_markdown":"error: &quot;Downloaded zip archive corrupt. Are you connected to the internet?&quot;","body":"error: &quot;Downloaded zip archive corrupt. Are you connected to the internet?&quot;"},{"owner":{"account_id":3558518,"reputation":1476,"user_id":2971571,"accept_rate":100,"display_name":"Kamal"},"score":1,"creation_date":1583507085,"post_id":52575307,"comment_id":107151889,"body_markdown":"@masterxilo  please can you elaborate more on the error you have, for sure you would need internet to download the SDKMAN tool. I have only tried installing the SDKMAN tool on UNIX-Platform are you trying it on the Windows platform?","body":"@masterxilo  please can you elaborate more on the error you have, for sure you would need internet to download the SDKMAN tool. I have only tried installing the SDKMAN tool on UNIX-Platform are you trying it on the Windows platform?"},{"owner":{"account_id":401578,"reputation":131,"user_id":768217,"accept_rate":40,"display_name":"TimCO"},"score":1,"creation_date":1621463048,"post_id":52575307,"comment_id":119506897,"body_markdown":"yes! sdkman makes life much easier. Super easy install and config, for linux servers, linux docker images, or local machines. Skip the hassle of using a package manager.","body":"yes! sdkman makes life much easier. Super easy install and config, for linux servers, linux docker images, or local machines. Skip the hassle of using a package manager."}],"tags":[],"owner":{"account_id":3558518,"reputation":1476,"user_id":2971571,"accept_rate":100,"display_name":"Kamal"},"comment_count":4,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1557955204,"creation_date":1538289481,"answer_id":52575307,"question_id":52504825,"body_markdown":"For anyone running a JDK on Ubuntu and want to upgrade to JDK11, I&#39;d recommend installing via [sdkman][1]. SDKMAN is a tool for switching JVMs, removing and upgrading.\r\n\r\n&gt; [SDKMAN][1] is a tool for managing parallel versions of multiple Software Development Kits on most Unix based systems. It provides a convenient Command Line Interface (CLI) and API for installing, switching, removing and listing Candidates.\r\n\r\nInstall SDKMAN\r\n```\r\n$ curl -s &quot;https://get.sdkman.io&quot; | bash\r\n$ source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n$ sdk version\r\n```\r\n\r\nInstall Java (11.0.3-zulu)\r\n```\r\n$ sdk install java\r\n```\r\n\r\n  [1]: https://sdkman.io/","title":"How to install JDK 11 under Ubuntu?","body":"<p>For anyone running a JDK on Ubuntu and want to upgrade to JDK11, I'd recommend installing via <a href=\"https://sdkman.io/\" rel=\"noreferrer\">sdkman</a>. SDKMAN is a tool for switching JVMs, removing and upgrading.</p>\n\n<blockquote>\n  <p><a href=\"https://sdkman.io/\" rel=\"noreferrer\">SDKMAN</a> is a tool for managing parallel versions of multiple Software Development Kits on most Unix based systems. It provides a convenient Command Line Interface (CLI) and API for installing, switching, removing and listing Candidates.</p>\n</blockquote>\n\n<p>Install SDKMAN</p>\n\n<pre><code>$ curl -s \"https://get.sdkman.io\" | bash\n$ source \"$HOME/.sdkman/bin/sdkman-init.sh\"\n$ sdk version\n</code></pre>\n\n<p>Install Java (11.0.3-zulu)</p>\n\n<pre><code>$ sdk install java\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":1,"creation_date":1542140576,"post_id":52950746,"comment_id":93459764,"body_markdown":"Is this Oracle build or from adoptOpenJDK?","body":"Is this Oracle build or from adoptOpenJDK?"},{"owner":{"account_id":18687,"reputation":1624,"user_id":43046,"accept_rate":65,"display_name":"andresp"},"score":3,"creation_date":1544818156,"post_id":52950746,"comment_id":94424053,"body_markdown":"Actually I think it is the Oracle OpenJDK one. I think Debian/Ubuntu just download the tarball from the Oracle OpenJDK release, add a few patches on top and build their packages.","body":"Actually I think it is the Oracle OpenJDK one. I think Debian/Ubuntu just download the tarball from the Oracle OpenJDK release, add a few patches on top and build their packages."},{"owner":{"account_id":1326695,"reputation":1510,"user_id":1271372,"display_name":"Piohen"},"score":24,"creation_date":1545932022,"post_id":52950746,"comment_id":94735998,"body_markdown":"If you&#39;re not using Java in any GUI environment you might prefer installing `openjdk-11-jdk-headless`. Or if all you want is to run something, not compile, `openjdk-11-jre[-headless]` might suit you as well.","body":"If you&#39;re not using Java in any GUI environment you might prefer installing <code>openjdk-11-jdk-headless</code>. Or if all you want is to run something, not compile, <code>openjdk-11-jre[-headless]</code> might suit you as well."},{"owner":{"account_id":9492928,"reputation":4401,"user_id":7057048,"display_name":"Tharaka Dilshan"},"score":1,"creation_date":1575853706,"post_id":52950746,"comment_id":104694041,"body_markdown":"does this include javafx too?","body":"does this include javafx too?"},{"owner":{"account_id":286329,"reputation":2281,"user_id":974534,"display_name":"Arboreal Shark"},"score":21,"creation_date":1590268838,"post_id":52950746,"comment_id":109619655,"body_markdown":"I had to run `sudo add-apt-repository ppa:openjdk-r/ppa` first to add the repository.","body":"I had to run <code>sudo add-apt-repository ppa:openjdk-r&#47;ppa</code> first to add the repository."},{"owner":{"account_id":7702127,"reputation":779,"user_id":6352735,"accept_rate":75,"display_name":"Michael"},"score":10,"creation_date":1593616812,"post_id":52950746,"comment_id":110845118,"body_markdown":"Same here. Also ```sudo apt-get update``` to update the repository. Then ```sudo apt-get install openjdk-11-jdk``` worked.","body":"Same here. Also <code>sudo apt-get update</code> to update the repository. Then <code>sudo apt-get install openjdk-11-jdk</code> worked."},{"owner":{"account_id":15963401,"reputation":587,"user_id":12103271,"display_name":"Vipul Tyagi"},"score":0,"creation_date":1598257752,"post_id":52950746,"comment_id":112388343,"body_markdown":"My question: If I already have JDK8 in palce, would it be automatically removed when I install JDK11.","body":"My question: If I already have JDK8 in palce, would it be automatically removed when I install JDK11."},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1601151131,"post_id":52950746,"comment_id":113318290,"body_markdown":"@TharakaDilshan JavaFX is not a part of JDK in Java 11.","body":"@TharakaDilshan JavaFX is not a part of JDK in Java 11."},{"owner":{"account_id":10869212,"reputation":413,"user_id":7991646,"display_name":"jrbe228"},"score":0,"creation_date":1641398559,"post_id":52950746,"comment_id":124795774,"body_markdown":"If you&#39;re trying to perform silent install for example in a Dockerfile, you need an automatic &quot;y&quot; response to prompts:  `yes | apt-get install openjdk-11-jdk`","body":"If you&#39;re trying to perform silent install for example in a Dockerfile, you need an automatic &quot;y&quot; response to prompts:  <code>yes | apt-get install openjdk-11-jdk</code>"}],"tags":[],"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"comment_count":9,"down_vote_count":4,"up_vote_count":503,"is_accepted":true,"score":499,"last_activity_date":1585990740,"creation_date":1540302523,"answer_id":52950746,"question_id":52504825,"body_markdown":"Now it is possible to install openjdk-11 this way:\r\n\r\n    sudo apt-get install openjdk-11-jdk\r\n\r\n(Previously it installed openjdk-10, but not anymore)","title":"How to install JDK 11 under Ubuntu?","body":"<p>Now it is possible to install openjdk-11 this way:</p>\n\n<pre><code>sudo apt-get install openjdk-11-jdk\n</code></pre>\n\n<p>(Previously it installed openjdk-10, but not anymore)</p>\n"},{"comments":[{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":7,"creation_date":1540900919,"post_id":53062165,"comment_id":93026092,"body_markdown":"Oracle JVM (Hotspot) is not free anymore for production usage. So I would prefer OpenJDK builds.","body":"Oracle JVM (Hotspot) is not free anymore for production usage. So I would prefer OpenJDK builds."},{"owner":{"account_id":5325799,"reputation":1539,"user_id":4247897,"accept_rate":50,"display_name":"Nditah"},"score":2,"creation_date":1541491444,"post_id":53062165,"comment_id":93225598,"body_markdown":"Sadly, I tied this too and it doesn&#39;t work. It says \n    E: Unable to locate package oracle-java11-installer","body":"Sadly, I tied this too and it doesn&#39;t work. It says      E: Unable to locate package oracle-java11-installer"},{"owner":{"account_id":26777221,"reputation":370,"user_id":20372664,"display_name":"Bhuvan"},"score":0,"creation_date":1674557950,"post_id":53062165,"comment_id":132734619,"body_markdown":"I am getting the following error. How is oracle-java11-installer-local different than oracle-java11-installer? \n\n    `&quot;$ sudo apt install oracle-java11-installer\n    .....\n    Package oracle-java11-installer is not available, but is referred to by another package.\n    This may mean that the package is missing, has been obsoleted, or\n    is only available from another source\n    However the following packages replace it:\n      oracle-java11-installer-local\n    \n    E: Package &#39;oracle-java11-installer&#39; has no installation candidate\n&quot;`","body":"I am getting the following error. How is oracle-java11-installer-local different than oracle-java11-installer?       <code>&quot;$ sudo apt install oracle-java11-installer     .....     Package oracle-java11-installer is not available, but is referred to by another package.     This may mean that the package is missing, has been obsoleted, or     is only available from another source     However the following packages replace it:       oracle-java11-installer-local          E: Package &#39;oracle-java11-installer&#39; has no installation candidate &quot;</code>"}],"tags":[],"owner":{"account_id":6874903,"reputation":673,"user_id":5283663,"display_name":"A. Lion"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540895073,"creation_date":1540895073,"answer_id":53062165,"question_id":52504825,"body_markdown":"I came here looking for the answer and since no one put the command for the oracle Java 11 but only openjava 11 I figured out how to do it on Ubuntu, the syntax is as following:\r\n\r\n    sudo add-apt-repository ppa:linuxuprising/java\r\n    sudo apt update\r\n    sudo apt install oracle-java11-installer","title":"How to install JDK 11 under Ubuntu?","body":"<p>I came here looking for the answer and since no one put the command for the oracle Java 11 but only openjava 11 I figured out how to do it on Ubuntu, the syntax is as following:</p>\n\n<pre><code>sudo add-apt-repository ppa:linuxuprising/java\nsudo apt update\nsudo apt install oracle-java11-installer\n</code></pre>\n"},{"comments":[{"owner":{"account_id":142563,"reputation":316,"user_id":350340,"display_name":"Nikolay Klimchuk"},"score":0,"creation_date":1574003740,"post_id":53408872,"comment_id":104067036,"body_markdown":"On Pi first command gives me: aptsources.distro.NoDistroTemplateException: Error: could not find a distribution template for Raspbian/stretch","body":"On Pi first command gives me: aptsources.distro.NoDistroTemplateException: Error: could not find a distribution template for Raspbian/stretch"},{"owner":{"account_id":3025824,"reputation":657,"user_id":2565869,"accept_rate":73,"display_name":"WhyAyala"},"score":1,"creation_date":1595884035,"post_id":53408872,"comment_id":111623692,"body_markdown":"Worked for me for `openjdk-11-jdk-headless`","body":"Worked for me for <code>openjdk-11-jdk-headless</code>"}],"tags":[],"owner":{"account_id":1964133,"reputation":1411,"user_id":1764813,"display_name":"kaniyan"},"comment_count":2,"down_vote_count":1,"up_vote_count":119,"is_accepted":false,"score":118,"last_activity_date":1542792388,"creation_date":1542792388,"answer_id":53408872,"question_id":52504825,"body_markdown":"To install Openjdk 11 in Ubuntu, the following commands worked well.\r\n\r\n    sudo add-apt-repository ppa:openjdk-r/ppa\r\n    sudo apt-get update\r\n    sudo apt install openjdk-11-jdk","title":"How to install JDK 11 under Ubuntu?","body":"<p>To install Openjdk 11 in Ubuntu, the following commands worked well.</p>\n\n<pre><code>sudo add-apt-repository ppa:openjdk-r/ppa\nsudo apt-get update\nsudo apt install openjdk-11-jdk\n</code></pre>\n"},{"comments":[{"owner":{"account_id":214895,"reputation":1163,"user_id":469154,"accept_rate":50,"display_name":"Emanuel George Hategan"},"score":0,"creation_date":1701279085,"post_id":57246838,"comment_id":136757054,"body_markdown":"Out of all solutions I find this the most reasonable as the package name is easy to remember: `default-jdk`. Works well if you want an up-to-date version of java but you don&#39;t care about the details.","body":"Out of all solutions I find this the most reasonable as the package name is easy to remember: <code>default-jdk</code>. Works well if you want an up-to-date version of java but you don&#39;t care about the details."}],"tags":[],"owner":{"account_id":10703695,"reputation":209,"user_id":7878185,"display_name":"Jagath Wijesinghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1571883851,"creation_date":1564370608,"answer_id":57246838,"question_id":52504825,"body_markdown":"In Ubuntu, you can simply install Open JDK by following commands.\r\n\r\n    sudo apt-get update    \r\n    sudo apt-get install default-jdk\r\n\r\nYou can check the java version by following the command.\r\n\r\n    java -version\r\n\r\nIf you want to install Oracle JDK 8 follow the below commands.\r\n\r\n    sudo add-apt-repository ppa:webupd8team/java\r\n    sudo apt-get update\r\n    sudo apt-get install oracle-java8-installer\r\n\r\nIf you want to switch java versions you can try below methods.\r\n\r\n`vi ~/.bashrc` and add the following line `export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221` (path/jdk folder)\r\n\r\nor\r\n\r\n`sudo vi /etc/profile` and add the following lines\r\n\r\n    #JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221\r\n    JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n    export JAVA_HOME\r\n    export JRE_HOME\r\n    export PATH\r\n\r\nYou can comment on the other version. This needs to sign out and sign back in to use. If you want to try it on the go you can type the below command in the same terminal. It&#39;ll only update the java version for a particular terminal.\r\n\r\n    source /etc/profile\r\n\r\nYou can always check the java version by `java -version` command.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>In Ubuntu, you can simply install Open JDK by following commands.</p>\n\n<pre><code>sudo apt-get update    \nsudo apt-get install default-jdk\n</code></pre>\n\n<p>You can check the java version by following the command.</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>If you want to install Oracle JDK 8 follow the below commands.</p>\n\n<pre><code>sudo add-apt-repository ppa:webupd8team/java\nsudo apt-get update\nsudo apt-get install oracle-java8-installer\n</code></pre>\n\n<p>If you want to switch java versions you can try below methods.</p>\n\n<p><code>vi ~/.bashrc</code> and add the following line <code>export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221</code> (path/jdk folder)</p>\n\n<p>or</p>\n\n<p><code>sudo vi /etc/profile</code> and add the following lines</p>\n\n<pre><code>#JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_HOME\nexport JRE_HOME\nexport PATH\n</code></pre>\n\n<p>You can comment on the other version. This needs to sign out and sign back in to use. If you want to try it on the go you can type the below command in the same terminal. It'll only update the java version for a particular terminal.</p>\n\n<pre><code>source /etc/profile\n</code></pre>\n\n<p>You can always check the java version by <code>java -version</code> command.</p>\n"},{"tags":[],"owner":{"account_id":2737700,"reputation":1497,"user_id":2359994,"display_name":"Som"},"comment_count":0,"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1636540030,"creation_date":1576237306,"answer_id":59321929,"question_id":52504825,"body_markdown":"    sudo apt-get install openjdk-11-jdk\r\n\r\nafter this, try \r\n\r\n    java -version\r\n\r\nto make sure java version is 1.11.x, if found old one or different, check below command to see the available jdks,\r\n\r\n    update-java-alternatives --list\r\n\r\nyou should see something like below,\r\n\r\n    java-1.11.0-openjdk-amd64      1111      /usr/lib/jvm/java-1.11.0-openjdk-amd64 \r\n    \r\n    java-1.8.0-openjdk-amd64      1081      /usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n\r\nyou can see java 1.11 available from above list, use below command to set java 11 to default,\r\n\r\n    sudo update-alternatives --config java\r\n\r\nfor above command, you will get something like below and also, will ask for an option to set,\r\n\r\n    There are 3 choices for the alternative java (providing /usr/bin/java).\r\n       Selection    Path   Priority   Status\r\n    \r\n     ------------------------------------------------------------   \r\n    \r\n     0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\r\n      \r\n     1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\r\n    \r\n     *2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081    manual mode \r\n    \r\n     3            /usr/lib/jvm/jdk1.8.0_211/bin/java  0         manual mode \r\n    \r\n     Press &lt;enter&gt; to keep the current choice[*], or type selection number:\r\n\r\nyou can select desired selection number, my case it&#39;s 0\r\n\r\nfor javac,\r\n\r\n    sudo update-alternatives --config javac\r\n\r\nwill result something like below,\r\n\r\n     There are 3 choices for the alternative javac (providing /usr/bin/javac).\r\n    \r\n     Selection    Path                     Priority  Status\r\n    \r\n     ------------------------------------------------------------   \r\n    \r\n     0            /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      auto mode   \r\n    \r\n     1           /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      manual mode\r\n    \r\n     *2            /usr/lib/jvm/java-8-openjdk-amd64/bin/javac    1081      manual mode   \r\n     3            /usr/lib/jvm/jdk1.8.0_211/bin/javac        0         manual mode\r\n     \r\n     Press &lt;enter&gt; to keep the current choice[*], or type selection number:\r\n\r\nin my case, it&#39;s 0 again\r\n\r\nafter above steps, try\r\n\r\n    java -version\r\n\r\nit will display something like below,\r\n\r\n    openjdk version &quot;11.0.4&quot; 2019-07-16 \r\n    \r\n    OpenJDK Runtime Environment (build\r\n     11.0.4+11-post-Ubuntu-1ubuntu218.04.3) \r\n    \r\n     OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed &gt; mode, sharing)\r\n\r\n\r\n\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<pre><code>sudo apt-get install openjdk-11-jdk\n</code></pre>\n<p>after this, try</p>\n<pre><code>java -version\n</code></pre>\n<p>to make sure java version is 1.11.x, if found old one or different, check below command to see the available jdks,</p>\n<pre><code>update-java-alternatives --list\n</code></pre>\n<p>you should see something like below,</p>\n<pre><code>java-1.11.0-openjdk-amd64      1111      /usr/lib/jvm/java-1.11.0-openjdk-amd64 \n\njava-1.8.0-openjdk-amd64      1081      /usr/lib/jvm/java-1.8.0-openjdk-amd64\n</code></pre>\n<p>you can see java 1.11 available from above list, use below command to set java 11 to default,</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>for above command, you will get something like below and also, will ask for an option to set,</p>\n<pre><code>There are 3 choices for the alternative java (providing /usr/bin/java).\n   Selection    Path   Priority   Status\n\n ------------------------------------------------------------   \n\n 0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\n  \n 1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\n\n *2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081    manual mode \n\n 3            /usr/lib/jvm/jdk1.8.0_211/bin/java  0         manual mode \n\n Press &lt;enter&gt; to keep the current choice[*], or type selection number:\n</code></pre>\n<p>you can select desired selection number, my case it's 0</p>\n<p>for javac,</p>\n<pre><code>sudo update-alternatives --config javac\n</code></pre>\n<p>will result something like below,</p>\n<pre><code> There are 3 choices for the alternative javac (providing /usr/bin/javac).\n\n Selection    Path                     Priority  Status\n\n ------------------------------------------------------------   \n\n 0            /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      auto mode   \n\n 1           /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      manual mode\n\n *2            /usr/lib/jvm/java-8-openjdk-amd64/bin/javac    1081      manual mode   \n 3            /usr/lib/jvm/jdk1.8.0_211/bin/javac        0         manual mode\n \n Press &lt;enter&gt; to keep the current choice[*], or type selection number:\n</code></pre>\n<p>in my case, it's 0 again</p>\n<p>after above steps, try</p>\n<pre><code>java -version\n</code></pre>\n<p>it will display something like below,</p>\n<pre><code>openjdk version &quot;11.0.4&quot; 2019-07-16 \n\nOpenJDK Runtime Environment (build\n 11.0.4+11-post-Ubuntu-1ubuntu218.04.3) \n\n OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed &gt; mode, sharing)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7517199,"reputation":8382,"user_id":5710233,"display_name":"Mizux"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601558165,"creation_date":1601557706,"answer_id":64156069,"question_id":52504825,"body_markdown":"First check the `default-jdk` package, good chance it already provide you an `OpenJDK &gt;= 11`.  \r\nref: https://packages.ubuntu.com/search?keywords=default-jdk&amp;searchon=names&amp;suite=all&amp;section=all\r\n\r\n# Ubuntu 18.04 LTS +\r\nSo starting from **Ubuntu 18.04 LTS** it should be ok.\r\n```sh\r\nsudo apt update -qq\r\nsudo apt install -yq default-jdk\r\n```\r\nnote: don&#39;t forget to set `JAVA_HOME`\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/default-java\r\nmvn -version\r\n```\r\n\r\n# Ubuntu 16.04 LTS\r\nFor **Ubuntu 16.04 LTS**, only `openjdk-8-jdk` is provided in the official repos so you need to find it in a *ppa*:\r\n```sh\r\nsudo add-apt-repository -y ppa:openjdk-r/ppa\r\nsudo apt update -qq\r\nsudo apt install -yq openjdk-11-jdk\r\n```\r\nnote: don&#39;t forget to set `JAVA_HOME`\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\nmvn -version\r\n```","title":"How to install JDK 11 under Ubuntu?","body":"<p>First check the <code>default-jdk</code> package, good chance it already provide you an <code>OpenJDK &gt;= 11</code>.<br />\nref: <a href=\"https://packages.ubuntu.com/search?keywords=default-jdk&amp;searchon=names&amp;suite=all&amp;section=all\" rel=\"noreferrer\">https://packages.ubuntu.com/search?keywords=default-jdk&amp;searchon=names&amp;suite=all&amp;section=all</a></p>\n<h1>Ubuntu 18.04 LTS +</h1>\n<p>So starting from <strong>Ubuntu 18.04 LTS</strong> it should be ok.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo apt update -qq\nsudo apt install -yq default-jdk\n</code></pre>\n<p>note: don't forget to set <code>JAVA_HOME</code></p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/default-java\nmvn -version\n</code></pre>\n<h1>Ubuntu 16.04 LTS</h1>\n<p>For <strong>Ubuntu 16.04 LTS</strong>, only <code>openjdk-8-jdk</code> is provided in the official repos so you need to find it in a <em>ppa</em>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo add-apt-repository -y ppa:openjdk-r/ppa\nsudo apt update -qq\nsudo apt install -yq openjdk-11-jdk\n</code></pre>\n<p>note: don't forget to set <code>JAVA_HOME</code></p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nmvn -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4006519,"reputation":727,"user_id":3301051,"display_name":"Roman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613665216,"creation_date":1613665216,"answer_id":66263908,"question_id":52504825,"body_markdown":"Just updated older Ubuntu versions to openJDK 11&lt;br&gt;Actually I need it for Jenkins only and it seems to work fine.\r\n\r\n**Ubuntu 12.04 (Precise):**\r\n&lt;br&gt;Download from [openjdk-lts (11.0.4+11-1~12.04) precise][1]\r\n&lt;br&gt;Files:&lt;br&gt;\r\n`openjdk-11-jre-headless_11.0.4+11-1~12.04_amd64.deb` &lt;br&gt;\r\n`openjdk-11-jre_11.0.4+11-1~12.04_amd64.deb`\r\n\r\n**Ubuntu 14.04 (Trusty):**\r\n&lt;br&gt;Download from [openjdk-lts (11.0.5+10-2ubuntu1~14.04) trusty][2]\r\n&lt;br&gt;Files:&lt;br&gt;\r\n`openjdk-11-jre-headless_11.0.5+10-2ubuntu1_14.04_amd64.deb` &lt;br&gt;\r\n`openjdk-11-jre_11.0.5+10-2ubuntu1_14.04_amd64.deb`\r\n\r\n**Installation**&lt;br&gt;\r\nAfter download I installed the files with Ubuntu Software Center (&quot;headless&quot; first!)&lt;br&gt;\r\nThen I selected the new version with `sudo update-alternatives --config java`\r\n\r\nI didn&#39;t have to change any environment variables (like JAVA_HOME) - maybe Jenkins doesn&#39;t care about them...\r\n\r\n  [1]: https://launchpad.net/~openjdk-r/+archive/ubuntu/ppa/+sourcepub/10347396/+listing-archive-extra\r\n  [2]: https://launchpad.net/~openjdk-r/+archive/ubuntu/ppa/+sourcepub/10650692/+listing-archive-extra","title":"How to install JDK 11 under Ubuntu?","body":"<p>Just updated older Ubuntu versions to openJDK 11<br>Actually I need it for Jenkins only and it seems to work fine.</p>\n<p><strong>Ubuntu 12.04 (Precise):</strong>\n<br>Download from <a href=\"https://launchpad.net/%7Eopenjdk-r/+archive/ubuntu/ppa/+sourcepub/10347396/+listing-archive-extra\" rel=\"nofollow noreferrer\">openjdk-lts (11.0.4+11-1~12.04) precise</a>\n<br>Files:<br>\n<code>openjdk-11-jre-headless_11.0.4+11-1~12.04_amd64.deb</code> <br>\n<code>openjdk-11-jre_11.0.4+11-1~12.04_amd64.deb</code></p>\n<p><strong>Ubuntu 14.04 (Trusty):</strong>\n<br>Download from <a href=\"https://launchpad.net/%7Eopenjdk-r/+archive/ubuntu/ppa/+sourcepub/10650692/+listing-archive-extra\" rel=\"nofollow noreferrer\">openjdk-lts (11.0.5+10-2ubuntu1~14.04) trusty</a>\n<br>Files:<br>\n<code>openjdk-11-jre-headless_11.0.5+10-2ubuntu1_14.04_amd64.deb</code> <br>\n<code>openjdk-11-jre_11.0.5+10-2ubuntu1_14.04_amd64.deb</code></p>\n<p><strong>Installation</strong><br>\nAfter download I installed the files with Ubuntu Software Center (&quot;headless&quot; first!)<br>\nThen I selected the new version with <code>sudo update-alternatives --config java</code></p>\n<p>I didn't have to change any environment variables (like JAVA_HOME) - maybe Jenkins doesn't care about them...</p>\n"},{"tags":[],"owner":{"account_id":22082501,"reputation":1,"user_id":16622309,"display_name":"swon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628489662,"creation_date":1628489662,"answer_id":68707552,"question_id":52504825,"body_markdown":"if you want to use official oracle jdk.\r\nthen download jdk 11 or latest from oracle website: https://www.oracle.com/java/technologies/javase-downloads.html\r\n\r\nthen use this command to install :\r\nsudo dpkg -i *the file you downloaded*\r\n\r\nthen add to your PATH using */etc/profile* file.\r\n\r\nin my case it&#39;s just worked 100% using ubuntu 20.04\r\n\r\nnote: official oracle jdk free only for developments.\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>if you want to use official oracle jdk.\nthen download jdk 11 or latest from oracle website: <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-downloads.html</a></p>\n<p>then use this command to install :\nsudo dpkg -i <em>the file you downloaded</em></p>\n<p>then add to your PATH using <em>/etc/profile</em> file.</p>\n<p>in my case it's just worked 100% using ubuntu 20.04</p>\n<p>note: official oracle jdk free only for developments.</p>\n"},{"comments":[{"owner":{"account_id":1754579,"reputation":583,"user_id":1602911,"accept_rate":67,"display_name":"Bahaa Odeh"},"score":0,"creation_date":1662989704,"post_id":71659780,"comment_id":130127122,"body_markdown":"worked ubuntu 16","body":"worked ubuntu 16"}],"tags":[],"owner":{"account_id":16479661,"reputation":101,"user_id":11906736,"display_name":"D.Raluca"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658314364,"creation_date":1648547155,"answer_id":71659780,"question_id":52504825,"body_markdown":"I had problems installing open jdk on ubuntu 17.04\r\nI managed to install it using this steps:\r\n\r\n    wget https://download.java.net/java/ga/jdk11/openjdk-11_linux-x64_bin.tar.gz -O /tmp/openjdk-11+28_linux-x64_bin.tar.gz\r\n    \r\n    tar xfvz /tmp/openjdk-11+28_linux-x64_bin.tar.gz --directory /usr/lib/jvm/\r\n    \r\n    rm /etc/alternatives/java\r\n    \r\n    ln -s /usr/lib/jvm/jdk-11/bin/java /etc/alternatives/java\r\n    \r\n    java -version\r\n\r\nYou should see this:\r\n\r\n    openjdk version &quot;11&quot; 2018-09-25\r\n    OpenJDK Runtime Environment 18.9 (build 11+28)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>I had problems installing open jdk on ubuntu 17.04\nI managed to install it using this steps:</p>\n<pre><code>wget https://download.java.net/java/ga/jdk11/openjdk-11_linux-x64_bin.tar.gz -O /tmp/openjdk-11+28_linux-x64_bin.tar.gz\n\ntar xfvz /tmp/openjdk-11+28_linux-x64_bin.tar.gz --directory /usr/lib/jvm/\n\nrm /etc/alternatives/java\n\nln -s /usr/lib/jvm/jdk-11/bin/java /etc/alternatives/java\n\njava -version\n</code></pre>\n<p>You should see this:</p>\n<pre><code>openjdk version &quot;11&quot; 2018-09-25\nOpenJDK Runtime Environment 18.9 (build 11+28)\nOpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11002667,"reputation":71,"user_id":8082751,"display_name":"ishant kulshreshtha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674247053,"creation_date":1674247053,"answer_id":75189104,"question_id":52504825,"body_markdown":"Following are command to install openjdk 11 \r\n\r\n&gt; sudo apt-get install openjdk-11-jdk\r\n\r\nWe can check the version by running following command \r\n\r\n&gt; java -version\r\n\r\nFor setting the JAVA_HOME in path we can following command\r\n\r\n&gt; sudo gedit .bashrc.\r\n\r\nSet the following value in bashrc file\r\n\r\n\r\n&lt;!-- language --&gt;\r\n\r\n    export JAVA_HOME=$(dirname $(dirname $(readlink -f $(which java))))\r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTo execute the content of bashrc file run following command \r\n\r\n&gt; source ~/.bashrc.\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>Following are command to install openjdk 11</p>\n<blockquote>\n<p>sudo apt-get install openjdk-11-jdk</p>\n</blockquote>\n<p>We can check the version by running following command</p>\n<blockquote>\n<p>java -version</p>\n</blockquote>\n<p>For setting the JAVA_HOME in path we can following command</p>\n<blockquote>\n<p>sudo gedit .bashrc.</p>\n</blockquote>\n<p>Set the following value in bashrc file</p>\n\n<pre><code>export JAVA_HOME=$(dirname $(dirname $(readlink -f $(which java))))\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n\n<p>To execute the content of bashrc file run following command</p>\n<blockquote>\n<p>source ~/.bashrc.</p>\n</blockquote>\n"}],"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548105,"favorite_count":0,"down_vote_count":2,"up_vote_count":263,"accepted_answer_id":52950746,"answer_count":12,"score":261,"last_activity_date":1674247053,"creation_date":1537900936,"question_id":52504825,"body_markdown":"So Java 11 [is out][1]. Does anybody know how to install it (OpenJDK from Oracle) from the command line?\r\n\r\nI would like to see something like it was before for Oracle Java 10:\r\n\r\n    sudo add-apt-repository ppa:linuxuprising/java\r\n    sudo apt-get update\r\n    sudo apt-get install oracle-java10-installer\r\n\r\nP. S. In the [similar][2] question proposed instruction:\r\n\r\n    sudo apt-get install openjdk-11-jdk\r\n\r\ndoesn&#39;t work.\r\n\r\n\r\n  [1]: https://mail.openjdk.java.net/pipermail/announce/2018-September/000257.html\r\n  [2]: https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu","title":"How to install JDK 11 under Ubuntu?","body":"<p>So Java 11 <a href=\"https://mail.openjdk.java.net/pipermail/announce/2018-September/000257.html\" rel=\"noreferrer\">is out</a>. Does anybody know how to install it (OpenJDK from Oracle) from the command line?</p>\n\n<p>I would like to see something like it was before for Oracle Java 10:</p>\n\n<pre><code>sudo add-apt-repository ppa:linuxuprising/java\nsudo apt-get update\nsudo apt-get install oracle-java10-installer\n</code></pre>\n\n<p>P. S. In the <a href=\"https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu\">similar</a> question proposed instruction:</p>\n\n<pre><code>sudo apt-get install openjdk-11-jdk\n</code></pre>\n\n<p>doesn't work.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516089,"post_id":74032495,"comment_id":130717837,"body_markdown":"You need to reset your app (`kafka-streams-application-reset` command) if you modify the topology or its properties","body":"You need to reset your app (<code>kafka-streams-application-reset</code> command) if you modify the topology or its properties"},{"owner":{"account_id":3085402,"reputation":476,"user_id":2612656,"accept_rate":33,"display_name":"Shinta Smith"},"score":0,"creation_date":1665522057,"post_id":74032495,"comment_id":130719617,"body_markdown":"If we use `kafka-streams-application-reset` wouldn&#39;t my app starts processing the input topic from scratch (or whatever offset we reset it to)? We don&#39;t want to disturb the processing of the input topic. I.e: we don&#39;t want to reprocess from start or skip anything. We just want to enable the StateStore changelog internal topic.","body":"If we use <code>kafka-streams-application-reset</code> wouldn&#39;t my app starts processing the input topic from scratch (or whatever offset we reset it to)? We don&#39;t want to disturb the processing of the input topic. I.e: we don&#39;t want to reprocess from start or skip anything. We just want to enable the StateStore changelog internal topic."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665522187,"post_id":74032495,"comment_id":130719652,"body_markdown":"Correct. And I dont think you can do that without changing the topology of the job. In other words, your changelog topic must be created from the beginning of the original consumed topic to process all key-value pairs","body":"Correct. And I dont think you can do that without changing the topology of the job. In other words, your changelog topic must be created from the beginning of the original consumed topic to process all key-value pairs"}],"answers":[{"tags":[],"owner":{"account_id":3085402,"reputation":476,"user_id":2612656,"accept_rate":33,"display_name":"Shinta Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674246770,"creation_date":1674246770,"answer_id":75189062,"question_id":74032495,"body_markdown":"The infinite loop was caused because we were doing Blue/Green deployment. We learned that we can not do this if we are changing anything with the StateStore (configuration or disabling/re-enabling changelogs). \r\n\r\nWe just did a complete shutdown of the old version, then deployed the new version. That worked fine.\r\n\r\nAnother option would be to use the `kafka-streams-application-reset` tool as OneKricketeer suggested.","title":"Kafka Stream StateStore infinite loop","body":"<p>The infinite loop was caused because we were doing Blue/Green deployment. We learned that we can not do this if we are changing anything with the StateStore (configuration or disabling/re-enabling changelogs).</p>\n<p>We just did a complete shutdown of the old version, then deployed the new version. That worked fine.</p>\n<p>Another option would be to use the <code>kafka-streams-application-reset</code> tool as OneKricketeer suggested.</p>\n"}],"owner":{"account_id":3085402,"reputation":476,"user_id":2612656,"accept_rate":33,"display_name":"Shinta Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674246770,"creation_date":1665512386,"question_id":74032495,"body_markdown":"We have a KStream app that uses in-memory KV StateStore but with changelog disabled. \r\n```\r\n  String stateStoreName = &quot;statestore-v1&quot;;\r\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\r\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \r\n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\r\n  keyValueStoreBuilder.withLoggingDisabled();\r\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\r\n```\r\n\r\nWe now want to enable the changelog with different configuration and different name.\r\n```\r\n  String stateStoreName = &quot;statestore-v2&quot;;\r\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\r\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \r\n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\r\n  Map&lt;String, String&gt; changelogConfig = new HashMap&lt;&gt;();\r\n  changelogConfig.put(&quot;retention.ms&quot;, &quot;43200000&quot;); // 12 hours\r\n  changelogConfig.put(&quot;cleanup.policy&quot;, &quot;delete&quot;);\r\n  changelogConfig.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\r\n  keyValueStoreBuilder.withLoggingEnabled(changelogConfig);\r\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\r\n```\r\nWhen we run our application, we got into infinite loop with these messages:\r\n```\r\n2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3]\r\no.a.k.s.p.i.StoreChangelogReader : stream-thread [myapp-StreamThread-3] \r\nEnd offset for changelog myapp-statestore-v2-changelog-4 cannot be found; \r\nwill retry in the next time.\r\n2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3] \r\no.a.k.clients.consumer.KafkaConsumer : [Consumer clientId=myapp-StreamThread-3-restore-consumer, groupId=null] \r\nUnsubscribed all topics or patterns and assigned partitions\r\n```\r\nIt does not appear that the changelog topic is ever created... At least `kafka-topics` does not show it.\r\n\r\nI am using io.confluent packages version 7.2.2-ccs, which I think translates to Apache Kafka version 3.2.x\r\n\r\nAny ideas on how to fix the infinite loop and get the changelog topics created?\r\n\r\nThanks!","title":"Kafka Stream StateStore infinite loop","body":"<p>We have a KStream app that uses in-memory KV StateStore but with changelog disabled.</p>\n<pre><code>  String stateStoreName = &quot;statestore-v1&quot;;\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\n  keyValueStoreBuilder.withLoggingDisabled();\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\n</code></pre>\n<p>We now want to enable the changelog with different configuration and different name.</p>\n<pre><code>  String stateStoreName = &quot;statestore-v2&quot;;\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\n  Map&lt;String, String&gt; changelogConfig = new HashMap&lt;&gt;();\n  changelogConfig.put(&quot;retention.ms&quot;, &quot;43200000&quot;); // 12 hours\n  changelogConfig.put(&quot;cleanup.policy&quot;, &quot;delete&quot;);\n  changelogConfig.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\n  keyValueStoreBuilder.withLoggingEnabled(changelogConfig);\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\n</code></pre>\n<p>When we run our application, we got into infinite loop with these messages:</p>\n<pre><code>2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3]\no.a.k.s.p.i.StoreChangelogReader : stream-thread [myapp-StreamThread-3] \nEnd offset for changelog myapp-statestore-v2-changelog-4 cannot be found; \nwill retry in the next time.\n2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3] \no.a.k.clients.consumer.KafkaConsumer : [Consumer clientId=myapp-StreamThread-3-restore-consumer, groupId=null] \nUnsubscribed all topics or patterns and assigned partitions\n</code></pre>\n<p>It does not appear that the changelog topic is ever created... At least <code>kafka-topics</code> does not show it.</p>\n<p>I am using io.confluent packages version 7.2.2-ccs, which I think translates to Apache Kafka version 3.2.x</p>\n<p>Any ideas on how to fix the infinite loop and get the changelog topics created?</p>\n<p>Thanks!</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1674190807,"post_id":75176093,"comment_id":132665401,"body_markdown":"Please read this https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup","body":"Please read this <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1270055,"reputation":31,"user_id":1226585,"accept_rate":25,"display_name":"Carroll"},"score":0,"creation_date":1674242689,"post_id":75176093,"comment_id":132680745,"body_markdown":"I followed the code and the PDF portfolio is created and opens in Adobe with the list of embedded files.  However, it opens to the page that reads &quot;Example of a portable collection&quot;.  Is there a way for to open the first embedded file when opening the PDF?  Thanks.","body":"I followed the code and the PDF portfolio is created and opens in Adobe with the list of embedded files.  However, it opens to the page that reads &quot;Example of a portable collection&quot;.  Is there a way for to open the first embedded file when opening the PDF?  Thanks."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674246474,"creation_date":1674246474,"answer_id":75189029,"question_id":75176093,"body_markdown":"What somewhat worked for me (it positioned to this file, as if I had clicked on it in the list) is this:\r\n\r\n    collectionDictionary.setString(COSName.D, &quot;Attachment 1&quot;);\r\n\r\nwhere &quot;Attachment 1&quot; is the name used in the name tree in [this example][1].\r\n\r\n  [1]: https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup","title":"PDFBox - Setting Cover Sheet for PDF Portfolio","body":"<p>What somewhat worked for me (it positioned to this file, as if I had clicked on it in the list) is this:</p>\n<pre><code>collectionDictionary.setString(COSName.D, &quot;Attachment 1&quot;);\n</code></pre>\n<p>where &quot;Attachment 1&quot; is the name used in the name tree in <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup\" rel=\"nofollow noreferrer\">this example</a>.</p>\n"}],"owner":{"account_id":1270055,"reputation":31,"user_id":1226585,"accept_rate":25,"display_name":"Carroll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189029,"answer_count":1,"score":0,"last_activity_date":1674246474,"creation_date":1674149338,"question_id":75176093,"body_markdown":"I am creating a PDF portfolio from scratch using PDFBox 2.0.16.  I create the PDF and add attachments.  Once the attachments are added, I then create the PDF Portfolio.  The following is the code to create the PDF Portfolio/Package.\r\n\r\n```\r\nCOSDictionary collectionDictionary = new COSDictionary();\r\ncollectionDictionary.setName( COSName.TYPE, &quot;Collection&quot; );\r\ncollectionDictionary.setName( &quot;PDF Filename&quot;, &quot;T&quot; );\r\nPDDocumentCatalog catalog = pdfDoc.getDocumentCatalog();\r\ncatalog.getCOSObject().setItem( &quot;Collection&quot;, collectionDictionary );\r\npdfDoc.save( pdfFile );\r\n```\r\n\r\nWhen I open the PDF, the Cover Sheet is a blank page.  I would like the Cover Sheet to be the first attachment in the PDF Portfolio/Package so that when a user opens the PDF, the 1st attachment in the portfolio is viewed.","title":"PDFBox - Setting Cover Sheet for PDF Portfolio","body":"<p>I am creating a PDF portfolio from scratch using PDFBox 2.0.16.  I create the PDF and add attachments.  Once the attachments are added, I then create the PDF Portfolio.  The following is the code to create the PDF Portfolio/Package.</p>\n<pre><code>COSDictionary collectionDictionary = new COSDictionary();\ncollectionDictionary.setName( COSName.TYPE, &quot;Collection&quot; );\ncollectionDictionary.setName( &quot;PDF Filename&quot;, &quot;T&quot; );\nPDDocumentCatalog catalog = pdfDoc.getDocumentCatalog();\ncatalog.getCOSObject().setItem( &quot;Collection&quot;, collectionDictionary );\npdfDoc.save( pdfFile );\n</code></pre>\n<p>When I open the PDF, the Cover Sheet is a blank page.  I would like the Cover Sheet to be the first attachment in the PDF Portfolio/Package so that when a user opens the PDF, the 1st attachment in the portfolio is viewed.</p>\n"},{"tags":["java","spring","spring-boot","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643814971,"creation_date":1643814971,"answer_id":70958142,"question_id":70906973,"body_markdown":"I managed to execute the command using following parameters\r\n\r\n`mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot; -DinteractiveMode=false`\r\n\r\nBy running the above command, I managed to took get it worked. ","title":"Execute mvn archetype:generate with User Input from Java Code","body":"<p>I managed to execute the command using following parameters</p>\n<p><code>mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot; -DinteractiveMode=false</code></p>\n<p>By running the above command, I managed to took get it worked.</p>\n"}],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70958142,"answer_count":1,"score":1,"last_activity_date":1674246175,"creation_date":1643470309,"question_id":70906973,"body_markdown":"I am creating a project from a custom archetype in Spring Boot\r\nHere are the steps\r\n\r\n 1. Created a Template Project\r\n 2. Executed `mvn archetype:create-from-project -Darchetype.properties=../myCustom.properties` command from Java Code and created a custom archetype from template\r\n 3. Installed custom archetype into Local maven Repo.\r\n      `cd target\\generated-sources\\archetype` \r\n      `mvn clean install`\r\n\r\n 4. Create project from Custom Archetype  (This is the problem area)\r\n`mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot;`\r\n\r\nSo till point 3, I am able to execute commands from Java Project.\r\n\r\nThe maven command in #4., Java Code remains stuck and does not prompt user input. However, we execute the same command (`mvn archetype:generate` ) from Command Prompt, it asks user input (which is expected and desired).\r\n\r\nNow, I am not getting any idea on why the Java application does not prompt for user input but in command prompt it does.\r\n\r\nThanks in Advance.. !","title":"Execute mvn archetype:generate with User Input from Java Code","body":"<p>I am creating a project from a custom archetype in Spring Boot\nHere are the steps</p>\n<ol>\n<li><p>Created a Template Project</p>\n</li>\n<li><p>Executed <code>mvn archetype:create-from-project -Darchetype.properties=../myCustom.properties</code> command from Java Code and created a custom archetype from template</p>\n</li>\n<li><p>Installed custom archetype into Local maven Repo.\n<code>cd target\\generated-sources\\archetype</code>\n<code>mvn clean install</code></p>\n</li>\n<li><p>Create project from Custom Archetype  (This is the problem area)\n<code>mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot;</code></p>\n</li>\n</ol>\n<p>So till point 3, I am able to execute commands from Java Project.</p>\n<p>The maven command in #4., Java Code remains stuck and does not prompt user input. However, we execute the same command (<code>mvn archetype:generate</code> ) from Command Prompt, it asks user input (which is expected and desired).</p>\n<p>Now, I am not getting any idea on why the Java application does not prompt for user input but in command prompt it does.</p>\n<p>Thanks in Advance.. !</p>\n"},{"tags":["java","spring","oauth-2.0","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674244898,"creation_date":1674239616,"answer_id":75188104,"question_id":75187811,"body_markdown":"Just as when you don&#39;t use any other spring-boot module: you write by yourself what is auto-configured by spring-boot.\r\n\r\nRefer to spring-boot documentation to figure out what beans are auto-configured in the case of the accepted answer to the question you linked (or to spring-security documentation to setup a resource-server with JWT decoder and custom authentication converter for roles mapping).","title":"Migrate from KeycloakWebSecurityConfigurerAdapter to Spring Security 6","body":"<p>Just as when you don't use any other spring-boot module: you write by yourself what is auto-configured by spring-boot.</p>\n<p>Refer to spring-boot documentation to figure out what beans are auto-configured in the case of the accepted answer to the question you linked (or to spring-security documentation to setup a resource-server with JWT decoder and custom authentication converter for roles mapping).</p>\n"}],"owner":{"account_id":27582741,"reputation":11,"user_id":21051585,"display_name":"Julian Zenker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674244898,"creation_date":1674237704,"question_id":75187811,"body_markdown":"I&#39;m migrating a project from Spring 5.x to Spring 6 that previously used the KeycloakWebSecurityConfigurerAdapter which is now [no longer supported](https://www.keycloak.org/2022/02/adapter-deprecation). I&#39;ve searched the internet and found that I need to migrate to Spring Security&#39;s OAuth2 solutions instead of using the adapter. I&#39;ve also found a [different post](https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3) that tackles this question in the context of Spring Boot.\r\n\r\nI don&#39;t have Spring Boot though, only Spring. I haven&#39;t found anything regarding the migration from the adapter to Spring Security without Spring Boot. How do I do it?","title":"Migrate from KeycloakWebSecurityConfigurerAdapter to Spring Security 6","body":"<p>I'm migrating a project from Spring 5.x to Spring 6 that previously used the KeycloakWebSecurityConfigurerAdapter which is now <a href=\"https://www.keycloak.org/2022/02/adapter-deprecation\" rel=\"nofollow noreferrer\">no longer supported</a>. I've searched the internet and found that I need to migrate to Spring Security's OAuth2 solutions instead of using the adapter. I've also found a <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">different post</a> that tackles this question in the context of Spring Boot.</p>\n<p>I don't have Spring Boot though, only Spring. I haven't found anything regarding the migration from the adapter to Spring Security without Spring Boot. How do I do it?</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1517221191,"post_id":41876037,"comment_id":83991060,"body_markdown":"Which spring boot version is that?","body":"Which spring boot version is that?"},{"owner":{"account_id":9150637,"reputation":788,"user_id":6805336,"display_name":"Dave"},"score":0,"creation_date":1517315096,"post_id":41876037,"comment_id":84037288,"body_markdown":"This was with 1.5.6","body":"This was with 1.5.6"},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":1,"creation_date":1526643754,"post_id":41876037,"comment_id":87836389,"body_markdown":"&#39;date-format&#39; is only for java.util.Date objects.","body":"&#39;date-format&#39; is only for java.util.Date objects."},{"owner":{"account_id":1897366,"reputation":1346,"user_id":1714013,"display_name":"karl li"},"score":0,"creation_date":1551833087,"post_id":41876037,"comment_id":96782208,"body_markdown":"In Spring Boot, &quot;spring.jackson.date-format&quot; in global config (application.properties) is only for java.util.Date, and not for any java.time.* object. For more detail, refer to https://github.com/spring-projects/spring-boot/issues/9004","body":"In Spring Boot, &quot;spring.jackson.date-format&quot; in global config (application.properties) is only for java.util.Date, and not for any java.time.* object. For more detail, refer to <a href=\"https://github.com/spring-projects/spring-boot/issues/9004\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/9004</a>"}],"answers":[{"comments":[{"owner":{"account_id":146328,"reputation":3837,"user_id":356708,"display_name":"Matt"},"score":2,"creation_date":1603913916,"post_id":41893238,"comment_id":114190127,"body_markdown":"For my case, all I needed was `.registerModule(new JavaTimeModule())` on my ObjectMapper","body":"For my case, all I needed was <code>.registerModule(new JavaTimeModule())</code> on my ObjectMapper"},{"owner":{"account_id":1340125,"reputation":180,"user_id":1281964,"display_name":"Jefferson"},"score":0,"creation_date":1642393734,"post_id":41893238,"comment_id":125050380,"body_markdown":"For my case too, just add .registerModule(new JavaTimeModule()) on my ObjectMapper before my objectMapper.readValue(...)","body":"For my case too, just add .registerModule(new JavaTimeModule()) on my ObjectMapper before my objectMapper.readValue(...)"},{"owner":{"account_id":7195697,"reputation":132,"user_id":5494612,"display_name":"Francesco Dassisis"},"score":0,"creation_date":1656680442,"post_id":41893238,"comment_id":128637624,"body_markdown":"can you translate it into kotlin please?","body":"can you translate it into kotlin please?"}],"tags":[],"owner":{"account_id":9150637,"reputation":788,"user_id":6805336,"display_name":"Dave"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1485517481,"creation_date":1485517481,"answer_id":41893238,"question_id":41876037,"body_markdown":"So I&#39;ve managed to figure out a solution, but if you have an alternative please post it.\r\n\r\nI ended up creating a new primary `ObjectMapper` bean, and registering a new module with a custom serializer for `OffsetDateTime`. I&#39;m able to set my own date format in here, using `java.time.format.DateTimeFormatter`. I also had to register the `JavaTimeModule` with my mapper.\r\n\r\n    @Configuration\r\n    public class JacksonOffsetDateTimeMapper{\r\n    \r\n        @Primary\r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            SimpleModule simpleModule = new SimpleModule();\r\n            simpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\r\n                @Override\r\n                public void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\r\n                    jsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(offsetDateTime));\r\n                }\r\n            });\r\n            objectMapper.registerModule(simpleModule);\r\n    \r\n            return objectMapper;\r\n        }\r\n        \r\n    }","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>So I've managed to figure out a solution, but if you have an alternative please post it.</p>\n\n<p>I ended up creating a new primary <code>ObjectMapper</code> bean, and registering a new module with a custom serializer for <code>OffsetDateTime</code>. I'm able to set my own date format in here, using <code>java.time.format.DateTimeFormatter</code>. I also had to register the <code>JavaTimeModule</code> with my mapper.</p>\n\n<pre><code>@Configuration\npublic class JacksonOffsetDateTimeMapper{\n\n    @Primary\n    @Bean\n    public ObjectMapper objectMapper() {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\n            @Override\n            public void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\n                jsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(offsetDateTime));\n            }\n        });\n        objectMapper.registerModule(simpleModule);\n\n        return objectMapper;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":4,"creation_date":1517221093,"post_id":45132464,"comment_id":83990999,"body_markdown":"Does not work in a MockMVC controller test with spring boot 2.0.0.M7","body":"Does not work in a MockMVC controller test with spring boot 2.0.0.M7"}],"tags":[],"owner":{"account_id":4028171,"reputation":966,"user_id":3315474,"display_name":"Konstantin Pavlov"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1500232776,"creation_date":1500232776,"answer_id":45132464,"question_id":41876037,"body_markdown":"1. Add jackson-datatype-jsr310 to your dependencies\r\n2. Add to application.properties:\r\n\r\n        spring.jackson.serialization.write-dates-as-timestamps=false\r\n\r\nYou will get:\r\n\r\n    &quot;lastUpdated&quot;: &quot;2017-07-16T19:17:57.689Z&quot;","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<ol>\n<li>Add jackson-datatype-jsr310 to your dependencies</li>\n<li><p>Add to application.properties:</p>\n\n<pre><code>spring.jackson.serialization.write-dates-as-timestamps=false\n</code></pre></li>\n</ol>\n\n<p>You will get:</p>\n\n<pre><code>\"lastUpdated\": \"2017-07-16T19:17:57.689Z\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1535454354,"creation_date":1535454354,"answer_id":52056372,"question_id":41876037,"body_markdown":"Have you tried put `@JsonFormat(pattern=&quot;dd/MM/yyyy HH:mm:ss Z&quot;)` before your field?\r\n\r\n\r\n    @JsonProperty(&quot;timestamp&quot;)\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;)\r\n    private OffsetDateTime timestamp;\r\n\r\nI guess you will get:\r\n\r\n    2017-01-30&#39;T&#39;16:55","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>Have you tried put <code>@JsonFormat(pattern=\"dd/MM/yyyy HH:mm:ss Z\")</code> before your field?</p>\n\n<pre><code>@JsonProperty(\"timestamp\")\n@JsonFormat(pattern=\"yyyy-MM-dd'T'HH:mm\")\nprivate OffsetDateTime timestamp;\n</code></pre>\n\n<p>I guess you will get:</p>\n\n<pre><code>2017-01-30'T'16:55\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868209,"reputation":3106,"user_id":2462052,"accept_rate":65,"display_name":"danny"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1567475871,"creation_date":1567475871,"answer_id":57764178,"question_id":41876037,"body_markdown":"The spring property doesn&#39;t work for me as well. Setting the property to `ObjectMapper` works for me though.\r\n\r\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>The spring property doesn't work for me as well. Setting the property to <code>ObjectMapper</code> works for me though.</p>\n\n<pre><code>objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1596929711,"post_id":61522868,"comment_id":111969549,"body_markdown":"You didn&#39;t actually need to register the module manually like that; you just needed to add a JavaTimeModule bean to your application context and boot would have done it for you: `Any beans of type com.fasterxml.jackson.databind.Module are automatically registered with the auto-configured Jackson2ObjectMapperBuilder and are applied to any ObjectMapper instances that it creates. This provides a global mechanism for contributing custom modules when you add new features to your application.`","body":"You didn&#39;t actually need to register the module manually like that; you just needed to add a JavaTimeModule bean to your application context and boot would have done it for you: <code>Any beans of type com.fasterxml.jackson.databind.Module are automatically registered with the auto-configured Jackson2ObjectMapperBuilder and are applied to any ObjectMapper instances that it creates. This provides a global mechanism for contributing custom modules when you add new features to your application.</code>"},{"owner":{"account_id":2980573,"reputation":732,"user_id":2530611,"accept_rate":75,"display_name":"PhilBa"},"score":2,"creation_date":1635939485,"post_id":61522868,"comment_id":123424066,"body_markdown":"`Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.`","body":"<code>Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.</code>"},{"owner":{"account_id":2980573,"reputation":732,"user_id":2530611,"accept_rate":75,"display_name":"PhilBa"},"score":1,"creation_date":1635939596,"post_id":61522868,"comment_id":123424101,"body_markdown":"Also you still need to disable `SerializationFeature.WRITE_DATES_AS_TIMESTAMPS`","body":"Also you still need to disable <code>SerializationFeature.WRITE_DATES_AS_TIMESTAMPS</code>"}],"tags":[],"owner":{"account_id":2769094,"reputation":2205,"user_id":2384066,"display_name":"LeslieM"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588251718,"creation_date":1588247937,"answer_id":61522868,"question_id":41876037,"body_markdown":"Adding a dependency on jackson-modules-java8 worked for me (jackson-datatype-jsr310 is deprecated)\r\n\r\n    &lt;!-- deserialize Java 8 date time types e.g OffsetDateTime --&gt; \r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-modules-java8&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI also needed to add this for it to work: \r\n\r\n     om.registerModule(new JavaTimeModule());\r\n\r\nNo need for the write-dates-as-timestamps=false or om.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS) - that is applicable for Java &quot;Date&quot; object.\r\n\r\nI used this annotation:\r\n\r\n     @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;)  \r\n\r\nand get output like this:\r\n\r\n**&quot;timestamp&quot;:&quot;2020-04-23T08:00:00.000-06:00&quot;**\r\n\r\n","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>Adding a dependency on jackson-modules-java8 worked for me (jackson-datatype-jsr310 is deprecated)</p>\n\n<pre><code>&lt;!-- deserialize Java 8 date time types e.g OffsetDateTime --&gt; \n&lt;dependency&gt; \n  &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-modules-java8&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I also needed to add this for it to work: </p>\n\n<pre><code> om.registerModule(new JavaTimeModule());\n</code></pre>\n\n<p>No need for the write-dates-as-timestamps=false or om.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS) - that is applicable for Java \"Date\" object.</p>\n\n<p>I used this annotation:</p>\n\n<pre><code> @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\")  \n</code></pre>\n\n<p>and get output like this:</p>\n\n<p><strong>\"timestamp\":\"2020-04-23T08:00:00.000-06:00\"</strong></p>\n"},{"comments":[{"owner":{"account_id":1567911,"reputation":988,"user_id":1456285,"display_name":"Steve Goossens"},"score":0,"creation_date":1604105294,"post_id":63263812,"comment_id":114254833,"body_markdown":"Although the accepted answer worked, this also works for me and is much more concise. Of note, I&#39;m just using Jackson in an AWS Lambda, so it&#39;s not in Spring and doesn&#39;t have any of the framework/Beans/auto-config/etc.","body":"Although the accepted answer worked, this also works for me and is much more concise. Of note, I&#39;m just using Jackson in an AWS Lambda, so it&#39;s not in Spring and doesn&#39;t have any of the framework/Beans/auto-config/etc."}],"tags":[],"owner":{"account_id":16675161,"reputation":788,"user_id":12051755,"display_name":"Utku A."},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1596625448,"creation_date":1596625448,"answer_id":63263812,"question_id":41876037,"body_markdown":"    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n\r\nBy doing that, you can get OffsetDateTime properties as ISO 8601 including offset in your target.","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n<p>By doing that, you can get OffsetDateTime properties as ISO 8601 including offset in your target.</p>\n"},{"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674244825,"creation_date":1674244825,"answer_id":75188842,"question_id":41876037,"body_markdown":"Removing `@EnableWebMvc` and just inheriting from `WebMvcConfigurerAdapter` helped me not to overwrite the ObjectMapper config, so that the configuration properties specified in the `application.yml` are applied.","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>Removing <code>@EnableWebMvc</code> and just inheriting from <code>WebMvcConfigurerAdapter</code> helped me not to overwrite the ObjectMapper config, so that the configuration properties specified in the <code>application.yml</code> are applied.</p>\n"}],"owner":{"account_id":9150637,"reputation":788,"user_id":6805336,"display_name":"Dave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82257,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":41893238,"answer_count":7,"score":38,"last_activity_date":1674244825,"creation_date":1485441876,"question_id":41876037,"body_markdown":"I&#39;m trying to output an OffsetDateTime from my Spring application, and have in my application.properties these properties:\r\n\r\n    spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false\r\n    spring.jackson.date-format=yyyy-MM-dd&#39;T&#39;HH:mm\r\n\r\nHowever when the date is returned it is formatted as \r\n\r\n    &quot;2017-01-30T16:55:00Z&quot;\r\n\r\nHow should I correctly configure the format for the date in my Spring application?\r\n\r\n\r\n\r\n","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>I'm trying to output an OffsetDateTime from my Spring application, and have in my application.properties these properties:</p>\n\n<pre><code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false\nspring.jackson.date-format=yyyy-MM-dd'T'HH:mm\n</code></pre>\n\n<p>However when the date is returned it is formatted as </p>\n\n<pre><code>\"2017-01-30T16:55:00Z\"\n</code></pre>\n\n<p>How should I correctly configure the format for the date in my Spring application?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","apache-axis","codegen"],"owner":{"account_id":8742400,"reputation":35,"user_id":6539041,"display_name":"Vescoci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674244651,"creation_date":1674244603,"question_id":75188813,"body_markdown":"I have been attempting to set up Axis2 within Eclipse and have come across an error when trying to generate client code using the Web Service Client wizard in Eclipse by going to New -&gt; Web Services -&gt; Web Service Client. \r\n\r\nMy current setup is:\r\n\r\n- Eclipse 2021-12 (4.22.0)\r\n- Tomcat 9.0.55\r\n- Axis2 1.8.2\r\n- Java 17 (I have swapped to older versions during testing but that hasn&#39;t shown any changes)\r\n\r\n\r\nI have followed the steps outlined by the Apache Foundation and Eclipse. \r\n\r\n- [Code Generator Wizard Guide for Eclipse Plug-in](https://axis.apache.org/axis2/java/core/tools/eclipse/wsdl2java-plugin.html)\r\n- [Eclipse plugin installation](https://axis.apache.org/axis2/java/core/tools/eclipse/plugin-installation.html)\r\n- [Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2](https://www.eclipse.org/webtools/community/tutorials/BottomUpAxis2WebService/bu_tutorial.html)\r\n\r\nAfter following the steps outlined in the Eclipse plugin installation, I am unable to find the Axis2 Code Generator Wizards displayed in the Code Generator Wizard Guide for Eclipse Plug-in. I went along with the debugging steps suggested as well which results in the following error:\r\n\r\n```\r\norg.osgi.framework.BundleException: Could not resolve module: org.apache.axis2.eclipse.codegen.plugin [1372] Unresolved requirement: Import-Package: com.google.appengine.api\r\n```\r\n\r\nI had assumed the issue was related to a missing package installation for my Eclipse version. I went to install Google Cloud Tools for Eclipse however this did not fix the issue. \r\n\r\nI searched for a while but could not find a solution to this problem and instead found the Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2 guide. Following along was going well as I was able to connect Axis2 with Eclipse, create a new project, generate a WSDL from the Java code, deploy the service to an installed Tomcat Server and view the service through localhost. \r\n\r\nThe next issue came as I attempted to generate a Web Service Client from the produced WSDL web page. I first came across an issue with a missing XmlSchemaForm which I resolved by adding the dependency to my pom.xml file. \r\n\r\nThe current problem I have is when attempting to generate a Web Service Client, the following error is produced: \r\n\r\n```\r\nException occurred during code generation for WSDL  : null\r\n    java.lang.NoSuchMethodException: org.apache.axis2.wsdl.codegen.CodeGenConfiguration.&lt;init&gt;(java.util.Map)\r\n    at java.base/java.lang.Class.getConstructor0(Class.java:3585)\r\n    at java.base/java.lang.Class.getConstructor(Class.java:2271)\r\n    at org.eclipse.jst.ws.axis2.consumption.core.command.Axis2ClientCodegenCommand.execute(Axis2ClientCodegenCommand.java:157)\r\n```\r\n\r\nAs shown, it looks like the missing Code Gen plugin could be the cause. I have included the maven dependencies in my pom.xml:\r\n\r\nEDIT: The initial post was not letting me submit the pom.\r\n\r\npom.xml\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-codegen --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-codegen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-java2wsdl --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-java2wsdl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/animal-sniffer-annotations --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;animal-sniffer-annotations&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.14&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/maven-shared --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-shared&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-xmlbeans-codegen --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-xmlbeans-codegen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.ws.xmlschema/xmlschema-core --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.ws.xmlschema&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;xmlschema-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.19.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.6&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/com.google.appengine/appengine-api-1.0-sdk --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-kernel --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-kernel&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb-codegen --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-adb-codegen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n","title":"Axis2 Web service client Code Generation error when generating client code from WSDL","body":"<p>I have been attempting to set up Axis2 within Eclipse and have come across an error when trying to generate client code using the Web Service Client wizard in Eclipse by going to New -&gt; Web Services -&gt; Web Service Client.</p>\n<p>My current setup is:</p>\n<ul>\n<li>Eclipse 2021-12 (4.22.0)</li>\n<li>Tomcat 9.0.55</li>\n<li>Axis2 1.8.2</li>\n<li>Java 17 (I have swapped to older versions during testing but that hasn't shown any changes)</li>\n</ul>\n<p>I have followed the steps outlined by the Apache Foundation and Eclipse.</p>\n<ul>\n<li><a href=\"https://axis.apache.org/axis2/java/core/tools/eclipse/wsdl2java-plugin.html\" rel=\"nofollow noreferrer\">Code Generator Wizard Guide for Eclipse Plug-in</a></li>\n<li><a href=\"https://axis.apache.org/axis2/java/core/tools/eclipse/plugin-installation.html\" rel=\"nofollow noreferrer\">Eclipse plugin installation</a></li>\n<li><a href=\"https://www.eclipse.org/webtools/community/tutorials/BottomUpAxis2WebService/bu_tutorial.html\" rel=\"nofollow noreferrer\">Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2</a></li>\n</ul>\n<p>After following the steps outlined in the Eclipse plugin installation, I am unable to find the Axis2 Code Generator Wizards displayed in the Code Generator Wizard Guide for Eclipse Plug-in. I went along with the debugging steps suggested as well which results in the following error:</p>\n<pre><code>org.osgi.framework.BundleException: Could not resolve module: org.apache.axis2.eclipse.codegen.plugin [1372] Unresolved requirement: Import-Package: com.google.appengine.api\n</code></pre>\n<p>I had assumed the issue was related to a missing package installation for my Eclipse version. I went to install Google Cloud Tools for Eclipse however this did not fix the issue.</p>\n<p>I searched for a while but could not find a solution to this problem and instead found the Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2 guide. Following along was going well as I was able to connect Axis2 with Eclipse, create a new project, generate a WSDL from the Java code, deploy the service to an installed Tomcat Server and view the service through localhost.</p>\n<p>The next issue came as I attempted to generate a Web Service Client from the produced WSDL web page. I first came across an issue with a missing XmlSchemaForm which I resolved by adding the dependency to my pom.xml file.</p>\n<p>The current problem I have is when attempting to generate a Web Service Client, the following error is produced:</p>\n<pre><code>Exception occurred during code generation for WSDL  : null\n    java.lang.NoSuchMethodException: org.apache.axis2.wsdl.codegen.CodeGenConfiguration.&lt;init&gt;(java.util.Map)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3585)\n    at java.base/java.lang.Class.getConstructor(Class.java:2271)\n    at org.eclipse.jst.ws.axis2.consumption.core.command.Axis2ClientCodegenCommand.execute(Axis2ClientCodegenCommand.java:157)\n</code></pre>\n<p>As shown, it looks like the missing Code Gen plugin could be the cause. I have included the maven dependencies in my pom.xml:</p>\n<p>EDIT: The initial post was not letting me submit the pom.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-codegen --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-codegen&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-java2wsdl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-java2wsdl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/animal-sniffer-annotations --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;animal-sniffer-annotations&lt;/artifactId&gt;\n        &lt;version&gt;1.14&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/maven-shared --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shared&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-xmlbeans-codegen --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-xmlbeans-codegen&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.ws.xmlschema/xmlschema-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ws.xmlschema&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlschema-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n        &lt;version&gt;3.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.appengine/appengine-api-1.0-sdk --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n        &lt;version&gt;2.0.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-kernel --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-kernel&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb-codegen --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-adb-codegen&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","colors"],"comments":[{"owner":{"account_id":154200,"reputation":1377,"user_id":369957,"accept_rate":89,"display_name":"SRM"},"score":1,"creation_date":1292033957,"post_id":4414673,"comment_id":4815319,"body_markdown":"Have you considered converting to YUV and comparing luminance values?","body":"Have you considered converting to YUV and comparing luminance values?"},{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1292038176,"post_id":4414673,"comment_id":4815582,"body_markdown":"yes, I edited it to the question... it&#39;s the same problem there","body":"yes, I edited it to the question... it&#39;s the same problem there"}],"answers":[{"tags":[],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1292039684,"creation_date":1292039684,"answer_id":4415113,"question_id":4414673,"body_markdown":"Ok, after 2 hours of converting to yuv, hsv, etc pp... I give up. I now do it just like this:\r\n\r\n\tpublic class ColorUtils {\r\n\t\tprivate static int FIRST_COLOR = Color.GREEN;\r\n\t\tprivate static int SECOND_COLOR = Color.YELLOW;\r\n\t\tprivate static int THIRD_COLOR = Color.RED;\r\n\t\r\n\t\tpublic static int getColor(float p) {\r\n\t\t\tint c0;\r\n\t\t\tint c1;\r\n\t\t\tif (p &lt;= 0.5f) {\r\n\t\t\t\tp *= 2;\r\n\t\t\t\tc0 = FIRST_COLOR;\r\n\t\t\t\tc1 = SECOND_COLOR;\r\n\t\t\t} else {\r\n\t\t\t\tp = (p - 0.5f) * 2;\r\n\t\t\t\tc0 = SECOND_COLOR;\r\n\t\t\t\tc1 = THIRD_COLOR;\r\n\t\t\t}\r\n\t\t\tint a = ave(Color.alpha(c0), Color.alpha(c1), p);\r\n\t\t\tint r = ave(Color.red(c0), Color.red(c1), p);\r\n\t\t\tint g = ave(Color.green(c0), Color.green(c1), p);\r\n\t\t\tint b = ave(Color.blue(c0), Color.blue(c1), p);\r\n\t\t\treturn Color.argb(a, r, g, b);\r\n\t\t}\r\n\t\r\n\t\tprivate static int ave(int src, int dst, float p) {\r\n\t\t\treturn src + java.lang.Math.round(p * (dst - src));\r\n\t\t}\r\n\t}\r\n\r\nBy explicity using yellow as the middle color, the generated colors are brighter :-)\r\n\r\nAnyway.. if someone has a good other solution, I would appreciate it.","title":"android color between two colors, based on percentage?","body":"<p>Ok, after 2 hours of converting to yuv, hsv, etc pp... I give up. I now do it just like this:</p>\n\n<pre><code>public class ColorUtils {\n    private static int FIRST_COLOR = Color.GREEN;\n    private static int SECOND_COLOR = Color.YELLOW;\n    private static int THIRD_COLOR = Color.RED;\n\n    public static int getColor(float p) {\n        int c0;\n        int c1;\n        if (p &lt;= 0.5f) {\n            p *= 2;\n            c0 = FIRST_COLOR;\n            c1 = SECOND_COLOR;\n        } else {\n            p = (p - 0.5f) * 2;\n            c0 = SECOND_COLOR;\n            c1 = THIRD_COLOR;\n        }\n        int a = ave(Color.alpha(c0), Color.alpha(c1), p);\n        int r = ave(Color.red(c0), Color.red(c1), p);\n        int g = ave(Color.green(c0), Color.green(c1), p);\n        int b = ave(Color.blue(c0), Color.blue(c1), p);\n        return Color.argb(a, r, g, b);\n    }\n\n    private static int ave(int src, int dst, float p) {\n        return src + java.lang.Math.round(p * (dst - src));\n    }\n}\n</code></pre>\n\n<p>By explicity using yellow as the middle color, the generated colors are brighter :-)</p>\n\n<p>Anyway.. if someone has a good other solution, I would appreciate it.</p>\n"},{"tags":[],"owner":{"account_id":4495,"reputation":335863,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1292061722,"creation_date":1292060945,"answer_id":4416122,"question_id":4414673,"body_markdown":"Interpolation like this is best done in [HSL or HSV][1] color spaces (and not YUV).\r\n\r\nThe reason the mid range colours look &quot;muddy&quot; is because if you simply linearly ramp up the red (`#ff0000`) at the same time as ramping down green (`#00ff00`) the middle colour ends up as `#808000` instead of `#ffff00`.\r\n\r\nInstead, find the HSL (or HSV) equivalent of your starting colour, and the same for the end colour.  Interpolate in _that_ colour space, and then for each point convert back to RGB again.\r\n\r\nSince the `S` and `L` (or `V`) values are the same for fully saturated red and green, only the `H` (hue) variable will change, giving the proper effect of a _spectrum_ of colour. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/HLS_color_space","title":"android color between two colors, based on percentage?","body":"<p>Interpolation like this is best done in <a href=\"http://en.wikipedia.org/wiki/HLS_color_space\" rel=\"noreferrer\">HSL or HSV</a> color spaces (and not YUV).</p>\n\n<p>The reason the mid range colours look \"muddy\" is because if you simply linearly ramp up the red (<code>#ff0000</code>) at the same time as ramping down green (<code>#00ff00</code>) the middle colour ends up as <code>#808000</code> instead of <code>#ffff00</code>.</p>\n\n<p>Instead, find the HSL (or HSV) equivalent of your starting colour, and the same for the end colour.  Interpolate in <em>that</em> colour space, and then for each point convert back to RGB again.</p>\n\n<p>Since the <code>S</code> and <code>L</code> (or <code>V</code>) values are the same for fully saturated red and green, only the <code>H</code> (hue) variable will change, giving the proper effect of a <em>spectrum</em> of colour. </p>\n"},{"comments":[{"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"score":0,"creation_date":1469231346,"post_id":7871291,"comment_id":64466975,"body_markdown":"It should be noted that this won&#39;t handle an alpha channel. From `Color.colorToHSV` docs: &quot;color - the argb color to convert. The alpha component is ignored.&quot;","body":"It should be noted that this won&#39;t handle an alpha channel. From <code>Color.colorToHSV</code> docs: &quot;color - the argb color to convert. The alpha component is ignored.&quot;"},{"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"score":0,"creation_date":1469231771,"post_id":7871291,"comment_id":64467063,"body_markdown":"I updated your answer to handle alpha here: http://stackoverflow.com/a/38536770/1650674","body":"I updated your answer to handle alpha here: <a href=\"http://stackoverflow.com/a/38536770/1650674\">stackoverflow.com/a/38536770/1650674</a>"},{"owner":{"account_id":1879821,"reputation":860,"user_id":1700274,"display_name":"Lothar"},"score":0,"creation_date":1488578445,"post_id":7871291,"comment_id":72310600,"body_markdown":"almost, I get yellow when interpolate between blue and red but want pink.","body":"almost, I get yellow when interpolate between blue and red but want pink."}],"tags":[],"owner":{"account_id":589,"reputation":30827,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1319430389,"creation_date":1319430389,"answer_id":7871291,"question_id":4414673,"body_markdown":"My $0.02, I found this answer and coded up the proper solution. (Thanks to Alnitak for the HSV tip!)\r\n\r\nFor Copy+Paste:\r\n\r\n      private float interpolate(float a, float b, float proportion) {\r\n        return (a + ((b - a) * proportion));\r\n      }\r\n        \r\n      /** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\r\n      private int interpolateColor(int a, int b, float proportion) {\r\n        float[] hsva = new float[3];\r\n        float[] hsvb = new float[3];\r\n        Color.colorToHSV(a, hsva);\r\n        Color.colorToHSV(b, hsvb);\r\n        for (int i = 0; i &lt; 3; i++) {\r\n          hsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\r\n        }\r\n        return Color.HSVToColor(hsvb);\r\n      }","title":"android color between two colors, based on percentage?","body":"<p>My $0.02, I found this answer and coded up the proper solution. (Thanks to Alnitak for the HSV tip!)</p>\n\n<p>For Copy+Paste:</p>\n\n<pre><code>  private float interpolate(float a, float b, float proportion) {\n    return (a + ((b - a) * proportion));\n  }\n\n  /** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\n  private int interpolateColor(int a, int b, float proportion) {\n    float[] hsva = new float[3];\n    float[] hsvb = new float[3];\n    Color.colorToHSV(a, hsva);\n    Color.colorToHSV(b, hsvb);\n    for (int i = 0; i &lt; 3; i++) {\n      hsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\n    }\n    return Color.HSVToColor(hsvb);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1457682,"reputation":12211,"user_id":1372866,"display_name":"ashakirov"},"score":13,"creation_date":1415201545,"post_id":16174119,"comment_id":42103239,"body_markdown":"+1 for this answer. Cast result to int: `int color = (Integer) new ArgbEvaluator().evaluate(0.75, 0x00ff00, 0xff0000);`","body":"+1 for this answer. Cast result to int: <code>int color = (Integer) new ArgbEvaluator().evaluate(0.75, 0x00ff00, 0xff0000);</code>"},{"owner":{"account_id":2186,"reputation":1115,"user_id":3005,"display_name":"Mike Furtak"},"score":0,"creation_date":1419632034,"post_id":16174119,"comment_id":43740835,"body_markdown":"Note that this class requires API level 11+!","body":"Note that this class requires API level 11+!"},{"owner":{"account_id":5148031,"reputation":673,"user_id":4123403,"display_name":"Eric B."},"score":1,"creation_date":1466792502,"post_id":16174119,"comment_id":63481381,"body_markdown":"To use color resources for this, use `ContextCompat.getColor(context, R.color.my_color)` instead of just the `R.color.my_color` int","body":"To use color resources for this, use <code>ContextCompat.getColor(context, R.color.my_color)</code> instead of just the <code>R.color.my_color</code> int"},{"owner":{"account_id":1212634,"reputation":14544,"user_id":1180898,"accept_rate":93,"display_name":"Amir Uval"},"score":2,"creation_date":1481822723,"post_id":16174119,"comment_id":69540192,"body_markdown":"I wonder why they made ArgbEvaluator work with Objects instead of ints. So many casts and enveloping during animation are unnecessary overhead.","body":"I wonder why they made ArgbEvaluator work with Objects instead of ints. So many casts and enveloping during animation are unnecessary overhead."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1514195342,"post_id":16174119,"comment_id":82904419,"body_markdown":"import android.animation.ArgbEvaluator;","body":"import android.animation.ArgbEvaluator;"},{"owner":{"account_id":1354056,"reputation":1447,"user_id":1292830,"accept_rate":40,"display_name":"Equidamoid"},"score":0,"creation_date":1514560071,"post_id":16174119,"comment_id":83018334,"body_markdown":"@auval that&#39;s how java works. `evaluate(float, X, X)` is a part of generic interface `TypeEvaluator`. Generic parameters have to be objects (unlike c++ templates, for example), so `Integer` has to be used here.","body":"@auval that&#39;s how java works. <code>evaluate(float, X, X)</code> is a part of generic interface <code>TypeEvaluator</code>. Generic parameters have to be objects (unlike c++ templates, for example), so <code>Integer</code> has to be used here."},{"owner":{"account_id":1277874,"reputation":740,"user_id":1232726,"accept_rate":55,"display_name":"filthy_wizard"},"score":0,"creation_date":1550473264,"post_id":16174119,"comment_id":96265988,"body_markdown":"will this actually fade the colour or just jump between the 2 colours?","body":"will this actually fade the colour or just jump between the 2 colours?"}],"tags":[],"owner":{"account_id":1354056,"reputation":1447,"user_id":1292830,"accept_rate":40,"display_name":"Equidamoid"},"comment_count":7,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1366733058,"creation_date":1366733058,"answer_id":16174119,"question_id":4414673,"body_markdown":"You can try using ArgbEvaluator class from android API: http://developer.android.com/reference/android/animation/ArgbEvaluator.html :\r\n\r\n    new ArgbEvaluator().evaluate(0.75, 0x00ff00, 0xff0000);\r\n\r\nNote that there is a bug ( http://code.google.com/p/android/issues/detail?id=36158 ) in alpha channel calculation so you should use values without alpha value.","title":"android color between two colors, based on percentage?","body":"<p>You can try using ArgbEvaluator class from android API: <a href=\"http://developer.android.com/reference/android/animation/ArgbEvaluator.html\">http://developer.android.com/reference/android/animation/ArgbEvaluator.html</a> :</p>\n\n<pre><code>new ArgbEvaluator().evaluate(0.75, 0x00ff00, 0xff0000);\n</code></pre>\n\n<p>Note that there is a bug ( <a href=\"http://code.google.com/p/android/issues/detail?id=36158\">http://code.google.com/p/android/issues/detail?id=36158</a> ) in alpha channel calculation so you should use values without alpha value.</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460014981,"creation_date":1460014981,"answer_id":36469730,"question_id":4414673,"body_markdown":"Here are 2 ways to interpolate:\r\n\r\n\r\n\tprivate static float interpolate(final float a, final float b, final float proportion) {\r\n\t\treturn a + (b - a) * proportion;\r\n\t}\r\n\r\n\t/** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\r\n\tpublic static int interpolateColorHsv(final int a, final int b, final float proportion) {\r\n\t\tfinal float[] hsva = new float[3];\r\n\t\tfinal float[] hsvb = new float[3];\r\n\t\tColor.colorToHSV(a, hsva);\r\n\t\tColor.colorToHSV(b, hsvb);\r\n\t\tfor (int i = 0; i &lt; 3; ++i) {\r\n\t\t\thsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\r\n\t\t}\r\n\t\treturn Color.HSVToColor(hsvb);\r\n\t}\r\n\r\n\tpublic static int interpolateRGB(final int colorA, final int colorB, final float bAmount) {\r\n\t\tfinal float aAmount = 1.0f - bAmount;\r\n\t\tfinal int red = (int) (Color.red(colorA) * aAmount + Color.red(colorB) * bAmount);\r\n\t\tfinal int green = (int) (Color.green(colorA) * aAmount + Color.green(colorB) * bAmount);\r\n\t\tfinal int blue = (int) (Color.blue(colorA) * aAmount + Color.blue(colorB) * bAmount);\r\n\t\treturn Color.rgb(red, green, blue);\r\n\t}","title":"android color between two colors, based on percentage?","body":"<p>Here are 2 ways to interpolate:</p>\n\n<pre><code>private static float interpolate(final float a, final float b, final float proportion) {\n    return a + (b - a) * proportion;\n}\n\n/** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\npublic static int interpolateColorHsv(final int a, final int b, final float proportion) {\n    final float[] hsva = new float[3];\n    final float[] hsvb = new float[3];\n    Color.colorToHSV(a, hsva);\n    Color.colorToHSV(b, hsvb);\n    for (int i = 0; i &lt; 3; ++i) {\n        hsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\n    }\n    return Color.HSVToColor(hsvb);\n}\n\npublic static int interpolateRGB(final int colorA, final int colorB, final float bAmount) {\n    final float aAmount = 1.0f - bAmount;\n    final int red = (int) (Color.red(colorA) * aAmount + Color.red(colorB) * bAmount);\n    final int green = (int) (Color.green(colorA) * aAmount + Color.green(colorB) * bAmount);\n    final int blue = (int) (Color.blue(colorA) * aAmount + Color.blue(colorB) * bAmount);\n    return Color.rgb(red, green, blue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1469231742,"creation_date":1469231742,"answer_id":38536770,"question_id":4414673,"body_markdown":"I just wanted to update [Mark Renouf&#39;s answer][1] to handle alpha channel as well:\r\n\r\n\r\n    private float interpolate(float a, float b, float proportion) {\r\n        return (a + ((b - a) * proportion));\r\n    }\r\n\r\n    /**\r\n     * Returns an interpolated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;\r\n     * proportion = 0, results in color a\r\n     * proportion = 1, results in color b\r\n     */\r\n    private int interpolateColor(int a, int b, float proportion) {\r\n\r\n        if (proportion &gt; 1 || proportion &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;proportion must be [0 - 1]&quot;);\r\n        }\r\n        float[] hsva = new float[3];\r\n        float[] hsvb = new float[3];\r\n        float[] hsv_output = new float[3];\r\n\r\n        Color.colorToHSV(a, hsva);\r\n        Color.colorToHSV(b, hsvb);\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            hsv_output[i] = interpolate(hsva[i], hsvb[i], proportion);\r\n        }\r\n\r\n        int alpha_a = Color.alpha(a);\r\n        int alpha_b = Color.alpha(b);\r\n        float alpha_output = interpolate(alpha_a, alpha_b, proportion);\r\n\r\n        return Color.HSVToColor((int) alpha_output, hsv_output);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7871291/1650674","title":"android color between two colors, based on percentage?","body":"<p>I just wanted to update <a href=\"https://stackoverflow.com/a/7871291/1650674\">Mark Renouf's answer</a> to handle alpha channel as well:</p>\n\n<pre><code>private float interpolate(float a, float b, float proportion) {\n    return (a + ((b - a) * proportion));\n}\n\n/**\n * Returns an interpolated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;\n * proportion = 0, results in color a\n * proportion = 1, results in color b\n */\nprivate int interpolateColor(int a, int b, float proportion) {\n\n    if (proportion &gt; 1 || proportion &lt; 0) {\n        throw new IllegalArgumentException(\"proportion must be [0 - 1]\");\n    }\n    float[] hsva = new float[3];\n    float[] hsvb = new float[3];\n    float[] hsv_output = new float[3];\n\n    Color.colorToHSV(a, hsva);\n    Color.colorToHSV(b, hsvb);\n    for (int i = 0; i &lt; 3; i++) {\n        hsv_output[i] = interpolate(hsva[i], hsvb[i], proportion);\n    }\n\n    int alpha_a = Color.alpha(a);\n    int alpha_b = Color.alpha(b);\n    float alpha_output = interpolate(alpha_a, alpha_b, proportion);\n\n    return Color.HSVToColor((int) alpha_output, hsv_output);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2342562,"reputation":1082,"user_id":2053532,"accept_rate":17,"display_name":"Anton Kizema"},"score":0,"creation_date":1490265240,"post_id":42562967,"comment_id":73039163,"body_markdown":"awesome! Works perfectly","body":"awesome! Works perfectly"}],"tags":[],"owner":{"account_id":9209058,"reputation":1131,"user_id":6843104,"display_name":"J.S.R - Silicornio"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488479053,"creation_date":1488478707,"answer_id":42562967,"question_id":4414673,"body_markdown":"Some of solutions of this thread didn&#39;t work for me, so I create another solution. Maybe it is useful for someone.\r\n\r\n    /**\r\n     * Get the color between two given colors\r\n     * @param colorStart int color start of degradate\r\n     * @param colorEnd int color end of degradate\r\n     * @param percent int percent to apply (0 to 100)\r\n     * @return int color of degradate for given percent\r\n     */\r\n    public static int getColorOfDegradate(int colorStart, int colorEnd, int percent){\r\n        return Color.rgb(\r\n                getColorOfDegradateCalculation(Color.red(colorStart), Color.red(colorEnd), percent),\r\n                getColorOfDegradateCalculation(Color.green(colorStart), Color.green(colorEnd), percent),\r\n                getColorOfDegradateCalculation(Color.blue(colorStart), Color.blue(colorEnd), percent)\r\n        );\r\n    }\r\n\r\n    private static int getColorOfDegradateCalculation(int colorStart, int colorEnd, int percent){\r\n        return ((Math.min(colorStart, colorEnd)*(100-percent)) + (Math.max(colorStart, colorEnd)*percent)) / 100;\r\n    }","title":"android color between two colors, based on percentage?","body":"<p>Some of solutions of this thread didn't work for me, so I create another solution. Maybe it is useful for someone.</p>\n\n<pre><code>/**\n * Get the color between two given colors\n * @param colorStart int color start of degradate\n * @param colorEnd int color end of degradate\n * @param percent int percent to apply (0 to 100)\n * @return int color of degradate for given percent\n */\npublic static int getColorOfDegradate(int colorStart, int colorEnd, int percent){\n    return Color.rgb(\n            getColorOfDegradateCalculation(Color.red(colorStart), Color.red(colorEnd), percent),\n            getColorOfDegradateCalculation(Color.green(colorStart), Color.green(colorEnd), percent),\n            getColorOfDegradateCalculation(Color.blue(colorStart), Color.blue(colorEnd), percent)\n    );\n}\n\nprivate static int getColorOfDegradateCalculation(int colorStart, int colorEnd, int percent){\n    return ((Math.min(colorStart, colorEnd)*(100-percent)) + (Math.max(colorStart, colorEnd)*percent)) / 100;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1630942,"reputation":2451,"user_id":1505493,"accept_rate":43,"display_name":"Karan Sharma"},"score":0,"creation_date":1636547110,"post_id":56756222,"comment_id":123584794,"body_markdown":"short and crisp works like a charm !","body":"short and crisp works like a charm !"}],"tags":[],"owner":{"account_id":2525143,"reputation":2796,"user_id":2194665,"accept_rate":40,"display_name":"mrstif"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1561472445,"creation_date":1561472445,"answer_id":56756222,"question_id":4414673,"body_markdown":"As an updated solution, you can use `ColorUtils#blendARGB` from the [Android support](https://developer.android.com/reference/android/support/v4/graphics/ColorUtils.html#blendARGB(int,%20int,%20float)) or [AndroidX](https://developer.android.com/reference/kotlin/androidx/core/graphics/ColorUtils#blendargb) APIs:\r\n\r\n    val startColor = ContextCompat.getColor(context, R.color.white)\r\n    val endColor = ContextCompat.getColor(context, R.color.yellow)\r\n    ColorUtils.blendARGB(startColor, endColor, 0.75)","title":"android color between two colors, based on percentage?","body":"<p>As an updated solution, you can use <code>ColorUtils#blendARGB</code> from the <a href=\"https://developer.android.com/reference/android/support/v4/graphics/ColorUtils.html#blendARGB(int,%20int,%20float)\" rel=\"noreferrer\">Android support</a> or <a href=\"https://developer.android.com/reference/kotlin/androidx/core/graphics/ColorUtils#blendargb\" rel=\"noreferrer\">AndroidX</a> APIs:</p>\n\n<pre><code>val startColor = ContextCompat.getColor(context, R.color.white)\nval endColor = ContextCompat.getColor(context, R.color.yellow)\nColorUtils.blendARGB(startColor, endColor, 0.75)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4094933,"reputation":3323,"user_id":3361999,"display_name":"Madhur"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666553301,"creation_date":1666553301,"answer_id":74174173,"question_id":4414673,"body_markdown":"In Compose its simple you can use [lerp][1]\r\n\r\nbasically it&#39;s\r\n\r\n&gt; Linearly interpolate between start color and stop color with fraction fraction\r\n&gt; between them.\r\n\r\nfor eg.\r\n\r\n    lerp(\r\n         Color.Red,\r\n         Color.Black,\r\n         fraction // @FloatRange(from = 0.0, to = 1.0)\r\n         )\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/compose/ui/util/package-summary#lerp(kotlin.Float,kotlin.Float,kotlin.Float)","title":"android color between two colors, based on percentage?","body":"<p>In Compose its simple you can use <a href=\"https://developer.android.com/reference/kotlin/androidx/compose/ui/util/package-summary#lerp(kotlin.Float,kotlin.Float,kotlin.Float)\" rel=\"nofollow noreferrer\">lerp</a></p>\n<p>basically it's</p>\n<blockquote>\n<p>Linearly interpolate between start color and stop color with fraction fraction\nbetween them.</p>\n</blockquote>\n<p>for eg.</p>\n<pre><code>lerp(\n     Color.Red,\n     Color.Black,\n     fraction // @FloatRange(from = 0.0, to = 1.0)\n     )\n</code></pre>\n"}],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28931,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":4415113,"answer_count":9,"score":42,"last_activity_date":1674243606,"creation_date":1292030628,"question_id":4414673,"body_markdown":"I would like to calculate the color depending on a percentage value:\r\n\r\n    float percentage = x/total;\r\n    int color;\r\n    if (percentage &gt;= 0.95) {\r\n      color = Color.GREEN;\r\n    } else if (percentage &lt;= 0.5) {\r\n      color = Color.RED;\r\n    } else {\r\n      // color = getColor(Color.Green, Color.RED, percentage);\r\n    }\r\n\r\n\r\nHow can I calculate that last thing? It would be OK if yellow appears at 50%.\r\n\r\nI tried this:\r\n\r\n\tprivate int getColor(int c0, int c1, float p) {\r\n\t\tint a = ave(Color.alpha(c0), Color.alpha(c1), p);\r\n\t\tint r = ave(Color.red(c0), Color.red(c1), p);\r\n\t\tint g = ave(Color.green(c0), Color.green(c1), p);\r\n\t\tint b = ave(Color.blue(c0), Color.blue(c1), p);\r\n\t\treturn Color.argb(a, r, g, b);\r\n\t}\r\n\tprivate int ave(int src, int dst, float p) {\r\n\t\treturn src + java.lang.Math.round(p * (dst - src));\r\n\t}\r\n\r\nWell this works, but I would like the colors at around 50% being more lightend as I use them on a grey background.. how can I accomplish that?\r\n\r\nThanks!\r\n\r\n\r\n**UPDATE**\r\nI tried to convert to YUV like it was suggested in the comments. But I still have the same problem that at 50% it&#39;s to dark.\r\nAdditional in this solution I have at &lt;5% now white as color. If I do not calculate `float y = ave(...);`, but just take `float y = c0.y` it&#39;s a little better, but at &lt;20% I have then cyan color ... I&#39;m not so much into color-formats :-/\r\nMaybe I&#39;m doing something wrong in the calculation? The constants are taken from Wikipedia\r\n\r\n\tpublic class ColorUtils {\r\n\t\r\n\t\tprivate static class Yuv {\r\n\t\t\tpublic float y;\r\n\t\t\tpublic float u;\r\n\t\t\tpublic float v;\r\n\t\r\n\t\t\tpublic Yuv(int c) {\r\n\t\t\t\tint r = Color.red(c);\r\n\t\t\t\tint g = Color.green(c);\r\n\t\t\t\tint b = Color.blue(c);\r\n\t\t\t\tthis.y = 0.299f * r + 0.587f * g + 0.114f * b;\r\n\t\t\t\tthis.u = (b - y) * 0.493f;\r\n\t\t\t\tthis.v = (r - y) * 0.877f;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static int getColor(int color0, int color1, float p) {\r\n\t\t\tYuv c0 = new Yuv(color0);\r\n\t\t\tYuv c1 = new Yuv(color1);\r\n\t\t\tfloat y = ave(c0.y, c1.y, p);\r\n\t\t\tfloat u = ave(c0.u, c1.u, p);\r\n\t\t\tfloat v = ave(c0.v, c1.v, p);\r\n\t\r\n\t\t\tint b = (int) (y + u / 0.493f);\r\n\t\t\tint r = (int) (y + v / 0.877f);\r\n\t\t\tint g = (int) (1.7f * y - 0.509f * r - 0.194f * b);\r\n\t\r\n\t\t\treturn Color.rgb(r, g, b);\r\n\t\t}\r\n\t\r\n\t\tprivate static float ave(float src, float dst, float p) {\r\n\t\t\treturn src + Math.round(p * (dst - src));\r\n\t\t}\r\n\t}","title":"android color between two colors, based on percentage?","body":"<p>I would like to calculate the color depending on a percentage value:</p>\n\n<pre><code>float percentage = x/total;\nint color;\nif (percentage &gt;= 0.95) {\n  color = Color.GREEN;\n} else if (percentage &lt;= 0.5) {\n  color = Color.RED;\n} else {\n  // color = getColor(Color.Green, Color.RED, percentage);\n}\n</code></pre>\n\n<p>How can I calculate that last thing? It would be OK if yellow appears at 50%.</p>\n\n<p>I tried this:</p>\n\n<pre><code>private int getColor(int c0, int c1, float p) {\n    int a = ave(Color.alpha(c0), Color.alpha(c1), p);\n    int r = ave(Color.red(c0), Color.red(c1), p);\n    int g = ave(Color.green(c0), Color.green(c1), p);\n    int b = ave(Color.blue(c0), Color.blue(c1), p);\n    return Color.argb(a, r, g, b);\n}\nprivate int ave(int src, int dst, float p) {\n    return src + java.lang.Math.round(p * (dst - src));\n}\n</code></pre>\n\n<p>Well this works, but I would like the colors at around 50% being more lightend as I use them on a grey background.. how can I accomplish that?</p>\n\n<p>Thanks!</p>\n\n<p><strong>UPDATE</strong>\nI tried to convert to YUV like it was suggested in the comments. But I still have the same problem that at 50% it's to dark.\nAdditional in this solution I have at &lt;5% now white as color. If I do not calculate <code>float y = ave(...);</code>, but just take <code>float y = c0.y</code> it's a little better, but at &lt;20% I have then cyan color ... I'm not so much into color-formats :-/\nMaybe I'm doing something wrong in the calculation? The constants are taken from Wikipedia</p>\n\n<pre><code>public class ColorUtils {\n\n    private static class Yuv {\n        public float y;\n        public float u;\n        public float v;\n\n        public Yuv(int c) {\n            int r = Color.red(c);\n            int g = Color.green(c);\n            int b = Color.blue(c);\n            this.y = 0.299f * r + 0.587f * g + 0.114f * b;\n            this.u = (b - y) * 0.493f;\n            this.v = (r - y) * 0.877f;\n        }\n    }\n\n    public static int getColor(int color0, int color1, float p) {\n        Yuv c0 = new Yuv(color0);\n        Yuv c1 = new Yuv(color1);\n        float y = ave(c0.y, c1.y, p);\n        float u = ave(c0.u, c1.u, p);\n        float v = ave(c0.v, c1.v, p);\n\n        int b = (int) (y + u / 0.493f);\n        int r = (int) (y + v / 0.877f);\n        int g = (int) (1.7f * y - 0.509f * r - 0.194f * b);\n\n        return Color.rgb(r, g, b);\n    }\n\n    private static float ave(float src, float dst, float p) {\n        return src + Math.round(p * (dst - src));\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","encoding","maven-3","resolver"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673945267,"post_id":75143731,"comment_id":132604137,"body_markdown":"See https://issues.apache.org/jira/browse/MRESOLVER-153","body":"See <a href=\"https://issues.apache.org/jira/browse/MRESOLVER-153\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MRESOLVER-153</a>"},{"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"score":0,"creation_date":1673949300,"post_id":75143731,"comment_id":132605480,"body_markdown":"@tgdavies It seems that I have a more recent version than the one in which the issue should have been solved.","body":"@tgdavies It seems that I have a more recent version than the one in which the issue should have been solved."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674028024,"post_id":75143731,"comment_id":132624730,"body_markdown":"Please report that issue ...with the full example project which reproduces that... also helpful would be a full pom file ... also log files etc. would be helpful...","body":"Please report that issue ...with the full example project which reproduces that... also helpful would be a full pom file ... also log files etc. would be helpful..."}],"answers":[{"tags":[],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674243262,"creation_date":1674238757,"answer_id":75187965,"question_id":75143731,"body_markdown":"I know suspect that the broken files get downloaded from Nexus when performing the Maven build anew. \r\n\r\nOn our CI they are built with a somewhat older Maven version and with multiple threads.","title":"Maven writes \\u0000 into resolver-status.properties files, failing subsequent builds","body":"<p>I know suspect that the broken files get downloaded from Nexus when performing the Maven build anew.</p>\n<p>On our CI they are built with a somewhat older Maven version and with multiple threads.</p>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75187965,"answer_count":1,"score":1,"last_activity_date":1674243262,"creation_date":1673944645,"question_id":75143731,"body_markdown":"I am using MacOS and I am using Maven in version 3.8.7. I am using Java in 11.0.17 by Eclipse Temurin.\r\n\r\nSomehow, when building a big Maven project, Maven creates `resolver-status.properties` files that contain invalid characters:\r\n\r\n    .m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:3:\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\r\n    .m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:4:maven-metadata-willhaben-ne\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\r\n    .m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:8:maven-metadata-shibboleth-\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\r\n\r\nA subsequent Maven build is then failing with this error message:\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  6.281 s\r\n    [INFO] Finished at: 2023-01-17T09:19:29+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Malformed \\uxxxx encoding.\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\nThe error is happening when I run Maven both with one thread and with multiple threads.\r\n\r\nHow can I fix my build so that Maven no longer writes `\\u0000` in `resolver-status.properties` files?\r\n\r\n","title":"Maven writes \\u0000 into resolver-status.properties files, failing subsequent builds","body":"<p>I am using MacOS and I am using Maven in version 3.8.7. I am using Java in 11.0.17 by Eclipse Temurin.</p>\n<p>Somehow, when building a big Maven project, Maven creates <code>resolver-status.properties</code> files that contain invalid characters:</p>\n<pre><code>.m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:3:\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\n.m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:4:maven-metadata-willhaben-ne\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\n.m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:8:maven-metadata-shibboleth-\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\n</code></pre>\n<p>A subsequent Maven build is then failing with this error message:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.281 s\n[INFO] Finished at: 2023-01-17T09:19:29+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Malformed \\uxxxx encoding.\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n<p>The error is happening when I run Maven both with one thread and with multiple threads.</p>\n<p>How can I fix my build so that Maven no longer writes <code>\\u0000</code> in <code>resolver-status.properties</code> files?</p>\n"},{"tags":["java","xsd","wsdl","jax-ws","jaxws-maven-plugin"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674242697,"creation_date":1674242697,"question_id":75188560,"body_markdown":"I have in my WSDL file parts like that:\r\n\r\n        &lt;operation name=&quot;PROVIDER&quot;&gt;\r\n            &lt;input message=&quot;s0:PROVIDERSoapIn&quot;/&gt;\r\n            &lt;output message=&quot;s0:PROVIDERSoapOut&quot;/&gt;\r\n        &lt;/operation&gt;\r\n\r\n        &lt;operation name=&quot;PROVIDER&quot;&gt;\r\n            &lt;soap:operation soapAction=&quot;http://someSoapAtion&quot; style=&quot;document&quot;/&gt;\r\n            &lt;input&gt;\r\n                &lt;soap:body use=&quot;literal&quot;/&gt;\r\n            &lt;/input&gt;\r\n            &lt;output&gt;\r\n                &lt;soap:body use=&quot;literal&quot;/&gt;\r\n            &lt;/output&gt;\r\n        &lt;/operation&gt;\r\n\r\nand several \r\n\r\n        &lt;s:attribute name=&quot;PROVIDER&quot; type=&quot;s:string&quot;/&gt;\r\n\r\nin several complex types.\r\n\r\nOn the other hand, I have \r\n\r\n            &lt;s:complexType name=&quot;ArrayOfProviderProvider&quot;&gt;\r\n                &lt;s:sequence&gt;\r\n                    &lt;s:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Provider&quot; nillable=&quot;true&quot; type=&quot;s0:Provider&quot;/&gt;\r\n                &lt;/s:sequence&gt;\r\n            &lt;/s:complexType&gt;\r\n            &lt;s:complexType name=&quot;Provider&quot;&gt;\r\n                &lt;s:attribute name=&quot;SYSCODE&quot; use=&quot;required&quot;&gt;\r\n                    &lt;s:simpleType&gt;\r\n                        &lt;s:restriction base=&quot;s:string&quot;&gt;\r\n                            &lt;s:maxLength value=&quot;25&quot;/&gt;\r\n                        &lt;/s:restriction&gt;\r\n                    &lt;/s:simpleType&gt;\r\n                &lt;/s:attribute&gt;\r\n             ....\r\n\r\nOn generation by `jaxws-maven-plugin` configured as \r\n\r\n            &lt;plugin&gt;\r\n                &lt;!--https://github.com/mojohaus/jaxws-maven-plugin/issues/54--&gt;\r\n                &lt;groupId&gt;com.helger.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;vmArgs&gt;\r\n                        &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\r\n                    &lt;/vmArgs&gt;\r\n                    &lt;args&gt;\r\n                        &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\r\n                    &lt;/args&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;wsdlFiles&gt;\r\n                        &lt;wsdlFile&gt;${project.basedir}/src/main/resources/META-INF/wsdl/our.wsdl.xml&lt;/wsdlFile&gt;\r\n                    &lt;/wsdlFiles&gt;\r\n                    &lt;packageName&gt;com.openpayment.client.kamp&lt;/packageName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nI&#39;m getting the below errors of conflicts between those 2 namings:\r\n\r\n    [INFO] jaxws:wsimport args: [-keep, -s, &#39;ourpathtotarget\\target\\generated-sources\\wsimport&#39;, -d, &#39;ourpathtotarget\\target\\classes&#39;, -verbose, -encoding, UTF-8, -Xnocompile, \r\n    -B-XautoNameResolution, -p, com.openpayment.client.kamp,  &quot;file:/ourpath/src/main/resources/META-INF/wsdl/our.wsdl.xml&quot;]\r\n    parsing WSDL...\r\n    \r\n    \r\n    [ERROR] A class/interface with the same name &quot;com.openpayment.client.kamp.PROVIDER&quot; is already in use. Use a class customization to resolve this conflict.\r\n      line 2639 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\r\n    \r\n    [ERROR] (Relevant to above error) another &quot;Provider&quot; is generated from here.\r\n      line 2691 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\r\n    \r\n    [ERROR] This error is caused because on Windows you cannot have both &quot;Provider.java&quot; and &quot;PROVIDER.java&quot; in the same directory.\r\n    \r\n    \r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n            at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:109)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:99)\r\n    Caused by: com.sun.tools.ws.wscompile.AbortException\r\n            at com.sun.tools.ws.processor.modeler.wsdl.JAXBModelBuilder.bind(JAXBModelBuilder.java:144)\r\n            at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildJAXBModel(WSDLModeler.java:2298)\r\n            at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.internalBuildModel(WSDLModeler.java:198)\r\n            at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildModel(WSDLModeler.java:141)\r\n            at com.sun.tools.ws.wscompile.WsimportTool.buildWsdlModel(WsimportTool.java:444)\r\n            at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:205)\r\n            at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:183)\r\n            ... 5 more\r\n\r\nHow to work this conflict around? Note, that I have no XSD file as it wasn&#39;t provided to me.\r\n","title":"Conflict when generating with jaxws: This error is caused because on Windows you cannot have both &quot;Aa.java&quot; and &quot;AA.java&quot; in the same directory","body":"<p>I have in my WSDL file parts like that:</p>\n<pre><code>    &lt;operation name=&quot;PROVIDER&quot;&gt;\n        &lt;input message=&quot;s0:PROVIDERSoapIn&quot;/&gt;\n        &lt;output message=&quot;s0:PROVIDERSoapOut&quot;/&gt;\n    &lt;/operation&gt;\n\n    &lt;operation name=&quot;PROVIDER&quot;&gt;\n        &lt;soap:operation soapAction=&quot;http://someSoapAtion&quot; style=&quot;document&quot;/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=&quot;literal&quot;/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=&quot;literal&quot;/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n</code></pre>\n<p>and several</p>\n<pre><code>    &lt;s:attribute name=&quot;PROVIDER&quot; type=&quot;s:string&quot;/&gt;\n</code></pre>\n<p>in several complex types.</p>\n<p>On the other hand, I have</p>\n<pre><code>        &lt;s:complexType name=&quot;ArrayOfProviderProvider&quot;&gt;\n            &lt;s:sequence&gt;\n                &lt;s:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Provider&quot; nillable=&quot;true&quot; type=&quot;s0:Provider&quot;/&gt;\n            &lt;/s:sequence&gt;\n        &lt;/s:complexType&gt;\n        &lt;s:complexType name=&quot;Provider&quot;&gt;\n            &lt;s:attribute name=&quot;SYSCODE&quot; use=&quot;required&quot;&gt;\n                &lt;s:simpleType&gt;\n                    &lt;s:restriction base=&quot;s:string&quot;&gt;\n                        &lt;s:maxLength value=&quot;25&quot;/&gt;\n                    &lt;/s:restriction&gt;\n                &lt;/s:simpleType&gt;\n            &lt;/s:attribute&gt;\n         ....\n</code></pre>\n<p>On generation by <code>jaxws-maven-plugin</code> configured as</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;!--https://github.com/mojohaus/jaxws-maven-plugin/issues/54--&gt;\n            &lt;groupId&gt;com.helger.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;vmArgs&gt;\n                    &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\n                &lt;/vmArgs&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;${project.basedir}/src/main/resources/META-INF/wsdl/our.wsdl.xml&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;packageName&gt;com.openpayment.client.kamp&lt;/packageName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I'm getting the below errors of conflicts between those 2 namings:</p>\n<pre><code>[INFO] jaxws:wsimport args: [-keep, -s, 'ourpathtotarget\\target\\generated-sources\\wsimport', -d, 'ourpathtotarget\\target\\classes', -verbose, -encoding, UTF-8, -Xnocompile, \n-B-XautoNameResolution, -p, com.openpayment.client.kamp,  &quot;file:/ourpath/src/main/resources/META-INF/wsdl/our.wsdl.xml&quot;]\nparsing WSDL...\n\n\n[ERROR] A class/interface with the same name &quot;com.openpayment.client.kamp.PROVIDER&quot; is already in use. Use a class customization to resolve this conflict.\n  line 2639 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\n\n[ERROR] (Relevant to above error) another &quot;Provider&quot; is generated from here.\n  line 2691 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\n\n[ERROR] This error is caused because on Windows you cannot have both &quot;Provider.java&quot; and &quot;PROVIDER.java&quot; in the same directory.\n\n\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:109)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:99)\nCaused by: com.sun.tools.ws.wscompile.AbortException\n        at com.sun.tools.ws.processor.modeler.wsdl.JAXBModelBuilder.bind(JAXBModelBuilder.java:144)\n        at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildJAXBModel(WSDLModeler.java:2298)\n        at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.internalBuildModel(WSDLModeler.java:198)\n        at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildModel(WSDLModeler.java:141)\n        at com.sun.tools.ws.wscompile.WsimportTool.buildWsdlModel(WsimportTool.java:444)\n        at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:205)\n        at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:183)\n        ... 5 more\n</code></pre>\n<p>How to work this conflict around? Note, that I have no XSD file as it wasn't provided to me.</p>\n"},{"tags":["java","javascript","scriptengine"],"answers":[{"comments":[{"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"score":0,"creation_date":1321014766,"post_id":8094004,"comment_id":9921808,"body_markdown":"I have 6 files.And i need to add them all before calling eval.","body":"I have 6 files.And i need to add them all before calling eval."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1321015083,"post_id":8094004,"comment_id":9921891,"body_markdown":"@Ademiban Can&#39;t you call eval() multiple times?","body":"@Ademiban Can&#39;t you call eval() multiple times?"},{"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"score":0,"creation_date":1321015252,"post_id":8094004,"comment_id":9921938,"body_markdown":"No some of my js-es are using functions from others.","body":"No some of my js-es are using functions from others."},{"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"score":0,"creation_date":1321015928,"post_id":8094004,"comment_id":9922105,"body_markdown":"You were right :D sorry... if I call eval multiple times ScriptEngine keeps functions and variables from last calls.thanks ))","body":"You were right :D sorry... if I call eval multiple times ScriptEngine keeps functions and variables from last calls.thanks ))"},{"owner":{"account_id":7002837,"reputation":159,"user_id":5368302,"accept_rate":18,"display_name":"Coded9"},"score":0,"creation_date":1517911416,"post_id":8094004,"comment_id":84276987,"body_markdown":"@shift66 are you able to call one js function from another file,can you please post the code.","body":"@shift66 are you able to call one js function from another file,can you please post the code."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1517915091,"post_id":8094004,"comment_id":84279424,"body_markdown":"@Coded9 Please don’t resurrect ancient comment exchanges. If you’re facing a problem this answer doesn’t address, post a new question that describes it appropriately. That said, doing what I said in my answer did let shift66 call functions across files, so it should be possible for you - just call eval() on all your JS sources using the same `ScriptEngine` instance.","body":"@Coded9 Please don’t resurrect ancient comment exchanges. If you’re facing a problem this answer doesn’t address, post a new question that describes it appropriately. That said, doing what I said in my answer did let shift66 call functions across files, so it should be possible for you - just call eval() on all your JS sources using the same <code>ScriptEngine</code> instance."},{"owner":{"account_id":7002837,"reputation":159,"user_id":5368302,"accept_rate":18,"display_name":"Coded9"},"score":0,"creation_date":1517915736,"post_id":8094004,"comment_id":84279854,"body_markdown":"@millimoose that works  for me ,but here I&#39;m using ext js ,it is throwing errors when loading the files","body":"@millimoose that works  for me ,but here I&#39;m using ext js ,it is throwing errors when loading the files"},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1517916876,"post_id":8094004,"comment_id":84280593,"body_markdown":"@Coded9 Did you miss the part where I said to post a new, proper question? It is **very** bad form to cling on whoever pays you any attention, and be lazy at explaining your problem because you assume that its similarity to this five-year old question means I’ll read your mind.","body":"@Coded9 Did you miss the part where I said to post a new, proper question? It is <b>very</b> bad form to cling on whoever pays you any attention, and be lazy at explaining your problem because you assume that its similarity to this five-year old question means I’ll read your mind."}],"tags":[],"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"comment_count":8,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1321014568,"creation_date":1321014568,"answer_id":8094004,"question_id":8093968,"body_markdown":"You can use the overload [`eval(Reader)`][1] to avoid having to load scripts into a `String` yourself.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html#eval%28java.io.Reader%29","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>You can use the overload <a href=\"http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html#eval%28java.io.Reader%29\" rel=\"noreferrer\"><code>eval(Reader)</code></a> to avoid having to load scripts into a <code>String</code> yourself.</p>\n"},{"comments":[{"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"score":0,"creation_date":1321015367,"post_id":8094106,"comment_id":9921977,"body_markdown":"You don&#39;t understand my question.","body":"You don&#39;t understand my question."}],"tags":[],"owner":{"account_id":1026806,"reputation":993,"user_id":1035945,"accept_rate":100,"display_name":"Kevin Anthony Oppegaard Rose"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321015178,"creation_date":1321015178,"answer_id":8094106,"question_id":8093968,"body_markdown":"You could use one script to call the other 6 scripts.\r\n\r\nExample:\r\n\r\n    function callOtherFunctions() {\r\n       functionOne();\r\n       functionTwo();\r\n       .\r\n       .\r\n       .\r\n       functionSix();\r\n    }\r\n\r\nNot 100% sure how good that solution will work but it will call all other 6 functions.","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>You could use one script to call the other 6 scripts.</p>\n\n<p>Example:</p>\n\n<pre><code>function callOtherFunctions() {\n   functionOne();\n   functionTwo();\n   .\n   .\n   .\n   functionSix();\n}\n</code></pre>\n\n<p>Not 100% sure how good that solution will work but it will call all other 6 functions.</p>\n"},{"tags":[],"owner":{"account_id":4220736,"reputation":603,"user_id":3455589,"display_name":"hmojica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674242157,"creation_date":1674242157,"answer_id":75188489,"question_id":8093968,"body_markdown":"Run eval multiple times using the same ScriptContext.\r\n\r\nIn the next example I need to run Utils.js script before running MainScript.js because Utils.js is defining some functions I need in MainScript.js, I always think of this order as the way these scripts will appear in an HTML page of I were to execute this in a browser:\r\n\r\n        String scriptsUtilsFilePath = &quot;src/test/resources/scripts/Utils.js&quot;;\r\n        String mainScriptFilePath = &quot;src/test/resources/scripts/MainScript.js&quot;;\r\n\r\n        // Get the script engine manager\r\n        ScriptContext newContext = new SimpleScriptContext();\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;nashorn&quot;);// Newest Javascript engine\r\n\r\n        // Run Utils\r\n        engine.eval(new FileReader(scriptsUtilsFilePath), newContext);\r\n\r\n        // Run the Main Script\r\n        engine.eval(new FileReader(mainScriptFilePath), newContext);","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>Run eval multiple times using the same ScriptContext.</p>\n<p>In the next example I need to run Utils.js script before running MainScript.js because Utils.js is defining some functions I need in MainScript.js, I always think of this order as the way these scripts will appear in an HTML page of I were to execute this in a browser:</p>\n<pre><code>    String scriptsUtilsFilePath = &quot;src/test/resources/scripts/Utils.js&quot;;\n    String mainScriptFilePath = &quot;src/test/resources/scripts/MainScript.js&quot;;\n\n    // Get the script engine manager\n    ScriptContext newContext = new SimpleScriptContext();\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(&quot;nashorn&quot;);// Newest Javascript engine\n\n    // Run Utils\n    engine.eval(new FileReader(scriptsUtilsFilePath), newContext);\n\n    // Run the Main Script\n    engine.eval(new FileReader(mainScriptFilePath), newContext);\n</code></pre>\n"}],"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2788,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8094004,"answer_count":3,"score":5,"last_activity_date":1674242157,"creation_date":1321014368,"question_id":8093968,"body_markdown":"I have 6 js files and I need to include them all into final script to pass ScriptEngine&#39;s eval method.How can I do it? ScriptEngine haven&#39;t add() method.I can read them with FileReader and than concatenate those strings but I think there will be a better way.","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>I have 6 js files and I need to include them all into final script to pass ScriptEngine's eval method.How can I do it? ScriptEngine haven't add() method.I can read them with FileReader and than concatenate those strings but I think there will be a better way.</p>\n"},{"tags":["java","spring-kafka","distributed-system","open-telemetry","jaeger"],"comments":[{"owner":{"account_id":2228695,"reputation":883,"user_id":1966876,"accept_rate":100,"display_name":"hdost"},"score":1,"creation_date":1681286956,"post_id":73265976,"comment_id":134030449,"body_markdown":"Without knowning more details it&#39;s hard to say. Can you provide the versions of the agent, and any relevant components.If you can also provide minimal example of the relevant code, that is also helpful.","body":"Without knowning more details it&#39;s hard to say. Can you provide the versions of the agent, and any relevant components.If you can also provide minimal example of the relevant code, that is also helpful."}],"owner":{"account_id":10067157,"reputation":59,"user_id":7442005,"display_name":"Gourava Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1674241212,"creation_date":1659861379,"question_id":73265976,"body_markdown":"I am using spring kafka in a distributed microservice and opentelemetry java agent to generate traces. The consumer is receiving the traceparent ID in header, however, the opentelemetry agent is not able to create a new span under the existing trace ID. Rather it is creating a new trace ID for each services, due to which the traces for microservices are not getting stiched.\r\n\r\nIs there a way I can fix this using manual instrumentation?","title":"New traceparent id created in spring kafka in batch mode for distributed services - Disjoint traces","body":"<p>I am using spring kafka in a distributed microservice and opentelemetry java agent to generate traces. The consumer is receiving the traceparent ID in header, however, the opentelemetry agent is not able to create a new span under the existing trace ID. Rather it is creating a new trace ID for each services, due to which the traces for microservices are not getting stiched.</p>\n<p>Is there a way I can fix this using manual instrumentation?</p>\n"},{"tags":["java","loops","methods"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1674229339,"post_id":75186206,"comment_id":132676584,"body_markdown":"read up on java lambda expressions","body":"read up on java lambda expressions"},{"owner":{"account_id":27581799,"reputation":1,"user_id":21050856,"display_name":"Adrian Maciuca"},"score":0,"creation_date":1674229882,"post_id":75186206,"comment_id":132676759,"body_markdown":"@OldProgrammer Could you show me an example? I see that it is probably what I need but I don&#39;t quite understand.","body":"@OldProgrammer Could you show me an example? I see that it is probably what I need but I don&#39;t quite understand."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1674229898,"post_id":75186206,"comment_id":132676767,"body_markdown":"Indeed. You can use `Function&lt;WhatEverTypeIsInMyList, String&gt;` as declaration, and `WhatEverTypeIsInMyList::getFirstName`, `WhatEverTypeIsInMyList::getLastName`, etc. as values. To compare the value, just use `myFunc.apply(myList[i]).equals(input)`.","body":"Indeed. You can use <code>Function&lt;WhatEverTypeIsInMyList, String&gt;</code> as declaration, and <code>WhatEverTypeIsInMyList::getFirstName</code>, <code>WhatEverTypeIsInMyList::getLastName</code>, etc. as values. To compare the value, just use <code>myFunc.apply(myList[i]).equals(input)</code>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1674230909,"post_id":75186206,"comment_id":132677116,"body_markdown":"A good start is using good names: `myList` is obviously not in fact a `List` but an *array*, but regardless should typically be named as the plural of the type of objects holds, which you haven&#39;t told us. Please tell us the type returned from `event.getSource()`, the array type of `myList` and the reason you are using arrays instead of Lists.","body":"A good start is using good names: <code>myList</code> is obviously not in fact a <code>List</code> but an <i>array</i>, but regardless should typically be named as the plural of the type of objects holds, which you haven&#39;t told us. Please tell us the type returned from <code>event.getSource()</code>, the array type of <code>myList</code> and the reason you are using arrays instead of Lists."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1674241367,"post_id":75186206,"comment_id":132680400,"body_markdown":"And once you created your unified method, I&#39;d suggest you create a separate `ActionListener` per button so you don&#39;t have to query the event source initially.","body":"And once you created your unified method, I&#39;d suggest you create a separate <code>ActionListener</code> per button so you don&#39;t have to query the event source initially."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674231380,"creation_date":1674231380,"answer_id":75186652,"question_id":75186206,"body_markdown":"Assume that `myList` is an array of class `MyList`.  \r\nAdd the following method to class `MyList`.\r\n```java\r\npublic class MyList {\r\n    public String getValue(String key) {\r\n        return switch (key) {\r\n                   case &quot;first name&quot; -&gt; getFirstName();\r\n                   case &quot;last name&quot; -&gt; getLastName();\r\n                   case &quot;username&quot; -&gt; getUsername();\r\n                   case &quot;domain name&quot; -&gt; getDomainName();\r\n                   case &quot;domain extension&quot; -&gt; getDomainExtension();\r\n               }\r\n    }\r\n}\r\n```\r\nThe above method uses [switch expressions][1] which were added in Java 12.\r\n\r\nAssume the code in your question is from an [actionPerformed][2] method.  \r\nAssume that `firstNameButton`, `lastNameButton`, etc, are all [JButton][3]s.  \r\nThen you can assign an appropriate _action command_ to each, for example:\r\n```java\r\nfirstNameButton.setActionCommand(&quot;first name&quot;);\r\n```\r\nNow your `actionPerformed` method can be reduced to:\r\n```java\r\npublic void actionPerformed(java.awt.event.ActionEvent event) {\r\n    String actionCommand = event.getActionCommand();\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getValue(actionCommand).equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n}\r\n```\r\nAlternatively, you can use the [stream API][4]:\r\n```java\r\npublic void actionPerformed(java.awt.event.ActionEvent event) {\r\n    String actionCommand = event.getActionCommand();\r\n    java.util.Arrays.stream(myList)\r\n                    .filter(m -&gt; m.getValue(actionCommand).equals(input))\r\n                    .findFirst()\r\n                    .ifPresent(m -&gt; {\r\n                                   returnList[returnLength] = myList[i];\r\n                                   returnLength++;\r\n                               });\r\n}\r\n```\r\nNote that method `findFirst` returns an object of type [Optional][5].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\r\n  [4]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>Assume that <code>myList</code> is an array of class <code>MyList</code>.<br />\nAdd the following method to class <code>MyList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyList {\n    public String getValue(String key) {\n        return switch (key) {\n                   case &quot;first name&quot; -&gt; getFirstName();\n                   case &quot;last name&quot; -&gt; getLastName();\n                   case &quot;username&quot; -&gt; getUsername();\n                   case &quot;domain name&quot; -&gt; getDomainName();\n                   case &quot;domain extension&quot; -&gt; getDomainExtension();\n               }\n    }\n}\n</code></pre>\n<p>The above method uses <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch expressions</a> which were added in Java 12.</p>\n<p>Assume the code in your question is from an <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">actionPerformed</a> method.<br />\nAssume that <code>firstNameButton</code>, <code>lastNameButton</code>, etc, are all <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">JButton</a>s.<br />\nThen you can assign an appropriate <em>action command</em> to each, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>firstNameButton.setActionCommand(&quot;first name&quot;);\n</code></pre>\n<p>Now your <code>actionPerformed</code> method can be reduced to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(java.awt.event.ActionEvent event) {\n    String actionCommand = event.getActionCommand();\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getValue(actionCommand).equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n}\n</code></pre>\n<p>Alternatively, you can use the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(java.awt.event.ActionEvent event) {\n    String actionCommand = event.getActionCommand();\n    java.util.Arrays.stream(myList)\n                    .filter(m -&gt; m.getValue(actionCommand).equals(input))\n                    .findFirst()\n                    .ifPresent(m -&gt; {\n                                   returnList[returnLength] = myList[i];\n                                   returnLength++;\n                               });\n}\n</code></pre>\n<p>Note that method <code>findFirst</code> returns an object of type <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a>.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674231648,"creation_date":1674231648,"answer_id":75186710,"question_id":75186206,"body_markdown":"Create an abstraction for extracting data from your object. You need something which accepts argument of type your custom class and return string result, [Function][1] will do, but you can create your own as well. Extract the repetition to a method, using the abstraction:\r\n```\r\nprivate void myMethod(MyObject[] myList, Function&lt;MyObject, String&gt; valueExtractor, String input) {\r\n  for (int i = 0; i &lt; myList.length; i++) {\r\n    if (valueExtractor.apply(myList[i]).equals(input)) {\r\n      //do required stuff\r\n    }\r\n  }\r\n}\r\n```\r\nYou can still use `if-else` to get the correct extractor, but i would suggest to use a [Map][2] instead to keep the keys and their respective extraction functions:\r\n```\r\nMap&lt;String, Function&lt;MyObject, String&gt;&gt; map = Map.of(&quot;firstNameButton&quot;, MyObject::getFirstName, \r\n  &quot;lastNameButton&quot;, MyObject::getLastName);\r\nFunction&lt;MyObject, String&gt; extractor = map.get(event.getSource());\r\nmyMethod(theList, extractor, theInput);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>Create an abstraction for extracting data from your object. You need something which accepts argument of type your custom class and return string result, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> will do, but you can create your own as well. Extract the repetition to a method, using the abstraction:</p>\n<pre><code>private void myMethod(MyObject[] myList, Function&lt;MyObject, String&gt; valueExtractor, String input) {\n  for (int i = 0; i &lt; myList.length; i++) {\n    if (valueExtractor.apply(myList[i]).equals(input)) {\n      //do required stuff\n    }\n  }\n}\n</code></pre>\n<p>You can still use <code>if-else</code> to get the correct extractor, but i would suggest to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> instead to keep the keys and their respective extraction functions:</p>\n<pre><code>Map&lt;String, Function&lt;MyObject, String&gt;&gt; map = Map.of(&quot;firstNameButton&quot;, MyObject::getFirstName, \n  &quot;lastNameButton&quot;, MyObject::getLastName);\nFunction&lt;MyObject, String&gt; extractor = map.get(event.getSource());\nmyMethod(theList, extractor, theInput);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674241129,"creation_date":1674241129,"answer_id":75188329,"question_id":75186206,"body_markdown":"Here is an &quot;Old Dog&quot; approach:\r\n\r\nRepeated or nearly repeated sections of code can be often be reduced with arrays and / or `Collection` Objects, loops, and methods. What parts of the nearly repeated code are the same, and what parts are different? \r\n\r\n      if (event.getSource() == *********Button) {\r\n          inputType = &quot;**********&quot;;\r\n          for (int i = 0; i &lt; myList.length; i++) {\r\n              if (myList[i].get*********().equals(input)) {\r\n                  returnList[returnLength] = myList[i];\r\n                  returnLength++;\r\n        }\r\n    }\r\n\r\nI replaced the parts of the O/P code that vary with `*********`. \r\n\r\nI have to make some assumptions here.\r\n\r\nThe array `myList` is apparently an array of some sort of `Object`, with various `get`er methods that return some sort of `Object`, probably a `String`. But, I&#39;ll use `Bar` in this example:\r\n\r\nSuppose `myList` is an array of `Foo`. The beginning of the code for `Foo` might look something like this: \r\n\r\n     public class Foo { \r\n        private Bar firstName, lastName, userName, domainName, domainExtension;  \r\n\r\nYou could add this method:\r\n\r\n     public Bar getNameAttribute (int attributeKey) { \r\n       switch (attributeKey) { \r\n    \r\n         case 0: \r\n           return firstName;\r\n           break;\r\n        case 1: \r\n           return lastName;\r\n           break;\r\n        case 2:\r\n           ...\r\n        default:\r\n           return null;\r\n           break;\r\n       } \r\n    }\r\n\r\nNow, the various `~Button` variables are reference types. It&#39;s reasonable to assume that, once they are created and initialized, the references will not be changed to point to some other button. In fact, use of `event.getSource () ==` implies that is the case. So, let us use an array to reference them, in addition to referencing them using their individual reference names. I&#39;ll assume they are Objects of `JButton` type:\r\n\r\n     JButton [] nameButton = { firstNameButton, lastNameButton, userNameButton\r\n                , domainNameButton, domainExtensionButton };\r\n     String [] eventType = {&quot;first  name&quot;, &quot;last name&quot;, &quot;user name&quot;\r\n                , &quot;domain name&quot;, &quot;domain extension&quot; };\r\n              \r\n\r\n      for (int k = 0; k &lt; nameButton.length; k++) { \r\n         if (event.getSource() == nameButton [k] { \r\n            for (int i = 0; i &lt; myList.length; i++) { \r\n               if (mylList[i].getNameAttribute[k].equals(input)){\r\n                  returnList[returnLength] = myList[i];\r\n                  returnLength++;\r\n               }\r\n            }\r\n            break;\r\n         }\r\n      }\r\n\r\nNotes:\r\n------\r\n\r\nUse of `switch` in the `getNameAttribute` method assumes references to the various names can be changed. For example, `Foo foo1 = new Foo (...); ... foo1.setFirstName (new Bar (&quot;Jones&quot;));` If, after creation and initialization, references to all of the names are fixed, the `getNameAttribute` code can be reduced by using an array of aliases, as was done with the Buttons. ","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>Here is an &quot;Old Dog&quot; approach:</p>\n<p>Repeated or nearly repeated sections of code can be often be reduced with arrays and / or <code>Collection</code> Objects, loops, and methods. What parts of the nearly repeated code are the same, and what parts are different?</p>\n<pre><code>  if (event.getSource() == *********Button) {\n      inputType = &quot;**********&quot;;\n      for (int i = 0; i &lt; myList.length; i++) {\n          if (myList[i].get*********().equals(input)) {\n              returnList[returnLength] = myList[i];\n              returnLength++;\n    }\n}\n</code></pre>\n<p>I replaced the parts of the O/P code that vary with <code>*********</code>.</p>\n<p>I have to make some assumptions here.</p>\n<p>The array <code>myList</code> is apparently an array of some sort of <code>Object</code>, with various <code>get</code>er methods that return some sort of <code>Object</code>, probably a <code>String</code>. But, I'll use <code>Bar</code> in this example:</p>\n<p>Suppose <code>myList</code> is an array of <code>Foo</code>. The beginning of the code for <code>Foo</code> might look something like this:</p>\n<pre><code> public class Foo { \n    private Bar firstName, lastName, userName, domainName, domainExtension;  \n</code></pre>\n<p>You could add this method:</p>\n<pre><code> public Bar getNameAttribute (int attributeKey) { \n   switch (attributeKey) { \n\n     case 0: \n       return firstName;\n       break;\n    case 1: \n       return lastName;\n       break;\n    case 2:\n       ...\n    default:\n       return null;\n       break;\n   } \n}\n</code></pre>\n<p>Now, the various <code>~Button</code> variables are reference types. It's reasonable to assume that, once they are created and initialized, the references will not be changed to point to some other button. In fact, use of <code>event.getSource () ==</code> implies that is the case. So, let us use an array to reference them, in addition to referencing them using their individual reference names. I'll assume they are Objects of <code>JButton</code> type:</p>\n<pre><code> JButton [] nameButton = { firstNameButton, lastNameButton, userNameButton\n            , domainNameButton, domainExtensionButton };\n String [] eventType = {&quot;first  name&quot;, &quot;last name&quot;, &quot;user name&quot;\n            , &quot;domain name&quot;, &quot;domain extension&quot; };\n          \n\n  for (int k = 0; k &lt; nameButton.length; k++) { \n     if (event.getSource() == nameButton [k] { \n        for (int i = 0; i &lt; myList.length; i++) { \n           if (mylList[i].getNameAttribute[k].equals(input)){\n              returnList[returnLength] = myList[i];\n              returnLength++;\n           }\n        }\n        break;\n     }\n  }\n</code></pre>\n<h2>Notes:</h2>\n<p>Use of <code>switch</code> in the <code>getNameAttribute</code> method assumes references to the various names can be changed. For example, <code>Foo foo1 = new Foo (...); ... foo1.setFirstName (new Bar (&quot;Jones&quot;));</code> If, after creation and initialization, references to all of the names are fixed, the <code>getNameAttribute</code> code can be reduced by using an array of aliases, as was done with the Buttons.</p>\n"}],"owner":{"account_id":27581799,"reputation":1,"user_id":21050856,"display_name":"Adrian Maciuca"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1674241129,"creation_date":1674229035,"question_id":75186206,"body_markdown":"I&#39;ve written a very repetitive piece of code (as seen below) and I feel that there has to be some way to use a method to make it more concise, but I cannot figure out how.\r\n\r\nThis is the current code snippet:\r\n\r\n``` java\r\nif (event.getSource() == firstNameButton) {\r\n    inputType = &quot;first name&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getFirstName().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == lastNameButton) {\r\n    inputType = &quot;last name&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getLastName().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == usernameButton) {\r\n    inputType = &quot;username&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getUsername().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == domainNameButton) {\r\n    inputType = &quot;domain name&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getDomainName().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == domainExtensionButton) {\r\n    inputType = &quot;domain extension&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getDomainExtension().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n}\r\n```\r\nThe only things changing are what `inputType` gets assigned to, which I would be able to write a method for, but I am also changing what method I apply to `myList[i]`. Is there a way to write a method with a method parameter?\r\n","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>I've written a very repetitive piece of code (as seen below) and I feel that there has to be some way to use a method to make it more concise, but I cannot figure out how.</p>\n<p>This is the current code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (event.getSource() == firstNameButton) {\n    inputType = &quot;first name&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getFirstName().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == lastNameButton) {\n    inputType = &quot;last name&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getLastName().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == usernameButton) {\n    inputType = &quot;username&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getUsername().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == domainNameButton) {\n    inputType = &quot;domain name&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getDomainName().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == domainExtensionButton) {\n    inputType = &quot;domain extension&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getDomainExtension().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n}\n</code></pre>\n<p>The only things changing are what <code>inputType</code> gets assigned to, which I would be able to write a method for, but I am also changing what method I apply to <code>myList[i]</code>. Is there a way to write a method with a method parameter?</p>\n"},{"tags":["java","android","android-activity","menu","custom-activity"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674243469,"post_id":75188314,"comment_id":132680948,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27583129,"reputation":1,"user_id":21051900,"display_name":"Farzad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674241000,"creation_date":1674241000,"question_id":75188314,"body_markdown":"How to create custom menu like image sample?(java-android-android studio)\r\n\r\nCan use the library for this?!\r\n\r\n[enter image description here](https://i.stack.imgur.com/CxgHD.jpg)\r\n\r\nI don&#39;t create this activity and menu!\r\nI use fragment for activity but i can&#39;t create menu and activity &#128532;!","title":"How to create Custom menu and activity","body":"<p>How to create custom menu like image sample?(java-android-android studio)</p>\n<p>Can use the library for this?!</p>\n<p><a href=\"https://i.stack.imgur.com/CxgHD.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't create this activity and menu!\nI use fragment for activity but i can't create menu and activity 😔!</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":3,"creation_date":1674236013,"post_id":75187455,"comment_id":132678803,"body_markdown":"Try `.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)`","body":"Try <code>.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)</code>"},{"owner":{"account_id":383533,"reputation":394,"user_id":739451,"accept_rate":100,"display_name":"Vishnu Kumar"},"score":1,"creation_date":1674236401,"post_id":75187455,"comment_id":132678942,"body_markdown":"This worked, Thanks. I can see that you are matching the word starting with `*` and ending with `&quot;`, how did the `&quot;` get replaced?","body":"This worked, Thanks. I can see that you are matching the word starting with <code>*</code> and ending with <code>&quot;</code>, how did the <code>&quot;</code> get replaced?"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1674240511,"creation_date":1674240511,"answer_id":75188238,"question_id":75187455,"body_markdown":"You can use\r\n```none\r\n.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)\r\n```\r\n*Details*:\r\n\r\n - `(\\*\\w+)` - Group 1 (`$1` refers to the text captured in this group)\r\n - `&quot;` - a `&quot;` char (just matched, not captured, so eventually removed).","title":"Regex to replace the character after pattern match","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)\n</code></pre>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(\\*\\w+)</code> - Group 1 (<code>$1</code> refers to the text captured in this group)</li>\n<li><code>&quot;</code> - a <code>&quot;</code> char (just matched, not captured, so eventually removed).</li>\n</ul>\n"}],"owner":{"account_id":383533,"reputation":394,"user_id":739451,"accept_rate":100,"display_name":"Vishnu Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":75188238,"answer_count":1,"score":1,"last_activity_date":1674240511,"creation_date":1674235802,"question_id":75187455,"body_markdown":"For my Java app, i have a string that looks like:\r\n```\r\nvalue1: *sample&quot;, test\r\ntest: &quot;test&quot;\r\nnewtest: *newtest&quot;\r\n```\r\nI need to match the character `&quot;` when the string starts with `*`.&lt;br&gt;\r\nTried the regex:\r\n`&quot;(?!.*&quot;)`\r\nBut this selected all the `&quot;` in the input.&lt;br&gt;\r\nWas planning to `replaceAll(regex, &quot;&quot;)` to remove the character.\r\n\r\nDesired Output:\r\n```\r\nvalue1: *sample, test\r\ntest: &quot;test&quot;\r\nnewtest: *newtest\r\n```\r\n\r\nHow do i get this output?","title":"Regex to replace the character after pattern match","body":"<p>For my Java app, i have a string that looks like:</p>\n<pre><code>value1: *sample&quot;, test\ntest: &quot;test&quot;\nnewtest: *newtest&quot;\n</code></pre>\n<p>I need to match the character <code>&quot;</code> when the string starts with <code>*</code>.<br>\nTried the regex:\n<code>&quot;(?!.*&quot;)</code>\nBut this selected all the <code>&quot;</code> in the input.<br>\nWas planning to <code>replaceAll(regex, &quot;&quot;)</code> to remove the character.</p>\n<p>Desired Output:</p>\n<pre><code>value1: *sample, test\ntest: &quot;test&quot;\nnewtest: *newtest\n</code></pre>\n<p>How do i get this output?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9510,"page":713,"page_size":100}
