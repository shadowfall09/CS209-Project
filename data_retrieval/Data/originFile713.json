{"items":[{"tags":["java","http","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674229895,"creation_date":1674229895,"answer_id":75186365,"question_id":75186341,"body_markdown":"You can add a hidden input in the form containing the user id.\r\n\r\n```html\r\n&lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;293710&quot;/&gt;\r\n```","title":"How to add a parameter to the URL of a profile in Java Servlet","body":"<p>You can add a hidden input in the form containing the user id.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;293710&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":27511508,"reputation":13,"user_id":20993323,"display_name":"Michelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75186365,"answer_count":1,"score":1,"last_activity_date":1674229895,"creation_date":1674229742,"question_id":75186341,"body_markdown":"I have a JSP - File where you can see the User information, such as name ect (Like a profile). Now I want to create a Link, where you can access profiles with a unique code (that the user created) in the url. For example /webproject/user?id=293710\r\n\r\nSo the way this currently works is like that:\r\nYou are able to login with your data, after you login, you&#39;re redirected to a dashboard with buttons, where you can view your profile, edit data etc. Here is a snippet:\r\n\r\n```\r\n&lt;form method=&quot;GET&quot; action=&quot;UserServlet&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; class=&quot;buttontClass&quot; value=&quot;view Profile&quot; /&gt;\r\n&lt;/form&gt;\r\n```\r\nNow when you press the button you get redirected to a view of your profile with your information excluding your password. It does show the information correctly, however it does not show the needed parameters in the URL. It&#39;s just a blank url=&quot;/webproject/user?&quot; \r\nHow can I change the URL to show for example the UserID? \r\n\r\nI need the URL to be able to show the User Information of other Users with different ID&#39;s, and not just of the User in the Session. So when I edit the URL manually with a different ID, I need to see other User&#39;s profiles\r\n\r\nThanks in advance","title":"How to add a parameter to the URL of a profile in Java Servlet","body":"<p>I have a JSP - File where you can see the User information, such as name ect (Like a profile). Now I want to create a Link, where you can access profiles with a unique code (that the user created) in the url. For example /webproject/user?id=293710</p>\n<p>So the way this currently works is like that:\nYou are able to login with your data, after you login, you're redirected to a dashboard with buttons, where you can view your profile, edit data etc. Here is a snippet:</p>\n<pre><code>&lt;form method=&quot;GET&quot; action=&quot;UserServlet&quot;&gt;\n    &lt;input type=&quot;submit&quot; class=&quot;buttontClass&quot; value=&quot;view Profile&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Now when you press the button you get redirected to a view of your profile with your information excluding your password. It does show the information correctly, however it does not show the needed parameters in the URL. It's just a blank url=&quot;/webproject/user?&quot;\nHow can I change the URL to show for example the UserID?</p>\n<p>I need the URL to be able to show the User Information of other Users with different ID's, and not just of the User in the Session. So when I edit the URL manually with a different ID, I need to see other User's profiles</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","windows","processing","fullscreen","renderer"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674665120,"post_id":75186285,"comment_id":132764342,"body_markdown":"Did you file a bug report for this? If not: remember to file a bug report.","body":"Did you file a bug report for this? If not: remember to file a bug report."},{"owner":{"account_id":17714724,"reputation":31,"user_id":12861377,"display_name":"Hubbit200"},"score":0,"creation_date":1674818254,"post_id":75186285,"comment_id":132798876,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans  unfortunately there&#39;s already an [issue](https://github.com/processing/processing4/issues/514) which was created over half a year ago with no progress... And unfortunately I&#39;m far from experienced enough to work out how to fix it!","body":"@Mike&#39;Pomax&#39;Kamermans  unfortunately there&#39;s already an <a href=\"https://github.com/processing/processing4/issues/514\" rel=\"nofollow noreferrer\">issue</a> which was created over half a year ago with no progress... And unfortunately I&#39;m far from experienced enough to work out how to fix it!"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1674841439,"post_id":75186285,"comment_id":132806519,"body_markdown":"of course, it would be unrealistic to expect anyone why uses a program to also know how to _fix_ that program =) But if there is an issue then you can post a comment on it to mention that you also ran into this with the STR for your own use case, so that the maintainters get a notification that there&#39;s activity. They&#39;re just regular folks too, if an issue falls by the wayside, the best way to surface it is to have activity on it =)","body":"of course, it would be unrealistic to expect anyone why uses a program to also know how to <i>fix</i> that program =) But if there is an issue then you can post a comment on it to mention that you also ran into this with the STR for your own use case, so that the maintainters get a notification that there&#39;s activity. They&#39;re just regular folks too, if an issue falls by the wayside, the best way to surface it is to have activity on it =)"}],"owner":{"account_id":17714724,"reputation":31,"user_id":12861377,"display_name":"Hubbit200"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674229484,"creation_date":1674229484,"question_id":75186285,"body_markdown":"In Processing 4, with the renderer set to P2D, `fullScreen()` does not make the window fullscreen as expected if Windows scaling is set to anything other than 100% (for example at 125%, the window will fill around 3/4 of the screen). `width` and `height` also report resolutions lower than the screen&#39;s, even though `displayWidth` and `displayHeight` correctly state that it&#39;s 1920x1080.\r\n\r\nThis issue occurs only in the exported application, not in the Processing editor. It also doesn&#39;t happen with the default renderer or when using Processing 3.\r\n\r\nI&#39;ve tried everything I can think of to resolve this - but the only thing I can think of so far is to compare `displayWidth` with `width` (and the same with height) once the program is open, and if they don&#39;t match, show a message to the user telling them to switch to windowed mode. I also considered just using `size(displayWidth, displayHeight)`, but I can&#39;t work out how to hide the taskbar with that.\r\n\r\nAny ideas? I&#39;d really prefer P2D over the default renderer because of performance and shaders...\r\n\r\nThanks!\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\r\nThe example image has the following code:\r\n\r\n    void settings(){\r\n    \r\n      fullScreen(P2D); }\r\n    \r\n    void setup(){\r\n    \r\n      background(255,0,0); }\r\n\r\n[![Example of incorrect sizing with fullScreen()][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ILcuv.png","title":"fullScreen() broken in Processing P2D when Windows is scaled","body":"<p>In Processing 4, with the renderer set to P2D, <code>fullScreen()</code> does not make the window fullscreen as expected if Windows scaling is set to anything other than 100% (for example at 125%, the window will fill around 3/4 of the screen). <code>width</code> and <code>height</code> also report resolutions lower than the screen's, even though <code>displayWidth</code> and <code>displayHeight</code> correctly state that it's 1920x1080.</p>\n<p>This issue occurs only in the exported application, not in the Processing editor. It also doesn't happen with the default renderer or when using Processing 3.</p>\n<p>I've tried everything I can think of to resolve this - but the only thing I can think of so far is to compare <code>displayWidth</code> with <code>width</code> (and the same with height) once the program is open, and if they don't match, show a message to the user telling them to switch to windowed mode. I also considered just using <code>size(displayWidth, displayHeight)</code>, but I can't work out how to hide the taskbar with that.</p>\n<p>Any ideas? I'd really prefer P2D over the default renderer because of performance and shaders...</p>\n<p>Thanks!\n<br><br><br></p>\n<p>The example image has the following code:</p>\n<pre><code>void settings(){\n\n  fullScreen(P2D); }\n\nvoid setup(){\n\n  background(255,0,0); }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ILcuv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ILcuv.png\" alt=\"Example of incorrect sizing with fullScreen()\" /></a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674299016,"post_id":75186169,"comment_id":132687728,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27581658,"reputation":1,"user_id":21050742,"display_name":"Jk Bazar Mart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674229236,"creation_date":1674228813,"question_id":75186169,"body_markdown":"Struggling to fix Top Panel Black Issue in Android Studio. tomorrow its working fine but today open android studio the mouse pointer showing incorrect and when click to position was incorrect.\r\n\r\nCheck Screenshot\r\n\r\n[Screenhot][1]\r\n\r\n\r\n\r\n\r\nLots time check to uninstall and install but not work and also restart android studio but no success.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kcmru.png","title":"Android Studio Eel Editor Top Panel Showing Black and Mouse Pointer Incorrect","body":"<p>Struggling to fix Top Panel Black Issue in Android Studio. tomorrow its working fine but today open android studio the mouse pointer showing incorrect and when click to position was incorrect.</p>\n<p>Check Screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/kcmru.png\" rel=\"nofollow noreferrer\">Screenhot</a></p>\n<p>Lots time check to uninstall and install but not work and also restart android studio but no success.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;ř"},"score":0,"creation_date":1674227575,"post_id":75185298,"comment_id":132675918,"body_markdown":"Yes, the root folder of it is on Desktop and I renamed it to `kafka` (removed the versions from name). I did `cd kafka`, so it moved me into kafka root level. And java which I use is 8. \nI was also trying it even with the name with the versions and I also tried to put the folder right under C: - didn&#39;t help.","body":"Yes, the root folder of it is on Desktop and I renamed it to <code>kafka</code> (removed the versions from name). I did <code>cd kafka</code>, so it moved me into kafka root level. And java which I use is 8.  I was also trying it even with the name with the versions and I also tried to put the folder right under C: - didn&#39;t help."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674228726,"post_id":75185298,"comment_id":132676334,"body_markdown":"it definitively has problems running on Windows - I got `java.io.FileNotFoundException: \\tmp\\kafka\\bin\\..\\config\\tools-log4j.properties` despite the file being there and being readable, but note the ``\\`` - backslashes should not be used for *nix or similar - in my case I suppose the problem is because it is using the WIndows Java (despite being in a *nix (simulated?) environment)","body":"it definitively has problems running on Windows - I got <code>java.io.FileNotFoundException: \\tmp\\kafka\\bin\\..\\config\\tools-log4j.properties</code> despite the file being there and being readable, but note the <code>\\</code> - backslashes should not be used for *nix or similar - in my case I suppose the problem is because it is using the WIndows Java (despite being in a *nix (simulated?) environment)"},{"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;ř"},"score":0,"creation_date":1674228982,"post_id":75185298,"comment_id":132676437,"body_markdown":"This helped. Thank you for your time.\nhttps://www.geeksforgeeks.org/how-to-install-and-run-apache-kafka-on-windows/\nClosing the ticket.","body":"This helped. Thank you for your time. <a href=\"https://www.geeksforgeeks.org/how-to-install-and-run-apache-kafka-on-windows/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a> Closing the ticket."}],"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;ř"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674234644,"answer_count":0,"score":0,"last_activity_date":1674229066,"creation_date":1674224518,"question_id":75185298,"body_markdown":"I&#39;m trying to prepare my Kafka by following the quickstart: https://kafka.apache.org/quickstart &lt;br&gt;\r\nI&#39;m trying to do the Step 2: Start the Kafka environment with KRaft: &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo I tried to put the `KAFKA_CLUSTER_ID=&quot;$(bin/kafka-storage.sh random-uuid)&quot;` to the Bash in the Kafka root folder and got following error: &lt;b&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j9FaH.png\r\n  [2]: https://i.stack.imgur.com/G5dYF.png\r\n\r\nDoes anyone know how to solve this?","title":"KAFKA: Error: Could not find or load main class kafka.tools.StorageTool","body":"<p>I'm trying to prepare my Kafka by following the quickstart: <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">https://kafka.apache.org/quickstart</a> <br>\nI'm trying to do the Step 2: Start the Kafka environment with KRaft: <br></p>\n<p><a href=\"https://i.stack.imgur.com/j9FaH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9FaH.png\" alt=\"enter image description here\" /></a></p>\n<p>So I tried to put the <code>KAFKA_CLUSTER_ID=&quot;$(bin/kafka-storage.sh random-uuid)&quot;</code> to the Bash in the Kafka root folder and got following error: </p>\n<p><a href=\"https://i.stack.imgur.com/G5dYF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5dYF.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674228446,"post_id":75186031,"comment_id":132676240,"body_markdown":"[`a + a == Integer.MIN_VALUE` (`ideone.com`)](https://ideone.com/tSHvbx).","body":"<a href=\"https://ideone.com/tSHvbx\" rel=\"nofollow noreferrer\"><code>a + a == Integer.MIN_VALUE</code> (<code>ideone.com</code>)</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674230093,"post_id":75186031,"comment_id":132676844,"body_markdown":"&quot;f would be fractional&quot; why fractional? &quot;due to integer division&quot; which division?","body":"&quot;f would be fractional&quot; why fractional? &quot;due to integer division&quot; which division?"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674228479,"creation_date":1674228479,"answer_id":75186107,"question_id":75186031,"body_markdown":"In the first case `a + a` overflows to `Integer.MIN_VALUE`, then you switch to a `double` context with `-1.0` which gives a negative number (`Integer.MIN_VALUE - 1`), since a `double` can hold a number smaller than `Integer.MIN_VALUE`.\r\n\r\nIn the second example you stay in an `int` context, which means that `a + a` overflows to `Integer.MIN_VALUE`, then subtracting 1 from that underflows and takes you back to `Integer.MAX_VALUE`.","title":"Why does misusing 1 instead of 1.0 from an int exceeding limits effect the value we get when we convert it to a double","body":"<p>In the first case <code>a + a</code> overflows to <code>Integer.MIN_VALUE</code>, then you switch to a <code>double</code> context with <code>-1.0</code> which gives a negative number (<code>Integer.MIN_VALUE - 1</code>), since a <code>double</code> can hold a number smaller than <code>Integer.MIN_VALUE</code>.</p>\n<p>In the second example you stay in an <code>int</code> context, which means that <code>a + a</code> overflows to <code>Integer.MIN_VALUE</code>, then subtracting 1 from that underflows and takes you back to <code>Integer.MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674229058,"creation_date":1674228708,"answer_id":75186145,"question_id":75186031,"body_markdown":"Taking this apart step by step reveals the answer.\r\n\r\nFirst, we observe that `a + a == Integer.MIN_VALUE` [&lt;kbd&gt;`Ideone.com` demo&lt;/kbd&gt;][ideone].\r\n\r\nNext, if the expression `a + a - 1.0` is evaluated, it is evaluated from left to right, i.e. it is equivalent to `(a + a) - 1.0`, which is equivalent to `Integer.MIN_VALUE - 1.0`. Since the right hand side is a `double`, `Integer.MIN_VALUE` is converted to `double` as well, and the result is negative.\r\n\r\nFinally, if the expression `a + a - 1` is evaluated, it is equivalent to `Integer.MIN_VALUE - 1`. The whole operation is done in the `int`-space with ring arithmetic, and subracting `1` from the `MIN_VALUE` evaluates to the `MAX_VALUE`.\r\n\r\n[ideone]: https://ideone.com/tSHvbx","title":"Why does misusing 1 instead of 1.0 from an int exceeding limits effect the value we get when we convert it to a double","body":"<p>Taking this apart step by step reveals the answer.</p>\n<p>First, we observe that <code>a + a == Integer.MIN_VALUE</code> <a href=\"https://ideone.com/tSHvbx\" rel=\"nofollow noreferrer\"><kbd><code>Ideone.com</code> demo</kbd></a>.</p>\n<p>Next, if the expression <code>a + a - 1.0</code> is evaluated, it is evaluated from left to right, i.e. it is equivalent to <code>(a + a) - 1.0</code>, which is equivalent to <code>Integer.MIN_VALUE - 1.0</code>. Since the right hand side is a <code>double</code>, <code>Integer.MIN_VALUE</code> is converted to <code>double</code> as well, and the result is negative.</p>\n<p>Finally, if the expression <code>a + a - 1</code> is evaluated, it is equivalent to <code>Integer.MIN_VALUE - 1</code>. The whole operation is done in the <code>int</code>-space with ring arithmetic, and subracting <code>1</code> from the <code>MIN_VALUE</code> evaluates to the <code>MAX_VALUE</code>.</p>\n"}],"owner":{"account_id":27581654,"reputation":11,"user_id":21050739,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75186107,"answer_count":2,"score":0,"last_activity_date":1674229058,"creation_date":1674228109,"question_id":75186031,"body_markdown":"This is the code I will be using...\r\n\r\n    public class foo {\r\n        \r\n        public static void main(String [] args){\r\n            int a = (int) Math.pow(2, 30);\r\n    \r\n            double d = (a + a - 1.0);\r\n            double f = (a + a - 1);\r\n    \r\n            System.out.println(d);\r\n            System.out.println(f);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe outputs are -2.147483649E9 and 2.147483647E9.\r\n\r\nI do not understand why these values are printed out. It is my understanding that a + a will exceed the limits of int and therefore will switch to being negative, however, f is positive. I would expect both to be negative but f would be fractional whilst d would be an double with a point 0 due to integer division.\r\n","title":"Why does misusing 1 instead of 1.0 from an int exceeding limits effect the value we get when we convert it to a double","body":"<p>This is the code I will be using...</p>\n<pre><code>public class foo {\n    \n    public static void main(String [] args){\n        int a = (int) Math.pow(2, 30);\n\n        double d = (a + a - 1.0);\n        double f = (a + a - 1);\n\n        System.out.println(d);\n        System.out.println(f);\n    }\n\n\n}\n</code></pre>\n<p>The outputs are -2.147483649E9 and 2.147483647E9.</p>\n<p>I do not understand why these values are printed out. It is my understanding that a + a will exceed the limits of int and therefore will switch to being negative, however, f is positive. I would expect both to be negative but f would be fractional whilst d would be an double with a point 0 due to integer division.</p>\n"},{"tags":["java","decimal"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1674146502,"post_id":75175494,"comment_id":132657252,"body_markdown":"Does this answer your question? [How to round a number to n decimal places in Java](https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java)  Read **all** answers.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\">How to round a number to n decimal places in Java</a>  Read <b>all</b> answers."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1674148987,"post_id":75175494,"comment_id":132658206,"body_markdown":"A `double` value does not have a specific number of decimal places, at least not a modifiable one.  And because few rational numbers are exactly representable as type `double`, your hypothetical value rounded to a certain number of places often cannot be represented as a `double` whose (exact) decimal representation has an all-zero tail starting after the specified number of digits.  So what do you *really* want?","body":"A <code>double</code> value does not have a specific number of decimal places, at least not a modifiable one.  And because few rational numbers are exactly representable as type <code>double</code>, your hypothetical value rounded to a certain number of places often cannot be represented as a <code>double</code> whose (exact) decimal representation has an all-zero tail starting after the specified number of digits.  So what do you <i>really</i> want?"}],"answers":[{"tags":[],"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674149088,"creation_date":1674146778,"answer_id":75175606,"question_id":75175494,"body_markdown":"You can do this using BigDeciaml class as below:\r\n\r\n    double rounded = new BigDecimal(double_variable).setScale(3 /*number_of_decimals*/, BigDecimal.ROUND_HALF_UP).doubleValue();\r\n\r\nChange second parameter as needed.","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>You can do this using BigDeciaml class as below:</p>\n<pre><code>double rounded = new BigDecimal(double_variable).setScale(3 /*number_of_decimals*/, BigDecimal.ROUND_HALF_UP).doubleValue();\n</code></pre>\n<p>Change second parameter as needed.</p>\n"},{"tags":[],"owner":{"account_id":19593557,"reputation":9,"user_id":14340074,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674148233,"creation_date":1674147538,"answer_id":75175764,"question_id":75175494,"body_markdown":"    float f = 1.2232f;\r\n        \r\n    int place = 2;\r\n        \r\n    String s = String.valueOf(f);\r\n    String newS = s.substring(0,s.length() - place);\r\n        \r\n    System.out.println(Float.valueOf(newS));\r\n\r\n\r\nFirst convert your decimal number in `String`.\r\nGet the substring be eliminating the last values. \r\nConvert it back to a decimal number.","title":"How do I write a function in java to return decimals to a given number of places?","body":"<pre><code>float f = 1.2232f;\n    \nint place = 2;\n    \nString s = String.valueOf(f);\nString newS = s.substring(0,s.length() - place);\n    \nSystem.out.println(Float.valueOf(newS));\n</code></pre>\n<p>First convert your decimal number in <code>String</code>.\nGet the substring be eliminating the last values.\nConvert it back to a decimal number.</p>\n"},{"tags":[],"owner":{"account_id":8842857,"reputation":23,"user_id":6604739,"display_name":"user6604739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674148504,"creation_date":1674148504,"answer_id":75175927,"question_id":75175494,"body_markdown":"This, I think, is the recommended solution.\r\n\r\n       String.format(&quot;%.3f&quot;, myFloat);\r\n","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>This, I think, is the recommended solution.</p>\n<pre><code>   String.format(&quot;%.3f&quot;, myFloat);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674149805,"creation_date":1674149805,"answer_id":75176176,"question_id":75175494,"body_markdown":"You might be trying to do the following:\r\n\r\n    return Math.round(((double)numerator / denominator) * Math.pow(10,places))\r\n           / Math.pow(10,places);\r\n\r\nHowever, it&#39;s not recommended:\r\n\r\n1. The type `double` represents numbers in base 2, so it cannot precisely store all numbers to base 10; in other words it will store numbers to 3 decimal places only approximately.\r\n\r\n2. Decimal places is something that is only meaningful when you print a number. Therefore, it&#39;s better to keep the whole precision and just print out at the end using `System.out.printf(&quot;%.3f&quot;, number)`","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>You might be trying to do the following:</p>\n<pre><code>return Math.round(((double)numerator / denominator) * Math.pow(10,places))\n       / Math.pow(10,places);\n</code></pre>\n<p>However, it's not recommended:</p>\n<ol>\n<li><p>The type <code>double</code> represents numbers in base 2, so it cannot precisely store all numbers to base 10; in other words it will store numbers to 3 decimal places only approximately.</p>\n</li>\n<li><p>Decimal places is something that is only meaningful when you print a number. Therefore, it's better to keep the whole precision and just print out at the end using <code>System.out.printf(&quot;%.3f&quot;, number)</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":24041162,"reputation":1,"user_id":18020800,"display_name":"YareYareDaze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674218602,"answer_count":4,"score":0,"last_activity_date":1674228856,"creation_date":1674146346,"question_id":75175494,"body_markdown":"Suppose I have a function double toDecimal(int numerator, int denominator, int places);\r\n\r\nHow would I write it so that I get the decimal value to the fixed number of places asked for?\r\n\r\n```java\r\n return Math.round((double) numerator * Math.pow(10, places)) /\r\n            (denominator * Math.pow(10, places));\r\n```\r\n\r\nI tried this but on testing even when I add decimals with more places the tests passed when they shouldn&#39;t be.","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>Suppose I have a function double toDecimal(int numerator, int denominator, int places);</p>\n<p>How would I write it so that I get the decimal value to the fixed number of places asked for?</p>\n<pre class=\"lang-java prettyprint-override\"><code> return Math.round((double) numerator * Math.pow(10, places)) /\n            (denominator * Math.pow(10, places));\n</code></pre>\n<p>I tried this but on testing even when I add decimals with more places the tests passed when they shouldn't be.</p>\n"},{"tags":["java","split","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674228637,"creation_date":1674228637,"answer_id":75186137,"question_id":75173856,"body_markdown":"Since split creates a new exchange for each element and copies exchange properties from the parent exchange you&#39;ll need to use **reference type** instead of value type. For integer you could use `AtomicInteger` or create your own wrapper class to hold your integer value.\r\n\r\n```java\r\nfrom(&quot;direct:test&quot;)\r\n    .setProperty(&quot;recordNumber&quot;).exchange(ex -&gt; new AtomicInteger(0))\r\n    .split(body())\r\n        .process(ex -&gt; {\r\n            AtomicInteger recordNumber = ex.getProperty(&quot;recordNumber&quot;, AtomicInteger.class);\r\n            recordNumber.set(recordNumber.get() + 1);\r\n            ex.setProperty(&quot;recordNumber&quot;, recordNumber);\r\n        })\r\n        .log(&quot;Split: ${exchangeProperty.recordNumber}&quot;)\r\n    .end()\r\n    .log(&quot;Result: ${exchangeProperty.recordNumber}&quot;)\r\n;\r\n```\r\n\r\nIf you just need index of the split element you can just use the CamelSplitIndex [property](https://camel.apache.org/components/latest/eips/split-eip.html#_exchange_properties) which camel automatically sets for each split element.\r\n\r\nSplit works best with lists that contain items that you want to process individually. For example you might have list of ID&#39;s which you want to use to fetch more data from a REST-API. But for basic loops it&#39;s generally simpler to just a custom processor and plain java. ","title":"How to get exchange property updated in processor upon each splitting iteration","body":"<p>Since split creates a new exchange for each element and copies exchange properties from the parent exchange you'll need to use <strong>reference type</strong> instead of value type. For integer you could use <code>AtomicInteger</code> or create your own wrapper class to hold your integer value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:test&quot;)\n    .setProperty(&quot;recordNumber&quot;).exchange(ex -&gt; new AtomicInteger(0))\n    .split(body())\n        .process(ex -&gt; {\n            AtomicInteger recordNumber = ex.getProperty(&quot;recordNumber&quot;, AtomicInteger.class);\n            recordNumber.set(recordNumber.get() + 1);\n            ex.setProperty(&quot;recordNumber&quot;, recordNumber);\n        })\n        .log(&quot;Split: ${exchangeProperty.recordNumber}&quot;)\n    .end()\n    .log(&quot;Result: ${exchangeProperty.recordNumber}&quot;)\n;\n</code></pre>\n<p>If you just need index of the split element you can just use the CamelSplitIndex <a href=\"https://camel.apache.org/components/latest/eips/split-eip.html#_exchange_properties\" rel=\"nofollow noreferrer\">property</a> which camel automatically sets for each split element.</p>\n<p>Split works best with lists that contain items that you want to process individually. For example you might have list of ID's which you want to use to fetch more data from a REST-API. But for basic loops it's generally simpler to just a custom processor and plain java.</p>\n"}],"owner":{"account_id":27444364,"reputation":21,"user_id":20938428,"display_name":"Shabnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674228637,"creation_date":1674138641,"question_id":75173856,"body_markdown":"I need a exchange property value which Iam updating in processor after split\r\nLike,\r\n\r\n```\r\n.process(new Processor() {\r\nexchange.setProperty(&quot;recordNumber&quot;, 0);\r\n}\r\n})\r\n.split(body(), new PreservePropertyonSplitAggregationStrategy())\r\n.process(new Processor() {\r\n@Override\r\npublic void process(Exchange exchange) throws Exception {\r\nint recordNumber = (int) exchange.getProperty(&quot;recordNumber&quot;); //I need updated value on each split iteration\r\n\r\nif(type1RecordList.get(i).getSagaiDossierNumber().equals(type1RecordList.get(i+1).getSagaiDossierNumber())) {\t\t\t\t\t\t\t\r\nexchange.setProperty(&quot;recordNumber&quot;, i+1); //Iam updating this recordNumber based on condition\t\t}\r\n}\r\n})\r\n.end();\r\n```\r\n //split ends\r\n\r\n//Here is my AggregationStrategy\r\n```\r\npublic class PreservePropertyonSplitAggregationStrategy implements AggregationStrategy {\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\r\n    \t\r\n    \tint recordNumber = (int) newExchange.getProperty(&quot;recordNumber&quot;);\r\n    \t\r\n        if (oldExchange == null) {\r\n\t\t\t\tnewExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\r\n            return newExchange;\r\n        } \r\n        else {\r\n        \trecordNumber = (int) oldExchange.getProperty(&quot;recordNumber&quot;);\r\n\t\t\t\t\toldExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\r\n            return oldExchange;\r\n        }\t\r\n    }    \t\r\n}\r\n```\r\n\r\n\r\nKindly help.\r\n\r\nIn AggeregationStrategy am getting updated value from new exchange but unable get the same in the next consecutive processor.","title":"How to get exchange property updated in processor upon each splitting iteration","body":"<p>I need a exchange property value which Iam updating in processor after split\nLike,</p>\n<pre><code>.process(new Processor() {\nexchange.setProperty(&quot;recordNumber&quot;, 0);\n}\n})\n.split(body(), new PreservePropertyonSplitAggregationStrategy())\n.process(new Processor() {\n@Override\npublic void process(Exchange exchange) throws Exception {\nint recordNumber = (int) exchange.getProperty(&quot;recordNumber&quot;); //I need updated value on each split iteration\n\nif(type1RecordList.get(i).getSagaiDossierNumber().equals(type1RecordList.get(i+1).getSagaiDossierNumber())) {                           \nexchange.setProperty(&quot;recordNumber&quot;, i+1); //Iam updating this recordNumber based on condition      }\n}\n})\n.end();\n</code></pre>\n<p>//split ends</p>\n<p>//Here is my AggregationStrategy</p>\n<pre><code>public class PreservePropertyonSplitAggregationStrategy implements AggregationStrategy {\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\n        \n        int recordNumber = (int) newExchange.getProperty(&quot;recordNumber&quot;);\n        \n        if (oldExchange == null) {\n                newExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\n            return newExchange;\n        } \n        else {\n            recordNumber = (int) oldExchange.getProperty(&quot;recordNumber&quot;);\n                    oldExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\n            return oldExchange;\n        }   \n    }       \n}\n</code></pre>\n<p>Kindly help.</p>\n<p>In AggeregationStrategy am getting updated value from new exchange but unable get the same in the next consecutive processor.</p>\n"},{"tags":["java","machine-learning","genetic-algorithm","jenetics"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674233128,"post_id":75186134,"comment_id":132677884,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":464675,"reputation":834,"user_id":868337,"display_name":"Franz Wilhelmst&#246;tter"},"score":0,"creation_date":1674242980,"post_id":75186134,"comment_id":132680814,"body_markdown":"Yes, without example code its very hard to give any advice ;-)","body":"Yes, without example code its very hard to give any advice ;-)"}],"owner":{"account_id":26122650,"reputation":1,"user_id":19814680,"display_name":"Pivigor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674228624,"creation_date":1674228624,"question_id":75186134,"body_markdown":"I am trying to solve a problem using a genetic algorithm:\r\n- A gene stores ints approximately in the range of 0 to 500.\r\n- The size of one genotype is approximately in the range of 10 to 10000.\r\n- This genotype looks like: \\[13, 476, 3, 89...\\]\r\n- The population of one generation is 100.\r\n- The number of generations is 10000.\r\n- I made a fitness function. It gives a score in the range of 0 to 1 (type double).\r\n\r\n# First try\r\nI wrote my *genetic algorithm*. I wrote it as simply as possible, because I was not sure that it would work at all.\r\n\r\nWith these parameters, it gives a result of approximately **0.91** fitness. This is a good result, but I&#39;m sure that I can achieve a result of at least **0.97** fitness.\r\nBut my algorithm is starting to lose performance. He continues to improve the result, but the progress of this improvement is extremely slow.\r\n\r\n# Second try\r\nI decided to try something different. Using my fitness function I implemented *Jenetics library* with all by default and population = 100. The genotype is the same as in the first case.\r\n\r\n10000 generations gave a result of about **0.27** fitness. At the same time, the fitness of the first generation is approximately **0.20-0.23**. And he reaches the result of **0.27** fitness in about 100 generations, after which **progress stops**.\r\n\r\n# Question\r\nWhy? All parameters are by default, I did not change anything at all (except for the population size).\r\nWhat have I done wrong? Please explain and tell me what parameters should be given to this library. I&#39;m not very good at genetic algorithms.\r\n\r\nThe problem is that **progress is not moving** at all. In my algorithm, it moves, slowly but surely.\r\n\r\nI tried changing offspringSelector(). I tried different ones with different values. In my algorithm, I use something similar to EliteSelector(1).\r\nI tried changing alterers(). Here too I have tried various combinations of classes with different values. In my algorithm, I use something similar to SinglePointCrossover(1) + Mutator(0.1).\r\n\r\nI have no need to repeat my algorithm. I want to achieve a similar result using the *Jenetics* implementation.\r\nOr at least for fitness to just start growing, and **not stop at the very beginning**.","title":"Java Jenetics lib. Fitness progress stops in the first few generations","body":"<p>I am trying to solve a problem using a genetic algorithm:</p>\n<ul>\n<li>A gene stores ints approximately in the range of 0 to 500.</li>\n<li>The size of one genotype is approximately in the range of 10 to 10000.</li>\n<li>This genotype looks like: [13, 476, 3, 89...]</li>\n<li>The population of one generation is 100.</li>\n<li>The number of generations is 10000.</li>\n<li>I made a fitness function. It gives a score in the range of 0 to 1 (type double).</li>\n</ul>\n<h1>First try</h1>\n<p>I wrote my <em>genetic algorithm</em>. I wrote it as simply as possible, because I was not sure that it would work at all.</p>\n<p>With these parameters, it gives a result of approximately <strong>0.91</strong> fitness. This is a good result, but I'm sure that I can achieve a result of at least <strong>0.97</strong> fitness.\nBut my algorithm is starting to lose performance. He continues to improve the result, but the progress of this improvement is extremely slow.</p>\n<h1>Second try</h1>\n<p>I decided to try something different. Using my fitness function I implemented <em>Jenetics library</em> with all by default and population = 100. The genotype is the same as in the first case.</p>\n<p>10000 generations gave a result of about <strong>0.27</strong> fitness. At the same time, the fitness of the first generation is approximately <strong>0.20-0.23</strong>. And he reaches the result of <strong>0.27</strong> fitness in about 100 generations, after which <strong>progress stops</strong>.</p>\n<h1>Question</h1>\n<p>Why? All parameters are by default, I did not change anything at all (except for the population size).\nWhat have I done wrong? Please explain and tell me what parameters should be given to this library. I'm not very good at genetic algorithms.</p>\n<p>The problem is that <strong>progress is not moving</strong> at all. In my algorithm, it moves, slowly but surely.</p>\n<p>I tried changing offspringSelector(). I tried different ones with different values. In my algorithm, I use something similar to EliteSelector(1).\nI tried changing alterers(). Here too I have tried various combinations of classes with different values. In my algorithm, I use something similar to SinglePointCrossover(1) + Mutator(0.1).</p>\n<p>I have no need to repeat my algorithm. I want to achieve a similar result using the <em>Jenetics</em> implementation.\nOr at least for fitness to just start growing, and <strong>not stop at the very beginning</strong>.</p>\n"},{"tags":["java","json","spring","mongodb","jackson"],"answers":[{"tags":[],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1336159132,"creation_date":1336159132,"answer_id":10454877,"question_id":9065042,"body_markdown":"I had to just make the getId() method return a String. It was the only way to make Jackson stop serializing the ObjectId.\r\n\r\n    public String getId() {\r\n        if (id != null) {\r\n            return id.toString();\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void setId(ObjectId id) {\r\n        this.id = id;\r\n    }\r\n\r\nsetId() still has to be ObjectId so Mongo (and its driver) can set the ID correctly. ","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>I had to just make the getId() method return a String. It was the only way to make Jackson stop serializing the ObjectId.</p>\n\n<pre><code>public String getId() {\n    if (id != null) {\n        return id.toString();\n    } else {\n        return null;\n    }\n}\n\npublic void setId(ObjectId id) {\n    this.id = id;\n}\n</code></pre>\n\n<p>setId() still has to be ObjectId so Mongo (and its driver) can set the ID correctly. </p>\n"},{"tags":[],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1349962898,"creation_date":1349962898,"answer_id":12840947,"question_id":9065042,"body_markdown":"Previous answer did the trick, but it was ugly and not well thought out - a clear workaround to actually fixing the problem.\r\n\r\nThe real issue is that [`ObjectId`][1] deserializes into its component parts. `MappingJacksonJsonView` sees [`ObjectId`][1] for what it is, an object, and goes to work on it. The deserialized fields being seen in the JSON are the fields that make up an [`ObjectId`][1]. To stop the serialization/deserialization of such an object, you have to configure a `CustomObjectMapper` that extends [`ObjectMapper`][2].\r\n\r\nHere is the `CustomeObjectMapper`:\r\n\r\n    public class CustomObjectMapper extends ObjectMapper {\r\n\r\n        public CustomObjectMapper() {\r\n            CustomSerializerFactory sf = new CustomSerializerFactory();\r\n            sf.addSpecificMapping(ObjectId.class, new ObjectIdSerializer());\r\n            this.setSerializerFactory(sf);\r\n        }\r\n    }\r\n\r\n\r\nHere is the `ObjectIdSerializer` that the `CustomObjectMapper` uses:\r\n\r\n    public class ObjectIdSerializer extends SerializerBase&lt;ObjectId&gt; {\r\n\r\n        protected ObjectIdSerializer(Class&lt;ObjectId&gt; t) {\r\n            super(t);\r\n        }\r\n\r\n        public ObjectIdSerializer() {\r\n            this(ObjectId.class);\r\n        }\r\n\r\n        @Override\r\n        public void serialize(ObjectId value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\r\n            jgen.writeString(value.toString());\r\n        }\r\n    }\r\n\r\nAnd here is what needs to change in your `@Configuration`-annotated class:\r\n\r\n    @Bean(name = &quot;jsonView&quot;)\r\n    public MappingJacksonJsonView jsonView() {\r\n        final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\r\n        mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\r\n        mappingJacksonJsonView.setObjectMapper(new CustomObjectMapper());\r\n        return mappingJacksonJsonView;\r\n    }\r\n\r\nYou are basically telling Jackson how to serialize/deserialize this particular object. Works like a charm.\r\n\r\n\r\n  [1]: http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\r\n  [2]: http://jackson.codehaus.org/1.9.4/javadoc/org/codehaus/jackson/map/ObjectMapper.html\r\n\r\n","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>Previous answer did the trick, but it was ugly and not well thought out - a clear workaround to actually fixing the problem.</p>\n\n<p>The real issue is that <a href=\"http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\" rel=\"nofollow\"><code>ObjectId</code></a> deserializes into its component parts. <code>MappingJacksonJsonView</code> sees <a href=\"http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\" rel=\"nofollow\"><code>ObjectId</code></a> for what it is, an object, and goes to work on it. The deserialized fields being seen in the JSON are the fields that make up an <a href=\"http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\" rel=\"nofollow\"><code>ObjectId</code></a>. To stop the serialization/deserialization of such an object, you have to configure a <code>CustomObjectMapper</code> that extends <a href=\"http://jackson.codehaus.org/1.9.4/javadoc/org/codehaus/jackson/map/ObjectMapper.html\" rel=\"nofollow\"><code>ObjectMapper</code></a>.</p>\n\n<p>Here is the <code>CustomeObjectMapper</code>:</p>\n\n<pre><code>public class CustomObjectMapper extends ObjectMapper {\n\n    public CustomObjectMapper() {\n        CustomSerializerFactory sf = new CustomSerializerFactory();\n        sf.addSpecificMapping(ObjectId.class, new ObjectIdSerializer());\n        this.setSerializerFactory(sf);\n    }\n}\n</code></pre>\n\n<p>Here is the <code>ObjectIdSerializer</code> that the <code>CustomObjectMapper</code> uses:</p>\n\n<pre><code>public class ObjectIdSerializer extends SerializerBase&lt;ObjectId&gt; {\n\n    protected ObjectIdSerializer(Class&lt;ObjectId&gt; t) {\n        super(t);\n    }\n\n    public ObjectIdSerializer() {\n        this(ObjectId.class);\n    }\n\n    @Override\n    public void serialize(ObjectId value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\n        jgen.writeString(value.toString());\n    }\n}\n</code></pre>\n\n<p>And here is what needs to change in your <code>@Configuration</code>-annotated class:</p>\n\n<pre><code>@Bean(name = \"jsonView\")\npublic MappingJacksonJsonView jsonView() {\n    final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\n    mappingJacksonJsonView.setContentType(\"application/json\");\n    mappingJacksonJsonView.setObjectMapper(new CustomObjectMapper());\n    return mappingJacksonJsonView;\n}\n</code></pre>\n\n<p>You are basically telling Jackson how to serialize/deserialize this particular object. Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":5009797,"reputation":493,"user_id":4026392,"display_name":"Kapil Bhagchandani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575538028,"creation_date":1575538028,"answer_id":59191915,"question_id":9065042,"body_markdown":"By default Jackson provides the serialization of Object received. ObjectId returns the Object therefor its attributes are visible after conversion to JSON. You need to specify the type of serialization required, Here in this case it is string. **Thing** entity class which is used to create **ThingRepository** will look like this to get this done:\r\n\r\n    public class Thing {\r\n        @Id\r\n        @JsonSerialize(using= ToStringSerializer.class)\r\n        ObjectId id;\r\n\r\n        String name;\r\n    }\r\n\r\nHere make a note of added anotation __@JsonSerialize(using= ToStringSerializer.class)__ which instructs to serialize the ObjectID to String.","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>By default Jackson provides the serialization of Object received. ObjectId returns the Object therefor its attributes are visible after conversion to JSON. You need to specify the type of serialization required, Here in this case it is string. <strong>Thing</strong> entity class which is used to create <strong>ThingRepository</strong> will look like this to get this done:</p>\n\n<pre><code>public class Thing {\n    @Id\n    @JsonSerialize(using= ToStringSerializer.class)\n    ObjectId id;\n\n    String name;\n}\n</code></pre>\n\n<p>Here make a note of added anotation <strong>@JsonSerialize(using= ToStringSerializer.class)</strong> which instructs to serialize the ObjectID to String.</p>\n"},{"tags":[],"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645541293,"creation_date":1645541293,"answer_id":71223382,"question_id":9065042,"body_markdown":"If you&#39;re using autowired instance of the auto configured mapper in Spring Boot, you can just add this customizer bean:\r\n\r\n```java\r\n@Bean\r\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n    return builder -&gt; builder.serializerByType(ObjectId.class, ToStringSerializer.instance);\r\n}\r\n```\r\n\r\nRelevant imports:\r\n```java\r\nimport com.fasterxml.jackson.databind.ser.std.ToStringSerializer;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.boot.autoconfigure.jackson.Jackson2ObjectMapperBuilderCustomizer;\r\n```\r\n\r\nAnd then this will reflect anywhere the autowired mapper is used, for example:\r\n\r\n```java\r\n@Service\r\npublic class MyService {\r\n    private final ObjectMapper objectMapper;\r\n    private final MongoTemplate mongoTemplate;\r\n\r\n    @Autowired\r\n    public MyService(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    public String getJsonForMongoCommand(Document document) {\r\n        return objectMapper.writeValueAsString(mongoTemplate.executeCommand(document));\r\n    }\r\n}\r\n```\r\n\r\nOr in this specific case (untested, might be unnecessary):\r\n```java\r\n@Bean(name = &quot;jsonView&quot;)\r\npublic MappingJacksonJsonView jsonView(ObjectMapper objectMapper) {\r\n    final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\r\n    mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\r\n    mappingJacksonJsonView.setObjectMapper(objectMapper);\r\n    return mappingJacksonJsonView;\r\n}\r\n```","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>If you're using autowired instance of the auto configured mapper in Spring Boot, you can just add this customizer bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n    return builder -&gt; builder.serializerByType(ObjectId.class, ToStringSerializer.instance);\n}\n</code></pre>\n<p>Relevant imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ser.std.ToStringSerializer;\nimport org.bson.types.ObjectId;\nimport org.springframework.boot.autoconfigure.jackson.Jackson2ObjectMapperBuilderCustomizer;\n</code></pre>\n<p>And then this will reflect anywhere the autowired mapper is used, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    private final ObjectMapper objectMapper;\n    private final MongoTemplate mongoTemplate;\n\n    @Autowired\n    public MyService(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    public String getJsonForMongoCommand(Document document) {\n        return objectMapper.writeValueAsString(mongoTemplate.executeCommand(document));\n    }\n}\n</code></pre>\n<p>Or in this specific case (untested, might be unnecessary):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;jsonView&quot;)\npublic MappingJacksonJsonView jsonView(ObjectMapper objectMapper) {\n    final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\n    mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\n    mappingJacksonJsonView.setObjectMapper(objectMapper);\n    return mappingJacksonJsonView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10578159,"reputation":59,"user_id":7792908,"display_name":"Cassio Luis Felippe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674228358,"creation_date":1674228358,"answer_id":75186075,"question_id":9065042,"body_markdown":"Just to complement the answers, if you face a scenario where you also need to serialize an array of ObjectId, you could create a custom serializer with the following logic:\r\n\r\n```java\r\npublic class ObjectIdSerializer extends JsonSerializer&lt;Object&gt; {\r\n\r\n    @Override\r\n    public void serialize(final Object value, final JsonGenerator jgen, final SerializerProvider provider) throws IOException {\r\n        if (value instanceof Collection) {\r\n            final Collection&lt;String&gt; ids = new ArrayList&lt;&gt;();\r\n            for (final Object id : ((Collection&lt;?&gt;) value)) {\r\n                ids.add(ObjectId.class.cast(id).toString());\r\n            }\r\n            jgen.writeObject(ids);\r\n        } else {\r\n            jgen.writeString(ObjectId.class.cast(value).toString());\r\n        }\r\n    }\r\n}\r\n```","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>Just to complement the answers, if you face a scenario where you also need to serialize an array of ObjectId, you could create a custom serializer with the following logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjectIdSerializer extends JsonSerializer&lt;Object&gt; {\n\n    @Override\n    public void serialize(final Object value, final JsonGenerator jgen, final SerializerProvider provider) throws IOException {\n        if (value instanceof Collection) {\n            final Collection&lt;String&gt; ids = new ArrayList&lt;&gt;();\n            for (final Object id : ((Collection&lt;?&gt;) value)) {\n                ids.add(ObjectId.class.cast(id).toString());\n            }\n            jgen.writeObject(ids);\n        } else {\n            jgen.writeString(ObjectId.class.cast(value).toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4068,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12840947,"answer_count":5,"score":5,"last_activity_date":1674228358,"creation_date":1327932251,"question_id":9065042,"body_markdown":"I am using the MappingJacksonJsonView in my SpringMVC application to render JSON from my controllers. I want the ObjectId from my object to render as .toString but instead it serializes the ObjectId into its parts. It works just fine in my Velocity/JSP pages:\r\n\r\n\r\n    Velocity:\r\n        $thing.id\r\n    Produces:\r\n        4f1d77bb3a13870ff0783c25\r\n\r\n\r\n    Json:\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n             $.ajax({\r\n                 type: &#39;GET&#39;,\r\n                 url: &#39;/things/show/4f1d77bb3a13870ff0783c25&#39;,\r\n                 dataType: &#39;json&#39;,\r\n                 success : function(data) {\r\n                    alert(data);\r\n                 }\r\n             });\r\n        &lt;/script&gt;\r\n    Produces:\r\n        thing: {id:{time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739},…}\r\n            id: {time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739}\r\n                inc: -260555739\r\n                machine: 974358287\r\n                new: false\r\n                time: 1327331259000\r\n                timeSecond: 1327331259\r\n            name: &quot;Stack Overflow&quot;\r\n\r\n\r\n    XML:\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n             $.ajax({\r\n                 type: &#39;GET&#39;,\r\n                 url: &#39;/things/show/4f1d77bb3a13870ff0783c25&#39;,\r\n                 dataType: &#39;xml&#39;,\r\n                 success : function(data) {\r\n                    alert(data);\r\n                 }\r\n             });\r\n        &lt;/script&gt;\r\n    Produces:\r\n        &lt;com.place.model.Thing&gt;\r\n            &lt;id&gt;\r\n                &lt;__time&gt;1327331259&lt;/__time&gt;\r\n                &lt;__machine&gt;974358287&lt;/__machine&gt;\r\n                &lt;__inc&gt;-260555739&lt;/__inc&gt;\r\n                &lt;__new&gt;false&lt;/__new&gt;\r\n            &lt;/id&gt;\r\n            &lt;name&gt;Stack Overflow&lt;/name&gt;\r\n        &lt;/com.place.model.Thing&gt;\r\n\r\n\r\nIs there a way to stop MappingJacksonJsonView from getting that much information out of the ObjectId? I just want the .toString() method, not all the details.\r\n\r\nThanks.\r\n\r\nAdding the Spring config:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MyConfiguration {\r\n\r\n        @Bean(name = &quot;viewResolver&quot;)\r\n        public ContentNegotiatingViewResolver viewResolver() {\r\n            ContentNegotiatingViewResolver contentNegotiatingViewResolver = new ContentNegotiatingViewResolver();\r\n            contentNegotiatingViewResolver.setOrder(1);\r\n            contentNegotiatingViewResolver.setFavorPathExtension(true);\r\n            contentNegotiatingViewResolver.setFavorParameter(true);\r\n            contentNegotiatingViewResolver.setIgnoreAcceptHeader(false);\r\n            Map&lt;String, String&gt; mediaTypes = new HashMap&lt;String, String&gt;();\r\n            mediaTypes.put(&quot;json&quot;, &quot;application/x-json&quot;);\r\n            mediaTypes.put(&quot;json&quot;, &quot;text/json&quot;);\r\n            mediaTypes.put(&quot;json&quot;, &quot;text/x-json&quot;);\r\n            mediaTypes.put(&quot;json&quot;, &quot;application/json&quot;);\r\n            mediaTypes.put(&quot;xml&quot;, &quot;text/xml&quot;);\r\n            mediaTypes.put(&quot;xml&quot;, &quot;application/xml&quot;);\r\n            contentNegotiatingViewResolver.setMediaTypes(mediaTypes);\r\n            List&lt;View&gt; defaultViews = new ArrayList&lt;View&gt;();\r\n            defaultViews.add(xmlView());\r\n            defaultViews.add(jsonView());\r\n            contentNegotiatingViewResolver.setDefaultViews(defaultViews);\r\n            return contentNegotiatingViewResolver;\r\n        }\r\n\r\n        @Bean(name = &quot;xStreamMarshaller&quot;)\r\n        public XStreamMarshaller xStreamMarshaller() {\r\n            return new XStreamMarshaller();\r\n        }\r\n\r\n        @Bean(name = &quot;xmlView&quot;)\r\n        public MarshallingView xmlView() {\r\n            MarshallingView marshallingView = new MarshallingView(xStreamMarshaller());\r\n            marshallingView.setContentType(&quot;application/xml&quot;);\r\n            return marshallingView;\r\n        }\r\n\r\n        @Bean(name = &quot;jsonView&quot;)\r\n        public MappingJacksonJsonView jsonView() {\r\n            MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\r\n            mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\r\n            return mappingJacksonJsonView;\r\n        }\r\n    }\r\n\r\nAnd my controller:\r\n\r\n    @Controller\r\n    @RequestMapping(value = { &quot;/things&quot; })\r\n    public class ThingController {\r\n\r\n        @Autowired\r\n        private ThingRepository thingRepository;\r\n\r\n        @RequestMapping(value = { &quot;/show/{thingId}&quot; }, method = RequestMethod.GET)\r\n        public String show(@PathVariable ObjectId thingId, Model model) {\r\n            model.addAttribute(&quot;thing&quot;, thingRepository.findOne(thingId));\r\n            return &quot;things/show&quot;;\r\n        }\r\n    }\r\n","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>I am using the MappingJacksonJsonView in my SpringMVC application to render JSON from my controllers. I want the ObjectId from my object to render as .toString but instead it serializes the ObjectId into its parts. It works just fine in my Velocity/JSP pages:</p>\n\n<pre><code>Velocity:\n    $thing.id\nProduces:\n    4f1d77bb3a13870ff0783c25\n\n\nJson:\n    &lt;script type=\"text/javascript\"&gt;\n         $.ajax({\n             type: 'GET',\n             url: '/things/show/4f1d77bb3a13870ff0783c25',\n             dataType: 'json',\n             success : function(data) {\n                alert(data);\n             }\n         });\n    &lt;/script&gt;\nProduces:\n    thing: {id:{time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739},…}\n        id: {time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739}\n            inc: -260555739\n            machine: 974358287\n            new: false\n            time: 1327331259000\n            timeSecond: 1327331259\n        name: \"Stack Overflow\"\n\n\nXML:\n    &lt;script type=\"text/javascript\"&gt;\n         $.ajax({\n             type: 'GET',\n             url: '/things/show/4f1d77bb3a13870ff0783c25',\n             dataType: 'xml',\n             success : function(data) {\n                alert(data);\n             }\n         });\n    &lt;/script&gt;\nProduces:\n    &lt;com.place.model.Thing&gt;\n        &lt;id&gt;\n            &lt;__time&gt;1327331259&lt;/__time&gt;\n            &lt;__machine&gt;974358287&lt;/__machine&gt;\n            &lt;__inc&gt;-260555739&lt;/__inc&gt;\n            &lt;__new&gt;false&lt;/__new&gt;\n        &lt;/id&gt;\n        &lt;name&gt;Stack Overflow&lt;/name&gt;\n    &lt;/com.place.model.Thing&gt;\n</code></pre>\n\n<p>Is there a way to stop MappingJacksonJsonView from getting that much information out of the ObjectId? I just want the .toString() method, not all the details.</p>\n\n<p>Thanks.</p>\n\n<p>Adding the Spring config:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MyConfiguration {\n\n    @Bean(name = \"viewResolver\")\n    public ContentNegotiatingViewResolver viewResolver() {\n        ContentNegotiatingViewResolver contentNegotiatingViewResolver = new ContentNegotiatingViewResolver();\n        contentNegotiatingViewResolver.setOrder(1);\n        contentNegotiatingViewResolver.setFavorPathExtension(true);\n        contentNegotiatingViewResolver.setFavorParameter(true);\n        contentNegotiatingViewResolver.setIgnoreAcceptHeader(false);\n        Map&lt;String, String&gt; mediaTypes = new HashMap&lt;String, String&gt;();\n        mediaTypes.put(\"json\", \"application/x-json\");\n        mediaTypes.put(\"json\", \"text/json\");\n        mediaTypes.put(\"json\", \"text/x-json\");\n        mediaTypes.put(\"json\", \"application/json\");\n        mediaTypes.put(\"xml\", \"text/xml\");\n        mediaTypes.put(\"xml\", \"application/xml\");\n        contentNegotiatingViewResolver.setMediaTypes(mediaTypes);\n        List&lt;View&gt; defaultViews = new ArrayList&lt;View&gt;();\n        defaultViews.add(xmlView());\n        defaultViews.add(jsonView());\n        contentNegotiatingViewResolver.setDefaultViews(defaultViews);\n        return contentNegotiatingViewResolver;\n    }\n\n    @Bean(name = \"xStreamMarshaller\")\n    public XStreamMarshaller xStreamMarshaller() {\n        return new XStreamMarshaller();\n    }\n\n    @Bean(name = \"xmlView\")\n    public MarshallingView xmlView() {\n        MarshallingView marshallingView = new MarshallingView(xStreamMarshaller());\n        marshallingView.setContentType(\"application/xml\");\n        return marshallingView;\n    }\n\n    @Bean(name = \"jsonView\")\n    public MappingJacksonJsonView jsonView() {\n        MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\n        mappingJacksonJsonView.setContentType(\"application/json\");\n        return mappingJacksonJsonView;\n    }\n}\n</code></pre>\n\n<p>And my controller:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = { \"/things\" })\npublic class ThingController {\n\n    @Autowired\n    private ThingRepository thingRepository;\n\n    @RequestMapping(value = { \"/show/{thingId}\" }, method = RequestMethod.GET)\n    public String show(@PathVariable ObjectId thingId, Model model) {\n        model.addAttribute(\"thing\", thingRepository.findOne(thingId));\n        return \"things/show\";\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":2,"creation_date":1674067308,"post_id":75159435,"comment_id":132638057,"body_markdown":"Have you read the [migration guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html)?","body":"Have you read the <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html\" rel=\"nofollow noreferrer\">migration guide</a>?"},{"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"score":0,"creation_date":1674076710,"post_id":75159435,"comment_id":132640728,"body_markdown":"@AlexR yes that’s what I followed hence why I’m a bit stumped as to why it’s not working :(","body":"@AlexR yes that’s what I followed hence why I’m a bit stumped as to why it’s not working :("},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1674117982,"post_id":75159435,"comment_id":132647546,"body_markdown":"Reading the logs it seems to me that the `Authenticated` status of your `PreAuthenticatedAuthenticationToken` is never set to true. Maybe you have to call `http.\nauthenticationManager(...)` and set the `AuthenticationManager` you want to use this way?","body":"Reading the logs it seems to me that the <code>Authenticated</code> status of your <code>PreAuthenticatedAuthenticationToken</code> is never set to true. Maybe you have to call <code>http. authenticationManager(...)</code> and set the <code>AuthenticationManager</code> you want to use this way?"},{"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"score":0,"creation_date":1674136459,"post_id":75159435,"comment_id":132653525,"body_markdown":"@AlexR tried that still same result","body":"@AlexR tried that still same result"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1674138993,"post_id":75159435,"comment_id":132654491,"body_markdown":"What is the logic inside the `preAuthProvider` class? Can you share its whole implementation?","body":"What is the logic inside the <code>preAuthProvider</code> class? Can you share its whole implementation?"},{"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"score":0,"creation_date":1674145128,"post_id":75159435,"comment_id":132656776,"body_markdown":"@MarcusHertdaCoregio Added now. They code never gets this far but I expect it to after the Auth0TokenConverter.convert method is ran which returns PreAuthenticatedAuthenticationToken. The code gets as far as this method.","body":"@MarcusHertdaCoregio Added now. They code never gets this far but I expect it to after the Auth0TokenConverter.convert method is ran which returns PreAuthenticatedAuthenticationToken. The code gets as far as this method."},{"owner":{"account_id":19103228,"reputation":75,"user_id":13956589,"display_name":"HamsterofDeath"},"score":0,"creation_date":1677761045,"post_id":75159435,"comment_id":133403779,"body_markdown":"same problem here, it just stopped working and i don&#39;t even use any authentication","body":"same problem here, it just stopped working and i don&#39;t even use any authentication"}],"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674228275,"creation_date":1674045956,"question_id":75159435,"body_markdown":"I&#39;m currently upgrading from Spring Boot 2.7 to Spring 3 but I&#39;m having issues when upgrading my HTTP Security Config. \r\n\r\nI am using Azure B2C for my oauth server and that part is working fine as I can see the valid JWT being returned. \r\nI&#39;ve changed from using authorizeRequests to authorizeHttpRequests as suggested but all my HTTP requests are returning 403. \r\n\r\nIf I use authorizeRequests with all of the other Spring 3 suggested updates it still works as expected.\r\n\r\n**Configuration File:** \r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n  @Autowired\r\n  private AuthenticationProvider authenticationProvider;\r\n\r\n  @Autowired\r\n  @Qualifier(&quot;preAuthProvider&quot;)\r\n  private AuthenticationProvider preAuthProvider;\r\n\r\n  @Value(&quot;${oauthTokenChecks.audience}&quot;)\r\n  private String audience;\r\n\r\n  @Value(&quot;${oauthTokenChecks.issuer}&quot;)\r\n  private String issuer;\r\n  @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\r\n  private String jwkUri;\r\n\r\n  @Bean\r\n  CorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\r\n    configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n  }\r\n\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.cors().\r\n        configurationSource(corsConfigurationSource()).and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        .authorizeRequests((authorize) -&gt; authorize\r\n            .requestMatchers(&quot;/api/**&quot;)\r\n            .authenticated()\r\n        )\r\n        .exceptionHandling()\r\n        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n        .and()\r\n        .csrf()\r\n        .disable()\r\n        .oauth2ResourceServer()\r\n        .jwt()\r\n        .jwtAuthenticationConverter(new Auth0TokenConverter());\r\n\r\n    return http.build();\r\n  }\r\n\r\n  @Bean\r\n  public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n    authenticationManagerBuilder.authenticationProvider(authenticationProvider);\r\n    authenticationManagerBuilder.authenticationProvider(preAuthProvider);\r\n    return authenticationManagerBuilder.build();\r\n  }\r\n\r\n  @Bean\r\n  JwtDecoder jwtDecoder() {\r\n    NimbusJwtDecoder jwtDecoder =\r\n        NimbusJwtDecoder.withJwkSetUri(jwkUri).build();\r\n\r\n    OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\r\n    OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n    OAuth2TokenValidator&lt;Jwt&gt; withAudience =\r\n        new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n//    jwtDecoder.setClaimSetConverter(new UsernameSubClaimAdapter());\r\n    jwtDecoder.setJwtValidator(withAudience);\r\n\r\n    return jwtDecoder;\r\n  }\r\n}\r\n ```\r\n\r\n**Auth Converter:**\r\n```\r\npublic class Auth0TokenConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n\r\n  @Override\r\n  public AbstractAuthenticationToken convert(final Jwt jwt) {\r\n\r\n    var emails = jwt.getClaimAsStringList(&quot;emails&quot;);\r\n    if (emails == null || emails.size() != 1) {\r\n      throw new RuntimeException(&quot;One and only one email expected in token claim&quot;);\r\n    }\r\n\r\n    var user =\r\n        ImplementUser.builder()\r\n            .username(emails.get(0))\r\n            .auth0Id(null)\r\n            .enabled(true)\r\n            .accountNonExpired(true)\r\n            .accountNonLocked(true)\r\n            .credentialsNonExpired(true)\r\n            .build();\r\n    return new PreAuthenticatedAuthenticationToken(user, jwt);\r\n  }\r\n} \r\n```\r\n\r\n**CustomPreAuthProvider:**\r\n\r\n```\r\n@Component(&quot;preAuthProvider&quot;)\r\npublic class CustomPreAuthProvider extends PreAuthenticatedAuthenticationProvider {\r\n\r\n  @Autowired\r\n  private CustomPreAuthUserDetailsService userService;\r\n\r\n  public CustomPreAuthProvider() {\r\n    super();\r\n  }\r\n\r\n  @PostConstruct\r\n  public void init() {\r\n    super.setPreAuthenticatedUserDetailsService(userService);\r\n  }\r\n}\r\n```\r\n\r\n**CustomPreAuthUserDetailsService:**\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class CustomPreAuthUserDetailsService\r\n    implements AuthenticationUserDetailsService&lt;PreAuthenticatedAuthenticationToken&gt; {\r\n\r\n  private final AuthUserDetailsService authUserDetailsService;\r\n\r\n  @Override\r\n  public final UserDetails loadUserDetails(PreAuthenticatedAuthenticationToken token) {\r\n    var principal = (ImplementUser) token.getPrincipal();\r\n    var email = principal.getUsername();\r\n    var user = authUserDetailsService.loadUserDetails(email);\r\n\r\n    var implementUser = (ImplementUser) token.getPrincipal();\r\n    return implementUser.toBuilder()\r\n        .firstName(user.getFirstName())\r\n        .lastName(user.getLastName())\r\n        .globalUserId(user.getGlobalUserId())\r\n        .profiles(user.getProfiles())\r\n        .activeProfile(user.getActiveProfile())\r\n        .defaultProfileId(user.getDefaultProfileId())\r\n        .build();\r\n\r\n  }\r\n}\r\n```\r\nBelow are the error logs\r\n\r\n[Log output][1]\r\n\r\n\r\n  [1]: https://pastebin.com/VHJXB5iX","title":"Upgrading to Spring Boot 3 authorizeHttpRequests throwing 403 with oath2ResourceServer","body":"<p>I'm currently upgrading from Spring Boot 2.7 to Spring 3 but I'm having issues when upgrading my HTTP Security Config.</p>\n<p>I am using Azure B2C for my oauth server and that part is working fine as I can see the valid JWT being returned.\nI've changed from using authorizeRequests to authorizeHttpRequests as suggested but all my HTTP requests are returning 403.</p>\n<p>If I use authorizeRequests with all of the other Spring 3 suggested updates it still works as expected.</p>\n<p><strong>Configuration File:</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n  @Autowired\n  private AuthenticationProvider authenticationProvider;\n\n  @Autowired\n  @Qualifier(&quot;preAuthProvider&quot;)\n  private AuthenticationProvider preAuthProvider;\n\n  @Value(&quot;${oauthTokenChecks.audience}&quot;)\n  private String audience;\n\n  @Value(&quot;${oauthTokenChecks.issuer}&quot;)\n  private String issuer;\n  @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\n  private String jwkUri;\n\n  @Bean\n  CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\n    configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n  }\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.cors().\n        configurationSource(corsConfigurationSource()).and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeRequests((authorize) -&gt; authorize\n            .requestMatchers(&quot;/api/**&quot;)\n            .authenticated()\n        )\n        .exceptionHandling()\n        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n        .and()\n        .csrf()\n        .disable()\n        .oauth2ResourceServer()\n        .jwt()\n        .jwtAuthenticationConverter(new Auth0TokenConverter());\n\n    return http.build();\n  }\n\n  @Bean\n  public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n    authenticationManagerBuilder.authenticationProvider(authenticationProvider);\n    authenticationManagerBuilder.authenticationProvider(preAuthProvider);\n    return authenticationManagerBuilder.build();\n  }\n\n  @Bean\n  JwtDecoder jwtDecoder() {\n    NimbusJwtDecoder jwtDecoder =\n        NimbusJwtDecoder.withJwkSetUri(jwkUri).build();\n\n    OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\n    OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n    OAuth2TokenValidator&lt;Jwt&gt; withAudience =\n        new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n//    jwtDecoder.setClaimSetConverter(new UsernameSubClaimAdapter());\n    jwtDecoder.setJwtValidator(withAudience);\n\n    return jwtDecoder;\n  }\n}\n</code></pre>\n<p><strong>Auth Converter:</strong></p>\n<pre><code>public class Auth0TokenConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n\n  @Override\n  public AbstractAuthenticationToken convert(final Jwt jwt) {\n\n    var emails = jwt.getClaimAsStringList(&quot;emails&quot;);\n    if (emails == null || emails.size() != 1) {\n      throw new RuntimeException(&quot;One and only one email expected in token claim&quot;);\n    }\n\n    var user =\n        ImplementUser.builder()\n            .username(emails.get(0))\n            .auth0Id(null)\n            .enabled(true)\n            .accountNonExpired(true)\n            .accountNonLocked(true)\n            .credentialsNonExpired(true)\n            .build();\n    return new PreAuthenticatedAuthenticationToken(user, jwt);\n  }\n} \n</code></pre>\n<p><strong>CustomPreAuthProvider:</strong></p>\n<pre><code>@Component(&quot;preAuthProvider&quot;)\npublic class CustomPreAuthProvider extends PreAuthenticatedAuthenticationProvider {\n\n  @Autowired\n  private CustomPreAuthUserDetailsService userService;\n\n  public CustomPreAuthProvider() {\n    super();\n  }\n\n  @PostConstruct\n  public void init() {\n    super.setPreAuthenticatedUserDetailsService(userService);\n  }\n}\n</code></pre>\n<p><strong>CustomPreAuthUserDetailsService:</strong></p>\n<pre><code>@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class CustomPreAuthUserDetailsService\n    implements AuthenticationUserDetailsService&lt;PreAuthenticatedAuthenticationToken&gt; {\n\n  private final AuthUserDetailsService authUserDetailsService;\n\n  @Override\n  public final UserDetails loadUserDetails(PreAuthenticatedAuthenticationToken token) {\n    var principal = (ImplementUser) token.getPrincipal();\n    var email = principal.getUsername();\n    var user = authUserDetailsService.loadUserDetails(email);\n\n    var implementUser = (ImplementUser) token.getPrincipal();\n    return implementUser.toBuilder()\n        .firstName(user.getFirstName())\n        .lastName(user.getLastName())\n        .globalUserId(user.getGlobalUserId())\n        .profiles(user.getProfiles())\n        .activeProfile(user.getActiveProfile())\n        .defaultProfileId(user.getDefaultProfileId())\n        .build();\n\n  }\n}\n</code></pre>\n<p>Below are the error logs</p>\n<p><a href=\"https://pastebin.com/VHJXB5iX\" rel=\"nofollow noreferrer\">Log output</a></p>\n"},{"tags":["java","spring-boot","inheritance","logging","aspectj"],"comments":[{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1673895696,"post_id":75137374,"comment_id":132594891,"body_markdown":"https://stackoverflow.com/questions/42607015/emulate-annotation-inheritance-for-interfaces-and-methods-with-aspectj see that please","body":"<a href=\"https://stackoverflow.com/questions/42607015/emulate-annotation-inheritance-for-interfaces-and-methods-with-aspectj\" title=\"emulate annotation inheritance for interfaces and methods with aspectj\">stackoverflow.com/questions/42607015/&hellip;</a> see that please"},{"owner":{"account_id":27542347,"reputation":1,"user_id":21018884,"display_name":"Joe637"},"score":0,"creation_date":1673952536,"post_id":75137374,"comment_id":132606415,"body_markdown":"Thank you for your advice and the quick response. I had not seen the linked question. Respectfully, I am not sure whether it applies. The child class inherits some methods that have been annotated, but the ones that are being ignored are declared and explicitly annotated in the subclass. They do not implement abstract methods, nor do they override any concrete functions. The super- and subclass are annotated, but not with AspectJ annotations.","body":"Thank you for your advice and the quick response. I had not seen the linked question. Respectfully, I am not sure whether it applies. The child class inherits some methods that have been annotated, but the ones that are being ignored are declared and explicitly annotated in the subclass. They do not implement abstract methods, nor do they override any concrete functions. The super- and subclass are annotated, but not with AspectJ annotations."},{"owner":{"account_id":27542347,"reputation":1,"user_id":21018884,"display_name":"Joe637"},"score":0,"creation_date":1674069268,"post_id":75137374,"comment_id":132638669,"body_markdown":"I have edited my original question to reflect my findings with respect to class level annotation. Based on those developments I am more inclined to agree that JVM limitations with respect to inheritance of annotations were the cause for my original predicament. However, my understanding is still incomplete. With greater clarity I will acknowledge @ИгорьХодыко&#39;s reference as valid, if appropriate. I have changed the title to reflect the broader purpose of my original query. Should this be deemed inappropriate, I will ask the resulting question seperately.","body":"I have edited my original question to reflect my findings with respect to class level annotation. Based on those developments I am more inclined to agree that JVM limitations with respect to inheritance of annotations were the cause for my original predicament. However, my understanding is still incomplete. With greater clarity I will acknowledge @ИгорьХодыко&#39;s reference as valid, if appropriate. I have changed the title to reflect the broader purpose of my original query. Should this be deemed inappropriate, I will ask the resulting question seperately."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674228259,"post_id":75137374,"comment_id":132676169,"body_markdown":"Welcome to SO. Please learn some markdown syntax. I fixed lots of formatting issues in your question, such as the inline image not being displayed, paragraph and code formatting as well as syntax highlighting.","body":"Welcome to SO. Please learn some markdown syntax. I fixed lots of formatting issues in your question, such as the inline image not being displayed, paragraph and code formatting as well as syntax highlighting."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674228453,"post_id":75137374,"comment_id":132676246,"body_markdown":"In order to enable the community to help you better, please and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve), ideally on GitHub. Then I should be able to help you quickly. Like this, there is too much code missing, hence there are too many variables concerning what you might have done wrong. Thank you.","body":"In order to enable the community to help you better, please and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>, ideally on GitHub. Then I should be able to help you quickly. Like this, there is too much code missing, hence there are too many variables concerning what you might have done wrong. Thank you."}],"owner":{"account_id":27542347,"reputation":1,"user_id":21018884,"display_name":"Joe637"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674228153,"creation_date":1673888336,"question_id":75137374,"body_markdown":"I am trying to use AspectJ for logging in a Spring Boot project. The latter has been set up with a controller class that handles the initial request for a particular document through a related REST controller. This controller class is extended by specific classes for each document, which assemble the end product; inheritance was not my idea.\r\n\r\nTo measure performance I want to log execution time for individual methods by using an `@Around` advice. However, even when the functions are individually annotated, those in the subclass are not advised. Methods further in the call stack that are not inherited from the initial controller class are not ignored. The relevant subclass methods are public and they are not inherited from the superclass. \r\n\r\nLogging the execution time of the controller method is meant to provide the overall duration. Information with respect to subsequent functions is supposed to indicate possible bottlenecks. How can I include the methods declared in the subclass? \r\n\r\nConfidentiality precludes sharing specifics, but the relevant aspects of the class structure can be conveyed using generic names:\r\n\r\n[![document generator abbreviated class model][1]][1] [  \r\n\r\nTo follow best practices I always intended to implement custom annotations to be used in pointcuts. Nevertheless, initially, I used signature based pointcuts and their combinations. Ignoring package elements of the pointcut declaration: \r\n\r\n```java\r\n@Pointcut(&quot;execution(public String Controller.*(..)&quot;)\r\npublic void controllerPointcut() {}\r\n```\r\n\r\nThis approach captures the controller methods, as do similar declarations for the reader classes. However such pointcuts are simply ignored in the case of the subclass. Using the + symbol to target child classes does not help. The documentation indicates that inherited or declared methods in a subclass can be targeted by signature. In the specific case this results in an `IllegalStateException` due to ambiguous mapping, as does the use of a class level annotation, unsurprisingly. \r\n\r\nI only need to log two methods in the child classes, so I hoped to target them directly with a common annotation, which I also added to the controller and reader methods. The pattern, excluding package elements is: \r\n\r\n```java\r\n@Pointcut(&quot;@annotation(LoggableDuration)&quot;)\r\npublic void readerControllerPointcut() {}\r\n```\r\n\r\nThe functions in the latter two are being advised, so the annotation itself is not the problem. Nevertheless, the implementation has been added below. For thoroughness, I used a combined approach as well. The controller methods were targeted with the kind of signature approach shown above and for the rest an annotation was used. The result is the same. The problem seems to be some element of how AspectJ deals with inheritance that I have not been able to discover. However, I did expect that annotating individual methods could possibly allow me to avoid any such considerations.\r\n\r\n```java\r\n@Component\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface LoggableDuration {}\r\n```\r\n\r\nEdit: It seems that Spring Boot was not picking up the subclass. Adding the `@Component` annotation allows AspectJ to advise the desired methods as does a class level custom annotation with `ElementType.Type` as the `@Target` value. However, both lead to an `IllegalStateException: ambiguous mapping`, presumably because of the inheritance of the Rest controllers. I managed to target the subclass methods with execution based pointcuts, which were not ignored. But, this caused the aforementioned exception to appear again. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yrCxv.png","title":"How to target methods declared in a controller subclass whilst avoiding ambigous mapping?","body":"<p>I am trying to use AspectJ for logging in a Spring Boot project. The latter has been set up with a controller class that handles the initial request for a particular document through a related REST controller. This controller class is extended by specific classes for each document, which assemble the end product; inheritance was not my idea.</p>\n<p>To measure performance I want to log execution time for individual methods by using an <code>@Around</code> advice. However, even when the functions are individually annotated, those in the subclass are not advised. Methods further in the call stack that are not inherited from the initial controller class are not ignored. The relevant subclass methods are public and they are not inherited from the superclass.</p>\n<p>Logging the execution time of the controller method is meant to provide the overall duration. Information with respect to subsequent functions is supposed to indicate possible bottlenecks. How can I include the methods declared in the subclass?</p>\n<p>Confidentiality precludes sharing specifics, but the relevant aspects of the class structure can be conveyed using generic names:</p>\n<p><a href=\"https://i.stack.imgur.com/yrCxv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrCxv.png\" alt=\"document generator abbreviated class model\" /></a> [</p>\n<p>To follow best practices I always intended to implement custom annotations to be used in pointcuts. Nevertheless, initially, I used signature based pointcuts and their combinations. Ignoring package elements of the pointcut declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(public String Controller.*(..)&quot;)\npublic void controllerPointcut() {}\n</code></pre>\n<p>This approach captures the controller methods, as do similar declarations for the reader classes. However such pointcuts are simply ignored in the case of the subclass. Using the + symbol to target child classes does not help. The documentation indicates that inherited or declared methods in a subclass can be targeted by signature. In the specific case this results in an <code>IllegalStateException</code> due to ambiguous mapping, as does the use of a class level annotation, unsurprisingly.</p>\n<p>I only need to log two methods in the child classes, so I hoped to target them directly with a common annotation, which I also added to the controller and reader methods. The pattern, excluding package elements is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;@annotation(LoggableDuration)&quot;)\npublic void readerControllerPointcut() {}\n</code></pre>\n<p>The functions in the latter two are being advised, so the annotation itself is not the problem. Nevertheless, the implementation has been added below. For thoroughness, I used a combined approach as well. The controller methods were targeted with the kind of signature approach shown above and for the rest an annotation was used. The result is the same. The problem seems to be some element of how AspectJ deals with inheritance that I have not been able to discover. However, I did expect that annotating individual methods could possibly allow me to avoid any such considerations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface LoggableDuration {}\n</code></pre>\n<p>Edit: It seems that Spring Boot was not picking up the subclass. Adding the <code>@Component</code> annotation allows AspectJ to advise the desired methods as does a class level custom annotation with <code>ElementType.Type</code> as the <code>@Target</code> value. However, both lead to an <code>IllegalStateException: ambiguous mapping</code>, presumably because of the inheritance of the Rest controllers. I managed to target the subclass methods with execution based pointcuts, which were not ignored. But, this caused the aforementioned exception to appear again.</p>\n"},{"tags":["java","aop","aspectj","aspect","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"score":0,"creation_date":1673912384,"post_id":75140678,"comment_id":132598846,"body_markdown":"Working with Aspects without Spring is a little different. There are some examples [here](https://www.baeldung.com/aspectj)","body":"Working with Aspects without Spring is a little different. There are some examples <a href=\"https://www.baeldung.com/aspectj\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"score":0,"creation_date":1673915456,"post_id":75140678,"comment_id":132599259,"body_markdown":"@timeofeevle I looked into the link you provided and i think i did everything except the .aj file. I wasn&#39;t able to create a .aj file in my project. Do i still need the .aj file when i&#39;m using annotations?","body":"@timeofeevle I looked into the link you provided and i think i did everything except the .aj file. I wasn&#39;t able to create a .aj file in my project. Do i still need the .aj file when i&#39;m using annotations?"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674227890,"creation_date":1674227890,"answer_id":75185979,"question_id":75140678,"body_markdown":"Your problem seems to be more about Maven basics than AspectJ at all.\r\n\r\nPutting AspectJ Maven plugin configuration into your `pluginManagement/plugins` section without actually activating the plugin in the `plugins` section, will not help you. So please, make sure to actually use the configured plugin.\r\n\r\n```xml\r\n&lt;pluginManagement&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.14.0&lt;/version&gt;  &lt;!-- No reason to use the outdated 1.8 --&gt;\r\n      &lt;configuration&gt;\r\n        &lt;!-- (...) --&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;plugin&gt;\r\n  &lt;plugins&gt;\r\n&lt;pluginManagement&gt;\r\n\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    &lt;!-- No version/config necessary here, because already configured above) --&gt;\r\n  &lt;plugin&gt;\r\n&lt;plugins&gt;\r\n```\r\n","title":"Aspect not getting called on non-spring maven project","body":"<p>Your problem seems to be more about Maven basics than AspectJ at all.</p>\n<p>Putting AspectJ Maven plugin configuration into your <code>pluginManagement/plugins</code> section without actually activating the plugin in the <code>plugins</code> section, will not help you. So please, make sure to actually use the configured plugin.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pluginManagement&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.14.0&lt;/version&gt;  &lt;!-- No reason to use the outdated 1.8 --&gt;\n      &lt;configuration&gt;\n        &lt;!-- (...) --&gt;\n      &lt;/configuration&gt;\n    &lt;plugin&gt;\n  &lt;plugins&gt;\n&lt;pluginManagement&gt;\n\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n    &lt;!-- No version/config necessary here, because already configured above) --&gt;\n  &lt;plugin&gt;\n&lt;plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674227890,"creation_date":1673911888,"question_id":75140678,"body_markdown":"I&#39;m using  Java 8, testng, maven and selenium for UI automation frame work and trying to use aspectj to execute aspects before and after for switching iframes(entry and exit) when any method in an object is called. Aspect never gets called when i run any induvidual test class. Here is my package structure. I tried using both compile time and load time weaving but nothing help. \r\n    \r\nProject A is the parent \r\nThe module Project B is inside Project A\r\n\r\nProject A pom.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t&lt;groupId&gt;com.projectA&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n        \t&lt;name&gt;projectA&lt;/name&gt;\r\n        \t&lt;modules&gt;\r\n        \t&lt;module&gt;projectB&lt;/module&gt;\r\n        \t&lt;/modules&gt;\r\n        \t&lt;properties&gt;\r\n        \t\t&lt;!-- Maven Plugins --&gt;\r\n        \t\t&lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\r\n        \t\t&lt;maven-surefire-version&gt;2.20.1&lt;/maven-surefire-version&gt;\r\n        \t\t&lt;!-- Dependencies --&gt;\r\n        \t\t&lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\r\n        \t\t&lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\r\n        \t\t&lt;log4j2-version&gt;2.17.0&lt;/log4j2-version&gt;\t\r\n        \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\t\r\n        \t&lt;/properties&gt;\r\n        \t&lt;build&gt;\r\n        \t\t&lt;pluginManagement&gt;\r\n        \t\t\t&lt;plugins&gt;\r\n        \t\t\t\t&lt;plugin&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t\t&lt;version&gt;${maven-compiler-version}&lt;/version&gt;\r\n        \t\t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n        \t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n        \t\t\t\t\t\t&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n        \t\t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t\t&lt;/plugin&gt;\r\n        \t\t\t\t&lt;plugin&gt;\r\n                   \t\t\t &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                   \t\t\t &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                    \t\t &lt;version&gt;1.8&lt;/version&gt;\r\n                   \t\t\t &lt;configuration&gt;\r\n                        \t\t &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                        \t\t &lt;source&gt;1.8&lt;/source&gt;\r\n                        \t\t &lt;target&gt;1.8&lt;/target&gt;\r\n                        \t\t &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                        \t\t &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\r\n                        \t\t &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                       \t\t \t &lt;verbose&gt;true&lt;/verbose&gt;\r\n                   \t\t\t &lt;/configuration&gt;\r\n                    \t\t&lt;executions&gt;\r\n                        \t\t&lt;execution&gt;\r\n                        \t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n                            \t&lt;goals&gt;\r\n                                \t&lt;goal&gt;compile&lt;/goal&gt;\r\n                                \t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n                            \t&lt;/goals&gt;\r\n                        \t\t&lt;/execution&gt;\r\n                    \t\t&lt;/executions&gt;\t\r\n                    \t\t&lt;dependencies&gt;\r\n                  \t\t\t\t&lt;dependency&gt;\r\n                    \t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    \t\t\t\t&lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                   \t\t\t\t\t&lt;version&gt;1.8.13&lt;/version&gt;\r\n                  \t\t\t\t&lt;/dependency&gt;\r\n                \t\t\t&lt;/dependencies&gt;\r\n                \t\t&lt;/plugin&gt;\r\n        \t\t\t\t&lt;plugin&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t\t&lt;version&gt;${maven-surefire-version}&lt;/version&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n        \t\t\t\t\t\t\t&lt;user1&gt;${username}&lt;/user1&gt;\r\n        \t\t\t\t\t\t\t&lt;!-- Other system variables --&gt;\r\n        \t\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n        \t\t\t\t\t&lt;configuration&gt;\r\n                            \t&lt;argLine&gt;-javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar&lt;/argLine&gt;\r\n        \t\t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t\t&lt;/plugin&gt;\r\n        \t\t\t&lt;/plugins&gt;\r\n        \t\t&lt;/pluginManagement&gt;\r\n        \t&lt;/build&gt;\r\n        \t&lt;dependencyManagement&gt;\r\n        \t\t&lt;dependencies&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${htmlunit-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${testng-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${log4j2-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${log4j2-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t  &lt;dependency&gt;\r\n                   \t\t &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    \t &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                    \t &lt;version&gt;1.8.13&lt;/version&gt;\r\n                    \t &lt;scope&gt;runtime&lt;/scope&gt;\r\n                \t &lt;/dependency&gt;\r\n                \t &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.8.13&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n        \t\t&lt;/dependencies&gt;\r\n        &lt;/project&gt;\r\n    \r\nProject B pom.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    \txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n    \t&lt;name&gt;projectB&lt;/name&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.projectA&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n      \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n       \t\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t \t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                \t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                \t&lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n    \r\n    Packaging Structure for Project B.\r\n    all the code is in Project B\r\n    src/main/java(Holds all the page object classes, interface, aspects and custom annotation classes)\r\n    src/test/java(Holds only test classes and has META-INF folder that holds aop.xml)\r\n\r\n Interface in src/main/java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n     public interface NavBarInterface{\r\n          public void navigateToHelp();\r\n          public void navigateToMenu();\r\n        }\r\n\r\nPageObject Class in src/main/java\r\nNavigationBar.java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.stackoverflow.shop\r\n    \r\n    Class NavigationBar{\r\n    \r\n       NavigationBar(){}\r\n       @Override\r\n       @HandleFrame\r\n       public void navigateToHelp() {\r\n        // Navigates to Help section\r\n       }\r\n    \r\n       @Override\r\n       @HandleFrame\r\n       public void navigateToMenu() {\r\n        // Navigates to Help Menu section\r\n       }\r\n    }\r\n\r\nCustom Annotation class in src/main/java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.stackoverflow.shop\r\n            \r\n            @Target(ElementType.METHOD)\r\n            @Retention(RetentionPolicy.RUNTIME)\r\n            public @interface  HandleFrame {\r\n            }\r\n    \r\nAspect Class in src/main/java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.stackoverflow.shop\r\n        \r\n        @Aspect\r\n        Class FrameHandlingAspect{\r\n        \r\n           @Before(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\r\n            public void enterFrame() {\r\n                logger.info(&quot;Switched to IFrame&quot;);\r\n                // switches to iframe\r\n            }\r\n        \r\n           @After(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\r\n            public void enterFrame() {\r\n                logger.info(&quot;exited from IFrame&quot;);\r\n                // exit from iframe\r\n            }\r\n        }\r\n    \r\napo.xml file in src/test/java/META-INF\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;aspectj&gt;\r\n     &lt;aspects&gt;\r\n      &lt;aspect name=&quot;com.stackoverflow.shop.FrameHandlingAspect&quot;/&gt;\r\n     &lt;/aspects&gt; \r\n     &lt;weaver options=&quot;-verbose -debug -showWeaveInfo&quot;&gt;\r\n      &lt;include within=&quot;com.stackoverflow..*&quot; /&gt;\r\n     &lt;/weaver&gt;\r\n    &lt;/aspectj&gt;\r\n    \r\nTestClass in src/test/java\r\n    \r\n&lt;!-- language: java --&gt;\r\n\r\n    Class NavigationTests {\r\n    \r\n    @BeforeMethod(alwaysRun = true)\r\n    public void refreshAndSwitchTab(){\r\n      // performs refresh page action and opens a new tab\r\n    }\r\n    \r\n    @AfterMethod(alwaysRun = true)\r\n    public void closeTab(){\r\n      // closes secondary tab\r\n    }\r\n\r\n    @Test(enabled=true)      \r\n    public void testNavigation() {\r\n    NavBarInterface nbar = new NavigationBar();\r\n    nbar.navigateToHelp(); //Aspects are not called before and after\r\n    nbar.navigateToMenu();\r\n    }\r\n        \r\n    }\r\n\r\nI&#39;m running the NavigationTests class on Eclipse using Run Configuration/Run as testng test.I also tried running the test as providing vm argument  -Dtest=NavigationTests\r\n        \r\nThe tests are running fine but the aspects are never called. Not sure what mistake i&#39;m doing here or does aspect doesn&#39;t run when we run a single test class. Any help is much appreciated.","title":"Aspect not getting called on non-spring maven project","body":"<p>I'm using  Java 8, testng, maven and selenium for UI automation frame work and trying to use aspectj to execute aspects before and after for switching iframes(entry and exit) when any method in an object is called. Aspect never gets called when i run any induvidual test class. Here is my package structure. I tried using both compile time and load time weaving but nothing help.</p>\n<p>Project A is the parent\nThe module Project B is inside Project A</p>\n<p>Project A pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;groupId&gt;com.projectA&lt;/groupId&gt;\n        &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;pom&lt;/packaging&gt;\n        &lt;name&gt;projectA&lt;/name&gt;\n        &lt;modules&gt;\n        &lt;module&gt;projectB&lt;/module&gt;\n        &lt;/modules&gt;\n        &lt;properties&gt;\n            &lt;!-- Maven Plugins --&gt;\n            &lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\n            &lt;maven-surefire-version&gt;2.20.1&lt;/maven-surefire-version&gt;\n            &lt;!-- Dependencies --&gt;\n            &lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\n            &lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\n            &lt;log4j2-version&gt;2.17.0&lt;/log4j2-version&gt; \n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;  \n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;pluginManagement&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-compiler-version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;source&gt;1.8&lt;/source&gt;\n                            &lt;target&gt;1.8&lt;/target&gt;\n                            &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                         &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                         &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                         &lt;version&gt;1.8&lt;/version&gt;\n                         &lt;configuration&gt;\n                             &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                             &lt;source&gt;1.8&lt;/source&gt;\n                             &lt;target&gt;1.8&lt;/target&gt;\n                             &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                             &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\n                             &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                             &lt;verbose&gt;true&lt;/verbose&gt;\n                         &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                            &lt;phase&gt;process-sources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;   \n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                                &lt;version&gt;1.8.13&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-surefire-version}&lt;/version&gt;\n                        &lt;systemPropertyVariables&gt;\n                                &lt;user1&gt;${username}&lt;/user1&gt;\n                                &lt;!-- Other system variables --&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;configuration&gt;\n                            &lt;argLine&gt;-javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar&lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/pluginManagement&gt;\n        &lt;/build&gt;\n        &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                    &lt;version&gt;${selenium-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n                    &lt;version&gt;${selenium-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n                    &lt;version&gt;${htmlunit-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n                    &lt;version&gt;${selenium-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                    &lt;version&gt;${testng-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                    &lt;version&gt;${log4j2-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                    &lt;version&gt;${log4j2-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                  &lt;dependency&gt;\n                     &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                     &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                     &lt;version&gt;1.8.13&lt;/version&gt;\n                     &lt;scope&gt;runtime&lt;/scope&gt;\n                 &lt;/dependency&gt;\n                 &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                &lt;version&gt;1.8.13&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>Project B pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n    &lt;name&gt;projectB&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.projectA&lt;/groupId&gt;\n        &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\nPackaging Structure for Project B.\nall the code is in Project B\nsrc/main/java(Holds all the page object classes, interface, aspects and custom annotation classes)\nsrc/test/java(Holds only test classes and has META-INF folder that holds aop.xml)\n</code></pre>\n<p>Interface in src/main/java</p>\n<pre class=\"lang-java prettyprint-override\"><code> public interface NavBarInterface{\n      public void navigateToHelp();\n      public void navigateToMenu();\n    }\n</code></pre>\n<p>PageObject Class in src/main/java\nNavigationBar.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.stackoverflow.shop\n\nClass NavigationBar{\n\n   NavigationBar(){}\n   @Override\n   @HandleFrame\n   public void navigateToHelp() {\n    // Navigates to Help section\n   }\n\n   @Override\n   @HandleFrame\n   public void navigateToMenu() {\n    // Navigates to Help Menu section\n   }\n}\n</code></pre>\n<p>Custom Annotation class in src/main/java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.stackoverflow.shop\n        \n        @Target(ElementType.METHOD)\n        @Retention(RetentionPolicy.RUNTIME)\n        public @interface  HandleFrame {\n        }\n</code></pre>\n<p>Aspect Class in src/main/java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.stackoverflow.shop\n    \n    @Aspect\n    Class FrameHandlingAspect{\n    \n       @Before(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\n        public void enterFrame() {\n            logger.info(&quot;Switched to IFrame&quot;);\n            // switches to iframe\n        }\n    \n       @After(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\n        public void enterFrame() {\n            logger.info(&quot;exited from IFrame&quot;);\n            // exit from iframe\n        }\n    }\n</code></pre>\n<p>apo.xml file in src/test/java/META-INF</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;aspectj&gt;\n &lt;aspects&gt;\n  &lt;aspect name=&quot;com.stackoverflow.shop.FrameHandlingAspect&quot;/&gt;\n &lt;/aspects&gt; \n &lt;weaver options=&quot;-verbose -debug -showWeaveInfo&quot;&gt;\n  &lt;include within=&quot;com.stackoverflow..*&quot; /&gt;\n &lt;/weaver&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>TestClass in src/test/java</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class NavigationTests {\n\n@BeforeMethod(alwaysRun = true)\npublic void refreshAndSwitchTab(){\n  // performs refresh page action and opens a new tab\n}\n\n@AfterMethod(alwaysRun = true)\npublic void closeTab(){\n  // closes secondary tab\n}\n\n@Test(enabled=true)      \npublic void testNavigation() {\nNavBarInterface nbar = new NavigationBar();\nnbar.navigateToHelp(); //Aspects are not called before and after\nnbar.navigateToMenu();\n}\n    \n}\n</code></pre>\n<p>I'm running the NavigationTests class on Eclipse using Run Configuration/Run as testng test.I also tried running the test as providing vm argument  -Dtest=NavigationTests</p>\n<p>The tests are running fine but the aspects are never called. Not sure what mistake i'm doing here or does aspect doesn't run when we run a single test class. Any help is much appreciated.</p>\n"},{"tags":["java","string","numbers","decimal","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"down_vote_count":0,"up_vote_count":297,"is_accepted":true,"score":297,"last_activity_date":1447791668,"creation_date":1283989213,"answer_id":3672738,"question_id":3672731,"body_markdown":"You might want to look at the [`DecimalFormat`][1] class; it supports different locales (eg: in some countries that would get formatted as `1.000.500.000,57` instead).\r\n\r\nYou also need to convert that string into a number, this can be done with:\r\n\r\n    double amount = Double.parseDouble(number);\r\n\r\nCode sample:\r\n\r\n    String number = &quot;1000500000.574&quot;;\r\n    double amount = Double.parseDouble(number);\r\n    DecimalFormat formatter = new DecimalFormat(&quot;#,###.00&quot;);\r\n    \r\n    System.out.println(formatter.format(amount));\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\r\n  [2]: http://ideone.com/sRxUj","title":"How can I format a String number to have commas and round?","body":"<p>You might want to look at the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\"><code>DecimalFormat</code></a> class; it supports different locales (eg: in some countries that would get formatted as <code>1.000.500.000,57</code> instead).</p>\n\n<p>You also need to convert that string into a number, this can be done with:</p>\n\n<pre><code>double amount = Double.parseDouble(number);\n</code></pre>\n\n<p>Code sample:</p>\n\n<pre><code>String number = \"1000500000.574\";\ndouble amount = Double.parseDouble(number);\nDecimalFormat formatter = new DecimalFormat(\"#,###.00\");\n\nSystem.out.println(formatter.format(amount));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25410,"reputation":20977,"user_id":65299,"accept_rate":72,"display_name":"Aaron Novstrup"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1283990988,"creation_date":1283989832,"answer_id":3672796,"question_id":3672731,"body_markdown":"Once you&#39;ve converted your String to a number, you can use\r\n\r\n    // format the number for the default locale\r\n    NumberFormat.getInstance().format(num)\r\n\r\nor\r\n\r\n    // format the number for a particular locale\r\n    NumberFormat.getInstance(locale).format(num)\r\n","title":"How can I format a String number to have commas and round?","body":"<p>Once you've converted your String to a number, you can use</p>\n\n<pre><code>// format the number for the default locale\nNumberFormat.getInstance().format(num)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>// format the number for a particular locale\nNumberFormat.getInstance(locale).format(num)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1983926,"reputation":456,"user_id":1779783,"display_name":"Jeremy Trifilo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1546805838,"creation_date":1351364480,"answer_id":13103198,"question_id":3672731,"body_markdown":"I&#39;ve created my own formatting utility. Which is extremely fast at processing the formatting along with giving you many features :)\r\n\r\nIt supports:\r\n\r\n - Comma Formatting E.g. 1234567 becomes 1,234,567.  \r\n - Prefixing with &quot;Thousand(K),Million(M),Billion(B),Trillion(T)&quot;.  \r\n - Precision of 0 through 15.\r\n - Precision re-sizing (Means if you want 6 digit precision, but only have 3 available digits it forces it to 3).\r\n - Prefix lowering (Means if the prefix you choose is too large it lowers it to a more suitable prefix).\r\n\r\nThe code can be found [here](https://github.com/JeremyDX/Java-C-C-Language-Testing-/blob/master/Java%20Programs/ValueFormat/ValueFormat.java). You call it like this:\r\n\r\n    public static void main(String[])\r\n    {\r\n       int settings = ValueFormat.COMMAS | ValueFormat.PRECISION(2) | ValueFormat.MILLIONS;\r\n       String formatted = ValueFormat.format(1234567, settings);\r\n    }\r\n\r\nI should also point out this doesn&#39;t handle decimal support, but is very useful for integer values. The above example would show &quot;1.23M&quot; as the output. I could probably add decimal support maybe, but didn&#39;t see too much use for it since then I might as well merge this into a BigInteger type of class that handles compressed char[] arrays for math computations.","title":"How can I format a String number to have commas and round?","body":"<p>I've created my own formatting utility. Which is extremely fast at processing the formatting along with giving you many features :)</p>\n\n<p>It supports:</p>\n\n<ul>\n<li>Comma Formatting E.g. 1234567 becomes 1,234,567.  </li>\n<li>Prefixing with \"Thousand(K),Million(M),Billion(B),Trillion(T)\".  </li>\n<li>Precision of 0 through 15.</li>\n<li>Precision re-sizing (Means if you want 6 digit precision, but only have 3 available digits it forces it to 3).</li>\n<li>Prefix lowering (Means if the prefix you choose is too large it lowers it to a more suitable prefix).</li>\n</ul>\n\n<p>The code can be found <a href=\"https://github.com/JeremyDX/Java-C-C-Language-Testing-/blob/master/Java%20Programs/ValueFormat/ValueFormat.java\" rel=\"nofollow noreferrer\">here</a>. You call it like this:</p>\n\n<pre><code>public static void main(String[])\n{\n   int settings = ValueFormat.COMMAS | ValueFormat.PRECISION(2) | ValueFormat.MILLIONS;\n   String formatted = ValueFormat.format(1234567, settings);\n}\n</code></pre>\n\n<p>I should also point out this doesn't handle decimal support, but is very useful for integer values. The above example would show \"1.23M\" as the output. I could probably add decimal support maybe, but didn't see too much use for it since then I might as well merge this into a BigInteger type of class that handles compressed char[] arrays for math computations.</p>\n"},{"tags":[],"owner":{"account_id":3694702,"reputation":73,"user_id":3076415,"display_name":"Venod Raveendran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1393454388,"creation_date":1393454388,"answer_id":22055051,"question_id":3672731,"body_markdown":"The first answer works very well, but for ZERO / 0 it will format as .00\r\n\r\nHence the format #,##0.00 is working well for me.\r\nAlways test different numbers such as 0 / 100 / 2334.30 and negative numbers before deploying to production system.","title":"How can I format a String number to have commas and round?","body":"<p>The first answer works very well, but for ZERO / 0 it will format as .00</p>\n\n<p>Hence the format #,##0.00 is working well for me.\nAlways test different numbers such as 0 / 100 / 2334.30 and negative numbers before deploying to production system.</p>\n"},{"tags":[],"owner":{"account_id":436860,"reputation":2072,"user_id":824255,"display_name":"Jitendra Nath"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1617862229,"creation_date":1401274199,"answer_id":23909596,"question_id":3672731,"body_markdown":"you can also use the below solution\r\n\r\n```\r\npublic static String getRoundOffValue(double value){\r\n    DecimalFormat df = new DecimalFormat(&quot;##,##,##,##,##,##,##0.00&quot;);\r\n    return df.format(value);\r\n}\r\n```","title":"How can I format a String number to have commas and round?","body":"<p>you can also use the below solution</p>\n<pre><code>public static String getRoundOffValue(double value){\n    DecimalFormat df = new DecimalFormat(&quot;##,##,##,##,##,##,##0.00&quot;);\n    return df.format(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4025820,"reputation":61,"user_id":3314142,"display_name":"user3314142"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1406653794,"creation_date":1406652307,"answer_id":25020657,"question_id":3672731,"body_markdown":"\tpublic void convert(int s)\r\n\t{\r\n\t\tSystem.out.println(NumberFormat.getNumberInstance(Locale.US).format(s));\r\n\t}\r\n\r\n\tpublic static void main(String args[])\r\n\t{\r\n        LocalEx n=new LocalEx();\r\n\t    n.convert(10000);\r\n    }\r\n\t  \r\n\r\n\t","title":"How can I format a String number to have commas and round?","body":"<pre><code>public void convert(int s)\n{\n    System.out.println(NumberFormat.getNumberInstance(Locale.US).format(s));\n}\n\npublic static void main(String args[])\n{\n    LocalEx n=new LocalEx();\n    n.convert(10000);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4749302,"reputation":759,"user_id":3839722,"accept_rate":100,"display_name":"Peter Griffin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456559257,"creation_date":1456559257,"answer_id":35667160,"question_id":3672731,"body_markdown":"You can do the entire conversion in one line, using the following code:\r\n\r\n    String number = &quot;1000500000.574&quot;;\r\n    String convertedString = new DecimalFormat(&quot;#,###.##&quot;).format(Double.parseDouble(number));\r\n\r\nThe last two # signs in the DecimalFormat constructor can also be 0s.  Either way works.","title":"How can I format a String number to have commas and round?","body":"<p>You can do the entire conversion in one line, using the following code:</p>\n\n<pre><code>String number = \"1000500000.574\";\nString convertedString = new DecimalFormat(\"#,###.##\").format(Double.parseDouble(number));\n</code></pre>\n\n<p>The last two # signs in the DecimalFormat constructor can also be 0s.  Either way works.</p>\n"},{"tags":[],"owner":{"account_id":2629417,"reputation":812,"user_id":2275765,"display_name":"Greg H"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1496682719,"creation_date":1476210913,"answer_id":39984324,"question_id":3672731,"body_markdown":"This can also be accomplished using String.format(), which may be easier and/or more flexible if you are formatting multiple numbers in one string. \r\n\r\n    \tString number = &quot;1000500000.574&quot;;\r\n\t\tDouble numParsed = Double.parseDouble(number);\r\n\r\n\t\tSystem.out.println(String.format(&quot;The input number is: %,.2f&quot;, numParsed));\r\n        // Or\r\n        String numString = String.format(&quot;%,.2f&quot;, numParsed);\r\n\r\nFor the format string &quot;%,.2f&quot; - &quot;,&quot; means separate digit groups with commas, and &quot;.2&quot; means round to two places after the decimal.\r\n\r\nFor reference on other formatting options, see https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"How can I format a String number to have commas and round?","body":"<p>This can also be accomplished using String.format(), which may be easier and/or more flexible if you are formatting multiple numbers in one string. </p>\n\n<pre><code>    String number = \"1000500000.574\";\n    Double numParsed = Double.parseDouble(number);\n\n    System.out.println(String.format(\"The input number is: %,.2f\", numParsed));\n    // Or\n    String numString = String.format(\"%,.2f\", numParsed);\n</code></pre>\n\n<p>For the format string \"%,.2f\" - \",\" means separate digit groups with commas, and \".2\" means round to two places after the decimal.</p>\n\n<p>For reference on other formatting options, see <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/data/numberformat.html</a></p>\n"},{"tags":[],"owner":{"account_id":10845733,"reputation":41,"user_id":7975288,"display_name":"John Paker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494141505,"creation_date":1494140018,"answer_id":43828646,"question_id":3672731,"body_markdown":"Here is the simplest way to get there:\r\n\r\n    String number = &quot;10987655.876&quot;;\r\n    double result = Double.parseDouble(number);\r\n    System.out.println(String.format(&quot;%,.2f&quot;,result)); \r\n\r\noutput:\r\n10,987,655.88","title":"How can I format a String number to have commas and round?","body":"<p>Here is the simplest way to get there:</p>\n\n<pre><code>String number = \"10987655.876\";\ndouble result = Double.parseDouble(number);\nSystem.out.println(String.format(\"%,.2f\",result)); \n</code></pre>\n\n<p>output:\n10,987,655.88</p>\n"},{"tags":[],"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1537543417,"creation_date":1537543417,"answer_id":52446831,"question_id":3672731,"body_markdown":"Given this is the number one Google result for `format number commas java`, here&#39;s an answer that works for people who are working with whole numbers and don&#39;t care about decimals.\r\n\r\n    String.format(&quot;%,d&quot;, 2000000)\r\n\r\noutputs:\r\n\r\n    2,000,000","title":"How can I format a String number to have commas and round?","body":"<p>Given this is the number one Google result for <code>format number commas java</code>, here's an answer that works for people who are working with whole numbers and don't care about decimals.</p>\n\n<pre><code>String.format(\"%,d\", 2000000)\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>2,000,000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8402463,"reputation":536,"user_id":6307126,"display_name":"TheLastCodeBender"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1674227800,"creation_date":1674227800,"answer_id":75185959,"question_id":3672731,"body_markdown":"According to chartGPT\r\n\r\nUsing DecimalFormat:\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\r\n    String formattedNumber = df.format(yourNumber);\r\n\r\nUsing NumberFormat:\r\n\r\n    NumberFormat nf = NumberFormat.getNumberInstance();\r\n    nf.setGroupingUsed(true);\r\n    String formattedNumber = nf.format(yourNumber);\r\n\r\nUsing String.format():\r\n\r\n    String formattedNumber = String.format(&quot;%,.2f&quot;, yourNumber);\r\n\r\nNote: In all the above examples, &quot;yourNumber&quot; is the double value that you want to format with a comma. The &quot;.2f&quot; in the format string indicates that the decimal places should be rounded to 2 decimal places. You can adjust this value as needed.\r\n","title":"How can I format a String number to have commas and round?","body":"<p>According to chartGPT</p>\n<p>Using DecimalFormat:</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\nString formattedNumber = df.format(yourNumber);\n</code></pre>\n<p>Using NumberFormat:</p>\n<pre><code>NumberFormat nf = NumberFormat.getNumberInstance();\nnf.setGroupingUsed(true);\nString formattedNumber = nf.format(yourNumber);\n</code></pre>\n<p>Using String.format():</p>\n<pre><code>String formattedNumber = String.format(&quot;%,.2f&quot;, yourNumber);\n</code></pre>\n<p>Note: In all the above examples, &quot;yourNumber&quot; is the double value that you want to format with a comma. The &quot;.2f&quot; in the format string indicates that the decimal places should be rounded to 2 decimal places. You can adjust this value as needed.</p>\n"}],"owner":{"account_id":10501,"reputation":60221,"user_id":19875,"accept_rate":92,"display_name":"Sheehan Alam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319390,"favorite_count":0,"down_vote_count":0,"up_vote_count":185,"accepted_answer_id":3672738,"answer_count":11,"score":185,"last_activity_date":1674227800,"creation_date":1283989100,"question_id":3672731,"body_markdown":"What is the best way to format the following number that is given to me as a String?\r\n\r\n    String number = &quot;1000500000.574&quot; //assume my value will always be a String\r\n\r\nI want this to be a String with the value: `1,000,500,000.57`\r\n\r\nHow can I format it as such?\r\n\r\n","title":"How can I format a String number to have commas and round?","body":"<p>What is the best way to format the following number that is given to me as a String?</p>\n\n<pre><code>String number = \"1000500000.574\" //assume my value will always be a String\n</code></pre>\n\n<p>I want this to be a String with the value: <code>1,000,500,000.57</code></p>\n\n<p>How can I format it as such?</p>\n"},{"tags":["java","gradle","build.gradle","wrapper"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1669450560,"post_id":74559254,"comment_id":131647061,"body_markdown":"as path implies - there must be a gradle daemon still running. you can kill the process from task manager - usually listed as java. Or restart the machine.","body":"as path implies - there must be a gradle daemon still running. you can kill the process from task manager - usually listed as java. Or restart the machine."}],"answers":[{"tags":[],"owner":{"account_id":343423,"reputation":13,"user_id":7155818,"display_name":"yakkle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674227755,"creation_date":1671092016,"answer_id":74808557,"question_id":74559254,"body_markdown":"When you run gradle with `GRADLE_USER_HOME`, gradle daemon create `registry.bin.lock` on your `GRADLE_USER_HOME/.gradle/daemon/&lt;gradle-version&gt;`. Also, gradle daemon running on background.\r\n\r\nGradle daemon recreate `registry.bin.lock` when lock file deleted.\r\n\r\nIf you want to delete `.gradle` directory, there are two options.\r\n\r\n1. kill gradle daemon before delete `.gradle`\r\n\r\n```\r\n$ jps\r\n91432 Jps\r\n6875\r\n91146 GradleDaemon\r\n$ kill -TERM 91146\r\n```\r\n\r\n2. gradle run without daemon\r\n\r\n```\r\n$ gradle &lt;task&gt; --nodaemon\r\n```\r\n\r\nhttps://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon\r\n","title":"Deletion of .gradle Folder in User Directory Recreates Again a File under the name registry.bin.lock","body":"<p>When you run gradle with <code>GRADLE_USER_HOME</code>, gradle daemon create <code>registry.bin.lock</code> on your <code>GRADLE_USER_HOME/.gradle/daemon/&lt;gradle-version&gt;</code>. Also, gradle daemon running on background.</p>\n<p>Gradle daemon recreate <code>registry.bin.lock</code> when lock file deleted.</p>\n<p>If you want to delete <code>.gradle</code> directory, there are two options.</p>\n<ol>\n<li>kill gradle daemon before delete <code>.gradle</code></li>\n</ol>\n<pre><code>$ jps\n91432 Jps\n6875\n91146 GradleDaemon\n$ kill -TERM 91146\n</code></pre>\n<ol start=\"2\">\n<li>gradle run without daemon</li>\n</ol>\n<pre><code>$ gradle &lt;task&gt; --nodaemon\n</code></pre>\n<p><a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon</a></p>\n"},{"tags":[],"owner":{"account_id":20652168,"reputation":48,"user_id":15341782,"display_name":"Kostas_Papad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671199114,"creation_date":1671199114,"answer_id":74825452,"question_id":74559254,"body_markdown":"Check in your task manager if there&#39;s any Java process that runs and stop it. After that, you should be able to delete this file and stop also it&#39;s recreation.","title":"Deletion of .gradle Folder in User Directory Recreates Again a File under the name registry.bin.lock","body":"<p>Check in your task manager if there's any Java process that runs and stop it. After that, you should be able to delete this file and stop also it's recreation.</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74825452,"answer_count":2,"score":1,"last_activity_date":1674227755,"creation_date":1669285820,"question_id":74559254,"body_markdown":"I am facing a problem with my Gradle Configuration. I want to completely delete my .gradle file but as soon as I do that, the folder gets recreated again only with a file under the name registry.bin.lock. There&#39;s no way for me to delete this file.\r\n\r\nI want to install gradle wrapper again, but since this file existance I am getting the following error: &quot;Error: Unexpected lock protocol found in lock file. Expected 3, found 50&quot;.\r\n\r\nAny advices??? I am providing a picture of the file I am referring to...\r\n\r\n[![Problematic File][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/atkS6.png","title":"Deletion of .gradle Folder in User Directory Recreates Again a File under the name registry.bin.lock","body":"<p>I am facing a problem with my Gradle Configuration. I want to completely delete my .gradle file but as soon as I do that, the folder gets recreated again only with a file under the name registry.bin.lock. There's no way for me to delete this file.</p>\n<p>I want to install gradle wrapper again, but since this file existance I am getting the following error: &quot;Error: Unexpected lock protocol found in lock file. Expected 3, found 50&quot;.</p>\n<p>Any advices??? I am providing a picture of the file I am referring to...</p>\n<p><a href=\"https://i.stack.imgur.com/atkS6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atkS6.png\" alt=\"Problematic File\" /></a></p>\n"},{"tags":["java","jenkins","groovy","jenkins-plugins","jenkins-groovy"],"owner":{"account_id":17221308,"reputation":11,"user_id":12468015,"display_name":"BVDE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674227655,"creation_date":1674107512,"question_id":75168223,"body_markdown":"We have one tool that is using Jenkins builds.\r\nJenkins was installed based on a system user Ex.ABC123, jobs were configured , and we had some 3 jobs which was given Project-based Matrix Authorization Strategy and only restricted users was having the access.\r\n\r\nBut unfortunately we had to change the password of this system user ABC123 and now the Jenkins is no more accessible.\r\n\r\nI had searched for some solutions , but really didnt get what is required.\r\n\r\nGot some workaround from this [Change the security setting](https://stackoverflow.com/questions/39340322/how-to-reset-the-user-password-of-jenkins-on-windows). With this the security was removed , so the Jenkins was accessible to everyone, which needs to be restricted again like before based on the groups\r\n\r\nI tried to add the groups again , but getting [Group not found error](https://i.stack.imgur.com/bBEYg.png)\r\n\r\nCan anyone help in this to resolve and make the Jenkins working as before","title":"Change Jenkins service user credentials and restart Jenkins with all existing configurations","body":"<p>We have one tool that is using Jenkins builds.\nJenkins was installed based on a system user Ex.ABC123, jobs were configured , and we had some 3 jobs which was given Project-based Matrix Authorization Strategy and only restricted users was having the access.</p>\n<p>But unfortunately we had to change the password of this system user ABC123 and now the Jenkins is no more accessible.</p>\n<p>I had searched for some solutions , but really didnt get what is required.</p>\n<p>Got some workaround from this <a href=\"https://stackoverflow.com/questions/39340322/how-to-reset-the-user-password-of-jenkins-on-windows\">Change the security setting</a>. With this the security was removed , so the Jenkins was accessible to everyone, which needs to be restricted again like before based on the groups</p>\n<p>I tried to add the groups again , but getting <a href=\"https://i.stack.imgur.com/bBEYg.png\" rel=\"nofollow noreferrer\">Group not found error</a></p>\n<p>Can anyone help in this to resolve and make the Jenkins working as before</p>\n"},{"tags":["java","maven","jakarta-mail","noclassdeffounderror"],"comments":[{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":1,"creation_date":1673538791,"post_id":75098885,"comment_id":132526510,"body_markdown":"How did you build the jar file? `mvn clean package`? What if you extract the jar file, is the MessagingException file in there?","body":"How did you build the jar file? <code>mvn clean package</code>? What if you extract the jar file, is the MessagingException file in there?"},{"owner":{"account_id":26070865,"reputation":1,"user_id":19898204,"display_name":"jasonwardenburg"},"score":0,"creation_date":1673547779,"post_id":75098885,"comment_id":132529651,"body_markdown":"was doing `clean install` but changed to `clean package`; same results both ways","body":"was doing <code>clean install</code> but changed to <code>clean package</code>; same results both ways"}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674138991,"creation_date":1673541881,"answer_id":75099641,"question_id":75098885,"body_markdown":"When building a web app, dependencies are, of course, bundled in the .WAR/.EAR.\r\n\r\nHowever, by default, Maven will **not** bundle dependencies inside your .jar file. (In other words, jars will not be put inside of other jars).\r\n\r\nNevertheless, you can use the `jar-with-dependencies` descriptor. More details can be found on the questions below:\r\n\r\nhttps://stackoverflow.com/q/1729054/2657515\r\n\r\nhttps://stackoverflow.com/q/574594/2657515\r\n\r\n----\r\n\r\nAlternatively, you could add the `mail-1.6.2.jar` on the Java classpath like so:\r\n\r\n````shell\r\njava -jar &quot;myjar.jar&quot; -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar&quot;\r\n````\r\n\r\nIt is **not** necessary to create an executable JAR. You can package a regular jar, allow Maven to generate the MANIFEST.MF, making sure to add the regular JAR to the Java classpath, and specify the class with the `main` function on the command line:\r\n\r\n````shell\r\njava -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar:/path/to/myjar.jar&quot; &quot;com.mypackage.MyClass&quot; &quot;param1 param2 etc&quot;\r\n````\r\n\r\n*Please note that [classpath separators are different][2] on Linux (colon) vs Windows (semi-colon)*\r\n\r\n  [2]: https://www.baeldung.com/java-classpath-syntax","title":"maven project java -jar : NoClassDefFoundError: javax/mail/MessagingException","body":"<p>When building a web app, dependencies are, of course, bundled in the .WAR/.EAR.</p>\n<p>However, by default, Maven will <strong>not</strong> bundle dependencies inside your .jar file. (In other words, jars will not be put inside of other jars).</p>\n<p>Nevertheless, you can use the <code>jar-with-dependencies</code> descriptor. More details can be found on the questions below:</p>\n<p><a href=\"https://stackoverflow.com/q/1729054/2657515\">Including dependencies in a jar with Maven</a></p>\n<p><a href=\"https://stackoverflow.com/q/574594/2657515\">How can I create an executable/runnable JAR with dependencies using Maven?</a></p>\n<hr />\n<p>Alternatively, you could add the <code>mail-1.6.2.jar</code> on the Java classpath like so:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar &quot;myjar.jar&quot; -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar&quot;\n</code></pre>\n<p>It is <strong>not</strong> necessary to create an executable JAR. You can package a regular jar, allow Maven to generate the MANIFEST.MF, making sure to add the regular JAR to the Java classpath, and specify the class with the <code>main</code> function on the command line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar:/path/to/myjar.jar&quot; &quot;com.mypackage.MyClass&quot; &quot;param1 param2 etc&quot;\n</code></pre>\n<p><em>Please note that <a href=\"https://www.baeldung.com/java-classpath-syntax\" rel=\"nofollow noreferrer\">classpath separators are different</a> on Linux (colon) vs Windows (semi-colon)</em></p>\n"}],"owner":{"account_id":26070865,"reputation":1,"user_id":19898204,"display_name":"jasonwardenburg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674227339,"creation_date":1673538258,"question_id":75098885,"body_markdown":"I have a java project that sends email built with maven (using Eclipse) and it works within Eclipse with no problem, but when trying to package a runnable jar, I am having an issue \r\n\r\n    Error: Unable to initialize main class com.my.package.MyClass\r\n    Caused by: java.lang.NoClassDefFoundError: javax/mail/MessagingException\r\n\r\nI have this for my dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\nand plugins set up like so:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.1&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;shade&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;transformers&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/transformer&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n            &lt;/transformers&gt;\r\n            &lt;filters&gt;\r\n              &lt;filter&gt;\r\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;excludes&gt;\r\n                  &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                  &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                  &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n              &lt;/filter&gt;\r\n            &lt;/filters&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\nI can see javax.mail-1.6.2.jar in my maven dependencies, so not sure why I am unable to run the jar...is there a config option I missed?\r\n\r\nthanks!\r\n\r\nI searched around and tried numerous variations of the shade and jar plugins, I expected to be able to run the jar off the command line using java -jar myjar.jar. Most of the posts I found in my search recommended adding the mail jar to the classpath, but that looks like it&#39;s already done, as the jar is in the list of maven dependencies. \r\n\r\n\r\n## Update\r\nHave tried multiple variations, as per suggestions below. Tried the `maven-assembly-plugin` making sure to add the `&lt;mainClass&gt;com.etcetera.MyClass&lt;/mainClass&gt;` tag. With those variations I got `no main manifest attribute, in myjar.jar`. I then added in the `maven-jar-plugin` plugin, also adding the main class and I&#39;m now back to the original error. \r\n\r\n## Update2\r\nwhen I open up the archive, I see this:\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: Apache Maven 3.8.4\r\n    Built-By: myUserName\r\n    Build-Jdk: 15\r\n\r\nwhich appears to be missing the `Main-Class: com.javabyexamples.java.jar.HelloWorld` line\r\n\r\n## Resolution\r\n\r\nI resolved the issue by building the project twice in Eclipse: `clean package` and then `clean compile assembly:single`\r\n","title":"maven project java -jar : NoClassDefFoundError: javax/mail/MessagingException","body":"<p>I have a java project that sends email built with maven (using Eclipse) and it works within Eclipse with no problem, but when trying to package a runnable jar, I am having an issue</p>\n<pre><code>Error: Unable to initialize main class com.my.package.MyClass\nCaused by: java.lang.NoClassDefFoundError: javax/mail/MessagingException\n</code></pre>\n<p>I have this for my dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n\n    &lt;/dependency&gt;\n</code></pre>\n<p>and plugins set up like so:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n        &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;transformers&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n            &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\n            &lt;manifestEntries&gt;\n              &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/transformer&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n        &lt;/transformers&gt;\n        &lt;filters&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n              &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n              &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/filter&gt;\n        &lt;/filters&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I can see javax.mail-1.6.2.jar in my maven dependencies, so not sure why I am unable to run the jar...is there a config option I missed?</p>\n<p>thanks!</p>\n<p>I searched around and tried numerous variations of the shade and jar plugins, I expected to be able to run the jar off the command line using java -jar myjar.jar. Most of the posts I found in my search recommended adding the mail jar to the classpath, but that looks like it's already done, as the jar is in the list of maven dependencies.</p>\n<h2>Update</h2>\n<p>Have tried multiple variations, as per suggestions below. Tried the <code>maven-assembly-plugin</code> making sure to add the <code>&lt;mainClass&gt;com.etcetera.MyClass&lt;/mainClass&gt;</code> tag. With those variations I got <code>no main manifest attribute, in myjar.jar</code>. I then added in the <code>maven-jar-plugin</code> plugin, also adding the main class and I'm now back to the original error.</p>\n<h2>Update2</h2>\n<p>when I open up the archive, I see this:</p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: Apache Maven 3.8.4\nBuilt-By: myUserName\nBuild-Jdk: 15\n</code></pre>\n<p>which appears to be missing the <code>Main-Class: com.javabyexamples.java.jar.HelloWorld</code> line</p>\n<h2>Resolution</h2>\n<p>I resolved the issue by building the project twice in Eclipse: <code>clean package</code> and then <code>clean compile assembly:single</code></p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674209302,"post_id":75182470,"comment_id":132669641,"body_markdown":"Yes, that is quite possible. And it&#39;s not all that difficult. stream -&gt; filter -&gt; findFirst -&gt; if present ...","body":"Yes, that is quite possible. And it&#39;s not all that difficult. stream -&gt; filter -&gt; findFirst -&gt; if present ..."},{"owner":{"account_id":19929498,"reputation":1,"user_id":14603362,"display_name":"lokesh598"},"score":0,"creation_date":1674224425,"post_id":75182470,"comment_id":132674595,"body_markdown":"for (ItemDO item : updateItems.getItemsDO().getItems())\nhow to do if loop given like this @Stultuske.","body":"for (ItemDO item : updateItems.getItemsDO().getItems()) how to do if loop given like this @Stultuske."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674224590,"post_id":75182470,"comment_id":132674656,"body_markdown":"SO is not about handing you custom code. We either put you on the right path, or, if you&#39;ve already tried, help you correct your code. So far, I haven&#39;t even seen you attempt to create a Stream.","body":"SO is not about handing you custom code. We either put you on the right path, or, if you&#39;ve already tried, help you correct your code. So far, I haven&#39;t even seen you attempt to create a Stream."}],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674212447,"creation_date":1674212447,"answer_id":75183130,"question_id":75182470,"body_markdown":"Certainly, you can convert it as follows:\r\n```\r\nOptional&lt;Double&gt; optionFeeAmount = feeList\r\n\t\t\t\t.stream()\r\n\t\t\t\t.filter(fee -&gt; feeType.equalsIgnoreCase(fee.getType()))\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.map(Fees::getAmountFee);\r\n```\r\n\r\nYou can add `orElse(0)` at the end, if you want to return 0 as a default result. Also you can use `findAny()` if the sequence in list doesn&#39;t matter.","title":"How to convert loop into stream, to this java code snippet","body":"<p>Certainly, you can convert it as follows:</p>\n<pre><code>Optional&lt;Double&gt; optionFeeAmount = feeList\n                .stream()\n                .filter(fee -&gt; feeType.equalsIgnoreCase(fee.getType()))\n                .findFirst()\n                .map(Fees::getAmountFee);\n</code></pre>\n<p>You can add <code>orElse(0)</code> at the end, if you want to return 0 as a default result. Also you can use <code>findAny()</code> if the sequence in list doesn't matter.</p>\n"},{"tags":[],"owner":{"account_id":10356325,"reputation":98,"user_id":7638169,"display_name":"Houari Zegai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674227176,"creation_date":1674226729,"answer_id":75185728,"question_id":75182470,"body_markdown":"Yes possible, something like:\r\n\r\n    baseFee = feeList.stream().filter(fee -&gt; fee.getType().equalsIgnoreCase(feeType))\r\n                .map(Fees::getAmountFee)\r\n                .findFirst()\r\n                .orElse(baseFee);\r\n\r\nSolution explanation:\r\n- `filter` function replace the if condition\r\n- `map` function will replace every `Fees` with their `amountFee`\r\n- `findFirst` function will do the same job as `break;` and will return on the first match.\r\n- `orElse` if there is no match I kept the same `baseFee` value\r\n\r\nThe stream API (functional programming) is smart enough in performance meaning that it will not filter everything and then do the map, instead it will do it in its way, with good performance.","title":"How to convert loop into stream, to this java code snippet","body":"<p>Yes possible, something like:</p>\n<pre><code>baseFee = feeList.stream().filter(fee -&gt; fee.getType().equalsIgnoreCase(feeType))\n            .map(Fees::getAmountFee)\n            .findFirst()\n            .orElse(baseFee);\n</code></pre>\n<p>Solution explanation:</p>\n<ul>\n<li><code>filter</code> function replace the if condition</li>\n<li><code>map</code> function will replace every <code>Fees</code> with their <code>amountFee</code></li>\n<li><code>findFirst</code> function will do the same job as <code>break;</code> and will return on the first match.</li>\n<li><code>orElse</code> if there is no match I kept the same <code>baseFee</code> value</li>\n</ul>\n<p>The stream API (functional programming) is smart enough in performance meaning that it will not filter everything and then do the map, instead it will do it in its way, with good performance.</p>\n"}],"owner":{"account_id":19929498,"reputation":1,"user_id":14603362,"display_name":"lokesh598"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674409118,"answer_count":2,"score":-1,"last_activity_date":1674227176,"creation_date":1674209002,"question_id":75182470,"body_markdown":"     for(Fees fee : feeList) {\r\n        if(fee.getType().equalsIgnoreCase(feeType)) {\r\n            baseFee = fee.getAmountFee();\r\n            break;\r\n        }\r\n     }\r\n\r\n\r\nI wanted to know if it&#39;s possible to convert the above example to a single stream where there is a for loop.","title":"How to convert loop into stream, to this java code snippet","body":"<pre><code> for(Fees fee : feeList) {\n    if(fee.getType().equalsIgnoreCase(feeType)) {\n        baseFee = fee.getAmountFee();\n        break;\n    }\n }\n</code></pre>\n<p>I wanted to know if it's possible to convert the above example to a single stream where there is a for loop.</p>\n"},{"tags":["java","json","url"],"comments":[{"owner":{"account_id":157715,"reputation":47893,"user_id":375874,"accept_rate":88,"display_name":"Falmarri"},"score":9,"creation_date":1291068532,"post_id":4308554,"comment_id":4678387,"body_markdown":"The exception handling is required as java forces you to handle any exceptions that are declared. What&#39;s wrong with exception handling?","body":"The exception handling is required as java forces you to handle any exceptions that are declared. What&#39;s wrong with exception handling?"},{"owner":{"account_id":121246,"reputation":899,"user_id":314198,"accept_rate":83,"display_name":"Jonatan Cloutier"},"score":3,"creation_date":1425668087,"post_id":4308554,"comment_id":46070565,"body_markdown":"well, the &quot;java force you&quot; is the biggest problem","body":"well, the &quot;java force you&quot; is the biggest problem"},{"owner":{"account_id":2914500,"reputation":1161,"user_id":2498017,"accept_rate":69,"display_name":"Richard Barker"},"score":9,"creation_date":1436647021,"post_id":4308554,"comment_id":50703957,"body_markdown":"If java didn&#39;t force you to handle exceptions do you think programs would still run and run well? What if I was asked to input my age into a program and I gave snarfleblagger as my input? Should java allow the program to just execute with no issues? If you don&#39;t want to handle exceptions then declare them as being thrown by the methods that they may occur in and watch your program fail when something isn&#39;t perfectly right.","body":"If java didn&#39;t force you to handle exceptions do you think programs would still run and run well? What if I was asked to input my age into a program and I gave snarfleblagger as my input? Should java allow the program to just execute with no issues? If you don&#39;t want to handle exceptions then declare them as being thrown by the methods that they may occur in and watch your program fail when something isn&#39;t perfectly right."},{"owner":{"account_id":220298,"reputation":8130,"user_id":477628,"accept_rate":91,"display_name":"dtbarne"},"score":4,"creation_date":1453155692,"post_id":4308554,"comment_id":57469608,"body_markdown":"Not a dumb question at all. Especially coming from PHP where you can do this with `json_decode(file_get_contents($url));` and be done!","body":"Not a dumb question at all. Especially coming from PHP where you can do this with <code>json_decode(file_get_contents($url));</code> and be done!"}],"answers":[{"tags":[],"owner":{"account_id":35217,"reputation":1999,"user_id":99665,"display_name":"Jon Snyder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521616797,"creation_date":1291068526,"answer_id":4308572,"question_id":4308554,"body_markdown":"Use [HttpClient][1] to grab the contents of the URL.  And then use the library from [json.org][2] to parse the JSON.  I&#39;ve used these two libraries on many projects and they have been robust and simple to use.\r\n\r\nOther than that you can try using a Facebook API java library.  I don&#39;t have any experience in this area, but there is a question on stack overflow related to [using a Facebook API in java][3]. You may want to look at [RestFB][4] as a good choice for a library to use.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/index.html\r\n  [2]: http://json.org\r\n  [3]: https://stackoverflow.com/questions/1360060/facebook-api-and-facebook-connect-using-java\r\n  [4]: http://restfb.com/","title":"Simplest way to read JSON from a URL in Java","body":"<p>Use <a href=\"http://hc.apache.org/httpcomponents-client-ga/index.html\" rel=\"nofollow noreferrer\">HttpClient</a> to grab the contents of the URL.  And then use the library from <a href=\"http://json.org\" rel=\"nofollow noreferrer\">json.org</a> to parse the JSON.  I've used these two libraries on many projects and they have been robust and simple to use.</p>\n\n<p>Other than that you can try using a Facebook API java library.  I don't have any experience in this area, but there is a question on stack overflow related to <a href=\"https://stackoverflow.com/questions/1360060/facebook-api-and-facebook-connect-using-java\">using a Facebook API in java</a>. You may want to look at <a href=\"http://restfb.com/\" rel=\"nofollow noreferrer\">RestFB</a> as a good choice for a library to use.</p>\n"},{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1291068927,"creation_date":1291068927,"answer_id":4308633,"question_id":4308554,"body_markdown":"I am not sure if this is efficient, but this is one of the possible ways:\r\n\r\nRead json from url use `url.openStream()` and read contents into a string.\r\n\r\nconstruct a JSON object with this string (more at [json.org][1])\r\n\r\n    JSONObject(java.lang.String source)\r\n          Construct a JSONObject from a source JSON text string.\r\n\r\n\r\n  [1]: http://www.json.org/javadoc/org/json/JSONObject.html\r\n\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>I am not sure if this is efficient, but this is one of the possible ways:</p>\n\n<p>Read json from url use <code>url.openStream()</code> and read contents into a string.</p>\n\n<p>construct a JSON object with this string (more at <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\" rel=\"nofollow\">json.org</a>)</p>\n\n<pre><code>JSONObject(java.lang.String source)\n      Construct a JSONObject from a source JSON text string.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":2,"up_vote_count":229,"is_accepted":false,"score":227,"last_activity_date":1291069574,"creation_date":1291069156,"answer_id":4308662,"question_id":4308554,"body_markdown":"Using the Maven artifact `org.json:json` I got the following code, which I think is quite short. Not as short as possible, but still usable.\r\n\r\n    package so4308554;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.net.URL;\r\n    import java.nio.charset.Charset;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    public class JsonReader {\r\n    \r\n      private static String readAll(Reader rd) throws IOException {\r\n        StringBuilder sb = new StringBuilder();\r\n        int cp;\r\n        while ((cp = rd.read()) != -1) {\r\n          sb.append((char) cp);\r\n        }\r\n        return sb.toString();\r\n      }\r\n    \r\n      public static JSONObject readJsonFromUrl(String url) throws IOException, JSONException {\r\n        InputStream is = new URL(url).openStream();\r\n        try {\r\n          BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\r\n          String jsonText = readAll(rd);\r\n          JSONObject json = new JSONObject(jsonText);\r\n          return json;\r\n        } finally {\r\n          is.close();\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) throws IOException, JSONException {\r\n        JSONObject json = readJsonFromUrl(&quot;https://graph.facebook.com/19292868552&quot;);\r\n        System.out.println(json.toString());\r\n        System.out.println(json.get(&quot;id&quot;));\r\n      }\r\n    }\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>Using the Maven artifact <code>org.json:json</code> I got the following code, which I think is quite short. Not as short as possible, but still usable.</p>\n\n<pre><code>package so4308554;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.net.URL;\nimport java.nio.charset.Charset;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class JsonReader {\n\n  private static String readAll(Reader rd) throws IOException {\n    StringBuilder sb = new StringBuilder();\n    int cp;\n    while ((cp = rd.read()) != -1) {\n      sb.append((char) cp);\n    }\n    return sb.toString();\n  }\n\n  public static JSONObject readJsonFromUrl(String url) throws IOException, JSONException {\n    InputStream is = new URL(url).openStream();\n    try {\n      BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(\"UTF-8\")));\n      String jsonText = readAll(rd);\n      JSONObject json = new JSONObject(jsonText);\n      return json;\n    } finally {\n      is.close();\n    }\n  }\n\n  public static void main(String[] args) throws IOException, JSONException {\n    JSONObject json = readJsonFromUrl(\"https://graph.facebook.com/19292868552\");\n    System.out.println(json.toString());\n    System.out.println(json.get(\"id\"));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":2,"up_vote_count":76,"is_accepted":false,"score":74,"last_activity_date":1291087743,"creation_date":1291087743,"answer_id":4310273,"question_id":4308554,"body_markdown":"Here are couple of alternatives versions with [Jackson][1] (since there are more than one ways you might want data as):\r\n\r\n      ObjectMapper mapper = new ObjectMapper(); // just need one\r\n      // Got a Java class that data maps to nicely? If so:\r\n      FacebookGraph graph = mapper.readValue(url, FaceBookGraph.class);\r\n      // Or: if no class (and don&#39;t need one), just map to Map.class:\r\n      Map&lt;String,Object&gt; map = mapper.readValue(url, Map.class);\r\n\r\nAnd specifically the usual (IMO) case where you want to deal with Java objects, can be made one liner:\r\n\r\n    FacebookGraph graph = new ObjectMapper().readValue(url, FaceBookGraph.class);\r\n\r\nOther libs like Gson also support one-line methods; why many examples show much longer sections is odd. And even worse is that many examples use obsolete org.json library; it may have been the first thing around, but there are half a dozen better alternatives so there is very little reason to use it.\r\n\r\n  [1]: http://jackson.codehaus.org\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>Here are couple of alternatives versions with <a href=\"http://jackson.codehaus.org\" rel=\"noreferrer\">Jackson</a> (since there are more than one ways you might want data as):</p>\n\n<pre><code>  ObjectMapper mapper = new ObjectMapper(); // just need one\n  // Got a Java class that data maps to nicely? If so:\n  FacebookGraph graph = mapper.readValue(url, FaceBookGraph.class);\n  // Or: if no class (and don't need one), just map to Map.class:\n  Map&lt;String,Object&gt; map = mapper.readValue(url, Map.class);\n</code></pre>\n\n<p>And specifically the usual (IMO) case where you want to deal with Java objects, can be made one liner:</p>\n\n<pre><code>FacebookGraph graph = new ObjectMapper().readValue(url, FaceBookGraph.class);\n</code></pre>\n\n<p>Other libs like Gson also support one-line methods; why many examples show much longer sections is odd. And even worse is that many examples use obsolete org.json library; it may have been the first thing around, but there are half a dozen better alternatives so there is very little reason to use it.</p>\n"},{"tags":[],"owner":{"account_id":2869195,"reputation":63,"user_id":2462888,"display_name":"Ribin Das"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1393222871,"creation_date":1370685150,"answer_id":16998270,"question_id":4308554,"body_markdown":"I have done the json parser in simplest way, here it is\r\n\r\n    package com.inzane.shoapp.activity;\r\n \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    import android.util.Log;\r\n\r\n    public class JSONParser {\r\n\r\n\tstatic InputStream is = null;\r\n\tstatic JSONObject jObj = null;\r\n\tstatic String json = &quot;&quot;;\r\n\r\n\t// constructor\r\n\tpublic JSONParser() {\r\n\r\n\t}\r\n\r\n\tpublic JSONObject getJSONFromUrl(String url) {\r\n\r\n\t\t// Making HTTP request\r\n\t\ttry {\r\n\t\t\t// defaultHttpClient\r\n\t\t\tDefaultHttpClient httpClient = new DefaultHttpClient();\r\n\t\t\tHttpPost httpPost = new HttpPost(url);\r\n\r\n\t\t\tHttpResponse httpResponse = httpClient.execute(httpPost);\r\n\t\t\tHttpEntity httpEntity = httpResponse.getEntity();\r\n\t\t\tis = httpEntity.getContent();\r\n\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClientProtocolException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\tis, &quot;iso-8859-1&quot;), 8);\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t}\r\n\t\t\tis.close();\r\n\t\t\tjson = sb.toString();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tLog.e(&quot;Buffer Error&quot;, &quot;Error converting result &quot; + e.toString());\r\n\t\t}\r\n\r\n\t\t// try parse the string to a JSON object\r\n\t\ttry {\r\n\t\t\tjObj = new JSONObject(json);\r\n\t\t} catch (JSONException e) {\r\n\t\t\tLog.e(&quot;JSON Parser&quot;, &quot;Error parsing data &quot; + e.toString());\r\n\t\t\tSystem.out.println(&quot;error on parse data in jsonparser.java&quot;);\r\n\t\t}\r\n\r\n\t\t// return JSON String\r\n\t\treturn jObj;\r\n\r\n  \t}\r\n    }\r\n\r\nthis class returns the json object from the url\r\n\r\nand when you want the json object you just call this class and the method in your Activity class\r\n\r\nmy code is here\r\n\r\n    String url = &quot;your url&quot;;\r\n    JSONParser jsonParser = new JSONParser();\r\n    JSONObject object = jsonParser.getJSONFromUrl(url);\r\n    String content=object.getString(&quot;json key&quot;);\r\n\r\n\r\nhere the &quot;json key&quot; is denoted that the key in your json file\r\n\r\nthis is a simple json file example\r\n\r\n    {\r\n        &quot;json&quot;:&quot;hi&quot;\r\n    }\r\n\r\nHere &quot;json&quot; is key and &quot;hi&quot; is value\r\n\r\n\r\nThis will get your json value to string content.","title":"Simplest way to read JSON from a URL in Java","body":"<p>I have done the json parser in simplest way, here it is</p>\n\n<pre><code>package com.inzane.shoapp.activity;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.util.Log;\n\npublic class JSONParser {\n\nstatic InputStream is = null;\nstatic JSONObject jObj = null;\nstatic String json = \"\";\n\n// constructor\npublic JSONParser() {\n\n}\n\npublic JSONObject getJSONFromUrl(String url) {\n\n    // Making HTTP request\n    try {\n        // defaultHttpClient\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpPost httpPost = new HttpPost(url);\n\n        HttpResponse httpResponse = httpClient.execute(httpPost);\n        HttpEntity httpEntity = httpResponse.getEntity();\n        is = httpEntity.getContent();\n\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (ClientProtocolException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                is, \"iso-8859-1\"), 8);\n        StringBuilder sb = new StringBuilder();\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line + \"\\n\");\n            System.out.println(line);\n        }\n        is.close();\n        json = sb.toString();\n\n    } catch (Exception e) {\n        Log.e(\"Buffer Error\", \"Error converting result \" + e.toString());\n    }\n\n    // try parse the string to a JSON object\n    try {\n        jObj = new JSONObject(json);\n    } catch (JSONException e) {\n        Log.e(\"JSON Parser\", \"Error parsing data \" + e.toString());\n        System.out.println(\"error on parse data in jsonparser.java\");\n    }\n\n    // return JSON String\n    return jObj;\n\n}\n}\n</code></pre>\n\n<p>this class returns the json object from the url</p>\n\n<p>and when you want the json object you just call this class and the method in your Activity class</p>\n\n<p>my code is here</p>\n\n<pre><code>String url = \"your url\";\nJSONParser jsonParser = new JSONParser();\nJSONObject object = jsonParser.getJSONFromUrl(url);\nString content=object.getString(\"json key\");\n</code></pre>\n\n<p>here the \"json key\" is denoted that the key in your json file</p>\n\n<p>this is a simple json file example</p>\n\n<pre><code>{\n    \"json\":\"hi\"\n}\n</code></pre>\n\n<p>Here \"json\" is key and \"hi\" is value</p>\n\n<p>This will get your json value to string content.</p>\n"},{"tags":[],"owner":{"account_id":3138613,"reputation":957,"user_id":2654569,"display_name":"user2654569"},"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1530279318,"creation_date":1393128146,"answer_id":21964051,"question_id":4308554,"body_markdown":"The easiest way: \r\nUse gson, google&#39;s own goto json library. https://code.google.com/p/google-gson/\r\n\r\nHere is a sample. I&#39;m going to this free geolocator website and parsing the json and displaying my zipcode. (just put this stuff in a main method to test it out)\r\n\r\n        String sURL = &quot;http://freegeoip.net/json/&quot;; //just a string\r\n\t\t\r\n\t\t// Connect to the URL using java&#39;s native library\r\n\t\tURL url = new URL(sURL);\r\n\t\tURLConnection request = url.openConnection();\r\n\t\trequest.connect();\r\n\t\t\r\n\t\t// Convert to a JSON object to print data\r\n    \tJsonParser jp = new JsonParser(); //from gson\r\n    \tJsonElement root = jp.parse(new InputStreamReader((InputStream) request.getContent())); //Convert the input stream to a json element\r\n    \tJsonObject rootobj = root.getAsJsonObject(); //May be an array, may be an object. \r\n    \tString zipcode = rootobj.get(&quot;zip_code&quot;).getAsString(); //just grab the zipcode","title":"Simplest way to read JSON from a URL in Java","body":"<p>The easiest way: \nUse gson, google's own goto json library. <a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\">https://code.google.com/p/google-gson/</a></p>\n\n<p>Here is a sample. I'm going to this free geolocator website and parsing the json and displaying my zipcode. (just put this stuff in a main method to test it out)</p>\n\n<pre><code>    String sURL = \"http://freegeoip.net/json/\"; //just a string\n\n    // Connect to the URL using java's native library\n    URL url = new URL(sURL);\n    URLConnection request = url.openConnection();\n    request.connect();\n\n    // Convert to a JSON object to print data\n    JsonParser jp = new JsonParser(); //from gson\n    JsonElement root = jp.parse(new InputStreamReader((InputStream) request.getContent())); //Convert the input stream to a json element\n    JsonObject rootobj = root.getAsJsonObject(); //May be an array, may be an object. \n    String zipcode = rootobj.get(\"zip_code\").getAsString(); //just grab the zipcode\n</code></pre>\n"},{"tags":[],"owner":{"account_id":413958,"reputation":1006,"user_id":787902,"accept_rate":67,"display_name":"ezwrighter"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1635324393,"creation_date":1416437459,"answer_id":27028548,"question_id":4308554,"body_markdown":"If you don&#39;t mind using a couple libraries it can be done in a single line.\r\n\r\nInclude [Apache Commons IOUtils][1] &amp; [json.org][2] libraries.\r\n\r\n\r\n    JSONObject json = new JSONObject(IOUtils.toString(new URL(&quot;https://graph.facebook.com/me&quot;), Charset.forName(&quot;UTF-8&quot;)));\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/\r\n  [2]: http://www.json.org/java/\r\n  [2]: https://github.com/stleary/JSON-java","title":"Simplest way to read JSON from a URL in Java","body":"<p>If you don't mind using a couple libraries it can be done in a single line.</p>\n<p>Include <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IOUtils</a> &amp; <a href=\"http://www.json.org/java/\" rel=\"nofollow noreferrer\">json.org</a> libraries.</p>\n<pre><code>JSONObject json = new JSONObject(IOUtils.toString(new URL(&quot;https://graph.facebook.com/me&quot;), Charset.forName(&quot;UTF-8&quot;)));\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-io&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n  &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1620655539,"creation_date":1489344529,"answer_id":42751620,"question_id":4308554,"body_markdown":"It&#39;s very easy, using jersey-client, just include this maven dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n  &lt;version&gt;2.25.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen invoke it using this example:\r\n\r\n```lang-java\r\nString json = ClientBuilder.newClient().target(&quot;http://api.coindesk.com/v1/bpi/currentprice.json&quot;).request().accept(MediaType.APPLICATION_JSON).get(String.class);\r\n```\r\n\r\nThen use Google&#39;s Gson to parse the JSON:\r\n\r\n```lang-java\r\nGson gson = new Gson();\r\nType gm = new TypeToken&lt;CoinDeskMessage&gt;() {}.getType();\r\nCoinDeskMessage cdm = gson.fromJson(json, gm);\r\n```\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>It's very easy, using jersey-client, just include this maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n  &lt;version&gt;2.25.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then invoke it using this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = ClientBuilder.newClient().target(&quot;http://api.coindesk.com/v1/bpi/currentprice.json&quot;).request().accept(MediaType.APPLICATION_JSON).get(String.class);\n</code></pre>\n<p>Then use Google's Gson to parse the JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nType gm = new TypeToken&lt;CoinDeskMessage&gt;() {}.getType();\nCoinDeskMessage cdm = gson.fromJson(json, gm);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":445017,"reputation":1103,"user_id":837189,"display_name":"scott"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576041216,"creation_date":1576041216,"answer_id":59279251,"question_id":4308554,"body_markdown":"I wanted to add an updated answer here since (somewhat) recent updates to the JDK have made it a bit easier to read the contents of an HTTP URL.\r\nLike others have said, you&#39;ll still need to use a JSON library to do the parsing, since the JDK doesn&#39;t currently contain one. \r\nHere are a few of the most commonly used JSON libraries for Java:\r\n\r\n* [org.JSON][1]\r\n* [FasterXML Jackson][2]\r\n* [GSON][3]\r\n\r\n\r\n\r\nTo retrieve JSON from a URL, this seems to be the simplest way using strictly JDK classes (but probably not something you&#39;d want to do for large payloads), Java 9 introduced: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#readAllBytes()\r\n\r\n\r\n```java\r\ntry(java.io.InputStream is = new java.net.URL(&quot;https://graph.facebook.com/me&quot;).openStream()) {\r\n    String contents = new String(is.readAllBytes());\r\n}\r\n```\r\n\r\nTo parse the JSON using the GSON library, for example\r\n\r\n```java\r\ncom.google.gson.JsonElement element = com.google.gson.JsonParser.parseString(contents); //from &#39;com.google.code.gson:gson:2.8.6&#39;\r\n```\r\n\r\n  [1]: https://stleary.github.io/JSON-java/\r\n  [2]: https://github.com/FasterXML/jackson\r\n  [3]: https://github.com/google/gson","title":"Simplest way to read JSON from a URL in Java","body":"<p>I wanted to add an updated answer here since (somewhat) recent updates to the JDK have made it a bit easier to read the contents of an HTTP URL.\nLike others have said, you'll still need to use a JSON library to do the parsing, since the JDK doesn't currently contain one. \nHere are a few of the most commonly used JSON libraries for Java:</p>\n\n<ul>\n<li><a href=\"https://stleary.github.io/JSON-java/\" rel=\"nofollow noreferrer\">org.JSON</a></li>\n<li><a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">FasterXML Jackson</a></li>\n<li><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a></li>\n</ul>\n\n<p>To retrieve JSON from a URL, this seems to be the simplest way using strictly JDK classes (but probably not something you'd want to do for large payloads), Java 9 introduced: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#readAllBytes()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#readAllBytes()</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try(java.io.InputStream is = new java.net.URL(\"https://graph.facebook.com/me\").openStream()) {\n    String contents = new String(is.readAllBytes());\n}\n</code></pre>\n\n<p>To parse the JSON using the GSON library, for example</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>com.google.gson.JsonElement element = com.google.gson.JsonParser.parseString(contents); //from 'com.google.code.gson:gson:2.8.6'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13303863,"reputation":483,"user_id":9604444,"display_name":"mastercool"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583094636,"creation_date":1583094636,"answer_id":60479478,"question_id":4308554,"body_markdown":"I have found this to be the easiest way by far.\r\n\r\nUse this method:\r\n\r\n```    \r\npublic static String getJSON(String url) {\r\n        HttpsURLConnection con = null;\r\n        try {\r\n            URL u = new URL(url);\r\n            con = (HttpsURLConnection) u.openConnection();\r\n\r\n            con.connect();\r\n\r\n\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                sb.append(line + &quot;\\n&quot;);\r\n            }\r\n            br.close();\r\n            return sb.toString();\r\n\r\n\r\n        } catch (MalformedURLException ex) {\r\n            ex.printStackTrace();\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            if (con != null) {\r\n                try {\r\n                    con.disconnect();\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nAnd use it like this:\r\n\r\n```\r\nString json = getJSON(url);\r\nJSONObject obj;\r\n   try {\r\n         obj = new JSONObject(json);\r\n         JSONArray results_arr = obj.getJSONArray(&quot;results&quot;);\r\n         final int n = results_arr.length();\r\n            for (int i = 0; i &lt; n; ++i) {\r\n                // get the place id of each object in JSON (Google Search API)\r\n                String place_id = results_arr.getJSONObject(i).getString(&quot;place_id&quot;);\r\n            }\r\n           \r\n\r\n   }","title":"Simplest way to read JSON from a URL in Java","body":"<p>I have found this to be the easiest way by far.</p>\n\n<p>Use this method:</p>\n\n<pre><code>public static String getJSON(String url) {\n        HttpsURLConnection con = null;\n        try {\n            URL u = new URL(url);\n            con = (HttpsURLConnection) u.openConnection();\n\n            con.connect();\n\n\n            BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            StringBuilder sb = new StringBuilder();\n            String line;\n            while ((line = br.readLine()) != null) {\n                sb.append(line + \"\\n\");\n            }\n            br.close();\n            return sb.toString();\n\n\n        } catch (MalformedURLException ex) {\n            ex.printStackTrace();\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        } finally {\n            if (con != null) {\n                try {\n                    con.disconnect();\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n        return null;\n    }\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>String json = getJSON(url);\nJSONObject obj;\n   try {\n         obj = new JSONObject(json);\n         JSONArray results_arr = obj.getJSONArray(\"results\");\n         final int n = results_arr.length();\n            for (int i = 0; i &lt; n; ++i) {\n                // get the place id of each object in JSON (Google Search API)\n                String place_id = results_arr.getJSONObject(i).getString(\"place_id\");\n            }\n\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589700718,"creation_date":1589699396,"answer_id":61848187,"question_id":4308554,"body_markdown":"Here&#39;s a full sample of how to parse Json content. The example takes the Android versions statistics (found from Android Studio source code [**here**][1], which links to [**here**][2]).\r\n\r\nCopy the &quot;distributions.json&quot; file you get from there into res/raw, as a fallback.\r\n\r\n**build.gradle**\r\n```\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n```\r\n**manifest**\r\n```\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```\r\n\r\n**MainActivity.kt**\r\n```kt\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        if (savedInstanceState != null)\r\n            return\r\n        thread {\r\n            // https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\r\n            var root: JsonArray\r\n            Log.d(&quot;AppLog&quot;, &quot;loading...&quot;)\r\n            try {\r\n                HttpURLConnection.setFollowRedirects(true)\r\n                val statsUrl = &quot;https://dl.google.com/android/studio/metadata/distributions.json&quot; //just a string\r\n                val url = URL(statsUrl)\r\n                val request: HttpURLConnection = url.openConnection() as HttpURLConnection\r\n                request.connectTimeout = 3000\r\n                request.connect()\r\n                InputStreamReader(request.content as InputStream).use {\r\n                    root = JsonParser.parseReader(it).asJsonArray\r\n                }\r\n            } catch (e: Exception) {\r\n                Log.d(&quot;AppLog&quot;, &quot;error while loading from Internet, so using fallback&quot;)\r\n                e.printStackTrace()\r\n                InputStreamReader(resources.openRawResource(R.raw.distributions)).use {\r\n                    root = JsonParser.parseReader(it).asJsonArray\r\n                }\r\n            }\r\n            val decimalFormat = DecimalFormat(&quot;0.00&quot;)\r\n            Log.d(&quot;AppLog&quot;, &quot;result:&quot;)\r\n\r\n            root.forEach {\r\n                val androidVersionInfo = it.asJsonObject\r\n                val versionNickName = androidVersionInfo.get(&quot;name&quot;).asString\r\n                val versionName = androidVersionInfo.get(&quot;version&quot;).asString\r\n                val versionApiLevel = androidVersionInfo.get(&quot;apiLevel&quot;).asInt\r\n                val marketSharePercentage = androidVersionInfo.get(&quot;distributionPercentage&quot;).asFloat * 100f\r\n                Log.d(&quot;AppLog&quot;, &quot;\\&quot;$versionNickName\\&quot; - $versionName - API$versionApiLevel - ${decimalFormat.format(marketSharePercentage)}%&quot;)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs alternative to the dependency, you can also use this instead:\r\n\r\n```kt\r\nInputStreamReader(request.content as InputStream).use {\r\n    val jsonArray = JSONArray(it.readText())\r\n}\r\n```\r\n\r\nand the fallback:\r\n\r\n```kt\r\nInputStreamReader(resources.openRawResource(R.raw.distributions)).use {\r\n    val jsonArray = JSONArray(it.readText())\r\n}\r\n```\r\n\r\nThe result of running this:\r\n\r\n```\r\nloading...\r\nresult:\r\n&quot;Ice Cream Sandwich&quot; - 4.0 - API15 - 0.20%\r\n&quot;Jelly Bean&quot; - 4.1 - API16 - 0.60%\r\n&quot;Jelly Bean&quot; - 4.2 - API17 - 0.80%\r\n&quot;Jelly Bean&quot; - 4.3 - API18 - 0.30%\r\n&quot;KitKat&quot; - 4.4 - API19 - 4.00%\r\n&quot;Lollipop&quot; - 5.0 - API21 - 1.80%\r\n&quot;Lollipop&quot; - 5.1 - API22 - 7.40%\r\n&quot;Marshmallow&quot; - 6.0 - API23 - 11.20%\r\n&quot;Nougat&quot; - 7.0 - API24 - 7.50%\r\n&quot;Nougat&quot; - 7.1 - API25 - 5.40%\r\n&quot;Oreo&quot; - 8.0 - API26 - 7.30%\r\n&quot;Oreo&quot; - 8.1 - API27 - 14.00%\r\n&quot;Pie&quot; - 9.0 - API28 - 31.30%\r\n&quot;Android 10&quot; - 10.0 - API29 - 8.20%\r\n```\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\r\n  [2]: https://dl.google.com/android/studio/metadata/distributions.json","title":"Simplest way to read JSON from a URL in Java","body":"<p>Here's a full sample of how to parse Json content. The example takes the Android versions statistics (found from Android Studio source code <a href=\"https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\" rel=\"nofollow noreferrer\"><strong>here</strong></a>, which links to <a href=\"https://dl.google.com/android/studio/metadata/distributions.json\" rel=\"nofollow noreferrer\"><strong>here</strong></a>).</p>\n\n<p>Copy the \"distributions.json\" file you get from there into res/raw, as a fallback.</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>    implementation 'com.google.code.gson:gson:2.8.6'\n</code></pre>\n\n<p><strong>manifest</strong></p>\n\n<pre><code>  &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        if (savedInstanceState != null)\n            return\n        thread {\n            // https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\n            var root: JsonArray\n            Log.d(\"AppLog\", \"loading...\")\n            try {\n                HttpURLConnection.setFollowRedirects(true)\n                val statsUrl = \"https://dl.google.com/android/studio/metadata/distributions.json\" //just a string\n                val url = URL(statsUrl)\n                val request: HttpURLConnection = url.openConnection() as HttpURLConnection\n                request.connectTimeout = 3000\n                request.connect()\n                InputStreamReader(request.content as InputStream).use {\n                    root = JsonParser.parseReader(it).asJsonArray\n                }\n            } catch (e: Exception) {\n                Log.d(\"AppLog\", \"error while loading from Internet, so using fallback\")\n                e.printStackTrace()\n                InputStreamReader(resources.openRawResource(R.raw.distributions)).use {\n                    root = JsonParser.parseReader(it).asJsonArray\n                }\n            }\n            val decimalFormat = DecimalFormat(\"0.00\")\n            Log.d(\"AppLog\", \"result:\")\n\n            root.forEach {\n                val androidVersionInfo = it.asJsonObject\n                val versionNickName = androidVersionInfo.get(\"name\").asString\n                val versionName = androidVersionInfo.get(\"version\").asString\n                val versionApiLevel = androidVersionInfo.get(\"apiLevel\").asInt\n                val marketSharePercentage = androidVersionInfo.get(\"distributionPercentage\").asFloat * 100f\n                Log.d(\"AppLog\", \"\\\"$versionNickName\\\" - $versionName - API$versionApiLevel - ${decimalFormat.format(marketSharePercentage)}%\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>As alternative to the dependency, you can also use this instead:</p>\n\n<pre><code>InputStreamReader(request.content as InputStream).use {\n    val jsonArray = JSONArray(it.readText())\n}\n</code></pre>\n\n<p>and the fallback:</p>\n\n<pre><code>InputStreamReader(resources.openRawResource(R.raw.distributions)).use {\n    val jsonArray = JSONArray(it.readText())\n}\n</code></pre>\n\n<p>The result of running this:</p>\n\n<pre><code>loading...\nresult:\n\"Ice Cream Sandwich\" - 4.0 - API15 - 0.20%\n\"Jelly Bean\" - 4.1 - API16 - 0.60%\n\"Jelly Bean\" - 4.2 - API17 - 0.80%\n\"Jelly Bean\" - 4.3 - API18 - 0.30%\n\"KitKat\" - 4.4 - API19 - 4.00%\n\"Lollipop\" - 5.0 - API21 - 1.80%\n\"Lollipop\" - 5.1 - API22 - 7.40%\n\"Marshmallow\" - 6.0 - API23 - 11.20%\n\"Nougat\" - 7.0 - API24 - 7.50%\n\"Nougat\" - 7.1 - API25 - 5.40%\n\"Oreo\" - 8.0 - API26 - 7.30%\n\"Oreo\" - 8.1 - API27 - 14.00%\n\"Pie\" - 9.0 - API28 - 31.30%\n\"Android 10\" - 10.0 - API29 - 8.20%\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2393086,"reputation":296,"user_id":2092546,"accept_rate":100,"display_name":"swbergmann"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674227032,"creation_date":1674227032,"answer_id":75185799,"question_id":4308554,"body_markdown":"The Oracle Documentation describes how\r\n\r\n 1. an [HttpRequest][1] is built and then \r\n 2. sent by the HttpClient to the URL\r\n\r\nin just a few lines of code, by **using only the Java Class Library**. Put this code into your main method:\r\n\r\n    HttpClient client = HttpClient.newHttpClient();\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n          .uri(URI.create(&quot;http://example.com/&quot;))\r\n          .build();\r\n    client.sendAsync(request, BodyHandlers.ofString())\r\n          .thenApply(HttpResponse::body)\r\n          .thenAccept(System.out::println)\r\n          .join();\r\n\r\nThe response consists of a JSON object { ... } and can be further processed in your application.\r\nHere I printed it to the console, just to confirm it works:\r\n\r\n    System.out.println(request);\r\n\r\nThis is available for Java Versions 11+\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html","title":"Simplest way to read JSON from a URL in Java","body":"<p>The Oracle Documentation describes how</p>\n<ol>\n<li>an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html\" rel=\"noreferrer\">HttpRequest</a> is built and then</li>\n<li>sent by the HttpClient to the URL</li>\n</ol>\n<p>in just a few lines of code, by <strong>using only the Java Class Library</strong>. Put this code into your main method:</p>\n<pre><code>HttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder()\n      .uri(URI.create(&quot;http://example.com/&quot;))\n      .build();\nclient.sendAsync(request, BodyHandlers.ofString())\n      .thenApply(HttpResponse::body)\n      .thenAccept(System.out::println)\n      .join();\n</code></pre>\n<p>The response consists of a JSON object { ... } and can be further processed in your application.\nHere I printed it to the console, just to confirm it works:</p>\n<pre><code>System.out.println(request);\n</code></pre>\n<p>This is available for Java Versions 11+</p>\n"}],"owner":{"account_id":680309,"reputation":4589,"user_id":524423,"display_name":"Pomponius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619836,"favorite_count":0,"down_vote_count":0,"up_vote_count":290,"answer_count":12,"score":290,"last_activity_date":1674227032,"creation_date":1291068325,"question_id":4308554,"body_markdown":"This might be a dumb question but what is the simplest way to read and parse **JSON** from **URL** in **Java**?\r\n\r\nIn Groovy, it&#39;s a matter of few lines of code. Java examples that I find are ridiculously long (and have huge exception handling block).\r\n\r\nAll I want to do is to read the content of [this link][1].\r\n\r\n\r\n  [1]: https://graph.facebook.com/me","title":"Simplest way to read JSON from a URL in Java","body":"<p>This might be a dumb question but what is the simplest way to read and parse <strong>JSON</strong> from <strong>URL</strong> in <strong>Java</strong>?</p>\n\n<p>In Groovy, it's a matter of few lines of code. Java examples that I find are ridiculously long (and have huge exception handling block).</p>\n\n<p>All I want to do is to read the content of <a href=\"https://graph.facebook.com/me\">this link</a>.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27580662,"reputation":1,"user_id":21049961,"display_name":"Shayna K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674226953,"creation_date":1674220288,"question_id":75184471,"body_markdown":"I am making an app in Android Studio in Java and one of the codes is when volume up button triggered(action key up) device should vibrate.\r\nIt works if I hold volume button for like 500 milliseconds and then release it, but on quick press on volume button it doesn&#39;t work.\r\n\r\nI use volume up trigger. if I hold the volume button down for like 500 millisecond and then release it vibration works, but If I just quickly push volume button other things works but vibration doesn&#39;t.\r\n\r\nthe code:\r\n```java\r\nswitch (keycode) {\r\n            case `your text`KeyEvent.KEYCODE_VOLUME_UP:\r\n                if `your text`(KeyEvent.ACTION_UP == action) {\r\n\r\n                    vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\r\n                    count++;\r\n                    String num = String.valueOf(count);\r\n                    Number.setText(num);\r\n\r\n\r\n                    {\r\n                        if (count == 1) {\r\n                            vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\r\n                            final long[] pattern1 = {0, 200, 0,};\r\n                            vibrator.vibrate(pattern1, -1);\r\n```\r\nChanging action up to action down causes another problem which if I hold the button the code continuously runs.\r\n\r\nI tried changing action up to action down but caused another problem. I don&#39;t want the code to constantly run if volume key is hold down.","title":"Vibration command doesn&#39;t work on quick volume button press","body":"<p>I am making an app in Android Studio in Java and one of the codes is when volume up button triggered(action key up) device should vibrate.\nIt works if I hold volume button for like 500 milliseconds and then release it, but on quick press on volume button it doesn't work.</p>\n<p>I use volume up trigger. if I hold the volume button down for like 500 millisecond and then release it vibration works, but If I just quickly push volume button other things works but vibration doesn't.</p>\n<p>the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (keycode) {\n            case `your text`KeyEvent.KEYCODE_VOLUME_UP:\n                if `your text`(KeyEvent.ACTION_UP == action) {\n\n                    vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\n                    count++;\n                    String num = String.valueOf(count);\n                    Number.setText(num);\n\n\n                    {\n                        if (count == 1) {\n                            vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\n                            final long[] pattern1 = {0, 200, 0,};\n                            vibrator.vibrate(pattern1, -1);\n</code></pre>\n<p>Changing action up to action down causes another problem which if I hold the button the code continuously runs.</p>\n<p>I tried changing action up to action down but caused another problem. I don't want the code to constantly run if volume key is hold down.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1674229202,"post_id":75185224,"comment_id":132676525,"body_markdown":"I suppose you can paint the racetrack, car, and scenery in that order.  The part of the car outside the racetrack will be overpainted by the scenery.","body":"I suppose you can paint the racetrack, car, and scenery in that order.  The part of the car outside the racetrack will be overpainted by the scenery."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674226845,"creation_date":1674226845,"answer_id":75185759,"question_id":75185224,"body_markdown":"The way to only show the part that is inside the racetrack is to set the clipping value on the graphics object\r\n\r\n    public void paintComponent(Graphics g) {\r\n      g.setClip(trackPath2D);\r\n      g.setColor(...);\r\n      g.fillRect(...); // also can use graphics2D.fill with the rectangle shape\r\n    }\r\n\r\nI don&#39;t know of a way that you could calculate the percentage of the rectangle that fits inside a general path2D","title":"How to find out the percentage of intersection between a Rectangle and a Path2D","body":"<p>The way to only show the part that is inside the racetrack is to set the clipping value on the graphics object</p>\n<pre><code>public void paintComponent(Graphics g) {\n  g.setClip(trackPath2D);\n  g.setColor(...);\n  g.fillRect(...); // also can use graphics2D.fill with the rectangle shape\n}\n</code></pre>\n<p>I don't know of a way that you could calculate the percentage of the rectangle that fits inside a general path2D</p>\n"}],"owner":{"account_id":26609029,"reputation":23,"user_id":20264009,"display_name":"B&#252;ni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674226845,"creation_date":1674224166,"question_id":75185224,"body_markdown":"I am trying to make an online game out of an old boardgame called ADAC Simulator. I am trying to create the map with a inner and outer curve using path2d. Is there a way to find out if a certain rectangle is more than 50% in the racetrack (pink area)? If so, is it also possible to paint that rectangle only the part which is inside the track and not the whole rectangle?\r\n\r\nHere a picture of the gameboard so far. The red line is a Path2d and the green ones are Rectangle.\r\n\r\n[gameboard][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DhOTB.png\r\n\r\n","title":"How to find out the percentage of intersection between a Rectangle and a Path2D","body":"<p>I am trying to make an online game out of an old boardgame called ADAC Simulator. I am trying to create the map with a inner and outer curve using path2d. Is there a way to find out if a certain rectangle is more than 50% in the racetrack (pink area)? If so, is it also possible to paint that rectangle only the part which is inside the track and not the whole rectangle?</p>\n<p>Here a picture of the gameboard so far. The red line is a Path2d and the green ones are Rectangle.</p>\n<p><a href=\"https://i.stack.imgur.com/DhOTB.png\" rel=\"nofollow noreferrer\">gameboard</a></p>\n"},{"tags":["java","spring-boot","unit-testing","junit","junit4"],"answers":[{"tags":[],"owner":{"account_id":7025825,"reputation":1450,"user_id":5383238,"accept_rate":60,"display_name":"Abdur Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674226687,"creation_date":1674226687,"answer_id":75185717,"question_id":72894042,"body_markdown":"You can write test code for Cache as follow:\r\n   \r\n    @Test\r\n    public void testEvictAllCaches() {\r\n          Cache cache = Mockito.mock(Cache.class);\r\n          when(cacheManager.getCacheNames()).thenReturn(List.of(&quot;cacheName1&quot;, &quot;cacheName2&quot;));\r\n          Mockito.when(cacheManager.getCache(anyString())).thenReturn(cache);\r\n          AdminResponse adminResponse = testCachingService.evictAllCaches();\r\n          assertEquals(&quot;ok&quot;, adminResponse.getMessage());\r\n         }","title":"How to write unit test for clear all cache using cache manager","body":"<p>You can write test code for Cache as follow:</p>\n<pre><code>@Test\npublic void testEvictAllCaches() {\n      Cache cache = Mockito.mock(Cache.class);\n      when(cacheManager.getCacheNames()).thenReturn(List.of(&quot;cacheName1&quot;, &quot;cacheName2&quot;));\n      Mockito.when(cacheManager.getCache(anyString())).thenReturn(cache);\n      AdminResponse adminResponse = testCachingService.evictAllCaches();\n      assertEquals(&quot;ok&quot;, adminResponse.getMessage());\n     }\n</code></pre>\n"}],"owner":{"account_id":8411933,"reputation":2522,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674226687,"creation_date":1657179908,"question_id":72894042,"body_markdown":"I have a method that evicts all the caches. PFB code for same:\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.admin.AdminResponse;\r\n\r\n@Service\r\npublic class CachingService {\r\n\t\r\n\tprivate final static Logger logger = LoggerFactory.getLogger(CachingService.class);\r\n\r\n\t@Autowired\r\n\tprotected CacheManager cacheManager;\r\n\t\r\n\tpublic AdminResponse evictAllCaches() {\r\n\t\tlogger.info(&quot;Start - Clearing of cache&quot;);\r\n\t\tcacheManager.getCacheNames().parallelStream()\r\n\t      .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n\t\t\t\r\n\t\tAdminResponse adminResponse = new AdminResponse();\r\n\t\tadminResponse.setMessage(&quot;ok&quot;);\r\n\t\tlogger.info(&quot;End - Clearing of cache&quot;);\r\n\t\treturn adminResponse;\r\n\t}\r\n}\r\n```\r\nBelow is the unit test I&#39;m trying to write:\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.cache.Cache;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\nimport com.admin.AdminResponse;\r\n\r\n@ExtendWith(SpringExtension.class)\r\npublic class CachingServiceTest {\r\n\t\r\n\t@InjectMocks\r\n\tprivate CachingService testCachingService;\r\n\r\n\t@Mock\r\n\tprotected CacheManager cacheManager;\r\n\t\r\n\t@Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\t\r\n\t@Test\r\n\tpublic void testEvictAllCaches() {\r\n\t\tAdminResponse adminResponse = testCachingService.evictAllCaches();\r\n\t\tassertEquals(&quot;ok&quot;, adminResponse.getMessage());\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nI&#39;m unable to understand how to write unit tests for code \r\n```\r\ncacheManager.getCacheNames().parallelStream()\r\n\t      .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n```\r\nCan someone please help? Thank you for your time!","title":"How to write unit test for clear all cache using cache manager","body":"<p>I have a method that evicts all the caches. PFB code for same:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.stereotype.Service;\n\nimport com.admin.AdminResponse;\n\n@Service\npublic class CachingService {\n    \n    private final static Logger logger = LoggerFactory.getLogger(CachingService.class);\n\n    @Autowired\n    protected CacheManager cacheManager;\n    \n    public AdminResponse evictAllCaches() {\n        logger.info(&quot;Start - Clearing of cache&quot;);\n        cacheManager.getCacheNames().parallelStream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n            \n        AdminResponse adminResponse = new AdminResponse();\n        adminResponse.setMessage(&quot;ok&quot;);\n        logger.info(&quot;End - Clearing of cache&quot;);\n        return adminResponse;\n    }\n}\n</code></pre>\n<p>Below is the unit test I'm trying to write:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.cache.Cache;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport com.admin.AdminResponse;\n\n@ExtendWith(SpringExtension.class)\npublic class CachingServiceTest {\n    \n    @InjectMocks\n    private CachingService testCachingService;\n\n    @Mock\n    protected CacheManager cacheManager;\n    \n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n    \n    @Test\n    public void testEvictAllCaches() {\n        AdminResponse adminResponse = testCachingService.evictAllCaches();\n        assertEquals(&quot;ok&quot;, adminResponse.getMessage());\n    }\n    \n}\n</code></pre>\n<p>I'm unable to understand how to write unit tests for code</p>\n<pre><code>cacheManager.getCacheNames().parallelStream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n</code></pre>\n<p>Can someone please help? Thank you for your time!</p>\n"},{"tags":["java","linux","spring-boot","elasticsearch","spring-data-elasticsearch"],"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674226546,"creation_date":1674226546,"question_id":75185688,"body_markdown":"I have a server that I connect to through `&lt;Server-IP-Address&gt;:22226`, my springboot app uses port 8099, while elasticsearch is installed on docker on the same server but with port 9200. Here is how I set up my config file related to elasticsearch.\r\n\r\n- springboot version: `2.6.3`, \r\n- Elasticsearch Server version: `8.6.0`,\r\n- spring boot starter data elasticsearch version: `2.6.3`\r\n- spring data elasticsearch version: `4.3.1` (comes included with spring boot start data elasticsearch version)\r\n\r\n\r\n\r\n**application-development.yml**\r\n\r\n      elasticsearch:\r\n       client:\r\n        certificate: MIIFWTCCA0GgAwIBAgIUGvdgD......jXvCY7poc= *(shortened for bravity)*\r\n        host: localhost:9200\r\n        username: elastic\r\n        password: GGAqcbLXobR8-eQjrRT2\r\n\r\nThe certificate I got from elasticsearch server by using this command to generate the `http_ca.crt`:\r\n\r\n    docker cp esdemo01:/usr/share/elasticsearch/config/certs/http_ca.crt .\r\n\r\n**ElasticsearchConfig.class:**\r\n\r\nHere is the ElasticsearchConfig class, which is based on the answer to my other question: \r\nhttps://stackoverflow.com/questions/75081596/how-to-configure-security-in-elasticsearch-8-5-3-using-starter-data-elasticsearc/75083512?noredirect=1#comment132499643_75083512\r\n\r\n    @Configuration\r\n    @Log4j2\r\n\r\n    public class ElasticsearchConfig extends AbstractReactiveElasticsearchConfiguration\r\n\r\n    {\r\n\t@NotBlank\r\n\t@Value(&quot;${spring.elasticsearch.client.certificate}&quot;)\r\n\tprivate String certificateBase64;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.client.host}&quot;)\r\n\tprivate String host;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.client.username}&quot;)\r\n\tprivate String username;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.client.password}&quot;)\r\n\tprivate String password;\r\n\r\n\t@Override\r\n\tpublic @NonNull ReactiveElasticsearchClient reactiveElasticsearchClient()\r\n\t{\r\n\r\n\t\tfinal ClientConfiguration clientConfiguration;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tclientConfiguration = ClientConfiguration.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .connectedTo(host)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .usingSsl(getSSLContext(decodeCertificateBase64(certificateBase64)))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .withBasicAuth(username, password)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .build();\r\n\t\t}\r\n\t\tcatch(ElasticsearchException e)\r\n\t\t{\r\n\t\t\tlog.error(&quot;Error while creating elasticsearch client configuration &quot;, e);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\r\n\t\treturn ReactiveRestClients.create(clientConfiguration);\r\n\t}\r\n\r\n\tprivate SSLContext getSSLContext(final byte[] decodedCertificate) throws ElasticsearchException\r\n\t{\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n\t\t\tCertificate ca;\r\n\t\t\ttry(InputStream certificateInputStream = new ByteArrayInputStream(decodedCertificate))\r\n\t\t\t{\r\n\t\t\t\tca = cf.generateCertificate(certificateInputStream);\r\n\t\t\t}\r\n\r\n\t\t\tString keyStoreType = &quot;pkcs12&quot;;\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n\t\t\tkeyStore.load(null, null);\r\n\t\t\tkeyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n\r\n\t\t\tSSLContextBuilder sslContextBuilder = SSLContexts.custom()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t .loadTrustMaterial(keyStore, null);\r\n\t\t\tfinal SSLContext sslContext = sslContextBuilder.build();\r\n\r\n\t\t\treturn sslContext;\r\n\t\t}\r\n\t\tcatch(CertificateException | IOException | KeyStoreException | NoSuchAlgorithmException | KeyManagementException e)\r\n\t\t{\r\n\t\t\tthrow new ElasticsearchException(&quot;Error while creating SSL context &quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate byte[] decodeCertificateBase64(final String certificateBase64)\r\n\t{\r\n\t\treturn Base64.getDecoder().decode(certificateBase64);\r\n\t}\r\n\r\n    }\r\n\r\nNow, this code works if I call it like this in postman =&gt; `&lt;Server-IP-Address&gt;:8099(springboot app port)` which the springboot app in turn calls elasticsearch through `localhost:9200`, I also get results when I call `&lt;Server-IP-Address&gt;:9200/_cat/indices` what I am trying to achieve is the ability to call elasticsearch externally from the springboot app, like, rather than hard coding springboot to listen to `localhost:9200` I want it to listen to `&lt;Server-IP-Address&gt;:9200`, but I cant figure this out, I managed to trace the issue to the config file itself, here is the error I am getting in the springboot app: \r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name \r\n    &#39;loggingElasticsearchController&#39; ...(ommitted for bravity).... nested exception is \r\n    org.springframework.data.elasticsearch.client.NoReachableHostException: Host &#39;92.204.190.45:9200&#39; \r\n    not reachable. Cluster state is offline.\r\n\r\nWhile on the elasticsearch server, this is what I am getting in the logs:\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-01-20T14:21:11.622Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;http client \r\n    did not trust this server&#39;s \r\n    certificate, closing connection Netty4HttpChannel{localAddress=/172.18.0.2:9200, \r\n    remoteAddress=/193.227.174.146:57276}&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;ES_ECS&quot;,\r\n    event.dataset&quot;:&quot;elasticsearch.server&quot;,&quot;process.thread.name&quot;:&quot;elasticsearch[24f3d2b8b774][transport_worker][T#8]&quot;,\r\n    &quot;log.logger&quot;:&quot;org.elasticsearch.xpack.security.transport.netty4.SecurityNetty4HttpServerTransport&quot;,\r\n    &quot;elasticsearch.cluster.uuid&quot;:&quot;g8TSlBMmS5aBx--9kmniwQ&quot;,&quot;elasticsearch.node.id&quot;:&quot;_3ZfQJXzQse377jHO6JQsA&quot;,\r\n    &quot;elasticsearch.node.name&quot;:&quot;24f3d2b8b774&quot;,&quot;elasticsearch.cluster.name&quot;:&quot;docker-cluster&quot;}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Elasticserch is refusing connection from springboot app, unless I use localhost:9200","body":"<p>I have a server that I connect to through <code>&lt;Server-IP-Address&gt;:22226</code>, my springboot app uses port 8099, while elasticsearch is installed on docker on the same server but with port 9200. Here is how I set up my config file related to elasticsearch.</p>\n<ul>\n<li>springboot version: <code>2.6.3</code>,</li>\n<li>Elasticsearch Server version: <code>8.6.0</code>,</li>\n<li>spring boot starter data elasticsearch version: <code>2.6.3</code></li>\n<li>spring data elasticsearch version: <code>4.3.1</code> (comes included with spring boot start data elasticsearch version)</li>\n</ul>\n<p><strong>application-development.yml</strong></p>\n<pre><code>  elasticsearch:\n   client:\n    certificate: MIIFWTCCA0GgAwIBAgIUGvdgD......jXvCY7poc= *(shortened for bravity)*\n    host: localhost:9200\n    username: elastic\n    password: GGAqcbLXobR8-eQjrRT2\n</code></pre>\n<p>The certificate I got from elasticsearch server by using this command to generate the <code>http_ca.crt</code>:</p>\n<pre><code>docker cp esdemo01:/usr/share/elasticsearch/config/certs/http_ca.crt .\n</code></pre>\n<p><strong>ElasticsearchConfig.class:</strong></p>\n<p>Here is the ElasticsearchConfig class, which is based on the answer to my other question:\n<a href=\"https://stackoverflow.com/questions/75081596/how-to-configure-security-in-elasticsearch-8-5-3-using-starter-data-elasticsearc/75083512?noredirect=1#comment132499643_75083512\">How to configure security in elasticsearch 8.5.3 using Starter Data Elasticsearch 3.0.1 in maven java springboot</a></p>\n<pre><code>@Configuration\n@Log4j2\n\npublic class ElasticsearchConfig extends AbstractReactiveElasticsearchConfiguration\n\n{\n@NotBlank\n@Value(&quot;${spring.elasticsearch.client.certificate}&quot;)\nprivate String certificateBase64;\n\n@Value(&quot;${spring.elasticsearch.client.host}&quot;)\nprivate String host;\n\n@Value(&quot;${spring.elasticsearch.client.username}&quot;)\nprivate String username;\n\n@Value(&quot;${spring.elasticsearch.client.password}&quot;)\nprivate String password;\n\n@Override\npublic @NonNull ReactiveElasticsearchClient reactiveElasticsearchClient()\n{\n\n    final ClientConfiguration clientConfiguration;\n    try\n    {\n        clientConfiguration = ClientConfiguration.builder()\n                                                 .connectedTo(host)\n                                                 .usingSsl(getSSLContext(decodeCertificateBase64(certificateBase64)))\n                                                 .withBasicAuth(username, password)\n                                                 .build();\n    }\n    catch(ElasticsearchException e)\n    {\n        log.error(&quot;Error while creating elasticsearch client configuration &quot;, e);\n        throw e;\n    }\n\n    return ReactiveRestClients.create(clientConfiguration);\n}\n\nprivate SSLContext getSSLContext(final byte[] decodedCertificate) throws ElasticsearchException\n{\n\n    try\n    {\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        Certificate ca;\n        try(InputStream certificateInputStream = new ByteArrayInputStream(decodedCertificate))\n        {\n            ca = cf.generateCertificate(certificateInputStream);\n        }\n\n        String keyStoreType = &quot;pkcs12&quot;;\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(&quot;ca&quot;, ca);\n\n        SSLContextBuilder sslContextBuilder = SSLContexts.custom()\n                                                         .loadTrustMaterial(keyStore, null);\n        final SSLContext sslContext = sslContextBuilder.build();\n\n        return sslContext;\n    }\n    catch(CertificateException | IOException | KeyStoreException | NoSuchAlgorithmException | KeyManagementException e)\n    {\n        throw new ElasticsearchException(&quot;Error while creating SSL context &quot;, e);\n    }\n}\n\nprivate byte[] decodeCertificateBase64(final String certificateBase64)\n{\n    return Base64.getDecoder().decode(certificateBase64);\n}\n\n}\n</code></pre>\n<p>Now, this code works if I call it like this in postman =&gt; <code>&lt;Server-IP-Address&gt;:8099(springboot app port)</code> which the springboot app in turn calls elasticsearch through <code>localhost:9200</code>, I also get results when I call <code>&lt;Server-IP-Address&gt;:9200/_cat/indices</code> what I am trying to achieve is the ability to call elasticsearch externally from the springboot app, like, rather than hard coding springboot to listen to <code>localhost:9200</code> I want it to listen to <code>&lt;Server-IP-Address&gt;:9200</code>, but I cant figure this out, I managed to trace the issue to the config file itself, here is the error I am getting in the springboot app:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name \n'loggingElasticsearchController' ...(ommitted for bravity).... nested exception is \norg.springframework.data.elasticsearch.client.NoReachableHostException: Host '92.204.190.45:9200' \nnot reachable. Cluster state is offline.\n</code></pre>\n<p>While on the elasticsearch server, this is what I am getting in the logs:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-01-20T14:21:11.622Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;http client \ndid not trust this server's \ncertificate, closing connection Netty4HttpChannel{localAddress=/172.18.0.2:9200, \nremoteAddress=/193.227.174.146:57276}&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;ES_ECS&quot;,\nevent.dataset&quot;:&quot;elasticsearch.server&quot;,&quot;process.thread.name&quot;:&quot;elasticsearch[24f3d2b8b774][transport_worker][T#8]&quot;,\n&quot;log.logger&quot;:&quot;org.elasticsearch.xpack.security.transport.netty4.SecurityNetty4HttpServerTransport&quot;,\n&quot;elasticsearch.cluster.uuid&quot;:&quot;g8TSlBMmS5aBx--9kmniwQ&quot;,&quot;elasticsearch.node.id&quot;:&quot;_3ZfQJXzQse377jHO6JQsA&quot;,\n&quot;elasticsearch.node.name&quot;:&quot;24f3d2b8b774&quot;,&quot;elasticsearch.cluster.name&quot;:&quot;docker-cluster&quot;}\n</code></pre>\n"},{"tags":["java","for-loop","nested-loops","perfect-numbers"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1549384343,"post_id":54538708,"comment_id":95879165,"body_markdown":"What&#39;s the exact problem statement? Because you might be able to get away with `System.out.println(&quot;6, 28&quot;);`.","body":"What&#39;s the exact problem statement? Because you might be able to get away with <code>System.out.println(&quot;6, 28&quot;);</code>."},{"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"score":2,"creation_date":1549384547,"post_id":54538708,"comment_id":95879274,"body_markdown":"@jsheeran, come on dude, it&#39;s a programming assignment","body":"@jsheeran, come on dude, it&#39;s a programming assignment"}],"answers":[{"tags":[],"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1549384429,"creation_date":1549384119,"answer_id":54538879,"question_id":54538708,"body_markdown":"You need to:\r\n\r\n - `sum = 0` with every loop iteration\r\n - iterate until `&lt; num` and not `&lt;= num`\r\n\r\nHere&#39;s the fixed code:\r\n\r\n    public static void main(String[] args)  {\r\n\r\n    int sum;\r\n    for(int num = 1; num &lt; 100; num++) {\r\n\r\n        sum = 0;\r\n\r\n        for(int j = 1; j&lt; num; j++) {\r\n            if(num % j == 0) {\r\n                sum += j;\r\n            }\r\n        }\r\n\r\n        if(sum == num) {\r\n            System.out.println(sum);\r\n        }\r\n    }\r\n}\r\n\r\nOutput:\r\n\r\n&gt; 6   \r\n&gt; 28","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>You need to:</p>\n\n<ul>\n<li><code>sum = 0</code> with every loop iteration</li>\n<li>iterate until <code>&lt; num</code> and not <code>&lt;= num</code></li>\n</ul>\n\n<p>Here's the fixed code:</p>\n\n<pre><code>public static void main(String[] args)  {\n\nint sum;\nfor(int num = 1; num &lt; 100; num++) {\n\n    sum = 0;\n\n    for(int j = 1; j&lt; num; j++) {\n        if(num % j == 0) {\n            sum += j;\n        }\n    }\n\n    if(sum == num) {\n        System.out.println(sum);\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>6<br>\n  28</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13806412,"reputation":1766,"user_id":9965155,"display_name":"PinkBanter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549384213,"creation_date":1549384213,"answer_id":54538910,"question_id":54538708,"body_markdown":"This seems to be an assignment or homework question. You are meant to solve this by yourself and not ask it to the people on Stack overflow. \r\n\r\nHowever, what you are looking for has an answer [here][1]. Beware! This code prints if the input number is perfect number or not but does not print all the numbers below 100 that  could be perfect numbers. That is your homework.\r\n\r\n\r\n  [1]: https://www.sanfoundry.com/java-program-check-given-number-perfect-number/","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>This seems to be an assignment or homework question. You are meant to solve this by yourself and not ask it to the people on Stack overflow. </p>\n\n<p>However, what you are looking for has an answer <a href=\"https://www.sanfoundry.com/java-program-check-given-number-perfect-number/\" rel=\"nofollow noreferrer\">here</a>. Beware! This code prints if the input number is perfect number or not but does not print all the numbers below 100 that  could be perfect numbers. That is your homework.</p>\n"},{"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549384406,"creation_date":1549384406,"answer_id":54538992,"question_id":54538708,"body_markdown":"Change your code to : \r\n\r\n\tpublic static void main(String[] s1) throws Exception {\r\n\t\tint num, sum = 0;\r\n\t\tint i;\r\n\t\tfor (num = 1; num &lt; 100; num++) {\r\n\t\t\tfor (int j = 1; j &lt;= num - 1; j++) {   // change made here\r\n\t\t\t\tif (num % j == 0) {\r\n\t\t\t\t\tsum = sum + j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sum == num) {\r\n\t\t\t\tSystem.out.println(sum);\r\n\t\t\t}\r\n\t\t\tsum = 0;                              // change made here\r\n\t\t}\r\n\r\n\t}\r\n\r\nKey takeaways: \r\n\r\n 1. Reset `sum` to 0 once done with inner iteration\r\n 2. In your *inner* `for-loop` you need to check if till `num - 1` and not `num` because every number is divisible by itself","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>Change your code to : </p>\n\n<pre><code>public static void main(String[] s1) throws Exception {\n    int num, sum = 0;\n    int i;\n    for (num = 1; num &lt; 100; num++) {\n        for (int j = 1; j &lt;= num - 1; j++) {   // change made here\n            if (num % j == 0) {\n                sum = sum + j;\n            }\n        }\n        if (sum == num) {\n            System.out.println(sum);\n        }\n        sum = 0;                              // change made here\n    }\n\n}\n</code></pre>\n\n<p>Key takeaways: </p>\n\n<ol>\n<li>Reset <code>sum</code> to 0 once done with inner iteration</li>\n<li>In your <em>inner</em> <code>for-loop</code> you need to check if till <code>num - 1</code> and not <code>num</code> because every number is divisible by itself</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11830398,"reputation":286,"user_id":8657278,"display_name":"Vishwas Atrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549384519,"creation_date":1549384519,"answer_id":54539027,"question_id":54538708,"body_markdown":"So, your code have some minor problems and I will try to pinpoint them out.\r\n\r\n1.First of all your sum variable should be inside the first for loop  \r\n2. The limit upto which the second loop will run will be `j&lt;num` not `j&lt;=num` because, for the perfect number, the number itself shouldn&#39;t be counted in the sum.\r\n\r\nYou code will look like this.\r\n\r\n    \r\n\r\nI don&#39;t know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.\r\n\r\n    class CompProject1 {\r\n\r\n    public static void main()\r\n\r\n    {\r\n\r\n         int num;\r\n\r\n         for(num=1; num&lt;100; num++)\r\n\r\n         {\r\n\r\n             int sum = 0;\r\n\r\n             for(int j = 1; j&lt;=num ; j++)\r\n\r\n             {\r\n\r\n                  if(num%j==0)\r\n\r\n                  {\r\n\r\n                   sum = sum+j;\r\n\r\n                  }\r\n\r\n           }\r\n\r\n           if(sum==num)\r\n\r\n           {\r\n\r\n            System.out.println(sum);  \r\n\r\n            }\r\n        }\r\n     }\r\n    }","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>So, your code have some minor problems and I will try to pinpoint them out.</p>\n\n<p>1.First of all your sum variable should be inside the first for loop<br>\n2. The limit upto which the second loop will run will be <code>j&lt;num</code> not <code>j&lt;=num</code> because, for the perfect number, the number itself shouldn't be counted in the sum.</p>\n\n<p>You code will look like this.</p>\n\n<p>I don't know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.</p>\n\n<pre><code>class CompProject1 {\n\npublic static void main()\n\n{\n\n     int num;\n\n     for(num=1; num&lt;100; num++)\n\n     {\n\n         int sum = 0;\n\n         for(int j = 1; j&lt;=num ; j++)\n\n         {\n\n              if(num%j==0)\n\n              {\n\n               sum = sum+j;\n\n              }\n\n       }\n\n       if(sum==num)\n\n       {\n\n        System.out.println(sum);  \n\n        }\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14453570,"reputation":724,"user_id":10440388,"display_name":"Tyulpan Tyulpan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559226601,"creation_date":1549384523,"answer_id":54539030,"question_id":54538708,"body_markdown":"1) you definitely need to reset your sum variable for every iteration, so you should do `int sum = 0;` in every loop.\r\n\r\n2) you need to iterate while `j &lt;= num/2;`!\r\n\r\n3) consider using Java 8, I&#39;ll write some sample here for you.\r\n\r\nSee my example here, this is so beautiful:\r\n\r\n    public class PerfectNumbersDemo {\r\n\r\n      public static void main(String[] args) {\r\n        IntStream.range(1, 100)\r\n            .filter(PerfectNumbersDemo::isPerfect)\r\n            .forEach(System.out::println);\r\n      }\r\n\r\n      private static boolean isPerfect(int number) {\r\n        return number == IntStream.rangeClosed(1, number / 2)\r\n            .filter(i -&gt; number % i == 0)\r\n            .sum();\r\n      }\r\n    }","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>1) you definitely need to reset your sum variable for every iteration, so you should do <code>int sum = 0;</code> in every loop.</p>\n\n<p>2) you need to iterate while <code>j &lt;= num/2;</code>!</p>\n\n<p>3) consider using Java 8, I'll write some sample here for you.</p>\n\n<p>See my example here, this is so beautiful:</p>\n\n<pre><code>public class PerfectNumbersDemo {\n\n  public static void main(String[] args) {\n    IntStream.range(1, 100)\n        .filter(PerfectNumbersDemo::isPerfect)\n        .forEach(System.out::println);\n  }\n\n  private static boolean isPerfect(int number) {\n    return number == IntStream.rangeClosed(1, number / 2)\n        .filter(i -&gt; number % i == 0)\n        .sum();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17397571,"reputation":135,"user_id":12607075,"display_name":"Rohith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578831026,"creation_date":1578831026,"answer_id":59703646,"question_id":54538708,"body_markdown":"    public class factors{\r\n    public static void main(String args[]){\r\n        int sum=0;\r\n        \r\n        for(int k=2;k&lt;=30;k++){\r\n        for(int i=1;i&lt;k;i++)\r\n        {\r\n            if(k%i==0)\r\n                sum=sum+i;\r\n            \r\n            \r\n        }\r\n           if(k==sum)\r\n                 System.out.println(sum);\r\n            \r\n             \r\n            sum=0;          //sum=0 is very important.\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n**OUTPUT**\r\n\r\n    6\r\n    28","title":"Printing Perfect Numbers between 1-100 using Java","body":"<pre><code>public class factors{\npublic static void main(String args[]){\n    int sum=0;\n\n    for(int k=2;k&lt;=30;k++){\n    for(int i=1;i&lt;k;i++)\n    {\n        if(k%i==0)\n            sum=sum+i;\n\n\n    }\n       if(k==sum)\n             System.out.println(sum);\n\n\n        sum=0;          //sum=0 is very important.\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>6\n28\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25521313,"reputation":1,"user_id":19311131,"display_name":"Rohitashwa Polley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674106995,"creation_date":1674106995,"answer_id":75168163,"question_id":54538708,"body_markdown":"    class PERFECT\r\n     {\r\n        public static void main(String args[])\r\n         {\r\n             int i,j,S,\r\n              for(i=1;i&lt;=100;i++)\r\n              {\r\n              S=0\r\n              for(j=1;j&lt;i;j++)\r\n              {\r\n              if(i%j==0)\r\n               S+=j;\r\n               if (S==i)\r\n               System.out.println(i+&quot;is perfect&quot;);\r\n               }\r\n               }\r\n               }\r\n               }\r\n\r\n","title":"Printing Perfect Numbers between 1-100 using Java","body":"<pre><code>class PERFECT\n {\n    public static void main(String args[])\n     {\n         int i,j,S,\n          for(i=1;i&lt;=100;i++)\n          {\n          S=0\n          for(j=1;j&lt;i;j++)\n          {\n          if(i%j==0)\n           S+=j;\n           if (S==i)\n           System.out.println(i+&quot;is perfect&quot;);\n           }\n           }\n           }\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674226372,"creation_date":1674226372,"answer_id":75185666,"question_id":54538708,"body_markdown":"Here is an alternate way of finding [perfect numbers](https://en.wikipedia.org/wiki/Perfect_number).\r\n\r\n- if &lt;B&gt;2&lt;sup&gt;p&lt;/sup&gt;-1&lt;/B&gt; is prime when &lt;B&gt;p&lt;/B&gt; is prime. Then &lt;B&gt;(2&lt;sup&gt;p-1&lt;/sup&gt;)(2&lt;sup&gt;p&lt;/sup&gt;-1)&lt;/B&gt; is a perfect number. &lt;B&gt;2&lt;sup&gt;p&lt;/sup&gt;-1&lt;/B&gt; is known as a [Mersenne Prime](https://en.wikipedia.org/wiki/Mersenne_prime#:~:text=In%20mathematics%2C%20a%20Mersenne%20prime,so%20is%202n%20%E2%88%92%201)\r\n- As these numbers get real big real fast, using [BigInteger](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigInteger.html) is recommended.\r\n\r\nThis computes the first 10 perfect numbers.\r\n```\r\nint N = 10;\r\nint count = 1;\r\nfor(int i = 2; i &lt; 10_000; i += i == 2 ? 1 : 2) {\r\n    BigInteger val = BigInteger.valueOf(i);\r\n    if (val.isProbablePrime(99)) {\r\n        BigInteger mersenne1 = (BigInteger.ONE.shiftLeft(i)).subtract(BigInteger.ONE);\r\n        if (!mersenne1.isProbablePrime(99)) {\r\n            continue;\r\n        }\r\n        \r\n        BigInteger mersenne2 = BigInteger.ONE.shiftLeft(i-1);\r\n        System.out.printf(&quot;%3d:  %,d\\n&quot;,count, mersenne1.multiply(mersenne2));\r\n       \r\n        if (count++ &gt;= N) {\r\n            break;\r\n        }\r\n    }   \r\n}\r\n```\r\nprints\r\n```\r\n  1:  6\r\n  2:  28\r\n  3:  496\r\n  4:  8,128\r\n  5:  33,550,336\r\n  6:  8,589,869,056\r\n  7:  137,438,691,328\r\n  8:  2,305,843,008,139,952,128\r\n  9:  2,658,455,991,569,831,744,654,692,615,953,842,176\r\n 10:  191,561,942,608,236,107,294,793,378,084,303,638,130,997,321,548,169,216\r\n","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>Here is an alternate way of finding <a href=\"https://en.wikipedia.org/wiki/Perfect_number\" rel=\"nofollow noreferrer\">perfect numbers</a>.</p>\n<ul>\n<li>if <B>2<sup>p</sup>-1</B> is prime when <B>p</B> is prime. Then <B>(2<sup>p-1</sup>)(2<sup>p</sup>-1)</B> is a perfect number. <B>2<sup>p</sup>-1</B> is known as a <a href=\"https://en.wikipedia.org/wiki/Mersenne_prime#:%7E:text=In%20mathematics%2C%20a%20Mersenne%20prime,so%20is%202n%20%E2%88%92%201\" rel=\"nofollow noreferrer\">Mersenne Prime</a></li>\n<li>As these numbers get real big real fast, using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> is recommended.</li>\n</ul>\n<p>This computes the first 10 perfect numbers.</p>\n<pre><code>int N = 10;\nint count = 1;\nfor(int i = 2; i &lt; 10_000; i += i == 2 ? 1 : 2) {\n    BigInteger val = BigInteger.valueOf(i);\n    if (val.isProbablePrime(99)) {\n        BigInteger mersenne1 = (BigInteger.ONE.shiftLeft(i)).subtract(BigInteger.ONE);\n        if (!mersenne1.isProbablePrime(99)) {\n            continue;\n        }\n        \n        BigInteger mersenne2 = BigInteger.ONE.shiftLeft(i-1);\n        System.out.printf(&quot;%3d:  %,d\\n&quot;,count, mersenne1.multiply(mersenne2));\n       \n        if (count++ &gt;= N) {\n            break;\n        }\n    }   \n}\n</code></pre>\n<p>prints</p>\n<pre><code>  1:  6\n  2:  28\n  3:  496\n  4:  8,128\n  5:  33,550,336\n  6:  8,589,869,056\n  7:  137,438,691,328\n  8:  2,305,843,008,139,952,128\n  9:  2,658,455,991,569,831,744,654,692,615,953,842,176\n 10:  191,561,942,608,236,107,294,793,378,084,303,638,130,997,321,548,169,216\n</code></pre>\n"}],"owner":{"account_id":15015719,"reputation":29,"user_id":10838795,"display_name":"Ritwik Saini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15570,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":8,"score":1,"last_activity_date":1674226372,"creation_date":1549383619,"question_id":54538708,"body_markdown":"I don&#39;t know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.\r\n\r\n    class CompProject1\r\n    {\r\n    \r\n        public static void main()\r\n    \r\n        {\r\n    \r\n            int num, sum=0;\r\n    \r\n            int i;\r\n    \r\n            for(num=1; num&lt;100; num++)\r\n    \r\n            {\r\n    \r\n               for(int j = 1; j&lt;=num ; j++)\r\n    \r\n               {\r\n    \r\n                   if(num%j==0)\r\n    \r\n                   {\r\n    \r\n                       sum = sum+j;\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n               if(sum==num)\r\n    \r\n               {\r\n    \r\n                 System.out.println(sum);  \r\n    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>I don't know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.</p>\n\n<pre><code>class CompProject1\n{\n\n    public static void main()\n\n    {\n\n        int num, sum=0;\n\n        int i;\n\n        for(num=1; num&lt;100; num++)\n\n        {\n\n           for(int j = 1; j&lt;=num ; j++)\n\n           {\n\n               if(num%j==0)\n\n               {\n\n                   sum = sum+j;\n\n                }\n\n            }\n\n           if(sum==num)\n\n           {\n\n             System.out.println(sum);  \n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","jhipster","auditing","jdl"],"comments":[{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1674117097,"post_id":75168412,"comment_id":132647305,"body_markdown":"Are you using a blueprint, module, or your own code to add auditing?","body":"Are you using a blueprint, module, or your own code to add auditing?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674157187,"post_id":75168412,"comment_id":132660841,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22184122,"reputation":11,"user_id":16427352,"display_name":"rami ismail"},"score":0,"creation_date":1674225949,"post_id":75168412,"comment_id":132675228,"body_markdown":"@MattRaible I&#39;m using the generated code module","body":"@MattRaible I&#39;m using the generated code module"},{"owner":{"account_id":2469136,"reputation":641,"user_id":2151471,"display_name":"atomfrede"},"score":0,"creation_date":1674828265,"post_id":75168412,"comment_id":132802047,"body_markdown":"Have you updated the database migrations to add the new fields to the database schema?","body":"Have you updated the database migrations to add the new fields to the database schema?"},{"owner":{"account_id":22184122,"reputation":11,"user_id":16427352,"display_name":"rami ismail"},"score":0,"creation_date":1674918878,"post_id":75168412,"comment_id":132818509,"body_markdown":"yes, that was exactly my issue, i had to update the changelog files in liquibase to see the changes","body":"yes, that was exactly my issue, i had to update the changelog files in liquibase to see the changes"}],"owner":{"account_id":22184122,"reputation":11,"user_id":16427352,"display_name":"rami ismail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674226293,"creation_date":1674109198,"question_id":75168412,"body_markdown":"Hello I am using Jhipster to generate my backend code and I&#39;m trying to add auditing fields to my entities, I am aware that my custom entity should extend the ``AbstractAuditingEntity`` class, but the added fields are not showing in the database but are showing in JPA, do you know how can I solve the issue?\r\nhere is the code of the Abstract auditing entity class generated by Jhipster\r\n\r\n\r\n```\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = { &quot;createdBy&quot;, &quot;createdDate&quot;, &quot;lastModifiedBy&quot;, &quot;lastModifiedDate&quot; }, allowGetters = true)\r\npublic abstract class AbstractAuditingEntity&lt;T&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public abstract T getId();\r\n\r\n    @CreatedBy\r\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\r\n    private String createdBy;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;created_date&quot;, updatable = false)\r\n    private Instant createdDate = Instant.now();\r\n\r\n    @LastModifiedBy\r\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\r\n    private String lastModifiedBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;last_modified_date&quot;)\r\n    private Instant lastModifiedDate = Instant.now();\r\n\r\n    public String getCreatedBy() {\r\n        return createdBy;\r\n    }\r\n\r\n    public void setCreatedBy(String createdBy) {\r\n        this.createdBy = createdBy;\r\n    }\r\n\r\n    public Instant getCreatedDate() {\r\n        return createdDate;\r\n    }\r\n\r\n    public void setCreatedDate(Instant createdDate) {\r\n        this.createdDate = createdDate;\r\n    }\r\n\r\n    public String getLastModifiedBy() {\r\n        return lastModifiedBy;\r\n    }\r\n\r\n    public void setLastModifiedBy(String lastModifiedBy) {\r\n        this.lastModifiedBy = lastModifiedBy;\r\n    }\r\n\r\n    public Instant getLastModifiedDate() {\r\n        return lastModifiedDate;\r\n    }\r\n\r\n    public void setLastModifiedDate(Instant lastModifiedDate) {\r\n        this.lastModifiedDate = lastModifiedDate;\r\n    }\r\n}\r\n```\r\nand here the custom entity code \r\n```\r\n@Entity\r\n@Table(name = &quot;indicator&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)\r\npublic class Indicator extends AbstractAuditingEntity&lt;Long&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;code&quot;, nullable = false, unique = true)\r\n    private Integer code;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;title&quot;, length = 50, nullable = false)\r\n    private String title;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;titlear&quot;, length = 50, nullable = false)\r\n    private String titlear;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;titlefr&quot;, length = 50, nullable = false)\r\n    private String titlefr;\r\n\r\n    @Size(max = 500)\r\n    @Column(name = &quot;description&quot;, length = 500)\r\n    private String description;\r\n\r\n    @Size(max = 500)\r\n    @Column(name = &quot;descriptionar&quot;, length = 500)\r\n    private String descriptionar;\r\n\r\n    @Size(max = 500)\r\n    @Column(name = &quot;descriptionfr&quot;, length = 500)\r\n    private String descriptionfr;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;rating&quot;, nullable = false)\r\n    private Integer rating;\r\n\r\n    @ManyToMany(mappedBy = &quot;indicators&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @JsonIgnoreProperties(value = { &quot;indicators&quot; }, allowSetters = true)\r\n    private Set&lt;Competency&gt; competencies = new HashSet&lt;&gt;();\r\n\r\n    // jhipster-needle-entity-add-field - JHipster will add fields here\r\n\r\n    public Long getId() {\r\n        return this.id;\r\n    }\r\n\r\n    public Indicator id(Long id) {\r\n        this.setId(id);\r\n        return this;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Integer getCode() {\r\n        return this.code;\r\n    }\r\n\r\n    public Indicator code(Integer code) {\r\n        this.setCode(code);\r\n        return this;\r\n    }\r\n\r\n    public void setCode(Integer code) {\r\n        this.code = code;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return this.title;\r\n    }\r\n\r\n    public Indicator title(String title) {\r\n        this.setTitle(title);\r\n        return this;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getTitlear() {\r\n        return this.titlear;\r\n    }\r\n\r\n    public Indicator titlear(String titlear) {\r\n        this.setTitlear(titlear);\r\n        return this;\r\n    }\r\n\r\n    public void setTitlear(String titlear) {\r\n        this.titlear = titlear;\r\n    }\r\n\r\n    public String getTitlefr() {\r\n        return this.titlefr;\r\n    }\r\n\r\n    public Indicator titlefr(String titlefr) {\r\n        this.setTitlefr(titlefr);\r\n        return this;\r\n    }\r\n\r\n    public void setTitlefr(String titlefr) {\r\n        this.titlefr = titlefr;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return this.description;\r\n    }\r\n\r\n    public Indicator description(String description) {\r\n        this.setDescription(description);\r\n        return this;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getDescriptionar() {\r\n        return this.descriptionar;\r\n    }\r\n\r\n    public Indicator descriptionar(String descriptionar) {\r\n        this.setDescriptionar(descriptionar);\r\n        return this;\r\n    }\r\n\r\n    public void setDescriptionar(String descriptionar) {\r\n        this.descriptionar = descriptionar;\r\n    }\r\n\r\n    public String getDescriptionfr() {\r\n        return this.descriptionfr;\r\n    }\r\n\r\n    public Indicator descriptionfr(String descriptionfr) {\r\n        this.setDescriptionfr(descriptionfr);\r\n        return this;\r\n    }\r\n\r\n    public void setDescriptionfr(String descriptionfr) {\r\n        this.descriptionfr = descriptionfr;\r\n    }\r\n\r\n    public Integer getRating() {\r\n        return this.rating;\r\n    }\r\n\r\n    public Indicator rating(Integer rating) {\r\n        this.setRating(rating);\r\n        return this;\r\n    }\r\n\r\n    public void setRating(Integer rating) {\r\n        this.rating = rating;\r\n    }\r\n\r\n    public Set&lt;Competency&gt; getCompetencies() {\r\n        return this.competencies;\r\n    }\r\n\r\n    public void setCompetencies(Set&lt;Competency&gt; competencies) {\r\n        if (this.competencies != null) {\r\n            this.competencies.forEach(i -&gt; i.removeIndicator(this));\r\n        }\r\n        if (competencies != null) {\r\n            competencies.forEach(i -&gt; i.addIndicator(this));\r\n        }\r\n        this.competencies = competencies;\r\n    }\r\n\r\n    public Indicator competencies(Set&lt;Competency&gt; competencies) {\r\n        this.setCompetencies(competencies);\r\n        return this;\r\n    }\r\n\r\n    public Indicator addCompetency(Competency competency) {\r\n        this.competencies.add(competency);\r\n        competency.getIndicators().add(this);\r\n        return this;\r\n    }\r\n\r\n    public Indicator removeCompetency(Competency competency) {\r\n        this.competencies.remove(competency);\r\n        competency.getIndicators().remove(this);\r\n        return this;\r\n    }\r\n\r\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof Indicator)) {\r\n            return false;\r\n        }\r\n        return id != null &amp;&amp; id.equals(((Indicator) o).id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        // see https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/\r\n        return getClass().hashCode();\r\n    }\r\n\r\n    // prettier-ignore\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Indicator{&quot; +\r\n            &quot;id=&quot; + getId() +\r\n            &quot;, code=&quot; + getCode() +\r\n            &quot;, title=&#39;&quot; + getTitle() + &quot;&#39;&quot; +\r\n            &quot;, titlear=&#39;&quot; + getTitlear() + &quot;&#39;&quot; +\r\n            &quot;, titlefr=&#39;&quot; + getTitlefr() + &quot;&#39;&quot; +\r\n            &quot;, description=&#39;&quot; + getDescription() + &quot;&#39;&quot; +\r\n            &quot;, descriptionar=&#39;&quot; + getDescriptionar() + &quot;&#39;&quot; +\r\n            &quot;, descriptionfr=&#39;&quot; + getDescriptionfr() + &quot;&#39;&quot; +\r\n            &quot;, rating=&quot; + getRating() +\r\n            &quot;}&quot;;\r\n    }\r\n}\r\n```\r\nas you can see I have extended the class and the extra fields do appear in the persitance of JPA but whenever I run the server my database is not updated with those fields.\r\n\r\nthe database is also postgres if that can help ","title":"Jhipster Auditing Entities","body":"<p>Hello I am using Jhipster to generate my backend code and I'm trying to add auditing fields to my entities, I am aware that my custom entity should extend the <code>AbstractAuditingEntity</code> class, but the added fields are not showing in the database but are showing in JPA, do you know how can I solve the issue?\nhere is the code of the Abstract auditing entity class generated by Jhipster</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = { &quot;createdBy&quot;, &quot;createdDate&quot;, &quot;lastModifiedBy&quot;, &quot;lastModifiedDate&quot; }, allowGetters = true)\npublic abstract class AbstractAuditingEntity&lt;T&gt; implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public abstract T getId();\n\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\n    private String createdBy;\n\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, updatable = false)\n    private Instant createdDate = Instant.now();\n\n    @LastModifiedBy\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\n    private String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = &quot;last_modified_date&quot;)\n    private Instant lastModifiedDate = Instant.now();\n\n    public String getCreatedBy() {\n        return createdBy;\n    }\n\n    public void setCreatedBy(String createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    public Instant getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Instant createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public String getLastModifiedBy() {\n        return lastModifiedBy;\n    }\n\n    public void setLastModifiedBy(String lastModifiedBy) {\n        this.lastModifiedBy = lastModifiedBy;\n    }\n\n    public Instant getLastModifiedDate() {\n        return lastModifiedDate;\n    }\n\n    public void setLastModifiedDate(Instant lastModifiedDate) {\n        this.lastModifiedDate = lastModifiedDate;\n    }\n}\n</code></pre>\n<p>and here the custom entity code</p>\n<pre><code>@Entity\n@Table(name = &quot;indicator&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)\npublic class Indicator extends AbstractAuditingEntity&lt;Long&gt; implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;code&quot;, nullable = false, unique = true)\n    private Integer code;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;title&quot;, length = 50, nullable = false)\n    private String title;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;titlear&quot;, length = 50, nullable = false)\n    private String titlear;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;titlefr&quot;, length = 50, nullable = false)\n    private String titlefr;\n\n    @Size(max = 500)\n    @Column(name = &quot;description&quot;, length = 500)\n    private String description;\n\n    @Size(max = 500)\n    @Column(name = &quot;descriptionar&quot;, length = 500)\n    private String descriptionar;\n\n    @Size(max = 500)\n    @Column(name = &quot;descriptionfr&quot;, length = 500)\n    private String descriptionfr;\n\n    @NotNull\n    @Column(name = &quot;rating&quot;, nullable = false)\n    private Integer rating;\n\n    @ManyToMany(mappedBy = &quot;indicators&quot;)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    @JsonIgnoreProperties(value = { &quot;indicators&quot; }, allowSetters = true)\n    private Set&lt;Competency&gt; competencies = new HashSet&lt;&gt;();\n\n    // jhipster-needle-entity-add-field - JHipster will add fields here\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public Indicator id(Long id) {\n        this.setId(id);\n        return this;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Integer getCode() {\n        return this.code;\n    }\n\n    public Indicator code(Integer code) {\n        this.setCode(code);\n        return this;\n    }\n\n    public void setCode(Integer code) {\n        this.code = code;\n    }\n\n    public String getTitle() {\n        return this.title;\n    }\n\n    public Indicator title(String title) {\n        this.setTitle(title);\n        return this;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getTitlear() {\n        return this.titlear;\n    }\n\n    public Indicator titlear(String titlear) {\n        this.setTitlear(titlear);\n        return this;\n    }\n\n    public void setTitlear(String titlear) {\n        this.titlear = titlear;\n    }\n\n    public String getTitlefr() {\n        return this.titlefr;\n    }\n\n    public Indicator titlefr(String titlefr) {\n        this.setTitlefr(titlefr);\n        return this;\n    }\n\n    public void setTitlefr(String titlefr) {\n        this.titlefr = titlefr;\n    }\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public Indicator description(String description) {\n        this.setDescription(description);\n        return this;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getDescriptionar() {\n        return this.descriptionar;\n    }\n\n    public Indicator descriptionar(String descriptionar) {\n        this.setDescriptionar(descriptionar);\n        return this;\n    }\n\n    public void setDescriptionar(String descriptionar) {\n        this.descriptionar = descriptionar;\n    }\n\n    public String getDescriptionfr() {\n        return this.descriptionfr;\n    }\n\n    public Indicator descriptionfr(String descriptionfr) {\n        this.setDescriptionfr(descriptionfr);\n        return this;\n    }\n\n    public void setDescriptionfr(String descriptionfr) {\n        this.descriptionfr = descriptionfr;\n    }\n\n    public Integer getRating() {\n        return this.rating;\n    }\n\n    public Indicator rating(Integer rating) {\n        this.setRating(rating);\n        return this;\n    }\n\n    public void setRating(Integer rating) {\n        this.rating = rating;\n    }\n\n    public Set&lt;Competency&gt; getCompetencies() {\n        return this.competencies;\n    }\n\n    public void setCompetencies(Set&lt;Competency&gt; competencies) {\n        if (this.competencies != null) {\n            this.competencies.forEach(i -&gt; i.removeIndicator(this));\n        }\n        if (competencies != null) {\n            competencies.forEach(i -&gt; i.addIndicator(this));\n        }\n        this.competencies = competencies;\n    }\n\n    public Indicator competencies(Set&lt;Competency&gt; competencies) {\n        this.setCompetencies(competencies);\n        return this;\n    }\n\n    public Indicator addCompetency(Competency competency) {\n        this.competencies.add(competency);\n        competency.getIndicators().add(this);\n        return this;\n    }\n\n    public Indicator removeCompetency(Competency competency) {\n        this.competencies.remove(competency);\n        competency.getIndicators().remove(this);\n        return this;\n    }\n\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof Indicator)) {\n            return false;\n        }\n        return id != null &amp;&amp; id.equals(((Indicator) o).id);\n    }\n\n    @Override\n    public int hashCode() {\n        // see https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/\n        return getClass().hashCode();\n    }\n\n    // prettier-ignore\n    @Override\n    public String toString() {\n        return &quot;Indicator{&quot; +\n            &quot;id=&quot; + getId() +\n            &quot;, code=&quot; + getCode() +\n            &quot;, title='&quot; + getTitle() + &quot;'&quot; +\n            &quot;, titlear='&quot; + getTitlear() + &quot;'&quot; +\n            &quot;, titlefr='&quot; + getTitlefr() + &quot;'&quot; +\n            &quot;, description='&quot; + getDescription() + &quot;'&quot; +\n            &quot;, descriptionar='&quot; + getDescriptionar() + &quot;'&quot; +\n            &quot;, descriptionfr='&quot; + getDescriptionfr() + &quot;'&quot; +\n            &quot;, rating=&quot; + getRating() +\n            &quot;}&quot;;\n    }\n}\n</code></pre>\n<p>as you can see I have extended the class and the extra fields do appear in the persitance of JPA but whenever I run the server my database is not updated with those fields.</p>\n<p>the database is also postgres if that can help</p>\n"},{"tags":["java","neo4j","traversal"],"answers":[{"tags":[],"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674210410,"creation_date":1674210410,"answer_id":75182729,"question_id":75179572,"body_markdown":"You are mixing 2 different things.\r\n\r\nThe `neo4j-java-driver` is used to communicate to a remote server and allows only to execute Cypher queries:\r\n\r\n```java\r\nvar authToken = AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;);\r\ntry (Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, authToken);\r\n     Session session = driver.session()) {\r\n    var result = session.run(&quot;CREATE (n)&quot;);\r\n    var summary = result.consume();\r\n    System.out.println(summary.counters().nodesCreated());\r\n}\r\n```\r\n\r\nThe traversal Java API is used **within** an instance, either through an extension or Neo4j embedded. You cannot mix the Java driver and the traversal API together.\r\n\r\n```java\r\ntry (Transaction tx = db.beginTx()) {\r\n    Node node; // find some node\r\n    for (Path path : tx.traversalDescription()\r\n        .depthFirst()\r\n        .relationships(Rels.KNOWS)\r\n        .uniqueness(Uniqueness.RELATIONSHIP_GLOBAL)\r\n        .traverse(node)) {\r\n        // do something\r\n    }\r\n}\r\n```\r\n\r\nNotice here that the transaction is starting from `db`, an injected instance of a `GraphDatabaseService`, not from a Java driver&#39;s `Session`.\r\n\r\nSide notes:\r\n\r\n - version 3.0.1 of `neo4j-graphdb-api` is very old. Neo4j 3.0.1 has reached end of life [a long time ago.][1]\r\n - your compiler configuration targets Java 8, the shorthand properties to target Java 11 are ineffective here\r\n\r\n\r\n  [1]: https://neo4j.com/developer/kb/neo4j-supported-versions/","title":"Cannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;","body":"<p>You are mixing 2 different things.</p>\n<p>The <code>neo4j-java-driver</code> is used to communicate to a remote server and allows only to execute Cypher queries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var authToken = AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;);\ntry (Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, authToken);\n     Session session = driver.session()) {\n    var result = session.run(&quot;CREATE (n)&quot;);\n    var summary = result.consume();\n    System.out.println(summary.counters().nodesCreated());\n}\n</code></pre>\n<p>The traversal Java API is used <strong>within</strong> an instance, either through an extension or Neo4j embedded. You cannot mix the Java driver and the traversal API together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Transaction tx = db.beginTx()) {\n    Node node; // find some node\n    for (Path path : tx.traversalDescription()\n        .depthFirst()\n        .relationships(Rels.KNOWS)\n        .uniqueness(Uniqueness.RELATIONSHIP_GLOBAL)\n        .traverse(node)) {\n        // do something\n    }\n}\n</code></pre>\n<p>Notice here that the transaction is starting from <code>db</code>, an injected instance of a <code>GraphDatabaseService</code>, not from a Java driver's <code>Session</code>.</p>\n<p>Side notes:</p>\n<ul>\n<li>version 3.0.1 of <code>neo4j-graphdb-api</code> is very old. Neo4j 3.0.1 has reached end of life <a href=\"https://neo4j.com/developer/kb/neo4j-supported-versions/\" rel=\"nofollow noreferrer\">a long time ago.</a></li>\n<li>your compiler configuration targets Java 8, the shorthand properties to target Java 11 are ineffective here</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674226234,"creation_date":1674226234,"answer_id":75185627,"question_id":75179572,"body_markdown":"Your libraries and code are pretty old for now.\r\nHere is a Maven POM file with the new versions:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ZBD&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd do not use Traversal Framework, it looks like it is recommended to use Cypher now. \r\nAnd easier to find samples. Please, look here: https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/\r\n\r\n","title":"Cannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;","body":"<p>Your libraries and code are pretty old for now.\nHere is a Maven POM file with the new versions:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ZBD&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And do not use Traversal Framework, it looks like it is recommended to use Cypher now.\nAnd easier to find samples. Please, look here: <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/</a></p>\n"}],"owner":{"account_id":14585745,"reputation":1096,"user_id":10534633,"display_name":"maciejwww"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674226234,"creation_date":1674174270,"question_id":75179572,"body_markdown":"I&#39;m trying to understand *Traversal API* for *Neo4j*, but I have a problem with dependencies:\r\n```\r\nCannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;\r\n```\r\nalso:\r\n```\r\nCannot resolve method &#39;traversalDescription&#39; in &#39;Transaction&#39;\r\n```\r\nHere is my code (because of the dependencies, I&#39;m still not sure if it&#39;s working - any tips unrelated to the question will be appreciated):\r\n``` java\r\nimport org.neo4j.driver.Driver;\r\nimport org.neo4j.driver.AuthTokens;\r\nimport org.neo4j.driver.GraphDatabase;import org.neo4j.driver.Session;\r\nimport org.neo4j.graphdb.*;\r\nimport org.neo4j.graphdb.traversal.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;));\r\n        try (Session session = driver.session()) {\r\n            // Start a new transaction\r\n            try (Transaction tx = (Transaction) session.beginTransaction()) {\r\n                // Get the traversal description\r\n                TraversalDescription traversal = tx.traversalDescription()\r\n                        .depthFirst()\r\n                        .uniqueness(Uniqueness.NODE_GLOBAL);\r\n                Node startNode = tx.findNode(Label.label(&quot;Node&quot;), &quot;id&quot;, 0);\r\n                // Traverse the graph\r\n                Traverser traverser = traversal.traverse(startNode);\r\n                for (Path path : traverser) {\r\n                    Node node = path.endNode();\r\n                    System.out.println(&quot;Node id: &quot; + node.getProperty(&quot;id&quot;));\r\n                }\r\n                tx.success();\r\n            }\r\n        } finally {\r\n            driver.close();\r\n        }\r\n    }\r\n}\r\n```\r\nand `pom.xml` file:\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ZBD&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;ve tried to use examples from [*neo4j* repository on *GitHub*](https://github.com/neo4j/neo4j-documentation/tree/dev/embedded-examples/src/main/java/org/neo4j/examples), but the dependencies are still an issue.","title":"Cannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;","body":"<p>I'm trying to understand <em>Traversal API</em> for <em>Neo4j</em>, but I have a problem with dependencies:</p>\n<pre><code>Cannot resolve method 'findNode' in 'Transaction'\n</code></pre>\n<p>also:</p>\n<pre><code>Cannot resolve method 'traversalDescription' in 'Transaction'\n</code></pre>\n<p>Here is my code (because of the dependencies, I'm still not sure if it's working - any tips unrelated to the question will be appreciated):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.neo4j.driver.Driver;\nimport org.neo4j.driver.AuthTokens;\nimport org.neo4j.driver.GraphDatabase;import org.neo4j.driver.Session;\nimport org.neo4j.graphdb.*;\nimport org.neo4j.graphdb.traversal.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;));\n        try (Session session = driver.session()) {\n            // Start a new transaction\n            try (Transaction tx = (Transaction) session.beginTransaction()) {\n                // Get the traversal description\n                TraversalDescription traversal = tx.traversalDescription()\n                        .depthFirst()\n                        .uniqueness(Uniqueness.NODE_GLOBAL);\n                Node startNode = tx.findNode(Label.label(&quot;Node&quot;), &quot;id&quot;, 0);\n                // Traverse the graph\n                Traverser traverser = traversal.traverse(startNode);\n                for (Path path : traverser) {\n                    Node node = path.endNode();\n                    System.out.println(&quot;Node id: &quot; + node.getProperty(&quot;id&quot;));\n                }\n                tx.success();\n            }\n        } finally {\n            driver.close();\n        }\n    }\n}\n</code></pre>\n<p>and <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ZBD&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I've tried to use examples from <a href=\"https://github.com/neo4j/neo4j-documentation/tree/dev/embedded-examples/src/main/java/org/neo4j/examples\" rel=\"nofollow noreferrer\"><em>neo4j</em> repository on <em>GitHub</em></a>, but the dependencies are still an issue.</p>\n"},{"tags":["java","graphics","javafx"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1453920296,"post_id":35033309,"comment_id":57815334,"body_markdown":"You&#39;ve got a svg; It would be easy to use `SVGPath` to create the path (Which of course uses cubic B&#233;zier curves...). The only way to do this not using B&#233;zier curves that comes to my mind is using the `DisplacementMap` effect on a `Line` but this results in horrible quality and isn&#39;t really easier. Using B&#233;zier curves isn&#39;t that complicated. It can be done with approx 40 LOC for any given start/end point / wave height / wave length.","body":"You&#39;ve got a svg; It would be easy to use <code>SVGPath</code> to create the path (Which of course uses cubic B&#233;zier curves...). The only way to do this not using B&#233;zier curves that comes to my mind is using the <code>DisplacementMap</code> effect on a <code>Line</code> but this results in horrible quality and isn&#39;t really easier. Using B&#233;zier curves isn&#39;t that complicated. It can be done with approx 40 LOC for any given start/end point / wave height / wave length."},{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":0,"creation_date":1453922128,"post_id":35033309,"comment_id":57816392,"body_markdown":"Yes, I just thought maybe there is a built-in way. Take dashes for example - you could easily accomplish a dashed line with interchanging `MoveTo` and `LineTo`, but JavaFX provides a built in which is much simpler to use.","body":"Yes, I just thought maybe there is a built-in way. Take dashes for example - you could easily accomplish a dashed line with interchanging <code>MoveTo</code> and <code>LineTo</code>, but JavaFX provides a built in which is much simpler to use."}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674226198,"creation_date":1674225380,"answer_id":75185471,"question_id":35033309,"body_markdown":"**Wave line with `Path`**\r\n\r\nIn this approach `wavyPath` method will return a `Path` object with nested `CubicCurbeTo`  path elements . Where `length` is the length of the line in x axis , `subDivisions` are the amount of curves and `controlY` is the height in y axis . In this case the method will make a path of 200 pixels length with four curves and 40 pixels amplitude (80 pixels height).\r\n\r\nDocs of [Path][1] and [CubicCurveTo][2] (javafx 19)\r\n\r\nThis is a single class javafx app you can try \r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            var scene = new Scene(new StackPane(wavyPath(200, 4, 40)), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private Path wavyPath(double length, int subdivisions, int controlY) {\r\n            var path = new Path(new MoveTo(0, 0));\r\n            double curveLengthX = length / subdivisions;\r\n            double controlX = curveLengthX * 0.5;\r\n    \r\n            for (int i = 0; i &lt; subdivisions; i++) {\r\n    \r\n                var curve = \r\n                        new CubicCurveTo((curveLengthX * i) + controlX, -controlY, \r\n                                (curveLengthX * i) + controlX, controlY, curveLengthX * (i + 1), 0);\r\n    \r\n                System.out.println(curveLengthX * (1 + i));\r\n                path.getElements().add(curve);\r\n            }\r\n            path.setStroke(Color.PURPLE);\r\n            path.setStrokeWidth(3);\r\n            return path;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Result**\r\n\r\n[![wave line javafx][3]][3]\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/Path.html\r\n  [2]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/CubicCurveTo.html\r\n  [3]: https://i.stack.imgur.com/yXwEp.png","title":"JavaFX - draw squiggly line","body":"<p><strong>Wave line with <code>Path</code></strong></p>\n<p>In this approach <code>wavyPath</code> method will return a <code>Path</code> object with nested <code>CubicCurbeTo</code>  path elements . Where <code>length</code> is the length of the line in x axis , <code>subDivisions</code> are the amount of curves and <code>controlY</code> is the height in y axis . In this case the method will make a path of 200 pixels length with four curves and 40 pixels amplitude (80 pixels height).</p>\n<p>Docs of <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/Path.html\" rel=\"nofollow noreferrer\">Path</a> and <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/CubicCurveTo.html\" rel=\"nofollow noreferrer\">CubicCurveTo</a> (javafx 19)</p>\n<p>This is a single class javafx app you can try</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        var scene = new Scene(new StackPane(wavyPath(200, 4, 40)), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private Path wavyPath(double length, int subdivisions, int controlY) {\n        var path = new Path(new MoveTo(0, 0));\n        double curveLengthX = length / subdivisions;\n        double controlX = curveLengthX * 0.5;\n\n        for (int i = 0; i &lt; subdivisions; i++) {\n\n            var curve = \n                    new CubicCurveTo((curveLengthX * i) + controlX, -controlY, \n                            (curveLengthX * i) + controlX, controlY, curveLengthX * (i + 1), 0);\n\n            System.out.println(curveLengthX * (1 + i));\n            path.getElements().add(curve);\n        }\n        path.setStroke(Color.PURPLE);\n        path.setStrokeWidth(3);\n        return path;\n\n    }\n\n}\n</code></pre>\n<p><strong>Result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/yXwEp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXwEp.png\" alt=\"wave line javafx\" /></a></p>\n"}],"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674226198,"creation_date":1453886672,"question_id":35033309,"body_markdown":"Is there a simple way to draw a squiggly line across a path in JavaFX? Something like the horizontal line in \r\n[![enter image description here][1]][1]\r\n\r\n(Source: https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Electron-positron-annihilation.svg/2000px-Electron-positron-annihilation.svg.png)\r\n \r\n\r\nI know I can achieve this by breaking up the path to multiple parts, and drawing each with a cubic bezier curve, but I was hoping there was an easier way. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/LRAMb.png","title":"JavaFX - draw squiggly line","body":"<p>Is there a simple way to draw a squiggly line across a path in JavaFX? Something like the horizontal line in \n<a href=\"https://i.stack.imgur.com/LRAMb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LRAMb.png\" alt=\"enter image description here\"></a></p>\n\n<p>(Source: <a href=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Electron-positron-annihilation.svg/2000px-Electron-positron-annihilation.svg.png\" rel=\"nofollow noreferrer\">https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Electron-positron-annihilation.svg/2000px-Electron-positron-annihilation.svg.png</a>)</p>\n\n<p>I know I can achieve this by breaking up the path to multiple parts, and drawing each with a cubic bezier curve, but I was hoping there was an easier way. </p>\n"},{"tags":["java","linux","io"],"comments":[{"owner":{"account_id":20143505,"reputation":1495,"user_id":14772619,"display_name":"dimich"},"score":0,"creation_date":1674172168,"post_id":75179339,"comment_id":132664429,"body_markdown":"What is &quot;blocking device&quot;? Do you mean block device?","body":"What is &quot;blocking device&quot;? Do you mean block device?"},{"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"score":0,"creation_date":1674225777,"post_id":75179339,"comment_id":132675161,"body_markdown":"@dimich sorry, I was mixing terms. It&#39;s a &quot;character special device file&quot;. The problem is that it is blocking. I edited the question","body":"@dimich sorry, I was mixing terms. It&#39;s a &quot;character special device file&quot;. The problem is that it is blocking. I edited the question"},{"owner":{"account_id":20143505,"reputation":1495,"user_id":14772619,"display_name":"dimich"},"score":0,"creation_date":1674228103,"post_id":75179339,"comment_id":132676112,"body_markdown":"If `write()` call blocks it means driver [temporary] won&#39;t accept data for some reason. It is specific to the driver which handles the device, you can do nothing with it from userspace. You should access device file like any other blocking IO. If the driver supports `poll()` you can wait with `POLLOUT` on file descriptor. Or set `O_NONBLOCK` flag and access device in nonblocking mode. Or call blocking operations in a separate thread.","body":"If <code>write()</code> call blocks it means driver [temporary] won&#39;t accept data for some reason. It is specific to the driver which handles the device, you can do nothing with it from userspace. You should access device file like any other blocking IO. If the driver supports <code>poll()</code> you can wait with <code>POLLOUT</code> on file descriptor. Or set <code>O_NONBLOCK</code> flag and access device in nonblocking mode. Or call blocking operations in a separate thread."}],"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674225998,"creation_date":1674171454,"question_id":75179339,"body_markdown":"I have a character special device file on a Linux system (eg /dev/foobardcma6) that I wish to constantly write data to. What is the preferred way to do this in Java?\r\n\r\nI tried using `AsynchronousFileChannel` and was able to write some bytes to it, but eventually it blocks/hangs when writing. I don&#39;t know if this is the right approach or not, however.\r\n\r\nI could use a `FileChannel`. The write method returns how many bytes were actually written. I assume if it returns less bytes than were requested to write, it means the write buffer is full, and you should wait before writing again. However, I don&#39;t see any mechanism to be notified that the file is ready for writing.\r\n\r\n**Update:**\r\n\r\nI tried using a `FileChannel`, and it also blocks after a certain number of bytes. The suspicious thing is both the `FileChannel` and `AsychronousFileChannel` implementations block after writing *exactly* the same number of bytes. In both cases the last call to `write` never returns.\r\n\r\nI have a test utility written in C++ that can successfully write data to the device without issue, so it&#39;s not a hardware problem. I assume I&#39;m doing something wrong with the FileChannels.\r\n","title":"How do you write to a blocking device file using Java?","body":"<p>I have a character special device file on a Linux system (eg /dev/foobardcma6) that I wish to constantly write data to. What is the preferred way to do this in Java?</p>\n<p>I tried using <code>AsynchronousFileChannel</code> and was able to write some bytes to it, but eventually it blocks/hangs when writing. I don't know if this is the right approach or not, however.</p>\n<p>I could use a <code>FileChannel</code>. The write method returns how many bytes were actually written. I assume if it returns less bytes than were requested to write, it means the write buffer is full, and you should wait before writing again. However, I don't see any mechanism to be notified that the file is ready for writing.</p>\n<p><strong>Update:</strong></p>\n<p>I tried using a <code>FileChannel</code>, and it also blocks after a certain number of bytes. The suspicious thing is both the <code>FileChannel</code> and <code>AsychronousFileChannel</code> implementations block after writing <em>exactly</em> the same number of bytes. In both cases the last call to <code>write</code> never returns.</p>\n<p>I have a test utility written in C++ that can successfully write data to the device without issue, so it's not a hardware problem. I assume I'm doing something wrong with the FileChannels.</p>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674061531,"post_id":75162736,"comment_id":132636206,"body_markdown":"Why not use `joinPoint.proceed()`?","body":"Why not use <code>joinPoint.proceed()</code>?"},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1674063532,"post_id":75162736,"comment_id":132636885,"body_markdown":"@Unmitigated, how to do that? Could you please give me an example? Thanks.","body":"@Unmitigated, how to do that? Could you please give me an example? Thanks."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1674072986,"post_id":75162736,"comment_id":132639715,"body_markdown":"I do not think it is possible to do unless you create a new field in `MyRequest` class say EntityA and set that field in the aspect(ater getting hold of myRequest Object in Aspect through `joinPoint.getArgs()`.  And you can access that in myMethod. You can define this new field as `@Transient`\n\nAnother option is you can use a cache for this call `myService.loadFromDB()` so that it is not reloaded from DB.","body":"I do not think it is possible to do unless you create a new field in <code>MyRequest</code> class say EntityA and set that field in the aspect(ater getting hold of myRequest Object in Aspect through <code>joinPoint.getArgs()</code>.  And you can access that in myMethod. You can define this new field as <code>@Transient</code>  Another option is you can use a cache for this call <code>myService.loadFromDB()</code> so that it is not reloaded from DB."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674225975,"creation_date":1674225975,"answer_id":75185578,"question_id":75162736,"body_markdown":"You cannot use aspects to magically inject objects into local variables. The term &quot;local&quot; says it all, does it not? If you use Spring, you should be familiar with a concept called dependency injection. Just use that concept. Instead of creating dependencies by yourself in the method where you need it, make sure that it can be injected from outside. But in this case, it is maybe easier to configure DB caching according to your needs.\r\n\r\nThe main problem with your question is your pseudo code and that neither you nor the code explain the problem you are actually trying to solve. For example, what is `MyRequest request` used for? How does `myService.loadFromDB()` know what exactly to load from the DB. Nobody can help you adequately, if you post code which does not resemble reality.","title":"How to pass an object loaded in aspect function to the annotated method","body":"<p>You cannot use aspects to magically inject objects into local variables. The term &quot;local&quot; says it all, does it not? If you use Spring, you should be familiar with a concept called dependency injection. Just use that concept. Instead of creating dependencies by yourself in the method where you need it, make sure that it can be injected from outside. But in this case, it is maybe easier to configure DB caching according to your needs.</p>\n<p>The main problem with your question is your pseudo code and that neither you nor the code explain the problem you are actually trying to solve. For example, what is <code>MyRequest request</code> used for? How does <code>myService.loadFromDB()</code> know what exactly to load from the DB. Nobody can help you adequately, if you post code which does not resemble reality.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674225975,"creation_date":1674061287,"question_id":75162736,"body_markdown":"I am using spring aop to create an annotation for some crosscut purpose. Below is the sample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    @Slf4j\r\n    public class MyAspect {\r\n        @Autowired\r\n        private MyService myService\r\n    \r\n        @Before(&quot;@annotation(MyAnnotationCheck)&quot;)\r\n        @SneakyThrows\r\n        public void check(JoinPoint joinPoint) {\r\n            // This is the object that I am going to reload in the\r\n            // function that being marked by the annotation I created.\r\n            // Anyway I can pass this into the annotated method instead\r\n            // of load from db again?\r\n            EntityA myObj = myService.loadFromDB();\r\n            // ...\r\n        }\r\n    }\r\n\r\nFollowing is the method being annotated, which is in different class\r\n        \r\n&lt;!-- language: java --&gt;\r\n\r\n    @MyAnnotationCheck(checkType = &quot;abc&quot;)\r\n    public void myMethod(MyRequest request) {\r\n        EntityA objA = myService.loadFromDB();  // Reload the object from DB\r\n    }\r\n\r\nWhat should I do with it? Anyway I can pass the object from the Aspect function to the method annotated?","title":"How to pass an object loaded in aspect function to the annotated method","body":"<p>I am using spring aop to create an annotation for some crosscut purpose. Below is the sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\npublic class MyAspect {\n    @Autowired\n    private MyService myService\n\n    @Before(&quot;@annotation(MyAnnotationCheck)&quot;)\n    @SneakyThrows\n    public void check(JoinPoint joinPoint) {\n        // This is the object that I am going to reload in the\n        // function that being marked by the annotation I created.\n        // Anyway I can pass this into the annotated method instead\n        // of load from db again?\n        EntityA myObj = myService.loadFromDB();\n        // ...\n    }\n}\n</code></pre>\n<p>Following is the method being annotated, which is in different class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MyAnnotationCheck(checkType = &quot;abc&quot;)\npublic void myMethod(MyRequest request) {\n    EntityA objA = myService.loadFromDB();  // Reload the object from DB\n}\n</code></pre>\n<p>What should I do with it? Anyway I can pass the object from the Aspect function to the method annotated?</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1389113640,"creation_date":1389113640,"answer_id":20977362,"question_id":20966818,"body_markdown":"The sheet margins are not contained in the `XSSFPrintSetup` object, but on the `XSSFSheet` itself.  Use `Sheet`&#39;s [`getMargin`][1] and [`setMargin`][2] methods, passing the appropriate `Sheet` constant for the top/left/bottom/right/header/footer margins.  Set and get the margin in inches.\r\n\r\n    double leftMarginInches = sheet.getMargin(Sheet.LeftMargin);\r\n    sheet.setMargin(Sheet.RightMargin, 0.5 /* inches */ );\r\n\r\n[1]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getMargin(short)\r\n[2]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#setMargin(short,%20double)\r\n\r\n    ","title":"Apache POI - setting left/right print margin in Excel","body":"<p>The sheet margins are not contained in the <code>XSSFPrintSetup</code> object, but on the <code>XSSFSheet</code> itself.  Use <code>Sheet</code>'s <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getMargin%28short%29\"><code>getMargin</code></a> and <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#setMargin%28short,%20double%29\"><code>setMargin</code></a> methods, passing the appropriate <code>Sheet</code> constant for the top/left/bottom/right/header/footer margins.  Set and get the margin in inches.</p>\n\n<pre><code>double leftMarginInches = sheet.getMargin(Sheet.LeftMargin);\nsheet.setMargin(Sheet.RightMargin, 0.5 /* inches */ );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597086,"reputation":480,"user_id":2250506,"accept_rate":33,"display_name":"Timothy Dooling"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1457990580,"creation_date":1457963414,"answer_id":35989343,"question_id":20966818,"body_markdown":"The enumeration is now MarginType.LeftMargin, -RightMargin\r\n\r\n\r\n\r\n\r\n    double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\r\n    double rightMargin = sheet.GetMargin(MarginType.RightMargin);\r\n\r\n**Update:**\r\n\r\nThe code preceding this code is:\r\n\r\n                var workbook = new XSSFWorkbook();\r\n                var sheet = workbook.CreateSheet(sheetname);\r\n                double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\r\n                double rightMargin = sheet.GetMargin(MarginType.RightMargin);\r\n\r\nThis is indeed the NPOI.\r\n","title":"Apache POI - setting left/right print margin in Excel","body":"<p>The enumeration is now MarginType.LeftMargin, -RightMargin</p>\n\n<pre><code>double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\ndouble rightMargin = sheet.GetMargin(MarginType.RightMargin);\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>The code preceding this code is:</p>\n\n<pre><code>            var workbook = new XSSFWorkbook();\n            var sheet = workbook.CreateSheet(sheetname);\n            double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\n            double rightMargin = sheet.GetMargin(MarginType.RightMargin);\n</code></pre>\n\n<p>This is indeed the NPOI.</p>\n"},{"tags":[],"owner":{"account_id":24630446,"reputation":1,"user_id":18529738,"display_name":"skipper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674225766,"creation_date":1674225766,"answer_id":75185544,"question_id":20966818,"body_markdown":"for Kotlin the following works:\r\n\r\n        // set margins to 0.5 cm = 0.197 inches\r\n        xlWSheet.setMargin(Sheet.LeftMargin, 0.197)\r\n        xlWSheet.setMargin(Sheet.RightMargin, 0.197)\r\n        xlWSheet.setMargin(Sheet.TopMargin, 0.197)\r\n        xlWSheet.setMargin(Sheet.BottomMargin, 0.197)\r\n","title":"Apache POI - setting left/right print margin in Excel","body":"<p>for Kotlin the following works:</p>\n<pre><code>    // set margins to 0.5 cm = 0.197 inches\n    xlWSheet.setMargin(Sheet.LeftMargin, 0.197)\n    xlWSheet.setMargin(Sheet.RightMargin, 0.197)\n    xlWSheet.setMargin(Sheet.TopMargin, 0.197)\n    xlWSheet.setMargin(Sheet.BottomMargin, 0.197)\n</code></pre>\n"}],"owner":{"account_id":1366264,"reputation":1633,"user_id":1302626,"accept_rate":88,"display_name":"robson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14582,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20977362,"answer_count":3,"score":8,"last_activity_date":1674225766,"creation_date":1389082447,"question_id":20966818,"body_markdown":"Is that possible - with apache POI - to set left or right print margin for Excel sheet?\r\n\r\nThe default margins are quite big. I cannot see neither setLeftMargin nor setRightMargin in XSSFPrintSetup, but only header and footer:\r\n\r\n\t\tXSSFPrintSetup printSetup = (XSSFPrintSetup) sheet.getPrintSetup();\r\n\t\tprintSetup.setHeaderMargin(0.5D);\r\n\t\tprintSetup.setFooterMargin(0.5D);\r\n\r\nIs there any kind friend that could help me a little?","title":"Apache POI - setting left/right print margin in Excel","body":"<p>Is that possible - with apache POI - to set left or right print margin for Excel sheet?</p>\n\n<p>The default margins are quite big. I cannot see neither setLeftMargin nor setRightMargin in XSSFPrintSetup, but only header and footer:</p>\n\n<pre><code>    XSSFPrintSetup printSetup = (XSSFPrintSetup) sheet.getPrintSetup();\n    printSetup.setHeaderMargin(0.5D);\n    printSetup.setFooterMargin(0.5D);\n</code></pre>\n\n<p>Is there any kind friend that could help me a little?</p>\n"},{"tags":["java","swing","jpanel","paintcomponent"],"comments":[{"owner":{"account_id":386726,"reputation":281,"user_id":744645,"accept_rate":10,"display_name":"Dipendra Kumar Mishra"},"score":0,"creation_date":1352403141,"post_id":13224421,"comment_id":18130687,"body_markdown":"Thanks David for your help. I did call paintComponent however the damned thing won&#39;t paint over its sibling. I guess glasspane sounds like a solution but will require too much overhead. Will see if I find any other way. By the way I rated your solutions. Thanks.","body":"Thanks David for your help. I did call paintComponent however the damned thing won&#39;t paint over its sibling. I guess glasspane sounds like a solution but will require too much overhead. Will see if I find any other way. By the way I rated your solutions. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1352091144,"creation_date":1352090814,"answer_id":13226050,"question_id":13224421,"body_markdown":"You will need to override `paintComponent(Graphics g)` and do not forget to call `super.paintComponent(Graphics g);`\r\n\r\n    class .... extends JPanel\r\n    {\r\n        @Override\r\n        protected void paintComponent(Graphics g)\r\n        {\r\n            super.paintComponent(g);//honor paintComponent an call super to draw other components that were added to the JPanel\r\n            .......\r\n        }\r\n    }\r\n\r\nYou may also need to override `getPreferredSize(..)` of `JPanel` and return an appropriate size so the `JPanel` will be visible:\r\n\r\n    class .... extends JPanel\r\n    {\r\n        @Override\r\n        public Dimension getPreferredSize()\r\n        {\r\n            return new Dimension(300,300);\r\n        }\r\n    }\r\n\r\nEDIT:\r\n\r\nDepending on what you are doing you may also want to have a look at the [GlassPane][1] which will allow you to set a transparent pane over the entire `JFrame` window and can be painted too, which will cause the graphics to be drawn above all others like so:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\r\n  [2]: http://i.stack.imgur.com/AoFhi.png","title":"Java swing draw objects over other components","body":"<p>You will need to override <code>paintComponent(Graphics g)</code> and do not forget to call <code>super.paintComponent(Graphics g);</code></p>\n\n<pre><code>class .... extends JPanel\n{\n    @Override\n    protected void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);//honor paintComponent an call super to draw other components that were added to the JPanel\n        .......\n    }\n}\n</code></pre>\n\n<p>You may also need to override <code>getPreferredSize(..)</code> of <code>JPanel</code> and return an appropriate size so the <code>JPanel</code> will be visible:</p>\n\n<pre><code>class .... extends JPanel\n{\n    @Override\n    public Dimension getPreferredSize()\n    {\n        return new Dimension(300,300);\n    }\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Depending on what you are doing you may also want to have a look at the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">GlassPane</a> which will allow you to set a transparent pane over the entire <code>JFrame</code> window and can be painted too, which will cause the graphics to be drawn above all others like so:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AoFhi.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":134429,"reputation":3871,"user_id":336557,"accept_rate":78,"display_name":"Mahm00d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674225631,"creation_date":1674225631,"answer_id":75185517,"question_id":13224421,"body_markdown":"This is an old question, but I had the same problem and solved it by overriding **`paintChildren(Graphics g)`** instead of `paintComponent`.\r\n\r\nAs the [Oracle documentation](https://www.oracle.com/java/technologies/painting.html#smart) states, the order of execution for the three `paint` methods is:\r\n\r\n    protected void paintComponent(Graphics g) \r\n        protected void paintBorder(Graphics g)\r\n          protected void paintChildren(Graphics g)\r\n\r\nSo, `paintChildren(g)` is run last, which means whatever we draw inside it is drawn on top of all previously drawn components.","title":"Java swing draw objects over other components","body":"<p>This is an old question, but I had the same problem and solved it by overriding <strong><code>paintChildren(Graphics g)</code></strong> instead of <code>paintComponent</code>.</p>\n<p>As the <a href=\"https://www.oracle.com/java/technologies/painting.html#smart\" rel=\"nofollow noreferrer\">Oracle documentation</a> states, the order of execution for the three <code>paint</code> methods is:</p>\n<pre><code>protected void paintComponent(Graphics g) \n    protected void paintBorder(Graphics g)\n      protected void paintChildren(Graphics g)\n</code></pre>\n<p>So, <code>paintChildren(g)</code> is run last, which means whatever we draw inside it is drawn on top of all previously drawn components.</p>\n"}],"owner":{"account_id":386726,"reputation":281,"user_id":744645,"accept_rate":10,"display_name":"Dipendra Kumar Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6690,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1674225631,"creation_date":1352074848,"question_id":13224421,"body_markdown":"I am trying to make a small paint program. I am drawing objects over a `JPanel` which is on top of `JFrame` (I am using Netbeans 6.9). I have some basic functionality like font, line and fillRectangle. I am using the standard method to draw which is to override `paintComponent()`.\r\n\r\n    class .... extends JPanel\r\n    {\r\n    @Override\r\n    void paintComponents(Graphics g)\r\n    {\r\n    .......\r\n    }\r\n    }\r\n\r\nThe problem is that when I draw a text,line over a region then it is drawn behind it rather than on top of it. Basically I want to draw objects on top of all other objects that have previously been drawn on the `JPanel`. I really do not want to switch to other types of layered pane. One very naive method will be to undo every object and paint them in reverse order (last one first). ","title":"Java swing draw objects over other components","body":"<p>I am trying to make a small paint program. I am drawing objects over a <code>JPanel</code> which is on top of <code>JFrame</code> (I am using Netbeans 6.9). I have some basic functionality like font, line and fillRectangle. I am using the standard method to draw which is to override <code>paintComponent()</code>.</p>\n\n<pre><code>class .... extends JPanel\n{\n@Override\nvoid paintComponents(Graphics g)\n{\n.......\n}\n}\n</code></pre>\n\n<p>The problem is that when I draw a text,line over a region then it is drawn behind it rather than on top of it. Basically I want to draw objects on top of all other objects that have previously been drawn on the <code>JPanel</code>. I really do not want to switch to other types of layered pane. One very naive method will be to undo every object and paint them in reverse order (last one first). </p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":29648,"reputation":2949,"user_id":80286,"accept_rate":97,"display_name":"dev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417538438,"creation_date":1366923046,"answer_id":16224465,"question_id":16222720,"body_markdown":"**UPDATED**\r\nNew answer accepted above instead of this previous one:\r\n\r\n\r\n----------\r\n\r\n\r\nThe answer is [was]:\r\n\r\n  .to(&quot;file:/tmp?fileName=file-${property.uid}&quot;) + &quot;.xml&quot;)\r\n\r\nThis simple expression pulls in the exchange property.  For a complete list of what you can pull in, see the [Simple Expression Language Reference][1]\r\n\r\n\r\n  [1]: http://camel.apache.org/simple.html","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p><strong>UPDATED</strong>\nNew answer accepted above instead of this previous one:</p>\n\n<hr>\n\n<p>The answer is [was]:</p>\n\n<p>.to(\"file:/tmp?fileName=file-${property.uid}\") + \".xml\")</p>\n\n<p>This simple expression pulls in the exchange property.  For a complete list of what you can pull in, see the <a href=\"http://camel.apache.org/simple.html\" rel=\"nofollow\">Simple Expression Language Reference</a></p>\n"},{"tags":[],"owner":{"account_id":4048595,"reputation":589,"user_id":3329032,"display_name":"Ben Goldin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1574150973,"creation_date":1392910648,"answer_id":21912463,"question_id":16222720,"body_markdown":"The `to` in the Camel is not interpreted at runtime. \r\n\r\nYou should use recipientList if you want to construct your URI dynamically. \r\nSee https://camel.apache.org/manual/latest/faq/how-to-use-a-dynamic-uri-in-to.html\r\n","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p>The <code>to</code> in the Camel is not interpreted at runtime. </p>\n\n<p>You should use recipientList if you want to construct your URI dynamically. \nSee <a href=\"https://camel.apache.org/manual/latest/faq/how-to-use-a-dynamic-uri-in-to.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/latest/faq/how-to-use-a-dynamic-uri-in-to.html</a></p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674225394,"creation_date":1671088807,"answer_id":74808004,"question_id":16222720,"body_markdown":"Please use `toD()` if you want a dynamic destination. The expression in the parenthesis is interpreted with `simple()` language. No `simple()` needed.\r\n\r\n    toD(&quot;file:/tmp?fileName=file-${exchangeProperty.uid}.xml&quot;)\r\n\r\nBut pay attention to not creating too many endpoints. \r\n\r\nhttps://camel.apache.org/components/3.18.x/eips/toD-eip.html","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p>Please use <code>toD()</code> if you want a dynamic destination. The expression in the parenthesis is interpreted with <code>simple()</code> language. No <code>simple()</code> needed.</p>\n<pre><code>toD(&quot;file:/tmp?fileName=file-${exchangeProperty.uid}.xml&quot;)\n</code></pre>\n<p>But pay attention to not creating too many endpoints.</p>\n<p><a href=\"https://camel.apache.org/components/3.18.x/eips/toD-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/toD-eip.html</a></p>\n"}],"owner":{"account_id":29648,"reputation":2949,"user_id":80286,"accept_rate":97,"display_name":"dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17309,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":21912463,"answer_count":3,"score":6,"last_activity_date":1674225394,"creation_date":1366916566,"question_id":16222720,"body_markdown":"I want to set a property on a Camel Exchange and then use this property when saving the file.  In my camel dsl I have the following:\r\n\r\n    .process(processorToSetExhangeProperty)  // sets the property &lt;uid&gt; on the exchange\r\n    .to(&quot;file:/tmp?fileName=file-&quot; + property(&quot;uid&quot;) + &quot;.xml&quot;)\r\n\r\nThe file is being saved as:\r\n\r\n    &quot;file-property{uid}.xml&quot; though\r\n\r\nMy processor is as follows:\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        UUID uuid = UUID.randomUUID();\r\n        exchange.setProperty(&quot;uid&quot;, uuid.toString());\r\n        exchange.setOut(exchange.getIn());\r\n    }\r\n\r\nAny thoughts on what may be going wrong or how I can achieve this?  ","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p>I want to set a property on a Camel Exchange and then use this property when saving the file.  In my camel dsl I have the following:</p>\n\n<pre><code>.process(processorToSetExhangeProperty)  // sets the property &lt;uid&gt; on the exchange\n.to(\"file:/tmp?fileName=file-\" + property(\"uid\") + \".xml\")\n</code></pre>\n\n<p>The file is being saved as:</p>\n\n<pre><code>\"file-property{uid}.xml\" though\n</code></pre>\n\n<p>My processor is as follows:</p>\n\n<pre><code>@Override\npublic void process(Exchange exchange) throws Exception {\n    UUID uuid = UUID.randomUUID();\n    exchange.setProperty(\"uid\", uuid.toString());\n    exchange.setOut(exchange.getIn());\n}\n</code></pre>\n\n<p>Any thoughts on what may be going wrong or how I can achieve this?  </p>\n"},{"tags":["java","android","bottom-sheet","android-bottomsheetdialog","bottomsheetdialogfragment"],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674224334,"creation_date":1674223069,"question_id":75184988,"body_markdown":"I am having a `BottomSheetDialogFragment` with the code below \r\n\r\n```\r\npublic class ClientDetailsModalBSheet extends BottomSheetDialogFragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.modal_bottom_sheet, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nThe problem i am having is that the `Modal BottomSheet` is opening half way the screen can i make it open maybe lets say `3/4` of the screen or something like `70%` of the screen. I have researched and learnt something like `peekHeight` but its only applicable when one is using `Persistent Bottom Sheet`\r\n\r\nI have also tried below code inside onCreateView \r\n\r\n```\r\n\r\n@Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.modal_bottom_sheet, container, false);\r\n\r\n        BottomSheetBehavior&lt;View&gt; behavior = BottomSheetBehavior.from(view);\r\n\r\n        behavior.setPeekHeight(320, true);\r\n        behavior.setState(BottomSheetBehavior.STATE_HALF_EXPANDED);\r\n\r\n        return view;\r\n    }\r\n\r\n```\r\n\r\nBut the app is crashing and i am getting below error \r\n\r\n```\r\n\r\n java.lang.IllegalArgumentException: The view is not a child of CoordinatorLayout\r\n        at com.google.android.material.bottomsheet.BottomSheetBehavior.from(BottomSheetBehavior.java:1997)\r\n        at .fragments.ClientDetailsModalBSheet.onCreateView(ClientDetailsModalBSheet.java:23)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\r\n        at androidx.fragment.app.DialogFragment.performCreateView(DialogFragment.java:510)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\r\n        at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:547)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6518)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n\r\n```\r\n\r\n\r\n","title":"BottomSheetDialogFragment Open at specific height java","body":"<p>I am having a <code>BottomSheetDialogFragment</code> with the code below</p>\n<pre><code>public class ClientDetailsModalBSheet extends BottomSheetDialogFragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.modal_bottom_sheet, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n    }\n\n\n}\n\n</code></pre>\n<p>The problem i am having is that the <code>Modal BottomSheet</code> is opening half way the screen can i make it open maybe lets say <code>3/4</code> of the screen or something like <code>70%</code> of the screen. I have researched and learnt something like <code>peekHeight</code> but its only applicable when one is using <code>Persistent Bottom Sheet</code></p>\n<p>I have also tried below code inside onCreateView</p>\n<pre><code>\n@Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.modal_bottom_sheet, container, false);\n\n        BottomSheetBehavior&lt;View&gt; behavior = BottomSheetBehavior.from(view);\n\n        behavior.setPeekHeight(320, true);\n        behavior.setState(BottomSheetBehavior.STATE_HALF_EXPANDED);\n\n        return view;\n    }\n\n</code></pre>\n<p>But the app is crashing and i am getting below error</p>\n<pre><code>\n java.lang.IllegalArgumentException: The view is not a child of CoordinatorLayout\n        at com.google.android.material.bottomsheet.BottomSheetBehavior.from(BottomSheetBehavior.java:1997)\n        at .fragments.ClientDetailsModalBSheet.onCreateView(ClientDetailsModalBSheet.java:23)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\n        at androidx.fragment.app.DialogFragment.performCreateView(DialogFragment.java:510)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\n        at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:547)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6518)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":9854324,"reputation":1530,"user_id":7299340,"accept_rate":76,"display_name":"Harshit"},"score":0,"creation_date":1594077062,"post_id":62765711,"comment_id":110994528,"body_markdown":"`id` field will always be present in the document. However, if you don&#39;t want it then remove it from your mappings instead? or you can use queries to fetch documents and can exclude `id` field. Ref: https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-source-field.html#include-exclude","body":"<code>id</code> field will always be present in the document. However, if you don&#39;t want it then remove it from your mappings instead? or you can use queries to fetch documents and can exclude <code>id</code> field. Ref: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-source-field.html#include-exclude\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"},{"owner":{"account_id":7593446,"reputation":293,"user_id":5760338,"display_name":"Oliver Henlich"},"score":0,"creation_date":1594077334,"post_id":62765711,"comment_id":110994581,"body_markdown":"Thanks @Harshit. Like I said in my question, up until now we have not had a `_source.id` field in our documents. \nThanks for the link.","body":"Thanks @Harshit. Like I said in my question, up until now we have not had a <code>_source.id</code> field in our documents.  Thanks for the link."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1668752123,"creation_date":1594148792,"answer_id":62782212,"question_id":62765711,"body_markdown":"**Question 1:**\r\n\r\nTo omit the id field from the *_source*, you would normally use the `@Transient` annotation, but as you wrote, this does not work for the id property. Transient properties are ignored in Spring Data modules (not only Spring Data Elasticsearch).\r\n\r\nBut you you can use the `org.springframework.data.annotation.ReadOnlyProperty` annotation for this:\r\n\r\n    @Id\r\n    @ReadOnlyProperty\r\n    private String id;\r\n\r\nTo be honest, I didn&#39;t know up to now that this exists, this comes from Spring Data Commons as well and is checked in the `isWriteable()` method of the property when properties are written by the `MappingElasticsearchConverter` .\r\n\r\n**Question 2:**\r\n\r\nSurely not incorrect, but problematic as you found out. We always consider the whole entity when storing it, so we never thought about not writing the id. Strictly speaking, it is not necessary, there you&#39;re right, because we always get the id back in the *_id*  field together with the *_source*, so we can easily put the entity back together, but we never considered this a necessary feature to have.\r\n\r\n**Note:**\r\n\r\nWhen you look at the data in your ES index you will find that with the `MappingElasticsearchConverter` an additional *_source* field named *_class* is written which contains the name of the entity class (or a defined alias). This allows for mapping generics; for further info [check the documentation][1] - just in case you wonder where this comes from.\r\n\r\n\r\n**Edit 18.11.2022:**\r\n\r\nRecently (with version 4.4.3) we had a change that fixed a wrong behaviour in Spring Data Elasticsearch: Spring Data Elasticsearch must not write data into a property that is marked with `@ReadOnlyProperty`. This leads to the proposed solution not working any longer because on reading data from Elasticsearch the id property is not filled anymore.\r\n\r\nTo get the id property being set in this case it is necessary to add an `AfterConvertCallback` to your application:\r\n\r\n```java\r\n#import org.springframework.data.elasticsearch.core.event.AfterConvertCallback;\r\n\r\n@Component\r\npublic class EntityAfterConvertCallback implements AfterConvertCallback&lt;EsDocument&gt; {\r\n\r\n\t@Override\r\n\tpublic EsDocument onAfterConvert(EsDocument entity, Document document, IndexCoordinates indexCoordinates) {\r\n\t\tentity.setId(document.getId());\r\n\t\treturn entity;\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/4.0.1.RELEASE/reference/html/#elasticsearch.mapping.meta-model.rules","title":"Spring Data Elasticsearch (4.x) - Using @Id forces id field in _source","body":"<p><strong>Question 1:</strong></p>\n<p>To omit the id field from the <em>_source</em>, you would normally use the <code>@Transient</code> annotation, but as you wrote, this does not work for the id property. Transient properties are ignored in Spring Data modules (not only Spring Data Elasticsearch).</p>\n<p>But you you can use the <code>org.springframework.data.annotation.ReadOnlyProperty</code> annotation for this:</p>\n<pre><code>@Id\n@ReadOnlyProperty\nprivate String id;\n</code></pre>\n<p>To be honest, I didn't know up to now that this exists, this comes from Spring Data Commons as well and is checked in the <code>isWriteable()</code> method of the property when properties are written by the <code>MappingElasticsearchConverter</code> .</p>\n<p><strong>Question 2:</strong></p>\n<p>Surely not incorrect, but problematic as you found out. We always consider the whole entity when storing it, so we never thought about not writing the id. Strictly speaking, it is not necessary, there you're right, because we always get the id back in the <em>_id</em>  field together with the <em>_source</em>, so we can easily put the entity back together, but we never considered this a necessary feature to have.</p>\n<p><strong>Note:</strong></p>\n<p>When you look at the data in your ES index you will find that with the <code>MappingElasticsearchConverter</code> an additional <em>_source</em> field named <em>_class</em> is written which contains the name of the entity class (or a defined alias). This allows for mapping generics; for further info <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.0.1.RELEASE/reference/html/#elasticsearch.mapping.meta-model.rules\" rel=\"nofollow noreferrer\">check the documentation</a> - just in case you wonder where this comes from.</p>\n<p><strong>Edit 18.11.2022:</strong></p>\n<p>Recently (with version 4.4.3) we had a change that fixed a wrong behaviour in Spring Data Elasticsearch: Spring Data Elasticsearch must not write data into a property that is marked with <code>@ReadOnlyProperty</code>. This leads to the proposed solution not working any longer because on reading data from Elasticsearch the id property is not filled anymore.</p>\n<p>To get the id property being set in this case it is necessary to add an <code>AfterConvertCallback</code> to your application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>#import org.springframework.data.elasticsearch.core.event.AfterConvertCallback;\n\n@Component\npublic class EntityAfterConvertCallback implements AfterConvertCallback&lt;EsDocument&gt; {\n\n    @Override\n    public EsDocument onAfterConvert(EsDocument entity, Document document, IndexCoordinates indexCoordinates) {\n        entity.setId(document.getId());\n        return entity;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7593446,"reputation":293,"user_id":5760338,"display_name":"Oliver Henlich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3417,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":62782212,"answer_count":1,"score":8,"last_activity_date":1674224326,"creation_date":1594076447,"question_id":62765711,"body_markdown":"Summary\r\n-------\r\nRecently we upgraded to Spring Data Elasticsearch 4.x. Part of this major release meant that Jackson is no longer used to convert our domain objects to json (using `MappingElasticsearchConverter` instead) [1]. This means we are now forced to add a new `id` field to all our documents.\r\n\r\nPreviously we had domain objects like this:\r\n```\r\nimport org.springframework.data.annotation.Id;\r\n\r\npublic ESDocument {\r\n    @Id\r\n    private String id;\r\n\r\n    private String field1;\r\n\r\n    @JsonIgnore\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getField1() {\r\n        return field1;\r\n    }\r\n```\r\n\r\nWhich resulted in documents like this in ES:\r\n```\r\n{\r\n  &quot;_index&quot; : &quot;test_index&quot;,\r\n  &quot;_type&quot; : &quot;_doc&quot;,\r\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\r\n  &quot;_score&quot; : 1.0,\r\n  &quot;_source&quot; : {\r\n    &quot;field1&quot; : &quot;blabla&quot;\r\n  }\r\n}\r\n```\r\n\r\nNote that:\r\n 1. The `@JsonIgnore` annotation used to ensure that we were __not__ required to have a `id` field in the `_source`.\r\n 2. We are setting the document id ourselves and it ends up in `_id`.\r\n\r\nProblem\r\n-------\r\nWith Spring Data Elastic 4.x the `@JsonIgnore` annotation is no longer respected which means we are now forced to have an `id` field in the `_source` as shown below:\r\n```\r\n{\r\n  &quot;_index&quot; : &quot;test_index&quot;,\r\n  &quot;_type&quot; : &quot;_doc&quot;,\r\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\r\n  &quot;_score&quot; : 1.0,\r\n  &quot;_source&quot; : {\r\n    &quot;id&quot;: &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\r\n    &quot;field1&quot; : &quot;blabla&quot;\r\n  }\r\n}\r\n```\r\n\r\nQuestions\r\n---------\r\n 1. Is it no longer possible to omit the duplication of the identifier of the document (i.e. in the `_id` and `id` fields)? If so how? (Note we already tried `@org.springframework.data.annotation.Transient` which does not work because spring-data-elastic then thinks our document does not have an id).\r\n 2. Was our previous approach of suppressing the `id` field in `_source` incorrect or problematic?\r\n\r\nVersions\r\n--------\r\njava: 1.8.0_252  \r\nelasticsearch: 7.6.2  \r\nspring-boot: 2.3.1.RELEASE  \r\nspring-data-elastic: 4.0.1.RELEASE  \r\n\r\nReferences\r\n----------\r\n[1] - https://spring.io/blog/2020/05/27/what-s-new-in-spring-data-elasticsearch-4-0","title":"Spring Data Elasticsearch (4.x) - Using @Id forces id field in _source","body":"<h2>Summary</h2>\n<p>Recently we upgraded to Spring Data Elasticsearch 4.x. Part of this major release meant that Jackson is no longer used to convert our domain objects to json (using <code>MappingElasticsearchConverter</code> instead) [1]. This means we are now forced to add a new <code>id</code> field to all our documents.</p>\n<p>Previously we had domain objects like this:</p>\n<pre><code>import org.springframework.data.annotation.Id;\n\npublic ESDocument {\n    @Id\n    private String id;\n\n    private String field1;\n\n    @JsonIgnore\n    public String getId() {\n        return id;\n    }\n\n    public String getField1() {\n        return field1;\n    }\n</code></pre>\n<p>Which resulted in documents like this in ES:</p>\n<pre><code>{\n  &quot;_index&quot; : &quot;test_index&quot;,\n  &quot;_type&quot; : &quot;_doc&quot;,\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\n  &quot;_score&quot; : 1.0,\n  &quot;_source&quot; : {\n    &quot;field1&quot; : &quot;blabla&quot;\n  }\n}\n</code></pre>\n<p>Note that:</p>\n<ol>\n<li>The <code>@JsonIgnore</code> annotation used to ensure that we were <strong>not</strong> required to have a <code>id</code> field in the <code>_source</code>.</li>\n<li>We are setting the document id ourselves and it ends up in <code>_id</code>.</li>\n</ol>\n<h2>Problem</h2>\n<p>With Spring Data Elastic 4.x the <code>@JsonIgnore</code> annotation is no longer respected which means we are now forced to have an <code>id</code> field in the <code>_source</code> as shown below:</p>\n<pre><code>{\n  &quot;_index&quot; : &quot;test_index&quot;,\n  &quot;_type&quot; : &quot;_doc&quot;,\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\n  &quot;_score&quot; : 1.0,\n  &quot;_source&quot; : {\n    &quot;id&quot;: &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\n    &quot;field1&quot; : &quot;blabla&quot;\n  }\n}\n</code></pre>\n<h2>Questions</h2>\n<ol>\n<li>Is it no longer possible to omit the duplication of the identifier of the document (i.e. in the <code>_id</code> and <code>id</code> fields)? If so how? (Note we already tried <code>@org.springframework.data.annotation.Transient</code> which does not work because spring-data-elastic then thinks our document does not have an id).</li>\n<li>Was our previous approach of suppressing the <code>id</code> field in <code>_source</code> incorrect or problematic?</li>\n</ol>\n<h2>Versions</h2>\n<p>java: 1.8.0_252<br />\nelasticsearch: 7.6.2<br />\nspring-boot: 2.3.1.RELEASE<br />\nspring-data-elastic: 4.0.1.RELEASE</p>\n<h2>References</h2>\n<p>[1] - <a href=\"https://spring.io/blog/2020/05/27/what-s-new-in-spring-data-elasticsearch-4-0\" rel=\"noreferrer\">https://spring.io/blog/2020/05/27/what-s-new-in-spring-data-elasticsearch-4-0</a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7298128,"reputation":66,"user_id":5562053,"display_name":"Marco Belladelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674223950,"creation_date":1674223950,"answer_id":75185179,"question_id":75162805,"body_markdown":"As for the `jakarta.persistence.GenerationType` javadoc, `TABLE` is used to indicate the primary keys should be stored in an underlying database table - which is separate from the entities tables - whether you are using inheritance or not.\r\n\r\nIf you want `id` to be an `IDENTITY` column for each table you should use the `GenerationType.IDENTITY` strategy.","title":"Why do we need a sepearte table for TABLE strategy in hibernate?","body":"<p>As for the <code>jakarta.persistence.GenerationType</code> javadoc, <code>TABLE</code> is used to indicate the primary keys should be stored in an underlying database table - which is separate from the entities tables - whether you are using inheritance or not.</p>\n<p>If you want <code>id</code> to be an <code>IDENTITY</code> column for each table you should use the <code>GenerationType.IDENTITY</code> strategy.</p>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674224195,"creation_date":1674061656,"question_id":75162805,"body_markdown":"My question is, why do we need a sequence table for table strategy in hibernate inheritance, which id generation must be equal to TABLE? Can&#39;t each entity use the IDENTITY column of each table?\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        @Column(updatable = false, nullable = false, insertable = false)\r\n        protected int id;","title":"Why do we need a sepearte table for TABLE strategy in hibernate?","body":"<p>My question is, why do we need a sequence table for table strategy in hibernate inheritance, which id generation must be equal to TABLE? Can't each entity use the IDENTITY column of each table?</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(updatable = false, nullable = false, insertable = false)\n    protected int id;\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674224077,"creation_date":1674224077,"question_id":75185205,"body_markdown":"I have the following Swagger configuration\r\n\r\n     @Bean\r\n        @RouterOperation(path = PEOPLE_SEARCH_URL, produces = {MediaType.APPLICATION_JSON_VALUE},\r\n                beanClass = PersonSearchHandler.class, method = RequestMethod.GET, beanMethod = &quot;getSearchResponse&quot;,\r\n                operation = @Operation(operationId = &quot;getSearchResponse&quot;, security = {@SecurityRequirement(name = &quot;Bearer Authentication&quot;)},\r\n                        responses = {\r\n                                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful operation&quot;,\r\n                                        content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                                                schema = @Schema(implementation = SearchResponse.class))\r\n                                )},\r\n                        parameters = {@Parameter(in = ParameterIn.QUERY, name = &quot;request&quot;,\r\n                                description = &quot;SearchRequest object in JSON format converted to base64&quot;,\r\n                                schema = @Schema(implementation = SearchRequest.class))}\r\n                ))\r\n\r\nMy endpoint receives serialised SearchRequest object, which is encoded with Base64.\r\nOn swagger-ui I put encoded string , not Json object\r\nThe problem is - when I try to pass request param encoded with Base64 from Swagger UI, it validates this string against schema implementation = SearchRequest.class. But just remove @Schema is not an option, since I need to have request example and possibility to pass base64 encoded string.\r\nSo , I looking for work around and find some options:\r\n1) Remove @Schema and just add &#39;example&#39; to @Parameter. But SearchRequest consists a lot fields, so it is expanded to a lot of lines and look very bad.\r\n\r\n2) In some way, if it possible, disable validation against schema , so I can just put encoded string in request param.\r\n\r\nI will be very grateful for any workarounds and advices.\r\n","title":"How to add parameter example from Java class in Swagger","body":"<p>I have the following Swagger configuration</p>\n<pre><code> @Bean\n    @RouterOperation(path = PEOPLE_SEARCH_URL, produces = {MediaType.APPLICATION_JSON_VALUE},\n            beanClass = PersonSearchHandler.class, method = RequestMethod.GET, beanMethod = &quot;getSearchResponse&quot;,\n            operation = @Operation(operationId = &quot;getSearchResponse&quot;, security = {@SecurityRequirement(name = &quot;Bearer Authentication&quot;)},\n                    responses = {\n                            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful operation&quot;,\n                                    content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\n                                            schema = @Schema(implementation = SearchResponse.class))\n                            )},\n                    parameters = {@Parameter(in = ParameterIn.QUERY, name = &quot;request&quot;,\n                            description = &quot;SearchRequest object in JSON format converted to base64&quot;,\n                            schema = @Schema(implementation = SearchRequest.class))}\n            ))\n</code></pre>\n<p>My endpoint receives serialised SearchRequest object, which is encoded with Base64.\nOn swagger-ui I put encoded string , not Json object\nThe problem is - when I try to pass request param encoded with Base64 from Swagger UI, it validates this string against schema implementation = SearchRequest.class. But just remove @Schema is not an option, since I need to have request example and possibility to pass base64 encoded string.\nSo , I looking for work around and find some options:</p>\n<ol>\n<li><p>Remove @Schema and just add 'example' to @Parameter. But SearchRequest consists a lot fields, so it is expanded to a lot of lines and look very bad.</p>\n</li>\n<li><p>In some way, if it possible, disable validation against schema , so I can just put encoded string in request param.</p>\n</li>\n</ol>\n<p>I will be very grateful for any workarounds and advices.</p>\n"},{"tags":["java","android","webview","cors"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1674224044,"creation_date":1674224044,"answer_id":75185199,"question_id":75182416,"body_markdown":"You should add internet permission in Manifest.xml \r\n\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nand follow [this][1] instruction for **Network Security Configuration**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53984915/18362930","title":"Android studio webview does not allow cors","body":"<p>You should add internet permission in Manifest.xml</p>\n<blockquote>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n</blockquote>\n<p>and follow <a href=\"https://stackoverflow.com/a/53984915/18362930\">this</a> instruction for <strong>Network Security Configuration</strong></p>\n"}],"owner":{"account_id":27567089,"reputation":13,"user_id":21039067,"display_name":"Lennard K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75185199,"answer_count":1,"score":1,"last_activity_date":1674224044,"creation_date":1674208733,"question_id":75182416,"body_markdown":"I creating a android application and i want to load data from my server but if i load the data i get a &quot;TypeError: Failed to fetch&quot;. \r\n\r\nI have tried many ways. I also tried just to load google.com inside the webpage and it also doesn&#39;t work. \r\n\r\nAll my files:\r\n\r\nMain_actifity.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout android:id=&quot;@+id/ContentFrame&quot;  \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; \r\n    android:layout_height=&quot;match_parent&quot;\r\n    /&gt;\r\n\r\n\r\nMainActivity.java\r\n\r\n    package com.enervisie.enervisieinspect;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.pm.ActivityInfo;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebResourceRequest;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebViewClient;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebView;\r\n    import android.view.View;\r\n    import android.webkit.SslErrorHandler;\r\n    import android.net.http.SslError;\r\n    import android.widget.FrameLayout;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\r\n\r\n\r\n        View decorView = getWindow().getDecorView();\r\n        int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN;\r\n        decorView.setSystemUiVisibility(uiOptions);\r\n\r\n        // WebView\r\n        FrameLayout contentFrame = (FrameLayout) findViewById(R.id.ContentFrame);\r\n        WebView mWebView = new WebView(this);\r\n\r\n        mWebView.getSettings().setJavaScriptEnabled(true);\r\n        mWebView.getSettings().setAllowFileAccessFromFileURLs(true);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\r\n            mWebView.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\n        }\r\n\r\n        mWebView.getSettings().setLoadWithOverviewMode(true);\r\n        mWebView.getSettings().setBuiltInZoomControls(false);\r\n        mWebView.getSettings().setDatabaseEnabled(true);\r\n        mWebView.getSettings().setDomStorageEnabled(true);\r\n        mWebView.getSettings().setAllowContentAccess(true);\r\n\r\n        mWebView.getSettings().setSupportZoom(false);\r\n        mWebView.setWebChromeClient(new WebChromeClient());\r\n        mWebView.setInitialScale(0);\r\n\r\n\r\n        mWebView.setWebViewClient(new WebViewClient() {\r\n            public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\r\n                handler.proceed() ;\r\n            }\r\n        });\r\n\r\n        mWebView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n                view.loadUrl(request.getUrl().toString());\r\n                return false;\r\n            }\r\n        });\r\n\r\n        mWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n\r\n        contentFrame.removeAllViews();\r\n        contentFrame.addView(mWebView);\r\n    }\r\n\r\n    public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\r\n        setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\r\n        handler.proceed(); // Ignore SSL certificate errors\r\n    }\r\n\r\n    }\r\n\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.EnervisieInspect&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\nI was expecting to load data from my webserver and send data to my webserver.","title":"Android studio webview does not allow cors","body":"<p>I creating a android application and i want to load data from my server but if i load the data i get a &quot;TypeError: Failed to fetch&quot;.</p>\n<p>I have tried many ways. I also tried just to load google.com inside the webpage and it also doesn't work.</p>\n<p>All my files:</p>\n<p>Main_actifity.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout android:id=&quot;@+id/ContentFrame&quot;  \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; \nandroid:layout_height=&quot;match_parent&quot;\n/&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package com.enervisie.enervisieinspect;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.pm.ActivityInfo;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebViewClient;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.view.View;\nimport android.webkit.SslErrorHandler;\nimport android.net.http.SslError;\nimport android.widget.FrameLayout;\n\npublic class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\n\n\n    View decorView = getWindow().getDecorView();\n    int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_FULLSCREEN;\n    decorView.setSystemUiVisibility(uiOptions);\n\n    // WebView\n    FrameLayout contentFrame = (FrameLayout) findViewById(R.id.ContentFrame);\n    WebView mWebView = new WebView(this);\n\n    mWebView.getSettings().setJavaScriptEnabled(true);\n    mWebView.getSettings().setAllowFileAccessFromFileURLs(true);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n        mWebView.getSettings().setAllowUniversalAccessFromFileURLs(true);\n    }\n\n    mWebView.getSettings().setLoadWithOverviewMode(true);\n    mWebView.getSettings().setBuiltInZoomControls(false);\n    mWebView.getSettings().setDatabaseEnabled(true);\n    mWebView.getSettings().setDomStorageEnabled(true);\n    mWebView.getSettings().setAllowContentAccess(true);\n\n    mWebView.getSettings().setSupportZoom(false);\n    mWebView.setWebChromeClient(new WebChromeClient());\n    mWebView.setInitialScale(0);\n\n\n    mWebView.setWebViewClient(new WebViewClient() {\n        public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\n            handler.proceed() ;\n        }\n    });\n\n    mWebView.setWebViewClient(new WebViewClient() {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n            view.loadUrl(request.getUrl().toString());\n            return false;\n        }\n    });\n\n    mWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\n\n    contentFrame.removeAllViews();\n    contentFrame.addView(mWebView);\n}\n\npublic void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\n    setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\n    handler.proceed(); // Ignore SSL certificate errors\n}\n\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.EnervisieInspect&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I was expecting to load data from my webserver and send data to my webserver.</p>\n"},{"tags":["java","selenium","pagination"],"comments":[{"owner":{"account_id":5613946,"reputation":499,"user_id":4445920,"display_name":"Manish"},"score":0,"creation_date":1674214403,"post_id":75183376,"comment_id":132671247,"body_markdown":"please share the link to the page you are testing and any credentials that might be required to view the list. Also the error message and screenshot of the web element would be helpful","body":"please share the link to the page you are testing and any credentials that might be required to view the list. Also the error message and screenshot of the web element would be helpful"}],"answers":[{"tags":[],"owner":{"account_id":5613946,"reputation":499,"user_id":4445920,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674214831,"creation_date":1674214831,"answer_id":75183538,"question_id":75183376,"body_markdown":"You could try this path `//nav[@role=&#39;navigation&#39;]/div` This would give you 6 elements. 5 for the pages and 1 for the next button\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cef5j.png\r\n\r\n\r\nIf this is not the correct page, please share the URL and the element, I will try to provide a solution. ","title":"Pagination in selenium","body":"<p>You could try this path <code>//nav[@role='navigation']/div</code> This would give you 6 elements. 5 for the pages and 1 for the next button</p>\n<p><a href=\"https://i.stack.imgur.com/cef5j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cef5j.png\" alt=\"enter image description here\" /></a></p>\n<p>If this is not the correct page, please share the URL and the element, I will try to provide a solution.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674223918,"creation_date":1674223354,"answer_id":75185059,"question_id":75183376,"body_markdown":"The website [indeed.com](https://www.indeed.com/) have changed since the article [Web Scraping using selenium and Java](https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672) was written. The pagination elements have changed. Currently the pagination is implemented through:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;nav role=&quot;navigation&quot; aria-label=&quot;pagination&quot; class=&quot;css-jbuxu0 ecydgvn0&quot;&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;button data-testid=&quot;pagination-page-current&quot; class=&quot;css-1cpyzlr e8ju0x51&quot;&gt;1&lt;/button&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-2&quot; rel=&quot;nofollow&quot; aria-label=&quot;2&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;2&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-3&quot; rel=&quot;nofollow&quot; aria-label=&quot;3&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=20&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;3&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-4&quot; rel=&quot;nofollow&quot; aria-label=&quot;4&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=30&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;4&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-5&quot; rel=&quot;nofollow&quot; aria-label=&quot;5&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=40&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;5&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-next&quot; rel=&quot;nofollow&quot; aria-label=&quot;Next Page&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10&quot; class=&quot;css-cy0uue e8ju0x50&quot;&gt;\r\n    \t\t\t&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; focusable=&quot;false&quot; role=&quot;img&quot; fill=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot; class=&quot;css-1xqhio eac13zx0&quot;&gt;\r\n    \t\t\t\t&lt;path d=&quot;M9.888 5.998a.506.506 0 00-.716-.008l-.707.707a.506.506 0 00.01.716L13.06 12l-4.587 4.587c-.2.2-.204.521-.009.716l.707.707a.507.507 0 00.717-.009l5.647-5.648c.1-.1.148-.233.144-.366a.492.492 0 00-.144-.34v-.001a.611.611 0 00-.009-.009L9.888 5.998z&quot;&gt;\r\n    \t\t\t\t&lt;/path&gt;\r\n    \t\t\t&lt;/svg&gt;\r\n    \t\t&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/nav&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nInstead of creating a list of the pagination elements, as the pagination keeps on increasing as you move forward you can use the following solution:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\tChromeDriver driver = new ChromeDriver(options);\r\n\tdriver.get(&quot;https://in.indeed.com/&quot;);\r\n\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\r\n\t// Create a Scanner object to prompt for user input\r\n\tScanner myObj = new Scanner(System.in);\r\n\tSystem.out.println(&quot;What jobs are you looking for ? &quot;);\r\n\tString job = myObj.nextLine();\r\n\tSystem.out.println(&quot;Which city are you looking for ? &quot;);\r\n\tString city = myObj.nextLine();\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#text-input-what&quot;))).sendKeys(job);\r\n\tdriver.findElement(By.cssSelector(&quot;input#text-input-where&quot;)).sendKeys(city + Keys.RETURN);\r\n\tfor (int j=1; j&lt;6; j++)\r\n\t{\r\n\t\tdriver.findElement(By.xpath(&quot;//button[@data-testid=&#39;pagination-page-current&#39;]//following::div[1]/a[@data-testid]&quot;)).click();\r\n\t\tThread.sleep(15000);\r\n\t}\r\n\r\nNote: \r\n\r\n- Here `6` is the number of (pages-1) you want to scrape.\r\n- `Thread.sleep(15000)` is to provide the window to pulate _Email Address_ after the first click on pagination item.","title":"Pagination in selenium","body":"<p>The website <a href=\"https://www.indeed.com/\" rel=\"nofollow noreferrer\">indeed.com</a> have changed since the article <a href=\"https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672\" rel=\"nofollow noreferrer\">Web Scraping using selenium and Java</a> was written. The pagination elements have changed. Currently the pagination is implemented through:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;nav role=\"navigation\" aria-label=\"pagination\" class=\"css-jbuxu0 ecydgvn0\"&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;button data-testid=\"pagination-page-current\" class=\"css-1cpyzlr e8ju0x51\"&gt;1&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-2\" rel=\"nofollow\" aria-label=\"2\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10\" class=\"css-e9oyys e8ju0x50\"&gt;2&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-3\" rel=\"nofollow\" aria-label=\"3\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=20\" class=\"css-e9oyys e8ju0x50\"&gt;3&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-4\" rel=\"nofollow\" aria-label=\"4\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=30\" class=\"css-e9oyys e8ju0x50\"&gt;4&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-5\" rel=\"nofollow\" aria-label=\"5\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=40\" class=\"css-e9oyys e8ju0x50\"&gt;5&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-next\" rel=\"nofollow\" aria-label=\"Next Page\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10\" class=\"css-cy0uue e8ju0x50\"&gt;\n            &lt;svg xmlns=\"http://www.w3.org/2000/svg\" focusable=\"false\" role=\"img\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" class=\"css-1xqhio eac13zx0\"&gt;\n                &lt;path d=\"M9.888 5.998a.506.506 0 00-.716-.008l-.707.707a.506.506 0 00.01.716L13.06 12l-4.587 4.587c-.2.2-.204.521-.009.716l.707.707a.507.507 0 00.717-.009l5.647-5.648c.1-.1.148-.233.144-.366a.492.492 0 00-.144-.34v-.001a.611.611 0 00-.009-.009L9.888 5.998z\"&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/a&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<h2>Solution</h2>\n<p>Instead of creating a list of the pagination elements, as the pagination keeps on increasing as you move forward you can use the following solution:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nChromeDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://in.indeed.com/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\n// Create a Scanner object to prompt for user input\nScanner myObj = new Scanner(System.in);\nSystem.out.println(&quot;What jobs are you looking for ? &quot;);\nString job = myObj.nextLine();\nSystem.out.println(&quot;Which city are you looking for ? &quot;);\nString city = myObj.nextLine();\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#text-input-what&quot;))).sendKeys(job);\ndriver.findElement(By.cssSelector(&quot;input#text-input-where&quot;)).sendKeys(city + Keys.RETURN);\nfor (int j=1; j&lt;6; j++)\n{\n    driver.findElement(By.xpath(&quot;//button[@data-testid='pagination-page-current']//following::div[1]/a[@data-testid]&quot;)).click();\n    Thread.sleep(15000);\n}\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>Here <code>6</code> is the number of (pages-1) you want to scrape.</li>\n<li><code>Thread.sleep(15000)</code> is to provide the window to pulate <em>Email Address</em> after the first click on pagination item.</li>\n</ul>\n"}],"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1674223918,"creation_date":1674213871,"question_id":75183376,"body_markdown":"I&#39;m new to selenium and following a small [tutorial][1] on scraping that scrapes jobs from indeed.com, but I am having issues as it seems some of the elements have been renamed since the tutorial was written. I&#39;m stuck on this part:\r\n\r\n    List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//ul[@class=&#39;pagination-\r\n    list&#39;]/li&quot;));\r\n    int pgSize = pagination.size();\r\n    for (int j = 1; j &lt; pgSize; j++) {\r\n    Thread.sleep(1000);\r\n    WebElement pagei = driver.findElement(By.xpath(&quot;(//ul[@class=&#39;pagination-list&#39;]/li)[&quot; + j + &quot;]&quot;));\r\n    pagei.click();\r\n\r\nThe xpath needs to be updated as the element can no longer be found. I have changed the xpath to this, but the list does not get populated:\r\n\r\n    //nav[@aria-label=&#39;pagination&#39;]\r\n\r\nWhen I do this, it prints zero which means no elements have been added to the list:\r\n\r\n    List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//nav[@aria-label=&#39;pagination&#39;]&quot;));\r\n\t\tint size = pagination.size();\r\n\t\tSystem.out.println(size);\r\n\r\n \r\n\r\nIs this the correct xpath? I&#39;m not certain as to what is supposed to get populated into the list of Webelements? Should they be page numbers? \r\n\r\n\r\n  [1]: https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672","title":"Pagination in selenium","body":"<p>I'm new to selenium and following a small <a href=\"https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672\" rel=\"nofollow noreferrer\">tutorial</a> on scraping that scrapes jobs from indeed.com, but I am having issues as it seems some of the elements have been renamed since the tutorial was written. I'm stuck on this part:</p>\n<pre><code>List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//ul[@class='pagination-\nlist']/li&quot;));\nint pgSize = pagination.size();\nfor (int j = 1; j &lt; pgSize; j++) {\nThread.sleep(1000);\nWebElement pagei = driver.findElement(By.xpath(&quot;(//ul[@class='pagination-list']/li)[&quot; + j + &quot;]&quot;));\npagei.click();\n</code></pre>\n<p>The xpath needs to be updated as the element can no longer be found. I have changed the xpath to this, but the list does not get populated:</p>\n<pre><code>//nav[@aria-label='pagination']\n</code></pre>\n<p>When I do this, it prints zero which means no elements have been added to the list:</p>\n<pre><code>List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//nav[@aria-label='pagination']&quot;));\n    int size = pagination.size();\n    System.out.println(size);\n</code></pre>\n<p>Is this the correct xpath? I'm not certain as to what is supposed to get populated into the list of Webelements? Should they be page numbers?</p>\n"},{"tags":["java","class","methods","attributes"],"answers":[{"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673438812,"creation_date":1665334249,"answer_id":74006678,"question_id":74006638,"body_markdown":"You mean something like this?\r\n\r\n```java\r\nclass Door {\r\n\tpublic boolean closed = true;\r\n}\r\n\r\nclass Person {\r\n\tDoor door = new Door();\r\n\r\n\tpublic void changeDoorState(boolean closed) {\r\n\t\tdoor.closed = closed;\r\n\t}\r\n}\r\n```","title":"How do you have a class change the value of an attribute of another class?","body":"<p>You mean something like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Door {\n    public boolean closed = true;\n}\n\nclass Person {\n    Door door = new Door();\n\n    public void changeDoorState(boolean closed) {\n        door.closed = closed;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665336398,"creation_date":1665334924,"answer_id":74006771,"question_id":74006638,"body_markdown":"If you want to `set` the door state, you can pass a value in a setter as follows. I would use an enum for this since it is more descriptive.\r\n```\r\nenum Door {\r\n\tCLOSED, OPEN\r\n}\r\nprivate Door door = Door.OPEN;\r\n\r\nSystem.out.println(door);\r\nchangeDoorState();\r\nSystem.out.println(door);\r\nsetDoorState(door.OPEN);\r\nSystem.out.println(door);\r\n\r\npublic void setDoorState(Door status) {\r\n\tdoor = status;\r\n}\r\n\r\n\r\npublic boolean isDoorOpen() {\r\n\treturn door == Door.OPEN;\r\n}\r\n\r\npublic Door getDoorState() {\r\n     return door;\r\n}\r\n```\r\nIf you want to `change` the door state then do something like this.\r\n```\r\npublic void changeDoorState() {\r\n\t// ternary - if door is open set to closed, else set to open\r\n\tdoor = door == Door.OPEN ? Door.CLOSED : Door.OPEN;\r\n}","title":"How do you have a class change the value of an attribute of another class?","body":"<p>If you want to <code>set</code> the door state, you can pass a value in a setter as follows. I would use an enum for this since it is more descriptive.</p>\n<pre><code>enum Door {\n    CLOSED, OPEN\n}\nprivate Door door = Door.OPEN;\n\nSystem.out.println(door);\nchangeDoorState();\nSystem.out.println(door);\nsetDoorState(door.OPEN);\nSystem.out.println(door);\n\npublic void setDoorState(Door status) {\n    door = status;\n}\n\n\npublic boolean isDoorOpen() {\n    return door == Door.OPEN;\n}\n\npublic Door getDoorState() {\n     return door;\n}\n</code></pre>\n<p>If you want to <code>change</code> the door state then do something like this.</p>\n<pre><code>public void changeDoorState() {\n    // ternary - if door is open set to closed, else set to open\n    door = door == Door.OPEN ? Door.CLOSED : Door.OPEN;\n}\n</code></pre>\n"}],"owner":{"account_id":23834022,"reputation":13,"user_id":17839961,"display_name":"flyerz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74006678,"answer_count":2,"score":1,"last_activity_date":1674223917,"creation_date":1665333999,"question_id":74006638,"body_markdown":"Let&#39;s say I have a class named `Door` with an attribute that states whether it&#39;s _open_ or _closed_. Then, there is another class named `Person`, that is assigned to that door. \r\n\r\nHow would you tell the person to open/close the door by changing the value of the attribute in the `Door` class with a method in the `Person` class?","title":"How do you have a class change the value of an attribute of another class?","body":"<p>Let's say I have a class named <code>Door</code> with an attribute that states whether it's <em>open</em> or <em>closed</em>. Then, there is another class named <code>Person</code>, that is assigned to that door.</p>\n<p>How would you tell the person to open/close the door by changing the value of the attribute in the <code>Door</code> class with a method in the <code>Person</code> class?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674212838,"creation_date":1674212838,"answer_id":75183187,"question_id":75182361,"body_markdown":"You can define custom method which will accept `Source`as parameter and will make required computations. Call this method from `@Mapping` using `expression= &quot;java(&lt;method_name&gt;)&quot;`.\r\n```\r\n@Mapping(target = &quot;containerId&quot;,expression = &quot;java(calculateContainerId(source))&quot;)\r\nTargetABC toDto(Source source);\r\n\r\ndefault String calculateContainerId(Source source) {\r\n        var temperature = source.getPac.getTemperature();\r\n        var range = source.getRange();\r\n       \r\n        return range.calculate(temperature); \r\n}\r\n```","title":"Add custom method in mapstruct","body":"<p>You can define custom method which will accept <code>Source</code>as parameter and will make required computations. Call this method from <code>@Mapping</code> using <code>expression= &quot;java(&lt;method_name&gt;)&quot;</code>.</p>\n<pre><code>@Mapping(target = &quot;containerId&quot;,expression = &quot;java(calculateContainerId(source))&quot;)\nTargetABC toDto(Source source);\n\ndefault String calculateContainerId(Source source) {\n        var temperature = source.getPac.getTemperature();\n        var range = source.getRange();\n       \n        return range.calculate(temperature); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674223715,"creation_date":1674223715,"answer_id":75185132,"question_id":75182361,"body_markdown":"The simplest solution is defining a default method for mapping `source` to `containerId`, which would MapStruct recognize and use if you define `source` as the source used for mapping, as shown below:\r\n```java\r\n@Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;)\r\n@Mapping(target = &quot;containerId&quot;, source = &quot;source&quot;)\r\nTargerABC toDto(Source source);\r\n\r\ndefault Integer calculateContainerIdFromSource(Source source) {\r\n  var temperature = source.getPac().getTemperature();\r\n  var range = source.getRange();\r\n  return range.calculate(temperature);\r\n}\r\n```","title":"Add custom method in mapstruct","body":"<p>The simplest solution is defining a default method for mapping <code>source</code> to <code>containerId</code>, which would MapStruct recognize and use if you define <code>source</code> as the source used for mapping, as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;)\n@Mapping(target = &quot;containerId&quot;, source = &quot;source&quot;)\nTargerABC toDto(Source source);\n\ndefault Integer calculateContainerIdFromSource(Source source) {\n  var temperature = source.getPac().getTemperature();\n  var range = source.getRange();\n  return range.calculate(temperature);\n}\n</code></pre>\n"}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75183187,"answer_count":2,"score":0,"last_activity_date":1674223776,"creation_date":1674208454,"question_id":75182361,"body_markdown":"    @Override\r\n        @Mappings(\r\n            {\r\n                @Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;),\r\n                @Mapping(target = &quot;containerId&quot;, ignore=true),\r\n    \r\n            }\r\n        )\r\n        TargetABC toDto(Source source);\r\n\r\n\r\n    @AfterMapping\r\n    default void inRange(Source source, @MappingTarget TargerABC target) {\r\n\r\n        \r\n            var temperature = source.getPac.getTemperature();\r\n            var range = source.getRange();\r\n            target.setContainerId(\r\n                range.calculate(temperature)\r\n            );\r\n        \r\n    }\r\n\r\n\r\nat the moment I have a solution using `@AfterMapping`, but I want to get rid of this approach in favor of `qualifiedByName` and do the mapping in the field itself by adding a method with the `@Named` annotation, is it possible that such a method will take two values? Maybe there is another better solution?","title":"Add custom method in mapstruct","body":"<pre><code>@Override\n    @Mappings(\n        {\n            @Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;),\n            @Mapping(target = &quot;containerId&quot;, ignore=true),\n\n        }\n    )\n    TargetABC toDto(Source source);\n\n\n@AfterMapping\ndefault void inRange(Source source, @MappingTarget TargerABC target) {\n\n    \n        var temperature = source.getPac.getTemperature();\n        var range = source.getRange();\n        target.setContainerId(\n            range.calculate(temperature)\n        );\n    \n}\n</code></pre>\n<p>at the moment I have a solution using <code>@AfterMapping</code>, but I want to get rid of this approach in favor of <code>qualifiedByName</code> and do the mapping in the field itself by adding a method with the <code>@Named</code> annotation, is it possible that such a method will take two values? Maybe there is another better solution?</p>\n"},{"tags":["java","annotations","time-complexity","big-o","complexity-theory"],"answers":[{"tags":[],"owner":{"account_id":451393,"reputation":27790,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674223556,"creation_date":1674223556,"answer_id":75185100,"question_id":75176023,"body_markdown":"Assuming a constant x for our purposes (i.e., we are not interested in the growth rate as a function of x), expIterative is also just a function of n, and is only called for cases where n &lt;= 4. There is some largest time t* that expIterative takes to run on x and n where n goes from 0 to 4. We can simply use that largest time t* as a constant, since the range of n that can be sent as an input is bounded.\r\n\r\n    double expRecursive(double x, int n) {\r\n        if (n &lt;= 4) {                                       // a+b\r\n            return expIterativ(x, n);                       // c+t*\r\n        }\r\n\r\n        return expRecursive(x, n/2) *                       // c+T(n/2)\r\n               expRecursive(x, (n + 1)/2);                  // d+T((n+1)/2)\r\n    }\r\n\r\nAs you pointed out, we can make the simplifying assumption that n is even and just worry about that case. If we assume n is a power of 2, even easier, since then all recursive calls will be for even numbers.\r\n\r\nWe get\r\n\r\n    T(n) &lt;= 2T(n/2) + (a+b+2c+d+t*)\r\n\r\nThe stuff in parentheses at the end is just a sum of constants, so we can add them together and call the result k:\r\n\r\n    T(n) &lt;= 2T(n/2) + k\r\n\r\nWe can write out some terms here:\r\n\r\n    n    T(n)\r\n    4    t*\r\n    8    2t* + k\r\n    16   4t* + 2k + k\r\n    32   8t* + 4k + 2k + k\r\n    ...\r\n    2^n  2^(n-2)t* + 2^(n-2)k - k\r\n       = (2^n)(t* + k)/4 - k\r\n\r\nSo for an input 2^n, it takes time proportional to 2^n. That means that T(n) = O(n).","title":"How to find the time complexity of a recursive method?","body":"<p>Assuming a constant x for our purposes (i.e., we are not interested in the growth rate as a function of x), expIterative is also just a function of n, and is only called for cases where n &lt;= 4. There is some largest time t* that expIterative takes to run on x and n where n goes from 0 to 4. We can simply use that largest time t* as a constant, since the range of n that can be sent as an input is bounded.</p>\n<pre><code>double expRecursive(double x, int n) {\n    if (n &lt;= 4) {                                       // a+b\n        return expIterativ(x, n);                       // c+t*\n    }\n\n    return expRecursive(x, n/2) *                       // c+T(n/2)\n           expRecursive(x, (n + 1)/2);                  // d+T((n+1)/2)\n}\n</code></pre>\n<p>As you pointed out, we can make the simplifying assumption that n is even and just worry about that case. If we assume n is a power of 2, even easier, since then all recursive calls will be for even numbers.</p>\n<p>We get</p>\n<pre><code>T(n) &lt;= 2T(n/2) + (a+b+2c+d+t*)\n</code></pre>\n<p>The stuff in parentheses at the end is just a sum of constants, so we can add them together and call the result k:</p>\n<pre><code>T(n) &lt;= 2T(n/2) + k\n</code></pre>\n<p>We can write out some terms here:</p>\n<pre><code>n    T(n)\n4    t*\n8    2t* + k\n16   4t* + 2k + k\n32   8t* + 4k + 2k + k\n...\n2^n  2^(n-2)t* + 2^(n-2)k - k\n   = (2^n)(t* + k)/4 - k\n</code></pre>\n<p>So for an input 2^n, it takes time proportional to 2^n. That means that T(n) = O(n).</p>\n"}],"owner":{"account_id":27385797,"reputation":111,"user_id":21045146,"display_name":"Need_MathHelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674223556,"creation_date":1674148930,"question_id":75176023,"body_markdown":"```java\r\ndouble expRecursive(double x, int n) {\r\n    if (n &lt;= 4) {\r\n        return expIterativ(x, n);\r\n    }\r\n\r\n    return expRecursive(x, n/2) *\r\n           expRecursive(x, (n + 1)/2);\r\n}\r\n```\r\n\r\nSo the problem I am dealing with is how I can write the time complexity of this method using a big O notation.\r\n\r\nHere is what I&#39;ve done so far. I&#39;m not sure if it is correct but let me explain it. I get that T(n)= 2 T(n/2) + 1 for n&gt;4 since we have 2 recursive calls and other operations. But when it comes to n&lt;=4, that is where I got stuck. There is a recursive call which means that even it will be something like T(n)= T(n/2)+1. But this doesn&#39;t even feel right, I would really appreciate it if someone could help me.","title":"How to find the time complexity of a recursive method?","body":"<pre class=\"lang-java prettyprint-override\"><code>double expRecursive(double x, int n) {\n    if (n &lt;= 4) {\n        return expIterativ(x, n);\n    }\n\n    return expRecursive(x, n/2) *\n           expRecursive(x, (n + 1)/2);\n}\n</code></pre>\n<p>So the problem I am dealing with is how I can write the time complexity of this method using a big O notation.</p>\n<p>Here is what I've done so far. I'm not sure if it is correct but let me explain it. I get that T(n)= 2 T(n/2) + 1 for n&gt;4 since we have 2 recursive calls and other operations. But when it comes to n&lt;=4, that is where I got stuck. There is a recursive call which means that even it will be something like T(n)= T(n/2)+1. But this doesn't even feel right, I would really appreciate it if someone could help me.</p>\n"},{"tags":["java","generics","stream"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1674219894,"post_id":75184323,"comment_id":132672929,"body_markdown":"`.collect(Collectors.toMap((T f) -&gt; f, f -&gt; persistableBusinessObject.get(f)));`","body":"<code>.collect(Collectors.toMap((T f) -&gt; f, f -&gt; persistableBusinessObject.get(f)));</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674220788,"post_id":75184323,"comment_id":132673193,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1674220942,"post_id":75184323,"comment_id":132673228,"body_markdown":"Sotirios, let me try. Turing85, I see your point, let me write the error than.","body":"Sotirios, let me try. Turing85, I see your point, let me write the error than."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1674221444,"post_id":75184323,"comment_id":132673404,"body_markdown":"Yes, but I am getting this error in runtime, compiler does not complain about it.","body":"Yes, but I am getting this error in runtime, compiler does not complain about it."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1674221604,"post_id":75184323,"comment_id":132673468,"body_markdown":"Generics are getting thrown out of the window after compilation.","body":"Generics are getting thrown out of the window after compilation."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1674223292,"post_id":75184323,"comment_id":132674132,"body_markdown":"Sorry that was a typo, let me correct that, but the situation is the same","body":"Sorry that was a typo, let me correct that, but the situation is the same"},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1674223344,"post_id":75184323,"comment_id":132674153,"body_markdown":"I have tried this: `.collect(Collectors.toMap((T f) -&gt; f, f -&gt; persistableBusinessObject.get(f)));` but it does not work either.","body":"I have tried this: <code>.collect(Collectors.toMap((T f) -&gt; f, f -&gt; persistableBusinessObject.get(f)));</code> but it does not work either."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674550480,"post_id":75184323,"comment_id":132732344,"body_markdown":"Is the name of your class really `idea.debugger.rt.GeneratedEvaluationClass` or do you have one or more expressions entered into the debugger for runtime evaluation?","body":"Is the name of your class really <code>idea.debugger.rt.GeneratedEvaluationClass</code> or do you have one or more expressions entered into the debugger for runtime evaluation?"},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1674565991,"post_id":75184323,"comment_id":132737081,"body_markdown":"I have entered it into debugger for runtime evaluation.","body":"I have entered it into debugger for runtime evaluation."}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674223440,"creation_date":1674219391,"question_id":75184323,"body_markdown":"could someone explain me why following code works and the stream version does not?\r\n\r\n**Normal version:**\r\n```java\r\npublic static &lt;T&gt; String generateUpdateStatement(\r\n\t\t\tfinal PersistableBusinessObject&lt;T&gt; persistableBusinessObject, final MapSqlParameterSource namedParameters) {\r\n\r\n\t\tMap&lt;T, Object&gt; map = new HashMap&lt;&gt;();\r\n        for(T pf: persistableBusinessObject.getUpdatableFieldNames()){\r\n            map.put(pf, persistableBusinessObject.get(pf));\r\n        }\r\n\r\n\t\treturn &#39;some return value&#39;\r\n\t}\r\n```\r\n\r\n**Stream version:**\r\n```java\r\npublic static &lt;T&gt; String generateUpdateStatement(\r\n\t\t\tfinal PersistableBusinessObject&lt;T&gt; persistableBusinessObject, final MapSqlParameterSource namedParameters) {\r\n\r\n\t\tMap&lt;T, Object&gt; updatedFields = persistableBusinessObject.getUpdatableFieldNames()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors.toMap(f -&gt; f, persistableBusinessObject::get));\r\n\r\n\t\treturn &#39;some return value&#39;\r\n\t}\r\n```\r\n\r\nI am getting following error when using stream: can not find symbol class T\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sche7.png","title":"Generics fail in stream operation","body":"<p>could someone explain me why following code works and the stream version does not?</p>\n<p><strong>Normal version:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; String generateUpdateStatement(\n            final PersistableBusinessObject&lt;T&gt; persistableBusinessObject, final MapSqlParameterSource namedParameters) {\n\n        Map&lt;T, Object&gt; map = new HashMap&lt;&gt;();\n        for(T pf: persistableBusinessObject.getUpdatableFieldNames()){\n            map.put(pf, persistableBusinessObject.get(pf));\n        }\n\n        return 'some return value'\n    }\n</code></pre>\n<p><strong>Stream version:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; String generateUpdateStatement(\n            final PersistableBusinessObject&lt;T&gt; persistableBusinessObject, final MapSqlParameterSource namedParameters) {\n\n        Map&lt;T, Object&gt; updatedFields = persistableBusinessObject.getUpdatableFieldNames()\n                .stream()\n                .collect(Collectors.toMap(f -&gt; f, persistableBusinessObject::get));\n\n        return 'some return value'\n    }\n</code></pre>\n<p>I am getting following error when using stream: can not find symbol class T\n<a href=\"https://i.stack.imgur.com/sche7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sche7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1674210324,"post_id":75180065,"comment_id":132669967,"body_markdown":"The ending root tag in your example XML should be &lt;/Employees&gt;. You forgot the /.","body":"The ending root tag in your example XML should be &lt;/Employees&gt;. You forgot the /."}],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674210228,"creation_date":1674210228,"answer_id":75182696,"question_id":75180065,"body_markdown":"You can use XPath to extract all root node&#39;s child elements, then iterate over these elements and use `Element.getTagName()` to check for Employee elements.\r\n\r\nHere is a complete example:\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.transform.OutputKeys;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerException;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import javax.xml.xpath.XPath;\r\n    import javax.xml.xpath.XPathConstants;\r\n    import javax.xml.xpath.XPathExpressionException;\r\n    import javax.xml.xpath.XPathFactory;\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class ExtractEmployee {\r\n\r\n\r\n      private static String xml = &quot;&lt;Employees&gt;  \\n&quot; +\r\n        &quot;  &lt;Employee&gt;\\n&quot; +\r\n        &quot;    &lt;id&gt;1&lt;/id&gt;  \\n&quot; +\r\n        &quot;    &lt;username&gt;user1&lt;/username&gt;\\n&quot; +\r\n        &quot;  &lt;/Employee&gt;\\n&quot; +\r\n        &quot;  &lt;Detail&gt;\\n&quot; +\r\n        &quot;    &lt;greet&gt;Hi&lt;/greet&gt;\\n&quot; +\r\n        &quot;  &lt;/Detail&gt;\\n&quot; +\r\n        &quot;  &lt;Employee&gt;  \\n&quot; +\r\n        &quot;    &lt;id&gt;2&lt;/id&gt;  \\n&quot; +\r\n        &quot;    &lt;username&gt;user2&lt;/username&gt;\\n&quot; +\r\n        &quot;  &lt;/Employee&gt;\\n&quot; +\r\n        &quot;  &lt;Note&gt;\\n&quot; +\r\n        &quot;    &lt;date&gt;2023-01-20&lt;/date&gt;\\n&quot; +\r\n        &quot;    &lt;heading&gt;reminder&lt;/heading&gt;\\n&quot; +\r\n        &quot;  &lt;/Note&gt;\\n&quot; +\r\n        &quot;  &lt;Detail&gt;\\n&quot; +\r\n        &quot;    &lt;greet&gt;Hello&lt;/greet&gt;\\n&quot; +\r\n        &quot;  &lt;/Detail&gt;\\n&quot; +\r\n        &quot;  &lt;Employee&gt;\\n&quot; +\r\n        &quot;    &lt;id&gt;3&lt;/id&gt;  \\n&quot; +\r\n        &quot;    &lt;username&gt;user3&lt;/username&gt;\\n&quot; +\r\n        &quot;  &lt;/Employee&gt;\\n&quot; +\r\n        &quot;&lt;/Employees&gt; \\n&quot;;\r\n      public static void main(String[] args) {\r\n        try {\r\n          DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n          DocumentBuilder builder = factory.newDocumentBuilder();\r\n          StringReader reader = new StringReader(xml);\r\n          InputSource source = new InputSource(reader);\r\n          Document document = builder.parse(source);\r\n          XPath xpath = XPathFactory.newInstance().newXPath();\r\n          NodeList list = (NodeList) xpath.evaluate(&quot;/Employees/*&quot;, document, XPathConstants.NODESET);\r\n\r\n          List&lt;List&lt;Element&gt;&gt; result = new ArrayList&lt;&gt;();\r\n          List&lt;Element&gt; current = null;\r\n\r\n          for(int i = 0; i &lt; list.getLength(); i++) {\r\n            Element el = (Element) list.item(i);\r\n            if(el.getTagName().equals(&quot;Employee&quot;)) {\r\n              if(current != null) {\r\n                result.add(current);\r\n              }\r\n              current = new ArrayList&lt;&gt;();\r\n              current.add(el);\r\n            } else {\r\n              if(current != null) {\r\n                current.add(el);\r\n              }\r\n            }\r\n          }\r\n          if(current != null) {\r\n            result.add(current);\r\n          }\r\n\r\n          int partNr = 1;\r\n          for(List&lt;Element&gt; part: result) {\r\n            System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\r\n            System.out.println(String.format(&quot;Part number: %d&quot;, partNr++));\r\n            for(Element el: part) {\r\n              System.out.println(element2String(el));\r\n            }\r\n          }\r\n        } catch (ParserConfigurationException e) {\r\n          e.printStackTrace();\r\n        } catch (SAXException e) {\r\n          e.printStackTrace();\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        } catch (XPathExpressionException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n\r\n      private static String element2String(Element element) {\r\n        String xmlString = null;\r\n        try {\r\n          TransformerFactory tf = TransformerFactory.newInstance();\r\n          Transformer transformer = tf.newTransformer();\r\n          transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n          StringWriter writer = new StringWriter();\r\n          transformer.transform(new DOMSource(element), new StreamResult(writer));\r\n          xmlString = writer.getBuffer().toString();\r\n        }\r\n        catch (TransformerException e) {\r\n          e.printStackTrace();\r\n        }\r\n        catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n        return xmlString;\r\n      }\r\n\r\n    }\r\n\r\n\r\nOutput is:\r\n\r\n    --------------------------------------------------------------------------------\r\n    Part number: 1\r\n    &lt;Employee&gt;\r\n        &lt;id&gt;1&lt;/id&gt;  \r\n        &lt;username&gt;user1&lt;/username&gt;\r\n      &lt;/Employee&gt;\r\n    &lt;Detail&gt;\r\n        &lt;greet&gt;Hi&lt;/greet&gt;\r\n      &lt;/Detail&gt;\r\n    --------------------------------------------------------------------------------\r\n    Part number: 2\r\n    &lt;Employee&gt;  \r\n        &lt;id&gt;2&lt;/id&gt;  \r\n        &lt;username&gt;user2&lt;/username&gt;\r\n      &lt;/Employee&gt;\r\n    &lt;Note&gt;\r\n        &lt;date&gt;2023-01-20&lt;/date&gt;\r\n        &lt;heading&gt;reminder&lt;/heading&gt;\r\n      &lt;/Note&gt;\r\n    &lt;Detail&gt;\r\n        &lt;greet&gt;Hello&lt;/greet&gt;\r\n      &lt;/Detail&gt;\r\n    --------------------------------------------------------------------------------\r\n    Part number: 3\r\n    &lt;Employee&gt;\r\n        &lt;id&gt;3&lt;/id&gt;  \r\n        &lt;username&gt;user3&lt;/username&gt;\r\n      &lt;/Employee&gt;\r\n","title":"How to extract content from specific tag to tag in xml using java","body":"<p>You can use XPath to extract all root node's child elements, then iterate over these elements and use <code>Element.getTagName()</code> to check for Employee elements.</p>\n<p>Here is a complete example:</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.io.StringWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ExtractEmployee {\n\n\n  private static String xml = &quot;&lt;Employees&gt;  \\n&quot; +\n    &quot;  &lt;Employee&gt;\\n&quot; +\n    &quot;    &lt;id&gt;1&lt;/id&gt;  \\n&quot; +\n    &quot;    &lt;username&gt;user1&lt;/username&gt;\\n&quot; +\n    &quot;  &lt;/Employee&gt;\\n&quot; +\n    &quot;  &lt;Detail&gt;\\n&quot; +\n    &quot;    &lt;greet&gt;Hi&lt;/greet&gt;\\n&quot; +\n    &quot;  &lt;/Detail&gt;\\n&quot; +\n    &quot;  &lt;Employee&gt;  \\n&quot; +\n    &quot;    &lt;id&gt;2&lt;/id&gt;  \\n&quot; +\n    &quot;    &lt;username&gt;user2&lt;/username&gt;\\n&quot; +\n    &quot;  &lt;/Employee&gt;\\n&quot; +\n    &quot;  &lt;Note&gt;\\n&quot; +\n    &quot;    &lt;date&gt;2023-01-20&lt;/date&gt;\\n&quot; +\n    &quot;    &lt;heading&gt;reminder&lt;/heading&gt;\\n&quot; +\n    &quot;  &lt;/Note&gt;\\n&quot; +\n    &quot;  &lt;Detail&gt;\\n&quot; +\n    &quot;    &lt;greet&gt;Hello&lt;/greet&gt;\\n&quot; +\n    &quot;  &lt;/Detail&gt;\\n&quot; +\n    &quot;  &lt;Employee&gt;\\n&quot; +\n    &quot;    &lt;id&gt;3&lt;/id&gt;  \\n&quot; +\n    &quot;    &lt;username&gt;user3&lt;/username&gt;\\n&quot; +\n    &quot;  &lt;/Employee&gt;\\n&quot; +\n    &quot;&lt;/Employees&gt; \\n&quot;;\n  public static void main(String[] args) {\n    try {\n      DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n      DocumentBuilder builder = factory.newDocumentBuilder();\n      StringReader reader = new StringReader(xml);\n      InputSource source = new InputSource(reader);\n      Document document = builder.parse(source);\n      XPath xpath = XPathFactory.newInstance().newXPath();\n      NodeList list = (NodeList) xpath.evaluate(&quot;/Employees/*&quot;, document, XPathConstants.NODESET);\n\n      List&lt;List&lt;Element&gt;&gt; result = new ArrayList&lt;&gt;();\n      List&lt;Element&gt; current = null;\n\n      for(int i = 0; i &lt; list.getLength(); i++) {\n        Element el = (Element) list.item(i);\n        if(el.getTagName().equals(&quot;Employee&quot;)) {\n          if(current != null) {\n            result.add(current);\n          }\n          current = new ArrayList&lt;&gt;();\n          current.add(el);\n        } else {\n          if(current != null) {\n            current.add(el);\n          }\n        }\n      }\n      if(current != null) {\n        result.add(current);\n      }\n\n      int partNr = 1;\n      for(List&lt;Element&gt; part: result) {\n        System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\n        System.out.println(String.format(&quot;Part number: %d&quot;, partNr++));\n        for(Element el: part) {\n          System.out.println(element2String(el));\n        }\n      }\n    } catch (ParserConfigurationException e) {\n      e.printStackTrace();\n    } catch (SAXException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    } catch (XPathExpressionException e) {\n      e.printStackTrace();\n    }\n  }\n\n  private static String element2String(Element element) {\n    String xmlString = null;\n    try {\n      TransformerFactory tf = TransformerFactory.newInstance();\n      Transformer transformer = tf.newTransformer();\n      transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n      StringWriter writer = new StringWriter();\n      transformer.transform(new DOMSource(element), new StreamResult(writer));\n      xmlString = writer.getBuffer().toString();\n    }\n    catch (TransformerException e) {\n      e.printStackTrace();\n    }\n    catch (Exception e) {\n      e.printStackTrace();\n    }\n    return xmlString;\n  }\n\n}\n</code></pre>\n<p>Output is:</p>\n<pre><code>--------------------------------------------------------------------------------\nPart number: 1\n&lt;Employee&gt;\n    &lt;id&gt;1&lt;/id&gt;  \n    &lt;username&gt;user1&lt;/username&gt;\n  &lt;/Employee&gt;\n&lt;Detail&gt;\n    &lt;greet&gt;Hi&lt;/greet&gt;\n  &lt;/Detail&gt;\n--------------------------------------------------------------------------------\nPart number: 2\n&lt;Employee&gt;  \n    &lt;id&gt;2&lt;/id&gt;  \n    &lt;username&gt;user2&lt;/username&gt;\n  &lt;/Employee&gt;\n&lt;Note&gt;\n    &lt;date&gt;2023-01-20&lt;/date&gt;\n    &lt;heading&gt;reminder&lt;/heading&gt;\n  &lt;/Note&gt;\n&lt;Detail&gt;\n    &lt;greet&gt;Hello&lt;/greet&gt;\n  &lt;/Detail&gt;\n--------------------------------------------------------------------------------\nPart number: 3\n&lt;Employee&gt;\n    &lt;id&gt;3&lt;/id&gt;  \n    &lt;username&gt;user3&lt;/username&gt;\n  &lt;/Employee&gt;\n</code></pre>\n"}],"owner":{"account_id":4624102,"reputation":380,"user_id":3748377,"accept_rate":67,"display_name":"ankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1674412192,"accepted_answer_id":75182696,"answer_count":1,"score":0,"last_activity_date":1674223431,"creation_date":1674192244,"question_id":75180065,"body_markdown":"I want to iterate through xml and trying to extract the specific content from the xml using java. Everywhere I am getting solution using xpath only but xpath works on tags basis but in my case I am not sure which tag will come. Tag name can vary dynamically. Below is the xml:\r\n\r\n    &lt;Employees&gt;  \r\n        &lt;Employee&gt;\r\n            &lt;id&gt;1&lt;/id&gt;  \r\n            &lt;username&gt;user1&lt;/username&gt;\r\n        &lt;/Employee&gt;\r\n\t\r\n\t    &lt;Detail&gt;\r\n\t\t    &lt;greet&gt;Hi&lt;/greet&gt;\r\n\t    &lt;/Detail&gt;\r\n\r\n        &lt;Employee&gt;  \r\n            &lt;id&gt;2&lt;/id&gt;  \r\n            &lt;username&gt;user2&lt;/username&gt;\r\n        &lt;/Employee&gt;\r\n\t\r\n\t    &lt;Note&gt;\r\n\t\t    &lt;date&gt;2023-01-20&lt;/date&gt;\r\n\t\t    &lt;heading&gt;reminder&lt;/heading&gt;\r\n\t    &lt;/Note&gt;\r\n    \r\n\t    &lt;Detail&gt;\r\n\t\t    &lt;greet&gt;Hello&lt;/greet&gt;\r\n\t    &lt;/Detail&gt;\r\n\r\n        &lt;Employee&gt;\r\n            &lt;id&gt;3&lt;/id&gt;  \r\n            &lt;username&gt;user3&lt;/username&gt;\r\n        &lt;/Employee&gt;\r\n    &lt;/Employees&gt; \r\n\r\n\r\nI want to extract tags after each Employee tag. I don&#39;t want to iterate through child tags of an Employee. For example I should get :\r\n\r\n    &lt;Employee&gt;\r\n        &lt;id&gt;1&lt;/id&gt;  \r\n        &lt;username&gt;user1&lt;/username&gt;\r\n    &lt;/Employee&gt;\r\n\t\r\n\t&lt;Detail&gt;\r\n\t\t&lt;greet&gt;Hi&lt;/greet&gt;\r\n\t&lt;/Detail&gt;\r\n\r\n\r\nand next I should get :\r\n\r\n    &lt;Employee&gt;  \r\n        &lt;id&gt;2&lt;/id&gt;  \r\n        &lt;username&gt;user2&lt;/username&gt;\r\n    &lt;/Employee&gt;\r\n\t\r\n\t&lt;Note&gt;\r\n\t\t&lt;date&gt;2023-01-20&lt;/date&gt;\r\n\t\t&lt;heading&gt;reminder&lt;/heading&gt;\r\n\t&lt;/Note&gt;\r\n    \r\n\t&lt;Detail&gt;\r\n\t\t&lt;greet&gt;Hello&lt;/greet&gt;\r\n\t&lt;/Detail&gt;\r\n\r\n\r\nand next I should get :\r\n\r\n\t&lt;Employee&gt;\r\n        &lt;id&gt;3&lt;/id&gt;  \r\n        &lt;username&gt;user3&lt;/username&gt;\r\n    &lt;/Employee&gt;\r\n\t\r\nCan anyone please help me on this how can I implement like this.","title":"How to extract content from specific tag to tag in xml using java","body":"<p>I want to iterate through xml and trying to extract the specific content from the xml using java. Everywhere I am getting solution using xpath only but xpath works on tags basis but in my case I am not sure which tag will come. Tag name can vary dynamically. Below is the xml:</p>\n<pre><code>&lt;Employees&gt;  \n    &lt;Employee&gt;\n        &lt;id&gt;1&lt;/id&gt;  \n        &lt;username&gt;user1&lt;/username&gt;\n    &lt;/Employee&gt;\n\n    &lt;Detail&gt;\n        &lt;greet&gt;Hi&lt;/greet&gt;\n    &lt;/Detail&gt;\n\n    &lt;Employee&gt;  \n        &lt;id&gt;2&lt;/id&gt;  \n        &lt;username&gt;user2&lt;/username&gt;\n    &lt;/Employee&gt;\n\n    &lt;Note&gt;\n        &lt;date&gt;2023-01-20&lt;/date&gt;\n        &lt;heading&gt;reminder&lt;/heading&gt;\n    &lt;/Note&gt;\n\n    &lt;Detail&gt;\n        &lt;greet&gt;Hello&lt;/greet&gt;\n    &lt;/Detail&gt;\n\n    &lt;Employee&gt;\n        &lt;id&gt;3&lt;/id&gt;  \n        &lt;username&gt;user3&lt;/username&gt;\n    &lt;/Employee&gt;\n&lt;/Employees&gt; \n</code></pre>\n<p>I want to extract tags after each Employee tag. I don't want to iterate through child tags of an Employee. For example I should get :</p>\n<pre><code>&lt;Employee&gt;\n    &lt;id&gt;1&lt;/id&gt;  \n    &lt;username&gt;user1&lt;/username&gt;\n&lt;/Employee&gt;\n\n&lt;Detail&gt;\n    &lt;greet&gt;Hi&lt;/greet&gt;\n&lt;/Detail&gt;\n</code></pre>\n<p>and next I should get :</p>\n<pre><code>&lt;Employee&gt;  \n    &lt;id&gt;2&lt;/id&gt;  \n    &lt;username&gt;user2&lt;/username&gt;\n&lt;/Employee&gt;\n\n&lt;Note&gt;\n    &lt;date&gt;2023-01-20&lt;/date&gt;\n    &lt;heading&gt;reminder&lt;/heading&gt;\n&lt;/Note&gt;\n\n&lt;Detail&gt;\n    &lt;greet&gt;Hello&lt;/greet&gt;\n&lt;/Detail&gt;\n</code></pre>\n<p>and next I should get :</p>\n<pre><code>&lt;Employee&gt;\n    &lt;id&gt;3&lt;/id&gt;  \n    &lt;username&gt;user3&lt;/username&gt;\n&lt;/Employee&gt;\n</code></pre>\n<p>Can anyone please help me on this how can I implement like this.</p>\n"},{"tags":["java","boolean-logic","boolean-expression"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1674192858,"post_id":75180110,"comment_id":132665646,"body_markdown":"Instead of comparing two ints, you&#39;re comparing an int to a boolean, and assigning a string to an int. Won&#39;t even compile.","body":"Instead of comparing two ints, you&#39;re comparing an int to a boolean, and assigning a string to an int. Won&#39;t even compile."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674193305,"post_id":75180110,"comment_id":132665725,"body_markdown":"Please share an [mcve]","body":"Please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674193540,"post_id":75180110,"comment_id":132665761,"body_markdown":"If you are unsure try it by writing unit tests.","body":"If you are unsure try it by writing unit tests."},{"owner":{"account_id":27577679,"reputation":7,"user_id":21047495,"display_name":"Carson Turner"},"score":0,"creation_date":1674193688,"post_id":75180110,"comment_id":132665789,"body_markdown":"I can&#39;t test the code myself as I am on a slower PC that can&#39;t handle a JDK, but this my CS homework","body":"I can&#39;t test the code myself as I am on a slower PC that can&#39;t handle a JDK, but this my CS homework"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674193789,"post_id":75180110,"comment_id":132665802,"body_markdown":"Initializing an int with false or a string doesn’t make an sense.","body":"Initializing an int with false or a string doesn’t make an sense."},{"owner":{"account_id":27577679,"reputation":7,"user_id":21047495,"display_name":"Carson Turner"},"score":0,"creation_date":1674193882,"post_id":75180110,"comment_id":132665821,"body_markdown":"yeah, i&#39;m just initializing it as a boolean value, it&#39;s not in parenthesis, therefore it&#39;s not a string value.","body":"yeah, i&#39;m just initializing it as a boolean value, it&#39;s not in parenthesis, therefore it&#39;s not a string value."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674194279,"post_id":75180110,"comment_id":132665877,"body_markdown":"Day is initialized as string.","body":"Day is initialized as string."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1674223325,"creation_date":1674194420,"answer_id":75180284,"question_id":75180110,"body_markdown":"The simple answer: this isn&#39;t C++\r\n\r\nYou cannot assign numeric value to boolean fields. In Java, the only two valid values are `true` and `false`. Therefore, you cannot assign integer values to a boolean variable. \r\n\r\nFor your boolean expressions to be valid, your variables `skyB` and `day` must be `boolean` data types\r\n\r\n```\r\nboolean skyB = false\r\nboolean day = true\r\n\r\nif (!skyB || day) {\r\n  System.out.print(&quot;example text&quot;);\r\n}\r\n```\r\n\r\nThe `boolean` fields are evaluated without the need to compare them to true or false. The expression `!skyB` (read &quot;not skyB&quot;) evaluates to `false`. So this is the equivalent to `skyB == false`. Since that portion evaluates to true (skyB is equal to false), the second part of the expression is skipped and the `System.out.print()` is called. If the value of `skyB` was changed to true, the variable `day` would then be evaluated and the if-statement would be executed if the value of that variable equals true (which it is).\r\n\r\nAlternatively, you could build boolean expressions using numeric values. How? Simple. Any mathematical expression is evaluated the same. For example:\r\n\r\n```\r\nint x = 5;\r\nint y = 3;\r\n\r\nif (x &gt; y) {\r\n  System.out.println(&quot;x is greater than y&quot;);\r\n}\r\n```\r\nBasically... The logic of what you are trying to do (the way I understood it) is correct, but your implementation was not. You cannnot mix boolean fields and numeric values. It is simply not allowed in Java.\r\n\r\nNow, to your question...\r\n\r\n```\r\nboolean skyB = false; // this must be boolean, not int\r\nint day =2;       // this is fine\r\n\r\nif (skyB || day == 1) {\r\n  System.out.print(&quot;example text&quot;);\r\n}\r\n```\r\nShould produce the desired outcome. In plain English, the above is read:\r\n\r\n&gt; If skyB is false OR is day one, print &quot;example test&quot;\r\n\r\nIf either part of the expression fails to evaluate to true (i.e. if skyB is true and day variable is any value other than one), it will not print anything.\r\n\r\n**UPDATE**:\r\n\r\nEven if this answer has been accepted and upvoted, I would like to include some information about boolean expressions for the benefit of new developers that might be struggling with this concept.\r\n\r\n&gt; What is a Boolean Expression?\r\n\r\nAccording to [Oracle documentation][1], &quot;*A Boolean expression is a logical statement that is either TRUE or FALSE.*&quot; These expressions take a few different forms. For example,\r\n\r\n- ***Boolean literals***\r\n```\r\nif (true) {...}\r\n```\r\n\r\nAlthough there is no real reason for such if-statement, the above is a valid expression. &quot;If true, do the stuff inside the curly braces.&quot; This means that the stuff inside will always execute (making it the same as not having the &quot;if&quot;. However, this is the basis for understanding the rest.\r\n\r\n- ***Boolean variables***\r\n```\r\nboolean isBlue = false;\r\nif (isBlue) {...}\r\n```\r\nIn the above case, the Boolean expression is the variable itself. The expectation is that, if the variable value evaluates to `true`, the stuff inside the curly braces will be executed. Since the value is false, it won&#39;t be executed. The above &quot;if&quot; is the more accepted short form of\r\n```\r\nboolean isBlue = false;\r\nif (isBlue == true) {...}\r\n```\r\nSo, since the left hand (variable) value of this evaluation is false and the right side is true, the complete expression evaluates to false. Therefore, the stuff inside curly braces won&#39;t be executed (false does not equals true). However\r\n```\r\nboolean isBlue = false;\r\nif(!isBlue == true){...}\r\n```\r\nNegating a boolean variable toggles it&#39;s value. In this case, the `isBlue` variable holds the value of `false`. The &quot;not&quot; operator toggles its value to `true`. Since `true == true` evaluates to true (true equals true is a true expression), the stuff inside curly braces is executed.\r\n\r\n- ***Functions that yield a boolean value***\r\n```\r\npublic boolean isSkyBlue() {\r\n  return true; // sorry for the over simplification\r\n}\r\n...\r\nif (isSkyBlue()) {...}\r\n```\r\nThis is nothing more than an advance form of what I have shown already. In this case, the method &quot;computes&quot; the boolean value to be returned. Since boolean values are expressions onto themselves, it is valid to insert a method call such as the one illustrated above inside the parentheses. The stuff inside curly braces will execute so long the function returns `true`.\r\n\r\n- ***Comparison operations***\r\n\r\nI included the following example already:\r\n```\r\nint x = 5;\r\nint y = 3;\r\n\r\nif (x &gt; y) {\r\n  System.out.println(&quot;x is greater than y&quot;);\r\n}\r\n```\r\nAny type of comparison operation will yield true or false. Therefore, these comparison operations are boolean expressions. This also includes the result of overridden `Object#equals(Object)` method. For example:\r\n```\r\nString s = &quot;Hello&quot;;\r\nif (s.equals(&quot;Hello&quot;)) {...}\r\n```\r\nAs a side note, objects in Java should be compared using an overridden `equals()` method, and not using the double-equals operator (unless you are only interested in comparing the object references (address) to be equal.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B12037_01/olap.101/b10339/expression006.htm","title":"Comparing an int initialization with a boolean operator for an if statement parameter","body":"<p>The simple answer: this isn't C++</p>\n<p>You cannot assign numeric value to boolean fields. In Java, the only two valid values are <code>true</code> and <code>false</code>. Therefore, you cannot assign integer values to a boolean variable.</p>\n<p>For your boolean expressions to be valid, your variables <code>skyB</code> and <code>day</code> must be <code>boolean</code> data types</p>\n<pre><code>boolean skyB = false\nboolean day = true\n\nif (!skyB || day) {\n  System.out.print(&quot;example text&quot;);\n}\n</code></pre>\n<p>The <code>boolean</code> fields are evaluated without the need to compare them to true or false. The expression <code>!skyB</code> (read &quot;not skyB&quot;) evaluates to <code>false</code>. So this is the equivalent to <code>skyB == false</code>. Since that portion evaluates to true (skyB is equal to false), the second part of the expression is skipped and the <code>System.out.print()</code> is called. If the value of <code>skyB</code> was changed to true, the variable <code>day</code> would then be evaluated and the if-statement would be executed if the value of that variable equals true (which it is).</p>\n<p>Alternatively, you could build boolean expressions using numeric values. How? Simple. Any mathematical expression is evaluated the same. For example:</p>\n<pre><code>int x = 5;\nint y = 3;\n\nif (x &gt; y) {\n  System.out.println(&quot;x is greater than y&quot;);\n}\n</code></pre>\n<p>Basically... The logic of what you are trying to do (the way I understood it) is correct, but your implementation was not. You cannnot mix boolean fields and numeric values. It is simply not allowed in Java.</p>\n<p>Now, to your question...</p>\n<pre><code>boolean skyB = false; // this must be boolean, not int\nint day =2;       // this is fine\n\nif (skyB || day == 1) {\n  System.out.print(&quot;example text&quot;);\n}\n</code></pre>\n<p>Should produce the desired outcome. In plain English, the above is read:</p>\n<blockquote>\n<p>If skyB is false OR is day one, print &quot;example test&quot;</p>\n</blockquote>\n<p>If either part of the expression fails to evaluate to true (i.e. if skyB is true and day variable is any value other than one), it will not print anything.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>Even if this answer has been accepted and upvoted, I would like to include some information about boolean expressions for the benefit of new developers that might be struggling with this concept.</p>\n<blockquote>\n<p>What is a Boolean Expression?</p>\n</blockquote>\n<p>According to <a href=\"https://docs.oracle.com/cd/B12037_01/olap.101/b10339/expression006.htm\" rel=\"nofollow noreferrer\">Oracle documentation</a>, &quot;<em>A Boolean expression is a logical statement that is either TRUE or FALSE.</em>&quot; These expressions take a few different forms. For example,</p>\n<ul>\n<li><em><strong>Boolean literals</strong></em></li>\n</ul>\n<pre><code>if (true) {...}\n</code></pre>\n<p>Although there is no real reason for such if-statement, the above is a valid expression. &quot;If true, do the stuff inside the curly braces.&quot; This means that the stuff inside will always execute (making it the same as not having the &quot;if&quot;. However, this is the basis for understanding the rest.</p>\n<ul>\n<li><em><strong>Boolean variables</strong></em></li>\n</ul>\n<pre><code>boolean isBlue = false;\nif (isBlue) {...}\n</code></pre>\n<p>In the above case, the Boolean expression is the variable itself. The expectation is that, if the variable value evaluates to <code>true</code>, the stuff inside the curly braces will be executed. Since the value is false, it won't be executed. The above &quot;if&quot; is the more accepted short form of</p>\n<pre><code>boolean isBlue = false;\nif (isBlue == true) {...}\n</code></pre>\n<p>So, since the left hand (variable) value of this evaluation is false and the right side is true, the complete expression evaluates to false. Therefore, the stuff inside curly braces won't be executed (false does not equals true). However</p>\n<pre><code>boolean isBlue = false;\nif(!isBlue == true){...}\n</code></pre>\n<p>Negating a boolean variable toggles it's value. In this case, the <code>isBlue</code> variable holds the value of <code>false</code>. The &quot;not&quot; operator toggles its value to <code>true</code>. Since <code>true == true</code> evaluates to true (true equals true is a true expression), the stuff inside curly braces is executed.</p>\n<ul>\n<li><em><strong>Functions that yield a boolean value</strong></em></li>\n</ul>\n<pre><code>public boolean isSkyBlue() {\n  return true; // sorry for the over simplification\n}\n...\nif (isSkyBlue()) {...}\n</code></pre>\n<p>This is nothing more than an advance form of what I have shown already. In this case, the method &quot;computes&quot; the boolean value to be returned. Since boolean values are expressions onto themselves, it is valid to insert a method call such as the one illustrated above inside the parentheses. The stuff inside curly braces will execute so long the function returns <code>true</code>.</p>\n<ul>\n<li><em><strong>Comparison operations</strong></em></li>\n</ul>\n<p>I included the following example already:</p>\n<pre><code>int x = 5;\nint y = 3;\n\nif (x &gt; y) {\n  System.out.println(&quot;x is greater than y&quot;);\n}\n</code></pre>\n<p>Any type of comparison operation will yield true or false. Therefore, these comparison operations are boolean expressions. This also includes the result of overridden <code>Object#equals(Object)</code> method. For example:</p>\n<pre><code>String s = &quot;Hello&quot;;\nif (s.equals(&quot;Hello&quot;)) {...}\n</code></pre>\n<p>As a side note, objects in Java should be compared using an overridden <code>equals()</code> method, and not using the double-equals operator (unless you are only interested in comparing the object references (address) to be equal.</p>\n"}],"owner":{"account_id":27577679,"reputation":7,"user_id":21047495,"display_name":"Carson Turner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":75180284,"answer_count":1,"score":-4,"last_activity_date":1674223325,"creation_date":1674192719,"question_id":75180110,"body_markdown":"I&#39;ve declared ints **skyB** and **day**, and written this line:\r\n\r\n    if (skyB == true || (day=1) != true) {\r\n    System.out.print(&quot;example text&quot;);  \r\n    }\r\n\r\n\r\nAm I correct in assuming that the code will properly execute the argument given these parameters? I&#39;m specifically unsure about whether or not the (day=&quot;1&quot;) would be properly *detected* as false, given the instance that the objects input was indeed a false.\r\n\r\n\r\n\r\nminimal reproducable example(not including main method or packages):  \r\n\r\n     int skyB = false;\r\n\r\n     int day =2;\r\n\r\n     if (skyB == true || (day =1) != true) {\r\n    System.out.print(&quot;example text&quot;);  }","title":"Comparing an int initialization with a boolean operator for an if statement parameter","body":"<p>I've declared ints <strong>skyB</strong> and <strong>day</strong>, and written this line:</p>\n<pre><code>if (skyB == true || (day=1) != true) {\nSystem.out.print(&quot;example text&quot;);  \n}\n</code></pre>\n<p>Am I correct in assuming that the code will properly execute the argument given these parameters? I'm specifically unsure about whether or not the (day=&quot;1&quot;) would be properly <em>detected</em> as false, given the instance that the objects input was indeed a false.</p>\n<p>minimal reproducable example(not including main method or packages):</p>\n<pre><code> int skyB = false;\n\n int day =2;\n\n if (skyB == true || (day =1) != true) {\nSystem.out.print(&quot;example text&quot;);  }\n</code></pre>\n"},{"tags":["java","auto-value"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674223959,"post_id":75185044,"comment_id":132674418,"body_markdown":"I don&#39;t understand the question. Your linked page says directly above the code: &#187;Note that in real life, you would write tests that actually do something interesting with the object, instead of only checking field values going in and out.&#171;","body":"I don&#39;t understand the question. Your linked page says directly above the code: &#187;Note that in real life, you would write tests that actually do something interesting with the object, instead of only checking field values going in and out.&#171;"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674223989,"post_id":75185044,"comment_id":132674434,"body_markdown":"Probably ... you just need to write assertions like the *other* ones in that section of the documentation.  That&#39;s what it seems to be saying.  Either way I think you need to just try it out.  Create a testcase, run the autovalue generator and see what you get.  And repeat until you 1) understand what it seems to be doing and 2) are happy with the results.","body":"Probably ... you just need to write assertions like the <i>other</i> ones in that section of the documentation.  That&#39;s what it seems to be saying.  Either way I think you need to just try it out.  Create a testcase, run the autovalue generator and see what you get.  And repeat until you 1) understand what it seems to be doing and 2) are happy with the results."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1674231813,"post_id":75185044,"comment_id":132677427,"body_markdown":"Why don&#39;t you simply write every test in isolation, to make sure you are testing each features. If you have to test many cases in one test, it is clear that you have an issue with your design. The `Single Responsibility Principle` is not apply in your design.","body":"Why don&#39;t you simply write every test in isolation, to make sure you are testing each features. If you have to test many cases in one test, it is clear that you have an issue with your design. The <code>Single Responsibility Principle</code> is not apply in your design."}],"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674223302,"creation_date":1674223302,"question_id":75185044,"body_markdown":"In order to assert multiple attributes of a call, I am planning to use auto-value.\r\n\r\nBut the documentation says:\r\n\r\n      // You probably don&#39;t need to write assertions like these; just illustrating.\r\n      assertTrue(Animal.create(&quot;dog&quot;, 4).equals(dog));\r\n      assertFalse(Animal.create(&quot;cat&quot;, 4).equals(dog));\r\n      assertFalse(Animal.create(&quot;dog&quot;, 2).equals(dog));\r\n\r\nhttps://chromium.googlesource.com/external/github.com/google/auto/+/auto-value-1.6.2/value/userguide/index.md#usage\r\n\r\nWhat are the better ways of asserting multiple attributs of *dog*?","title":"Asserting multiple attributes of an Object","body":"<p>In order to assert multiple attributes of a call, I am planning to use auto-value.</p>\n<p>But the documentation says:</p>\n<pre><code>  // You probably don't need to write assertions like these; just illustrating.\n  assertTrue(Animal.create(&quot;dog&quot;, 4).equals(dog));\n  assertFalse(Animal.create(&quot;cat&quot;, 4).equals(dog));\n  assertFalse(Animal.create(&quot;dog&quot;, 2).equals(dog));\n</code></pre>\n<p><a href=\"https://chromium.googlesource.com/external/github.com/google/auto/+/auto-value-1.6.2/value/userguide/index.md#usage\" rel=\"nofollow noreferrer\">https://chromium.googlesource.com/external/github.com/google/auto/+/auto-value-1.6.2/value/userguide/index.md#usage</a></p>\n<p>What are the better ways of asserting multiple attributs of <em>dog</em>?</p>\n"},{"tags":["java","arrays","java-stream","converters"],"comments":[{"owner":{"account_id":8252,"reputation":41549,"user_id":14768,"accept_rate":82,"display_name":"Joshua"},"score":1,"creation_date":1674161047,"post_id":75177438,"comment_id":132662023,"body_markdown":"Is this a learning exercise or some other reason for no streams version asked?","body":"Is this a learning exercise or some other reason for no streams version asked?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1674167627,"post_id":75177438,"comment_id":132663691,"body_markdown":"If your code works, Stack Overflow might not be the best place for your question. You might try a Code Review site.","body":"If your code works, Stack Overflow might not be the best place for your question. You might try a Code Review site."}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674160028,"creation_date":1674160028,"answer_id":75177909,"question_id":75177438,"body_markdown":"One way to do it with using the Streams API is like so:\r\n\r\n```java\r\nint[][] ints = Arrays.stream(mat.split(&quot;,\\n&quot;))      // split rows\r\n        .map(s -&gt; s.substring(1, s.length() - 1))   // remove &#39;[&#39; and &#39;]&#39;\r\n        .map(s -&gt; s.split(&quot;, *&quot;))                   // split cols of row\r\n        .map(arr -&gt; Arrays.stream(arr)              // map String array to int array\r\n                .mapToInt(Integer::parseInt)\r\n                .toArray()\r\n        )\r\n        .toArray(int[][]::new);\r\nSystem.out.println(Arrays.deepToString(ints));\r\n```\r\n\r\n**Output:**\r\n\r\n```text\r\n[[0, 10, 0, 5, 4], [1, 3, 10, 2, 8], [1, 8, 1, 6, 3], [4, 10, 2, 3, 5], [9, 0, 9, 1, 0]]\r\n```\r\n\r\nIf you don&#39;t want to use streams, a good way to start is to replace the `Arrays.stream` calls with for loops.","title":"Java converting string to 2d int array","body":"<p>One way to do it with using the Streams API is like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] ints = Arrays.stream(mat.split(&quot;,\\n&quot;))      // split rows\n        .map(s -&gt; s.substring(1, s.length() - 1))   // remove '[' and ']'\n        .map(s -&gt; s.split(&quot;, *&quot;))                   // split cols of row\n        .map(arr -&gt; Arrays.stream(arr)              // map String array to int array\n                .mapToInt(Integer::parseInt)\n                .toArray()\n        )\n        .toArray(int[][]::new);\nSystem.out.println(Arrays.deepToString(ints));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[[0, 10, 0, 5, 4], [1, 3, 10, 2, 8], [1, 8, 1, 6, 3], [4, 10, 2, 3, 5], [9, 0, 9, 1, 0]]\n</code></pre>\n<p>If you don't want to use streams, a good way to start is to replace the <code>Arrays.stream</code> calls with for loops.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674160028,"creation_date":1674160028,"answer_id":75177910,"question_id":75177438,"body_markdown":"Split your input at each comma followed by a new line `,\\n` and stream over the resulting array, remove `[` and `]`, map to stream by spliting at comma and space `\\\\s*,\\\\s*` and streaming over the resulting array, parse the elements of the stream to int and collect each sub stream to array, and finally collect the arrays to a 2d-array.\r\n\r\n    int[][] result = Arrays.stream(mat.split(&quot;,\\n&quot;))\r\n                           .map(str -&gt; str.replaceAll(&quot;\\\\[|\\\\]&quot;,&quot;&quot;))\r\n                           .map(str -&gt; Arrays.stream(str.split(&quot;\\\\s*,\\\\s*&quot;)))\r\n                           .map(arr -&gt; arr.mapToInt(Integer::parseInt).toArray())\r\n                           .toArray(int[][]::new);","title":"Java converting string to 2d int array","body":"<p>Split your input at each comma followed by a new line <code>,\\n</code> and stream over the resulting array, remove <code>[</code> and <code>]</code>, map to stream by spliting at comma and space <code>\\\\s*,\\\\s*</code> and streaming over the resulting array, parse the elements of the stream to int and collect each sub stream to array, and finally collect the arrays to a 2d-array.</p>\n<pre><code>int[][] result = Arrays.stream(mat.split(&quot;,\\n&quot;))\n                       .map(str -&gt; str.replaceAll(&quot;\\\\[|\\\\]&quot;,&quot;&quot;))\n                       .map(str -&gt; Arrays.stream(str.split(&quot;\\\\s*,\\\\s*&quot;)))\n                       .map(arr -&gt; arr.mapToInt(Integer::parseInt).toArray())\n                       .toArray(int[][]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1674223097,"creation_date":1674161353,"answer_id":75178135,"question_id":75177438,"body_markdown":"If you want to parse a string containing a delimited list of integers arrays, you can try one of two ways:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class MatrixParse {\r\n    public static void main(String args[]) {\r\n        String sampleMatrix = &quot;[0, 10, 0, 5, 4],\\n&quot; +\r\n            &quot;[1, 3, 10, 2, 8],\\n&quot; +\r\n            &quot;[1, 8, 1, 6, 3],\\n&quot; +\r\n            &quot;[4, 10, 2, 3, 5],\\n&quot; +\r\n            &quot;[9, 0, 9, 1, 0]&quot;;\r\n        \r\n        System.out.println(Arrays.deepToString(parseWithStream(sampleMatrix)));\r\n        System.out.println(Arrays.deepToString(parseTraditional(sampleMatrix)));\r\n    }\r\n    \r\n    // JDK 1.8 and higher\r\n    static int[][] parseWithStream(String matrix) {\r\n        return Arrays.stream(matrix.split(&quot;,\\n&quot;))\r\n            .map(str -&gt; Arrays\r\n                .stream(str.replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;)\r\n                    .split(&quot;\\\\s*,\\\\s*&quot;))\r\n                    .mapToInt(Integer::parseInt)\r\n                .toArray())\r\n            .toArray(int[][]::new);\r\n    }\r\n    \r\n    // JDK 1.7 and lower\r\n    static int[][] parseTraditional(String matrix) {\r\n        String[] tokens = matrix.split(&quot;,\\n&quot;);\r\n        int[][] result = new int[tokens.length][];\r\n        for (int i = 0; i &lt; tokens.length; i++) {\r\n            String[] subTokens = tokens[i].replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;).split(&quot;\\\\s*,\\\\s*&quot;);\r\n            result[i] = new int[subTokens.length];\r\n            for (int j = 0; j &lt; subTokens.length; j++) {\r\n                result[i][j] = Integer.parseInt(subTokens[j], 10);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n## Result\r\n\r\n```\r\n[[0, 10, 0, 5, 4], [1, 3, 10, 2, 8], [1, 8, 1, 6, 3], [4, 10, 2, 3, 5], [9, 0, 9, 1, 0]]\r\n[[0, 10, 0, 5, 4], [1, 3, 10, 2, 8], [1, 8, 1, 6, 3], [4, 10, 2, 3, 5], [9, 0, 9, 1, 0]]\r\n```","title":"Java converting string to 2d int array","body":"<p>If you want to parse a string containing a delimited list of integers arrays, you can try one of two ways:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class MatrixParse {\n    public static void main(String args[]) {\n        String sampleMatrix = &quot;[0, 10, 0, 5, 4],\\n&quot; +\n            &quot;[1, 3, 10, 2, 8],\\n&quot; +\n            &quot;[1, 8, 1, 6, 3],\\n&quot; +\n            &quot;[4, 10, 2, 3, 5],\\n&quot; +\n            &quot;[9, 0, 9, 1, 0]&quot;;\n        \n        System.out.println(Arrays.deepToString(parseWithStream(sampleMatrix)));\n        System.out.println(Arrays.deepToString(parseTraditional(sampleMatrix)));\n    }\n    \n    // JDK 1.8 and higher\n    static int[][] parseWithStream(String matrix) {\n        return Arrays.stream(matrix.split(&quot;,\\n&quot;))\n            .map(str -&gt; Arrays\n                .stream(str.replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;)\n                    .split(&quot;\\\\s*,\\\\s*&quot;))\n                    .mapToInt(Integer::parseInt)\n                .toArray())\n            .toArray(int[][]::new);\n    }\n    \n    // JDK 1.7 and lower\n    static int[][] parseTraditional(String matrix) {\n        String[] tokens = matrix.split(&quot;,\\n&quot;);\n        int[][] result = new int[tokens.length][];\n        for (int i = 0; i &lt; tokens.length; i++) {\n            String[] subTokens = tokens[i].replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;).split(&quot;\\\\s*,\\\\s*&quot;);\n            result[i] = new int[subTokens.length];\n            for (int j = 0; j &lt; subTokens.length; j++) {\n                result[i][j] = Integer.parseInt(subTokens[j], 10);\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n<h2>Result</h2>\n<pre><code>[[0, 10, 0, 5, 4], [1, 3, 10, 2, 8], [1, 8, 1, 6, 3], [4, 10, 2, 3, 5], [9, 0, 9, 1, 0]]\n[[0, 10, 0, 5, 4], [1, 3, 10, 2, 8], [1, 8, 1, 6, 3], [4, 10, 2, 3, 5], [9, 0, 9, 1, 0]]\n</code></pre>\n"}],"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":6,"up_vote_count":5,"closed_date":1674162441,"accepted_answer_id":75178135,"answer_count":3,"score":-1,"last_activity_date":1674223097,"creation_date":1674157072,"question_id":75177438,"body_markdown":"I have string represention of 2d array i like to convert it to 2d int array \r\nThe method i found is cumbersome , what is the best way to do it ?\r\nThis is my method :\r\n```\r\nprivate static int[][] convertMatrix() {\r\n\r\n        String mat = &quot;[0, 10, 0, 5, 4],\\n&quot; +\r\n                &quot;[1, 3, 10, 2, 8],\\n&quot; +\r\n                &quot;[1, 8, 1, 6, 3],\\n&quot; +\r\n                &quot;[4, 10, 2, 3, 5],\\n&quot; +\r\n                &quot;[9, 0, 9, 1, 0]&quot;;\r\n\r\n        mat = mat.trim().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).replaceAll(&quot;(?:\\\\n|\\\\r)&quot;, &quot;&quot;);;\r\n        String[] matarr = mat.split(&quot;],&quot;);\r\n        int[][] matrix = new int[5][5];\r\n        for(int i = 0;i&lt;matarr.length-1;i++) {\r\n            String lineofnumbers = matarr[i].replace(&quot;[&quot;,&quot;&quot;);\r\n            String[] lineofnumArr = lineofnumbers.split(&quot;,&quot;);\r\n            int[] tmp = new int[lineofnumArr.length];\r\n            for(int ii = 0 ; ii &lt; lineofnumArr.length;ii++)\r\n            {\r\n                tmp[ii] = Integer.parseInt(lineofnumArr[ii]);\r\n                //tmp[ii] = ;\r\n            }\r\n            matrix[i] = tmp;\r\n        }\r\n \r\n        return matrix;\r\n    }\r\n\r\n```\r\ni have only java 1.8 support \r\nhow can i convert it to version with streams   \r\nand version without streams magic ?\r\n","title":"Java converting string to 2d int array","body":"<p>I have string represention of 2d array i like to convert it to 2d int array\nThe method i found is cumbersome , what is the best way to do it ?\nThis is my method :</p>\n<pre><code>private static int[][] convertMatrix() {\n\n        String mat = &quot;[0, 10, 0, 5, 4],\\n&quot; +\n                &quot;[1, 3, 10, 2, 8],\\n&quot; +\n                &quot;[1, 8, 1, 6, 3],\\n&quot; +\n                &quot;[4, 10, 2, 3, 5],\\n&quot; +\n                &quot;[9, 0, 9, 1, 0]&quot;;\n\n        mat = mat.trim().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).replaceAll(&quot;(?:\\\\n|\\\\r)&quot;, &quot;&quot;);;\n        String[] matarr = mat.split(&quot;],&quot;);\n        int[][] matrix = new int[5][5];\n        for(int i = 0;i&lt;matarr.length-1;i++) {\n            String lineofnumbers = matarr[i].replace(&quot;[&quot;,&quot;&quot;);\n            String[] lineofnumArr = lineofnumbers.split(&quot;,&quot;);\n            int[] tmp = new int[lineofnumArr.length];\n            for(int ii = 0 ; ii &lt; lineofnumArr.length;ii++)\n            {\n                tmp[ii] = Integer.parseInt(lineofnumArr[ii]);\n                //tmp[ii] = ;\n            }\n            matrix[i] = tmp;\n        }\n \n        return matrix;\n    }\n\n</code></pre>\n<p>i have only java 1.8 support\nhow can i convert it to version with streams<br />\nand version without streams magic ?</p>\n"},{"tags":["java","angular","sap-commerce-cloud","spartacus-storefront"],"answers":[{"tags":[],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673424243,"creation_date":1673424243,"answer_id":75079907,"question_id":75079493,"body_markdown":"The version is listed in `package.json`","title":"How to know the current Spartacus version?","body":"<p>The version is listed in <code>package.json</code></p>\n"},{"tags":[],"owner":{"account_id":146003,"reputation":461,"user_id":1466111,"accept_rate":25,"display_name":"Santosh Kori"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674223021,"creation_date":1674223021,"answer_id":75184976,"question_id":75079493,"body_markdown":"You can look for @spartacus/schematics version in your package.json\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nOr If you want to latest Spartacus version from SAP hybris\r\nhttps://github.com/SAP/spartacus/releases\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sQdva.jpg\r\n  [2]: https://i.stack.imgur.com/yGeBy.jpg\r\n  [3]: https://i.stack.imgur.com/Z7KDc.jpg","title":"How to know the current Spartacus version?","body":"<p>You can look for @spartacus/schematics version in your package.json</p>\n<p><a href=\"https://i.stack.imgur.com/sQdva.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQdva.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Or If you want to latest Spartacus version from SAP hybris\n<a href=\"https://github.com/SAP/spartacus/releases\" rel=\"nofollow noreferrer\">https://github.com/SAP/spartacus/releases</a></p>\n<p><a href=\"https://i.stack.imgur.com/yGeBy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yGeBy.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Z7KDc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z7KDc.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674223021,"creation_date":1673421518,"question_id":75079493,"body_markdown":"How can I see what the current Spartacus version is. I am using Spartacus with Hybris.","title":"How to know the current Spartacus version?","body":"<p>How can I see what the current Spartacus version is. I am using Spartacus with Hybris.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":15126163,"reputation":2731,"user_id":10915384,"display_name":"Kunal Vohra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1592566305,"creation_date":1592566305,"answer_id":62469348,"question_id":62468001,"body_markdown":"\r\nWhat you really need to do is to set the log level on the console log handler (which is responsible for printing all log messages to the console). However doing this whilst using `BasicConfigurator` will be quite tricky to do, you are better off moving to having your logging configuration specified in a properties file (which is much more flexible).\r\n\r\nI would advise working through the [log4j logging configuration tutorial][1] - this will help you put together exactly the configuration you want, and should prove a worthwhile investment of your time. However, if you want to get this done quickly, try adding the content below to the file `log4j.properties` ([example taken from here][2]):\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=INFO, stdout\r\n \r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\nAnd then changing your code to do the following:\r\n\r\n    Properties props = new Properties();\r\n    props.load(new FileInputStream(&quot;/my/path/to/log4j.properties&quot;));\r\n    PropertyConfigurator.configure(props);\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/manual.html\r\n  [2]: http://www.mkyong.com/logging/log4j-log4j-properties-examples/","title":"How to hide unessesary Selenium debug messages from console in java","body":"<p>What you really need to do is to set the log level on the console log handler (which is responsible for printing all log messages to the console). However doing this whilst using <code>BasicConfigurator</code> will be quite tricky to do, you are better off moving to having your logging configuration specified in a properties file (which is much more flexible).</p>\n\n<p>I would advise working through the <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"nofollow noreferrer\">log4j logging configuration tutorial</a> - this will help you put together exactly the configuration you want, and should prove a worthwhile investment of your time. However, if you want to get this done quickly, try adding the content below to the file <code>log4j.properties</code> (<a href=\"http://www.mkyong.com/logging/log4j-log4j-properties-examples/\" rel=\"nofollow noreferrer\">example taken from here</a>):</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, stdout\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n\n<p>And then changing your code to do the following:</p>\n\n<pre><code>Properties props = new Properties();\nprops.load(new FileInputStream(\"/my/path/to/log4j.properties\"));\nPropertyConfigurator.configure(props);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4650637,"reputation":435,"user_id":3767634,"accept_rate":38,"display_name":"Josh Britton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674223012,"creation_date":1674223012,"answer_id":75184973,"question_id":62468001,"body_markdown":"For anyone with a similar request but using log4j, you could also use code to set up logging. The following removes the verbose netty debug messages:\r\n\r\n        BasicConfigurator.resetConfiguration();\r\n        Logger.getRootLogger().setLevel(Level.INFO);\r\n        String pattern = &quot;%p: %m %n&quot;;\r\n        BasicConfigurator.configure(new ConsoleAppender(new PatternLayout(pattern)));","title":"How to hide unessesary Selenium debug messages from console in java","body":"<p>For anyone with a similar request but using log4j, you could also use code to set up logging. The following removes the verbose netty debug messages:</p>\n<pre><code>    BasicConfigurator.resetConfiguration();\n    Logger.getRootLogger().setLevel(Level.INFO);\n    String pattern = &quot;%p: %m %n&quot;;\n    BasicConfigurator.configure(new ConsoleAppender(new PatternLayout(pattern)));\n</code></pre>\n"}],"owner":{"account_id":18866792,"reputation":23,"user_id":13762348,"display_name":"CSKR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1997,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62469348,"answer_count":2,"score":0,"last_activity_date":1674223012,"creation_date":1592561521,"question_id":62468001,"body_markdown":"I&#39;m using Intellij with jdk 14 to build a seleninum test. I just want the console output as test report, result or error. I&#39;ve tried many ways found on google or stackoverflow such as setting the loglevel, grep console but these messages still appear. Is there any way to resolve this issue? Here is the output:\r\n\r\n    16:44:14.551 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n    16:44:14.559 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled\r\n    16:44:14.560 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0\r\n    16:44:14.560 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n    Starting ChromeDriver 83.0.4103.39 (ccbf011cb2d2b19b506d844400483861342c20cd-refs/branch-heads/4103@{#416}) on port 7431\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    16:44:15.681 [Forwarding newSession on session null to remote] DEBUG io.netty.channel.DefaultChannelId - -Dio.netty.processId: 17484 (auto-detected)\r\n    16:44:15.683 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false\r\n    16:44:15.683 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false\r\n    16:44:15.689 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - Loopback interface: lo (Software Loopback Interface 1, 127.0.0.1)\r\n    16:44:15.689 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file \\proc\\sys\\net\\core\\somaxconn. Default: 200\r\n    16:44:15.696 [Forwarding newSession on session null to remote] DEBUG io.netty.channel.DefaultChannelId - -Dio.netty.machineId: fc:aa:14:ff:fe:e6:1d:11 (auto-detected)\r\n    16:44:15.758 [AsyncHttpClient-3-1] DEBUG io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true\r\n    16:44:15.758 [AsyncHttpClient-3-1] DEBUG io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true\r\n    16:44:15.759 [AsyncHttpClient-3-1] DEBUG io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3d005e97\r\n    16:44:15.777 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.channel.NettyConnectListener - Using new Channel &#39;[id: 0x09b55496, L:/127.0.0.1:54163 - R:localhost/127.0.0.1:7431]&#39; for &#39;POST&#39; to &#39;/session&#39;\r\n    16:44:15.829 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n    16:44:15.829 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n    16:44:15.829 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.linkCapacity: 16\r\n    16:44:15.830 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8\r\n    16:44:20.511 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.handler.HttpHandler - \r\n    \r\n    Request DefaultHttpRequest(decodeResult: success, version: HTTP/1.1)\r\n    POST /session HTTP/1.1\r\n    User-Agent: selenium/4.0.0-alpha-6 (java windows)\r\n    Content-Length: 365\r\n    Content-Type: application/json; charset=utf-8\r\n    host: localhost:7431\r\n    accept: */*","title":"How to hide unessesary Selenium debug messages from console in java","body":"<p>I'm using Intellij with jdk 14 to build a seleninum test. I just want the console output as test report, result or error. I've tried many ways found on google or stackoverflow such as setting the loglevel, grep console but these messages still appear. Is there any way to resolve this issue? Here is the output:</p>\n\n<pre><code>16:44:14.551 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\n16:44:14.559 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled\n16:44:14.560 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0\n16:44:14.560 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384\nStarting ChromeDriver 83.0.4103.39 (ccbf011cb2d2b19b506d844400483861342c20cd-refs/branch-heads/4103@{#416}) on port 7431\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n16:44:15.681 [Forwarding newSession on session null to remote] DEBUG io.netty.channel.DefaultChannelId - -Dio.netty.processId: 17484 (auto-detected)\n16:44:15.683 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false\n16:44:15.683 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false\n16:44:15.689 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - Loopback interface: lo (Software Loopback Interface 1, 127.0.0.1)\n16:44:15.689 [Forwarding newSession on session null to remote] DEBUG io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file \\proc\\sys\\net\\core\\somaxconn. Default: 200\n16:44:15.696 [Forwarding newSession on session null to remote] DEBUG io.netty.channel.DefaultChannelId - -Dio.netty.machineId: fc:aa:14:ff:fe:e6:1d:11 (auto-detected)\n16:44:15.758 [AsyncHttpClient-3-1] DEBUG io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true\n16:44:15.758 [AsyncHttpClient-3-1] DEBUG io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true\n16:44:15.759 [AsyncHttpClient-3-1] DEBUG io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3d005e97\n16:44:15.777 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.channel.NettyConnectListener - Using new Channel '[id: 0x09b55496, L:/127.0.0.1:54163 - R:localhost/127.0.0.1:7431]' for 'POST' to '/session'\n16:44:15.829 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096\n16:44:15.829 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n16:44:15.829 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.linkCapacity: 16\n16:44:15.830 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8\n16:44:20.511 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.handler.HttpHandler - \n\nRequest DefaultHttpRequest(decodeResult: success, version: HTTP/1.1)\nPOST /session HTTP/1.1\nUser-Agent: selenium/4.0.0-alpha-6 (java windows)\nContent-Length: 365\nContent-Type: application/json; charset=utf-8\nhost: localhost:7431\naccept: */*\n</code></pre>\n"},{"tags":["java","oracle","hibernate","orm","batch-insert"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1486040506,"post_id":42002249,"comment_id":71182020,"body_markdown":"add the transactional method code after refactor","body":"add the transactional method code after refactor"},{"owner":{"account_id":1907886,"reputation":2022,"user_id":1722380,"accept_rate":56,"display_name":"Łukasz"},"score":1,"creation_date":1486040953,"post_id":42002249,"comment_id":71182296,"body_markdown":"I am afraid I don&#39;t understand.","body":"I am afraid I don&#39;t understand."}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486041374,"creation_date":1486041374,"answer_id":42003228,"question_id":42002249,"body_markdown":"To check what is actually flushed to the database then configure your logging properties as follows:\r\n\r\n    log4j.rootLogger=info, stdout\r\n    # basic log level for all messages\r\n    log4j.logger.org.hibernate=debug\r\n    \r\n    # SQL statements and parameters\r\n    log4j.logger.org.hibernate.SQL=debug\r\n    log4j.logger.org.hibernate.type.descriptor.sql=trace\r\n\r\nand add this to your hibernate.cfg.xml\r\n\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\nThen you can see what is actually sent to the db..\r\n\r\nWith batch you should have output like:\r\n\r\n    insert into Pojo (id , titel) values (1, &#39;val1&#39;) , (2, &#39;val2&#39;) ,(3, &#39;val3&#39;)\r\n\r\nAdditionally here is a good post that has some tips about how to most efficiently take advantage of the batch processing: [article][1]\r\n\r\nFor example you might consider flushing after every ${jdbc.batch_size} saves.\r\n\r\n    Transaction tx = session.beginTransaction();\r\n    for ( int i=0; i&lt;100000; i++ ) {\r\n        Customer customer = new Customer(.....);\r\n        Cart cart = new Cart(...);\r\n        customer.setCart(cart) // note we are adding the cart to the customer, so this object \r\n         // needs to be persisted as well\r\n        session.save(customer);\r\n        if ( i % 20 == 0 ) { //20, same as the JDBC batch size\r\n            //flush a batch of inserts and release memory:\r\n            session.flush();\r\n            session.clear();\r\n        }\r\n    }\r\n    tx.commit();\r\n\r\n\r\n  [1]: https://abramsm.wordpress.com/2008/04/23/hibernate-batch-processing-why-you-may-not-be-using-it-even-if-you-think-you-are/","title":"Hibernate - how to verify if batch insert is really performed","body":"<p>To check what is actually flushed to the database then configure your logging properties as follows:</p>\n\n<pre><code>log4j.rootLogger=info, stdout\n# basic log level for all messages\nlog4j.logger.org.hibernate=debug\n\n# SQL statements and parameters\nlog4j.logger.org.hibernate.SQL=debug\nlog4j.logger.org.hibernate.type.descriptor.sql=trace\n</code></pre>\n\n<p>and add this to your hibernate.cfg.xml</p>\n\n<pre><code>&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>Then you can see what is actually sent to the db..</p>\n\n<p>With batch you should have output like:</p>\n\n<pre><code>insert into Pojo (id , titel) values (1, 'val1') , (2, 'val2') ,(3, 'val3')\n</code></pre>\n\n<p>Additionally here is a good post that has some tips about how to most efficiently take advantage of the batch processing: <a href=\"https://abramsm.wordpress.com/2008/04/23/hibernate-batch-processing-why-you-may-not-be-using-it-even-if-you-think-you-are/\" rel=\"nofollow noreferrer\">article</a></p>\n\n<p>For example you might consider flushing after every ${jdbc.batch_size} saves.</p>\n\n<pre><code>Transaction tx = session.beginTransaction();\nfor ( int i=0; i&lt;100000; i++ ) {\n    Customer customer = new Customer(.....);\n    Cart cart = new Cart(...);\n    customer.setCart(cart) // note we are adding the cart to the customer, so this object \n     // needs to be persisted as well\n    session.save(customer);\n    if ( i % 20 == 0 ) { //20, same as the JDBC batch size\n        //flush a batch of inserts and release memory:\n        session.flush();\n        session.clear();\n    }\n}\ntx.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1519144742,"creation_date":1519144742,"answer_id":48890053,"question_id":42002249,"body_markdown":"You need to add &quot;BatchingBatch&quot; logger to your logging provider.\r\n\r\n    org.hibernate.engine.jdbc.batch.internal.BatchingBatch\r\n\r\nThan you will be able to see in the logs something like:\r\n\r\n    2018-02-20 17:33:41.279 DEBUG 6280 --- [           main] o.h.e.jdbc.batch.internal.BatchingBatch  : Executing batch size: 19\r\n\r\nUnless you see this message,batching is not working.\r\n\r\nTested with Hibernate Version:5.2.12","title":"Hibernate - how to verify if batch insert is really performed","body":"<p>You need to add \"BatchingBatch\" logger to your logging provider.</p>\n\n<pre><code>org.hibernate.engine.jdbc.batch.internal.BatchingBatch\n</code></pre>\n\n<p>Than you will be able to see in the logs something like:</p>\n\n<pre><code>2018-02-20 17:33:41.279 DEBUG 6280 --- [           main] o.h.e.jdbc.batch.internal.BatchingBatch  : Executing batch size: 19\n</code></pre>\n\n<p>Unless you see this message,batching is not working.</p>\n\n<p>Tested with Hibernate Version:5.2.12</p>\n"},{"tags":[],"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674222940,"creation_date":1674222940,"answer_id":75184960,"question_id":42002249,"body_markdown":"In spring boot application.yml I&#39;ve added the rows below to see if batching is working\r\n\r\n    logging:\r\n      level:\r\n        org.hibernate:\r\n          engine.jdbc.batch.internal.BatchingBatch: DEBUG\r\n\r\nAs result I see such rows in logs\r\n\r\n    org.jboss.logging.DelegatingBasicLogger: Executing batch size: 30","title":"Hibernate - how to verify if batch insert is really performed","body":"<p>In spring boot application.yml I've added the rows below to see if batching is working</p>\n<pre><code>logging:\n  level:\n    org.hibernate:\n      engine.jdbc.batch.internal.BatchingBatch: DEBUG\n</code></pre>\n<p>As result I see such rows in logs</p>\n<pre><code>org.jboss.logging.DelegatingBasicLogger: Executing batch size: 30\n</code></pre>\n"}],"owner":{"account_id":1907886,"reputation":2022,"user_id":1722380,"accept_rate":56,"display_name":"Łukasz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12879,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1674222940,"creation_date":1486038334,"question_id":42002249,"body_markdown":"Technology stack: Oracle database 11.2.0.2, Java 1.6, Hibernate 3.6.6.Final.\r\n\r\nI am new to hibernate, apologize if this is trivial.\r\n\r\nThe following code was supposed to put some optimization:\r\n\r\n    Transaction tx = session.beginTransaction();\r\n    for (int i = 0; i &lt; 10; i++) {\r\n       POJO pojo = new POJO(i);\r\n       session.save(pojo);\r\n    }\r\n    tx.commit();\r\n\r\n`hibernate.cfg.xml` has the following entry\r\n\r\n    &lt;property name=&quot;jdbc.batch_size&quot;&gt;500&lt;/property&gt;\r\n\r\nHow can I verify, if hibernate really batches all these inserts? If it performs 10 inserts than there is no gain.\r\nOne idea is to put the jdbc plain query right after `save()` that checks if the record was added to db:\r\n\r\n    String query = &quot;retrieve previously added element&quot;\r\n    PreparedStatement stmt = session.connection().prepareStatement(query.toString());\r\n    Result rs = statement.executeQuery();\r\n    /** check contents of rs */\r\n\r\nIn my case it returns a non empty set with previously added element. Does it mean anything? How else can I check if batching works.\r\n\r\nthanks in advance\r\n\r\n","title":"Hibernate - how to verify if batch insert is really performed","body":"<p>Technology stack: Oracle database 11.2.0.2, Java 1.6, Hibernate 3.6.6.Final.</p>\n\n<p>I am new to hibernate, apologize if this is trivial.</p>\n\n<p>The following code was supposed to put some optimization:</p>\n\n<pre><code>Transaction tx = session.beginTransaction();\nfor (int i = 0; i &lt; 10; i++) {\n   POJO pojo = new POJO(i);\n   session.save(pojo);\n}\ntx.commit();\n</code></pre>\n\n<p><code>hibernate.cfg.xml</code> has the following entry</p>\n\n<pre><code>&lt;property name=\"jdbc.batch_size\"&gt;500&lt;/property&gt;\n</code></pre>\n\n<p>How can I verify, if hibernate really batches all these inserts? If it performs 10 inserts than there is no gain.\nOne idea is to put the jdbc plain query right after <code>save()</code> that checks if the record was added to db:</p>\n\n<pre><code>String query = \"retrieve previously added element\"\nPreparedStatement stmt = session.connection().prepareStatement(query.toString());\nResult rs = statement.executeQuery();\n/** check contents of rs */\n</code></pre>\n\n<p>In my case it returns a non empty set with previously added element. Does it mean anything? How else can I check if batching works.</p>\n\n<p>thanks in advance</p>\n"},{"tags":["java","stream","bufferedinputstream"],"comments":[{"owner":{"account_id":8436692,"reputation":209,"user_id":6330649,"accept_rate":22,"display_name":"sarath kumar"},"score":0,"creation_date":1487826749,"post_id":42389245,"comment_id":71961601,"body_markdown":"when I&#39;m calling the reset(), it does not thrown any exception to me. As per documentation, mark should be invalid after I have read the second byte since I have set the mark limit to 1 but it is not. So what is the purpose of this mark()?","body":"when I&#39;m calling the reset(), it does not thrown any exception to me. As per documentation, mark should be invalid after I have read the second byte since I have set the mark limit to 1 but it is not. So what is the purpose of this mark()?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1488523282,"post_id":42389245,"comment_id":72277838,"body_markdown":"Use quote formatting for text that is quoted. And please lay off the boldface. It hurts our eyes.","body":"Use quote formatting for text that is quoted. And please lay off the boldface. It hurts our eyes."}],"answers":[{"tags":[],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487838377,"creation_date":1487767634,"answer_id":42391929,"question_id":42389245,"body_markdown":"In order for reset to work and go back to the position you marked, the data that was read after you marked needs to be buffered in memory. The value you specify when marking is the amount of memory that should be reserved for this. \r\n\r\nSo if you intend to read 100 bytes before calling reset, then your buffer needs to be atleast 100 bytes, and so that is what you have to call mark with.\r\n\r\n    bufferedInputStream.mark(200);\r\n    \r\n    ... read no more than 200 bytes ...\r\n\r\n    bufferedInputStream.reset();  // reset back to marked position\r\n\r\n**Update**\r\n\r\nIt looks like the documentation for `mark` is not matching the actual behaviour.   The documentation states:\r\n\r\n    the maximum limit of bytes that can be read before the mark position becomes invalid\r\n\r\nHowever, it looks like it should be `the minimum limit`, or at the very least the underlying implementations are not required to discard the mark as soon as the read limit is exceeded if they can still support resetting to the marked position.","title":"what is the use of mark read limit in bufferedinputstream","body":"<p>In order for reset to work and go back to the position you marked, the data that was read after you marked needs to be buffered in memory. The value you specify when marking is the amount of memory that should be reserved for this. </p>\n\n<p>So if you intend to read 100 bytes before calling reset, then your buffer needs to be atleast 100 bytes, and so that is what you have to call mark with.</p>\n\n<pre><code>bufferedInputStream.mark(200);\n\n... read no more than 200 bytes ...\n\nbufferedInputStream.reset();  // reset back to marked position\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>It looks like the documentation for <code>mark</code> is not matching the actual behaviour.   The documentation states:</p>\n\n<pre><code>the maximum limit of bytes that can be read before the mark position becomes invalid\n</code></pre>\n\n<p>However, it looks like it should be <code>the minimum limit</code>, or at the very least the underlying implementations are not required to discard the mark as soon as the read limit is exceeded if they can still support resetting to the marked position.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487840578,"creation_date":1487840578,"answer_id":42411190,"question_id":42389245,"body_markdown":"By calling `mark` with a specified limit, you are requesting the capability to support resetting after reading up to the specified limit, you are not denying a capability beyond that. [The specification](https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#mark-int-) clearly says:\r\n\r\n&gt; However, the stream is not required to remember any data at all if more than `readlimit` bytes are read from the stream before `reset` is called.\r\n\r\n“is not required to” does not imply “is not allowed to”. The specification simply states what you can not expect to always work, it doesn’t state what you can expect to always fail.\r\n\r\nIn the case of `BufferedInputStream`, it’s easy to explain what happens under the hood. Each `BufferedInputStream` has a capacity, the [default](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/BufferedInputStream.java#53) is 8192, and it always can reset past as many bytes as its current buffer capacity. By specifying a higher limit, you will cause it to allocate a larger buffer *when needed*, to fulfill the guaranty.\r\n\r\nSince you can’t query a stream for its current buffer capacity, you can only rely on the guaranty that reset works as long as you don’t read more bytes than the specified limit.\r\n\r\nIt’s easy to change your example to make it fail reproducible:\r\n\r\n    File resource = new File(&quot;beforeFix.txt&quot;);          \r\n    FileInputStream fileInputStream = new FileInputStream(resource);\r\n    BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream, 1);\r\n    int i = bufferedInputStream.read();\r\n    bufferedInputStream.mark(1);\r\n    i = bufferedInputStream.read();\r\n    i = bufferedInputStream.read();\r\n    bufferedInputStream.reset(); // will fail\r\n","title":"what is the use of mark read limit in bufferedinputstream","body":"<p>By calling <code>mark</code> with a specified limit, you are requesting the capability to support resetting after reading up to the specified limit, you are not denying a capability beyond that. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#mark-int-\" rel=\"nofollow noreferrer\">The specification</a> clearly says:</p>\n\n<blockquote>\n  <p>However, the stream is not required to remember any data at all if more than <code>readlimit</code> bytes are read from the stream before <code>reset</code> is called.</p>\n</blockquote>\n\n<p>“is not required to” does not imply “is not allowed to”. The specification simply states what you can not expect to always work, it doesn’t state what you can expect to always fail.</p>\n\n<p>In the case of <code>BufferedInputStream</code>, it’s easy to explain what happens under the hood. Each <code>BufferedInputStream</code> has a capacity, the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/BufferedInputStream.java#53\" rel=\"nofollow noreferrer\">default</a> is 8192, and it always can reset past as many bytes as its current buffer capacity. By specifying a higher limit, you will cause it to allocate a larger buffer <em>when needed</em>, to fulfill the guaranty.</p>\n\n<p>Since you can’t query a stream for its current buffer capacity, you can only rely on the guaranty that reset works as long as you don’t read more bytes than the specified limit.</p>\n\n<p>It’s easy to change your example to make it fail reproducible:</p>\n\n<pre><code>File resource = new File(\"beforeFix.txt\");          \nFileInputStream fileInputStream = new FileInputStream(resource);\nBufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream, 1);\nint i = bufferedInputStream.read();\nbufferedInputStream.mark(1);\ni = bufferedInputStream.read();\ni = bufferedInputStream.read();\nbufferedInputStream.reset(); // will fail\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13498135,"reputation":21,"user_id":9738305,"display_name":"Shirshendu Deb Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594550720,"creation_date":1594502461,"answer_id":62854728,"question_id":42389245,"body_markdown":"Please read the below documentation to better understand it. I had the same doubt as you and then decided to read about it in detail.\r\n\r\n 1. If the method mark has not been called since the stream was created, or the number of bytes read from the stream since the mark was last called is larger than the argument to mark at that last call, then an IOException might be thrown.\r\n 2. If such an IOException is not thrown, then the stream is reset to a state such that all the bytes read since the most recent call to mark (or since the start of the file, if the mark has not been called) will be resupplied to subsequent callers of the read method, followed by any bytes that otherwise would have been the next input data as of the time of the call to reset.\r\n\r\nFrom the first point, it is now very much clear that an IOException is not guaranteed to be thrown. So, if you are reading more than the allowed number of bytes (the specified argument of mark method) after calling the mark method, then it&#39;s a risky operation and not recommended. \r\n\r\nFrom the second point, you can understand what happens if IOException is not thrown. \r\n\r\nThe link to the documentation: https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#reset--\r\n","title":"what is the use of mark read limit in bufferedinputstream","body":"<p>Please read the below documentation to better understand it. I had the same doubt as you and then decided to read about it in detail.</p>\n<ol>\n<li>If the method mark has not been called since the stream was created, or the number of bytes read from the stream since the mark was last called is larger than the argument to mark at that last call, then an IOException might be thrown.</li>\n<li>If such an IOException is not thrown, then the stream is reset to a state such that all the bytes read since the most recent call to mark (or since the start of the file, if the mark has not been called) will be resupplied to subsequent callers of the read method, followed by any bytes that otherwise would have been the next input data as of the time of the call to reset.</li>\n</ol>\n<p>From the first point, it is now very much clear that an IOException is not guaranteed to be thrown. So, if you are reading more than the allowed number of bytes (the specified argument of mark method) after calling the mark method, then it's a risky operation and not recommended.</p>\n<p>From the second point, you can understand what happens if IOException is not thrown.</p>\n<p>The link to the documentation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#reset--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#reset--</a></p>\n"},{"tags":[],"owner":{"account_id":13873903,"reputation":312,"user_id":11887107,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610477965,"creation_date":1610477965,"answer_id":65690302,"question_id":42389245,"body_markdown":"```java\r\nimport java.io.BufferedInputStream;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    \r\n    static final String fileAbsolutePath = &quot;file.txt&quot;;\r\n    \r\n    public static void main(String[] args) {\r\n        // file contains 3 chars &#39;a&#39;, &#39;b&#39;, and &#39;c&#39;\r\n        try (FileInputStream fileInputStream = new FileInputStream(fileAbsolutePath);\r\n             BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream)) {\r\n            \r\n            System.out.println((char) bufferedInputStream.read()); // prints a\r\n            bufferedInputStream.mark(2);   // place mark at second byte\r\n            System.out.println((char) bufferedInputStream.read()); // prints b\r\n            System.out.println((char) bufferedInputStream.read()); // prints c\r\n            System.out.println(bufferedInputStream.read()); // prints -1\r\n            \r\n            bufferedInputStream.reset();    // meaning start again from where I placed the mark\r\n            System.out.println((char) bufferedInputStream.read()); // prints b\r\n            System.out.println((char) bufferedInputStream.read()); // prints c\r\n            System.out.println( bufferedInputStream.read()); // prints -1\r\n    \r\n        } catch (IOException ie) { ie.printStackTrace();}\r\n    }\r\n}\r\n```","title":"what is the use of mark read limit in bufferedinputstream","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedInputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class Main {\n    \n    static final String fileAbsolutePath = &quot;file.txt&quot;;\n    \n    public static void main(String[] args) {\n        // file contains 3 chars 'a', 'b', and 'c'\n        try (FileInputStream fileInputStream = new FileInputStream(fileAbsolutePath);\n             BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream)) {\n            \n            System.out.println((char) bufferedInputStream.read()); // prints a\n            bufferedInputStream.mark(2);   // place mark at second byte\n            System.out.println((char) bufferedInputStream.read()); // prints b\n            System.out.println((char) bufferedInputStream.read()); // prints c\n            System.out.println(bufferedInputStream.read()); // prints -1\n            \n            bufferedInputStream.reset();    // meaning start again from where I placed the mark\n            System.out.println((char) bufferedInputStream.read()); // prints b\n            System.out.println((char) bufferedInputStream.read()); // prints c\n            System.out.println( bufferedInputStream.read()); // prints -1\n    \n        } catch (IOException ie) { ie.printStackTrace();}\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27451148,"reputation":11,"user_id":20943379,"display_name":"axel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674222911,"creation_date":1674222911,"answer_id":75184950,"question_id":42389245,"body_markdown":"As the Oracle documentation says about reset() method of InputStream (which is override by FilterInputStream and further by BufferedInputStream).\r\n\r\nThe general contract of reset is:\r\n\r\n \r\n\r\n - The general contract of reset is: \r\n\r\n      -If the method markSupported returns true, then:\r\n\r\n          -If the method mark has not been called since the stream was created, or \r\n           the number of bytes read from the stream since mark was last called is \r\n           larger than the argument to mark at that last call, then an IOException \r\n           **might be** thrown.\r\n           (note that IOException might be thrown)\r\n      \r\n          -If such an IOException is not thrown, then the stream is reset to a state \r\n           such that all the bytes read since the most recent call to mark (or since \r\n           the start of the file, if mark has not been called) will be resupplied to \r\n           subsequent callers of the read method, followed by any bytes that \r\n           otherwise would have been the next input data as of the time of the call \r\n           to reset.\r\n\r\nI hope, your question is solved and help this for future programmers.","title":"what is the use of mark read limit in bufferedinputstream","body":"<p>As the Oracle documentation says about reset() method of InputStream (which is override by FilterInputStream and further by BufferedInputStream).</p>\n<p>The general contract of reset is:</p>\n<ul>\n<li><p>The general contract of reset is:</p>\n<p>-If the method markSupported returns true, then:</p>\n<pre><code>   -If the method mark has not been called since the stream was created, or \n    the number of bytes read from the stream since mark was last called is \n    larger than the argument to mark at that last call, then an IOException \n    **might be** thrown.\n    (note that IOException might be thrown)\n\n   -If such an IOException is not thrown, then the stream is reset to a state \n    such that all the bytes read since the most recent call to mark (or since \n    the start of the file, if mark has not been called) will be resupplied to \n    subsequent callers of the read method, followed by any bytes that \n    otherwise would have been the next input data as of the time of the call \n    to reset.\n</code></pre>\n</li>\n</ul>\n<p>I hope, your question is solved and help this for future programmers.</p>\n"}],"owner":{"account_id":8436692,"reputation":209,"user_id":6330649,"accept_rate":22,"display_name":"sarath kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7716,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1674222911,"creation_date":1487760958,"question_id":42389245,"body_markdown":"I&#39;m new to Java streams, I would like to read a specific files content then need to read it from the beginning. I have created a BufferedInputStream and i&#39;m confused about the documentation of BufferedInputStream.mark(int markLimit) \r\n\r\nDocumentation says:\r\n\r\n    public void mark(int readlimit)\r\n\r\n&gt; This method marks a position in the input to which the stream can be &quot;reset&quot; by calling the reset() method. The parameter readlimit is the number of bytes that can be read from the stream after setting the mark before the mark becomes invalid. For example, if mark() is called with a read limit of 10, then when 11 bytes of data are read from the stream before the reset() method is called, then the mark is invalid and the stream object instance is not required to remember the mark.\r\n\r\n&gt; Note that the number of bytes that can be remembered by this method can be greater than the size of the internal read buffer. It is also not dependent on the subordinate stream supporting mark/reset functionality.\r\n\r\n&gt; Overrides:\r\n&gt; mark in class FilterInputStream\r\n\r\n&gt; Parameters:\r\n&gt; readlimit - The number of bytes that can be read before the mark becomes invalid**\r\n\r\nMy code is:\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n            File resource = new File(&quot;beforeFix.txt&quot;);\t\t\t\r\n    \t\tFileInputStream fileInputStream = new FileInputStream(resource);\r\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);\r\n            int i = bufferedInputStream.read();\r\n    \t\tbufferedInputStream.mark(1);\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            bufferedInputStream.reset(); \r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            i = bufferedInputStream.read();\r\n            bufferedInputStream.reset();  \r\n    \t}\r\n    }\r\n\r\nIn the above code I have set the marklimit as 1 but the mark is not goes into invalid as per the documentation. \r\n\r\nCan anyone clearly explain me what is the actual purpose of setting this with small example?\r\n\r\nThanks in advance","title":"what is the use of mark read limit in bufferedinputstream","body":"<p>I'm new to Java streams, I would like to read a specific files content then need to read it from the beginning. I have created a BufferedInputStream and i'm confused about the documentation of BufferedInputStream.mark(int markLimit) </p>\n\n<p>Documentation says:</p>\n\n<pre><code>public void mark(int readlimit)\n</code></pre>\n\n<blockquote>\n  <p>This method marks a position in the input to which the stream can be \"reset\" by calling the reset() method. The parameter readlimit is the number of bytes that can be read from the stream after setting the mark before the mark becomes invalid. For example, if mark() is called with a read limit of 10, then when 11 bytes of data are read from the stream before the reset() method is called, then the mark is invalid and the stream object instance is not required to remember the mark.</p>\n  \n  <p>Note that the number of bytes that can be remembered by this method can be greater than the size of the internal read buffer. It is also not dependent on the subordinate stream supporting mark/reset functionality.</p>\n  \n  <p>Overrides:\n  mark in class FilterInputStream</p>\n  \n  <p>Parameters:\n  readlimit - The number of bytes that can be read before the mark becomes invalid**</p>\n</blockquote>\n\n<p>My code is:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) throws IOException {\n\n        File resource = new File(\"beforeFix.txt\");          \n        FileInputStream fileInputStream = new FileInputStream(resource);\n        BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);\n        int i = bufferedInputStream.read();\n        bufferedInputStream.mark(1);\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        bufferedInputStream.reset(); \n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        i = bufferedInputStream.read();\n        bufferedInputStream.reset();  \n    }\n}\n</code></pre>\n\n<p>In the above code I have set the marklimit as 1 but the mark is not goes into invalid as per the documentation. </p>\n\n<p>Can anyone clearly explain me what is the actual purpose of setting this with small example?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"score":0,"creation_date":1674178014,"post_id":75179512,"comment_id":132665122,"body_markdown":"Which part would you like to test? setResult and getMultiplier or two whole classes?","body":"Which part would you like to test? setResult and getMultiplier or two whole classes?"},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1674193390,"post_id":75179512,"comment_id":132665742,"body_markdown":"I am talking about testing setResult here, which calls getMultiplier.","body":"I am talking about testing setResult here, which calls getMultiplier."},{"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"score":1,"creation_date":1674196295,"post_id":75179512,"comment_id":132666213,"body_markdown":"If you just want to test setResult then you can mock Multiplier.","body":"If you just want to test setResult then you can mock Multiplier."}],"answers":[{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674222590,"creation_date":1674222590,"answer_id":75184880,"question_id":75179512,"body_markdown":"To test the `setResult` method, mocking the `Multiplier` is sufficient. \r\n\r\nThe methods `setResult` and `getMultiplier` are pretty straight forward in this case.\r\n\r\nBut let&#39;s consider a scenario where complex operations are involved:\r\n\r\n    public class A {\r\n        public int foo1() {\r\n            //some complex operations\r\n        }\r\n    }\r\n    public class B {\r\n        public int foo2() {\r\n            A a = new A();\r\n            int val = a.foo1();\r\n            //some complex operations\r\n        }\r\n    }\r\nNow to test `foo2()`, it makes more sense to mock the `class A` and use `thenReturn` to get some sample output rather than testing the entire `foo1()` method in the test for `foo2()`. This ensures that you are only testing the corresponding units of code pertaining to the method under test.\r\n\r\nUnit tests should be designed such that they are simple, readable and deals with one logic at a time.","title":"Best way to unit test this method?","body":"<p>To test the <code>setResult</code> method, mocking the <code>Multiplier</code> is sufficient.</p>\n<p>The methods <code>setResult</code> and <code>getMultiplier</code> are pretty straight forward in this case.</p>\n<p>But let's consider a scenario where complex operations are involved:</p>\n<pre><code>public class A {\n    public int foo1() {\n        //some complex operations\n    }\n}\npublic class B {\n    public int foo2() {\n        A a = new A();\n        int val = a.foo1();\n        //some complex operations\n    }\n}\n</code></pre>\n<p>Now to test <code>foo2()</code>, it makes more sense to mock the <code>class A</code> and use <code>thenReturn</code> to get some sample output rather than testing the entire <code>foo1()</code> method in the test for <code>foo2()</code>. This ensures that you are only testing the corresponding units of code pertaining to the method under test.</p>\n<p>Unit tests should be designed such that they are simple, readable and deals with one logic at a time.</p>\n"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75184880,"answer_count":1,"score":0,"last_activity_date":1674222590,"creation_date":1674173467,"question_id":75179512,"body_markdown":"I have the following class\r\n\r\n```\r\npublic class Multiplier {\r\n    private static Map&lt;Integer, Float&gt; map;\r\n    private static final float DEFAULT_MULTIPLIER = 4.4F;\r\n\r\n    static {\r\n        // This map is actually populated by reading from a file. This is an example on how the map looks like.\r\n        map = new HashMap&lt;&gt;();\r\n        map.put(1, &quot;3.5F&quot;);\r\n        map.put(2, &quot;5.8F&quot;);\r\n        map.put(3, &quot;2.7F&quot;);\r\n    }\r\n\r\n    public static float getMultiplier(Integer id) {\r\n        return map.getOrDefault(id, DEFAULT_MULTIPLIER);\r\n    }\r\n}\r\n```\r\n\r\nI have another class\r\n\r\n```\r\npublic class MultiplierUser {\r\n    private integer id;\r\n    private float value;\r\n    private float result;\r\n\r\n    public MultiplierUser(int id, float value) {\r\n        this.id = id;\r\n        this.value = value;\r\n    }\r\n\r\n    public void setResult() {\r\n        result = value * Multiplier.getMultiplier(this.id);\r\n    }\r\n\r\n    public float getResult() {\r\n        return this.result;\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s the best way to test this method?\r\n\r\nShould I get the expected value by calling the method and then asserting?\r\n\r\n```\r\npublic testMethod() {\r\n    MultiplierUser multiplierUser = new MultiplierUser(1, 10F);\r\n    multiplierUser.setResult();\r\n    \r\n    float expected = Multiplier.getMultiplier(1) * 10F;\r\n\r\n    Assert.assertEquals(expected, multiplierUser.getResult());\r\n}\r\n```\r\n\r\nOr mock?\r\n\r\n```\r\npublic testMethod() {\r\n    MultiplierUser multiplierUser = new MultiplierUser(1, 10F);\r\n\r\n    Mockito.mock(Multiplier.class);\r\n    when(mock.getMultiplier(1)).thenReturn(1.5F);\r\n\r\n    multiplierUser.setResult();\r\n\r\n    float expected = 1.5F * 10F;\r\n    Assert.assertEquals(expected, multiplierUser.getResult());\r\n}\r\n```\r\n\r\nI can&#39;t understand which would be the better way to test this method? If I use the former, I&#39;m basically calling the method myself and getting the result. But if there&#39;s an issue with the method in the future, the test will keep succeeding. If I&#39;m using a mock, then I&#39;m technically not testing the method and the value it returns. I&#39;m confused. Please help.","title":"Best way to unit test this method?","body":"<p>I have the following class</p>\n<pre><code>public class Multiplier {\n    private static Map&lt;Integer, Float&gt; map;\n    private static final float DEFAULT_MULTIPLIER = 4.4F;\n\n    static {\n        // This map is actually populated by reading from a file. This is an example on how the map looks like.\n        map = new HashMap&lt;&gt;();\n        map.put(1, &quot;3.5F&quot;);\n        map.put(2, &quot;5.8F&quot;);\n        map.put(3, &quot;2.7F&quot;);\n    }\n\n    public static float getMultiplier(Integer id) {\n        return map.getOrDefault(id, DEFAULT_MULTIPLIER);\n    }\n}\n</code></pre>\n<p>I have another class</p>\n<pre><code>public class MultiplierUser {\n    private integer id;\n    private float value;\n    private float result;\n\n    public MultiplierUser(int id, float value) {\n        this.id = id;\n        this.value = value;\n    }\n\n    public void setResult() {\n        result = value * Multiplier.getMultiplier(this.id);\n    }\n\n    public float getResult() {\n        return this.result;\n    }\n}\n</code></pre>\n<p>What's the best way to test this method?</p>\n<p>Should I get the expected value by calling the method and then asserting?</p>\n<pre><code>public testMethod() {\n    MultiplierUser multiplierUser = new MultiplierUser(1, 10F);\n    multiplierUser.setResult();\n    \n    float expected = Multiplier.getMultiplier(1) * 10F;\n\n    Assert.assertEquals(expected, multiplierUser.getResult());\n}\n</code></pre>\n<p>Or mock?</p>\n<pre><code>public testMethod() {\n    MultiplierUser multiplierUser = new MultiplierUser(1, 10F);\n\n    Mockito.mock(Multiplier.class);\n    when(mock.getMultiplier(1)).thenReturn(1.5F);\n\n    multiplierUser.setResult();\n\n    float expected = 1.5F * 10F;\n    Assert.assertEquals(expected, multiplierUser.getResult());\n}\n</code></pre>\n<p>I can't understand which would be the better way to test this method? If I use the former, I'm basically calling the method myself and getting the result. But if there's an issue with the method in the future, the test will keep succeeding. If I'm using a mock, then I'm technically not testing the method and the value it returns. I'm confused. Please help.</p>\n"},{"tags":["java","unit-testing","reflection","powermock","powermockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1674223228,"post_id":75184877,"comment_id":132674106,"body_markdown":"I&#39;d like to suggest rethinking your class&#39; design. Why are you mocking the class which you are testing; does it have too many concerns/responsibilities? Could you extract the components which you must mock into dependencies to the class? Why can&#39;t you call the real methods? What do you actually want to test?","body":"I&#39;d like to suggest rethinking your class&#39; design. Why are you mocking the class which you are testing; does it have too many concerns/responsibilities? Could you extract the components which you must mock into dependencies to the class? Why can&#39;t you call the real methods? What do you actually want to test?"}],"owner":{"account_id":27572142,"reputation":1,"user_id":21043121,"display_name":"dluzko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674222584,"creation_date":1674222584,"question_id":75184877,"body_markdown":"I have a chain of methods in my class. Here is the simplified version:\r\n```\r\npublic class SomeClass {\r\n    public String run (String someString1, String someString2, String someString3) {\r\n        return firstAction(someString1, someString2, someString3);\r\n    }\r\n\r\n    private String firstAction(String someString1, String someString2, String someString3) {\r\n        return someString1 + secondAction(someString2, someString3);\r\n    }\r\n\r\n    private String secondAction(String someString2, String someString3) {\r\n        return someString2 + someString3;\r\n    }\r\n}\r\n```\r\nI can test &quot;secondAction&quot; using the reflection. Or I can test &quot;run&quot; using PowerMock to mock &quot;firstAction&quot;. Individual tests work fine.\r\nBut when I try to test both methods at the same time it ends with error.\r\nThe same problem in case of testing &quot;firstAction&quot; (using reflection) and mocking &quot;secondAction&quot; (using PowerMock).\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(SomeClass.class)\r\npublic class SomeClassTest {\r\n    private Method getSecondActionMethod() throws NoSuchMethodException {\r\n        Method method = SomeClass.class.getDeclaredMethod(&quot;secondAction&quot;, String.class, String.class);\r\n        method.setAccessible(true);\r\n        return method;\r\n    }\r\n\r\n    @Test\r\n    public void runTest() throws Exception {\r\n        SomeClass someClassSpy = PowerMock.createPartialMock(SomeClass.class, &quot;firstAction&quot;);\r\n        PowerMock.expectPrivate(someClassSpy, &quot;firstAction&quot;, &quot;Hello&quot;, &quot;, &quot;, &quot;World!&quot;).andReturn(&quot;Hello, World!&quot;);\r\n        PowerMock.replay(someClassSpy);\r\n        assertEquals(&quot;Hello, World!&quot;, someClassSpy.run(&quot;Hello&quot;, &quot;, &quot;, &quot;World!&quot;));\r\n        PowerMock.verify(someClassSpy);\r\n    }\r\n\r\n    @Test\r\n    public void secondActionTest () throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n        SomeClass someClass = new SomeClass();\r\n        assertEquals(&quot;Hello, World!&quot;, getSecondActionMethod().invoke(someClass, &quot;Hello, &quot;, &quot;World!&quot;));\r\n    }\r\n}\r\n```\r\n```\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1508)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1482)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getMethods(WhiteboxImpl.java:1750)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getMethods(WhiteboxImpl.java:1789)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getBestMethodCandidate(WhiteboxImpl.java:1008)\r\n\tat org.powermock.core.MockInvocation.findMethodToInvoke(MockInvocation.java:58)\r\n\tat org.powermock.core.MockInvocation.init(MockInvocation.java:35)\r\n\tat org.powermock.core.MockInvocation.&lt;init&gt;(MockInvocation.java:22)\r\n\tat org.powermock.core.MockGateway.doMethodCall(MockGateway.java:155)\r\n\tat org.powermock.core.MockGateway.methodCall(MockGateway.java:138)\r\n\tat somePackage.SomeClassTest.getSecondActionMethod(SomeClassTest.java:26)\r\n\tat somePackage.SomeClassTest.secondActionTest(SomeClassTest.java:54)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.internal.runners.TestMethod.invoke(TestMethod.java:59)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:326)\r\n\tat org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:79)\r\n\tat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:87)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\r\n\tat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:77)\r\n\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:42)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:27)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:37)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n```\r\n\r\nPlease help me to understand this error. Is there another way to test and mock private methods at the same time? Especially when you need to mock a private method called inside another private method.\r\nPlease do not suggest something like:\r\n1) Changing private to public/protected.\r\n2) Combining all private methods into one.\r\n3) Not to test private methods.","title":"How to mock one private method while testing another private method? PowerMock and reflection in the same test class and in the same test","body":"<p>I have a chain of methods in my class. Here is the simplified version:</p>\n<pre><code>public class SomeClass {\n    public String run (String someString1, String someString2, String someString3) {\n        return firstAction(someString1, someString2, someString3);\n    }\n\n    private String firstAction(String someString1, String someString2, String someString3) {\n        return someString1 + secondAction(someString2, someString3);\n    }\n\n    private String secondAction(String someString2, String someString3) {\n        return someString2 + someString3;\n    }\n}\n</code></pre>\n<p>I can test &quot;secondAction&quot; using the reflection. Or I can test &quot;run&quot; using PowerMock to mock &quot;firstAction&quot;. Individual tests work fine.\nBut when I try to test both methods at the same time it ends with error.\nThe same problem in case of testing &quot;firstAction&quot; (using reflection) and mocking &quot;secondAction&quot; (using PowerMock).</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(SomeClass.class)\npublic class SomeClassTest {\n    private Method getSecondActionMethod() throws NoSuchMethodException {\n        Method method = SomeClass.class.getDeclaredMethod(&quot;secondAction&quot;, String.class, String.class);\n        method.setAccessible(true);\n        return method;\n    }\n\n    @Test\n    public void runTest() throws Exception {\n        SomeClass someClassSpy = PowerMock.createPartialMock(SomeClass.class, &quot;firstAction&quot;);\n        PowerMock.expectPrivate(someClassSpy, &quot;firstAction&quot;, &quot;Hello&quot;, &quot;, &quot;, &quot;World!&quot;).andReturn(&quot;Hello, World!&quot;);\n        PowerMock.replay(someClassSpy);\n        assertEquals(&quot;Hello, World!&quot;, someClassSpy.run(&quot;Hello&quot;, &quot;, &quot;, &quot;World!&quot;));\n        PowerMock.verify(someClassSpy);\n    }\n\n    @Test\n    public void secondActionTest () throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n        SomeClass someClass = new SomeClass();\n        assertEquals(&quot;Hello, World!&quot;, getSecondActionMethod().invoke(someClass, &quot;Hello, &quot;, &quot;World!&quot;));\n    }\n}\n</code></pre>\n<pre><code>    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\n    at org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1508)\n    at org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1482)\n    at org.powermock.reflect.internal.WhiteboxImpl.getMethods(WhiteboxImpl.java:1750)\n    at org.powermock.reflect.internal.WhiteboxImpl.getMethods(WhiteboxImpl.java:1789)\n    at org.powermock.reflect.internal.WhiteboxImpl.getBestMethodCandidate(WhiteboxImpl.java:1008)\n    at org.powermock.core.MockInvocation.findMethodToInvoke(MockInvocation.java:58)\n    at org.powermock.core.MockInvocation.init(MockInvocation.java:35)\n    at org.powermock.core.MockInvocation.&lt;init&gt;(MockInvocation.java:22)\n    at org.powermock.core.MockGateway.doMethodCall(MockGateway.java:155)\n    at org.powermock.core.MockGateway.methodCall(MockGateway.java:138)\n    at somePackage.SomeClassTest.getSecondActionMethod(SomeClassTest.java:26)\n    at somePackage.SomeClassTest.secondActionTest(SomeClassTest.java:54)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:59)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:326)\n    at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:79)\n    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:87)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\n    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:77)\n    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:42)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\n    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:27)\n    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:37)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\n    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\n    at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\n</code></pre>\n<p>Please help me to understand this error. Is there another way to test and mock private methods at the same time? Especially when you need to mock a private method called inside another private method.\nPlease do not suggest something like:</p>\n<ol>\n<li>Changing private to public/protected.</li>\n<li>Combining all private methods into one.</li>\n<li>Not to test private methods.</li>\n</ol>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":2934181,"reputation":11448,"user_id":2513573,"accept_rate":76,"display_name":"AdamSkywalker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482828192,"creation_date":1482828192,"answer_id":41341786,"question_id":41341679,"body_markdown":"You make conversions that could be skipped. Try this:\r\n\r\n    Map data = (Map) map.get(&quot;data&quot;);\r\n    List zip = (List) data.get(&quot;zip&quot;);\r\n    System.out.println(zip.size());\r\n\r\n","title":"get the size of an array using jackson","body":"<p>You make conversions that could be skipped. Try this:</p>\n\n<pre><code>Map data = (Map) map.get(\"data\");\nList zip = (List) data.get(\"zip\");\nSystem.out.println(zip.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1482828327,"creation_date":1482828327,"answer_id":41341820,"question_id":41341679,"body_markdown":"    String getData = map.get(&quot;data&quot;).toString();\r\n\r\nThis won&#39;t return a JSON to you and hence the exception. You will get something like {zip=[{...\r\n\r\nInstead change your statement from\r\n\r\n    Map&lt;String, Object&gt; map1 = objMap.readValue(getData, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n            });\r\n\r\nto\r\n\r\n    Map&lt;String, Object&gt; map1 = (Map&lt;String, Object&gt;) map.get(&quot;data&quot;);","title":"get the size of an array using jackson","body":"<pre><code>String getData = map.get(\"data\").toString();\n</code></pre>\n\n<p>This won't return a JSON to you and hence the exception. You will get something like {zip=[{...</p>\n\n<p>Instead change your statement from</p>\n\n<pre><code>Map&lt;String, Object&gt; map1 = objMap.readValue(getData, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        });\n</code></pre>\n\n<p>to</p>\n\n<pre><code>Map&lt;String, Object&gt; map1 = (Map&lt;String, Object&gt;) map.get(\"data\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674222362,"creation_date":1674222362,"answer_id":75184835,"question_id":41341679,"body_markdown":"cast as ArrayNode\r\n\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    \r\n    ArrayNode zip = (ArrayNode)data.get(&quot;zip&quot;);\r\n    System.out.println(zip.size());","title":"get the size of an array using jackson","body":"<p>cast as ArrayNode</p>\n<pre><code>import com.fasterxml.jackson.databind.node.ArrayNode;\n\nArrayNode zip = (ArrayNode)data.get(&quot;zip&quot;);\nSystem.out.println(zip.size());\n</code></pre>\n"}],"owner":{"account_id":4793581,"reputation":3279,"user_id":3872094,"accept_rate":63,"display_name":"user3872094"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8617,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41341820,"answer_count":3,"score":1,"last_activity_date":1674222362,"creation_date":1482827742,"question_id":41341679,"body_markdown":"I&#39;ve the below data in a json file.\r\n\r\n    {  \r\n       &quot;product&quot;:&quot;Data&quot;,\r\n       &quot;data&quot;:{  \r\n          &quot;zip&quot;:[  \r\n             {  \r\n                &quot;codeValue&quot;:&quot;12345&quot;,\r\n                &quot;distance&quot;:[  \r\n                   {  \r\n                      &quot;5&quot;:&quot;a c&quot;\r\n                   },\r\n                   {  \r\n                      &quot;2&quot;:&quot;z c&quot;\r\n                   }\r\n                ]\r\n             },\r\n             {  \r\n                &quot;codeValue&quot;:&quot;60089&quot;,\r\n                &quot;distance&quot;:[  \r\n                   {  \r\n                      &quot;5&quot;:&quot;a c&quot;\r\n                   },\r\n                   {  \r\n                      &quot;2&quot;:&quot;z c&quot;\r\n                   }\r\n                ]\r\n             }\r\n          ]\r\n       }\r\n    }\r\n\r\nand I&#39;m trying to print the `zip` size using the below code.\r\n\r\n    public void getJsonResponse() throws Exception {\r\n    \tString text = getTheData();\r\n    \tSystem.out.println(text);\r\n    \tObjectMapper objMap = new ObjectMapper();\r\n    \tMap&lt;String, Object&gt; map = objMap.readValue(text, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    \t});\r\n    \r\n    \tString mainMap = map.get(&quot;product&quot;).toString();\r\n    \tString getData = map.get(&quot;data&quot;).toString();\r\n    \tMap&lt;String, Object&gt; map1 = objMap.readValue(getData, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    \t});\r\n    \tList zip = (List) map1.get(&quot;zip&quot;);\r\n   \t\tSystem.out.println(zip.size());\r\n   \t}\r\n\r\nhere instead of `sysout` on `zip.size()`, if I used `mainMap`, I get the output as **Data**, but when I use `zip.size()`, I get some exception as \r\n\r\n&gt; Exception in thread &quot;main&quot; com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;z&#39; (code 122)): was expecting double-quote to start field name\r\n at [Source: java.io.StringReader@60f82f98; line: 1, column: 3]\r\n\tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1524)\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:557)\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:475)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1293)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser._parseName(ReaderBasedJsonParser.java:1190)\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:612)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringMap(MapDeserializer.java:412)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:312)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:26)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:2993)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2105)\r\n\tat onlyJava.JsonDataCAll.getJsonResponse(JsonDataCAll.java:24)\r\n\tat onlyJava.Test.main(Test.java:13)\r\n\r\n\r\nplease let me know where have I gone wrong and how can I fix this.","title":"get the size of an array using jackson","body":"<p>I've the below data in a json file.</p>\n\n<pre><code>{  \n   \"product\":\"Data\",\n   \"data\":{  \n      \"zip\":[  \n         {  \n            \"codeValue\":\"12345\",\n            \"distance\":[  \n               {  \n                  \"5\":\"a c\"\n               },\n               {  \n                  \"2\":\"z c\"\n               }\n            ]\n         },\n         {  \n            \"codeValue\":\"60089\",\n            \"distance\":[  \n               {  \n                  \"5\":\"a c\"\n               },\n               {  \n                  \"2\":\"z c\"\n               }\n            ]\n         }\n      ]\n   }\n}\n</code></pre>\n\n<p>and I'm trying to print the <code>zip</code> size using the below code.</p>\n\n<pre><code>public void getJsonResponse() throws Exception {\n    String text = getTheData();\n    System.out.println(text);\n    ObjectMapper objMap = new ObjectMapper();\n    Map&lt;String, Object&gt; map = objMap.readValue(text, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n    });\n\n    String mainMap = map.get(\"product\").toString();\n    String getData = map.get(\"data\").toString();\n    Map&lt;String, Object&gt; map1 = objMap.readValue(getData, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n    });\n    List zip = (List) map1.get(\"zip\");\n    System.out.println(zip.size());\n}\n</code></pre>\n\n<p>here instead of <code>sysout</code> on <code>zip.size()</code>, if I used <code>mainMap</code>, I get the output as <strong>Data</strong>, but when I use <code>zip.size()</code>, I get some exception as </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" com.fasterxml.jackson.core.JsonParseException: Unexpected character ('z' (code 122)): was expecting double-quote to start field name\n   at [Source: java.io.StringReader@60f82f98; line: 1, column: 3]\n      at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1524)\n      at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:557)\n      at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:475)\n      at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1293)\n      at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._parseName(ReaderBasedJsonParser.java:1190)\n      at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:612)\n      at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringMap(MapDeserializer.java:412)\n      at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:312)\n      at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:26)\n      at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:2993)\n      at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2105)\n      at onlyJava.JsonDataCAll.getJsonResponse(JsonDataCAll.java:24)\n      at onlyJava.Test.main(Test.java:13)</p>\n</blockquote>\n\n<p>please let me know where have I gone wrong and how can I fix this.</p>\n"},{"tags":["java","performance","apache-spark","apache-spark-dataset"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1674217311,"post_id":75182400,"comment_id":132672171,"body_markdown":"How about measuring with and without the cache? It is really impossible to know for sure what will happen in your environment with your data...","body":"How about measuring with and without the cache? It is really impossible to know for sure what will happen in your environment with your data..."}],"answers":[{"tags":[],"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674221575,"creation_date":1674220384,"answer_id":75184486,"question_id":75182400,"body_markdown":"Looking at your example it may run quicker without cache\r\n\r\nYou are caching after doing select * from so you are going to read whole dataset with all columns and store it in cache. \r\n\r\nLater you are using it only to get counts for which you dont need whole dataset but only one column. \r\n\r\nWithout cache you are going to read source twice, thats correct, but most likely Spark is going to push down projections and will figure out that only one column should be selected in both case which means that the real i/o may be smaller \r\n\r\nOf course it may depend on source you are reading from so i think that its worth to check out both options and compare results\r\n\r\n","title":"Do I need to cache a Dataset if it is reused only twice?","body":"<p>Looking at your example it may run quicker without cache</p>\n<p>You are caching after doing select * from so you are going to read whole dataset with all columns and store it in cache.</p>\n<p>Later you are using it only to get counts for which you dont need whole dataset but only one column.</p>\n<p>Without cache you are going to read source twice, thats correct, but most likely Spark is going to push down projections and will figure out that only one column should be selected in both case which means that the real i/o may be smaller</p>\n<p>Of course it may depend on source you are reading from so i think that its worth to check out both options and compare results</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75184486,"answer_count":1,"score":0,"last_activity_date":1674221575,"creation_date":1674208648,"question_id":75182400,"body_markdown":"I&#39;m working with Apache Spark and I have the following code:\r\n```java\r\nDataset&lt;Row&gt; tradesDataset = sparkSession\r\n        .sql(&quot;select * from a_table&quot;)\r\n        .cache();  // &lt;-- do I need caching here?\r\n\r\nlong countOfDistinctUitIdsInTradeAgreements = tradesDataset\r\n        .select(tradesDataset.col(&quot;uitid&quot;))\r\n        .distinct()\r\n        .count();\r\n\r\nlong countOfDistinctUitIdsInTradeAgreementsForTradeDate = tradesDataset\r\n        .filter(tradesDataset.col(&quot;TRADE_DATE&quot;).equalTo(processingDate))\r\n        .count();\r\n```\r\nI select one column from the dataset and count over it.\r\n\r\nSo my question is whether I need to cache the dataset from select? Will it bring any performance improvement?","title":"Do I need to cache a Dataset if it is reused only twice?","body":"<p>I'm working with Apache Spark and I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Dataset&lt;Row&gt; tradesDataset = sparkSession\n        .sql(&quot;select * from a_table&quot;)\n        .cache();  // &lt;-- do I need caching here?\n\nlong countOfDistinctUitIdsInTradeAgreements = tradesDataset\n        .select(tradesDataset.col(&quot;uitid&quot;))\n        .distinct()\n        .count();\n\nlong countOfDistinctUitIdsInTradeAgreementsForTradeDate = tradesDataset\n        .filter(tradesDataset.col(&quot;TRADE_DATE&quot;).equalTo(processingDate))\n        .count();\n</code></pre>\n<p>I select one column from the dataset and count over it.</p>\n<p>So my question is whether I need to cache the dataset from select? Will it bring any performance improvement?</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1674213385,"post_id":75183261,"comment_id":132670942,"body_markdown":"Child is reading x from Parent is which reading x how this x has different output.","body":"Child is reading x from Parent is which reading x how this x has different output."},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":2,"creation_date":1674213428,"post_id":75183261,"comment_id":132670957,"body_markdown":"&quot;and that object cannot contain 2 properties with same name&quot; - it can, actually.","body":"&quot;and that object cannot contain 2 properties with same name&quot; - it can, actually."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1674213791,"post_id":75183261,"comment_id":132671052,"body_markdown":"&quot;*there is only one object that has one x*&quot; One object with two `x`s.","body":"&quot;<i>there is only one object that has one x</i>&quot; One object with two <code>x</code>s."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674221177,"creation_date":1674213998,"answer_id":75183395,"question_id":75183261,"body_markdown":"&gt; and that object cannot contain 2 properties with same name\r\n\r\nYou&#39;re mistaken. They actually *can*, but then `x` of `C` is said to *hide* `x` of `P`. This is defined in the Java Language Specification (JLS), [&#167; 8.3][1]:\r\n\r\n&gt; If a class declares a field with a certain name, then the declaration of that field is said to **hide any and all accessible declarations of fields with the same name in superclasses**, and superinterfaces of the class. \r\n\r\n&lt;sup&gt;(Emphasis mine.)&lt;/sup&gt;\r\n\r\nThis has two implications:\r\n\r\n1. You can refer to `P.x` from within `C` by using `super` (JLS [&#167; 15.11.2][2]):\r\n\r\n    ```java\r\n    class C extends P {\r\n\r\n        int x;\r\n\r\n        void test() {\r\n            System.out.println(super.x);\r\n        }\r\n    }\r\n    ```\r\n\r\n2. You cannot refer to `P.x` from another class or a static context (also JLS [&#167; 15.11.2][2]):\r\n\r\n    ```java\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;P.x: &quot; + c.super.x); // Won&#39;t work\r\n        }\r\n    }\r\n    ```\r\n\r\n---\r\n\r\nHere&#39;s an example showing that `C` can refer to two different `x`s:\r\n\r\n```java\r\nclass Parent {\r\n\r\n    int x;\r\n\r\n    Parent() {\r\n        x = 1;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Child extends Parent {\r\n\r\n    int x;\r\n\r\n    Child() {\r\n        x = 2;\r\n    }\r\n\r\n    void printBothXs() {\r\n        System.out.println(x);\r\n        System.out.println(super.x);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Child c = new Child();\r\n    c.printBothXs();\r\n}\r\n```\r\n\r\n[&lt;kbd&gt;Run with ideone&lt;/kbd&gt;][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.3\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.11.2\r\n  [3]: https://ideone.com/sz7BSL","title":"How Parent and Child constructors initialize the properties of one created Child object?","body":"<blockquote>\n<p>and that object cannot contain 2 properties with same name</p>\n</blockquote>\n<p>You're mistaken. They actually <em>can</em>, but then <code>x</code> of <code>C</code> is said to <em>hide</em> <code>x</code> of <code>P</code>. This is defined in the Java Language Specification (JLS), <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.3\" rel=\"nofollow noreferrer\">§ 8.3</a>:</p>\n<blockquote>\n<p>If a class declares a field with a certain name, then the declaration of that field is said to <strong>hide any and all accessible declarations of fields with the same name in superclasses</strong>, and superinterfaces of the class.</p>\n</blockquote>\n<p><sup>(Emphasis mine.)</sup></p>\n<p>This has two implications:</p>\n<ol>\n<li><p>You can refer to <code>P.x</code> from within <code>C</code> by using <code>super</code> (JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.11.2\" rel=\"nofollow noreferrer\">§ 15.11.2</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class C extends P {\n\n    int x;\n\n    void test() {\n        System.out.println(super.x);\n    }\n}\n</code></pre>\n</li>\n<li><p>You cannot refer to <code>P.x</code> from another class or a static context (also JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.11.2\" rel=\"nofollow noreferrer\">§ 15.11.2</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;P.x: &quot; + c.super.x); // Won't work\n    }\n}\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>Here's an example showing that <code>C</code> can refer to two different <code>x</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n\n    int x;\n\n    Parent() {\n        x = 1;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Child extends Parent {\n\n    int x;\n\n    Child() {\n        x = 2;\n    }\n\n    void printBothXs() {\n        System.out.println(x);\n        System.out.println(super.x);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Child c = new Child();\n    c.printBothXs();\n}\n</code></pre>\n<p><a href=\"https://ideone.com/sz7BSL\" rel=\"nofollow noreferrer\"><kbd>Run with ideone</kbd></a></p>\n"}],"owner":{"account_id":23956842,"reputation":1,"user_id":20840728,"display_name":"JhonM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674221177,"creation_date":1674213237,"question_id":75183261,"body_markdown":"As I know, when a child class extends a parent class and child object is created, the child class constructor invokes automatically the parent class constructor using super() implicitly.\r\n\r\nThere will be only one object created and two constructors working on it, the parent constructor initializes the properties that are inherited from parent class and child constructor will initialize the properties that are specific to the child class.\r\n\r\n\r\n\r\nPlease check the below example:\r\n\r\n    public class P\r\n    {\r\n        int x;\r\n\r\n        P(){\r\n            x = 1;\r\n        }\r\n        public int getX(){\r\n            return x;\r\n        }\r\n    }\r\n\r\n------------------------------------------------------------------\r\n\r\n    public class C extends P\r\n    {\r\n        int x;\r\n\r\n        C(){\r\n            x = 2;\r\n        }\r\n        public static void main(String[] args)\r\n        {\r\n            C c = new C();\r\n            System.out.println(&quot;c.x: &quot; + c.x);\r\n            System.out.println(&quot;c.getX(): &quot; + c.getX());\r\n        }\r\n    }\r\n\r\n------------------------------------------------------------------\r\nOutputs:\r\n\r\n    c.x: 2\r\n    c.getX(): 1\r\n\r\nI am very confused, there is only one object created, and that object cannot contain 2 properties with same name, and if child class hides the parent variable: &#39;x&#39;, why we have two different outputs? \r\n\r\nChild and Parent are reading from one object, how this one object has 2 different x with 2 different outputs!\r\n\r\nParent is reading x from which object? \r\nChild is reading x from which object?\r\nthere is only one object that has one x, how this x has different output?\r\n\r\nPlease help.\r\n\r\n\r\n","title":"How Parent and Child constructors initialize the properties of one created Child object?","body":"<p>As I know, when a child class extends a parent class and child object is created, the child class constructor invokes automatically the parent class constructor using super() implicitly.</p>\n<p>There will be only one object created and two constructors working on it, the parent constructor initializes the properties that are inherited from parent class and child constructor will initialize the properties that are specific to the child class.</p>\n<p>Please check the below example:</p>\n<pre><code>public class P\n{\n    int x;\n\n    P(){\n        x = 1;\n    }\n    public int getX(){\n        return x;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class C extends P\n{\n    int x;\n\n    C(){\n        x = 2;\n    }\n    public static void main(String[] args)\n    {\n        C c = new C();\n        System.out.println(&quot;c.x: &quot; + c.x);\n        System.out.println(&quot;c.getX(): &quot; + c.getX());\n    }\n}\n</code></pre>\n<hr />\n<p>Outputs:</p>\n<pre><code>c.x: 2\nc.getX(): 1\n</code></pre>\n<p>I am very confused, there is only one object created, and that object cannot contain 2 properties with same name, and if child class hides the parent variable: 'x', why we have two different outputs?</p>\n<p>Child and Parent are reading from one object, how this one object has 2 different x with 2 different outputs!</p>\n<p>Parent is reading x from which object?\nChild is reading x from which object?\nthere is only one object that has one x, how this x has different output?</p>\n<p>Please help.</p>\n"},{"tags":["java","eclipse","format","eclipse-plugin"],"owner":{"account_id":27393615,"reputation":19,"user_id":20896201,"display_name":"Ciro Dolce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674220996,"creation_date":1674207641,"question_id":75182209,"body_markdown":"I&#39;m building an Eclipse Plugin, with it, when user press command, it replace the selected text, but the text will insert not formatted. User have to run Format Code Shortcut. How i have to do for format automatically when text is replaced? \r\n```\r\nprivate void replaceSelectedTextWithCode(String codeToInsert) {\r\n\t\t\tIEditorPart part = PlatformUI.getWorkbench().getActiveWorkbenchWindow().getActivePage().getActiveEditor();\r\n\t\t\t\tfinal ITextEditor editor = (ITextEditor) part;\r\n\t\t\t\tIDocumentProvider prov = editor.getDocumentProvider();\r\n\t\t\t\tIDocument doc = prov.getDocument(editor.getEditorInput());\r\n\t\t\t\tISelection sel = editor.getSelectionProvider().getSelection();\r\n\t\t\t\tfinal TextSelection textSel = (TextSelection) sel;\r\n\t\t\t\tdoc.replace(textSel.getOffset(), textSel.getLength(), codeToInsert);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n**Edits**:\r\n\r\nI can&#39;t find org.eclipse.text in packages:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSame for Plug-ins:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf I try to add import in code looks like fine but,\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSame error:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI have others import, only this cannot be resolved\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NWqlx.png\r\n  [2]: https://i.stack.imgur.com/ZoYBe.png\r\n  [3]: https://i.stack.imgur.com/Q3uyV.png\r\n  [4]: https://i.stack.imgur.com/dqJQ8.png\r\n  [5]: https://i.stack.imgur.com/MxkRw.png\r\n\r\nI think TextEditOperation doesn&#39;t exists anymore: https://www.ibm.com/docs/en/rational-soft-arch/9.5?topic=reference-orgeclipsetextedits","title":"Eclipse Plugin How programmatically format Java code?","body":"<p>I'm building an Eclipse Plugin, with it, when user press command, it replace the selected text, but the text will insert not formatted. User have to run Format Code Shortcut. How i have to do for format automatically when text is replaced?</p>\n<pre><code>private void replaceSelectedTextWithCode(String codeToInsert) {\n            IEditorPart part = PlatformUI.getWorkbench().getActiveWorkbenchWindow().getActivePage().getActiveEditor();\n                final ITextEditor editor = (ITextEditor) part;\n                IDocumentProvider prov = editor.getDocumentProvider();\n                IDocument doc = prov.getDocument(editor.getEditorInput());\n                ISelection sel = editor.getSelectionProvider().getSelection();\n                final TextSelection textSel = (TextSelection) sel;\n                doc.replace(textSel.getOffset(), textSel.getLength(), codeToInsert);\n            }\n        }\n    }\n</code></pre>\n<p><strong>Edits</strong>:</p>\n<p>I can't find org.eclipse.text in packages:</p>\n<p><a href=\"https://i.stack.imgur.com/NWqlx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NWqlx.png\" alt=\"enter image description here\" /></a></p>\n<p>Same for Plug-ins:</p>\n<p><a href=\"https://i.stack.imgur.com/ZoYBe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZoYBe.png\" alt=\"enter image description here\" /></a></p>\n<p>If I try to add import in code looks like fine but,</p>\n<p><a href=\"https://i.stack.imgur.com/Q3uyV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q3uyV.png\" alt=\"enter image description here\" /></a></p>\n<p>Same error:</p>\n<p><a href=\"https://i.stack.imgur.com/dqJQ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dqJQ8.png\" alt=\"enter image description here\" /></a></p>\n<p>I have others import, only this cannot be resolved</p>\n<p><a href=\"https://i.stack.imgur.com/MxkRw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MxkRw.png\" alt=\"enter image description here\" /></a></p>\n<p>I think TextEditOperation doesn't exists anymore: <a href=\"https://www.ibm.com/docs/en/rational-soft-arch/9.5?topic=reference-orgeclipsetextedits\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/rational-soft-arch/9.5?topic=reference-orgeclipsetextedits</a></p>\n"},{"tags":["java","maven","class","classpath"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674220879,"creation_date":1674220572,"answer_id":75184516,"question_id":75184234,"body_markdown":"`META-INF/services` does not contain classes, it contains **text** files (named after the SPI - Service Provider Interface), which lists the class names that implement that SPI. That means you would have a file called `META-INF/services/org.apache.flink.statefun.sdk.spi.StatefulFunctionModule`, and its contents is:\r\n\r\n```none\r\norg.package1.package2.MyClass\r\n```\r\n\r\nor - if you have multiple implementations:\r\n\r\n```none\r\norg.package1.package2.MyClass\r\norg.package1.package2.MyOtherClass\r\n```\r\n\r\n(that is, one class name per line)\r\n\r\nGenerally, you would add this file in `src/main/resources/META-INF/services`, though there might be Maven plugins that can generate them for you (I&#39;m not sure though).\r\n\r\nNote that if you use a modular Java project, you would (also) need to define this in `module-info.java` as:\r\n\r\n```java\r\nmodule your.modulename {\r\n    // ...\r\n    provides org.apache.flink.statefun.sdk.spi.StatefulFunctionModule\r\n        with org.package1.package2.MyClass; \r\n}\r\n```","title":"How to place a particular compiled .class file (or files) into META-INF/services","body":"<p><code>META-INF/services</code> does not contain classes, it contains <strong>text</strong> files (named after the SPI - Service Provider Interface), which lists the class names that implement that SPI. That means you would have a file called <code>META-INF/services/org.apache.flink.statefun.sdk.spi.StatefulFunctionModule</code>, and its contents is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.package1.package2.MyClass\n</code></pre>\n<p>or - if you have multiple implementations:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.package1.package2.MyClass\norg.package1.package2.MyOtherClass\n</code></pre>\n<p>(that is, one class name per line)</p>\n<p>Generally, you would add this file in <code>src/main/resources/META-INF/services</code>, though there might be Maven plugins that can generate them for you (I'm not sure though).</p>\n<p>Note that if you use a modular Java project, you would (also) need to define this in <code>module-info.java</code> as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module your.modulename {\n    // ...\n    provides org.apache.flink.statefun.sdk.spi.StatefulFunctionModule\n        with org.package1.package2.MyClass; \n}\n</code></pre>\n"}],"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75184516,"answer_count":1,"score":0,"last_activity_date":1674220879,"creation_date":1674218804,"question_id":75184234,"body_markdown":"I want one of my compiled classes to be added into `META-INF/services` folder inside of my uber-jar. Is it something to be configured inside `maven-shade-plugin`?\r\n\r\nThis is the page which requires placing the file into `META-INF/services`: https://nightlies.apache.org/flink/flink-statefun-docs-release-3.2/docs/modules/embedded/#defining-an-embedded-module\r\n\r\n&gt; This means that every JAR should contain a file\r\n&gt; org.apache.flink.statefun.sdk.spi.StatefulFunctionModule in the\r\n&gt; META_INF/services resource directory that lists all available modules\r\n&gt; that it provides.\r\n\r\n`MyClass` implements `StatefulFunctionModule`, but I&#39;m not sure if I should place it alone, or place it as `org/package1/package2/MyClass.class` (assuming that its package path is `org.package1.package2`)\r\n\r\nIt looks like all files inside `META-INF/services` are named according to their original package path, e.g. my class would be named as `org.package1.package2.MyClass` then","title":"How to place a particular compiled .class file (or files) into META-INF/services","body":"<p>I want one of my compiled classes to be added into <code>META-INF/services</code> folder inside of my uber-jar. Is it something to be configured inside <code>maven-shade-plugin</code>?</p>\n<p>This is the page which requires placing the file into <code>META-INF/services</code>: <a href=\"https://nightlies.apache.org/flink/flink-statefun-docs-release-3.2/docs/modules/embedded/#defining-an-embedded-module\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-statefun-docs-release-3.2/docs/modules/embedded/#defining-an-embedded-module</a></p>\n<blockquote>\n<p>This means that every JAR should contain a file\norg.apache.flink.statefun.sdk.spi.StatefulFunctionModule in the\nMETA_INF/services resource directory that lists all available modules\nthat it provides.</p>\n</blockquote>\n<p><code>MyClass</code> implements <code>StatefulFunctionModule</code>, but I'm not sure if I should place it alone, or place it as <code>org/package1/package2/MyClass.class</code> (assuming that its package path is <code>org.package1.package2</code>)</p>\n<p>It looks like all files inside <code>META-INF/services</code> are named according to their original package path, e.g. my class would be named as <code>org.package1.package2.MyClass</code> then</p>\n"},{"tags":["java","email","smtp"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674220458,"post_id":75184445,"comment_id":132673091,"body_markdown":"It sounds like the mail server you&#39;re using requires authentication. You will need to authenticate.","body":"It sounds like the mail server you&#39;re using requires authentication. You will need to authenticate."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1674220779,"post_id":75184445,"comment_id":132673187,"body_markdown":"Why is the attachment in the caption important? Can you send e-mails w/o attachments?","body":"Why is the attachment in the caption important? Can you send e-mails w/o attachments?"},{"owner":{"account_id":20568428,"reputation":1,"user_id":15097246,"display_name":"gultekinfatmaa"},"score":0,"creation_date":1674221384,"post_id":75184445,"comment_id":132673382,"body_markdown":"attachment is very important. Okey i want to authenticate","body":"attachment is very important. Okey i want to authenticate"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1674233342,"post_id":75184445,"comment_id":132677959,"body_markdown":"Could you please [edit] your question and add a [mcve]?","body":"Could you please <a href=\"https://stackoverflow.com/posts/75184445/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":20568428,"reputation":1,"user_id":15097246,"display_name":"gultekinfatmaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674220412,"creation_date":1674220123,"question_id":75184445,"body_markdown":"I am running a Java web application and send email. &quot;mail.smtp.auth: false&quot; in props, but I still keep getting \r\n\r\n&gt; javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful\r\n\r\nWhat is the best solution? I couldn&#39;t find what I was looking for in [this thread](https://stackoverflow.com/questions/24291412/send-email-in-java-via-relay-server/75180912#75180912)\r\n\r\n\r\n```yaml\r\nproperties:\r\n      mail.smtp.auth: false\r\n      mail.smtp.starttls.enable: false\r\n      mail.debug: true\r\n      mail.host: xx.xx.xx.x\r\n      mail.port: 25\r\n      mail.smtp.socketFactory.class: xxxxxx\r\n```\r\n\r\nThis is how I edited my settings. But I&#39;m getting authentication error.\r\n\r\n&gt; javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful\r\n\r\n","title":"Send email with attachment in Java via relay mail server error","body":"<p>I am running a Java web application and send email. &quot;mail.smtp.auth: false&quot; in props, but I still keep getting</p>\n<blockquote>\n<p>javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful</p>\n</blockquote>\n<p>What is the best solution? I couldn't find what I was looking for in <a href=\"https://stackoverflow.com/questions/24291412/send-email-in-java-via-relay-server/75180912#75180912\">this thread</a></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>properties:\n      mail.smtp.auth: false\n      mail.smtp.starttls.enable: false\n      mail.debug: true\n      mail.host: xx.xx.xx.x\n      mail.port: 25\n      mail.smtp.socketFactory.class: xxxxxx\n</code></pre>\n<p>This is how I edited my settings. But I'm getting authentication error.</p>\n<blockquote>\n<p>javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful</p>\n</blockquote>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1611848583,"post_id":65940340,"comment_id":116587800,"body_markdown":"Why can&#39;t you copy file A to A and A2, then read A, and make all the required changes to A2, and then, when you are all done, replace A with A2? Or even do all of that &quot;in place&quot;: read what needs to be read, then make all the updates you need to make?","body":"Why can&#39;t you copy file A to A and A2, then read A, and make all the required changes to A2, and then, when you are all done, replace A with A2? Or even do all of that &quot;in place&quot;: read what needs to be read, then make all the updates you need to make?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1611855667,"post_id":65940340,"comment_id":116591377,"body_markdown":"I submitted an edit to your post. Once it is approved, please confirm that the edit clearly depicts what you need.","body":"I submitted an edit to your post. Once it is approved, please confirm that the edit clearly depicts what you need."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":1,"creation_date":1611866149,"post_id":65940340,"comment_id":116595795,"body_markdown":"What have you tried so far? Were you able to open a file in Java, and read a single Excel cell for example?","body":"What have you tried so far? Were you able to open a file in Java, and read a single Excel cell for example?"},{"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"score":0,"creation_date":1611866429,"post_id":65940340,"comment_id":116595902,"body_markdown":"I can write in completly new file, or create new file, as I want. My goal is add data to existing row. Read the row and then decide weather the data shoud be append or I need to check next row. I do not use 2 files, because I need better solution. I can put all row cells in a list and add new ones and write it in the second file, but I think that there is simple solution.","body":"I can write in completly new file, or create new file, as I want. My goal is add data to existing row. Read the row and then decide weather the data shoud be append or I need to check next row. I do not use 2 files, because I need better solution. I can put all row cells in a list and add new ones and write it in the second file, but I think that there is simple solution."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1611867842,"post_id":65940340,"comment_id":116596406,"body_markdown":"@GajJulije this is not a good reason at all. If that was the case, add every tag under the sun to reach even more people. Tags are intended to reach an audience with knowledge of the subject in question (see https://stackoverflow.com/help/tagging). Assume that people that know Selenium know nothing about Excel or Apache POI and don&#39;t bother them with the question.","body":"@GajJulije this is not a good reason at all. If that was the case, add every tag under the sun to reach even more people. Tags are intended to reach an audience with knowledge of the subject in question (see <a href=\"https://stackoverflow.com/help/tagging\">stackoverflow.com/help/tagging</a>). Assume that people that know Selenium know nothing about Excel or Apache POI and don&#39;t bother them with the question."}],"answers":[{"tags":[],"owner":{"account_id":5320558,"reputation":408,"user_id":4244130,"accept_rate":80,"display_name":"VinceLomba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674220277,"creation_date":1611871949,"answer_id":65945983,"question_id":65940340,"body_markdown":"I really think [Apache Poi][1] is the best solution when it comes to managing excels in Java. You might want to have a look [at these examples][2] provided by Apache Poi itself about this topic (the url may change slightly over time). [This article][3] also may provide an hint for the solution you&#39;re asking for.\r\n\r\nYou can create a new `Workbook` (the Java Object representing your excel) using [WorkbookFactory][4] as follows:\r\n\r\n    Workbook workbook = WorkbookFactory.create(new FileInputStream(excelFilePath));\r\n\r\nwhere `excelFilePath` is (obviously) the Path of the excel file you want to update.\r\n\r\nYou can now do whatever you want with your `Workbook`, hurray! You can both read and change all its content and (eventually) write new one! *Note that all the changes to your `Workbook` are NOT actually going to affect your excel file.* You&#39;re editing the `Workbook` Java Object, not the actual excel file. In a sense, your `Workbook` is initially created based on your excel file content, then it is totally independent from it.\r\n\r\nOnce you&#39;re done editing your `Workbook`, you can save it overriding your initial excel file (in a way, *you&#39;re now updating your excel file with all your changes*) as follows:\r\n\r\n    FileOutputStream outputStream = new FileOutputStream(excelFilePath);\r\n    workbook.write(outputStream);\r\n    workbook.close();\r\n    outputStream.close();\r\n\r\nand you&#39;re done! Simple and effective!\r\n\r\nHere it is some code that may suit your needs:\r\n\r\n    public static void main(String[] args) throws EncryptedDocumentException, IOException {\r\n\t\t\r\n\t\t// Step 1: load your excel file as a Workbook\r\n\t\t\r\n\t\tString excelFilePath = &quot;D:\\\\Desktop\\\\testExcel.xlsx&quot;;\r\n\t\tWorkbook workbook = WorkbookFactory.create(new FileInputStream(excelFilePath));\r\n\t\t\r\n\t\t// Step 2: modify your Workbook as you prefer\r\n\t\t\r\n\t\tIterator&lt;Sheet&gt; sheetIterator = workbook.sheetIterator(); // Getting an iterator for all the sheets\r\n\t\twhile (sheetIterator.hasNext()) {\r\n\t\t\tIterator&lt;Row&gt; rowIterator = sheetIterator.next().rowIterator(); // Getting an iterator for all the rows (of current sheet)\r\n\t\t\twhile (rowIterator.hasNext()) {\r\n\t\t\t\tRow row = rowIterator.next();\r\n\t\t\t\t// Put here your internal logic to understand if the row needs some changes!\r\n\t\t\t\tint cellsn = row.getLastCellNum() == -1 ? 0 : row.getLastCellNum();\r\n\t\t\t\tfor (int j = cellsn ; j &lt; cellsn + 32 ; ++j) {\r\n\t\t\t\t\trow.createCell(j, CellType.STRING).setCellValue(&quot;New column after the last existing one n&#176;&quot; + (j - cellsn + 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Step 3: update the original excel file with all your amazing changes!\r\n\t\t\r\n\t\tFileOutputStream outputStream = new FileOutputStream(excelFilePath);\r\n\t\tworkbook.write(outputStream);\r\n\t\tworkbook.close();\r\n        outputStream.close();\r\n\t}\r\n\r\nSome final notes:\r\n-----------------\r\nDo not call the method [create(java.io.File file)][5] instead of [create(java.io.InputStream inp)][4] while using `WorkbookFactory` and creating your `Workbook`, it will lead to problems when saving your file as it&#39;s discussed on [this post][6].\r\n\r\nI really don&#39;t know the reason why you initially add the tag &quot;selenium&quot; to your question *but* if you&#39;re thinking to use some spider-code to &quot;manually&quot; open and edit your excel file, please don&#39;t. This solution is as horrible as HSSF is (did you get the [joke][7]?).\r\n\r\nIf you&#39;re using .xlsx excel files, you may want to use Apache Poi XSSF objects (as [XSSFWorkbook][8], [XSSFRow][9] and [XSSFCell][10]). More about [XSSF vs HSSF on this post][11].\r\n\r\nFinally, here it is the explicit list of all libreries needed in order for my code to run (they&#39;re a lot, do not panic): [Apache Poi 4.1.2][12], [Apache Poi Ooxml 4.1.2][13], [Apache Poi Ooxml Schemas 4.1.2][14], [XmlBeans][15], [Commons Codec][16], [Commons Collections4][17], [Commons Compress][18] and [Commons Math3][19]. If you&#39;re using Maven, just add to your dependencies file the following lines:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n       &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n       &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n       &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n       &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd that&#39;s all, hope it helps! Good work!\r\n\r\n\r\n  [1]: https://poi.apache.org/\r\n  [2]: https://svn.apache.org/viewvc/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/\r\n  [3]: https://www.codejava.net/coding/java-example-to-update-existing-excel-files-using-apache-poi\r\n  [4]: https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/WorkbookFactory.html#create-java.io.InputStream-\r\n  [5]: https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/WorkbookFactory.html#create-java.io.File-\r\n  [6]: https://stackoverflow.com/questions/14117617/apache-poi-unable-to-write-to-an-existing-workbook\r\n  [7]: https://www.allacronyms.com/HSSF/Horrible_Spreadsheet_Format\r\n  [8]: https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\r\n  [9]: https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFRow.html\r\n  [10]: https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html\r\n  [11]: https://stackoverflow.com/questions/58883341/mapping-of-apache-poi-hssf-xssf-to-xls-xlsx\r\n  [12]: https://mvnrepository.com/artifact/org.apache.poi/poi/4.1.2\r\n  [13]: https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml/4.1.2\r\n  [14]: https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas/4.1.2\r\n  [15]: https://mvnrepository.com/artifact/org.apache.xmlbeans/xmlbeans/3.1.0\r\n  [16]: https://mvnrepository.com/artifact/commons-codec/commons-codec/1.15\r\n  [17]: https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.4\r\n  [18]: https://mvnrepository.com/artifact/org.apache.commons/commons-compress/1.20\r\n  [19]: https://mvnrepository.com/artifact/org.apache.commons/commons-math3/3.6.1","title":"How to update an excel file in java?","body":"<p>I really think <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache Poi</a> is the best solution when it comes to managing excels in Java. You might want to have a look <a href=\"https://svn.apache.org/viewvc/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/\" rel=\"nofollow noreferrer\">at these examples</a> provided by Apache Poi itself about this topic (the url may change slightly over time). <a href=\"https://www.codejava.net/coding/java-example-to-update-existing-excel-files-using-apache-poi\" rel=\"nofollow noreferrer\">This article</a> also may provide an hint for the solution you're asking for.</p>\n<p>You can create a new <code>Workbook</code> (the Java Object representing your excel) using <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/WorkbookFactory.html#create-java.io.InputStream-\" rel=\"nofollow noreferrer\">WorkbookFactory</a> as follows:</p>\n<pre><code>Workbook workbook = WorkbookFactory.create(new FileInputStream(excelFilePath));\n</code></pre>\n<p>where <code>excelFilePath</code> is (obviously) the Path of the excel file you want to update.</p>\n<p>You can now do whatever you want with your <code>Workbook</code>, hurray! You can both read and change all its content and (eventually) write new one! <em>Note that all the changes to your <code>Workbook</code> are NOT actually going to affect your excel file.</em> You're editing the <code>Workbook</code> Java Object, not the actual excel file. In a sense, your <code>Workbook</code> is initially created based on your excel file content, then it is totally independent from it.</p>\n<p>Once you're done editing your <code>Workbook</code>, you can save it overriding your initial excel file (in a way, <em>you're now updating your excel file with all your changes</em>) as follows:</p>\n<pre><code>FileOutputStream outputStream = new FileOutputStream(excelFilePath);\nworkbook.write(outputStream);\nworkbook.close();\noutputStream.close();\n</code></pre>\n<p>and you're done! Simple and effective!</p>\n<p>Here it is some code that may suit your needs:</p>\n<pre><code>public static void main(String[] args) throws EncryptedDocumentException, IOException {\n    \n    // Step 1: load your excel file as a Workbook\n    \n    String excelFilePath = &quot;D:\\\\Desktop\\\\testExcel.xlsx&quot;;\n    Workbook workbook = WorkbookFactory.create(new FileInputStream(excelFilePath));\n    \n    // Step 2: modify your Workbook as you prefer\n    \n    Iterator&lt;Sheet&gt; sheetIterator = workbook.sheetIterator(); // Getting an iterator for all the sheets\n    while (sheetIterator.hasNext()) {\n        Iterator&lt;Row&gt; rowIterator = sheetIterator.next().rowIterator(); // Getting an iterator for all the rows (of current sheet)\n        while (rowIterator.hasNext()) {\n            Row row = rowIterator.next();\n            // Put here your internal logic to understand if the row needs some changes!\n            int cellsn = row.getLastCellNum() == -1 ? 0 : row.getLastCellNum();\n            for (int j = cellsn ; j &lt; cellsn + 32 ; ++j) {\n                row.createCell(j, CellType.STRING).setCellValue(&quot;New column after the last existing one n°&quot; + (j - cellsn + 1));\n            }\n        }\n    }\n    \n    // Step 3: update the original excel file with all your amazing changes!\n    \n    FileOutputStream outputStream = new FileOutputStream(excelFilePath);\n    workbook.write(outputStream);\n    workbook.close();\n    outputStream.close();\n}\n</code></pre>\n<h2>Some final notes:</h2>\n<p>Do not call the method <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/WorkbookFactory.html#create-java.io.File-\" rel=\"nofollow noreferrer\">create(java.io.File file)</a> instead of <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/WorkbookFactory.html#create-java.io.InputStream-\" rel=\"nofollow noreferrer\">create(java.io.InputStream inp)</a> while using <code>WorkbookFactory</code> and creating your <code>Workbook</code>, it will lead to problems when saving your file as it's discussed on <a href=\"https://stackoverflow.com/questions/14117617/apache-poi-unable-to-write-to-an-existing-workbook\">this post</a>.</p>\n<p>I really don't know the reason why you initially add the tag &quot;selenium&quot; to your question <em>but</em> if you're thinking to use some spider-code to &quot;manually&quot; open and edit your excel file, please don't. This solution is as horrible as HSSF is (did you get the <a href=\"https://www.allacronyms.com/HSSF/Horrible_Spreadsheet_Format\" rel=\"nofollow noreferrer\">joke</a>?).</p>\n<p>If you're using .xlsx excel files, you may want to use Apache Poi XSSF objects (as <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\" rel=\"nofollow noreferrer\">XSSFWorkbook</a>, <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFRow.html\" rel=\"nofollow noreferrer\">XSSFRow</a> and <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html\" rel=\"nofollow noreferrer\">XSSFCell</a>). More about <a href=\"https://stackoverflow.com/questions/58883341/mapping-of-apache-poi-hssf-xssf-to-xls-xlsx\">XSSF vs HSSF on this post</a>.</p>\n<p>Finally, here it is the explicit list of all libreries needed in order for my code to run (they're a lot, do not panic): <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi/4.1.2\" rel=\"nofollow noreferrer\">Apache Poi 4.1.2</a>, <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml/4.1.2\" rel=\"nofollow noreferrer\">Apache Poi Ooxml 4.1.2</a>, <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas/4.1.2\" rel=\"nofollow noreferrer\">Apache Poi Ooxml Schemas 4.1.2</a>, <a href=\"https://mvnrepository.com/artifact/org.apache.xmlbeans/xmlbeans/3.1.0\" rel=\"nofollow noreferrer\">XmlBeans</a>, <a href=\"https://mvnrepository.com/artifact/commons-codec/commons-codec/1.15\" rel=\"nofollow noreferrer\">Commons Codec</a>, <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.4\" rel=\"nofollow noreferrer\">Commons Collections4</a>, <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-compress/1.20\" rel=\"nofollow noreferrer\">Commons Compress</a> and <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-math3/3.6.1\" rel=\"nofollow noreferrer\">Commons Math3</a>. If you're using Maven, just add to your dependencies file the following lines:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi&lt;/artifactId&gt;\n   &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n   &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And that's all, hope it helps! Good work!</p>\n"}],"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1502,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1611872074,"accepted_answer_id":65945983,"answer_count":1,"score":0,"last_activity_date":1674220277,"creation_date":1611848274,"question_id":65940340,"body_markdown":"I need to check 30 sheets in an excel file. Every sheet has a maximum of 7 rows and plenty of columns.\r\n\r\nI need to update every row (if a certain condition is true) by adding 32 new columns after the last existing column, then save the file.\r\n\r\nSo I need to be able to do both read and write on my excel file from the same piece of code, then to save my changes updating the original excel file (using the same file name).","title":"How to update an excel file in java?","body":"<p>I need to check 30 sheets in an excel file. Every sheet has a maximum of 7 rows and plenty of columns.</p>\n<p>I need to update every row (if a certain condition is true) by adding 32 new columns after the last existing column, then save the file.</p>\n<p>So I need to be able to do both read and write on my excel file from the same piece of code, then to save my changes updating the original excel file (using the same file name).</p>\n"},{"tags":["java","memory","pointers","static","visualvm"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1262862959,"post_id":2019624,"comment_id":1941573,"body_markdown":"This is crazy, people read &quot;VisualVM&quot; and they just jump in with their YourKit, MAT, mine is better that yours, etc without answering the real question. Tom, could you clarify what you are trying to do, I really don&#39;t think that generating heap dumps is the way to go.","body":"This is crazy, people read &quot;VisualVM&quot; and they just jump in with their YourKit, MAT, mine is better that yours, etc without answering the real question. Tom, could you clarify what you are trying to do, I really don&#39;t think that generating heap dumps is the way to go."},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1262865947,"post_id":2019624,"comment_id":1941905,"body_markdown":"@Pascal: My mentioning of MAT was just a generic alternative as you can see me and a few others also suggests that Tom creates an MBean or something where he can either publish the values as attributes or have an operation to look specific values up if that is more practical. What is so crazy with that? An alternative could of course be to not use JMX but create some other interface to do the same but then Tom will have to write a lot of things JMX takes care of anyway. He asked for alternatives for a very vague need and he got them. Nothing crazy with that.","body":"@Pascal: My mentioning of MAT was just a generic alternative as you can see me and a few others also suggests that Tom creates an MBean or something where he can either publish the values as attributes or have an operation to look specific values up if that is more practical. What is so crazy with that? An alternative could of course be to not use JMX but create some other interface to do the same but then Tom will have to write a lot of things JMX takes care of anyway. He asked for alternatives for a very vague need and he got them. Nothing crazy with that."},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1262866715,"post_id":2019624,"comment_id":1941965,"body_markdown":"All answers so far were more than helpful! I understand that my question might be quite vague but for someone unexperienced with all the terms in this field this is the best I can do.","body":"All answers so far were more than helpful! I understand that my question might be quite vague but for someone unexperienced with all the terms in this field this is the best I can do."},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1262869328,"post_id":2019624,"comment_id":1942229,"body_markdown":"@Tom: Is it a set of well defined parameters you want to look at or something more complex?","body":"@Tom: Is it a set of well defined parameters you want to look at or something more complex?"},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1262873605,"post_id":2019624,"comment_id":1942763,"body_markdown":"I updated my question with an example of what I need to do. I think it&#39;s a well defined parameter (?)","body":"I updated my question with an example of what I need to do. I think it&#39;s a well defined parameter (?)"},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1262883980,"post_id":2019624,"comment_id":1944205,"body_markdown":"@Tom: I edited my post slightly. SO doesn&#39;t have a very good PM function but if I forget to extend it more, please comment on that post to remind me.","body":"@Tom: I edited my post slightly. SO doesn&#39;t have a very good PM function but if I forget to extend it more, please comment on that post to remind me."},{"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":0,"creation_date":1262884901,"post_id":2019624,"comment_id":1944323,"body_markdown":"Thanks, I commented your post.","body":"Thanks, I commented your post."}],"answers":[{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262880628,"creation_date":1262862199,"answer_id":2019728,"question_id":2019624,"body_markdown":"Triggering a heapdump is usefull for post-mortem analysis of say memory leaks, but as the Java garbage collector moves objects around, you cannot use the memory values of a heapdump to reliably access those objects.\r\n\r\n&lt;strike&gt;If you need a way to query internal values from outside of the application you could look into setting up an RMI service API via which you can retrieve the values you need.&lt;/strike&gt;\r\n\r\nAnother method (if you just need to test something) could be to connect to the process via de Java debugging API.\r\n\r\nIf you know the JRE location that is used, you could rename java.exe and write a (C/C++) wrapper that adds the debug options listed by Carl and calls the renamed_java.exe in turn.\r\n\r\nAnother posibility might be to add or update classes in the `.jar` file of the application. You do not need the source to do this.\r\n\r\nTom, are you trying to reverse engineer an application that specifically tries to obfuscate its working? If so you might get further if you contact the manufacturer and ask them what possibilities they see for what you try to achieve?\r\n","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>Triggering a heapdump is usefull for post-mortem analysis of say memory leaks, but as the Java garbage collector moves objects around, you cannot use the memory values of a heapdump to reliably access those objects.</p>\n\n<p><strike>If you need a way to query internal values from outside of the application you could look into setting up an RMI service API via which you can retrieve the values you need.</strike></p>\n\n<p>Another method (if you just need to test something) could be to connect to the process via de Java debugging API.</p>\n\n<p>If you know the JRE location that is used, you could rename java.exe and write a (C/C++) wrapper that adds the debug options listed by Carl and calls the renamed_java.exe in turn.</p>\n\n<p>Another posibility might be to add or update classes in the <code>.jar</code> file of the application. You do not need the source to do this.</p>\n\n<p>Tom, are you trying to reverse engineer an application that specifically tries to obfuscate its working? If so you might get further if you contact the manufacturer and ask them what possibilities they see for what you try to achieve?</p>\n"},{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262862356,"creation_date":1262862356,"answer_id":2019742,"question_id":2019624,"body_markdown":"Have a look at [YourKit][1]. You can monitor CPU, memory and threads live, and generate dumps whenever you want. It can even compare different memory dumps to show you which objects were added/removed.\n\nIt&#39;s not free though, it has a 15 day (or 30 day?) fully functional eval period. If free is not a real concern it&#39;s definitely a great tool.\n\n  [1]: http://www.yourkit.com/","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>Have a look at <a href=\"http://www.yourkit.com/\" rel=\"nofollow noreferrer\">YourKit</a>. You can monitor CPU, memory and threads live, and generate dumps whenever you want. It can even compare different memory dumps to show you which objects were added/removed.</p>\n<p>It's not free though, it has a 15 day (or 30 day?) fully functional eval period. If free is not a real concern it's definitely a great tool.</p>\n"},{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262862408,"creation_date":1262862408,"answer_id":2019747,"question_id":2019624,"body_markdown":"If you want to poll the values of specific objects while your Java application is running you would probably find that using [JMX][1] is a better and more efficient approach rather than using a heap dump. With JMX you can define what values should be exposed and use tools such as VisualVM or JConsole to view them at runtime.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Management_Extensions","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>If you want to poll the values of specific objects while your Java application is running you would probably find that using <a href=\"http://en.wikipedia.org/wiki/Java_Management_Extensions\" rel=\"nofollow noreferrer\">JMX</a> is a better and more efficient approach rather than using a heap dump. With JMX you can define what values should be exposed and use tools such as VisualVM or JConsole to view them at runtime.</p>\n"},{"tags":[],"owner":{"account_id":26152,"reputation":7855,"user_id":67796,"accept_rate":95,"display_name":"n002213f"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262862465,"creation_date":1262862465,"answer_id":2019752,"question_id":2019624,"body_markdown":"I good starting point is the [`jps`][1] and [`jstat`][2] tools added in Java 6 (i think). `jps` gives you the pid and main class for each application. `jstat` give you more details about process\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/share/jps.html\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/tools/share/jstat.html","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>I good starting point is the <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jps.html\" rel=\"nofollow noreferrer\"><code>jps</code></a> and <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jstat.html\" rel=\"nofollow noreferrer\"><code>jstat</code></a> tools added in Java 6 (i think). <code>jps</code> gives you the pid and main class for each application. <code>jstat</code> give you more details about process</p>\n"},{"tags":[],"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262883700,"creation_date":1262862516,"answer_id":2019755,"question_id":2019624,"body_markdown":"You can easily generate a heap dump by creating your own JMX connection to the JVM, just like VisualVM does it. Analyzing the heapdump is very possible (the data is there and totally disconnected from the JVM so there is no interference from the gc). \r\n\r\nHowever, unless it is a very specific scenario you are looking for you are probably much better off giving the heapdump to [MAT][1] and find a good workflow in there to use.\r\n\r\n**Edit:** In this particular case it is probably better to create some kind of specific API to access the values from the outside (and maybe publish the values as MBeans using JMX). Taking a heap dump is way to much work if all you want to do is monitoring a few values.\r\n\r\n\r\n**Edit2:** Based on your edits, it seems to me like you could really benefit from publishing your own MBean over JMX. I have to run for a meeting but, unless someone else does it while I am away, I will try to remember to give you some pointers later. Either in an edit of this one or in a new post.\r\n\r\n  [1]: http://www.eclipse.org/mat/","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>You can easily generate a heap dump by creating your own JMX connection to the JVM, just like VisualVM does it. Analyzing the heapdump is very possible (the data is there and totally disconnected from the JVM so there is no interference from the gc). </p>\n\n<p>However, unless it is a very specific scenario you are looking for you are probably much better off giving the heapdump to <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">MAT</a> and find a good workflow in there to use.</p>\n\n<p><strong>Edit:</strong> In this particular case it is probably better to create some kind of specific API to access the values from the outside (and maybe publish the values as MBeans using JMX). Taking a heap dump is way to much work if all you want to do is monitoring a few values.</p>\n\n<p><strong>Edit2:</strong> Based on your edits, it seems to me like you could really benefit from publishing your own MBean over JMX. I have to run for a meeting but, unless someone else does it while I am away, I will try to remember to give you some pointers later. Either in an edit of this one or in a new post.</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1262876096,"creation_date":1262863931,"answer_id":2019902,"question_id":2019624,"body_markdown":"It looks like you want to debug running Java applications.\r\n\r\nThe &quot;official&quot; Java debugger is JDB. I believe it&#39;s part of the JDK. It has the ability to set breakpoints, examine heaps, list and display and even change variables, show running threads and so on. The usual debugger stuff. But it&#39;s command line, which makes it a pain in the neck to work with.\r\n\r\nInstead, it makes a lot of sense to use an IDE with integrated debugger. I use Eclipse. You can do all the usual debuggery things, including displaying windows with variables. You can set conditional breakpoints and there&#39;s much more. Specifically in answer to your question, you can set up watch expressions, which will be evaluated during the program&#39;s execution and their displays refreshed with new values when they change.\r\n\r\nYou may not want to run your Java app inside the IDE; or it may be running in a Web application server. That&#39;s no problem for JDB or Eclipse (or other IDEs, like NetBeans or IntelliJ Idea): They can connect to a running JVM and debug remotely with the same level of convenience.\r\n\r\nA program being debugged like this, remotely or otherwise, run somewhat more slowly than if it were not. Your game, while being debugged, will run at rather bad-looking FPS; but it should still respond more or less normally to gameplay interaction.\r\n\r\n----\r\n\r\n&lt;h3&gt;Remote debugging:&lt;/h3&gt;\r\n\r\n&gt; To be able to attach your &lt;s&gt;Eclipse&lt;/s&gt;NetBeans debugger to a running Java process you need to start that process with the following Java options…\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,address=3704,server=y,suspend=n","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>It looks like you want to debug running Java applications.</p>\n\n<p>The \"official\" Java debugger is JDB. I believe it's part of the JDK. It has the ability to set breakpoints, examine heaps, list and display and even change variables, show running threads and so on. The usual debugger stuff. But it's command line, which makes it a pain in the neck to work with.</p>\n\n<p>Instead, it makes a lot of sense to use an IDE with integrated debugger. I use Eclipse. You can do all the usual debuggery things, including displaying windows with variables. You can set conditional breakpoints and there's much more. Specifically in answer to your question, you can set up watch expressions, which will be evaluated during the program's execution and their displays refreshed with new values when they change.</p>\n\n<p>You may not want to run your Java app inside the IDE; or it may be running in a Web application server. That's no problem for JDB or Eclipse (or other IDEs, like NetBeans or IntelliJ Idea): They can connect to a running JVM and debug remotely with the same level of convenience.</p>\n\n<p>A program being debugged like this, remotely or otherwise, run somewhat more slowly than if it were not. Your game, while being debugged, will run at rather bad-looking FPS; but it should still respond more or less normally to gameplay interaction.</p>\n\n<hr>\n\n<h3>Remote debugging:</h3>\n\n<blockquote>\n  <p>To be able to attach your <s>Eclipse</s>NetBeans debugger to a running Java process you need to start that process with the following Java options…</p>\n</blockquote>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,address=3704,server=y,suspend=n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404758028,"creation_date":1404758028,"answer_id":24617403,"question_id":2019624,"body_markdown":"With VisualVM and heapdump you can find all classes with certain property by OQL:\r\n\r\n    var out = &quot;&quot;;\r\n    var cls = filter(heap.classes(), &quot;/java./(it.name)&quot;)\r\n\r\n    while (cls.hasNext()) {\r\n      var cl = cls.next();\r\n      var fls = cl.fields;\r\n      while (fls.hasMoreElements()) {\r\n        var fl = fls.nextElement();\r\n        if (/size/(fl.name)) {\r\n          out = toHtml(cl) + &quot;.&quot; + fl.name + &quot;()\\n&quot;;\r\n        }\r\n      }\r\n    }\r\n\r\n    out.toString()\r\n\r\nand write custom logging for [BTrace][1]\r\n\r\nIt is alternative for debugging.\r\n\r\n  [1]: https://kenai.com/projects/btrace\r\n\r\n","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>With VisualVM and heapdump you can find all classes with certain property by OQL:</p>\n\n<pre><code>var out = \"\";\nvar cls = filter(heap.classes(), \"/java./(it.name)\")\n\nwhile (cls.hasNext()) {\n  var cl = cls.next();\n  var fls = cl.fields;\n  while (fls.hasMoreElements()) {\n    var fl = fls.nextElement();\n    if (/size/(fl.name)) {\n      out = toHtml(cl) + \".\" + fl.name + \"()\\n\";\n    }\n  }\n}\n\nout.toString()\n</code></pre>\n\n<p>and write custom logging for <a href=\"https://kenai.com/projects/btrace\" rel=\"nofollow\">BTrace</a></p>\n\n<p>It is alternative for debugging.</p>\n"},{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674220135,"creation_date":1674220135,"answer_id":75184447,"question_id":2019624,"body_markdown":"FusionReactor could be a good alternative. For example;\r\n\r\n \r\n\r\n&gt; VisualVM doesn’t give you a lot of insides on application memory\r\n&gt; except for the total Heap allocation. Heap is a good metric to start\r\n&gt; with, but I feel this is not enough to troubleshoot the actual cause\r\n&gt; of a memory-related issue.\r\n\r\n\r\n&gt; FusionReactor will display all of the memory spaces it detects, which\r\n&gt; depends on the version of Java you’re running:\r\n&gt; \r\n&gt; Heap allocation Non-Heap allocation CodeHeap (profiled and\r\n&gt; non-profiled methods) Compressed Class Space FusionReactor also shows\r\n&gt; the amount of memory that each generation takes Eden Space Old Space\r\n&gt; Survivor Space\r\n\r\nhttps://www.fusion-reactor.com/blog/java-visualvm-alternatives/","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>FusionReactor could be a good alternative. For example;</p>\n<blockquote>\n<p>VisualVM doesn’t give you a lot of insides on application memory\nexcept for the total Heap allocation. Heap is a good metric to start\nwith, but I feel this is not enough to troubleshoot the actual cause\nof a memory-related issue.</p>\n</blockquote>\n<blockquote>\n<p>FusionReactor will display all of the memory spaces it detects, which\ndepends on the version of Java you’re running:</p>\n<p>Heap allocation Non-Heap allocation CodeHeap (profiled and\nnon-profiled methods) Compressed Class Space FusionReactor also shows\nthe amount of memory that each generation takes Eden Space Old Space\nSurvivor Space</p>\n</blockquote>\n<p><a href=\"https://www.fusion-reactor.com/blog/java-visualvm-alternatives/\" rel=\"nofollow noreferrer\">https://www.fusion-reactor.com/blog/java-visualvm-alternatives/</a></p>\n"}],"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2019902,"answer_count":8,"score":2,"last_activity_date":1674220135,"creation_date":1262860987,"question_id":2019624,"body_markdown":"I&#39;m not experienced with java applications but I found out that finding static pointers etc. to these applications&#39; memory addresses is often (nearly) impossible, apparently because of the java engine that handles the code (correct me if this way of naming it is wrong please).\r\n\r\nNow, I&#39;ve used VisualVM (https://visualvm.dev.java.net/) and it&#39;s great. I can select my java process and create a heap dump. It then shows me all classes and their values.\r\n\r\nCan I use this method to continousely poll the heap dump and receive object values, for example the X Y and Z of a game? How would I programmatically interact with such application, and if this should not be done with VisualVM, what would be an alternative?\r\n\r\n**Edit: this is what I need to do:**\r\nI need to be able to find all classes with properties that have a certain value. For example: I&#39;d search for the X coordinate (a float) and it should return the class &quot;PlayerCoordsHandler&quot; (just an example) and the corresponding float with it&#39;s value... or alternatively just a way to find this same float again (after restarting for example). This process does not have to be programmatic, aslong as requesting the value of the now known property (x float) can be retrieved programmatically (for example with a command line utility or reading from a file).\r\n\r\n**Edit2:**\r\nThe target application is a windows executable (but made with java) and launches it&#39;s own java VM. It&#39;s not possible to add java parameters for debugging. This does not seem to be required though, as VirtualVM is able to debug the process just fine. Anyone knows how?\r\n\r\nThanks in advance.","title":"An alternative of software like VisualVM to programmatically find running java applications&#39; values etc. by searching heap dumps?","body":"<p>I'm not experienced with java applications but I found out that finding static pointers etc. to these applications' memory addresses is often (nearly) impossible, apparently because of the java engine that handles the code (correct me if this way of naming it is wrong please).</p>\n\n<p>Now, I've used VisualVM (<a href=\"https://visualvm.dev.java.net/\" rel=\"nofollow noreferrer\">https://visualvm.dev.java.net/</a>) and it's great. I can select my java process and create a heap dump. It then shows me all classes and their values.</p>\n\n<p>Can I use this method to continousely poll the heap dump and receive object values, for example the X Y and Z of a game? How would I programmatically interact with such application, and if this should not be done with VisualVM, what would be an alternative?</p>\n\n<p><strong>Edit: this is what I need to do:</strong>\nI need to be able to find all classes with properties that have a certain value. For example: I'd search for the X coordinate (a float) and it should return the class \"PlayerCoordsHandler\" (just an example) and the corresponding float with it's value... or alternatively just a way to find this same float again (after restarting for example). This process does not have to be programmatic, aslong as requesting the value of the now known property (x float) can be retrieved programmatically (for example with a command line utility or reading from a file).</p>\n\n<p><strong>Edit2:</strong>\nThe target application is a windows executable (but made with java) and launches it's own java VM. It's not possible to add java parameters for debugging. This does not seem to be required though, as VirtualVM is able to debug the process just fine. Anyone knows how?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","jfugue"],"comments":[{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1674246948,"post_id":75182499,"comment_id":132681677,"body_markdown":"You can use less code by using the V and I tokens in your strings rather than setting the instrument and voice on patterns. For example: String base = &quot;V0 I[Piano] Cmajw Gmajw&quot;; and musicStringList.add(&quot;V1 I[Flute] G5i Ri G5i Ri G5i Ri&quot;);\n\nI&#39;d also suggest printing the strings that you&#39;re generating to make sure they look right to you. For example, you can check for missing spaces between voices.","body":"You can use less code by using the V and I tokens in your strings rather than setting the instrument and voice on patterns. For example: String base = &quot;V0 I[Piano] Cmajw Gmajw&quot;; and musicStringList.add(&quot;V1 I[Flute] G5i Ri G5i Ri G5i Ri&quot;);  I&#39;d also suggest printing the strings that you&#39;re generating to make sure they look right to you. For example, you can check for missing spaces between voices."}],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674219921,"creation_date":1674209167,"question_id":75182499,"body_markdown":"I am trying to play a list of music strings using a for loop.\r\n\r\nWhile the first music string is played correctly along with the base, the second and the subsequent do not play simultaneously.\r\n\r\nAm i missing something here?\r\n\r\n    /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) throws InterruptedException {\r\n            List&lt;String&gt; musicStringList = new ArrayList&lt;&gt;();\r\n    \r\n            musicStringList.add(&quot;G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri&quot;);\r\n            musicStringList.add(&quot;D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri&quot;);\r\n            musicStringList.add(&quot;E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri&quot;);\r\n    \r\n            Player player = new Player();\r\n            String base = &quot;Cmajw Gmajw&quot;;\r\n            for (int i = 0; i &lt; musicStringList.size(); i++) {\r\n                List&lt;Pattern&gt; patterns = new ArrayList&lt;&gt;();\r\n                String voice = musicStringList.get(i);\r\n                Pattern p0 = new Pattern(voice);\r\n                p0.setInstrument(&quot;Flute&quot;);\r\n                Pattern p1 = new Pattern(base);\r\n                p1.setInstrument(&quot;Piano&quot;);\r\n                patterns.add(p0);\r\n                patterns.add(p1);\r\n                for (int j = 0; j &lt; patterns.size(); j++) {\r\n                    patterns.get(j).setVoice(j);\r\n                }\r\n                Pattern[] patternsArr = patterns.toArray(new Pattern[0]);\r\n                player.play(patternsArr);\r\n            }\r\n        }","title":"JFugue: play list of music strings using loop","body":"<p>I am trying to play a list of music strings using a for loop.</p>\n<p>While the first music string is played correctly along with the base, the second and the subsequent do not play simultaneously.</p>\n<p>Am i missing something here?</p>\n<pre><code>/**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws InterruptedException {\n        List&lt;String&gt; musicStringList = new ArrayList&lt;&gt;();\n\n        musicStringList.add(&quot;G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri G5i Ri&quot;);\n        musicStringList.add(&quot;D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri D5i Ri&quot;);\n        musicStringList.add(&quot;E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri E5i Ri&quot;);\n\n        Player player = new Player();\n        String base = &quot;Cmajw Gmajw&quot;;\n        for (int i = 0; i &lt; musicStringList.size(); i++) {\n            List&lt;Pattern&gt; patterns = new ArrayList&lt;&gt;();\n            String voice = musicStringList.get(i);\n            Pattern p0 = new Pattern(voice);\n            p0.setInstrument(&quot;Flute&quot;);\n            Pattern p1 = new Pattern(base);\n            p1.setInstrument(&quot;Piano&quot;);\n            patterns.add(p0);\n            patterns.add(p1);\n            for (int j = 0; j &lt; patterns.size(); j++) {\n                patterns.get(j).setVoice(j);\n            }\n            Pattern[] patternsArr = patterns.toArray(new Pattern[0]);\n            player.play(patternsArr);\n        }\n    }\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","google-cloud-bigtable","bigtable"],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674219754,"creation_date":1674219754,"answer_id":75184384,"question_id":75183019,"body_markdown":"try the following code, this will work\r\n\r\n    PipelineOptions options = PipelineOptionsFactory.create();\r\n    BigtableOptions btOptions = options.as(BigtableOptions.class);\r\n    btOptions.setProjectId(&quot;your-project-id&quot;);\r\n    btOptions.setInstanceId(&quot;your-instance-id&quot;);\r\n    \r\n    Pipeline p = Pipeline.create(options);\r\n    \r\n\r\n    PCollection&lt;String&gt; rowKeys = p.apply(Create.of(&quot;row_key_1&quot;, &quot;row_key_2&quot;, &quot;row_key_3&quot;));\r\n    \r\n    rowKeys.apply(BigtableIO.write()\r\n        .withBigtableOptions(btOptions)\r\n        .withTableId(&quot;your-table-id&quot;)\r\n        .withDeleteAll(true));\r\n    \r\n    p.run();\r\n\r\n","title":"How to delete record from Bigtable","body":"<p>try the following code, this will work</p>\n<pre><code>PipelineOptions options = PipelineOptionsFactory.create();\nBigtableOptions btOptions = options.as(BigtableOptions.class);\nbtOptions.setProjectId(&quot;your-project-id&quot;);\nbtOptions.setInstanceId(&quot;your-instance-id&quot;);\n\nPipeline p = Pipeline.create(options);\n\n\nPCollection&lt;String&gt; rowKeys = p.apply(Create.of(&quot;row_key_1&quot;, &quot;row_key_2&quot;, &quot;row_key_3&quot;));\n\nrowKeys.apply(BigtableIO.write()\n    .withBigtableOptions(btOptions)\n    .withTableId(&quot;your-table-id&quot;)\n    .withDeleteAll(true));\n\np.run();\n</code></pre>\n"}],"owner":{"account_id":24721056,"reputation":11,"user_id":18610147,"display_name":"Anurag Deshmukh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674219754,"creation_date":1674211818,"question_id":75183019,"body_markdown":"I have datapipeline in dataflow; and am trying to delete record from bigtable using rowkey.\r\nI tried couple of ways using; ex -\r\n\r\nHowever am unable to successfully delete record, can i get some sample code if anyone has been successfully be able to perform delete using either dataflow or using java.\r\n\r\n\r\n    Delete d = new Delete(Bytes.toBytes(row_key));\r\n    listOfBatchDelete.add(d);\r\n    table.delete(listOfBatchDelete);","title":"How to delete record from Bigtable","body":"<p>I have datapipeline in dataflow; and am trying to delete record from bigtable using rowkey.\nI tried couple of ways using; ex -</p>\n<p>However am unable to successfully delete record, can i get some sample code if anyone has been successfully be able to perform delete using either dataflow or using java.</p>\n<pre><code>Delete d = new Delete(Bytes.toBytes(row_key));\nlistOfBatchDelete.add(d);\ntable.delete(listOfBatchDelete);\n</code></pre>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1674136263,"post_id":75173196,"comment_id":132653460,"body_markdown":"This works just fine for me. But you should definitely be using new `java.time` classes for this","body":"This works just fine for me. But you should definitely be using new <code>java.time</code> classes for this"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1674174099,"post_id":75173196,"comment_id":132664678,"body_markdown":"I can&#39;t reproduce this behavior on Java 17 or Java 8. Can you please be specific about the version of Java you are running (vendor and version)?","body":"I can&#39;t reproduce this behavior on Java 17 or Java 8. Can you please be specific about the version of Java you are running (vendor and version)?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674206718,"post_id":75173196,"comment_id":132668789,"body_markdown":"Which is your default time zone? Is that BRT for Brasilia Time? America/Sao_Paulo??","body":"Which is your default time zone? Is that BRT for Brasilia Time? America/Sao_Paulo??"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674207394,"post_id":75173196,"comment_id":132669002,"body_markdown":"Could this have to do with an outdated time zone database? I seem to remember that the summer time (DST) rules in Brazil were changed a few years ago, and I figure that if your Java has the old version, it just might give unexpected results like these.","body":"Could this have to do with an outdated time zone database? I seem to remember that the summer time (DST) rules in Brazil were changed a few years ago, and I figure that if your Java has the old version, it just might give unexpected results like these."},{"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"score":0,"creation_date":1674221103,"post_id":75173196,"comment_id":132673281,"body_markdown":"@Ole V.V could be right. I&#39;m starting to believe that this problem might be the result of a somewhat outdated Java version and some weird PC configurations. I&#39;ll try to run the same tests on a newer machine (a remote production server on S&#227;o Paulo) and see what happens there.","body":"@Ole V.V could be right. I&#39;m starting to believe that this problem might be the result of a somewhat outdated Java version and some weird PC configurations. I&#39;ll try to run the same tests on a newer machine (a remote production server on S&#227;o Paulo) and see what happens there."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1674225919,"post_id":75173196,"comment_id":132675218,"body_markdown":"If you have reasons not to switch to a newer Java version immediately, you can probably find a tool for updating the tz data in the Java installation that you have got. I believe this happens differently in Java implementations from different vendors, so search for how to do in your case.","body":"If you have reasons not to switch to a newer Java version immediately, you can probably find a tool for updating the tz data in the Java installation that you have got. I believe this happens differently in Java implementations from different vendors, so search for how to do in your case."}],"answers":[{"tags":[],"owner":{"account_id":12154457,"reputation":766,"user_id":8873770,"accept_rate":80,"display_name":"Jonxag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674136290,"creation_date":1674136290,"answer_id":75173269,"question_id":75173196,"body_markdown":"Probably this is caused by the default TimeZone of your PC , try adding this after you declare the Calnedar object\r\n\r\n    cal.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));","title":"Calendar`s getActualMinimum returns wrong value","body":"<p>Probably this is caused by the default TimeZone of your PC , try adding this after you declare the Calnedar object</p>\n<pre><code>cal.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674147879,"creation_date":1674143354,"answer_id":75174847,"question_id":75173196,"body_markdown":"java.time\r\n--\r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nWith `java.time`, the modern date-time API, you have [specialized types](https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html) for different purposes. A very common type is `ZonedDateTime` which contains the information of the timezone along with the date and time information. \r\n\r\n\r\n**Note**: Unlike `java.util` date-time types, `java.time` types are immutable i.e. you always get a new instance on setting a new value; therefore, like a `String`, you need to assign the new value to the reference if you want the reference to point to the new value.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.ChronoField;\r\n    import java.time.temporal.TemporalAdjusters;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            // Replace ZoneId.systemDefault() with the applicable ZoneId e.g.\r\n            // ZoneId.of(&quot;America/New_York&quot;)\r\n            ZonedDateTime zdt = ZonedDateTime.now(ZoneId.systemDefault());\r\n            System.out.println(zdt);\r\n    \r\n            zdt = zdt.with(TemporalAdjusters.firstDayOfMonth());\r\n            System.out.println(zdt);\r\n    \r\n            zdt = zdt.withHour(LocalTime.MIN.getHour());\r\n            System.out.println(zdt);\r\n    \r\n            zdt = zdt.withMinute(LocalTime.MIN.getMinute());\r\n            System.out.println(zdt);\r\n    \r\n            zdt = zdt.withSecond(LocalTime.MIN.getSecond());\r\n            System.out.println(zdt);\r\n    \r\n            zdt = zdt.with(ChronoField.MILLI_OF_SECOND, LocalTime.MIN.getLong(ChronoField.MILLI_OF_SECOND));\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\r\n            System.out.println(zdt.format(formatter));\r\n    \r\n            // In a single statement\r\n            String output = ZonedDateTime.now(ZoneId.systemDefault())\r\n                    .with(TemporalAdjusters.firstDayOfMonth())\r\n                    .withHour(LocalTime.MIN.getHour())\r\n                    .withMinute(LocalTime.MIN.getMinute())\r\n                    .withSecond(LocalTime.MIN.getSecond())\r\n                    .with(ChronoField.MILLI_OF_SECOND, LocalTime.MIN.getLong(ChronoField.MILLI_OF_SECOND))\r\n                    .format(formatter);\r\n            System.out.println(output);\r\n    \r\n            // There is a better way if all you want is day-1 with minimum time\r\n            zdt = LocalDate.now(ZoneId.systemDefault())\r\n                    .with(TemporalAdjusters.firstDayOfMonth())\r\n                    .atStartOfDay()\r\n                    .atZone(ZoneId.systemDefault());\r\n            System.out.println(zdt.format(formatter));\r\n        }\r\n    }\r\n\r\n**Output from a sample run**:\r\n\r\n    2023-01-19T16:50:43.811714Z[GMT]\r\n    2023-01-01T16:50:43.811714Z[GMT]\r\n    2023-01-01T00:50:43.811714Z[GMT]\r\n    2023-01-01T00:00:43.811714Z[GMT]\r\n    2023-01-01T00:00:00.811714Z[GMT]\r\n    2023-01-01T00:00:00.000Z\r\n    2023-01-01T00:00:00.000Z\r\n    2023-01-01T00:00:00.000Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/nIPvu7)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\nIn case you need a solution using the legacy API:\r\n--\r\n[`Calendar#getTime`](https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#getTime()) returns an instance of `java.util.Date` which is not a real date-time object; rather, it just contains the number of milliseconds from *January 1, 1970, 00:00:00 GMT*. The [`Date#toString`](https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#toString()) applies the system&#39;s timezone to calculate the date-time and returns the same.\r\n\r\nThe way to get the date-time string with the desired timezone is by applying the timezone to the `SimpleDateFormat` and using it to format the instance of `java.util.Date`.\r\n\r\n**Demo**:\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Locale;\r\n    import java.util.TimeZone;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss.SSS z yyyy&quot;, Locale.ENGLISH);\r\n            sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \r\n            Calendar cal = Calendar.getInstance();\r\n            System.out.println(&quot;After instantiation:                  &quot; + sdf.format(cal.getTime()));\r\n    \r\n            cal.set(Calendar.DAY_OF_MONTH, cal.getActualMinimum(Calendar.DAY_OF_MONTH));\r\n            System.out.println(&quot;After configuring the Day of Month:   &quot; + sdf.format(cal.getTime()));\r\n    \r\n            cal.set(Calendar.HOUR_OF_DAY, cal.getActualMinimum(Calendar.HOUR_OF_DAY));\r\n            System.out.println(&quot;After configuring the Hour of day:    &quot; + sdf.format(cal.getTime()));\r\n    \r\n            cal.set(Calendar.MINUTE, cal.getActualMinimum(Calendar.MINUTE));\r\n            System.out.println(&quot;After configuring the Minutes:        &quot; + sdf.format(cal.getTime()));\r\n    \r\n            cal.set(Calendar.SECOND, cal.getActualMinimum(Calendar.SECOND));\r\n            System.out.println(&quot;After configuring the Seconds:        &quot; + sdf.format(cal.getTime()));\r\n    \r\n            cal.set(Calendar.MILLISECOND, cal.getActualMinimum(Calendar.MILLISECOND));\r\n            System.out.println(&quot;After configuring the Millis:         &quot; + sdf.format(cal.getTime()));\r\n        }\r\n    }\r\n**Output from a sample run**:\r\n\r\n    After instantiation:                  Thu Jan 19 15:29:38.381 UTC 2023\r\n    After configuring the Day of Month:   Sun Jan 01 15:29:38.381 UTC 2023\r\n    After configuring the Hour of day:    Sun Jan 01 00:29:38.381 UTC 2023\r\n    After configuring the Minutes:        Sun Jan 01 00:00:38.381 UTC 2023\r\n    After configuring the Seconds:        Sun Jan 01 00:00:00.381 UTC 2023\r\n    After configuring the Millis:         Sun Jan 01 00:00:00.000 UTC 2023\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/tqSSxl)\r\n\r\n","title":"Calendar`s getActualMinimum returns wrong value","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>With <code>java.time</code>, the modern date-time API, you have <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"nofollow noreferrer\">specialized types</a> for different purposes. A very common type is <code>ZonedDateTime</code> which contains the information of the timezone along with the date and time information.</p>\n<p><strong>Note</strong>: Unlike <code>java.util</code> date-time types, <code>java.time</code> types are immutable i.e. you always get a new instance on setting a new value; therefore, like a <code>String</code>, you need to assign the new value to the reference if you want the reference to point to the new value.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoField;\nimport java.time.temporal.TemporalAdjusters;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        // Replace ZoneId.systemDefault() with the applicable ZoneId e.g.\n        // ZoneId.of(&quot;America/New_York&quot;)\n        ZonedDateTime zdt = ZonedDateTime.now(ZoneId.systemDefault());\n        System.out.println(zdt);\n\n        zdt = zdt.with(TemporalAdjusters.firstDayOfMonth());\n        System.out.println(zdt);\n\n        zdt = zdt.withHour(LocalTime.MIN.getHour());\n        System.out.println(zdt);\n\n        zdt = zdt.withMinute(LocalTime.MIN.getMinute());\n        System.out.println(zdt);\n\n        zdt = zdt.withSecond(LocalTime.MIN.getSecond());\n        System.out.println(zdt);\n\n        zdt = zdt.with(ChronoField.MILLI_OF_SECOND, LocalTime.MIN.getLong(ChronoField.MILLI_OF_SECOND));\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\n        System.out.println(zdt.format(formatter));\n\n        // In a single statement\n        String output = ZonedDateTime.now(ZoneId.systemDefault())\n                .with(TemporalAdjusters.firstDayOfMonth())\n                .withHour(LocalTime.MIN.getHour())\n                .withMinute(LocalTime.MIN.getMinute())\n                .withSecond(LocalTime.MIN.getSecond())\n                .with(ChronoField.MILLI_OF_SECOND, LocalTime.MIN.getLong(ChronoField.MILLI_OF_SECOND))\n                .format(formatter);\n        System.out.println(output);\n\n        // There is a better way if all you want is day-1 with minimum time\n        zdt = LocalDate.now(ZoneId.systemDefault())\n                .with(TemporalAdjusters.firstDayOfMonth())\n                .atStartOfDay()\n                .atZone(ZoneId.systemDefault());\n        System.out.println(zdt.format(formatter));\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run</strong>:</p>\n<pre><code>2023-01-19T16:50:43.811714Z[GMT]\n2023-01-01T16:50:43.811714Z[GMT]\n2023-01-01T00:50:43.811714Z[GMT]\n2023-01-01T00:00:43.811714Z[GMT]\n2023-01-01T00:00:00.811714Z[GMT]\n2023-01-01T00:00:00.000Z\n2023-01-01T00:00:00.000Z\n2023-01-01T00:00:00.000Z\n</code></pre>\n<p><a href=\"https://ideone.com/nIPvu7\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<h2>In case you need a solution using the legacy API:</h2>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#getTime()\" rel=\"nofollow noreferrer\"><code>Calendar#getTime</code></a> returns an instance of <code>java.util.Date</code> which is not a real date-time object; rather, it just contains the number of milliseconds from <em>January 1, 1970, 00:00:00 GMT</em>. The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#toString()\" rel=\"nofollow noreferrer\"><code>Date#toString</code></a> applies the system's timezone to calculate the date-time and returns the same.</p>\n<p>The way to get the date-time string with the desired timezone is by applying the timezone to the <code>SimpleDateFormat</code> and using it to format the instance of <code>java.util.Date</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Locale;\nimport java.util.TimeZone;\n\nclass Main {\n    public static void main(String[] args) {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss.SSS z yyyy&quot;, Locale.ENGLISH);\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n\n        Calendar cal = Calendar.getInstance();\n        System.out.println(&quot;After instantiation:                  &quot; + sdf.format(cal.getTime()));\n\n        cal.set(Calendar.DAY_OF_MONTH, cal.getActualMinimum(Calendar.DAY_OF_MONTH));\n        System.out.println(&quot;After configuring the Day of Month:   &quot; + sdf.format(cal.getTime()));\n\n        cal.set(Calendar.HOUR_OF_DAY, cal.getActualMinimum(Calendar.HOUR_OF_DAY));\n        System.out.println(&quot;After configuring the Hour of day:    &quot; + sdf.format(cal.getTime()));\n\n        cal.set(Calendar.MINUTE, cal.getActualMinimum(Calendar.MINUTE));\n        System.out.println(&quot;After configuring the Minutes:        &quot; + sdf.format(cal.getTime()));\n\n        cal.set(Calendar.SECOND, cal.getActualMinimum(Calendar.SECOND));\n        System.out.println(&quot;After configuring the Seconds:        &quot; + sdf.format(cal.getTime()));\n\n        cal.set(Calendar.MILLISECOND, cal.getActualMinimum(Calendar.MILLISECOND));\n        System.out.println(&quot;After configuring the Millis:         &quot; + sdf.format(cal.getTime()));\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run</strong>:</p>\n<pre><code>After instantiation:                  Thu Jan 19 15:29:38.381 UTC 2023\nAfter configuring the Day of Month:   Sun Jan 01 15:29:38.381 UTC 2023\nAfter configuring the Hour of day:    Sun Jan 01 00:29:38.381 UTC 2023\nAfter configuring the Minutes:        Sun Jan 01 00:00:38.381 UTC 2023\nAfter configuring the Seconds:        Sun Jan 01 00:00:00.381 UTC 2023\nAfter configuring the Millis:         Sun Jan 01 00:00:00.000 UTC 2023\n</code></pre>\n<p><a href=\"https://ideone.com/tqSSxl\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"}],"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674219636,"creation_date":1674135918,"question_id":75173196,"body_markdown":"I need to compare a certain date to the current date/time to make sure that it comes before the first day/hour/min/sec of the current month. In order to implement this feature, a configure a `Calendar` instance using its `getActualMinimum` method, however, today (Thursday, 19/01/2023 - 10:40:18 BRT 2023), it presented a behavior that I have never faced before. Consider the following code:\r\n\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tSystem.out.println(&quot;After instantiation:                  &quot; + cal.getTime());\r\n\t\t\r\n\t\tcal.set(Calendar.DAY_OF_MONTH, cal.getActualMinimum(Calendar.DAY_OF_MONTH));\r\n\t\tSystem.out.println(&quot;After configuring the Day of Month:   &quot; + cal.getTime());\r\n\t\t\r\n\t\tcal.set(Calendar.HOUR_OF_DAY, cal.getActualMinimum(Calendar.HOUR_OF_DAY));\r\n\t\tSystem.out.println(&quot;After configuring the Hour of day:    &quot; + cal.getTime());\r\n\t\t\r\n\t\tcal.set(Calendar.MINUTE, cal.getActualMinimum(Calendar.MINUTE));\r\n\t\tSystem.out.println(&quot;After configuring the Minutes:        &quot; + cal.getTime());\r\n\t\t\r\n\t\tcal.set(Calendar.SECOND, cal.getActualMinimum(Calendar.SECOND));\r\n\t\tSystem.out.println(&quot;After configuring the Seconds:        &quot; + cal.getTime());\r\n\t\t\r\n\t\tcal.set(Calendar.MILLISECOND, cal.getActualMinimum(Calendar.MILLISECOND));\r\n\t\tSystem.out.println(&quot;After configuring the Millis:         &quot; + cal.getTime());\r\n\r\nThe code above, in the moment that this post is being created, would print to the console:\r\n\r\n    After instantiation:                  Thu Jan 19 10:40:18 BRT 2023\r\n    After configuring the Day of Month:   Sun Jan 01 10:40:18 BRT 2023\r\n    After configuring the Hour of day:    Sat Dec 31 23:40:18 BRT 2022\r\n    After configuring the Minutes:        Sat Dec 31 23:00:18 BRT 2022\r\n    After configuring the Seconds:        Sat Dec 31 23:00:00 BRT 2022\r\n    After configuring the Millis:         Sat Dec 31 23:00:00 BRT 2022\r\n\r\n\r\nCould someone explain why, after configuring the Hour of day, the value was set to **23** and not **00**?\r\n\r\nEdit: I`m using Java 8, specifically JDK 1.8.0_241\r\n  \r\nMy current and default Time Zone is the *Hor&#225;rio Padr&#227;o de Bras&#237;lia* (BRT or GMT-3)","title":"Calendar`s getActualMinimum returns wrong value","body":"<p>I need to compare a certain date to the current date/time to make sure that it comes before the first day/hour/min/sec of the current month. In order to implement this feature, a configure a <code>Calendar</code> instance using its <code>getActualMinimum</code> method, however, today (Thursday, 19/01/2023 - 10:40:18 BRT 2023), it presented a behavior that I have never faced before. Consider the following code:</p>\n<pre><code>    Calendar cal = Calendar.getInstance();\n    System.out.println(&quot;After instantiation:                  &quot; + cal.getTime());\n    \n    cal.set(Calendar.DAY_OF_MONTH, cal.getActualMinimum(Calendar.DAY_OF_MONTH));\n    System.out.println(&quot;After configuring the Day of Month:   &quot; + cal.getTime());\n    \n    cal.set(Calendar.HOUR_OF_DAY, cal.getActualMinimum(Calendar.HOUR_OF_DAY));\n    System.out.println(&quot;After configuring the Hour of day:    &quot; + cal.getTime());\n    \n    cal.set(Calendar.MINUTE, cal.getActualMinimum(Calendar.MINUTE));\n    System.out.println(&quot;After configuring the Minutes:        &quot; + cal.getTime());\n    \n    cal.set(Calendar.SECOND, cal.getActualMinimum(Calendar.SECOND));\n    System.out.println(&quot;After configuring the Seconds:        &quot; + cal.getTime());\n    \n    cal.set(Calendar.MILLISECOND, cal.getActualMinimum(Calendar.MILLISECOND));\n    System.out.println(&quot;After configuring the Millis:         &quot; + cal.getTime());\n</code></pre>\n<p>The code above, in the moment that this post is being created, would print to the console:</p>\n<pre><code>After instantiation:                  Thu Jan 19 10:40:18 BRT 2023\nAfter configuring the Day of Month:   Sun Jan 01 10:40:18 BRT 2023\nAfter configuring the Hour of day:    Sat Dec 31 23:40:18 BRT 2022\nAfter configuring the Minutes:        Sat Dec 31 23:00:18 BRT 2022\nAfter configuring the Seconds:        Sat Dec 31 23:00:00 BRT 2022\nAfter configuring the Millis:         Sat Dec 31 23:00:00 BRT 2022\n</code></pre>\n<p>Could someone explain why, after configuring the Hour of day, the value was set to <strong>23</strong> and not <strong>00</strong>?</p>\n<p>Edit: I`m using Java 8, specifically JDK 1.8.0_241</p>\n<p>My current and default Time Zone is the <em>Horário Padrão de Brasília</em> (BRT or GMT-3)</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1510913821,"post_id":47347891,"comment_id":81648250,"body_markdown":"Possible duplicate of [How can I handle Geo Location popup in mozilla and chrome browser using selenium webdriver?](https://stackoverflow.com/questions/44321401/how-can-i-handle-geo-location-popup-in-mozilla-and-chrome-browser-using-selenium)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/44321401/how-can-i-handle-geo-location-popup-in-mozilla-and-chrome-browser-using-selenium\">How can I handle Geo Location popup in mozilla and chrome browser using selenium webdriver?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10582563,"reputation":56,"user_id":7795883,"display_name":"Ashwini Mate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512640775,"creation_date":1512640775,"answer_id":47692308,"question_id":47347891,"body_markdown":"    Robot r = new Robot();\r\n    r.keyPress(KeyEvent.VK_TAB);\r\n    r.keyRelease(KeyEvent.VK_TAB);\r\n    r.keyPress(KeyEvent.VK_TAB);\r\n    r.keyRelease(KeyEvent.VK_TAB);\r\n    r.keyPress(KeyEvent.VK_ENTER);\r\n    r.keyRelease(KeyEvent.VK_ENTER);\r\n\r\nUse `java.awt.Robot` class for this, first test manually and then you can change the key handlers as needed.","title":"How to enable or disable geolocation by selenium test case","body":"<pre><code>Robot r = new Robot();\nr.keyPress(KeyEvent.VK_TAB);\nr.keyRelease(KeyEvent.VK_TAB);\nr.keyPress(KeyEvent.VK_TAB);\nr.keyRelease(KeyEvent.VK_TAB);\nr.keyPress(KeyEvent.VK_ENTER);\nr.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n\n<p>Use <code>java.awt.Robot</code> class for this, first test manually and then you can change the key handlers as needed.</p>\n"},{"tags":[],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674219530,"creation_date":1674219530,"answer_id":75184343,"question_id":47347891,"body_markdown":"For those looking for a way to do it without out robot, you can do it with options:\r\nTo deny set profile.default_content_setting_values.geolocation to 1, to auto accept set to 2 (which seems to the current default)\r\n\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\r\n\t\tArrayList&lt;String&gt; opArgList = new ArrayList&lt;&gt;(); // using an array list (so we can extend it with other passed in options)\r\n\t\topArgList.add(&quot;--no-sandbox&quot;);\r\n\t\topArgList.add(&quot;--disable-dev-shm-usage&quot;);\r\n\t\tString[] opArg = opArgList.toArray(new String[0]);\r\n\t\t\t\r\n\t\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\t\tprefs.put(&quot;profile.default_content_setting_values.geolocation&quot;, 1); \r\n\t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\t\toptions.addArguments(opArg); \r\n\r\n\t\tdriver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), options);","title":"How to enable or disable geolocation by selenium test case","body":"<p>For those looking for a way to do it without out robot, you can do it with options:\nTo deny set profile.default_content_setting_values.geolocation to 1, to auto accept set to 2 (which seems to the current default)</p>\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    \n    ArrayList&lt;String&gt; opArgList = new ArrayList&lt;&gt;(); // using an array list (so we can extend it with other passed in options)\n    opArgList.add(&quot;--no-sandbox&quot;);\n    opArgList.add(&quot;--disable-dev-shm-usage&quot;);\n    String[] opArg = opArgList.toArray(new String[0]);\n        \n    HashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n    prefs.put(&quot;profile.default_content_setting_values.geolocation&quot;, 1); \n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n    options.addArguments(opArg); \n\n    driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), options);\n</code></pre>\n"}],"owner":{"account_id":10160804,"reputation":65,"user_id":7795913,"accept_rate":80,"display_name":"Sonali Khaladkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47692308,"answer_count":2,"score":0,"last_activity_date":1674219530,"creation_date":1510912793,"question_id":47347891,"body_markdown":"I want to allow/block my current location accessible to site by clicking on allow button of that popUp, my chrome version is **62.0**, chrome driver version is **3.6.0** and I am using ubuntu **16.04** and my code snippet is, \r\n  \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--incognito&quot;);\r\n    options.addArguments(&quot;start-maximized&quot;);\r\n    options.addArguments(&quot;--disable-geolocation&quot;);\r\n    DesiredCapabilities capabilities=DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY,options);\r\n    driver = new ChromeDriver(capabilities);\r\n\r\nBut this is not working, could anyone suggest me the perfect solution for this?","title":"How to enable or disable geolocation by selenium test case","body":"<p>I want to allow/block my current location accessible to site by clicking on allow button of that popUp, my chrome version is <strong>62.0</strong>, chrome driver version is <strong>3.6.0</strong> and I am using ubuntu <strong>16.04</strong> and my code snippet is, </p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--incognito\");\noptions.addArguments(\"start-maximized\");\noptions.addArguments(\"--disable-geolocation\");\nDesiredCapabilities capabilities=DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY,options);\ndriver = new ChromeDriver(capabilities);\n</code></pre>\n\n<p>But this is not working, could anyone suggest me the perfect solution for this?</p>\n"},{"tags":["java","cryptography","hmac"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1674202550,"post_id":75180983,"comment_id":132667616,"body_markdown":"You get the result `coqCm...` if the key is hex decoded and the result `/b1O7...` if the key is UTF-8 encoded.","body":"You get the result <code>coqCm...</code> if the key is hex decoded and the result <code>&#47;b1O7...</code> if the key is UTF-8 encoded."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1674202671,"post_id":75180983,"comment_id":132667655,"body_markdown":"see here: [hex decoded](https://gchq.github.io/CyberChef/#recipe=HMAC(%7B&#39;option&#39;:&#39;Hex&#39;,&#39;string&#39;:&#39;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&#39;%7D,&#39;SHA256&#39;)From_Hex(&#39;Auto&#39;)To_Base64(&#39;A-Za-z0-9%2B/%3D&#39;)&amp;input=NzkxNDA3MzM4MTM0MjI4NDo6VGVzdE1lcmNoYW50OlRlc3RQYXltZW50LTE0MDczMjUxNDM3MDQ6MTEzMDpFVVI6QVVUSE9SSVNBVElPTjp0cnVl)","body":"see here: <a href=\"https://gchq.github.io/CyberChef/#recipe=HMAC(%7B&#39;option&#39;:&#39;Hex&#39;,&#39;string&#39;:&#39;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&#39;%7D,&#39;SHA256&#39;)From_Hex(&#39;Auto&#39;)To_Base64(&#39;A-Za-z0-9%2B/%3D&#39;)&amp;input=NzkxNDA3MzM4MTM0MjI4NDo6VGVzdE1lcmNoYW50OlRlc3RQYXltZW50LTE0MDczMjUxNDM3MDQ6MTEzMDpFVVI6QVVUSE9SSVNBVElPTjp0cnVl\" rel=\"nofollow noreferrer\">hex decoded</a>"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1674202675,"post_id":75180983,"comment_id":132667656,"body_markdown":"and: [UTF-8 encoded](https://gchq.github.io/CyberChef/#recipe=HMAC(%7B&#39;option&#39;:&#39;UTF8&#39;,&#39;string&#39;:&#39;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&#39;%7D,&#39;SHA256&#39;)From_Hex(&#39;Auto&#39;)To_Base64(&#39;A-Za-z0-9%2B/%3D&#39;)&amp;input=NzkxNDA3MzM4MTM0MjI4NDo6VGVzdE1lcmNoYW50OlRlc3RQYXltZW50LTE0MDczMjUxNDM3MDQ6MTEzMDpFVVI6QVVUSE9SSVNBVElPTjp0cnVl)","body":"and: <a href=\"https://gchq.github.io/CyberChef/#recipe=HMAC(%7B&#39;option&#39;:&#39;UTF8&#39;,&#39;string&#39;:&#39;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&#39;%7D,&#39;SHA256&#39;)From_Hex(&#39;Auto&#39;)To_Base64(&#39;A-Za-z0-9%2B/%3D&#39;)&amp;input=NzkxNDA3MzM4MTM0MjI4NDo6VGVzdE1lcmNoYW50OlRlc3RQYXltZW50LTE0MDczMjUxNDM3MDQ6MTEzMDpFVVI6QVVUSE9SSVNBVElPTjp0cnVl\" rel=\"nofollow noreferrer\">UTF-8 encoded</a>"}],"owner":{"account_id":2263600,"reputation":1045,"user_id":1992990,"accept_rate":77,"display_name":"Christian Rockrohr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674219529,"creation_date":1674199968,"question_id":75180983,"body_markdown":"I have to calc HMAC signature to compare to the one from a message.\r\nI come to two different results and do not understand the difference nor which one is correct.\r\n\r\nI have even tested different online HMAC validators and get both version from different web sites.\r\n\r\nthe message: `7914073381342284::TestMerchant:TestPayment-1407325143704:1130:EUR:AUTHORISATION:true`\r\n\r\nthe key: `44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056`\r\n\r\nresult 1: `/b1O7eDkBtlZ3I1xH+qMl/I1aRBDel8Y4sbLZXnDKEI=`\r\n\r\nresult 2: `coqCmt/IZ4E3CzPvMY8zTjQVL5hYJUiBRg8UU+iCWo0=`\r\n\r\nI guess that result 2 is the correct one.\r\n\r\n\r\nJava code calculating the first result:\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.math.BigInteger;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class HMAC {\r\n    \tstatic public byte[] calcHmacSha256(byte[] secretKey, byte[] message) {\r\n    \t    byte[] hmacSha256 = null;\r\n    \t    try {\r\n    \t      Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n    \t      SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey, &quot;HmacSHA256&quot;);\r\n    \t      mac.init(secretKeySpec);\r\n    \t      hmacSha256 = mac.doFinal(message);\r\n    \t    } catch (Exception e) {\r\n    \t      throw new RuntimeException(&quot;Failed to calculate hmac-sha256&quot;, e);\r\n    \t    }\r\n    \t    return hmacSha256;\r\n    \t  }\r\n    \t\r\n    \t  public static void main(String[] args) {\r\n    \t\t  String message = &quot;7914073381342284::TestMerchant:TestPayment-1407325143704:1130:EUR:AUTHORISATION:true&quot;;\r\n    \t\t  String key = &quot;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&quot;;\r\n    \t\t  \r\n    \t\t    try {\r\n    \t\t      byte[] hmacSha256 = HMAC.calcHmacSha256(key.getBytes(&quot;UTF-8&quot;), message.getBytes(&quot;UTF-8&quot;));\r\n    \t\t      \r\n    \t\t      //Output of HEX\r\n    \t\t      System.out.println(String.format(&quot;Hex: %064x&quot;, new BigInteger(1, hmacSha256)));\r\n    \t\t      System.out.println(&quot;Base64: &quot; + Base64.getEncoder().encodeToString(hmacSha256)); \r\n    \t\t    } catch (UnsupportedEncodingException e) {\r\n    \t\t      e.printStackTrace();\r\n    \t\t    }\r\n    \t\t  }\r\n    }\r\n\r\nJava code comming to the second result\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.SignatureException;\r\n    \r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    import org.apache.commons.codec.binary.Base64;\r\n    import org.apache.commons.codec.binary.Hex;\r\n    \r\n    public class HMACValidator {\r\n    \t\r\n    \tpublic static void main(String[] args) throws IllegalArgumentException, SignatureException {\r\n    \t\t\r\n    \r\n    \t\t  String message = &quot;7914073381342284::TestMerchant:TestPayment-1407325143704:1130:EUR:AUTHORISATION:true&quot;;\r\n    \t\t  String key = &quot;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&quot;;\r\n    \t\t\r\n    \t\tHMACValidator demo = new HMACValidator();\r\n    \t\tString result = demo.calculateHMAC(message, key);\r\n    \t\t\r\n    \t\tSystem.out.println(result);\r\n    \t}\r\n    \t\r\n        public static final String HMAC_SHA256_ALGORITHM = &quot;HmacSHA256&quot;;\r\n    \r\n        // To calculate the HMAC SHA-256\r\n        public String calculateHMAC(String data, String key) throws IllegalArgumentException, SignatureException {\r\n            try {\r\n                if (data == null || key == null) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n    \r\n                byte[] rawKey = Hex.decodeHex(key.toCharArray());\r\n                // Create an hmac_sha256 key from the raw key bytes\r\n                SecretKeySpec signingKey = new SecretKeySpec(rawKey, HMAC_SHA256_ALGORITHM);\r\n                \r\n                \r\n                // Get an hmac_sha256 Mac instance and initialize with the signing ey\r\n                Mac mac = Mac.getInstance(HMAC_SHA256_ALGORITHM);\r\n    \r\n                mac.init(signingKey);\r\n    \r\n                // Compute the hmac on input data bytes\r\n                byte[] rawHmac = mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n                \r\n                \r\n                // Base64-encode the hmac\r\n                return new String(Base64.encodeBase64(rawHmac));\r\n            } catch (IllegalArgumentException e) {\r\n                throw new IllegalArgumentException(&quot;Missing data or key.&quot;);\r\n            } catch (Exception e) {\r\n                throw new SignatureException(&quot;Failed to generate HMAC : &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nCould someone please point me in the right direction?\r\n\r\nWebsites\r\nhttps://www.devglan.com/online-tools/hmac-sha256-online is doing it &quot;wrong&quot;\r\nhttps://cryptii.com/ is doing it &quot;correct&quot;\r\n\r\n[![correct][1]][1]\r\n\r\n[![wrong][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z5vq6.png\r\n  [2]: https://i.stack.imgur.com/QgHT9.png","title":"Difference between these two HMAC excamples?","body":"<p>I have to calc HMAC signature to compare to the one from a message.\nI come to two different results and do not understand the difference nor which one is correct.</p>\n<p>I have even tested different online HMAC validators and get both version from different web sites.</p>\n<p>the message: <code>7914073381342284::TestMerchant:TestPayment-1407325143704:1130:EUR:AUTHORISATION:true</code></p>\n<p>the key: <code>44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056</code></p>\n<p>result 1: <code>/b1O7eDkBtlZ3I1xH+qMl/I1aRBDel8Y4sbLZXnDKEI=</code></p>\n<p>result 2: <code>coqCmt/IZ4E3CzPvMY8zTjQVL5hYJUiBRg8UU+iCWo0=</code></p>\n<p>I guess that result 2 is the correct one.</p>\n<p>Java code calculating the first result:</p>\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.math.BigInteger;\nimport java.util.Base64;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class HMAC {\n    static public byte[] calcHmacSha256(byte[] secretKey, byte[] message) {\n        byte[] hmacSha256 = null;\n        try {\n          Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\n          SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey, &quot;HmacSHA256&quot;);\n          mac.init(secretKeySpec);\n          hmacSha256 = mac.doFinal(message);\n        } catch (Exception e) {\n          throw new RuntimeException(&quot;Failed to calculate hmac-sha256&quot;, e);\n        }\n        return hmacSha256;\n      }\n    \n      public static void main(String[] args) {\n          String message = &quot;7914073381342284::TestMerchant:TestPayment-1407325143704:1130:EUR:AUTHORISATION:true&quot;;\n          String key = &quot;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&quot;;\n          \n            try {\n              byte[] hmacSha256 = HMAC.calcHmacSha256(key.getBytes(&quot;UTF-8&quot;), message.getBytes(&quot;UTF-8&quot;));\n              \n              //Output of HEX\n              System.out.println(String.format(&quot;Hex: %064x&quot;, new BigInteger(1, hmacSha256)));\n              System.out.println(&quot;Base64: &quot; + Base64.getEncoder().encodeToString(hmacSha256)); \n            } catch (UnsupportedEncodingException e) {\n              e.printStackTrace();\n            }\n          }\n}\n</code></pre>\n<p>Java code comming to the second result</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.security.SignatureException;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.codec.binary.Hex;\n\npublic class HMACValidator {\n    \n    public static void main(String[] args) throws IllegalArgumentException, SignatureException {\n        \n\n          String message = &quot;7914073381342284::TestMerchant:TestPayment-1407325143704:1130:EUR:AUTHORISATION:true&quot;;\n          String key = &quot;44782def547aaa06c910c43932b1eb0c71fc68d9d0c057550c48ec2acf6ba056&quot;;\n        \n        HMACValidator demo = new HMACValidator();\n        String result = demo.calculateHMAC(message, key);\n        \n        System.out.println(result);\n    }\n    \n    public static final String HMAC_SHA256_ALGORITHM = &quot;HmacSHA256&quot;;\n\n    // To calculate the HMAC SHA-256\n    public String calculateHMAC(String data, String key) throws IllegalArgumentException, SignatureException {\n        try {\n            if (data == null || key == null) {\n                throw new IllegalArgumentException();\n            }\n\n            byte[] rawKey = Hex.decodeHex(key.toCharArray());\n            // Create an hmac_sha256 key from the raw key bytes\n            SecretKeySpec signingKey = new SecretKeySpec(rawKey, HMAC_SHA256_ALGORITHM);\n            \n            \n            // Get an hmac_sha256 Mac instance and initialize with the signing ey\n            Mac mac = Mac.getInstance(HMAC_SHA256_ALGORITHM);\n\n            mac.init(signingKey);\n\n            // Compute the hmac on input data bytes\n            byte[] rawHmac = mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\n            \n            \n            // Base64-encode the hmac\n            return new String(Base64.encodeBase64(rawHmac));\n        } catch (IllegalArgumentException e) {\n            throw new IllegalArgumentException(&quot;Missing data or key.&quot;);\n        } catch (Exception e) {\n            throw new SignatureException(&quot;Failed to generate HMAC : &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Could someone please point me in the right direction?</p>\n<p>Websites\n<a href=\"https://www.devglan.com/online-tools/hmac-sha256-online\" rel=\"nofollow noreferrer\">https://www.devglan.com/online-tools/hmac-sha256-online</a> is doing it &quot;wrong&quot;\n<a href=\"https://cryptii.com/\" rel=\"nofollow noreferrer\">https://cryptii.com/</a> is doing it &quot;correct&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/Z5vq6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z5vq6.png\" alt=\"correct\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QgHT9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgHT9.png\" alt=\"wrong\" /></a></p>\n"},{"tags":["java","spring","url","syntax","postman"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674220200,"post_id":75184225,"comment_id":132673020,"body_markdown":"what problem? you just said yourself it&#39;s caused by the &quot;\\\\&quot; and that you solved it by removing one of the backslashes?","body":"what problem? you just said yourself it&#39;s caused by the &quot;\\\\&quot; and that you solved it by removing one of the backslashes?"},{"owner":{"account_id":27580525,"reputation":1,"user_id":21049843,"display_name":"Haruri"},"score":0,"creation_date":1674316117,"post_id":75184225,"comment_id":132690664,"body_markdown":"when I removed one &quot;\\&quot; it didnt solve the problem . It just made the URL valid... but in order for me to access particular location it needs to be as it was with \\\\. With just one \\ its not a valid location","body":"when I removed one &quot;\\&quot; it didnt solve the problem . It just made the URL valid... but in order for me to access particular location it needs to be as it was with \\\\. With just one \\ its not a valid location"}],"owner":{"account_id":27580525,"reputation":1,"user_id":21049843,"display_name":"Haruri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674218952,"creation_date":1674218764,"question_id":75184225,"body_markdown":"Below is the method I am using to list the files from the directory (this code is in my service class):\r\n\r\n    public Set&lt;String&gt; listOfFilesOnPrem(String dir) {\r\n        return Stream.of(new File(dir).listFiles())\r\n                .filter(file -&gt; !file.isDirectory())\r\n                .map(File::getName)\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\nAnd below is the code I am using to trigger this in my controller.class:\r\n\r\n    @GetMapping(&quot;/onprem/list/files&quot;)\r\n    public ResponseEntity&lt;Set&lt;String&gt;&gt; getListOfFilesOnPrem(@RequestParam String dir) {\r\n        return new ResponseEntity&lt;&gt;(service.listOfFilesOnPrem(dir), HttpStatus.OK);\r\n    }\r\n\r\n\r\n\r\nThis is failing because the string I am passing as a requestparam is of this format:\r\n`\\\\long.....\\...\\.....\\....`\r\n\r\nAnd it fails due to the `\\\\` at the beginning\r\n\r\nI got to know this by removing characters from URL and triggering the endpoint again from postman until I got a hit to my debugger.\r\n\r\nCan you help me get around this problem?","title":"I created a spring boot application in which I am trying to list the files from a location","body":"<p>Below is the method I am using to list the files from the directory (this code is in my service class):</p>\n<pre><code>public Set&lt;String&gt; listOfFilesOnPrem(String dir) {\n    return Stream.of(new File(dir).listFiles())\n            .filter(file -&gt; !file.isDirectory())\n            .map(File::getName)\n            .collect(Collectors.toSet());\n}\n</code></pre>\n<p>And below is the code I am using to trigger this in my controller.class:</p>\n<pre><code>@GetMapping(&quot;/onprem/list/files&quot;)\npublic ResponseEntity&lt;Set&lt;String&gt;&gt; getListOfFilesOnPrem(@RequestParam String dir) {\n    return new ResponseEntity&lt;&gt;(service.listOfFilesOnPrem(dir), HttpStatus.OK);\n}\n</code></pre>\n<p>This is failing because the string I am passing as a requestparam is of this format:\n<code>\\\\long.....\\...\\.....\\....</code></p>\n<p>And it fails due to the <code>\\\\</code> at the beginning</p>\n<p>I got to know this by removing characters from URL and triggering the endpoint again from postman until I got a hit to my debugger.</p>\n<p>Can you help me get around this problem?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":4,"creation_date":1674217133,"post_id":75183859,"comment_id":132672108,"body_markdown":"Use a JSON parser","body":"Use a JSON parser"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1674217324,"post_id":75183859,"comment_id":132672177,"body_markdown":"Regex lets you parse a specific format, which relies partially on arity and order. Your string looks like JSON, which is inherently unordered.","body":"Regex lets you parse a specific format, which relies partially on arity and order. Your string looks like JSON, which is inherently unordered."},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1674217739,"post_id":75183859,"comment_id":132672313,"body_markdown":"I believe your regex is fine. You could also use: &quot;\\\\w+[0-9]{1}(, |$)&quot;, however you need to change your &#39;if&#39; statement to &#39;while&#39; loop, like below:\n\n        Pattern p = Pattern.compile(&quot;\\\\w+[0-9]{1}(, |$)&quot;);\n        Matcher m = p.matcher(jfield);\n        while (m.find())\n                System.out.println(m.group(0));","body":"I believe your regex is fine. You could also use: &quot;\\\\w+[0-9]{1}(, |$)&quot;, however you need to change your &#39;if&#39; statement to &#39;while&#39; loop, like below:          Pattern p = Pattern.compile(&quot;\\\\w+[0-9]{1}(, |$)&quot;);         Matcher m = p.matcher(jfield);         while (m.find())                 System.out.println(m.group(0));"}],"answers":[{"tags":[],"owner":{"account_id":21477976,"reputation":24,"user_id":15825882,"display_name":"Rom&#233;o Razafindrakoto"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674218936,"creation_date":1674218936,"answer_id":75184263,"question_id":75183859,"body_markdown":"The problem with your current approach is that your regular expression is not specific enough to match only the values you want. Instead, it is matching any sequence of one or more word characters, followed by either a comma, a comma and a space, or another word character, followed by either a comma or the end of the string.\r\n\r\nA more specific approach would be to use the following regular expression:\r\n\r\n&quot;(\\bvalue\\d+\\b)(,\\s)*&quot;\r\n\r\nThis will match any sequence of the word &quot;value&quot; followed by one or more digits and a comma and a space.\r\n\r\nYou can use it like this:\r\n\r\n    Pattern p = Pattern.compile(&quot;(\\\\bvalue\\\\d+\\\\b)(,\\\\s)*&quot;);\r\n    Matcher m = p.matcher(jfield);\r\n    while (m.find()) {\r\n        System.out.print(m.group(1) + &quot; &quot;);\r\n    }\r\n\r\nThis should give you the output &quot;value1, value2, value3, value4&quot;.","title":"Getting particular values from String using regex in Java","body":"<p>The problem with your current approach is that your regular expression is not specific enough to match only the values you want. Instead, it is matching any sequence of one or more word characters, followed by either a comma, a comma and a space, or another word character, followed by either a comma or the end of the string.</p>\n<p>A more specific approach would be to use the following regular expression:</p>\n<p>&quot;(\\bvalue\\d+\\b)(,\\s)*&quot;</p>\n<p>This will match any sequence of the word &quot;value&quot; followed by one or more digits and a comma and a space.</p>\n<p>You can use it like this:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;(\\\\bvalue\\\\d+\\\\b)(,\\\\s)*&quot;);\nMatcher m = p.matcher(jfield);\nwhile (m.find()) {\n    System.out.print(m.group(1) + &quot; &quot;);\n}\n</code></pre>\n<p>This should give you the output &quot;value1, value2, value3, value4&quot;.</p>\n"}],"owner":{"account_id":20696851,"reputation":19,"user_id":15196879,"display_name":"anoopKumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674218936,"creation_date":1674216666,"question_id":75183859,"body_markdown":"I am trying to fetch particular values from a string in Java.\r\n\r\nInput String is:\r\n\r\n    String jfield = &quot;value1, value2, auth2 = {jfield:{\\&quot;label\\&quot;:\\&quot;ERP next RAW DATA\\&quot;,\\&quot;value\\&quot;:\\&quot;raw1\\&quot;,\\&quot;description\\&quot;:\\&quot;erp next description\\&quot;,\\&quot;variable\\&quot;:\\&quot;ascv12456789\\&quot;}},value3, auth3 = {jfield:{\\&quot;label\\&quot;:\\&quot;ERP next RAW DATA\\&quot;,\\&quot;value\\&quot;:\\&quot;raw2\\&quot;,\\&quot;description\\&quot;:\\&quot;erp next description\\&quot;,\\&quot;variable\\&quot;:\\&quot;ascv12456789\\&quot;}}, value4&quot;;\r\n\r\nThe expected output is:-\r\n\r\n    value1, value2, value3, value4\r\n\r\nWhat I have tried is:-\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\w+([,]|[,\\\\s]|[a-zA-Z0-9])+([,]|$)+&quot;);\r\n    Matcher m = p.matcher(jfield);\r\n    if(m.find()) \r\n    {\t    \r\n    \tSystem.out.println(m.group(0)); // whole matched expression\r\n    }\r\n\r\n\r\nResult I am getting is:-\r\n\r\n    value1, value2,","title":"Getting particular values from String using regex in Java","body":"<p>I am trying to fetch particular values from a string in Java.</p>\n<p>Input String is:</p>\n<pre><code>String jfield = &quot;value1, value2, auth2 = {jfield:{\\&quot;label\\&quot;:\\&quot;ERP next RAW DATA\\&quot;,\\&quot;value\\&quot;:\\&quot;raw1\\&quot;,\\&quot;description\\&quot;:\\&quot;erp next description\\&quot;,\\&quot;variable\\&quot;:\\&quot;ascv12456789\\&quot;}},value3, auth3 = {jfield:{\\&quot;label\\&quot;:\\&quot;ERP next RAW DATA\\&quot;,\\&quot;value\\&quot;:\\&quot;raw2\\&quot;,\\&quot;description\\&quot;:\\&quot;erp next description\\&quot;,\\&quot;variable\\&quot;:\\&quot;ascv12456789\\&quot;}}, value4&quot;;\n</code></pre>\n<p>The expected output is:-</p>\n<pre><code>value1, value2, value3, value4\n</code></pre>\n<p>What I have tried is:-</p>\n<pre><code>Pattern p = Pattern.compile(&quot;\\\\w+([,]|[,\\\\s]|[a-zA-Z0-9])+([,]|$)+&quot;);\nMatcher m = p.matcher(jfield);\nif(m.find()) \n{       \n    System.out.println(m.group(0)); // whole matched expression\n}\n</code></pre>\n<p>Result I am getting is:-</p>\n<pre><code>value1, value2,\n</code></pre>\n"},{"tags":["java","tui"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674219167,"post_id":75184253,"comment_id":132672723,"body_markdown":"If your output console supports Unicode well (basically a given on Linux and I believe Mac, possible but tricky to set up on Windows), you can just use `\\u2B24` in a string to print [U+2B24](https://www.compart.com/en/unicode/U+2B24).","body":"If your output console supports Unicode well (basically a given on Linux and I believe Mac, possible but tricky to set up on Windows), you can just use <code>\\u2B24</code> in a string to print <a href=\"https://www.compart.com/en/unicode/U+2B24\" rel=\"nofollow noreferrer\">U+2B24</a>."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1674219249,"post_id":75184253,"comment_id":132672746,"body_markdown":"Or for an outlined circle use ◯ [U+25EF](https://www.compart.com/en/unicode/U+25EF)","body":"Or for an outlined circle use ◯ <a href=\"https://www.compart.com/en/unicode/U+25EF\" rel=\"nofollow noreferrer\">U+25EF</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674223066,"post_id":75184253,"comment_id":132674037,"body_markdown":"`O` and `X`? `O` and `#`?","body":"<code>O</code> and <code>X</code>? <code>O</code> and <code>#</code>?"}],"owner":{"account_id":25874093,"reputation":19,"user_id":19604448,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674218895,"creation_date":1674218895,"question_id":75184253,"body_markdown":"I am making a board game with a simple TUI and I am trying to display the board on the screen. It&#39;s kind of like tic-tac-toe, except that what you place one the board are black or white disks. I wanted to have the black disks be an O (this would work since the run window background is black), but I can&#39;t find a way to display just a white circle or a filled in circle, rather.\r\n\r\nI was hoping that there was some way I could do all that using something like System.out.println(), because I don&#39;t really have time to start making a GUI. I&#39;ve been looking online for a while and can&#39;t find anything.\r\n\r\nIf anyone knows how to do this or a better way of doing things, it would be greatly appreciated.","title":"How can I make small circles in a java TUI?","body":"<p>I am making a board game with a simple TUI and I am trying to display the board on the screen. It's kind of like tic-tac-toe, except that what you place one the board are black or white disks. I wanted to have the black disks be an O (this would work since the run window background is black), but I can't find a way to display just a white circle or a filled in circle, rather.</p>\n<p>I was hoping that there was some way I could do all that using something like System.out.println(), because I don't really have time to start making a GUI. I've been looking online for a while and can't find anything.</p>\n<p>If anyone knows how to do this or a better way of doing things, it would be greatly appreciated.</p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672677326,"post_id":74984807,"comment_id":132325729,"body_markdown":"Mockito cannot mock static classes or methods. You&#39;ll have to user PowerMock(ito). Even better to change your classes&#39; design to be testable :)","body":"Mockito cannot mock static classes or methods. You&#39;ll have to user PowerMock(ito). Even better to change your classes&#39; design to be testable :)"},{"owner":{"account_id":8805903,"reputation":93,"user_id":12772017,"display_name":"emanoellucas"},"score":1,"creation_date":1672677559,"post_id":74984807,"comment_id":132325802,"body_markdown":"@knittl omg actually I&#39;ve created an example that is not equal to mine in reality. What if OtherClass. getConfiguration() weren&#39;t static? Btw I will edit and make it not static.","body":"@knittl omg actually I&#39;ve created an example that is not equal to mine in reality. What if OtherClass. getConfiguration() weren&#39;t static? Btw I will edit and make it not static."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672677718,"post_id":74984807,"comment_id":132325851,"body_markdown":"This might be useful: [Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/q/74027324/112968)","body":"This might be useful: <a href=\"https://stackoverflow.com/q/74027324/112968\">Why is my class not calling my mocked methods in unit test?</a>"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674218745,"creation_date":1672677613,"answer_id":74984946,"question_id":74984807,"body_markdown":"&gt; Could I do the following?\r\n\r\nYes you can do it but you are doing it the wrong way. As your method `OtherClass.getConfiguration(keys)` is a static method, you will have to write it by following this [example][1].\r\nAs your method is not `static` anymore, your code will look like this:\r\n\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyClassTest {\r\n\r\n       @Mock\r\n       private Context context;\r\n       \r\n       @Mock\r\n       private OtherClass otherClass;\r\n\r\n       @InjectMocks    \r\n       private MyClass myClass;\r\n\r\n       @Test\r\n       public void testConfigure(){\r\n          Mockito.when(otherClass.getConfiguration(any(Key.class))).thenReturn(new Configuration());\r\n          MyClass.configure(context);\r\n          verify(context.configure(configurationMock), times(1))\r\n       }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-mock-static-methods\r\n\r\n&gt; then I want to know if a mock of it inside the class of tests takes\r\n&gt; effect in MyClass instance when I run the test\r\n\r\nYes your mock takes effect in your class, as it is the purpose of the mock to give you the ability to modify the behaviour of your dependencies.\r\n\r\nAlso, when using the `@Mock` annotation, you don&#39;t need to create a `new` instance and your test did not define a class `undertest` with `@InjectMocks`.\r\n\r\nWhile calling the `when` method, you will declare the class type of `keys` with `any(Key.class)` parameter and you will provide a new instance of configuration.","title":"How to mock a method used inside my class, but it isn&#39;t passed as an argument?","body":"<blockquote>\n<p>Could I do the following?</p>\n</blockquote>\n<p>Yes you can do it but you are doing it the wrong way. As your method <code>OtherClass.getConfiguration(keys)</code> is a static method, you will have to write it by following this <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">example</a>.\nAs your method is not <code>static</code> anymore, your code will look like this:</p>\n<pre><code>import org.mockito.Mock;\nimport org.mockito.Mockito;\n\n@ExtendWith(MockitoExtension.class)\npublic class MyClassTest {\n\n   @Mock\n   private Context context;\n   \n   @Mock\n   private OtherClass otherClass;\n\n   @InjectMocks    \n   private MyClass myClass;\n\n   @Test\n   public void testConfigure(){\n      Mockito.when(otherClass.getConfiguration(any(Key.class))).thenReturn(new Configuration());\n      MyClass.configure(context);\n      verify(context.configure(configurationMock), times(1))\n   }\n\n}\n</code></pre>\n<blockquote>\n<p>then I want to know if a mock of it inside the class of tests takes\neffect in MyClass instance when I run the test</p>\n</blockquote>\n<p>Yes your mock takes effect in your class, as it is the purpose of the mock to give you the ability to modify the behaviour of your dependencies.</p>\n<p>Also, when using the <code>@Mock</code> annotation, you don't need to create a <code>new</code> instance and your test did not define a class <code>undertest</code> with <code>@InjectMocks</code>.</p>\n<p>While calling the <code>when</code> method, you will declare the class type of <code>keys</code> with <code>any(Key.class)</code> parameter and you will provide a new instance of configuration.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672679174,"creation_date":1672679174,"answer_id":74985180,"question_id":74984807,"body_markdown":"Modern versions of Mockito allow you to mock constructors.\r\n\r\nFirst, make sure you have the `mockito-inline` dependency instead of the `mockito-core` dependency. E.g., in Maven, you&#39;ll have something like this:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;4.10.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen, you can use the `mockConstruction` method to replace the constructor of `OtherClass`, and mock what even behavior you need for it:\r\n\r\n```java\r\nclass MyClassTest {\r\n    @Mock\r\n    Configuration mockedConfig;\r\n    @Mock\r\n    Context mockedContext;\r\n\r\n    @Test\r\n    public void testConfigure() {\r\n        try (MockedConstruction&lt;OtherClass&gt; mockedConstruction = \r\n             Mockito.mockConstruction(OtherClass.class, (mock, context) -&gt; {\r\n            Mockito.when(mock.getConfiguration(Mockito.any())).thenReturn(mockedConfig);\r\n            // Additional mocking you may need\r\n        })) {\r\n            MyClass.configure(mockedContext);\r\n            // assertions...\r\n        }\r\n    }\r\n}\r\n```","title":"How to mock a method used inside my class, but it isn&#39;t passed as an argument?","body":"<p>Modern versions of Mockito allow you to mock constructors.</p>\n<p>First, make sure you have the <code>mockito-inline</code> dependency instead of the <code>mockito-core</code> dependency. E.g., in Maven, you'll have something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then, you can use the <code>mockConstruction</code> method to replace the constructor of <code>OtherClass</code>, and mock what even behavior you need for it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClassTest {\n    @Mock\n    Configuration mockedConfig;\n    @Mock\n    Context mockedContext;\n\n    @Test\n    public void testConfigure() {\n        try (MockedConstruction&lt;OtherClass&gt; mockedConstruction = \n             Mockito.mockConstruction(OtherClass.class, (mock, context) -&gt; {\n            Mockito.when(mock.getConfiguration(Mockito.any())).thenReturn(mockedConfig);\n            // Additional mocking you may need\n        })) {\n            MyClass.configure(mockedContext);\n            // assertions...\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8805903,"reputation":93,"user_id":12772017,"display_name":"emanoellucas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674218745,"creation_date":1672676824,"question_id":74984807,"body_markdown":"I have the following class:\r\n\r\n```java\r\nimport name.package.OtherClass;\r\nimport name.package.Context;\r\nimport name.package.Configuration.keys;\r\n\r\npublic class MyClass{\r\n    public static void configure(Context context){\r\n       Configuration config = new OtherClass().getConfiguration(keys);\r\n       context.configure(config);\r\n    }\r\n}\r\n```\r\n\r\nI want to mock the method `OtherClass.getConfiguration()`. Could I do the following?\r\n\r\n```java\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\n\r\npublic class MyClassTest{\r\n   @Mock\r\n   private Context context  = Mockito.mock(Context.class);\r\n   \r\n   @Mock\r\n   private OtherClass otherClass  = Mockito.mock(OtherClass.class);\r\n   \r\n   @Mock\r\n   private Context configurationMock  = Mockito.mock(Configuration.class);\r\n\r\n   @Test\r\n   public void testConfigure(){\r\n      Mockito.when(otherClass.getConfiguration(keys)).thenReturn(configurationMock);\r\n      MyClass.configure(context);\r\n      verify(context.configure(configurationMock), times(1))\r\n   }\r\n}\r\n```\r\n\r\n\r\nRemember that `OtherClass` is not an argument of `MyClass`, and I want to know if a mock of it inside the class of tests takes effect in `MyClass` instance when I run the test. \r\n\r\nI have tried executing this but didn&#39;t get clear results.","title":"How to mock a method used inside my class, but it isn&#39;t passed as an argument?","body":"<p>I have the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import name.package.OtherClass;\nimport name.package.Context;\nimport name.package.Configuration.keys;\n\npublic class MyClass{\n    public static void configure(Context context){\n       Configuration config = new OtherClass().getConfiguration(keys);\n       context.configure(config);\n    }\n}\n</code></pre>\n<p>I want to mock the method <code>OtherClass.getConfiguration()</code>. Could I do the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mockito.Mock;\nimport org.mockito.Mockito;\n\npublic class MyClassTest{\n   @Mock\n   private Context context  = Mockito.mock(Context.class);\n   \n   @Mock\n   private OtherClass otherClass  = Mockito.mock(OtherClass.class);\n   \n   @Mock\n   private Context configurationMock  = Mockito.mock(Configuration.class);\n\n   @Test\n   public void testConfigure(){\n      Mockito.when(otherClass.getConfiguration(keys)).thenReturn(configurationMock);\n      MyClass.configure(context);\n      verify(context.configure(configurationMock), times(1))\n   }\n}\n</code></pre>\n<p>Remember that <code>OtherClass</code> is not an argument of <code>MyClass</code>, and I want to know if a mock of it inside the class of tests takes effect in <code>MyClass</code> instance when I run the test.</p>\n<p>I have tried executing this but didn't get clear results.</p>\n"},{"tags":["java","postgresql","spring-boot","http-post"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1674198489,"post_id":75180730,"comment_id":132666637,"body_markdown":"Change this @RequestMapping(name = &quot;api/v1/customers&quot; ,method = RequestMethod.POST) to @RequestMapping(name = &quot;/api/v1&quot;) and on @GetMapping(&quot;/customers&quot;). This should work. Also make sure that your application is running on port 3000.","body":"Change this @RequestMapping(name = &quot;api/v1/customers&quot; ,method = RequestMethod.POST) to @RequestMapping(name = &quot;/api/v1&quot;) and on @GetMapping(&quot;/customers&quot;). This should work. Also make sure that your application is running on port 3000."},{"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"score":0,"creation_date":1674198604,"post_id":75180730,"comment_id":132666662,"body_markdown":"I have clearly mentioned the points I have done with the error I got with a screenshot in Postman, then I will remove the part you have mentioned. @jsotola","body":"I have clearly mentioned the points I have done with the error I got with a screenshot in Postman, then I will remove the part you have mentioned. @jsotola"},{"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"score":0,"creation_date":1674198827,"post_id":75180730,"comment_id":132666704,"body_markdown":"@GovilKumar I did as you mentioned, but it doesn&#39;t work. The application is running on port 3000. And GET request is working properly in my code which I have mentioned in the question.","body":"@GovilKumar I did as you mentioned, but it doesn&#39;t work. The application is running on port 3000. And GET request is working properly in my code which I have mentioned in the question."},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1674199514,"post_id":75180730,"comment_id":132666839,"body_markdown":"That was my bad, I meant on @PostMapping(&quot;/customers&quot;)","body":"That was my bad, I meant on @PostMapping(&quot;/customers&quot;)"},{"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"score":0,"creation_date":1674199623,"post_id":75180730,"comment_id":132666858,"body_markdown":"@Govil Kumar No, it&#39;s not your bad. I tried as @PostMapping(&quot;/customers&quot;) but didn&#39;t work","body":"@Govil Kumar No, it&#39;s not your bad. I tried as @PostMapping(&quot;/customers&quot;) but didn&#39;t work"},{"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"score":0,"creation_date":1674201256,"post_id":75180730,"comment_id":132667261,"body_markdown":"@GovilKumar thank you for the help. Now It&#39;s working I implement a DTO. If you preferred I can add the answer I found.","body":"@GovilKumar thank you for the help. Now It&#39;s working I implement a DTO. If you preferred I can add the answer I found."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674198831,"creation_date":1674198831,"answer_id":75180811,"question_id":75180730,"body_markdown":"The problem with your code is that you specified the POST endpoint as part of your DTO and not as part of your controller. As your DTO is not a Spring managed bean, Spring won&#39;t map the URL to your endpoint. Anyways, you should move your endpoints into a seperate class. Example:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;api/v1/customers&quot;)\r\npublic class CustomerController {\r\n\r\n    private final CustomerRepository customerRepository;\r\n\r\n    public SpringRecapApplication(CustomerRepository customerRepository) {\r\n        this.customerRepository = customerRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Customer&gt; getCustomer() {\r\n        return customerRepository.findAll();\r\n    }\r\n    \r\n    @PostMapping\r\n    public void addCustomer(@RequestBody NewCustomerRequest newCustomerRequest) {\r\n        Customer customer = new Customer();\r\n        customer.setAge(newCustomerRequest.age());\r\n        customer.setName(newCustomerRequest.name());\r\n        customer.setEmail(newCustomerRequest.email());\r\n        customerRepository.save(customer);\r\n    }\r\n\r\n    // Helper classes\r\n\r\n    record NewCustomerRequest(String name, String email, Integer age) { }\r\n\r\n}\r\n```\r\nIt would be best if you moved your DTO in a seperate class as well. I recommend placing the DTOs in a `dto` package and your controllers in a `controller` package.  \r\n\r\nTwo side notes: you shouldn&#39;t expose your entities via your API. You should use DTOs for incoming and outgoing data. Check out [lombok][1] and [mapstruct][2], they make this pretty easy.\r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://mapstruct.org/","title":"&quot;status&quot;: 404 Error for POST Request in Spring Boot CRUD","body":"<p>The problem with your code is that you specified the POST endpoint as part of your DTO and not as part of your controller. As your DTO is not a Spring managed bean, Spring won't map the URL to your endpoint. Anyways, you should move your endpoints into a seperate class. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;api/v1/customers&quot;)\npublic class CustomerController {\n\n    private final CustomerRepository customerRepository;\n\n    public SpringRecapApplication(CustomerRepository customerRepository) {\n        this.customerRepository = customerRepository;\n    }\n\n    @GetMapping\n    public List&lt;Customer&gt; getCustomer() {\n        return customerRepository.findAll();\n    }\n    \n    @PostMapping\n    public void addCustomer(@RequestBody NewCustomerRequest newCustomerRequest) {\n        Customer customer = new Customer();\n        customer.setAge(newCustomerRequest.age());\n        customer.setName(newCustomerRequest.name());\n        customer.setEmail(newCustomerRequest.email());\n        customerRepository.save(customer);\n    }\n\n    // Helper classes\n\n    record NewCustomerRequest(String name, String email, Integer age) { }\n\n}\n</code></pre>\n<p>It would be best if you moved your DTO in a seperate class as well. I recommend placing the DTOs in a <code>dto</code> package and your controllers in a <code>controller</code> package.</p>\n<p>Two side notes: you shouldn't expose your entities via your API. You should use DTOs for incoming and outgoing data. Check out <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">lombok</a> and <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a>, they make this pretty easy.</p>\n"}],"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75180811,"answer_count":1,"score":1,"last_activity_date":1674218723,"creation_date":1674198070,"question_id":75180730,"body_markdown":"I developed Spring Boot CRUD application. The database I have connected is PostgreSQL. `@GetMapping` is working properly and an empty array of objects can be retrieved by the GET request. But in `@PostMapping`, the POST request gives a 404 error.\r\n\r\n&#128204;**SpringRecapApplication.java**\r\n\r\n    package com.example.SpringRecap;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @SpringBootApplication(exclude = SecurityAutoConfiguration.class)\r\n    //@RequestMapping(&quot;api/v1/customers&quot;)\r\n    //@EnableWebMvc\r\n    @RequestMapping(name = &quot;api/v1/customers&quot; ,method = RequestMethod.POST)\r\n    \r\n    public class SpringRecapApplication {\r\n        //dependency injection\r\n        private static  CustomerRepository customerRepository;\r\n    \r\n        public SpringRecapApplication(CustomerRepository customerRepository) {\r\n            this.customerRepository = customerRepository;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringRecapApplication.class, args);\r\n        }\r\n    \r\n        @GetMapping\r\n        public List&lt;Customer&gt; getCustomer() {\r\n  \r\n            return customerRepository.findAll();\r\n    \r\n        }\r\n    \r\n        record NewCustomerRequest(\r\n                String name,\r\n                String email,\r\n                Integer age\r\n        ) {\r\n            @PostMapping\r\n            public void addCustomer(@RequestBody NewCustomerRequest newCustomerRequest) {\r\n                Customer customer = new Customer();\r\n                customer.setAge(newCustomerRequest.age());\r\n                customer.setName(newCustomerRequest.name());\r\n                customer.setEmail(newCustomerRequest.email());\r\n                customerRepository.save(customer);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n `customerRepository.save(customer);` doesn&#39;t allow to make the dependency injection final. (   `private static  CustomerRepository customerRepository;`). IDEA suggests making it static. But it didn&#39;t work. When I was using `@RequestMapping(&quot;api/v1/customers&quot;)`, a 405 error was received. Then I fixed that issue by doing as below,\r\n\r\n     @RequestMapping(name = &quot;api/v1/customers&quot; ,method = RequestMethod.POST)\r\n\r\n&#128204;**CustomerRepository.java**\r\n\r\n    package com.example.SpringRecap;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface CustomerRepository extends JpaRepository&lt;Customer,Integer&gt; {\r\n    }\r\n&#128204;**Customer.java**\r\n\r\n    package com.example.SpringRecap;\r\n    \r\n    import jakarta.persistence.*;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    @Entity\r\n    public class Customer {\r\n        @Id\r\n        @SequenceGenerator(\r\n                name = &quot;customer_id_sequence&quot;,\r\n                sequenceName = &quot;customer_id_sequence&quot;,\r\n                allocationSize = 1\r\n    \r\n        )\r\n        @GeneratedValue(\r\n                strategy = GenerationType.SEQUENCE,\r\n                generator = &quot;customer_id_sequence&quot;\r\n    \r\n        )\r\n        private Integer id;\r\n        private String name;\r\n        private String email;\r\n        private Integer age;\r\n    \r\n        public Customer(Integer id, String name, String email, Integer age) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.email = email;\r\n            this.age = age;\r\n        }\r\n    \r\n        public Customer() {\r\n    \r\n        }\r\n    \r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public Integer getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Customer customer = (Customer) o;\r\n            return Objects.equals(id, customer.id) &amp;&amp; Objects.equals(name, customer.name) &amp;&amp; Objects.equals(email, customer.email) &amp;&amp; Objects.equals(age, customer.age);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, name, email, age);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Customer{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nPostman:\r\n\r\n[![Postman image][1]][1]\r\n\r\nPlease put a comment if further information is needed to get the solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5o37U.png","title":"&quot;status&quot;: 404 Error for POST Request in Spring Boot CRUD","body":"<p>I developed Spring Boot CRUD application. The database I have connected is PostgreSQL. <code>@GetMapping</code> is working properly and an empty array of objects can be retrieved by the GET request. But in <code>@PostMapping</code>, the POST request gives a 404 error.</p>\n<p>📌<strong>SpringRecapApplication.java</strong></p>\n<pre><code>package com.example.SpringRecap;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@SpringBootApplication(exclude = SecurityAutoConfiguration.class)\n//@RequestMapping(&quot;api/v1/customers&quot;)\n//@EnableWebMvc\n@RequestMapping(name = &quot;api/v1/customers&quot; ,method = RequestMethod.POST)\n\npublic class SpringRecapApplication {\n    //dependency injection\n    private static  CustomerRepository customerRepository;\n\n    public SpringRecapApplication(CustomerRepository customerRepository) {\n        this.customerRepository = customerRepository;\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringRecapApplication.class, args);\n    }\n\n    @GetMapping\n    public List&lt;Customer&gt; getCustomer() {\n\n        return customerRepository.findAll();\n\n    }\n\n    record NewCustomerRequest(\n            String name,\n            String email,\n            Integer age\n    ) {\n        @PostMapping\n        public void addCustomer(@RequestBody NewCustomerRequest newCustomerRequest) {\n            Customer customer = new Customer();\n            customer.setAge(newCustomerRequest.age());\n            customer.setName(newCustomerRequest.name());\n            customer.setEmail(newCustomerRequest.email());\n            customerRepository.save(customer);\n        }\n    }\n\n}\n</code></pre>\n<p><code>customerRepository.save(customer);</code> doesn't allow to make the dependency injection final. (   <code>private static  CustomerRepository customerRepository;</code>). IDEA suggests making it static. But it didn't work. When I was using <code>@RequestMapping(&quot;api/v1/customers&quot;)</code>, a 405 error was received. Then I fixed that issue by doing as below,</p>\n<pre><code> @RequestMapping(name = &quot;api/v1/customers&quot; ,method = RequestMethod.POST)\n</code></pre>\n<p>📌<strong>CustomerRepository.java</strong></p>\n<pre><code>package com.example.SpringRecap;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface CustomerRepository extends JpaRepository&lt;Customer,Integer&gt; {\n}\n</code></pre>\n<p>📌<strong>Customer.java</strong></p>\n<pre><code>package com.example.SpringRecap;\n\nimport jakarta.persistence.*;\n\nimport java.util.Objects;\n\n@Entity\npublic class Customer {\n    @Id\n    @SequenceGenerator(\n            name = &quot;customer_id_sequence&quot;,\n            sequenceName = &quot;customer_id_sequence&quot;,\n            allocationSize = 1\n\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;customer_id_sequence&quot;\n\n    )\n    private Integer id;\n    private String name;\n    private String email;\n    private Integer age;\n\n    public Customer(Integer id, String name, String email, Integer age) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.age = age;\n    }\n\n    public Customer() {\n\n    }\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Customer customer = (Customer) o;\n        return Objects.equals(id, customer.id) &amp;&amp; Objects.equals(name, customer.name) &amp;&amp; Objects.equals(email, customer.email) &amp;&amp; Objects.equals(age, customer.age);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name, email, age);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Customer{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<p>Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/5o37U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5o37U.png\" alt=\"Postman image\" /></a></p>\n<p>Please put a comment if further information is needed to get the solution.</p>\n"},{"tags":["java","postgresql","spring-boot","datasource","spring-data-jdbc"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1674205337,"post_id":75180728,"comment_id":132668385,"body_markdown":"Is it actually leaking connections? Or do you just have some long running transactions? See https://stackoverflow.com/questions/54883940/apparent-connection-leak-detected-with-hikari-cp","body":"Is it actually leaking connections? Or do you just have some long running transactions? See <a href=\"https://stackoverflow.com/questions/54883940/apparent-connection-leak-detected-with-hikari-cp\" title=\"apparent connection leak detected with hikari cp\">stackoverflow.com/questions/54883940/&hellip;</a>"},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1674207174,"post_id":75180728,"comment_id":132668928,"body_markdown":"its just one insert statement actually. the code is above there @JensSchauder\nand from my postgres logs the duration for those inserts is indicating less than 10ms as the duration","body":"its just one insert statement actually. the code is above there @JensSchauder and from my postgres logs the duration for those inserts is indicating less than 10ms as the duration"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1674209554,"post_id":75180728,"comment_id":132669729,"body_markdown":"Do you get errors because you run out of connections? Do you get log messages indicating that the allegedly leaked connection was returned? Is your logger configured in a way that you would see these messages?","body":"Do you get errors because you run out of connections? Do you get log messages indicating that the allegedly leaked connection was returned? Is your logger configured in a way that you would see these messages?"},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1674209961,"post_id":75180728,"comment_id":132669844,"body_markdown":"yes, when I call non transactional calls I can see the logs for returning the conns. for transactional I dont see them getting returned.","body":"yes, when I call non transactional calls I can see the logs for returning the conns. for transactional I dont see them getting returned."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1674210682,"post_id":75180728,"comment_id":132670097,"body_markdown":"I&#39;m talking about rows like this one `2019-02-26 11:25:35.024  INFO 924 --- [p-nio-80-exec-8] com.zaxxer.hikari.pool.ProxyLeakTask     : Previously reported leaked connection com.mysql.jdbc.JDBC4Connection@ffd3737 on thread http-nio-80-exec-8 was returned to the pool (unleaked)` (from the referenced question)","body":"I&#39;m talking about rows like this one <code>2019-02-26 11:25:35.024  INFO 924 --- [p-nio-80-exec-8] com.zaxxer.hikari.pool.ProxyLeakTask     : Previously reported leaked connection com.mysql.jdbc.JDBC4Connection@ffd3737 on thread http-nio-80-exec-8 was returned to the pool (unleaked)</code> (from the referenced question)"},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1674218426,"post_id":75180728,"comment_id":132672533,"body_markdown":"@JensSchauder I have updated the logs for realising on the question as they wouldnt fit here. it is released like 30secs later.","body":"@JensSchauder I have updated the logs for realising on the question as they wouldnt fit here. it is released like 30secs later."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1674219072,"post_id":75180728,"comment_id":132672698,"body_markdown":"So what it the thread in question doing during that time?","body":"So what it the thread in question doing during that time?"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1674219152,"post_id":75180728,"comment_id":132672719,"body_markdown":"@martinkimani , do you have EnableTransactionManagement annotation somewhere?","body":"@martinkimani , do you have EnableTransactionManagement annotation somewhere?"},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1674220275,"post_id":75180728,"comment_id":132673043,"body_markdown":"@Barracuda no but I thought that is enabled by default in spring unless autoconfiguration is disabled?","body":"@Barracuda no but I thought that is enabled by default in spring unless autoconfiguration is disabled?"},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1674220340,"post_id":75180728,"comment_id":132673059,"body_markdown":"@JensSchauder It&#39;s stuck I believe","body":"@JensSchauder It&#39;s stuck I believe"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1674220718,"post_id":75180728,"comment_id":132673169,"body_markdown":"Probably, but at which command? Use a debugger, to find the stacktrace it is stuck on.","body":"Probably, but at which command? Use a debugger, to find the stacktrace it is stuck on."},{"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"score":0,"creation_date":1675595357,"post_id":75180728,"comment_id":132959437,"body_markdown":"According to this [answer](https://stackoverflow.com/questions/60424898/connection-leak-detected-by-hikaripool-leakdetectionthreshold)\nsuch warning doesn&#39;t mean you actually have a leak.\nI&#39;d suggest to check **open-session-in-view** property and explicitly set it to false.\n```\nspring:\n  jpa:\n    open-in-view: false\n```\nAlso could you provide a minimal reproducible example?","body":"According to this <a href=\"https://stackoverflow.com/questions/60424898/connection-leak-detected-by-hikaripool-leakdetectionthreshold\">answer</a> such warning doesn&#39;t mean you actually have a leak. I&#39;d suggest to check <b>open-session-in-view</b> property and explicitly set it to false. ``` spring:   jpa:     open-in-view: false ``` Also could you provide a minimal reproducible example?"}],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674218679,"creation_date":1674198061,"question_id":75180728,"body_markdown":"I&#39;m experiencing connection leaks with my spring data jdbc postgres app. Basically for my calls that are not called in a transaction the connection is acquired and released to the pool. However when it comes to transactional calls connections are not released and a connection leaks error comes up and points to the function that is annotated with @transactional.\r\nAlso the most interesting thing is the pool statistics dont reflect this. they show all connections as idle even when there are unreleased connections.\r\n\r\n    @Configuration\r\n    @EnableJdbcRepositories(&quot;com.api.repositories&quot;)\r\n    public class DBConfig {\r\n        \r\n        @Autowired\r\n        private DbProps dbProps;\r\n        \r\n        @Bean\r\n        public DataSource readWriteDataSource() {\r\n            LOGGER.info(&quot;DB Props: {}&quot;,dbProps.toString());\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setUrl(dbProps.getDbUrl());\r\n            dataSource.setUser(dbProps.getDbUser());\r\n            dataSource.setPassword(dbProps.getDbPassword());\r\n            dataSource.setLogUnclosedConnections(true);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        protected HikariConfig hikariConfig(DataSource dataSource) {\r\n            HikariConfig hikariConfig = new HikariConfig();\r\n            int cpuCores = Runtime.getRuntime().availableProcessors();\r\n            hikariConfig.setMaximumPoolSize(cpuCores*4);\r\n            hikariConfig.setDataSource(dataSource);\r\n            hikariConfig.setIdleTimeout(600000);\r\n            hikariConfig.setLeakDetectionThreshold(30000);\r\n            hikariConfig.setConnectionTimeout(30000);\r\n            hikariConfig.setMaxLifetime(1800000);\r\n            hikariConfig.setAutoCommit(false);\r\n            return hikariConfig;\r\n        }\r\n     \r\n        protected HikariDataSource connectionPoolDataSource(\r\n                DataSource dataSource) {\r\n            return new HikariDataSource(hikariConfig(dataSource));\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager transactionManager(DataSource readWriteDataSource) {\r\n            return new DataSourceTransactionManager(readWriteDataSource);\r\n        }\r\n        \r\n        @Bean\r\n        public NamedParameterJdbcOperations usersJdbcOperations(DataSource readWriteDataSource) {\r\n          return new NamedParameterJdbcTemplate(readWriteDataSource);\r\n        }\r\n\r\ntransaction functions\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, isolation = Isolation.REPEATABLE_READ, rollbackFor = Exception.class)\r\n        public String placeBet(PlaceBet placebet) {\r\n            try {\r\n                Bet unsavedBet = Bet.builder().amount(BigDecimal.valueOf(placebet.amount()))\r\n                        .coin(placebet.coin())\r\n                        .game(placebet.game())\r\n                        .gid(placebet.gid())\r\n                        .uid(placebet.uid())\r\n                        .name(placebet.name())\r\n                        .created(LocalDateTime.now().truncatedTo(ChronoUnit.MILLIS))\r\n                        .originalOdd(BigDecimal.valueOf(placebet.original_odd())).build();\r\n                Bet savedBet = betRepository.save(unsavedBet);\r\n                if (null != savedBet) {\r\n                    LOGGER.info(&quot;saved Bet: {}&quot;,savedBet.toString());\r\n                }\r\n                return &quot;success&quot;;\r\n            } catch (Exception e) {\r\n                LOGGER.error(&quot;Error {} encountered saving bet: {} changes rolled Back&quot;,e.getMessage(),placebet.toString());\r\n                return &quot;bet error&quot;;\r\n            }\r\n        }\r\n\r\n\r\nlogs\r\n\r\n    2023-01-20 00:11:15 WARN  ProxyLeakTask.java:84 - Connection leak detection triggered for Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49 on thread http-nio-8001-exec-11, stack trace follows\r\n    java.lang.Exception: Apparent connection leak detected\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    \tat com.api.services.BetService$$EnhancerBySpringCGLIB$$23929008.placeBet(&lt;generated&gt;)\r\n    \tat com.api.controllers.BetController.placeNewBet(BetController.java:132)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor89.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\r\n\r\npool stats\r\n\r\n    2023-01-20 00:11:58 DEBUG HikariPool.java:421 - HikariPool-1 - Pool stats (total=16, active=0, idle=16, waiting=0)\r\n    2023-01-20 00:11:58 DEBUG HikariPool.java:518 - HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n\r\nit is released some 30secs later yet the query took ms to complete what would be the issue?\r\n\r\n    2023-01-20 00:11:15 WARN  ProxyLeakTask.java:84 - Connection leak detection triggered for Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49 on thread http-nio-8001-exec-11, stack trace follows\r\n    2023-01-20 00:11:56 DEBUG DataSourceTransactionManager.java:330 - Committing JDBC transaction on Connection [HikariProxyConnection@304420024 wrapping Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49]\r\n    2023-01-20 00:11:56 DEBUG DataSourceUtils.java:242 - Resetting isolation level of JDBC Connection [HikariProxyConnection@304420024 wrapping Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49] to 2\r\n    2023-01-20 00:11:56 DEBUG DataSourceTransactionManager.java:389 - Releasing JDBC Connection [HikariProxyConnection@304420024 wrapping Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49] after transaction\r\n    2023-01-20 00:11:56 INFO  ProxyLeakTask.java:91 - Previously reported leaked connection Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49 on thread http-nio-8001-exec-11 was returned to the pool (unleaked) \r\n\r\n","title":"Spring data JDBC connections leaks when doing a transaction","body":"<p>I'm experiencing connection leaks with my spring data jdbc postgres app. Basically for my calls that are not called in a transaction the connection is acquired and released to the pool. However when it comes to transactional calls connections are not released and a connection leaks error comes up and points to the function that is annotated with @transactional.\nAlso the most interesting thing is the pool statistics dont reflect this. they show all connections as idle even when there are unreleased connections.</p>\n<pre><code>@Configuration\n@EnableJdbcRepositories(&quot;com.api.repositories&quot;)\npublic class DBConfig {\n    \n    @Autowired\n    private DbProps dbProps;\n    \n    @Bean\n    public DataSource readWriteDataSource() {\n        LOGGER.info(&quot;DB Props: {}&quot;,dbProps.toString());\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setUrl(dbProps.getDbUrl());\n        dataSource.setUser(dbProps.getDbUser());\n        dataSource.setPassword(dbProps.getDbPassword());\n        dataSource.setLogUnclosedConnections(true);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    protected HikariConfig hikariConfig(DataSource dataSource) {\n        HikariConfig hikariConfig = new HikariConfig();\n        int cpuCores = Runtime.getRuntime().availableProcessors();\n        hikariConfig.setMaximumPoolSize(cpuCores*4);\n        hikariConfig.setDataSource(dataSource);\n        hikariConfig.setIdleTimeout(600000);\n        hikariConfig.setLeakDetectionThreshold(30000);\n        hikariConfig.setConnectionTimeout(30000);\n        hikariConfig.setMaxLifetime(1800000);\n        hikariConfig.setAutoCommit(false);\n        return hikariConfig;\n    }\n \n    protected HikariDataSource connectionPoolDataSource(\n            DataSource dataSource) {\n        return new HikariDataSource(hikariConfig(dataSource));\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager(DataSource readWriteDataSource) {\n        return new DataSourceTransactionManager(readWriteDataSource);\n    }\n    \n    @Bean\n    public NamedParameterJdbcOperations usersJdbcOperations(DataSource readWriteDataSource) {\n      return new NamedParameterJdbcTemplate(readWriteDataSource);\n    }\n</code></pre>\n<p>transaction functions</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW, isolation = Isolation.REPEATABLE_READ, rollbackFor = Exception.class)\n    public String placeBet(PlaceBet placebet) {\n        try {\n            Bet unsavedBet = Bet.builder().amount(BigDecimal.valueOf(placebet.amount()))\n                    .coin(placebet.coin())\n                    .game(placebet.game())\n                    .gid(placebet.gid())\n                    .uid(placebet.uid())\n                    .name(placebet.name())\n                    .created(LocalDateTime.now().truncatedTo(ChronoUnit.MILLIS))\n                    .originalOdd(BigDecimal.valueOf(placebet.original_odd())).build();\n            Bet savedBet = betRepository.save(unsavedBet);\n            if (null != savedBet) {\n                LOGGER.info(&quot;saved Bet: {}&quot;,savedBet.toString());\n            }\n            return &quot;success&quot;;\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error {} encountered saving bet: {} changes rolled Back&quot;,e.getMessage(),placebet.toString());\n            return &quot;bet error&quot;;\n        }\n    }\n</code></pre>\n<p>logs</p>\n<pre><code>2023-01-20 00:11:15 WARN  ProxyLeakTask.java:84 - Connection leak detection triggered for Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49 on thread http-nio-8001-exec-11, stack trace follows\njava.lang.Exception: Apparent connection leak detected\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.api.services.BetService$$EnhancerBySpringCGLIB$$23929008.placeBet(&lt;generated&gt;)\n    at com.api.controllers.BetController.placeNewBet(BetController.java:132)\n    at jdk.internal.reflect.GeneratedMethodAccessor89.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n</code></pre>\n<p>pool stats</p>\n<pre><code>2023-01-20 00:11:58 DEBUG HikariPool.java:421 - HikariPool-1 - Pool stats (total=16, active=0, idle=16, waiting=0)\n2023-01-20 00:11:58 DEBUG HikariPool.java:518 - HikariPool-1 - Fill pool skipped, pool is at sufficient level.\n</code></pre>\n<p>it is released some 30secs later yet the query took ms to complete what would be the issue?</p>\n<pre><code>2023-01-20 00:11:15 WARN  ProxyLeakTask.java:84 - Connection leak detection triggered for Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49 on thread http-nio-8001-exec-11, stack trace follows\n2023-01-20 00:11:56 DEBUG DataSourceTransactionManager.java:330 - Committing JDBC transaction on Connection [HikariProxyConnection@304420024 wrapping Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49]\n2023-01-20 00:11:56 DEBUG DataSourceUtils.java:242 - Resetting isolation level of JDBC Connection [HikariProxyConnection@304420024 wrapping Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49] to 2\n2023-01-20 00:11:56 DEBUG DataSourceTransactionManager.java:389 - Releasing JDBC Connection [HikariProxyConnection@304420024 wrapping Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49] after transaction\n2023-01-20 00:11:56 INFO  ProxyLeakTask.java:91 - Previously reported leaked connection Pooled connection wrapping physical connection org.postgresql.jdbc.PgConnection@6fae4b49 on thread http-nio-8001-exec-11 was returned to the pool (unleaked) \n</code></pre>\n"},{"tags":["java","spring","design-patterns","dependency-injection","chain-of-responsibility"],"owner":{"account_id":4135182,"reputation":327,"user_id":3391994,"display_name":"Bkfsec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674218623,"creation_date":1674150589,"question_id":75176348,"body_markdown":"I implemented a validation using the chain of responsibility pattern. The request payload to validate can have different parameters. The logic is: if the payload has some parameters, validate it and continue to validate other, else throw an exception. In a level of the validation chain I need to call other services, and here comes into play the Dependency Injection.\r\nThe validation structure is like a tree, starting from top to bottom.\r\n\r\nSo, the class where I need to start the Validation\r\n\r\n```\r\n\r\n    @Service\r\n    public class ServiceImpl implements Service {\r\n    \r\n    private final .....;\r\n    \r\n    private final Validator validator;\r\n    \r\n    public ServiceImpl(\r\n    @Qualifier(&quot;lastLevelValidator&quot;) Validator validator, .....) {\r\n\r\n               this.validator = validator;\r\n               this...........=............;\r\n}\r\n\r\n\r\n/...../\r\n\r\nprivate void validateContext(RequestContex rc) {\r\n              \r\n             Validator validation = new FirstLevelValidator(validator);\r\n             validation.validate(rc);\r\n       }\r\n}\r\n\r\n```\r\n\r\nSo the Validator Interface\r\n\r\n    public interface Validator&lt;T&gt; {\r\n         void validate(T object);\r\n    }\r\nThe validation classes that implements Validator\r\n```\r\n@Component\r\npublic class FirstLevelValidator implements Validator&lt;RequestContext&gt;{\r\n\r\n    private final Validator&lt;RequestContext&gt; validator;\r\n\r\n    @Autowired\r\n    public FirstLevelValidator(@Qualifier(&quot;lastLevelValidator&quot;) Validator&lt;RequestContext&gt; validator) {\r\n        this.validator = validator;\r\n    }\r\n\r\n    @Override\r\n    public void validate(RequestContext requestContext) {\r\n        if ( requestContext.getData() == null ) {\r\n            LOGGER.error(REQUEST_ERROR_MSG);\r\n            throw new BadRequestException(REQUEST_ERROR_MSG, INVALID_CODE);\r\n}\r\n       if (requestContex.getData() == &quot;Some Data&quot;) {\r\n           Validator validator = new SecondLevelValidator(this.validator);\r\n           validator.validate(requestContext);\r\n      } else {/* other */ }\r\n\r\n \r\n}\r\n```\r\n``` \r\n@Component\r\npublic class SecondLevelValidator implements Validator&lt;RequestContext&gt;{\r\n\r\n    private final Validator&lt;RequestContext&gt; validator;\r\n\r\n    @Autowired\r\n    public SecondLevelValidator(@Qualifier(&quot;lastLevelValidator&quot;) Validator&lt;RequestContext&gt; validator) {\r\n        this.validator = validator;\r\n    }\r\n\r\n    @Override\r\n    public void validate(RequestContext requestContext) {\r\n            if ( requestContext.getOption() == null ) {\r\n             LOGGER.error(REQUEST_ERROR_MSG);\r\n             throw new BadRequestException(REQUEST_ERROR_MSG, INVALID_CODE);\r\n           }\r\n           if ( requestContext.getOption() == &quot; SOME &quot; ) {\r\n            validator.validate(requestContext); //HERE WHERE I CALL THE Qualifier\r\n           }\r\n}\r\n```\r\n```\r\n@Component\r\npublic class LastLevelValidator implements Validator&lt;RequestContext&gt;{\r\n\r\n    private final ClientService1 client1;\r\n    private final ClientService2 client2;\r\n\r\n    public LastLevelValidator(ClientService1 client1, ClientService2 client2) {\r\n               this.client1 = client1;\r\n               this.client2 = client2;\r\n     }\r\n\r\n    @Override\r\n    public void validate(RequestContext requestContext) {\r\n\r\n        Integer userId = client2.getId()\r\n        List&lt;ClientService1Response&gt; list = client1.call(requestContext.id(), userId);\r\n\r\n        boolean isIdListValid = list\r\n                    .stream()\r\n                    .map(clientService1Response -&gt; clientService1Response.getId())\r\n                    .collect(Collectors.toSet()).containsAll(requestContext.getListId());\r\n\r\n        if (!isIdListValid) {\r\n                LOGGER.error(NOT_FOUND);\r\n                throw new BadRequestException(NOT_FOUND, INVALID_CODE);\r\n        } else { LOGGER.info(&quot;Context List validated&quot;); }\r\n    }\r\n}\r\n```\r\n\r\nIn the LastLevelValidator I need to call other services to make the validation, for that I inject into each validator class (First.., Second..) the @Qualifier(&quot;lastLevelValidator&quot;) object, so when I need to instantiate the LastLevelValidation class I can call it like `validator.validate(requestContext);` instance of validator.validate(ClientService1, ClientService2 ) that it would force me to propagate the ClientServices objects through all the chain from the ServiceImpl class. \r\n\r\nIs it this a good solution ? \r\nIs there any concern I didn&#39;t evaluate? \r\n\r\nI tried also  declaring the services I need to call for the validation as static in the LastLevelValidation, in the way that I can call it like LastLevelValidation.methodvalidar(), but look like not a good practice declares static objects.\r\n I tried to pass the objects I need propagating it for each Validation class, but seems to me that if I need another object for the validation I have to pass it through all the validation chain.","title":"Chain of responsibility and Spring dependency injection","body":"<p>I implemented a validation using the chain of responsibility pattern. The request payload to validate can have different parameters. The logic is: if the payload has some parameters, validate it and continue to validate other, else throw an exception. In a level of the validation chain I need to call other services, and here comes into play the Dependency Injection.\nThe validation structure is like a tree, starting from top to bottom.</p>\n<p>So, the class where I need to start the Validation</p>\n<pre><code>\n    @Service\n    public class ServiceImpl implements Service {\n    \n    private final .....;\n    \n    private final Validator validator;\n    \n    public ServiceImpl(\n    @Qualifier(&quot;lastLevelValidator&quot;) Validator validator, .....) {\n\n               this.validator = validator;\n               this...........=............;\n}\n\n\n/...../\n\nprivate void validateContext(RequestContex rc) {\n              \n             Validator validation = new FirstLevelValidator(validator);\n             validation.validate(rc);\n       }\n}\n\n</code></pre>\n<p>So the Validator Interface</p>\n<pre><code>public interface Validator&lt;T&gt; {\n     void validate(T object);\n}\n</code></pre>\n<p>The validation classes that implements Validator</p>\n<pre><code>@Component\npublic class FirstLevelValidator implements Validator&lt;RequestContext&gt;{\n\n    private final Validator&lt;RequestContext&gt; validator;\n\n    @Autowired\n    public FirstLevelValidator(@Qualifier(&quot;lastLevelValidator&quot;) Validator&lt;RequestContext&gt; validator) {\n        this.validator = validator;\n    }\n\n    @Override\n    public void validate(RequestContext requestContext) {\n        if ( requestContext.getData() == null ) {\n            LOGGER.error(REQUEST_ERROR_MSG);\n            throw new BadRequestException(REQUEST_ERROR_MSG, INVALID_CODE);\n}\n       if (requestContex.getData() == &quot;Some Data&quot;) {\n           Validator validator = new SecondLevelValidator(this.validator);\n           validator.validate(requestContext);\n      } else {/* other */ }\n\n \n}\n</code></pre>\n<pre><code>@Component\npublic class SecondLevelValidator implements Validator&lt;RequestContext&gt;{\n\n    private final Validator&lt;RequestContext&gt; validator;\n\n    @Autowired\n    public SecondLevelValidator(@Qualifier(&quot;lastLevelValidator&quot;) Validator&lt;RequestContext&gt; validator) {\n        this.validator = validator;\n    }\n\n    @Override\n    public void validate(RequestContext requestContext) {\n            if ( requestContext.getOption() == null ) {\n             LOGGER.error(REQUEST_ERROR_MSG);\n             throw new BadRequestException(REQUEST_ERROR_MSG, INVALID_CODE);\n           }\n           if ( requestContext.getOption() == &quot; SOME &quot; ) {\n            validator.validate(requestContext); //HERE WHERE I CALL THE Qualifier\n           }\n}\n</code></pre>\n<pre><code>@Component\npublic class LastLevelValidator implements Validator&lt;RequestContext&gt;{\n\n    private final ClientService1 client1;\n    private final ClientService2 client2;\n\n    public LastLevelValidator(ClientService1 client1, ClientService2 client2) {\n               this.client1 = client1;\n               this.client2 = client2;\n     }\n\n    @Override\n    public void validate(RequestContext requestContext) {\n\n        Integer userId = client2.getId()\n        List&lt;ClientService1Response&gt; list = client1.call(requestContext.id(), userId);\n\n        boolean isIdListValid = list\n                    .stream()\n                    .map(clientService1Response -&gt; clientService1Response.getId())\n                    .collect(Collectors.toSet()).containsAll(requestContext.getListId());\n\n        if (!isIdListValid) {\n                LOGGER.error(NOT_FOUND);\n                throw new BadRequestException(NOT_FOUND, INVALID_CODE);\n        } else { LOGGER.info(&quot;Context List validated&quot;); }\n    }\n}\n</code></pre>\n<p>In the LastLevelValidator I need to call other services to make the validation, for that I inject into each validator class (First.., Second..) the @Qualifier(&quot;lastLevelValidator&quot;) object, so when I need to instantiate the LastLevelValidation class I can call it like <code>validator.validate(requestContext);</code> instance of validator.validate(ClientService1, ClientService2 ) that it would force me to propagate the ClientServices objects through all the chain from the ServiceImpl class.</p>\n<p>Is it this a good solution ?\nIs there any concern I didn't evaluate?</p>\n<p>I tried also  declaring the services I need to call for the validation as static in the LastLevelValidation, in the way that I can call it like LastLevelValidation.methodvalidar(), but look like not a good practice declares static objects.\nI tried to pass the objects I need propagating it for each Validation class, but seems to me that if I need another object for the validation I have to pass it through all the validation chain.</p>\n"},{"tags":["java","arrays","initialization"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1674149275,"post_id":75176032,"comment_id":132658315,"body_markdown":"(Haven&#39;t found the right duplicate yet, but I&#39;m sure there is one...) *&quot;I never changed &quot;arr&quot;.&quot;* - Sure you did.  You just referenced the same array by a different variable.  You have two variables, but only **one** array instance.","body":"(Haven&#39;t found the right duplicate yet, but I&#39;m sure there is one...) <i>&quot;I never changed &quot;arr&quot;.&quot;</i> - Sure you did.  You just referenced the same array by a different variable.  You have two variables, but only <b>one</b> array instance."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1674149278,"post_id":75176032,"comment_id":132658317,"body_markdown":"Read up on reference types in Java.","body":"Read up on reference types in Java."}],"answers":[{"tags":[],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674149497,"creation_date":1674149497,"answer_id":75176126,"question_id":75176032,"body_markdown":"In Java, arrays are objects, not primitive types. When you are assigning link to ```arr``` to the new variable, ```y``` still points to ```arr```, so you are actually changing ```arr```. Thats it. But if you want to copy the array, you can use this method: ```Arrays.copyOf(int[] original, int newLength)```","title":"Why is the following Output the right one?","body":"<p>In Java, arrays are objects, not primitive types. When you are assigning link to <code>arr</code> to the new variable, <code>y</code> still points to <code>arr</code>, so you are actually changing <code>arr</code>. Thats it. But if you want to copy the array, you can use this method: <code>Arrays.copyOf(int[] original, int newLength)</code></p>\n"},{"tags":[],"owner":{"account_id":15235009,"reputation":33,"user_id":10992963,"display_name":"Kushal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674149968,"creation_date":1674149968,"answer_id":75176214,"question_id":75176032,"body_markdown":"Let&#39;s assume you have a son, named jackson.\r\nYou  introduce him to your friend, &quot;Hey Friend, meet my son Jackson&quot;.\r\nThe friend says, &quot;Hi Jackson, I&#39;ll call you jake.&quot;\r\nLater that friend calls him and says, &quot;Hey Jake, here take a handful of candies&quot;.\r\nyour son Jackson comes to you, and you see he has a handful of candies.\r\nBut how ? You never gave jackson candies. But your friend gave to jake.\r\nMakes sense ? \r\n\r\nIn your code, the arr, and the y are exactly the same entity, not equal, not copy, but the exact same Object. So you make changes at one place, it&#39;ll show at the other one as well.","title":"Why is the following Output the right one?","body":"<p>Let's assume you have a son, named jackson.\nYou  introduce him to your friend, &quot;Hey Friend, meet my son Jackson&quot;.\nThe friend says, &quot;Hi Jackson, I'll call you jake.&quot;\nLater that friend calls him and says, &quot;Hey Jake, here take a handful of candies&quot;.\nyour son Jackson comes to you, and you see he has a handful of candies.\nBut how ? You never gave jackson candies. But your friend gave to jake.\nMakes sense ?</p>\n<p>In your code, the arr, and the y are exactly the same entity, not equal, not copy, but the exact same Object. So you make changes at one place, it'll show at the other one as well.</p>\n"},{"tags":[],"owner":{"account_id":27216231,"reputation":37,"user_id":20746216,"display_name":"JavaBoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674150091,"creation_date":1674150091,"answer_id":75176234,"question_id":75176032,"body_markdown":"When you initialized the integer array viz arr in your case, it allocated a space in the heap to your reference variable arr when you executed the following code: \r\n\r\n    int[] arr = {1,2,3,4};\r\n\r\nThis arr is referring to an integer array in heap as arrays are objects in java.\r\n\r\nNow when you performed the following code:\r\n\r\n    int [] y = arr;\r\n\r\nThis created one more reference variable y which is referring to the same object in the heap that your reference variable arr was referring to, that is why whatever changes you make through your reference variable y or reference variable arr will reflect the changes of the object created in the heap as they are referring to the same object.\r\n\r\nIf you want a new object allocated to your reference variable y that resembles the elements of your arr array then you can clone it. The following code represents it:\r\n\r\n```\r\npublic class Alle {\r\n    public static void main(String[] args) {\r\n        int[] arr = {1,2,3,4};\r\n        int [] y = arr.clone(); //change here\r\n        y[0] = 15;\r\n        System.out.println(Arrays.toString(arr));\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis gives an output: \r\n\r\n    [1, 2, 3, 4]\r\n\r\nHence your arr array is not affected this time.\r\n\r\n\r\n\r\n","title":"Why is the following Output the right one?","body":"<p>When you initialized the integer array viz arr in your case, it allocated a space in the heap to your reference variable arr when you executed the following code:</p>\n<pre><code>int[] arr = {1,2,3,4};\n</code></pre>\n<p>This arr is referring to an integer array in heap as arrays are objects in java.</p>\n<p>Now when you performed the following code:</p>\n<pre><code>int [] y = arr;\n</code></pre>\n<p>This created one more reference variable y which is referring to the same object in the heap that your reference variable arr was referring to, that is why whatever changes you make through your reference variable y or reference variable arr will reflect the changes of the object created in the heap as they are referring to the same object.</p>\n<p>If you want a new object allocated to your reference variable y that resembles the elements of your arr array then you can clone it. The following code represents it:</p>\n<pre><code>public class Alle {\n    public static void main(String[] args) {\n        int[] arr = {1,2,3,4};\n        int [] y = arr.clone(); //change here\n        y[0] = 15;\n        System.out.println(Arrays.toString(arr));\n    }\n\n}\n</code></pre>\n<p>This gives an output:</p>\n<pre><code>[1, 2, 3, 4]\n</code></pre>\n<p>Hence your arr array is not affected this time.</p>\n"}],"owner":{"account_id":26942358,"reputation":5,"user_id":20512936,"display_name":"Vithushan Thiru"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1674218277,"answer_count":3,"score":-3,"last_activity_date":1674218492,"creation_date":1674148967,"question_id":75176032,"body_markdown":"```\r\npublic class Alle {\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = {1,2,3,4};\r\n\t\tint [] y = arr;\r\n\t\ty[0] = 15;\r\n\t\tSystem.out.println(Arrays.toString(arr));\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nThe Output is 15,2,3,4 but why? I never changed &quot;arr&quot;.","title":"Why is the following Output the right one?","body":"<pre><code>public class Alle {\n    public static void main(String[] args) {\n        int[] arr = {1,2,3,4};\n        int [] y = arr;\n        y[0] = 15;\n        System.out.println(Arrays.toString(arr));\n    }\n\n}\n\n</code></pre>\n<p>The Output is 15,2,3,4 but why? I never changed &quot;arr&quot;.</p>\n"},{"tags":["java","jdbc","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":97888,"reputation":339,"user_id":265296,"accept_rate":60,"display_name":"Levent Tokmak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1359117860,"creation_date":1359117860,"answer_id":14522072,"question_id":14518407,"body_markdown":"Removing ojdbc6.jar from the classpath and adding JBoss module (ojdbc6 module) as dependency solved the issue.","title":"Couldn&#39;t store job: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB","body":"<p>Removing ojdbc6.jar from the classpath and adding JBoss module (ojdbc6 module) as dependency solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1286957,"reputation":211,"user_id":1239847,"display_name":"Nagesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1405601812,"creation_date":1405601812,"answer_id":24804257,"question_id":14518407,"body_markdown":"We found elegant solution to this problem. it worked.\r\nWe need to add oracle module in global-modules as below.\r\n\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:1.1&quot;&gt;\r\n\t\t\t&lt;global-modules&gt;\r\n\t\t\t\t&lt;module name=&quot;com.oracle&quot; slot=&quot;main&quot;/&gt;\r\n\t\t\t&lt;/global-modules&gt;\r\n\r\n            &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;\r\n            &lt;jboss-descriptor-property-replacement&gt;true&lt;/jboss-descriptor-property-replacement&gt;\r\n        &lt;/subsystem&gt;","title":"Couldn&#39;t store job: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB","body":"<p>We found elegant solution to this problem. it worked.\nWe need to add oracle module in global-modules as below.</p>\n\n<pre><code>    &lt;subsystem xmlns=\"urn:jboss:domain:ee:1.1\"&gt;\n        &lt;global-modules&gt;\n            &lt;module name=\"com.oracle\" slot=\"main\"/&gt;\n        &lt;/global-modules&gt;\n\n        &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;\n        &lt;jboss-descriptor-property-replacement&gt;true&lt;/jboss-descriptor-property-replacement&gt;\n    &lt;/subsystem&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451056018,"creation_date":1451055587,"answer_id":34463865,"question_id":14518407,"body_markdown":"Successfully solved the same issue for JBoss EAP 6. The main idea is the same - remove jar from war (if it was there) and let the app server to provide it. The details are below.\r\n\r\n1) Added `WEB-INF/jboss-deployment-structure.xml`:\r\n\r\n    &lt;jboss-deployment-structure&gt;\r\n    &lt;deployment&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;com.oracle&quot; /&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\n2) Defined `jboss\\eap640\\modules\\system\\layers\\base\\com\\oracle\\main\\module.xml`\r\n\r\n\t&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.oracle&quot;&gt;\r\n\t  &lt;resources&gt;\r\n\t    &lt;resource-root path=&quot;ojdbc7.jar&quot;/&gt;\r\n\t  &lt;/resources&gt;\r\n\t  &lt;dependencies&gt;\r\n\t    ...\r\n\t  &lt;/dependencies&gt;\r\n\t&lt;/module&gt;\r\n\r\n3) Put `ojdbc7.jar` into `jboss\\eap640\\modules\\system\\layers\\base\\com\\oracle\\main`.","title":"Couldn&#39;t store job: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB","body":"<p>Successfully solved the same issue for JBoss EAP 6. The main idea is the same - remove jar from war (if it was there) and let the app server to provide it. The details are below.</p>\n\n<p>1) Added <code>WEB-INF/jboss-deployment-structure.xml</code>:</p>\n\n<pre><code>&lt;jboss-deployment-structure&gt;\n&lt;deployment&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"com.oracle\" /&gt;\n    &lt;/dependencies&gt;\n&lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<p>2) Defined <code>jboss\\eap640\\modules\\system\\layers\\base\\com\\oracle\\main\\module.xml</code></p>\n\n<pre><code>&lt;module xmlns=\"urn:jboss:module:1.1\" name=\"com.oracle\"&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=\"ojdbc7.jar\"/&gt;\n  &lt;/resources&gt;\n  &lt;dependencies&gt;\n    ...\n  &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>3) Put <code>ojdbc7.jar</code> into <code>jboss\\eap640\\modules\\system\\layers\\base\\com\\oracle\\main</code>.</p>\n"},{"tags":[],"owner":{"account_id":19076345,"reputation":31,"user_id":13929541,"display_name":"devOps"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674218455,"creation_date":1674218455,"answer_id":75184165,"question_id":14518407,"body_markdown":"This is worked for me ;\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:datasources:7.0&quot;&gt;\r\n          &lt;datasources&gt;\r\n            &lt;datasource jndi-name=&quot;*******&quot; pool-name=&quot;****&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-e$\r\n              &lt;connection-url&gt;******&lt;/connection-url&gt;\r\n              &lt;driver&gt;oracle&lt;/driver&gt;\r\n              &lt;security&gt;\r\n                &lt;user-name&gt;***&lt;/user-name&gt;\r\n                &lt;password&gt;***&lt;/password&gt;\r\n              &lt;/security&gt;\r\n            &lt;/datasource&gt;\r\n            &lt;drivers&gt;\r\n              &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\r\n                &lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\r\n              &lt;/driver&gt;\r\n            &lt;/drivers&gt;\r\n          &lt;/datasources&gt;\r\n    &lt;/subsystem&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:6.0&quot;&gt;\r\n         .\r\n         .\r\n         .\r\n         &lt;global-modules&gt;\r\n             &lt;module name=&quot;com.oracle&quot; slot=&quot;main&quot;/&gt;\r\n         &lt;/global-modules&gt;\r\n         .\r\n         .\r\n         .\r\n    &lt;/subsystem&gt;","title":"Couldn&#39;t store job: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB","body":"<p>This is worked for me ;</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:datasources:7.0&quot;&gt;\n      &lt;datasources&gt;\n        &lt;datasource jndi-name=&quot;*******&quot; pool-name=&quot;****&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-e$\n          &lt;connection-url&gt;******&lt;/connection-url&gt;\n          &lt;driver&gt;oracle&lt;/driver&gt;\n          &lt;security&gt;\n            &lt;user-name&gt;***&lt;/user-name&gt;\n            &lt;password&gt;***&lt;/password&gt;\n          &lt;/security&gt;\n        &lt;/datasource&gt;\n        &lt;drivers&gt;\n          &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\n            &lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\n          &lt;/driver&gt;\n        &lt;/drivers&gt;\n      &lt;/datasources&gt;\n&lt;/subsystem&gt;\n.\n.\n.\n&lt;subsystem xmlns=&quot;urn:jboss:domain:ee:6.0&quot;&gt;\n     .\n     .\n     .\n     &lt;global-modules&gt;\n         &lt;module name=&quot;com.oracle&quot; slot=&quot;main&quot;/&gt;\n     &lt;/global-modules&gt;\n     .\n     .\n     .\n&lt;/subsystem&gt;\n</code></pre>\n"}],"owner":{"account_id":97888,"reputation":339,"user_id":265296,"accept_rate":60,"display_name":"Levent Tokmak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10478,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":14522072,"answer_count":4,"score":9,"last_activity_date":1674218455,"creation_date":1359104281,"question_id":14518407,"body_markdown":"I&#39;m getting this error:\r\n\r\n    org.quartz.JobPersistenceException: Couldn&#39;t store job: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB [See nested exception: java.sql.SQLException: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB]\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.storeJob(JobStoreSupport.java:1103)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport$3.execute(JobStoreSupport.java:1042)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport$40.execute(JobStoreSupport.java:3670)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3742)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreTX.executeInLock(JobStoreTX.java:90)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInLock(JobStoreSupport.java:3666)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.storeJobAndTrigger(JobStoreSupport.java:1030)\r\n    \tat org.quartz.core.QuartzScheduler.scheduleJob(QuartzScheduler.java:743)\r\n    \tat org.quartz.impl.StdScheduler.scheduleJob(StdScheduler.java:243)\r\n    \tat com.akbank.bsa.core.ApplicationStartup.run(ApplicationStartup.java:66)\r\n    \tat com.akbank.bsa.core.ApplicationStartup.initialize(ApplicationStartup.java:24)\r\n    \tat com.akbank.bsa.listener.Startup.contextInitialized(Startup.java:17)\r\n    \tat org.apache.catalina.core.StandardContext.contextListenerStart(StandardContext.java:3392)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3850)\r\n    \tat org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.sql.SQLException: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB\r\n    \tat org.quartz.impl.jdbcjobstore.oracle.OracleDelegate.writeDataToBlob(OracleDelegate.java:646)\r\n    \tat org.quartz.impl.jdbcjobstore.oracle.OracleDelegate.insertJobDetail(OracleDelegate.java:207)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.storeJob(JobStoreSupport.java:1097)\r\n    \t... 19 more\r\n\r\nUsing:\r\n\r\n**Jboss AS 7.1.1** \r\n\r\n**Java 1.6**\r\n\r\nOracle Database 11g Enterprise Edition Release **11.2.0.2.0** - 64bit Production\r\n\r\n**ojdbc6.jar** Implementation-Version: 11.2.0.2.0\r\n\r\n**quartz-2.1.6**\r\n\r\nWhat could be the problem? ","title":"Couldn&#39;t store job: Driver&#39;s Blob representation is of an unsupported type: oracle.sql.BLOB","body":"<p>I'm getting this error:</p>\n\n<pre><code>org.quartz.JobPersistenceException: Couldn't store job: Driver's Blob representation is of an unsupported type: oracle.sql.BLOB [See nested exception: java.sql.SQLException: Driver's Blob representation is of an unsupported type: oracle.sql.BLOB]\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.storeJob(JobStoreSupport.java:1103)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport$3.execute(JobStoreSupport.java:1042)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport$40.execute(JobStoreSupport.java:3670)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3742)\n    at org.quartz.impl.jdbcjobstore.JobStoreTX.executeInLock(JobStoreTX.java:90)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInLock(JobStoreSupport.java:3666)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.storeJobAndTrigger(JobStoreSupport.java:1030)\n    at org.quartz.core.QuartzScheduler.scheduleJob(QuartzScheduler.java:743)\n    at org.quartz.impl.StdScheduler.scheduleJob(StdScheduler.java:243)\n    at com.akbank.bsa.core.ApplicationStartup.run(ApplicationStartup.java:66)\n    at com.akbank.bsa.core.ApplicationStartup.initialize(ApplicationStartup.java:24)\n    at com.akbank.bsa.listener.Startup.contextInitialized(Startup.java:17)\n    at org.apache.catalina.core.StandardContext.contextListenerStart(StandardContext.java:3392)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:3850)\n    at org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: java.sql.SQLException: Driver's Blob representation is of an unsupported type: oracle.sql.BLOB\n    at org.quartz.impl.jdbcjobstore.oracle.OracleDelegate.writeDataToBlob(OracleDelegate.java:646)\n    at org.quartz.impl.jdbcjobstore.oracle.OracleDelegate.insertJobDetail(OracleDelegate.java:207)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.storeJob(JobStoreSupport.java:1097)\n    ... 19 more\n</code></pre>\n\n<p>Using:</p>\n\n<p><strong>Jboss AS 7.1.1</strong> </p>\n\n<p><strong>Java 1.6</strong></p>\n\n<p>Oracle Database 11g Enterprise Edition Release <strong>11.2.0.2.0</strong> - 64bit Production</p>\n\n<p><strong>ojdbc6.jar</strong> Implementation-Version: 11.2.0.2.0</p>\n\n<p><strong>quartz-2.1.6</strong></p>\n\n<p>What could be the problem? </p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":91491,"reputation":135854,"user_id":251153,"accept_rate":86,"display_name":"zneak"},"score":0,"creation_date":1313788857,"post_id":7127530,"comment_id":8543009,"body_markdown":"You probably mean `int[] fyeah = {2,3,4}`.","body":"You probably mean <code>int[] fyeah = {2,3,4}</code>."},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":8,"creation_date":1313789119,"post_id":7127530,"comment_id":8543081,"body_markdown":"@zneak I think they both work. Your way is more common, they should both compile.","body":"@zneak I think they both work. Your way is more common, they should both compile."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1460228064,"creation_date":1313788799,"answer_id":7127553,"question_id":7127530,"body_markdown":"The `fyeah` variable in your first example contains **a reference to an array** (not an array), while the `fyeah` integer in your second example contains **an integer**.\r\n\r\nSince Java passes everything **by value** the following will happen:\r\n\r\n**In the array case:** A copy of the *array reference* will be sent, and the original array will be changed.\r\n\r\n**In the int case:** A copy of *the integer* will be changed, and the original integer will not be changed.","title":"Why do arrays change in method calls?","body":"<p>The <code>fyeah</code> variable in your first example contains <strong>a reference to an array</strong> (not an array), while the <code>fyeah</code> integer in your second example contains <strong>an integer</strong>.</p>\n\n<p>Since Java passes everything <strong>by value</strong> the following will happen:</p>\n\n<p><strong>In the array case:</strong> A copy of the <em>array reference</em> will be sent, and the original array will be changed.</p>\n\n<p><strong>In the int case:</strong> A copy of <em>the integer</em> will be changed, and the original integer will not be changed.</p>\n"},{"tags":[],"owner":{"account_id":183379,"reputation":56997,"user_id":418715,"accept_rate":100,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313789171,"creation_date":1313788868,"answer_id":7127563,"question_id":7127530,"body_markdown":"The `int` is a value type so 5 is passed directly into `smth` which can only modify the local copy. An array on the other hand is a reference type so the elements of that array can be modified.","title":"Why do arrays change in method calls?","body":"<p>The <code>int</code> is a value type so 5 is passed directly into <code>smth</code> which can only modify the local copy. An array on the other hand is a reference type so the elements of that array can be modified.</p>\n"},{"tags":[],"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313789040,"creation_date":1313789040,"answer_id":7127587,"question_id":7127530,"body_markdown":"It&#39;s because your int is a primitive and the method &lt;code&gt;smth&lt;/code&gt; creates a local copy which is why it doesn&#39;t print the way you want. Objects are passed by value as well, but a value to the pointer in memory. So when it is changed, the pointer stays throughout both methods and you see the change. [Read More Here][1]\r\n\r\n\r\n  [1]: http://academic.regis.edu/dbahr/GeneralPages/IntroToProgramming/JavaPassByValue.htm","title":"Why do arrays change in method calls?","body":"<p>It's because your int is a primitive and the method <code>smth</code> creates a local copy which is why it doesn't print the way you want. Objects are passed by value as well, but a value to the pointer in memory. So when it is changed, the pointer stays throughout both methods and you see the change. <a href=\"http://academic.regis.edu/dbahr/GeneralPages/IntroToProgramming/JavaPassByValue.htm\" rel=\"nofollow\">Read More Here</a></p>\n"},{"tags":[],"owner":{"account_id":462097,"reputation":116,"user_id":864213,"display_name":"SipSop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313789219,"creation_date":1313789219,"answer_id":7127615,"question_id":7127530,"body_markdown":"Ok. An int in java ( and really all languages that have strict data typing ) is a primitive data type. Its just a single variable of that data type. In java this means its passed by value to the method. So when you pass in the argument, a copy of the passed variable is created. Any operations that take place in the method act on that copy not the passed variable. \r\n\r\nActually in java EVERYTHING is passed by value but getting into the details of how that actually is true with what I am going to say next seems inadvisable.\r\n\r\nWith the array...its a collection of variables of the primitive data type int. So an entire copy of the array isn&#39;t actually made just a copy of the reference to the memory that stores the array. so yes the value of the int IN the array is changed from operations in the method. \r\n\r\nIn short methods don&#39;t change the external value of primitives (int,float,double,long,char) with the operations in the method, you have to return the resulting value of those operations to the caller if you wish to obtain it. Operations do change the value with most objects as well as with arrays of primitives. Hope that helps. Really unsure of how low level to get. Maybe someone else can clearly explain exactly why its by value. I &quot;get&quot; it but find it hard to help other people understand.","title":"Why do arrays change in method calls?","body":"<p>Ok. An int in java ( and really all languages that have strict data typing ) is a primitive data type. Its just a single variable of that data type. In java this means its passed by value to the method. So when you pass in the argument, a copy of the passed variable is created. Any operations that take place in the method act on that copy not the passed variable. </p>\n\n<p>Actually in java EVERYTHING is passed by value but getting into the details of how that actually is true with what I am going to say next seems inadvisable.</p>\n\n<p>With the array...its a collection of variables of the primitive data type int. So an entire copy of the array isn't actually made just a copy of the reference to the memory that stores the array. so yes the value of the int IN the array is changed from operations in the method. </p>\n\n<p>In short methods don't change the external value of primitives (int,float,double,long,char) with the operations in the method, you have to return the resulting value of those operations to the caller if you wish to obtain it. Operations do change the value with most objects as well as with arrays of primitives. Hope that helps. Really unsure of how low level to get. Maybe someone else can clearly explain exactly why its by value. I \"get\" it but find it hard to help other people understand.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313791660,"creation_date":1313791660,"answer_id":7127918,"question_id":7127530,"body_markdown":"Seeing it a bit less technically, I would say that  \r\n\r\n        fyeah[0] = 22;\r\n\r\nis changing the content of (the object pointed to by) fyeah,  while  \r\n\r\n        fyeah = 22;\r\n\r\nis changing (the variable) fyeah itself.  \r\nAnother example:  \r\n\r\n    void smth(Person person) {\r\n        person.setAge(22);\r\n    }\r\n\r\nis changing (the content of) the person while  \r\n\r\n    void smth(Person person) {\r\n        person = otherPerson;\r\n    }\r\n\r\nis changing the variable person - the original instance of Person is still unchanged (and, since Java is pass-by-value, the variable in the calling code is not changed by this method)","title":"Why do arrays change in method calls?","body":"<p>Seeing it a bit less technically, I would say that  </p>\n\n<pre><code>    fyeah[0] = 22;\n</code></pre>\n\n<p>is changing the content of (the object pointed to by) fyeah,  while  </p>\n\n<pre><code>    fyeah = 22;\n</code></pre>\n\n<p>is changing (the variable) fyeah itself.<br>\nAnother example:  </p>\n\n<pre><code>void smth(Person person) {\n    person.setAge(22);\n}\n</code></pre>\n\n<p>is changing (the content of) the person while  </p>\n\n<pre><code>void smth(Person person) {\n    person = otherPerson;\n}\n</code></pre>\n\n<p>is changing the variable person - the original instance of Person is still unchanged (and, since Java is pass-by-value, the variable in the calling code is not changed by this method)</p>\n"},{"tags":[],"owner":{"account_id":119633,"reputation":7453,"user_id":311455,"accept_rate":63,"display_name":"Bhaskar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313792857,"creation_date":1313792857,"answer_id":7128059,"question_id":7127530,"body_markdown":"\r\nThink it in terms of memory: Lets analyse your first program -\r\n\r\nIn `mainx` , `fyeah` is an array of `int`s , so its a reference ( or a pointer if I may ). This reference points to a location in heap memory where the actual array of `int`s is stored. Lets say at address 100. Located contiguously from here are three ints ( lets say beginning at address 100 , 104 and 108 respectively are 2 ,3 and 4 ).\r\n\r\nNow you call your method `smth` and pass the reference. Within the method , there is another reference ( of an `int` array type ) named `fyeah`. This `fyeah` is quite distinct from `fyeah` reference in the `mainx` method. Now , when you call `smth` and pass the `fyeah` from `mainx` , the `fyeah` within the `smth` method is initialized to point to the same location ( ie memory address 100 )\r\nWhen you access the 0 element of `fyeah` and assign  it a value of 22 , it reaches out to the memory location of 100 and writes this value 22 there. When you come back in your `mainx` method , the `fyeah` reference is still referring to memory address 100. But the value present at that location is now 22. So you get that value when you access the first element from `fyeah` in `mainx`.\r\n\r\nNow , your second program. Your `mainx` method declares an `int` ( not an array , but a simple `int` ) and set it to 5. This `fyeah` variable is created on stack not on the heap. The value of 5 is stored on the stack. Now you call `smth` and pass this variable. Within the method `smth` , you again declare an `int` variable , `fyeah` by name ( as a formal method argument ). Again this is distinct from the `fyeah` of the `mainx` method and this `fyeah` is also created on stack.This variable will be initialized to a value of 5, copied over from the `fyeah` you passed to `smth` as argument. Note now that there are two distinct copies on `fyeah` variables , both on stack , and both a value of 5. Now you assign the `fyeah` in `smth` a value of 22. This will not affect the `fyeah` of the `mainx` method,so when you return to `mainx` and access `fyeah` , you see 5.\r\n","title":"Why do arrays change in method calls?","body":"<p>Think it in terms of memory: Lets analyse your first program -</p>\n\n<p>In <code>mainx</code> , <code>fyeah</code> is an array of <code>int</code>s , so its a reference ( or a pointer if I may ). This reference points to a location in heap memory where the actual array of <code>int</code>s is stored. Lets say at address 100. Located contiguously from here are three ints ( lets say beginning at address 100 , 104 and 108 respectively are 2 ,3 and 4 ).</p>\n\n<p>Now you call your method <code>smth</code> and pass the reference. Within the method , there is another reference ( of an <code>int</code> array type ) named <code>fyeah</code>. This <code>fyeah</code> is quite distinct from <code>fyeah</code> reference in the <code>mainx</code> method. Now , when you call <code>smth</code> and pass the <code>fyeah</code> from <code>mainx</code> , the <code>fyeah</code> within the <code>smth</code> method is initialized to point to the same location ( ie memory address 100 )\nWhen you access the 0 element of <code>fyeah</code> and assign  it a value of 22 , it reaches out to the memory location of 100 and writes this value 22 there. When you come back in your <code>mainx</code> method , the <code>fyeah</code> reference is still referring to memory address 100. But the value present at that location is now 22. So you get that value when you access the first element from <code>fyeah</code> in <code>mainx</code>.</p>\n\n<p>Now , your second program. Your <code>mainx</code> method declares an <code>int</code> ( not an array , but a simple <code>int</code> ) and set it to 5. This <code>fyeah</code> variable is created on stack not on the heap. The value of 5 is stored on the stack. Now you call <code>smth</code> and pass this variable. Within the method <code>smth</code> , you again declare an <code>int</code> variable , <code>fyeah</code> by name ( as a formal method argument ). Again this is distinct from the <code>fyeah</code> of the <code>mainx</code> method and this <code>fyeah</code> is also created on stack.This variable will be initialized to a value of 5, copied over from the <code>fyeah</code> you passed to <code>smth</code> as argument. Note now that there are two distinct copies on <code>fyeah</code> variables , both on stack , and both a value of 5. Now you assign the <code>fyeah</code> in <code>smth</code> a value of 22. This will not affect the <code>fyeah</code> of the <code>mainx</code> method,so when you return to <code>mainx</code> and access <code>fyeah</code> , you see 5.</p>\n"}],"owner":{"account_id":85186,"reputation":21239,"user_id":237681,"accept_rate":80,"display_name":"good_evening"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22520,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1674218376,"accepted_answer_id":7127553,"answer_count":6,"score":18,"last_activity_date":1674218409,"creation_date":1313788685,"question_id":7127530,"body_markdown":"When I write like this:\r\n\r\n\tpublic class test {\r\n\t\t\r\n\t\tvoid mainx()\r\n\t\t{\r\n\t\t\tint fyeah[] = {2, 3, 4};\r\n\t\t\tsmth(fyeah);\r\n\t\t\tSystem.out.println(&quot;x&quot;+fyeah[0]);\r\n\t\t}\r\n\t\t\r\n\t\tvoid smth(int[] fyeah)\r\n\t\t{\r\n\t\t\tfyeah[0] = 22;\r\n\t\t}\r\n\t}\r\n\r\nIt prints x22;\r\n\r\nWhen I write like this:\r\n\r\n\tpublic class test {\r\n\t\t\r\n\t\tvoid mainx()\r\n\t\t{\r\n\t\t\tint fyeah = 5;\r\n\t\t\tsmth(fyeah);\r\n\t\t\tSystem.out.println(&quot;x&quot;+fyeah);\r\n\t\t}\r\n\t\t\r\n\t\tvoid smth(int fyeah)\r\n\t\t{\r\n\t\t\tfyeah = 22;\r\n\t\t}\r\n\t}\r\n\r\nIt doesn&#39;t print x22, but prints x5.\r\n\r\nWhy, in the second version function, doesn&#39;t the value change? Does it change values only for array elements?","title":"Why do arrays change in method calls?","body":"<p>When I write like this:</p>\n\n<pre><code>public class test {\n\n    void mainx()\n    {\n        int fyeah[] = {2, 3, 4};\n        smth(fyeah);\n        System.out.println(\"x\"+fyeah[0]);\n    }\n\n    void smth(int[] fyeah)\n    {\n        fyeah[0] = 22;\n    }\n}\n</code></pre>\n\n<p>It prints x22;</p>\n\n<p>When I write like this:</p>\n\n<pre><code>public class test {\n\n    void mainx()\n    {\n        int fyeah = 5;\n        smth(fyeah);\n        System.out.println(\"x\"+fyeah);\n    }\n\n    void smth(int fyeah)\n    {\n        fyeah = 22;\n    }\n}\n</code></pre>\n\n<p>It doesn't print x22, but prints x5.</p>\n\n<p>Why, in the second version function, doesn't the value change? Does it change values only for array elements?</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674218153,"creation_date":1674218153,"answer_id":75184117,"question_id":75182332,"body_markdown":"The mapping of an index is only created by Spring Data Elasticsearch when you are using Spring Data repositories:\r\n\r\n&gt; during bootstrapping the repository support on application startup\r\n(https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.repositories.autocreation).\r\n\r\nSo if you don&#39;t use repository access for your entities, or the index already exists, the mapping will not be written automatically.\r\n\r\nYou always can do that by your self:\r\n\r\n```java\r\nelastic.indexOps(Person.class).putMapping(Person.class)\r\n```","title":"@CompletionField annotation doesn&#39;t create field on mapping","body":"<p>The mapping of an index is only created by Spring Data Elasticsearch when you are using Spring Data repositories:</p>\n<blockquote>\n<p>during bootstrapping the repository support on application startup\n(<a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.repositories.autocreation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.repositories.autocreation</a>).</p>\n</blockquote>\n<p>So if you don't use repository access for your entities, or the index already exists, the mapping will not be written automatically.</p>\n<p>You always can do that by your self:</p>\n<pre class=\"lang-java prettyprint-override\"><code>elastic.indexOps(Person.class).putMapping(Person.class)\n</code></pre>\n"}],"owner":{"account_id":9492329,"reputation":31,"user_id":7056650,"display_name":"vakkaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75184117,"answer_count":1,"score":0,"last_activity_date":1674218153,"creation_date":1674208278,"question_id":75182332,"body_markdown":"I am trying to make autocomplete suggestion using Elasticsearch. Here is my entity:\r\n\r\n```\r\n@Document(indexName = ESUtil.INDEX_NAME)\r\npublic class Person {\r\n\t\r\n\t@Id\r\n\tprivate String id;\r\n\t\r\n\t@Field(type = FieldType.Text, name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n    @Field(type = FieldType.Text, name = &quot;surname&quot;)\r\n    private String surname;\r\n    \r\n    @Field(type = FieldType.Integer, name = &quot;age&quot;)\r\n    private int age;\r\n\r\n\t@Field(type = FieldType.Text, name = &quot;job&quot;)\r\n\tprivate String job;\r\n\r\n\t@CompletionField\r\n\tprivate Completion suggest;\r\n\r\n    // getters-setters...\r\n}\r\n```\r\n\r\nI am creating documents with this method:\r\n```\t\r\n    @Autowired\r\n\tprivate ElasticsearchRestTemplate elastic;\r\n\r\n\tpublic String createOrUpdateDocument(Person person) {\r\n\t\tIndexQuery query = new IndexQueryBuilder().withId(person.getId()).withObject(person).build();\r\n\t\t\r\n\t\treturn elastic.index(query, IndexCoordinates.of(ESUtil.INDEX_NAME));\r\n\t}\r\n```\r\n\r\nAnd it is creating the index automatically with these config after create a document:\r\n```\r\n{\r\n    &quot;dummy&quot;: {\r\n        &quot;aliases&quot;: {},\r\n        &quot;mappings&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;_class&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;,\r\n                    &quot;fields&quot;: {\r\n                        &quot;keyword&quot;: {\r\n                            &quot;type&quot;: &quot;keyword&quot;,\r\n                            &quot;ignore_above&quot;: 256\r\n                        }\r\n                    }\r\n                },\r\n                &quot;age&quot;: {\r\n                    &quot;type&quot;: &quot;long&quot;\r\n                },\r\n                &quot;id&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;,\r\n                    &quot;fields&quot;: {\r\n                        &quot;keyword&quot;: {\r\n                            &quot;type&quot;: &quot;keyword&quot;,\r\n                            &quot;ignore_above&quot;: 256\r\n                        }\r\n                    }\r\n                },\r\n                &quot;job&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;,\r\n                    &quot;fields&quot;: {\r\n                        &quot;keyword&quot;: {\r\n                            &quot;type&quot;: &quot;keyword&quot;,\r\n                            &quot;ignore_above&quot;: 256\r\n                        }\r\n                    }\r\n                },\r\n                &quot;name&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;,\r\n                    &quot;fields&quot;: {\r\n                        &quot;keyword&quot;: {\r\n                            &quot;type&quot;: &quot;keyword&quot;,\r\n                            &quot;ignore_above&quot;: 256\r\n                        }\r\n                    }\r\n                },\r\n                &quot;surname&quot;: {\r\n                    &quot;type&quot;: &quot;text&quot;,\r\n                    &quot;fields&quot;: {\r\n                        &quot;keyword&quot;: {\r\n                            &quot;type&quot;: &quot;keyword&quot;,\r\n                            &quot;ignore_above&quot;: 256\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        &quot;settings&quot;: {\r\n            &quot;index&quot;: {\r\n                &quot;routing&quot;: {\r\n                    &quot;allocation&quot;: {\r\n                        &quot;include&quot;: {\r\n                            &quot;_tier_preference&quot;: &quot;data_content&quot;\r\n                        }\r\n                    }\r\n                },\r\n                &quot;number_of_shards&quot;: &quot;1&quot;,\r\n                &quot;provided_name&quot;: &quot;dummy&quot;,\r\n                &quot;creation_date&quot;: &quot;1674206424438&quot;,\r\n                &quot;number_of_replicas&quot;: &quot;1&quot;,\r\n                &quot;uuid&quot;: &quot;a_XWdCzxRUieyDZrioIaSg&quot;,\r\n                &quot;version&quot;: {\r\n                    &quot;created&quot;: &quot;8060099&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo my question is, where is my &quot;suggest&quot; field with &quot;completion&quot; type? I am using [tag:spring-data-elasticsearch] (ver: 4.4.2), [tag:elasticsearch] (ver: 8.6.0) and there is not any additional configuration.\r\n\r\nAm I missing some config or should I create index by myself?","title":"@CompletionField annotation doesn&#39;t create field on mapping","body":"<p>I am trying to make autocomplete suggestion using Elasticsearch. Here is my entity:</p>\n<pre><code>@Document(indexName = ESUtil.INDEX_NAME)\npublic class Person {\n    \n    @Id\n    private String id;\n    \n    @Field(type = FieldType.Text, name = &quot;name&quot;)\n    private String name;\n\n    @Field(type = FieldType.Text, name = &quot;surname&quot;)\n    private String surname;\n    \n    @Field(type = FieldType.Integer, name = &quot;age&quot;)\n    private int age;\n\n    @Field(type = FieldType.Text, name = &quot;job&quot;)\n    private String job;\n\n    @CompletionField\n    private Completion suggest;\n\n    // getters-setters...\n}\n</code></pre>\n<p>I am creating documents with this method:</p>\n<pre><code>    @Autowired\n    private ElasticsearchRestTemplate elastic;\n\n    public String createOrUpdateDocument(Person person) {\n        IndexQuery query = new IndexQueryBuilder().withId(person.getId()).withObject(person).build();\n        \n        return elastic.index(query, IndexCoordinates.of(ESUtil.INDEX_NAME));\n    }\n</code></pre>\n<p>And it is creating the index automatically with these config after create a document:</p>\n<pre><code>{\n    &quot;dummy&quot;: {\n        &quot;aliases&quot;: {},\n        &quot;mappings&quot;: {\n            &quot;properties&quot;: {\n                &quot;_class&quot;: {\n                    &quot;type&quot;: &quot;text&quot;,\n                    &quot;fields&quot;: {\n                        &quot;keyword&quot;: {\n                            &quot;type&quot;: &quot;keyword&quot;,\n                            &quot;ignore_above&quot;: 256\n                        }\n                    }\n                },\n                &quot;age&quot;: {\n                    &quot;type&quot;: &quot;long&quot;\n                },\n                &quot;id&quot;: {\n                    &quot;type&quot;: &quot;text&quot;,\n                    &quot;fields&quot;: {\n                        &quot;keyword&quot;: {\n                            &quot;type&quot;: &quot;keyword&quot;,\n                            &quot;ignore_above&quot;: 256\n                        }\n                    }\n                },\n                &quot;job&quot;: {\n                    &quot;type&quot;: &quot;text&quot;,\n                    &quot;fields&quot;: {\n                        &quot;keyword&quot;: {\n                            &quot;type&quot;: &quot;keyword&quot;,\n                            &quot;ignore_above&quot;: 256\n                        }\n                    }\n                },\n                &quot;name&quot;: {\n                    &quot;type&quot;: &quot;text&quot;,\n                    &quot;fields&quot;: {\n                        &quot;keyword&quot;: {\n                            &quot;type&quot;: &quot;keyword&quot;,\n                            &quot;ignore_above&quot;: 256\n                        }\n                    }\n                },\n                &quot;surname&quot;: {\n                    &quot;type&quot;: &quot;text&quot;,\n                    &quot;fields&quot;: {\n                        &quot;keyword&quot;: {\n                            &quot;type&quot;: &quot;keyword&quot;,\n                            &quot;ignore_above&quot;: 256\n                        }\n                    }\n                }\n            }\n        },\n        &quot;settings&quot;: {\n            &quot;index&quot;: {\n                &quot;routing&quot;: {\n                    &quot;allocation&quot;: {\n                        &quot;include&quot;: {\n                            &quot;_tier_preference&quot;: &quot;data_content&quot;\n                        }\n                    }\n                },\n                &quot;number_of_shards&quot;: &quot;1&quot;,\n                &quot;provided_name&quot;: &quot;dummy&quot;,\n                &quot;creation_date&quot;: &quot;1674206424438&quot;,\n                &quot;number_of_replicas&quot;: &quot;1&quot;,\n                &quot;uuid&quot;: &quot;a_XWdCzxRUieyDZrioIaSg&quot;,\n                &quot;version&quot;: {\n                    &quot;created&quot;: &quot;8060099&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>So my question is, where is my &quot;suggest&quot; field with &quot;completion&quot; type? I am using <a href=\"/questions/tagged/spring-data-elasticsearch\" class=\"post-tag\" title=\"show questions tagged &#39;spring-data-elasticsearch&#39;\" aria-label=\"show questions tagged &#39;spring-data-elasticsearch&#39;\" rel=\"tag\" aria-labelledby=\"spring-data-elasticsearch-container\"><img src=\"https://i.stack.imgur.com/7Wlxi.png\" height=\"16\" width=\"18\" alt=\"\" class=\"sponsor-tag-img\">spring-data-elasticsearch</a> (ver: 4.4.2), <a href=\"/questions/tagged/elasticsearch\" class=\"post-tag\" title=\"show questions tagged &#39;elasticsearch&#39;\" aria-label=\"show questions tagged &#39;elasticsearch&#39;\" rel=\"tag\" aria-labelledby=\"elasticsearch-container\"><img src=\"https://i.stack.imgur.com/pCpn1.png\" height=\"16\" width=\"18\" alt=\"\" class=\"sponsor-tag-img\">elasticsearch</a> (ver: 8.6.0) and there is not any additional configuration.</p>\n<p>Am I missing some config or should I create index by myself?</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1399050580,"creation_date":1311209461,"answer_id":6770215,"question_id":6770019,"body_markdown":"**To connect to a second server** behind a firewall, there are in principle two options.\r\n\r\nThe naive one would be to call `ssh` on the first server (from an exec channel), indicating the right server. This would need agent forwarding with JSch, and also doesn&#39;t provide the JSch API to access the second server, only the ssh command line.\r\n\r\nThe better one would be to use the connection to the first server to build up a TCP Tunnel, and use this tunnel to connect to the second server. The JSch Wiki contains a [ProxySSH class][1] (together with some example code) which allows to use a JSch session as a tunnel for a second JSch session. (Disclaimer: This class was written mainly by me, with some support from the JSch author.)\r\n\r\nWhen you have your connection to the second server, use either a `shell` channel or a series of `exec` channels to execute your commands. (See [Shell, Exec or Subsystem Channel][2] in the JSch Wiki for an overview, and the [Javadocs][3] for details.)\r\n\r\n\r\n----------\r\n\r\nFor your **unknown-host-key** problem:\r\n\r\nThe *secure* version would be to collect all host keys (in a secure way) before and put them in the known_hosts file. (If you simply trust the key which is presented to you, you are vulnerable to a man-in-the-middle attack. If these are of no concern in your network, since it is physically secured, good for you.)\r\n\r\nThe *convenient* version is setting the [configuration option][4] `StrictHostKeyChecking` to `no` - this will add unknown host keys to the host keys file:\r\n\r\n    JSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\r\n(You can also set it individually on the sessions, if you only want to set it for the proxied sessions and not for the tunnel session. Or override it for the tunnel session with `yes`or `ask`  - there the MITM danger might be greater.)\r\n\r\nA *middle way* would be to enable actually asking the user (which then should compare the fingerprints to some list) - for this, implement the [`UserInfo`][5] interface and provide the object to the session. (The JSch Wiki contains an [example implementation using Swing JOptionPanes][6], which you can simply use if your client program runs on a system with GUI.)\r\n\r\nFor the saving of accepted host keys to work, you must use the [`JSch.setKnownHosts`][7] method with a file name argument, not the one with an InputStream argument - else your accepting will have to be repeated for each restart of your client.\r\n\r\n\r\n  [1]: http://sourceforge.net/apps/mediawiki/jsch/index.php?title=ProxySSH\r\n  [2]: http://sourceforge.net/apps/mediawiki/jsch/index.php?title=Shell,_Exec_or_Subsystem_Channel\r\n  [3]: http://epaul.github.com/jsch-documentation/simple.javadoc/\r\n  [4]: http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#config-others\r\n  [5]: http://epaul.github.com/jsch-documentation/simple.javadoc/index.html?com/jcraft/jsch/UserInfo.html\r\n  [6]: http://sourceforge.net/apps/mediawiki/jsch/index.php?title=SwingDialogUserInfo\r\n  [7]: http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts","title":"How to SSH to a server behind another SSH server using JSch?","body":"<p><strong>To connect to a second server</strong> behind a firewall, there are in principle two options.</p>\n\n<p>The naive one would be to call <code>ssh</code> on the first server (from an exec channel), indicating the right server. This would need agent forwarding with JSch, and also doesn't provide the JSch API to access the second server, only the ssh command line.</p>\n\n<p>The better one would be to use the connection to the first server to build up a TCP Tunnel, and use this tunnel to connect to the second server. The JSch Wiki contains a <a href=\"http://sourceforge.net/apps/mediawiki/jsch/index.php?title=ProxySSH\" rel=\"noreferrer\">ProxySSH class</a> (together with some example code) which allows to use a JSch session as a tunnel for a second JSch session. (Disclaimer: This class was written mainly by me, with some support from the JSch author.)</p>\n\n<p>When you have your connection to the second server, use either a <code>shell</code> channel or a series of <code>exec</code> channels to execute your commands. (See <a href=\"http://sourceforge.net/apps/mediawiki/jsch/index.php?title=Shell,_Exec_or_Subsystem_Channel\" rel=\"noreferrer\">Shell, Exec or Subsystem Channel</a> in the JSch Wiki for an overview, and the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/\" rel=\"noreferrer\">Javadocs</a> for details.)</p>\n\n<hr>\n\n<p>For your <strong>unknown-host-key</strong> problem:</p>\n\n<p>The <em>secure</em> version would be to collect all host keys (in a secure way) before and put them in the known_hosts file. (If you simply trust the key which is presented to you, you are vulnerable to a man-in-the-middle attack. If these are of no concern in your network, since it is physically secured, good for you.)</p>\n\n<p>The <em>convenient</em> version is setting the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#config-others\" rel=\"noreferrer\">configuration option</a> <code>StrictHostKeyChecking</code> to <code>no</code> - this will add unknown host keys to the host keys file:</p>\n\n<pre><code>JSch.setConfig(\"StrictHostKeyChecking\", \"no\");\n</code></pre>\n\n<p>(You can also set it individually on the sessions, if you only want to set it for the proxied sessions and not for the tunnel session. Or override it for the tunnel session with <code>yes</code>or <code>ask</code>  - there the MITM danger might be greater.)</p>\n\n<p>A <em>middle way</em> would be to enable actually asking the user (which then should compare the fingerprints to some list) - for this, implement the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/index.html?com/jcraft/jsch/UserInfo.html\" rel=\"noreferrer\"><code>UserInfo</code></a> interface and provide the object to the session. (The JSch Wiki contains an <a href=\"http://sourceforge.net/apps/mediawiki/jsch/index.php?title=SwingDialogUserInfo\" rel=\"noreferrer\">example implementation using Swing JOptionPanes</a>, which you can simply use if your client program runs on a system with GUI.)</p>\n\n<p>For the saving of accepted host keys to work, you must use the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts\" rel=\"noreferrer\"><code>JSch.setKnownHosts</code></a> method with a file name argument, not the one with an InputStream argument - else your accepting will have to be repeated for each restart of your client.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674217849,"creation_date":1525247913,"answer_id":50129690,"question_id":6770019,"body_markdown":"Use an [SSH tunnel](https://en.wikipedia.org/wiki/Tunneling_protocol#Secure_Shell_tunneling), aka [local port forwarding](https://en.wikipedia.org/wiki/Port_forwarding#Local_port_forwarding), to open an SSH/SFTP connection to B via A.\r\n\r\n    Session sessionA = jsch.getSession(&quot;usernameA&quot;, &quot;hostA&quot;);\r\n    // ...\r\n    sessionA.connect();\r\n\r\n    int forwardedPort = sessionA.setPortForwardingL(0, &quot;hostB&quot;, 22);\r\n    \r\n    Session sessionB = jsch.getSession(&quot;usernameB&quot;, &quot;localhost&quot;, forwardedPort);\r\n    // ...\r\n    sessionB.connect();\r\n    \r\n    // Use sessionB here for shell/exec/sftp\r\n\r\n---\r\n\r\n*You may need to [deal with `UnknownHostKey` exception](https://stackoverflow.com/q/32852906/850848#32858953).*","title":"How to SSH to a server behind another SSH server using JSch?","body":"<p>Use an <a href=\"https://en.wikipedia.org/wiki/Tunneling_protocol#Secure_Shell_tunneling\" rel=\"nofollow noreferrer\">SSH tunnel</a>, aka <a href=\"https://en.wikipedia.org/wiki/Port_forwarding#Local_port_forwarding\" rel=\"nofollow noreferrer\">local port forwarding</a>, to open an SSH/SFTP connection to B via A.</p>\n<pre><code>Session sessionA = jsch.getSession(&quot;usernameA&quot;, &quot;hostA&quot;);\n// ...\nsessionA.connect();\n\nint forwardedPort = sessionA.setPortForwardingL(0, &quot;hostB&quot;, 22);\n\nSession sessionB = jsch.getSession(&quot;usernameB&quot;, &quot;localhost&quot;, forwardedPort);\n// ...\nsessionB.connect();\n\n// Use sessionB here for shell/exec/sftp\n</code></pre>\n<hr />\n<p><em>You may need to <a href=\"https://stackoverflow.com/q/32852906/850848#32858953\">deal with <code>UnknownHostKey</code> exception</a>.</em></p>\n"},{"tags":[],"owner":{"account_id":6134069,"reputation":39,"user_id":4783472,"display_name":"MocaccinoFan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532564909,"creation_date":1532563555,"answer_id":51529274,"question_id":6770019,"body_markdown":"This can help anyone. Works fine:\r\n\r\n     public static void sesionA(){\r\n\t\t try {\r\n\t\t\tSession sessionA = jSch.getSession(username, hostA);  \r\n\t\t\tProperties config = new Properties(); \r\n\t        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t        sessionA.setConfig(config);\r\n\t        sessionA.setPassword(passwordA);\r\n\t        sessionA.connect();\r\n\t        \r\n\t        \r\n\t        if(sessionA.isConnected()) {\r\n\t        \tSystem.out.println(&quot;Connected host A!&quot;);\r\n\t        \tforwardedPort = 2222;\r\n\t        \tsessionA.setPortForwardingL(forwardedPort, hostB, 22);\t\t\r\n\t        }\r\n\t\t\t\r\n\t\t} catch (JSchException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t }\r\n\t \r\n\t public static void sesionB(){\r\n\t\t\r\n\r\n\t\t\ttry {\r\n\t\t\t\tSession sessionB = jSch.getSession(username, &quot;localhost&quot;, forwardedPort);\r\n\r\n                Properties config = new Properties(); \r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                sessionB.setConfig(config);\r\n                sessionB.setPassword(passwordB);\r\n\t\t\t\tsessionB.connect();\r\n\t\t\t\t\r\n\t\t      if(sessionB.isConnected()) {\r\n\t\t         System.out.println(&quot;Connected host B!&quot;);\r\n              }\r\n         }\r\n     }\r\n\r\n","title":"How to SSH to a server behind another SSH server using JSch?","body":"<p>This can help anyone. Works fine:</p>\n\n<pre><code> public static void sesionA(){\n     try {\n        Session sessionA = jSch.getSession(username, hostA);  \n        Properties config = new Properties(); \n        config.put(\"StrictHostKeyChecking\", \"no\");\n        sessionA.setConfig(config);\n        sessionA.setPassword(passwordA);\n        sessionA.connect();\n\n\n        if(sessionA.isConnected()) {\n            System.out.println(\"Connected host A!\");\n            forwardedPort = 2222;\n            sessionA.setPortForwardingL(forwardedPort, hostB, 22);      \n        }\n\n    } catch (JSchException e) {\n        e.printStackTrace();\n    }\n }\n\n public static void sesionB(){\n\n\n        try {\n            Session sessionB = jSch.getSession(username, \"localhost\", forwardedPort);\n\n            Properties config = new Properties(); \n            config.put(\"StrictHostKeyChecking\", \"no\");\n            sessionB.setConfig(config);\n            sessionB.setPassword(passwordB);\n            sessionB.connect();\n\n          if(sessionB.isConnected()) {\n             System.out.println(\"Connected host B!\");\n          }\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":407719,"reputation":3158,"user_id":777961,"accept_rate":51,"display_name":"Martin Klosi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11242,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":6770215,"answer_count":3,"score":7,"last_activity_date":1674217849,"creation_date":1311207491,"question_id":6770019,"body_markdown":"I need to be able to ssh from a Java program into a remote server, and from there SSH to another server. I have credentials for both servers on my client.\r\n\r\nThe commands will be passed automatically from within the app as regular strings (no user input). I need to be able to run those custom commands on the second server and be able to decide what commands to issue during runtime, based on the output and some simple logic.\r\n\r\nCan I use JSch to do that and if yes,  where should I start look into? (Examples, info)\r\n\r\n=============================================================\r\n\r\nADDED:\r\n\r\n&gt; Exception in thread &quot;main&quot; com.jcraft.jsch.JSchException:\r\n&gt; UnknownHostKey: host.net. RSA key fingerprint is &#39;blahblahblah&#39;\r\n\r\nas till now, I am solving this problem by modifying the known_hosts file and adding host manually in there.\r\nCan I bypass this little problem by settings an option somewhere telling the JSch to press YES automatically when this YES-NO question is asked? \r\n","title":"How to SSH to a server behind another SSH server using JSch?","body":"<p>I need to be able to ssh from a Java program into a remote server, and from there SSH to another server. I have credentials for both servers on my client.</p>\n\n<p>The commands will be passed automatically from within the app as regular strings (no user input). I need to be able to run those custom commands on the second server and be able to decide what commands to issue during runtime, based on the output and some simple logic.</p>\n\n<p>Can I use JSch to do that and if yes,  where should I start look into? (Examples, info)</p>\n\n<p>=============================================================</p>\n\n<p>ADDED:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" com.jcraft.jsch.JSchException:\n  UnknownHostKey: host.net. RSA key fingerprint is 'blahblahblah'</p>\n</blockquote>\n\n<p>as till now, I am solving this problem by modifying the known_hosts file and adding host manually in there.\nCan I bypass this little problem by settings an option somewhere telling the JSch to press YES automatically when this YES-NO question is asked? </p>\n"},{"tags":["java","debugging","compiler-construction"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1674208666,"post_id":75182344,"comment_id":132669417,"body_markdown":"Looks like the two blocks are simply swapped (with some added difference in local variable numbering). Is it possible that you simply have some random order effects by using structures like `HashMap` or `HashSet` which leads to non-reproducible output order? If that&#39;s the case then the debug/run distinction would be red herring.","body":"Looks like the two blocks are simply swapped (with some added difference in local variable numbering). Is it possible that you simply have some random order effects by using structures like <code>HashMap</code> or <code>HashSet</code> which leads to non-reproducible output order? If that&#39;s the case then the debug/run distinction would be red herring."},{"owner":{"account_id":25738168,"reputation":1,"user_id":19492541,"display_name":"Leonard_C"},"score":0,"creation_date":1674208924,"post_id":75182344,"comment_id":132669519,"body_markdown":"Yes, the block is stored as `HashSet`. So it&#39;s due to the `Hash` function? And I can solve this by a normal `Set`?","body":"Yes, the block is stored as <code>HashSet</code>. So it&#39;s due to the <code>Hash</code> function? And I can solve this by a normal <code>Set</code>?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674209325,"post_id":75182344,"comment_id":132669653,"body_markdown":"If you want the order of items in a `Set` (that&#39;s currently a `HashSet`) to stay consistent but don&#39;t particularly care which order, then replacing the `HashSet` with a `LinkedHashSet` is probably the simplest change to achieve that. Similarly `HashMap` -&gt; `LinkedHashMap` does the same for maps. Generally speaking having reproducible compilation (i.e. same input always produces the same output) is not strictly necessary, but very useful for debugging.","body":"If you want the order of items in a <code>Set</code> (that&#39;s currently a <code>HashSet</code>) to stay consistent but don&#39;t particularly care which order, then replacing the <code>HashSet</code> with a <code>LinkedHashSet</code> is probably the simplest change to achieve that. Similarly <code>HashMap</code> -&gt; <code>LinkedHashMap</code> does the same for maps. Generally speaking having reproducible compilation (i.e. same input always produces the same output) is not strictly necessary, but very useful for debugging."}],"owner":{"account_id":25738168,"reputation":1,"user_id":19492541,"display_name":"Leonard_C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674217658,"creation_date":1674208353,"question_id":75182344,"body_markdown":"I&#39;m writing a toy compiler in Java. My IDE is IntelliJ IDEA. Now, I want to print a `.s` file, but I found that:\r\n\r\nIf I run the project, it prints\r\n\r\n```asm\r\n.block0_3:\r\n\taddi %18, zero, 0\r\n\tmv %0, %18\r\n\tj .block0_5\r\n.block0_4:\r\n\tla %20, .str.1\r\n\tmv a0, %20\r\n\tcall print\r\n\tj .block0_3\r\n```\r\n\r\nIf I use the debug mode, it prints\r\n\r\n```asm\r\n.block0_3:\r\n\tla %18, .str.1\r\n\tmv a0, %18\r\n\tcall print\r\n\tj .block0_4\r\n.block0_4:\r\n\taddi %19, zero, 0\r\n\tmv %0, %19\r\n\tj .block0_5\r\n```\r\n\r\nIn brief, the two output should be the same. Is there any idea?\r\n\r\nGive me some advice to solve the problem.","title":"Java project output differs from debug output","body":"<p>I'm writing a toy compiler in Java. My IDE is IntelliJ IDEA. Now, I want to print a <code>.s</code> file, but I found that:</p>\n<p>If I run the project, it prints</p>\n<pre><code>.block0_3:\n    addi %18, zero, 0\n    mv %0, %18\n    j .block0_5\n.block0_4:\n    la %20, .str.1\n    mv a0, %20\n    call print\n    j .block0_3\n</code></pre>\n<p>If I use the debug mode, it prints</p>\n<pre><code>.block0_3:\n    la %18, .str.1\n    mv a0, %18\n    call print\n    j .block0_4\n.block0_4:\n    addi %19, zero, 0\n    mv %0, %19\n    j .block0_5\n</code></pre>\n<p>In brief, the two output should be the same. Is there any idea?</p>\n<p>Give me some advice to solve the problem.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"score":5,"creation_date":1392924776,"post_id":21917685,"comment_id":33196748,"body_markdown":"But aren&#39;t you passing the same value in every time?  You should get the same response every time.","body":"But aren&#39;t you passing the same value in every time?  You should get the same response every time."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1392924799,"post_id":21917685,"comment_id":33196771,"body_markdown":"It sure looks like `ScalesFitness` _ought_ to return the same value when passed the same input.","body":"It sure looks like <code>ScalesFitness</code> <i>ought</i> to return the same value when passed the same input."},{"owner":{"account_id":903546,"reputation":2804,"user_id":939008,"accept_rate":25,"display_name":"Ashot Karakhanyan"},"score":2,"creation_date":1392924913,"post_id":21917685,"comment_id":33196839,"body_markdown":"BTW, for 100 print you need `i &lt; 100` instead of `i &lt; 99`.","body":"BTW, for 100 print you need <code>i &lt; 100</code> instead of <code>i &lt; 99</code>."},{"owner":{"account_id":938290,"reputation":2819,"user_id":966825,"accept_rate":85,"display_name":"Adz"},"score":0,"creation_date":1392924915,"post_id":21917685,"comment_id":33196842,"body_markdown":"If I rerun the program, different results are generated. (but obviously the same result is printed 100 times over)","body":"If I rerun the program, different results are generated. (but obviously the same result is printed 100 times over)"},{"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"score":2,"creation_date":1392925004,"post_id":21917685,"comment_id":33196912,"body_markdown":"Java convention is to start method names with lowercase letters.  Also, what exactly do you want to randomize?","body":"Java convention is to start method names with lowercase letters.  Also, what exactly do you want to randomize?"},{"owner":{"account_id":938290,"reputation":2819,"user_id":966825,"accept_rate":85,"display_name":"Adz"},"score":0,"creation_date":1392925555,"post_id":21917685,"comment_id":33197246,"body_markdown":"A fitness solution to a set of weights that are in a text file. The ScalesFitness generates different fitness results when rerun every time.","body":"A fitness solution to a set of weights that are in a text file. The ScalesFitness generates different fitness results when rerun every time."}],"answers":[{"tags":[],"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392924972,"creation_date":1392924972,"answer_id":21917785,"question_id":21917685,"body_markdown":"    public static double scalesFitness(ArrayList&lt;Double&gt; weights)\r\n    {\r\n        double randomElement = weights[((int) (Math.random() * weights.size()))];\r\n\r\nThis will enable you to retrieve a random element in the array, for manipulation later.","title":"How to recall a method n amount of times?","body":"<pre><code>public static double scalesFitness(ArrayList&lt;Double&gt; weights)\n{\n    double randomElement = weights[((int) (Math.random() * weights.size()))];\n</code></pre>\n\n<p>This will enable you to retrieve a random element in the array, for manipulation later.</p>\n"},{"tags":[],"owner":{"account_id":2416883,"reputation":1013,"user_id":2110735,"accept_rate":83,"display_name":"elToro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674217321,"creation_date":1392926051,"answer_id":21918111,"question_id":21917685,"body_markdown":"Your method &quot;ScaleFitness&quot; and the output of this method is dependent on two variables:\r\n\r\n 1. weights \r\n \r\n 2. scasol\r\n\r\n\r\nIt seems these variables stay the same for the whole run of the program. So it is not surprising that your output is the same.\r\n\r\nIf you want a different output for each run of your loop. You need to reset at least one of these variables to a new value.\r\n\r\nBtw. methods in Java always start with a lowercase. Classes start with an uppercase.","title":"How to recall a method n amount of times?","body":"<p>Your method &quot;ScaleFitness&quot; and the output of this method is dependent on two variables:</p>\n<ol>\n<li><p>weights</p>\n</li>\n<li><p>scasol</p>\n</li>\n</ol>\n<p>It seems these variables stay the same for the whole run of the program. So it is not surprising that your output is the same.</p>\n<p>If you want a different output for each run of your loop. You need to reset at least one of these variables to a new value.</p>\n<p>Btw. methods in Java always start with a lowercase. Classes start with an uppercase.</p>\n"}],"owner":{"account_id":938290,"reputation":2819,"user_id":966825,"accept_rate":85,"display_name":"Adz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21918111,"answer_count":2,"score":0,"last_activity_date":1674217321,"creation_date":1392924667,"question_id":21917685,"body_markdown":"trying to recall a method here (so that it generates different results 100 times using a for loop) \r\n\r\nHere is what I have in the main method: \r\n\r\n    for (int i = 0; i&lt;99; i++) { \r\n    \t\t\tdouble scaleFitness = ScalesSolution.ScalesFitness(randomNumberFile);\r\n    \t\t\tSystem.out.print(scaleFitness + &quot;, &quot;);\r\n    \t\t}\r\n\r\nand this is the method I&#39;m trying to call 100 times (in the ScalesSolution class):\r\n\r\n    public static double ScalesFitness(ArrayList&lt;Double&gt; weights)\r\n    \t{\r\n    \t\tint n = scasol.length();\r\n    \t\tdouble lhs = 0.0, rhs = 0.0;\r\n    \t\tif (n &gt; weights.size()) return(-1);\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; n; i++){\r\n    \t\t\tif(scasol.charAt(i) == &#39;0&#39;){\r\n    \t\t\t\tlhs += weights.get(i);\r\n    \t\t\t}\r\n    \t\t\telse if (scasol.charAt(i) == &#39;1&#39;) {\r\n    \t\t\t\trhs += weights.get(i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn(Math.abs(lhs-rhs));\t\r\n    \t}\r\n\r\nThis however prints the same value 100 time over.","title":"How to recall a method n amount of times?","body":"<p>trying to recall a method here (so that it generates different results 100 times using a for loop) </p>\n\n<p>Here is what I have in the main method: </p>\n\n<pre><code>for (int i = 0; i&lt;99; i++) { \n            double scaleFitness = ScalesSolution.ScalesFitness(randomNumberFile);\n            System.out.print(scaleFitness + \", \");\n        }\n</code></pre>\n\n<p>and this is the method I'm trying to call 100 times (in the ScalesSolution class):</p>\n\n<pre><code>public static double ScalesFitness(ArrayList&lt;Double&gt; weights)\n    {\n        int n = scasol.length();\n        double lhs = 0.0, rhs = 0.0;\n        if (n &gt; weights.size()) return(-1);\n\n        for(int i = 0; i &lt; n; i++){\n            if(scasol.charAt(i) == '0'){\n                lhs += weights.get(i);\n            }\n            else if (scasol.charAt(i) == '1') {\n                rhs += weights.get(i);\n            }\n        }\n        return(Math.abs(lhs-rhs));  \n    }\n</code></pre>\n\n<p>This however prints the same value 100 time over.</p>\n"},{"tags":["java","inputstream","outputstream","datainputstream","dataoutputstream"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1674216357,"post_id":75183731,"comment_id":132671868,"body_markdown":"I think [The readUTF() method of the DatainputStream, which reads the text data separately, will report an EOF exception. Why?](//stackoverflow.com/q/59691330) is a good duplicate. That the other question is about reading files isn&#39;t important, what &quot;readUTF&quot; does is and that is explained there.","body":"I think <a href=\"//stackoverflow.com/q/59691330\">The readUTF() method of the DatainputStream, which reads the text data separately, will report an EOF exception. Why?</a> is a good duplicate. That the other question is about reading files isn&#39;t important, what &quot;readUTF&quot; does is and that is explained there."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674217109,"creation_date":1674216388,"answer_id":75183799,"question_id":75183731,"body_markdown":"You shouldn&#39;t be using [`DataInputStream`][1] and [`DataOutputStream`][2]. The `readUTF` and `writeUTF` use a very specific serialization format, where the text is prefixed with a length indicator, and using modified UTF8. Console input doesn&#39;t use such format, so the first 4 characters of `Hello` are used to calculate the length, and you haven&#39;t input that many characters, and on output the 4 bytes used for the length of the string will likely generate garbage (as will the use of the modified UTF8, if you include codepoints that generate a modified format). You should probably use a [`BufferedReader`][3] or [`Scanner`][4] instead and use the [`PrintStream`][5] `System.out` directly, or use a [`Console`][6] obtained through [`System.console()`][7].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInputStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#console()","title":"Input/OutputStream between System.in and System.out - problem with readUTF() and writeUTF()","body":"<p>You shouldn't be using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInputStream.html\" rel=\"nofollow noreferrer\"><code>DataInputStream</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html\" rel=\"nofollow noreferrer\"><code>DataOutputStream</code></a>. The <code>readUTF</code> and <code>writeUTF</code> use a very specific serialization format, where the text is prefixed with a length indicator, and using modified UTF8. Console input doesn't use such format, so the first 4 characters of <code>Hello</code> are used to calculate the length, and you haven't input that many characters, and on output the 4 bytes used for the length of the string will likely generate garbage (as will the use of the modified UTF8, if you include codepoints that generate a modified format). You should probably use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\"><code>BufferedReader</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code></a> instead and use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html\" rel=\"nofollow noreferrer\"><code>PrintStream</code></a> <code>System.out</code> directly, or use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html\" rel=\"nofollow noreferrer\"><code>Console</code></a> obtained through <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#console()\" rel=\"nofollow noreferrer\"><code>System.console()</code></a>.</p>\n"}],"owner":{"account_id":26904267,"reputation":3,"user_id":20480907,"display_name":"lautreboutdumonde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75183799,"answer_count":1,"score":0,"last_activity_date":1674217109,"creation_date":1674216003,"question_id":75183731,"body_markdown":"I&#39;m trying to set up a very simple communication flow between System.in and System.out in Java, in order to understand how streams work.\r\nI&#39;m using DataInputStream for System.in and DataOutputStream for System.out, and they&#39;re communicating through readChar(), writeChar() and all.\r\n\r\nEverything seems to work fine, until readUTF() is reached:\r\n\r\n```\r\nDataInputStream dis = new DataInputStream(System.in);\r\nDataOutputStream dos = new DataOutputStream(System.out);\r\n\t\t\r\ntry {\r\n  char c = dis.readChar();\r\n  dos.writeChar(c);\r\n\t\t\t\r\n  int i = dis.readInt();\r\n  dos.writeInt(i);\r\n\t\t\t\r\n  String s = dis.readUTF();\r\n  dos.writeUTF(s);\r\n} catch (IOException e) {\r\n  e.printStackTrace();\r\n}\t\t\r\ntry {\r\n  dis.close();\r\n  dos.close();\r\n} catch (IOException e) {\r\n  e.printStackTrace();\r\n}\t\r\n```\r\n\r\nConsole is displaying:\r\n\r\n```\r\nm /* note: keyboard input */\r\nm\r\n569\r\n569\r\nHello\r\n```\r\n\r\nLooks like I can&#39;t find the way to indicate the end of the String, return isn&#39;t taken into account, nor \\n etc. I&#39;ve tried adding &quot; too but same.\r\n\r\nAnd I got a problem the other way around to, this code isn&#39;t displaying anything in the console:\r\n\r\n```\r\nDataInputStream dis = new DataInputStream(System.in);\r\nDataOutputStream dos = new DataOutputStream(System.out);\r\n\t\t\r\ntry {\r\n  dos.writeUTF(&quot;Hello&quot;);\r\n} catch (IOException e) {\r\n  e.printStackTrace();\r\n}\t\t\r\ntry {\r\n  dis.close();\r\n  dos.close();\r\n} catch (IOException e) {\r\n e.printStackTrace();\r\n}\r\n```\r\n\r\nI&#39;ve tried adding dos.flush() but nothing changes.\r\nI think I&#39;m misunderstanding something.\r\n\r\n\r\n","title":"Input/OutputStream between System.in and System.out - problem with readUTF() and writeUTF()","body":"<p>I'm trying to set up a very simple communication flow between System.in and System.out in Java, in order to understand how streams work.\nI'm using DataInputStream for System.in and DataOutputStream for System.out, and they're communicating through readChar(), writeChar() and all.</p>\n<p>Everything seems to work fine, until readUTF() is reached:</p>\n<pre><code>DataInputStream dis = new DataInputStream(System.in);\nDataOutputStream dos = new DataOutputStream(System.out);\n        \ntry {\n  char c = dis.readChar();\n  dos.writeChar(c);\n            \n  int i = dis.readInt();\n  dos.writeInt(i);\n            \n  String s = dis.readUTF();\n  dos.writeUTF(s);\n} catch (IOException e) {\n  e.printStackTrace();\n}       \ntry {\n  dis.close();\n  dos.close();\n} catch (IOException e) {\n  e.printStackTrace();\n}   \n</code></pre>\n<p>Console is displaying:</p>\n<pre><code>m /* note: keyboard input */\nm\n569\n569\nHello\n</code></pre>\n<p>Looks like I can't find the way to indicate the end of the String, return isn't taken into account, nor \\n etc. I've tried adding &quot; too but same.</p>\n<p>And I got a problem the other way around to, this code isn't displaying anything in the console:</p>\n<pre><code>DataInputStream dis = new DataInputStream(System.in);\nDataOutputStream dos = new DataOutputStream(System.out);\n        \ntry {\n  dos.writeUTF(&quot;Hello&quot;);\n} catch (IOException e) {\n  e.printStackTrace();\n}       \ntry {\n  dis.close();\n  dos.close();\n} catch (IOException e) {\n e.printStackTrace();\n}\n</code></pre>\n<p>I've tried adding dos.flush() but nothing changes.\nI think I'm misunderstanding something.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait","selenium-java"],"comments":[{"owner":{"account_id":5613946,"reputation":499,"user_id":4445920,"display_name":"Manish"},"score":0,"creation_date":1674201178,"post_id":75180158,"comment_id":132667238,"body_markdown":"could you add more logs so that we can check where the error occurs and what&#39;s the problematic element.","body":"could you add more logs so that we can check where the error occurs and what&#39;s the problematic element."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1674203084,"post_id":75180158,"comment_id":132667750,"body_markdown":"_org.openqa.selenium.ElementNotInteractableException: element not interactable_: At which line?","body":"<i>org.openqa.selenium.ElementNotInteractableException: element not interactable</i>: At which line?"},{"owner":{"account_id":24950356,"reputation":1,"user_id":18815229,"display_name":"user18815229"},"score":0,"creation_date":1674220964,"post_id":75180158,"comment_id":132673238,"body_markdown":"I stuck in the last two steps mfaInput.sendKeys(&quot; &quot;);\n        driver.findElement(By.id(&quot;input76&quot;)).click();","body":"I stuck in the last two steps mfaInput.sendKeys(&quot; &quot;);         driver.findElement(By.id(&quot;input76&quot;)).click();"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1674224402,"post_id":75180158,"comment_id":132674583,"body_markdown":"@MarkRotteveel Any reason to blockquote the error message? I feel code block and error logs both should be trated as _Code Sample_ as they are easier to understand. &quot;Block Quote&quot; adds unnecessry line breaks.","body":"@MarkRotteveel Any reason to blockquote the error message? I feel code block and error logs both should be trated as <i>Code Sample</i> as they are easier to understand. &quot;Block Quote&quot; adds unnecessry line breaks."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674226134,"post_id":75180158,"comment_id":132675321,"body_markdown":"@undetectedSelenium Because that makes the entire error message readable without scrolling, if it had been an exception stacktrace, then a code block is more appropriate.","body":"@undetectedSelenium Because that makes the entire error message readable without scrolling, if it had been an exception stacktrace, then a code block is more appropriate."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1674227012,"post_id":75180158,"comment_id":132675718,"body_markdown":"@MarkRotteveel Ofcorase it&#39;s a part of the an exception stacktrace.","body":"@MarkRotteveel Ofcorase it&#39;s a part of the an exception stacktrace."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674230478,"post_id":75180158,"comment_id":132676997,"body_markdown":"@undetectedSelenium The OP did not post the exception stacktrace, they only posted the message.","body":"@undetectedSelenium The OP did not post the exception stacktrace, they only posted the message."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674209573,"creation_date":1674209573,"answer_id":75182579,"question_id":75180158,"body_markdown":"Not that super clear at which step you are stuck. However to send a _character sequence_ to the `&lt;input&gt;` fields you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n\tdriver.get(&quot;https://test.idp.idm.cms.gov/&quot;);\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#okta-signin-username&quot;))).sendKeys(&quot;HNAJ&quot;);\r\n\tdriver.findElement(By.cssSelector(&quot;input#okta-signin-password&quot;)).sendKeys(&quot;Hs229988&quot;);\r\n\tdriver.findElement(By.cssSelector(&quot;input[title=&#39;Agree to terms and conditions&#39;]&quot;)).click();\r\n\tdriver.findElement(By.cssSelector(&quot;input#okta-signin-submit&quot;)).click();\r\n\r\nBrowser Snapshot:\r\n\r\n![GoogleAuthenticator](https://i.stack.imgur.com/9oai1.png)","title":"Exception in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable error using Selenium Java with Edge WebDriver","body":"<p>Not that super clear at which step you are stuck. However to send a <em>character sequence</em> to the <code>&lt;input&gt;</code> fields you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<pre><code>driver.get(&quot;https://test.idp.idm.cms.gov/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#okta-signin-username&quot;))).sendKeys(&quot;HNAJ&quot;);\ndriver.findElement(By.cssSelector(&quot;input#okta-signin-password&quot;)).sendKeys(&quot;Hs229988&quot;);\ndriver.findElement(By.cssSelector(&quot;input[title='Agree to terms and conditions']&quot;)).click();\ndriver.findElement(By.cssSelector(&quot;input#okta-signin-submit&quot;)).click();\n</code></pre>\n<p>Browser Snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/9oai1.png\" alt=\"GoogleAuthenticator\" /></p>\n"}],"owner":{"account_id":24950356,"reputation":1,"user_id":18815229,"display_name":"user18815229"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674227239,"answer_count":1,"score":0,"last_activity_date":1674216944,"creation_date":1674193275,"question_id":75180158,"body_markdown":"Code trials:\r\n```\r\nimport java.time.Duration;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.edge.EdgeDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\npublic class Mftadminui {\r\n\r\n\tpublic static void main(String[] args) {`\r\n        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\Users\\\\shantha_mh\\\\Desktop\\\\SeleniumAutomation\\\\msedgedriver.exe&quot;);\r\n\t\tWebDriver driver = new EdgeDriver();\r\n        driver.get(&quot;https://test.idp.idm.cms.gov/&quot;);\r\n\t\tdriver.findElement(By.id(&quot;okta-signin-username&quot;)).sendKeys(&quot;HNAJ&quot;);\r\n\t\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Hs229988&quot;);\r\n\t\tdriver.findElement(By.cssSelector(&quot;input[id=&#39;tandc&#39;]&quot;)).click();\r\n\t\tSystem.out.println(driver.findElement(By.cssSelector(&quot;input[id=&#39;tandc&#39;]&quot;)).isSelected());\r\n\t\tdriver.findElement(By.className(&quot;button-primary&quot;)).click();\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n\t\twait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[@class=&#39;o-form-input-name-answer o-form-control okta-form-input-field input-fix&#39;]&quot;)));\r\n\t\tWebElement mfaInput = driver.findElement(By.xpath(&quot;//span[@class=&#39;o-form-input-name-answer o-form-control okta-form-input-field input-fix&#39;]&quot;));\r\n\t\tString userInput = mfaInput.getAttribute(&quot;value&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//span[@class=&#39;o-form-input-name-answer o-form-control okta-form-input-field input-fix&#39;]&quot;)).click();\r\n        mfaInput.sendKeys(&quot; &quot;);\r\n\t\tdriver.findElement(By.id(&quot;input76&quot;)).click();\r\n```\r\n\r\nI was trying to automate the MFA User input, code reaches till the MFA input page and getting the following error:\r\n\r\n&gt; Exception in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable. \r\n\r\nExploring one of the previous posts, but I couldn&#39;t figure out what the problem was in this code. Please assist me.","title":"Exception in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable error using Selenium Java with Edge WebDriver","body":"<p>Code trials:</p>\n<pre><code>import java.time.Duration;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.edge.EdgeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Mftadminui {\n\n    public static void main(String[] args) {`\n        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\Users\\\\shantha_mh\\\\Desktop\\\\SeleniumAutomation\\\\msedgedriver.exe&quot;);\n        WebDriver driver = new EdgeDriver();\n        driver.get(&quot;https://test.idp.idm.cms.gov/&quot;);\n        driver.findElement(By.id(&quot;okta-signin-username&quot;)).sendKeys(&quot;HNAJ&quot;);\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Hs229988&quot;);\n        driver.findElement(By.cssSelector(&quot;input[id='tandc']&quot;)).click();\n        System.out.println(driver.findElement(By.cssSelector(&quot;input[id='tandc']&quot;)).isSelected());\n        driver.findElement(By.className(&quot;button-primary&quot;)).click();\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\n        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[@class='o-form-input-name-answer o-form-control okta-form-input-field input-fix']&quot;)));\n        WebElement mfaInput = driver.findElement(By.xpath(&quot;//span[@class='o-form-input-name-answer o-form-control okta-form-input-field input-fix']&quot;));\n        String userInput = mfaInput.getAttribute(&quot;value&quot;);\n        driver.findElement(By.xpath(&quot;//span[@class='o-form-input-name-answer o-form-control okta-form-input-field input-fix']&quot;)).click();\n        mfaInput.sendKeys(&quot; &quot;);\n        driver.findElement(By.id(&quot;input76&quot;)).click();\n</code></pre>\n<p>I was trying to automate the MFA User input, code reaches till the MFA input page and getting the following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable.</p>\n</blockquote>\n<p>Exploring one of the previous posts, but I couldn't figure out what the problem was in this code. Please assist me.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":16883509,"reputation":16760,"user_id":12208910,"display_name":"Michael Heil"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1601912456,"creation_date":1585551822,"answer_id":60925531,"question_id":60924842,"body_markdown":"The Exception you are referring to\r\n```shell script\r\nException in thread &quot;main&quot; org.apache.kafka.clients.consumer.CommitFailedException: Commit cannot be completed since the group has already rebalanced and assigned the partitions to another member. This means that the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time message processing. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.\r\n```\r\ngives a hint on what is happening and what can be done to solve the problem. In the [code](https://github.com/apache/kafka/blob/785de1e3d459b26c3ce383986827719388be7c6f/clients/src/main/java/org/apache/kafka/clients/consumer/CommitFailedException.java#L22) this Exception is described as\r\n\r\n&gt; &quot;This exception is raised when an offset commit with KafkaConsumer#commitSync() fails with an unrecoverable error. This can happen when a group rebalance completes before the commit could be successfully applied. In this case, the commit cannot generally be retried because some of the partitions may have already been assigned to another member in the group.&quot;\r\n\r\nIn my experience the thrown error message can be caused by different things although they are all related to the consumer not being assigned to the partition anymore:\r\n\r\n 1. Creating more and more Consumers without closing them\r\n 2. Timeout of *poll*\r\n 3. Timeout of *heartbeat*\r\n 4. Outdated Kerberos ticket\r\n\r\n\r\n## 1. Opening more and more Consumers without closing them\r\n\r\nA rebalance takes place if you add a consumer to an existing ConsumerGroup. Therefore, it is essential to close the consumer after usage or to always use the same instance instead of creating new KafkaConsumer object for every message/iteration.\r\n\r\n## 2. Poll Timeout (as explained in the Error message):\r\n&gt; [...] that the time between subsequent calls to poll() was longer than the configured `max.poll.interval.ms`, which typically implies that the poll loop is spending too much time message processing.\r\n\r\nThe configuration **max.poll.interval.ms** defaults to `300000ms` or `5minutes`. As your consumer is taking more than those 5 minutes, the consumer is considered failed and the group will rebalance in order to reassign the partitions to another member (see [Consumer Configuration][1]).\r\n\r\n### Solution for Poll Timeout:\r\nA possible solution is also given in the error message\r\n&gt; You can address this either by increasing `max.poll.interval.ms` or by reducing the maximum size of batches returned in poll() with `max.poll.records`.\r\n\r\nThe consumer reads all messages again, because (as the error shows) it is not able to commit the offsets. That means, if you start the Consumer with the same `group.id` it think that it never read anything from that topic.\r\n\r\n\r\n## 3. Timeout of Heartbeat\r\n\r\nThere are two main configuration in your KafkaConsumer that deal with the heartbeats: `heartbeat.interval.ms` and `session.timeout.ms`.\r\n\r\nIn a seperate background thread your KafkaConsumer sends periodic heartbeats to the server. If the consumer crashes or is unable to send heartbeats for a duration of session.timeout.ms, then the consumer will be considered dead and its partitions will be reassigned. If the rebalance is triggered your consumer can&#39;t commit anything from an &quot;old assigned&quot; partition as it is written in the description of the CommitFailedException: &quot;This can happen when a group rebalance completes before the commit could be successfully applied.&quot;\r\n\r\n\r\n### Solution for Heartbeat Timeout:\r\n\r\nIncrease the settings `heartbeat.interval.ms` and `session.timeout.ms` while following the recommendation: &quot; The `heartbeat.interval.ms` must be set lower than `session.timeout.ms`, but typically should be set no higher than 1/3 of that value.&quot;\r\n\r\nJust keep in mind that changing these values always comes with a trade-off. You have either \r\n\r\n* more frequent rebalances but shorter reaction time to identify dead consumers or\r\n* less frequent rebalances and longer reaction time to identify dead consumers.\r\n\r\n## 4. Outdated Kerberos ticket\r\n\r\nOn our production cluster we have seen the CommitFailedException just after the application was not able to renew the Kerberos ticket. \r\n\r\n\r\n  [1]: https://kafka.apache.org/20/documentation.html#newconsumerconfigs\r\n","title":"Kafka Consumer CommitFailedException","body":"<p>The Exception you are referring to</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Exception in thread &quot;main&quot; org.apache.kafka.clients.consumer.CommitFailedException: Commit cannot be completed since the group has already rebalanced and assigned the partitions to another member. This means that the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time message processing. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.\n</code></pre>\n<p>gives a hint on what is happening and what can be done to solve the problem. In the <a href=\"https://github.com/apache/kafka/blob/785de1e3d459b26c3ce383986827719388be7c6f/clients/src/main/java/org/apache/kafka/clients/consumer/CommitFailedException.java#L22\" rel=\"noreferrer\">code</a> this Exception is described as</p>\n<blockquote>\n<p>&quot;This exception is raised when an offset commit with KafkaConsumer#commitSync() fails with an unrecoverable error. This can happen when a group rebalance completes before the commit could be successfully applied. In this case, the commit cannot generally be retried because some of the partitions may have already been assigned to another member in the group.&quot;</p>\n</blockquote>\n<p>In my experience the thrown error message can be caused by different things although they are all related to the consumer not being assigned to the partition anymore:</p>\n<ol>\n<li>Creating more and more Consumers without closing them</li>\n<li>Timeout of <em>poll</em></li>\n<li>Timeout of <em>heartbeat</em></li>\n<li>Outdated Kerberos ticket</li>\n</ol>\n<h2>1. Opening more and more Consumers without closing them</h2>\n<p>A rebalance takes place if you add a consumer to an existing ConsumerGroup. Therefore, it is essential to close the consumer after usage or to always use the same instance instead of creating new KafkaConsumer object for every message/iteration.</p>\n<h2>2. Poll Timeout (as explained in the Error message):</h2>\n<blockquote>\n<p>[...] that the time between subsequent calls to poll() was longer than the configured <code>max.poll.interval.ms</code>, which typically implies that the poll loop is spending too much time message processing.</p>\n</blockquote>\n<p>The configuration <strong>max.poll.interval.ms</strong> defaults to <code>300000ms</code> or <code>5minutes</code>. As your consumer is taking more than those 5 minutes, the consumer is considered failed and the group will rebalance in order to reassign the partitions to another member (see <a href=\"https://kafka.apache.org/20/documentation.html#newconsumerconfigs\" rel=\"noreferrer\">Consumer Configuration</a>).</p>\n<h3>Solution for Poll Timeout:</h3>\n<p>A possible solution is also given in the error message</p>\n<blockquote>\n<p>You can address this either by increasing <code>max.poll.interval.ms</code> or by reducing the maximum size of batches returned in poll() with <code>max.poll.records</code>.</p>\n</blockquote>\n<p>The consumer reads all messages again, because (as the error shows) it is not able to commit the offsets. That means, if you start the Consumer with the same <code>group.id</code> it think that it never read anything from that topic.</p>\n<h2>3. Timeout of Heartbeat</h2>\n<p>There are two main configuration in your KafkaConsumer that deal with the heartbeats: <code>heartbeat.interval.ms</code> and <code>session.timeout.ms</code>.</p>\n<p>In a seperate background thread your KafkaConsumer sends periodic heartbeats to the server. If the consumer crashes or is unable to send heartbeats for a duration of session.timeout.ms, then the consumer will be considered dead and its partitions will be reassigned. If the rebalance is triggered your consumer can't commit anything from an &quot;old assigned&quot; partition as it is written in the description of the CommitFailedException: &quot;This can happen when a group rebalance completes before the commit could be successfully applied.&quot;</p>\n<h3>Solution for Heartbeat Timeout:</h3>\n<p>Increase the settings <code>heartbeat.interval.ms</code> and <code>session.timeout.ms</code> while following the recommendation: &quot; The <code>heartbeat.interval.ms</code> must be set lower than <code>session.timeout.ms</code>, but typically should be set no higher than 1/3 of that value.&quot;</p>\n<p>Just keep in mind that changing these values always comes with a trade-off. You have either</p>\n<ul>\n<li>more frequent rebalances but shorter reaction time to identify dead consumers or</li>\n<li>less frequent rebalances and longer reaction time to identify dead consumers.</li>\n</ul>\n<h2>4. Outdated Kerberos ticket</h2>\n<p>On our production cluster we have seen the CommitFailedException just after the application was not able to renew the Kerberos ticket.</p>\n"},{"tags":[],"owner":{"account_id":10966656,"reputation":176,"user_id":8058202,"display_name":"PraveenKumar K G"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600941274,"creation_date":1600941274,"answer_id":64043971,"question_id":60924842,"body_markdown":"We had similar issue and we addressed by reducing max.poll.records from default 500  and also reducing the heartbeat interval.  If your message processing takes time and poll records are 500, chances are high for getting the CommitFailedException.","title":"Kafka Consumer CommitFailedException","body":"<p>We had similar issue and we addressed by reducing max.poll.records from default 500  and also reducing the heartbeat interval.  If your message processing takes time and poll records are 500, chances are high for getting the CommitFailedException.</p>\n"},{"tags":[],"owner":{"account_id":11950903,"reputation":21,"user_id":8744591,"display_name":"Chetanti Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666272310,"creation_date":1666272310,"answer_id":74140654,"question_id":60924842,"body_markdown":"I had similar issue, i was able to solve it by reducing max.poll.records from default 500 to lesser number like 100-200. If your message processing takes time and poll records are 500, chances are high for getting the CommitFailedException.","title":"Kafka Consumer CommitFailedException","body":"<p>I had similar issue, i was able to solve it by reducing max.poll.records from default 500 to lesser number like 100-200. If your message processing takes time and poll records are 500, chances are high for getting the CommitFailedException.</p>\n"},{"tags":[],"owner":{"account_id":27042750,"reputation":1,"user_id":20597374,"display_name":"DYD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674216790,"creation_date":1669703236,"answer_id":74609912,"question_id":60924842,"body_markdown":"I&#39;m using Kstream and getting the same exception. I have increased the max.poll.interval time and added heartbeat interval as per the recommendation from confluent doc which resolved my problem.Note that if your processing is taking more time then set max.poll record to 1 and give it a try.\r\n\r\nhttps://www.confluent.io/blog/enabling-exactly-once-kafka-streams/","title":"Kafka Consumer CommitFailedException","body":"<p>I'm using Kstream and getting the same exception. I have increased the max.poll.interval time and added heartbeat interval as per the recommendation from confluent doc which resolved my problem.Note that if your processing is taking more time then set max.poll record to 1 and give it a try.</p>\n<p><a href=\"https://www.confluent.io/blog/enabling-exactly-once-kafka-streams/\" rel=\"nofollow noreferrer\">https://www.confluent.io/blog/enabling-exactly-once-kafka-streams/</a></p>\n"}],"owner":{"account_id":16862427,"reputation":121,"user_id":12192907,"display_name":"Bharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47517,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1674216790,"creation_date":1585547992,"question_id":60924842,"body_markdown":"I am working on a kafka consumer program. Recently we deployed it in PROD environment. There we faced an issue as follows:\r\n\r\n```\r\n[main] INFO com.cisco.kafka.consumer.RTRKafkaConsumer - No. of records fetched: 1\r\n[kafka-coordinator-heartbeat-thread | otm-opl-group] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Group coordinator opl-kafka-prd2-01:9092 (id: 2147483644 rack: null) is unavailable or invalid, will attempt rediscovery\r\n[kafka-coordinator-heartbeat-thread | otm-opl-group] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Discovered group coordinator opl-kafka-prd2-01:9092 (id: 2147483644 rack: null)\r\n[kafka-coordinator-heartbeat-thread | otm-opl-group] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Attempt to heartbeat failed for since member id consumer-otm-opl-group-1-953dfa46-9ced-472f-b24f-36d78c6b940b is not valid.\r\n[main] INFO com.cisco.kafka.consumer.RTRKafkaConsumer - Batch start offset: 9329428\r\n[main] INFO com.cisco.kafka.consumer.RTRKafkaConsumer - Batch Processing Successful.\r\n[main] INFO org.apache.kafka.clients.consumer.internals.ConsumerCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Failing OffsetCommit request since the consumer is not part of an active group\r\nException in thread &quot;main&quot; org.apache.kafka.clients.consumer.CommitFailedException: Commit cannot be completed since the group has already rebalanced and assigned the partitions to another member. This means that the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time message processing. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1061)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:936)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1387)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1349)\r\n\tat com.cisco.kafka.consumer.RTRKafkaConsumer.main(RTRKafkaConsumer.java:72)\r\n```\r\n\r\nMy understanding is by the time group coordinator is unavailable and re-discovered, the heartbeat interval (3 seconds as per documentation) expires and consumer is kicked out of the group. Is this correct?. If so what should be the work around for this?. If I&#39;m wrong, please help me in understanding this issue and suggest any ideas you have to fix this issue. I can share the code if needed.","title":"Kafka Consumer CommitFailedException","body":"<p>I am working on a kafka consumer program. Recently we deployed it in PROD environment. There we faced an issue as follows:</p>\n<pre><code>[main] INFO com.cisco.kafka.consumer.RTRKafkaConsumer - No. of records fetched: 1\n[kafka-coordinator-heartbeat-thread | otm-opl-group] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Group coordinator opl-kafka-prd2-01:9092 (id: 2147483644 rack: null) is unavailable or invalid, will attempt rediscovery\n[kafka-coordinator-heartbeat-thread | otm-opl-group] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Discovered group coordinator opl-kafka-prd2-01:9092 (id: 2147483644 rack: null)\n[kafka-coordinator-heartbeat-thread | otm-opl-group] INFO org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Attempt to heartbeat failed for since member id consumer-otm-opl-group-1-953dfa46-9ced-472f-b24f-36d78c6b940b is not valid.\n[main] INFO com.cisco.kafka.consumer.RTRKafkaConsumer - Batch start offset: 9329428\n[main] INFO com.cisco.kafka.consumer.RTRKafkaConsumer - Batch Processing Successful.\n[main] INFO org.apache.kafka.clients.consumer.internals.ConsumerCoordinator - [Consumer clientId=consumer-otm-opl-group-1, groupId=otm-opl-group] Failing OffsetCommit request since the consumer is not part of an active group\nException in thread &quot;main&quot; org.apache.kafka.clients.consumer.CommitFailedException: Commit cannot be completed since the group has already rebalanced and assigned the partitions to another member. This means that the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time message processing. You can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1061)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:936)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1387)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1349)\n    at com.cisco.kafka.consumer.RTRKafkaConsumer.main(RTRKafkaConsumer.java:72)\n</code></pre>\n<p>My understanding is by the time group coordinator is unavailable and re-discovered, the heartbeat interval (3 seconds as per documentation) expires and consumer is kicked out of the group. Is this correct?. If so what should be the work around for this?. If I'm wrong, please help me in understanding this issue and suggest any ideas you have to fix this issue. I can share the code if needed.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13986307,"reputation":669,"user_id":10101321,"display_name":"Apollo-Roboto"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1583246036,"creation_date":1583246036,"answer_id":60509514,"question_id":60508944,"body_markdown":"I figured it out, I accidently installed the ideavim plugin, I though i uninstalled it before, I guess not.","title":"Android Studio, making a selection turns on the insert key","body":"<p>I figured it out, I accidently installed the ideavim plugin, I though i uninstalled it before, I guess not.</p>\n"},{"tags":[],"owner":{"account_id":19043766,"reputation":91,"user_id":13903315,"display_name":"Santhosh Niagara"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1594355397,"creation_date":1594355397,"answer_id":62827365,"question_id":60508944,"body_markdown":"1. SDK Manager &gt;&gt; Plugins &gt;&gt; Installed \r\n2. You need to disable **IdeaVim** plugin. \r\n3. **Restart** Android Studio.","title":"Android Studio, making a selection turns on the insert key","body":"<ol>\n<li>SDK Manager &gt;&gt; Plugins &gt;&gt; Installed</li>\n<li>You need to disable <strong>IdeaVim</strong> plugin.</li>\n<li><strong>Restart</strong> Android Studio.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19323480,"reputation":11,"user_id":14126675,"display_name":"Moihe Guy KOUAME"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674216324,"creation_date":1674216324,"answer_id":75183792,"question_id":60508944,"body_markdown":"SDK Manager &gt;&gt; Plugins &gt;&gt; Installed\r\nYou need to disable IdeaVim plugin.\r\nRestart Android Studio.\r\nhttps://www.youtube.com/watch?v=GSXCi41eNKk","title":"Android Studio, making a selection turns on the insert key","body":"<p>SDK Manager &gt;&gt; Plugins &gt;&gt; Installed\nYou need to disable IdeaVim plugin.\nRestart Android Studio.\n<a href=\"https://www.youtube.com/watch?v=GSXCi41eNKk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=GSXCi41eNKk</a></p>\n"}],"owner":{"account_id":13986307,"reputation":669,"user_id":10101321,"display_name":"Apollo-Roboto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2528,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":60509514,"answer_count":3,"score":8,"last_activity_date":1674216324,"creation_date":1583244140,"question_id":60508944,"body_markdown":"This problem happen just this morning, whenever I make a selection on android studio, the insert cursor activate.\r\n\r\n![selection activating the insert key image](https://i.stack.imgur.com/LfJA8.png)\r\n\r\nWhat I&#39;ve tried:\r\nTo press insert, ctrl + insert, fn + insert. It still does the same.\r\n\r\nUpdated from 3.5.x to 3.6.1. problem still persist.\r\n\r\nUsing a keyboard tester I don&#39;t see any bugging keys.\r\n\r\nThe problem does not happen on any other software, Intellij IDEA is fine, notepad is fine, etc\r\n\r\nI&#39;ve seen in another thread that disabling the &quot;use block caret&quot; option should help but it didn&#39;t\r\n\r\n![option image](https://i.stack.imgur.com/9Djq8.png)\r\n\r\n\r\nAt this point I&#39;m completely lost in this issue.","title":"Android Studio, making a selection turns on the insert key","body":"<p>This problem happen just this morning, whenever I make a selection on android studio, the insert cursor activate.</p>\n\n<p><img src=\"https://i.stack.imgur.com/LfJA8.png\" alt=\"selection activating the insert key image\"></p>\n\n<p>What I've tried:\nTo press insert, ctrl + insert, fn + insert. It still does the same.</p>\n\n<p>Updated from 3.5.x to 3.6.1. problem still persist.</p>\n\n<p>Using a keyboard tester I don't see any bugging keys.</p>\n\n<p>The problem does not happen on any other software, Intellij IDEA is fine, notepad is fine, etc</p>\n\n<p>I've seen in another thread that disabling the \"use block caret\" option should help but it didn't</p>\n\n<p><img src=\"https://i.stack.imgur.com/9Djq8.png\" alt=\"option image\"></p>\n\n<p>At this point I'm completely lost in this issue.</p>\n"},{"tags":["java","ldap","jetty","jaas","confluent-control-center"],"comments":[{"owner":{"account_id":204158,"reputation":11753,"user_id":452199,"accept_rate":92,"display_name":"Harvey Kwok"},"score":0,"creation_date":1673646392,"post_id":75074349,"comment_id":132554041,"body_markdown":"If you set `forceBindingLogin` to false, and provide a valid `userBaseDn` and `userRdnAttribute` in your configuration, this should allow the LdapLoginModule to bind to the LDAP server using the user credentials provided during authentication, rather than requiring a separate `bindDN` and `bindPassword`.","body":"If you set <code>forceBindingLogin</code> to false, and provide a valid <code>userBaseDn</code> and <code>userRdnAttribute</code> in your configuration, this should allow the LdapLoginModule to bind to the LDAP server using the user credentials provided during authentication, rather than requiring a separate <code>bindDN</code> and <code>bindPassword</code>."},{"owner":{"account_id":11433707,"reputation":45,"user_id":8381727,"display_name":"Alex"},"score":0,"creation_date":1673971875,"post_id":75074349,"comment_id":132613209,"body_markdown":"As soon as I set forceBindingLogin to false the login fails even though the log says the user is found.\n[2023-01-17 11:09:00,730] DEBUG [qtp424848797-107] Searching for user xxxxxxxxx with filter: &#39;(&amp;(objectClass={0})({1}={2}))&#39; from base dn: DC=xxxx,DC=xxxx,DC=xxx,DC=xx (org.eclipse.jetty.jaas.spi.LdapLoginModule)\n[2023-01-17 11:09:01,397] DEBUG [qtp424848797-107] Found user?: true (org.eclipse.jetty.jaas.spi.LdapLoginModule)\n[2023-01-17 11:09:01,398] DEBUG [qtp424848797-107] user cred is: null (org.eclipse.jetty.jaas.spi.LdapLoginModule)","body":"As soon as I set forceBindingLogin to false the login fails even though the log says the user is found. [2023-01-17 11:09:00,730] DEBUG [qtp424848797-107] Searching for user xxxxxxxxx with filter: &#39;(&amp;(objectClass={0})({1}={2}))&#39; from base dn: DC=xxxx,DC=xxxx,DC=xxx,DC=xx (org.eclipse.jetty.jaas.spi.LdapLoginModule) [2023-01-17 11:09:01,397] DEBUG [qtp424848797-107] Found user?: true (org.eclipse.jetty.jaas.spi.LdapLoginModule) [2023-01-17 11:09:01,398] DEBUG [qtp424848797-107] user cred is: null (org.eclipse.jetty.jaas.spi.LdapLoginModule)"},{"owner":{"account_id":11433707,"reputation":45,"user_id":8381727,"display_name":"Alex"},"score":0,"creation_date":1673990413,"post_id":75074349,"comment_id":132618797,"body_markdown":"Basically my ldap server forces me to do a successful bind before making a search, but I just want to be able to use the web credentials passed through the prompt as bindDn and bindPassword. This seems pretty simple, it is possible when configuring a virtual host in httpd by setting AuthLDAPInitialBindAsUser on. I guess the jetty ldap module does not support that.","body":"Basically my ldap server forces me to do a successful bind before making a search, but I just want to be able to use the web credentials passed through the prompt as bindDn and bindPassword. This seems pretty simple, it is possible when configuring a virtual host in httpd by setting AuthLDAPInitialBindAsUser on. I guess the jetty ldap module does not support that."}],"answers":[{"tags":[],"owner":{"account_id":168379,"reputation":16425,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674216132,"creation_date":1674216132,"answer_id":75183753,"question_id":75074349,"body_markdown":"I don&#39;t have experience with Confluent Control Center, but have been dealing with a lot of Java applications and OAuth that uses LDAP authentication during the years. As a DevOps I had to also manage a few LDAP instances myself so I will be rather speaking from that background.\r\n\r\nThe authentication process with OpenLDAP requires one of the following to be true:\r\n\r\n1. Allows anonymous (connection) binding\r\n   This configuration allows you to connect to the LDAP server as an anonymous user and lookup any object in the tree and therefore find any groups, users, etc.\r\n\r\n2. Manager/User dn (connection) binding \r\n   This configuration mandates you to connect to the LDAP server as a pre-configured user that has access to lookup objects in the tree and find the requested groups,users,etc. You can have many Manager DNs configured to access different parts of the LDAP tree.\r\n\r\nNotice I mentioned `CONNECTION` binding - think of this as how you would connect to Postgres or MySQL. You need to have some credentials in order to lookup tables or if anonymous is enabled you can do pretty much anything.\r\n\r\nThe same thing applies to LDAP servers -- `anonymous binding` will allow you to establish a connection and lookup anything and `manager / user dn` requires authentication before the connection can be established.\r\n\r\nPeople are not always deeply aware of LDAP&#39;s architecture and the documentation doesn&#39;t really help there. As such, the terminology makes you jump to the rational conclusion you jumped to:\r\n\r\n&gt; @alex: I would like to avoid passing a bindDn and bindPassword and use the authenticating user credentials to bind instead\r\n\r\nThis would work only when the LDAP server is configured to allow Anonymous connections. If it is configured to require `Manager/User DN` connection:\r\n\r\n1. When you `bind` as the `user` the authentication will likely pass (unless LDAP is configured not to allow that at all). \r\n2. Once it succeeds it you would attempt to lookup the `authorization` objects (roles / groups / etc). At this point it will fail due to the inability to do the needed lookups and finally the result will be failed login.\r\n\r\nTo validate if this is the case you are ending in you should:\r\n\r\n1. Use some tool to the LDAP server (you can try [Apache Directory Studio](https://directory.apache.org/studio/)\r\n2. Setup a connection with binds as the bespoken user (i.e. `my-username`; not the `manager dn`, not a `read-only dn`)\r\n3. Once you are connected try to lookup the `userBaseDn` and `roleBaseDn` DN&#39;s -- you are most likely not going to see any of the roles.\r\n\r\nIf the above is true then what you want is not possible with the current LDAP server setup.\r\n\r\nIf not -- then the LDAP server truly allows you to bind as the `user` and to lookup the directory tree. In this case you should open up a bug report with Confluent.\r\n","title":"LDAP bind authentication with Jetty","body":"<p>I don't have experience with Confluent Control Center, but have been dealing with a lot of Java applications and OAuth that uses LDAP authentication during the years. As a DevOps I had to also manage a few LDAP instances myself so I will be rather speaking from that background.</p>\n<p>The authentication process with OpenLDAP requires one of the following to be true:</p>\n<ol>\n<li><p>Allows anonymous (connection) binding\nThis configuration allows you to connect to the LDAP server as an anonymous user and lookup any object in the tree and therefore find any groups, users, etc.</p>\n</li>\n<li><p>Manager/User dn (connection) binding\nThis configuration mandates you to connect to the LDAP server as a pre-configured user that has access to lookup objects in the tree and find the requested groups,users,etc. You can have many Manager DNs configured to access different parts of the LDAP tree.</p>\n</li>\n</ol>\n<p>Notice I mentioned <code>CONNECTION</code> binding - think of this as how you would connect to Postgres or MySQL. You need to have some credentials in order to lookup tables or if anonymous is enabled you can do pretty much anything.</p>\n<p>The same thing applies to LDAP servers -- <code>anonymous binding</code> will allow you to establish a connection and lookup anything and <code>manager / user dn</code> requires authentication before the connection can be established.</p>\n<p>People are not always deeply aware of LDAP's architecture and the documentation doesn't really help there. As such, the terminology makes you jump to the rational conclusion you jumped to:</p>\n<blockquote>\n<p>@alex: I would like to avoid passing a bindDn and bindPassword and use the authenticating user credentials to bind instead</p>\n</blockquote>\n<p>This would work only when the LDAP server is configured to allow Anonymous connections. If it is configured to require <code>Manager/User DN</code> connection:</p>\n<ol>\n<li>When you <code>bind</code> as the <code>user</code> the authentication will likely pass (unless LDAP is configured not to allow that at all).</li>\n<li>Once it succeeds it you would attempt to lookup the <code>authorization</code> objects (roles / groups / etc). At this point it will fail due to the inability to do the needed lookups and finally the result will be failed login.</li>\n</ol>\n<p>To validate if this is the case you are ending in you should:</p>\n<ol>\n<li>Use some tool to the LDAP server (you can try <a href=\"https://directory.apache.org/studio/\" rel=\"nofollow noreferrer\">Apache Directory Studio</a></li>\n<li>Setup a connection with binds as the bespoken user (i.e. <code>my-username</code>; not the <code>manager dn</code>, not a <code>read-only dn</code>)</li>\n<li>Once you are connected try to lookup the <code>userBaseDn</code> and <code>roleBaseDn</code> DN's -- you are most likely not going to see any of the roles.</li>\n</ol>\n<p>If the above is true then what you want is not possible with the current LDAP server setup.</p>\n<p>If not -- then the LDAP server truly allows you to bind as the <code>user</code> and to lookup the directory tree. In this case you should open up a bug report with Confluent.</p>\n"}],"owner":{"account_id":11433707,"reputation":45,"user_id":8381727,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674216132,"creation_date":1673375383,"question_id":75074349,"body_markdown":"I am trying to secure Confluent Control Center 7.2.2 with the jetty LdapLoginModule. I have the following jaas configuration working.\r\n\r\n```\r\nc3 {\r\n  org.eclipse.jetty.jaas.spi.LdapLoginModule required\r\n  useLdaps=&quot;true&quot;\r\n  contextFactory=&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;\r\n  hostname=&quot;ldaps.xxxx.xxxxx&quot;\r\n  port=&quot;xxx&quot;\r\n  bindDn=&lt;user principal name&gt;\r\n  bindPassword=&lt;user password&gt;\r\n  authenticationMethod=&quot;simple&quot;\r\n  forceBindingLogin=&quot;true&quot;\r\n  userBaseDn=&quot;DC=xxxx,DC=xxxx,DC=xxx,DC=xx&quot;\r\n  userRdnAttribute=&quot;userPrincipalName&quot;\r\n  userIdAttribute=&quot;userPrincipalName&quot;\r\n  userObjectClass=&quot;user&quot;\r\n  roleBaseDn=&quot;OU=xxxxxx,OU=xxx,OU=xxxxx,DC=xxxx,DC=xxxx,DC=xxx,DC=xx&quot;\r\n  roleNameAttribute=&quot;cn&quot;\r\n  roleMemberAttribute=&quot;member&quot;\r\n  roleObjectClass=&quot;group&quot;;\r\n};\r\n```\r\nI would like to avoid passing a bindDn and bindPassword and use the authenticating user credentials to bind instead. My understanding is that forceBindingLogin set to true should make that possible. \r\n\r\n**forceBindingLogin**\r\n*Indicate whether to bind as the user that is authenticating (true), otherwise bind as the manager and perform a search to verify user password (false).*\r\n\r\nAlthough when I remove bindDn and bindPassword from my config I get the following error:\r\n\r\nDAP: error code 1 - 000004DC: LdapErr: DSID-0C090A71, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839\r\n\r\nIt looks like bindDn is still used when forceBindingLogin is set to true.\r\n\r\nI noticed that in the Confluence documentation, the bindDn config went from optional to required between 6.1.9 and 6.2.0. Jetty was upgraded to 9.4.39, but there is no mention as to why bindDn would now be required.\r\n","title":"LDAP bind authentication with Jetty","body":"<p>I am trying to secure Confluent Control Center 7.2.2 with the jetty LdapLoginModule. I have the following jaas configuration working.</p>\n<pre><code>c3 {\n  org.eclipse.jetty.jaas.spi.LdapLoginModule required\n  useLdaps=&quot;true&quot;\n  contextFactory=&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;\n  hostname=&quot;ldaps.xxxx.xxxxx&quot;\n  port=&quot;xxx&quot;\n  bindDn=&lt;user principal name&gt;\n  bindPassword=&lt;user password&gt;\n  authenticationMethod=&quot;simple&quot;\n  forceBindingLogin=&quot;true&quot;\n  userBaseDn=&quot;DC=xxxx,DC=xxxx,DC=xxx,DC=xx&quot;\n  userRdnAttribute=&quot;userPrincipalName&quot;\n  userIdAttribute=&quot;userPrincipalName&quot;\n  userObjectClass=&quot;user&quot;\n  roleBaseDn=&quot;OU=xxxxxx,OU=xxx,OU=xxxxx,DC=xxxx,DC=xxxx,DC=xxx,DC=xx&quot;\n  roleNameAttribute=&quot;cn&quot;\n  roleMemberAttribute=&quot;member&quot;\n  roleObjectClass=&quot;group&quot;;\n};\n</code></pre>\n<p>I would like to avoid passing a bindDn and bindPassword and use the authenticating user credentials to bind instead. My understanding is that forceBindingLogin set to true should make that possible.</p>\n<p><strong>forceBindingLogin</strong>\n<em>Indicate whether to bind as the user that is authenticating (true), otherwise bind as the manager and perform a search to verify user password (false).</em></p>\n<p>Although when I remove bindDn and bindPassword from my config I get the following error:</p>\n<p>DAP: error code 1 - 000004DC: LdapErr: DSID-0C090A71, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839</p>\n<p>It looks like bindDn is still used when forceBindingLogin is set to true.</p>\n<p>I noticed that in the Confluence documentation, the bindDn config went from optional to required between 6.1.9 and 6.2.0. Jetty was upgraded to 9.4.39, but there is no mention as to why bindDn would now be required.</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1674165657,"post_id":75178483,"comment_id":132663222,"body_markdown":"_but trying to do it using lambda expression_ Can you please share that attempt?","body":"<i>but trying to do it using lambda expression</i> Can you please share that attempt?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674207848,"post_id":75178483,"comment_id":132669160,"body_markdown":"Even the loop solution can be much simpler: `boolean val = false; for(Map&lt;String, Boolean&gt; mm: maps.values()) { if(mm.containsValue(Boolean.TRUE)) { val = true; break; } }`","body":"Even the loop solution can be much simpler: <code>boolean val = false; for(Map&lt;String, Boolean&gt; mm: maps.values()) { if(mm.containsValue(Boolean.TRUE)) { val = true; break; } }</code>"}],"answers":[{"tags":[],"owner":{"account_id":19631324,"reputation":131,"user_id":14369586,"display_name":"Ivan Krupik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674164564,"creation_date":1674164564,"answer_id":75178584,"question_id":75178483,"body_markdown":"You can try changing the loop on something like this:\r\n\r\n    Map&lt;String, Map&lt;String, Boolean&gt;&gt; maps = new HashMap&lt;&gt;();\r\n    boolean hasValue = maps\r\n    .values()\r\n    .stream()\r\n    .flatMap(m -&gt; m.values().stream())\r\n    .anyMatch(b -&gt; b.getValue());","title":"Checking if value present in a nested Map using lambda expression","body":"<p>You can try changing the loop on something like this:</p>\n<pre><code>Map&lt;String, Map&lt;String, Boolean&gt;&gt; maps = new HashMap&lt;&gt;();\nboolean hasValue = maps\n.values()\n.stream()\n.flatMap(m -&gt; m.values().stream())\n.anyMatch(b -&gt; b.getValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674215999,"creation_date":1674165846,"answer_id":75178769,"question_id":75178483,"body_markdown":"&gt; I was able to do it using a loop but trying to do it using lambda expression.\r\n\r\nHere is one way.  Here the lambda will be based on a `Predicate`\r\n\r\n- first you need to stream the outer maps values (which is another map) and then stream the values of those.\r\n- Then it&#39;s a matter of using `anyMatch()` with an identity lambda to find the first true value.\r\n```\r\nPredicate&lt;Map&lt;String, Map&lt;String, Boolean&gt;&gt;&gt; hasTrue = m -&gt; m.values()\r\n        .stream().flatMap(map -&gt; map.values().stream()).anyMatch(a-&gt;a);\r\n\r\nSystem.out.println(hasTrue.test(maps));\r\n```\r\nPrints\r\n```\r\ntrue\r\n```\r\nAnd a better way as suggested by [Holger](https://stackoverflow.com/users/2711488/holger)\r\n```\r\nmaps.values().stream()\r\n           .anyMatch(innerMap -&gt; innerMap.containsValue(true))\r\n\r\n","title":"Checking if value present in a nested Map using lambda expression","body":"<blockquote>\n<p>I was able to do it using a loop but trying to do it using lambda expression.</p>\n</blockquote>\n<p>Here is one way.  Here the lambda will be based on a <code>Predicate</code></p>\n<ul>\n<li>first you need to stream the outer maps values (which is another map) and then stream the values of those.</li>\n<li>Then it's a matter of using <code>anyMatch()</code> with an identity lambda to find the first true value.</li>\n</ul>\n<pre><code>Predicate&lt;Map&lt;String, Map&lt;String, Boolean&gt;&gt;&gt; hasTrue = m -&gt; m.values()\n        .stream().flatMap(map -&gt; map.values().stream()).anyMatch(a-&gt;a);\n\nSystem.out.println(hasTrue.test(maps));\n</code></pre>\n<p>Prints</p>\n<pre><code>true\n</code></pre>\n<p>And a better way as suggested by <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a></p>\n<pre><code>maps.values().stream()\n           .anyMatch(innerMap -&gt; innerMap.containsValue(true))\n\n</code></pre>\n"}],"owner":{"account_id":4177994,"reputation":1075,"user_id":3449882,"accept_rate":14,"display_name":"user123475"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1674215999,"creation_date":1674163815,"question_id":75178483,"body_markdown":"I have a nested map as ```Map&lt;String, Map&lt;String, Boolean&gt;&gt;``` and would like to find if the inner map has at least one value as TRUE. I was able to do it using a loop but trying to do it using lambda expression \r\n\r\nUsing for loop:\r\n```\r\n        Map&lt;String, Map&lt;String, Boolean&gt;&gt; maps = new HashMap&lt;&gt;();\r\n        Map&lt;String, Boolean&gt; test = new HashMap&lt;&gt;();\r\n        test.put(&quot;test1&quot;, Boolean.FALSE);\r\n        test.put(&quot;test2&quot;, Boolean.TRUE);\r\n        maps.put(&quot;hey&quot;, test);\r\n        Map&lt;String, Boolean&gt; testtt = new HashMap&lt;&gt;();\r\n        testtt.put(&quot;test3&quot;, Boolean.FALSE);\r\n        testtt.put(&quot;test4&quot;, Boolean.TRUE);\r\n        maps.put(&quot;lol&quot;, testtt);\r\n        Boolean val = Boolean.FALSE;\r\n        for(Map.Entry&lt;String, Map&lt;String, Boolean&gt;&gt; m: maps.entrySet()){\r\n            Map&lt;String, Boolean&gt; mm = m.getValue();\r\n            for(Map.Entry&lt;String, Boolean&gt; mmm: mm.entrySet()){\r\n                if(mmm.getValue()){\r\n                    val = Boolean.TRUE;\r\n                    break;\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(val);\r\n```","title":"Checking if value present in a nested Map using lambda expression","body":"<p>I have a nested map as <code>Map&lt;String, Map&lt;String, Boolean&gt;&gt;</code> and would like to find if the inner map has at least one value as TRUE. I was able to do it using a loop but trying to do it using lambda expression</p>\n<p>Using for loop:</p>\n<pre><code>        Map&lt;String, Map&lt;String, Boolean&gt;&gt; maps = new HashMap&lt;&gt;();\n        Map&lt;String, Boolean&gt; test = new HashMap&lt;&gt;();\n        test.put(&quot;test1&quot;, Boolean.FALSE);\n        test.put(&quot;test2&quot;, Boolean.TRUE);\n        maps.put(&quot;hey&quot;, test);\n        Map&lt;String, Boolean&gt; testtt = new HashMap&lt;&gt;();\n        testtt.put(&quot;test3&quot;, Boolean.FALSE);\n        testtt.put(&quot;test4&quot;, Boolean.TRUE);\n        maps.put(&quot;lol&quot;, testtt);\n        Boolean val = Boolean.FALSE;\n        for(Map.Entry&lt;String, Map&lt;String, Boolean&gt;&gt; m: maps.entrySet()){\n            Map&lt;String, Boolean&gt; mm = m.getValue();\n            for(Map.Entry&lt;String, Boolean&gt; mmm: mm.entrySet()){\n                if(mmm.getValue()){\n                    val = Boolean.TRUE;\n                    break;\n\n                }\n            }\n        }\n\n        System.out.println(val);\n</code></pre>\n"},{"tags":["java","eclipse-plugin","treeviewer"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1673855444,"post_id":75130555,"comment_id":132582160,"body_markdown":"See [here](https://www.vogella.com/tutorials/EclipseJFaceTable/article.html#filtering-data)","body":"See <a href=\"https://www.vogella.com/tutorials/EclipseJFaceTable/article.html#filtering-data\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1673855544,"post_id":75130555,"comment_id":132582183,"body_markdown":"Or  [here](https://wiki.eclipse.org/JFaceSnippets#Snippet_041_-_Table_Viewer_Alternating_Colors_and_Viewer_Filters)","body":"Or  <a href=\"https://wiki.eclipse.org/JFaceSnippets#Snippet_041_-_Table_Viewer_Alternating_Colors_and_Viewer_Filters\" rel=\"nofollow noreferrer\">here</a>"}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674215581,"creation_date":1673847431,"question_id":75130555,"body_markdown":"I am new in creating TreeViewer.\r\nI am creating a treeviewer using a HashMap `Map&lt;String, List&lt;String&gt;&gt; typeDefsTreeMap = new HashMap&lt;&gt;()`\r\n\r\nNow I want to filter the contents of TreeViewer.\r\nCan someone help me in filtering the contents of TreeViewer?\r\n\r\nI tried to use ViewerFilter like below\r\n\r\n    treeViewer.addFilter(new ViewerFilter() {\r\n    \r\n        @Override\r\n        public boolean select(Viewer viewer, Object parentElement, Object element) {\r\n           if (element.toString().toLowerCase()\r\n                                           .contains(searchFilterText.getText().toLowerCase())) {\r\n              return element instanceof String;\r\n            }\r\n        return element instanceof String;\r\n        }\r\n    });\r\n\r\nBut at the end I need to put a selection on that element which is filtered,\r\nas I do not want to hide anything with filter, I just want to select the first element which has filtered text.\r\n\r\nHow can I do that in treeviewer?\r\n","title":"Can someone please guide me how to filter the contents from Jface TreeViewer?","body":"<p>I am new in creating TreeViewer.\nI am creating a treeviewer using a HashMap <code>Map&lt;String, List&lt;String&gt;&gt; typeDefsTreeMap = new HashMap&lt;&gt;()</code></p>\n<p>Now I want to filter the contents of TreeViewer.\nCan someone help me in filtering the contents of TreeViewer?</p>\n<p>I tried to use ViewerFilter like below</p>\n<pre><code>treeViewer.addFilter(new ViewerFilter() {\n\n    @Override\n    public boolean select(Viewer viewer, Object parentElement, Object element) {\n       if (element.toString().toLowerCase()\n                                       .contains(searchFilterText.getText().toLowerCase())) {\n          return element instanceof String;\n        }\n    return element instanceof String;\n    }\n});\n</code></pre>\n<p>But at the end I need to put a selection on that element which is filtered,\nas I do not want to hide anything with filter, I just want to select the first element which has filtered text.</p>\n<p>How can I do that in treeviewer?</p>\n"},{"tags":["java","windows","monitoring","jconsole"],"owner":{"account_id":27543055,"reputation":11,"user_id":21019487,"display_name":"akın sarper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674215563,"creation_date":1674215563,"question_id":75183660,"body_markdown":"I have used java 18.0.2.1.However, I can not local connect Jconsole.I keep getting the message &quot;Connection Lost: Reconnect ?&quot;. [enter image description here](https://i.stack.imgur.com/6HNCD.jpg)\r\n\r\n\r\nWhen I tried to run it again on two different computers, it worked on one and can not work on the other. I used same version and same configuration and I have controlled file permission on windows OS. Also, jconsole doesn&#39;t show its own graphs either and gives the same warning &quot;Connection Lost: Reconnect ?&quot;. Why could this be caused?","title":"Why can not connect JConsole?","body":"<p>I have used java 18.0.2.1.However, I can not local connect Jconsole.I keep getting the message &quot;Connection Lost: Reconnect ?&quot;. <a href=\"https://i.stack.imgur.com/6HNCD.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>When I tried to run it again on two different computers, it worked on one and can not work on the other. I used same version and same configuration and I have controlled file permission on windows OS. Also, jconsole doesn't show its own graphs either and gives the same warning &quot;Connection Lost: Reconnect ?&quot;. Why could this be caused?</p>\n"},{"tags":["java","websocket"],"answers":[{"tags":[],"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673788878,"creation_date":1673788878,"answer_id":75125357,"question_id":75123974,"body_markdown":"This would work if there was some kind of unique identifier for each player (ie. authorization token). \r\n\r\nOtherwise you could check their IPs, whether they are already connected and disconnect them if so. This can be easily bypassed, and there arise issues when there&#39;s multiple clients from one router. ","title":"Disable multiple websocket connection from the same webbrowser tab","body":"<p>This would work if there was some kind of unique identifier for each player (ie. authorization token).</p>\n<p>Otherwise you could check their IPs, whether they are already connected and disconnect them if so. This can be easily bypassed, and there arise issues when there's multiple clients from one router.</p>\n"}],"owner":{"account_id":16503662,"reputation":11,"user_id":11924301,"display_name":"Janek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674215302,"creation_date":1673773552,"question_id":75123974,"body_markdown":"is there any way to block / close multiple websocket connection from the same browser tab for a client?\r\n\r\n\r\nI&#39;m creating simple card game using javax.websocket in a backend and pure js in frontend. In the app I&#39;m not going to use any login and password authentication system.\r\nI&#39;m looking for some method where I can close second connection if the client is already connected.\r\n\r\nThanks!","title":"Disable multiple websocket connection from the same webbrowser tab","body":"<p>is there any way to block / close multiple websocket connection from the same browser tab for a client?</p>\n<p>I'm creating simple card game using javax.websocket in a backend and pure js in frontend. In the app I'm not going to use any login and password authentication system.\nI'm looking for some method where I can close second connection if the client is already connected.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-cloud-config","hashicorp-vault"],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674215235,"creation_date":1674215235,"answer_id":75183609,"question_id":74982117,"body_markdown":"In your configuration service have the following configuration in the `bootstrap.yml` file\r\n\r\n```\r\n  cloud:\r\n    config:\r\n      server:\r\n        vault:\r\n          host: 127.0.0.1\r\n          port: 8200\r\n          order: 1\r\n          kv-version: 2\r\n          authentication: TOKEN\r\n          token: ${TOKEN}\r\n          profile-separator: /\r\n\r\n        git:\r\n          default-label: ${GIT_LABEL}\r\n          uri: ${CONFIG_REPO_URL}\r\n          username: ${CONFIG_REPO_USERNAME}\r\n          password: ${CONFIG_REPO_PASSWORD}\r\n          ignore-local-ssh-settings: true\r\n          skip-ssl-validation: true\r\n          order: 2\r\n  profiles:\r\n    active: git, vault\r\n```\r\n\r\nYou also need to set both profile as active\r\n\r\nIn your other service, (the one that should fetch its configuration from the configuration service) add the following dependencies \r\n\r\n```\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\nAlso you need to make sure that in your vault service your secrets are under the `/secret` directory\r\n\r\ni.e `/secret/my-service/profile`\r\n\r\nThe error that is occurring might still happen, but it will not shutdown the application and the application will still work normally.\r\n\r\nnow if you navigate to\r\n\r\n`http://localhost:8888/my-service/profile` (assuming that the config service is on 8888)\r\n\r\nyou will have the following result\r\n\r\n```\r\n{\r\n   &quot;name&quot;:&quot;my-service&quot;,\r\n   &quot;profiles&quot;:[\r\n      &quot;profile&quot;\r\n   ],\r\n   &quot;label&quot;:null,\r\n   &quot;version&quot;:null,\r\n   &quot;state&quot;:null,\r\n   &quot;propertySources&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot;vault:my-service/profile&quot;,\r\n         &quot;source&quot;:{\r\n            &quot;user.password&quot;:&quot;secret-value&quot;,\r\n            &quot;user.username&quot;:&quot;secret-value&quot;\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;&lt;git-url-loocation&gt;&quot;,\r\n         &quot;source&quot;:{\r\n            &quot;server.port&quot;:8079\r\n         }\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nNotice how under `propertySources` there is two types, the one coming from the vault, and the other properties coming from a github repo or in your case a file system.\r\n","title":"Spring Cloud Config + HashiCorp Vault Cannot connect","body":"<p>In your configuration service have the following configuration in the <code>bootstrap.yml</code> file</p>\n<pre><code>  cloud:\n    config:\n      server:\n        vault:\n          host: 127.0.0.1\n          port: 8200\n          order: 1\n          kv-version: 2\n          authentication: TOKEN\n          token: ${TOKEN}\n          profile-separator: /\n\n        git:\n          default-label: ${GIT_LABEL}\n          uri: ${CONFIG_REPO_URL}\n          username: ${CONFIG_REPO_USERNAME}\n          password: ${CONFIG_REPO_PASSWORD}\n          ignore-local-ssh-settings: true\n          skip-ssl-validation: true\n          order: 2\n  profiles:\n    active: git, vault\n</code></pre>\n<p>You also need to set both profile as active</p>\n<p>In your other service, (the one that should fetch its configuration from the configuration service) add the following dependencies</p>\n<pre><code>\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>Also you need to make sure that in your vault service your secrets are under the <code>/secret</code> directory</p>\n<p>i.e <code>/secret/my-service/profile</code></p>\n<p>The error that is occurring might still happen, but it will not shutdown the application and the application will still work normally.</p>\n<p>now if you navigate to</p>\n<p><code>http://localhost:8888/my-service/profile</code> (assuming that the config service is on 8888)</p>\n<p>you will have the following result</p>\n<pre><code>{\n   &quot;name&quot;:&quot;my-service&quot;,\n   &quot;profiles&quot;:[\n      &quot;profile&quot;\n   ],\n   &quot;label&quot;:null,\n   &quot;version&quot;:null,\n   &quot;state&quot;:null,\n   &quot;propertySources&quot;:[\n      {\n         &quot;name&quot;:&quot;vault:my-service/profile&quot;,\n         &quot;source&quot;:{\n            &quot;user.password&quot;:&quot;secret-value&quot;,\n            &quot;user.username&quot;:&quot;secret-value&quot;\n         }\n      },\n      {\n         &quot;name&quot;:&quot;&lt;git-url-loocation&gt;&quot;,\n         &quot;source&quot;:{\n            &quot;server.port&quot;:8079\n         }\n      }\n   ]\n}\n</code></pre>\n<p>Notice how under <code>propertySources</code> there is two types, the one coming from the vault, and the other properties coming from a github repo or in your case a file system.</p>\n"}],"owner":{"account_id":23226787,"reputation":25,"user_id":17318212,"display_name":"Yll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674215235,"creation_date":1672660470,"question_id":74982117,"body_markdown":"I have a Spring Cloud Config App set up, with an application.yml like this:\r\n\r\n```\r\n\r\nspring:\r\n  application:\r\n    name: config-server\r\n  profiles:\r\n    active:\r\n      - vault\r\n\r\ncloud:\r\n  config:\r\n    server:\r\n      vault:\r\n        port: 8200\r\n        host: http://127.0.0.1/\r\n      #Local configuration: This locations can either of  classpath or locations in the filesystem.\r\n      native:\r\n        #geht von src/main/resources aus\r\n        search-locations: classpath:/config\r\n  vault:\r\n    authentication: TOKEN\r\n    token: vault-plaintext-root-token\r\n    scheme: http\r\n    port: 8200\r\n    host: http://127.0.0.1/\r\n\r\n\r\nserver:\r\n  port: 8071\r\n```\r\n\r\nHere is relevant parts of my POM:\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\n\r\n\r\nI have a hashcorp vault container running under localhost, which when I enter my token in the UI I can see the data (config) I want to download when I go here:\r\n\r\n```\r\nhttp://127.0.0.1:8200/ui/vault/secrets/licensing-service/show/dev\r\n```\r\n\r\nWhen I start up my Application I get this:\r\n\r\n```\r\n2023-01-02T12:51:16.450+01:00  WARN 25088 --- [(3)-192.168.0.8] o.s.c.c.s.c.ConfigServerHealthIndicator  : Health check failed\r\n\r\njava.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\tat org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.context.support.WebApplicationContextUtils.currentRequestAttributes(WebApplicationContextUtils.java:313) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.context.support.WebApplicationContextUtils$RequestObjectFactory.getObject(WebApplicationContextUtils.java:329) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.context.support.WebApplicationContextUtils$RequestObjectFactory.getObject(WebApplicationContextUtils.java:324) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AutowireUtils$ObjectFactoryDelegatingInvocationHandler.invoke(AutowireUtils.java:289) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy112.getHeader(Unknown Source) ~[na:na]\r\n\tat org.springframework.cloud.config.server.environment.HttpRequestConfigTokenProvider.getToken(HttpRequestConfigTokenProvider.java:43) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.getToken(VaultEnvironmentRepository.java:115) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.read(VaultEnvironmentRepository.java:106) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.AbstractVaultEnvironmentRepository.findOne(AbstractVaultEnvironmentRepository.java:90) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.EnvironmentRepository.findOne(EnvironmentRepository.java:30) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:134) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.cloud.config.server.environment.VaultEnvironmentRepository$$SpringCGLIB$$0.findOne(&lt;generated&gt;) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.2.jar:1.10.2]\r\n\tat org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.findOne(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.CompositeEnvironmentRepository.findOne(CompositeEnvironmentRepository.java:82) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.config.ConfigServerHealthIndicator.doHealthCheck(ConfigServerHealthIndicator.java:77) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281) ~[spring-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809) ~[na:na]\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[na:na]\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472) ~[na:na]\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[na:na]\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[na:na]\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[na:na]\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[na:na]\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[na:na]\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\r\n\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[na:na]\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598) ~[na:na]\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844) ~[na:na]\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721) ~[na:na]\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399) ~[na:na]\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\n```\r\n\r\nWhen I startup with native profile, I get no errors. When I try to access the config from another app (App on any port accesses my config server on 8071) I get no configs. In the console of my spring cloud config app it says this:\r\n\r\n```\r\nError getting the Environment with name=licensing-service profiles=dev label=null includeOrigin=true\r\n\r\njava.lang.IllegalArgumentException: Missing required header in HttpServletRequest: X-Config-Token\r\n\tat org.springframework.cloud.config.server.environment.HttpRequestConfigTokenProvider.getToken(HttpRequestConfigTokenProvider.java:45) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.getToken(VaultEnvironmentRepository.java:115) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.read(VaultEnvironmentRepository.java:106) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.AbstractVaultEnvironmentRepository.findOne(AbstractVaultEnvironmentRepository.java:90) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.EnvironmentRepository.findOne(EnvironmentRepository.java:30) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:134) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.cloud.config.server.environment.VaultEnvironmentRepository$$SpringCGLIB$$0.findOne(&lt;generated&gt;) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.2.jar:1.10.2]\r\n\tat org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.findOne(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.CompositeEnvironmentRepository.findOne(CompositeEnvironmentRepository.java:82) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.2.jar:1.10.2]\r\n\tat org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.findOne(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.EnvironmentEncryptorEnvironmentRepository.findOne(EnvironmentEncryptorEnvironmentRepository.java:64) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.EnvironmentController.getEnvironment(EnvironmentController.java:131) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat org.springframework.cloud.config.server.environment.EnvironmentController.defaultLabelIncludeOrigin(EnvironmentController.java:113) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281) ~[spring-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482) ~[spring-cloud-context-4.0.0.jar:4.0.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.cloud.config.server.environment.EnvironmentController$$SpringCGLIB$$0.defaultLabelIncludeOrigin(&lt;generated&gt;) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\n```\r\n\r\nThis just means there is a missing token. When I do this in my terminal:\r\n\r\n```\r\ncurl -X &quot;GET&quot; &quot;http://localhost:8071/licensing-service/dev&quot; -H  &quot;X-Config-Token: vault-plaintext-root-token&quot;\r\n```\r\n\r\nI get no property Sources. \r\n\r\nI don&#39;t know what I&#39;m doing wrong. The First Error may be an indicator of what is happening but I can&#39;t see what&#39;s wrong tbh. ","title":"Spring Cloud Config + HashiCorp Vault Cannot connect","body":"<p>I have a Spring Cloud Config App set up, with an application.yml like this:</p>\n<pre><code>\nspring:\n  application:\n    name: config-server\n  profiles:\n    active:\n      - vault\n\ncloud:\n  config:\n    server:\n      vault:\n        port: 8200\n        host: http://127.0.0.1/\n      #Local configuration: This locations can either of  classpath or locations in the filesystem.\n      native:\n        #geht von src/main/resources aus\n        search-locations: classpath:/config\n  vault:\n    authentication: TOKEN\n    token: vault-plaintext-root-token\n    scheme: http\n    port: 8200\n    host: http://127.0.0.1/\n\n\nserver:\n  port: 8071\n</code></pre>\n<p>Here is relevant parts of my POM:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>I have a hashcorp vault container running under localhost, which when I enter my token in the UI I can see the data (config) I want to download when I go here:</p>\n<pre><code>http://127.0.0.1:8200/ui/vault/secrets/licensing-service/show/dev\n</code></pre>\n<p>When I start up my Application I get this:</p>\n<pre><code>2023-01-02T12:51:16.450+01:00  WARN 25088 --- [(3)-192.168.0.8] o.s.c.c.s.c.ConfigServerHealthIndicator  : Health check failed\n\njava.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.context.support.WebApplicationContextUtils.currentRequestAttributes(WebApplicationContextUtils.java:313) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.context.support.WebApplicationContextUtils$RequestObjectFactory.getObject(WebApplicationContextUtils.java:329) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.context.support.WebApplicationContextUtils$RequestObjectFactory.getObject(WebApplicationContextUtils.java:324) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AutowireUtils$ObjectFactoryDelegatingInvocationHandler.invoke(AutowireUtils.java:289) ~[spring-beans-6.0.3.jar:6.0.3]\n    at jdk.proxy2/jdk.proxy2.$Proxy112.getHeader(Unknown Source) ~[na:na]\n    at org.springframework.cloud.config.server.environment.HttpRequestConfigTokenProvider.getToken(HttpRequestConfigTokenProvider.java:43) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.getToken(VaultEnvironmentRepository.java:115) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.read(VaultEnvironmentRepository.java:106) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.AbstractVaultEnvironmentRepository.findOne(AbstractVaultEnvironmentRepository.java:90) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.EnvironmentRepository.findOne(EnvironmentRepository.java:30) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:134) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.cloud.config.server.environment.VaultEnvironmentRepository$$SpringCGLIB$$0.findOne(&lt;generated&gt;) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.2.jar:1.10.2]\n    at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.findOne(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.CompositeEnvironmentRepository.findOne(CompositeEnvironmentRepository.java:82) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.config.ConfigServerHealthIndicator.doHealthCheck(ConfigServerHealthIndicator.java:77) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281) ~[spring-core-6.0.3.jar:6.0.3]\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97) ~[spring-boot-actuator-3.0.1.jar:3.0.1]\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809) ~[na:na]\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[na:na]\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[na:na]\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n\n</code></pre>\n<p>When I startup with native profile, I get no errors. When I try to access the config from another app (App on any port accesses my config server on 8071) I get no configs. In the console of my spring cloud config app it says this:</p>\n<pre><code>Error getting the Environment with name=licensing-service profiles=dev label=null includeOrigin=true\n\njava.lang.IllegalArgumentException: Missing required header in HttpServletRequest: X-Config-Token\n    at org.springframework.cloud.config.server.environment.HttpRequestConfigTokenProvider.getToken(HttpRequestConfigTokenProvider.java:45) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.getToken(VaultEnvironmentRepository.java:115) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.VaultEnvironmentRepository.read(VaultEnvironmentRepository.java:106) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.AbstractVaultEnvironmentRepository.findOne(AbstractVaultEnvironmentRepository.java:90) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.EnvironmentRepository.findOne(EnvironmentRepository.java:30) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:134) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.cloud.config.server.environment.VaultEnvironmentRepository$$SpringCGLIB$$0.findOne(&lt;generated&gt;) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.2.jar:1.10.2]\n    at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.findOne(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.CompositeEnvironmentRepository.findOne(CompositeEnvironmentRepository.java:82) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.lambda$findOne$3(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.2.jar:1.10.2]\n    at org.springframework.cloud.config.server.environment.ObservationEnvironmentRepositoryWrapper.findOne(ObservationEnvironmentRepositoryWrapper.java:75) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.EnvironmentEncryptorEnvironmentRepository.findOne(EnvironmentEncryptorEnvironmentRepository.java:64) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.EnvironmentController.getEnvironment(EnvironmentController.java:131) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at org.springframework.cloud.config.server.environment.EnvironmentController.defaultLabelIncludeOrigin(EnvironmentController.java:113) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281) ~[spring-core-6.0.3.jar:6.0.3]\n    at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482) ~[spring-cloud-context-4.0.0.jar:4.0.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.cloud.config.server.environment.EnvironmentController$$SpringCGLIB$$0.defaultLabelIncludeOrigin(&lt;generated&gt;) ~[spring-cloud-config-server-4.0.0.jar:4.0.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n\n</code></pre>\n<p>This just means there is a missing token. When I do this in my terminal:</p>\n<pre><code>curl -X &quot;GET&quot; &quot;http://localhost:8071/licensing-service/dev&quot; -H  &quot;X-Config-Token: vault-plaintext-root-token&quot;\n</code></pre>\n<p>I get no property Sources.</p>\n<p>I don't know what I'm doing wrong. The First Error may be an indicator of what is happening but I can't see what's wrong tbh.</p>\n"},{"tags":["java","spring-boot","gradle"],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674215228,"creation_date":1674215228,"question_id":75183608,"body_markdown":"For my Backend I have a Gradles TestFixtures library in my Backend sub-project, so my Frontend-Tests can start and stop the Backend as they wish.\r\n\r\nThe problem is: The Backend TestFixture uses the classpath of my Frontend, if called by the Frontend, so now, as the project got more complicated, the start fails.\r\n\r\n(What happens is: The Frontend is a Spring-Boot Web application, the Backend has no Web-Parts, if I now call `SpringApplication.run(...)` in the testFixture, inside the Backend Sub-Project, it finds all the Web libraries from the _Frontends_ (!) classpath, tries to init them, and fails, while it complains that the Web-Parts aren&#39;t configured correctly. Which is correct, since it should&#39;ve never even tried to be a Web-Service. The Backend is a database wrapper.)\r\n\r\nMy question:\r\nHow do I limit the classpath in the TestFixtures part so, that it only uses the classpath of the original TestFixtures sub-project and not the calling Frontends sub-project?","title":"Limit Gradles TestFixtures classpath to its sub-projects classpath","body":"<p>For my Backend I have a Gradles TestFixtures library in my Backend sub-project, so my Frontend-Tests can start and stop the Backend as they wish.</p>\n<p>The problem is: The Backend TestFixture uses the classpath of my Frontend, if called by the Frontend, so now, as the project got more complicated, the start fails.</p>\n<p>(What happens is: The Frontend is a Spring-Boot Web application, the Backend has no Web-Parts, if I now call <code>SpringApplication.run(...)</code> in the testFixture, inside the Backend Sub-Project, it finds all the Web libraries from the <em>Frontends</em> (!) classpath, tries to init them, and fails, while it complains that the Web-Parts aren't configured correctly. Which is correct, since it should've never even tried to be a Web-Service. The Backend is a database wrapper.)</p>\n<p>My question:\nHow do I limit the classpath in the TestFixtures part so, that it only uses the classpath of the original TestFixtures sub-project and not the calling Frontends sub-project?</p>\n"},{"tags":["java","sql","spring-boot","jpa","oracle10g"],"answers":[{"tags":[],"owner":{"account_id":26247981,"reputation":65,"user_id":19921188,"display_name":"kvz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674214399,"creation_date":1674214399,"answer_id":75183466,"question_id":75183357,"body_markdown":"you could use a join on a subquery which selects the ids you want to update\r\n\r\n    UPDATE Entity e \r\n    SET e.date = ?1 \r\n    WHERE e.id IN (SELECT i.id FROM (VALUES (?2), (?3), ...) as i(id))\r\n\r\n\r\n","title":"JPA native query from list to tuples","body":"<p>you could use a join on a subquery which selects the ids you want to update</p>\n<pre><code>UPDATE Entity e \nSET e.date = ?1 \nWHERE e.id IN (SELECT i.id FROM (VALUES (?2), (?3), ...) as i(id))\n</code></pre>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674214399,"creation_date":1674213703,"question_id":75183357,"body_markdown":"I have defined a method on my `JPARepository` to update a property&#39;s entity for a given list of ids.\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Entity SET date = ?1 WHERE id IN (?2)&quot;)\r\n    void updateDeletionDate(Date date, List&lt;Long&gt; ids);\r\n\r\nThis works, but I&#39;ve just found out that maximum length of the list is 1000 items (due to [ORA-01795][1]), so I&#39;m trying the best approach I&#39;ve found so far: [2. Use tuples][2]. However, I don&#39;t know how to translate the query, since something like this obviously fails: `UPDATE Entity SET date = ?1 WHERE (id , 0) IN ((?2, 0))`\r\n\r\n\r\n  [1]: https://support.oracle.com/knowledge/More%20Applications%20and%20Technologies/2228062_1.html\r\n  [2]: https://stackoverflow.com/a/32440238/9601720","title":"JPA native query from list to tuples","body":"<p>I have defined a method on my <code>JPARepository</code> to update a property's entity for a given list of ids.</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;UPDATE Entity SET date = ?1 WHERE id IN (?2)&quot;)\nvoid updateDeletionDate(Date date, List&lt;Long&gt; ids);\n</code></pre>\n<p>This works, but I've just found out that maximum length of the list is 1000 items (due to <a href=\"https://support.oracle.com/knowledge/More%20Applications%20and%20Technologies/2228062_1.html\" rel=\"nofollow noreferrer\">ORA-01795</a>), so I'm trying the best approach I've found so far: <a href=\"https://stackoverflow.com/a/32440238/9601720\">2. Use tuples</a>. However, I don't know how to translate the query, since something like this obviously fails: <code>UPDATE Entity SET date = ?1 WHERE (id , 0) IN ((?2, 0))</code></p>\n"},{"tags":["java","file","http","object"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1364063810,"post_id":15590534,"comment_id":22105796,"body_markdown":"readLine() is [deprecated](http://docs.oracle.com/javase/6/docs/api/java/io/DataInputStream.html#readLine%28%29)","body":"readLine() is <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/DataInputStream.html#readLine%28%29\" rel=\"nofollow noreferrer\">deprecated</a>"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1364063936,"post_id":15590534,"comment_id":22105830,"body_markdown":"What message do you get if you use another URL ? Exist the URL on the server ?","body":"What message do you get if you use another URL ? Exist the URL on the server ?"},{"owner":{"display_name":"user2036677"},"score":0,"creation_date":1364064089,"post_id":15590534,"comment_id":22105866,"body_markdown":"No, this code works fine. The problem is this works only for primitive data types and not class objects. What changes should I make to read a class object?","body":"No, this code works fine. The problem is this works only for primitive data types and not class objects. What changes should I make to read a class object?"}],"answers":[{"tags":[],"owner":{"display_name":"user2173738"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1364065291,"creation_date":1364064194,"answer_id":15590642,"question_id":15590534,"body_markdown":"You can do this with this method\r\n\r\n      public Object deserialize(InputStream is) {\r\n        ObjectInputStream in;\r\n        Object obj;\r\n        try {\r\n          in = new ObjectInputStream(is);\r\n          obj = in.readObject();\r\n          in.close();\r\n          return obj;\r\n        }\r\n        catch (IOException ex) {\r\n          ex.printStackTrace();\r\n          throw new RuntimeException(ex);\r\n        }\r\n        catch (ClassNotFoundException ex) {\r\n          ex.printStackTrace();\r\n          throw new RuntimeException(ex);\r\n        }\r\n      }\r\n\r\nfeed it with `urlConn.getInputStream()` and you&#39;ll get the `Object`. `DataInputStream` is not fit to read serialized objets that are done with `ObjectOutputStream`. Use `ObjectInputStream` respectively. \r\n\r\nTo write an object to the file there&#39;s another method\r\n\r\n      public void serialize(Object obj, String fileName) {\r\n        FileOutputStream fos;\r\n        ObjectOutputStream out;\r\n        try {\r\n          fos = new FileOutputStream(fileName);\r\n          out = new ObjectOutputStream(fos);\r\n          out.writeObject(obj);\r\n          out.close();\r\n        }\r\n        catch (IOException ex) {\r\n          ex.printStackTrace();\r\n          throw new RuntimeException(ex);\r\n        }\r\n      }\r\n\r\n","title":"Java program to read objects from a .ser file located in a server","body":"<p>You can do this with this method</p>\n\n<pre><code>  public Object deserialize(InputStream is) {\n    ObjectInputStream in;\n    Object obj;\n    try {\n      in = new ObjectInputStream(is);\n      obj = in.readObject();\n      in.close();\n      return obj;\n    }\n    catch (IOException ex) {\n      ex.printStackTrace();\n      throw new RuntimeException(ex);\n    }\n    catch (ClassNotFoundException ex) {\n      ex.printStackTrace();\n      throw new RuntimeException(ex);\n    }\n  }\n</code></pre>\n\n<p>feed it with <code>urlConn.getInputStream()</code> and you'll get the <code>Object</code>. <code>DataInputStream</code> is not fit to read serialized objets that are done with <code>ObjectOutputStream</code>. Use <code>ObjectInputStream</code> respectively. </p>\n\n<p>To write an object to the file there's another method</p>\n\n<pre><code>  public void serialize(Object obj, String fileName) {\n    FileOutputStream fos;\n    ObjectOutputStream out;\n    try {\n      fos = new FileOutputStream(fileName);\n      out = new ObjectOutputStream(fos);\n      out.writeObject(obj);\n      out.close();\n    }\n    catch (IOException ex) {\n      ex.printStackTrace();\n      throw new RuntimeException(ex);\n    }\n  }\n</code></pre>\n"}],"owner":{"display_name":"user2036677"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15590642,"answer_count":1,"score":2,"last_activity_date":1674214124,"creation_date":1364063492,"question_id":15590534,"body_markdown":"My idea is that I want to read an object from a serialized file located in a server. How to do that?\r\n\r\nI can only read .txt file using the following code : \r\n\r\n       void getInfo() {\r\n        try {\r\n            URL url;\r\n            URLConnection urlConn;\r\n            DataInputStream dis;\r\n\r\n            url = new URL(&quot;http://localhost/Test.txt&quot;);\r\n\r\n            // Note:  a more portable URL: \r\n            //url = new URL(getCodeBase().toString() + &quot;/ToDoList/ToDoList.txt&quot;);\r\n\r\n            urlConn = url.openConnection();\r\n            urlConn.setDoInput(true);\r\n            urlConn.setUseCaches(false);\r\n\r\n            dis = new DataInputStream(urlConn.getInputStream());\r\n            \r\n            String s;\r\n            while ((s = dis.readLine()) != null) {\r\n                System.out.println(s);\r\n            }\r\n            dis.close();\r\n        } catch (MalformedURLException mue) {\r\n            System.out.println(&quot;Error!!!&quot;);\r\n        } catch (IOException ioe) {\r\n            System.out.println(&quot;Error!!!&quot;);\r\n        }\r\n       }","title":"Java program to read objects from a .ser file located in a server","body":"<p>My idea is that I want to read an object from a serialized file located in a server. How to do that?</p>\n\n<p>I can only read .txt file using the following code : </p>\n\n<pre><code>   void getInfo() {\n    try {\n        URL url;\n        URLConnection urlConn;\n        DataInputStream dis;\n\n        url = new URL(\"http://localhost/Test.txt\");\n\n        // Note:  a more portable URL: \n        //url = new URL(getCodeBase().toString() + \"/ToDoList/ToDoList.txt\");\n\n        urlConn = url.openConnection();\n        urlConn.setDoInput(true);\n        urlConn.setUseCaches(false);\n\n        dis = new DataInputStream(urlConn.getInputStream());\n\n        String s;\n        while ((s = dis.readLine()) != null) {\n            System.out.println(s);\n        }\n        dis.close();\n    } catch (MalformedURLException mue) {\n        System.out.println(\"Error!!!\");\n    } catch (IOException ioe) {\n        System.out.println(\"Error!!!\");\n    }\n   }\n</code></pre>\n"},{"tags":["java","linux","process"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296134972,"creation_date":1296134972,"answer_id":4816915,"question_id":4816889,"body_markdown":"Generally in J2EE app [Quartz Schedular][1] is configured\r\n\r\n\r\n&gt;Quartz is a full-featured, open source job scheduling service that can be integrated with, or used along side virtually any Java EE or Java SE application - from the smallest stand-alone application to the largest e-commerce system. Quartz can be used to create simple or complex schedules for executing tens, hundreds, or even tens-of-thousands of jobs; jobs whose tasks are defined as standard Java components that may execute virtually anything you may program them to do. The Quartz Scheduler includes many enterprise-class features, such as JTA transactions and clustering.\r\n\r\n - [Quick Start Guide][2]\r\n\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/\r\n  [2]: http://www.quartz-scheduler.org/docs/quick_start_guide.html","title":"Running a scheduled task written in java on a linux server","body":"<p>Generally in J2EE app <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow\">Quartz Schedular</a> is configured</p>\n\n<blockquote>\n  <p>Quartz is a full-featured, open source job scheduling service that can be integrated with, or used along side virtually any Java EE or Java SE application - from the smallest stand-alone application to the largest e-commerce system. Quartz can be used to create simple or complex schedules for executing tens, hundreds, or even tens-of-thousands of jobs; jobs whose tasks are defined as standard Java components that may execute virtually anything you may program them to do. The Quartz Scheduler includes many enterprise-class features, such as JTA transactions and clustering.</p>\n</blockquote>\n\n<ul>\n<li><a href=\"http://www.quartz-scheduler.org/docs/quick_start_guide.html\" rel=\"nofollow\">Quick Start Guide</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7448,"reputation":526464,"user_id":12950,"accept_rate":94,"display_name":"tvanfosson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1296135076,"creation_date":1296135076,"answer_id":4816935,"question_id":4816889,"body_markdown":"Run it from [cron][1] just like you would (mostly) from the command line.  It&#39;s probably easiest to wrap it in a shell script that sets the appropriate environmental variables.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cron","title":"Running a scheduled task written in java on a linux server","body":"<p>Run it from <a href=\"http://en.wikipedia.org/wiki/Cron\" rel=\"nofollow\">cron</a> just like you would (mostly) from the command line.  It's probably easiest to wrap it in a shell script that sets the appropriate environmental variables.</p>\n"},{"tags":[],"owner":{"account_id":94661,"reputation":327,"user_id":258323,"display_name":"Papuass"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674213715,"creation_date":1296135094,"answer_id":4816944,"question_id":4816889,"body_markdown":"You can write a shell script for executing your Java utility (you might need to add classpath and other environmental variables) and put it in your crontab.\r\n\r\nHere is quick [crontab reference][1].\r\n\r\n\r\n  [1]: http://adminschoice.com/crontab-quick-reference","title":"Running a scheduled task written in java on a linux server","body":"<p>You can write a shell script for executing your Java utility (you might need to add classpath and other environmental variables) and put it in your crontab.</p>\n<p>Here is quick <a href=\"http://adminschoice.com/crontab-quick-reference\" rel=\"nofollow noreferrer\">crontab reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":110120,"reputation":4781,"user_id":291538,"accept_rate":91,"display_name":"rompetroll"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296135104,"creation_date":1296135104,"answer_id":4816948,"question_id":4816889,"body_markdown":"i&#39;d use crontab on a linux machine to trigger my process. Scheduling inside java works, too. but with crontab you won&#39;t have a java process running all the time, but only for your task","title":"Running a scheduled task written in java on a linux server","body":"<p>i'd use crontab on a linux machine to trigger my process. Scheduling inside java works, too. but with crontab you won't have a java process running all the time, but only for your task</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296135109,"creation_date":1296135109,"answer_id":4816949,"question_id":4816889,"body_markdown":"There are service wrappers for linux, but its often its simplest to just \r\n\r\n    nohup java {etc} 2&gt;&amp;1 &gt; my.log &amp; ","title":"Running a scheduled task written in java on a linux server","body":"<p>There are service wrappers for linux, but its often its simplest to just </p>\n\n<pre><code>nohup java {etc} 2&gt;&amp;1 &gt; my.log &amp; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296135119,"creation_date":1296135119,"answer_id":4816953,"question_id":4816889,"body_markdown":"Just can start it from cron(8). This of course assumes that your task terminates at some time. If you want to start it at system start time and having it running, then, put a start script into /etc/init.d/ with a link to the right runlevel start directory and internally use a library like Quartz to have its work scheduled.","title":"Running a scheduled task written in java on a linux server","body":"<p>Just can start it from cron(8). This of course assumes that your task terminates at some time. If you want to start it at system start time and having it running, then, put a start script into /etc/init.d/ with a link to the right runlevel start directory and internally use a library like Quartz to have its work scheduled.</p>\n"}],"owner":{"account_id":83741,"reputation":7626,"user_id":234606,"accept_rate":67,"display_name":"naiquevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4816944,"answer_count":6,"score":2,"last_activity_date":1674213715,"creation_date":1296134793,"question_id":4816889,"body_markdown":"I need to run a piece of java code on a linux server everyday at a specific time. \r\n\r\nFor now I am testing it on a Ubuntu desktop by running it from the terminal and its functioning properly and as required. For scheduling, I have used the library from [here][1].\r\n\r\nOn the actual server, what would be the correct way to run this as a process ?\r\n\r\nI mean, on my desktop, i run the code from terminal specifying a time close to current one, test it for the first time and then stop it (^Z). \r\n\r\nOn the server would it be a right way to just push it to the background ? I am sure there must be a better way of achieving this. \r\n\r\nThanks\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-schedule.html","title":"Running a scheduled task written in java on a linux server","body":"<p>I need to run a piece of java code on a linux server everyday at a specific time. </p>\n\n<p>For now I am testing it on a Ubuntu desktop by running it from the terminal and its functioning properly and as required. For scheduling, I have used the library from <a href=\"http://www.ibm.com/developerworks/java/library/j-schedule.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>On the actual server, what would be the correct way to run this as a process ?</p>\n\n<p>I mean, on my desktop, i run the code from terminal specifying a time close to current one, test it for the first time and then stop it (^Z). </p>\n\n<p>On the server would it be a right way to just push it to the background ? I am sure there must be a better way of achieving this. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","gps"],"answers":[{"tags":[],"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1437454349,"creation_date":1437454349,"answer_id":31530637,"question_id":31529987,"body_markdown":"Don&#39;t confuse the the radio frequency value (1.1-1.6GHz) from how frequently you will get location updates (1Hz).\r\n\r\nHave you seen the device list in: https://stackoverflow.com/questions/15800686/get-gps-position-on-a-precise-time-interval ? Even though its a few years old, I doubt any on device GPS will report any faster (probably due to battery/noise/use case design). Even if the on board device was reporting at 10Hz or 20Hz that is only 100ms or 50ms which is still slower than your requirement of 25ms. Remember if the CPU is talking to the GPS and calculating location - it is eating battery which is the limiting factor on mobile devices. \r\n\r\nIf you want consistent sub-second GPS value updates you&#39;ll need to use an external device.","title":"Android GPS update frequency","body":"<p>Don't confuse the the radio frequency value (1.1-1.6GHz) from how frequently you will get location updates (1Hz).</p>\n\n<p>Have you seen the device list in: <a href=\"https://stackoverflow.com/questions/15800686/get-gps-position-on-a-precise-time-interval\">Get GPS position on a precise time interval</a> ? Even though its a few years old, I doubt any on device GPS will report any faster (probably due to battery/noise/use case design). Even if the on board device was reporting at 10Hz or 20Hz that is only 100ms or 50ms which is still slower than your requirement of 25ms. Remember if the CPU is talking to the GPS and calculating location - it is eating battery which is the limiting factor on mobile devices. </p>\n\n<p>If you want consistent sub-second GPS value updates you'll need to use an external device.</p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437579641,"creation_date":1437573136,"answer_id":31565164,"question_id":31529987,"body_markdown":"Consumer devices update gps positions with a rate of 1hz, so one location per second.&lt;br&gt;\r\nA higher rate of e.g 10 / s would not make much sense.&lt;br&gt;\r\nPositions would not get better, more likely they get worse, however this a theoretical discussion, since consumer GPS chips usually will not provide a higher rate than 1 or 2 hz.&lt;br&gt;\r\n\r\nSo just change your application design.\r\nEspecially at high speeds it is save to interpolate between two locations.\r\n\r\nKeep in mind that position have an circular error of at least 3-5m.\r\nSo your lap timing app, migght addionally output an timingAccuracy value.\r\n5m error at 100km/h result in an timing accuracy of 0.18s.\r\nYou can get the estimated positional error with `location.getHoricontalAccuracy()` (or similar names)","title":"Android GPS update frequency","body":"<p>Consumer devices update gps positions with a rate of 1hz, so one location per second.<br>\nA higher rate of e.g 10 / s would not make much sense.<br>\nPositions would not get better, more likely they get worse, however this a theoretical discussion, since consumer GPS chips usually will not provide a higher rate than 1 or 2 hz.<br></p>\n\n<p>So just change your application design.\nEspecially at high speeds it is save to interpolate between two locations.</p>\n\n<p>Keep in mind that position have an circular error of at least 3-5m.\nSo your lap timing app, migght addionally output an timingAccuracy value.\n5m error at 100km/h result in an timing accuracy of 0.18s.\nYou can get the estimated positional error with <code>location.getHoricontalAccuracy()</code> (or similar names)</p>\n"}],"owner":{"account_id":4755649,"reputation":105,"user_id":3844489,"accept_rate":33,"display_name":"Kringle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7447,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31530637,"answer_count":2,"score":7,"last_activity_date":1674213635,"creation_date":1437450233,"question_id":31529987,"body_markdown":"I&#39;m writing a lap timing app but have run into a GPS update frequency problem. At speeds greater than 75km/h (21m/s) my code stops working. My question is how can I request updates at a faster rate? I need it work at speeds up to 300km/h (83m/s) and would like the app to get updates every couple of meters traveled which would mean it would need an update every 0.025 seconds @ 300km/h. Below is my code, I tried an alternate code to get time stamp but got the same result, I believe it&#39;s a GPS update frequency problem not a code problem. I wanted updates every couple of meters @ 300km/h in case the phone passes through the proximity radius on a tangent.\r\n\r\n    int prox = 30;\t\t// Proximity Switch To Finish Line = 30 meters\r\n    int speedGov = 0;\t// Speed In Kmh\r\n\r\n    public void OnProviderDisabled(string provider)\r\n    {\r\n    }\r\n\r\n    public void OnProviderEnabled(string provider)\r\n    {\r\n    }\r\n\r\n    public void OnStatusChanged(string provider, Availability status, Bundle extras)\r\n    {\r\n    }\r\n\r\n    protected override void OnResume()\r\n    {\r\n\t    this.InitializeLocationManager();\r\n    \tbase.OnResume();\r\n    \t_locationManager.RequestLocationUpdates(_locationProvider, 0, 0, this);\r\n    }\r\n\r\n    void InitializeLocationManager()\r\n    {\r\n\t    _locationManager = (LocationManager)GetSystemService(LocationService);\r\n    \tCriteria criteriaForLocationService = new Criteria\r\n    \t{\r\n    \t\tAccuracy = Accuracy.Fine\r\n    \t};\r\n    \tIList&lt;string&gt; acceptableLocationProviders =     _locationManager.GetProviders(criteriaForLocationService, true);\r\n\t    if (acceptableLocationProviders.Any())\r\n    \t{\r\n    \t\t_locationProvider = acceptableLocationProviders.First();\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\t_locationProvider = String.Empty;\r\n    \t}\r\n    }\r\n\r\n    public void OnLocationChanged(Location location)\r\n    {\r\n    \t_currentLocation = location;\r\n    \tif (_currentLocation == null)\r\n    \t{\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\td2fl = Convert.ToInt32(_currentLocation.DistanceTo(fl));\r\n    \t\tspeedGov = Convert.ToInt32(_currentLocation.Speed * 3.6);\r\n    \t}\r\n    }\r\n\r\n    int A = 0;\t\t// 1st Distance to Finish Line\r\n    int B = 1000000;\t// 2nd Distance to Finish Line\r\n\r\n    // Get Time Stamp\r\n    while (true)\r\n    {\r\n    \tA = d2fl;\r\n    \tif (A &gt; B &amp;&amp; d2fl &lt; prox &amp;&amp; speedGov &gt; 2)\t// Travelling away from Finish Line &amp; Within 30m proximity to Finish Line &amp; Going faster than 2km/h\r\n    \t{\r\n    \t\t// Time stamp for when phone first starts travelling away from Finish Line\r\n    \t\tstring hours = DateTime.Now.ToString(&quot;HH&quot;);\r\n    \t\tstring minutes = DateTime.Now.ToString(&quot;mm&quot;);\r\n    \t\tstring seconds = DateTime.Now.ToString(&quot;ss&quot;);\r\n    \t\tstring milliseconds = DateTime.Now.ToString(&quot;fff&quot;);\r\n    \t\tlapFinishTimeStamp = (Convert.ToDecimal(hours) * 3600) + (Convert.ToDecimal(minutes) * 60) + Convert.ToDecimal(seconds) + (Convert.ToDecimal(milliseconds) / 1000);\r\n    \t\tA = 0;\r\n    \t\tB = 1000000;\r\n    \t\tbreak;\r\n    \t}\r\n    \tB = A;\r\n    }\r\n\r\n    // Alternate Get Time Stamp - worked the same as above &quot;Get Time Stamp&quot;\r\n    while (true)\r\n    {\r\n    \tint A = d2fl;\r\n    \tThread.Sleep(5);\r\n    \tint B = d2fl;\r\n    \tif (A &lt; B &amp;&amp; d2fl &lt; prox &amp;&amp; speedGov &gt; 2)\r\n    \t{\r\n    \t\tstring hours = DateTime.Now.ToString(&quot;HH&quot;);\r\n    \t\tstring minutes = DateTime.Now.ToString(&quot;mm&quot;);\r\n    \t\tstring seconds = DateTime.Now.ToString(&quot;ss&quot;);\r\n    \t\tstring milliseconds = DateTime.Now.ToString(&quot;fff&quot;);\r\n    \t\tlapFinishTimeStamp = (Convert.ToDecimal(hours) * 3600) +     (Convert.ToDecimal(minutes) * 60) + Convert.ToDecimal(seconds) + (Convert.ToDecimal(milliseconds) / 1000);\r\n    \t\tA = 0;\r\n    \t\tB = 0;\r\n    \t\tbreak;\r\n    \t\t}\r\n    \tA = 0;\r\n    \tB = 0;\r\n    }\r\n\r\nHave read some other anwsers on this forum but are a few years old. This app will need to work on Galaxy S4 onwards.\r\n\r\nPlus I&#39;m a little confused about the GPS frequency&#39;s, from what I&#39;ve read the GPS frequency operates at quite a high rate (hardware is around 1.6 GHz) but the phones operating systems seems to cull the data to a lower frequency, is this intentional?","title":"Android GPS update frequency","body":"<p>I'm writing a lap timing app but have run into a GPS update frequency problem. At speeds greater than 75km/h (21m/s) my code stops working. My question is how can I request updates at a faster rate? I need it work at speeds up to 300km/h (83m/s) and would like the app to get updates every couple of meters traveled which would mean it would need an update every 0.025 seconds @ 300km/h. Below is my code, I tried an alternate code to get time stamp but got the same result, I believe it's a GPS update frequency problem not a code problem. I wanted updates every couple of meters @ 300km/h in case the phone passes through the proximity radius on a tangent.</p>\n\n<pre><code>int prox = 30;      // Proximity Switch To Finish Line = 30 meters\nint speedGov = 0;   // Speed In Kmh\n\npublic void OnProviderDisabled(string provider)\n{\n}\n\npublic void OnProviderEnabled(string provider)\n{\n}\n\npublic void OnStatusChanged(string provider, Availability status, Bundle extras)\n{\n}\n\nprotected override void OnResume()\n{\n    this.InitializeLocationManager();\n    base.OnResume();\n    _locationManager.RequestLocationUpdates(_locationProvider, 0, 0, this);\n}\n\nvoid InitializeLocationManager()\n{\n    _locationManager = (LocationManager)GetSystemService(LocationService);\n    Criteria criteriaForLocationService = new Criteria\n    {\n        Accuracy = Accuracy.Fine\n    };\n    IList&lt;string&gt; acceptableLocationProviders =     _locationManager.GetProviders(criteriaForLocationService, true);\n    if (acceptableLocationProviders.Any())\n    {\n        _locationProvider = acceptableLocationProviders.First();\n    }\n    else\n    {\n        _locationProvider = String.Empty;\n    }\n}\n\npublic void OnLocationChanged(Location location)\n{\n    _currentLocation = location;\n    if (_currentLocation == null)\n    {\n    }\n    else\n    {\n        d2fl = Convert.ToInt32(_currentLocation.DistanceTo(fl));\n        speedGov = Convert.ToInt32(_currentLocation.Speed * 3.6);\n    }\n}\n\nint A = 0;      // 1st Distance to Finish Line\nint B = 1000000;    // 2nd Distance to Finish Line\n\n// Get Time Stamp\nwhile (true)\n{\n    A = d2fl;\n    if (A &gt; B &amp;&amp; d2fl &lt; prox &amp;&amp; speedGov &gt; 2)   // Travelling away from Finish Line &amp; Within 30m proximity to Finish Line &amp; Going faster than 2km/h\n    {\n        // Time stamp for when phone first starts travelling away from Finish Line\n        string hours = DateTime.Now.ToString(\"HH\");\n        string minutes = DateTime.Now.ToString(\"mm\");\n        string seconds = DateTime.Now.ToString(\"ss\");\n        string milliseconds = DateTime.Now.ToString(\"fff\");\n        lapFinishTimeStamp = (Convert.ToDecimal(hours) * 3600) + (Convert.ToDecimal(minutes) * 60) + Convert.ToDecimal(seconds) + (Convert.ToDecimal(milliseconds) / 1000);\n        A = 0;\n        B = 1000000;\n        break;\n    }\n    B = A;\n}\n\n// Alternate Get Time Stamp - worked the same as above \"Get Time Stamp\"\nwhile (true)\n{\n    int A = d2fl;\n    Thread.Sleep(5);\n    int B = d2fl;\n    if (A &lt; B &amp;&amp; d2fl &lt; prox &amp;&amp; speedGov &gt; 2)\n    {\n        string hours = DateTime.Now.ToString(\"HH\");\n        string minutes = DateTime.Now.ToString(\"mm\");\n        string seconds = DateTime.Now.ToString(\"ss\");\n        string milliseconds = DateTime.Now.ToString(\"fff\");\n        lapFinishTimeStamp = (Convert.ToDecimal(hours) * 3600) +     (Convert.ToDecimal(minutes) * 60) + Convert.ToDecimal(seconds) + (Convert.ToDecimal(milliseconds) / 1000);\n        A = 0;\n        B = 0;\n        break;\n        }\n    A = 0;\n    B = 0;\n}\n</code></pre>\n\n<p>Have read some other anwsers on this forum but are a few years old. This app will need to work on Galaxy S4 onwards.</p>\n\n<p>Plus I'm a little confused about the GPS frequency's, from what I've read the GPS frequency operates at quite a high rate (hardware is around 1.6 GHz) but the phones operating systems seems to cull the data to a lower frequency, is this intentional?</p>\n"},{"tags":["java","inputstream","outputstream","fileinputstream","fileoutputstream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1674072754,"post_id":75164615,"comment_id":132639657,"body_markdown":"try `output.close()` - `flush` only ensures that no content is buffered in memory, but does not close the stream. You could write more to the stream after a `flush`.","body":"try <code>output.close()</code> - <code>flush</code> only ensures that no content is buffered in memory, but does not close the stream. You could write more to the stream after a <code>flush</code>."},{"owner":{"account_id":27566930,"reputation":11,"user_id":21038942,"display_name":"Finn Thomas"},"score":0,"creation_date":1674073249,"post_id":75164615,"comment_id":132639779,"body_markdown":"@cyberbrain sorry yes I had also tried this, still doesn&#39;t work","body":"@cyberbrain sorry yes I had also tried this, still doesn&#39;t work"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674074021,"post_id":75164615,"comment_id":132640001,"body_markdown":"so the problem is probably in the &quot;middle&quot;: according to the javadoc the behaviour of `InputStream.transferTo` is undefined on closing just one of the streams (when you don&#39;t have an external signalling).\nI recommend you either use a `PipedInputStream` together with a `PipedOutputStream` or [`IOUtils.copy`](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#copy-java.io.InputStream-java.io.OutputStream-) or a similar method from [Apache commons-io](https://commons.apache.org/proper/commons-io/). I think Spring also has something similar available.","body":"so the problem is probably in the &quot;middle&quot;: according to the javadoc the behaviour of <code>InputStream.transferTo</code> is undefined on closing just one of the streams (when you don&#39;t have an external signalling). I recommend you either use a <code>PipedInputStream</code> together with a <code>PipedOutputStream</code> or <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#copy-java.io.InputStream-java.io.OutputStream-\" rel=\"nofollow noreferrer\"><code>IOUtils.copy</code></a> or a similar method from <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache commons-io</a>. I think Spring also has something similar available."}],"owner":{"account_id":27566930,"reputation":11,"user_id":21038942,"display_name":"Finn Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674213567,"creation_date":1674071600,"question_id":75164615,"body_markdown":"I am trying emulate downloading/uploading. I am reading a file from a FileInputStream and send it over an OutputStream to an intermediary server which uses transferTo() to send the data over an OutputStream to the downloader (socket), where it is read from an InputStream and written to a file using FileOutputStream.\r\n\r\nThe file transfer is working but the loop that reads the bytes on the downloader side isn&#39;t detecting that the stream is finished. Why is this happening?\r\n\r\nCode for uploader:\r\n\r\n\r\n```\r\nfis = new FileInputStream(transferFilePath);\r\n\r\nbyte[] dataBytes = new byte[1024];\r\n\r\n                int nread;\r\n                while ((nread = fis.read(dataBytes)) != -1) {\r\n                    output.write(dataBytes,0, nread);\r\n                    md.update(dataBytes, 0, nread);\r\n                }\r\n\r\n                output.flush();\r\n```\r\n\r\nCode on intermediary server:\r\n\r\n\r\n```\r\nOutputStream output;\r\n            InputStream input;\r\n            try {\r\n\r\n                output = downloader.getOutputStream();\r\n                input = sender.getInputStream();\r\n\r\n                input.transferTo(output);\r\n\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n```\r\n\r\nCode for uploader:\r\n\r\n\r\n```\r\nInputStream inStream = transferSocket.getInputStream();\r\n                File targetFile = new File(&quot;targetFile&quot;);\r\n                OutputStream outStream = new FileOutputStream(targetFile);\r\n\r\n                byte[] dataBytes = new byte[1024];\r\n\r\n                int nread;\r\n                while ((nread = inStream.read(dataBytes)) != -1) {\r\n                    outStream.write(dataBytes,0, nread);\r\n                }\r\n\r\n                System.out.println(&quot;Should hit here but does not :(&quot;);\r\n```\r\n\r\n\r\n\r\nTried using output.flush and closing the output manually with output.close, not sure what else to try because im not sure what the issue is\r\n\r\nSOLUTION: Issue was fixed by closing socket connection and not just the output/input streams","title":"Java - InputStream read loop not closing when file has finished transferring","body":"<p>I am trying emulate downloading/uploading. I am reading a file from a FileInputStream and send it over an OutputStream to an intermediary server which uses transferTo() to send the data over an OutputStream to the downloader (socket), where it is read from an InputStream and written to a file using FileOutputStream.</p>\n<p>The file transfer is working but the loop that reads the bytes on the downloader side isn't detecting that the stream is finished. Why is this happening?</p>\n<p>Code for uploader:</p>\n<pre><code>fis = new FileInputStream(transferFilePath);\n\nbyte[] dataBytes = new byte[1024];\n\n                int nread;\n                while ((nread = fis.read(dataBytes)) != -1) {\n                    output.write(dataBytes,0, nread);\n                    md.update(dataBytes, 0, nread);\n                }\n\n                output.flush();\n</code></pre>\n<p>Code on intermediary server:</p>\n<pre><code>OutputStream output;\n            InputStream input;\n            try {\n\n                output = downloader.getOutputStream();\n                input = sender.getInputStream();\n\n                input.transferTo(output);\n\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n</code></pre>\n<p>Code for uploader:</p>\n<pre><code>InputStream inStream = transferSocket.getInputStream();\n                File targetFile = new File(&quot;targetFile&quot;);\n                OutputStream outStream = new FileOutputStream(targetFile);\n\n                byte[] dataBytes = new byte[1024];\n\n                int nread;\n                while ((nread = inStream.read(dataBytes)) != -1) {\n                    outStream.write(dataBytes,0, nread);\n                }\n\n                System.out.println(&quot;Should hit here but does not :(&quot;);\n</code></pre>\n<p>Tried using output.flush and closing the output manually with output.close, not sure what else to try because im not sure what the issue is</p>\n<p>SOLUTION: Issue was fixed by closing socket connection and not just the output/input streams</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1674156254,"post_id":75177264,"comment_id":132660534,"body_markdown":"Just 2 cents: you should not exclude unwanted but rather allow only wanted characters. Whitelisting is definitely the better way.","body":"Just 2 cents: you should not exclude unwanted but rather allow only wanted characters. Whitelisting is definitely the better way."},{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":0,"creation_date":1674156381,"post_id":75177264,"comment_id":132660576,"body_markdown":"are java (-ae / -enableassertions) assertions on ?","body":"are java (-ae / -enableassertions) assertions on ?"},{"owner":{"account_id":8472102,"reputation":119,"user_id":6354357,"display_name":"Gol. D Roger"},"score":0,"creation_date":1674156468,"post_id":75177264,"comment_id":132660593,"body_markdown":"In this case, if I have to add other language name (ex, Japanese, Chinese) then it will consider special character. That&#39;s why excluded characters that are not supported.","body":"In this case, if I have to add other language name (ex, Japanese, Chinese) then it will consider special character. That&#39;s why excluded characters that are not supported."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674166917,"creation_date":1674166041,"answer_id":75178791,"question_id":75177264,"body_markdown":"If you want to test your `bean validation` rules into your controller you can do it by mocking the exception that will happen in your service class or in your integration test by the simulation of a wrong value. Also you can improve the code in your `controller`. Here you are returning a `BAD_REQUEST` in the `catch` section, it is the role of your `ControllerAdvice` class. Instead you should throw a `BadRequestException` request exception that will be transmitted to your `ControllerAdvice`.\r\n\r\n*Controller*\r\n\r\n    @PostMapping(value = &quot;/users&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE, headers = &quot;Authorization&quot;)\r\n    @ApiOperation(value = &quot;API endpoint to save users&quot;, notes = &quot;API endpoint to save users&quot;)\r\n    @ApiResponses(value = {\r\n        @ApiResponse(code = 200, message = ErrorConstants.OK),\r\n        @ApiResponse(code = 400, message = ErrorConstants.BAD_REQUEST),\r\n        @ApiResponse(code = 403, message = ErrorConstants.FORBIDDEN),\r\n        @ApiResponse(code = 500, message = ErrorConstants.INTERNAL_SERVER_ERROR) }\r\n    )\r\n    public ResponseEntity&lt;?&gt; addUsers(@Valid @RequestBody UserDto userDto) {\r\n        try {\r\n            return new ResponseEntity&lt;&gt;(userService.createUsers(userDto), HttpStatus.OK);\r\n        } catch (MethodArgumentNotValidException e) {\r\n            throw new BadRequestException(&quot;YOUR MESSAGE&quot;, e); // the e in parameter to get the root cause if you send message from your validation\r\n        } catch (Exception e) {\r\n            throw new InternalServerErrorException(&quot;YOUR MESSAGE&quot;, e); // the e in parameter to get the root cause\r\n        }\r\n    }\r\n\r\n*Controller Advice*\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionControllerAdvise {\r\n    \r\n        @ExceptionHandler(value = BadRequestException.class)\r\n        public ResponseEntity&lt;ErrorResponse&gt; validException(BadRequestException exception) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        @ExceptionHandler(value = InternalServerErrorException.class)\r\n        public ResponseEntity&lt;ErrorResponse&gt; serverException(InternalServerErrorExceptionexception) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n*Test class*\r\n\r\n    @Test\r\n    public void test0_createUsersWithInvalidName() {\r\n       \r\n        ...\r\n        \r\n        when(userService\r\n        .createUsers(userDto))\r\n        .thenThrow(MethodArgumentNotValidException.class);\r\n\r\n       ...\r\n       // Here use mockMvc instead\r\n    }\r\n\r\nThis part of your test code will be used in your integration test:\r\n\r\n    UserDto dto = new UserDto();\r\n    dto.setName(&quot;Apple&amp;sons!&quot;)\r\n    dto.setAddress(&quot;abc&quot;);\r\n\r\nAlso, how do you construct your `ErrorResponse`?","title":"@Pattern annotation is not working in junit 4","body":"<p>If you want to test your <code>bean validation</code> rules into your controller you can do it by mocking the exception that will happen in your service class or in your integration test by the simulation of a wrong value. Also you can improve the code in your <code>controller</code>. Here you are returning a <code>BAD_REQUEST</code> in the <code>catch</code> section, it is the role of your <code>ControllerAdvice</code> class. Instead you should throw a <code>BadRequestException</code> request exception that will be transmitted to your <code>ControllerAdvice</code>.</p>\n<p><em>Controller</em></p>\n<pre><code>@PostMapping(value = &quot;/users&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE, headers = &quot;Authorization&quot;)\n@ApiOperation(value = &quot;API endpoint to save users&quot;, notes = &quot;API endpoint to save users&quot;)\n@ApiResponses(value = {\n    @ApiResponse(code = 200, message = ErrorConstants.OK),\n    @ApiResponse(code = 400, message = ErrorConstants.BAD_REQUEST),\n    @ApiResponse(code = 403, message = ErrorConstants.FORBIDDEN),\n    @ApiResponse(code = 500, message = ErrorConstants.INTERNAL_SERVER_ERROR) }\n)\npublic ResponseEntity&lt;?&gt; addUsers(@Valid @RequestBody UserDto userDto) {\n    try {\n        return new ResponseEntity&lt;&gt;(userService.createUsers(userDto), HttpStatus.OK);\n    } catch (MethodArgumentNotValidException e) {\n        throw new BadRequestException(&quot;YOUR MESSAGE&quot;, e); // the e in parameter to get the root cause if you send message from your validation\n    } catch (Exception e) {\n        throw new InternalServerErrorException(&quot;YOUR MESSAGE&quot;, e); // the e in parameter to get the root cause\n    }\n}\n</code></pre>\n<p><em>Controller Advice</em></p>\n<pre><code>@RestControllerAdvice\npublic class ExceptionControllerAdvise {\n\n    @ExceptionHandler(value = BadRequestException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; validException(BadRequestException exception) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n    }\n\n    @ExceptionHandler(value = InternalServerErrorException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; serverException(InternalServerErrorExceptionexception) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p><em>Test class</em></p>\n<pre><code>@Test\npublic void test0_createUsersWithInvalidName() {\n   \n    ...\n    \n    when(userService\n    .createUsers(userDto))\n    .thenThrow(MethodArgumentNotValidException.class);\n\n   ...\n   // Here use mockMvc instead\n}\n</code></pre>\n<p>This part of your test code will be used in your integration test:</p>\n<pre><code>UserDto dto = new UserDto();\ndto.setName(&quot;Apple&amp;sons!&quot;)\ndto.setAddress(&quot;abc&quot;);\n</code></pre>\n<p>Also, how do you construct your <code>ErrorResponse</code>?</p>\n"}],"owner":{"account_id":8472102,"reputation":119,"user_id":6354357,"display_name":"Gol. D Roger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75178791,"answer_count":1,"score":0,"last_activity_date":1674213317,"creation_date":1674155941,"question_id":75177264,"body_markdown":"I&#39;m working on a sample spring boot application that performs CRUD operations for the user.\r\n\r\nI created a user API. `UsersController.java` is the controller code.\r\n\r\n**UsersController.java**\r\n```\r\n    @PostMapping(value = &quot;/users&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE, headers = &quot;Authorization&quot;)\r\n    @ApiOperation(value = &quot;API endpoint to save users&quot;, notes = &quot;API endpoint to save users&quot;)\r\n    @ApiResponses(value = {\r\n    \t@ApiResponse(code = 200, message = ErrorConstants.OK),\r\n    \t@ApiResponse(code = 400, message = ErrorConstants.BAD_REQUEST),\r\n    \t@ApiResponse(code = 403, message = ErrorConstants.FORBIDDEN),\r\n    \t@ApiResponse(code = 500, message = ErrorConstants.INTERNAL_SERVER_ERROR) }\r\n    )\r\n    public ResponseEntity&lt;?&gt; addUsers(@Valid @RequestBody UserDto userDto) {\r\n    \ttry {\r\n    \t\treturn new ResponseEntity&lt;&gt;(userService.createUsers(userDto), HttpStatus.OK);\r\n    \t} catch (BadRequestException e) {\r\n    \t\treturn new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n    \t} catch (Exception e) {\r\n    \t\treturn new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t}\r\n    }\r\n```\r\n\r\nDTO is as below\r\n\r\n**UserDto.java** \r\n```\r\n    @JsonInclude(Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class UserDto {\r\n    \r\n    \tprivate String id;\r\n    \r\n    \t@Size(min = 4, max = 36, message = &quot;Name should be between 4 to 36 characters long.&quot;)\r\n    \t@Pattern(regexp = &quot;^[^&amp;+;=#&lt;&gt;*{}@:]*$&quot;, message = &quot;Name field Should not contain special chars&quot;)\r\n    \tprivate String name;\r\n    \r\n    \tprivate String address;\r\n    \t\r\n    \tprivate String mobileNo;\r\n    }\r\n```\r\nAs you can see, I&#39;ve added validation to the `name` field. In addition, I created a controller advise to handle the exception.\r\n\r\n**ExceptionControllerAdvise.java**\r\n```\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    \r\n    \r\n    @RestControllerAdvice\r\n    public class ExceptionControllerAdvise {\r\n    \r\n    \t@ExceptionHandler(value = MethodArgumentNotValidException.class)\r\n    \tpublic ResponseEntity&lt;ErrorResponse&gt; validException(MethodArgumentNotValidException exception) {\r\n    \t\treturn new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n    \t}\r\n    }\r\n```\r\nIf any validation exceptions are raised for the annotated fields, the above class will return an error. \r\n\r\nWhen I run the application and call the API with an invalid name (one that contains special characters), I get a 400 bad request exception.\r\n\r\nBut when I try to write junit test case for invalid data, the test case is passing. (i.e. `@Pattern` annotation is not working with junit)\r\n\r\nHere is my sample junit for testing.\r\n```\r\n    @Test\r\n    public void test0_createUsersWithInvalidName() {\r\n    \tUserDto dto = new UserDto();\r\n    \tdto.setName(&quot;Apple&amp;sons!&quot;)\r\n    \tdto.setAddress(&quot;abc&quot;);\r\n    \tResponseEntity&lt;?&gt; response = usersController.addUsers(dto)\r\n    \tassertTrue(response.getStatusCode().equals(HttpStatus.BAD_REQUEST));\r\n    }\r\n```\r\nThe above test case passes, but I receive a ``java.lang.AssertionError`` error; when I debugged this issue, I discovered that I am receiving a status of ``200 OK`` rather than ``400 BAD REQUEST``.\r\n\r\nSo, could anyone please assist me here? Thanks\r\n\r\n","title":"@Pattern annotation is not working in junit 4","body":"<p>I'm working on a sample spring boot application that performs CRUD operations for the user.</p>\n<p>I created a user API. <code>UsersController.java</code> is the controller code.</p>\n<p><strong>UsersController.java</strong></p>\n<pre><code>    @PostMapping(value = &quot;/users&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE, headers = &quot;Authorization&quot;)\n    @ApiOperation(value = &quot;API endpoint to save users&quot;, notes = &quot;API endpoint to save users&quot;)\n    @ApiResponses(value = {\n        @ApiResponse(code = 200, message = ErrorConstants.OK),\n        @ApiResponse(code = 400, message = ErrorConstants.BAD_REQUEST),\n        @ApiResponse(code = 403, message = ErrorConstants.FORBIDDEN),\n        @ApiResponse(code = 500, message = ErrorConstants.INTERNAL_SERVER_ERROR) }\n    )\n    public ResponseEntity&lt;?&gt; addUsers(@Valid @RequestBody UserDto userDto) {\n        try {\n            return new ResponseEntity&lt;&gt;(userService.createUsers(userDto), HttpStatus.OK);\n        } catch (BadRequestException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<p>DTO is as below</p>\n<p><strong>UserDto.java</strong></p>\n<pre><code>    @JsonInclude(Include.NON_NULL)\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public class UserDto {\n    \n        private String id;\n    \n        @Size(min = 4, max = 36, message = &quot;Name should be between 4 to 36 characters long.&quot;)\n        @Pattern(regexp = &quot;^[^&amp;+;=#&lt;&gt;*{}@:]*$&quot;, message = &quot;Name field Should not contain special chars&quot;)\n        private String name;\n    \n        private String address;\n        \n        private String mobileNo;\n    }\n</code></pre>\n<p>As you can see, I've added validation to the <code>name</code> field. In addition, I created a controller advise to handle the exception.</p>\n<p><strong>ExceptionControllerAdvise.java</strong></p>\n<pre><code>    import org.springframework.web.bind.MethodArgumentNotValidException;\n    import org.springframework.web.bind.annotation.ExceptionHandler;\n    \n    \n    @RestControllerAdvice\n    public class ExceptionControllerAdvise {\n    \n        @ExceptionHandler(value = MethodArgumentNotValidException.class)\n        public ResponseEntity&lt;ErrorResponse&gt; validException(MethodArgumentNotValidException exception) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n    }\n</code></pre>\n<p>If any validation exceptions are raised for the annotated fields, the above class will return an error.</p>\n<p>When I run the application and call the API with an invalid name (one that contains special characters), I get a 400 bad request exception.</p>\n<p>But when I try to write junit test case for invalid data, the test case is passing. (i.e. <code>@Pattern</code> annotation is not working with junit)</p>\n<p>Here is my sample junit for testing.</p>\n<pre><code>    @Test\n    public void test0_createUsersWithInvalidName() {\n        UserDto dto = new UserDto();\n        dto.setName(&quot;Apple&amp;sons!&quot;)\n        dto.setAddress(&quot;abc&quot;);\n        ResponseEntity&lt;?&gt; response = usersController.addUsers(dto)\n        assertTrue(response.getStatusCode().equals(HttpStatus.BAD_REQUEST));\n    }\n</code></pre>\n<p>The above test case passes, but I receive a <code>java.lang.AssertionError</code> error; when I debugged this issue, I discovered that I am receiving a status of <code>200 OK</code> rather than <code>400 BAD REQUEST</code>.</p>\n<p>So, could anyone please assist me here? Thanks</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1553157261,"post_id":55272870,"comment_id":97282953,"body_markdown":"First it would be helpful to have more information. Which Maven version, JDK version, Surefire Version do you use ? Are you using JaCoco ? How do you called Maven? etc. ?","body":"First it would be helpful to have more information. Which Maven version, JDK version, Surefire Version do you use ? Are you using JaCoco ? How do you called Maven? etc. ?"},{"owner":{"account_id":3806607,"reputation":5083,"user_id":3358488,"accept_rate":75,"display_name":"user118967"},"score":0,"creation_date":1553229258,"post_id":55272870,"comment_id":97314507,"body_markdown":"Thank you, @khmarbaise. I have updated the question with the information you requested.","body":"Thank you, @khmarbaise. I have updated the question with the information you requested."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1553343994,"post_id":55272870,"comment_id":97354526,"body_markdown":"First upgrade the plugins to the most recent versions https://maven.apache.org/plugins/","body":"First upgrade the plugins to the most recent versions <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"},{"owner":{"account_id":3806607,"reputation":5083,"user_id":3358488,"accept_rate":75,"display_name":"user118967"},"score":0,"creation_date":1553410691,"post_id":55272870,"comment_id":97369403,"body_markdown":"Yep, that solved it. I updated all the plugins I was using and the problem went away (not sure which one because I updated them all at once). Thanks!","body":"Yep, that solved it. I updated all the plugins I was using and the problem went away (not sure which one because I updated them all at once). Thanks!"},{"owner":{"account_id":74781,"reputation":981,"user_id":214715,"display_name":"tiktock"},"score":7,"creation_date":1553531234,"post_id":55272870,"comment_id":97409592,"body_markdown":"For me updating the jacoco-maven-plugin solved this issue","body":"For me updating the jacoco-maven-plugin solved this issue"},{"owner":{"account_id":2026634,"reputation":1388,"user_id":1811426,"accept_rate":70,"display_name":"Upen"},"score":1,"creation_date":1563397155,"post_id":55272870,"comment_id":100691035,"body_markdown":"@ticktock&#39;s comment is the answer i feel for this issue. Works for me as well. Jacoco version - 0.8.4, jdk 11.0.3","body":"@ticktock&#39;s comment is the answer i feel for this issue. Works for me as well. Jacoco version - 0.8.4, jdk 11.0.3"},{"owner":{"account_id":5488238,"reputation":71,"user_id":4362387,"display_name":"h3f3st0"},"score":0,"creation_date":1572255997,"post_id":55272870,"comment_id":103490654,"body_markdown":"I have run into this issue and noticed that I had a hs_err_pid23210.log file in my working directory, generated by the crash. It clearly stated at the beginnig what was the problem: `# There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (mmap) failed to map 158334976 bytes for committing reserved memory.`","body":"I have run into this issue and noticed that I had a hs_err_pid23210.log file in my working directory, generated by the crash. It clearly stated at the beginnig what was the problem: <code># There is insufficient memory for the Java Runtime Environment to continue. # Native memory allocation (mmap) failed to map 158334976 bytes for committing reserved memory.</code>"},{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":0,"creation_date":1586184144,"post_id":55272870,"comment_id":108027613,"body_markdown":"I run into this issue once, but running again make the error disappear. Strange...","body":"I run into this issue once, but running again make the error disappear. Strange..."},{"owner":{"account_id":122494,"reputation":14696,"user_id":316343,"accept_rate":62,"display_name":"Jahan Zinedine"},"score":0,"creation_date":1627239545,"post_id":55272870,"comment_id":121097680,"body_markdown":"Check out this answer: https://stackoverflow.com/a/61936537/316343","body":"Check out this answer: <a href=\"https://stackoverflow.com/a/61936537/316343\">stackoverflow.com/a/61936537/316343</a>"}],"answers":[{"tags":[],"owner":{"account_id":2138901,"reputation":2790,"user_id":1898059,"display_name":"Nemesis"},"down_vote_count":0,"up_vote_count":116,"is_accepted":true,"score":116,"last_activity_date":1567675677,"creation_date":1567675677,"answer_id":57802391,"question_id":55272870,"body_markdown":"Run in the same problem while migrating project from JAVA 8 to JAVA 11, upgrading jacoco-plugin from 0.8.1 to 0.8.4 did the job.\r\n\r\nAnalysing maven dependencies, seeing from where jacoco is pulled and then fixing the version should solve the issue.","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>Run in the same problem while migrating project from JAVA 8 to JAVA 11, upgrading jacoco-plugin from 0.8.1 to 0.8.4 did the job.</p>\n\n<p>Analysing maven dependencies, seeing from where jacoco is pulled and then fixing the version should solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":169505,"reputation":4356,"user_id":395631,"accept_rate":65,"display_name":"Petar Tahchiev"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1572468306,"creation_date":1572468306,"answer_id":58633391,"question_id":55272870,"body_markdown":"For me it was updating the failsafe plugin from 2.22.0 to 2.22.2","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>For me it was updating the failsafe plugin from 2.22.0 to 2.22.2</p>\n"},{"tags":[],"owner":{"account_id":3563578,"reputation":587,"user_id":2975780,"display_name":"jhas"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1576415500,"creation_date":1576415500,"answer_id":59344215,"question_id":55272870,"body_markdown":"What solved it for me is upgrading maven surefire plugin to 2.22.2","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>What solved it for me is upgrading maven surefire plugin to 2.22.2</p>\n"},{"tags":[],"owner":{"account_id":286835,"reputation":612,"user_id":586318,"display_name":"Werner Keil"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1578846774,"creation_date":1578846774,"answer_id":59705879,"question_id":55272870,"body_markdown":"The newer Surefire plugin versions are completely buggy and broken.\r\nfor me (tested all the way up to Java 12) the only solution was to stick with **2.20**. \r\n\r\nDon&#39;t use 2.20.1 either, that failed with a NPE, although maybe it is specific to particular tests, but I don&#39;t have time to investigate that.","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>The newer Surefire plugin versions are completely buggy and broken.\nfor me (tested all the way up to Java 12) the only solution was to stick with <strong>2.20</strong>. </p>\n\n<p>Don't use 2.20.1 either, that failed with a NPE, although maybe it is specific to particular tests, but I don't have time to investigate that.</p>\n"},{"tags":[],"owner":{"account_id":12458416,"reputation":1488,"user_id":9070798,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1592873901,"creation_date":1590070496,"answer_id":61936537,"question_id":55272870,"body_markdown":"I was running into this issue when running my Junit tests using a custom Runner. If I made any output to `System.out` or `System.err` in my custom runner or in my test class, this exact warning would show up. In my case the problem was not caused by some older Jacoco version. Updating the surefire plugin to version 2.22.2 or the more recent 3.0.0-M4 did not solve the issue. \r\n\r\n[According to the Jira issue SUREFIRE-1614](https://issues.apache.org/jira/browse/SUREFIRE-1614), the problem will be fixed in the 3.0.0-M5 release of the maven-surefire-plugin (not released as of May 21st 2020).\r\n\r\n**Update**\r\nThe Maven Surefire plugin version 3.0.0-M5 has now been released. In your `pom.xml` you can do the following:\r\n\r\n```\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;!-- Activate the use of TCP to transmit events to the plugin --&gt;\r\n        &lt;forkNode implementation=&quot;org.apache.maven.plugin.surefire.extensions.SurefireForkNodeFactory&quot;/&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\n---\r\n**Original answer**\r\n\r\nIf you cannot wait for the release of the 3.0.0-M5 plugin, you can use the &quot;SNAPSHOT&quot; version of the plugin. It did fix the issue for me. You have to enable some specific setting in the plugin so that the plugin uses TCP instead of the standard output/error to obtain the events raised in your tests. Configuration changes below: \r\n\r\nIn my `pom.xml`: \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n...\r\n  &lt;!-- Add the repository to download the &quot;SNAPSHOT&quot; of maven-surefire-plugin --&gt;\r\n  &lt;pluginRepositories&gt;\r\n    &lt;pluginRepository&gt;\r\n      &lt;id&gt;apache.snapshots&lt;/id&gt;\r\n      &lt;url&gt;https://repository.apache.org/snapshots/&lt;/url&gt;\r\n    &lt;/pluginRepository&gt;\r\n  &lt;/pluginRepositories&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n    ...\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;!-- Use the SNAPSHOT version --&gt;\r\n      &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;!-- Activate the use of TCP to transmit events to the plugin --&gt;\r\n        &lt;forkNode implementation=&quot;org.apache.maven.plugin.surefire.extensions.SurefireForkNodeFactory&quot;/&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n```","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>I was running into this issue when running my Junit tests using a custom Runner. If I made any output to <code>System.out</code> or <code>System.err</code> in my custom runner or in my test class, this exact warning would show up. In my case the problem was not caused by some older Jacoco version. Updating the surefire plugin to version 2.22.2 or the more recent 3.0.0-M4 did not solve the issue.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1614\" rel=\"noreferrer\">According to the Jira issue SUREFIRE-1614</a>, the problem will be fixed in the 3.0.0-M5 release of the maven-surefire-plugin (not released as of May 21st 2020).</p>\n<p><strong>Update</strong>\nThe Maven Surefire plugin version 3.0.0-M5 has now been released. In your <code>pom.xml</code> you can do the following:</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;!-- Activate the use of TCP to transmit events to the plugin --&gt;\n        &lt;forkNode implementation=&quot;org.apache.maven.plugin.surefire.extensions.SurefireForkNodeFactory&quot;/&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<hr />\n<p><strong>Original answer</strong></p>\n<p>If you cannot wait for the release of the 3.0.0-M5 plugin, you can use the &quot;SNAPSHOT&quot; version of the plugin. It did fix the issue for me. You have to enable some specific setting in the plugin so that the plugin uses TCP instead of the standard output/error to obtain the events raised in your tests. Configuration changes below:</p>\n<p>In my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n...\n  &lt;!-- Add the repository to download the &quot;SNAPSHOT&quot; of maven-surefire-plugin --&gt;\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;id&gt;apache.snapshots&lt;/id&gt;\n      &lt;url&gt;https://repository.apache.org/snapshots/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n    ...\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;!-- Use the SNAPSHOT version --&gt;\n      &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;!-- Activate the use of TCP to transmit events to the plugin --&gt;\n        &lt;forkNode implementation=&quot;org.apache.maven.plugin.surefire.extensions.SurefireForkNodeFactory&quot;/&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607352729,"creation_date":1607352729,"answer_id":65183986,"question_id":55272870,"body_markdown":"I was getting this error when running Maven build in Intelij Idea. I had a couple of projects open in separate windows and had other strange errors in a different project.\r\n\r\nSolved for me by closing all the Intellij Idea windows and re-opening the project. No dependencies versions were changed.","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>I was getting this error when running Maven build in Intelij Idea. I had a couple of projects open in separate windows and had other strange errors in a different project.</p>\n<p>Solved for me by closing all the Intellij Idea windows and re-opening the project. No dependencies versions were changed.</p>\n"},{"tags":[],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614777779,"creation_date":1614777779,"answer_id":66457972,"question_id":55272870,"body_markdown":"For me it was upgrading `org.testng` to the latest version (`7.3.0`)","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>For me it was upgrading <code>org.testng</code> to the latest version (<code>7.3.0</code>)</p>\n"},{"tags":[],"owner":{"account_id":1927606,"reputation":31,"user_id":1737696,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615121896,"creation_date":1615121007,"answer_id":66516642,"question_id":55272870,"body_markdown":"None of the listed answers helped in our case. The issue began after we&#39;ve upgraded from Java 8 to Java 11.\r\n\r\nNote: updating Surefire plugin was not possible in our case since it has broken some mechanisms the tests in our projects rely on - inspecting the issue took too long so we started identifying the root cause in Jacoco for that behaviour.\r\n\r\nAfter some debugging and JVM dumps we found the cause: in our case we had JavaFX dependencies on the classpath which were loaded automatically by a resolver util. Loading these classes with jacoco enabled led to the JVM crash (without jacoco - encapsulated in a profile &quot;coverage&quot; in our case - did run fine). Excluding the loading of classes from JavaFX libraries (were not needed in our case) fixed the issue. Tests are running fine now without JVM crashs.\r\n\r\nThe exact class that led to the JVM crash (or at least the last that were loaded before) was in our case: com.sun.javafx.logging.jfr.JFRPulsePhaseEvent\r\nJar: javafx-base-12-win.jar\r\n\r\nHint: in many IDEs you can debug the Maven build with specific profile and check what is going on exactly.\r\n\r\nUsing Jacoco 0.8.6 and Surefire plugin 2.22.2 ","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>None of the listed answers helped in our case. The issue began after we've upgraded from Java 8 to Java 11.</p>\n<p>Note: updating Surefire plugin was not possible in our case since it has broken some mechanisms the tests in our projects rely on - inspecting the issue took too long so we started identifying the root cause in Jacoco for that behaviour.</p>\n<p>After some debugging and JVM dumps we found the cause: in our case we had JavaFX dependencies on the classpath which were loaded automatically by a resolver util. Loading these classes with jacoco enabled led to the JVM crash (without jacoco - encapsulated in a profile &quot;coverage&quot; in our case - did run fine). Excluding the loading of classes from JavaFX libraries (were not needed in our case) fixed the issue. Tests are running fine now without JVM crashs.</p>\n<p>The exact class that led to the JVM crash (or at least the last that were loaded before) was in our case: com.sun.javafx.logging.jfr.JFRPulsePhaseEvent\nJar: javafx-base-12-win.jar</p>\n<p>Hint: in many IDEs you can debug the Maven build with specific profile and check what is going on exactly.</p>\n<p>Using Jacoco 0.8.6 and Surefire plugin 2.22.2</p>\n"},{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1615856990,"creation_date":1615856049,"answer_id":66647687,"question_id":55272870,"body_markdown":"If you are unable to upgrade to the latest JaCoCo version, I was also able to fix this for my project by setting `forkCount` to `0`:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.22.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>If you are unable to upgrade to the latest JaCoCo version, I was also able to fix this for my project by setting <code>forkCount</code> to <code>0</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.22.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;forkCount&gt;0&lt;/forkCount&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619809864,"creation_date":1619809864,"answer_id":67339296,"question_id":55272870,"body_markdown":"This issue happens to me too at random\r\n\r\nI&#39;m using\r\n\r\n    IntelliJ IDEA 2020 (Community Edition)\r\n    Surefire plugin (3.0.0-M5)\r\n    Maven 3.3.9\r\n    AdoptOpenJDK 11\r\n\r\nAnd when it happens usually Windows 10 after several minutes shows\r\na beautiful blue screen of death.\r\n\r\nAnd then after a restart everything goes back to normal\r\n\r\n","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>This issue happens to me too at random</p>\n<p>I'm using</p>\n<pre><code>IntelliJ IDEA 2020 (Community Edition)\nSurefire plugin (3.0.0-M5)\nMaven 3.3.9\nAdoptOpenJDK 11\n</code></pre>\n<p>And when it happens usually Windows 10 after several minutes shows\na beautiful blue screen of death.</p>\n<p>And then after a restart everything goes back to normal</p>\n"},{"tags":[],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625518981,"creation_date":1625518981,"answer_id":68262083,"question_id":55272870,"body_markdown":"In my case I moved my development to a new PC and didn&#39;t have all our company library-dependencies in my Maven-repo yet. So when Maven ran there was such a library missing and I had to install it with `mvn install:install-file ...`.\r\n\r\nTherefore, it&#39;s important to read the latest surefire-logs as it suggests those things.\r\n\r\nNo idea, why the surefire-plugin doesn&#39;t just print that conflicting line on STDOUT to the console, so it would be obvious in less than a second.","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>In my case I moved my development to a new PC and didn't have all our company library-dependencies in my Maven-repo yet. So when Maven ran there was such a library missing and I had to install it with <code>mvn install:install-file ...</code>.</p>\n<p>Therefore, it's important to read the latest surefire-logs as it suggests those things.</p>\n<p>No idea, why the surefire-plugin doesn't just print that conflicting line on STDOUT to the console, so it would be obvious in less than a second.</p>\n"},{"tags":[],"owner":{"account_id":175636,"reputation":4009,"user_id":405793,"accept_rate":62,"display_name":"Benjamin Peter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644576689,"creation_date":1644576689,"answer_id":71078879,"question_id":55272870,"body_markdown":"We are using log4j backend and could also fix it using `follow` set to `true`.\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${messagePattern}&quot; /&gt;\r\n            &lt;follow&gt;true&lt;/follow&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n*(We had the same error message but without jacoco being involved. But I can confirm that setting the `forkNode` in `maven-surefire-plugin` to TCP did also work.)*","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>We are using log4j backend and could also fix it using <code>follow</code> set to <code>true</code>.</p>\n<pre><code>&lt;Appenders&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n        &lt;PatternLayout pattern=&quot;${messagePattern}&quot; /&gt;\n        &lt;follow&gt;true&lt;/follow&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n</code></pre>\n<p><em>(We had the same error message but without jacoco being involved. But I can confirm that setting the <code>forkNode</code> in <code>maven-surefire-plugin</code> to TCP did also work.)</em></p>\n"},{"tags":[],"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674212481,"creation_date":1674212481,"answer_id":75183137,"question_id":55272870,"body_markdown":"We faced the same problem (OpenJDK 64-Bit Server VM Temurin-11.0.17+8 (11.0.17+8, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)). We already had a jacoco-plugin version of 0.8.5. A downgrade to 0.8.4 did not help. We dug deepter into the dump file and it (i.e., the gitlab runner) spit out:\r\n\r\n&gt; Corrupted STDOUT by directly writing to native stream in forked JVM 1. Stream &#39;# /builds/mygroup/myproject/hs_err_pid114.log&#39;.\r\n\r\nIn that file we discovered\r\n\r\n&gt; Internal Error (sharedRuntime.cpp:1262), pid=114, tid=115\r\n&gt; guarantee((retry_count++ &lt; 100)) failed: Could not resolve to latest version of redefined method\r\n\r\n... which lead to this bug issue: [https://bugs.openjdk.org/browse/JDK-6776659][1]\r\n\r\nThe issue should be fixed in Java 16. Upgrading at this point was not possible. Luckily, the thread creator provided a workaround:\r\n\r\n&gt; CUSTOMER SUBMITTED WORKAROUND :\r\n&gt; -Xint or -server\r\n\r\nAs we were running a maven docker image in the gitlab runner, we had to set the `forkCount` to `0` in the maven surefire plugin configuration:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThat solved the VM crash. Unfortunately, we also had a testcoverage check (JaCoCo) and that was no longer working, as the surefire plugin created a separate VM for e.g., test classes instrumentatlization.\r\n\r\n&gt; target/site/jacoco/jacoco.csv: No such file or directory\r\n\r\nFinally, we had to use the `argLine` configuration of surefire ([2], [3])\r\n\r\n    &lt;configuration&gt;\r\n      &lt;argLine&gt;-Xint ${argLine}&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n\r\n.. and it worked.\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-6776659\r\n  [2]: https://stackoverflow.com/questions/49581414/jacoco-doesnt-produce-coverage-reports\r\n  [3]: https://stackoverflow.com/questions/61371824/jacoco-report-jeneration-failed-when-i-added-argline-property-to-surefire-plug?noredirect=1&amp;lq=1","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>We faced the same problem (OpenJDK 64-Bit Server VM Temurin-11.0.17+8 (11.0.17+8, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)). We already had a jacoco-plugin version of 0.8.5. A downgrade to 0.8.4 did not help. We dug deepter into the dump file and it (i.e., the gitlab runner) spit out:</p>\n<blockquote>\n<p>Corrupted STDOUT by directly writing to native stream in forked JVM 1. Stream '# /builds/mygroup/myproject/hs_err_pid114.log'.</p>\n</blockquote>\n<p>In that file we discovered</p>\n<blockquote>\n<p>Internal Error (sharedRuntime.cpp:1262), pid=114, tid=115\nguarantee((retry_count++ &lt; 100)) failed: Could not resolve to latest version of redefined method</p>\n</blockquote>\n<p>... which lead to this bug issue: <a href=\"https://bugs.openjdk.org/browse/JDK-6776659\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6776659</a></p>\n<p>The issue should be fixed in Java 16. Upgrading at this point was not possible. Luckily, the thread creator provided a workaround:</p>\n<blockquote>\n<p>CUSTOMER SUBMITTED WORKAROUND :\n-Xint or -server</p>\n</blockquote>\n<p>As we were running a maven docker image in the gitlab runner, we had to set the <code>forkCount</code> to <code>0</code> in the maven surefire plugin configuration:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;forkCount&gt;0&lt;/forkCount&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>That solved the VM crash. Unfortunately, we also had a testcoverage check (JaCoCo) and that was no longer working, as the surefire plugin created a separate VM for e.g., test classes instrumentatlization.</p>\n<blockquote>\n<p>target/site/jacoco/jacoco.csv: No such file or directory</p>\n</blockquote>\n<p>Finally, we had to use the <code>argLine</code> configuration of surefire (<a href=\"https://stackoverflow.com/questions/49581414/jacoco-doesnt-produce-coverage-reports\">2</a>, <a href=\"https://stackoverflow.com/questions/61371824/jacoco-report-jeneration-failed-when-i-added-argline-property-to-surefire-plug?noredirect=1&amp;lq=1\">3</a>)</p>\n<pre><code>&lt;configuration&gt;\n  &lt;argLine&gt;-Xint ${argLine}&lt;/argLine&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>.. and it worked.</p>\n"}],"owner":{"account_id":3806607,"reputation":5083,"user_id":3358488,"accept_rate":75,"display_name":"user118967"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82059,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":57802391,"answer_count":13,"score":96,"last_activity_date":1674212481,"creation_date":1553134819,"question_id":55272870,"body_markdown":"My JUnit tests are failing when running them through Maven and the Surefire plugin (version information below). I see the error message:\n\n    Corrupted STDOUT by directly writing to native stream in forked JVM 4. See FAQ web page and the dump file C:\\(...)\\target\\surefire-reports\\2019-03-20T18-57-17_082-jvmRun4.dumpstream\n\nThe FAQ page points out some possible reasons but I don&#39;t see how I can use this information to start solving this problem:\n\n&gt; Corrupted STDOUT by directly writing to native stream in forked JVM\n&gt;\n&gt; If your tests use native library which prints to STDOUT this warning message appears because the library corrupted the channel used by the plugin in order to transmit events with test status back to Maven process. It would be even worse if you override the Java stream by System.setOut because the stream is also supposed to be corrupted but the Maven will never see the tests finished and build may hang.\n&gt;\n&gt; This warning message appears if you use FileDescriptor.out or JVM prints GC summary.\n&gt;\n&gt; In that case the warning is printed &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;, and a dump file can be found in Reports directory.\n&gt;\n&gt; If debug level is enabled then messages of corrupted stream appear in the console. \n\n\nIt refers to some native library printing out to STDOUT directly but how can I figure out which one, and even if I do, how do I deal with this issue if I need the library for my project?\n\nIt mentions &quot;debug level&quot; but it is unclear if this means Maven&#39;s debug level or Surefire plugin&#39;s debug level. I enabled Maven&#39;s debug but I don&#39;t see the console outputs as mentioned by the FAQ. And Surefire&#39;s debug option seems to be about pausing tests and waiting for a debugger to be connected to the process, not simply showing more information on the console.\n\nThe dump files also don&#39;t seem very helpful:\n\n    # Created on 2019-03-20T18:42:58.323\n    Corrupted STDOUT by directly writing to native stream in forked JVM 2. Stream &#39;FATAL ERROR in native method: processing of -javaagent failed&#39;.\n    java.lang.IllegalArgumentException: Stream stdin corrupted. Expected comma after third character in command &#39;FATAL ERROR in native method: processing of -javaagent failed&#39;.\n        at org.apache.maven.plugin.surefire.booterclient.output.ForkClient$OperationalData.&lt;init&gt;(ForkClient.java:511)\n        at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.processLine(ForkClient.java:209)\n        at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.consumeLine(ForkClient.java:176)\n        at org.apache.maven.plugin.surefire.booterclient.output.ThreadedStreamConsumer$Pumper.run(ThreadedStreamConsumer.java:88)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\nSo, how can I solve this problem?\n\n**Update**: requested configuration information below.\n\nI&#39;m using OpenJDK 11 (Zulu distribution) on Windows 10, Maven 3.5.3, and Surefire 2.21.0 (full configuration below).\n\nI&#39;m running Maven from Eclipse using the &quot;Run As...&quot; context menu option on the `pom.xml` file, but obtain the same results when running it on the console.\n\nI had never heard of JaCoco before the first comment to this question, but I see several error messages mentioning it:\n\n    [ERROR] ExecutionException The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n    [ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Zulu\\zulu-11\\bin\\java&quot; -javaagent:C:\\\\Users\\\\E26638\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.0\\\\org.jacoco.agent-0.8.0-runtime.jar=destfile=C:\\\\Users\\\\E26638\\\\git\\\\aic-expresso\\\\target\\\\jacoco.exec -Xms256m -Xmx1028m -jar C:\\Users\\E26638\\AppData\\Local\\Temp\\surefire10089630030045878403\\surefirebooter8801585361488929382.jar C:\\Users\\E26638\\AppData\\Local\\Temp\\surefire10089630030045878403 2019-03-21T21-26-04_829-jvmRun12 surefire10858509118810158083tmp surefire_115439010304069944813tmp&quot;\n    [ERROR] Error occurred in starting fork, check output in log\n    [ERROR] Process Exit Code: 1\n\nThis is the Surefire Maven plugin configuration:\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\n                &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                &lt;forkCount&gt;1.5C&lt;/forkCount&gt;\n                &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                &lt;parallel&gt;methods&lt;/parallel&gt;\n                &lt;threadCount&gt;4&lt;/threadCount&gt;\n                &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n                &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\n                &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n\n\n\n\n","title":"Surefire Maven plugin: &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;","body":"<p>My JUnit tests are failing when running them through Maven and the Surefire plugin (version information below). I see the error message:</p>\n<pre><code>Corrupted STDOUT by directly writing to native stream in forked JVM 4. See FAQ web page and the dump file C:\\(...)\\target\\surefire-reports\\2019-03-20T18-57-17_082-jvmRun4.dumpstream\n</code></pre>\n<p>The FAQ page points out some possible reasons but I don't see how I can use this information to start solving this problem:</p>\n<blockquote>\n<p>Corrupted STDOUT by directly writing to native stream in forked JVM</p>\n<p>If your tests use native library which prints to STDOUT this warning message appears because the library corrupted the channel used by the plugin in order to transmit events with test status back to Maven process. It would be even worse if you override the Java stream by System.setOut because the stream is also supposed to be corrupted but the Maven will never see the tests finished and build may hang.</p>\n<p>This warning message appears if you use FileDescriptor.out or JVM prints GC summary.</p>\n<p>In that case the warning is printed &quot;Corrupted STDOUT by directly writing to native stream in forked JVM&quot;, and a dump file can be found in Reports directory.</p>\n<p>If debug level is enabled then messages of corrupted stream appear in the console.</p>\n</blockquote>\n<p>It refers to some native library printing out to STDOUT directly but how can I figure out which one, and even if I do, how do I deal with this issue if I need the library for my project?</p>\n<p>It mentions &quot;debug level&quot; but it is unclear if this means Maven's debug level or Surefire plugin's debug level. I enabled Maven's debug but I don't see the console outputs as mentioned by the FAQ. And Surefire's debug option seems to be about pausing tests and waiting for a debugger to be connected to the process, not simply showing more information on the console.</p>\n<p>The dump files also don't seem very helpful:</p>\n<pre><code># Created on 2019-03-20T18:42:58.323\nCorrupted STDOUT by directly writing to native stream in forked JVM 2. Stream 'FATAL ERROR in native method: processing of -javaagent failed'.\njava.lang.IllegalArgumentException: Stream stdin corrupted. Expected comma after third character in command 'FATAL ERROR in native method: processing of -javaagent failed'.\n    at org.apache.maven.plugin.surefire.booterclient.output.ForkClient$OperationalData.&lt;init&gt;(ForkClient.java:511)\n    at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.processLine(ForkClient.java:209)\n    at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.consumeLine(ForkClient.java:176)\n    at org.apache.maven.plugin.surefire.booterclient.output.ThreadedStreamConsumer$Pumper.run(ThreadedStreamConsumer.java:88)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>So, how can I solve this problem?</p>\n<p><strong>Update</strong>: requested configuration information below.</p>\n<p>I'm using OpenJDK 11 (Zulu distribution) on Windows 10, Maven 3.5.3, and Surefire 2.21.0 (full configuration below).</p>\n<p>I'm running Maven from Eclipse using the &quot;Run As...&quot; context menu option on the <code>pom.xml</code> file, but obtain the same results when running it on the console.</p>\n<p>I had never heard of JaCoco before the first comment to this question, but I see several error messages mentioning it:</p>\n<pre><code>[ERROR] ExecutionException The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Zulu\\zulu-11\\bin\\java&quot; -javaagent:C:\\\\Users\\\\E26638\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.0\\\\org.jacoco.agent-0.8.0-runtime.jar=destfile=C:\\\\Users\\\\E26638\\\\git\\\\aic-expresso\\\\target\\\\jacoco.exec -Xms256m -Xmx1028m -jar C:\\Users\\E26638\\AppData\\Local\\Temp\\surefire10089630030045878403\\surefirebooter8801585361488929382.jar C:\\Users\\E26638\\AppData\\Local\\Temp\\surefire10089630030045878403 2019-03-21T21-26-04_829-jvmRun12 surefire10858509118810158083tmp surefire_115439010304069944813tmp&quot;\n[ERROR] Error occurred in starting fork, check output in log\n[ERROR] Process Exit Code: 1\n</code></pre>\n<p>This is the Surefire Maven plugin configuration:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;\n            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n            &lt;forkCount&gt;1.5C&lt;/forkCount&gt;\n            &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n            &lt;parallel&gt;methods&lt;/parallel&gt;\n            &lt;threadCount&gt;4&lt;/threadCount&gt;\n            &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n            &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\n            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n            &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","logging","logback","tinylog"],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674211737,"creation_date":1674211737,"question_id":75182996,"body_markdown":"As a developer I want to have an ability to implicitly or explicitly call particular writer, not all of them. Similar to how logback&#39;s name property works. It allows you to assign particular logger(class) to particular appender e.g.\r\n\r\n&lt;logger name=&quot;com.example.logger.EventLogger&quot;&gt;\r\n    &lt;appender-ref ref=&quot;EVENTS_ASYNC&quot;/&gt;\r\n&lt;/logger&gt;\r\n\r\nIs it be possible to achieve it in tinylog2?","title":"Ability to apply specific tinylog writer","body":"<p>As a developer I want to have an ability to implicitly or explicitly call particular writer, not all of them. Similar to how logback's name property works. It allows you to assign particular logger(class) to particular appender e.g.</p>\n\n    \n\n<p>Is it be possible to achieve it in tinylog2?</p>\n"},{"tags":["java","sonarlint","pecs"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674211602,"creation_date":1674211128,"answer_id":75182884,"question_id":75182228,"body_markdown":"A `DataContainer&lt;ExtendedData&gt;` is not assignable to `DataContainer&lt;Data&gt;`. But since `DataContainer` is a producer, it makes sense to use `? extends Data` here (the PE in PECS), as both types can produce a value of type `Data`:\r\n\r\n```java\r\nDataContainer&lt;ExtendedData&gt; a = new DataContainer&lt;&gt;(new ExtendedData());\r\nDataContainer&lt;Data&gt; b = new DataContainer&lt;&gt;(new Data());\r\n\r\nDataContainer&lt;? extends Data&gt; a2 = a, b2 = b;\r\n\r\nData d1 = a2.getData(), d2 = b2.getData();\r\n```\r\n\r\n---\r\n\r\nIn other words, both, `DataContainer&lt;ExtendedData&gt;` and `DataContainer&lt;Data&gt;`, are *subtypes* of `DataContainer&lt;? extends Data&gt;`. The fact that the class `DataContainer` is `final` is irrelevant.\r\n\r\nSo, the Sonar warning is wrong here. Suggesting to avoid final classes as upper bound only makes sense if the final class is not generic.\r\n\r\n---\r\n\r\nThe same reasoning about `DataContainer&lt;ExtendedData&gt;` not being assignable to `DataContainer&lt;Data&gt;` despite `ExtendedData` is a subclass of `Data` applies to a `List` of generic types.\r\n\r\n`DataContainer&lt;ExtendedData&gt;` is a subtype of `DataContainer&lt;? extends Data&gt;` but a `List&lt;DataContainer&lt;ExtendedData&gt;` is not assignable to `List&lt;DataContainer&lt;? extends Data&gt;&gt;`.\r\n\r\nYou have to resort to `? extends` when the list acts as a producer, i.e. allows you to get `DataContainer&lt;? extends Data&gt;` elements from it.\r\n\r\n```java\r\nList&lt;DataContainer&lt;ExtendedData&gt;&gt; list1\r\n    = Collections.singletonList(new DataContainer&lt;&gt;(new ExtendedData()));\r\nList&lt;DataContainer&lt;Data&gt;&gt; list2\r\n    = Collections.singletonList(new DataContainer&lt;&gt;(new Data()));\r\n\r\n// List&lt;DataContainer&lt;? extends Data&gt;&gt; list3 = list1; // does not compile\r\n// List&lt;DataContainer&lt;? extends Data&gt;&gt; list4 = list2; // neither does this\r\n\r\n// both lists can act as producer of DataContainer&lt;? extends Data&gt;\r\nList&lt;? extends DataContainer&lt;? extends Data&gt;&gt; list3 = list1; \r\nData d3 = list3.get(0).getData();\r\nList&lt;? extends DataContainer&lt;? extends Data&gt;&gt; list4 = list2;\r\nData d4 = list4.get(0).getData();\r\n```\r\n\r\nNote that since `DataContainer&lt;Data&gt;` and `DataContainer&lt;ExtendedData&gt;` are distinct types, neither being a subtype of the other, there is no way to define a common consumer type for `List&lt;DataContainer&lt;Data&gt;&gt;` and `List&lt;DataContainer&lt;ExtendedData&gt;&gt;` that allows to add elements of both types.\r\n\r\n---\r\n\r\nKeep in mind that with invocation type inference, results may seem to contradict these rules at the first glance. For example, when you write\r\n\r\n```java\r\nList&lt;DataContainer&lt;Data&gt;&gt; list\r\n    = Collections.singletonList(new DataContainer&lt;&gt;(new ExtendedData()));\r\n```\r\n\r\nyou get no error. Not because you can add a `DataContainer&lt;ExtendedData&gt;` to a `List&lt;DataContainer&lt;Data&gt;` but because in this case, the compiler inferred `DataContainer&lt;Data&gt;` as the type to construct. And passing an instance of `ExtendedData` to the constructor of `DataContainer&lt;Data&gt;` is valid.\r\n","title":"Java possibly requiring unnecessary extends keyword in PECS construction","body":"<p>A <code>DataContainer&lt;ExtendedData&gt;</code> is not assignable to <code>DataContainer&lt;Data&gt;</code>. But since <code>DataContainer</code> is a producer, it makes sense to use <code>? extends Data</code> here (the PE in PECS), as both types can produce a value of type <code>Data</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataContainer&lt;ExtendedData&gt; a = new DataContainer&lt;&gt;(new ExtendedData());\nDataContainer&lt;Data&gt; b = new DataContainer&lt;&gt;(new Data());\n\nDataContainer&lt;? extends Data&gt; a2 = a, b2 = b;\n\nData d1 = a2.getData(), d2 = b2.getData();\n</code></pre>\n<hr />\n<p>In other words, both, <code>DataContainer&lt;ExtendedData&gt;</code> and <code>DataContainer&lt;Data&gt;</code>, are <em>subtypes</em> of <code>DataContainer&lt;? extends Data&gt;</code>. The fact that the class <code>DataContainer</code> is <code>final</code> is irrelevant.</p>\n<p>So, the Sonar warning is wrong here. Suggesting to avoid final classes as upper bound only makes sense if the final class is not generic.</p>\n<hr />\n<p>The same reasoning about <code>DataContainer&lt;ExtendedData&gt;</code> not being assignable to <code>DataContainer&lt;Data&gt;</code> despite <code>ExtendedData</code> is a subclass of <code>Data</code> applies to a <code>List</code> of generic types.</p>\n<p><code>DataContainer&lt;ExtendedData&gt;</code> is a subtype of <code>DataContainer&lt;? extends Data&gt;</code> but a <code>List&lt;DataContainer&lt;ExtendedData&gt;</code> is not assignable to <code>List&lt;DataContainer&lt;? extends Data&gt;&gt;</code>.</p>\n<p>You have to resort to <code>? extends</code> when the list acts as a producer, i.e. allows you to get <code>DataContainer&lt;? extends Data&gt;</code> elements from it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;DataContainer&lt;ExtendedData&gt;&gt; list1\n    = Collections.singletonList(new DataContainer&lt;&gt;(new ExtendedData()));\nList&lt;DataContainer&lt;Data&gt;&gt; list2\n    = Collections.singletonList(new DataContainer&lt;&gt;(new Data()));\n\n// List&lt;DataContainer&lt;? extends Data&gt;&gt; list3 = list1; // does not compile\n// List&lt;DataContainer&lt;? extends Data&gt;&gt; list4 = list2; // neither does this\n\n// both lists can act as producer of DataContainer&lt;? extends Data&gt;\nList&lt;? extends DataContainer&lt;? extends Data&gt;&gt; list3 = list1; \nData d3 = list3.get(0).getData();\nList&lt;? extends DataContainer&lt;? extends Data&gt;&gt; list4 = list2;\nData d4 = list4.get(0).getData();\n</code></pre>\n<p>Note that since <code>DataContainer&lt;Data&gt;</code> and <code>DataContainer&lt;ExtendedData&gt;</code> are distinct types, neither being a subtype of the other, there is no way to define a common consumer type for <code>List&lt;DataContainer&lt;Data&gt;&gt;</code> and <code>List&lt;DataContainer&lt;ExtendedData&gt;&gt;</code> that allows to add elements of both types.</p>\n<hr />\n<p>Keep in mind that with invocation type inference, results may seem to contradict these rules at the first glance. For example, when you write</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;DataContainer&lt;Data&gt;&gt; list\n    = Collections.singletonList(new DataContainer&lt;&gt;(new ExtendedData()));\n</code></pre>\n<p>you get no error. Not because you can add a <code>DataContainer&lt;ExtendedData&gt;</code> to a <code>List&lt;DataContainer&lt;Data&gt;</code> but because in this case, the compiler inferred <code>DataContainer&lt;Data&gt;</code> as the type to construct. And passing an instance of <code>ExtendedData</code> to the constructor of <code>DataContainer&lt;Data&gt;</code> is valid.</p>\n"}],"owner":{"account_id":1308925,"reputation":1067,"user_id":1257349,"accept_rate":30,"display_name":"meijuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75182884,"answer_count":1,"score":1,"last_activity_date":1674211602,"creation_date":1674207735,"question_id":75182228,"body_markdown":"I have a code example where Java forces me to use the `extends` keyword on a class that is final in a PECS construction. I do not understand why exactly. The code can be found below or at https://onecompiler.com/java/3yvf4g97f. The compiler fails to compile method named `process`. If I remove method `process` then SonarLint will trigger a violation of rule https://rules.sonarsource.com/java/RSPEC-4968 for method named `processPecs`. Which seems reasonable, or is this a false positive? Is there a better approach for &quot;processing arbitrary data&quot;? Do I need to suppress SonarLint&#39;s warning here and file a bug report for SonarLint?\r\n\r\n```\r\nimport java.util.List;\r\n\r\nclass PecsTest {\r\n  static final class DataContainer&lt;D&gt; {\r\n  \r\n      final D data;\r\n      \r\n      public DataContainer(D data) {\r\n          this.data = data;\r\n      }    \r\n  \r\n      D getData() {\r\n          return data;\r\n      }\r\n  }\r\n  \r\n  static class Processor&lt;D&gt; {\r\n  \r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      List&lt;DataContainer&lt;D&gt;&gt; processPecs(List&lt;? extends DataContainer&lt;? super D&gt;&gt; list) {\r\n        return (List&lt;DataContainer&lt;D&gt;&gt;) list;\r\n      }\r\n      \r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      List&lt;DataContainer&lt;D&gt;&gt; process(List&lt;DataContainer&lt;? super D&gt;&gt; list) {\r\n        return (List&lt;DataContainer&lt;D&gt;&gt;) list;\r\n      }\r\n  }\r\n  \r\n  static class Data {\r\n  }\r\n  \r\n  static class ExtendedData extends Data {\r\n  }\r\n  \r\n  public static void main(String[] args) {\r\n    new Processor&lt;Data&gt;().processPecs(List.of(new DataContainer&lt;&gt;(new ExtendedData())));\r\n    new Processor&lt;ExtendedData&gt;().processPecs(List.of(new DataContainer&lt;&gt;(new Data())));\r\n  }\r\n}\r\n```","title":"Java possibly requiring unnecessary extends keyword in PECS construction","body":"<p>I have a code example where Java forces me to use the <code>extends</code> keyword on a class that is final in a PECS construction. I do not understand why exactly. The code can be found below or at <a href=\"https://onecompiler.com/java/3yvf4g97f\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3yvf4g97f</a>. The compiler fails to compile method named <code>process</code>. If I remove method <code>process</code> then SonarLint will trigger a violation of rule <a href=\"https://rules.sonarsource.com/java/RSPEC-4968\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-4968</a> for method named <code>processPecs</code>. Which seems reasonable, or is this a false positive? Is there a better approach for &quot;processing arbitrary data&quot;? Do I need to suppress SonarLint's warning here and file a bug report for SonarLint?</p>\n<pre><code>import java.util.List;\n\nclass PecsTest {\n  static final class DataContainer&lt;D&gt; {\n  \n      final D data;\n      \n      public DataContainer(D data) {\n          this.data = data;\n      }    \n  \n      D getData() {\n          return data;\n      }\n  }\n  \n  static class Processor&lt;D&gt; {\n  \n      @SuppressWarnings(&quot;unchecked&quot;)\n      List&lt;DataContainer&lt;D&gt;&gt; processPecs(List&lt;? extends DataContainer&lt;? super D&gt;&gt; list) {\n        return (List&lt;DataContainer&lt;D&gt;&gt;) list;\n      }\n      \n      @SuppressWarnings(&quot;unchecked&quot;)\n      List&lt;DataContainer&lt;D&gt;&gt; process(List&lt;DataContainer&lt;? super D&gt;&gt; list) {\n        return (List&lt;DataContainer&lt;D&gt;&gt;) list;\n      }\n  }\n  \n  static class Data {\n  }\n  \n  static class ExtendedData extends Data {\n  }\n  \n  public static void main(String[] args) {\n    new Processor&lt;Data&gt;().processPecs(List.of(new DataContainer&lt;&gt;(new ExtendedData())));\n    new Processor&lt;ExtendedData&gt;().processPecs(List.of(new DataContainer&lt;&gt;(new Data())));\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674211351,"creation_date":1674211351,"answer_id":75182937,"question_id":75182748,"body_markdown":"When a priority is deleted, every priority greater than that should be decremented.\r\n\r\n```\r\ndb.collection.updateMany({priority: {$gt: deletedPriority}},{$inc: {priority: -1}})\r\n```","title":"How can I update priority list after deleting a record in MongoDB using Spring Boot?","body":"<p>When a priority is deleted, every priority greater than that should be decremented.</p>\n<pre><code>db.collection.updateMany({priority: {$gt: deletedPriority}},{$inc: {priority: -1}})\n</code></pre>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75182937,"answer_count":1,"score":1,"last_activity_date":1674211579,"creation_date":1674210492,"question_id":75182748,"body_markdown":"I have a Spring Boot application connected to a MongoDB. In the MongoDB I have a collections called `configurations` with the following documents:\r\n\r\n    _id: ObjectId(&#39;6231984016d57c64884c8e52&#39;)\r\n    name: Gio\r\n    priority: 1\r\n\r\n    _id: ObjectId(&#39;61f2a0351a7b18283fc5ce9b&#39;)\r\n    name: Blamee\r\n    priority: 2\r\n\r\n    _id: ObjectId(&#39;61f39f8ae2daa732deff6d90&#39;)\r\n    name: Lonic\r\n    priority: 3\r\n\r\n    _id: ObjectId(&#39;61e56339b528bf009feca149&#39;)\r\n    name: TechRaz\r\n    priority: 4\r\n\r\n    _id: ObjectId(&#39;62013a86b6b62621b529bed4&#39;)\r\n    name: Gild\r\n    priority: 5\r\n\r\nAll the documents have a unique priority. From the user interface you can change the priority from a list where you can drag and drop the configs to the priority you wish. However the issue I have is that when a configuration is deleted (you can only delete one configuration at a time), a hole is created in the priority index. I want to know how I can make some code that closes the priority gap when a config is deleted, so if &quot;Lonic&quot; is deleted I want the priorities to change like this:\r\n\r\n    _id: ObjectId(&#39;6231984016d57c64884c8e52&#39;)\r\n    name: Gio\r\n    priority: 1\r\n\r\n    _id: ObjectId(&#39;61f2a0351a7b18283fc5ce9b&#39;)\r\n    name: Blamee\r\n    priority: 2\r\n\r\n    _id: ObjectId(&#39;61e56339b528bf009feca149&#39;)\r\n    name: TechRaz\r\n    priority: 3\r\n\r\n    _id: ObjectId(&#39;62013a86b6b62621b529bed4&#39;)\r\n    name: Gild\r\n    priority: 4\r\n\r\nThis is what I&#39;ve tried:\r\n\r\nAfter deleting the configuration I say:\r\n\r\n    Query query = new Query();\r\n    query.with(Sort.by(Sort.Direction.asc, &quot;priority&quot;));\r\n    List&lt;Configuration&gt; remainingConfigsAfterDelete =  mongoTemplate.find(query, Configuration.class);\r\n\r\n    for (int i = 1; i+1 &lt; remainingConfigsAfterDelete.size(); i++) {\r\n        remainingConfigsAfterDelete.get(i).setPriority(i);\r\n    }\r\n\r\nAnd then somehow update all the priorities using bulkOperations or something. The first priority has to start at 1 not 0. I just feel like I&#39;m overdoing it here. There gotta be an easier way to do this.\r\n\r\n","title":"How can I update priority list after deleting a record in MongoDB using Spring Boot?","body":"<p>I have a Spring Boot application connected to a MongoDB. In the MongoDB I have a collections called <code>configurations</code> with the following documents:</p>\n<pre><code>_id: ObjectId('6231984016d57c64884c8e52')\nname: Gio\npriority: 1\n\n_id: ObjectId('61f2a0351a7b18283fc5ce9b')\nname: Blamee\npriority: 2\n\n_id: ObjectId('61f39f8ae2daa732deff6d90')\nname: Lonic\npriority: 3\n\n_id: ObjectId('61e56339b528bf009feca149')\nname: TechRaz\npriority: 4\n\n_id: ObjectId('62013a86b6b62621b529bed4')\nname: Gild\npriority: 5\n</code></pre>\n<p>All the documents have a unique priority. From the user interface you can change the priority from a list where you can drag and drop the configs to the priority you wish. However the issue I have is that when a configuration is deleted (you can only delete one configuration at a time), a hole is created in the priority index. I want to know how I can make some code that closes the priority gap when a config is deleted, so if &quot;Lonic&quot; is deleted I want the priorities to change like this:</p>\n<pre><code>_id: ObjectId('6231984016d57c64884c8e52')\nname: Gio\npriority: 1\n\n_id: ObjectId('61f2a0351a7b18283fc5ce9b')\nname: Blamee\npriority: 2\n\n_id: ObjectId('61e56339b528bf009feca149')\nname: TechRaz\npriority: 3\n\n_id: ObjectId('62013a86b6b62621b529bed4')\nname: Gild\npriority: 4\n</code></pre>\n<p>This is what I've tried:</p>\n<p>After deleting the configuration I say:</p>\n<pre><code>Query query = new Query();\nquery.with(Sort.by(Sort.Direction.asc, &quot;priority&quot;));\nList&lt;Configuration&gt; remainingConfigsAfterDelete =  mongoTemplate.find(query, Configuration.class);\n\nfor (int i = 1; i+1 &lt; remainingConfigsAfterDelete.size(); i++) {\n    remainingConfigsAfterDelete.get(i).setPriority(i);\n}\n</code></pre>\n<p>And then somehow update all the priorities using bulkOperations or something. The first priority has to start at 1 not 0. I just feel like I'm overdoing it here. There gotta be an easier way to do this.</p>\n"},{"tags":["java","tomcat","jndi","startup","c3p0"],"owner":{"account_id":9197404,"reputation":21,"user_id":6835674,"display_name":"Carlos Moreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674211067,"creation_date":1511541535,"question_id":47477211,"body_markdown":"I have a application with context.xml inside server conf like this &#39;conf/Catalina/localhost&#39;.\r\n\r\nIt&#39;s configure my JNDI perfectly, but I&#39;m getting this warning on startup: \r\n\r\n    24-Nov-2017 13:46:59.352 WARNING [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor A docBase /tomcat8/prod/webapps/ROOT inside the host appBase has been specified, and will be ignored\r\n\r\nI know that something is duplicated inside my application aboult my context.xml, but I don&#39;t know where to look and remove it.\r\n\r\nI already removed context.xml from &#39;webapps/ROOT/META-INF&#39;\r\n\r\nAny help is welcome.","title":"Remove WARNING &quot;A docBase inside the host appBase has been specified&quot; from tomcat startup","body":"<p>I have a application with context.xml inside server conf like this 'conf/Catalina/localhost'.</p>\n\n<p>It's configure my JNDI perfectly, but I'm getting this warning on startup: </p>\n\n<pre><code>24-Nov-2017 13:46:59.352 WARNING [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor A docBase /tomcat8/prod/webapps/ROOT inside the host appBase has been specified, and will be ignored\n</code></pre>\n\n<p>I know that something is duplicated inside my application aboult my context.xml, but I don't know where to look and remove it.</p>\n\n<p>I already removed context.xml from 'webapps/ROOT/META-INF'</p>\n\n<p>Any help is welcome.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9279,"page":713,"page_size":100}
