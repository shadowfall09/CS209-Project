{"items":[{"tags":["java","java-9","java-module","java-platform-module-system","module-info"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1544972529,"post_id":53801778,"comment_id":94455324,"body_markdown":"You should not use `sun.*` or `com.sun.*` classes in your program; they are undocumented, internal classes of the JDK and can change in any release. Using them possibly makes your program incompatible with other versions of Java. See [It is a bad practice to use Sun&#39;s proprietary Java classes?](https://stackoverflow.com/questions/1834826/it-is-a-bad-practice-to-use-suns-proprietary-java-classes)","body":"You should not use <code>sun.*</code> or <code>com.sun.*</code> classes in your program; they are undocumented, internal classes of the JDK and can change in any release. Using them possibly makes your program incompatible with other versions of Java. See <a href=\"https://stackoverflow.com/questions/1834826/it-is-a-bad-practice-to-use-suns-proprietary-java-classes\">It is a bad practice to use Sun&#39;s proprietary Java classes?</a>"},{"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"score":0,"creation_date":1544973632,"post_id":53801778,"comment_id":94455631,"body_markdown":"@Jesper - Thanks. If you post your comment as an answer then I can accept it. I also thank *nullpointer* for [his/her good answer](https://stackoverflow.com/a/53802790/5318303) .","body":"@Jesper - Thanks. If you post your comment as an answer then I can accept it. I also thank <i>nullpointer</i> for <a href=\"https://stackoverflow.com/a/53802790/5318303\">his/her good answer</a> ."}],"answers":[{"comments":[{"owner":{"account_id":10456575,"reputation":615,"user_id":8758068,"display_name":"Mahmut ARIKAN"},"score":0,"creation_date":1694509633,"post_id":53802790,"comment_id":135896637,"body_markdown":"On ubuntu 22.04 I had similar issue with Geoserver using openjdk-18 fix it with small adjustment (no equal sign):  export JAVA_OPTS=&quot;--add-exports java.desktop/sun.awt.image=ALL-UNNAMED&quot;","body":"On ubuntu 22.04 I had similar issue with Geoserver using openjdk-18 fix it with small adjustment (no equal sign):  export JAVA_OPTS=&quot;--add-exports java.desktop/sun.awt.image=ALL-UNNAMED&quot;"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1544968233,"creation_date":1544968233,"answer_id":53802790,"question_id":53801778,"body_markdown":"### It&#39;s encapsulated! \n\nThe problem wouldn&#39;t certainly be solved including all the modules from the JDK. \n\n&gt; I know this package (sun.awt.image) exists in java.desktop module (of\n&gt; JDK 11), but don&#39;t know how can access it.\n\nThe actual crux of the problem here lies in the fact, that even though the class `PNGImageDecoder` and the package it belongs to `sun.awt.image` are a part of the `java.desktop` module, the module has chosen *not to export* it to any external library making use of it. \n\nThe choice of abstracting such classes(`sun.*`) has been intentional and documented well with the release notes of Java-9 and the rationale is mentioned in [JEP-260#Encapsulate Most Internal APIs](http://openjdk.java.net/jeps/260) as well.\n\n\n----------\n\nHaving said that, the ***temporary*** rather hacky solution to it would be adding \n\n    --add-exports=java.desktop/sun.awt.image=&lt;yourModuleName&gt;\n\nto your command line arguments. Preferably, you should be looking for an alternate way to what you&#39;re trying to achieve using the class `PNGImageDecoder`.\n\n\n----------\n\nThe last part of it, [*&quot;the unnamed module&quot;*](http://openjdk.java.net/projects/jigsaw/spec/sotms/#the-unnamed-module) is where the actual code(be it your application or any dependencies of it) is trying to access this class `PNGImageDecoder`. So think of it like, the command-line arg above for your use-case results in:\n\n    --add-exports=java.desktop/sun.awt.image=ALL-UNNAMED","title":"Is `sun.awt.image` package deprecated?","body":"<h3>It's encapsulated!</h3>\n<p>The problem wouldn't certainly be solved including all the modules from the JDK.</p>\n<blockquote>\n<p>I know this package (sun.awt.image) exists in java.desktop module (of\nJDK 11), but don't know how can access it.</p>\n</blockquote>\n<p>The actual crux of the problem here lies in the fact, that even though the class <code>PNGImageDecoder</code> and the package it belongs to <code>sun.awt.image</code> are a part of the <code>java.desktop</code> module, the module has chosen <em>not to export</em> it to any external library making use of it.</p>\n<p>The choice of abstracting such classes(<code>sun.*</code>) has been intentional and documented well with the release notes of Java-9 and the rationale is mentioned in <a href=\"http://openjdk.java.net/jeps/260\" rel=\"noreferrer\">JEP-260#Encapsulate Most Internal APIs</a> as well.</p>\n<hr />\n<p>Having said that, the <em><strong>temporary</strong></em> rather hacky solution to it would be adding</p>\n<pre><code>--add-exports=java.desktop/sun.awt.image=&lt;yourModuleName&gt;\n</code></pre>\n<p>to your command line arguments. Preferably, you should be looking for an alternate way to what you're trying to achieve using the class <code>PNGImageDecoder</code>.</p>\n<hr />\n<p>The last part of it, <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#the-unnamed-module\" rel=\"noreferrer\"><em>&quot;the unnamed module&quot;</em></a> is where the actual code(be it your application or any dependencies of it) is trying to access this class <code>PNGImageDecoder</code>. So think of it like, the command-line arg above for your use-case results in:</p>\n<pre><code>--add-exports=java.desktop/sun.awt.image=ALL-UNNAMED\n</code></pre>\n"},{"comments":[{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":3,"creation_date":1585387334,"post_id":53806279,"comment_id":107744510,"body_markdown":"Sure in a perfect world, but sometimes you have to do this to get things done.","body":"Sure in a perfect world, but sometimes you have to do this to get things done."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1585416124,"post_id":53806279,"comment_id":107752664,"body_markdown":"@PaulTaylor With the risk that your software will stop working with a new Java version.","body":"@PaulTaylor With the risk that your software will stop working with a new Java version."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":2,"creation_date":1585420193,"post_id":53806279,"comment_id":107754307,"body_markdown":"Sure, but these days you usually package your app with a version of Java so you can be sure your app works with the version of java you distribute it with. I would only use sun classes when it is the only way round an issue, its certainly not something I would want to do.","body":"Sure, but these days you usually package your app with a version of Java so you can be sure your app works with the version of java you distribute it with. I would only use sun classes when it is the only way round an issue, its certainly not something I would want to do."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1544992798,"creation_date":1544992798,"answer_id":53806279,"question_id":53801778,"body_markdown":"You should not use `sun.*` or `com.sun.*` classes in your program; they are undocumented, internal classes of the JDK and can change in any release.\r\n\r\nUsing them possibly makes your program incompatible with other versions of Java.\r\n\r\nSee: [It is a bad practice to use Sun&#39;s proprietary Java classes?](https://stackoverflow.com/questions/1834826/it-is-a-bad-practice-to-use-suns-proprietary-java-classes)","title":"Is `sun.awt.image` package deprecated?","body":"<p>You should not use <code>sun.*</code> or <code>com.sun.*</code> classes in your program; they are undocumented, internal classes of the JDK and can change in any release.</p>\n\n<p>Using them possibly makes your program incompatible with other versions of Java.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/1834826/it-is-a-bad-practice-to-use-suns-proprietary-java-classes\">It is a bad practice to use Sun's proprietary Java classes?</a></p>\n"}],"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10910,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53806279,"answer_count":2,"score":7,"last_activity_date":1689851054,"creation_date":1544960594,"question_id":53801778,"body_markdown":"I wanted to use some codes that using `sun.awt.image.PNGImageDecoder` in my project. The problem is source code is based on **Java 8** and my project using **JDK 9+** (11). So I got this error:\r\n\r\n&gt; Package &#39;`sun.awt.image`&#39; is declared in module &#39;`java.desktop`&#39;, which does not export it to *the unnamed module*.\r\n\r\nfor `import sun.awt.image.*`, and: \r\n\r\n&gt; Symbol is declared in module &#39;`java.desktop`&#39; which does not export package &#39;`sun.awt.image`&#39;\r\n\r\nfor using `PNGImageDecoder` or `ImageDecoder` etc.\r\n\r\nAfter some efforts to find a solution, I found some similar situations that suggest adding `requires java.desktop;` to `module-info.java` file (like [this case][1] and [this case][2]). But as I realized this solution can only be useful when your project already has a `module-info.java` file and you missing one used module in it. \r\n\r\nMy project hadn&#39;t this file already (pay attention to &quot;*the unnamed module*&quot; in the first error message). As far as I know, this means all modules are imported automatically. So adding this file and adding that line hadn&#39;t any effect except (changing error message and) causing some similar issues for other parts of my codes (which were, of course, solvable by adding required modules to `module-info.java` file).\r\n\r\nTo sure I imported all modules in `jmods` folder (of JDK 11), but the problem didn&#39;t solve:\r\n\r\n\trequires java.base;\r\n\trequires java.compiler;\r\n\trequires java.datatransfer;\r\n\trequires java.desktop;\r\n\trequires java.instrument;\r\n\trequires java.logging;\r\n\trequires java.management;\r\n\trequires java.management.rmi;\r\n\trequires java.naming;\r\n\trequires java.net.http;\r\n\trequires java.prefs;\r\n\trequires java.rmi;\r\n\trequires java.scripting;\r\n\trequires java.se;\r\n\trequires java.security.jgss;\r\n\trequires java.security.sasl;\r\n\trequires java.smartcardio;\r\n\trequires java.sql;\r\n\trequires java.sql.rowset;\r\n\trequires java.transaction.xa;\r\n\trequires java.xml.crypto;\r\n\trequires java.xml;\r\n\trequires jdk.accessibility;\r\n\trequires jdk.aot;\r\n\trequires jdk.attach;\r\n\trequires jdk.charsets;\r\n\trequires jdk.compiler;\r\n\trequires jdk.crypto.cryptoki;\r\n\trequires jdk.crypto.ec;\r\n\trequires jdk.crypto.mscapi;\r\n\trequires jdk.dynalink;\r\n\trequires jdk.editpad;\r\n\trequires jdk.hotspot.agent;\r\n\trequires jdk.httpserver;\r\n\trequires jdk.internal.ed;\r\n\trequires jdk.internal.jvmstat;\r\n\trequires jdk.internal.le;\r\n\trequires jdk.internal.opt;\r\n\trequires jdk.internal.vm.ci;\r\n\trequires jdk.internal.vm.compiler;\r\n\trequires jdk.internal.vm.compiler.management;\r\n\trequires jdk.jartool;\r\n\trequires jdk.javadoc;\r\n\trequires jdk.jcmd;\r\n\trequires jdk.jconsole;\r\n\trequires jdk.jdeps;\r\n\trequires jdk.jdi;\r\n\trequires jdk.jdwp.agent;\r\n\trequires jdk.jfr;\r\n\trequires jdk.jlink;\r\n\trequires jdk.jshell;\r\n\trequires jdk.jsobject;\r\n\trequires jdk.jstatd;\r\n\trequires jdk.localedata;\r\n\trequires jdk.management.agent;\r\n\trequires jdk.management.jfr;\r\n\trequires jdk.management;\r\n\trequires jdk.naming.dns;\r\n\trequires jdk.naming.rmi;\r\n\trequires jdk.net;\r\n\trequires jdk.pack;\r\n\trequires jdk.rmic;\r\n\trequires jdk.scripting.nashorn;\r\n\trequires jdk.scripting.nashorn.shell;\r\n\trequires jdk.sctp;\r\n\trequires jdk.security.auth;\r\n\trequires jdk.security.jgss;\r\n\trequires jdk.unsupported.desktop;\r\n\trequires jdk.unsupported;\r\n\trequires jdk.xml.dom;\r\n\trequires jdk.zipfs;\r\n\r\n***\r\n\r\nI know this package (`sun.awt.image`) exists in `java.desktop` module (of JDK 11), but don&#39;t know how can access it. \r\n\r\nI use IntelliJ IDEA as IDE.\r\n\r\n  [1]: https://stackoverflow.com/questions/51503140/the-import-java-awt-cannot-be-resolved\r\n  [2]: https://stackoverflow.com/a/42576762/5318303","title":"Is `sun.awt.image` package deprecated?","body":"<p>I wanted to use some codes that using <code>sun.awt.image.PNGImageDecoder</code> in my project. The problem is source code is based on <strong>Java 8</strong> and my project using <strong>JDK 9+</strong> (11). So I got this error:</p>\n<blockquote>\n<p>Package '<code>sun.awt.image</code>' is declared in module '<code>java.desktop</code>', which does not export it to <em>the unnamed module</em>.</p>\n</blockquote>\n<p>for <code>import sun.awt.image.*</code>, and:</p>\n<blockquote>\n<p>Symbol is declared in module '<code>java.desktop</code>' which does not export package '<code>sun.awt.image</code>'</p>\n</blockquote>\n<p>for using <code>PNGImageDecoder</code> or <code>ImageDecoder</code> etc.</p>\n<p>After some efforts to find a solution, I found some similar situations that suggest adding <code>requires java.desktop;</code> to <code>module-info.java</code> file (like <a href=\"https://stackoverflow.com/questions/51503140/the-import-java-awt-cannot-be-resolved\">this case</a> and <a href=\"https://stackoverflow.com/a/42576762/5318303\">this case</a>). But as I realized this solution can only be useful when your project already has a <code>module-info.java</code> file and you missing one used module in it.</p>\n<p>My project hadn't this file already (pay attention to &quot;<em>the unnamed module</em>&quot; in the first error message). As far as I know, this means all modules are imported automatically. So adding this file and adding that line hadn't any effect except (changing error message and) causing some similar issues for other parts of my codes (which were, of course, solvable by adding required modules to <code>module-info.java</code> file).</p>\n<p>To sure I imported all modules in <code>jmods</code> folder (of JDK 11), but the problem didn't solve:</p>\n<pre><code>requires java.base;\nrequires java.compiler;\nrequires java.datatransfer;\nrequires java.desktop;\nrequires java.instrument;\nrequires java.logging;\nrequires java.management;\nrequires java.management.rmi;\nrequires java.naming;\nrequires java.net.http;\nrequires java.prefs;\nrequires java.rmi;\nrequires java.scripting;\nrequires java.se;\nrequires java.security.jgss;\nrequires java.security.sasl;\nrequires java.smartcardio;\nrequires java.sql;\nrequires java.sql.rowset;\nrequires java.transaction.xa;\nrequires java.xml.crypto;\nrequires java.xml;\nrequires jdk.accessibility;\nrequires jdk.aot;\nrequires jdk.attach;\nrequires jdk.charsets;\nrequires jdk.compiler;\nrequires jdk.crypto.cryptoki;\nrequires jdk.crypto.ec;\nrequires jdk.crypto.mscapi;\nrequires jdk.dynalink;\nrequires jdk.editpad;\nrequires jdk.hotspot.agent;\nrequires jdk.httpserver;\nrequires jdk.internal.ed;\nrequires jdk.internal.jvmstat;\nrequires jdk.internal.le;\nrequires jdk.internal.opt;\nrequires jdk.internal.vm.ci;\nrequires jdk.internal.vm.compiler;\nrequires jdk.internal.vm.compiler.management;\nrequires jdk.jartool;\nrequires jdk.javadoc;\nrequires jdk.jcmd;\nrequires jdk.jconsole;\nrequires jdk.jdeps;\nrequires jdk.jdi;\nrequires jdk.jdwp.agent;\nrequires jdk.jfr;\nrequires jdk.jlink;\nrequires jdk.jshell;\nrequires jdk.jsobject;\nrequires jdk.jstatd;\nrequires jdk.localedata;\nrequires jdk.management.agent;\nrequires jdk.management.jfr;\nrequires jdk.management;\nrequires jdk.naming.dns;\nrequires jdk.naming.rmi;\nrequires jdk.net;\nrequires jdk.pack;\nrequires jdk.rmic;\nrequires jdk.scripting.nashorn;\nrequires jdk.scripting.nashorn.shell;\nrequires jdk.sctp;\nrequires jdk.security.auth;\nrequires jdk.security.jgss;\nrequires jdk.unsupported.desktop;\nrequires jdk.unsupported;\nrequires jdk.xml.dom;\nrequires jdk.zipfs;\n</code></pre>\n<hr />\n<p>I know this package (<code>sun.awt.image</code>) exists in <code>java.desktop</code> module (of JDK 11), but don't know how can access it.</p>\n<p>I use IntelliJ IDEA as IDE.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1689850514,"post_id":76726191,"comment_id":135273067,"body_markdown":"Take a look at your code. Find the places where you are calling `setOnClickListener()` using an object of the type `ImageButton`. Look for each `ImageButton` in your code: has it been assigned a value before `setOnClickListener()` is called. If not, why not? One of them is `null`.","body":"Take a look at your code. Find the places where you are calling <code>setOnClickListener()</code> using an object of the type <code>ImageButton</code>. Look for each <code>ImageButton</code> in your code: has it been assigned a value before <code>setOnClickListener()</code> is called. If not, why not? One of them is <code>null</code>."},{"owner":{"account_id":29053035,"reputation":11,"user_id":22255386,"display_name":"Marcos Onofre"},"score":1,"creation_date":1689907750,"post_id":76726191,"comment_id":135282775,"body_markdown":"I managed to solve the problem, thanks a lot for the tip!!! :D","body":"I managed to solve the problem, thanks a lot for the tip!!! :D"}],"answers":[{"comments":[{"owner":{"account_id":29053035,"reputation":11,"user_id":22255386,"display_name":"Marcos Onofre"},"score":0,"creation_date":1689907703,"post_id":76729182,"comment_id":135282774,"body_markdown":"Thanks! Your tip worked, thank you very much :D","body":"Thanks! Your tip worked, thank you very much :D"}],"tags":[],"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689850798,"creation_date":1689850798,"answer_id":76729182,"question_id":76726191,"body_markdown":"Looks like you should call `iniciaComponentes()` before `ouvinteCliques()`.\r\n\r\nIn `iniciaComponentes()` you have the `findViewById()` calls that initialize some of the view items including `ImageButton ibAdd`.\r\n\r\nThe `ibAdd` object is then accessed in `ouvinteCliques()` with the `setOnClickListener()` call and it can&#39;t be null at that point.","title":"Attempt to invoke virtual method &#39;void android.widget.ImageButton.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>Looks like you should call <code>iniciaComponentes()</code> before <code>ouvinteCliques()</code>.</p>\n<p>In <code>iniciaComponentes()</code> you have the <code>findViewById()</code> calls that initialize some of the view items including <code>ImageButton ibAdd</code>.</p>\n<p>The <code>ibAdd</code> object is then accessed in <code>ouvinteCliques()</code> with the <code>setOnClickListener()</code> call and it can't be null at that point.</p>\n"}],"owner":{"account_id":29053035,"reputation":11,"user_id":22255386,"display_name":"Marcos Onofre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689850852,"creation_date":1689818061,"question_id":76726191,"body_markdown":"my application that I was creating was closing by itself, everything was fine, out of nowhere it gave this error: \r\njava.lang.NullPointerException: Attempt to invoke the virtual method &#39;void android.widget.ImageButton.setOnClickListener(android.view.View$OnClickListener )&#39; on a null object reference.\r\n\r\nI am not able to resolve this error, I have tried everything to try to make it work, however, I am not succeeding.\r\n\r\n**HERE MY CODE**\r\n```\r\npackage br.com.hellodev.controledeprodutos.activity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\nimport android.widget.PopupMenu;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.tsuryo.swipeablerv.SwipeLeftRightCallback;\r\nimport com.tsuryo.swipeablerv.SwipeableRecyclerView;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport br.com.hellodev.controledeprodutos.adapter.AdapterProduto;\r\nimport br.com.hellodev.controledeprodutos.autencacao.LoginActivity;\r\nimport br.com.hellodev.controledeprodutos.helper.FirebaseHelper;\r\nimport br.com.hellodev.controledeprodutos.model.Produto;\r\nimport br.com.hellodev.controledeprodutos.R;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AdapterProduto.OnClick {\r\n\r\n    private AdapterProduto adapterProduto;\r\n    private List&lt;Produto&gt; produtoList = new ArrayList&lt;&gt;();\r\n    private SwipeableRecyclerView rvProdutos;\r\n    private TextView text_info;\r\n\r\n    private ImageButton ibAdd;\r\n    private ImageButton ibVerMais;\r\n    private ProgressBar progressBar;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ouvinteCliques();\r\n\r\n        configRecyclerView();\r\n\r\n        iniciaComponentes();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        recuperaProdutos();\r\n    }\r\n\r\n    private void recuperaProdutos() {\r\n        DatabaseReference produtosRef = FirebaseHelper.getDatabaseReference()\r\n                .child(&quot;produtos&quot;)\r\n                .child(FirebaseHelper.getIdFirebase());\r\n        produtosRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                produtoList.clear();\r\n                for (DataSnapshot snap : snapshot.getChildren()) {\r\n                    Produto produto = snap.getValue(Produto.class);\r\n                    produtoList.add(produto);\r\n                }\r\n\r\n                verificaQtdLista();\r\n\r\n                Collections.reverse(produtoList);\r\n\r\n                adapterProduto.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void ouvinteCliques() {\r\n        ibAdd.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, FormProdutoActivity.class));\r\n        });\r\n\r\n        ibVerMais.setOnClickListener(view -&gt; {\r\n\r\n            PopupMenu popupMenu = new PopupMenu(this, ibVerMais);\r\n            popupMenu.getMenuInflater().inflate(R.menu.menu_toolbar, popupMenu.getMenu());\r\n\r\n            popupMenu.setOnMenuItemClickListener(menuItem -&gt; {\r\n                if (menuItem.getItemId() == R.id.menu_sobre) {\r\n                    Toast.makeText(this, &quot;Sobre&quot;, Toast.LENGTH_SHORT).show();\r\n                } else if (menuItem.getItemId() == R.id.menu_sair) {\r\n                    FirebaseHelper.getAuth().signOut();\r\n                    startActivity(new Intent(this, LoginActivity.class));\r\n                }\r\n                return true;\r\n            });\r\n\r\n            popupMenu.show();\r\n\r\n        });\r\n    }\r\n\r\n    private void configRecyclerView() {\r\n\r\n\r\n        rvProdutos.setLayoutManager(new LinearLayoutManager(this));\r\n        rvProdutos.setHasFixedSize(true);\r\n        adapterProduto = new AdapterProduto(produtoList, this);\r\n        rvProdutos.setAdapter(adapterProduto);\r\n\r\n        rvProdutos.setListener(new SwipeLeftRightCallback.Listener() {\r\n            @Override\r\n            public void onSwipedLeft(int position) {\r\n            }\r\n\r\n            @Override\r\n            public void onSwipedRight(int position) {\r\n\r\n                Produto produto = produtoList.get(position);\r\n\r\n\r\n                produtoList.remove(produto);\r\n                produto.deletaProduto();\r\n                adapterProduto.notifyItemRemoved(position);\r\n\r\n                verificaQtdLista();\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void verificaQtdLista() {\r\n        if (produtoList.size() == 0) {\r\n            text_info.setText(&quot;Nenhum produto cadastrado.&quot;);\r\n            text_info.setVisibility(View.VISIBLE);\r\n        } else {\r\n            text_info.setVisibility(View.GONE);\r\n        }\r\n        text_info.setVisibility(View.GONE);\r\n\r\n    }\r\n\r\n    private void iniciaComponentes() {\r\n        ibAdd = findViewById(R.id.ib_add);\r\n        ibVerMais = findViewById(R.id.ib_ver_mais);\r\n        rvProdutos = findViewById(R.id.rvProdutos);\r\n        text_info = findViewById(R.id.text_info);\r\n        progressBar = findViewById(R.id.progressBar);\r\n    }\r\n\r\n    @Override\r\n    public void onClickListener(Produto produto) {\r\n        Intent intent = new Intent(this, FormProdutoActivity.class);\r\n        intent.putExtra(&quot;produto&quot;, produto);\r\n        startActivity(intent);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage br.com.hellodev.controledeprodutos.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\nimport br.com.hellodev.controledeprodutos.R;\r\nimport br.com.hellodev.controledeprodutos.model.Produto;\r\n\r\npublic class AdapterProduto extends RecyclerView.Adapter&lt;AdapterProduto.MyViewHolder&gt; {\r\n\r\n    private List&lt;Produto&gt; produtoList;\r\n    private OnClick onClick;\r\n\r\n    public AdapterProduto(List&lt;Produto&gt; produtoList, OnClick onClick) {\r\n        this.produtoList = produtoList;\r\n        this.onClick = onClick;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_produto, parent, false);\r\n        return new MyViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Produto produto = produtoList.get(position);\r\n\r\n        holder.textProduto.setText(produto.getNome());\r\n        holder.textEstoque.setText(&quot;Estoque: &quot; + produto.getEstoque());\r\n        holder.textValor.setText(&quot;R$ &quot; + produto.getValor());\r\n\r\n        holder.itemView.setOnClickListener(view -&gt; onClick.onClickListener(produto));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return produtoList.size();\r\n    }\r\n\r\n    public interface OnClick {\r\n        void onClickListener(Produto produto);\r\n    }\r\n\r\n    static class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView textProduto, textEstoque, textValor;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            textProduto = itemView.findViewById(R.id.text_produto);\r\n            textEstoque = itemView.findViewById(R.id.text_estoque);\r\n            textValor = itemView.findViewById(R.id.text_valor);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Attempt to invoke virtual method &#39;void android.widget.ImageButton.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>my application that I was creating was closing by itself, everything was fine, out of nowhere it gave this error:\njava.lang.NullPointerException: Attempt to invoke the virtual method 'void android.widget.ImageButton.setOnClickListener(android.view.View$OnClickListener )' on a null object reference.</p>\n<p>I am not able to resolve this error, I have tried everything to try to make it work, however, I am not succeeding.</p>\n<p><strong>HERE MY CODE</strong></p>\n<pre><code>package br.com.hellodev.controledeprodutos.activity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageButton;\nimport android.widget.PopupMenu;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.ValueEventListener;\nimport com.tsuryo.swipeablerv.SwipeLeftRightCallback;\nimport com.tsuryo.swipeablerv.SwipeableRecyclerView;\n\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\n\nimport br.com.hellodev.controledeprodutos.adapter.AdapterProduto;\nimport br.com.hellodev.controledeprodutos.autencacao.LoginActivity;\nimport br.com.hellodev.controledeprodutos.helper.FirebaseHelper;\nimport br.com.hellodev.controledeprodutos.model.Produto;\nimport br.com.hellodev.controledeprodutos.R;\n\npublic class MainActivity extends AppCompatActivity implements AdapterProduto.OnClick {\n\n    private AdapterProduto adapterProduto;\n    private List&lt;Produto&gt; produtoList = new ArrayList&lt;&gt;();\n    private SwipeableRecyclerView rvProdutos;\n    private TextView text_info;\n\n    private ImageButton ibAdd;\n    private ImageButton ibVerMais;\n    private ProgressBar progressBar;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ouvinteCliques();\n\n        configRecyclerView();\n\n        iniciaComponentes();\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        recuperaProdutos();\n    }\n\n    private void recuperaProdutos() {\n        DatabaseReference produtosRef = FirebaseHelper.getDatabaseReference()\n                .child(&quot;produtos&quot;)\n                .child(FirebaseHelper.getIdFirebase());\n        produtosRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                produtoList.clear();\n                for (DataSnapshot snap : snapshot.getChildren()) {\n                    Produto produto = snap.getValue(Produto.class);\n                    produtoList.add(produto);\n                }\n\n                verificaQtdLista();\n\n                Collections.reverse(produtoList);\n\n                adapterProduto.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void ouvinteCliques() {\n        ibAdd.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, FormProdutoActivity.class));\n        });\n\n        ibVerMais.setOnClickListener(view -&gt; {\n\n            PopupMenu popupMenu = new PopupMenu(this, ibVerMais);\n            popupMenu.getMenuInflater().inflate(R.menu.menu_toolbar, popupMenu.getMenu());\n\n            popupMenu.setOnMenuItemClickListener(menuItem -&gt; {\n                if (menuItem.getItemId() == R.id.menu_sobre) {\n                    Toast.makeText(this, &quot;Sobre&quot;, Toast.LENGTH_SHORT).show();\n                } else if (menuItem.getItemId() == R.id.menu_sair) {\n                    FirebaseHelper.getAuth().signOut();\n                    startActivity(new Intent(this, LoginActivity.class));\n                }\n                return true;\n            });\n\n            popupMenu.show();\n\n        });\n    }\n\n    private void configRecyclerView() {\n\n\n        rvProdutos.setLayoutManager(new LinearLayoutManager(this));\n        rvProdutos.setHasFixedSize(true);\n        adapterProduto = new AdapterProduto(produtoList, this);\n        rvProdutos.setAdapter(adapterProduto);\n\n        rvProdutos.setListener(new SwipeLeftRightCallback.Listener() {\n            @Override\n            public void onSwipedLeft(int position) {\n            }\n\n            @Override\n            public void onSwipedRight(int position) {\n\n                Produto produto = produtoList.get(position);\n\n\n                produtoList.remove(produto);\n                produto.deletaProduto();\n                adapterProduto.notifyItemRemoved(position);\n\n                verificaQtdLista();\n\n\n            }\n        });\n    }\n\n\n    private void verificaQtdLista() {\n        if (produtoList.size() == 0) {\n            text_info.setText(&quot;Nenhum produto cadastrado.&quot;);\n            text_info.setVisibility(View.VISIBLE);\n        } else {\n            text_info.setVisibility(View.GONE);\n        }\n        text_info.setVisibility(View.GONE);\n\n    }\n\n    private void iniciaComponentes() {\n        ibAdd = findViewById(R.id.ib_add);\n        ibVerMais = findViewById(R.id.ib_ver_mais);\n        rvProdutos = findViewById(R.id.rvProdutos);\n        text_info = findViewById(R.id.text_info);\n        progressBar = findViewById(R.id.progressBar);\n    }\n\n    @Override\n    public void onClickListener(Produto produto) {\n        Intent intent = new Intent(this, FormProdutoActivity.class);\n        intent.putExtra(&quot;produto&quot;, produto);\n        startActivity(intent);\n\n    }\n\n}\n</code></pre>\n<pre><code>package br.com.hellodev.controledeprodutos.adapter;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\nimport br.com.hellodev.controledeprodutos.R;\nimport br.com.hellodev.controledeprodutos.model.Produto;\n\npublic class AdapterProduto extends RecyclerView.Adapter&lt;AdapterProduto.MyViewHolder&gt; {\n\n    private List&lt;Produto&gt; produtoList;\n    private OnClick onClick;\n\n    public AdapterProduto(List&lt;Produto&gt; produtoList, OnClick onClick) {\n        this.produtoList = produtoList;\n        this.onClick = onClick;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_produto, parent, false);\n        return new MyViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        Produto produto = produtoList.get(position);\n\n        holder.textProduto.setText(produto.getNome());\n        holder.textEstoque.setText(&quot;Estoque: &quot; + produto.getEstoque());\n        holder.textValor.setText(&quot;R$ &quot; + produto.getValor());\n\n        holder.itemView.setOnClickListener(view -&gt; onClick.onClickListener(produto));\n    }\n\n    @Override\n    public int getItemCount() {\n        return produtoList.size();\n    }\n\n    public interface OnClick {\n        void onClickListener(Produto produto);\n    }\n\n    static class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView textProduto, textEstoque, textValor;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            textProduto = itemView.findViewById(R.id.text_produto);\n            textEstoque = itemView.findViewById(R.id.text_estoque);\n            textValor = itemView.findViewById(R.id.text_valor);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","properties-file","persistence.xml","context.xml"],"owner":{"account_id":9222621,"reputation":136,"user_id":6943090,"display_name":"Luis Morales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689850493,"creation_date":1689798623,"question_id":76724985,"body_markdown":"I have an app with Java 17, Tomcat 10. \r\n\r\nI would like to use a properties file (or its variation) so I can read it from different sides of my code or from my `persistence.xml` and `context.xml` files.\r\n\r\n**What have I tried?**\r\n\r\nI created a properties file and imported it into a listener. \r\nI also managed it by putting in the `catalina.properties` a `app.profile=profile`\r\n\r\nThis worked in a Java class, but for the `context.xml` and `persistence.xml` it doesn&#39;t read the properties.\r\n\r\nI have created profiles in the pom.xml with the properties.\r\nBut in the `persistence.xml` and `context.xml` I can&#39;t extract the properties. \r\nI followed advice from [here][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/51661290/how-to-get-my-applicationcontext-xml-file-pull-a-value-from-a-properties-file","title":"How to pull values from properties file into persistence.xml and context.xml?","body":"<p>I have an app with Java 17, Tomcat 10.</p>\n<p>I would like to use a properties file (or its variation) so I can read it from different sides of my code or from my <code>persistence.xml</code> and <code>context.xml</code> files.</p>\n<p><strong>What have I tried?</strong></p>\n<p>I created a properties file and imported it into a listener.\nI also managed it by putting in the <code>catalina.properties</code> a <code>app.profile=profile</code></p>\n<p>This worked in a Java class, but for the <code>context.xml</code> and <code>persistence.xml</code> it doesn't read the properties.</p>\n<p>I have created profiles in the pom.xml with the properties.\nBut in the <code>persistence.xml</code> and <code>context.xml</code> I can't extract the properties.\nI followed advice from <a href=\"https://stackoverflow.com/questions/51661290/how-to-get-my-applicationcontext-xml-file-pull-a-value-from-a-properties-file\">here</a>.</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":2680083,"reputation":303,"user_id":2315621,"display_name":"Rafael Santos"},"score":0,"creation_date":1689850487,"post_id":66608299,"comment_id":135273063,"body_markdown":"I tried this, but whenever I select and apply the new different location for the different distribution version it seems to take no effect and I get back there the version that came by default with the IDE takes precedence","body":"I tried this, but whenever I select and apply the new different location for the different distribution version it seems to take no effect and I get back there the version that came by default with the IDE takes precedence"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689861847,"post_id":66608299,"comment_id":135275719,"body_markdown":"@RafaelSantos IDE doesn&#39;t come with Gradle by default.","body":"@RafaelSantos IDE doesn&#39;t come with Gradle by default."},{"owner":{"account_id":2680083,"reputation":303,"user_id":2315621,"display_name":"Rafael Santos"},"score":0,"creation_date":1689863162,"post_id":66608299,"comment_id":135276085,"body_markdown":"Intelij does (at least the more recent versions). It&#39;s bundled","body":"Intelij does (at least the more recent versions). It&#39;s bundled"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689864439,"post_id":66608299,"comment_id":135276401,"body_markdown":"@RafaelSantos Please report at https://youtrack.jetbrains.com/newIssue?project=IDEA and provide the exact steps to reproduce / a video of the issue. It does not happen for me in the current IDE release.","body":"@RafaelSantos Please report at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> and provide the exact steps to reproduce / a video of the issue. It does not happen for me in the current IDE release."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1615590589,"creation_date":1615589800,"answer_id":66608299,"question_id":66608227,"body_markdown":"Somewhat related to [this answer](https://stackoverflow.com/a/66037291/104891).\r\n\r\nIDE Gradle settings do not affect the Terminal. You need to adjust the `PATH` in your system environment settings so that Gradle 6.8.3 installation `bin` subdirectory is the first one or the only one entry. Then logout/login or reboot for the `PATH` changes to have effect on all the processes including IntelliJ IDEA Terminal.\r\n\r\nHowever, if you import the project in IntelliJ IDEA and run Gradle tasks from the Gradle tool window, it will use whatever version you have configured in the IDE: Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Gradle | Use Gradle from.\r\n","title":"Can&#39;t change gradle version intellij","body":"<p>Somewhat related to <a href=\"https://stackoverflow.com/a/66037291/104891\">this answer</a>.</p>\n<p>IDE Gradle settings do not affect the Terminal. You need to adjust the <code>PATH</code> in your system environment settings so that Gradle 6.8.3 installation <code>bin</code> subdirectory is the first one or the only one entry. Then logout/login or reboot for the <code>PATH</code> changes to have effect on all the processes including IntelliJ IDEA Terminal.</p>\n<p>However, if you import the project in IntelliJ IDEA and run Gradle tasks from the Gradle tool window, it will use whatever version you have configured in the IDE: Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Gradle | Use Gradle from.</p>\n"}],"owner":{"account_id":19988779,"reputation":37,"user_id":14650316,"display_name":"johnlacrosse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3064,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66608299,"answer_count":1,"score":1,"last_activity_date":1689850469,"creation_date":1615589251,"question_id":66608227,"body_markdown":"I have tried changing gradle-wrapper-properties to a newer version, but regardless of what I do, when I run gradle --version I Get 4.4.1. How can I change the gradle version?\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.8.3-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n","title":"Can&#39;t change gradle version intellij","body":"<p>I have tried changing gradle-wrapper-properties to a newer version, but regardless of what I do, when I run gradle --version I Get 4.4.1. How can I change the gradle version?</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.8.3-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"},{"tags":["eclipse","java"],"comments":[{"owner":{"account_id":26299,"reputation":3454,"user_id":68296,"accept_rate":100,"display_name":"Stefan Sveidqvist"},"score":3,"creation_date":1242807423,"post_id":886744,"comment_id":693645,"body_markdown":"By the way, this is exactly the same procedure on Windows 2000, XP, Vista and Windows 7 so it&#39;s not particular to XP.","body":"By the way, this is exactly the same procedure on Windows 2000, XP, Vista and Windows 7 so it&#39;s not particular to XP."}],"answers":[{"comments":[{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":5,"creation_date":1242808823,"post_id":886757,"comment_id":693746,"body_markdown":"No, Sun will only always see the last version you installed. Also, you can install, copy the directory somewhere and then uninstall. Java doesn&#39;t need the registry keys to work. Just set JAVA_HOME and it&#39;ll work.","body":"No, Sun will only always see the last version you installed. Also, you can install, copy the directory somewhere and then uninstall. Java doesn&#39;t need the registry keys to work. Just set JAVA_HOME and it&#39;ll work."},{"owner":{"account_id":2095089,"reputation":4623,"user_id":1864054,"accept_rate":95,"display_name":"Withheld"},"score":0,"creation_date":1407953874,"post_id":886757,"comment_id":39418931,"body_markdown":"+1 for being terse yet complete, helpful &amp; useful. Note: Oracle&#39;s installer will overwrite the JRE folder by **default**. i.e. for Java 6 it will prompt you to change from the default `Java/jre6`, but this complicates setup. Interesting that Oracle&#39;s installer supports **by default** different JDK subfolders (e.g. jdk1.6.0_37, jdk1.6.0_45) but only one JRE subfulder.","body":"+1 for being terse yet complete, helpful &amp; useful. Note: Oracle&#39;s installer will overwrite the JRE folder by <b>default</b>. i.e. for Java 6 it will prompt you to change from the default <code>Java&#47;jre6</code>, but this complicates setup. Interesting that Oracle&#39;s installer supports <b>by default</b> different JDK subfolders (e.g. jdk1.6.0_37, jdk1.6.0_45) but only one JRE subfulder."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1607433112,"post_id":886757,"comment_id":115265731,"body_markdown":"Don&#39;t forget, if you&#39;re going to be running Java programs from the console, you will also need to set the PATH. Please just have one of the java binaries set on the PATH.","body":"Don&#39;t forget, if you&#39;re going to be running Java programs from the console, you will also need to set the PATH. Please just have one of the java binaries set on the PATH."}],"tags":[],"owner":{"account_id":3264,"reputation":11299,"user_id":4690,"accept_rate":83,"display_name":"Manrico Corazzi"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1242809533,"creation_date":1242807304,"answer_id":886757,"question_id":886744,"body_markdown":"You may install different JDKs easily: just specify different folders.\r\n\r\nYou can setup the installed JDKs in Eclipse **Window/Preferences/Installed JREs**\r\n\r\nYou can pick the JDK and Java version for every single project in **Project/Properties/Java Compiler**","title":"How install multiple JDK on Windows?","body":"<p>You may install different JDKs easily: just specify different folders.</p>\n\n<p>You can setup the installed JDKs in Eclipse <strong>Window/Preferences/Installed JREs</strong></p>\n\n<p>You can pick the JDK and Java version for every single project in <strong>Project/Properties/Java Compiler</strong></p>\n"},{"comments":[{"owner":{"account_id":60135,"reputation":855,"user_id":179741,"accept_rate":95,"display_name":"Daniel"},"score":0,"creation_date":1369335566,"post_id":886759,"comment_id":24075990,"body_markdown":"The only nuance is that in few cases the Java API will differ as new methods are introduced and class interfaces change.  Fortunately the README &quot;4. Running Eclipse&quot; covers how to select a JDK.","body":"The only nuance is that in few cases the Java API will differ as new methods are introduced and class interfaces change.  Fortunately the README &quot;4. Running Eclipse&quot; covers how to select a JDK."}],"tags":[],"owner":{"account_id":276,"reputation":16266,"user_id":342,"accept_rate":72,"display_name":"graham.reeds"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242807325,"creation_date":1242807325,"answer_id":886759,"question_id":886744,"body_markdown":"Why? There is an option (can&#39;t remember where exactly - right-click on your project) that allows you to set the target JDK level. I use this when developing GWT applications.","title":"How install multiple JDK on Windows?","body":"<p>Why? There is an option (can't remember where exactly - right-click on your project) that allows you to set the target JDK level. I use this when developing GWT applications.</p>\n"},{"tags":[],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1589088907,"creation_date":1589088907,"answer_id":61707635,"question_id":886744,"body_markdown":"I have solved this by creating batch files for different Java versions. \r\n\r\n1. I have installed the Java versions I need to have\r\n2. Whenever, I need to use Java I run the appropriate batch file and set the environment variables to work with that Java version.\r\n\r\n**Java 8.bat**\r\n\r\n    @echo off\r\n    echo Setting JAVA_HOME\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_121\r\n    echo setting PATH\r\n    set PATH=%JAVA_HOME%\\bin;%PATH%\r\n    echo Display java version\r\n    java -version\r\n\r\n\r\n**Java 10.bat**\r\n\r\n    @echo off\r\n    echo Setting JAVA_HOME\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.2\r\n    echo setting PATH\r\n    set PATH=%JAVA_HOME%\\bin;%PATH%\r\n    echo Display java version\r\n    java -version","title":"How install multiple JDK on Windows?","body":"<p>I have solved this by creating batch files for different Java versions. </p>\n\n<ol>\n<li>I have installed the Java versions I need to have</li>\n<li>Whenever, I need to use Java I run the appropriate batch file and set the environment variables to work with that Java version.</li>\n</ol>\n\n<p><strong>Java 8.bat</strong></p>\n\n<pre><code>@echo off\necho Setting JAVA_HOME\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_121\necho setting PATH\nset PATH=%JAVA_HOME%\\bin;%PATH%\necho Display java version\njava -version\n</code></pre>\n\n<p><strong>Java 10.bat</strong></p>\n\n<pre><code>@echo off\necho Setting JAVA_HOME\nset JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.2\necho setting PATH\nset PATH=%JAVA_HOME%\\bin;%PATH%\necho Display java version\njava -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20162073,"reputation":1,"user_id":14786909,"display_name":"Radoslaw Jocz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683061913,"creation_date":1607431662,"answer_id":65199237,"question_id":886744,"body_markdown":"There was a big mess with different incompatible JDK and JRE from 90s when Java was created and still this problem exists. \r\nThe main rule is when you type in console: \r\njava -version\r\nand \r\njavac -version\r\nthe result should be the same then you sure both JRE and JDK (JSDK) are compatible, so when you compile you can run it without any problems.\r\nJAVA_HOME and PATH are essential for many console applications\r\nand some GUI tools might use those variables as well but often is possible to alter default settings in GUI application instead of messing with environment variables. Also CLASSPATH still sometimes are used as well, however better use ANT as compiler than javac directly.\r\nyou can install multiple JDK and JRE but each one should to have its own separate folder, the default should be usually ok.\r\nWorth mentioning that every JDK have JRE included and it instal in separate folder and as separate APP in Windows Control Panel -&gt; Applications to be more confusing, so basically developer will never have to download and install JRE. Do not use Java update application which might cause problems after update some apps might not work, just do it manually.\r\n\r\n","title":"How install multiple JDK on Windows?","body":"<p>There was a big mess with different incompatible JDK and JRE from 90s when Java was created and still this problem exists.\nThe main rule is when you type in console:\njava -version\nand\njavac -version\nthe result should be the same then you sure both JRE and JDK (JSDK) are compatible, so when you compile you can run it without any problems.\nJAVA_HOME and PATH are essential for many console applications\nand some GUI tools might use those variables as well but often is possible to alter default settings in GUI application instead of messing with environment variables. Also CLASSPATH still sometimes are used as well, however better use ANT as compiler than javac directly.\nyou can install multiple JDK and JRE but each one should to have its own separate folder, the default should be usually ok.\nWorth mentioning that every JDK have JRE included and it instal in separate folder and as separate APP in Windows Control Panel -&gt; Applications to be more confusing, so basically developer will never have to download and install JRE. Do not use Java update application which might cause problems after update some apps might not work, just do it manually.</p>\n"},{"tags":[],"owner":{"account_id":16437617,"reputation":19,"user_id":11874829,"display_name":"ownerofglory"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607448977,"creation_date":1607441057,"answer_id":65201729,"question_id":886744,"body_markdown":"Try using `sdkman`. Even though the installing on Windows is a bit &#39;tricky&#39; but there are several options.\r\n\r\nhttps://sdkman.io/install","title":"How install multiple JDK on Windows?","body":"<p>Try using <code>sdkman</code>. Even though the installing on Windows is a bit 'tricky' but there are several options.</p>\n<p><a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">https://sdkman.io/install</a></p>\n"}],"owner":{"account_id":36274,"reputation":733,"user_id":103340,"display_name":"Eric Yung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40968,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":886757,"answer_count":5,"score":24,"last_activity_date":1689850466,"creation_date":1242807083,"question_id":886744,"body_markdown":"I want to install JDK 1.5 and 1.6 on XP, is it possible? how to do it\r\n\r\nAlso, I am using Eclipse how to setup using different JDK for different projects?\r\n\r\nthanks.","title":"How install multiple JDK on Windows?","body":"<p>I want to install JDK 1.5 and 1.6 on XP, is it possible? how to do it</p>\n\n<p>Also, I am using Eclipse how to setup using different JDK for different projects?</p>\n\n<p>thanks.</p>\n"},{"tags":["java","floating-point","precision"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1689673811,"post_id":76711487,"comment_id":135243735,"body_markdown":"How this string is produced is documented [right here](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Float.html#toString(float)).","body":"How this string is produced is documented <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Float.html#toString(float)\" rel=\"nofollow noreferrer\">right here</a>."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1689673993,"post_id":76711487,"comment_id":135243785,"body_markdown":"Are you sure anything is &quot;rounded&quot; at all and you are not just specifying a number that float simply cannot represent precisely!?","body":"Are you sure anything is &quot;rounded&quot; at all and you are not just specifying a number that float simply cannot represent precisely!?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689674651,"post_id":76711487,"comment_id":135243932,"body_markdown":"if you print `new BigDecimal(x)`, you&#39;ll get `1500.455078125`, while `new BigDecimal(y)` is `2000.3740234375` (BTW I doubt that you got the output `1101.4551, 1106.374` from that code! more like `1500.4551, 2000.374`)","body":"if you print <code>new BigDecimal(x)</code>, you&#39;ll get <code>1500.455078125</code>, while <code>new BigDecimal(y)</code> is <code>2000.3740234375</code> (BTW I doubt that you got the output <code>1101.4551, 1106.374</code> from that code! more like <code>1500.4551, 2000.374</code>)"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1689675932,"post_id":76711487,"comment_id":135244164,"body_markdown":"The numbers are stored identically, using IEEE 754. Whatever difference there is is entirely limited to the different ways you&#39;re printing them in the different languages. Since you haven&#39;t shown how you&#39;re doing that in C++, we can&#39;t comment on it.","body":"The numbers are stored identically, using IEEE 754. Whatever difference there is is entirely limited to the different ways you&#39;re printing them in the different languages. Since you haven&#39;t shown how you&#39;re doing that in C++, we can&#39;t comment on it."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1689677990,"post_id":76711487,"comment_id":135244599,"body_markdown":"Does this answer your question? [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1689678080,"post_id":76711487,"comment_id":135244613,"body_markdown":"@luk2302: Re “Are you sure anything is &quot;rounded&quot; at all”: There are four roundings in the code shown, one when each of the two decimal numerals in the source code is rounded to an IEEE-754 format and one when each of those `float` values is rounded to decimal for output.","body":"@luk2302: Re “Are you sure anything is &quot;rounded&quot; at all”: There are four roundings in the code shown, one when each of the two decimal numerals in the source code is rounded to an IEEE-754 format and one when each of those <code>float</code> values is rounded to decimal for output."}],"answers":[{"comments":[{"owner":{"account_id":29040438,"reputation":31,"user_id":22245397,"display_name":"Nova"},"score":0,"creation_date":1689725174,"post_id":76712090,"comment_id":135253249,"body_markdown":"So how would I represent this in C# then?","body":"So how would I represent this in C# then?"}],"tags":[],"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689677969,"creation_date":1689677969,"answer_id":76712090,"question_id":76711487,"body_markdown":"&gt; Should the rounding not be consistent for both floats?\r\n\r\nThe rounding is consistent for both `float` values. It does not round to a decimal numeral. It rounds to a binary numeral, with 24 significant bits.\r\n\r\nIn binary, 1500.45504 is 10111011100.01110100011111011000000001011110010111101…. Rounding that to 24 bits produces 10111011100.011101001, which is 1500.455078125.\r\n\r\nIn binary, 2000.37408 is 11111010000.0101111111000011101101001111011000010110…. Rounding that to 24 bits produces 11111010000.0101111111000, which is 2000.3740234375.\r\n\r\nThe default formatting used to convert that to a decimal numeral produces just enough decimal digits to uniquely distinguish the `float` number. For 1500.455078125, the adjacent `float` values below and above it are 1500.4549560546875 and 1500.4552001953125. If any of those were rounded to seven digits total (three after the decimal point), the result would be “1500.455” for all of them. So one more digit is needed to distinguish 1500.455078125 from the others. So it is rounded to eight decimal digits, producing “1500.4551”.\r\n\r\nSimilarly, for 2000.3740234375, the adjacent `float` values are 2000.3739013671875 and 2000.3741455078125, and rounding any of those to seven digits produces “2000.374”. In this case, though, rounding the ones below and above it to eight digits distinguish them, producing “200.3739” and “2000.3741”, so the algorithm allows seven digits for our number, 2000.3740234375, producing “2000.374”, because it knows this uniquely distinguishes it since the others will produce different results.","title":"Java float formatting and rounding","body":"<blockquote>\n<p>Should the rounding not be consistent for both floats?</p>\n</blockquote>\n<p>The rounding is consistent for both <code>float</code> values. It does not round to a decimal numeral. It rounds to a binary numeral, with 24 significant bits.</p>\n<p>In binary, 1500.45504 is 10111011100.01110100011111011000000001011110010111101…. Rounding that to 24 bits produces 10111011100.011101001, which is 1500.455078125.</p>\n<p>In binary, 2000.37408 is 11111010000.0101111111000011101101001111011000010110…. Rounding that to 24 bits produces 11111010000.0101111111000, which is 2000.3740234375.</p>\n<p>The default formatting used to convert that to a decimal numeral produces just enough decimal digits to uniquely distinguish the <code>float</code> number. For 1500.455078125, the adjacent <code>float</code> values below and above it are 1500.4549560546875 and 1500.4552001953125. If any of those were rounded to seven digits total (three after the decimal point), the result would be “1500.455” for all of them. So one more digit is needed to distinguish 1500.455078125 from the others. So it is rounded to eight decimal digits, producing “1500.4551”.</p>\n<p>Similarly, for 2000.3740234375, the adjacent <code>float</code> values are 2000.3739013671875 and 2000.3741455078125, and rounding any of those to seven digits produces “2000.374”. In this case, though, rounding the ones below and above it to eight digits distinguish them, producing “200.3739” and “2000.3741”, so the algorithm allows seven digits for our number, 2000.3740234375, producing “2000.374”, because it knows this uniquely distinguishes it since the others will produce different results.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689705495,"creation_date":1689704746,"answer_id":76715629,"question_id":76711487,"body_markdown":"Floats in Java and C# use IEEE 754 single precision format, which has a precision of 7 decimal digits (well, a bit above 7). This means that when you define a float variable with more than 7 decimal digits (like 1500.45504f), the value will be rounded to the nearest representable float value. In both languages variable will hold the same binary values (what can be easily verified). \r\n\r\nThe differences you are seeing are related to how those languages implement by default floating point rounding and precision in their standard libraries. In particular, the differences are in how they round the last digit and in the number of digits they print. You can read on it in Java implementation here: [Float.toString(float)][1] and for C#: [System.Single.ToString][2].\r\n\r\nYou can make the output look exactly the same with some fiddling with format specifiers:\r\n\r\nin c#:\r\n\r\n    float x = 1500.45504f;\r\n\tfloat y = 2000.37408f;\r\n\tConsole.WriteLine(&quot;{0:G9}, {1:G9}&quot;, x, y);\r\noutputs:\r\n\r\n    1500.45508, 2000.37402\r\n\r\n\r\nin java:\r\n\r\n    float x = 1500.45504f;\r\n    float y = 2000.37408f;\r\n    System.out.printf(&quot;%.9g, %.9g%n&quot;, x, y);\r\n\r\noutputs the same:\r\n\r\n    1500.45508, 2000.37402\r\n\r\n\r\n----\r\n\r\nThe interesting thing is that in case of Java-s default behaviour, you can convert your floats to string and back to floats and have the exact same values. In case of c# its not true for both of them - to acomplish it - you need a round-trip flag when calling: `float_variable.ToString(&quot;R&quot;)`.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Float.html#toString(float)\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/api/system.single.tostring?view=net-7.0\r\n","title":"Java float formatting and rounding","body":"<p>Floats in Java and C# use IEEE 754 single precision format, which has a precision of 7 decimal digits (well, a bit above 7). This means that when you define a float variable with more than 7 decimal digits (like 1500.45504f), the value will be rounded to the nearest representable float value. In both languages variable will hold the same binary values (what can be easily verified).</p>\n<p>The differences you are seeing are related to how those languages implement by default floating point rounding and precision in their standard libraries. In particular, the differences are in how they round the last digit and in the number of digits they print. You can read on it in Java implementation here: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Float.html#toString(float)\" rel=\"nofollow noreferrer\">Float.toString(float)</a> and for C#: <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.single.tostring?view=net-7.0\" rel=\"nofollow noreferrer\">System.Single.ToString</a>.</p>\n<p>You can make the output look exactly the same with some fiddling with format specifiers:</p>\n<p>in c#:</p>\n<pre><code>float x = 1500.45504f;\nfloat y = 2000.37408f;\nConsole.WriteLine(&quot;{0:G9}, {1:G9}&quot;, x, y);\n</code></pre>\n<p>outputs:</p>\n<pre><code>1500.45508, 2000.37402\n</code></pre>\n<p>in java:</p>\n<pre><code>float x = 1500.45504f;\nfloat y = 2000.37408f;\nSystem.out.printf(&quot;%.9g, %.9g%n&quot;, x, y);\n</code></pre>\n<p>outputs the same:</p>\n<pre><code>1500.45508, 2000.37402\n</code></pre>\n<hr />\n<p>The interesting thing is that in case of Java-s default behaviour, you can convert your floats to string and back to floats and have the exact same values. In case of c# its not true for both of them - to acomplish it - you need a round-trip flag when calling: <code>float_variable.ToString(&quot;R&quot;)</code>.</p>\n"}],"owner":{"account_id":29040438,"reputation":31,"user_id":22245397,"display_name":"Nova"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1689850205,"creation_date":1689673660,"question_id":76711487,"body_markdown":"I&#39;ve been experimenting with Java floats, and I&#39;ve noticed some weird behaviour that doesn&#39;t appear to occur in another language, like C#.\r\n\r\n```\r\n// Expecting &#39;x&#39; to round down to 1500.455.\r\nfloat x = 1500.45504f;\r\n// Expecting &#39;y&#39; to round up to 2000.3741.\r\nfloat y = 2000.37408f;\r\n\r\nSystem.out.println(x + &quot;, &quot; + y);\r\n```\r\n\r\nThe above code produces the output `1101.4551, 1106.374`. Should the rounding not be consistent for both floats? Why is the 1101.45504 round to `.4551`, whereas the 1106.37408 value is being essentially truncated to `.374`? Should it not be the other way around?\r\n\r\n**Edit:** The main intention behind this question was asking why different languages treat floats differently. As Eric has mentioned, Java&#39;s `Float.ToString()` method does append one more digit to distinguish between adjacent floats, but why is this not the case for C#? And how can I represent this behaviour in other languages, such as C#.","title":"Java float formatting and rounding","body":"<p>I've been experimenting with Java floats, and I've noticed some weird behaviour that doesn't appear to occur in another language, like C#.</p>\n<pre><code>// Expecting 'x' to round down to 1500.455.\nfloat x = 1500.45504f;\n// Expecting 'y' to round up to 2000.3741.\nfloat y = 2000.37408f;\n\nSystem.out.println(x + &quot;, &quot; + y);\n</code></pre>\n<p>The above code produces the output <code>1101.4551, 1106.374</code>. Should the rounding not be consistent for both floats? Why is the 1101.45504 round to <code>.4551</code>, whereas the 1106.37408 value is being essentially truncated to <code>.374</code>? Should it not be the other way around?</p>\n<p><strong>Edit:</strong> The main intention behind this question was asking why different languages treat floats differently. As Eric has mentioned, Java's <code>Float.ToString()</code> method does append one more digit to distinguish between adjacent floats, but why is this not the case for C#? And how can I represent this behaviour in other languages, such as C#.</p>\n"},{"tags":["java","android","broadcastreceiver","android-view"],"comments":[{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1654068569,"post_id":72457879,"comment_id":128001044,"body_markdown":"You want something to observe the connection change and change your view accordingly right?","body":"You want something to observe the connection change and change your view accordingly right?"},{"owner":{"display_name":"user18105926"},"score":1,"creation_date":1654068625,"post_id":72457879,"comment_id":128001065,"body_markdown":"yes correct thats what i want","body":"yes correct thats what i want"},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1654068650,"post_id":72457879,"comment_id":128001072,"body_markdown":"Great, I&#39;ll answer this in a few minutes.","body":"Great, I&#39;ll answer this in a few minutes."}],"answers":[{"comments":[{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654071010,"post_id":72458177,"comment_id":128001895,"body_markdown":"hey thanks for the code but its kotlin , please can u share java code","body":"hey thanks for the code but its kotlin , please can u share java code"},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1654071170,"post_id":72458177,"comment_id":128001954,"body_markdown":"Sorry man, I don&#39;t have the Java version of it. Can you try to translate the code from kotlin to Java?","body":"Sorry man, I don&#39;t have the Java version of it. Can you try to translate the code from kotlin to Java?"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654073238,"post_id":72458177,"comment_id":128002652,"body_markdown":"i dont understand what you are telling me to do","body":"i dont understand what you are telling me to do"},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1654081314,"post_id":72458177,"comment_id":128005647,"body_markdown":"@Player91 I&#39;ve updated the code from Kotlin to Java. Good luck :)","body":"@Player91 I&#39;ve updated the code from Kotlin to Java. Good luck :)"}],"tags":[],"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654098823,"creation_date":1654069902,"answer_id":72458177,"question_id":72457879,"body_markdown":"To observe the connection changes in real time you can use LiveData. Before this we used BroadcastReceiver, but as you can see `Declaring a broadcastreceiver for android.net.conn.CONNECTIVITY_CHANGE is deprecated for apps targeting N and higher.`\r\n\r\nI&#39;ll post the full code and explain every part of it.\r\n\r\n    public class ConnectionLiveData extends LiveData&lt;Boolean&gt; {\r\n        private ConnectivityManager.NetworkCallback networkCallback;\r\n        private final ConnectivityManager cm;\r\n        private final HashSet&lt;Network&gt; validNetworks = new HashSet&lt;&gt;();\r\n        private final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    \r\n        public static final int NETWORK_STATUS_POST_DELAY = 1000;\r\n   \r\n     public ConnectionLiveData(Context context) {\r\n            cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        }\r\n\r\n    private void checkValidNetworks() {\r\n        new Handler(Looper.getMainLooper()).postDelayed(() -&gt;\r\n                        postValue(validNetworks.size() &gt; 0),\r\n                NETWORK_STATUS_POST_DELAY);\r\n    }\r\n\r\n    @Override\r\n    protected void onActive() {\r\n        networkCallback = createNetworkCallback();\r\n        NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n                .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n                .build();\r\n        cm.registerNetworkCallback(networkRequest, networkCallback);\r\n    }\r\n\r\n    @Override\r\n    protected void onInactive() {\r\n        cm.unregisterNetworkCallback(networkCallback);\r\n    }\r\n\r\n    private ConnectivityManager.NetworkCallback createNetworkCallback() {\r\n        return new ConnectivityManager.NetworkCallback() {\r\n            /*\r\n            Called when a network is detected. If that network has internet, save it in the Set.\r\n            Source: https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback#onAvailable(android.net.Network)\r\n            */\r\n            @Override\r\n            public void onAvailable(@NonNull Network network) {\r\n                NetworkCapabilities capabilities = cm.getNetworkCapabilities(network);\r\n                boolean hasInternetCapability = capabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET);\r\n                if (hasInternetCapability) {\r\n                    // check if this network actually has internet\r\n                    executor.execute(() -&gt; {\r\n                        boolean hasInternet = DoesNetworkHaveInternet.execute(network.getSocketFactory());\r\n                        if (hasInternet) {\r\n                            validNetworks.add(network);\r\n                            checkValidNetworks();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            /*\r\n            If the callback was registered with registerNetworkCallback() it will be called for each network which no longer satisfies the criteria of the callback.\r\n            Source: https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback#onLost(android.net.Network)\r\n            */\r\n            @Override\r\n            public void onLost(@NonNull Network network) {\r\n                validNetworks.remove(network);\r\n                checkValidNetworks();\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n\r\nWe extend `LiveData` here and implement 2 functions: `onActive()` and `onInactive()`. As you know `LiveData` is lifecycle-aware, when there is one observer, the `onActive` will be called. I use them to register/unregister the `ConnectivityManager`.\r\nWhen we register our `ConnectivityManager` we pass a `networkCallback` as a parameter. It has several methods, but as you can see in the `createNetworkCallback()` function we override only `onAvailable()` and `onLost()` functions. The `onAvailable()` and `onLost()` will be called if you will switch your network on/off. \r\n\r\nThere may be a case when the connection is on, but there&#39;s no connection with the server. In this case, I found a simple class that we can use to ping and validate our connection.\r\nUsing `ExecutorService` I validate the internet connection by pinging.\r\n\r\n    boolean hasInternet = DoesNetworkHaveInternet.execute(network.getSocketFactory());\r\n\r\nThe `DoesNetworkHaveInternet` code:\r\n\r\n    public class DoesNetworkHaveInternet {\r\n\r\n    private static final String HOST_NAME = &quot;8.8.8.8&quot;;\r\n    private static final int PORT = 53;\r\n    private static final int CONNECT_TIMEOUT = 1500;\r\n    \r\n    @WorkerThread\r\n    static Boolean execute(SocketFactory socketFactory) {\r\n        try {\r\n            Socket socket = socketFactory.createSocket();\r\n            socket.connect(new InetSocketAddress(HOST_NAME, PORT), CONNECT_TIMEOUT);\r\n            socket.close();\r\n            return true;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n    }\r\n\r\nIt&#39;s pinging and validates that we have a stable connection. \r\nIn the end, after verifying that we have a connection, we call the `checkValidNetworks()` functions. There is a delay because in some cases your connection may be off and on for a moment and for that I found there&#39;s no need to show network error. The `checkValidNetworks()` checks if `validNetworks` is not empty. It is a list as there are some types of connections, like wifi and mobile networks. If there&#39;s at least one stable connection, the `validNetworks` will not be empty. \r\nThat&#39;s it. You can observe it in your fragment or in an activity like this:\r\n\r\n    ConnectionLiveDataJava connectionLiveData = new ConnectionLiveDataJava(this);\r\n    connectionLiveData.observe(this, isConnected -&gt; {\r\n                \r\n    });\r\n\r\n\r\n","title":"How to observe network change in real time","body":"<p>To observe the connection changes in real time you can use LiveData. Before this we used BroadcastReceiver, but as you can see <code>Declaring a broadcastreceiver for android.net.conn.CONNECTIVITY_CHANGE is deprecated for apps targeting N and higher.</code></p>\n<p>I'll post the full code and explain every part of it.</p>\n<pre><code>public class ConnectionLiveData extends LiveData&lt;Boolean&gt; {\n    private ConnectivityManager.NetworkCallback networkCallback;\n    private final ConnectivityManager cm;\n    private final HashSet&lt;Network&gt; validNetworks = new HashSet&lt;&gt;();\n    private final ExecutorService executor = Executors.newSingleThreadExecutor();\n\n    public static final int NETWORK_STATUS_POST_DELAY = 1000;\n\n public ConnectionLiveData(Context context) {\n        cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    }\n\nprivate void checkValidNetworks() {\n    new Handler(Looper.getMainLooper()).postDelayed(() -&gt;\n                    postValue(validNetworks.size() &gt; 0),\n            NETWORK_STATUS_POST_DELAY);\n}\n\n@Override\nprotected void onActive() {\n    networkCallback = createNetworkCallback();\n    NetworkRequest networkRequest = new NetworkRequest.Builder()\n            .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n            .build();\n    cm.registerNetworkCallback(networkRequest, networkCallback);\n}\n\n@Override\nprotected void onInactive() {\n    cm.unregisterNetworkCallback(networkCallback);\n}\n\nprivate ConnectivityManager.NetworkCallback createNetworkCallback() {\n    return new ConnectivityManager.NetworkCallback() {\n        /*\n        Called when a network is detected. If that network has internet, save it in the Set.\n        Source: https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback#onAvailable(android.net.Network)\n        */\n        @Override\n        public void onAvailable(@NonNull Network network) {\n            NetworkCapabilities capabilities = cm.getNetworkCapabilities(network);\n            boolean hasInternetCapability = capabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET);\n            if (hasInternetCapability) {\n                // check if this network actually has internet\n                executor.execute(() -&gt; {\n                    boolean hasInternet = DoesNetworkHaveInternet.execute(network.getSocketFactory());\n                    if (hasInternet) {\n                        validNetworks.add(network);\n                        checkValidNetworks();\n                    }\n                });\n            }\n        }\n\n        /*\n        If the callback was registered with registerNetworkCallback() it will be called for each network which no longer satisfies the criteria of the callback.\n        Source: https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback#onLost(android.net.Network)\n        */\n        @Override\n        public void onLost(@NonNull Network network) {\n            validNetworks.remove(network);\n            checkValidNetworks();\n        }\n    };\n}\n</code></pre>\n<p>}</p>\n<p>We extend <code>LiveData</code> here and implement 2 functions: <code>onActive()</code> and <code>onInactive()</code>. As you know <code>LiveData</code> is lifecycle-aware, when there is one observer, the <code>onActive</code> will be called. I use them to register/unregister the <code>ConnectivityManager</code>.\nWhen we register our <code>ConnectivityManager</code> we pass a <code>networkCallback</code> as a parameter. It has several methods, but as you can see in the <code>createNetworkCallback()</code> function we override only <code>onAvailable()</code> and <code>onLost()</code> functions. The <code>onAvailable()</code> and <code>onLost()</code> will be called if you will switch your network on/off.</p>\n<p>There may be a case when the connection is on, but there's no connection with the server. In this case, I found a simple class that we can use to ping and validate our connection.\nUsing <code>ExecutorService</code> I validate the internet connection by pinging.</p>\n<pre><code>boolean hasInternet = DoesNetworkHaveInternet.execute(network.getSocketFactory());\n</code></pre>\n<p>The <code>DoesNetworkHaveInternet</code> code:</p>\n<pre><code>public class DoesNetworkHaveInternet {\n\nprivate static final String HOST_NAME = &quot;8.8.8.8&quot;;\nprivate static final int PORT = 53;\nprivate static final int CONNECT_TIMEOUT = 1500;\n\n@WorkerThread\nstatic Boolean execute(SocketFactory socketFactory) {\n    try {\n        Socket socket = socketFactory.createSocket();\n        socket.connect(new InetSocketAddress(HOST_NAME, PORT), CONNECT_TIMEOUT);\n        socket.close();\n        return true;\n    } catch (IOException e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n}\n</code></pre>\n<p>It's pinging and validates that we have a stable connection.\nIn the end, after verifying that we have a connection, we call the <code>checkValidNetworks()</code> functions. There is a delay because in some cases your connection may be off and on for a moment and for that I found there's no need to show network error. The <code>checkValidNetworks()</code> checks if <code>validNetworks</code> is not empty. It is a list as there are some types of connections, like wifi and mobile networks. If there's at least one stable connection, the <code>validNetworks</code> will not be empty.\nThat's it. You can observe it in your fragment or in an activity like this:</p>\n<pre><code>ConnectionLiveDataJava connectionLiveData = new ConnectionLiveDataJava(this);\nconnectionLiveData.observe(this, isConnected -&gt; {\n            \n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690275207,"post_id":76729108,"comment_id":135326973,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76729108/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25296170,"reputation":1,"user_id":19121274,"display_name":"Bhumesh Thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689850112,"creation_date":1689850112,"answer_id":76729108,"question_id":72457879,"body_markdown":"I&#39;m inserting your code also put snackbar in my existing project.but two situation is happen\r\n1) when every activity starts it snackbar shows.how to stop only first activity show others not.\r\n2) if internet is not connected at the very first run. It show no snackbar.\r\nPlease look at this.\r\n","title":"How to observe network change in real time","body":"<p>I'm inserting your code also put snackbar in my existing project.but two situation is happen</p>\n<ol>\n<li>when every activity starts it snackbar shows.how to stop only first activity show others not.</li>\n<li>if internet is not connected at the very first run. It show no snackbar.\nPlease look at this.</li>\n</ol>\n"}],"owner":{"display_name":"user18105926"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689850112,"creation_date":1654068482,"question_id":72457879,"body_markdown":"Hello i have a simple app what i have done is when user is no connected to the internet while launchng the app it will show a text view &quot;No Internet &quot; but the issue is when i start the internet or connect to any netwrok it doesnt brings up the orignal view what i have to do is i close the app and open once again to bring the main view\r\n\r\nhow can i switch between this two views in realtime when the connection is on/off\r\n\r\n\r\n**onCreate**\r\n\r\n      // Internet on/off\r\n            if (isOnline()) {\r\n                noInternet.setVisibility(View.INVISIBLE); // Online\r\n                mainRelativeLayout.setVisibility(View.VISIBLE);\r\n    \r\n            } else {\r\n                noInternet.setVisibility(View.VISIBLE); // Disconnected\r\n                mainRelativeLayout.setVisibility(View.INVISIBLE);\r\n            }\r\n\r\n-----------\r\n\r\nthis is what im using currently get the connction info \r\n   \r\n\r\n     // Internet on/off\r\n        public boolean isOnline() {\r\n            boolean connected = false;\r\n            try {\r\n                ConnectivityManager connectivityManager = (ConnectivityManager) this.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n                NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();\r\n                connected = networkInfo != null &amp;&amp; networkInfo.isAvailable() &amp;&amp; networkInfo.isConnected();\r\n                return connected;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return connected;\r\n        }","title":"How to observe network change in real time","body":"<p>Hello i have a simple app what i have done is when user is no connected to the internet while launchng the app it will show a text view &quot;No Internet &quot; but the issue is when i start the internet or connect to any netwrok it doesnt brings up the orignal view what i have to do is i close the app and open once again to bring the main view</p>\n<p>how can i switch between this two views in realtime when the connection is on/off</p>\n<p><strong>onCreate</strong></p>\n<pre><code>  // Internet on/off\n        if (isOnline()) {\n            noInternet.setVisibility(View.INVISIBLE); // Online\n            mainRelativeLayout.setVisibility(View.VISIBLE);\n\n        } else {\n            noInternet.setVisibility(View.VISIBLE); // Disconnected\n            mainRelativeLayout.setVisibility(View.INVISIBLE);\n        }\n</code></pre>\n<hr />\n<p>this is what im using currently get the connction info</p>\n<pre><code> // Internet on/off\n    public boolean isOnline() {\n        boolean connected = false;\n        try {\n            ConnectivityManager connectivityManager = (ConnectivityManager) this.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n            NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();\n            connected = networkInfo != null &amp;&amp; networkInfo.isAvailable() &amp;&amp; networkInfo.isConnected();\n            return connected;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return connected;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","arraylist"],"comments":[{"owner":{"account_id":5205527,"reputation":707,"user_id":4163605,"accept_rate":35,"display_name":"Serg Shapoval"},"score":0,"creation_date":1689866735,"post_id":76729098,"comment_id":135277057,"body_markdown":"I would recommend you to wrap your list `lendersetting` into an object that contains this list firstly. Next what you need, regarding to the first step, convert your json into an object that contains an array `{     &quot;foos&quot; : [{         &quot;prop1&quot;:&quot;value1&quot;,         &quot;prop2&quot;:&quot;value2&quot;     }, {         &quot;prop1&quot;:&quot;value3&quot;,          &quot;prop2&quot;:&quot;value4&quot;     }] }`.","body":"I would recommend you to wrap your list <code>lendersetting</code> into an object that contains this list firstly. Next what you need, regarding to the first step, convert your json into an object that contains an array <code>{     &quot;foos&quot; : [{         &quot;prop1&quot;:&quot;value1&quot;,         &quot;prop2&quot;:&quot;value2&quot;     }, {         &quot;prop1&quot;:&quot;value3&quot;,          &quot;prop2&quot;:&quot;value4&quot;     }] }</code>."}],"owner":{"account_id":23858121,"reputation":343,"user_id":17861415,"display_name":"lauwis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689849999,"creation_date":1689849999,"question_id":76729098,"body_markdown":"I try to get an input form with model `@requestbody` in spring boot controller. The parameter is dynamic, there will be more than 1 input with the same name. So i assume to using array as the part of the name.\r\n\r\nWhen `setting.getProduct()` in controller. The return is always null while debugging. And it&#39;s looping forever. Is there any issue there?\r\n\r\nI expect, it will loop twice and get the correct value \r\n\r\n**MODEL**\r\n\r\n    public class LenderSetting {\r\n    \tString product, limit,nominal;\r\n    \r\n    \tpublic String getProduct() {\r\n    \t\treturn product;\r\n    \t}\r\n    \r\n    \tpublic void setProduct(String product) {\r\n    \t\tthis.product = product;\r\n    \t}\r\n    }\r\n\r\n**Controller**\r\n\r\n    @RequestMapping(value = &quot;/submitRuleSetting&quot;, method = RequestMethod.POST)\r\n    \tpublic @ResponseBody String dopostrule(@RequestBody List&lt;LenderSetting&gt; lendersetting,HttpSession session, HttpServletRequest req) {\r\n    \t\ttoken.regenToken(session);\r\n    \t\tJSONArray abc = new JSONArray();\r\n    \t\r\n    \t\tfor (LenderSetting setting : lendersetting) {\r\n    \t\t\tJSONObject hoho = new JSONObject();\r\n                String product = setting.getProduct();\r\n                hoho.put(&quot;product&quot;,product);\r\n                abc.put(hoho);\r\n                \r\n            }\r\n    \t\treturn &quot;&quot;;\r\n    \t\t\r\n    \t}\r\n\r\n**HTML FORM**\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    \t&lt;label class=&quot;control-label&quot;&gt;Product&lt;/label&gt;\r\n    \t\t&lt;select name=&quot;lendersetting[0].product&quot; class=&quot;form-control&quot;&gt;\r\n    \t\t\t&lt;option value=&quot;A02&quot;&gt;A02&lt;/option&gt;\r\n    \t\t\t&lt;option value=&quot;A08&quot;&gt;A08&lt;/option&gt;\r\n    \t\t&lt;/select&gt;\r\n    \t&lt;/div&gt;\r\n\r\n\r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n    \t&lt;label class=&quot;control-label&quot;&gt;Product&lt;/label&gt;\r\n    \t\t&lt;select name=&quot;lendersetting[1].product&quot; class=&quot;form-control&quot;&gt;\r\n    \t\t\t&lt;option value=&quot;A02&quot;&gt;A02&lt;/option&gt;\r\n    \t\t\t&lt;option value=&quot;A08&quot;&gt;A08&lt;/option&gt;\r\n    \t\t&lt;/select&gt;\r\n    \t&lt;/div&gt;    \t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n**FORM AJAX**\r\n\r\n\tconsole.log(JSON.stringify($(&quot;#formInput&quot;).serializeArray()));\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\ttype : &quot;POST&quot;,\r\n\t\t\t\t\t\t\turl : &quot;${url}/submitRuleSetting&quot;,\r\n\t\t\t\t\t\t\tdata: JSON.stringify($(&quot;#formInput&quot;).serializeArray()),\r\n\t\t\t\t\t\t\t  contentType: &quot;application/json&quot;, header to JSON\r\n\t\t\t\t\t\t\t  dataType: &quot;json&quot;, \r\n\t\t\t\t\t\t\t  cache: false,\r\n\t\t\t\t\t\t\t//... REST\r\n    });\r\n\r\n**Console Result**\r\n\r\n    {&quot;name&quot;:&quot;lendersetting[0].product&quot;,&quot;value&quot;:&quot;A02&quot;},{&quot;name&quot;:&quot;lendersetting[1].product&quot;,&quot;value&quot;:&quot;A02&quot;},","title":"Spring boot get form input always null","body":"<p>I try to get an input form with model <code>@requestbody</code> in spring boot controller. The parameter is dynamic, there will be more than 1 input with the same name. So i assume to using array as the part of the name.</p>\n<p>When <code>setting.getProduct()</code> in controller. The return is always null while debugging. And it's looping forever. Is there any issue there?</p>\n<p>I expect, it will loop twice and get the correct value</p>\n<p><strong>MODEL</strong></p>\n<pre><code>public class LenderSetting {\n    String product, limit,nominal;\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RequestMapping(value = &quot;/submitRuleSetting&quot;, method = RequestMethod.POST)\n    public @ResponseBody String dopostrule(@RequestBody List&lt;LenderSetting&gt; lendersetting,HttpSession session, HttpServletRequest req) {\n        token.regenToken(session);\n        JSONArray abc = new JSONArray();\n    \n        for (LenderSetting setting : lendersetting) {\n            JSONObject hoho = new JSONObject();\n            String product = setting.getProduct();\n            hoho.put(&quot;product&quot;,product);\n            abc.put(hoho);\n            \n        }\n        return &quot;&quot;;\n        \n    }\n</code></pre>\n<p><strong>HTML FORM</strong></p>\n<pre><code>&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label class=&quot;control-label&quot;&gt;Product&lt;/label&gt;\n        &lt;select name=&quot;lendersetting[0].product&quot; class=&quot;form-control&quot;&gt;\n            &lt;option value=&quot;A02&quot;&gt;A02&lt;/option&gt;\n            &lt;option value=&quot;A08&quot;&gt;A08&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n\n\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label class=&quot;control-label&quot;&gt;Product&lt;/label&gt;\n        &lt;select name=&quot;lendersetting[1].product&quot; class=&quot;form-control&quot;&gt;\n            &lt;option value=&quot;A02&quot;&gt;A02&lt;/option&gt;\n            &lt;option value=&quot;A08&quot;&gt;A08&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;                                                      \n                                                \n</code></pre>\n<p><strong>FORM AJAX</strong></p>\n<pre><code>console.log(JSON.stringify($(&quot;#formInput&quot;).serializeArray()));\n                    $.ajax({\n                        type : &quot;POST&quot;,\n                        url : &quot;${url}/submitRuleSetting&quot;,\n                        data: JSON.stringify($(&quot;#formInput&quot;).serializeArray()),\n                          contentType: &quot;application/json&quot;, header to JSON\n                          dataType: &quot;json&quot;, \n                          cache: false,\n                        //... REST\n});\n</code></pre>\n<p><strong>Console Result</strong></p>\n<pre><code>{&quot;name&quot;:&quot;lendersetting[0].product&quot;,&quot;value&quot;:&quot;A02&quot;},{&quot;name&quot;:&quot;lendersetting[1].product&quot;,&quot;value&quot;:&quot;A02&quot;},\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","java-threads","spinlock"],"comments":[{"owner":{"account_id":3296493,"reputation":1463,"user_id":2773647,"accept_rate":67,"display_name":"cybersoft"},"score":0,"creation_date":1499603598,"post_id":44622384,"comment_id":76966808,"body_markdown":"javadoc for [onSpinWait](http://download.java.net/java/jdk9/docs/api/java/lang/Thread.html#onSpinWait--) contains API note that explains how to use it","body":"javadoc for <a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/Thread.html#onSpinWait--\" rel=\"nofollow noreferrer\">onSpinWait</a> contains API note that explains how to use it"},{"owner":{"account_id":1477288,"reputation":5052,"user_id":1387386,"display_name":"Anatolii Shuba"},"score":0,"creation_date":1627347812,"post_id":44622384,"comment_id":121126527,"body_markdown":"`Thread.onSpinWait()` is an imlementation od the [JEP-285](https://openjdk.java.net/jeps/285)","body":"<code>Thread.onSpinWait()</code> is an imlementation od the <a href=\"https://openjdk.java.net/jeps/285\" rel=\"nofollow noreferrer\">JEP-285</a>"}],"answers":[{"comments":[{"owner":{"account_id":200418,"reputation":29303,"user_id":446261,"accept_rate":85,"display_name":"Pieter van Ginkel"},"score":10,"creation_date":1500293859,"post_id":44637514,"comment_id":77256792,"body_markdown":"While the above is correct, the example is far from ideal. Spin locks are for cases where you&#39;re waiting for the lock rarely and, if you are, for a very short time; at most a millisecond. The whole point of having spin locks is to not have the overhead of a normal lock because you&#39;re locking a lot (e.g. lock free data structures) and you can&#39;t take the hit of a normal lock overhead. This really is not the case while waiting for new mail to arrive, in which case you&#39;ll really want to use a normal lock mechanism. Long story short the chances you&#39;re going to ever need this are slim.","body":"While the above is correct, the example is far from ideal. Spin locks are for cases where you&#39;re waiting for the lock rarely and, if you are, for a very short time; at most a millisecond. The whole point of having spin locks is to not have the overhead of a normal lock because you&#39;re locking a lot (e.g. lock free data structures) and you can&#39;t take the hit of a normal lock overhead. This really is not the case while waiting for new mail to arrive, in which case you&#39;ll really want to use a normal lock mechanism. Long story short the chances you&#39;re going to ever need this are slim."},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":1,"creation_date":1500308088,"post_id":44637514,"comment_id":77267139,"body_markdown":"@PieterVanGinkel Yeah it&#39;s mentioned in the linked article, but I couldn&#39;t think af a better example. In fact they also say that &quot;latency sensitive&quot; applications, as a [Disruptor](https://lmax-exchange.github.io/disruptor/) might use spin-wait for long tasks too.","body":"@PieterVanGinkel Yeah it&#39;s mentioned in the linked article, but I couldn&#39;t think af a better example. In fact they also say that &quot;latency sensitive&quot; applications, as a <a href=\"https://lmax-exchange.github.io/disruptor/\" rel=\"nofollow noreferrer\">Disruptor</a> might use spin-wait for long tasks too."},{"owner":{"account_id":9857077,"reputation":710,"user_id":7301259,"display_name":"AwesomeHunter"},"score":1,"creation_date":1610013111,"post_id":44637514,"comment_id":116000678,"body_markdown":"An appropriate place to use would be implementation of lock-free concurrent algorithm. Like ConcurrentHashMap of JDK, when it needs to spin wait, the author Doug Lea uses Thead.yield(). If he rewrites this now, Thread.onSpinWait() would fit better.","body":"An appropriate place to use would be implementation of lock-free concurrent algorithm. Like ConcurrentHashMap of JDK, when it needs to spin wait, the author Doug Lea uses Thead.yield(). If he rewrites this now, Thread.onSpinWait() would fit better."}],"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1497896831,"creation_date":1497896831,"answer_id":44637514,"question_id":44622384,"body_markdown":"Pure system hinting!\n\nReading [this article](http://openjdk.java.net/jeps/285) I quote:\n\n&gt;**Goals**\n&gt;\n&gt;Define an API that would allow Java code to hint to the run-time system that it is in a spin loop. The API will be a pure hint, and will carry no semantic behaviour requirements (for example, a no-op is a valid implementation). Allow the JVM to benefit from spin loop specific behaviours that may be useful on certain hardware platforms. Provide both a no-op implementation and an intrinsic implementation in the JDK, and demonstrate an execution benefit on at least one major hardware platform.\n\nThere are many times a thread must be suspended until something outside its scope changes. A (once) common practice was the `wait() notify()` pattern where there&#39;s one thread waiting for the other thread to wake them up.\n\nThere is a big limitation to this, namely, the other thread must be aware that there might be waiting threads and should notify. If the work of the other thread is outside your control, there&#39;s no way to get notified.\n\nThe only way would be a *spin-wait*. let&#39;s say you have a program that checks for new emails and notifies the user:\n\n    while(true) {\n        while(!newEmailArrived()) {\n        }\n        makeNotification();\n    }\n\nThis piece of code will execute millions of times a seconds; spinning over and over, using precious of electricity and CPU power. A common way of doing this would be to wait a few seconds on each iteration.\n\n    while(true) {\n        while(!newEmailArrived()) {\n            try {\n                Thread.sleep(5000);\n            } catch(InterruptedException e) {\n            }\n        }\n        makeNotification();\n    }\n\nThis does a very good job. But in cases where you have to work instantly a sleep may be out of question.\n\nJava 9 tries to solve this issue by introducing this new method:\n\n    while(true) {\n        while(!newEmailArrived()) {\n            Thread.onSpinWait();\n        }\n        makeNotification();\n    }\n\nThis will work exactly the same as without the method call, but the system is free to lower the process priority; slowing the cycle or reduce electricity on this loop when its resources are needed for other more important things.","title":"onSpinWait​() method of Thread class - Java 9","body":"<p>Pure system hinting!</p>\n<p>Reading <a href=\"http://openjdk.java.net/jeps/285\" rel=\"noreferrer\">this article</a> I quote:</p>\n<blockquote>\n<p><strong>Goals</strong></p>\n<p>Define an API that would allow Java code to hint to the run-time system that it is in a spin loop. The API will be a pure hint, and will carry no semantic behaviour requirements (for example, a no-op is a valid implementation). Allow the JVM to benefit from spin loop specific behaviours that may be useful on certain hardware platforms. Provide both a no-op implementation and an intrinsic implementation in the JDK, and demonstrate an execution benefit on at least one major hardware platform.</p>\n</blockquote>\n<p>There are many times a thread must be suspended until something outside its scope changes. A (once) common practice was the <code>wait() notify()</code> pattern where there's one thread waiting for the other thread to wake them up.</p>\n<p>There is a big limitation to this, namely, the other thread must be aware that there might be waiting threads and should notify. If the work of the other thread is outside your control, there's no way to get notified.</p>\n<p>The only way would be a <em>spin-wait</em>. let's say you have a program that checks for new emails and notifies the user:</p>\n<pre><code>while(true) {\n    while(!newEmailArrived()) {\n    }\n    makeNotification();\n}\n</code></pre>\n<p>This piece of code will execute millions of times a seconds; spinning over and over, using precious of electricity and CPU power. A common way of doing this would be to wait a few seconds on each iteration.</p>\n<pre><code>while(true) {\n    while(!newEmailArrived()) {\n        try {\n            Thread.sleep(5000);\n        } catch(InterruptedException e) {\n        }\n    }\n    makeNotification();\n}\n</code></pre>\n<p>This does a very good job. But in cases where you have to work instantly a sleep may be out of question.</p>\n<p>Java 9 tries to solve this issue by introducing this new method:</p>\n<pre><code>while(true) {\n    while(!newEmailArrived()) {\n        Thread.onSpinWait();\n    }\n    makeNotification();\n}\n</code></pre>\n<p>This will work exactly the same as without the method call, but the system is free to lower the process priority; slowing the cycle or reduce electricity on this loop when its resources are needed for other more important things.</p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1497966984,"post_id":44637990,"comment_id":76295460,"body_markdown":"oh darn yes! totally my bad, was a reading that in the wrong direction. That is still puzzling to me... this is going to be used *only* when C2 compiler (aka JIT) kicks in. Until than, nothing would happen...","body":"oh darn yes! totally my bad, was a reading that in the wrong direction. That is still puzzling to me... this is going to be used <i>only</i> when C2 compiler (aka JIT) kicks in. Until than, nothing would happen..."},{"owner":{"account_id":4438260,"reputation":25796,"user_id":3613500,"accept_rate":95,"display_name":"David Haim"},"score":0,"creation_date":1497967399,"post_id":44637990,"comment_id":76295793,"body_markdown":"@Eugene yes, but since `onSpinWait` is pure optimization, anyway you don&#39;t care about your Java application performance before the JIT kicks in. So it&#39;s a win-win situation","body":"@Eugene yes, but since <code>onSpinWait</code> is pure optimization, anyway you don&#39;t care about your Java application performance before the JIT kicks in. So it&#39;s a win-win situation"}],"tags":[],"owner":{"account_id":4438260,"reputation":25796,"user_id":3613500,"accept_rate":95,"display_name":"David Haim"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1689849634,"creation_date":1497898682,"answer_id":44637990,"question_id":44622384,"body_markdown":"It&#39;s the same (and probably compiles to) as the x86 opcode `PAUSE` and equivalent the Win32 macro `YieldProcessor`, GCC&#39;s `__mm_pause()` and the C# method `Thread.SpinWait`\r\n\r\nIt&#39;s a very weakened form of yielding: it tells your CPU that you are in a loop that may burn many CPU-cycles waiting for something to happen (busy-waiting).\r\n\r\nThis way, The CPU can assign more resources to other threads, without actually loading the OS scheduler and dequeuing a ready-to-run thread (which may be expensive).\r\n\r\nA common use for that is spin-locking, when you know the contention on a shared memory is very infrequent or finishes very quickly, a spinlock may perform better than an ordinary lock. \r\n\r\nPseudo code for such can look like:\r\n\r\n    int state = 0; //1 - locked, 0 - unlocked\r\n    \r\n    routine lock:\r\n        while state.cas(new_value=1, wanted_value=0) == false //if state is 0 (unlocked), store 1 (locked) and return true, otherwise just return false.\r\n           yield\r\n    \r\n    routine unlock:\r\n        atomic_store(state,0)\r\n\r\n\r\n\r\n`yield` can be implemented with `Thread.onSpinWait()`, hinting that while trying to lock the lock, the CPU can give more resources to other threads.\r\n   \r\nThis technique of yielding is extremely common and popular when implementing a lock-free algorithm, since most of them depend on busy-waiting (which is implemented almost always as an atomic compare-and-swap loop). this has every real-world use you can imagine.  ","title":"onSpinWait​() method of Thread class - Java 9","body":"<p>It's the same (and probably compiles to) as the x86 opcode <code>PAUSE</code> and equivalent the Win32 macro <code>YieldProcessor</code>, GCC's <code>__mm_pause()</code> and the C# method <code>Thread.SpinWait</code></p>\n<p>It's a very weakened form of yielding: it tells your CPU that you are in a loop that may burn many CPU-cycles waiting for something to happen (busy-waiting).</p>\n<p>This way, The CPU can assign more resources to other threads, without actually loading the OS scheduler and dequeuing a ready-to-run thread (which may be expensive).</p>\n<p>A common use for that is spin-locking, when you know the contention on a shared memory is very infrequent or finishes very quickly, a spinlock may perform better than an ordinary lock.</p>\n<p>Pseudo code for such can look like:</p>\n<pre><code>int state = 0; //1 - locked, 0 - unlocked\n\nroutine lock:\n    while state.cas(new_value=1, wanted_value=0) == false //if state is 0 (unlocked), store 1 (locked) and return true, otherwise just return false.\n       yield\n\nroutine unlock:\n    atomic_store(state,0)\n</code></pre>\n<p><code>yield</code> can be implemented with <code>Thread.onSpinWait()</code>, hinting that while trying to lock the lock, the CPU can give more resources to other threads.</p>\n<p>This technique of yielding is extremely common and popular when implementing a lock-free algorithm, since most of them depend on busy-waiting (which is implemented almost always as an atomic compare-and-swap loop). this has every real-world use you can imagine.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1689849867,"creation_date":1497972186,"answer_id":44657106,"question_id":44622384,"body_markdown":"I just want to add my 2 cents after reading the document and the source code for it. This method *might* trigger some optimizations and might not - so care must be taken - you can&#39;t really rely on it - since this a _hint_ to the CPU more than demand, probably there&#39;s no initial relying whatsoever either way. Meaning that it&#39;s actual source code looks like this:\r\n\r\n\r\n    @HotSpotIntrinsicCandidate\r\n    public static void onSpinWait() {}\r\n\r\nWhat this actually means is that this method is basically a NO-OP until it hits the _c2 compiler_ in the JIT, according to [this][1].\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8147844","title":"onSpinWait​() method of Thread class - Java 9","body":"<p>I just want to add my 2 cents after reading the document and the source code for it. This method <em>might</em> trigger some optimizations and might not - so care must be taken - you can't really rely on it - since this a <em>hint</em> to the CPU more than demand, probably there's no initial relying whatsoever either way. Meaning that it's actual source code looks like this:</p>\n<pre><code>@HotSpotIntrinsicCandidate\npublic static void onSpinWait() {}\n</code></pre>\n<p>What this actually means is that this method is basically a NO-OP until it hits the <em>c2 compiler</em> in the JIT, according to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8147844\" rel=\"nofollow noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":2504552,"reputation":392,"user_id":2178663,"accept_rate":25,"display_name":"igaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1503549617,"creation_date":1503549617,"answer_id":45853068,"question_id":44622384,"body_markdown":"For a real-world example,\r\nsay you wanted to implement asynchronous logging, where threads that want to log something, don&#39;t want to wait for their log message to get &quot;published&quot; (say written to a file), just so long as it eventually does (because they&#39;ve got real work to do.)\r\n\r\n    Producer(s):\r\n    concurrentQueue.push(&quot;Log my message&quot;)\r\n\r\nAnd say, you decide on having a dedicated consumer thread, that is solely responsible for actually writing log messages to a file:\r\n\r\n    (Single)Consumer\r\n\r\n    while (concurrentQueue.isEmpty())\r\n    {\r\n        //what should I do?\r\n\r\n    }\r\n    writeToFile(concurrentQueue.popHead());\r\n    //loop\r\n\r\nThe issue is what to do in inside the while block?  Java has not provided ideal solutions: you could do a Thread.sleep(), but for how long and that&#39;s heavyweight;  or a Thread.yield(), but that&#39;s unspecified, or you could use a lock or mutex*, but that&#39;s often too heavyweight and slows the producers down as well (and vitiates the stated purpose of asynchronous logging).\r\n\r\nWhat you really want is to say to the runtime, &quot;I anticipate that I won&#39;t be waiting too long, but I&#39;d like to minimize any overhead in waiting/negative effects on other threads&quot;.\r\nThat&#39;s where Thread.onSpinWait() comes in.\r\n\r\nAs a response above indicated, on platforms that support it (like x86), onSpinWait() gets intrinsified into a PAUSE instruction, which will give you the benefits that you want.  So:\r\n\r\n    (Single)Consumer\r\n\r\n    while (concurrentQueue.isEmpty())\r\n    {\r\n        Thread.onSpinWait();\r\n\r\n    }\r\n    writeToFile(concurrentQueue.popHead());\r\n    //loop\r\n\r\nIt&#39;s been [shown empirically](http://openjdk.java.net/jeps/285) that this can improve latency of &quot;busy-waiting&quot; style loops.\r\n\r\nI also want to clarify, that it is not just useful in implementing &quot;spin-locks&quot; (although it&#39;s definitely useful in such a circumstance); the code above does not require a lock (spin or otherwise) of any kind.\r\n\r\nIf you want to get into the weeds, you can&#39;t do better than [Intel&#39;s specs](https://www.intel.com/content/dam/www/public/us/en/documents/manuals/64-ia-32-architectures-optimization-manual.pdf) \r\n\r\n\r\n*For clarity, the JVM is incredibly smart in attempting to minimize the cost of mutexes, and will use lightweight locks initially, but that&#39;s another discussion.","title":"onSpinWait​() method of Thread class - Java 9","body":"<p>For a real-world example,\nsay you wanted to implement asynchronous logging, where threads that want to log something, don't want to wait for their log message to get \"published\" (say written to a file), just so long as it eventually does (because they've got real work to do.)</p>\n\n<pre><code>Producer(s):\nconcurrentQueue.push(\"Log my message\")\n</code></pre>\n\n<p>And say, you decide on having a dedicated consumer thread, that is solely responsible for actually writing log messages to a file:</p>\n\n<pre><code>(Single)Consumer\n\nwhile (concurrentQueue.isEmpty())\n{\n    //what should I do?\n\n}\nwriteToFile(concurrentQueue.popHead());\n//loop\n</code></pre>\n\n<p>The issue is what to do in inside the while block?  Java has not provided ideal solutions: you could do a Thread.sleep(), but for how long and that's heavyweight;  or a Thread.yield(), but that's unspecified, or you could use a lock or mutex*, but that's often too heavyweight and slows the producers down as well (and vitiates the stated purpose of asynchronous logging).</p>\n\n<p>What you really want is to say to the runtime, \"I anticipate that I won't be waiting too long, but I'd like to minimize any overhead in waiting/negative effects on other threads\".\nThat's where Thread.onSpinWait() comes in.</p>\n\n<p>As a response above indicated, on platforms that support it (like x86), onSpinWait() gets intrinsified into a PAUSE instruction, which will give you the benefits that you want.  So:</p>\n\n<pre><code>(Single)Consumer\n\nwhile (concurrentQueue.isEmpty())\n{\n    Thread.onSpinWait();\n\n}\nwriteToFile(concurrentQueue.popHead());\n//loop\n</code></pre>\n\n<p>It's been <a href=\"http://openjdk.java.net/jeps/285\" rel=\"noreferrer\">shown empirically</a> that this can improve latency of \"busy-waiting\" style loops.</p>\n\n<p>I also want to clarify, that it is not just useful in implementing \"spin-locks\" (although it's definitely useful in such a circumstance); the code above does not require a lock (spin or otherwise) of any kind.</p>\n\n<p>If you want to get into the weeds, you can't do better than <a href=\"https://www.intel.com/content/dam/www/public/us/en/documents/manuals/64-ia-32-architectures-optimization-manual.pdf\" rel=\"noreferrer\">Intel's specs</a> </p>\n\n<p>*For clarity, the JVM is incredibly smart in attempting to minimize the cost of mutexes, and will use lightweight locks initially, but that's another discussion.</p>\n"}],"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13102,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":44637990,"answer_count":4,"score":40,"last_activity_date":1689849867,"creation_date":1497847382,"question_id":44622384,"body_markdown":"While learning Java 9 features I came across a new method of `Thread` class, called [`onSpinWait​`][1]. As per javadocs, this method is used for this:\r\n\r\n&gt; Indicates that the caller is momentarily unable to progress, until the\r\n&gt; occurrence of one or more actions on the part of other activities.\r\n\r\nCan someone help me understand this method giving a real-life example or scenario?\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html#onSpinWait--","title":"onSpinWait​() method of Thread class - Java 9","body":"<p>While learning Java 9 features I came across a new method of <code>Thread</code> class, called <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html#onSpinWait--\" rel=\"noreferrer\"><code>onSpinWait​</code></a>. As per javadocs, this method is used for this:</p>\n\n<blockquote>\n  <p>Indicates that the caller is momentarily unable to progress, until the\n  occurrence of one or more actions on the part of other activities.</p>\n</blockquote>\n\n<p>Can someone help me understand this method giving a real-life example or scenario?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689831556,"post_id":76726907,"comment_id":135269519,"body_markdown":"Is _finInstKey_ always a numeric value?","body":"Is <i>finInstKey</i> always a numeric value?"},{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1689831846,"post_id":76726907,"comment_id":135269538,"body_markdown":"@Reilas no, it can be a string as well. and here I have provided finInstKey as static json key. In code, there will be a dynamic key name.","body":"@Reilas no, it can be a string as well. and here I have provided finInstKey as static json key. In code, there will be a dynamic key name."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1689832592,"post_id":76726907,"comment_id":135269646,"body_markdown":"`(.*?)` is the same as `(.*)`","body":"<code>(.*?)</code> is the same as <code>(.*)</code>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689841222,"post_id":76726907,"comment_id":135271251,"body_markdown":"[this answer](https://stackoverflow.com/a/1732454/8681) is about HTML instead of JSON, but it applies here none the less.","body":"<a href=\"https://stackoverflow.com/a/1732454/8681\">this answer</a> is about HTML instead of JSON, but it applies here none the less."}],"answers":[{"comments":[{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1689832637,"post_id":76726984,"comment_id":135269654,"body_markdown":"Thanks, But it is not giving me the expected output. In fact, this regex is not capturing all the expected groups.","body":"Thanks, But it is not giving me the expected output. In fact, this regex is not capturing all the expected groups."},{"owner":{"account_id":5972924,"reputation":3473,"user_id":4694757,"display_name":"I_Al-thamary"},"score":0,"creation_date":1689834464,"post_id":76726984,"comment_id":135269928,"body_markdown":"@ThakurSahab I have updated the code with your input.","body":"@ThakurSahab I have updated the code with your input."},{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1689835533,"post_id":76726984,"comment_id":135270105,"body_markdown":"I have recently updated my question, and pasted my sample code. can you please take a look so that you may get familiar with what exactly I want to do.","body":"I have recently updated my question, and pasted my sample code. can you please take a look so that you may get familiar with what exactly I want to do."},{"owner":{"account_id":5972924,"reputation":3473,"user_id":4694757,"display_name":"I_Al-thamary"},"score":0,"creation_date":1689837011,"post_id":76726984,"comment_id":135270419,"body_markdown":"@ThakurSahab The code is after your update.","body":"@ThakurSahab The code is after your update."}],"tags":[],"owner":{"account_id":5972924,"reputation":3473,"user_id":4694757,"display_name":"I_Al-thamary"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689834551,"creation_date":1689831955,"answer_id":76726984,"question_id":76726907,"body_markdown":"The `finInstKey` key is not enclosed in quotes leading to empty matches. By changing the pattern to `&quot;finInstKey&quot;` you will allow it to match this input and correctly extract the value.\r\n\r\nUse it like\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            String field = &quot;finInstKey&quot;;\r\n            String regex = &quot;\\&quot;?&quot; + field + &quot;\\&quot;?(\\\\s*:\\\\s*\\&quot;?([^\\&quot;,}]*)\\&quot;?|\\&quot;,\\&quot;value\\&quot;\\\\s*:\\\\s*\\&quot;?([^\\&quot;,}]*)\\&quot;?)&quot;;\r\n    \r\n            String input = &quot;{\\&quot;finInstKey\\&quot;:500},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:12345678900987654321}{finInstKey:\\&quot;500\\&quot;},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:\\&quot;12345678900987654321\\&quot;}&quot;;\r\n    \r\n            Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n            Matcher matcher = pattern.matcher(input);\r\n    \r\n            while (matcher.find()) {\r\n                if (matcher.group(2) != null) {\r\n                    System.out.println(matcher.group(2));\r\n                } else {\r\n                    System.out.println(matcher.group(3));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nhere is the [code][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/NBhjl06A1","title":"Regex capturing empty string along with the expected groups, want it to not to capture empty string","body":"<p>The <code>finInstKey</code> key is not enclosed in quotes leading to empty matches. By changing the pattern to <code>&quot;finInstKey&quot;</code> you will allow it to match this input and correctly extract the value.</p>\n<p>Use it like</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String field = &quot;finInstKey&quot;;\n        String regex = &quot;\\&quot;?&quot; + field + &quot;\\&quot;?(\\\\s*:\\\\s*\\&quot;?([^\\&quot;,}]*)\\&quot;?|\\&quot;,\\&quot;value\\&quot;\\\\s*:\\\\s*\\&quot;?([^\\&quot;,}]*)\\&quot;?)&quot;;\n\n        String input = &quot;{\\&quot;finInstKey\\&quot;:500},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:12345678900987654321}{finInstKey:\\&quot;500\\&quot;},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:\\&quot;12345678900987654321\\&quot;}&quot;;\n\n        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(input);\n\n        while (matcher.find()) {\n            if (matcher.group(2) != null) {\n                System.out.println(matcher.group(2));\n            } else {\n                System.out.println(matcher.group(3));\n            }\n        }\n    }\n}\n</code></pre>\n<p>here is the <a href=\"https://onlinegdb.com/NBhjl06A1\" rel=\"nofollow noreferrer\">code</a></p>\n"},{"comments":[{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":1,"creation_date":1689832895,"post_id":76726998,"comment_id":135269695,"body_markdown":"Thanks, but I have to use the regex to capture the json property values, and mask them and print the logs. I tried to do the same using jackson library but the performance was not close to the regex and patterns. So chose, regex for this task.","body":"Thanks, but I have to use the regex to capture the json property values, and mask them and print the logs. I tried to do the same using jackson library but the performance was not close to the regex and patterns. So chose, regex for this task."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1689841106,"post_id":76726998,"comment_id":135271225,"body_markdown":"@ThakurSahab That decision will come back to bite you. For example, when you have to change your regex *again* to parse a slightly different object. Performance isn&#39;t everything, development speed matters as well.","body":"@ThakurSahab That decision will come back to bite you. For example, when you have to change your regex <i>again</i> to parse a slightly different object. Performance isn&#39;t everything, development speed matters as well."}],"tags":[],"owner":{"account_id":18213449,"reputation":59,"user_id":13255515,"display_name":"Linden Wells"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1689832103,"creation_date":1689832103,"answer_id":76726998,"question_id":76726907,"body_markdown":"It&#39;d probably be easier using a JSON parsing library to parse JSON, instead of regex.\r\nTry the `.fromJSON` method from https://github.com/google/gson\r\n\r\nIf you insist on using regex, maybe look into the `+` symbol in regex, it means &quot;match one or more&quot;. Regex is pretty difficult to read when it gets complicated like you have there.","title":"Regex capturing empty string along with the expected groups, want it to not to capture empty string","body":"<p>It'd probably be easier using a JSON parsing library to parse JSON, instead of regex.\nTry the <code>.fromJSON</code> method from <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">https://github.com/google/gson</a></p>\n<p>If you insist on using regex, maybe look into the <code>+</code> symbol in regex, it means &quot;match one or more&quot;. Regex is pretty difficult to read when it gets complicated like you have there.</p>\n"},{"comments":[{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1689833513,"post_id":76727097,"comment_id":135269777,"body_markdown":"I actually used jackson library before switching to Pattern and Matcher. The reason I chose to move to regex is the performance, regex performs way better than these libraries.","body":"I actually used jackson library before switching to Pattern and Matcher. The reason I chose to move to regex is the performance, regex performs way better than these libraries."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689833982,"post_id":76727097,"comment_id":135269842,"body_markdown":"@ThakurSahab, I&#39;ve updated the answer with a working pattern.","body":"@ThakurSahab, I&#39;ve updated the answer with a working pattern."},{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1689836330,"post_id":76727097,"comment_id":135270280,"body_markdown":"I have recently updated my question, and pasted my sample code. can you please take a look so that you may get familiar with what exactly I want to do.","body":"I have recently updated my question, and pasted my sample code. can you please take a look so that you may get familiar with what exactly I want to do."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1689837773,"post_id":76727097,"comment_id":135270573,"body_markdown":"@ThakurSahab, use `.+?` instead of `.*?`.","body":"@ThakurSahab, use <code>.+?</code> instead of <code>.*?</code>."},{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1689924362,"post_id":76727097,"comment_id":135284691,"body_markdown":"changing to (.+?) did helped me in not capturing the empty string but is capturing double quotes (&quot;) along with the value, like. &quot;500","body":"changing to (.+?) did helped me in not capturing the empty string but is capturing double quotes (&quot;) along with the value, like. &quot;500"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689945514,"post_id":76727097,"comment_id":135288710,"body_markdown":"@ThakurSahab, try `((?!\\&quot;).+?)`.","body":"@ThakurSahab, try <code>((?!\\&quot;).+?)</code>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689834278,"creation_date":1689833295,"answer_id":76727097,"question_id":76726907,"body_markdown":"You can use the following pattern.&amp;nbsp; The capture groups are 2 and 3.  \r\nIt&#39;s not easy to determine the end of the value, considering a text value may contain any of the possible delimiters.  \r\nAssure that your data will conform; this implies that it&#39;s just a series of numbers.\r\n\r\n```none\r\n(?si)(\\&quot;finInstKey\\&quot;)\\s*:\\s*\\&quot;?(.+?)\\b.+?\\&quot;name\\&quot;\\s*:\\s*\\1\\s*,\\s*\\&quot;value\\&quot;\\s*:\\s*\\&quot;?(.+?)\\b\r\n```\r\n\r\nAlthough, I recommend just using a _JSON_ parsing module, _[Gson](https://en.wikipedia.org/wiki/Gson)_ by _Google_ works well.\r\n\r\nYou&#39;re _JSON_ strings are actually arrays, so just place each within square brackets.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;finInstKey&quot;: 500\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;finInstKey&quot;,\r\n    &quot;value&quot;: 12345678900987654321\r\n  }\r\n]\r\n```\r\n\r\nNote that your second example has a missing quotation mark for the _finInstKey_ key.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;finInstKey&quot;: &quot;500&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;finInstKey&quot;,\r\n    &quot;value&quot;: &quot;12345678900987654321&quot;\r\n  }\r\n]\r\n```\r\n\r\nWith _Gson_ you can utilize the _JsonParser_ class to parse the _values_.\r\n\r\n```java\r\nString stringA = &quot;[\\n&quot; +\r\n    &quot;  {\\n&quot; +\r\n    &quot;    \\&quot;finInstKey\\&quot;: 500\\n&quot; +\r\n    &quot;  },\\n&quot; +\r\n    &quot;  {\\n&quot; +\r\n    &quot;    \\&quot;name\\&quot;: \\&quot;finInstKey\\&quot;,\\n&quot; +\r\n    &quot;    \\&quot;value\\&quot;: 12345678900987654321\\n&quot; +\r\n    &quot;  }\\n&quot; +\r\n    &quot;]&quot;;\r\nString stringB = &quot;[\\n&quot; +\r\n    &quot;  {\\n&quot; +\r\n    &quot;    \\&quot;finInstKey\\&quot;: \\&quot;500\\&quot;\\n&quot; +\r\n    &quot;  },\\n&quot; +\r\n    &quot;  {\\n&quot; +\r\n    &quot;    \\&quot;name\\&quot;: \\&quot;finInstKey\\&quot;,\\n&quot; +\r\n    &quot;    \\&quot;value\\&quot;: \\&quot;12345678900987654321\\&quot;\\n&quot; +\r\n    &quot;  }\\n&quot; +\r\n    &quot;]&quot;;\r\n\r\nJsonArray arrayA = JsonParser.parseString(stringA).getAsJsonArray();\r\nJsonObject objectA1 = arrayA.get(0).getAsJsonObject();\r\nJsonElement elementA1 = objectA1.get(&quot;finInstKey&quot;);\r\nint finInstKeyA = elementA1.getAsInt();\r\nJsonObject objectA2 = arrayA.get(1).getAsJsonObject();\r\nJsonElement elementA2 = objectA2.get(&quot;value&quot;);\r\nBigInteger valueA = elementA2.getAsBigInteger();\r\nSystem.out.println(&quot;finInstKeyA = &quot; + finInstKeyA);\r\nSystem.out.println(&quot;valueA = &quot; + valueA);\r\n\r\nJsonArray arrayB = JsonParser.parseString(stringB).getAsJsonArray();\r\nJsonObject objectB1 = arrayB.get(0).getAsJsonObject();\r\nJsonElement elementB1 = objectB1.get(&quot;finInstKey&quot;);\r\nString finInstKeyB = elementB1.getAsString();\r\nJsonObject objectB2 = arrayB.get(1).getAsJsonObject();\r\nJsonElement elementB2 = objectB2.get(&quot;value&quot;);\r\nString valueB = elementB2.getAsString();\r\nSystem.out.println(&quot;finInstKeyB = &quot; + finInstKeyB);\r\nSystem.out.println(&quot;valueB = &quot; + valueB);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nfinInstKeyA = 500\r\nvalueA = 12345678900987654321\r\nfinInstKeyB = 500\r\nvalueB = 12345678900987654321\r\n```","title":"Regex capturing empty string along with the expected groups, want it to not to capture empty string","body":"<p>You can use the following pattern.  The capture groups are 2 and 3.<br />\nIt's not easy to determine the end of the value, considering a text value may contain any of the possible delimiters.<br />\nAssure that your data will conform; this implies that it's just a series of numbers.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?si)(\\&quot;finInstKey\\&quot;)\\s*:\\s*\\&quot;?(.+?)\\b.+?\\&quot;name\\&quot;\\s*:\\s*\\1\\s*,\\s*\\&quot;value\\&quot;\\s*:\\s*\\&quot;?(.+?)\\b\n</code></pre>\n<p>Although, I recommend just using a <em>JSON</em> parsing module, <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em> by <em>Google</em> works well.</p>\n<p>You're <em>JSON</em> strings are actually arrays, so just place each within square brackets.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;finInstKey&quot;: 500\n  },\n  {\n    &quot;name&quot;: &quot;finInstKey&quot;,\n    &quot;value&quot;: 12345678900987654321\n  }\n]\n</code></pre>\n<p>Note that your second example has a missing quotation mark for the <em>finInstKey</em> key.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;finInstKey&quot;: &quot;500&quot;\n  },\n  {\n    &quot;name&quot;: &quot;finInstKey&quot;,\n    &quot;value&quot;: &quot;12345678900987654321&quot;\n  }\n]\n</code></pre>\n<p>With <em>Gson</em> you can utilize the <em>JsonParser</em> class to parse the <em>values</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringA = &quot;[\\n&quot; +\n    &quot;  {\\n&quot; +\n    &quot;    \\&quot;finInstKey\\&quot;: 500\\n&quot; +\n    &quot;  },\\n&quot; +\n    &quot;  {\\n&quot; +\n    &quot;    \\&quot;name\\&quot;: \\&quot;finInstKey\\&quot;,\\n&quot; +\n    &quot;    \\&quot;value\\&quot;: 12345678900987654321\\n&quot; +\n    &quot;  }\\n&quot; +\n    &quot;]&quot;;\nString stringB = &quot;[\\n&quot; +\n    &quot;  {\\n&quot; +\n    &quot;    \\&quot;finInstKey\\&quot;: \\&quot;500\\&quot;\\n&quot; +\n    &quot;  },\\n&quot; +\n    &quot;  {\\n&quot; +\n    &quot;    \\&quot;name\\&quot;: \\&quot;finInstKey\\&quot;,\\n&quot; +\n    &quot;    \\&quot;value\\&quot;: \\&quot;12345678900987654321\\&quot;\\n&quot; +\n    &quot;  }\\n&quot; +\n    &quot;]&quot;;\n\nJsonArray arrayA = JsonParser.parseString(stringA).getAsJsonArray();\nJsonObject objectA1 = arrayA.get(0).getAsJsonObject();\nJsonElement elementA1 = objectA1.get(&quot;finInstKey&quot;);\nint finInstKeyA = elementA1.getAsInt();\nJsonObject objectA2 = arrayA.get(1).getAsJsonObject();\nJsonElement elementA2 = objectA2.get(&quot;value&quot;);\nBigInteger valueA = elementA2.getAsBigInteger();\nSystem.out.println(&quot;finInstKeyA = &quot; + finInstKeyA);\nSystem.out.println(&quot;valueA = &quot; + valueA);\n\nJsonArray arrayB = JsonParser.parseString(stringB).getAsJsonArray();\nJsonObject objectB1 = arrayB.get(0).getAsJsonObject();\nJsonElement elementB1 = objectB1.get(&quot;finInstKey&quot;);\nString finInstKeyB = elementB1.getAsString();\nJsonObject objectB2 = arrayB.get(1).getAsJsonObject();\nJsonElement elementB2 = objectB2.get(&quot;value&quot;);\nString valueB = elementB2.getAsString();\nSystem.out.println(&quot;finInstKeyB = &quot; + finInstKeyB);\nSystem.out.println(&quot;valueB = &quot; + valueB);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>finInstKeyA = 500\nvalueA = 12345678900987654321\nfinInstKeyB = 500\nvalueB = 12345678900987654321\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689847482,"creation_date":1689847482,"answer_id":76728772,"question_id":76726907,"body_markdown":"I think you use not correct regexp.\r\n\r\n```java\r\npublic static List&lt;String&gt; getData(String str, String field) {\r\n    String regex = &quot;(?:\\&quot;?&quot; + field + &quot;\\&quot;?:\\&quot;?(\\\\d+)\\&quot;?)|(?:\\&quot;name\\&quot;:\\&quot;&quot;\r\n            + field + &quot;\\&quot;,\\&quot;value\\&quot;:\\&quot;?(\\\\d+)\\&quot;?)&quot;;\r\n    Matcher matcher = Pattern.compile(regex).matcher(str);\r\n    List&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n\r\n    while (matcher.find()) {\r\n        data.add(Optional.ofNullable(matcher.group(1))\r\n                         .orElseGet(() -&gt; matcher.group(2)));\r\n    }\r\n\r\n    return data;\r\n}\r\n```\r\n\r\n*Output:*\r\n```\r\n500\r\n12345678900987654321\r\n500\r\n12345678900987654321\r\n```\r\n\r\n***P.S.** I think parsing json with regexpis a strategically bad idea. I recommend you to use any Json parser (Jackson, Gson, ...)* ","title":"Regex capturing empty string along with the expected groups, want it to not to capture empty string","body":"<p>I think you use not correct regexp.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; getData(String str, String field) {\n    String regex = &quot;(?:\\&quot;?&quot; + field + &quot;\\&quot;?:\\&quot;?(\\\\d+)\\&quot;?)|(?:\\&quot;name\\&quot;:\\&quot;&quot;\n            + field + &quot;\\&quot;,\\&quot;value\\&quot;:\\&quot;?(\\\\d+)\\&quot;?)&quot;;\n    Matcher matcher = Pattern.compile(regex).matcher(str);\n    List&lt;String&gt; data = new ArrayList&lt;&gt;();\n\n    while (matcher.find()) {\n        data.add(Optional.ofNullable(matcher.group(1))\n                         .orElseGet(() -&gt; matcher.group(2)));\n    }\n\n    return data;\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>500\n12345678900987654321\n500\n12345678900987654321\n</code></pre>\n<p><em><strong>P.S.</strong> I think parsing json with regexpis a strategically bad idea. I recommend you to use any Json parser (Jackson, Gson, ...)</em></p>\n"}],"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1689849633,"creation_date":1689830871,"question_id":76726907,"body_markdown":"I built a regex to capture the value from the pattern, where pattern is to identify the json and fetch value from it. But along with the expected groups, it is also capturing the empty strings in the group.\r\n\r\nRegex: \r\n``\r\n(?&lt;=((?i)(finInstKey)&quot;:)[&quot;]?)(.*?)(?=[&quot;|,|}])|(?&lt;=&quot;((?i)finInstKey&quot;,&quot;value&quot;:)[&quot;]?)(.*?)(?=[&quot;|,|}])\r\n``\r\n\r\ninput: \r\n1. {&quot;finInstKey&quot;:500},{&quot;name&quot;:&quot;finInstKey&quot;,&quot;value&quot;:12345678900987654321}\r\n2. {finInstKey&quot;:&quot;500&quot;},{&quot;name&quot;:&quot;finInstKey&quot;,&quot;value&quot;:&quot;12345678900987654321&quot;}\r\n\r\nfor these inputs, input 2 also captures the empty string along with the expected values.\r\n\r\nactual output:\r\n```\r\n500\r\n12345678900987654321\r\n\r\n500\r\n\r\n12345678900987654321\r\n```\r\n\r\nexpected output:\r\n```\r\n500\r\n12345678900987654321\r\n500\r\n12345678900987654321\r\n```\r\n\r\nAs of now, I have handled it manually in the Java code, but it would be nice if regex won&#39;t capture the empty strings.\r\nwhat changes should I make in the regex to get expected output.\r\n\r\n\r\n**Mainly, I want this to replaceAll groups with masked value &quot;****&quot;.**\r\n\r\n\r\nMy piece of code:\r\n```\r\npublic class RegexTester {\r\n    private static final String regex = &quot;(?&lt;=((?i)(%s)\\&quot;:)[\\&quot;]?)(.*?)(?=[\\&quot;|,|}])|(?&lt;=\\&quot;((?i)%s\\&quot;,\\&quot;value\\&quot;:)[\\&quot;]?)(.*?)(?=[\\&quot;|,|}])&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        String field = &quot;finInstKey&quot;;\r\n        String input = &quot;{\\&quot;finInstKey\\&quot;:500},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:12345678900987654321}{finInstKey\\&quot;:\\&quot;500\\&quot;},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:\\&quot;12345678900987654321\\&quot;}&quot;;\r\n        try {\r\n            Pattern pattern = Pattern.compile(String.format(regex, field, field));\r\n            Matcher matcher = pattern.matcher(input);\r\n//            System.out.println(matcher.replaceAll(&quot;****&quot;));\r\n            while (matcher.find()) {\r\n                System.out.println(matcher.group());\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(e);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"Regex capturing empty string along with the expected groups, want it to not to capture empty string","body":"<p>I built a regex to capture the value from the pattern, where pattern is to identify the json and fetch value from it. But along with the expected groups, it is also capturing the empty strings in the group.</p>\n<p>Regex:\n<code>(?&lt;=((?i)(finInstKey)&quot;:)[&quot;]?)(.*?)(?=[&quot;|,|}])|(?&lt;=&quot;((?i)finInstKey&quot;,&quot;value&quot;:)[&quot;]?)(.*?)(?=[&quot;|,|}])</code></p>\n<p>input:</p>\n<ol>\n<li>{&quot;finInstKey&quot;:500},{&quot;name&quot;:&quot;finInstKey&quot;,&quot;value&quot;:12345678900987654321}</li>\n<li>{finInstKey&quot;:&quot;500&quot;},{&quot;name&quot;:&quot;finInstKey&quot;,&quot;value&quot;:&quot;12345678900987654321&quot;}</li>\n</ol>\n<p>for these inputs, input 2 also captures the empty string along with the expected values.</p>\n<p>actual output:</p>\n<pre><code>500\n12345678900987654321\n\n500\n\n12345678900987654321\n</code></pre>\n<p>expected output:</p>\n<pre><code>500\n12345678900987654321\n500\n12345678900987654321\n</code></pre>\n<p>As of now, I have handled it manually in the Java code, but it would be nice if regex won't capture the empty strings.\nwhat changes should I make in the regex to get expected output.</p>\n<p><strong>Mainly, I want this to replaceAll groups with masked value &quot;****&quot;.</strong></p>\n<p>My piece of code:</p>\n<pre><code>public class RegexTester {\n    private static final String regex = &quot;(?&lt;=((?i)(%s)\\&quot;:)[\\&quot;]?)(.*?)(?=[\\&quot;|,|}])|(?&lt;=\\&quot;((?i)%s\\&quot;,\\&quot;value\\&quot;:)[\\&quot;]?)(.*?)(?=[\\&quot;|,|}])&quot;;\n\n    public static void main(String[] args) {\n        String field = &quot;finInstKey&quot;;\n        String input = &quot;{\\&quot;finInstKey\\&quot;:500},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:12345678900987654321}{finInstKey\\&quot;:\\&quot;500\\&quot;},{\\&quot;name\\&quot;:\\&quot;finInstKey\\&quot;,\\&quot;value\\&quot;:\\&quot;12345678900987654321\\&quot;}&quot;;\n        try {\n            Pattern pattern = Pattern.compile(String.format(regex, field, field));\n            Matcher matcher = pattern.matcher(input);\n//            System.out.println(matcher.replaceAll(&quot;****&quot;));\n            while (matcher.find()) {\n                System.out.println(matcher.group());\n            }\n        } catch (Exception e) {\n            System.err.println(e);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","android","react-native","kotlin"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689787393,"post_id":76723788,"comment_id":135264306,"body_markdown":"&quot;*Please provide any reference documentation or article.*&quot; - [Questions asking us to recommend or find a book, tool, software library, **tutorial or other off-site resource** are **off-topic** for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.](https://stackoverflow.com/help/on-topic)","body":"&quot;<i>Please provide any reference documentation or article.</i>&quot; - <a href=\"https://stackoverflow.com/help/on-topic\">Questions asking us to recommend or find a book, tool, software library, <b>tutorial or other off-site resource</b> are <b>off-topic</b> for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</a>"}],"owner":{"account_id":20520945,"reputation":36,"user_id":15060547,"display_name":"sai rohith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689849513,"creation_date":1689787200,"question_id":76723788,"body_markdown":"Is it possible to recording the call from react native app? I want to record the outgoing call from React Native App in Android.\r\n\r\nBy using **React Native Call Detection** package. I am able to find outgoing and incoming call. But I am not able to find package for record call from React Native app.","title":"React Native Call recording for Android","body":"<p>Is it possible to recording the call from react native app? I want to record the outgoing call from React Native App in Android.</p>\n<p>By using <strong>React Native Call Detection</strong> package. I am able to find outgoing and incoming call. But I am not able to find package for record call from React Native app.</p>\n"},{"tags":["java","android","mms"],"owner":{"account_id":29055758,"reputation":1,"user_id":22257580,"display_name":"4Ls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689848999,"creation_date":1689848999,"question_id":76728965,"body_markdown":"How can I send and receive MMS messages in the background?\r\n\r\nHi, I&#39;d like to synchronize my application (Android Studio/java) on two phones with MMS, but I don&#39;t know how to do it. I&#39;d like to understand how to do it step by step.\r\nWho can help me? \r\nI&#39;m a bit lost with all the interfaces we need and who does what.\r\n\r\nThanks for your help\r\n\r\n\r\nI send and receive text messages but that&#39;s not what I want because it&#39;s short, and I want to send a picture.\r\nI&#39;m not very good at networking.","title":"How can I send and receive MMS messages in the background?","body":"<p>How can I send and receive MMS messages in the background?</p>\n<p>Hi, I'd like to synchronize my application (Android Studio/java) on two phones with MMS, but I don't know how to do it. I'd like to understand how to do it step by step.\nWho can help me?\nI'm a bit lost with all the interfaces we need and who does what.</p>\n<p>Thanks for your help</p>\n<p>I send and receive text messages but that's not what I want because it's short, and I want to send a picture.\nI'm not very good at networking.</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":7447122,"reputation":13,"user_id":5662935,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689848860,"creation_date":1689848765,"question_id":76728937,"body_markdown":"I have a weak entity, which has foreign key, now i want one more column of this table to work as key along with foreign key to uniquely identify each row, how this can be achieved in hibernate? \r\n\r\n    class Task{\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;trs_generator&quot;)\r\n        @SequenceGenerator(\r\n            name = &quot;trs_generator&quot;, sequenc\r\n    eName = &quot;TaskRunningStatus_SEQ&quot;, allocationSize = 1)\r\n        @Column(nullable=false, insertable = false, updatable = false)\r\n        private Long taskID;\r\n        \r\n        @ElementCollection(fetch = FetchType.LAZY)\r\n        @CollectionTable(name = &quot;identifier&quot;, joinColumns = @JoinColumn(name = &quot;task_id&quot;))\r\n        @Setter\r\n        private List&lt;Identifier&gt; maxRecord;\r\n        \r\n        @ElementCollection(fetch = FetchType.LAZY)\r\n        @CollectionTable(name = &quot;identifier&quot;, joinColumns = @JoinColumn(name = &quot;task_id&quot;))\r\n        @Setter\r\n        private List&lt;Identifier&gt; batchDoneRecord;\r\n    }\r\n    \r\n    public class Identifier {\r\n    \r\n        private String key;\r\n        private String value;\r\n        private RecordType recordType;\r\n    \r\n        public enum RecordType{\r\n            OFFSET, MAX\r\n        }\r\n        public Identifier(final String key, final String value, final RecordType recordType) {\r\n            this.key = key;\r\n            this.value = value;\r\n            this.recordType = recordType;\r\n        }\r\n    }`\r\n\r\nIdentifier tables data look as below\r\n[![enter image description here](https://i.stack.imgur.com/irSei.png)](https://i.stack.imgur.com/irSei.png)\r\n\r\nNow after saving data in Task table for maxRecord(id,10,MAX) and batchDoneRecord(id,3,OFFSET). Later while fetching maxRecord or batchDoneRecord, it is returning all record for both as it is querying based on taskId.\r\nThis issue will be resolved if query is done based on both columns taskId and ReocrdType. How this can be achieved in hibernate?","title":"Weak entity with no primary key - hibernate","body":"<p>I have a weak entity, which has foreign key, now i want one more column of this table to work as key along with foreign key to uniquely identify each row, how this can be achieved in hibernate?</p>\n<pre><code>class Task{\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;trs_generator&quot;)\n    @SequenceGenerator(\n        name = &quot;trs_generator&quot;, sequenc\neName = &quot;TaskRunningStatus_SEQ&quot;, allocationSize = 1)\n    @Column(nullable=false, insertable = false, updatable = false)\n    private Long taskID;\n    \n    @ElementCollection(fetch = FetchType.LAZY)\n    @CollectionTable(name = &quot;identifier&quot;, joinColumns = @JoinColumn(name = &quot;task_id&quot;))\n    @Setter\n    private List&lt;Identifier&gt; maxRecord;\n    \n    @ElementCollection(fetch = FetchType.LAZY)\n    @CollectionTable(name = &quot;identifier&quot;, joinColumns = @JoinColumn(name = &quot;task_id&quot;))\n    @Setter\n    private List&lt;Identifier&gt; batchDoneRecord;\n}\n\npublic class Identifier {\n\n    private String key;\n    private String value;\n    private RecordType recordType;\n\n    public enum RecordType{\n        OFFSET, MAX\n    }\n    public Identifier(final String key, final String value, final RecordType recordType) {\n        this.key = key;\n        this.value = value;\n        this.recordType = recordType;\n    }\n}`\n</code></pre>\n<p>Identifier tables data look as below\n<a href=\"https://i.stack.imgur.com/irSei.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/irSei.png\" alt=\"enter image description here\" /></a></p>\n<p>Now after saving data in Task table for maxRecord(id,10,MAX) and batchDoneRecord(id,3,OFFSET). Later while fetching maxRecord or batchDoneRecord, it is returning all record for both as it is querying based on taskId.\nThis issue will be resolved if query is done based on both columns taskId and ReocrdType. How this can be achieved in hibernate?</p>\n"},{"tags":["java","android-studio","signed-apk","gradle-dependencies"],"comments":[{"owner":{"account_id":17096091,"reputation":141,"user_id":12371049,"display_name":"Asif Mehmood"},"score":1,"creation_date":1608789567,"post_id":65404037,"comment_id":115685483,"body_markdown":"** I have got the solution of this problem ** \n\nRemove \n { shrinkResources true\n            minifyEnabled true }    \n**And  add  **  `\n{signingConfig signingConfigs.debug\n            useProguard true\n\n            minifyEnabled false}  \n**its working fine for me  this solution is working fine remove all bugs  on created signed apk**","body":"** I have got the solution of this problem **   Remove   { shrinkResources true             minifyEnabled true }     <b>And  add  **  ` {signingConfig signingConfigs.debug             useProguard true              minifyEnabled false}   **its working fine for me  this solution is working fine remove all bugs  on created signed apk</b>"},{"owner":{"account_id":2812752,"reputation":4008,"user_id":2418642,"display_name":"sgjesse"},"score":1,"creation_date":1609831473,"post_id":65404037,"comment_id":115937577,"body_markdown":"Asif, turning off minification (`minifyEnabled false`) is clearly a way to get rid of the `ClassCastException` you see, as that happens in R8 compilation. If possible could you open an issue on https://issuetracker.google.com/issues/new?component=326788 with more information on the version of Android Studio where you see this?","body":"Asif, turning off minification (<code>minifyEnabled false</code>) is clearly a way to get rid of the <code>ClassCastException</code> you see, as that happens in R8 compilation. If possible could you open an issue on <a href=\"https://issuetracker.google.com/issues/new?component=326788\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/new?component=326788</a> with more information on the version of Android Studio where you see this?"},{"owner":{"account_id":17096091,"reputation":141,"user_id":12371049,"display_name":"Asif Mehmood"},"score":0,"creation_date":1609837016,"post_id":65404037,"comment_id":115939621,"body_markdown":"@sgjesse  yes  i resolve this issue   i use  &#39;useProguard true minifyEnabled false&#39;","body":"@sgjesse  yes  i resolve this issue   i use  &#39;useProguard true minifyEnabled false&#39;"}],"answers":[{"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1619188566,"post_id":65597305,"comment_id":118837523,"body_markdown":"From link: this issue is already fixed in r8 version 2.1.87. Sadly it&#39;s not bundled with Android Studio 4.1.3 so unless new version is out you can use a workaround by explicitly adding it to build.gradle.","body":"From link: this issue is already fixed in r8 version 2.1.87. Sadly it&#39;s not bundled with Android Studio 4.1.3 so unless new version is out you can use a workaround by explicitly adding it to build.gradle."}],"tags":[],"owner":{"account_id":2812752,"reputation":4008,"user_id":2418642,"display_name":"sgjesse"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609942166,"creation_date":1609942166,"answer_id":65597305,"question_id":65404037,"body_markdown":"This is the R8 issue tracked in http://issuetracker.google.com/175132220.","title":"ClassCastException while building signed Apk","body":"<p>This is the R8 issue tracked in <a href=\"http://issuetracker.google.com/175132220\" rel=\"nofollow noreferrer\">http://issuetracker.google.com/175132220</a>.</p>\n"},{"tags":[],"owner":{"account_id":2065396,"reputation":324,"user_id":1840981,"display_name":"Kashinath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689848565,"creation_date":1689848565,"answer_id":76728911,"question_id":65404037,"body_markdown":"    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            ndk {\r\n                debugSymbolLevel &#39;SYMBOL_TABLE&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nSet minifyEnabled false solved my issue .go to build.gradle and do this change\r\n","title":"ClassCastException while building signed Apk","body":"<pre><code>buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        ndk {\n            debugSymbolLevel 'SYMBOL_TABLE'\n        }\n    }\n}\n</code></pre>\n<p>Set minifyEnabled false solved my issue .go to build.gradle and do this change</p>\n"}],"owner":{"account_id":17096091,"reputation":141,"user_id":12371049,"display_name":"Asif Mehmood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689848565,"creation_date":1608617782,"question_id":65404037,"body_markdown":"\r\n**My gradle dependency is**\r\n\r\n         repositories {\r\n            google()\r\n            mavenCentral()\r\n    //        maven { url &quot;http://maven.ghostscript.com&quot; }\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n\r\n\r\n\r\n**Use these app dependency**\r\n\r\n         buildTypes {\r\n            release {\r\n                shrinkResources true\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    \r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n        implementation &#39;androidx.core:core-ktx:1.3.2&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n        //implementation files(&#39;libs/aspose-slides-20.6-android.via.java.jar&#39;)\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n        implementation &#39;commons-io:commons-io:20030203.000550&#39;\r\n        implementation &quot;com.pdfview:pdfview-android:1.0.0&quot;\r\n    \r\n    \r\n        //implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        // https://github.com/googlesamples/easypermissions\r\n    //    implementation &#39;pub.devrel:easypermissions:1.1.0&#39;\r\n        implementation (&#39;com.github.junrar:junrar:7.4.0&#39;) {\r\n            [&#39;org.apache.commons&#39;,&#39;commons-logging&#39;].each {\r\n                exclude group: &quot;$it&quot;\r\n            }\r\n        }\r\n    \r\n        implementation &#39;io.reactivex.rxjava3:rxandroid:3.0.0&#39;\r\n        // Because RxAndroid releases are few and far between, it is recommended you also\r\n        // explicitly depend on RxJava&#39;s latest version for bug fixes and new features.\r\n        // (see https://github.com/ReactiveX/RxJava/releases for latest 3.x.x version)\r\n        implementation &#39;io.reactivex.rxjava3:rxjava:3.0.8&#39;\r\n    \r\n    //    implementation files(&#39;libs/itsrts_pptviewer.jar&#39;)\r\n        implementation &#39;com.agrawalsuneet.androidlibs:dotsloader:1.4&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:19.6.0&#39;\r\n    \r\n    \r\n        implementation &#39;org.apache.commons:commons-lang3:3.11&#39;\r\n        implementation files(&#39;libs/jxl.jar&#39;)\r\n        implementation files(&#39;libs/aspose-words-17.2.0-android.jar&#39;)\r\n        implementation &quot;com.folioreader:folioreader:0.5.4&quot;\r\n    \r\n    }\r\n\r\nWhile creating release signed Apk this error occurs, how can I solve it? Cannot solve these error while delete gradle cache and also invalidate and restart Android Studio. \r\n\r\n&gt; java.lang.ClassCastException: com.android.tools.r8.s.b.C cannot be cast to com.android.tools.r8.s.b.B\r\n&gt;\r\n&gt; com.android.tools.r8.CompilationFailedException: Compilation failed to complete, position:Lorg/readium/r2/streamer/parser/epub/OPFParser;parseSpine(Lorg/readium/r2/shared/parser/xml/Node;Lorg/readium/r2/shared/Publication;)V, origin: C:\\Users\\Asif Malik\\.gradle\\caches\\transforms2\\files2.1\\202fad4fee5b15436e55e2114f613e17\\jetified-r2streamerkotlin1.0.42runtime.jar:org/readium/r2/streamer/parser/epub/OPFParser.class\r\n&gt;\r\n&gt; com.android.tools.r8.s.b.C cannot be cast to com.android.tools.r8.s.b.B\r\n&gt;\r\n&gt; Gradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n&gt;\r\n&gt; Re-download dependencies and sync project (requires network)\r\n&gt;\r\n&gt; The state of a Gradle build process (daemon) may be corrupt\r\n","title":"ClassCastException while building signed Apk","body":"<p><strong>My gradle dependency is</strong></p>\n<pre><code>     repositories {\n        google()\n        mavenCentral()\n//        maven { url &quot;http://maven.ghostscript.com&quot; }\n        maven { url 'https://jitpack.io' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n</code></pre>\n<p><strong>Use these app dependency</strong></p>\n<pre><code>     buildTypes {\n        release {\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation 'androidx.core:core-ktx:1.3.2'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    //implementation files('libs/aspose-slides-20.6-android.via.java.jar')\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'commons-io:commons-io:20030203.000550'\n    implementation &quot;com.pdfview:pdfview-android:1.0.0&quot;\n\n\n    //implementation 'com.android.support:multidex:1.0.3'\n    // https://github.com/googlesamples/easypermissions\n//    implementation 'pub.devrel:easypermissions:1.1.0'\n    implementation ('com.github.junrar:junrar:7.4.0') {\n        ['org.apache.commons','commons-logging'].each {\n            exclude group: &quot;$it&quot;\n        }\n    }\n\n    implementation 'io.reactivex.rxjava3:rxandroid:3.0.0'\n    // Because RxAndroid releases are few and far between, it is recommended you also\n    // explicitly depend on RxJava's latest version for bug fixes and new features.\n    // (see https://github.com/ReactiveX/RxJava/releases for latest 3.x.x version)\n    implementation 'io.reactivex.rxjava3:rxjava:3.0.8'\n\n//    implementation files('libs/itsrts_pptviewer.jar')\n    implementation 'com.agrawalsuneet.androidlibs:dotsloader:1.4'\n    implementation 'com.google.android.gms:play-services-ads:19.6.0'\n\n\n    implementation 'org.apache.commons:commons-lang3:3.11'\n    implementation files('libs/jxl.jar')\n    implementation files('libs/aspose-words-17.2.0-android.jar')\n    implementation &quot;com.folioreader:folioreader:0.5.4&quot;\n\n}\n</code></pre>\n<p>While creating release signed Apk this error occurs, how can I solve it? Cannot solve these error while delete gradle cache and also invalidate and restart Android Studio.</p>\n<blockquote>\n<p>java.lang.ClassCastException: com.android.tools.r8.s.b.C cannot be cast to com.android.tools.r8.s.b.B</p>\n<p>com.android.tools.r8.CompilationFailedException: Compilation failed to complete, position:Lorg/readium/r2/streamer/parser/epub/OPFParser;parseSpine(Lorg/readium/r2/shared/parser/xml/Node;Lorg/readium/r2/shared/Publication;)V, origin: C:\\Users\\Asif Malik.gradle\\caches\\transforms2\\files2.1\\202fad4fee5b15436e55e2114f613e17\\jetified-r2streamerkotlin1.0.42runtime.jar:org/readium/r2/streamer/parser/epub/OPFParser.class</p>\n<p>com.android.tools.r8.s.b.C cannot be cast to com.android.tools.r8.s.b.B</p>\n<p>Gradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)</p>\n<p>Re-download dependencies and sync project (requires network)</p>\n<p>The state of a Gradle build process (daemon) may be corrupt</p>\n</blockquote>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":4473979,"reputation":105,"user_id":3639526,"accept_rate":80,"display_name":"Pravin Virkud"},"score":0,"creation_date":1689850109,"post_id":76728867,"comment_id":135273009,"body_markdown":"More Info : I am using maven 3.6.0 with JDK 11","body":"More Info : I am using maven 3.6.0 with JDK 11"}],"owner":{"account_id":4473979,"reputation":105,"user_id":3639526,"accept_rate":80,"display_name":"Pravin Virkud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689848395,"creation_date":1689848219,"question_id":76728867,"body_markdown":"I have Jenkins Master slave configuration setup. Where Both Master and Slave are on running on Ubuntu. I have schedule one maven job on the slave machine. When I trigger this job I am getting below error\r\n\r\n    Parsing POMs\r\n    ERROR: Failed to parse POMs\r\n    java.io.IOException: Remote call on Jenkins-Slave-Test-Automation failed\r\n    \tat hudson.remoting.Channel.call(Channel.java:1004)\r\n    \tat hudson.FilePath.act(FilePath.java:1192)\r\n    \tat hudson.FilePath.act(FilePath.java:1181)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\r\n    \tat hudson.model.Run.execute(Run.java:1900)\r\n    \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\r\n    \tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n    \tat hudson.model.Executor.run(Executor.java:442)\r\n    Caused by: java.lang.NoClassDefFoundError: org/apache/maven/artifact/versioning/ComparableVersion\r\n    \tat hudson.maven.MavenUtil.maven3orLater(MavenUtil.java:276)\r\n    \tat hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1301)\r\n    \tat hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1124)\r\n    \tat hudson.FilePath$FileCallableWrapper.call(FilePath.java:3578)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n    \tat hudson.remoting.Request$2.run(Request.java:377)\r\n    \tat hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:125)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \tSuppressed: hudson.remoting.Channel$CallSiteStackTrace: Remote call to Jenkins-Slave-Test-Automation\r\n    \t\tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1784)\r\n    \t\tat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\r\n    \t\tat hudson.remoting.Channel.call(Channel.java:1000)\r\n    \t\tat hudson.FilePath.act(FilePath.java:1192)\r\n    \t\tat hudson.FilePath.act(FilePath.java:1181)\r\n    \t\tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\r\n    \t\tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\r\n    \t\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\r\n    \t\tat hudson.model.Run.execute(Run.java:1900)\r\n    \t\tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\r\n    \t\tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n    \t\tat hudson.model.Executor.run(Executor.java:442)\r\n    Finished: FAILURE\r\n\r\nif I run the pom.xml file from the terminal of slave machine, it is running without any issue. I am suspecting any permission related issues on jenkins slave machine.\r\n\r\nHow to resolve this problem?\r\n","title":"Jenkins maven job not running on linux ubuntu slave","body":"<p>I have Jenkins Master slave configuration setup. Where Both Master and Slave are on running on Ubuntu. I have schedule one maven job on the slave machine. When I trigger this job I am getting below error</p>\n<pre><code>Parsing POMs\nERROR: Failed to parse POMs\njava.io.IOException: Remote call on Jenkins-Slave-Test-Automation failed\n    at hudson.remoting.Channel.call(Channel.java:1004)\n    at hudson.FilePath.act(FilePath.java:1192)\n    at hudson.FilePath.act(FilePath.java:1181)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\n    at hudson.model.Run.execute(Run.java:1900)\n    at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\n    at hudson.model.ResourceController.execute(ResourceController.java:101)\n    at hudson.model.Executor.run(Executor.java:442)\nCaused by: java.lang.NoClassDefFoundError: org/apache/maven/artifact/versioning/ComparableVersion\n    at hudson.maven.MavenUtil.maven3orLater(MavenUtil.java:276)\n    at hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1301)\n    at hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1124)\n    at hudson.FilePath$FileCallableWrapper.call(FilePath.java:3578)\n    at hudson.remoting.UserRequest.perform(UserRequest.java:211)\n    at hudson.remoting.UserRequest.perform(UserRequest.java:54)\n    at hudson.remoting.Request$2.run(Request.java:377)\n    at hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: hudson.remoting.Channel$CallSiteStackTrace: Remote call to Jenkins-Slave-Test-Automation\n        at hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1784)\n        at hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\n        at hudson.remoting.Channel.call(Channel.java:1000)\n        at hudson.FilePath.act(FilePath.java:1192)\n        at hudson.FilePath.act(FilePath.java:1181)\n        at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\n        at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\n        at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\n        at hudson.model.Run.execute(Run.java:1900)\n        at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\n        at hudson.model.ResourceController.execute(ResourceController.java:101)\n        at hudson.model.Executor.run(Executor.java:442)\nFinished: FAILURE\n</code></pre>\n<p>if I run the pom.xml file from the terminal of slave machine, it is running without any issue. I am suspecting any permission related issues on jenkins slave machine.</p>\n<p>How to resolve this problem?</p>\n"},{"tags":["java","spring","kubernetes","kubernetes-helm"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1689848739,"post_id":76727325,"comment_id":135272772,"body_markdown":"The Vault Agent sidecar is keeping your Job from completing.  [hashicorp/vault#11089](https://github.com/hashicorp/vault/issues/11089) describes the situation a little further.  Does your Job need secrets from Vault?  [Terminate istio sidecar istio-proxy for a kubernetes job / cronjob](https://stackoverflow.com/questions/54921054/terminate-istio-sidecar-istio-proxy-for-a-kubernetes-job-cronjob) is a similar question for a different technology with injected sidecars and you also might find inspiration there (but not a copy-paste answer).","body":"The Vault Agent sidecar is keeping your Job from completing.  <a href=\"https://github.com/hashicorp/vault/issues/11089\" rel=\"nofollow noreferrer\">hashicorp/vault#11089</a> describes the situation a little further.  Does your Job need secrets from Vault?  <a href=\"https://stackoverflow.com/questions/54921054/terminate-istio-sidecar-istio-proxy-for-a-kubernetes-job-cronjob\">Terminate istio sidecar istio-proxy for a kubernetes job / cronjob</a> is a similar question for a different technology with injected sidecars and you also might find inspiration there (but not a copy-paste answer)."}],"owner":{"account_id":21506127,"reputation":1,"user_id":15849474,"display_name":"aks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689848394,"creation_date":1689835800,"question_id":76727325,"body_markdown":"I am new to Kubernetes and trying to run a data migration job before deploying my main service. To achieve this, I&#39;ve written a new &#39;job.yaml&#39; using &quot;helm.sh/hook&quot;: pre-instal.\r\n\r\nAfter deployment, from the logs of container it is clear that all migration code executed successfully.\r\n\r\nEven though the migration container completes successfully, the pre-install Job itself fails to succeed and remains in an active status. Consequently, the deployment of the main service does not proceed.\r\n\r\nI have thoroughly checked the logs and executed kubectl get events, but there are no error messages reported. I am confused about why the pre-install Job does not mark itself as successful, despite the successful completion of the migration container.\r\n\r\nCould someone kindly help me identify the root cause of this issue and provide guidance on how to ensure that the pre-install Helm hook Job succeeds after the migration container has completed its task? Your assistance is greatly appreciated. Thank you!\r\n\r\n\r\nnew **job.yaml**\r\n```yaml\r\napiVersion: batch/v1\r\nkind: Job\r\nmetadata:\r\n  name: qdm-migration-service-job\r\n  namespace: qdm\r\n  annotations:\r\n    &quot;helm.sh/hook&quot;: pre-install,pre-upgrade\r\n    &quot;helm.sh/hook-delete-policy&quot;: before-hook-creation,hook-succeeded\r\n\r\nspec:\r\n  backoffLimit: 1\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: qdm-migration-service-job-pod\r\n        app.kubernetes.io/instance: {{ .Release.Name }}\r\n    spec:\r\n      serviceAccountName: qdm\r\n      imagePullSecrets:\r\n      - name: {{dockerhubsecret}}\r\n      restartPolicy: Never\r\n      containers:\r\n      - name: qdm-migration-service\r\n        terminationMessagePath: &quot;/hook-completed&quot;\r\n        image: qdm-migration-service:1.0\r\n        imagePullPolicy: Always\r\n        securityContext:\r\n          runAsUser: 0\r\n        env:\r\n        .............\r\n        ports:\r\n          - name: http\r\n            containerPort: 8092\r\n            protocol: TCP\r\n    ```\r\n\r\n\r\n\r\n\r\n```\r\n**Application main class:**\r\n    \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class QdmMigrationApp {\r\n        public static void main(String[] args) {\r\n\r\n            try {\r\n                \r\n\r\n                \r\n               // all migrations logic\r\n                  ...........\r\n                  ...........\r\n\r\n                System.out.println(&quot;QDM Migration Success!&quot;);\r\n                writeTerminationMessage();\r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n        private static void writeTerminationMessageToFile() {\r\n            String terminationMessage = &quot;Job completed !&quot;;\r\n            String filePath = &quot;/hook-completed&quot;;\r\n\r\n            try (BufferedWriter writer = new BufferedWriter(new FileWriter(filePath))) {\r\n                writer.write(terminationMessage);\r\n            } catch (IOException e) {\r\n                logger.error(e.getMessage());\r\n                // Handle any exceptions that might occur during file writing\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n**Pod status:**\r\n\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    kubectl describe qdm-migration-service-job-s9qvs -n qdm\r\n    Name:             qdm-migration-service-job-s9qvs\r\n    Namespace:        qdm\r\n    .......\r\n    Status:           Running\r\n    Controlled By:  Job/qdm-migration-service-job\r\n    Init Containers:\r\n      copy-vault-env:\r\n        .......\r\n        State:          Terminated\r\n          Reason:       Completed\r\n          Exit Code:    0\r\n          Started:      Thu, 20 Jul 2023 10:40:35 +0530\r\n          Finished:     Thu, 20 Jul 2023 10:40:35 +0530\r\n        Ready:          True\r\n        Restart Count:  0\r\n    ..........\r\n    Containers:\r\n      vault-agent:\r\n        Container ID:  cri-o://f703a9c050a5b391fbe1c.....\r\n        Image:         docker.*******.com/qdm-images/qdm-vault:1.8.0\r\n        Image ID:      ****\r\n        Port:          &lt;none&gt;\r\n        Host Port:     &lt;none&gt;\r\n        State:          Running\r\n          Started:      Thu, 20 Jul 2023 10:40:36 +0530\r\n        Ready:          True\r\n        Restart Count:  0\r\n        Limits:\r\n          cpu:     100m\r\n          memory:  128Mi\r\n        Requests:\r\n          cpu:     100m\r\n          memory:  128Mi\r\n        Environment:\r\n          VAULT_ADDR:         https://vault.******:8200\r\n          VAULT_SKIP_VERIFY:  true\r\n      qdm-migration-service:\r\n        Container ID:  cri-o://f47d3aedc4ed6902da4459***\r\n        Image:         ****\r\n        Image ID:      ****\r\n        Port:          8092/TCP\r\n        Host Port:     0/TCP\r\n        Command:\r\n          /vault/vault-env\r\n        State:          Terminated\r\n          Reason:       Completed\r\n          Message:      Job completed successfully!\r\n          Exit Code:    0\r\n          Started:      Thu, 20 Jul 2023 10:40:47 +0530\r\n          Finished:     Thu, 20 Jul 2023 10:44:17 +0530\r\n        Ready:          False\r\n        Restart Count:  0\r\n        Limits:\r\n          cpu:     2\r\n          memory:  5Gi\r\n        Requests:\r\n          cpu:     2\r\n          memory:  4Gi\r\n        Environment:\r\n        Mounts:\r\n          /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-dbtsv (ro)\r\n          /vault/ from vault-env (rw)\r\n          /vault/secrets from agent-secrets (rw)\r\n    Conditions:\r\n      Type              Status\r\n      Initialized       True \r\n      Ready             False \r\n      ContainersReady   False \r\n      PodScheduled      True \r\n    Volumes:\r\n      .....\r\n    Tolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s\r\n                     node.kubernetes.io/unreachable:NoExecute op=Exists for 300s\r\n    Events:\r\n      Type    Reason     Age   From               Message\r\n      ----    ------     ----  ----               -------\r\n      Normal  Scheduled  23m   default-scheduler  Successfully assigned qdm/qdm-migration-service-job-s9qvs to 10.1.7.123\r\n      Normal  Pulled     23m   kubelet            Container image &quot;*****&quot; already present on machine\r\n      Normal  Created    23m   kubelet            Created container copy-vault-env\r\n      Normal  Started    23m   kubelet            Started container copy-vault-env\r\n      Normal  Pulled     23m   kubelet            Container image &quot;d*******&quot; already present on machine\r\n      Normal  Created    23m   kubelet            Created container vault-agent\r\n      Normal  Started    23m   kubelet            Started container vault-agent\r\n      Normal  Pulling    23m   kubelet            Pulling image &quot;****qdm-pdb-migration-service:5.0&quot;\r\n      Normal  Pulled     23m   kubelet            Successfully pulled image &quot;****qdm-pdb-migration-service:5.0&quot; in 10.9s\r\n      Normal  Created    23m   kubelet            Created container qdm-pdb-migration-service\r\n      Normal  Started    23m   kubelet            Started container qdm-pdb-migration-service\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"Kube pre-install Helm hook Job not succeeding after successful completion of container, and main service is not starting","body":"<p>I am new to Kubernetes and trying to run a data migration job before deploying my main service. To achieve this, I've written a new 'job.yaml' using &quot;helm.sh/hook&quot;: pre-instal.</p>\n<p>After deployment, from the logs of container it is clear that all migration code executed successfully.</p>\n<p>Even though the migration container completes successfully, the pre-install Job itself fails to succeed and remains in an active status. Consequently, the deployment of the main service does not proceed.</p>\n<p>I have thoroughly checked the logs and executed kubectl get events, but there are no error messages reported. I am confused about why the pre-install Job does not mark itself as successful, despite the successful completion of the migration container.</p>\n<p>Could someone kindly help me identify the root cause of this issue and provide guidance on how to ensure that the pre-install Helm hook Job succeeds after the migration container has completed its task? Your assistance is greatly appreciated. Thank you!</p>\n<p>new <strong>job.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: qdm-migration-service-job\n  namespace: qdm\n  annotations:\n    &quot;helm.sh/hook&quot;: pre-install,pre-upgrade\n    &quot;helm.sh/hook-delete-policy&quot;: before-hook-creation,hook-succeeded\n\nspec:\n  backoffLimit: 1\n  template:\n    metadata:\n      labels:\n        app: qdm-migration-service-job-pod\n        app.kubernetes.io/instance: {{ .Release.Name }}\n    spec:\n      serviceAccountName: qdm\n      imagePullSecrets:\n      - name: {{dockerhubsecret}}\n      restartPolicy: Never\n      containers:\n      - name: qdm-migration-service\n        terminationMessagePath: &quot;/hook-completed&quot;\n        image: qdm-migration-service:1.0\n        imagePullPolicy: Always\n        securityContext:\n          runAsUser: 0\n        env:\n        .............\n        ports:\n          - name: http\n            containerPort: 8092\n            protocol: TCP\n    ```\n\n\n\n\n</code></pre>\n<p><strong>Application main class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class QdmMigrationApp {\n    public static void main(String[] args) {\n\n        try {\n            \n\n            \n           // all migrations logic\n              ...........\n              ...........\n\n            System.out.println(&quot;QDM Migration Success!&quot;);\n            writeTerminationMessage();\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n\n\n    private static void writeTerminationMessageToFile() {\n        String terminationMessage = &quot;Job completed !&quot;;\n        String filePath = &quot;/hook-completed&quot;;\n\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(filePath))) {\n            writer.write(terminationMessage);\n        } catch (IOException e) {\n            logger.error(e.getMessage());\n            // Handle any exceptions that might occur during file writing\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p><strong>Pod status:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>kubectl describe qdm-migration-service-job-s9qvs -n qdm\nName:             qdm-migration-service-job-s9qvs\nNamespace:        qdm\n.......\nStatus:           Running\nControlled By:  Job/qdm-migration-service-job\nInit Containers:\n  copy-vault-env:\n    .......\n    State:          Terminated\n      Reason:       Completed\n      Exit Code:    0\n      Started:      Thu, 20 Jul 2023 10:40:35 +0530\n      Finished:     Thu, 20 Jul 2023 10:40:35 +0530\n    Ready:          True\n    Restart Count:  0\n..........\nContainers:\n  vault-agent:\n    Container ID:  cri-o://f703a9c050a5b391fbe1c.....\n    Image:         docker.*******.com/qdm-images/qdm-vault:1.8.0\n    Image ID:      ****\n    Port:          &lt;none&gt;\n    Host Port:     &lt;none&gt;\n    State:          Running\n      Started:      Thu, 20 Jul 2023 10:40:36 +0530\n    Ready:          True\n    Restart Count:  0\n    Limits:\n      cpu:     100m\n      memory:  128Mi\n    Requests:\n      cpu:     100m\n      memory:  128Mi\n    Environment:\n      VAULT_ADDR:         https://vault.******:8200\n      VAULT_SKIP_VERIFY:  true\n  qdm-migration-service:\n    Container ID:  cri-o://f47d3aedc4ed6902da4459***\n    Image:         ****\n    Image ID:      ****\n    Port:          8092/TCP\n    Host Port:     0/TCP\n    Command:\n      /vault/vault-env\n    State:          Terminated\n      Reason:       Completed\n      Message:      Job completed successfully!\n      Exit Code:    0\n      Started:      Thu, 20 Jul 2023 10:40:47 +0530\n      Finished:     Thu, 20 Jul 2023 10:44:17 +0530\n    Ready:          False\n    Restart Count:  0\n    Limits:\n      cpu:     2\n      memory:  5Gi\n    Requests:\n      cpu:     2\n      memory:  4Gi\n    Environment:\n    Mounts:\n      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-dbtsv (ro)\n      /vault/ from vault-env (rw)\n      /vault/secrets from agent-secrets (rw)\nConditions:\n  Type              Status\n  Initialized       True \n  Ready             False \n  ContainersReady   False \n  PodScheduled      True \nVolumes:\n  .....\nTolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s\n                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s\nEvents:\n  Type    Reason     Age   From               Message\n  ----    ------     ----  ----               -------\n  Normal  Scheduled  23m   default-scheduler  Successfully assigned qdm/qdm-migration-service-job-s9qvs to 10.1.7.123\n  Normal  Pulled     23m   kubelet            Container image &quot;*****&quot; already present on machine\n  Normal  Created    23m   kubelet            Created container copy-vault-env\n  Normal  Started    23m   kubelet            Started container copy-vault-env\n  Normal  Pulled     23m   kubelet            Container image &quot;d*******&quot; already present on machine\n  Normal  Created    23m   kubelet            Created container vault-agent\n  Normal  Started    23m   kubelet            Started container vault-agent\n  Normal  Pulling    23m   kubelet            Pulling image &quot;****qdm-pdb-migration-service:5.0&quot;\n  Normal  Pulled     23m   kubelet            Successfully pulled image &quot;****qdm-pdb-migration-service:5.0&quot; in 10.9s\n  Normal  Created    23m   kubelet            Created container qdm-pdb-migration-service\n  Normal  Started    23m   kubelet            Started container qdm-pdb-migration-service\n</code></pre>\n\n"},{"tags":["java","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1689840397,"post_id":76727787,"comment_id":135271072,"body_markdown":"Do not catch NullPointerException. Add null checks","body":"Do not catch NullPointerException. Add null checks"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689840671,"post_id":76727787,"comment_id":135271137,"body_markdown":"How are you running your application? It sounds like your application doesn&#39;t have a valid System.in (i.e. it&#39;s closed), which can happen sometimes when running from an IDE.","body":"How are you running your application? It sounds like your application doesn&#39;t have a valid System.in (i.e. it&#39;s closed), which can happen sometimes when running from an IDE."},{"owner":{"account_id":29051319,"reputation":3,"user_id":22254078,"display_name":"Sharky"},"score":0,"creation_date":1689884413,"post_id":76727787,"comment_id":135280484,"body_markdown":"It seems that the issue was the scanner getting closed in quiz.printMenu1, I would&#39;ve never found this while reading over as I spent hours trying to fix this code so thank you so much!!","body":"It seems that the issue was the scanner getting closed in quiz.printMenu1, I would&#39;ve never found this while reading over as I spent hours trying to fix this code so thank you so much!!"}],"answers":[{"comments":[{"owner":{"account_id":29051319,"reputation":3,"user_id":22254078,"display_name":"Sharky"},"score":0,"creation_date":1689884722,"post_id":76728406,"comment_id":135280543,"body_markdown":"Thanks for this answer, I had forgotten to remove a close() which is what caused the issue. May I ask why exactly the linting tools call this a &#39;Resource leak&#39;?","body":"Thanks for this answer, I had forgotten to remove a close() which is what caused the issue. May I ask why exactly the linting tools call this a &#39;Resource leak&#39;?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689895887,"post_id":76728406,"comment_id":135281790,"body_markdown":"Because it incorrectly thinks that `Scanner` represents a resource (it does not, but there are slightly incorrect but somewhat useful reasons to consider them resources), and notices you created it and aren&#39;t closing it.","body":"Because it incorrectly thinks that <code>Scanner</code> represents a resource (it does not, but there are slightly incorrect but somewhat useful reasons to consider them resources), and notices you created it and aren&#39;t closing it."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689844828,"creation_date":1689844828,"answer_id":76728406,"question_id":76727787,"body_markdown":"Do not ever close resources that you aren&#39;t responsible for. You are not responsible for `System.in` (in fact, you should never close that unless you really know what that means and are sure you want to do that), and &#39;wrapper&#39; resources (Such as `Scanner`, generally created with `new ResourceThing(refToSomeOtherResource)`), if you close them, close the thing you wrapped. In other words - don&#39;t.\r\n\r\nSome linting tools tell you that you should be closing a resource. Those linting tools are incorrect. (somewhat understandably, keeping track of filters &#39;through&#39; the resource they wrap is a bit complex).\r\n","title":"java.util.NoSuchElementException: no Line found from the Java Scanner","body":"<p>Do not ever close resources that you aren't responsible for. You are not responsible for <code>System.in</code> (in fact, you should never close that unless you really know what that means and are sure you want to do that), and 'wrapper' resources (Such as <code>Scanner</code>, generally created with <code>new ResourceThing(refToSomeOtherResource)</code>), if you close them, close the thing you wrapped. In other words - don't.</p>\n<p>Some linting tools tell you that you should be closing a resource. Those linting tools are incorrect. (somewhat understandably, keeping track of filters 'through' the resource they wrap is a bit complex).</p>\n"},{"comments":[{"owner":{"account_id":29051319,"reputation":3,"user_id":22254078,"display_name":"Sharky"},"score":0,"creation_date":1689884201,"post_id":76728829,"comment_id":135280450,"body_markdown":"Hey, just tried your suggestion but it still gives the same error while using in.nextLine(). I have tried a few ways of doing the validation but none really seem to change the result, giving the same exception on that line.","body":"Hey, just tried your suggestion but it still gives the same error while using in.nextLine(). I have tried a few ways of doing the validation but none really seem to change the result, giving the same exception on that line."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689945067,"post_id":76728829,"comment_id":135288621,"body_markdown":"@Sharky, are you closing any other _Scanner_ which uses the _System.in_?","body":"@Sharky, are you closing any other <i>Scanner</i> which uses the <i>System.in</i>?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689847925,"creation_date":1689847925,"answer_id":76728829,"question_id":76727787,"body_markdown":"&gt; _&quot;... My issue comes with my use of the Scanner (I&#39;m pretty sure) which for some reason does not find a new line to read from. ...&quot;_\r\n\r\nYes, the _[hasNextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNextLine())_ method isn&#39;t what you&#39;re looking for.\r\n\r\nJust loop on _[nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_, and check whether it meets the requirements.\r\n\r\n```java\r\npublic void setUsername(Scanner in) {\r\n    String user;\r\n    boolean exit = false;\r\n    do {\r\n        user = in.nextLine();\r\n        if (!user.isEmpty() &amp;&amp; user.length() &lt; 16) exit = true;\r\n        else Quiz.printError();\r\n    } while (!exit);\r\n    username = user;\r\n    Quiz.setProperties(&quot;playerusername&quot;, username);\r\n}\r\n```","title":"java.util.NoSuchElementException: no Line found from the Java Scanner","body":"<blockquote>\n<p><em>&quot;... My issue comes with my use of the Scanner (I'm pretty sure) which for some reason does not find a new line to read from. ...&quot;</em></p>\n</blockquote>\n<p>Yes, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNextLine()\" rel=\"nofollow noreferrer\">hasNextLine</a></em> method isn't what you're looking for.</p>\n<p>Just loop on <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">nextLine</a></em>, and check whether it meets the requirements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setUsername(Scanner in) {\n    String user;\n    boolean exit = false;\n    do {\n        user = in.nextLine();\n        if (!user.isEmpty() &amp;&amp; user.length() &lt; 16) exit = true;\n        else Quiz.printError();\n    } while (!exit);\n    username = user;\n    Quiz.setProperties(&quot;playerusername&quot;, username);\n}\n</code></pre>\n"}],"owner":{"account_id":29051319,"reputation":3,"user_id":22254078,"display_name":"Sharky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76728406,"answer_count":2,"score":0,"last_activity_date":1689847925,"creation_date":1689839828,"question_id":76727787,"body_markdown":"I am creating a quiz game which has one Player instance that the user can create once and then edit the username in Java. My issue comes with my use of the Scanner (I&#39;m pretty sure) which for some reason does not find a new line to read from. My code gives me the following error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n        at Player.setUsername(Player.java:33)\r\n        at Quiz.printPlayerEditor(Quiz.java:118)\r\n        at Run.main(Run.java:20)\r\n```\r\nHere is the method setUsername within Player.java that gives error, this is then used in another method printPlayerEditor from Quiz.java, which is then used in the main (Run.java):\r\n\r\n```java\r\npublic void setUsername(Scanner in) {\r\n    String user = &quot;&quot;;\r\n\r\n    do {\r\n        while (!in.hasNextLine() &amp;&amp; !user.isEmpty() &amp;&amp; user.length() &lt; 16 ) {\r\n            Quiz.printError();\r\n            in.next();\r\n        }\r\n        user = in.nextLine(); //Line 33\r\n        username = user;\r\n        Quiz.setProperties(&quot;playerusername&quot;, username);\r\n\r\n    }while(!username.equals(user));\r\n}\r\n```\r\n\r\nThe Quiz.java code that gives error (which uses the previous method)\r\n\r\n```java\r\npublic void printPlayerEditor(Scanner in) {\r\n    System.out.println(&quot;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&quot;);\r\n    System.out.println(&quot;Welcome to the Player editor:&quot;);\r\n    System.out.println(&quot;Your current username is | &quot; + player.getUsername() + &quot; |&quot;);\r\n    System.out.println(&quot;Please enter a new username between 1-16 characters:&quot;);\r\n    System.out.println(&quot;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&quot;);\r\n\r\n    player.setUsername(in);\r\n\r\n    System.out.println(&quot;Your username is now | &quot; + player.getUsername() + &quot; |\\n&quot;);\r\n}\r\n```\r\n\r\nAnd then lastly this is used in the main in a switch case that deals with the input. This is where the Scanner comes from:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Run {\r\n    public static void main(String[] args) {        \r\n        Quiz quiz = new Quiz();\r\n        Player player = new Player();\r\n\r\n        quiz.setPlayer(player);\r\n        quiz.populateQuestions();\r\n        int input = quiz.printMenu1();\r\n\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        switch (input) {                \r\n            case 1:\r\n                if (Quiz.getProperties(&quot;playerusername&quot;).isEmpty()) {\r\n                    quiz.printPlayerCreator(in);\r\n                    input = 2;\r\n                } else {\r\n                    quiz.printPlayerEditor(in);\r\n                    input = 2;\r\n                }\r\n                \r\n            case 2: \r\n                try {\r\n                    quiz.printUnitMenu(in);\r\n\r\n                } catch (NullPointerException e) {\r\n                    quiz.printPlayerCreator(in);\r\n                \r\n                }\r\n                break;\r\n\r\n            default:\r\n                Quiz.printError();\r\n                quiz.printMenu1();\r\n                break;\r\n        }\r\n\r\n        in.close();\r\n        \r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried passing the same scanner into all of them, and I&#39;ve tried making the classes static and stuff, but I&#39;m still quite new to Java and cannot get my head around why this error may be occurring.","title":"java.util.NoSuchElementException: no Line found from the Java Scanner","body":"<p>I am creating a quiz game which has one Player instance that the user can create once and then edit the username in Java. My issue comes with my use of the Scanner (I'm pretty sure) which for some reason does not find a new line to read from. My code gives me the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n        at Player.setUsername(Player.java:33)\n        at Quiz.printPlayerEditor(Quiz.java:118)\n        at Run.main(Run.java:20)\n</code></pre>\n<p>Here is the method setUsername within Player.java that gives error, this is then used in another method printPlayerEditor from Quiz.java, which is then used in the main (Run.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setUsername(Scanner in) {\n    String user = &quot;&quot;;\n\n    do {\n        while (!in.hasNextLine() &amp;&amp; !user.isEmpty() &amp;&amp; user.length() &lt; 16 ) {\n            Quiz.printError();\n            in.next();\n        }\n        user = in.nextLine(); //Line 33\n        username = user;\n        Quiz.setProperties(&quot;playerusername&quot;, username);\n\n    }while(!username.equals(user));\n}\n</code></pre>\n<p>The Quiz.java code that gives error (which uses the previous method)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void printPlayerEditor(Scanner in) {\n    System.out.println(&quot;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&quot;);\n    System.out.println(&quot;Welcome to the Player editor:&quot;);\n    System.out.println(&quot;Your current username is | &quot; + player.getUsername() + &quot; |&quot;);\n    System.out.println(&quot;Please enter a new username between 1-16 characters:&quot;);\n    System.out.println(&quot;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&quot;);\n\n    player.setUsername(in);\n\n    System.out.println(&quot;Your username is now | &quot; + player.getUsername() + &quot; |\\n&quot;);\n}\n</code></pre>\n<p>And then lastly this is used in the main in a switch case that deals with the input. This is where the Scanner comes from:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Run {\n    public static void main(String[] args) {        \n        Quiz quiz = new Quiz();\n        Player player = new Player();\n\n        quiz.setPlayer(player);\n        quiz.populateQuestions();\n        int input = quiz.printMenu1();\n\n        Scanner in = new Scanner(System.in);\n\n        switch (input) {                \n            case 1:\n                if (Quiz.getProperties(&quot;playerusername&quot;).isEmpty()) {\n                    quiz.printPlayerCreator(in);\n                    input = 2;\n                } else {\n                    quiz.printPlayerEditor(in);\n                    input = 2;\n                }\n                \n            case 2: \n                try {\n                    quiz.printUnitMenu(in);\n\n                } catch (NullPointerException e) {\n                    quiz.printPlayerCreator(in);\n                \n                }\n                break;\n\n            default:\n                Quiz.printError();\n                quiz.printMenu1();\n                break;\n        }\n\n        in.close();\n        \n    }\n}\n</code></pre>\n<p>I've tried passing the same scanner into all of them, and I've tried making the classes static and stuff, but I'm still quite new to Java and cannot get my head around why this error may be occurring.</p>\n"},{"tags":["java","graphql","spring-cloud-gateway","apollo-gateway"],"comments":[{"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"score":0,"creation_date":1689866428,"post_id":76728539,"comment_id":135276985,"body_markdown":"You&#39;re looking for [federation](https://www.apollographql.com/docs/federation/)","body":"You&#39;re looking for <a href=\"https://www.apollographql.com/docs/federation/\" rel=\"nofollow noreferrer\">federation</a>"},{"owner":{"account_id":28801978,"reputation":13,"user_id":22058641,"display_name":"Khyati"},"score":0,"creation_date":1689919958,"post_id":76728539,"comment_id":135283944,"body_markdown":"@MichelFloyd Want to know using apollo gateway is good option to fulfill this mentioned scenario. As apollo gateway is in Node.js and my microservices are in spring boot graphql ?\nOr could suggest me better option?","body":"@MichelFloyd Want to know using apollo gateway is good option to fulfill this mentioned scenario. As apollo gateway is in Node.js and my microservices are in spring boot graphql ? Or could suggest me better option?"},{"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"score":0,"creation_date":1689954117,"post_id":76728539,"comment_id":135290507,"body_markdown":"IMO it&#39;s the best option out there. You will have a small node server that routes traffic to your spring boot microservices. I&#39;m not aware of any java based federation server.","body":"IMO it&#39;s the best option out there. You will have a small node server that routes traffic to your spring boot microservices. I&#39;m not aware of any java based federation server."}],"owner":{"account_id":28801978,"reputation":13,"user_id":22058641,"display_name":"Khyati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689847225,"creation_date":1689845656,"question_id":76728539,"body_markdown":"I have the below spring boot graphql microservices in java \r\n\r\n- /graphql1 - with User service  \r\n- /graphql2 - with Product service\r\n\r\nAll these 2 microservice run on different ports.\r\n\r\nI would like to host these 2 microservices through one single graphql api gateway i.e. `/graphql` .  \r\nLike when the, query is userlist - api should redirect the request to /graphql1 - User service\r\n\r\nI have read about apollo gateway. Use of apollo gateway in this scenario is a good option?  \r\nor how to create graphql api gateway to fullfill this scenario.  \r\nAny reference and guidance is appreciated.","title":"Which graphQL Gateway should use to access multiple String boot graphQL microservices with single URL?","body":"<p>I have the below spring boot graphql microservices in java</p>\n<ul>\n<li>/graphql1 - with User service</li>\n<li>/graphql2 - with Product service</li>\n</ul>\n<p>All these 2 microservice run on different ports.</p>\n<p>I would like to host these 2 microservices through one single graphql api gateway i.e. <code>/graphql</code> .<br />\nLike when the, query is userlist - api should redirect the request to /graphql1 - User service</p>\n<p>I have read about apollo gateway. Use of apollo gateway in this scenario is a good option?<br />\nor how to create graphql api gateway to fullfill this scenario.<br />\nAny reference and guidance is appreciated.</p>\n"},{"tags":["java","session","undertow","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689846617,"creation_date":1689846617,"answer_id":76728646,"question_id":76659443,"body_markdown":"Can you publish your whole test somewhere?","title":"How to do proper integration testing with Pac4j OAuth2 and Undertow?","body":"<p>Can you publish your whole test somewhere?</p>\n"}],"owner":{"account_id":5687210,"reputation":3883,"user_id":4496364,"accept_rate":67,"display_name":"insan-e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689846617,"creation_date":1689059203,"question_id":76659443,"body_markdown":"I can&#39;t figure out how to log in a fake/mock user with Pac4J OAuth2 and Undertow server, and use it in tests (everything works fine with the real setup).  \r\nI made this fake client to use instead of real ones:\r\n\r\n```scala\r\nclass FakeGitHubClient(userProfile: UserProfile) extends OAuth20Client {\r\n\r\n  setCallbackUrl(&quot;http://local.test&quot;)\r\n\r\n  reinit()\r\n\r\n  override protected def internalInit(forceReinit: Boolean): Unit = {\r\n    val creds = new TokenCredentials(&quot;fake-token&quot;)\r\n    creds.setUserProfile(userProfile)\r\n\r\n    defaultCredentialsExtractor((ctx, store) =&gt; ju.Optional.of(creds))\r\n    defaultAuthenticator((cred, ctx, store) =&gt; cred.setUserProfile(userProfile))\r\n\r\n    super.internalInit(forceReinit)\r\n  }\r\n```\r\n\r\nThis is the part where I extract the user profile from session:\r\n```\r\n    val sessionStore = FindBest.sessionStore(null, config, new UndertowSessionStore(exchange))\r\n\r\n    val profileManager = config.getProfileManagerFactory().apply(new UndertowWebContext(exchange), sessionStore)\r\n\r\n    profileManager.getProfile().toScala.flatMap { profile =&gt;\r\n      val identityProvider = profile match\r\n        case _: GitHubProfile  =&gt; &quot;github&quot;\r\n        case _: Google2Profile =&gt; &quot;google&quot;\r\n        case _                 =&gt; &quot;unknown&quot;\r\n      val identityProviderId = profile.getId()\r\n      userEntityDao.findBySocialId(identityProvider, identityProviderId)\r\n    }\r\n```\r\n\r\nThe `getProfile` always returns an empty `Optional`..  \r\nAny help would be appreciated.","title":"How to do proper integration testing with Pac4j OAuth2 and Undertow?","body":"<p>I can't figure out how to log in a fake/mock user with Pac4J OAuth2 and Undertow server, and use it in tests (everything works fine with the real setup).<br />\nI made this fake client to use instead of real ones:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class FakeGitHubClient(userProfile: UserProfile) extends OAuth20Client {\n\n  setCallbackUrl(&quot;http://local.test&quot;)\n\n  reinit()\n\n  override protected def internalInit(forceReinit: Boolean): Unit = {\n    val creds = new TokenCredentials(&quot;fake-token&quot;)\n    creds.setUserProfile(userProfile)\n\n    defaultCredentialsExtractor((ctx, store) =&gt; ju.Optional.of(creds))\n    defaultAuthenticator((cred, ctx, store) =&gt; cred.setUserProfile(userProfile))\n\n    super.internalInit(forceReinit)\n  }\n</code></pre>\n<p>This is the part where I extract the user profile from session:</p>\n<pre><code>    val sessionStore = FindBest.sessionStore(null, config, new UndertowSessionStore(exchange))\n\n    val profileManager = config.getProfileManagerFactory().apply(new UndertowWebContext(exchange), sessionStore)\n\n    profileManager.getProfile().toScala.flatMap { profile =&gt;\n      val identityProvider = profile match\n        case _: GitHubProfile  =&gt; &quot;github&quot;\n        case _: Google2Profile =&gt; &quot;google&quot;\n        case _                 =&gt; &quot;unknown&quot;\n      val identityProviderId = profile.getId()\n      userEntityDao.findBySocialId(identityProvider, identityProviderId)\n    }\n</code></pre>\n<p>The <code>getProfile</code> always returns an empty <code>Optional</code>..<br />\nAny help would be appreciated.</p>\n"},{"tags":["java","mysql","sql","exception"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1559927211,"post_id":56498564,"comment_id":99586238,"body_markdown":"Turn AutoCommit off.  See https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","body":"Turn AutoCommit off.  See <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/transactions.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":13902148,"reputation":43,"user_id":10037511,"display_name":"Yuşa Yal&#231;ın"},"score":0,"creation_date":1559927686,"post_id":56498564,"comment_id":99586458,"body_markdown":"Thank you. It solved my problem","body":"Thank you. It solved my problem"}],"answers":[{"tags":[],"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1559927626,"creation_date":1559927626,"answer_id":56498699,"question_id":56498564,"body_markdown":"You can disable auto commit by using this code:\r\n\r\n     //Note : This will implicitly commit the active transaction and create a new one\r\n     connection.setAutoCommit(false);\r\n\r\nNow the set of statements ( transaction ) will be  committed on :\r\n\r\n    connection.commit();\r\n","title":"How to fix &quot;java.sql.SQLException: Can&#39;t call commit when autocommit=true&quot;","body":"<p>You can disable auto commit by using this code:</p>\n\n<pre><code> //Note : This will implicitly commit the active transaction and create a new one\n connection.setAutoCommit(false);\n</code></pre>\n\n<p>Now the set of statements ( transaction ) will be  committed on :</p>\n\n<pre><code>connection.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22582577,"reputation":3,"user_id":16767033,"display_name":"chundi sai krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630076189,"creation_date":1630065921,"answer_id":68953126,"question_id":56498564,"body_markdown":"Basically when we write query and execute them defaultly they will commit it resist it we have to specify don&#39;t commit and commit only when I specify.\r\n\r\nthat is we can do it by like\r\n```java\r\nConnection con = DriverManager.getConnection(url,user,password);\r\ncon.setAutoCommit(false); \r\n```\r\nThis will set the autocommit not to commit automatically.","title":"How to fix &quot;java.sql.SQLException: Can&#39;t call commit when autocommit=true&quot;","body":"<p>Basically when we write query and execute them defaultly they will commit it resist it we have to specify don't commit and commit only when I specify.</p>\n<p>that is we can do it by like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection con = DriverManager.getConnection(url,user,password);\ncon.setAutoCommit(false); \n</code></pre>\n<p>This will set the autocommit not to commit automatically.</p>\n"},{"tags":[],"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689846562,"creation_date":1689846562,"answer_id":76728642,"question_id":56498564,"body_markdown":"Auto-commit mode means that when a statement is completed, the method commit is called on that statement automatically. When auto-commit is enabled, any changes made to the database will be committed &quot;immediately&quot; after the statement is executed.\r\n\r\nIn case of Transaction on a method, it will override the auto-commit setting for that method(if auto-commit is on default mode). This means Transaction will `set auto-commit false` and queries executed within the method will be part of the same transaction. Basically, the framework will take care to configure the necessary auto-commit value. \r\n\r\n**But When you explicitly set auto-commit to true**, you are telling Hibernate that you want to control when transactions are committed. And in this case, if needs to use the @Transacional method then you have to set auto-commit=false manually before using the transaction otherwise cause an exception `Caused by: java.sql.SQLException: Can&#39;t call commit when autocommit=true` ","title":"How to fix &quot;java.sql.SQLException: Can&#39;t call commit when autocommit=true&quot;","body":"<p>Auto-commit mode means that when a statement is completed, the method commit is called on that statement automatically. When auto-commit is enabled, any changes made to the database will be committed &quot;immediately&quot; after the statement is executed.</p>\n<p>In case of Transaction on a method, it will override the auto-commit setting for that method(if auto-commit is on default mode). This means Transaction will <code>set auto-commit false</code> and queries executed within the method will be part of the same transaction. Basically, the framework will take care to configure the necessary auto-commit value.</p>\n<p><strong>But When you explicitly set auto-commit to true</strong>, you are telling Hibernate that you want to control when transactions are committed. And in this case, if needs to use the @Transacional method then you have to set auto-commit=false manually before using the transaction otherwise cause an exception <code>Caused by: java.sql.SQLException: Can't call commit when autocommit=true</code></p>\n"}],"owner":{"account_id":13902148,"reputation":43,"user_id":10037511,"display_name":"Yuşa Yal&#231;ın"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56498699,"answer_count":3,"score":2,"last_activity_date":1689846562,"creation_date":1559926960,"question_id":56498564,"body_markdown":"I am working on java and mysql and I couldn&#39;t fix the errors. I am facing these errors when I insert new farmer to the table...    \r\n\r\n&gt; java.sql.SQLException: Can&#39;t call commit when autocommit=true\r\n\r\nErrors are below \r\n    \r\n&gt; java.sql.SQLException: Can&#39;t call commit when autocommit=true  \r\n&gt; \r\n&gt; at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:869)  \r\n&gt; at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:865)  \r\n&gt; at com.mysql.jdbc.ConnectionImpl.commit(ConnectionImpl.java:1537)  \r\n&gt; at client.Main.addonething(Main.java:784)\r\n    \tat client.Main.parse_commands(Main.java:123)\r\n    \tat client.Main.main_loop(Main.java:202)\r\n    \tat client.Main.main(Main.java:239)\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Can&#39;t call rollback when autocommit=true\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:408)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)\r\n    \tat com.mysql.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:4560)\r\n    \tat client.Main.addonething(Main.java:795)\r\n    \tat client.Main.parse_commands(Main.java:123)\r\n    \tat client.Main.main_loop(Main.java:202)\r\n    \tat client.Main.main(Main.java:239)\r\n\r\nThis is the database connection code\r\n\r\n     public static void addonething(String query, DBConnection dbConnection){\r\n        \tStatement myStmt;\r\n        \ttry {\r\n        \t\tmyStmt =  dbConnection.getConn().createStatement();\r\n        \t\tint swichA = 0;\r\n        \t\tint swichB = 0;\r\n        \t\tmyStmt.execute(query);\r\n        \r\n\t\tSystem.out.println(&quot;To commit the data enter 1&quot;);\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tswichB = in.nextInt();\r\n\t\tif(swichA != -1 &amp;&amp; swichB == 1){\r\n\t\t\tSystem.out.println();\r\n\t\t\tdbConnection.getConn().commit();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;it came hear3&quot;);\r\n\t\t\tdbConnection.getConn().rollback();\r\n\t\t}\r\n\r\n\t} catch (SQLException e) {\r\n\t\tSystem.out.println(&quot;it came hear4&quot;);\r\n\t\te.printStackTrace();\r\n\t\ttry {\r\n\t\t\tdbConnection.getConn().rollback();\r\n\t\t} catch (SQLException e1) {\r\n\t\t\tSystem.out.println(&quot;it came hear5&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t}}\r\n\r\nBelow is the insert method\r\n    \r\n    public static String frQuery(String second_part){\r\n    \tString data = get_data_from_commands(second_part);\r\n    \tString[] tokens = data.split(&quot;,&quot;);\r\n    \tString queryf = String.format(&quot;insert into farmers&quot; + &quot; \r\n                (Name, lastname, Address, zipcode, city, phones, mails)&quot; + &quot;values \r\n          (&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;)&quot;,tokens[0],tokens[1],tokens[2], \r\n           tokens[3],tokens[4],tokens[5], tokens[6]);\r\n    \r\n    \treturn queryf;\r\n    }\r\n","title":"How to fix &quot;java.sql.SQLException: Can&#39;t call commit when autocommit=true&quot;","body":"<p>I am working on java and mysql and I couldn't fix the errors. I am facing these errors when I insert new farmer to the table...    </p>\n\n<blockquote>\n  <p>java.sql.SQLException: Can't call commit when autocommit=true</p>\n</blockquote>\n\n<p>Errors are below </p>\n\n<blockquote>\n  <p>java.sql.SQLException: Can't call commit when autocommit=true  </p>\n  \n  <p>at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:869)<br>\n  at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:865)<br>\n  at com.mysql.jdbc.ConnectionImpl.commit(ConnectionImpl.java:1537)<br>\n  at client.Main.addonething(Main.java:784)\n          at client.Main.parse_commands(Main.java:123)\n          at client.Main.main_loop(Main.java:202)\n          at client.Main.main(Main.java:239)\n      com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Can't call rollback when autocommit=true\n          at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n          at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n          at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n          at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n          at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n          at com.mysql.jdbc.Util.getInstance(Util.java:408)\n          at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)\n          at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\n          at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\n          at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)\n          at com.mysql.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:4560)\n          at client.Main.addonething(Main.java:795)\n          at client.Main.parse_commands(Main.java:123)\n          at client.Main.main_loop(Main.java:202)\n          at client.Main.main(Main.java:239)</p>\n</blockquote>\n\n<p>This is the database connection code</p>\n\n<pre><code> public static void addonething(String query, DBConnection dbConnection){\n        Statement myStmt;\n        try {\n            myStmt =  dbConnection.getConn().createStatement();\n            int swichA = 0;\n            int swichB = 0;\n            myStmt.execute(query);\n\n    System.out.println(\"To commit the data enter 1\");\n    Scanner in = new Scanner(System.in);\n    swichB = in.nextInt();\n    if(swichA != -1 &amp;&amp; swichB == 1){\n        System.out.println();\n        dbConnection.getConn().commit();\n    }\n    else{\n        System.out.println(\"it came hear3\");\n        dbConnection.getConn().rollback();\n    }\n\n} catch (SQLException e) {\n    System.out.println(\"it came hear4\");\n    e.printStackTrace();\n    try {\n        dbConnection.getConn().rollback();\n    } catch (SQLException e1) {\n        System.out.println(\"it came hear5\");\n        e1.printStackTrace();\n    }\n}}\n</code></pre>\n\n<p>Below is the insert method</p>\n\n<pre><code>public static String frQuery(String second_part){\n    String data = get_data_from_commands(second_part);\n    String[] tokens = data.split(\",\");\n    String queryf = String.format(\"insert into farmers\" + \" \n            (Name, lastname, Address, zipcode, city, phones, mails)\" + \"values \n      ('%s','%s','%s','%s','%s','%s','%s')\",tokens[0],tokens[1],tokens[2], \n       tokens[3],tokens[4],tokens[5], tokens[6]);\n\n    return queryf;\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","chropath"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689803546,"creation_date":1689803546,"answer_id":76725420,"question_id":76725255,"body_markdown":"The element with text as _Know More_ on the [HDFC Bank NetBanking](https://netbanking.hdfcbank.com/netbanking/) landing page is within a [`&lt;frame&gt;`](https://stackoverflow.com/a/53276478/7429447).\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n---------\r\nTo click on the element with text as _**Know More**_ you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired _elementToBeClickable_.\r\n- You can use the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n - Using _xpath_:\r\n\r\n\t   WebDriver driver = new FirefoxDriver();\r\n\t   driver.get(&quot;https://netbanking.hdfcbank.com/netbanking/&quot;);\r\n\t   WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t   wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//frame[@name=&#39;login_page&#39;]&quot;)));\r\n\t\t\t\r\n- Browser Snapshot:\r\n\r\n![KnowMore](https://i.stack.imgur.com/GiOc0.png)\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?](https://stackoverflow.com/a/47472200/7429447)\r\n- [Selenium: Can&#39;t click on a button within an iframe](https://stackoverflow.com/a/64016305/7429447)","title":"Select and click link in html element in Selenium Java when iframe tag is absent","body":"<p>The element with text as <em>Know More</em> on the <a href=\"https://netbanking.hdfcbank.com/netbanking/\" rel=\"nofollow noreferrer\">HDFC Bank NetBanking</a> landing page is within a <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;frame&gt;</code></a>.</p>\n<hr />\n<h2>Solution</h2>\n<p>To click on the element with text as <em><strong>Know More</strong></em> you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <em>elementToBeClickable</em>.</p>\n</li>\n<li><p>You can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://netbanking.hdfcbank.com/netbanking/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//frame[@name='login_page']&quot;)));\n</code></pre>\n</li>\n<li><p>Browser Snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/GiOc0.png\" alt=\"KnowMore\" /></p>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47472200/7429447\">Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?</a></li>\n<li><a href=\"https://stackoverflow.com/a/64016305/7429447\">Selenium: Can't click on a button within an iframe</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27793345,"reputation":24,"user_id":21219384,"display_name":"Dinesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689846414,"creation_date":1689844336,"answer_id":76728341,"question_id":76725255,"body_markdown":"    WebDriver driver;\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n    \t\toptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    \t\tdriver=new ChromeDriver(options);\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\t//Actions class method to drag and drop\r\n    \t\t//driver=new ChromeDriver();\r\n    \t\tdriver.get(&quot;https://netbanking.hdfcbank.com/netbanking/&quot;);\r\n    \t\tdriver.switchTo().frame(&quot;login_page&quot;);\r\n    \t\tWebElement frame = driver.findElement(By.xpath(&quot;(//a[contains(text(),&#39;Know&#39;)])[2]&quot;));\r\n    \t\tframe.click();\r\n    \r\n    This know more webelement is present inside the frame so we need to switch to that frame then click on know more link","title":"Select and click link in html element in Selenium Java when iframe tag is absent","body":"<pre><code>WebDriver driver;\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        options.addArguments(&quot;--no-sandbox&quot;);\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        driver=new ChromeDriver(options);\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        //Actions class method to drag and drop\n        //driver=new ChromeDriver();\n        driver.get(&quot;https://netbanking.hdfcbank.com/netbanking/&quot;);\n        driver.switchTo().frame(&quot;login_page&quot;);\n        WebElement frame = driver.findElement(By.xpath(&quot;(//a[contains(text(),'Know')])[2]&quot;));\n        frame.click();\n\nThis know more webelement is present inside the frame so we need to switch to that frame then click on know more link\n</code></pre>\n"}],"owner":{"account_id":20890006,"reputation":1,"user_id":15345609,"display_name":"jugunnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689846414,"creation_date":1689801457,"question_id":76725255,"body_markdown":"I am trying to select and click a link on a web webpage using Selenium. The url is this [test site](https://netbanking.hdfcbank.com/netbanking/). When I used regular element locator or xpath or cssSelectors:\r\n\r\n```\r\n//div[@class=&quot;welcmewrap&quot;]/div/div[3]/div/div[2]/div/div[2]/span[2][contains(text(), &quot;Know More...&quot;)]\r\n```\r\n\r\nThe chropath showed the message:\r\n\r\n&gt; It might be child of svg/pseudo element/comment/iframe from different src. Currently ChroPath doesn&#39;t support for them.\r\n\r\nSimilarly, running the methods on selenium as below:\r\n\r\n```\r\nWebDriverManager.firefoxdriver().setup();\r\nWebDriver driver = new FirefoxDriver();\r\n\r\ndriver.get(&quot;https://netbanking.hdfcbank.com/netbanking/&quot;);\r\n\r\n//method 1\t\r\ndriver.findElement(By.xpath(&quot;//span[@class=&#39;lightbluecolor&#39;][contains(text(), &#39;Know More...&#39;)]&quot;));\r\n\r\n//method 2\t\r\ndriver.findElement(By.xpath(&quot;//div[@class=\\&quot;welcmewrap\\&quot;]/div/div[3]/div/div[2]/div/div[2]/span[@class= ‘lightbluecolor’] [contains(text(), \\&quot;Know More...\\&quot;)]&quot;)).click();\r\n\r\nSystem.out.println(&quot;know more click&quot;);\r\n```\r\n\r\n...returned:\r\n\r\n\r\n&gt; Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: Unable to locate element: //span[@class=&#39;lightbluecolor&#39;][contains(text(), &#39;Know More...&#39;)]\r\n\r\n\r\nWhen I investigated further, it appears to be a nested frame issue but I couldn&#39;t find an &quot;iframe&quot; tag on the webpage source.\r\n\r\nHow to reach that element?","title":"Select and click link in html element in Selenium Java when iframe tag is absent","body":"<p>I am trying to select and click a link on a web webpage using Selenium. The url is this <a href=\"https://netbanking.hdfcbank.com/netbanking/\" rel=\"nofollow noreferrer\">test site</a>. When I used regular element locator or xpath or cssSelectors:</p>\n<pre><code>//div[@class=&quot;welcmewrap&quot;]/div/div[3]/div/div[2]/div/div[2]/span[2][contains(text(), &quot;Know More...&quot;)]\n</code></pre>\n<p>The chropath showed the message:</p>\n<blockquote>\n<p>It might be child of svg/pseudo element/comment/iframe from different src. Currently ChroPath doesn't support for them.</p>\n</blockquote>\n<p>Similarly, running the methods on selenium as below:</p>\n<pre><code>WebDriverManager.firefoxdriver().setup();\nWebDriver driver = new FirefoxDriver();\n\ndriver.get(&quot;https://netbanking.hdfcbank.com/netbanking/&quot;);\n\n//method 1  \ndriver.findElement(By.xpath(&quot;//span[@class='lightbluecolor'][contains(text(), 'Know More...')]&quot;));\n\n//method 2  \ndriver.findElement(By.xpath(&quot;//div[@class=\\&quot;welcmewrap\\&quot;]/div/div[3]/div/div[2]/div/div[2]/span[@class= ‘lightbluecolor’] [contains(text(), \\&quot;Know More...\\&quot;)]&quot;)).click();\n\nSystem.out.println(&quot;know more click&quot;);\n</code></pre>\n<p>...returned:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: Unable to locate element: //span[@class='lightbluecolor'][contains(text(), 'Know More...')]</p>\n</blockquote>\n<p>When I investigated further, it appears to be a nested frame issue but I couldn't find an &quot;iframe&quot; tag on the webpage source.</p>\n<p>How to reach that element?</p>\n"},{"tags":["java","spring","maven","containers"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1689775928,"post_id":76722154,"comment_id":135261577,"body_markdown":"This: `reactor.tools.shaded.net.` looks like you are using a dependency reactor-tools which shaded a dependency (bytebuddy which is in general a very bad idea) which results in such problem, because you can not overwrite the dependency for bytebuddy which is required to have a more recent version which works with JDK17...(the shaded version is an older one which does not support JDK17). You have to check if for reactor-tools a newer version is available compared the one you are using.... Furthermore it would be helpful to have a full pom file here etc...","body":"This: <code>reactor.tools.shaded.net.</code> looks like you are using a dependency reactor-tools which shaded a dependency (bytebuddy which is in general a very bad idea) which results in such problem, because you can not overwrite the dependency for bytebuddy which is required to have a more recent version which works with JDK17...(the shaded version is an older one which does not support JDK17). You have to check if for reactor-tools a newer version is available compared the one you are using.... Furthermore it would be helpful to have a full pom file here etc..."},{"owner":{"account_id":4454959,"reputation":191,"user_id":3625571,"display_name":"Jimmy Foobar"},"score":0,"creation_date":1689846288,"post_id":76722154,"comment_id":135272290,"body_markdown":"Thanks for the hint. I added to pom.xml","body":"Thanks for the hint. I added to pom.xml"}],"owner":{"account_id":4454959,"reputation":191,"user_id":3625571,"display_name":"Jimmy Foobar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689846259,"creation_date":1689775341,"question_id":76722154,"body_markdown":"I&#39;m trying to upgrade a spring boot project from version 2.6.7 to 3.1.1\r\n\r\nThe main functions uses `ReactorDebugAgent` from `reactor-tools`\r\n\r\n    public static void main(String[] args) {\r\n        ReactorDebugAgent.init();\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n\r\nThis was not changed during the upgrade. The projects runs locally fine but after building a container image via `mvn clean package spring-boot:build-image -B`, the container does not start with the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: java.lang.IllegalStateException: No compatible attachment provider is available\r\n            at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:632)\r\n            at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:616)\r\n            at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:568)\r\n            at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:545)\r\n            at reactor.tools.agent.ReactorDebugAgent.init(ReactorDebugAgent.java:56)\r\n            at com.maersk.publictracking.MyApplication.main(MyApplication.java:14)\r\n            ... 8 more\r\n\r\n[Similar questions on stackoverflow][1] teach me that the issue is based on the JRE which does not include a modul that is needed by `bytebuddy` or `ReactiveDebugAgent`. This could explain why the issue only appears in the container and not locally but since the container image is created via MVN, I don&#39;t see any option for me to control the java modules inside the container.\r\n\r\nUsed java version: 17\r\n\r\nUsed pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-application&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.81&lt;/version&gt;\r\n    &lt;name&gt;my-application&lt;/name&gt;\r\n    &lt;description&gt;my-application&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;io-grpc-netty.version&gt;1.55.1&lt;/io-grpc-netty.version&gt;\r\n        &lt;jacoco.version&gt;0.8.10&lt;/jacoco.version&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven-surefire-plugin.version&gt;3.1.2&lt;/maven-surefire-plugin.version&gt;\r\n        &lt;shared-error-handling-lib.version&gt;3.1.0&lt;/shared-error-handling-lib.version&gt;\r\n        &lt;spring-cloud-sleuth-otel.dependencies.version&gt;1.1.3&lt;/spring-cloud-sleuth-otel.dependencies.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.6&lt;/spring-cloud.version&gt;\r\n        &lt;testcontainers.version&gt;1.18.1&lt;/testcontainers.version&gt;\r\n        &lt;tests.skip&gt;false&lt;/tests.skip&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;${io-grpc-netty.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.acme.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;error-handling&lt;/artifactId&gt;\r\n            &lt;version&gt;${shared-error-handling-lib.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-tools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-sleuth-otel.dependencies.version}&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;17&lt;/release&gt;\r\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${versions-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;rulesUri&gt;file:///${basedir}//versions-rules.xml&lt;/rulesUri&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;com/foo/myapplication/models/**/*&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${tests.skip}&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;github&lt;/id&gt;\r\n            &lt;url&gt;https://maven.pkg.github.com/acme-global/*&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThanks in advance for any help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49767683/what-does-no-compatible-attachment-provider-is-available-mean","title":"&quot;No compatible attachment provider is available&quot; in Spring Docker container","body":"<p>I'm trying to upgrade a spring boot project from version 2.6.7 to 3.1.1</p>\n<p>The main functions uses <code>ReactorDebugAgent</code> from <code>reactor-tools</code></p>\n<pre><code>public static void main(String[] args) {\n    ReactorDebugAgent.init();\n    SpringApplication.run(MyApplication.class, args);\n}\n</code></pre>\n<p>This was not changed during the upgrade. The projects runs locally fine but after building a container image via <code>mvn clean package spring-boot:build-image -B</code>, the container does not start with the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.IllegalStateException: No compatible attachment provider is available\n        at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:632)\n        at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:616)\n        at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:568)\n        at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:545)\n        at reactor.tools.agent.ReactorDebugAgent.init(ReactorDebugAgent.java:56)\n        at com.maersk.publictracking.MyApplication.main(MyApplication.java:14)\n        ... 8 more\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/49767683/what-does-no-compatible-attachment-provider-is-available-mean\">Similar questions on stackoverflow</a> teach me that the issue is based on the JRE which does not include a modul that is needed by <code>bytebuddy</code> or <code>ReactiveDebugAgent</code>. This could explain why the issue only appears in the container and not locally but since the container image is created via MVN, I don't see any option for me to control the java modules inside the container.</p>\n<p>Used java version: 17</p>\n<p>Used pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.acme&lt;/groupId&gt;\n    &lt;artifactId&gt;my-application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.81&lt;/version&gt;\n    &lt;name&gt;my-application&lt;/name&gt;\n    &lt;description&gt;my-application&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;io-grpc-netty.version&gt;1.55.1&lt;/io-grpc-netty.version&gt;\n        &lt;jacoco.version&gt;0.8.10&lt;/jacoco.version&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven-surefire-plugin.version&gt;3.1.2&lt;/maven-surefire-plugin.version&gt;\n        &lt;shared-error-handling-lib.version&gt;3.1.0&lt;/shared-error-handling-lib.version&gt;\n        &lt;spring-cloud-sleuth-otel.dependencies.version&gt;1.1.3&lt;/spring-cloud-sleuth-otel.dependencies.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.6&lt;/spring-cloud.version&gt;\n        &lt;testcontainers.version&gt;1.18.1&lt;/testcontainers.version&gt;\n        &lt;tests.skip&gt;false&lt;/tests.skip&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n            &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n            &lt;version&gt;${io-grpc-netty.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.acme.shared&lt;/groupId&gt;\n            &lt;artifactId&gt;error-handling&lt;/artifactId&gt;\n            &lt;version&gt;${shared-error-handling-lib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-tools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-sleuth-otel.dependencies.version}&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n                &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${versions-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;rulesUri&gt;file:///${basedir}//versions-rules.xml&lt;/rulesUri&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;com/foo/myapplication/models/**/*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${tests.skip}&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;github&lt;/id&gt;\n            &lt;url&gt;https://maven.pkg.github.com/acme-global/*&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","spring","sentry"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668977214,"creation_date":1668977214,"answer_id":74511869,"question_id":74510904,"body_markdown":"You can define this config in `applicaiton-test.yml` (or `.properties`)\r\n\r\n    sentry:\r\n        dsn: &quot;&quot;","title":"Disable Sentry.io during maven install","body":"<p>You can define this config in <code>applicaiton-test.yml</code> (or <code>.properties</code>)</p>\n<pre><code>sentry:\n    dsn: &quot;&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20772573,"reputation":1,"user_id":15254902,"display_name":"RomainCarrillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689846119,"creation_date":1689846119,"answer_id":76728591,"question_id":74510904,"body_markdown":"For someone who came there, here is what worked for me :\r\nIf you are using Springboot you can use a specific application.properties in your src/test/resources and simply don&#39;t set sentry dns property in it.\r\n\r\nNow when I run mvn:test issues are not send to Sentry.","title":"Disable Sentry.io during maven install","body":"<p>For someone who came there, here is what worked for me :\nIf you are using Springboot you can use a specific application.properties in your src/test/resources and simply don't set sentry dns property in it.</p>\n<p>Now when I run mvn:test issues are not send to Sentry.</p>\n"}],"owner":{"account_id":24723252,"reputation":1,"user_id":18612036,"display_name":"gdomjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689846119,"creation_date":1668969684,"question_id":74510904,"body_markdown":"I have a Spring Boot application in Java which uses Sentry.io for reporting and capturing exceptions.\r\nWhat I want to do is to disable Sentry captures when I create a build through maven, for example mvn clean install. \r\nThe reason for this is that during testing and debugging, I don&#39;t want to get those Sentry captures all the time.\r\n\r\nI looked up the Sentry documentation and I found that you can define different environments for Sentry, but I was not able to figure out how to use this for my problem.","title":"Disable Sentry.io during maven install","body":"<p>I have a Spring Boot application in Java which uses Sentry.io for reporting and capturing exceptions.\nWhat I want to do is to disable Sentry captures when I create a build through maven, for example mvn clean install.\nThe reason for this is that during testing and debugging, I don't want to get those Sentry captures all the time.</p>\n<p>I looked up the Sentry documentation and I found that you can define different environments for Sentry, but I was not able to figure out how to use this for my problem.</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1689843123,"post_id":76728186,"comment_id":135271671,"body_markdown":"Both are valid. Different libraries can have different implementations. It doesn&#39;t really matter in practice.","body":"Both are valid. Different libraries can have different implementations. It doesn&#39;t really matter in practice."},{"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"score":0,"creation_date":1689845167,"post_id":76728186,"comment_id":135272045,"body_markdown":"I know both are valid, but i need same results across both else, my application will redirect and cause issues in google seo","body":"I know both are valid, but i need same results across both else, my application will redirect and cause issues in google seo"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689845249,"post_id":76728186,"comment_id":135272056,"body_markdown":"Then find a JS library that uses `+` or allows you to configure it. If this question is a request for a library, I&#39;ll have to vote to close as such.","body":"Then find a JS library that uses <code>+</code> or allows you to configure it. If this question is a request for a library, I&#39;ll have to vote to close as such."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689846239,"post_id":76728186,"comment_id":135272277,"body_markdown":"@Jorn, I believe they&#39;re asking how to make the values equivalent; since the _Java_ implementation is slightly different.","body":"@Jorn, I believe they&#39;re asking how to make the values equivalent; since the <i>Java</i> implementation is slightly different."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689848347,"post_id":76728186,"comment_id":135272677,"body_markdown":"You&#39;re using two different things. `URLEncoder` is for applying `application/x-www-form-urlencoded` encoding of keys and values, while `encodeURIComponent` is for encoding URI components. Use the right tool for the job, don&#39;t mix two different things just because they (seem to) _share_ similar encodings.","body":"You&#39;re using two different things. <code>URLEncoder</code> is for applying <code>application&#47;x-www-form-urlencoded</code> encoding of keys and values, while <code>encodeURIComponent</code> is for encoding URI components. Use the right tool for the job, don&#39;t mix two different things just because they (seem to) <i>share</i> similar encodings."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689854794,"post_id":76728186,"comment_id":135273955,"body_markdown":"@MarkRotteveel, a URL is a URI.","body":"@MarkRotteveel, a URL is a URI."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689855168,"post_id":76728186,"comment_id":135274046,"body_markdown":"There are some conversion examples in the _Mozilla_ documentation; _https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent_.","body":"There are some conversion examples in the <i>Mozilla</i> documentation; <i><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a></i>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689870067,"post_id":76728186,"comment_id":135277839,"body_markdown":"@Reilas My point is that `URLEncoder` **does not encode URI/URL components**, it encodes string so they are valid keys or values for `application/x-www-form-urlencoded` (the basic encoded form of a HTML form), so it is not the equivalent of `encodeURIComponent`, which is for encoding path parts of a URI/URL.","body":"@Reilas My point is that <code>URLEncoder</code> <b>does not encode URI/URL components</b>, it encodes string so they are valid keys or values for <code>application&#47;x-www-form-urlencoded</code> (the basic encoded form of a HTML form), so it is not the equivalent of <code>encodeURIComponent</code>, which is for encoding path parts of a URI/URL."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689882317,"post_id":76728186,"comment_id":135280149,"body_markdown":"@MarkRotteveel, I must be misunderstanding.  Are they not interchangeable?  Even the _Mozilla_ documentation is providing examples.","body":"@MarkRotteveel, I must be misunderstanding.  Are they not interchangeable?  Even the <i>Mozilla</i> documentation is providing examples."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689921675,"post_id":76728186,"comment_id":135284215,"body_markdown":"@Reilas They use the same percent-encoding scheme, so they will seem to be interchangeable, until they are not... To be clear, the (IIRC only) difference is how spaces are encoded with a `+` instead of %20, because `application/x-www-form-urlencoded` is based on an older version of URI encoding.","body":"@Reilas They use the same percent-encoding scheme, so they will seem to be interchangeable, until they are not... To be clear, the (IIRC only) difference is how spaces are encoded with a <code>+</code> instead of %20, because <code>application&#47;x-www-form-urlencoded</code> is based on an older version of URI encoding."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689945223,"post_id":76728186,"comment_id":135288653,"body_markdown":"@MarkRotteveel, possibly it depends on the browser.  Chrome decodes it correctly, I&#39;m not sure about the others.","body":"@MarkRotteveel, possibly it depends on the browser.  Chrome decodes it correctly, I&#39;m not sure about the others."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689845738,"creation_date":1689845738,"answer_id":76728550,"question_id":76728186,"body_markdown":"As a note, the _encodeURIComponent_ method didn&#39;t encode the parentheses, either.\r\n\r\nJust use the _[String.replaceAll](https://262.ecma-international.org/14.0/#sec-string.prototype.replaceall)_ method.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var string = encodeURIComponent(&quot;tata, abcd &amp; xyz - 1/2kg ()&quot;)\r\n    string = string.replaceAll(&#39;%20&#39;, &#39;+&#39;)\r\n\r\n    console.log(string)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you wanted to escape the parentheses, just use the same method.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var string = encodeURIComponent(&quot;tata, abcd &amp; xyz - 1/2kg ()&quot;)\r\n    string = string.replaceAll(&#39;%20&#39;, &#39;+&#39;)\r\n    string = string.replaceAll(&#39;(&#39;, &#39;%28&#39;)\r\n    string = string.replaceAll(&#39;)&#39;, &#39;%29&#39;)\r\n\r\n    console.log(string)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd, when you decode the value, make sure to replace the _+_ signs prior to the _decodeURIComponent_ call.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var string = encodeURIComponent(&quot;tata, abcd &amp; xyz - 1/2kg ()&quot;)\r\n    string = string.replaceAll(&#39;%20&#39;, &#39;+&#39;)\r\n    string = string.replaceAll(&#39;(&#39;, &#39;%28&#39;)\r\n    string = string.replaceAll(&#39;)&#39;, &#39;%29&#39;)\r\n\r\n    console.log(string)\r\n\r\n    string = string.replaceAll(&#39;+&#39;, &#39; &#39;)\r\n    string = decodeURIComponent(string)\r\n\r\n    console.log(string)\r\n\r\n&lt;!-- end snippet --&gt;","title":"encode url in java and javascript yielding different results","body":"<p>As a note, the <em>encodeURIComponent</em> method didn't encode the parentheses, either.</p>\n<p>Just use the <em><a href=\"https://262.ecma-international.org/14.0/#sec-string.prototype.replaceall\" rel=\"nofollow noreferrer\">String.replaceAll</a></em> method.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var string = encodeURIComponent(\"tata, abcd &amp; xyz - 1/2kg ()\")\nstring = string.replaceAll('%20', '+')\n\nconsole.log(string)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you wanted to escape the parentheses, just use the same method.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var string = encodeURIComponent(\"tata, abcd &amp; xyz - 1/2kg ()\")\nstring = string.replaceAll('%20', '+')\nstring = string.replaceAll('(', '%28')\nstring = string.replaceAll(')', '%29')\n\nconsole.log(string)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And, when you decode the value, make sure to replace the <em>+</em> signs prior to the <em>decodeURIComponent</em> call.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var string = encodeURIComponent(\"tata, abcd &amp; xyz - 1/2kg ()\")\nstring = string.replaceAll('%20', '+')\nstring = string.replaceAll('(', '%28')\nstring = string.replaceAll(')', '%29')\n\nconsole.log(string)\n\nstring = string.replaceAll('+', ' ')\nstring = decodeURIComponent(string)\n\nconsole.log(string)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1689845738,"creation_date":1689843049,"question_id":76728186,"body_markdown":"I have a requirement to generate the url and use it as a sitemap.\r\nBut, if the url is different on frontend and backend, then there&#39;s a redirection will happen to the url the front-end uses, due to which google seo ranking is going low. So i need to generate same result in backend and frontend for both the results.\r\n\r\n\r\n```\r\nJAVA CODE\r\n@Test\r\n    public void testUrl() {\r\n        String s = &quot;tata, abcd &amp; xyz - 1/2kg ()&quot;;\r\n        String encode = URLEncoder.encode(s, StandardCharsets.UTF_8);\r\n        System.out.println(encode);\r\n    }\r\nRESULT: tata%2C+abcd+%26+xyz+-+1%2F2kg+%28%29\r\n\r\n=====\r\nJS CODE\r\nencodeURIComponent(&quot;tata, abcd &amp; xyz - 1/2kg ()&quot;);\r\nRESULT: tata%2C%20abcd%20%26%20xyz%20-%201%2F2kg%20()\r\n```\r\n\r\nCan you please help me yield same result for both.\r\nI am more in favor of &#39;+&#39; sign instead of %20","title":"encode url in java and javascript yielding different results","body":"<p>I have a requirement to generate the url and use it as a sitemap.\nBut, if the url is different on frontend and backend, then there's a redirection will happen to the url the front-end uses, due to which google seo ranking is going low. So i need to generate same result in backend and frontend for both the results.</p>\n<pre><code>JAVA CODE\n@Test\n    public void testUrl() {\n        String s = &quot;tata, abcd &amp; xyz - 1/2kg ()&quot;;\n        String encode = URLEncoder.encode(s, StandardCharsets.UTF_8);\n        System.out.println(encode);\n    }\nRESULT: tata%2C+abcd+%26+xyz+-+1%2F2kg+%28%29\n\n=====\nJS CODE\nencodeURIComponent(&quot;tata, abcd &amp; xyz - 1/2kg ()&quot;);\nRESULT: tata%2C%20abcd%20%26%20xyz%20-%201%2F2kg%20()\n</code></pre>\n<p>Can you please help me yield same result for both.\nI am more in favor of '+' sign instead of %20</p>\n"},{"tags":["java","owl-api","swrl","description-logic","hermit"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1689852871,"post_id":76728453,"comment_id":135273522,"body_markdown":"HermiT inference with SWRL is incomplete for transitive properties. Workaround: you can switch your modelling, i.e. you use an SWRL rule for the transitivity and mark the property as irreflexive.","body":"HermiT inference with SWRL is incomplete for transitive properties. Workaround: you can switch your modelling, i.e. you use an SWRL rule for the transitivity and mark the property as irreflexive."},{"owner":{"account_id":22198269,"reputation":113,"user_id":16439343,"display_name":"Chaos"},"score":0,"creation_date":1689858095,"post_id":76728453,"comment_id":135274777,"body_markdown":"Thanks @UninformedUser, that definitely did it! I can now avoid circular delegation.","body":"Thanks @UninformedUser, that definitely did it! I can now avoid circular delegation."}],"owner":{"account_id":22198269,"reputation":113,"user_id":16439343,"display_name":"Chaos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689845565,"creation_date":1689845131,"question_id":76728453,"body_markdown":"I am currently using OWLAPI and the HermiT reasoner on a simple ontology `O` modelling delegation.\r\n\r\n`O` represents the M.W.E. showing the issue I am facing and defines a single class `Person`, a single object property `delegates(.,.)` (whose domain and range are `Person`) and three individual of type `Person` (A, B and C). Finally, I stated `delegates(A, B)`, `delegates(B, C)`, `delegates(C, A)`.\r\n\r\nI am trying to enforce the existence of an irreflexive transitive object property to cause an inconsistency in the ontology when a direct or indirect circular delegation exists.\r\n\r\nTo the best of my knowledge, this type of property is unsupported since it is non-simple.\r\n\r\nI tried to work around this issue defining a SWRL rule of the shape:\r\n` Person(?p), delegates(?p, ?p) -&gt; owl:Nothing(?p) `; however, HermiT DOES NOT identify any inconsistency, despite the fact that transitivity allows to infer that `delegates(A, A)`.\r\n\r\nI tried the Pellet reasoner and the ontology is correctly declared inconsistent (after that Proteg&#232; badly hangs and the UI becomes inconsistent as well), however in the non-MWE I have so many assertions that the Pellet reasoner is unable to process them in a practical time. This is why I am using HermiT, version `1.4.3.456`. (I also tried the same inference under the latest version `1.4.5.519` with no inconsistency result.)\r\n\r\nAny suggestion to cause the inconsistency would be appreciated.\r\n\r\nHere is the xml code encoding `O`, I had to remove the ontology and prefix tags to avoid to trigger the `spam filter`.\r\n\r\n```\r\n &lt;Declaration&gt;\r\n\t  &lt;Class IRI=&quot;#Person&quot;/&gt;\r\n &lt;/Declaration&gt;\r\n &lt;Declaration&gt;\r\n\t  &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n &lt;/Declaration&gt;\r\n &lt;Declaration&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\r\n &lt;/Declaration&gt;\r\n &lt;Declaration&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\r\n &lt;/Declaration&gt;\r\n &lt;Declaration&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\r\n &lt;/Declaration&gt;\r\n &lt;ClassAssertion&gt;\r\n\t  &lt;Class IRI=&quot;#Person&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\r\n &lt;/ClassAssertion&gt;\r\n &lt;ClassAssertion&gt;\r\n\t  &lt;Class IRI=&quot;#Person&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\r\n &lt;/ClassAssertion&gt;\r\n &lt;ClassAssertion&gt;\r\n\t  &lt;Class IRI=&quot;#Person&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\r\n &lt;/ClassAssertion&gt;\r\n &lt;ObjectPropertyAssertion&gt;\r\n\t  &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\r\n &lt;/ObjectPropertyAssertion&gt;\r\n &lt;ObjectPropertyAssertion&gt;\r\n\t  &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\r\n &lt;/ObjectPropertyAssertion&gt;\r\n &lt;ObjectPropertyAssertion&gt;\r\n\t  &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\r\n\t  &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\r\n &lt;/ObjectPropertyAssertion&gt;\r\n &lt;TransitiveObjectProperty&gt;\r\n\t  &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n &lt;/TransitiveObjectProperty&gt;\r\n &lt;ObjectPropertyDomain&gt;\r\n\t  &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n\t  &lt;Class IRI=&quot;#Person&quot;/&gt;\r\n &lt;/ObjectPropertyDomain&gt;\r\n &lt;ObjectPropertyRange&gt;\r\n\t  &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n\t  &lt;Class IRI=&quot;#Person&quot;/&gt;\r\n &lt;/ObjectPropertyRange&gt;\r\n &lt;DLSafeRule&gt;\r\n\t  &lt;Body&gt;\r\n\t\t\t&lt;ClassAtom&gt;\r\n\t\t\t\t &lt;Class IRI=&quot;#Person&quot;/&gt;\r\n\t\t\t\t &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\r\n\t\t\t&lt;/ClassAtom&gt;\r\n\t\t\t&lt;ObjectPropertyAtom&gt;\r\n\t\t\t\t &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\r\n\t\t\t\t &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\r\n\t\t\t\t &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\r\n\t\t\t&lt;/ObjectPropertyAtom&gt;\r\n\t  &lt;/Body&gt;\r\n\t  &lt;Head&gt;\r\n\t\t\t&lt;ClassAtom&gt;\r\n\t\t\t\t &lt;Class abbreviatedIRI=&quot;owl:Nothing&quot;/&gt;\r\n\t\t\t\t &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\r\n\t\t\t&lt;/ClassAtom&gt;\r\n\t  &lt;/Head&gt;\r\n &lt;/DLSafeRule&gt;\r\n\r\n```\r\n","title":"OWLAPI and HermiT reasoner: can not force irreflexive transitive object property","body":"<p>I am currently using OWLAPI and the HermiT reasoner on a simple ontology <code>O</code> modelling delegation.</p>\n<p><code>O</code> represents the M.W.E. showing the issue I am facing and defines a single class <code>Person</code>, a single object property <code>delegates(.,.)</code> (whose domain and range are <code>Person</code>) and three individual of type <code>Person</code> (A, B and C). Finally, I stated <code>delegates(A, B)</code>, <code>delegates(B, C)</code>, <code>delegates(C, A)</code>.</p>\n<p>I am trying to enforce the existence of an irreflexive transitive object property to cause an inconsistency in the ontology when a direct or indirect circular delegation exists.</p>\n<p>To the best of my knowledge, this type of property is unsupported since it is non-simple.</p>\n<p>I tried to work around this issue defining a SWRL rule of the shape:\n<code>Person(?p), delegates(?p, ?p) -&gt; owl:Nothing(?p)</code>; however, HermiT DOES NOT identify any inconsistency, despite the fact that transitivity allows to infer that <code>delegates(A, A)</code>.</p>\n<p>I tried the Pellet reasoner and the ontology is correctly declared inconsistent (after that Protegè badly hangs and the UI becomes inconsistent as well), however in the non-MWE I have so many assertions that the Pellet reasoner is unable to process them in a practical time. This is why I am using HermiT, version <code>1.4.3.456</code>. (I also tried the same inference under the latest version <code>1.4.5.519</code> with no inconsistency result.)</p>\n<p>Any suggestion to cause the inconsistency would be appreciated.</p>\n<p>Here is the xml code encoding <code>O</code>, I had to remove the ontology and prefix tags to avoid to trigger the <code>spam filter</code>.</p>\n<pre><code> &lt;Declaration&gt;\n      &lt;Class IRI=&quot;#Person&quot;/&gt;\n &lt;/Declaration&gt;\n &lt;Declaration&gt;\n      &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n &lt;/Declaration&gt;\n &lt;Declaration&gt;\n      &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\n &lt;/Declaration&gt;\n &lt;Declaration&gt;\n      &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\n &lt;/Declaration&gt;\n &lt;Declaration&gt;\n      &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\n &lt;/Declaration&gt;\n &lt;ClassAssertion&gt;\n      &lt;Class IRI=&quot;#Person&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\n &lt;/ClassAssertion&gt;\n &lt;ClassAssertion&gt;\n      &lt;Class IRI=&quot;#Person&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\n &lt;/ClassAssertion&gt;\n &lt;ClassAssertion&gt;\n      &lt;Class IRI=&quot;#Person&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\n &lt;/ClassAssertion&gt;\n &lt;ObjectPropertyAssertion&gt;\n      &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\n &lt;/ObjectPropertyAssertion&gt;\n &lt;ObjectPropertyAssertion&gt;\n      &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#B&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\n &lt;/ObjectPropertyAssertion&gt;\n &lt;ObjectPropertyAssertion&gt;\n      &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#C&quot;/&gt;\n      &lt;NamedIndividual IRI=&quot;#A&quot;/&gt;\n &lt;/ObjectPropertyAssertion&gt;\n &lt;TransitiveObjectProperty&gt;\n      &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n &lt;/TransitiveObjectProperty&gt;\n &lt;ObjectPropertyDomain&gt;\n      &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n      &lt;Class IRI=&quot;#Person&quot;/&gt;\n &lt;/ObjectPropertyDomain&gt;\n &lt;ObjectPropertyRange&gt;\n      &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n      &lt;Class IRI=&quot;#Person&quot;/&gt;\n &lt;/ObjectPropertyRange&gt;\n &lt;DLSafeRule&gt;\n      &lt;Body&gt;\n            &lt;ClassAtom&gt;\n                 &lt;Class IRI=&quot;#Person&quot;/&gt;\n                 &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\n            &lt;/ClassAtom&gt;\n            &lt;ObjectPropertyAtom&gt;\n                 &lt;ObjectProperty IRI=&quot;#delegates&quot;/&gt;\n                 &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\n                 &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\n            &lt;/ObjectPropertyAtom&gt;\n      &lt;/Body&gt;\n      &lt;Head&gt;\n            &lt;ClassAtom&gt;\n                 &lt;Class abbreviatedIRI=&quot;owl:Nothing&quot;/&gt;\n                 &lt;Variable IRI=&quot;urn:swrl:var#p&quot;/&gt;\n            &lt;/ClassAtom&gt;\n      &lt;/Head&gt;\n &lt;/DLSafeRule&gt;\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":2,"creation_date":1338304094,"post_id":10801746,"comment_id":14053796,"body_markdown":"Perpahs you can have the best of both worlds using a [ListResourceBundle](http://docs.oracle.com/javase/7/docs/api/index.html?java/util/ListResourceBundle.html)","body":"Perpahs you can have the best of both worlds using a <a href=\"http://docs.oracle.com/javase/7/docs/api/index.html?java/util/ListResourceBundle.html\" rel=\"nofollow noreferrer\">ListResourceBundle</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1689844966,"creation_date":1338303976,"answer_id":10801805,"question_id":10801746,"body_markdown":"Use hardwired constants in your Java code when *you don&#39;t want* users / deployers / testers / tests changing them.\r\n\r\nUse a properties file when *you do want* this to be a possibility.\r\n\r\nThe point is that changing a hard-wired constant in your application&#39;s source code entails editing the source code, rebuilding and redeploying.  By contrast, changing a properties file may be as simple as firing up NotePad.\r\n\r\n---------------\r\n\r\nYou commented:\r\n\r\n&gt; As you said that changing properties file is simple whereas changing constants file requires us to rebuild the application. So, shouldn&#39;t we always prefer to use properties file?\r\n\r\nNo.  Not always.  *For example*, if you distribute your application to end users to install on their machines and it has constants that you do not want users to change it would be a bad idea to put them in a properties file.\r\n\r\nIt is impossible to reduce this to an &quot;always prefer X&quot; recommendation.  **You need to understand your own application requirements and decide for yourself.**","title":"Properties file vs Constants class in Java","body":"<p>Use hardwired constants in your Java code when <em>you don't want</em> users / deployers / testers / tests changing them.</p>\n<p>Use a properties file when <em>you do want</em> this to be a possibility.</p>\n<p>The point is that changing a hard-wired constant in your application's source code entails editing the source code, rebuilding and redeploying.  By contrast, changing a properties file may be as simple as firing up NotePad.</p>\n<hr />\n<p>You commented:</p>\n<blockquote>\n<p>As you said that changing properties file is simple whereas changing constants file requires us to rebuild the application. So, shouldn't we always prefer to use properties file?</p>\n</blockquote>\n<p>No.  Not always.  <em>For example</em>, if you distribute your application to end users to install on their machines and it has constants that you do not want users to change it would be a bad idea to put them in a properties file.</p>\n<p>It is impossible to reduce this to an &quot;always prefer X&quot; recommendation.  <strong>You need to understand your own application requirements and decide for yourself.</strong></p>\n"},{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338303985,"creation_date":1338303985,"answer_id":10801811,"question_id":10801746,"body_markdown":" - **Constants** - when you don&#39;t mind re-compiling the application each time you change value. Sort of an irony here. Why would you change something if it has been called a *constant* :)\r\n\r\n - **Properties file** - when you want the luxury of just changing the value and maybe restarting the application to pick up the change.","title":"Properties file vs Constants class in Java","body":"<ul>\n<li><p><strong>Constants</strong> - when you don't mind re-compiling the application each time you change value. Sort of an irony here. Why would you change something if it has been called a <em>constant</em> :)</p></li>\n<li><p><strong>Properties file</strong> - when you want the luxury of just changing the value and maybe restarting the application to pick up the change.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5460,"reputation":6354,"user_id":8792,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338304023,"creation_date":1338304023,"answer_id":10801820,"question_id":10801746,"body_markdown":"Generally, anything in a constants class is considered to be &quot;hardcoded&quot;; that is, you are required to re-compile to make changes.\r\n\r\nUse a `.properties` file for things like configuration, where you don&#39;t have to be forced to re-compile just to make changes. In this way, you can simply change the properties file and restart your application.","title":"Properties file vs Constants class in Java","body":"<p>Generally, anything in a constants class is considered to be \"hardcoded\"; that is, you are required to re-compile to make changes.</p>\n\n<p>Use a <code>.properties</code> file for things like configuration, where you don't have to be forced to re-compile just to make changes. In this way, you can simply change the properties file and restart your application.</p>\n"},{"tags":[],"owner":{"account_id":307227,"reputation":2105,"user_id":618407,"accept_rate":80,"display_name":"ftr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338456423,"creation_date":1338304054,"answer_id":10801827,"question_id":10801746,"body_markdown":"You usually use property files when you want to specify parameters that vary from deployment to deployment or over time. \r\n\r\nYou use constants when the parameters are not dynamic and thus not supposed to be changed depending on external factors. You have to recompile the class every time you change a value.","title":"Properties file vs Constants class in Java","body":"<p>You usually use property files when you want to specify parameters that vary from deployment to deployment or over time. </p>\n\n<p>You use constants when the parameters are not dynamic and thus not supposed to be changed depending on external factors. You have to recompile the class every time you change a value.</p>\n"},{"tags":[],"owner":{"account_id":1469954,"reputation":1916,"user_id":1381767,"accept_rate":75,"display_name":"javatutorial"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338304067,"creation_date":1338304067,"answer_id":10801832,"question_id":10801746,"body_markdown":"There are many different aspects to consider. The most important are that\r\n\r\n - you can edit properties files and use it without re-compiling your application;\r\n - properties files contain no code, so everybody can change them without any Java knowledge.\r\n\r\nThese aspects make properties file really useful for storing configurations.\r\n\r\nOn the other hand, constants classes need to be compiled, but are &quot;safer&quot; if you plan not to change those constants very often.","title":"Properties file vs Constants class in Java","body":"<p>There are many different aspects to consider. The most important are that</p>\n\n<ul>\n<li>you can edit properties files and use it without re-compiling your application;</li>\n<li>properties files contain no code, so everybody can change them without any Java knowledge.</li>\n</ul>\n\n<p>These aspects make properties file really useful for storing configurations.</p>\n\n<p>On the other hand, constants classes need to be compiled, but are \"safer\" if you plan not to change those constants very often.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338304274,"creation_date":1338304274,"answer_id":10801888,"question_id":10801746,"body_markdown":"Constants are fixed in compile time. So if you don&#39;t foresee any changes of values Constants will be good idea.","title":"Properties file vs Constants class in Java","body":"<p>Constants are fixed in compile time. So if you don't foresee any changes of values Constants will be good idea.</p>\n"},{"tags":[],"owner":{"account_id":1498088,"reputation":96,"user_id":1403575,"display_name":"SantoshK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338304354,"creation_date":1338304354,"answer_id":10801915,"question_id":10801746,"body_markdown":"Properties have the advantage of being externalizable. You can have one property file for development, another for test and another for production. \r\nA lot of times, though, rarely changed properties, that are internal to the workings of the software are put into properties file making them hard to manage.\r\n\r\nOTOH constants are compiled so any errors will be caught at compile time.\r\n\r\nSo the answer is , it depends. If the values in the properties are truly configuration changes you want to externalize then use properties file. else make them Java constants. You might end up using both, though.","title":"Properties file vs Constants class in Java","body":"<p>Properties have the advantage of being externalizable. You can have one property file for development, another for test and another for production. \nA lot of times, though, rarely changed properties, that are internal to the workings of the software are put into properties file making them hard to manage.</p>\n\n<p>OTOH constants are compiled so any errors will be caught at compile time.</p>\n\n<p>So the answer is , it depends. If the values in the properties are truly configuration changes you want to externalize then use properties file. else make them Java constants. You might end up using both, though.</p>\n"},{"tags":[],"owner":{"account_id":1504315,"reputation":4786,"user_id":1408085,"accept_rate":73,"display_name":"techuser soma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1338322830,"creation_date":1338322830,"answer_id":10806141,"question_id":10801746,"body_markdown":"My check list\r\n\r\n**Property file:**\r\n\r\nIs it configurable per environemnt etc.\r\n\r\nMessages, labels etc.\r\n\r\nApplicable to particular situation (list of states for rules etc). \r\nkey-value pairs.\r\nCan be modified by someone other than developer ie, analysts, business users etc.\r\n\r\n\r\n**Constant:**\r\n\r\nAre constants. Not configurable. \r\nMostly for optimization and reuse. To avoid keys being scattered.\r\n\r\nFor constants like YES = &quot;yes&quot;. Not really a key value.\r\nKeys for cache etc.\r\n\r\nConstants to ensure that retrieval and set use the same key even though from different places in the application, EXAMPLE xyz.put(KeyConstants.SOME_KEY, &quot;somevalue&quot;); \r\nxyz.get(KeyConstants.SOME_KEY) from different classes, ofcouse xyz being shared or singleton.","title":"Properties file vs Constants class in Java","body":"<p>My check list</p>\n\n<p><strong>Property file:</strong></p>\n\n<p>Is it configurable per environemnt etc.</p>\n\n<p>Messages, labels etc.</p>\n\n<p>Applicable to particular situation (list of states for rules etc). \nkey-value pairs.\nCan be modified by someone other than developer ie, analysts, business users etc.</p>\n\n<p><strong>Constant:</strong></p>\n\n<p>Are constants. Not configurable. \nMostly for optimization and reuse. To avoid keys being scattered.</p>\n\n<p>For constants like YES = \"yes\". Not really a key value.\nKeys for cache etc.</p>\n\n<p>Constants to ensure that retrieval and set use the same key even though from different places in the application, EXAMPLE xyz.put(KeyConstants.SOME_KEY, \"somevalue\"); \nxyz.get(KeyConstants.SOME_KEY) from different classes, ofcouse xyz being shared or singleton.</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15155,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":10801805,"answer_count":8,"score":29,"last_activity_date":1689844966,"creation_date":1338303787,"question_id":10801746,"body_markdown":"I am a bit confused between using a constants file and properties file in Java.\r\n\r\nHow to decide when to use *Constants.java* and when to use a *.properties* file?","title":"Properties file vs Constants class in Java","body":"<p>I am a bit confused between using a constants file and properties file in Java.</p>\n\n<p>How to decide when to use <em>Constants.java</em> and when to use a <em>.properties</em> file?</p>\n"},{"tags":["java","optional-chaining"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689834446,"post_id":76727184,"comment_id":135269925,"body_markdown":"You just want a log message, but not an exception. Is that correct?","body":"You just want a log message, but not an exception. Is that correct?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689834808,"post_id":76727184,"comment_id":135269976,"body_markdown":"Just interpose `.ifPresentOrElse()` with a null `Consumer` and a logging `Runnable` after each step of interest.","body":"Just interpose <code>.ifPresentOrElse()</code> with a null <code>Consumer</code> and a logging <code>Runnable</code> after each step of interest."},{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689834857,"post_id":76727184,"comment_id":135269983,"body_markdown":"@Sweeper Yes thats correct","body":"@Sweeper Yes thats correct"},{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689834924,"post_id":76727184,"comment_id":135269992,"body_markdown":"@user207421 Would you be able to share an example?","body":"@user207421 Would you be able to share an example?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1689835130,"post_id":76727184,"comment_id":135270035,"body_markdown":"I would just write my own `LoggableOptional` or something like that for this. The built-in `Optional` isn&#39;t meant for this kind of thing.","body":"I would just write my own <code>LoggableOptional</code> or something like that for this. The built-in <code>Optional</code> isn&#39;t meant for this kind of thing."},{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689836796,"post_id":76727184,"comment_id":135270372,"body_markdown":"@Sweeper You mean a custom Optional class which would allow to LOG incase a null is found half-way?","body":"@Sweeper You mean a custom Optional class which would allow to LOG incase a null is found half-way?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689836914,"post_id":76727184,"comment_id":135270403,"body_markdown":"Yes. Write your own class that has a `map` that also takes a custom message.","body":"Yes. Write your own class that has a <code>map</code> that also takes a custom message."},{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689837134,"post_id":76727184,"comment_id":135270446,"body_markdown":"@Sweeper That is definitely a good idea but problem is in my entire code base this edge case only happens once. Not sure if its a good idea to write a new class for handling this one scenario :(","body":"@Sweeper That is definitely a good idea but problem is in my entire code base this edge case only happens once. Not sure if its a good idea to write a new class for handling this one scenario :("}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689836137,"post_id":76727327,"comment_id":135270234,"body_markdown":"You should define your own exception class -- otherwise *all* `RuntimeException`s thrown in that try block will be reported as a null!","body":"You should define your own exception class -- otherwise <i>all</i> <code>RuntimeException</code>s thrown in that try block will be reported as a null!"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1689836872,"post_id":76727327,"comment_id":135270388,"body_markdown":"That&#39;s a good point. I will update my answer.","body":"That&#39;s a good point. I will update my answer."},{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689837386,"post_id":76727327,"comment_id":135270487,"body_markdown":"@ODDminus1 Thank you for the answer, really appreciate it. This looks like it will work but I also feel like I am going back to old ways of handling Null Pointers which I guess is the only way in my situation.","body":"@ODDminus1 Thank you for the answer, really appreciate it. This looks like it will work but I also feel like I am going back to old ways of handling Null Pointers which I guess is the only way in my situation."}],"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689837008,"creation_date":1689835809,"answer_id":76727327,"question_id":76727184,"body_markdown":"You can achieve the required behaviour with some exception handling like this:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Outer outer = new Outer(new Nested(new Inner(&quot;value&quot;)));\r\n//        Outer outer = new Outer(new Nested(new Inner(null)));\r\n//        Outer outer = new Outer(new Nested(null));\r\n//        Outer outer = new Outer(null);\r\n//        Outer outer = null;\r\n        try {\r\n            Optional.ofNullable(outer).or(() -&gt; throwEx(&quot;Outer was null&quot;))\r\n                    .map(Outer::nested).or(() -&gt; throwEx(&quot;Nested was null&quot;))\r\n                    .map(Nested::inner).or(() -&gt; throwEx(&quot;Inner was null&quot;))\r\n                    .map(Inner::foo).or(() -&gt; throwEx(&quot;Foo was null&quot;))\r\n                    .ifPresent(System.out::println);\r\n        } catch (NullValueException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    private static &lt;T&gt; T throwEx(String msg) {\r\n        throw new NullValueException(msg);\r\n    }\r\n}\r\n\r\nclass NullValueException extends RuntimeException {\r\n    public NullValueException(String msg) {\r\n        super(msg);\r\n    }\r\n}\r\n\r\nrecord Outer(Nested nested) {\r\n}\r\n\r\nrecord Nested(Inner inner) {\r\n}\r\n\r\nrecord Inner(String foo) {\r\n}\r\n```","title":"Is it possible to LOG different messages based on which step null is encountered while doing nested null check with Optional and map","body":"<p>You can achieve the required behaviour with some exception handling like this:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Outer outer = new Outer(new Nested(new Inner(&quot;value&quot;)));\n//        Outer outer = new Outer(new Nested(new Inner(null)));\n//        Outer outer = new Outer(new Nested(null));\n//        Outer outer = new Outer(null);\n//        Outer outer = null;\n        try {\n            Optional.ofNullable(outer).or(() -&gt; throwEx(&quot;Outer was null&quot;))\n                    .map(Outer::nested).or(() -&gt; throwEx(&quot;Nested was null&quot;))\n                    .map(Nested::inner).or(() -&gt; throwEx(&quot;Inner was null&quot;))\n                    .map(Inner::foo).or(() -&gt; throwEx(&quot;Foo was null&quot;))\n                    .ifPresent(System.out::println);\n        } catch (NullValueException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    private static &lt;T&gt; T throwEx(String msg) {\n        throw new NullValueException(msg);\n    }\n}\n\nclass NullValueException extends RuntimeException {\n    public NullValueException(String msg) {\n        super(msg);\n    }\n}\n\nrecord Outer(Nested nested) {\n}\n\nrecord Nested(Inner inner) {\n}\n\nrecord Inner(String foo) {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689838548,"post_id":76727533,"comment_id":135270746,"body_markdown":"This is very helpful. Thanks a lot. Instead of using Optional.of, if I use Optional.ofNullable(withNullMessage(() -&gt; foo, &quot;Foo is Null&quot;)) - would that work?","body":"This is very helpful. Thanks a lot. Instead of using Optional.of, if I use Optional.ofNullable(withNullMessage(() -&gt; foo, &quot;Foo is Null&quot;)) - would that work?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689838796,"post_id":76727533,"comment_id":135270799,"body_markdown":"@NickDiv  No, that&#39;s not what `ofNullable` does. You could do make an optional out of the wrapper, and then `apply`, `Optional.of(withNullMessage(x -&gt; foo, &quot;Foo is Null&quot;)).map(x -&gt; x.apply(null))`. But I think that is not any better...","body":"@NickDiv  No, that&#39;s not what <code>ofNullable</code> does. You could do make an optional out of the wrapper, and then <code>apply</code>, <code>Optional.of(withNullMessage(x -&gt; foo, &quot;Foo is Null&quot;)).map(x -&gt; x.apply(null))</code>. But I think that is not any better..."},{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689839672,"post_id":76727533,"comment_id":135270953,"body_markdown":"Makes sense. When I tried running it, i understood it better. Thanks for the answer","body":"Makes sense. When I tried running it, i understood it better. Thanks for the answer"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689839004,"creation_date":1689837663,"answer_id":76727533,"question_id":76727184,"body_markdown":"If this is a one-off thing, I would write a helper method that &quot;wraps&quot; the method references. The wrapper would return what the wrapped function returns, but if the wrapped method returns null, it also logs a message.\r\n\r\n```\r\nprivate static &lt;T, R&gt; Function&lt;T, R&gt; withNullMessage(Function&lt;? super T, ? extends R&gt; function, String message) {\r\n    return t -&gt; {\r\n        R r = function.apply(t);\r\n        if (r == null) {\r\n            Log.error(message);\r\n        }\r\n        return r;\r\n    };\r\n}\r\n```\r\n\r\n```\r\nOptional.of(foo)\r\n        .map(withNullMessage(Foo::getBar, &quot;Bar is null!&quot;))\r\n        .map(withNullMessage(Bar::getBaz, &quot;Baz is null!&quot;))\r\n        ...\r\n```\r\n\r\nNote that this does not handle the case where `foo` is null. If `foo` is null, this will throw an exception. To handle this, you can start with a definitely-not-null thing,\r\n\r\n```\r\nOptional.of(&quot;&quot;)\r\n        .map(withNullMessage(x -&gt; foo, &quot;Foo is null!&quot;))\r\n        .map(withNullMessage(Foo::getBar, &quot;Bar is null!&quot;))\r\n        .map(withNullMessage(Bar::getBaz, &quot;Baz is null!&quot;))\r\n```\r\n\r\nOr you can write your own `of` that logs nulls.\r\n\r\nAnother drawback of this is that it doesn&#39;t work with `flatMap`s. e.g. this does not work as you&#39;d expect:\r\n\r\n    .flatMap(withNullMessage(Foo::thisReturnsAnotherOptional, &quot;...&quot;))\r\n\r\nYou would need another wrapper method to handle that case.\r\n\r\nIf you need this sort of thing a lot, it&#39;s probably worth it to write your own `Optional`-like type, whose `map` methods take an extra argument.","title":"Is it possible to LOG different messages based on which step null is encountered while doing nested null check with Optional and map","body":"<p>If this is a one-off thing, I would write a helper method that &quot;wraps&quot; the method references. The wrapper would return what the wrapped function returns, but if the wrapped method returns null, it also logs a message.</p>\n<pre><code>private static &lt;T, R&gt; Function&lt;T, R&gt; withNullMessage(Function&lt;? super T, ? extends R&gt; function, String message) {\n    return t -&gt; {\n        R r = function.apply(t);\n        if (r == null) {\n            Log.error(message);\n        }\n        return r;\n    };\n}\n</code></pre>\n<pre><code>Optional.of(foo)\n        .map(withNullMessage(Foo::getBar, &quot;Bar is null!&quot;))\n        .map(withNullMessage(Bar::getBaz, &quot;Baz is null!&quot;))\n        ...\n</code></pre>\n<p>Note that this does not handle the case where <code>foo</code> is null. If <code>foo</code> is null, this will throw an exception. To handle this, you can start with a definitely-not-null thing,</p>\n<pre><code>Optional.of(&quot;&quot;)\n        .map(withNullMessage(x -&gt; foo, &quot;Foo is null!&quot;))\n        .map(withNullMessage(Foo::getBar, &quot;Bar is null!&quot;))\n        .map(withNullMessage(Bar::getBaz, &quot;Baz is null!&quot;))\n</code></pre>\n<p>Or you can write your own <code>of</code> that logs nulls.</p>\n<p>Another drawback of this is that it doesn't work with <code>flatMap</code>s. e.g. this does not work as you'd expect:</p>\n<pre><code>.flatMap(withNullMessage(Foo::thisReturnsAnotherOptional, &quot;...&quot;))\n</code></pre>\n<p>You would need another wrapper method to handle that case.</p>\n<p>If you need this sort of thing a lot, it's probably worth it to write your own <code>Optional</code>-like type, whose <code>map</code> methods take an extra argument.</p>\n"},{"comments":[{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1689884217,"post_id":76728264,"comment_id":135280451,"body_markdown":"Thank you sagar.","body":"Thank you sagar."}],"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689843666,"creation_date":1689843666,"answer_id":76728264,"question_id":76727184,"body_markdown":"Following the algorithm of one-off error mentioned in previous Sweeper&#39;s answer we could implement as below.This will take care of corner null cases as well\r\n```\r\n    public static void clientMethod() {\r\n        Outer validOuter = new Outer(new Nested(new Inner(&quot;s&quot;)));\r\n        Outer nullNested = new Outer(new Nested(null));\r\n        Optional.ofNullable(nullNested)\r\n                .map(outer-&gt;eam(outer, Function.identity(),&quot;Extracted value: Outer was null&quot;))\r\n                .map(outer -&gt;eam(outer, Outer::getNested,&quot;Extracted value:Nested was null&quot;))\r\n                .map(nested-&gt;eam(nested, Nested::getInner,&quot;Extracted value:Inner was null&quot;))\r\n                .map(inner-&gt;eam(inner, Inner::getFoo,&quot;Extracted value:Foo was null&quot;))\r\n                .ifPresent(System.out::println);\r\n    }\r\n\r\n    public static &lt;T,R&gt; R eam (T object,Function&lt;T,R&gt; extracter,String extractedValueNullMessage){\r\n        if(object != null){\r\n            R extractedValue = extracter.apply(object);\r\n            if (extractedValue == null){\r\n                LOG.error(extractedValueNullMessage);\r\n            }\r\n            return extractedValue;\r\n        }\r\n        return null;\r\n    }\r\n```","title":"Is it possible to LOG different messages based on which step null is encountered while doing nested null check with Optional and map","body":"<p>Following the algorithm of one-off error mentioned in previous Sweeper's answer we could implement as below.This will take care of corner null cases as well</p>\n<pre><code>    public static void clientMethod() {\n        Outer validOuter = new Outer(new Nested(new Inner(&quot;s&quot;)));\n        Outer nullNested = new Outer(new Nested(null));\n        Optional.ofNullable(nullNested)\n                .map(outer-&gt;eam(outer, Function.identity(),&quot;Extracted value: Outer was null&quot;))\n                .map(outer -&gt;eam(outer, Outer::getNested,&quot;Extracted value:Nested was null&quot;))\n                .map(nested-&gt;eam(nested, Nested::getInner,&quot;Extracted value:Inner was null&quot;))\n                .map(inner-&gt;eam(inner, Inner::getFoo,&quot;Extracted value:Foo was null&quot;))\n                .ifPresent(System.out::println);\n    }\n\n    public static &lt;T,R&gt; R eam (T object,Function&lt;T,R&gt; extracter,String extractedValueNullMessage){\n        if(object != null){\n            R extractedValue = extracter.apply(object);\n            if (extractedValue == null){\n                LOG.error(extractedValueNullMessage);\n            }\n            return extractedValue;\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76727533,"answer_count":3,"score":0,"last_activity_date":1689843666,"creation_date":1689834200,"question_id":76727184,"body_markdown":"I have a nested object which can return a `null` at any point of time. \r\n\r\nThanks to `Optional` and `map` we can now do nested calls without having to put `null` checks after every get. \r\n\r\nI have a very unique requirement where I need to know at which step exactly did I encounter a null object for e.g. (Copied from [StackOverflow][1])\r\n\r\n    Optional.of(new Outer())\r\n      .map(Outer::getNested)\r\n      .map(Nested::getInner)\r\n      .map(Inner::getFoo)\r\n      .ifPresent(System.out::println);\r\n\r\nHow can I LOG a different kind of log message depending on when and where I encounter a null value? \r\n\r\nThe code below is not valid but I am just trying to explain how it might look like programmatically: \r\n\r\n    Optional.of(outerObject).else(LOG.error(&quot;Outer was null&quot;))\r\n      .map(Outer::getNested).else(LOG.error(&quot;Nested was null&quot;))\r\n      .map(Nested::getInner).else(LOG.error(&quot;Inner was null&quot;))\r\n      .map(Inner::getFoo).else(LOG.error(&quot;Foo was null&quot;))\r\n      .ifPresent(System.out::println);\r\n\r\n  [1]: https://stackoverflow.com/a/74047406/1787314","title":"Is it possible to LOG different messages based on which step null is encountered while doing nested null check with Optional and map","body":"<p>I have a nested object which can return a <code>null</code> at any point of time.</p>\n<p>Thanks to <code>Optional</code> and <code>map</code> we can now do nested calls without having to put <code>null</code> checks after every get.</p>\n<p>I have a very unique requirement where I need to know at which step exactly did I encounter a null object for e.g. (Copied from <a href=\"https://stackoverflow.com/a/74047406/1787314\">StackOverflow</a>)</p>\n<pre><code>Optional.of(new Outer())\n  .map(Outer::getNested)\n  .map(Nested::getInner)\n  .map(Inner::getFoo)\n  .ifPresent(System.out::println);\n</code></pre>\n<p>How can I LOG a different kind of log message depending on when and where I encounter a null value?</p>\n<p>The code below is not valid but I am just trying to explain how it might look like programmatically:</p>\n<pre><code>Optional.of(outerObject).else(LOG.error(&quot;Outer was null&quot;))\n  .map(Outer::getNested).else(LOG.error(&quot;Nested was null&quot;))\n  .map(Nested::getInner).else(LOG.error(&quot;Inner was null&quot;))\n  .map(Inner::getFoo).else(LOG.error(&quot;Foo was null&quot;))\n  .ifPresent(System.out::println);\n</code></pre>\n"},{"tags":["java","spring","proxy-classes","cglib"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1427903570,"post_id":29395202,"comment_id":46966945,"body_markdown":"Why do you want to do this?","body":"Why do you want to do this?"},{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":5,"creation_date":1495127273,"post_id":29395202,"comment_id":75132850,"body_markdown":"Is there any reason why this should not be done?","body":"Is there any reason why this should not be done?"}],"answers":[{"comments":[{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":1,"creation_date":1513871428,"post_id":44054020,"comment_id":82825242,"body_markdown":"I forgot to mention: this only works for objects proxied by spring. There is no general solution for detecting the target type of any given proxy. The way I solve this is by explicitly defining the target type of my proxies external to the proxy itself.","body":"I forgot to mention: this only works for objects proxied by spring. There is no general solution for detecting the target type of any given proxy. The way I solve this is by explicitly defining the target type of my proxies external to the proxy itself."},{"owner":{"account_id":457598,"reputation":24938,"user_id":857025,"accept_rate":55,"display_name":"Don Rhummy"},"score":0,"creation_date":1552524686,"post_id":44054020,"comment_id":97046945,"body_markdown":"Thank you! This worked while other suggestions such as `TargetAwareClass` failed on class cast exception.","body":"Thank you! This worked while other suggestions such as <code>TargetAwareClass</code> failed on class cast exception."},{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":5,"creation_date":1597130587,"post_id":44054020,"comment_id":112025721,"body_markdown":"In spring boot: `log.debug(ClassUtils.getUserClass(constraintDescriptor.getAnnotation()).getName());` is `com.sun.proxy.$Proxy153` :-/","body":"In spring boot: <code>log.debug(ClassUtils.getUserClass(constraintDescriptor.getAn&zwnj;&#8203;notation()).getName(&zwnj;&#8203;));</code> is <code>com.sun.proxy.$Proxy153</code> :-/"},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1601538546,"post_id":44054020,"comment_id":113440622,"body_markdown":"How it works when Spring creates the proxy class using JDK dynamic proxies mechanism instead of cglib?","body":"How it works when Spring creates the proxy class using JDK dynamic proxies mechanism instead of cglib?"},{"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1640182687,"post_id":44054020,"comment_id":124535200,"body_markdown":"@e-info128 : did you find a solution ?","body":"@e-info128 : did you find a solution ?"}],"tags":[],"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"comment_count":5,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1495127358,"creation_date":1495127358,"answer_id":44054020,"question_id":29395202,"body_markdown":"Spring provides a utility for this.\r\n\r\nhttp://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ClassUtils.html#getUserClass-java.lang.Class-\r\n\r\n    public static Class&lt;?&gt; getUserClass(Class&lt;?&gt; clazz)\r\n\r\n&quot;Return the user-defined class for the given class: usually simply the given class, but the original class in case of a CGLIB-generated subclass.&quot;","title":"How to know original class name if wrapped into proxy by Spring?","body":"<p>Spring provides a utility for this.</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ClassUtils.html#getUserClass-java.lang.Class-\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ClassUtils.html#getUserClass-java.lang.Class-</a></p>\n\n<pre><code>public static Class&lt;?&gt; getUserClass(Class&lt;?&gt; clazz)\n</code></pre>\n\n<p>\"Return the user-defined class for the given class: usually simply the given class, but the original class in case of a CGLIB-generated subclass.\"</p>\n"},{"tags":[],"owner":{"account_id":13881304,"reputation":442,"user_id":10021608,"display_name":"Juyeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689843600,"creation_date":1671417790,"answer_id":74845872,"question_id":29395202,"body_markdown":"I&#39;d had a similar problem like yours. I&#39;d wanted to write log my repository name at a method of AOP.\r\nWhen I tried with `ClassUtils.getUserClass()` from upper James&#39; answer, my aop method write log as same as before.\r\n\r\n**I solved the problem with `AopProxyUtils.getSingletonTarget()`.**\r\n\r\nPlus, I leave following cases for someone who will have same problem.\r\n\r\n```\r\n@SpringBootTest\r\nclass AopLoggingServiceTest {\r\n\r\n\t@Autowired\r\n\tTestRepository testRepository;\r\n\r\n    public void someAopMethod(){\r\n\t\tClass&lt;?&gt; try1 = AopUtils.getTargetClass(testRepository);\r\n\t\tSystem.out.println(&quot;AopUtils.getTargetClass : &quot; + try1);\r\n\t\tClass&lt;?&gt; try2 = ClassUtils.getUserClass(testRepository);\r\n\t\tSystem.out.println(&quot;ClassUtils.getUserClass : &quot; + try2);\r\n\t\tClass&lt;?&gt; try3 = AopProxyUtils.ultimateTargetClass(testRepository);\r\n\t\tSystem.out.println(&quot;AopProxyUtils.ultimateTargetClass : &quot; + try3);\r\n\t\tClass&lt;?&gt; finalTry = AopProxyUtils.proxiedUserInterfaces(testRepository)[0];\r\n        System.out.println (&quot;AopProxyUtils.proxiedUserInterfaces[0] : &quot; + finalTry);\r\n\t}\r\n}\r\n```\r\n\r\n**outputs :** \r\n```\r\nAopUtils.getTargetClass : class com.sun.proxy.$Proxy172\r\nAopProxyUtils.ultimateTargetClass : class org.springframework.data.jpa.repository.support.SimpleJpaRepository\r\nClassUtils.getUserClass : class com.sun.proxy.$Proxy172\r\nAopProxyUtils.proxiedUserInterfaces[0] : interface io.juyeon.test.repository.TestRepository\r\n```\r\n","title":"How to know original class name if wrapped into proxy by Spring?","body":"<p>I'd had a similar problem like yours. I'd wanted to write log my repository name at a method of AOP.\nWhen I tried with <code>ClassUtils.getUserClass()</code> from upper James' answer, my aop method write log as same as before.</p>\n<p><strong>I solved the problem with <code>AopProxyUtils.getSingletonTarget()</code>.</strong></p>\n<p>Plus, I leave following cases for someone who will have same problem.</p>\n<pre><code>@SpringBootTest\nclass AopLoggingServiceTest {\n\n    @Autowired\n    TestRepository testRepository;\n\n    public void someAopMethod(){\n        Class&lt;?&gt; try1 = AopUtils.getTargetClass(testRepository);\n        System.out.println(&quot;AopUtils.getTargetClass : &quot; + try1);\n        Class&lt;?&gt; try2 = ClassUtils.getUserClass(testRepository);\n        System.out.println(&quot;ClassUtils.getUserClass : &quot; + try2);\n        Class&lt;?&gt; try3 = AopProxyUtils.ultimateTargetClass(testRepository);\n        System.out.println(&quot;AopProxyUtils.ultimateTargetClass : &quot; + try3);\n        Class&lt;?&gt; finalTry = AopProxyUtils.proxiedUserInterfaces(testRepository)[0];\n        System.out.println (&quot;AopProxyUtils.proxiedUserInterfaces[0] : &quot; + finalTry);\n    }\n}\n</code></pre>\n<p><strong>outputs :</strong></p>\n<pre><code>AopUtils.getTargetClass : class com.sun.proxy.$Proxy172\nAopProxyUtils.ultimateTargetClass : class org.springframework.data.jpa.repository.support.SimpleJpaRepository\nClassUtils.getUserClass : class com.sun.proxy.$Proxy172\nAopProxyUtils.proxiedUserInterfaces[0] : interface io.juyeon.test.repository.TestRepository\n</code></pre>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12319,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":44054020,"answer_count":2,"score":29,"last_activity_date":1689843600,"creation_date":1427903119,"question_id":29395202,"body_markdown":"I am trying to obtain some classes name by `getClass().getSimpleName()` under `Spring` and it returns something like \r\n\r\n    MyClass$$EnhancerBySpringCGLIB$$SOMEHEX\r\n\r\nThis is probably because `Spring` wraps the class into proxy.\r\n\r\nIs there any portable way to obtain original class name?","title":"How to know original class name if wrapped into proxy by Spring?","body":"<p>I am trying to obtain some classes name by <code>getClass().getSimpleName()</code> under <code>Spring</code> and it returns something like </p>\n\n<pre><code>MyClass$$EnhancerBySpringCGLIB$$SOMEHEX\n</code></pre>\n\n<p>This is probably because <code>Spring</code> wraps the class into proxy.</p>\n\n<p>Is there any portable way to obtain original class name?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1689837072,"post_id":76727407,"comment_id":135270431,"body_markdown":"do not post pictures of code and output, put them as formatted text instead","body":"do not post pictures of code and output, put them as formatted text instead"},{"owner":{"account_id":26860419,"reputation":11,"user_id":20444021,"display_name":"c xc"},"score":0,"creation_date":1689839239,"post_id":76727407,"comment_id":135270879,"body_markdown":"I apologize, I was not very sure..I edited it","body":"I apologize, I was not very sure..I edited it"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1689839625,"post_id":76727407,"comment_id":135270946,"body_markdown":"You posted your expected output, what&#39;s the actual output?","body":"You posted your expected output, what&#39;s the actual output?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1689840030,"post_id":76727407,"comment_id":135271021,"body_markdown":"Why would you expect this output?","body":"Why would you expect this output?"},{"owner":{"account_id":26860419,"reputation":11,"user_id":20444021,"display_name":"c xc"},"score":0,"creation_date":1689840635,"post_id":76727407,"comment_id":135271125,"body_markdown":"The expected output is output from my assignment...every other test passed, only this one is different","body":"The expected output is output from my assignment...every other test passed, only this one is different"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689841268,"post_id":76727407,"comment_id":135271265,"body_markdown":"I wonder the expected output: sum of wins 9+6 = 15, but it should have played 15 rounds and there are some ties - is the code supposed to not count the ties as a round? (&quot;*Continue to generate random values for both players until both values do not match.*&quot;) || **and** `i &lt;= numOfRounds+1` cannot be right","body":"I wonder the expected output: sum of wins 9+6 = 15, but it should have played 15 rounds and there are some ties - is the code supposed to not count the ties as a round? (&quot;<i>Continue to generate random values for both players until both values do not match.</i>&quot;) || <b>and</b> <code>i &lt;= numOfRounds+1</code> cannot be right"},{"owner":{"account_id":26860419,"reputation":11,"user_id":20444021,"display_name":"c xc"},"score":0,"creation_date":1689841788,"post_id":76727407,"comment_id":135271374,"body_markdown":"if the ties do not count as a round.. it does not make sense with the expected output that my assignment provided.. everything was working until step 4 where I had to put a loop for steps 2 and 3","body":"if the ties do not count as a round.. it does not make sense with the expected output that my assignment provided.. everything was working until step 4 where I had to put a loop for steps 2 and 3"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1689842659,"post_id":76727407,"comment_id":135271572,"body_markdown":"you are violating the requirements of step 2: &quot;Continue to generate random values for both players until both values do not match.&quot;. So you need a loop inside the outer loop, that ends when the random values for both players do not match.","body":"you are violating the requirements of step 2: &quot;Continue to generate random values for both players until both values do not match.&quot;. So you need a loop inside the outer loop, that ends when the random values for both players do not match."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689842426,"creation_date":1689842426,"answer_id":76728099,"question_id":76727407,"body_markdown":"First of all I would decompose the code with a parts. It&#39;s better to encapsulate `win/lost` logic within separate class e.g. `enum Tool`.\r\n \r\n```java\r\npublic class Foo {\r\n\r\n    public static void main(String... args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        Random random = new Random();\r\n\r\n        String p1 = getPlayerName(scan, 1);\r\n        String p2 = getPlayerName(scan, 2);\r\n        int totalRounds = getTotalRounds(scan);\r\n\r\n        System.out.format(&quot;%s vs %s for %d rounds\\n&quot;, p1, p2, totalRounds);\r\n\r\n        int p1wins = 0;\r\n        int p2wins = 0;\r\n\r\n        for (int i = 0; i &lt; totalRounds; i++) {\r\n            Tool p1Tool = Tool.random(random);\r\n            Tool p2Tool = Tool.random(random);\r\n            String res;\r\n\r\n            if (p1Tool == p2Tool) {\r\n                res = &quot;Tie&quot;;\r\n            } else if (p1Tool.isWinner(p2Tool)) {\r\n                res = p1 + &quot; wins&quot;;\r\n                p1wins++;\r\n            } else {\r\n                res = p2 + &quot; wins&quot;;\r\n                p2wins++;\r\n            }\r\n\r\n            System.out.format(&quot;Round %d: %s (%s) vs %s (%s) - %s\\n&quot;, i + 1,\r\n                              p1, p1Tool.getName(), p2, p2Tool.getName(), res);\r\n        }\r\n\r\n        System.out.println(&quot;---&quot;);\r\n        System.out.format(&quot;%s (%d) vs %s (%d) - %s\\n&quot;, p1, p1wins, p2, p2wins,\r\n                          p1wins == p2wins ? &quot;Tie&quot; : (p1wins &gt; p2wins ? p1 : p2) + &quot; wins&quot;);\r\n    }\r\n\r\n    private static String getPlayerName(Scanner scan, int i) {\r\n        System.out.format(&quot;Enter player %d name: &quot;, i);\r\n        return scan.next();\r\n    }\r\n\r\n    private static int getTotalRounds(Scanner scan) {\r\n        int res = 0;\r\n\r\n        while (res &lt;= 0) {\r\n            System.out.print(&quot;Enter total rounds: &quot;);\r\n            res = scan.nextInt();\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    @Getter\r\n    @RequiredArgsConstructor(access = AccessLevel.PACKAGE)\r\n    private enum Tool {\r\n        ROCK(&quot;rock&quot;, &quot;scissors&quot;),\r\n        PAPER(&quot;paper&quot;, &quot;rock&quot;),\r\n        SCISSORS(&quot;scissors&quot;, &quot;paper&quot;);\r\n\r\n        private final String name;\r\n        private final String nameWin;\r\n\r\n        public final boolean isWinner(Tool tool) {\r\n            return nameWin.equals(tool.name);\r\n        }\r\n\r\n        public static Tool random(Random random) {\r\n            int id = random.nextInt(3);\r\n            return id == 0 ? ROCK : id == 1 ? PAPER : SCISSORS;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Java, rock paper scissor program not working properly","body":"<p>First of all I would decompose the code with a parts. It's better to encapsulate <code>win/lost</code> logic within separate class e.g. <code>enum Tool</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public static void main(String... args) {\n        Scanner scan = new Scanner(System.in);\n        Random random = new Random();\n\n        String p1 = getPlayerName(scan, 1);\n        String p2 = getPlayerName(scan, 2);\n        int totalRounds = getTotalRounds(scan);\n\n        System.out.format(&quot;%s vs %s for %d rounds\\n&quot;, p1, p2, totalRounds);\n\n        int p1wins = 0;\n        int p2wins = 0;\n\n        for (int i = 0; i &lt; totalRounds; i++) {\n            Tool p1Tool = Tool.random(random);\n            Tool p2Tool = Tool.random(random);\n            String res;\n\n            if (p1Tool == p2Tool) {\n                res = &quot;Tie&quot;;\n            } else if (p1Tool.isWinner(p2Tool)) {\n                res = p1 + &quot; wins&quot;;\n                p1wins++;\n            } else {\n                res = p2 + &quot; wins&quot;;\n                p2wins++;\n            }\n\n            System.out.format(&quot;Round %d: %s (%s) vs %s (%s) - %s\\n&quot;, i + 1,\n                              p1, p1Tool.getName(), p2, p2Tool.getName(), res);\n        }\n\n        System.out.println(&quot;---&quot;);\n        System.out.format(&quot;%s (%d) vs %s (%d) - %s\\n&quot;, p1, p1wins, p2, p2wins,\n                          p1wins == p2wins ? &quot;Tie&quot; : (p1wins &gt; p2wins ? p1 : p2) + &quot; wins&quot;);\n    }\n\n    private static String getPlayerName(Scanner scan, int i) {\n        System.out.format(&quot;Enter player %d name: &quot;, i);\n        return scan.next();\n    }\n\n    private static int getTotalRounds(Scanner scan) {\n        int res = 0;\n\n        while (res &lt;= 0) {\n            System.out.print(&quot;Enter total rounds: &quot;);\n            res = scan.nextInt();\n        }\n\n        return res;\n    }\n\n    @Getter\n    @RequiredArgsConstructor(access = AccessLevel.PACKAGE)\n    private enum Tool {\n        ROCK(&quot;rock&quot;, &quot;scissors&quot;),\n        PAPER(&quot;paper&quot;, &quot;rock&quot;),\n        SCISSORS(&quot;scissors&quot;, &quot;paper&quot;);\n\n        private final String name;\n        private final String nameWin;\n\n        public final boolean isWinner(Tool tool) {\n            return nameWin.equals(tool.name);\n        }\n\n        public static Tool random(Random random) {\n            int id = random.nextInt(3);\n            return id == 0 ? ROCK : id == 1 ? PAPER : SCISSORS;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689843428,"creation_date":1689843428,"answer_id":76728234,"question_id":76727407,"body_markdown":"Several issues with your code, going through it:\r\n\r\n``` lang-java\r\nString player1;\r\nString player2;\r\nint numOfRounds;\r\n  \r\nplayer1 = scnr.next();\r\nplayer2 = scnr.next();\r\nnumOfRounds = scnr.nextInt();\r\n```\r\nHere it would increase readability if you merged declaration and initial assignment:\r\n\r\n``` lang-java\r\nString player1 = scnr.next();\r\nString player2 = scnr.next();\r\nint numOfRounds = scnr.nextInt();\r\n```\r\n---\r\n``` lang-java\r\nfor (int i = 0; i &lt;= numOfRounds+1; ++i) {\r\n```\r\nThis will loop two times too much, if you enter 15 for the number of rounds, `i` will go from 0 to 16, which is 17 entries into the loop - two to much.\r\ncorrect would be:\r\n``` lang-java\r\nfor (int i = 0; i &lt; numOfRounds; ++i) {\r\n```\r\n---\r\n``` lang-java\r\nint p1 = rand.nextInt(3);\r\nint p2 = rand.nextInt(3);\r\nif (p1 == p2) {\r\n   System.out.println(&quot;Tie&quot;);\r\n}\r\n```\r\nThis does count a &quot;Tie&quot; also a round, which the expected output clearly does not support (also the instruction of step 2)\r\nCorrect would be a loop until a winner can be found (both random values are not equal):\r\n``` lang-java\r\nint p1 = rand.nextInt(3);\r\nint p2 = rand.nextInt(3);\r\nwhile (p1 == p2) {\r\n  System.out.println(&quot;Tie&quot;);\r\n  p1 = rand.nextInt(3);\r\n  p2 = rand.nextInt(3);\r\n}\r\n```\r\n\r\nWith more refactoring your code could get even better read- and reusable (extracting code into reusable methodes etc.) but first you should get it running correctly.","title":"Java, rock paper scissor program not working properly","body":"<p>Several issues with your code, going through it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String player1;\nString player2;\nint numOfRounds;\n  \nplayer1 = scnr.next();\nplayer2 = scnr.next();\nnumOfRounds = scnr.nextInt();\n</code></pre>\n<p>Here it would increase readability if you merged declaration and initial assignment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String player1 = scnr.next();\nString player2 = scnr.next();\nint numOfRounds = scnr.nextInt();\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt;= numOfRounds+1; ++i) {\n</code></pre>\n<p>This will loop two times too much, if you enter 15 for the number of rounds, <code>i</code> will go from 0 to 16, which is 17 entries into the loop - two to much.\ncorrect would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; numOfRounds; ++i) {\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>int p1 = rand.nextInt(3);\nint p2 = rand.nextInt(3);\nif (p1 == p2) {\n   System.out.println(&quot;Tie&quot;);\n}\n</code></pre>\n<p>This does count a &quot;Tie&quot; also a round, which the expected output clearly does not support (also the instruction of step 2)\nCorrect would be a loop until a winner can be found (both random values are not equal):</p>\n<pre class=\"lang-java prettyprint-override\"><code>int p1 = rand.nextInt(3);\nint p2 = rand.nextInt(3);\nwhile (p1 == p2) {\n  System.out.println(&quot;Tie&quot;);\n  p1 = rand.nextInt(3);\n  p2 = rand.nextInt(3);\n}\n</code></pre>\n<p>With more refactoring your code could get even better read- and reusable (extracting code into reusable methodes etc.) but first you should get it running correctly.</p>\n"}],"owner":{"account_id":26860419,"reputation":11,"user_id":20444021,"display_name":"c xc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76728234,"answer_count":2,"score":-1,"last_activity_date":1689843428,"creation_date":1689836582,"question_id":76727407,"body_markdown":"These are the instructions for this program...\r\n\r\n&quot;**Step 1**&#160;Read two player names from input (String). Read number of rounds from input. Continue reading number of rounds if value is below one and provide an error message. Output player names and number of rounds. Submit for grading to confirm 2 tests pass.\r\n\r\n**Step 2.**&#160;Generate random values (0 - 2) for player 1 followed by player 2 by calling&#160;`rand.nextInt(3)`. Continue to generate random values for both players until both values do not match. Output &quot;Tie&quot; when the values match. Submit for grading to confirm 3 tests pass.\r\n\r\n**Step 3.**&#160;Identify winner for this round and output a message. Rock crushes scissors, scissors cut paper, and paper covers rock. Submit for grading to confirm 6 tests pass.\r\n\r\n**Step 4.**&#160;Add a loop to repeat steps 2 and 3 for the number of rounds. Output total wins for each player after all rounds are complete. Submit for grading to confirm all tests pass.&quot;\r\n\r\nwhy am I getting a different output than expected...\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Random;\r\n\r\n    public class LabProgram {\r\n    public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      final int ROCK = 0;\r\n      final int PAPER = 1;\r\n      final int SCISSORS = 2;\r\n      Random rand = new Random();\r\n      int seed = scnr.nextInt();\r\n      rand.setSeed(seed);\r\n      \r\n      /* Insert your code here */\r\n      String player1;\r\n      String player2;\r\n      int numOfRounds;\r\n      \r\n      player1 = scnr.next();\r\n      player2 = scnr.next();\r\n      numOfRounds = scnr.nextInt();\r\n      \r\n      while (numOfRounds &lt; 1) { \r\n         System.out.println(&quot;Rounds must be &gt; 0&quot;);\r\n         numOfRounds = scnr.nextInt();\r\n         }\r\n      System.out.println(player1 + &quot; vs &quot; + player2 + &quot; for &quot; + numOfRounds + &quot; rounds&quot;);\r\n   \r\n      int p1wins = 0;\r\n      int p2wins = 0; \r\n      \r\n      \r\n      for (int i = 0; i &lt;= numOfRounds+1; ++i) {\r\n         int p1 = rand.nextInt(3);\r\n         int p2 = rand.nextInt(3);\r\n         if (p1 == p2) {\r\n            System.out.println(&quot;Tie&quot;);\r\n         }\r\n         else if (p1 == 0 &amp;&amp; p2 == 1) {\r\n         System.out.println(player2 + &quot; wins with paper&quot;);\r\n         p2wins+=1;\r\n            }\r\n         else if (p1 == 0 &amp;&amp; p2 == 2) {\r\n         System.out.println(player1 + &quot; wins with rock&quot;);\r\n         p1wins+=1;\r\n            }\r\n         else if (p1 == 1 &amp;&amp; p2 == 0) {\r\n         System.out.println(player1 + &quot; wins with paper&quot;);\r\n         p1wins+=1;\r\n            }\r\n         else if (p1 == 1 &amp;&amp; p2 == 2) {\r\n         System.out.println(player2 + &quot; wins with scissors&quot;);\r\n         p2wins+=1;\r\n            }\r\n         else if (p1 == 2 &amp;&amp; p2 == 0) {\r\n         System.out.println(player2 + &quot; wins with rock&quot;);\r\n         p2wins+=1;\r\n            }\r\n         else if (p1 == 2 &amp;&amp; p2 == 1) {\r\n         System.out.println(player1 + &quot; wins with scissors&quot;);\r\n         p1wins+=1;\r\n         }\r\n      }\r\n      \r\n      if(p1wins &lt; p2wins)\r\n      System.out.println(player2 + &quot; wins &quot; + p2wins + &quot; and &quot; + player1 + &quot; wins &quot; + p1wins);\r\n      else if(p2wins &lt; p1wins)\r\n      System.out.println(player1 + &quot; wins &quot; + p1wins + &quot; and &quot; + player2 + &quot; wins &quot; + p2wins);\r\n     }\r\n\r\n    }\r\n\r\n\r\nInput:\r\n```\r\n17 Randy Jenny 15\r\n```\r\n\r\nMy Output: \r\n```\r\nRandy wins with paper\r\nRandy wins with paper\r\nRandy wins with paper\r\nRandy wins with paper\r\nRandy wins with paper\r\nTie\r\nRandy wins with paper\r\nJenny wins with scissors\r\nJenny wins with rock\r\nRandy wins with rock\r\nJenny wins with scissors\r\nTie\r\nRandy wins with rock\r\nJenny wins with paper\r\nTie\r\nRandy wins 8 and Jenny wins 5\r\n```\r\n\r\nExpected Output: \r\n```\r\nRandy wins with rock\r\nJenny wins with paper\r\nTie\r\nTie\r\nJenny wins with paper\r\nTie\r\nRandy wins with paper\r\nRandy wins 9 and Jenny wins 6\r\n```","title":"Java, rock paper scissor program not working properly","body":"<p>These are the instructions for this program...</p>\n<p>&quot;<strong>Step 1</strong> Read two player names from input (String). Read number of rounds from input. Continue reading number of rounds if value is below one and provide an error message. Output player names and number of rounds. Submit for grading to confirm 2 tests pass.</p>\n<p><strong>Step 2.</strong> Generate random values (0 - 2) for player 1 followed by player 2 by calling <code>rand.nextInt(3)</code>. Continue to generate random values for both players until both values do not match. Output &quot;Tie&quot; when the values match. Submit for grading to confirm 3 tests pass.</p>\n<p><strong>Step 3.</strong> Identify winner for this round and output a message. Rock crushes scissors, scissors cut paper, and paper covers rock. Submit for grading to confirm 6 tests pass.</p>\n<p><strong>Step 4.</strong> Add a loop to repeat steps 2 and 3 for the number of rounds. Output total wins for each player after all rounds are complete. Submit for grading to confirm all tests pass.&quot;</p>\n<p>why am I getting a different output than expected...</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class LabProgram {\npublic static void main(String[] args) {\n  Scanner scnr = new Scanner(System.in);\n  final int ROCK = 0;\n  final int PAPER = 1;\n  final int SCISSORS = 2;\n  Random rand = new Random();\n  int seed = scnr.nextInt();\n  rand.setSeed(seed);\n  \n  /* Insert your code here */\n  String player1;\n  String player2;\n  int numOfRounds;\n  \n  player1 = scnr.next();\n  player2 = scnr.next();\n  numOfRounds = scnr.nextInt();\n  \n  while (numOfRounds &lt; 1) { \n     System.out.println(&quot;Rounds must be &gt; 0&quot;);\n     numOfRounds = scnr.nextInt();\n     }\n  System.out.println(player1 + &quot; vs &quot; + player2 + &quot; for &quot; + numOfRounds + &quot; rounds&quot;);\n\n  int p1wins = 0;\n  int p2wins = 0; \n  \n  \n  for (int i = 0; i &lt;= numOfRounds+1; ++i) {\n     int p1 = rand.nextInt(3);\n     int p2 = rand.nextInt(3);\n     if (p1 == p2) {\n        System.out.println(&quot;Tie&quot;);\n     }\n     else if (p1 == 0 &amp;&amp; p2 == 1) {\n     System.out.println(player2 + &quot; wins with paper&quot;);\n     p2wins+=1;\n        }\n     else if (p1 == 0 &amp;&amp; p2 == 2) {\n     System.out.println(player1 + &quot; wins with rock&quot;);\n     p1wins+=1;\n        }\n     else if (p1 == 1 &amp;&amp; p2 == 0) {\n     System.out.println(player1 + &quot; wins with paper&quot;);\n     p1wins+=1;\n        }\n     else if (p1 == 1 &amp;&amp; p2 == 2) {\n     System.out.println(player2 + &quot; wins with scissors&quot;);\n     p2wins+=1;\n        }\n     else if (p1 == 2 &amp;&amp; p2 == 0) {\n     System.out.println(player2 + &quot; wins with rock&quot;);\n     p2wins+=1;\n        }\n     else if (p1 == 2 &amp;&amp; p2 == 1) {\n     System.out.println(player1 + &quot; wins with scissors&quot;);\n     p1wins+=1;\n     }\n  }\n  \n  if(p1wins &lt; p2wins)\n  System.out.println(player2 + &quot; wins &quot; + p2wins + &quot; and &quot; + player1 + &quot; wins &quot; + p1wins);\n  else if(p2wins &lt; p1wins)\n  System.out.println(player1 + &quot; wins &quot; + p1wins + &quot; and &quot; + player2 + &quot; wins &quot; + p2wins);\n }\n\n}\n</code></pre>\n<p>Input:</p>\n<pre><code>17 Randy Jenny 15\n</code></pre>\n<p>My Output:</p>\n<pre><code>Randy wins with paper\nRandy wins with paper\nRandy wins with paper\nRandy wins with paper\nRandy wins with paper\nTie\nRandy wins with paper\nJenny wins with scissors\nJenny wins with rock\nRandy wins with rock\nJenny wins with scissors\nTie\nRandy wins with rock\nJenny wins with paper\nTie\nRandy wins 8 and Jenny wins 5\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>Randy wins with rock\nJenny wins with paper\nTie\nTie\nJenny wins with paper\nTie\nRandy wins with paper\nRandy wins 9 and Jenny wins 6\n</code></pre>\n"},{"tags":["java","spring","keystore","x509"],"answers":[{"tags":[],"owner":{"account_id":16857809,"reputation":1,"user_id":12189341,"display_name":"Choco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689843418,"creation_date":1689843418,"answer_id":76728232,"question_id":76720213,"body_markdown":"I appears I can extract form the keystore and create inmemory keystore with only one alias.\r\n\r\n        private static KeyStore createUnaryKeyStore(String alias, String aliasPwd, KeyStore clientKeyStore) throws KeyStoreException, NoSuchAlgorithmException, UnrecoverableKeyException, IOException, CertificateException {\r\n        Key key = clientKeyStore.getKey(alias, aliasPwd.toCharArray());\r\n        Certificate[] certificateChain = clientKeyStore.getCertificateChain(alias);\r\n\r\n        KeyStore tempUnaryKeystore = KeyStore.getInstance(JAVA_KEYSTORE);\r\n        tempUnaryKeystore.load(null);\r\n        tempUnaryKeystore.setKeyEntry (alias, key, aliasPwd.toCharArray(), certificateChain);\r\n        return tempUnaryKeystore;\r\n    }\r\n\r\nSo I&#39;ll use it to call my rest API","title":"Need to call API rest with SSL two way (X509) using Spring and keystore with multi alias","body":"<p>I appears I can extract form the keystore and create inmemory keystore with only one alias.</p>\n<pre><code>    private static KeyStore createUnaryKeyStore(String alias, String aliasPwd, KeyStore clientKeyStore) throws KeyStoreException, NoSuchAlgorithmException, UnrecoverableKeyException, IOException, CertificateException {\n    Key key = clientKeyStore.getKey(alias, aliasPwd.toCharArray());\n    Certificate[] certificateChain = clientKeyStore.getCertificateChain(alias);\n\n    KeyStore tempUnaryKeystore = KeyStore.getInstance(JAVA_KEYSTORE);\n    tempUnaryKeystore.load(null);\n    tempUnaryKeystore.setKeyEntry (alias, key, aliasPwd.toCharArray(), certificateChain);\n    return tempUnaryKeystore;\n}\n</code></pre>\n<p>So I'll use it to call my rest API</p>\n"}],"owner":{"account_id":16857809,"reputation":1,"user_id":12189341,"display_name":"Choco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689843418,"creation_date":1689761630,"question_id":76720213,"body_markdown":"I need to call an API rest with SSL two way (X509) using Spring.\r\nMy JKS file got multi alias (mandatory).\r\n\r\nI begun with this code to create a rest template:\r\n\r\n```\r\nKeyStore clientTrustStore = getStore(trustStore, pwdTrustStore.toCharArray());\r\n        KeyStore clientKeyStore = getStore(keyStore, pwdKeyStore.toCharArray());\r\n\r\n        SSLContext sslContext = new SSLContextBuilder()\r\n            .setKeyStoreType(JAVA_KEYSTORE)\r\n//.setKeyManagerFactoryAlgorithm(...)\r\n            .loadKeyMaterial(clientKeyStore, aliasPwd.toCharArray(), new KeyStrategy(alias))\r\n            .loadTrustMaterial(clientTrustStore, new TrustSelfSignedStrategy())\r\n            .build();\r\n        SSLConnectionSocketFactory sslConFactory = new SSLConnectionSocketFactory(sslContext);\r\n        try (CloseableHttpClient httpClient =      HttpClients.custom().setSSLSocketFactory(sslConFactory).build()) {\r\n\r\n            restTemplateBuilder.requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient));\r\n        }\r\n\r\n        this.restTemplate = restTemplateBuilder.build();\r\n```\r\n\r\nFor those who know how it works, it use the SunX509KeyManagerImpl.class (JDK8) that parse the keystore with this algorithm \r\n\r\n\r\n```\r\nSunX509KeyManagerImpl(KeyStore ks, char[] password)\r\n            throws KeyStoreException,\r\n            NoSuchAlgorithmException, UnrecoverableKeyException {\r\n\r\n        credentialsMap = new HashMap&lt;String,X509Credentials&gt;();\r\n        serverAliasCache = Collections.synchronizedMap(\r\n                            new HashMap&lt;String,String[]&gt;());\r\n        if (ks == null) {\r\n            return;\r\n        }\r\n\r\n        for (Enumeration&lt;String&gt; aliases = ks.aliases();\r\n                                        aliases.hasMoreElements(); ) {\r\n            String alias = aliases.nextElement();\r\n            if (!ks.isKeyEntry(alias)) {\r\n                continue;\r\n            }\r\n            Key key = ks.getKey(alias, password);\r\n            if (key instanceof PrivateKey == false) {\r\n                continue;\r\n            }\r\n            Certificate[] certs = ks.getCertificateChain(alias);\r\n            if ((certs == null) || (certs.length == 0) ||\r\n                    !(certs[0] instanceof X509Certificate)) {\r\n                continue;\r\n            }\r\n            if (!(certs instanceof X509Certificate[])) {\r\n                Certificate[] tmp = new X509Certificate[certs.length];\r\n                System.arraycopy(certs, 0, tmp, 0, certs.length);\r\n                certs = tmp;\r\n            }\r\n\r\n            X509Credentials cred = new X509Credentials((PrivateKey)key,\r\n                (X509Certificate[])certs);\r\n            credentialsMap.put(alias, cred);\r\n            if (SSLLogger.isOn &amp;&amp; SSLLogger.isOn(&quot;keymanager&quot;)) {\r\n                SSLLogger.fine(&quot;found key for : &quot; + alias, (Object[])certs);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nAs you can see beside the for, it extract with a enum the list of aliases and do a getKey with the password and the first random alias of the list. It throw an exception when the duo alias/pwd is wrong \r\n`java.security.UnrecoverableKeyException: Cannot recover key` \r\n\r\n\r\n\r\n\r\n\r\n\r\nI don&#39;t understand why I can&#39;t filter the alias which is gonna be tested or maybe all the alias must have the same password ? :) . I saw I can use setKeyManagerFactoryAlgorithm to create a custom KeyManager (to not use de SunX509KeyManagerImpl) but I wonder if it&#39;s the real good solution to reach my target.\r\n\r\nI don&#39;t wanna reinvent the wheel\r\n\r\nThank for your reply","title":"Need to call API rest with SSL two way (X509) using Spring and keystore with multi alias","body":"<p>I need to call an API rest with SSL two way (X509) using Spring.\nMy JKS file got multi alias (mandatory).</p>\n<p>I begun with this code to create a rest template:</p>\n<pre><code>KeyStore clientTrustStore = getStore(trustStore, pwdTrustStore.toCharArray());\n        KeyStore clientKeyStore = getStore(keyStore, pwdKeyStore.toCharArray());\n\n        SSLContext sslContext = new SSLContextBuilder()\n            .setKeyStoreType(JAVA_KEYSTORE)\n//.setKeyManagerFactoryAlgorithm(...)\n            .loadKeyMaterial(clientKeyStore, aliasPwd.toCharArray(), new KeyStrategy(alias))\n            .loadTrustMaterial(clientTrustStore, new TrustSelfSignedStrategy())\n            .build();\n        SSLConnectionSocketFactory sslConFactory = new SSLConnectionSocketFactory(sslContext);\n        try (CloseableHttpClient httpClient =      HttpClients.custom().setSSLSocketFactory(sslConFactory).build()) {\n\n            restTemplateBuilder.requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient));\n        }\n\n        this.restTemplate = restTemplateBuilder.build();\n</code></pre>\n<p>For those who know how it works, it use the SunX509KeyManagerImpl.class (JDK8) that parse the keystore with this algorithm</p>\n<pre><code>SunX509KeyManagerImpl(KeyStore ks, char[] password)\n            throws KeyStoreException,\n            NoSuchAlgorithmException, UnrecoverableKeyException {\n\n        credentialsMap = new HashMap&lt;String,X509Credentials&gt;();\n        serverAliasCache = Collections.synchronizedMap(\n                            new HashMap&lt;String,String[]&gt;());\n        if (ks == null) {\n            return;\n        }\n\n        for (Enumeration&lt;String&gt; aliases = ks.aliases();\n                                        aliases.hasMoreElements(); ) {\n            String alias = aliases.nextElement();\n            if (!ks.isKeyEntry(alias)) {\n                continue;\n            }\n            Key key = ks.getKey(alias, password);\n            if (key instanceof PrivateKey == false) {\n                continue;\n            }\n            Certificate[] certs = ks.getCertificateChain(alias);\n            if ((certs == null) || (certs.length == 0) ||\n                    !(certs[0] instanceof X509Certificate)) {\n                continue;\n            }\n            if (!(certs instanceof X509Certificate[])) {\n                Certificate[] tmp = new X509Certificate[certs.length];\n                System.arraycopy(certs, 0, tmp, 0, certs.length);\n                certs = tmp;\n            }\n\n            X509Credentials cred = new X509Credentials((PrivateKey)key,\n                (X509Certificate[])certs);\n            credentialsMap.put(alias, cred);\n            if (SSLLogger.isOn &amp;&amp; SSLLogger.isOn(&quot;keymanager&quot;)) {\n                SSLLogger.fine(&quot;found key for : &quot; + alias, (Object[])certs);\n            }\n        }\n    }\n</code></pre>\n<p>As you can see beside the for, it extract with a enum the list of aliases and do a getKey with the password and the first random alias of the list. It throw an exception when the duo alias/pwd is wrong\n<code>java.security.UnrecoverableKeyException: Cannot recover key</code></p>\n<p>I don't understand why I can't filter the alias which is gonna be tested or maybe all the alias must have the same password ? :) . I saw I can use setKeyManagerFactoryAlgorithm to create a custom KeyManager (to not use de SunX509KeyManagerImpl) but I wonder if it's the real good solution to reach my target.</p>\n<p>I don't wanna reinvent the wheel</p>\n<p>Thank for your reply</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1689768773,"post_id":76721173,"comment_id":135259527,"body_markdown":"We can&#39;t know why your code produces some result without you showing us that code.","body":"We can&#39;t know why your code produces some result without you showing us that code."},{"owner":{"account_id":28710981,"reputation":21,"user_id":21986482,"display_name":"who is this bro xd"},"score":0,"creation_date":1689770480,"post_id":76721173,"comment_id":135259961,"body_markdown":"@OHGODSPIDERS oops","body":"@OHGODSPIDERS oops"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1689782777,"post_id":76721173,"comment_id":135263329,"body_markdown":"An `ImageView` is a `Node` (i.e., a UI element). A `Node` can only appear once in the scene graph. If you add a `Node` to a `Parent` and it already _has_ a `Parent`, then it will silently be removed from its current parent before being added to the new parent. An `Image`, however, can appear in any number of different `ImageView`s. So, modify your `Figure` enum to cache the `Image`, not the `ImageView`. That gives you a better design anyway, as the model should not be aware of the view.","body":"An <code>ImageView</code> is a <code>Node</code> (i.e., a UI element). A <code>Node</code> can only appear once in the scene graph. If you add a <code>Node</code> to a <code>Parent</code> and it already <i>has</i> a <code>Parent</code>, then it will silently be removed from its current parent before being added to the new parent. An <code>Image</code>, however, can appear in any number of different <code>ImageView</code>s. So, modify your <code>Figure</code> enum to cache the <code>Image</code>, not the <code>ImageView</code>. That gives you a better design anyway, as the model should not be aware of the view."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1690312182,"post_id":76721173,"comment_id":135335088,"body_markdown":"This just screams to be implemented as a Sprite.","body":"This just screams to be implemented as a Sprite."},{"owner":{"account_id":28710981,"reputation":21,"user_id":21986482,"display_name":"who is this bro xd"},"score":0,"creation_date":1690543386,"post_id":76721173,"comment_id":135372096,"body_markdown":"@Slaw thx it worked","body":"@Slaw thx it worked"}],"owner":{"account_id":28710981,"reputation":21,"user_id":21986482,"display_name":"who is this bro xd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1689843363,"creation_date":1689768702,"question_id":76721173,"body_markdown":"I&#39;m making a chess program. When I press &quot;New Game&quot;, I see that there are only 1 types of each piece. I don&#39;t know, why, please help\r\n\r\n```java\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\n\r\npublic enum Figure {\r\n\tWHITE_PAWN(false, FigureType.PAWN),\r\n\tWHITE_ROOK(false, FigureType.ROOK),\r\n\tWHITE_KNIGHT(false, FigureType.KNIGHT),\r\n\tWHITE_BISHOP(false, FigureType.BISHOP),\r\n\tWHITE_KING(false, FigureType.KING),\r\n\tWHITE_QUEEN(false, FigureType.QUEEN),\r\n\tBLACK_PAWN(true, FigureType.PAWN),\r\n\tBLACK_ROOK(true, FigureType.ROOK),\r\n\tBLACK_KNIGHT(true, FigureType.KNIGHT),\r\n\tBLACK_BISHOP(true, FigureType.BISHOP),\r\n\tBLACK_KING(true, FigureType.KING),\r\n\tBLACK_QUEEN(true, FigureType.QUEEN),\r\n\tEMPTY;\r\n\t\r\n\t\r\n\tprivate final ImageView graphic;\r\n\tFigure(boolean isBlack, FigureType type) {\r\n\t\tthis.graphic = new ImageView(new Image(getClass()\r\n\t\t\t\t.getResource(&quot;/resources/&quot; + toString().toLowerCase() + &quot;.png&quot;)\r\n\t\t\t\t.toExternalForm()));\r\n\t\tthis.isBlack = isBlack;\r\n\t\tthis.type = type;\r\n\t\t\r\n\t}\r\n\r\n```\r\n```\r\n/RESOURCES/\r\n black_bishop.png\r\n    black_king.png\r\n    black_knight.png\r\n    black_pawn.png\r\n    black_queen.png\r\n    black_rook.png\r\n    main_background.jpg\r\n    white_bishop.png\r\n    white_king.png\r\n    white_knight.png\r\n    white_pawn.png\r\n    white_queen.png\r\n    white_rook.png\r\n\r\n```\r\n\r\nDo you need something else to answer?\r\n\r\nWhat do I expect to see:\r\n[Expectation](https://i.stack.imgur.com/IzSlg.png)\r\nand what I get:\r\n[Reality](https://i.stack.imgur.com/keN4f.png)","title":"Why I can use an image only 1 time","body":"<p>I'm making a chess program. When I press &quot;New Game&quot;, I see that there are only 1 types of each piece. I don't know, why, please help</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\npublic enum Figure {\n    WHITE_PAWN(false, FigureType.PAWN),\n    WHITE_ROOK(false, FigureType.ROOK),\n    WHITE_KNIGHT(false, FigureType.KNIGHT),\n    WHITE_BISHOP(false, FigureType.BISHOP),\n    WHITE_KING(false, FigureType.KING),\n    WHITE_QUEEN(false, FigureType.QUEEN),\n    BLACK_PAWN(true, FigureType.PAWN),\n    BLACK_ROOK(true, FigureType.ROOK),\n    BLACK_KNIGHT(true, FigureType.KNIGHT),\n    BLACK_BISHOP(true, FigureType.BISHOP),\n    BLACK_KING(true, FigureType.KING),\n    BLACK_QUEEN(true, FigureType.QUEEN),\n    EMPTY;\n    \n    \n    private final ImageView graphic;\n    Figure(boolean isBlack, FigureType type) {\n        this.graphic = new ImageView(new Image(getClass()\n                .getResource(&quot;/resources/&quot; + toString().toLowerCase() + &quot;.png&quot;)\n                .toExternalForm()));\n        this.isBlack = isBlack;\n        this.type = type;\n        \n    }\n\n</code></pre>\n<pre><code>/RESOURCES/\n black_bishop.png\n    black_king.png\n    black_knight.png\n    black_pawn.png\n    black_queen.png\n    black_rook.png\n    main_background.jpg\n    white_bishop.png\n    white_king.png\n    white_knight.png\n    white_pawn.png\n    white_queen.png\n    white_rook.png\n\n</code></pre>\n<p>Do you need something else to answer?</p>\n<p>What do I expect to see:\n<a href=\"https://i.stack.imgur.com/IzSlg.png\" rel=\"nofollow noreferrer\">Expectation</a>\nand what I get:\n<a href=\"https://i.stack.imgur.com/keN4f.png\" rel=\"nofollow noreferrer\">Reality</a></p>\n"},{"tags":["java","spring","architecture","business-logic"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1286484322,"creation_date":1286484322,"answer_id":3885740,"question_id":3885675,"body_markdown":"If you wish to have controllers be able to persist changes to a `Child` object, then traditionally you would have a method in the service named something like `ChildService.update(Child newchild)`, which will handle calling the correct DAOs to persist the new version of this Child.\r\n\r\nControllers are free to ask the service for a Child, change the fields around (conceivably based on some user input) - a sane design would have the Controller doing some work with the Child POJO and then asking the Service to persist the change. The model POJO should know nothing about a controller, service, or DAO but just simply hold data as you suggest - certainly you would not want every call to `setName()` or `setGender()` to automatically result in a database update.\r\n\r\nInstead, the controller and/or service should acquire a `Child` object, do whatever work it needs to the object in it&#39;s unit of work, and then ask a Service (and then the DAO) to persist the changes.\r\n\r\nValidation can take place in several layers - the Controller might want to validate any input from the web user, and the Service may want to validate that it has a valid `Child` object before it persists it. It especially makes sense to have some level of validation in both layers in case you want to re-use this Service in other capacities - such as exposing a REST interface, a different front-end, etc.","title":"Service layer and controller: who takes care of what?","body":"<p>If you wish to have controllers be able to persist changes to a <code>Child</code> object, then traditionally you would have a method in the service named something like <code>ChildService.update(Child newchild)</code>, which will handle calling the correct DAOs to persist the new version of this Child.</p>\n\n<p>Controllers are free to ask the service for a Child, change the fields around (conceivably based on some user input) - a sane design would have the Controller doing some work with the Child POJO and then asking the Service to persist the change. The model POJO should know nothing about a controller, service, or DAO but just simply hold data as you suggest - certainly you would not want every call to <code>setName()</code> or <code>setGender()</code> to automatically result in a database update.</p>\n\n<p>Instead, the controller and/or service should acquire a <code>Child</code> object, do whatever work it needs to the object in it's unit of work, and then ask a Service (and then the DAO) to persist the changes.</p>\n\n<p>Validation can take place in several layers - the Controller might want to validate any input from the web user, and the Service may want to validate that it has a valid <code>Child</code> object before it persists it. It especially makes sense to have some level of validation in both layers in case you want to re-use this Service in other capacities - such as exposing a REST interface, a different front-end, etc.</p>\n"},{"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":6,"creation_date":1286501639,"post_id":3885783,"comment_id":4138877,"body_markdown":"just to add to this: it&#39;s a good idea for &quot;services&quot; in general (not just when using Spring, but perhaps also when exposing remote services or some sort of API) to have methods that are natural candidates for transactions","body":"just to add to this: it&#39;s a good idea for &quot;services&quot; in general (not just when using Spring, but perhaps also when exposing remote services or some sort of API) to have methods that are natural candidates for transactions"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1377372511,"creation_date":1286484681,"answer_id":3885783,"question_id":3885675,"body_markdown":"Generally a Spring service is transactional. Things go into a particular service method because they ought to be grouped together in the same transaction. If you want to retrieve an object from the database, twiddle it, and save the new version, the retrieval and save ought to be in the same service method. So your service methods are determined according to what you need the application to do for the user.\r\n\r\nI try to restrict controllers to doing work related to validating http parameters, deciding what service method to call with what parameters, what to put in the httpsession or request, what view to redirect or forward to, or similar web-related stuff. \r\n\r\nAs far as validation goes: Validating input parameters in the controller is a good thing to make sure nobody can break your application with bogus inputs. Validation in the controller tends to be about making sure the inputs are syntactically ok (including detecting injection attacks) while service-level validation is about making sure the state of things in the database is what you expect it to be. \r\n\r\nSo controllers contain web-framework infrastructure code, services contain application logic code.","title":"Service layer and controller: who takes care of what?","body":"<p>Generally a Spring service is transactional. Things go into a particular service method because they ought to be grouped together in the same transaction. If you want to retrieve an object from the database, twiddle it, and save the new version, the retrieval and save ought to be in the same service method. So your service methods are determined according to what you need the application to do for the user.</p>\n\n<p>I try to restrict controllers to doing work related to validating http parameters, deciding what service method to call with what parameters, what to put in the httpsession or request, what view to redirect or forward to, or similar web-related stuff. </p>\n\n<p>As far as validation goes: Validating input parameters in the controller is a good thing to make sure nobody can break your application with bogus inputs. Validation in the controller tends to be about making sure the inputs are syntactically ok (including detecting injection attacks) while service-level validation is about making sure the state of things in the database is what you expect it to be. </p>\n\n<p>So controllers contain web-framework infrastructure code, services contain application logic code.</p>\n"}],"owner":{"account_id":134427,"reputation":1344,"user_id":336547,"accept_rate":90,"display_name":"toomuchcs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42627,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":3885740,"answer_count":2,"score":63,"last_activity_date":1689843122,"creation_date":1286483801,"question_id":3885675,"body_markdown":"In class we&#39;re now learning how to build up a Spring application, even though spring isn&#39;t directly involved, we learned how to make the interfaces for DAO and service layer objects. \r\n\r\nPlease correct me if I&#39;m wrong:\r\nDAO layer is pretty abstract: it just contains the CRUD operations and is further used to read data.(ie: get all objects, get specific objects, etc)\r\n\r\nService layer: contains services to create things, and delete things, this is where business logic should be. \r\n\r\nNow all of this makes sense in the service layer; except &quot;updating&quot; objects. Do you just put a &quot;update&quot; function that just saves the object in your database? Or do you need to define the logic there as well? This is where my confusion is as, my understanding is objects in Spring are just POJO&#39;s. Now then who validates the data? \r\n\r\nLet&#39;s say I have an Object &quot;child&quot;\r\nit has:`Name`, `SurName`, `Gender`, `Photo`, `Birthdate`\r\nfields.\r\nhow would I name the services? Or would you just let the controller take care of validation, which doesn&#39;t seem right to me. On the other hand it wouldn&#39;t seem right either to delegate every setter that needs to be called to the service layer.\r\n\r\nSo just basically: help me with how to define saving your objects via the service layer.","title":"Service layer and controller: who takes care of what?","body":"<p>In class we're now learning how to build up a Spring application, even though spring isn't directly involved, we learned how to make the interfaces for DAO and service layer objects. </p>\n\n<p>Please correct me if I'm wrong:\nDAO layer is pretty abstract: it just contains the CRUD operations and is further used to read data.(ie: get all objects, get specific objects, etc)</p>\n\n<p>Service layer: contains services to create things, and delete things, this is where business logic should be. </p>\n\n<p>Now all of this makes sense in the service layer; except \"updating\" objects. Do you just put a \"update\" function that just saves the object in your database? Or do you need to define the logic there as well? This is where my confusion is as, my understanding is objects in Spring are just POJO's. Now then who validates the data? </p>\n\n<p>Let's say I have an Object \"child\"\nit has:<code>Name</code>, <code>SurName</code>, <code>Gender</code>, <code>Photo</code>, <code>Birthdate</code>\nfields.\nhow would I name the services? Or would you just let the controller take care of validation, which doesn't seem right to me. On the other hand it wouldn't seem right either to delegate every setter that needs to be called to the service layer.</p>\n\n<p>So just basically: help me with how to define saving your objects via the service layer.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":29055113,"reputation":11,"user_id":22257029,"display_name":"boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689843079,"creation_date":1689842349,"question_id":76728087,"body_markdown":"Environment:\r\n\r\n1. Operating Environment: Linux + K8S\r\n2. Database: Oracle\r\n3. Druid Version: 1.1.0\r\n\r\nI encountered a strange issue in my Spring Boot application. I&#39;m using the Druid connection pool to connect to an Oracle database. Occasionally, I observe that retrieving the `SqlSession` from the Druid connection pool is fast, but the subsequent JDBC execution is very slow. It takes around 10 minutes or more. Can anyone please help me with this?\r\n\r\nLog images:\r\n[log image](https://i.stack.imgur.com/7sCMP.png)\r\n\r\nProject config:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    druid:\r\n      url: jdbc:oracle:thin:@192.168.1.10:1521:prod\r\n      initial-size: 10\r\n      max-active: 20\r\n      min-idle: 1\r\n      max-wait: 60000\r\n      pool-prepared-statements: true\r\n      max-pool-prepared-statement-per-connection-size: 20\r\n      validation-query: SELECT 1 FROM DUAL\r\n      test-on-borrow: false\r\n      test-on-return: false\r\n      test-while-idle: true\r\n      time-between-eviction-runs-millis: 60000\r\n      min-evictable-idle-time-millis: 30000\r\n      remove-abandoned: true       \r\n      remove-abandoned-timeout: 60 \r\n      web-stat-filter:\r\n        enabled: true\r\n        url-pattern: /*\r\n        #exclusions: *.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*\r\n        session-stat-enable: false\r\n        session-stat-max-count: 1000\r\n        profile-enable: true\r\n        principal-session-name: admin\r\n        principal-cookie-name: admin\r\n      stat-view-servlet:\r\n        enabled: true\r\n        url-pattern: /druid/*\r\n        reset-enable: true\r\n        login-username: user1\r\n        login-password: user1\r\n      driver-class-name: oracle.jdbc.driver.OracleDriver\r\n    username: user1\r\n    password: user1\r\n```\r\n\r\nPlease help to take a look, I have not yet found a solution","title":"In a Spring Boot project, obtaining SqlSession from Druid is very fast, but the subsequent JDBC connections are very slow","body":"<p>Environment:</p>\n<ol>\n<li>Operating Environment: Linux + K8S</li>\n<li>Database: Oracle</li>\n<li>Druid Version: 1.1.0</li>\n</ol>\n<p>I encountered a strange issue in my Spring Boot application. I'm using the Druid connection pool to connect to an Oracle database. Occasionally, I observe that retrieving the <code>SqlSession</code> from the Druid connection pool is fast, but the subsequent JDBC execution is very slow. It takes around 10 minutes or more. Can anyone please help me with this?</p>\n<p>Log images:\n<a href=\"https://i.stack.imgur.com/7sCMP.png\" rel=\"nofollow noreferrer\">log image</a></p>\n<p>Project config:</p>\n<pre><code>spring:\n  datasource:\n    druid:\n      url: jdbc:oracle:thin:@192.168.1.10:1521:prod\n      initial-size: 10\n      max-active: 20\n      min-idle: 1\n      max-wait: 60000\n      pool-prepared-statements: true\n      max-pool-prepared-statement-per-connection-size: 20\n      validation-query: SELECT 1 FROM DUAL\n      test-on-borrow: false\n      test-on-return: false\n      test-while-idle: true\n      time-between-eviction-runs-millis: 60000\n      min-evictable-idle-time-millis: 30000\n      remove-abandoned: true       \n      remove-abandoned-timeout: 60 \n      web-stat-filter:\n        enabled: true\n        url-pattern: /*\n        #exclusions: *.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*\n        session-stat-enable: false\n        session-stat-max-count: 1000\n        profile-enable: true\n        principal-session-name: admin\n        principal-cookie-name: admin\n      stat-view-servlet:\n        enabled: true\n        url-pattern: /druid/*\n        reset-enable: true\n        login-username: user1\n        login-password: user1\n      driver-class-name: oracle.jdbc.driver.OracleDriver\n    username: user1\n    password: user1\n</code></pre>\n<p>Please help to take a look, I have not yet found a solution</p>\n"},{"tags":["java","heap-memory","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1689779922,"post_id":76720614,"comment_id":135262625,"body_markdown":"What are your message sizes and rates, does it level off at 80-90% and run fine (just with more frequent GC)?","body":"What are your message sizes and rates, does it level off at 80-90% and run fine (just with more frequent GC)?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689790264,"post_id":76720614,"comment_id":135264837,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27898173,"reputation":1,"user_id":21303000,"display_name":"BF_PI"},"score":0,"creation_date":1689832342,"post_id":76720614,"comment_id":135269610,"body_markdown":"@hardillb I hope my edit makes it clearer","body":"@hardillb I hope my edit makes it clearer"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1689835416,"post_id":76720614,"comment_id":135270085,"body_markdown":"Java garbage collection only happens when there is a failure to allocate a new object, so if the load is stopped then nothing is allocating objects so there will be no GC","body":"Java garbage collection only happens when there is a failure to allocate a new object, so if the load is stopped then nothing is allocating objects so there will be no GC"},{"owner":{"account_id":27898173,"reputation":1,"user_id":21303000,"display_name":"BF_PI"},"score":0,"creation_date":1689837968,"post_id":76720614,"comment_id":135270621,"body_markdown":"yeah but even if I do ` jcmd &lt;pid&gt; GC.run` there is nothing released","body":"yeah but even if I do ` jcmd &lt;pid&gt; GC.run` there is nothing released"}],"owner":{"account_id":27898173,"reputation":1,"user_id":21303000,"display_name":"BF_PI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689841841,"creation_date":1689764575,"question_id":76720614,"body_markdown":"I am using the eclipse Paho Mqttv5 client and the mosquitto broker.\r\nWhen I subscribe with QoS=2(ExactlyOnce) e.g MqttProperties occupy more and more space of the heap.\r\nEven if I stop the publishing application the MqttProperties(among other classes from the paho framework) are not beeing released by the GarbageCollector(Even If I force the GC to run).\r\n\r\nThe applications used Heap space is rushing up and peaks at abt 80-90%  of the Max Heapspace after a few minutes.\r\n\r\nIf I switch to QoS=1(AtLeastOnce) The used heap space is nearly constant.\r\n\r\nI could ask myself if QoS=2 is really necessary - but I would like to understand what is going on here.\r\n\r\n**EDIT**:\r\n\r\nI gave both Applications a max heap size of 1G, it seems they both peak at about 210M\r\n\r\n![Heap Application #1][1]\r\n\r\n Application1: receives 1 Message every 100ms\r\n\r\n![Heap Application #2][2]\r\n\r\n Application2: receives 7 Messages every ~150ms(at once!)\r\n\r\nA messages is about 20bytes\r\n\r\nSo the only difference I see is that Application #2 is reaching the peak faster because of the higher workload.\r\n\r\nBut as far as I observe right now - even after I stop the publishing the memory is not beeing released. Is there a buffer for the messages to be Acknowledged in QoS=2 which fills up and is reused after a certain amount is reached?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrLDK.png\r\n  [2]: https://i.stack.imgur.com/pHW5N.png","title":"Paho MqttClient with QoS=2 - Higher used HeapSpace","body":"<p>I am using the eclipse Paho Mqttv5 client and the mosquitto broker.\nWhen I subscribe with QoS=2(ExactlyOnce) e.g MqttProperties occupy more and more space of the heap.\nEven if I stop the publishing application the MqttProperties(among other classes from the paho framework) are not beeing released by the GarbageCollector(Even If I force the GC to run).</p>\n<p>The applications used Heap space is rushing up and peaks at abt 80-90%  of the Max Heapspace after a few minutes.</p>\n<p>If I switch to QoS=1(AtLeastOnce) The used heap space is nearly constant.</p>\n<p>I could ask myself if QoS=2 is really necessary - but I would like to understand what is going on here.</p>\n<p><strong>EDIT</strong>:</p>\n<p>I gave both Applications a max heap size of 1G, it seems they both peak at about 210M</p>\n<p><img src=\"https://i.stack.imgur.com/hrLDK.png\" alt=\"Heap Application #1\" /></p>\n<p>Application1: receives 1 Message every 100ms</p>\n<p><img src=\"https://i.stack.imgur.com/pHW5N.png\" alt=\"Heap Application #2\" /></p>\n<p>Application2: receives 7 Messages every ~150ms(at once!)</p>\n<p>A messages is about 20bytes</p>\n<p>So the only difference I see is that Application #2 is reaching the peak faster because of the higher workload.</p>\n<p>But as far as I observe right now - even after I stop the publishing the memory is not beeing released. Is there a buffer for the messages to be Acknowledged in QoS=2 which fills up and is reused after a certain amount is reached?</p>\n"},{"tags":["java","r","macos","rjava"],"answers":[{"comments":[{"owner":{"account_id":17004247,"reputation":158,"user_id":12300817,"display_name":"kentkr"},"score":2,"creation_date":1646257759,"post_id":68354610,"comment_id":126081643,"body_markdown":"A god send. Downloading the arm64 version of R 4.1.2 (from CRAN) and installing over the x86_64 version solved this issue.","body":"A god send. Downloading the arm64 version of R 4.1.2 (from CRAN) and installing over the x86_64 version solved this issue."},{"owner":{"account_id":17914590,"reputation":1298,"user_id":13015865,"display_name":"Ruam Pimentel"},"score":1,"creation_date":1669337505,"post_id":68354610,"comment_id":131625577,"body_markdown":"@Levon Rush, could you transform this response into a step-by-step tutorial? Sorry, I couldn&#39;t follow it through, but I think this is exactly what I need. Thank you","body":"@Levon Rush, could you transform this response into a step-by-step tutorial? Sorry, I couldn&#39;t follow it through, but I think this is exactly what I need. Thank you"}],"tags":[],"owner":{"account_id":9797880,"reputation":55,"user_id":7260193,"display_name":"Levon Rush"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1626130221,"creation_date":1626130221,"answer_id":68354610,"question_id":67849830,"body_markdown":"I had the same problem as you but managed to get it going after finding this burried in some documetation.\r\n\r\n&gt; To use Java (specifically, package rJava) with a CRAN (‘x86_64’) binary distribution of R on ‘arm64’ macOS install a ‘x86_64’ build of a Java JRE such as that from AdoptOpenJDK, then run sudo R CMD javareconf. \r\n\r\n&gt; To see what compatible versions of Java are currently installed, run /usr/libexec/java_home -V -a x86_64. If needed, set the environment variable JAVA_HOME to choose between these, both when R is built from the sources and when R CMD javareconf is run.\r\n\r\n&gt; Configuring and building R both looks for a JRE and for support for compiling JNI programs (used to install packages rJava and JavaGD); the latter requires a JDK (Java SDK) and not just a JRE99.\r\n\r\nhttps://cran.r-project.org/doc/manuals/r-patched/R-admin.html","title":"How to install rJava package in Mac with M1 architecture","body":"<p>I had the same problem as you but managed to get it going after finding this burried in some documetation.</p>\n<blockquote>\n<p>To use Java (specifically, package rJava) with a CRAN (‘x86_64’) binary distribution of R on ‘arm64’ macOS install a ‘x86_64’ build of a Java JRE such as that from AdoptOpenJDK, then run sudo R CMD javareconf.</p>\n</blockquote>\n<blockquote>\n<p>To see what compatible versions of Java are currently installed, run /usr/libexec/java_home -V -a x86_64. If needed, set the environment variable JAVA_HOME to choose between these, both when R is built from the sources and when R CMD javareconf is run.</p>\n</blockquote>\n<blockquote>\n<p>Configuring and building R both looks for a JRE and for support for compiling JNI programs (used to install packages rJava and JavaGD); the latter requires a JDK (Java SDK) and not just a JRE99.</p>\n</blockquote>\n<p><a href=\"https://cran.r-project.org/doc/manuals/r-patched/R-admin.html\" rel=\"nofollow noreferrer\">https://cran.r-project.org/doc/manuals/r-patched/R-admin.html</a></p>\n"},{"comments":[{"owner":{"account_id":1780472,"reputation":7614,"user_id":1623354,"accept_rate":91,"display_name":"dayne"},"score":1,"creation_date":1651693230,"post_id":70382146,"comment_id":127426586,"body_markdown":"This REALLY helped. I had installed Java 11 through conda. Downgrading to Java 8, running `R CMD javareconf` and re-installing rJava worked for me!","body":"This REALLY helped. I had installed Java 11 through conda. Downgrading to Java 8, running <code>R CMD javareconf</code> and re-installing rJava worked for me!"}],"tags":[],"owner":{"account_id":3094993,"reputation":356,"user_id":2620381,"display_name":"Frederick Solt"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639671772,"creation_date":1639670702,"answer_id":70382146,"question_id":67849830,"body_markdown":"The way I got things working well enough to use the packages I needed (e.g., `tabulizer`--see [here](https://stackoverflow.com/a/70381999/2620381)) was by backing all the way down to Java 8. To get a matching arm64 build, this means [getting Java from Azul](https://www.azul.com/downloads/?version=java-8-lts&amp;package=jdk), since Oracle doesn&#39;t (yet?) put out one for that version.","title":"How to install rJava package in Mac with M1 architecture","body":"<p>The way I got things working well enough to use the packages I needed (e.g., <code>tabulizer</code>--see <a href=\"https://stackoverflow.com/a/70381999/2620381\">here</a>) was by backing all the way down to Java 8. To get a matching arm64 build, this means <a href=\"https://www.azul.com/downloads/?version=java-8-lts&amp;package=jdk\" rel=\"nofollow noreferrer\">getting Java from Azul</a>, since Oracle doesn't (yet?) put out one for that version.</p>\n"},{"tags":[],"owner":{"account_id":8839989,"reputation":1833,"user_id":6602746,"display_name":"Shinobi_Atobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689841734,"creation_date":1689841734,"answer_id":76728012,"question_id":67849830,"body_markdown":"This worked for me \r\n\r\n - Install the latest stable version of R from CRAN (tested on 4.3.1\r\n   (2023-06-16)) \r\n - Install a x86_64 build of Java (version 17 - it does\r\n   not seem to work with versions 8 or 11) with `brew tap\r\n   homebrew/cask-versions &amp;&amp; brew install --cask temurin17` \r\n - Add it to PATH with `export JAVA_HOME=$(/usr/libexec/java_home -v 17)` \r\n- run `sudo -E R CMD javareconf`\r\n\r\nThen open R and `install.packages(&#39;rJava&#39;)` should work","title":"How to install rJava package in Mac with M1 architecture","body":"<p>This worked for me</p>\n<ul>\n<li>Install the latest stable version of R from CRAN (tested on 4.3.1\n(2023-06-16))</li>\n<li>Install a x86_64 build of Java (version 17 - it does\nnot seem to work with versions 8 or 11) with <code>brew tap homebrew/cask-versions &amp;&amp; brew install --cask temurin17</code></li>\n<li>Add it to PATH with <code>export JAVA_HOME=$(/usr/libexec/java_home -v 17)</code></li>\n<li>run <code>sudo -E R CMD javareconf</code></li>\n</ul>\n<p>Then open R and <code>install.packages('rJava')</code> should work</p>\n"}],"owner":{"account_id":4066631,"reputation":2898,"user_id":7179299,"display_name":"LDT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4051,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1689841734,"creation_date":1622897768,"question_id":67849830,"body_markdown":"I have a terrible time installing the package in R while I am using a Mac with M1 architecture.\r\n\r\nHere are the steps I have followed so far\r\n\r\n1. install Java https://www.azul.com/downloads/?os=macos&amp;architecture=arm-64-bit&amp;package=jdk, using the version Zulu: 16.30.19\r\n\r\n2. `install.packages(&quot;rJava&quot;)` in R\r\n\r\n3. `R CMD javareconf` in terminal\r\n\r\n4. `dyn.load(&quot;/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib&quot;)` in R \r\n\r\n5. `library(rJava)` \r\n\r\n\r\nThis is my error\r\n\r\n``` \r\nError: package or namespace load failed for ‘rJava’:\r\n .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n  call: dyn.load(jvm, FALSE)\r\n  error: unable to load shared object &#39;/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib&#39;:\r\n  dlopen(/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib, 10): no suitable image found.  Did find:\r\n\t/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib: mach-o, but wrong architecture\r\n\t/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib: mach-o, but wrong architecture\r\n```\r\n\r\nAny help is be appreciated\r\n","title":"How to install rJava package in Mac with M1 architecture","body":"<p>I have a terrible time installing the package in R while I am using a Mac with M1 architecture.</p>\n<p>Here are the steps I have followed so far</p>\n<ol>\n<li><p>install Java <a href=\"https://www.azul.com/downloads/?os=macos&amp;architecture=arm-64-bit&amp;package=jdk\" rel=\"noreferrer\">https://www.azul.com/downloads/?os=macos&amp;architecture=arm-64-bit&amp;package=jdk</a>, using the version Zulu: 16.30.19</p>\n</li>\n<li><p><code>install.packages(&quot;rJava&quot;)</code> in R</p>\n</li>\n<li><p><code>R CMD javareconf</code> in terminal</p>\n</li>\n<li><p><code>dyn.load(&quot;/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib&quot;)</code> in R</p>\n</li>\n<li><p><code>library(rJava)</code></p>\n</li>\n</ol>\n<p>This is my error</p>\n<pre><code>Error: package or namespace load failed for ‘rJava’:\n .onLoad failed in loadNamespace() for 'rJava', details:\n  call: dyn.load(jvm, FALSE)\n  error: unable to load shared object '/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib':\n  dlopen(/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib, 10): no suitable image found.  Did find:\n    /Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib: mach-o, but wrong architecture\n    /Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home/lib/server/libjvm.dylib: mach-o, but wrong architecture\n</code></pre>\n<p>Any help is be appreciated</p>\n"},{"tags":["python","java","windows","batch-file","jython"],"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1689779447,"post_id":76722723,"comment_id":135262505,"body_markdown":"What&#39;s the specific exception you get from importing the second class? (Is it a vanilla ImportError, or anything more specialized?)","body":"What&#39;s the specific exception you get from importing the second class? (Is it a vanilla ImportError, or anything more specialized?)"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1689779477,"post_id":76722723,"comment_id":135262518,"body_markdown":"Does using `unzip -l vortex-3.10.30.jar | grep -E &#39;BatchImporter|WktFactory&#39;` show anything obvious that&#39;s different between the two?","body":"Does using <code>unzip -l vortex-3.10.30.jar | grep -E &#39;BatchImporter|WktFactory&#39;</code> show anything obvious that&#39;s different between the two?"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1689779543,"post_id":76722723,"comment_id":135262540,"body_markdown":"For that matter, what results does `unzip -l vortex-3.10.30.jar | grep geo` emit? I wouldn&#39;t be astonished if there were a separate jar for geographic extensions or such, but without seeing the library that&#39;s just speculation.","body":"For that matter, what results does <code>unzip -l vortex-3.10.30.jar | grep geo</code> emit? I wouldn&#39;t be astonished if there were a separate jar for geographic extensions or such, but without seeing the library that&#39;s just speculation."},{"owner":{"account_id":16945899,"reputation":1,"user_id":12256679,"display_name":"raf"},"score":0,"creation_date":1689779809,"post_id":76722723,"comment_id":135262600,"body_markdown":"It is as you call it a vanilla ImportError. I will check what happens after running unzip and will add to the question. Thanks for pointing this out.","body":"It is as you call it a vanilla ImportError. I will check what happens after running unzip and will add to the question. Thanks for pointing this out."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1689780308,"post_id":76722723,"comment_id":135262722,"body_markdown":"(err, 0.10.30, ignore my repeated typo above; reading the codebase to 0.10.30, it looks like it _did_ contain the WktFactory class at that time)","body":"(err, 0.10.30, ignore my repeated typo above; reading the codebase to 0.10.30, it looks like it <i>did</i> contain the WktFactory class at that time)"},{"owner":{"account_id":16945899,"reputation":1,"user_id":12256679,"display_name":"raf"},"score":0,"creation_date":1689931654,"post_id":76722723,"comment_id":135286000,"body_markdown":"Please see my modified question","body":"Please see my modified question"}],"owner":{"account_id":16945899,"reputation":1,"user_id":12256679,"display_name":"raf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689841578,"creation_date":1689779225,"question_id":76722723,"body_markdown":"I need to automate execution of a small programm written in Java.\r\nThe programm has an API that can be accessed through a Python script that I am calling from Jython-Standalone. My Python script needs to import two java classes (modules) but only one is recognized. \r\nFurtheremore, I am trying to automate execution of the script through a batch file.\r\n\r\n\r\nThe Python script resides outside the *.jar file in which the java classes are located, thus I am inserting the *.jar path with sys.path.insert.\r\nSo far the code looks like this:\r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    import sys\r\n    sys.path.insert(0, &#39;C:/Program Files/HEC/HEC-HMS/4.10/lib/vortex-0.10.30.jar&#39;)\r\n    from mil.army.usace.hec.vortex.io import BatchImporter\r\n    print(&#39;Imported BatchImporter&#39;)\r\n    from mil.army.usace.hec.vortex.geo import WktFactory\r\n\r\nThis results in:\r\n\r\n&gt; `Imported BatchImporter`\r\n\r\n&gt; `ImportError: No module named geo`\r\n\r\nWhat is weird is that the first import works properly but not the second one. \r\n\r\n`mil.army.usace.hec.vortex.io` and `mil.army.usace.hec.vortex.geo` is the directory structure containing the Java classes and I have checked and double checked and the classes are in did under this structure.\r\n\r\nI thought maybe there is some weird character on &quot;mil.army.usace.hec.vortex.geo&quot; so I have tried all sorts of capital and small letters combinations to no avail.\r\n\r\nI am not a programmer and have never had any experience with Java or Jython, so plase bare with me if I am not expressing the whole issue properly.\r\n\r\nIn case it is useful, here is the BAT file content I am using to call the met_data_import.py script.\r\n\r\n&lt;!-- language: lang-batch-file --&gt;\r\n\r\n    SET &quot;HMS_HOME=C:\\Program Files\\HEC\\HEC-HMS\\4.10&quot;\r\n    SET &quot;PATH=%HMS_HOME%\\bin;%HMS_HOME%\\bin\\gdal;%PATH%&quot;\r\n    SET &quot;PROJ_LIB=%HMS_HOME%\\bin\\gdal\\projlib&quot;\r\n    SET &quot;GDAL_DATA=%HMS_HOME%\\bin\\gdal\\gdal-data&quot;\r\n    SET &quot;CLASSPATH=%HMS_HOME%\\lib\\*&quot;\r\n    &quot;%HMS_HOME%\\jre\\bin\\java.exe&quot; -jar C:\\Users\\..\\..\\jython-standalone-2.7.3.jar C:\\Users\\..\\..\\..\\GRID_Importer\\met_data_import.py\r\n\r\n\r\n\r\nSome things to consider:\r\n- I would like to keep using jython-standalone if possible.\r\n- I cannot modify anything within the *.jar file.\r\n\r\nThanks for any help. I will be happy to improve the question if needed.\r\n\r\nFollowing @Charles Duffy advice I searched inside the jar file through the CMD (by the way I am in a Windows environment): `tar -tf vortex-0.10.30.jar | findstr geo` and for comparisson `...| findstr io` and here is what it spitted out:\r\n\r\n&gt; `mil/army/usace/hec/vortex/geo/`...\r\n\r\n&gt; `mil/army/usace/hec/vortex/geo/WktFactory.class`...\r\n\r\nand\r\n\r\n&gt; `mil/army/usace/hec/vortex/io/`...\r\n\r\n&gt; `mil/army/usace/hec/vortex/io/BatchImporter.class`...","title":"Importing Java Class from a Python (Jython) Script fails","body":"<p>I need to automate execution of a small programm written in Java.\nThe programm has an API that can be accessed through a Python script that I am calling from Jython-Standalone. My Python script needs to import two java classes (modules) but only one is recognized.\nFurtheremore, I am trying to automate execution of the script through a batch file.</p>\n<p>The Python script resides outside the *.jar file in which the java classes are located, thus I am inserting the *.jar path with sys.path.insert.\nSo far the code looks like this:</p>\n<pre class=\"lang-python prettyprint-override\"><code>import sys\nsys.path.insert(0, 'C:/Program Files/HEC/HEC-HMS/4.10/lib/vortex-0.10.30.jar')\nfrom mil.army.usace.hec.vortex.io import BatchImporter\nprint('Imported BatchImporter')\nfrom mil.army.usace.hec.vortex.geo import WktFactory\n</code></pre>\n<p>This results in:</p>\n<blockquote>\n<p><code>Imported BatchImporter</code></p>\n</blockquote>\n<blockquote>\n<p><code>ImportError: No module named geo</code></p>\n</blockquote>\n<p>What is weird is that the first import works properly but not the second one.</p>\n<p><code>mil.army.usace.hec.vortex.io</code> and <code>mil.army.usace.hec.vortex.geo</code> is the directory structure containing the Java classes and I have checked and double checked and the classes are in did under this structure.</p>\n<p>I thought maybe there is some weird character on &quot;mil.army.usace.hec.vortex.geo&quot; so I have tried all sorts of capital and small letters combinations to no avail.</p>\n<p>I am not a programmer and have never had any experience with Java or Jython, so plase bare with me if I am not expressing the whole issue properly.</p>\n<p>In case it is useful, here is the BAT file content I am using to call the met_data_import.py script.</p>\n<pre class=\"lang-batch-file prettyprint-override\"><code>SET &quot;HMS_HOME=C:\\Program Files\\HEC\\HEC-HMS\\4.10&quot;\nSET &quot;PATH=%HMS_HOME%\\bin;%HMS_HOME%\\bin\\gdal;%PATH%&quot;\nSET &quot;PROJ_LIB=%HMS_HOME%\\bin\\gdal\\projlib&quot;\nSET &quot;GDAL_DATA=%HMS_HOME%\\bin\\gdal\\gdal-data&quot;\nSET &quot;CLASSPATH=%HMS_HOME%\\lib\\*&quot;\n&quot;%HMS_HOME%\\jre\\bin\\java.exe&quot; -jar C:\\Users\\..\\..\\jython-standalone-2.7.3.jar C:\\Users\\..\\..\\..\\GRID_Importer\\met_data_import.py\n</code></pre>\n<p>Some things to consider:</p>\n<ul>\n<li>I would like to keep using jython-standalone if possible.</li>\n<li>I cannot modify anything within the *.jar file.</li>\n</ul>\n<p>Thanks for any help. I will be happy to improve the question if needed.</p>\n<p>Following @Charles Duffy advice I searched inside the jar file through the CMD (by the way I am in a Windows environment): <code>tar -tf vortex-0.10.30.jar | findstr geo</code> and for comparisson <code>...| findstr io</code> and here is what it spitted out:</p>\n<blockquote>\n<p><code>mil/army/usace/hec/vortex/geo/</code>...</p>\n</blockquote>\n<blockquote>\n<p><code>mil/army/usace/hec/vortex/geo/WktFactory.class</code>...</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p><code>mil/army/usace/hec/vortex/io/</code>...</p>\n</blockquote>\n<blockquote>\n<p><code>mil/army/usace/hec/vortex/io/BatchImporter.class</code>...</p>\n</blockquote>\n"},{"tags":["java","gradle","intellij-idea","javafx","launch4j"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689875387,"post_id":76727958,"comment_id":135278812,"body_markdown":"Note that &quot;shadowed&quot; JARs (also knows as &quot;fat&quot; or &quot;uber&quot; JARs) and modules do not mix. The JAR specification does not define any way to have multiple modules per JAR file. Also, when you &quot;double click&quot; on an executable JAR file it gets launched via the `-jar` switch, meaning everything is placed on the class-path. Now, I don&#39;t really know how Launch4J works, but the fact you&#39;re shadowing your JAR file makes me think all the code is being placed on the class-path. And in that context, if your main class extends `Application`, then you&#39;ll see the error you&#39;ll describe.","body":"Note that &quot;shadowed&quot; JARs (also knows as &quot;fat&quot; or &quot;uber&quot; JARs) and modules do not mix. The JAR specification does not define any way to have multiple modules per JAR file. Also, when you &quot;double click&quot; on an executable JAR file it gets launched via the <code>-jar</code> switch, meaning everything is placed on the class-path. Now, I don&#39;t really know how Launch4J works, but the fact you&#39;re shadowing your JAR file makes me think all the code is being placed on the class-path. And in that context, if your main class extends <code>Application</code>, then you&#39;ll see the error you&#39;ll describe."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689875472,"post_id":76727958,"comment_id":135278830,"body_markdown":"See if creating a separate main class, which only contains a main method that does nothing but call `Application.launch(QuoteMainApplication.class, args)`, fixes the error.","body":"See if creating a separate main class, which only contains a main method that does nothing but call <code>Application.launch(QuoteMainApplication.class, args)</code>, fixes the error."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689875671,"post_id":76727958,"comment_id":135278872,"body_markdown":"As an aside, those JVM arguments in the IDE should not be necessary given you&#39;re using Gradle. You also should not need to download the JavaFX SDK because you&#39;ve configured Gradle to download the JavaFX JARs from the Maven Central repository. If you aren&#39;t doing this already, your IDE should be delegating to Gradle for most, if not all, build tasks. You&#39;ve applied the `application` plugin, so when you want to run your project you should be having your IDE execute the Gradle `run` task.","body":"As an aside, those JVM arguments in the IDE should not be necessary given you&#39;re using Gradle. You also should not need to download the JavaFX SDK because you&#39;ve configured Gradle to download the JavaFX JARs from the Maven Central repository. If you aren&#39;t doing this already, your IDE should be delegating to Gradle for most, if not all, build tasks. You&#39;ve applied the <code>application</code> plugin, so when you want to run your project you should be having your IDE execute the Gradle <code>run</code> task."},{"owner":{"account_id":22599428,"reputation":11,"user_id":16781231,"display_name":"dcfrenci"},"score":0,"creation_date":1689886469,"post_id":76727958,"comment_id":135280807,"body_markdown":"@Slaw I tried adding a class as you have suggested but it didn&#39;t solve the problem. I&#39;m having issue to create a jar file that include all the library that I added. My aim is to create a .exe file (installer) that works in any computer and doesn&#39;t need any version of java installed in the system to work (like most of the program are installed). If you can give me some advice on how to do it would be very very helpful because I spent too much hours tring to find any clue on internet. Thanks again for your answer.","body":"@Slaw I tried adding a class as you have suggested but it didn&#39;t solve the problem. I&#39;m having issue to create a jar file that include all the library that I added. My aim is to create a .exe file (installer) that works in any computer and doesn&#39;t need any version of java installed in the system to work (like most of the program are installed). If you can give me some advice on how to do it would be very very helpful because I spent too much hours tring to find any clue on internet. Thanks again for your answer."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":1,"creation_date":1689923248,"post_id":76727958,"comment_id":135284484,"body_markdown":"&quot;... My aim is to create a .exe file (installer) ...&quot; The installer has nothing to do with the application. Its job is to copy and configure all the necessary components of your application on the respective target computer. Launch4J **does not create an installer** but a windows native launcher. Say what you really want to do, not how you decided to do it.","body":"&quot;... My aim is to create a .exe file (installer) ...&quot; The installer has nothing to do with the application. Its job is to copy and configure all the necessary components of your application on the respective target computer. Launch4J <b>does not create an installer</b> but a windows native launcher. Say what you really want to do, not how you decided to do it."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689923627,"post_id":76727958,"comment_id":135284554,"body_markdown":"You can use jpackage to create an installer.  It can be used from gradle via the badass-runtime-plugin, whose git site links to JavaFX specific examples.  Read the documentation for each if you would like to know how to use them.  It does not need launch4j or shadow jars or anything like that.","body":"You can use jpackage to create an installer.  It can be used from gradle via the badass-runtime-plugin, whose git site links to JavaFX specific examples.  Read the documentation for each if you would like to know how to use them.  It does not need launch4j or shadow jars or anything like that."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1689926769,"post_id":76727958,"comment_id":135285132,"body_markdown":"a bit offtopic, but launch4j creates a launcher that effectively replaces the one generated by jpackage (which still imposes quite a few restrictions that I personally don&#39;t like).","body":"a bit offtopic, but launch4j creates a launcher that effectively replaces the one generated by jpackage (which still imposes quite a few restrictions that I personally don&#39;t like)."}],"owner":{"account_id":22599428,"reputation":11,"user_id":16781231,"display_name":"dcfrenci"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689841344,"creation_date":1689841344,"question_id":76727958,"body_markdown":"I&#39;m a new programmer and I&#39;m trying to create .exe file of my project. The project works without any error or warning, I created a fat-jar of my whole project with shadowJar plugin and modifing the Run configuration I got it working fine through Intellij.\r\n\r\n```\r\n--module-path\r\n&quot;C:\\Program Files\\Java\\javafx-sdk-17.0.7\\lib&quot;\r\n--add-modules\r\njavafx.controls,javafx.fxml\r\n```\r\nTo create the .exe file I&#39;m using Lauch4j but after I created the executable I couldn&#39;t run the application and the error &quot;JavaFX runtime components are missing, and are required to run this application&quot; is produced.\r\n\r\n\r\nAny help will be very helpful. Thanks in advance.\r\nThis is my build.gradle file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.12&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.0&#39;\r\n}\r\n\r\ngroup &#39;com.preventivoApp&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\nmainClassName = &#39;com.appproject_preventivo.QuoteMainApplication&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.9.1&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\ntargetCompatibility = &#39;17&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.appproject_preventivo&#39;\r\n    mainClass = &#39;com.appproject_preventivo.QuoteMainApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;17.0.2&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;org.controlsfx:controlsfx:11.1.2&#39;)\r\n\r\n    implementation &#39;org.openjfx:javafx-fxml:20&#39;\r\n    implementation &#39;org.openjfx:javafx-controls:20&#39;\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n\r\n    implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: &#39;2.15.0&#39;\r\n    implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.15.0&#39;\r\n    implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.15.0&#39;\r\n\r\n    implementation group: &#39;org.apache.pdfbox&#39;, name: &#39;pdfbox&#39;, version: &#39;2.0.28&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\nshadowJar {\r\n    zip64 true\r\n    mergeServiceFiles()\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.appproject_preventivo.QuoteMainApplication&#39;\r\n    }\r\n}\r\n```\r\n","title":"Solve the error: JavaFX runtime components are missing, and are required to run this application","body":"<p>I'm a new programmer and I'm trying to create .exe file of my project. The project works without any error or warning, I created a fat-jar of my whole project with shadowJar plugin and modifing the Run configuration I got it working fine through Intellij.</p>\n<pre><code>--module-path\n&quot;C:\\Program Files\\Java\\javafx-sdk-17.0.7\\lib&quot;\n--add-modules\njavafx.controls,javafx.fxml\n</code></pre>\n<p>To create the .exe file I'm using Lauch4j but after I created the executable I couldn't run the application and the error &quot;JavaFX runtime components are missing, and are required to run this application&quot; is produced.</p>\n<p>Any help will be very helpful. Thanks in advance.\nThis is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.8.12'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'com.github.johnrengelman.shadow' version '7.1.0'\n}\n\ngroup 'com.preventivoApp'\nversion '1.0-SNAPSHOT'\nmainClassName = 'com.appproject_preventivo.QuoteMainApplication'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.1'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.appproject_preventivo'\n    mainClass = 'com.appproject_preventivo.QuoteMainApplication'\n}\n\njavafx {\n    version = '17.0.2'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation('org.controlsfx:controlsfx:11.1.2')\n\n    implementation 'org.openjfx:javafx-fxml:20'\n    implementation 'org.openjfx:javafx-controls:20'\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.15.0'\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.15.0'\n    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.15.0'\n\n    implementation group: 'org.apache.pdfbox', name: 'pdfbox', version: '2.0.28'\n}\n\ntest {\n    useJUnitPlatform()\n}\nshadowJar {\n    zip64 true\n    mergeServiceFiles()\n    manifest {\n        attributes 'Main-Class': 'com.appproject_preventivo.QuoteMainApplication'\n    }\n}\n</code></pre>\n"},{"tags":["java","android","opengl-es-3.0"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689808653,"post_id":76723053,"comment_id":135267671,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27439146,"reputation":3,"user_id":20934402,"display_name":"DragonDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689841245,"creation_date":1689781340,"question_id":76723053,"body_markdown":"I want to create a sphere with only normals, vertices, texture coords and without using indices. But on the Internet there are options only creation with indices. I just create a lib that helps to create 3d objects, and i don&#39;t use indices in this library.\r\nIf it&#39;s possible tell me how?","title":"How to create sphere without indices?","body":"<p>I want to create a sphere with only normals, vertices, texture coords and without using indices. But on the Internet there are options only creation with indices. I just create a lib that helps to create 3d objects, and i don't use indices in this library.\nIf it's possible tell me how?</p>\n"},{"tags":["java","json","spring-boot","recursion","jackson"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1689841291,"post_id":76723354,"comment_id":135271268,"body_markdown":"Hibernate manipulates the bytecode so that access to lazy-loaded fields are replaced with the code actually able to load the object from the database. Jackson uses reflection to access fields, so it cannot do that.","body":"Hibernate manipulates the bytecode so that access to lazy-loaded fields are replaced with the code actually able to load the object from the database. Jackson uses reflection to access fields, so it cannot do that."},{"owner":{"account_id":29050632,"reputation":1,"user_id":22253538,"display_name":"Mike Wallace"},"score":0,"creation_date":1689842521,"post_id":76723354,"comment_id":135271544,"body_markdown":"I&#39;m looking for something to force Jackson do not fully serialized the first instance, but all of them doing the first depth level of recursion","body":"I&#39;m looking for something to force Jackson do not fully serialized the first instance, but all of them doing the first depth level of recursion"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1689920525,"post_id":76723354,"comment_id":135284027,"body_markdown":"Yeah, well that&#39;s another problem","body":"Yeah, well that&#39;s another problem"}],"owner":{"account_id":29050632,"reputation":1,"user_id":22253538,"display_name":"Mike Wallace"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689840128,"creation_date":1689783610,"question_id":76723354,"body_markdown":"I have 2 tables that have a N-N relationship. I&#39;m using SpringBoot 2.3.9 with Hibernate\r\n\r\nI managed to map them uni-directionally because of the way I query the objects.\r\n\r\nObjectB has a column that refers to himself and the recursion de-serialization via jackson is done only to the first occurence.\r\n\r\n\r\nThese are the mapping:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TABLE_OBJECT_A&quot;)\r\npublic class ObjectA {\r\n\r\n    // mapping N-N\r\n    @JoinTable(name = &quot;OBJECTA_X_OBJECTB&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;A_ID&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;B_ID&quot;)\r\n    )\r\n    private Set&lt;ObjectB&gt; setObjectB = new HashSet&lt;ObjectB&gt;();\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TABLE_OBJECT_B&quot;)\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n// false - because I need the full object\r\n@JsonIdentityReference(alwaysAsId = false)\r\npublic class ObjectB {\r\n\r\n    // recursion\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;B_RECURSION_ID&quot;)\r\n    private ObjectB objectBRecursion;\r\n\r\n}\r\n```\r\n\r\n**findAll by JPA** json response:\r\n```\r\n\r\n[\r\n  {\r\n    &quot;version&quot;: &quot;2023-05-09T16:39:47.082+00:00&quot;,\r\n    &quot;id&quot;: 1619,\r\n    &quot;code&quot;: &quot;TRSU&quot;,\r\n    &quot;setObjectB&quot;: [\r\n      {\r\n        &quot;id&quot;: 31,\r\n        &quot;version&quot;: &quot;2018-07-18T08:12:14.000+00:00&quot;,\r\n        &quot;code&quot;: &quot;AMO&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: 100,\r\n        &quot;version&quot;: &quot;2023-04-18T10:00:45.786+00:00&quot;,\r\n        &quot;code&quot;: &quot;SMO&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;version&quot;: &quot;2023-05-09T16:33:25.404+00:00&quot;,\r\n    &quot;id&quot;: 1520,\r\n    &quot;codice&quot;: &quot;SD&quot;,\r\n    &quot;setObjectB&quot;: [\r\n      100\r\n    ]\r\n  },\r\n  {\r\n    &quot;version&quot;: &quot;2023-05-09T16:40:48.313+00:00&quot;,\r\n    &quot;id&quot;: 1620,\r\n    &quot;code&quot;: &quot;TRSE&quot;,\r\n    &quot;setObjectB&quot;: [\r\n      31,\r\n      100\r\n    ]\r\n  },\r\n  {\r\n    &quot;version&quot;: &quot;2022-09-26T08:00:04.127+00:00&quot;,\r\n    &quot;id&quot;: 1019,\r\n    &quot;code&quot;: &quot;test&quot;,\r\n    &quot;setObjectB&quot;: [\r\n      31\r\n    ]\r\n  },\r\n  {\r\n    &quot;version&quot;: &quot;2023-04-18T09:50:27.744+00:00&quot;,\r\n    &quot;id&quot;: 1519,\r\n    &quot;code&quot;: &quot;DI&quot;,\r\n    &quot;setObjectB&quot;: [\r\n      31\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\n\r\n\r\nAs you can see, only the **first occurence** of **setObjectB** property is fully deserialized.\r\n\r\nI need all of them.\r\n\r\n\r\n[JsonIdentityInfo][1]\r\n\r\nQuoting the documentation,\r\n\r\n&gt;  In practice this is done by serializing the first instance as full\r\n&gt; object and object identity, and other references to the object as\r\n&gt; reference values.\r\n\r\n\r\nIs there a way to get the full pojo of each entries?\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.1/com/fasterxml/jackson/annotation/JsonIdentityInfo.html","title":"Full deserialiazion of recursion property with Jackson JSON and Hibernate","body":"<p>I have 2 tables that have a N-N relationship. I'm using SpringBoot 2.3.9 with Hibernate</p>\n<p>I managed to map them uni-directionally because of the way I query the objects.</p>\n<p>ObjectB has a column that refers to himself and the recursion de-serialization via jackson is done only to the first occurence.</p>\n<p>These are the mapping:</p>\n<pre><code>@Entity\n@Table(name = &quot;TABLE_OBJECT_A&quot;)\npublic class ObjectA {\n\n    // mapping N-N\n    @JoinTable(name = &quot;OBJECTA_X_OBJECTB&quot;,\n            joinColumns = @JoinColumn(name = &quot;A_ID&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;B_ID&quot;)\n    )\n    private Set&lt;ObjectB&gt; setObjectB = new HashSet&lt;ObjectB&gt;();\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;TABLE_OBJECT_B&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n// false - because I need the full object\n@JsonIdentityReference(alwaysAsId = false)\npublic class ObjectB {\n\n    // recursion\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;B_RECURSION_ID&quot;)\n    private ObjectB objectBRecursion;\n\n}\n</code></pre>\n<p><strong>findAll by JPA</strong> json response:</p>\n<pre><code>\n[\n  {\n    &quot;version&quot;: &quot;2023-05-09T16:39:47.082+00:00&quot;,\n    &quot;id&quot;: 1619,\n    &quot;code&quot;: &quot;TRSU&quot;,\n    &quot;setObjectB&quot;: [\n      {\n        &quot;id&quot;: 31,\n        &quot;version&quot;: &quot;2018-07-18T08:12:14.000+00:00&quot;,\n        &quot;code&quot;: &quot;AMO&quot;\n      },\n      {\n        &quot;id&quot;: 100,\n        &quot;version&quot;: &quot;2023-04-18T10:00:45.786+00:00&quot;,\n        &quot;code&quot;: &quot;SMO&quot;\n      }\n    ]\n  },\n  {\n    &quot;version&quot;: &quot;2023-05-09T16:33:25.404+00:00&quot;,\n    &quot;id&quot;: 1520,\n    &quot;codice&quot;: &quot;SD&quot;,\n    &quot;setObjectB&quot;: [\n      100\n    ]\n  },\n  {\n    &quot;version&quot;: &quot;2023-05-09T16:40:48.313+00:00&quot;,\n    &quot;id&quot;: 1620,\n    &quot;code&quot;: &quot;TRSE&quot;,\n    &quot;setObjectB&quot;: [\n      31,\n      100\n    ]\n  },\n  {\n    &quot;version&quot;: &quot;2022-09-26T08:00:04.127+00:00&quot;,\n    &quot;id&quot;: 1019,\n    &quot;code&quot;: &quot;test&quot;,\n    &quot;setObjectB&quot;: [\n      31\n    ]\n  },\n  {\n    &quot;version&quot;: &quot;2023-04-18T09:50:27.744+00:00&quot;,\n    &quot;id&quot;: 1519,\n    &quot;code&quot;: &quot;DI&quot;,\n    &quot;setObjectB&quot;: [\n      31\n    ]\n  }\n]\n</code></pre>\n<p>As you can see, only the <strong>first occurence</strong> of <strong>setObjectB</strong> property is fully deserialized.</p>\n<p>I need all of them.</p>\n<p><a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.1/com/fasterxml/jackson/annotation/JsonIdentityInfo.html\" rel=\"nofollow noreferrer\">JsonIdentityInfo</a></p>\n<p>Quoting the documentation,</p>\n<blockquote>\n<p>In practice this is done by serializing the first instance as full\nobject and object identity, and other references to the object as\nreference values.</p>\n</blockquote>\n<p>Is there a way to get the full pojo of each entries?</p>\n"},{"tags":["java","android","kotlin","blur","sticker"],"owner":{"account_id":28989159,"reputation":21,"user_id":22205349,"display_name":"Adnan Aslam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689839803,"creation_date":1689839803,"question_id":76727782,"body_markdown":"I&#39;m trying to create a blur effect in such a way that when a shape (square, rectangle, circle) is selected. The shape is applied as a sticker on the image showing in the ImageView and the image got blurred but the inside of the shape should show the original image and not the blur image. Also the shape should be free to move, resize and rotate.\r\n\r\nhttps://github.com/adnaanaeem/MultiShapeBlurView\r\nI have tried this library but it only apply few shapes also they are static and not freely moving or resizing.","title":"Blur and sticker view together in Android","body":"<p>I'm trying to create a blur effect in such a way that when a shape (square, rectangle, circle) is selected. The shape is applied as a sticker on the image showing in the ImageView and the image got blurred but the inside of the shape should show the original image and not the blur image. Also the shape should be free to move, resize and rotate.</p>\n<p><a href=\"https://github.com/adnaanaeem/MultiShapeBlurView\" rel=\"nofollow noreferrer\">https://github.com/adnaanaeem/MultiShapeBlurView</a>\nI have tried this library but it only apply few shapes also they are static and not freely moving or resizing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1119638,"reputation":1133,"user_id":1108263,"accept_rate":91,"display_name":"Brian Snow"},"score":3,"creation_date":1465688573,"post_id":37769428,"comment_id":63007412,"body_markdown":"Linked list access is (sequential, so) O(n); array access is (random, so) O(1).  There&#39;s a lot of good information in this article: https://en.wikipedia.org/wiki/Linked_list","body":"Linked list access is (sequential, so) O(n); array access is (random, so) O(1).  There&#39;s a lot of good information in this article: <a href=\"https://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Linked_list</a>"},{"owner":{"account_id":8542847,"reputation":33,"user_id":6402302,"display_name":"mzeeirka"},"score":0,"creation_date":1465689440,"post_id":37769428,"comment_id":63007550,"body_markdown":"Thank you @BrianSnow. I am still not understanding why a linked list is not indexable. From what I&#39;ve gathered, does a linked list not hold a reference to all the items it holds - only the head and/or tail? Thus not allowing access by index?","body":"Thank you @BrianSnow. I am still not understanding why a linked list is not indexable. From what I&#39;ve gathered, does a linked list not hold a reference to all the items it holds - only the head and/or tail? Thus not allowing access by index?"},{"owner":{"account_id":1119638,"reputation":1133,"user_id":1108263,"accept_rate":91,"display_name":"Brian Snow"},"score":0,"creation_date":1465690143,"post_id":37769428,"comment_id":63007668,"body_markdown":"Let&#39;s say you have a linked list named L.  Potentially, the only operation exposed on L will be `head()`, which returns the head of the list: `Node&lt;T&gt; head = L.head()`.  The head of the list is simply a node, which also only exposes one operation, called `next()`, which returns the next node in the list.  You can now iterate through the list by doing `Node&lt;T&gt; node = head.next()` until you hit the end of the list and `node.next() == null`.  So you are correct: a linked list does not keep direct references to all of its elements -- it only keeps a reference to its head.","body":"Let&#39;s say you have a linked list named L.  Potentially, the only operation exposed on L will be <code>head()</code>, which returns the head of the list: <code>Node&lt;T&gt; head = L.head()</code>.  The head of the list is simply a node, which also only exposes one operation, called <code>next()</code>, which returns the next node in the list.  You can now iterate through the list by doing <code>Node&lt;T&gt; node = head.next()</code> until you hit the end of the list and <code>node.next() == null</code>.  So you are correct: a linked list does not keep direct references to all of its elements -- it only keeps a reference to its head."}],"answers":[{"comments":[{"owner":{"account_id":3038735,"reputation":1072,"user_id":2576252,"accept_rate":73,"display_name":"AHF"},"score":0,"creation_date":1569266522,"post_id":37769585,"comment_id":102533547,"body_markdown":"Again, my question is, can we use the index with linked lists?","body":"Again, my question is, can we use the index with linked lists?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1569298611,"post_id":37769585,"comment_id":102541129,"body_markdown":"Nothing stopping you from doing that.  Apart from the fact that it will be *slow*.   Besides, I already answered that: *&quot;LinkedList is indexable in the sense that there is a get(int) operation that works.&quot;*","body":"Nothing stopping you from doing that.  Apart from the fact that it will be <i>slow</i>.   Besides, I already answered that: <i>&quot;LinkedList is indexable in the sense that there is a get(int) operation that works.&quot;</i>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1465693379,"creation_date":1465690092,"answer_id":37769585,"question_id":37769428,"body_markdown":"&gt; Why is accessing an item by index slower in a linked list than an array?\r\n\r\nA linked list has a chain of entries.  If you want to get (say) the element at position `42`, the code has to:\r\n\r\n  - get the entry for the first element (position `0`)\r\n  - follow the `next` link to the entry for position `1`\r\n  - follow the `next` link to the entry for position `2`\r\n\r\nand so on .... 42 times in total.\r\n\r\nThere is no short cut.\r\n\r\n&gt; I am still not understanding why a linked list is not indexable ....\r\n\r\nNow a `LinkedList` is indexable in the sense that there is a `get(int)` operation *that works*.  It is just that indexing a `LinkedList` is *inefficient*.  In general, it takes `O(N)` steps to perform a `get(i)` in a linked list of length `N`.  By contrast with an array, or an `ArrayList`, you can retrieve any element of the data structure in one step.  We say that the complexity is `O(1)`.\r\n\r\nContrast this with `Set` objects in general, and `HashSet` in particular.  The `HashSet` class is NOT indexable because there is no `get(int)` method to retrieve the set element at position `i`.  Indeed, even the notion of &quot;position i&quot; in a set is meaningless.  The ordering of the elements in a `Set` is unspecified and (for some `Set` implementations, like `HashSet`) it may be effectively indeterminate.\r\n ","title":"Why is accessing an item by index slower in a linked list than an array?","body":"<blockquote>\n  <p>Why is accessing an item by index slower in a linked list than an array?</p>\n</blockquote>\n\n<p>A linked list has a chain of entries.  If you want to get (say) the element at position <code>42</code>, the code has to:</p>\n\n<ul>\n<li>get the entry for the first element (position <code>0</code>)</li>\n<li>follow the <code>next</code> link to the entry for position <code>1</code></li>\n<li>follow the <code>next</code> link to the entry for position <code>2</code></li>\n</ul>\n\n<p>and so on .... 42 times in total.</p>\n\n<p>There is no short cut.</p>\n\n<blockquote>\n  <p>I am still not understanding why a linked list is not indexable ....</p>\n</blockquote>\n\n<p>Now a <code>LinkedList</code> is indexable in the sense that there is a <code>get(int)</code> operation <em>that works</em>.  It is just that indexing a <code>LinkedList</code> is <em>inefficient</em>.  In general, it takes <code>O(N)</code> steps to perform a <code>get(i)</code> in a linked list of length <code>N</code>.  By contrast with an array, or an <code>ArrayList</code>, you can retrieve any element of the data structure in one step.  We say that the complexity is <code>O(1)</code>.</p>\n\n<p>Contrast this with <code>Set</code> objects in general, and <code>HashSet</code> in particular.  The <code>HashSet</code> class is NOT indexable because there is no <code>get(int)</code> method to retrieve the set element at position <code>i</code>.  Indeed, even the notion of \"position i\" in a set is meaningless.  The ordering of the elements in a <code>Set</code> is unspecified and (for some <code>Set</code> implementations, like <code>HashSet</code>) it may be effectively indeterminate.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1465691538,"post_id":37769665,"comment_id":63007873,"body_markdown":"The 2-D linked list implementation that @paxdiablo presented is `O(N^0.5)`.  It is interesting, but of limited *practical* use ... as a general list structure in Java.  Considering that `ArrayList` is `O(1)` and that it uses *less* space than any general purpose linked list.","body":"The 2-D linked list implementation that @paxdiablo presented is <code>O(N^0.5)</code>.  It is interesting, but of limited <i>practical</i> use ... as a general list structure in Java.  Considering that <code>ArrayList</code> is <code>O(1)</code> and that it uses <i>less</i> space than any general purpose linked list."}],"tags":[],"owner":{"account_id":8584600,"reputation":801,"user_id":6431178,"accept_rate":50,"display_name":"Marco A. Hernandez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465691130,"creation_date":1465691130,"answer_id":37769665,"question_id":37769428,"body_markdown":"With a  linked list you can add and remove elements at any time so index it has no sense. Imagine that you create an index that points at the third element of the list. After that, you insert a new element at the beginning of the list. What value should return the index?\r\n\r\nHowever it could be possible for example create an index at the middle of the list and use it only if you add o remove elements in the last half of the list.\r\n\r\n@paxdiablo explains it very well here https://stackoverflow.com/questions/1712952/is-there-a-known-implementation-of-an-indexed-linked-list","title":"Why is accessing an item by index slower in a linked list than an array?","body":"<p>With a  linked list you can add and remove elements at any time so index it has no sense. Imagine that you create an index that points at the third element of the list. After that, you insert a new element at the beginning of the list. What value should return the index?</p>\n\n<p>However it could be possible for example create an index at the middle of the list and use it only if you add o remove elements in the last half of the list.</p>\n\n<p>@paxdiablo explains it very well here <a href=\"https://stackoverflow.com/questions/1712952/is-there-a-known-implementation-of-an-indexed-linked-list\">Is there a known implementation of an indexed linked list?</a></p>\n"},{"tags":[],"owner":{"account_id":6947703,"reputation":86,"user_id":5984177,"display_name":"v_haruty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465691157,"creation_date":1465691157,"answer_id":37769667,"question_id":37769428,"body_markdown":"Some Linked list implementations provide a way to access to it&#39;s elements using index, but the fact is that if you want to get 10th element in linked list your compiler still has to go through all the sequence from 0 to 9 because the elements may be spread over the memory. On the other hand when you ask for 10th element in an array using index, compiler computes the exact position of 10th element and jumps directly to that element. Array and list have different purposes; if your algorithm requires go back and forward over your data structure, then it is much efficient to use array. If you need mostly add/remove operations, then it is efficient to use list","title":"Why is accessing an item by index slower in a linked list than an array?","body":"<p>Some Linked list implementations provide a way to access to it's elements using index, but the fact is that if you want to get 10th element in linked list your compiler still has to go through all the sequence from 0 to 9 because the elements may be spread over the memory. On the other hand when you ask for 10th element in an array using index, compiler computes the exact position of 10th element and jumps directly to that element. Array and list have different purposes; if your algorithm requires go back and forward over your data structure, then it is much efficient to use array. If you need mostly add/remove operations, then it is efficient to use list</p>\n"},{"tags":[],"owner":{"account_id":10336347,"reputation":1,"user_id":7624330,"display_name":"Gaurav Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689839566,"creation_date":1689839566,"answer_id":76727751,"question_id":37769428,"body_markdown":"The difference lies in memory allocation. The ArrayList will have a contiguous block of memory. So accessing elements will happen in constant time. Since knowing memory location of one element, address of nth element can be calculated(n*size of data type). So no need to transverse through all elements. But that is not case of LinkedList, there is no contiguous block. Only way to reach nth element is through transversing through elements.","title":"Why is accessing an item by index slower in a linked list than an array?","body":"<p>The difference lies in memory allocation. The ArrayList will have a contiguous block of memory. So accessing elements will happen in constant time. Since knowing memory location of one element, address of nth element can be calculated(n*size of data type). So no need to transverse through all elements. But that is not case of LinkedList, there is no contiguous block. Only way to reach nth element is through transversing through elements.</p>\n"}],"owner":{"account_id":8542847,"reputation":33,"user_id":6402302,"display_name":"mzeeirka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1904,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37769585,"answer_count":4,"score":2,"last_activity_date":1689839566,"creation_date":1465688224,"question_id":37769428,"body_markdown":"I think I am missing a very obvious point but could not find it in my Java textbook.\r\n\r\nI understand that node storage does not necessarily have to be contiguous in memory for linked list. Does this also mean that a linked list is not indexable? If so, then the only way to find an item in a linked list is to traverse the list, right, whereas you can `get` from an array by index?","title":"Why is accessing an item by index slower in a linked list than an array?","body":"<p>I think I am missing a very obvious point but could not find it in my Java textbook.</p>\n\n<p>I understand that node storage does not necessarily have to be contiguous in memory for linked list. Does this also mean that a linked list is not indexable? If so, then the only way to find an item in a linked list is to traverse the list, right, whereas you can <code>get</code> from an array by index?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689840853,"post_id":76727748,"comment_id":135271172,"body_markdown":"Try running the main class directly instead of starting with Maven. I&#39;m not familiar with Netbeans, but in IntelliJ you would select a different type of run target (Java instead of Gradle/Maven)","body":"Try running the main class directly instead of starting with Maven. I&#39;m not familiar with Netbeans, but in IntelliJ you would select a different type of run target (Java instead of Gradle/Maven)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689855863,"post_id":76727748,"comment_id":135274236,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1689893980,"post_id":76727748,"comment_id":135281650,"body_markdown":"Does this answer your question? [Is it possible to delete/hide extra lines in NetBeans IDE output screen? If possible then how?](https://stackoverflow.com/questions/61167631/is-it-possible-to-delete-hide-extra-lines-in-netbeans-ide-output-screen-if-poss)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61167631/is-it-possible-to-delete-hide-extra-lines-in-netbeans-ide-output-screen-if-poss\">Is it possible to delete/hide extra lines in NetBeans IDE output screen? If possible then how?</a>"}],"owner":{"account_id":27532443,"reputation":1,"user_id":21010718,"display_name":"Sadman Sakib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689839553,"creation_date":1689839553,"question_id":76727748,"body_markdown":"I code in maven java in netbeans 18 and my netbeans18 IDE shows output like image1 but i want to see outputs like image 2 so what should I do now?\r\n\r\n[1st imnage](https://i.stack.imgur.com/m7yY2.png)[2nd image](https://i.stack.imgur.com/oNsia.png)\r\n\r\nI tried many times but not working I want a clear solution.i also tried in pluging,tools,windows but not worked.\r\n\r\n","title":"Netbeans 18 output","body":"<p>I code in maven java in netbeans 18 and my netbeans18 IDE shows output like image1 but i want to see outputs like image 2 so what should I do now?</p>\n<p><a href=\"https://i.stack.imgur.com/m7yY2.png\" rel=\"nofollow noreferrer\">1st imnage</a><a href=\"https://i.stack.imgur.com/oNsia.png\" rel=\"nofollow noreferrer\">2nd image</a></p>\n<p>I tried many times but not working I want a clear solution.i also tried in pluging,tools,windows but not worked.</p>\n"},{"tags":["java","intellij-idea","code-generation","dao"],"answers":[{"comments":[{"owner":{"account_id":7343977,"reputation":147,"user_id":5592370,"accept_rate":62,"display_name":"Tom&#225;š Zajda"},"score":0,"creation_date":1511191856,"post_id":47390344,"comment_id":81744096,"body_markdown":"Thanks for an alternative! But do you really know that IntelliJ can&#39;t do this by itself?","body":"Thanks for an alternative! But do you really know that IntelliJ can&#39;t do this by itself?"},{"owner":{"account_id":7326204,"reputation":917,"user_id":5580531,"accept_rate":100,"display_name":"Imad El Hitti"},"score":1,"creation_date":1511256016,"post_id":47390344,"comment_id":81771971,"body_markdown":"As far as I know IntelliJ is not used for code generation. It can&#39;t generate a rest architecture. You might have plugins for intelliJ that can do the job, but you will be using an alternative.","body":"As far as I know IntelliJ is not used for code generation. It can&#39;t generate a rest architecture. You might have plugins for intelliJ that can do the job, but you will be using an alternative."}],"tags":[],"owner":{"account_id":7326204,"reputation":917,"user_id":5580531,"accept_rate":100,"display_name":"Imad El Hitti"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689839475,"creation_date":1511175314,"answer_id":47390344,"question_id":47375809,"body_markdown":"You can use [Telosys][1] to generate a full rest backend (Controller, service and DAO layers) based on your database schema.\r\n\r\nThe advantage of using Telosys is that it provides a wide range of templates for most known languages and frameworks, and with few clicks you will have your full application ready.\r\n\r\nHere is the wiki of how to use the command line interface: [Telosys-CLI][2]\r\n\r\nIn your case (Java), you can use this template to generate the rest controller layer:\r\n\r\n - [Java web mvc spring][3]\r\n - [Java web rest jaxrs][4]\r\n\r\nYou will need then the commons service layer:\r\n\r\n - [Java commons][5]\r\n - [Java persistence commons][6]\r\n\r\nAnd for your DAO layer you will be able to choose between:\r\n\r\n - [Java persistence JDBC][7]\r\n - [Java persistence JPA][8]\r\n\r\nOf course, those are templates based on Java language, but Python and Node.JS are available as well.\r\n\r\n\r\n  [1]: http://telosys.org/\r\n  [2]: https://github.com/telosys-tools-bricks/telosys-cli/wiki\r\n  [3]: https://github.com/telosys-templates-v3/java-web-mvc-spring-T300-OLD\r\n  [4]: https://github.com/telosys-templates-v3/java-web-rest-jaxrs1-T300\r\n  [5]: https://github.com/telosys-templates-v3/java-commons-T300\r\n  [6]: https://github.com/telosys-templates-v3/java-persistence-commons-T300\r\n  [7]: https://github.com/telosys-templates-v3/java-persistence-jdbc-T300\r\n  [8]: https://github.com/telosys-templates-v3/java-persistence-jpa-T300","title":"Can IntelliJ generate DAO or Rest layer?","body":"<p>You can use <a href=\"http://telosys.org/\" rel=\"nofollow noreferrer\">Telosys</a> to generate a full rest backend (Controller, service and DAO layers) based on your database schema.</p>\n<p>The advantage of using Telosys is that it provides a wide range of templates for most known languages and frameworks, and with few clicks you will have your full application ready.</p>\n<p>Here is the wiki of how to use the command line interface: <a href=\"https://github.com/telosys-tools-bricks/telosys-cli/wiki\" rel=\"nofollow noreferrer\">Telosys-CLI</a></p>\n<p>In your case (Java), you can use this template to generate the rest controller layer:</p>\n<ul>\n<li><a href=\"https://github.com/telosys-templates-v3/java-web-mvc-spring-T300-OLD\" rel=\"nofollow noreferrer\">Java web mvc spring</a></li>\n<li><a href=\"https://github.com/telosys-templates-v3/java-web-rest-jaxrs1-T300\" rel=\"nofollow noreferrer\">Java web rest jaxrs</a></li>\n</ul>\n<p>You will need then the commons service layer:</p>\n<ul>\n<li><a href=\"https://github.com/telosys-templates-v3/java-commons-T300\" rel=\"nofollow noreferrer\">Java commons</a></li>\n<li><a href=\"https://github.com/telosys-templates-v3/java-persistence-commons-T300\" rel=\"nofollow noreferrer\">Java persistence commons</a></li>\n</ul>\n<p>And for your DAO layer you will be able to choose between:</p>\n<ul>\n<li><a href=\"https://github.com/telosys-templates-v3/java-persistence-jdbc-T300\" rel=\"nofollow noreferrer\">Java persistence JDBC</a></li>\n<li><a href=\"https://github.com/telosys-templates-v3/java-persistence-jpa-T300\" rel=\"nofollow noreferrer\">Java persistence JPA</a></li>\n</ul>\n<p>Of course, those are templates based on Java language, but Python and Node.JS are available as well.</p>\n"}],"owner":{"account_id":7343977,"reputation":147,"user_id":5592370,"accept_rate":62,"display_name":"Tom&#225;š Zajda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47390344,"answer_count":1,"score":4,"last_activity_date":1689839475,"creation_date":1511087144,"question_id":47375809,"body_markdown":"I know that I can generate code based on my database schema using Hibernate, but that only creates models. Is there a way to generate base for DAO layer or Rest controllers? Most forum questions about this topic are years old and I couldn&#39;t find anything on IntelliJ web.\r\n\r\nThanks in advance!","title":"Can IntelliJ generate DAO or Rest layer?","body":"<p>I know that I can generate code based on my database schema using Hibernate, but that only creates models. Is there a way to generate base for DAO layer or Rest controllers? Most forum questions about this topic are years old and I couldn't find anything on IntelliJ web.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","microservices","resttemplate","spring-resttemplate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689859577,"post_id":76727336,"comment_id":135275175,"body_markdown":"What do you see in your microservice&#39;s logs?","body":"What do you see in your microservice&#39;s logs?"}],"answers":[{"tags":[],"owner":{"account_id":2241006,"reputation":183,"user_id":1975267,"display_name":"KingQQ"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689837108,"creation_date":1689837108,"answer_id":76727476,"question_id":76727336,"body_markdown":"There should have something wrong in the server side, and may be the client post some invalid headers or some invalid post body will cause server exceptions.","title":"My spring boot is of Microservice architecture. Getting 500 Internal Server between microservice calls using rest template","body":"<p>There should have something wrong in the server side, and may be the client post some invalid headers or some invalid post body will cause server exceptions.</p>\n"},{"tags":[],"owner":{"account_id":7582042,"reputation":11,"user_id":5752454,"display_name":"Deepa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689839097,"creation_date":1689839097,"answer_id":76727694,"question_id":76727336,"body_markdown":"If you&#39;re getting Service Unavailable error and facing this error intermittently, then might be your Service B status is not UP continuously, due to some continuous deployment or so.\r\n\r\nPlease mention more details.","title":"My spring boot is of Microservice architecture. Getting 500 Internal Server between microservice calls using rest template","body":"<p>If you're getting Service Unavailable error and facing this error intermittently, then might be your Service B status is not UP continuously, due to some continuous deployment or so.</p>\n<p>Please mention more details.</p>\n"}],"owner":{"account_id":28984797,"reputation":1,"user_id":22201828,"display_name":"Balaji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689839097,"creation_date":1689835868,"question_id":76727336,"body_markdown":"My spring boot is of Microservice architecture. Getting 500 Internal Server error logged in calling microservice.\r\n\r\nService A calls Service B with POST request. And Service B processed the request successfully and got 200 status code in Service B logs.\r\nBut Service A returned 500 Internal Server error with Service Unavailable error. Facing this error, few times intermittently\r\n\r\n```\r\n**Calling Service Logs:**\r\n\r\n`DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.client.HttpServerErrorException$InternalServerError: **500 Internal Server Error**: [&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;\r\n&lt;title&gt;**Service Unavailable**&lt;/... (511 bytes)]]\r\n2023-07-14 14:08:02.943 [http-nio-61010-exec-239] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 **INTERNAL_SERVER_ERROR**`\r\n\r\n**Called Microservice Status:**\r\nCompleted 200 OK\r\n\r\nRest template is used to call between Microservices\r\n\r\n@Bean\r\npublic RestTemplate getRestTemplate(RestTemplateBuilder builder) {\r\n  return builder.build();\r\n}\r\n\r\n```\r\n\r\nPlease help to resolve this issue\r\n\r\nExpecting microservice calls to be return 200 status code if processed successfully\r\n\r\n","title":"My spring boot is of Microservice architecture. Getting 500 Internal Server between microservice calls using rest template","body":"<p>My spring boot is of Microservice architecture. Getting 500 Internal Server error logged in calling microservice.</p>\n<p>Service A calls Service B with POST request. And Service B processed the request successfully and got 200 status code in Service B logs.\nBut Service A returned 500 Internal Server error with Service Unavailable error. Facing this error, few times intermittently</p>\n<pre><code>**Calling Service Logs:**\n\n`DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.client.HttpServerErrorException$InternalServerError: **500 Internal Server Error**: [&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;\n&lt;title&gt;**Service Unavailable**&lt;/... (511 bytes)]]\n2023-07-14 14:08:02.943 [http-nio-61010-exec-239] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 **INTERNAL_SERVER_ERROR**`\n\n**Called Microservice Status:**\nCompleted 200 OK\n\nRest template is used to call between Microservices\n\n@Bean\npublic RestTemplate getRestTemplate(RestTemplateBuilder builder) {\n  return builder.build();\n}\n\n</code></pre>\n<p>Please help to resolve this issue</p>\n<p>Expecting microservice calls to be return 200 status code if processed successfully</p>\n"},{"tags":["java","database","spring-boot","amazon-dynamodb","dynamodb-mapper"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689839001,"creation_date":1689839001,"answer_id":76727681,"question_id":76726207,"body_markdown":"&gt; I have made sure that PartitionKey is of type string and sort key is not selected when dynamoDB was first created and I do not have access to either create or modify the table\r\n\r\nMy understanding is that you&#39;re trying to include a sort key in your data model using annotation `@DynamoDBRangeKey` however your actual table was not creates with a sort key and you have no permission to alter/create a new table. Feel free to correct me if I misunderstood.\r\n\r\nYou&#39;re seeing a validation exception as you cannot just add a sort key to your data model of your actual table has not defined one. You need to re-create your table should you wish to include a sort key in your data model. \r\n\r\n&gt; Unable to unmarshall exception response with the unmarshallers provided\r\n\r\nhttps://repost.aws/articles/ARPPEPfTPLTlGLHIsVVyyyYQ/troubleshooting-unable-to-unmarshall-exception-response-with-the-unmarshallers-provided-in-java\r\n","title":"Getting ValidationException when saving DynamoDB entity using Spring Boot","body":"<blockquote>\n<p>I have made sure that PartitionKey is of type string and sort key is not selected when dynamoDB was first created and I do not have access to either create or modify the table</p>\n</blockquote>\n<p>My understanding is that you're trying to include a sort key in your data model using annotation <code>@DynamoDBRangeKey</code> however your actual table was not creates with a sort key and you have no permission to alter/create a new table. Feel free to correct me if I misunderstood.</p>\n<p>You're seeing a validation exception as you cannot just add a sort key to your data model of your actual table has not defined one. You need to re-create your table should you wish to include a sort key in your data model.</p>\n<blockquote>\n<p>Unable to unmarshall exception response with the unmarshallers provided</p>\n</blockquote>\n<p><a href=\"https://repost.aws/articles/ARPPEPfTPLTlGLHIsVVyyyYQ/troubleshooting-unable-to-unmarshall-exception-response-with-the-unmarshallers-provided-in-java\" rel=\"nofollow noreferrer\">https://repost.aws/articles/ARPPEPfTPLTlGLHIsVVyyyYQ/troubleshooting-unable-to-unmarshall-exception-response-with-the-unmarshallers-provided-in-java</a></p>\n"}],"owner":{"account_id":10373986,"reputation":13,"user_id":7650766,"display_name":"kp9821"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689839001,"creation_date":1689818442,"question_id":76726207,"body_markdown":"I am working with SpringBoot application that does CRUD operation on aws dynamoDB, and I have entity class that has structure of the following\r\n\r\n```\r\n// getter, setter, args, no args annotation here\r\n@DynamoDBTable(tableName = &quot;TableName&quot;)\r\npublic class Entity {\r\n\r\n    @DynamoDBHashKey(attributeName = &quot;PartitionKey&quot;)\r\n    private String key; \r\n\r\n    @DynamoDBRangeKey(attributeName = &quot;SortKey&quot;)\r\n    private String tempSortKey; \r\n\r\n    @DynamoDBAttribute(attributeName = &quot;Value&quot;)\r\n    private String tempValue;\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;TerminationDate&quot;)\r\n    private Date tempTerminationDate;\r\n \r\n    // bunch of other variables and attributes\r\n\r\n\r\n// Repository\r\n\r\npublic Entity savEntity(Entity entity) {\r\n    dynamoDBMapper.save(entity);\r\n    return entity;\r\n}\r\n\r\n// Controller\r\n//Controller Class\r\n@PostMapping(value=&quot;URL&quot;)\r\n    public Entity saveItem(@RequestBody Entity key) {\r\n    return Repository.saveKeyValue(key);\r\n\r\n```\r\nI get an error and the error message is: &quot;Unable to unmarshall exception response with the unmarshallers provided (Service: AmazonDynamoDBvZ; Status Code: 400; Error Code: ValidationException&quot;.\r\n\r\n\r\nI have made sure that PartitionKey is of type string and sort key is not selected when dynamoDB was first created and I do not have access to either create or modify the table. Other thing I tried was to change the entity class like so\r\n\r\n```\r\n// getter, setter, args, no args annotation here\r\n@DynamoDBTable(tableName = &quot;TableName&quot;)\r\npublic class Entity {\r\n\r\n    @DynamoDBHashKey(attributeName = &quot;PartitionKey&quot;)\r\n    @DynamoDBAUtogeneratedKey\r\n    private String uniquekey; \r\n\r\n    @DynamoDBAttribute(attributeName=&quot;key&quot;)\r\n    private String key;\r\n\r\n    @DynamoDBRangeKey(attributeName = &quot;SortKey&quot;)\r\n    private String tempSortKey; \r\n\r\n    @DynamoDBAttribute(attributeName = &quot;Value&quot;)\r\n    private String tempValue;\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;TerminationDate&quot;)\r\n    private Date tempTerminationDate;\r\n \r\n    // bunch of other variables and attributes\r\n```\r\nThis works fine but I do not want Autogenerated unique key. I also need Sort key within Table as key might have similar values but sort key will always have unique value. \r\n\r\nI also tried having key on two different variable one as HashKey and one as Attribute and that works fine.\r\n\r\nThanks","title":"Getting ValidationException when saving DynamoDB entity using Spring Boot","body":"<p>I am working with SpringBoot application that does CRUD operation on aws dynamoDB, and I have entity class that has structure of the following</p>\n<pre><code>// getter, setter, args, no args annotation here\n@DynamoDBTable(tableName = &quot;TableName&quot;)\npublic class Entity {\n\n    @DynamoDBHashKey(attributeName = &quot;PartitionKey&quot;)\n    private String key; \n\n    @DynamoDBRangeKey(attributeName = &quot;SortKey&quot;)\n    private String tempSortKey; \n\n    @DynamoDBAttribute(attributeName = &quot;Value&quot;)\n    private String tempValue;\n\n    @DynamoDBAttribute(attributeName = &quot;TerminationDate&quot;)\n    private Date tempTerminationDate;\n \n    // bunch of other variables and attributes\n\n\n// Repository\n\npublic Entity savEntity(Entity entity) {\n    dynamoDBMapper.save(entity);\n    return entity;\n}\n\n// Controller\n//Controller Class\n@PostMapping(value=&quot;URL&quot;)\n    public Entity saveItem(@RequestBody Entity key) {\n    return Repository.saveKeyValue(key);\n\n</code></pre>\n<p>I get an error and the error message is: &quot;Unable to unmarshall exception response with the unmarshallers provided (Service: AmazonDynamoDBvZ; Status Code: 400; Error Code: ValidationException&quot;.</p>\n<p>I have made sure that PartitionKey is of type string and sort key is not selected when dynamoDB was first created and I do not have access to either create or modify the table. Other thing I tried was to change the entity class like so</p>\n<pre><code>// getter, setter, args, no args annotation here\n@DynamoDBTable(tableName = &quot;TableName&quot;)\npublic class Entity {\n\n    @DynamoDBHashKey(attributeName = &quot;PartitionKey&quot;)\n    @DynamoDBAUtogeneratedKey\n    private String uniquekey; \n\n    @DynamoDBAttribute(attributeName=&quot;key&quot;)\n    private String key;\n\n    @DynamoDBRangeKey(attributeName = &quot;SortKey&quot;)\n    private String tempSortKey; \n\n    @DynamoDBAttribute(attributeName = &quot;Value&quot;)\n    private String tempValue;\n\n    @DynamoDBAttribute(attributeName = &quot;TerminationDate&quot;)\n    private Date tempTerminationDate;\n \n    // bunch of other variables and attributes\n</code></pre>\n<p>This works fine but I do not want Autogenerated unique key. I also need Sort key within Table as key might have similar values but sort key will always have unique value.</p>\n<p>I also tried having key on two different variable one as HashKey and one as Attribute and that works fine.</p>\n<p>Thanks</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1687867385,"post_id":76563790,"comment_id":134993958,"body_markdown":"Please share your code.","body":"Please share your code."},{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":0,"creation_date":1687884128,"post_id":76563790,"comment_id":134998269,"body_markdown":"What created the PDF in the first place? Or are you &quot;imagining&quot; a generic solution? You will never get to gwnweric without years of custom code.","body":"What created the PDF in the first place? Or are you &quot;imagining&quot; a generic solution? You will never get to gwnweric without years of custom code."},{"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"score":0,"creation_date":1687940204,"post_id":76563790,"comment_id":135005605,"body_markdown":"@KevinBrown Right now I am working with a PDF file that has all the text classified in &lt;P&gt; tags","body":"@KevinBrown Right now I am working with a PDF file that has all the text classified in &lt;P&gt; tags"},{"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"score":0,"creation_date":1687946575,"post_id":76563790,"comment_id":135006988,"body_markdown":"@aled I can share the code but keep in mind that I only need a certain PDFBox function that I cannot find to transform a P element into a H1 element. The algorithm that detects which P&#39;s have to be changed is already coded, that&#39;s why I didn&#39;t share the code in the first place.","body":"@aled I can share the code but keep in mind that I only need a certain PDFBox function that I cannot find to transform a P element into a H1 element. The algorithm that detects which P&#39;s have to be changed is already coded, that&#39;s why I didn&#39;t share the code in the first place."}],"answers":[{"comments":[{"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"score":0,"creation_date":1687940075,"post_id":76566623,"comment_id":135005569,"body_markdown":"I understand your points about subjectively classifying the elements as Headings, but I already have a simple algorithm that detects which text needs to be converted to Heading 1 (basically, I detect if the line starts with &quot;1.&quot;). That&#39;s why I only need the function that can convert a &lt;P&gt; element into a &lt;H1&gt; one. Thanks for the response.","body":"I understand your points about subjectively classifying the elements as Headings, but I already have a simple algorithm that detects which text needs to be converted to Heading 1 (basically, I detect if the line starts with &quot;1.&quot;). That&#39;s why I only need the function that can convert a &lt;P&gt; element into a &lt;H1&gt; one. Thanks for the response."}],"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689838805,"creation_date":1687880948,"answer_id":76566623,"question_id":76563790,"body_markdown":"This seems to be an XY problem, like looking for one needle amongst many in a haystack of many straws.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs a human I determine **subjectively** the Unordered Paragraph should be along with another item both be classified humanly as a &quot;Heading&quot;, I can also reorder at the same time.\r\n\r\nThus as fast as I decide, then I can alter the required outcome, faster than write a decision as a program. Thus cheaper in time of ownership, to use a lower cost pre-flight attendant than build an algorithm for each subjective case.\r\n\r\nYou need to write a program that replicates a human, hence the advice is use sighted humans for human accessibility tag checking.\r\n\r\nActually I am impressed how well an online service resolved the order for me (https://pdfix.net/pricing/) thus correctly reversed 29 &amp; 30, it&#39;s still a Paragraph same as the page header, but now I only need to change both to H1 and manually fix 6 other failures.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/oGyXI.png\r\n  [2]: https://i.stack.imgur.com/GouOP.png","title":"Transform &lt;P&gt; element into &lt;H1&gt; in PDF file","body":"<p>This seems to be an XY problem, like looking for one needle amongst many in a haystack of many straws.</p>\n<p><a href=\"https://i.stack.imgur.com/oGyXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGyXI.png\" alt=\"enter image description here\" /></a></p>\n<p>As a human I determine <strong>subjectively</strong> the Unordered Paragraph should be along with another item both be classified humanly as a &quot;Heading&quot;, I can also reorder at the same time.</p>\n<p>Thus as fast as I decide, then I can alter the required outcome, faster than write a decision as a program. Thus cheaper in time of ownership, to use a lower cost pre-flight attendant than build an algorithm for each subjective case.</p>\n<p>You need to write a program that replicates a human, hence the advice is use sighted humans for human accessibility tag checking.</p>\n<p>Actually I am impressed how well an online service resolved the order for me (<a href=\"https://pdfix.net/pricing/\" rel=\"nofollow noreferrer\">https://pdfix.net/pricing/</a>) thus correctly reversed 29 &amp; 30, it's still a Paragraph same as the page header, but now I only need to change both to H1 and manually fix 6 other failures.</p>\n<p><a href=\"https://i.stack.imgur.com/GouOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GouOP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689838805,"creation_date":1687860479,"question_id":76563790,"body_markdown":"I&#39;m working in a tool that improves the accessibility on PDF files, using PDFBox. The problem is that I need some type of function that lets me change the tag of a PDF element automatically.\r\n\r\nFor example, given a PDF, I want to change certain **P** element to a **H1** element: Here is how the **P** element [displays on Adobe Acrobat][1]\r\n\r\n\r\nThis is the [text that correponds to that **P** tag][2]\r\n\r\nI can change the element tag manually (using Adobe Acrobat) without problem, resulting in a **H1** element that contains \r\n\r\n    1. Introduction\r\n\r\n\r\nThis is [how the changed element would display after assigning the **H1** tag][3]\r\n\r\n  [1]: https://i.stack.imgur.com/OAQXl.jpg\r\n  [2]: https://i.stack.imgur.com/3qieY.jpg\r\n  [3]: https://i.stack.imgur.com/KEk3e.jpg\r\n\r\nCan I achieve this, by code, using some type of function, preferably provided by PDFBox? \r\n\r\nThanks in advance","title":"Transform &lt;P&gt; element into &lt;H1&gt; in PDF file","body":"<p>I'm working in a tool that improves the accessibility on PDF files, using PDFBox. The problem is that I need some type of function that lets me change the tag of a PDF element automatically.</p>\n<p>For example, given a PDF, I want to change certain <strong>P</strong> element to a <strong>H1</strong> element: Here is how the <strong>P</strong> element <a href=\"https://i.stack.imgur.com/OAQXl.jpg\" rel=\"nofollow noreferrer\">displays on Adobe Acrobat</a></p>\n<p>This is the <a href=\"https://i.stack.imgur.com/3qieY.jpg\" rel=\"nofollow noreferrer\">text that correponds to that <strong>P</strong> tag</a></p>\n<p>I can change the element tag manually (using Adobe Acrobat) without problem, resulting in a <strong>H1</strong> element that contains</p>\n<pre><code>1. Introduction\n</code></pre>\n<p>This is <a href=\"https://i.stack.imgur.com/KEk3e.jpg\" rel=\"nofollow noreferrer\">how the changed element would display after assigning the <strong>H1</strong> tag</a></p>\n<p>Can I achieve this, by code, using some type of function, preferably provided by PDFBox?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","encryption","ant","public-key-encryption"],"answers":[{"tags":[],"owner":{"account_id":113304,"reputation":312960,"user_id":298479,"accept_rate":87,"display_name":"ThiefMaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314264208,"creation_date":1314264208,"answer_id":7187938,"question_id":7187883,"body_markdown":"No. Since your program needs to be able to run the code it would be pointless anyway.\r\n\r\nYou can obfuscate your code though so decompiling the .class files results in less readable code (meaningless variable/class names etc).","title":"How to encrypt a .jar file","body":"<p>No. Since your program needs to be able to run the code it would be pointless anyway.</p>\n\n<p>You can obfuscate your code though so decompiling the .class files results in less readable code (meaningless variable/class names etc).</p>\n"},{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1314265771,"post_id":7187959,"comment_id":8631555,"body_markdown":"Although this is an approach some people do use, there&#39;s always the possibility to decompile the custom classloader and break the security. Just like you can read the decrypted code, you can write it out as decrypted. :)","body":"Although this is an approach some people do use, there&#39;s always the possibility to decompile the custom classloader and break the security. Just like you can read the decrypted code, you can write it out as decrypted. :)"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314264307,"creation_date":1314264307,"answer_id":7187959,"question_id":7187883,"body_markdown":"As far as I know this is not supported by standard JVM. But you can do the following. Separate your application into 2 parts. First will not be encrypted. It will be a simple loader that will instantiate the rest using custom class loader. This class loader will get Classes as arrays of bytes, decrypt and load them. ","title":"How to encrypt a .jar file","body":"<p>As far as I know this is not supported by standard JVM. But you can do the following. Separate your application into 2 parts. First will not be encrypted. It will be a simple loader that will instantiate the rest using custom class loader. This class loader will get Classes as arrays of bytes, decrypt and load them. </p>\n"},{"comments":[{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":0,"creation_date":1314266412,"post_id":7187961,"comment_id":8631712,"body_markdown":"actually i want to protect the .class file from access in side the .jar file, do you got anyway to do this ?","body":"actually i want to protect the .class file from access in side the .jar file, do you got anyway to do this ?"},{"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"score":1,"creation_date":1314279217,"post_id":7187961,"comment_id":8635717,"body_markdown":"The AlexR suggestion is to use a custom classloader that will decrypt on-the-fly the jar file, which is feasible and more or less what you were asking, but keep in mind that any average-skilled programmer with JAD installed will be able to reverse engineer your custom classloader and access the class anyway. I added a paragraph with another solution, but it&#39;s quite unusual.","body":"The AlexR suggestion is to use a custom classloader that will decrypt on-the-fly the jar file, which is feasible and more or less what you were asking, but keep in mind that any average-skilled programmer with JAD installed will be able to reverse engineer your custom classloader and access the class anyway. I added a paragraph with another solution, but it&#39;s quite unusual."}],"tags":[],"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1314279148,"creation_date":1314264319,"answer_id":7187961,"question_id":7187883,"body_markdown":"Even if you encrypt the jar file, it must be decrypted before the JVM is able to run it, so you&#39;ll need another jar file containing classes that decrypt and loads in the JVM.\r\n\r\nSince this second jar file cannot be itself encrypted, a malicious user wanting to see you class files, can simply look at classes in this second jar file, and then decrypt your super-secret jar file and have access to it.\r\n\r\nMaybe you can increase security of your code using an obfuscator, but it will eventually protect (make it harder but not impossible) your class files from decompilation, not from being used.\r\n\r\nIf obfuscation is not enough, you could consider compiling your jar file to a DLL for windows or a SO for unix/linux, that will make it much harder to decompile, but it&#39;s not always possible to do that correctly and it&#39;s generally a PITA. GCJ is able to do this somehow, and there are other commercial products that will actually compile .class/.jar directly to machine code.\r\n\r\nHowever please consider that it does not matter how much security you put in it, since the client computer MUST be able to execute it, it must be able to read it, so no matter what your code will be exposed, you can only make it harder.\r\n\r\nIf you really have an algorithm so secret you don&#39;t want to disclose no matter what, consider converting it to a web service, hosting it on your server, so that you don&#39;t have to send the actual code to the client machines and can also better prevent unauthorized copies of your application by checking access to that vital part of it.","title":"How to encrypt a .jar file","body":"<p>Even if you encrypt the jar file, it must be decrypted before the JVM is able to run it, so you'll need another jar file containing classes that decrypt and loads in the JVM.</p>\n\n<p>Since this second jar file cannot be itself encrypted, a malicious user wanting to see you class files, can simply look at classes in this second jar file, and then decrypt your super-secret jar file and have access to it.</p>\n\n<p>Maybe you can increase security of your code using an obfuscator, but it will eventually protect (make it harder but not impossible) your class files from decompilation, not from being used.</p>\n\n<p>If obfuscation is not enough, you could consider compiling your jar file to a DLL for windows or a SO for unix/linux, that will make it much harder to decompile, but it's not always possible to do that correctly and it's generally a PITA. GCJ is able to do this somehow, and there are other commercial products that will actually compile .class/.jar directly to machine code.</p>\n\n<p>However please consider that it does not matter how much security you put in it, since the client computer MUST be able to execute it, it must be able to read it, so no matter what your code will be exposed, you can only make it harder.</p>\n\n<p>If you really have an algorithm so secret you don't want to disclose no matter what, consider converting it to a web service, hosting it on your server, so that you don't have to send the actual code to the client machines and can also better prevent unauthorized copies of your application by checking access to that vital part of it.</p>\n"},{"comments":[{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":0,"creation_date":1314266296,"post_id":7187974,"comment_id":8631688,"body_markdown":"with what application i can supply my .jar file to save the .class files from access in side the .jar file ??","body":"with what application i can supply my .jar file to save the .class files from access in side the .jar file ??"}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314264383,"creation_date":1314264383,"answer_id":7187974,"question_id":7187883,"body_markdown":"if you don&#39;t want to provide an access to the class files inside the jar, why should you supply your jar with the application?\r\nIt feels like your question is kind of wrong conceptually...\r\n\r\nIf you need some custom way of loading the classes, consider to use custom classloader.\r\n","title":"How to encrypt a .jar file","body":"<p>if you don't want to provide an access to the class files inside the jar, why should you supply your jar with the application?\nIt feels like your question is kind of wrong conceptually...</p>\n\n<p>If you need some custom way of loading the classes, consider to use custom classloader.</p>\n"},{"tags":[],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314264587,"creation_date":1314264587,"answer_id":7188028,"question_id":7187883,"body_markdown":"I assume you are aware of the fact that any skilled java coder can reverse-engineer the Java tool you use (or write) and still decode the app&#39;s jars? Also writing custom classloaders which read your &quot;encrypted&quot; code can be decompiled and a tool could be written to bypass it.\r\n\r\nEven with obfuscation and bytecode modification and custom classloaders, java is hackable/decompileable and the source can almost always be brought to a somewhat readable state.\r\n","title":"How to encrypt a .jar file","body":"<p>I assume you are aware of the fact that any skilled java coder can reverse-engineer the Java tool you use (or write) and still decode the app's jars? Also writing custom classloaders which read your \"encrypted\" code can be decompiled and a tool could be written to bypass it.</p>\n\n<p>Even with obfuscation and bytecode modification and custom classloaders, java is hackable/decompileable and the source can almost always be brought to a somewhat readable state.</p>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1314265553,"creation_date":1314265553,"answer_id":7188227,"question_id":7187883,"body_markdown":"You want to obfuscate, not encrypt, the jar file.\r\n\r\nA popular choice for doing this in Java is [ProGuard][1].\r\n\r\n\r\n  [1]: http://proguard.sourceforge.net/","title":"How to encrypt a .jar file","body":"<p>You want to obfuscate, not encrypt, the jar file.</p>\n\n<p>A popular choice for doing this in Java is <a href=\"http://proguard.sourceforge.net/\" rel=\"nofollow\">ProGuard</a>.</p>\n"},{"tags":[],"owner":{"account_id":2481149,"reputation":2573,"user_id":2160595,"display_name":"Tobias Lins"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1363088387,"creation_date":1363086727,"answer_id":15359602,"question_id":7187883,"body_markdown":"i prefer [jCrypt][1]!\r\nIt is a simple tool where you can crypt the classes(and ressources)\r\n\r\n\r\n  [1]: http://redpois0n.com/download.php?proj=jcrypt","title":"How to encrypt a .jar file","body":"<p>i prefer <a href=\"http://redpois0n.com/download.php?proj=jcrypt\" rel=\"nofollow\">jCrypt</a>!\nIt is a simple tool where you can crypt the classes(and ressources)</p>\n"},{"comments":[{"owner":{"account_id":11730609,"reputation":36976,"user_id":8586227,"display_name":"Davis Herring"},"score":1,"creation_date":1551458140,"post_id":22558794,"comment_id":96660370,"body_markdown":"`file(1)` is a beautiful thing.","body":"<code>file(1)</code> is a beautiful thing."}],"tags":[],"owner":{"account_id":4207930,"reputation":1,"user_id":3446398,"display_name":"Rohith"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395404902,"creation_date":1395404902,"answer_id":22558794,"question_id":7187883,"body_markdown":"if you are packaging in jar -&gt; just rename it to jarname.ABCD or any misleading extension or even take off the extension, and accordingly specify the jar name in your application.","title":"How to encrypt a .jar file","body":"<p>if you are packaging in jar -> just rename it to jarname.ABCD or any misleading extension or even take off the extension, and accordingly specify the jar name in your application.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690285256,"post_id":76727652,"comment_id":135329063,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76727652/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29054121,"reputation":1,"user_id":22256234,"display_name":"clark wang"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689838765,"creation_date":1689838765,"answer_id":76727652,"question_id":7187883,"body_markdown":"You can try https://bce.gopiqiu.com/\r\nHere is description: BCE is a java jar/war/class encrypt tools,it can leave your code avoid decompile; support format:jar,springbootjar,war; support spring and tomcat classfile scan before classes are loaded; support embedded jar encryption and prevent any program dump decrypted class.","title":"How to encrypt a .jar file","body":"<p>You can try <a href=\"https://bce.gopiqiu.com/\" rel=\"nofollow noreferrer\">https://bce.gopiqiu.com/</a>\nHere is description: BCE is a java jar/war/class encrypt tools,it can leave your code avoid decompile; support format:jar,springbootjar,war; support spring and tomcat classfile scan before classes are loaded; support embedded jar encryption and prevent any program dump decrypted class.</p>\n"}],"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23635,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7187961,"answer_count":9,"score":5,"last_activity_date":1689838765,"creation_date":1314263951,"question_id":7187883,"body_markdown":"I&#39;m working in a project where we need to encrypt the .jar file so no one can access to the .class files which inside the jar file.... is there any java coding which can help me to encrypt the .jar file ?","title":"How to encrypt a .jar file","body":"<p>I'm working in a project where we need to encrypt the .jar file so no one can access to the .class files which inside the jar file.... is there any java coding which can help me to encrypt the .jar file ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1689836101,"post_id":76727355,"comment_id":135270220,"body_markdown":"So your date is actually inside a string, right?","body":"So your date is actually inside a string, right?"},{"owner":{"account_id":28433832,"reputation":27,"user_id":21754177,"display_name":"Hasan Ozan"},"score":0,"creation_date":1689836335,"post_id":76727355,"comment_id":135270282,"body_markdown":"Yes,  inside a string.","body":"Yes,  inside a string."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689836479,"post_id":76727355,"comment_id":135270308,"body_markdown":"Neither `java.sql.Timestamp` nor `java.util.Date` have the concept of a *format*. Formatting is a separate concern. BTW: You really shouldn&#39;t use these old data types. You should be using the modern `java.time` classes like `LocalDateTime` and `LocalDate`. You&#39;d format them with `DateTimeFormatter`. If you insist on using these old classes, you can format them with `SimpleDateFormat`.","body":"Neither <code>java.sql.Timestamp</code> nor <code>java.util.Date</code> have the concept of a <i>format</i>. Formatting is a separate concern. BTW: You really shouldn&#39;t use these old data types. You should be using the modern <code>java.time</code> classes like <code>LocalDateTime</code> and <code>LocalDate</code>. You&#39;d format them with <code>DateTimeFormatter</code>. If you insist on using these old classes, you can format them with <code>SimpleDateFormat</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689836589,"post_id":76727355,"comment_id":135270331,"body_markdown":"BTW: Given you mention &quot;smalldatetime&quot;, I assume the original value came from a database. If so, why do you have it as a string? The JDBC API has methods to get those values either as a `java.sql.Timestamp` or `java.time.LocalDateTime` directly.","body":"BTW: Given you mention &quot;smalldatetime&quot;, I assume the original value came from a database. If so, why do you have it as a string? The JDBC API has methods to get those values either as a <code>java.sql.Timestamp</code> or <code>java.time.LocalDateTime</code> directly."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690524553,"post_id":76727355,"comment_id":135368558,"body_markdown":"`smalldatetime` is not a data type in standard SQL, nor is it a type defined by JDBC. Explain *exacty* what you mean by `smalldatetime`.","body":"<code>smalldatetime</code> is not a data type in standard SQL, nor is it a type defined by JDBC. Explain <i>exacty</i> what you mean by <code>smalldatetime</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690524601,"post_id":76727355,"comment_id":135368564,"body_markdown":"FYI… You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"FYI… You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690524665,"post_id":76727355,"comment_id":135368575,"body_markdown":"You cannot determine a timestamp from only a date and a time-of-day. You also need a time zone or offset-from-UTC to get a point on the timeline.","body":"You cannot determine a timestamp from only a date and a time-of-day. You also need a time zone or offset-from-UTC to get a point on the timeline."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689837230,"post_id":76727427,"comment_id":135270463,"body_markdown":"There is no need to convert a string to a `Date` and then to an `Instant` and then to a `LocalDate`. You can use an appropriate formatter and create a `LocalDate` directly from the string. For example, `LocalDate.parse(sqlSmallDateTimeString, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))` and then format that appropriately.","body":"There is no need to convert a string to a <code>Date</code> and then to an <code>Instant</code> and then to a <code>LocalDate</code>. You can use an appropriate formatter and create a <code>LocalDate</code> directly from the string. For example, <code>LocalDate.parse(sqlSmallDateTimeString, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))</code> and then format that appropriately."},{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1689837883,"post_id":76727427,"comment_id":135270603,"body_markdown":"You are right@MarkRotteveel","body":"You are right@MarkRotteveel"}],"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689837841,"creation_date":1689836741,"answer_id":76727427,"question_id":76727355,"body_markdown":"Two common methods, Recommend the second one \r\n \r\n    String sqlSmallDateTimeString = &quot;2017-10-12 00:00:00&quot;;\r\n    Timestamp sqlSmallDateTimeValue = Timestamp.valueOf(sqlSmallDateTimeString);\r\n    Date dateValue = new Date(sqlSmallDateTimeValue.getTime());\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n    String format = sdf.format(dateValue);\r\n    System.out.println(format); // 12.10.2017\r\n\r\nsecond method:\r\n\r\n    \r\n    String sqlSmallDateTimeString= &quot;2017-10-12 00:00:00&quot;;\r\n    String inputDateFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n     // Parse the input date string to LocalDateTime\r\n     LocalDateTime dateTime = LocalDateTime.parse(inputDateStr, DateTimeFormatter.ofPattern(inputDateFormat));\r\n     String desiredDateFormat = &quot;dd.MM.yyyy&quot;; // Customize this format as per your needs\r\n     //Format the date using DateTimeFormatter\r\n     String formattedDate = dateTime.format(DateTimeFormatter.ofPattern(desiredDateFormat));\r\n    System.out.println(&quot;Formatted date: &quot; + formattedDate);\r\n\r\nBy the way, the lowercase &#39;mm&#39; represents minutes. Meanwhile, the uppercase &quot;MM&quot; represents the month. \r\n\r\n","title":"java convert smalldatetime to date","body":"<p>Two common methods, Recommend the second one</p>\n<pre><code>String sqlSmallDateTimeString = &quot;2017-10-12 00:00:00&quot;;\nTimestamp sqlSmallDateTimeValue = Timestamp.valueOf(sqlSmallDateTimeString);\nDate dateValue = new Date(sqlSmallDateTimeValue.getTime());\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\nString format = sdf.format(dateValue);\nSystem.out.println(format); // 12.10.2017\n</code></pre>\n<p>second method:</p>\n<pre><code>String sqlSmallDateTimeString= &quot;2017-10-12 00:00:00&quot;;\nString inputDateFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n // Parse the input date string to LocalDateTime\n LocalDateTime dateTime = LocalDateTime.parse(inputDateStr, DateTimeFormatter.ofPattern(inputDateFormat));\n String desiredDateFormat = &quot;dd.MM.yyyy&quot;; // Customize this format as per your needs\n //Format the date using DateTimeFormatter\n String formattedDate = dateTime.format(DateTimeFormatter.ofPattern(desiredDateFormat));\nSystem.out.println(&quot;Formatted date: &quot; + formattedDate);\n</code></pre>\n<p>By the way, the lowercase 'mm' represents minutes. Meanwhile, the uppercase &quot;MM&quot; represents the month.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1689838545,"creation_date":1689838545,"answer_id":76727624,"question_id":76727355,"body_markdown":"If you are not augmenting the value, just parse the text.\r\n\r\n```java\r\nString string = &quot;2017-10-12 00:00:00&quot;;\r\nstring = string.substring(0, string.indexOf(&#39; &#39;));\r\nString[] strings = string.split(&quot;-&quot;);\r\nstring = &quot;%s.%s.%s&quot;.formatted(strings[1], strings[2], strings[0]);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n10.12.2017\r\n```","title":"java convert smalldatetime to date","body":"<p>If you are not augmenting the value, just parse the text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;2017-10-12 00:00:00&quot;;\nstring = string.substring(0, string.indexOf(' '));\nString[] strings = string.split(&quot;-&quot;);\nstring = &quot;%s.%s.%s&quot;.formatted(strings[1], strings[2], strings[0]);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>10.12.2017\n</code></pre>\n"}],"owner":{"account_id":28433832,"reputation":27,"user_id":21754177,"display_name":"Hasan Ozan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1689838545,"creation_date":1689836004,"question_id":76727355,"body_markdown":"I&#39;m pulling data with smalldatetime data type from sql, how can I show it in the java section in date (`dd.mm.yyyy`) format\r\n\r\nMy code ;\r\n\r\n```\r\nfor (int i = 0; i &lt; liste.size(); i++) {\r\n    if (liste.get(i).DURUM) {\r\n        String sqlSmallDateTimeString = &quot;2017-10-12 00:00:00&quot;;\r\n        liste.get(i).BASTARIH = sqlSmallDateTimeString;\r\n\r\n        Timestamp sqlSmallDateTimeValue = Timestamp.valueOf(sqlSmallDateTimeString);\r\n\r\n        Date dateValue = new Date(sqlSmallDateTimeValue.getTime());\r\n\r\n    }\r\n}\r\n```","title":"java convert smalldatetime to date","body":"<p>I'm pulling data with smalldatetime data type from sql, how can I show it in the java section in date (<code>dd.mm.yyyy</code>) format</p>\n<p>My code ;</p>\n<pre><code>for (int i = 0; i &lt; liste.size(); i++) {\n    if (liste.get(i).DURUM) {\n        String sqlSmallDateTimeString = &quot;2017-10-12 00:00:00&quot;;\n        liste.get(i).BASTARIH = sqlSmallDateTimeString;\n\n        Timestamp sqlSmallDateTimeValue = Timestamp.valueOf(sqlSmallDateTimeString);\n\n        Date dateValue = new Date(sqlSmallDateTimeValue.getTime());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","talend"],"answers":[{"tags":[],"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689781880,"creation_date":1689781880,"answer_id":76723119,"question_id":76722613,"body_markdown":"So first there is an issue with the tJavaRow output, you linked the tFileInputDelimited and the tJavaRow with an if link it wont work\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo to do what I think you want to do is change the if to a main output to a tFlowToIterate component (https://help.talend.com/r/fr-FR/7.3/orchestration/tflowtoiterate) and then link the tFileInputDelimited with a iterate flow like this : \r\n\r\n[![enter image description here][2]][2]\r\n\r\nyou store in the tFlowToIterate the path and name of the file you want to read \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nAnd then use this var in the tFileInput like this  : \r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eYjMW.png\r\n  [2]: https://i.stack.imgur.com/9fdto.png\r\n  [3]: https://i.stack.imgur.com/xqLB9.png\r\n  [4]: https://i.stack.imgur.com/xv2uj.png","title":"How to process files only for a day before using Talend?","body":"<p>So first there is an issue with the tJavaRow output, you linked the tFileInputDelimited and the tJavaRow with an if link it wont work</p>\n<p><a href=\"https://i.stack.imgur.com/eYjMW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eYjMW.png\" alt=\"enter image description here\" /></a></p>\n<p>So to do what I think you want to do is change the if to a main output to a tFlowToIterate component (<a href=\"https://help.talend.com/r/fr-FR/7.3/orchestration/tflowtoiterate\" rel=\"nofollow noreferrer\">https://help.talend.com/r/fr-FR/7.3/orchestration/tflowtoiterate</a>) and then link the tFileInputDelimited with a iterate flow like this :</p>\n<p><a href=\"https://i.stack.imgur.com/9fdto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fdto.png\" alt=\"enter image description here\" /></a></p>\n<p>you store in the tFlowToIterate the path and name of the file you want to read</p>\n<p><a href=\"https://i.stack.imgur.com/xqLB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqLB9.png\" alt=\"enter image description here\" /></a></p>\n<p>And then use this var in the tFileInput like this  :</p>\n<p><a href=\"https://i.stack.imgur.com/xv2uj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xv2uj.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29050096,"reputation":5,"user_id":22253117,"display_name":"Ha Anh Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76723119,"answer_count":1,"score":0,"last_activity_date":1689838387,"creation_date":1689778363,"question_id":76722613,"body_markdown":"I have used tFileList in Talend to get files from a VM remote, which will be generated each day. I want to pick files only for the past hour and do the required processing.\r\nI have referred to this question in StackOverflow like below :\r\nhttps://stackoverflow.com/questions/45550213/how-to-process-files-only-for-the-past-hour-using-talend\r\nI am stuck at step of writing code in tJavaRow. The error is : \r\n**# &quot;output_row cannot be resolved to a variable&quot;**\r\n Here is my job : .\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my code in tJavaRow_1 :\r\n\r\n```\r\n((String)globalMap.get(&quot;tFileList_5_CURRENT_FILEPATH&quot;)) = input_row\r\n\r\nDate lastModifiedDate = TalendDate.parseDate(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, input_row.mtime_string);\r\n\r\nDate current_date = TalendDate.getCurrentDate();\r\n\r\n\r\nif(TalendDate.diffDate(current_date, lastModifiedDate,&quot;dd&quot;) &lt;= 1) {\r\n\r\noutput_row.abs_path = input_row.abs_path;\r\n}\r\n\r\n```\r\nCould you help me to resolve this error?\r\n\r\n\r\nI have tried some solutions but it didn&#39;t work. Like changing output_row to tJavaRow_1 or Output because I see this schema of tJavaRow_1 .\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CeYs8.png\r\n  [2]: https://i.stack.imgur.com/7cUDb.png","title":"How to process files only for a day before using Talend?","body":"<p>I have used tFileList in Talend to get files from a VM remote, which will be generated each day. I want to pick files only for the past hour and do the required processing.\nI have referred to this question in StackOverflow like below :\n<a href=\"https://stackoverflow.com/questions/45550213/how-to-process-files-only-for-the-past-hour-using-talend\">How to process files only for the past hour using Talend?</a>\nI am stuck at step of writing code in tJavaRow. The error is :\n<strong># &quot;output_row cannot be resolved to a variable&quot;</strong>\nHere is my job : .</p>\n<p><a href=\"https://i.stack.imgur.com/CeYs8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CeYs8.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code in tJavaRow_1 :</p>\n<pre><code>((String)globalMap.get(&quot;tFileList_5_CURRENT_FILEPATH&quot;)) = input_row\n\nDate lastModifiedDate = TalendDate.parseDate(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, input_row.mtime_string);\n\nDate current_date = TalendDate.getCurrentDate();\n\n\nif(TalendDate.diffDate(current_date, lastModifiedDate,&quot;dd&quot;) &lt;= 1) {\n\noutput_row.abs_path = input_row.abs_path;\n}\n\n</code></pre>\n<p>Could you help me to resolve this error?</p>\n<p>I have tried some solutions but it didn't work. Like changing output_row to tJavaRow_1 or Output because I see this schema of tJavaRow_1 .</p>\n<p><a href=\"https://i.stack.imgur.com/7cUDb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7cUDb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","inheritance","attributes","final"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1689834046,"post_id":76727139,"comment_id":135269854,"body_markdown":"why do you hide the variables of your super class in your subclass?","body":"why do you hide the variables of your super class in your subclass?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689834918,"post_id":76727139,"comment_id":135269990,"body_markdown":"Put a breakpoint in `printValues` and run under the debugger. Have a look at the stack when you hit the breakpoint. When do you expect instance variables of `Sub` to be initialised?","body":"Put a breakpoint in <code>printValues</code> and run under the debugger. Have a look at the stack when you hit the breakpoint. When do you expect instance variables of <code>Sub</code> to be initialised?"},{"owner":{"account_id":27247785,"reputation":11,"user_id":20772775,"display_name":"KDPK Kasthurisinghe"},"score":0,"creation_date":1689835084,"post_id":76727139,"comment_id":135270025,"body_markdown":"recently i am studying the OOP in java. in inheritance , the sub class hiding the Attributes of the super class (as i know). but i wanted to know that what if we initialized the same attribute with same properties in the sub class. but i have got 0 for the attributes a and b i have already initialized in the super class and the subclass. i just wanted to know that why i have got  zero for both a and b.","body":"recently i am studying the OOP in java. in inheritance , the sub class hiding the Attributes of the super class (as i know). but i wanted to know that what if we initialized the same attribute with same properties in the sub class. but i have got 0 for the attributes a and b i have already initialized in the super class and the subclass. i just wanted to know that why i have got  zero for both a and b."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1689841665,"post_id":76727139,"comment_id":135271348,"body_markdown":"@KDPKKasthurisinghe the print method is called before your sub class is done instantiating, since it&#39;s called from the super constructor","body":"@KDPKKasthurisinghe the print method is called before your sub class is done instantiating, since it&#39;s called from the super constructor"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689838211,"creation_date":1689838211,"answer_id":76727593,"question_id":76727139,"body_markdown":"The problem is that you are already printing the values before your object has been completely constructed (as pointed out in a comment from @tgdavies). When single-stepping through your program (your IDE can do that), you&#39;ll see that the `printValues()` is done before the `Sub` class has a chance to initialize its fields.\r\n\r\nAs a rule of thumb, avoid &quot;doing&quot; anything inside a constructor. Especially, in a constructor don&#39;t call a method that can be overridden by some subclass, as this method will see a partially-empty instance.\r\n\r\nRemove the `printValues();` call from the `Super()` constructor and place it into your `main()` method like\r\n\r\n    public static void main(String args[]) {\r\n        Sub sub = new Sub();\r\n        sub.printValues();\r\n    }\r\n\r\nThen, you&#39;ll see the fully-initialized state of your instance.\r\n\r\nBy the way, for educational purposes it&#39;s good to sometimes break the best-practices rules (having fields with the same name in superclass and subclass), just to see how much confusion arises from that. The learning effect should be not to do that in production code.\r\n\r\nAnd by the way, you should delete the superfluous `+` at the beginning of `+a + &quot; &quot; + b + &quot; &quot; + c + &quot; &quot; + d + &quot; &quot; + e`.","title":"i have defined initialized several attributes in sub class also(with same name and same datatype), but result was 0 for some of attributes","body":"<p>The problem is that you are already printing the values before your object has been completely constructed (as pointed out in a comment from @tgdavies). When single-stepping through your program (your IDE can do that), you'll see that the <code>printValues()</code> is done before the <code>Sub</code> class has a chance to initialize its fields.</p>\n<p>As a rule of thumb, avoid &quot;doing&quot; anything inside a constructor. Especially, in a constructor don't call a method that can be overridden by some subclass, as this method will see a partially-empty instance.</p>\n<p>Remove the <code>printValues();</code> call from the <code>Super()</code> constructor and place it into your <code>main()</code> method like</p>\n<pre><code>public static void main(String args[]) {\n    Sub sub = new Sub();\n    sub.printValues();\n}\n</code></pre>\n<p>Then, you'll see the fully-initialized state of your instance.</p>\n<p>By the way, for educational purposes it's good to sometimes break the best-practices rules (having fields with the same name in superclass and subclass), just to see how much confusion arises from that. The learning effect should be not to do that in production code.</p>\n<p>And by the way, you should delete the superfluous <code>+</code> at the beginning of <code>+a + &quot; &quot; + b + &quot; &quot; + c + &quot; &quot; + d + &quot; &quot; + e</code>.</p>\n"}],"owner":{"account_id":27247785,"reputation":11,"user_id":20772775,"display_name":"KDPK Kasthurisinghe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689838211,"creation_date":1689833743,"question_id":76727139,"body_markdown":"the following code i have inherited subclass from super class and i have initialized same attribute with same types and access modifiers in the sub class also. but the output shows 0 for i already initialized values attributes. i want to know the exact reason for that.\r\n```\r\nclass Super {\r\n    int a = 10;\r\n    private int b = 30;\r\n    final int c = 30;\r\n    static int d = 40;\r\n    final static int e = 50;\r\n\r\n    void printValues() {\r\n        System.out.print(&quot;Super : &quot;);\r\n        System.out.println(+a + &quot; &quot; + b + &quot; &quot; + c + &quot; &quot; + d + &quot; &quot; + e);\r\n    }\r\n\r\n    Super() {\r\n        printValues();\r\n    }\r\n}\r\n\r\nclass Sub extends Super {\r\n    int a = 100;\r\n    private int b = 300;\r\n    final int c = 300;\r\n    static int d = 400;\r\n    final static int e = 500;\r\n\r\n    void printValues() {\r\n        System.out.print(&quot;Sub : &quot;);\r\n        System.out.println(+a + &quot; &quot; + b + &quot; &quot; + c + &quot; &quot; + d + &quot; &quot; + e);\r\n    }\r\n}\r\n\r\nclass TwentyFIve {\r\n    public static void main(String args[]) {\r\n        new Sub();\r\n    }\r\n}\r\n```\r\n\r\n\r\ni expected the result for the above code as follows; \r\nSub : 100 300 300 400 500\r\nbut i got the output as follows;\r\nSub : 0 0 300 400 500","title":"i have defined initialized several attributes in sub class also(with same name and same datatype), but result was 0 for some of attributes","body":"<p>the following code i have inherited subclass from super class and i have initialized same attribute with same types and access modifiers in the sub class also. but the output shows 0 for i already initialized values attributes. i want to know the exact reason for that.</p>\n<pre><code>class Super {\n    int a = 10;\n    private int b = 30;\n    final int c = 30;\n    static int d = 40;\n    final static int e = 50;\n\n    void printValues() {\n        System.out.print(&quot;Super : &quot;);\n        System.out.println(+a + &quot; &quot; + b + &quot; &quot; + c + &quot; &quot; + d + &quot; &quot; + e);\n    }\n\n    Super() {\n        printValues();\n    }\n}\n\nclass Sub extends Super {\n    int a = 100;\n    private int b = 300;\n    final int c = 300;\n    static int d = 400;\n    final static int e = 500;\n\n    void printValues() {\n        System.out.print(&quot;Sub : &quot;);\n        System.out.println(+a + &quot; &quot; + b + &quot; &quot; + c + &quot; &quot; + d + &quot; &quot; + e);\n    }\n}\n\nclass TwentyFIve {\n    public static void main(String args[]) {\n        new Sub();\n    }\n}\n</code></pre>\n<p>i expected the result for the above code as follows;\nSub : 100 300 300 400 500\nbut i got the output as follows;\nSub : 0 0 300 400 500</p>\n"},{"tags":["java","maven","jdbc","cnosdb"],"answers":[{"tags":[],"owner":{"account_id":2241006,"reputation":183,"user_id":1975267,"display_name":"KingQQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689837211,"creation_date":1689837211,"answer_id":76727486,"question_id":76727160,"body_markdown":"the class generation step should be implemented in the maven compile stage, please check the maven logs and see if there has compile messages.","title":"When I use mvn to build cnosdb flight sql jadc access, there is always no class file generated","body":"<p>the class generation step should be implemented in the maven compile stage, please check the maven logs and see if there has compile messages.</p>\n"}],"owner":{"account_id":19518277,"reputation":143,"user_id":14280692,"display_name":"Baker X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689837211,"creation_date":1689833954,"question_id":76727160,"body_markdown":"When I use mvn to build cnosdb flight sql jadc access, there is always no class file generated.what the promblem?\r\n\r\nAt first, I exec as follow:\r\n\r\n```\r\nmvn package\r\n```\r\n\r\nand then\r\n\r\n```\r\njava -cp ./target/jdbc-1.0-SNAPSHOT.jar com/cnosdb/Main\r\n```\r\n\r\n```\r\njava.lang.ClassNotFoundException: com.cnosdb.Main\r\n```\r\n\r\nfinnally, I&#39;m check the mune,there is no class.\r\n\r\n```\r\n$ tree ./\r\n./\r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; └── java\r\n│&#160;&#160;     └── com\r\n│&#160;&#160;         └── cnosdb\r\n│&#160;&#160;             └── Main.java\r\n└── target\r\n    ├── jdbc-1.0-SNAPSHOT.jar\r\n    └── maven-archiver\r\n        └── pom.properties\r\n```","title":"When I use mvn to build cnosdb flight sql jadc access, there is always no class file generated","body":"<p>When I use mvn to build cnosdb flight sql jadc access, there is always no class file generated.what the promblem?</p>\n<p>At first, I exec as follow:</p>\n<pre><code>mvn package\n</code></pre>\n<p>and then</p>\n<pre><code>java -cp ./target/jdbc-1.0-SNAPSHOT.jar com/cnosdb/Main\n</code></pre>\n<pre><code>java.lang.ClassNotFoundException: com.cnosdb.Main\n</code></pre>\n<p>finnally, I'm check the mune,there is no class.</p>\n<pre><code>$ tree ./\n./\n├── pom.xml\n├── src\n│   └── java\n│       └── com\n│           └── cnosdb\n│               └── Main.java\n└── target\n    ├── jdbc-1.0-SNAPSHOT.jar\n    └── maven-archiver\n        └── pom.properties\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7622639,"reputation":336,"user_id":5780236,"display_name":"Ahmad Reza Enshaee"},"score":0,"creation_date":1689780873,"post_id":76722484,"comment_id":135262864,"body_markdown":"When you say &quot;to MainActivity2, as it won&#39;t work at all&quot;, what do you mean precisely by won&#39;t work? Does it throw an exception? If so, please mention it and attach the exception log as well.","body":"When you say &quot;to MainActivity2, as it won&#39;t work at all&quot;, what do you mean precisely by won&#39;t work? Does it throw an exception? If so, please mention it and attach the exception log as well."}],"owner":{"account_id":29003332,"reputation":13,"user_id":22216464,"display_name":"CheeChunWaiGabriel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689836203,"creation_date":1689777444,"question_id":76722484,"body_markdown":"So I was trying to build an android app that is meant to save, retrieve and edit songs.\r\n\r\nIt consists of:\r\n\r\nThe song class:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\npublic class song {\r\n    private int id;\r\n    private String title;\r\n    private String singers;\r\n    private int year;\r\n    private int stars;\r\n\r\n\r\n    public void setSingers(String singers) {\r\n        this.singers = singers;\r\n    }\r\n\r\n    public void setStars(int stars) {\r\n        this.stars = stars;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public song (\r\n                 String title,\r\n                 String singers,\r\n                 int year,\r\n                 int stars\r\n    ){\r\n        this.title=title;\r\n        this.singers=singers;\r\n        this.year=year;\r\n        this.stars=stars;\r\n    }\r\n    public song (\r\n            int id,\r\n            String title,\r\n            String singers,\r\n            int year,\r\n            int stars\r\n    ){\r\n        this.id=id;\r\n        this.title=title;\r\n        this.singers=singers;\r\n        this.year=year;\r\n        this.stars=stars;\r\n    }\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public int getId(){\r\n        return id;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public int getStars() {\r\n        return stars;\r\n    }\r\n\r\n    public String getSingers() {\r\n        return singers;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return\r\n                &quot;title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                &quot;, singers=&#39;&quot; + singers + &#39;\\&#39;&#39; +\r\n                &quot;, year=&quot; + year +\r\n                &quot;, stars=&quot; + stars\r\n               ;\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input1&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertTitle&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input2&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertSingers&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input3&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertYear&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input4&quot; /&gt;\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio_group&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.1&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.2&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.3&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.4&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.5&quot; /&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnInsert&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/FinalButton&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnGetTasks&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/ViewListings&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMainActivity.java:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.ToggleButton;\r\n\r\nimport java.util.ArrayList;\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btnInsert, btnGetSongs;\r\n    TextView tvResults;\r\n\r\n    EditText YearInput;\r\n    EditText SongInput;\r\n    EditText SingerInput;\r\n    RadioGroup RadioGroupRating;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnInsert = findViewById(R.id.btnInsert);\r\n        btnGetSongs = findViewById(R.id.btnGetTasks);\r\n        //List View-&gt;\r\n        YearInput=findViewById(R.id.insertYear);\r\n        SongInput=findViewById(R.id.insertTitle);\r\n        SingerInput=findViewById(R.id.insertSingers);\r\n        RadioGroupRating=findViewById(R.id.radio_group);\r\n\r\n\r\n        btnInsert.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                DBHelper db = new DBHelper(MainActivity.this);\r\n                String title=SongInput.getText().toString();\r\n                String singers=SingerInput.getText().toString();\r\n                int year=Integer.parseInt(YearInput.getText().toString());\r\n\r\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\r\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\r\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\r\n                db.insertSong(title,singers,year,rating);\r\n\r\n                SongInput.setText(&quot;&quot;);\r\n                SingerInput.setText(&quot;&quot;);\r\n                YearInput.setText(&quot;&quot;);\r\n                RadioGroupRating.clearCheck();\r\n            }\r\n        });\r\n\r\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Create the DBHelper object, passing in the\r\n                // activity&#39;s Context\r\n\r\n                // Insert a task\r\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\r\n                //Label the actual editactivity EditActivity2\r\n                startActivity(intent);\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nDBHelper:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\r\n    // increment by 1 whenever db schema changes.\r\n    private static final int DATABASE_VER = 1;\r\n    private static final String TABLE_SONG = &quot;song&quot;;\r\n    private static final String COLUMN_ID = &quot;id&quot;;\r\n    private static final String COLUMN_TITLE = &quot;title&quot;;\r\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\r\n    private static final String COLUMN_YEAR=&quot;year&quot;;\r\n    private static final String COLUMN_STARS=&quot;stars&quot;;\r\n    // Filename of the database\r\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\r\n\r\n    public DBHelper(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VER);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String dropTableSql = &quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG;\r\n        db.execSQL(dropTableSql);\r\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\r\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\r\n                + COLUMN_TITLE + &quot; TEXT,&quot;\r\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\r\n                + COLUMN_YEAR + &quot; INTEGER ,&quot;\r\n                + COLUMN_STARS+ &quot; INTEGER )&quot;;\r\n        db.execSQL(createTableSql);\r\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\r\n        // Create table(s) again\r\n        onCreate(db);\r\n\r\n\r\n    }\r\n    public void insertSong(String title, String singers, int year, int stars){\r\n\r\n        // Get an instance of the database for writing\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        // We use ContentValues object to store the values for\r\n        //  the db operation\r\n        ContentValues values = new ContentValues();\r\n        // Store the column name as key and the description as value\r\n        values.put(COLUMN_TITLE, title);\r\n        values.put(COLUMN_SINGERS, singers);\r\n        values.put(COLUMN_YEAR, year);\r\n        values.put(COLUMN_STARS, stars);\r\n\r\n        // Store the column name as key and the date as value\r\n\r\n        // Insert the row into the TABLE_TASK\r\n       db.insert(TABLE_SONG, null, values);\r\n        // Close the database connection\r\n        db.close();\r\n    }\r\n    public ArrayList&lt;song&gt; getAllSongs() {\r\n        ArrayList&lt;song&gt; songlist = new ArrayList&lt;&gt;();\r\n\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\r\n\r\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null,\r\n                null, null, null, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                int id = cursor.getInt(0);\r\n                String title=cursor.getString(1);\r\n                String singers = cursor.getString(2);\r\n                int year=cursor.getInt(3);\r\n                int stars=cursor.getInt(4);\r\n                song Song = new song(id,title,singers,year,stars);\r\n                songlist.add(Song);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n        db.close();\r\n        return songlist;\r\n    }\r\n    public ArrayList&lt;song&gt; getBestSongs() {\r\n        ArrayList&lt;song&gt; bestsonglist = new ArrayList&lt;&gt;();\r\n\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\r\n        String condition = COLUMN_STARS + &quot;= ?&quot;;\r\n        String[] args = {&quot;5&quot;};\r\n        Cursor cursor = db.query(TABLE_SONG, columns, condition, args,\r\n                null, null, null, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                int id = cursor.getInt(0);\r\n                String title=cursor.getString(1);\r\n                String singers = cursor.getString(2);\r\n                int year=cursor.getInt(3);\r\n                int stars=cursor.getInt(4);\r\n                song Song = new song(id,title,singers,year,stars);\r\n                bestsonglist.add(Song);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n        db.close();\r\n        return bestsonglist;\r\n    }\r\n    public int updateSong(song Song) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(COLUMN_TITLE, Song.getTitle());\r\n        values.put(COLUMN_SINGERS, Song.getSingers());\r\n        values.put(COLUMN_YEAR, Song.getYear());\r\n        values.put(COLUMN_STARS, Song.getStars());\r\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\r\n        String[] whereArgs = {String.valueOf(Song.getId())};\r\n        int result=db.update(TABLE_SONG, values, whereClause, whereArgs);\r\n\r\n        if (result &lt; 1) {\r\n            Log.d(&quot;DBHelper&quot;, &quot;Update failed&quot;);\r\n\r\n            db.close();\r\n            return result;\r\n        }\r\n\r\n\r\n        return result;\r\n    }\r\n    public void deleteSong(int songId) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\r\n        String[] whereArgs = {String.valueOf(songId)};\r\n       db.delete(TABLE_SONG, whereClause, whereArgs);\r\n       db.close();\r\n    }}\r\n```\r\n\r\nactivity_edit.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input1&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertTitle&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input2&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertSingers&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input3&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertYear&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input4&quot; /&gt;\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio_group&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.1&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.2&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.3&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.4&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.5&quot; /&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnInsert&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/FinalButton&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnGetTasks&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/ViewListings&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nEditActivity.java:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Parcelable;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class EditActivity extends AppCompatActivity {\r\n    ListView lv;\r\n    ArrayList&lt;song&gt; songsList;\r\n    ArrayAdapter&lt;song&gt; adapter;\r\n    Button fivestarsongs;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit);\r\n\r\n        lv= findViewById(R.id.list_view);\r\n        fivestarsongs=findViewById(R.id.btnShow5starsongs);\r\n        DBHelper db = new DBHelper(EditActivity.this);\r\n\r\n        ArrayList&lt;song&gt; songs = db.getAllSongs();\r\n\r\n        ArrayAdapter&lt;song&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, songs);\r\n        lv.setAdapter(adapter);\r\n        fivestarsongs.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ArrayList&lt;song&gt; BestSongs = db.getBestSongs();\r\n                adapter.clear();\r\n                adapter.addAll(BestSongs);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int\r\n                    position, long id) {\r\n                song ClickedSong = songs.get(position);\r\n                Intent i = new Intent(EditActivity.this,\r\n                        MainActivity2.class);\r\n                i.putExtra(&quot;song&quot;, (CharSequence) ClickedSong);\r\n                startActivity(i);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nactivity_main2.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity2&quot;&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input1&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertTitle&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input2&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertSingers&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input3&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertYear&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input4&quot; /&gt;\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio_group&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.1&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.2&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.3&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.4&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.5&quot; /&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnupdate&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/UpdateButton&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btndelete&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/DeletButton&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnCancel&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/CancelButton&quot; /&gt;\r\n\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMainActivity2.java:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    Button btnUpdate,btnCancel,btnDelete;\r\n    EditText YearInput;\r\n    EditText SongInput;\r\n    EditText SingerInput;\r\n    RadioGroup RadioGroupRating;\r\n\r\n    song selectedSong;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        DBHelper db = new DBHelper(MainActivity2.this);\r\n        Intent intent = getIntent();\r\n        song clickedSong = intent.getParcelableExtra(&quot;song&quot;);\r\n        btnUpdate=findViewById(R.id.btnupdate);\r\n        btnCancel=findViewById(R.id.btnCancel);\r\n        btnDelete=findViewById(R.id.btndelete);\r\n        YearInput=findViewById(R.id.insertYear);\r\n        SongInput=findViewById(R.id.insertTitle);\r\n        SingerInput=findViewById(R.id.insertSingers);\r\n\r\n        RadioGroupRating=findViewById(R.id.radio_group);\r\n\r\n        selectedSong = clickedSong;\r\n        YearInput.setText(clickedSong.getYear());\r\n        SongInput.setText(clickedSong.getTitle());\r\n        SingerInput.setText(clickedSong.getSingers());\r\n        setStarsSelection(selectedSong.getStars());\r\n\r\n\r\n        btnUpdate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                selectedSong.setTitle(SongInput.getText().toString());\r\n                selectedSong.setSingers(SingerInput.getText().toString());\r\n                selectedSong.setYear(Integer.parseInt(YearInput.getText().toString()));\r\n                selectedSong.setStars(getSelectedStars());\r\n                db.updateSong(selectedSong);\r\n                db.close();\r\n                finish();\r\n            }\r\n        });\r\n        btnDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                db.deleteSong(selectedSong.getId());\r\n                db.close();\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n}\r\n\r\n    private int getSelectedStars() {\r\n        int selectedId = RadioGroupRating.getCheckedRadioButtonId();\r\n        RadioButton rbSelected = findViewById(selectedId);\r\n        return Integer.parseInt(rbSelected.getText().toString());\r\n    }\r\n    private void setStarsSelection(int stars) {\r\n        int radioButtonId = 0;\r\n        switch (stars) {\r\n            case 1:\r\n                radioButtonId = R.id.radio_1;\r\n                break;\r\n            case 2:\r\n                radioButtonId = R.id.radio_2;\r\n                break;\r\n            case 3:\r\n                radioButtonId = R.id.radio_3;\r\n                break;\r\n            case 4:\r\n                radioButtonId = R.id.radio_4;\r\n                break;\r\n            case 5:\r\n                radioButtonId = R.id.radio_5;\r\n                break;\r\n        }\r\n        RadioGroupRating.check(radioButtonId);\r\n    }\r\n\r\n\r\n    }\r\n```\r\n\r\nThe issue is when I&#39;m attempting to send a song object at the end of EditActivity(which displays the list) to MainActivity2, as it won&#39;t work at all.\r\n\r\nI tried having Song be converted to other forms, but it ended up causing MainActivity2 to not show up at all before finish() sends me back to MainActivity, instead of fixing it.\r\n\r\n(If there are any other errors pls let me know too).","title":"Can&#39;t transfer Song object","body":"<p>So I was trying to build an android app that is meant to save, retrieve and edit songs.</p>\n<p>It consists of:</p>\n<p>The song class:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.annotation.NonNull;\n\npublic class song {\n    private int id;\n    private String title;\n    private String singers;\n    private int year;\n    private int stars;\n\n\n    public void setSingers(String singers) {\n        this.singers = singers;\n    }\n\n    public void setStars(int stars) {\n        this.stars = stars;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public song (\n                 String title,\n                 String singers,\n                 int year,\n                 int stars\n    ){\n        this.title=title;\n        this.singers=singers;\n        this.year=year;\n        this.stars=stars;\n    }\n    public song (\n            int id,\n            String title,\n            String singers,\n            int year,\n            int stars\n    ){\n        this.id=id;\n        this.title=title;\n        this.singers=singers;\n        this.year=year;\n        this.stars=stars;\n    }\n    public String getTitle() {\n        return title;\n    }\n    public int getId(){\n        return id;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public int getStars() {\n        return stars;\n    }\n\n    public String getSingers() {\n        return singers;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @NonNull\n    @Override\n    public String toString() {\n        return\n                &quot;title='&quot; + title + '\\'' +\n                &quot;, singers='&quot; + singers + '\\'' +\n                &quot;, year=&quot; + year +\n                &quot;, stars=&quot; + stars\n               ;\n    }\n}\n</code></pre>\n<p>activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input1&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertTitle&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input2&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertSingers&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input3&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertYear&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input4&quot; /&gt;\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.1&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.2&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.3&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.4&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.5&quot; /&gt;\n\n    &lt;/RadioGroup&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnInsert&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/FinalButton&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnGetTasks&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/ViewListings&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport android.widget.ToggleButton;\n\nimport java.util.ArrayList;\npublic class MainActivity extends AppCompatActivity {\n\n    Button btnInsert, btnGetSongs;\n    TextView tvResults;\n\n    EditText YearInput;\n    EditText SongInput;\n    EditText SingerInput;\n    RadioGroup RadioGroupRating;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnInsert = findViewById(R.id.btnInsert);\n        btnGetSongs = findViewById(R.id.btnGetTasks);\n        //List View-&gt;\n        YearInput=findViewById(R.id.insertYear);\n        SongInput=findViewById(R.id.insertTitle);\n        SingerInput=findViewById(R.id.insertSingers);\n        RadioGroupRating=findViewById(R.id.radio_group);\n\n\n        btnInsert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                DBHelper db = new DBHelper(MainActivity.this);\n                String title=SongInput.getText().toString();\n                String singers=SingerInput.getText().toString();\n                int year=Integer.parseInt(YearInput.getText().toString());\n\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\n                db.insertSong(title,singers,year,rating);\n\n                SongInput.setText(&quot;&quot;);\n                SingerInput.setText(&quot;&quot;);\n                YearInput.setText(&quot;&quot;);\n                RadioGroupRating.clearCheck();\n            }\n        });\n\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v) {\n                // Create the DBHelper object, passing in the\n                // activity's Context\n\n                // Insert a task\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\n                //Label the actual editactivity EditActivity2\n                startActivity(intent);\n\n\n            }\n        });\n    }\n\n\n\n}\n</code></pre>\n<p>DBHelper:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\n\n\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\n    // increment by 1 whenever db schema changes.\n    private static final int DATABASE_VER = 1;\n    private static final String TABLE_SONG = &quot;song&quot;;\n    private static final String COLUMN_ID = &quot;id&quot;;\n    private static final String COLUMN_TITLE = &quot;title&quot;;\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\n    private static final String COLUMN_YEAR=&quot;year&quot;;\n    private static final String COLUMN_STARS=&quot;stars&quot;;\n    // Filename of the database\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\n\n    public DBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VER);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String dropTableSql = &quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG;\n        db.execSQL(dropTableSql);\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\n                + COLUMN_TITLE + &quot; TEXT,&quot;\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\n                + COLUMN_YEAR + &quot; INTEGER ,&quot;\n                + COLUMN_STARS+ &quot; INTEGER )&quot;;\n        db.execSQL(createTableSql);\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\n        // Create table(s) again\n        onCreate(db);\n\n\n    }\n    public void insertSong(String title, String singers, int year, int stars){\n\n        // Get an instance of the database for writing\n        SQLiteDatabase db = this.getWritableDatabase();\n        // We use ContentValues object to store the values for\n        //  the db operation\n        ContentValues values = new ContentValues();\n        // Store the column name as key and the description as value\n        values.put(COLUMN_TITLE, title);\n        values.put(COLUMN_SINGERS, singers);\n        values.put(COLUMN_YEAR, year);\n        values.put(COLUMN_STARS, stars);\n\n        // Store the column name as key and the date as value\n\n        // Insert the row into the TABLE_TASK\n       db.insert(TABLE_SONG, null, values);\n        // Close the database connection\n        db.close();\n    }\n    public ArrayList&lt;song&gt; getAllSongs() {\n        ArrayList&lt;song&gt; songlist = new ArrayList&lt;&gt;();\n\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\n\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null,\n                null, null, null, null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                int id = cursor.getInt(0);\n                String title=cursor.getString(1);\n                String singers = cursor.getString(2);\n                int year=cursor.getInt(3);\n                int stars=cursor.getInt(4);\n                song Song = new song(id,title,singers,year,stars);\n                songlist.add(Song);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        db.close();\n        return songlist;\n    }\n    public ArrayList&lt;song&gt; getBestSongs() {\n        ArrayList&lt;song&gt; bestsonglist = new ArrayList&lt;&gt;();\n\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\n        String condition = COLUMN_STARS + &quot;= ?&quot;;\n        String[] args = {&quot;5&quot;};\n        Cursor cursor = db.query(TABLE_SONG, columns, condition, args,\n                null, null, null, null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                int id = cursor.getInt(0);\n                String title=cursor.getString(1);\n                String singers = cursor.getString(2);\n                int year=cursor.getInt(3);\n                int stars=cursor.getInt(4);\n                song Song = new song(id,title,singers,year,stars);\n                bestsonglist.add(Song);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        db.close();\n        return bestsonglist;\n    }\n    public int updateSong(song Song) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COLUMN_TITLE, Song.getTitle());\n        values.put(COLUMN_SINGERS, Song.getSingers());\n        values.put(COLUMN_YEAR, Song.getYear());\n        values.put(COLUMN_STARS, Song.getStars());\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\n        String[] whereArgs = {String.valueOf(Song.getId())};\n        int result=db.update(TABLE_SONG, values, whereClause, whereArgs);\n\n        if (result &lt; 1) {\n            Log.d(&quot;DBHelper&quot;, &quot;Update failed&quot;);\n\n            db.close();\n            return result;\n        }\n\n\n        return result;\n    }\n    public void deleteSong(int songId) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\n        String[] whereArgs = {String.valueOf(songId)};\n       db.delete(TABLE_SONG, whereClause, whereArgs);\n       db.close();\n    }}\n</code></pre>\n<p>activity_edit.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input1&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertTitle&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input2&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertSingers&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input3&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertYear&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input4&quot; /&gt;\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.1&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.2&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.3&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.4&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.5&quot; /&gt;\n\n    &lt;/RadioGroup&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnInsert&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/FinalButton&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnGetTasks&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/ViewListings&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>EditActivity.java:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Parcelable;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\n\nimport java.util.ArrayList;\n\npublic class EditActivity extends AppCompatActivity {\n    ListView lv;\n    ArrayList&lt;song&gt; songsList;\n    ArrayAdapter&lt;song&gt; adapter;\n    Button fivestarsongs;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_edit);\n\n        lv= findViewById(R.id.list_view);\n        fivestarsongs=findViewById(R.id.btnShow5starsongs);\n        DBHelper db = new DBHelper(EditActivity.this);\n\n        ArrayList&lt;song&gt; songs = db.getAllSongs();\n\n        ArrayAdapter&lt;song&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, songs);\n        lv.setAdapter(adapter);\n        fivestarsongs.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ArrayList&lt;song&gt; BestSongs = db.getBestSongs();\n                adapter.clear();\n                adapter.addAll(BestSongs);\n                adapter.notifyDataSetChanged();\n            }\n        });\n        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int\n                    position, long id) {\n                song ClickedSong = songs.get(position);\n                Intent i = new Intent(EditActivity.this,\n                        MainActivity2.class);\n                i.putExtra(&quot;song&quot;, (CharSequence) ClickedSong);\n                startActivity(i);\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>activity_main2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input1&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertTitle&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input2&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertSingers&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input3&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertYear&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input4&quot; /&gt;\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.1&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.2&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.3&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.4&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.5&quot; /&gt;\n\n    &lt;/RadioGroup&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnupdate&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/UpdateButton&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btndelete&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/DeletButton&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n    &lt;Button\n        android:id=&quot;@+id/btnCancel&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/CancelButton&quot; /&gt;\n\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>MainActivity2.java:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\npublic class MainActivity2 extends AppCompatActivity {\n\n    Button btnUpdate,btnCancel,btnDelete;\n    EditText YearInput;\n    EditText SongInput;\n    EditText SingerInput;\n    RadioGroup RadioGroupRating;\n\n    song selectedSong;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        DBHelper db = new DBHelper(MainActivity2.this);\n        Intent intent = getIntent();\n        song clickedSong = intent.getParcelableExtra(&quot;song&quot;);\n        btnUpdate=findViewById(R.id.btnupdate);\n        btnCancel=findViewById(R.id.btnCancel);\n        btnDelete=findViewById(R.id.btndelete);\n        YearInput=findViewById(R.id.insertYear);\n        SongInput=findViewById(R.id.insertTitle);\n        SingerInput=findViewById(R.id.insertSingers);\n\n        RadioGroupRating=findViewById(R.id.radio_group);\n\n        selectedSong = clickedSong;\n        YearInput.setText(clickedSong.getYear());\n        SongInput.setText(clickedSong.getTitle());\n        SingerInput.setText(clickedSong.getSingers());\n        setStarsSelection(selectedSong.getStars());\n\n\n        btnUpdate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                selectedSong.setTitle(SongInput.getText().toString());\n                selectedSong.setSingers(SingerInput.getText().toString());\n                selectedSong.setYear(Integer.parseInt(YearInput.getText().toString()));\n                selectedSong.setStars(getSelectedStars());\n                db.updateSong(selectedSong);\n                db.close();\n                finish();\n            }\n        });\n        btnDelete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                db.deleteSong(selectedSong.getId());\n                db.close();\n                finish();\n            }\n        });\n\n\n}\n\n    private int getSelectedStars() {\n        int selectedId = RadioGroupRating.getCheckedRadioButtonId();\n        RadioButton rbSelected = findViewById(selectedId);\n        return Integer.parseInt(rbSelected.getText().toString());\n    }\n    private void setStarsSelection(int stars) {\n        int radioButtonId = 0;\n        switch (stars) {\n            case 1:\n                radioButtonId = R.id.radio_1;\n                break;\n            case 2:\n                radioButtonId = R.id.radio_2;\n                break;\n            case 3:\n                radioButtonId = R.id.radio_3;\n                break;\n            case 4:\n                radioButtonId = R.id.radio_4;\n                break;\n            case 5:\n                radioButtonId = R.id.radio_5;\n                break;\n        }\n        RadioGroupRating.check(radioButtonId);\n    }\n\n\n    }\n</code></pre>\n<p>The issue is when I'm attempting to send a song object at the end of EditActivity(which displays the list) to MainActivity2, as it won't work at all.</p>\n<p>I tried having Song be converted to other forms, but it ended up causing MainActivity2 to not show up at all before finish() sends me back to MainActivity, instead of fixing it.</p>\n<p>(If there are any other errors pls let me know too).</p>\n"},{"tags":["java","mongodb","spring-boot","wildfly","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":1513074,"reputation":1124,"user_id":1414712,"display_name":"Haseeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689836161,"creation_date":1689836161,"answer_id":76727368,"question_id":76702612,"body_markdown":"After few days of head scratching, it was identified MongoClient class was being loaded by multiple ClassLoaders as I added dependency in application pom.xml and on wildfly same mongo java driver jars were placed on server module as well. \r\n\r\nfixed this with following changes in pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n             &lt;archive&gt;\r\n                &lt;manifestEntries&gt;\r\n                   &lt;Dependencies&gt;org.mongodb&lt;/Dependencies&gt;\r\n                &lt;/manifestEntries&gt;\r\n             &lt;/archive&gt;\r\n         &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Connecting to Mongodb in Spring boot with Wildfly 21 JNDI object-factory","body":"<p>After few days of head scratching, it was identified MongoClient class was being loaded by multiple ClassLoaders as I added dependency in application pom.xml and on wildfly same mongo java driver jars were placed on server module as well.</p>\n<p>fixed this with following changes in pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n         &lt;archive&gt;\n            &lt;manifestEntries&gt;\n               &lt;Dependencies&gt;org.mongodb&lt;/Dependencies&gt;\n            &lt;/manifestEntries&gt;\n         &lt;/archive&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1513074,"reputation":1124,"user_id":1414712,"display_name":"Haseeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689836161,"creation_date":1689581802,"question_id":76702612,"body_markdown":"I&#39;m trying to connect to mongodb using wildfly jndi in springboot war application and it is throwing following casting exception: \r\n\r\n    org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#39;java:global/MyMongoClient&#39; is expected to be of type &#39;com.mongodb.client.MongoClient&#39; but was actually of type &#39;com.mongodb.client.internal.MongoClientImpl&#39;\r\n\r\nWildfly 21 Standalone.xml object-factory:\r\n\r\n     &lt;subsystem xmlns=&quot;urn:jboss:domain:naming:2.0&quot;&gt;\r\n            &lt;bindings&gt;\r\n                &lt;object-factory name=&quot;java:global/MyMongoClient&quot; module=&quot;org.mongodb&quot; class=&quot;com.mongodb.client.MongoClientFactory&quot;&gt;\r\n                    &lt;environment&gt;\r\n                        &lt;property name=&quot;connectionString&quot; value=&quot;mongodb://localhost:27017&quot;/&gt;\r\n                    &lt;/environment&gt;\r\n                &lt;/object-factory&gt;\r\n            &lt;/bindings&gt;\r\n            &lt;remote-naming/&gt;\r\n        &lt;/subsystem&gt;\r\n\r\nWildfly 21 mongodb module configurations:\r\n\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;org.mongodb&quot;&gt;  \r\n\t   &lt;resources&gt;  \r\n\t\t\t&lt;resource-root path=&quot;mongodb-driver-sync-4.6.1.jar&quot;/&gt;\r\n\t\t\t&lt;resource-root path=&quot;mongodb-driver-core-4.6.1.jar&quot;/&gt;\t\t   \r\n\t\t\t&lt;resource-root path=&quot;bson-4.6.1.jar&quot;/&gt;\t\t   \r\n\t   &lt;/resources&gt;  \r\n\t   &lt;dependencies&gt;  \r\n\t       &lt;module name=&quot;javax.api&quot;/&gt;  \r\n\t       &lt;module name=&quot;javax.transaction.api&quot;/&gt;  \r\n\t       &lt;module name=&quot;javax.servlet.api&quot; optional=&quot;true&quot;/&gt;  \r\n\t   &lt;/dependencies&gt;  \r\n&lt;/module&gt; \r\n\r\nJava code to look up jndi:\r\n\r\n    @Resource(lookup = &quot;java:global/MyMongoClient&quot;)\r\n\tprivate MongoClient mongoClient;\r\n\r\nnot even working with context lookup:\r\n\r\n    Context ctx = new InitialContext();\r\n\tmongoClient = (MongoClient) ctx.lookup(&quot;java:global/MyMongoClient&quot;);\r\n\r\nI even then try to use direct implemented class rather than interface:\r\n\r\n    @Resource(lookup = &quot;java:global/MyMongoClient&quot;)\r\n\tprivate MongoClientImpl mongoClient;\r\n\r\nStill same error:\r\n\r\n    org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#39;java:global/MyMongoClient&#39; is expected to be of type &#39;com.mongodb.client.internal.MongoClientImpl&#39; but was actually of type &#39;com.mongodb.client.internal.MongoClientImpl&#39;\r\n\r\n\r\nI&#39;m using Spring boot 2.7.13, Java 11, Wildfly 21, mongo-driver 4.6.1, spring-data-mongodb 3.4.13 and mongodb 3.2 \r\n\r\nNeed you guys perspective what I&#39;m missing.","title":"Connecting to Mongodb in Spring boot with Wildfly 21 JNDI object-factory","body":"<p>I'm trying to connect to mongodb using wildfly jndi in springboot war application and it is throwing following casting exception:</p>\n<pre><code>org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'java:global/MyMongoClient' is expected to be of type 'com.mongodb.client.MongoClient' but was actually of type 'com.mongodb.client.internal.MongoClientImpl'\n</code></pre>\n<p>Wildfly 21 Standalone.xml object-factory:</p>\n<pre><code> &lt;subsystem xmlns=&quot;urn:jboss:domain:naming:2.0&quot;&gt;\n        &lt;bindings&gt;\n            &lt;object-factory name=&quot;java:global/MyMongoClient&quot; module=&quot;org.mongodb&quot; class=&quot;com.mongodb.client.MongoClientFactory&quot;&gt;\n                &lt;environment&gt;\n                    &lt;property name=&quot;connectionString&quot; value=&quot;mongodb://localhost:27017&quot;/&gt;\n                &lt;/environment&gt;\n            &lt;/object-factory&gt;\n        &lt;/bindings&gt;\n        &lt;remote-naming/&gt;\n    &lt;/subsystem&gt;\n</code></pre>\n<p>Wildfly 21 mongodb module configurations:</p>\n<pre><code>&lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;org.mongodb&quot;&gt;  \n   &lt;resources&gt;  \n        &lt;resource-root path=&quot;mongodb-driver-sync-4.6.1.jar&quot;/&gt;\n        &lt;resource-root path=&quot;mongodb-driver-core-4.6.1.jar&quot;/&gt;          \n        &lt;resource-root path=&quot;bson-4.6.1.jar&quot;/&gt;         \n   &lt;/resources&gt;  \n   &lt;dependencies&gt;  \n       &lt;module name=&quot;javax.api&quot;/&gt;  \n       &lt;module name=&quot;javax.transaction.api&quot;/&gt;  \n       &lt;module name=&quot;javax.servlet.api&quot; optional=&quot;true&quot;/&gt;  \n   &lt;/dependencies&gt;  \n</code></pre>\n \n<p>Java code to look up jndi:</p>\n<pre><code>@Resource(lookup = &quot;java:global/MyMongoClient&quot;)\nprivate MongoClient mongoClient;\n</code></pre>\n<p>not even working with context lookup:</p>\n<pre><code>Context ctx = new InitialContext();\nmongoClient = (MongoClient) ctx.lookup(&quot;java:global/MyMongoClient&quot;);\n</code></pre>\n<p>I even then try to use direct implemented class rather than interface:</p>\n<pre><code>@Resource(lookup = &quot;java:global/MyMongoClient&quot;)\nprivate MongoClientImpl mongoClient;\n</code></pre>\n<p>Still same error:</p>\n<pre><code>org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'java:global/MyMongoClient' is expected to be of type 'com.mongodb.client.internal.MongoClientImpl' but was actually of type 'com.mongodb.client.internal.MongoClientImpl'\n</code></pre>\n<p>I'm using Spring boot 2.7.13, Java 11, Wildfly 21, mongo-driver 4.6.1, spring-data-mongodb 3.4.13 and mongodb 3.2</p>\n<p>Need you guys perspective what I'm missing.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1689886495,"post_id":76727342,"comment_id":135280814,"body_markdown":"I always advise not to use mocks when testing JPA queries. JPA is a complex API, when testing with mocks you only prove that you called some methods on it - you dont check if you picked the right sequence of methods to get your result. You will be much better off if you test against a db (ideally, same db engine you use on prod - either embedded or dockerized)","body":"I always advise not to use mocks when testing JPA queries. JPA is a complex API, when testing with mocks you only prove that you called some methods on it - you dont check if you picked the right sequence of methods to get your result. You will be much better off if you test against a db (ideally, same db engine you use on prod - either embedded or dockerized)"}],"owner":{"account_id":16466407,"reputation":584,"user_id":11896414,"display_name":"once"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689835896,"creation_date":1689835896,"question_id":76727342,"body_markdown":"I&#39;m trying to write a unit test for a method inside a dao object in which it is using an `EntityManager` to get a `CriteriaBuilder` and then use it to `createQuery`, how to do a mocking of the `CriteriaBuilder` so that it could go on to create the query?\r\n\r\n    @Component\r\n    public class MyDao {\r\n    \r\n     @PersistenceContext\r\n     EntityManager entityManager;\r\n    \r\n     public List&lt;MyEntity&gt; mySearch(Integer offset, Integer Limit) {\r\n       CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n       CriteriaQuery&lt;MyEntity&gt; query = builder.createQuery(MyEntity.class);\r\n       //rest of implementation\r\n       \r\n       return this.entityManager.createQuery(query).setFirstResult(offset).getResultList():\r\n    }\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class TestDao {\r\n    \r\n     @InjectMocks\r\n     private MyDao myDao;\r\n    \r\n     @Mock\r\n     private EntityManager entityManager;\r\n    \r\n     @Test\r\n     public void testSearch() {\r\n       //how to mock entityManager.getCriteriaBuilder() that the created builder\r\n       //could be used to createQuery \r\n       List&lt;MyEntity&gt; result = myDao.search(0, 10);\r\n     } \r\n    }","title":"JUnit test related to criteriaBuilder","body":"<p>I'm trying to write a unit test for a method inside a dao object in which it is using an <code>EntityManager</code> to get a <code>CriteriaBuilder</code> and then use it to <code>createQuery</code>, how to do a mocking of the <code>CriteriaBuilder</code> so that it could go on to create the query?</p>\n<pre><code>@Component\npublic class MyDao {\n\n @PersistenceContext\n EntityManager entityManager;\n\n public List&lt;MyEntity&gt; mySearch(Integer offset, Integer Limit) {\n   CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n   CriteriaQuery&lt;MyEntity&gt; query = builder.createQuery(MyEntity.class);\n   //rest of implementation\n   \n   return this.entityManager.createQuery(query).setFirstResult(offset).getResultList():\n}\n\n\n@RunWith(MockitoJUnitRunner.class)\npublic class TestDao {\n\n @InjectMocks\n private MyDao myDao;\n\n @Mock\n private EntityManager entityManager;\n\n @Test\n public void testSearch() {\n   //how to mock entityManager.getCriteriaBuilder() that the created builder\n   //could be used to createQuery \n   List&lt;MyEntity&gt; result = myDao.search(0, 10);\n } \n}\n</code></pre>\n"},{"tags":["java","ldap"],"answers":[{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497521719,"creation_date":1495700849,"answer_id":44175826,"question_id":44158134,"body_markdown":"Assuming the schema has been modified for the &quot;single custom attribute&quot;.\r\n(you do not cover that in the question), you probably need to create the user then add the custom attribute value AFTER the Add operation. ","title":"Java LDAP user creation with custom attribute","body":"<p>Assuming the schema has been modified for the \"single custom attribute\".\n(you do not cover that in the question), you probably need to create the user then add the custom attribute value AFTER the Add operation. </p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495701950,"creation_date":1495701950,"answer_id":44176154,"question_id":44158134,"body_markdown":"Unless you have modified the schema for one of those `objectClass`-es, you need to add the `extensibleObject` object class to use custom attributes.","title":"Java LDAP user creation with custom attribute","body":"<p>Unless you have modified the schema for one of those <code>objectClass</code>-es, you need to add the <code>extensibleObject</code> object class to use custom attributes.</p>\n"},{"tags":[],"owner":{"account_id":14107217,"reputation":11,"user_id":10190959,"display_name":"Bilcan Costinel-Bogdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689835542,"creation_date":1689835542,"answer_id":76727308,"question_id":44158134,"body_markdown":"Have you tried defining your custom attribute the same way like all the others above ?\r\n\r\n    Attribute loginId= new BasicAttribute(&quot;loginId&quot;, &quot;aaa&quot;);\r\n    ---\r\n    container.put(loginId);\r\n\r\n","title":"Java LDAP user creation with custom attribute","body":"<p>Have you tried defining your custom attribute the same way like all the others above ?</p>\n<pre><code>Attribute loginId= new BasicAttribute(&quot;loginId&quot;, &quot;aaa&quot;);\n---\ncontainer.put(loginId);\n</code></pre>\n"}],"owner":{"account_id":1244859,"reputation":1348,"user_id":1206536,"accept_rate":63,"display_name":"Alpay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689835542,"creation_date":1495627998,"question_id":44158134,"body_markdown":"I am trying to create an LDAP user with a single custom attribute, but I am getting a \r\n\r\n    javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - 0000207D: UpdErr: DSID-0315166D, problem 6002 (OBJ_CLASS_VIOLATION), data -2131045114\r\n\r\nWhen I remove the `userId` custom attribute from the code, it runs perfectly and so that i can create the user, but this custom attribute is used by a third party app and I should create it with this attribute for sure.\r\n\r\nCan you give me any idea about what is going on with this attribute? What can be the problem? Thanks\r\n\r\nHere is the code that i am getting the error:\r\n\r\n    Attributes container = new BasicAttributes();\r\n    \r\n    \t\tAttribute objClasses = new BasicAttribute(&quot;objectClass&quot;);\r\n    \t\tobjClasses.add(&quot;top&quot;);\r\n    \t\tobjClasses.add(&quot;person&quot;);\r\n    \t\tobjClasses.add(&quot;organizationalPerson&quot;);\r\n    \t\tobjClasses.add(&quot;user&quot;);\r\n    \r\n    \t\tthis.cnValue = new StringBuffer(firstName).append(&quot; &quot;).append(lastName).toString();\r\n    \t\tAttribute cn = new BasicAttribute(&quot;cn&quot;, cnValue);\r\n    \t\tAttribute sAMAccountName = new BasicAttribute(&quot;sAMAccountName&quot;, userName);\r\n    \t\tAttribute principalName = new BasicAttribute(&quot;userPrincipalName&quot;, userName + &quot;@&quot; + DOMAIN_NAME);\r\n    \t\tAttribute givenName = new BasicAttribute(&quot;givenName&quot;, firstName);\r\n    \t\tAttribute sn = new BasicAttribute(&quot;sn&quot;, lastName);\r\n    \t\tAttribute uid = new BasicAttribute(&quot;uid&quot;, userName);\r\n    \t\tAttribute sshPublicKey = new BasicAttribute(&quot;sshPublicKey&quot;, &quot;AAAAAAAAAAAAAAAAAAAAAAAA&quot;);\r\n\r\n    \t\tAttribute userPassword = new BasicAttribute(&quot;userpassword&quot;, password);\r\n    \r\n    \t\tcontainer.put(objClasses);\r\n    \t\tcontainer.put(sAMAccountName);\r\n    \t\tcontainer.put(principalName);\r\n    \t\tcontainer.put(cn);\r\n    \t\tcontainer.put(sn);\r\n    \t\tcontainer.put(givenName);\r\n    \t\tcontainer.put(uid);\r\n    \t\tcontainer.put(userPassword);\r\n    \t\tcontainer.put(sshPublicKey);\r\n    \r\n    \t\tcontainer.put(&quot;loginId&quot;, &quot;aaa&quot;); //When I remove this, user can be created successfully\r\n    \t\t\t\r\n    \t\tthis.context.createSubcontext(getUserDN(cnValue, organisationUnit), container);","title":"Java LDAP user creation with custom attribute","body":"<p>I am trying to create an LDAP user with a single custom attribute, but I am getting a </p>\n\n<pre><code>javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - 0000207D: UpdErr: DSID-0315166D, problem 6002 (OBJ_CLASS_VIOLATION), data -2131045114\n</code></pre>\n\n<p>When I remove the <code>userId</code> custom attribute from the code, it runs perfectly and so that i can create the user, but this custom attribute is used by a third party app and I should create it with this attribute for sure.</p>\n\n<p>Can you give me any idea about what is going on with this attribute? What can be the problem? Thanks</p>\n\n<p>Here is the code that i am getting the error:</p>\n\n<pre><code>Attributes container = new BasicAttributes();\n\n        Attribute objClasses = new BasicAttribute(\"objectClass\");\n        objClasses.add(\"top\");\n        objClasses.add(\"person\");\n        objClasses.add(\"organizationalPerson\");\n        objClasses.add(\"user\");\n\n        this.cnValue = new StringBuffer(firstName).append(\" \").append(lastName).toString();\n        Attribute cn = new BasicAttribute(\"cn\", cnValue);\n        Attribute sAMAccountName = new BasicAttribute(\"sAMAccountName\", userName);\n        Attribute principalName = new BasicAttribute(\"userPrincipalName\", userName + \"@\" + DOMAIN_NAME);\n        Attribute givenName = new BasicAttribute(\"givenName\", firstName);\n        Attribute sn = new BasicAttribute(\"sn\", lastName);\n        Attribute uid = new BasicAttribute(\"uid\", userName);\n        Attribute sshPublicKey = new BasicAttribute(\"sshPublicKey\", \"AAAAAAAAAAAAAAAAAAAAAAAA\");\n\n        Attribute userPassword = new BasicAttribute(\"userpassword\", password);\n\n        container.put(objClasses);\n        container.put(sAMAccountName);\n        container.put(principalName);\n        container.put(cn);\n        container.put(sn);\n        container.put(givenName);\n        container.put(uid);\n        container.put(userPassword);\n        container.put(sshPublicKey);\n\n        container.put(\"loginId\", \"aaa\"); //When I remove this, user can be created successfully\n\n        this.context.createSubcontext(getUserDN(cnValue, organisationUnit), container);\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":1,"creation_date":1529081201,"post_id":50879431,"comment_id":88761542,"body_markdown":"List&lt;LoginProjection&gt; findAllProjectedBy();","body":"List&lt;LoginProjection&gt; findAllProjectedBy();"},{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":0,"creation_date":1529081685,"post_id":50879431,"comment_id":88761772,"body_markdown":"You may need to annotate projection interface with the @Projection annotation: @Projection(name = &quot;name&quot; , types = Login.class)","body":"You may need to annotate projection interface with the @Projection annotation: @Projection(name = &quot;name&quot; , types = Login.class)"}],"answers":[{"comments":[{"owner":{"account_id":4360936,"reputation":653,"user_id":3558040,"display_name":"xkothe"},"score":1,"creation_date":1529086122,"post_id":50880684,"comment_id":88763638,"body_markdown":"Actually &quot;List&lt;LoginProjection&gt; findAllProjectedBy();&quot; is enough! Thanks","body":"Actually &quot;List&lt;LoginProjection&gt; findAllProjectedBy();&quot; is enough! Thanks"},{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":0,"creation_date":1529086251,"post_id":50880684,"comment_id":88763705,"body_markdown":"Applied your comment :)","body":"Applied your comment :)"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":13,"creation_date":1529132631,"post_id":50880684,"comment_id":88773174,"body_markdown":"All you need is `findBy()` the part between `find` and `By` gets ignored by the query generation.","body":"All you need is <code>findBy()</code> the part between <code>find</code> and <code>By</code> gets ignored by the query generation."},{"owner":{"account_id":1053670,"reputation":921,"user_id":1056903,"accept_rate":56,"display_name":"user1056903"},"score":0,"creation_date":1579823855,"post_id":50880684,"comment_id":105906048,"body_markdown":"@JensSchauder If the part between `find` and `By` does not start with an upper case character, it fails.","body":"@JensSchauder If the part between <code>find</code> and <code>By</code> does not start with an upper case character, it fails."},{"owner":{"account_id":95106,"reputation":12577,"user_id":259237,"accept_rate":67,"display_name":"Andr&#233;"},"score":1,"creation_date":1591463885,"post_id":50880684,"comment_id":110068223,"body_markdown":"Where did you find that? There&#39;s zero mention to &quot;ProjectedBy&quot; at https://docs.spring.io/spring-data/jpa/docs/current/reference/html/","body":"Where did you find that? There&#39;s zero mention to &quot;ProjectedBy&quot; at <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html</a>"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1591729733,"post_id":50880684,"comment_id":110165625,"body_markdown":"@Andr&#233;  I agree.  Where is this voodoo documented????  Upvote for this answer, but no idea how it was figured out or a reference.","body":"@Andr&#233;  I agree.  Where is this voodoo documented????  Upvote for this answer, but no idea how it was figured out or a reference."},{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":0,"creation_date":1591820162,"post_id":50880684,"comment_id":110205690,"body_markdown":"Here: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections. If we apply the comment from Jens Schauder and left only findBy(), it will match the documentation example.","body":"Here: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>&zwnj;&#8203;. If we apply the comment from Jens Schauder and left only findBy(), it will match the documentation example."},{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":0,"creation_date":1591820346,"post_id":50880684,"comment_id":110205776,"body_markdown":"I, probably, need to change my answer and apply Jens&#39; comment.","body":"I, probably, need to change my answer and apply Jens&#39; comment."},{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1674470298,"post_id":50880684,"comment_id":132713152,"body_markdown":"I think `ProjectedBy` is specific to OP&#39;s question. For all others, the answer is just &#39;findBy()`.","body":"I think <code>ProjectedBy</code> is specific to OP&#39;s question. For all others, the answer is just &#39;findBy()`."}],"tags":[],"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"comment_count":9,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1591820592,"creation_date":1529085958,"answer_id":50880684,"question_id":50879431,"body_markdown":"And add a method to the repository:\r\n\r\n\r\n    List&lt;LoginProjection&gt; findAllProjectedBy();\r\n\r\nThe method name can be simplified to `findBy()` to match the documentation example at https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\r\n\r\n","title":"Spring JPA Projection findAll","body":"<p>And add a method to the repository:</p>\n\n<pre><code>List&lt;LoginProjection&gt; findAllProjectedBy();\n</code></pre>\n\n<p>The method name can be simplified to <code>findBy()</code> to match the documentation example at <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections</a></p>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":1,"creation_date":1591731948,"post_id":56751379,"comment_id":110166701,"body_markdown":"This was helpful.  Here is the anchor/link : https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projection.dynamic","body":"This was helpful.  Here is the anchor/link : <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projection.dynamic\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1561456662,"creation_date":1561456662,"answer_id":56751379,"question_id":50879431,"body_markdown":"I assume you&#39;re not using [Spring Data REST][1], so `@Projection` won&#39;t help here. @pavel-molchanov showed one form of expressing the projection, another form is:\r\n\r\n    List&lt;LoginProjection&gt; findBy();\r\n\r\nIf you have more than one projection, you can avoid creating a method in the repository for each projection by using [dynamic projections][2] like e.g. this:\r\n\r\n    &lt;T&gt; List&lt;T&gt; findBy(Class&lt;T&gt; projection);\r\n    \r\n    // usage e.g.\r\n    ... = findBy(LoginProjection.class);\r\n    ... = findBy(UserSummaryProjection.class);\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-data-rest#overview\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projection.dynamic","title":"Spring JPA Projection findAll","body":"<p>I assume you're not using <a href=\"https://spring.io/projects/spring-data-rest#overview\" rel=\"noreferrer\">Spring Data REST</a>, so <code>@Projection</code> won't help here. @pavel-molchanov showed one form of expressing the projection, another form is:</p>\n\n<pre><code>List&lt;LoginProjection&gt; findBy();\n</code></pre>\n\n<p>If you have more than one projection, you can avoid creating a method in the repository for each projection by using <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projection.dynamic\" rel=\"noreferrer\">dynamic projections</a> like e.g. this:</p>\n\n<pre><code>&lt;T&gt; List&lt;T&gt; findBy(Class&lt;T&gt; projection);\n\n// usage e.g.\n... = findBy(LoginProjection.class);\n... = findBy(UserSummaryProjection.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4370300,"reputation":1338,"user_id":3564882,"accept_rate":77,"display_name":"Gavi"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1637073012,"creation_date":1637073012,"answer_id":69990987,"question_id":50879431,"body_markdown":"if you want to be more flexible you can add to the repository this method\r\n\r\n    &lt;T&gt; List&lt;T&gt; findBy(Class&lt;T&gt; projection);\r\n\r\nand then you can call it with the following\r\n\r\n    List&lt;LoginProjection&gt; rows = loginRepository.findBy(LoginProjection.class);\r\n\r\nThe advantage of this approach is that you can use all the projections you want using the same query","title":"Spring JPA Projection findAll","body":"<p>if you want to be more flexible you can add to the repository this method</p>\n<pre><code>&lt;T&gt; List&lt;T&gt; findBy(Class&lt;T&gt; projection);\n</code></pre>\n<p>and then you can call it with the following</p>\n<pre><code>List&lt;LoginProjection&gt; rows = loginRepository.findBy(LoginProjection.class);\n</code></pre>\n<p>The advantage of this approach is that you can use all the projections you want using the same query</p>\n"}],"owner":{"account_id":4360936,"reputation":653,"user_id":3558040,"display_name":"xkothe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20103,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":50880684,"answer_count":3,"score":30,"last_activity_date":1689835271,"creation_date":1529079632,"question_id":50879431,"body_markdown":"Is it possible to use &quot;findAll&quot; for a JPARepository returning a Collection/List of Projections?\r\nExample:\r\n\r\n\t@Entity\r\n\tpublic class Login {\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n\t\t@GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n\t\tprivate Integer id;\r\n\r\n\t\tprivate String name;\r\n\r\n        private String pass;\r\n\r\n        (...)\r\n\t\r\n   }\r\n\r\n    public interface LoginProjection {\r\n        public String getName();\r\n    }\r\n\r\n    @Repository\r\n    public interface LoginRepository extends JpaRepository&lt;Login, Long&gt; {\r\n\t    Login findByName(String name);\r\n\r\n\t    @Query(value = &quot;SELECT name FROM login&quot;, nativeQuery = true)\r\n\t    List&lt;LoginProjection&gt; findAllLoginProjection();\r\n    }\r\n\r\n\r\nUsing @Query it works! But it is not possible to use \r\n\r\n     List&lt;LoginProjection&gt; findAll();\r\n\r\nBecause LoginProjection does not extends T (Login).\r\n\r\nI was thinking if it is possible to give an &quot;alias&quot; for findAll like findAllXYZ that does the same thing as findAll.\r\nUsing filters it works too, but I do not want to use them:\r\n\r\n     List&lt;LoginProjection&gt; findAllByName(String name);\r\n\r\nMy main goal would be something like this:\r\n\r\n    @Repository\r\n    public interface LoginRepository extends JpaRepository&lt;Login, Long&gt; {\r\n\t    Login findByName(String name);\r\n\r\n\t    List&lt;Login&gt; findAll();\r\n\r\n\t    List&lt;LoginProjection&gt; findAllLoginProjection();\r\n    }\r\n\r\nWhich is pretty easy and with &quot;zero @Query&quot;","title":"Spring JPA Projection findAll","body":"<p>Is it possible to use &quot;findAll&quot; for a JPARepository returning a Collection/List of Projections?\nExample:</p>\n<pre><code>@Entity\npublic class Login {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private Integer id;\n\n    private String name;\n\n    private String pass;\n\n    (...)\n</code></pre>\n<p>}</p>\n<pre><code>public interface LoginProjection {\n    public String getName();\n}\n\n@Repository\npublic interface LoginRepository extends JpaRepository&lt;Login, Long&gt; {\n    Login findByName(String name);\n\n    @Query(value = &quot;SELECT name FROM login&quot;, nativeQuery = true)\n    List&lt;LoginProjection&gt; findAllLoginProjection();\n}\n</code></pre>\n<p>Using @Query it works! But it is not possible to use</p>\n<pre><code> List&lt;LoginProjection&gt; findAll();\n</code></pre>\n<p>Because LoginProjection does not extends T (Login).</p>\n<p>I was thinking if it is possible to give an &quot;alias&quot; for findAll like findAllXYZ that does the same thing as findAll.\nUsing filters it works too, but I do not want to use them:</p>\n<pre><code> List&lt;LoginProjection&gt; findAllByName(String name);\n</code></pre>\n<p>My main goal would be something like this:</p>\n<pre><code>@Repository\npublic interface LoginRepository extends JpaRepository&lt;Login, Long&gt; {\n    Login findByName(String name);\n\n    List&lt;Login&gt; findAll();\n\n    List&lt;LoginProjection&gt; findAllLoginProjection();\n}\n</code></pre>\n<p>Which is pretty easy and with &quot;zero @Query&quot;</p>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689687585,"post_id":76713061,"comment_id":135246783,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689769712,"creation_date":1689769712,"answer_id":76721290,"question_id":76713061,"body_markdown":"The examples&#39;s old vehicle-routing implementation use measureless numbers for service duration and travel time. Not durations/time. That&#39;s messy in the real world.\r\n\r\nThe new [vehicle-routing-time-windows quickstart][1] in Timefold (fork of OptaPlanner, also open source) uses ISO formatted times and durations. Travel time is calculated by haversine. It has curl instructions to get a sample JSON file (look for the Guide link in the top).\r\n\r\n\r\n  [1]: https://github.com/TimefoldAI/timefold-quickstarts/tree/stable/use-cases/vehicle-routing-time-windows","title":"which time format is used in optaplanner for the vehicle routing problem time windowed with JSON file","body":"<p>The examples's old vehicle-routing implementation use measureless numbers for service duration and travel time. Not durations/time. That's messy in the real world.</p>\n<p>The new <a href=\"https://github.com/TimefoldAI/timefold-quickstarts/tree/stable/use-cases/vehicle-routing-time-windows\" rel=\"nofollow noreferrer\">vehicle-routing-time-windows quickstart</a> in Timefold (fork of OptaPlanner, also open source) uses ISO formatted times and durations. Travel time is calculated by haversine. It has curl instructions to get a sample JSON file (look for the Guide link in the top).</p>\n"}],"owner":{"account_id":29041753,"reputation":5,"user_id":22246475,"display_name":"Manal Awada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721290,"answer_count":1,"score":0,"last_activity_date":1689835010,"creation_date":1689685282,"question_id":76713061,"body_markdown":"I use JSON file exists in example in optaplanner for the vehicle routing problem time windowed, but I have a problem with time window format. What is the best format recognized by this file? \r\nthank you. \r\n\r\nI tried hours format, the window time is well represented on the graph, but the solution is not optimal, then I tried minutes and seconds format, the time windows is not represented on the graph.","title":"which time format is used in optaplanner for the vehicle routing problem time windowed with JSON file","body":"<p>I use JSON file exists in example in optaplanner for the vehicle routing problem time windowed, but I have a problem with time window format. What is the best format recognized by this file?\nthank you.</p>\n<p>I tried hours format, the window time is well represented on the graph, but the solution is not optimal, then I tried minutes and seconds format, the time windows is not represented on the graph.</p>\n"},{"tags":["java","mysql","jdbc","nullpointerexception"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1689830263,"post_id":76726821,"comment_id":135269388,"body_markdown":"`PreparedStatement statement = null;` - yes it is.","body":"<code>PreparedStatement statement = null;</code> - yes it is."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1689830563,"post_id":76726821,"comment_id":135269425,"body_markdown":"You don’t want connection and statement to be instance variables, but rather local variables. It’s not safe to share them between threads.","body":"You don’t want connection and statement to be instance variables, but rather local variables. It’s not safe to share them between threads."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1689833303,"post_id":76726821,"comment_id":135269742,"body_markdown":"You really should consult the JDBC tutorial by Oracle, and the example JDBC code shown in the many existing Answers on this site.","body":"You really should consult the JDBC tutorial by Oracle, and the example JDBC code shown in the many existing Answers on this site."}],"answers":[{"comments":[{"owner":{"account_id":27027144,"reputation":11,"user_id":20584211,"display_name":"Divyesh Kuchhadia"},"score":0,"creation_date":1689840587,"post_id":76726881,"comment_id":135271113,"body_markdown":"i tride uncommenting it and with removing the null in following code \n\nConnection connection = null;\nPreparedStatement statement = null;\n\nand this error is showing up\n\n Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.connection&quot; is null","body":"i tride uncommenting it and with removing the null in following code   Connection connection = null; PreparedStatement statement = null;  and this error is showing up   Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;this.connection&quot; is null"}],"tags":[],"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689830576,"creation_date":1689830576,"answer_id":76726881,"question_id":76726821,"body_markdown":"You need to create the Statement object before setting any paraameter on that,  please uncomment the line\r\n\r\n    //statement = connection.prepareStatement(&quot;Your SQL Query here&quot;);\r\n\r\nonly after this you can use\r\n\r\n    statement.setString","title":"I am getting null pointer exception in servlet prepared statement","body":"<p>You need to create the Statement object before setting any paraameter on that,  please uncomment the line</p>\n<pre><code>//statement = connection.prepareStatement(&quot;Your SQL Query here&quot;);\n</code></pre>\n<p>only after this you can use</p>\n<pre><code>statement.setString\n</code></pre>\n"}],"owner":{"account_id":27027144,"reputation":11,"user_id":20584211,"display_name":"Divyesh Kuchhadia"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1689833185,"answer_count":1,"score":-2,"last_activity_date":1689834893,"creation_date":1689829696,"question_id":76726821,"body_markdown":"java.lang.NullPointerException: Cannot invoke &quot;java.sql.PreparedStatement.setString(int, String)&quot; because &quot;this.statement&quot; is null\r\n\r\nRegistartion.java\r\n```\r\npackage in.adit.controller;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/Registration&quot;)\r\npublic class Registration extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate static final String URL = &quot;jdbc:mysql://localhost:3306/user&quot;;\r\n\tprivate static final String USERNAME = &quot;root&quot;;\r\n\tprivate static final String PASSWORD = &quot;&quot;;\r\n\r\n\tConnection connection = null;\r\n\tPreparedStatement statement = null;\r\n\r\n\tpublic Registration() {\r\n\t\tsuper();\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tconnection = DriverManager.getConnection(URL, USERNAME, PASSWORD);\r\n\t\t\tSystem.out.println(&quot;Connect established succesfully&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected void service(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString un = request.getParameter(&quot;username&quot;);\r\n\t\tString pass = request.getParameter(&quot;password&quot;);\r\n\t\tString firstName = request.getParameter(&quot;password&quot;);\r\n\t\tString lastName = request.getParameter(&quot;password&quot;);\r\n\t\tString email = request.getParameter(&quot;password&quot;);\r\n\t\tString m = request.getParameter(&quot;mobile&quot;);\r\n\t\tSystem.out.println(m);\r\n\t\tLong mobile = Long.parseLong(m);\r\n\r\n\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\tPrintWriter out = response.getWriter();\t\t\r\n\t\ttry {\r\n\t\t\tString query2 = &quot;INSERT INTO login_tbl VALUES (?,?)&quot;;\r\n\t\t\t//statement = connection.prepareStatement(query2);\r\n\t\t\tstatement.setString(1,un);\r\n\t\t\tstatement.setString(2,pass);\r\n\t\t\tstatement.execute(query2);\r\n\t\t\tSystem.out.println(&quot;Query 2 Executed...&quot;);\r\n\t\t\t\r\n\t\t\tString query = &quot;INSERT INTO user_info_tbl VALUES (?,?,?,?,?)&quot;;\r\n\t\t\t//statement = connection.prepareStatement(query);\r\n\t\t\tstatement.setString(1, un);\r\n\t\t\tstatement.setString(2, firstName);\r\n\t\t\tstatement.setString(3, lastName);\r\n\t\t\tstatement.setString(4, email);\r\n\t\t\tstatement.setLong(5, mobile);\r\n\t\t\tstatement.execute(query);\r\n\t\t\tSystem.out.println(&quot;Query 1 Executed...&quot;);\r\n\t\t\t\r\n\t\t\tresponse.sendRedirect(&quot;login.jsp&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\tout.println(e);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nSigup.html\r\n\r\n&lt;%@include file=&quot;components/header.jsp&quot; %&gt;\r\n&lt;%@include file=&quot;components/navbar.jsp&quot; %&gt;\r\n&lt;div class=&quot;row&quot;&gt;\r\n\t&lt;div class=&quot;col-md-4&quot;&gt;&lt;/div&gt;\r\n\t&lt;div class=&quot;col-md-4&quot;&gt;\r\n\t\t&lt;div class=&quot;card&quot;&gt;\r\n\t\t\t&lt;div class=&quot;card-header bg-danger&quot;&gt;Create Account&lt;/div&gt;\r\n\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n\r\n\t\t\t\t&lt;form action=&quot;Registration&quot; method=&quot;get&quot;&gt;\r\n\t\t\t\t&lt;table class=&quot;table table-borderless&quot;&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot;\r\n\t\t\t\t\t\t\tplaceholder=&quot;Enter Username&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;password&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\t\tname=&quot;password&quot; placeholder=&quot;Enter Password&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;firstname&quot;\r\n\t\t\t\t\t\t\tplaceholder=&quot;Enter Firstname&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;lastname&quot;\r\n\t\t\t\t\t\t\tplaceholder=&quot;Enter Lastname&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;email&quot; class=&quot;form-control&quot; name=&quot;email&quot;\r\n\t\t\t\t\t\t\tplaceholder=&quot;Enter Email&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;tel&quot; class=&quot;form-control&quot; name=&quot;mobile&quot;\r\n\t\t\t\t\t\t\tplaceholder=&quot;Mobile Number 10 digit&quot; pattern=&quot;[0-9]{10}&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;submit&quot; class=&quot;btn btn-danger&quot;\r\n\t\t\t\t\t\t\tvalue=&quot;Create Account&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;/table&gt;\r\n\t\t\t\t&lt;/form&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;div class=&quot;col-md-4&quot;&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;%@include file=&quot;components/footer.jsp&quot; %&gt;0\r\n```\r\n\r\n\r\n\r\nI tried query directly putting in mySql db in xamp here are my code it worked so query is correct and get method in jsp showing all parameter passing in url\r\n\r\n\r\n","title":"I am getting null pointer exception in servlet prepared statement","body":"<p>java.lang.NullPointerException: Cannot invoke &quot;java.sql.PreparedStatement.setString(int, String)&quot; because &quot;this.statement&quot; is null</p>\n<p>Registartion.java</p>\n<pre><code>package in.adit.controller;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/Registration&quot;)\npublic class Registration extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    private static final String URL = &quot;jdbc:mysql://localhost:3306/user&quot;;\n    private static final String USERNAME = &quot;root&quot;;\n    private static final String PASSWORD = &quot;&quot;;\n\n    Connection connection = null;\n    PreparedStatement statement = null;\n\n    public Registration() {\n        super();\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(URL, USERNAME, PASSWORD);\n            System.out.println(&quot;Connect established succesfully&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    protected void service(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        String un = request.getParameter(&quot;username&quot;);\n        String pass = request.getParameter(&quot;password&quot;);\n        String firstName = request.getParameter(&quot;password&quot;);\n        String lastName = request.getParameter(&quot;password&quot;);\n        String email = request.getParameter(&quot;password&quot;);\n        String m = request.getParameter(&quot;mobile&quot;);\n        System.out.println(m);\n        Long mobile = Long.parseLong(m);\n\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();     \n        try {\n            String query2 = &quot;INSERT INTO login_tbl VALUES (?,?)&quot;;\n            //statement = connection.prepareStatement(query2);\n            statement.setString(1,un);\n            statement.setString(2,pass);\n            statement.execute(query2);\n            System.out.println(&quot;Query 2 Executed...&quot;);\n            \n            String query = &quot;INSERT INTO user_info_tbl VALUES (?,?,?,?,?)&quot;;\n            //statement = connection.prepareStatement(query);\n            statement.setString(1, un);\n            statement.setString(2, firstName);\n            statement.setString(3, lastName);\n            statement.setString(4, email);\n            statement.setLong(5, mobile);\n            statement.execute(query);\n            System.out.println(&quot;Query 1 Executed...&quot;);\n            \n            response.sendRedirect(&quot;login.jsp&quot;);\n        } catch (SQLException e) {\n            out.println(e);\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n<pre><code>Sigup.html\n\n&lt;%@include file=&quot;components/header.jsp&quot; %&gt;\n&lt;%@include file=&quot;components/navbar.jsp&quot; %&gt;\n&lt;div class=&quot;row&quot;&gt;\n    &lt;div class=&quot;col-md-4&quot;&gt;&lt;/div&gt;\n    &lt;div class=&quot;col-md-4&quot;&gt;\n        &lt;div class=&quot;card&quot;&gt;\n            &lt;div class=&quot;card-header bg-danger&quot;&gt;Create Account&lt;/div&gt;\n            &lt;div class=&quot;card-body&quot;&gt;\n\n                &lt;form action=&quot;Registration&quot; method=&quot;get&quot;&gt;\n                &lt;table class=&quot;table table-borderless&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot;\n                            placeholder=&quot;Enter Username&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;input type=&quot;password&quot; class=&quot;form-control&quot;\n                            name=&quot;password&quot; placeholder=&quot;Enter Password&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;firstname&quot;\n                            placeholder=&quot;Enter Firstname&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;lastname&quot;\n                            placeholder=&quot;Enter Lastname&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;input type=&quot;email&quot; class=&quot;form-control&quot; name=&quot;email&quot;\n                            placeholder=&quot;Enter Email&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;input type=&quot;tel&quot; class=&quot;form-control&quot; name=&quot;mobile&quot;\n                            placeholder=&quot;Mobile Number 10 digit&quot; pattern=&quot;[0-9]{10}&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&lt;input type=&quot;submit&quot; class=&quot;btn btn-danger&quot;\n                            value=&quot;Create Account&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;col-md-4&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;%@include file=&quot;components/footer.jsp&quot; %&gt;0\n</code></pre>\n<p>I tried query directly putting in mySql db in xamp here are my code it worked so query is correct and get method in jsp showing all parameter passing in url</p>\n"},{"tags":["java","android","drawable","draw","shapes"],"answers":[{"tags":[],"owner":{"account_id":1413289,"reputation":4397,"user_id":1339473,"accept_rate":35,"display_name":"QuokMoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396856407,"creation_date":1396856407,"answer_id":22906299,"question_id":22905838,"body_markdown":"&gt; Use this one code\r\n\r\n        class MyView extends View {\r\n                  Paint paint1 = new Paint();\r\n        \t\tPaint paint2 = new Paint();\r\n        \t\tPaint paint3 = new Paint();\r\n        \t\tPaint paint4 = new Paint();\r\n        \t\tPaint paint5 = new Paint();\r\n        \t\tfinal RectF rect = new RectF();\r\n                 int mRadius = 130;\r\n    \t@Override\r\n    \t\tprotected void onDraw(Canvas canvas) {\r\n    \t\t\tsuper.onDraw(canvas);\r\n        \t\t\t// Example values\r\n        \t\t\trect.set(getWidth() / 2 - mRadius, getHeight() / 2 - mRadius,\r\n        \t\t\t\t\tgetWidth() / 2 + mRadius, getHeight() / 2 + mRadius);\r\n        \t\t\tpaint1.setColor(Color.RED);\r\n        \t\t\tpaint1.setStrokeWidth(16);\r\n        \t\t\tpaint1.setAntiAlias(true);\r\n        \t\t\tpaint1.setStrokeCap(Paint.Cap.BUTT);\r\n        \t\t\tpaint1.setStyle(Paint.Style.STROKE);\r\n        \t\t\tpaint2.setColor(Color.RED);\r\n        \t\t\tpaint2.setStrokeWidth(mRadius / 2);\r\n        \t\t\tpaint2.setAntiAlias(true);\r\n        \t\t\tpaint2.setStrokeCap(Paint.Cap.BUTT);\r\n        \t\t\tpaint2.setStyle(Paint.Style.STROKE);\r\n        \t\t\tpaint3.setColor(Color.RED);\r\n        \t\t\tpaint3.setStrokeWidth(16);\r\n        \t\t\tpaint3.setAntiAlias(true);\r\n        \t\t\tpaint3.setStrokeCap(Paint.Cap.BUTT);\r\n        \t\t\tpaint3.setStyle(Paint.Style.STROKE);\r\n        \t\t\tcanvas.drawArc(rect, 0, 3600, false, paint1);\r\n        \r\n        \t\t\tcanvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\r\n        \t\t\t\t\t- mRadius, getHeight() / 2 - mRadius, paint3);\r\n        \r\n        \t\t\tcanvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\r\n        \t\t\t\t\t+ mRadius, getHeight() / 2 - mRadius, paint3);\r\n        \r\n        \t\t\tcanvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\r\n        \t\t\t\t\t- mRadius, getHeight() / 2 + mRadius, paint3);\r\n        \r\n        \t\t\tcanvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\r\n        \t\t\t\t\t+ mRadius , getHeight() / 2 + mRadius , paint3);\r\n      }\r\n    }\r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Hz9f5.png","title":"How to create a custom shape in android: Cross Over A Circle","body":"<blockquote>\n  <p>Use this one code</p>\n</blockquote>\n\n<pre><code>    class MyView extends View {\n              Paint paint1 = new Paint();\n            Paint paint2 = new Paint();\n            Paint paint3 = new Paint();\n            Paint paint4 = new Paint();\n            Paint paint5 = new Paint();\n            final RectF rect = new RectF();\n             int mRadius = 130;\n    @Override\n        protected void onDraw(Canvas canvas) {\n            super.onDraw(canvas);\n                // Example values\n                rect.set(getWidth() / 2 - mRadius, getHeight() / 2 - mRadius,\n                        getWidth() / 2 + mRadius, getHeight() / 2 + mRadius);\n                paint1.setColor(Color.RED);\n                paint1.setStrokeWidth(16);\n                paint1.setAntiAlias(true);\n                paint1.setStrokeCap(Paint.Cap.BUTT);\n                paint1.setStyle(Paint.Style.STROKE);\n                paint2.setColor(Color.RED);\n                paint2.setStrokeWidth(mRadius / 2);\n                paint2.setAntiAlias(true);\n                paint2.setStrokeCap(Paint.Cap.BUTT);\n                paint2.setStyle(Paint.Style.STROKE);\n                paint3.setColor(Color.RED);\n                paint3.setStrokeWidth(16);\n                paint3.setAntiAlias(true);\n                paint3.setStrokeCap(Paint.Cap.BUTT);\n                paint3.setStyle(Paint.Style.STROKE);\n                canvas.drawArc(rect, 0, 3600, false, paint1);\n\n                canvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\n                        - mRadius, getHeight() / 2 - mRadius, paint3);\n\n                canvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\n                        + mRadius, getHeight() / 2 - mRadius, paint3);\n\n                canvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\n                        - mRadius, getHeight() / 2 + mRadius, paint3);\n\n                canvas.drawLine(getWidth() / 2, getHeight() / 2, getWidth() / 2\n                        + mRadius , getHeight() / 2 + mRadius , paint3);\n  }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Hz9f5.png\" alt=\"Screenshot\"></p>\n"},{"tags":[],"owner":{"account_id":183228,"reputation":424,"user_id":2447726,"display_name":"Guy West"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689834745,"creation_date":1689834745,"answer_id":76727240,"question_id":22905838,"body_markdown":"Here is another version in **Kotlin**:\r\n\r\n## X inside a circle ##\r\n[![enter image description here][1]][1]\r\n\r\n        paint.color = Color.WHITE\r\n        canvas.drawOval(\r\n            0F,\r\n            0F,\r\n            24F,\r\n            24F,\r\n            paint,\r\n        )\r\n        paint.color = Color.BLACK\r\n        paint.strokeWidth = 7F\r\n        canvas.drawLine(\r\n            8F,\r\n            8F,\r\n            16F,\r\n            16F,\r\n            paint,\r\n        )\r\n        canvas.drawLine(\r\n            16F,\r\n            8F,\r\n            8F,\r\n            16F,\r\n            paint,\r\n        ) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q1K9b.png","title":"How to create a custom shape in android: Cross Over A Circle","body":"<p>Here is another version in <strong>Kotlin</strong>:</p>\n<h2>X inside a circle</h2>\n<p><a href=\"https://i.stack.imgur.com/Q1K9b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1K9b.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    paint.color = Color.WHITE\n    canvas.drawOval(\n        0F,\n        0F,\n        24F,\n        24F,\n        paint,\n    )\n    paint.color = Color.BLACK\n    paint.strokeWidth = 7F\n    canvas.drawLine(\n        8F,\n        8F,\n        16F,\n        16F,\n        paint,\n    )\n    canvas.drawLine(\n        16F,\n        8F,\n        8F,\n        16F,\n        paint,\n    ) \n</code></pre>\n"}],"owner":{"account_id":382468,"reputation":1846,"user_id":737704,"accept_rate":12,"display_name":"Suresh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1486,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689834745,"creation_date":1396855017,"question_id":22905838,"body_markdown":"I want to draw a Circle and cross over this by using Shape drawable in android just like ![image][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FQz1k.jpg\r\n\r\nif anybody have idea how can it be achieved. Please help. I am not able to create Cross inside  Circle.","title":"How to create a custom shape in android: Cross Over A Circle","body":"<p>I want to draw a Circle and cross over this by using Shape drawable in android just like <img src=\"https://i.stack.imgur.com/FQz1k.jpg\" alt=\"image\"></p>\n\n<p>if anybody have idea how can it be achieved. Please help. I am not able to create Cross inside  Circle.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1689833798,"post_id":76726360,"comment_id":135269821,"body_markdown":"In modern Java, fonts are *not* necessarily bundled with the implementation of Java. Fonts are provided by the host OS.  See [the documentation](https://docs.oracle.com/en/java/javase/20/intl/supported-fonts.html). Some vendors may choose to bundle fonts with their implementation of Java,  but such bundles are not required.","body":"In modern Java, fonts are <i>not</i> necessarily bundled with the implementation of Java. Fonts are provided by the host OS.  See <a href=\"https://docs.oracle.com/en/java/javase/20/intl/supported-fonts.html\" rel=\"nofollow noreferrer\">the documentation</a>. Some vendors may choose to bundle fonts with their implementation of Java,  but such bundles are not required."}],"answers":[{"comments":[{"owner":{"account_id":26887468,"reputation":3,"user_id":20466794,"display_name":"ZZZ"},"score":0,"creation_date":1689822403,"post_id":76726402,"comment_id":135268757,"body_markdown":"I am not using Linux and Unix, how I can I know which fonts I am missing, thank you so much.","body":"I am not using Linux and Unix, how I can I know which fonts I am missing, thank you so much."},{"owner":{"account_id":28984901,"reputation":12,"user_id":22201909,"display_name":"Bich Anh Dao"},"score":0,"creation_date":1689823569,"post_id":76726402,"comment_id":135268860,"body_markdown":"You should check your JDK for errors or not, if necessary, reinstall the environment, that&#39;s the only thing I know at the moment to fix that error.","body":"You should check your JDK for errors or not, if necessary, reinstall the environment, that&#39;s the only thing I know at the moment to fix that error."}],"tags":[],"owner":{"account_id":28984901,"reputation":12,"user_id":22201909,"display_name":"Bich Anh Dao"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689821854,"creation_date":1689821854,"answer_id":76726402,"question_id":76726360,"body_markdown":"Consider double checking your JDK settings and system environment. This error is related to your system or JDK. And another problem here if you are using Linux or Unix operating system, this error is very common.","title":"How to install JRE fonts for java.lang.Error: Probable fatal error:No fonts found","body":"<p>Consider double checking your JDK settings and system environment. This error is related to your system or JDK. And another problem here if you are using Linux or Unix operating system, this error is very common.</p>\n"}],"owner":{"account_id":26887468,"reputation":3,"user_id":20466794,"display_name":"ZZZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689834657,"creation_date":1689821098,"question_id":76726360,"body_markdown":"What should I do to install the fonts in JRE in spring?\r\n\r\n```none\r\n2023-07-19 14:32:09,621 ERROR [org.springframework.boot.web.servlet.support.ErrorPageFilter] (default task-3) Forwarding to error page from request [/simpleCaptchaImg] due to exception [Probable fatal error: No physical fonts found.]: java.lang.Error: Probable fatal error: No physical fonts found.\r\n\tat java.desktop/sun.font.SunFontManager.lambda$getDefaultPhysicalFont$0(Unknown Source)\r\n\tat java.base/java.util.Optional.orElseThrow(Unknown Source)\r\n\tat java.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(Unknown Source)\r\n\tat java.desktop/sun.font.CompositeFont.doDeferredInitialisation(Unknown Source)\r\n\tat java.desktop/sun.font.CompositeFont.getSlotFont(Unknown Source)\r\n\tat java.desktop/sun.font.CompositeGlyphMapper.initMapper(Unknown Source)\r\n\tat java.desktop/sun.font.CompositeGlyphMapper.&lt;init&gt;(Unknown Source)\r\n\tat java.desktop/sun.font.CompositeFont.getMapper(Unknown Source)\r\n\tat java.desktop/sun.font.StandardGlyphVector.init(Unknown Source)\r\n\tat java.desktop/sun.font.StandardGlyphVector.&lt;init&gt;(Unknown Source)\r\n\tat java.desktop/java.awt.Font.createGlyphVector(Unknown Source)\r\n```","title":"How to install JRE fonts for java.lang.Error: Probable fatal error:No fonts found","body":"<p>What should I do to install the fonts in JRE in spring?</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-07-19 14:32:09,621 ERROR [org.springframework.boot.web.servlet.support.ErrorPageFilter] (default task-3) Forwarding to error page from request [/simpleCaptchaImg] due to exception [Probable fatal error: No physical fonts found.]: java.lang.Error: Probable fatal error: No physical fonts found.\n    at java.desktop/sun.font.SunFontManager.lambda$getDefaultPhysicalFont$0(Unknown Source)\n    at java.base/java.util.Optional.orElseThrow(Unknown Source)\n    at java.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(Unknown Source)\n    at java.desktop/sun.font.CompositeFont.doDeferredInitialisation(Unknown Source)\n    at java.desktop/sun.font.CompositeFont.getSlotFont(Unknown Source)\n    at java.desktop/sun.font.CompositeGlyphMapper.initMapper(Unknown Source)\n    at java.desktop/sun.font.CompositeGlyphMapper.&lt;init&gt;(Unknown Source)\n    at java.desktop/sun.font.CompositeFont.getMapper(Unknown Source)\n    at java.desktop/sun.font.StandardGlyphVector.init(Unknown Source)\n    at java.desktop/sun.font.StandardGlyphVector.&lt;init&gt;(Unknown Source)\n    at java.desktop/java.awt.Font.createGlyphVector(Unknown Source)\n</code></pre>\n"},{"tags":["java","maven","tomcat"],"comments":[{"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"score":0,"creation_date":1689587280,"post_id":76511682,"comment_id":135229378,"body_markdown":"Please post all the dependencies of your pom (I mean: If your code references the `Tomcat` class, then there is at least the `tomcat-catalina` dependency).","body":"Please post all the dependencies of your pom (I mean: If your code references the <code>Tomcat</code> class, then there is at least the <code>tomcat-catalina</code> dependency)."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689606379,"post_id":76511682,"comment_id":135233705,"body_markdown":"Check the dependencies with [`maven dependency:tree`](https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html) which dependency introduces the other version.","body":"Check the dependencies with <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\"><code>maven dependency:tree</code></a> which dependency introduces the other version."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1689608448,"post_id":76511682,"comment_id":135234163,"body_markdown":"@Sascha I did, and I didn&#39;t find the version I see in the logs","body":"@Sascha I did, and I didn&#39;t find the version I see in the logs"},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689667343,"post_id":76511682,"comment_id":135242273,"body_markdown":"Without your pom we can&#39;t really help. You have to tell us at least, what tomcat dependency you use.","body":"Without your pom we can&#39;t really help. You have to tell us at least, what tomcat dependency you use."},{"owner":{"account_id":2391718,"reputation":1031,"user_id":2091442,"accept_rate":100,"display_name":"vinod_vh"},"score":0,"creation_date":1689741756,"post_id":76511682,"comment_id":135254537,"body_markdown":"@yegor256 Have you added this jar manually? Otherwise when you build using ```mvn clean install```, It will automatically download all dependent jars.","body":"@yegor256 Have you added this jar manually? Otherwise when you build using <code>mvn clean install</code>, It will automatically download all dependent jars."}],"answers":[{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1689752284,"post_id":76708527,"comment_id":135255976,"body_markdown":"Adding `META-INF/context.xml` file to the root folder of the web app solved the problem: `&lt;Context&gt;&lt;JarScanner scanClassPath=&quot;false&quot; scanAllFiles=&quot;false&quot; scanAllDirectories=&quot;false&quot; scanManifest=&quot;false&quot;/&gt;&lt;/Context&gt;`","body":"Adding <code>META-INF&#47;context.xml</code> file to the root folder of the web app solved the problem: <code>&lt;Context&gt;&lt;JarScanner scanClassPath=&quot;false&quot; scanAllFiles=&quot;false&quot; scanAllDirectories=&quot;false&quot; scanManifest=&quot;false&quot;&#47;&gt;&lt;&#47;Context&gt;</code>"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689760400,"post_id":76708527,"comment_id":135257721,"body_markdown":"Thank you very much for the feedback @yegor256. I am very happy to hear that you were able to solve the problem.","body":"Thank you very much for the feedback @yegor256. I am very happy to hear that you were able to solve the problem."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689634018,"creation_date":1689634018,"answer_id":76708527,"question_id":76511682,"body_markdown":"Tomcat is looking for `com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar` because `jaxb-api.jar` is referenced in the `Class-Path` manifest attribute in `jaxb-core` `2.3.0`:\r\n\r\n[![jaxb-core 2.3.0 MANIFEST.MF][1]][1]\r\n\r\nSorry, I am unable to tell you the reason why jaxb-core 2.3.0 is requested in first place: perhaps it is related to any Tomcat dependency. Please, consider review [this related SO question](https://stackoverflow.com/questions/73364640/why-is-tomcat-looking-for-jaxb-jars-in-the-wrong-places), I think it may be of help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QsIcR.png","title":"Why embedded Tomcat is trying to load com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar?","body":"<p>Tomcat is looking for <code>com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar</code> because <code>jaxb-api.jar</code> is referenced in the <code>Class-Path</code> manifest attribute in <code>jaxb-core</code> <code>2.3.0</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/QsIcR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QsIcR.png\" alt=\"jaxb-core 2.3.0 MANIFEST.MF\" /></a></p>\n<p>Sorry, I am unable to tell you the reason why jaxb-core 2.3.0 is requested in first place: perhaps it is related to any Tomcat dependency. Please, consider review <a href=\"https://stackoverflow.com/questions/73364640/why-is-tomcat-looking-for-jaxb-jars-in-the-wrong-places\">this related SO question</a>, I think it may be of help.</p>\n"},{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":1,"creation_date":1690174987,"post_id":76727218,"comment_id":135311147,"body_markdown":"I also tried to turn off the computer and then turn it on. Didn&#39;t help.","body":"I also tried to turn off the computer and then turn it on. Didn&#39;t help."}],"tags":[],"owner":{"account_id":28989235,"reputation":5,"user_id":22205400,"display_name":"Duck"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689834498,"creation_date":1689834498,"answer_id":76727218,"question_id":76511682,"body_markdown":"Try to update libraries and clen &amp; build","title":"Why embedded Tomcat is trying to load com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar?","body":"<p>Try to update libraries and clen &amp; build</p>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76708527,"answer_count":2,"score":2,"last_activity_date":1689834498,"creation_date":1687239808,"question_id":76511682,"body_markdown":"I&#39;m trying to start an embedded Tomcat 9.0.8:\r\n\r\n```\r\nTomcat tomcat = new Tomcat();\r\ntomcat.setPort(8080);\r\ntomcat.addWebapp(&quot;&quot;, &quot;/tmp/my-webapp&quot;);\r\ntomcat.start();\r\ntomcat.getServer().await();\r\n```\r\n\r\nI&#39;m getting:\r\n\r\n```\r\n[INFO] main co.stateful.Launch: Loading webapp from /tmp/my-webapp...\r\n[INFO] main org.apache.catalina.core.StandardService: Starting service [Tomcat]\r\n[INFO] main org.apache.catalina.core.StandardEngine: Starting Servlet Engine: Apache Tomcat/9.0.8\r\n[INFO] main org.apache.catalina.startup.ContextConfig: No global web.xml found\r\n[WARN] main org.apache.tomcat.util.scan.StandardJarScanner: Failed to scan [file:/Users/yb/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar] from classloader hierarchy\r\njava.io.IOException: java.lang.reflect.InvocationTargetException\r\n\tat org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:212)\r\n\tat org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\r\n\tat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:374)\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:309)\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:278)\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:229)\r\n\tat org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1927)\r\n\tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1119)\r\n\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:765)\r\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4989)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1427)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1417)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:839)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1427)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1417)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:258)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:770)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:371)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:209)\r\n\t... 104 more\r\nCaused by: java.nio.file.NoSuchFileException: /Users/yb/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n\tat java.base/sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:55)\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:171)\r\n\tat java.base/java.nio.file.Files.readAttributes(Files.java:1848)\r\n\tat java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1285)\r\n\tat java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:716)\r\n\tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)\r\n\tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)\r\n\tat java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:340)\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\t... 107 more\r\n```\r\n\r\nThe dependencies in my `pom.xml` are the following:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI&#39;m curious, why it is looking for `com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar`, while the name is definitely against Maven conventions. It should be `com/sun/xml/bind/jaxb-core/2.3.0/jaxb-core.jar`, but not `jaxb-api`. Moreover, my version is `2.2.11`, while it is looking for `2.3.0`. Anyway, how can I fix?","title":"Why embedded Tomcat is trying to load com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar?","body":"<p>I'm trying to start an embedded Tomcat 9.0.8:</p>\n<pre><code>Tomcat tomcat = new Tomcat();\ntomcat.setPort(8080);\ntomcat.addWebapp(&quot;&quot;, &quot;/tmp/my-webapp&quot;);\ntomcat.start();\ntomcat.getServer().await();\n</code></pre>\n<p>I'm getting:</p>\n<pre><code>[INFO] main co.stateful.Launch: Loading webapp from /tmp/my-webapp...\n[INFO] main org.apache.catalina.core.StandardService: Starting service [Tomcat]\n[INFO] main org.apache.catalina.core.StandardEngine: Starting Servlet Engine: Apache Tomcat/9.0.8\n[INFO] main org.apache.catalina.startup.ContextConfig: No global web.xml found\n[WARN] main org.apache.tomcat.util.scan.StandardJarScanner: Failed to scan [file:/Users/yb/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar] from classloader hierarchy\njava.io.IOException: java.lang.reflect.InvocationTargetException\n    at org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:212)\n    at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\n    at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\n    at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:374)\n    at org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:309)\n    at org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:278)\n    at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:229)\n    at org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1927)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1119)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:765)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4989)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1427)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1417)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:839)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1427)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1417)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:258)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:770)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:371)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:209)\n    ... 104 more\nCaused by: java.nio.file.NoSuchFileException: /Users/yb/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:55)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:171)\n    at java.base/java.nio.file.Files.readAttributes(Files.java:1848)\n    at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1285)\n    at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:716)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)\n    at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:340)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 107 more\n</code></pre>\n<p>The dependencies in my <code>pom.xml</code> are the following:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n      &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I'm curious, why it is looking for <code>com/sun/xml/bind/jaxb-core/2.3.0/jaxb-api.jar</code>, while the name is definitely against Maven conventions. It should be <code>com/sun/xml/bind/jaxb-core/2.3.0/jaxb-core.jar</code>, but not <code>jaxb-api</code>. Moreover, my version is <code>2.2.11</code>, while it is looking for <code>2.3.0</code>. Anyway, how can I fix?</p>\n"},{"tags":["java","spring","spring-mvc","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689836006,"post_id":76726624,"comment_id":135270202,"body_markdown":"Don&#39;t use AOP for this, instead use a servlet filter to wrap all the requests instead of this. There might be more things in the call stack that wrap your request (things like Spring Security for instance) so you would have to check if the request is a wrapper and keep unwrapping it to check if yours is in there. If you really want to use AOP for this (which I strongly recommend against) instead of calling `proceed()` you need to call `proceed(args)` to pass along the newly changed arguments, else it will continue with the original ones.","body":"Don&#39;t use AOP for this, instead use a servlet filter to wrap all the requests instead of this. There might be more things in the call stack that wrap your request (things like Spring Security for instance) so you would have to check if the request is a wrapper and keep unwrapping it to check if yours is in there. If you really want to use AOP for this (which I strongly recommend against) instead of calling <code>proceed()</code> you need to call <code>proceed(args)</code> to pass along the newly changed arguments, else it will continue with the original ones."}],"answers":[{"comments":[{"owner":{"account_id":28174375,"reputation":13,"user_id":21532369,"display_name":"patrickstar"},"score":0,"creation_date":1689833914,"post_id":76726732,"comment_id":135269830,"body_markdown":"Hi! The interceptor approach using url pattern to match controller is somewhat more error-prone compared to the aop approach with custom annotation. Is there any better way to choose which controller I want to intercept? Thanks for you answer.","body":"Hi! The interceptor approach using url pattern to match controller is somewhat more error-prone compared to the aop approach with custom annotation. Is there any better way to choose which controller I want to intercept? Thanks for you answer."},{"owner":{"account_id":28174375,"reputation":13,"user_id":21532369,"display_name":"patrickstar"},"score":0,"creation_date":1689834184,"post_id":76726732,"comment_id":135269883,"body_markdown":"i mean, i have to write a url-pattern based on the current url for every api and i have to change it if someone changes the intercepted url later. By adding an annotation this will not bother me. I&#39;m also wondering why the aop approach is not working.","body":"i mean, i have to write a url-pattern based on the current url for every api and i have to change it if someone changes the intercepted url later. By adding an annotation this will not bother me. I&#39;m also wondering why the aop approach is not working."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689834513,"post_id":76726732,"comment_id":135269938,"body_markdown":"@patrickstar: Interceptor is a standard way of intercepting REST communication. If you find it error-prone only because of the URL-pattern, feel free to remove `addPathPatterns(&quot;/**&quot;)` and it will work for all endpoints. I have edited the answer.","body":"@patrickstar: Interceptor is a standard way of intercepting REST communication. If you find it error-prone only because of the URL-pattern, feel free to remove <code>addPathPatterns(&quot;&#47;**&quot;)</code> and it will work for all endpoints. I have edited the answer."},{"owner":{"account_id":28174375,"reputation":13,"user_id":21532369,"display_name":"patrickstar"},"score":1,"creation_date":1689834780,"post_id":76726732,"comment_id":135269974,"body_markdown":"I want it to work for some endpoints I choose. I will try the interceptor way. Thank your ^_^ @Nikolas Charalambidis","body":"I want it to work for some endpoints I choose. I will try the interceptor way. Thank your ^_^ @Nikolas Charalambidis"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689834426,"creation_date":1689828296,"answer_id":76726732,"question_id":76726624,"body_markdown":"I am afraid fiddling with request headers&#39; modification is not that easy. I am also afraid that aspect is not a way to go.\r\n\r\nHere is a minimal and reproducible sample for Spring Boot 2 to achieve what you want by setting a named `attribute` to the request in a custom interceptor that is captured in a method of the `@RestController`.\r\n\r\n**Interceptor**\r\n\r\n```java\r\n@Component\r\npublic class CustomInterceptor implements HandlerInterceptor {\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\r\n\t\trequest.setAttribute(&quot;fooAttribute&quot;, &quot;fooValue&quot;);\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\n\r\n**Configuration**\r\n```java\r\n@Configuration\r\npublic class WebMvcConfiguration implements WebMvcConfigurer {\r\n\r\n\t@Autowired\r\n\tprivate CustomInterceptor customInterceptor;\r\n\r\n\t@Override\r\n\tpublic void addInterceptors(InterceptorRegistry registry) {\r\n\t\t\tregistry.addInterceptor(customInterceptor);\r\n\t}\r\n}\r\n```\r\n\r\n**Controller**\r\n\r\nI let the attribute be returned in the body. \r\n```java\r\n@GetMapping(&quot;hello&quot;)\r\npublic ResponseEntity&lt;String&gt; hello(@RequestAttribute String fooAttribute) {\r\n\treturn ResponseEntity.ok(fooAttribute);\r\n}\r\n```\r\n\r\n______\r\n\r\nTest it out:\r\n```shell\r\ncurl http://localhost:8080/hello\r\n```\r\n&gt; ```\r\n&gt; fooValue\r\n&gt; ```\r\n","title":"How to add my custom header to a HttpServletRequest with aspect?","body":"<p>I am afraid fiddling with request headers' modification is not that easy. I am also afraid that aspect is not a way to go.</p>\n<p>Here is a minimal and reproducible sample for Spring Boot 2 to achieve what you want by setting a named <code>attribute</code> to the request in a custom interceptor that is captured in a method of the <code>@RestController</code>.</p>\n<p><strong>Interceptor</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomInterceptor implements HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\n        request.setAttribute(&quot;fooAttribute&quot;, &quot;fooValue&quot;);\n        return true;\n    }\n}\n</code></pre>\n<p><strong>Configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebMvcConfiguration implements WebMvcConfigurer {\n\n    @Autowired\n    private CustomInterceptor customInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n            registry.addInterceptor(customInterceptor);\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<p>I let the attribute be returned in the body.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;hello&quot;)\npublic ResponseEntity&lt;String&gt; hello(@RequestAttribute String fooAttribute) {\n    return ResponseEntity.ok(fooAttribute);\n}\n</code></pre>\n<hr />\n<p>Test it out:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl http://localhost:8080/hello\n</code></pre>\n<blockquote>\n<pre><code>fooValue\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":28174375,"reputation":13,"user_id":21532369,"display_name":"patrickstar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76726732,"answer_count":1,"score":1,"last_activity_date":1689834426,"creation_date":1689826279,"question_id":76726624,"body_markdown":"I tried to create an aspect to override the \r\n`HttpServletRequest`\r\nparameter before the controller handler method actually gets executed. But it turns out the `HttpServletRequest` is always a `RequestFacade` instance even though I replace it with a Custom `HttpServletRequestWrapper` in my aspect method.\r\n\r\nHere is the code:\r\n\r\n\r\n```\r\n// the annotation:\r\n\r\n@Target({ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface MyAnnotation {\r\n}\r\n\r\n// the aspect:\r\n@Component\r\n@Aspect\r\n@Slf4j\r\npublic class MyAspect {\r\n    @Pointcut(&quot;@annotation(com.example.springtest.annotation.MyAnnotation)&quot;)\r\n    public void pointcut() {\r\n    }\r\n\r\n    @Around(&quot;pointcut()&quot;)\r\n    public Object setHeader(ProceedingJoinPoint pjp) throws Throwable {\r\n        var args = pjp.getArgs();\r\n        var signature = (MethodSignature) pjp.getSignature();\r\n        var method = signature.getMethod();\r\n        var annotations = method.getDeclaredAnnotations();\r\n        var need = Arrays.stream(annotations).anyMatch(a -&gt; a.annotationType().equals(MyAnnotation.class));\r\n        if (!need) {\r\n            return pjp.proceed();\r\n        }\r\n\r\n        for (var i = 0; i &lt; args.length; i++) {\r\n            var arg = args[i];\r\n            if (arg instanceof HttpServletRequest request) {\r\n                args[i] = new HttpServletRequestWrapper(request) {\r\n                    @Override\r\n                    public String getHeader(String name) {\r\n                        if (name.equalsIgnoreCase(&quot;my-header&quot;)) {\r\n                            return &quot;my-header&quot;;\r\n                        } else {\r\n                            return super.getHeader(name);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        return pjp.proceed();\r\n    }\r\n\r\n}\r\n\r\n// the bootstrap class:\r\n@Configurable\r\n@EnableAspectJAutoProxy\r\n@SpringBootApplication\r\npublic class SpringtestApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringtestApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n// and the controller\r\n@RestController\r\npublic class TestController {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(TestController.class);\r\n\r\n    @MyAnnotation\r\n    @GetMapping(&quot;/get-my-header&quot;)\r\n    public String getMyHeader(HttpServletRequest request) {\r\n        if (Objects.requireNonNull(request) instanceof HttpServletRequestWrapper) {\r\n            log.info(&quot;is wrapper&quot;);\r\n        } else {\r\n            log.info(&quot;request:{}&quot;, request.getClass());\r\n        }\r\n        return request.getHeader(&quot;my-header&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSo what happend there? Is there any other proxy class instance change my `HttpServletRequest` parameter after I replaced it?\r\n\r\n\r\nthe logs show that the request parameter in both the aspect and the controller is a `RequestFacade` instance. \r\n\r\nI also tried to create a service method and directly send my custom `HttpServletRequestWrapper` instance to it. This time the parameter is not changed.","title":"How to add my custom header to a HttpServletRequest with aspect?","body":"<p>I tried to create an aspect to override the\n<code>HttpServletRequest</code>\nparameter before the controller handler method actually gets executed. But it turns out the <code>HttpServletRequest</code> is always a <code>RequestFacade</code> instance even though I replace it with a Custom <code>HttpServletRequestWrapper</code> in my aspect method.</p>\n<p>Here is the code:</p>\n<pre><code>// the annotation:\n\n@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface MyAnnotation {\n}\n\n// the aspect:\n@Component\n@Aspect\n@Slf4j\npublic class MyAspect {\n    @Pointcut(&quot;@annotation(com.example.springtest.annotation.MyAnnotation)&quot;)\n    public void pointcut() {\n    }\n\n    @Around(&quot;pointcut()&quot;)\n    public Object setHeader(ProceedingJoinPoint pjp) throws Throwable {\n        var args = pjp.getArgs();\n        var signature = (MethodSignature) pjp.getSignature();\n        var method = signature.getMethod();\n        var annotations = method.getDeclaredAnnotations();\n        var need = Arrays.stream(annotations).anyMatch(a -&gt; a.annotationType().equals(MyAnnotation.class));\n        if (!need) {\n            return pjp.proceed();\n        }\n\n        for (var i = 0; i &lt; args.length; i++) {\n            var arg = args[i];\n            if (arg instanceof HttpServletRequest request) {\n                args[i] = new HttpServletRequestWrapper(request) {\n                    @Override\n                    public String getHeader(String name) {\n                        if (name.equalsIgnoreCase(&quot;my-header&quot;)) {\n                            return &quot;my-header&quot;;\n                        } else {\n                            return super.getHeader(name);\n                        }\n                    }\n                };\n            }\n        }\n        return pjp.proceed();\n    }\n\n}\n\n// the bootstrap class:\n@Configurable\n@EnableAspectJAutoProxy\n@SpringBootApplication\npublic class SpringtestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringtestApplication.class, args);\n    }\n\n}\n\n// and the controller\n@RestController\npublic class TestController {\n\n    private static final Logger log = LoggerFactory.getLogger(TestController.class);\n\n    @MyAnnotation\n    @GetMapping(&quot;/get-my-header&quot;)\n    public String getMyHeader(HttpServletRequest request) {\n        if (Objects.requireNonNull(request) instanceof HttpServletRequestWrapper) {\n            log.info(&quot;is wrapper&quot;);\n        } else {\n            log.info(&quot;request:{}&quot;, request.getClass());\n        }\n        return request.getHeader(&quot;my-header&quot;);\n    }\n}\n</code></pre>\n<p>So what happend there? Is there any other proxy class instance change my <code>HttpServletRequest</code> parameter after I replaced it?</p>\n<p>the logs show that the request parameter in both the aspect and the controller is a <code>RequestFacade</code> instance.</p>\n<p>I also tried to create a service method and directly send my custom <code>HttpServletRequestWrapper</code> instance to it. This time the parameter is not changed.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1689773188,"post_id":76721301,"comment_id":135260773,"body_markdown":"Why do you think that _expectedReference == current.reference always false_?","body":"Why do you think that <i>expectedReference == current.reference always false</i>?"},{"owner":{"account_id":15165703,"reputation":1,"user_id":10943261,"display_name":"Jun Qiu"},"score":0,"creation_date":1689818428,"post_id":76721301,"comment_id":135268436,"body_markdown":"there is some problem with my explanation，as in my example above，Counter  initialValue &gt;= 128 or  initialValue  type is Sting","body":"there is some problem with my explanation，as in my example above，Counter  initialValue &gt;= 128 or  initialValue  type is Sting"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1689833727,"post_id":76721301,"comment_id":135269802,"body_markdown":"Ah, know I see your problem. If posted an answer with the solution to your problem.","body":"Ah, know I see your problem. If posted an answer with the solution to your problem."}],"answers":[{"comments":[{"owner":{"account_id":15165703,"reputation":1,"user_id":10943261,"display_name":"Jun Qiu"},"score":0,"creation_date":1689837732,"post_id":76727134,"comment_id":135270563,"body_markdown":"oh，i get it，itank you very much","body":"oh，i get it，itank you very much"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689834382,"creation_date":1689833695,"answer_id":76727134,"question_id":76721301,"body_markdown":"The problem is that your `Counter` class does automatic unboxing of the stored value. You need to declare it as:\r\n\r\n    class Counter {\r\n        private final AtomicStampedReference&lt;Integer&gt; value;\r\n    \r\n        public Counter(int initialValue) {\r\n            value = new AtomicStampedReference&lt;&gt;(initialValue, 1000);\r\n        }\r\n    \r\n        public int getValue() {\r\n            return value.getReference();\r\n        }\r\n    \r\n        public int increment() {\r\n            int[] stampHolder = new int[1];\r\n            Integer current;\r\n            int next;\r\n            do {\r\n                current = value.get(stampHolder);\r\n                next = current + 1;\r\n            } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\r\n    \r\n            return next;\r\n        }\r\n    }\r\n\r\nWhen declaring `Integer current` in the `increment()` method the `current` variable can hold a reference to the `Integer` object stored in the `AtomicStampedReference&lt;Integer&gt;` and therefore the `expectedReference == current.reference` condition can be true.\r\n\r\n---\r\nAs you have noticed, with\r\n\r\n            int[] stampHolder = new int[1];\r\n            int current;\r\n            int next;\r\n            do {\r\n                current = value.get(stampHolder);\r\n                next = current + 1;\r\n            } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\r\n\r\nthe line `current = value.get(stampHolder);` will unbox the `Integer` value in the `AtomicStampedReference&lt;&gt;` and for int values &gt;= 128 the boxing of `current` in the call `value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1))` will create a new `Integer`.\r\n\r\nHowever, with\r\n\r\n            int[] stampHolder = new int[1];\r\n            Integer current;\r\n            int next;\r\n            do {\r\n                current = value.get(stampHolder);\r\n                next = current + 1;\r\n            } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\r\n\r\nthe line `current = value.get(stampHolder)` will just read the reference to the `Integer` value stored in the `AtomicStampedReference&lt;&gt;` and `value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1))` will pass **that same** reference as first argument in the call and therefore the condition `expectedReference == current.reference` is true (assuming that no other thread changed the value)","title":"some qestions with AtomicStampedReference","body":"<p>The problem is that your <code>Counter</code> class does automatic unboxing of the stored value. You need to declare it as:</p>\n<pre><code>class Counter {\n    private final AtomicStampedReference&lt;Integer&gt; value;\n\n    public Counter(int initialValue) {\n        value = new AtomicStampedReference&lt;&gt;(initialValue, 1000);\n    }\n\n    public int getValue() {\n        return value.getReference();\n    }\n\n    public int increment() {\n        int[] stampHolder = new int[1];\n        Integer current;\n        int next;\n        do {\n            current = value.get(stampHolder);\n            next = current + 1;\n        } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\n\n        return next;\n    }\n}\n</code></pre>\n<p>When declaring <code>Integer current</code> in the <code>increment()</code> method the <code>current</code> variable can hold a reference to the <code>Integer</code> object stored in the <code>AtomicStampedReference&lt;Integer&gt;</code> and therefore the <code>expectedReference == current.reference</code> condition can be true.</p>\n<hr />\n<p>As you have noticed, with</p>\n<pre><code>        int[] stampHolder = new int[1];\n        int current;\n        int next;\n        do {\n            current = value.get(stampHolder);\n            next = current + 1;\n        } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\n</code></pre>\n<p>the line <code>current = value.get(stampHolder);</code> will unbox the <code>Integer</code> value in the <code>AtomicStampedReference&lt;&gt;</code> and for int values &gt;= 128 the boxing of <code>current</code> in the call <code>value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1))</code> will create a new <code>Integer</code>.</p>\n<p>However, with</p>\n<pre><code>        int[] stampHolder = new int[1];\n        Integer current;\n        int next;\n        do {\n            current = value.get(stampHolder);\n            next = current + 1;\n        } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\n</code></pre>\n<p>the line <code>current = value.get(stampHolder)</code> will just read the reference to the <code>Integer</code> value stored in the <code>AtomicStampedReference&lt;&gt;</code> and <code>value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1))</code> will pass <strong>that same</strong> reference as first argument in the call and therefore the condition <code>expectedReference == current.reference</code> is true (assuming that no other thread changed the value)</p>\n"}],"owner":{"account_id":15165703,"reputation":1,"user_id":10943261,"display_name":"Jun Qiu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689834382,"creation_date":1689769776,"question_id":76721301,"body_markdown":"there is a exampe:\r\n\r\nI want use AtomicStampedReference, but there are some questions I don&#39;t understand about compareAndSet() method\r\n\r\n```\r\n    public boolean compareAndSet(V   expectedReference,\r\n                                 V   newReference,\r\n                                 int expectedStamp,\r\n                                 int newStamp) {\r\n        Pair&lt;V&gt; current = pair;\r\n        return\r\n            expectedReference == current.reference &amp;&amp;\r\n            expectedStamp == current.stamp &amp;&amp;\r\n            ((newReference == current.reference &amp;&amp;\r\n              newStamp == current.stamp) ||\r\n             casPair(current, Pair.of(newReference, newStamp)));\r\n    }\r\n```\r\nexpectedReference == current.reference always false，Because it compares references。\r\n**so why AtomicStampedReference can fix ABA problem？** thanks\r\n\r\n```\r\nclass Counter {\r\n    private final AtomicStampedReference&lt;Integer&gt; value;\r\n\r\n    public Counter(int initialValue) {\r\n        value = new AtomicStampedReference&lt;&gt;(initialValue, 1000);\r\n    }\r\n\r\n    public int getValue() {\r\n        return value.getReference();\r\n    }\r\n\r\n    public int increment() {\r\n        int[] stampHolder = new int[1];\r\n        int current;\r\n        int next;\r\n        do {\r\n            current = value.get(stampHolder);\r\n            next = current + 1;\r\n        } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\r\n\r\n        return next;\r\n    }\r\n}\r\n```\r\n","title":"some qestions with AtomicStampedReference","body":"<p>there is a exampe:</p>\n<p>I want use AtomicStampedReference, but there are some questions I don't understand about compareAndSet() method</p>\n<pre><code>    public boolean compareAndSet(V   expectedReference,\n                                 V   newReference,\n                                 int expectedStamp,\n                                 int newStamp) {\n        Pair&lt;V&gt; current = pair;\n        return\n            expectedReference == current.reference &amp;&amp;\n            expectedStamp == current.stamp &amp;&amp;\n            ((newReference == current.reference &amp;&amp;\n              newStamp == current.stamp) ||\n             casPair(current, Pair.of(newReference, newStamp)));\n    }\n</code></pre>\n<p>expectedReference == current.reference always false，Because it compares references。\n<strong>so why AtomicStampedReference can fix ABA problem？</strong> thanks</p>\n<pre><code>class Counter {\n    private final AtomicStampedReference&lt;Integer&gt; value;\n\n    public Counter(int initialValue) {\n        value = new AtomicStampedReference&lt;&gt;(initialValue, 1000);\n    }\n\n    public int getValue() {\n        return value.getReference();\n    }\n\n    public int increment() {\n        int[] stampHolder = new int[1];\n        int current;\n        int next;\n        do {\n            current = value.get(stampHolder);\n            next = current + 1;\n        } while (!value.compareAndSet(current, next, stampHolder[0], stampHolder[0] + 1));\n\n        return next;\n    }\n}\n</code></pre>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":1,"creation_date":1344540600,"post_id":11890585,"comment_id":15824621,"body_markdown":"Are you always going to add just 1 element? Because if you add more then it will have commas and spaces. e.g. `[Hello, World]`. What are you actually trying to achieve?","body":"Are you always going to add just 1 element? Because if you add more then it will have commas and spaces. e.g. <code>[Hello, World]</code>. What are you actually trying to achieve?"},{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1344540770,"post_id":11890585,"comment_id":15824696,"body_markdown":"@BheshGurung: Well, I can take care of the commas, but the brackets are my concern.","body":"@BheshGurung: Well, I can take care of the commas, but the brackets are my concern."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1344540904,"post_id":11890585,"comment_id":15824748,"body_markdown":"Thre `replace(oldChar, newChar)` might be useful - http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(char, char)","body":"Thre <code>replace(oldChar, newChar)</code> might be useful - <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(char\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/&hellip;</a>, char)"},{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1344540938,"post_id":11890585,"comment_id":15824759,"body_markdown":"@veer: What you said will give me true for `&quot;OOOOO&quot;` too.","body":"@veer: What you said will give me true for <code>&quot;OOOOO&quot;</code> too."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1344541179,"post_id":11890585,"comment_id":15824852,"body_markdown":"What are you trying to achieve? Because I think you are going the wrong way.","body":"What are you trying to achieve? Because I think you are going the wrong way."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344541192,"post_id":11890585,"comment_id":15824855,"body_markdown":"@noMAD what do you mean? It checks to see if the entire map size is solely due to `&quot;Hello&quot;` and is non-empty, which implies `map.keys().toString()` equals `&quot;[Hello]&quot;`.","body":"@noMAD what do you mean? It checks to see if the entire map size is solely due to <code>&quot;Hello&quot;</code> and is non-empty, which implies <code>map.keys().toString()</code> equals <code>&quot;[Hello]&quot;</code>."},{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1344541378,"post_id":11890585,"comment_id":15824917,"body_markdown":"@MarkRotteveel: My basic goal was to compare the objects in the map to other objects and see if they are the same. I just gave an example above. Am writing a test case where I want to `assertEquals(map.keys(),MyObject)`","body":"@MarkRotteveel: My basic goal was to compare the objects in the map to other objects and see if they are the same. I just gave an example above. Am writing a test case where I want to <code>assertEquals(map.keys(),MyObject)</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1344541466,"post_id":11890585,"comment_id":15824960,"body_markdown":"Please realise that keys() returns a Set, if you want to check equality, then MyObject needs to be a Set as well containing the key or keys.","body":"Please realise that keys() returns a Set, if you want to check equality, then MyObject needs to be a Set as well containing the key or keys."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":1,"creation_date":1344541552,"post_id":11890585,"comment_id":15825000,"body_markdown":"@MarkRotteveel actually `keys` returns a `Multiset`, which specifies that [`equals` will only be true when compared to other `Multiset`s with the same frequency per element](http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html#equals(java.lang.Object)).","body":"@MarkRotteveel actually <code>keys</code> returns a <code>Multiset</code>, which specifies that <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multiset.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code> will only be true when compared to other <code>Multiset</code>s with the same frequency per element</a>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1344541617,"post_id":11890585,"comment_id":15825028,"body_markdown":"@veer You are right, I was thinking of keySet() from a normal Map.","body":"@veer You are right, I was thinking of keySet() from a normal Map."}],"answers":[{"comments":[{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1344541235,"post_id":11890727,"comment_id":15824873,"body_markdown":"keySet() returns the result in the same way. I didn&#39;t want to modify the string, that&#39;s why I asked the question.","body":"keySet() returns the result in the same way. I didn&#39;t want to modify the string, that&#39;s why I asked the question."},{"owner":{"account_id":557295,"reputation":1929,"user_id":919674,"display_name":"Sign"},"score":1,"creation_date":1344541616,"post_id":11890727,"comment_id":15825027,"body_markdown":"@noMAD that isn&#39;t string contains it is the contains method on the collection.","body":"@noMAD that isn&#39;t string contains it is the contains method on the collection."},{"owner":{"account_id":557295,"reputation":1929,"user_id":919674,"display_name":"Sign"},"score":0,"creation_date":1344541706,"post_id":11890727,"comment_id":15825075,"body_markdown":"@noMAD keys is a collection of more than one object. It sees if the collection contains the string `&quot;Hello&quot;` not does it contain a string which has `&quot;Hello&quot;` as part of it.","body":"@noMAD keys is a collection of more than one object. It sees if the collection contains the string <code>&quot;Hello&quot;</code> not does it contain a string which has <code>&quot;Hello&quot;</code> as part of it."},{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1344542107,"post_id":11890727,"comment_id":15825249,"body_markdown":"Thanks, used it in a different sort of way, but it helped :)","body":"Thanks, used it in a different sort of way, but it helped :)"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1344642140,"post_id":11890727,"comment_id":15857791,"body_markdown":"Even better for the conditionals: `if (map.containsKey(&quot;Hello&quot;))`.","body":"Even better for the conditionals: <code>if (map.containsKey(&quot;Hello&quot;))</code>."}],"tags":[],"owner":{"account_id":557295,"reputation":1929,"user_id":919674,"display_name":"Sign"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344541437,"creation_date":1344541104,"answer_id":11890727,"question_id":11890585,"body_markdown":"You could replace the brackets in the string, or you could iterate through the key set and print each component individually. \r\n\r\n     ImmutableMultiset&lt;Something&gt; keys = map.keys();\r\n     for(Something key : keys){\r\n        System.out.print(key);\r\n     }\r\n\r\n\r\n\r\nFor your conditionals you would want \r\n\r\n    if(map.keys().contains(&quot;Hello&quot;))","title":"Is it possible to remove square brackets from ImmutableMultimap.keys()","body":"<p>You could replace the brackets in the string, or you could iterate through the key set and print each component individually. </p>\n\n<pre><code> ImmutableMultiset&lt;Something&gt; keys = map.keys();\n for(Something key : keys){\n    System.out.print(key);\n }\n</code></pre>\n\n<p>For your conditionals you would want </p>\n\n<pre><code>if(map.keys().contains(\"Hello\"))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1344547327,"post_id":11890830,"comment_id":15827373,"body_markdown":"I don&#39;t know but I think its because of what maaarinus answered.","body":"I don&#39;t know but I think its because of what maaarinus answered."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1344549908,"post_id":11890830,"comment_id":15828235,"body_markdown":"I hope it&#39;s not... this answer does what was requested (instead of explaining that it shouldn&#39;t be done at all). However, removing all brackets (instead of just the enclosing ones) goes a bit too far, IMHO. Maybe that&#39;s why.","body":"I hope it&#39;s not... this answer does what was requested (instead of explaining that it shouldn&#39;t be done at all). However, removing all brackets (instead of just the enclosing ones) goes a bit too far, IMHO. Maybe that&#39;s why."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1344614115,"post_id":11890830,"comment_id":15848513,"body_markdown":"(I&#39;m not the downvoter, but...) It may seem like what the questioner asked for, but it&#39;s such a fragile solution. Consider when the keys are &quot;Maine&quot;, &quot;Vermont&quot;, and &quot;New York&quot;.  Now you have the string &quot;Maine Vermont New York&quot;. What good is that?","body":"(I&#39;m not the downvoter, but...) It may seem like what the questioner asked for, but it&#39;s such a fragile solution. Consider when the keys are &quot;Maine&quot;, &quot;Vermont&quot;, and &quot;New York&quot;.  Now you have the string &quot;Maine Vermont New York&quot;. What good is that?"},{"owner":{"account_id":1587167,"reputation":2135,"user_id":1471231,"accept_rate":80,"display_name":"olagjo"},"score":0,"creation_date":1344614373,"post_id":11890830,"comment_id":15848628,"body_markdown":"Haha, I&#39;ll agree that what he&#39;s trying to do seems kind of meaningless to me, but I just assumed he had a good reason for asking, and provided what I thought was the answer!","body":"Haha, I&#39;ll agree that what he&#39;s trying to do seems kind of meaningless to me, but I just assumed he had a good reason for asking, and provided what I thought was the answer!"}],"tags":[],"owner":{"account_id":1587167,"reputation":2135,"user_id":1471231,"accept_rate":80,"display_name":"olagjo"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1344541508,"creation_date":1344541508,"answer_id":11890830,"question_id":11890585,"body_markdown":"    map.keys().toString().replaceAll(&quot;[\\\\[\\\\],]&quot;,&quot;&quot;)\r\n\r\nreturns the string, all square brackets and commas removed","title":"Is it possible to remove square brackets from ImmutableMultimap.keys()","body":"<pre><code>map.keys().toString().replaceAll(\"[\\\\[\\\\],]\",\"\")\n</code></pre>\n\n<p>returns the string, all square brackets and commas removed</p>\n"},{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1344550196,"post_id":11890831,"comment_id":15828310,"body_markdown":"Moreover, the exact format of `Multiset.toString()` is [unspecified](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Multiset.html#toString()), so it could change in future releases, breaking your code -- and it&#39;d deserve to get broken.  =/","body":"Moreover, the exact format of <code>Multiset.toString()</code> is <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Multiset.html#toString()\" rel=\"nofollow noreferrer\">unspecified</a>, so it could change in future releases, breaking your code -- and it&#39;d deserve to get broken.  =/"},{"owner":{"account_id":1033919,"reputation":5797,"user_id":1041691,"accept_rate":67,"display_name":"fommil"},"score":0,"creation_date":1349286388,"post_id":11890831,"comment_id":17167640,"body_markdown":"saying `toString()` should **never** be used is rather categorical ;) Actually there are legitimate use cases. It is better to say that `toString()` should never be used unless the API you are calling specifically defines what you should expect to get out. e.g. `StringBuilder.toString()` is safe to use, `Collection.toString()` is not.","body":"saying <code>toString()</code> should <b>never</b> be used is rather categorical ;) Actually there are legitimate use cases. It is better to say that <code>toString()</code> should never be used unless the API you are calling specifically defines what you should expect to get out. e.g. <code>StringBuilder.toString()</code> is safe to use, <code>Collection.toString()</code> is not."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1349290533,"post_id":11890831,"comment_id":17169370,"body_markdown":"@fommil: Agreed, `CharSequence.toString()` is an important exception to this rule.","body":"@fommil: Agreed, <code>CharSequence.toString()</code> is an important exception to this rule."}],"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1344541516,"creation_date":1344541516,"answer_id":11890831,"question_id":11890585,"body_markdown":"You should never ever use `toString()` for anything serious! This method is meant for people inspecting what&#39;s going on (e.g. in debugger) and for nothing else.\r\n\r\nMoreover, there are no brackets there in. `map.keys()` is a collection and it&#39;s `toString()` method works like it should for collections. You&#39;d better replace your test by testing `map.keys.size() == 1` and then checking the only element.\r\n","title":"Is it possible to remove square brackets from ImmutableMultimap.keys()","body":"<p>You should never ever use <code>toString()</code> for anything serious! This method is meant for people inspecting what's going on (e.g. in debugger) and for nothing else.</p>\n\n<p>Moreover, there are no brackets there in. <code>map.keys()</code> is a collection and it's <code>toString()</code> method works like it should for collections. You'd better replace your test by testing <code>map.keys.size() == 1</code> and then checking the only element.</p>\n"},{"tags":[],"owner":{"account_id":116301,"reputation":2832,"user_id":305009,"display_name":"Sean Parsons"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344551317,"creation_date":1344551317,"answer_id":11892912,"question_id":11890585,"body_markdown":"If you&#39;re checking for equality like in a test you should really be doing this instead:\r\n\r\n    System.out.println(ImmutableMultiSet.of(&quot;Hello&quot;).equals(map.keys()))\r\n\r\nSince ImmutableMultiSet has a correct implementation of .equals, that should deal with all the possible cases there besides map being null.\r\n\r\n----------\r\n\r\nIf you want a String containing all the elements in it then use Joiner instead:\r\n\r\n    System.out.println(Joiner.on(&quot;,&quot;).join(map.keys()))\r\n\r\nThere&#39;s a lot more options on Joiner for the various ways it can format the collection.","title":"Is it possible to remove square brackets from ImmutableMultimap.keys()","body":"<p>If you're checking for equality like in a test you should really be doing this instead:</p>\n\n<pre><code>System.out.println(ImmutableMultiSet.of(\"Hello\").equals(map.keys()))\n</code></pre>\n\n<p>Since ImmutableMultiSet has a correct implementation of .equals, that should deal with all the possible cases there besides map being null.</p>\n\n<hr>\n\n<p>If you want a String containing all the elements in it then use Joiner instead:</p>\n\n<pre><code>System.out.println(Joiner.on(\",\").join(map.keys()))\n</code></pre>\n\n<p>There's a lot more options on Joiner for the various ways it can format the collection.</p>\n"},{"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":1,"creation_date":1658253578,"post_id":73025662,"comment_id":129004379,"body_markdown":"It might improve your answer to additionally show how the code looks with your change.","body":"It might improve your answer to additionally show how the code looks with your change."}],"tags":[],"owner":{"account_id":16508504,"reputation":19,"user_id":11927931,"display_name":"Buford T Justice"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658161874,"creation_date":1658161874,"answer_id":73025662,"question_id":11890585,"body_markdown":"This is the answer if you only want the first element\r\n\r\nmap.keys()[0]","title":"Is it possible to remove square brackets from ImmutableMultimap.keys()","body":"<p>This is the answer if you only want the first element</p>\n<p>map.keys()[0]</p>\n"},{"tags":[],"owner":{"account_id":3004010,"reputation":514,"user_id":2548883,"accept_rate":65,"display_name":"asela daskon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689834235,"creation_date":1689832758,"answer_id":76727052,"question_id":11890585,"body_markdown":"I know this question was asked a very long time ago but someone would help with this answer. So try this out !\r\n\r\n    map.keys(item =&gt; item)[0]","title":"Is it possible to remove square brackets from ImmutableMultimap.keys()","body":"<p>I know this question was asked a very long time ago but someone would help with this answer. So try this out !</p>\n<pre><code>map.keys(item =&gt; item)[0]\n</code></pre>\n"}],"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11890831,"answer_count":6,"score":1,"last_activity_date":1689834235,"creation_date":1344540454,"question_id":11890585,"body_markdown":"While performing the following:\r\n\r\n    ImmutableMultimap&lt;Something, Something&gt; map;\r\n    //Say I insert &quot;Hello&quot;, &quot;5&quot; to the map\r\n    System.out.println(map.keys().toString());\r\nThis prints `[Hello]` So when I do\r\n\r\n    if(map.keys().toString().equals(&quot;Hello&quot;))\r\n\r\nit always fails. I don&#39;t want to do\r\n\r\n    if(map.keys().toString.equals(&quot;[Hello]&quot;)\r\nIs there a way to display the result without the square brackets? \r\n\r\n","title":"Is it possible to remove square brackets from ImmutableMultimap.keys()","body":"<p>While performing the following:</p>\n\n<pre><code>ImmutableMultimap&lt;Something, Something&gt; map;\n//Say I insert \"Hello\", \"5\" to the map\nSystem.out.println(map.keys().toString());\n</code></pre>\n\n<p>This prints <code>[Hello]</code> So when I do</p>\n\n<pre><code>if(map.keys().toString().equals(\"Hello\"))\n</code></pre>\n\n<p>it always fails. I don't want to do</p>\n\n<pre><code>if(map.keys().toString.equals(\"[Hello]\")\n</code></pre>\n\n<p>Is there a way to display the result without the square brackets? </p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":7253257,"reputation":3765,"user_id":5532778,"accept_rate":81,"display_name":"PKey"},"score":1,"creation_date":1689834987,"post_id":76727165,"comment_id":135270005,"body_markdown":"I don&#39;t think so. Take a look here: https://coderanch.com/t/630220/java/read-page-DOC-file","body":"I don&#39;t think so. Take a look here: <a href=\"https://coderanch.com/t/630220/java/read-page-DOC-file\" rel=\"nofollow noreferrer\">coderanch.com/t/630220/java/read-page-DOC-file</a>"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1689842329,"post_id":76727165,"comment_id":135271490,"body_markdown":"Use Word to turn it into a PDF, then read that? Word documents don&#39;t store page information...","body":"Use Word to turn it into a PDF, then read that? Word documents don&#39;t store page information..."}],"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689834004,"creation_date":1689834004,"question_id":76727165,"body_markdown":"Is it possible to read a word document in apache poi using pagination? For eg: Can i read first 3 pages of a 5 page document and extract contents from the first 3 pages.","title":"Reading a word doc in apache poi based on pages","body":"<p>Is it possible to read a word document in apache poi using pagination? For eg: Can i read first 3 pages of a 5 page document and extract contents from the first 3 pages.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":11393428,"reputation":115,"user_id":8352632,"display_name":"karan"},"score":0,"creation_date":1689183454,"post_id":76668921,"comment_id":135178726,"body_markdown":"some issue im facing","body":"some issue im facing"}],"answers":[{"tags":[],"owner":{"account_id":29054340,"reputation":1,"user_id":22256424,"display_name":"Giovanni Stoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689833622,"creation_date":1689833622,"answer_id":76727125,"question_id":76668921,"body_markdown":"I am not a developer but found this thread while searching Google for a similar problem I am having as user. It seems that as of versione v108 of Google Phone app (regardless of the device: I have tested on Xiaomi and Pixel) a bug must have been introduced for SIM selection in case of DUAl SIM and &quot;Ask First&quot; is set in the options. But as a user this happens only if I use Google Assistant to place a call saying &quot;Het Google call xyz&quot;, if instad I use dialer or contact app, all works fine. I have this issue also if I search for a business activity on Google and I click on the dialer icon. reverting back to v107 solves the problem.","title":"Getting call SIM options disabled in ACTION_CALL","body":"<p>I am not a developer but found this thread while searching Google for a similar problem I am having as user. It seems that as of versione v108 of Google Phone app (regardless of the device: I have tested on Xiaomi and Pixel) a bug must have been introduced for SIM selection in case of DUAl SIM and &quot;Ask First&quot; is set in the options. But as a user this happens only if I use Google Assistant to place a call saying &quot;Het Google call xyz&quot;, if instad I use dialer or contact app, all works fine. I have this issue also if I search for a business activity on Google and I click on the dialer icon. reverting back to v107 solves the problem.</p>\n"}],"owner":{"account_id":1931992,"reputation":4921,"user_id":1741203,"accept_rate":57,"display_name":"Rajeev Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1689833622,"creation_date":1689153096,"question_id":76668921,"body_markdown":"I have been using ACTION_CALL in my app to direct call a number without opening dialpad with Phone Permission. \r\n\r\nIt working fine in general but in some devices with dual SIM and call settings set for Always Ask causing issue.\r\n\r\nIn some device when we open ACTION_CALL intent,it opens the dialog for user to choose which SIM to be use for call. In some cases, both this options are disabled as shown in image. We are using following code \r\n\r\n        private void openCallIntent(String number, boolean needCountryCode) {\r\n        try {\r\n            Intent callIntent = new Intent(Intent.ACTION_CALL);\r\n            if(needCountryCode) {\r\n                callIntent.setData(Uri.parse(&quot;tel:&quot; + &quot;+&quot; + number));\r\n            }else{\r\n                callIntent.setData(Uri.parse(&quot;tel:&quot; + number));\r\n            }\r\n            startActivity(callIntent);\r\n        } catch (ActivityNotFoundException activityException) {\r\n            //Log.e(&quot;Calling a Phone Number&quot;, &quot;Call failed&quot;, activityException);\r\n        }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LELDe.png","title":"Getting call SIM options disabled in ACTION_CALL","body":"<p>I have been using ACTION_CALL in my app to direct call a number without opening dialpad with Phone Permission.</p>\n<p>It working fine in general but in some devices with dual SIM and call settings set for Always Ask causing issue.</p>\n<p>In some device when we open ACTION_CALL intent,it opens the dialog for user to choose which SIM to be use for call. In some cases, both this options are disabled as shown in image. We are using following code</p>\n<pre><code>    private void openCallIntent(String number, boolean needCountryCode) {\n    try {\n        Intent callIntent = new Intent(Intent.ACTION_CALL);\n        if(needCountryCode) {\n            callIntent.setData(Uri.parse(&quot;tel:&quot; + &quot;+&quot; + number));\n        }else{\n            callIntent.setData(Uri.parse(&quot;tel:&quot; + number));\n        }\n        startActivity(callIntent);\n    } catch (ActivityNotFoundException activityException) {\n        //Log.e(&quot;Calling a Phone Number&quot;, &quot;Call failed&quot;, activityException);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LELDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LELDe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","class","jar"],"comments":[{"owner":{"account_id":2464285,"reputation":1,"user_id":2147737,"display_name":"oldcwj"},"score":0,"creation_date":1689820772,"post_id":76726296,"comment_id":135268633,"body_markdown":"I found an app on Google Play called &quot;Java Runtime Environment&quot; that can run .class files and .jar files.","body":"I found an app on Google Play called &quot;Java Runtime Environment&quot; that can run .class files and .jar files."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1689824585,"post_id":76726296,"comment_id":135268914,"body_markdown":"This will explain all the tools normally used (usually one uses an IDE - Integrated Development Environment): https://developer.android.com/build/building-cmdline","body":"This will explain all the tools normally used (usually one uses an IDE - Integrated Development Environment): <a href=\"https://developer.android.com/build/building-cmdline\" rel=\"nofollow noreferrer\">developer.android.com/build/building-cmdline</a>"}],"answers":[{"tags":[],"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689833404,"creation_date":1689833404,"answer_id":76727110,"question_id":76726296,"body_markdown":"First you have to convert .class file to .dex format as android uses a different byte code format.\r\nYou can find more about it [here.][1]\r\n\r\nI assume you already have an android project created.\r\nYou can then include the .dex file in your project.\r\nFinally, you can load and execute the file as you need.\r\n\r\nIn case you need similar approach for loading .dex files you can find that [here.][2]\r\n\r\nFollowing is an example code which might help you to figure it out.\r\n\r\n    import dalvik.system.DexClassLoader;\r\n\r\n    public class DynamicClassRunner {\r\n      \r\n      public static void runDexFile() {\r\n            try {\r\n                // Get the path to the .dex file (place it in the &quot;assets&quot; folder)\r\n                String dexPath = context.getFilesDir().getAbsolutePath() + &quot;/myjavafile.dex&quot;;\r\n                \r\n            // Get the application&#39;s class loader\r\n            ClassLoader parentClassLoader = context.getClassLoader();\r\n\r\n            // Create a new DexClassLoader to load the .dex file\r\n            DexClassLoader dexClassLoader = new DexClassLoader(dexPath, null, null, parentClassLoader);\r\n\r\n            // Replace &quot;com.example.MyJavaClass&quot; with the actual class name you want to run\r\n            Class&lt;?&gt; myClass = dexClassLoader.loadClass(&quot;com.example.MyJavaClass&quot;);\r\n            \r\n            // Create an instance of the class (assuming it has a parameterless constructor)\r\n            Object instance = myClass.newInstance();\r\n            \r\n            // If the class has a method to execute, you can call it like this:\r\n            // myClass.getMethod(&quot;methodName&quot;).invoke(instance);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://www.javatpoint.com/dalvik-virtual-machine\r\n  [2]: https://stackoverflow.com/questions/75717441/how-to-load-a-dex-file-using-dex-dexclassloader","title":"How can I run a Java .class file or .jar file on an Android phone?","body":"<p>First you have to convert .class file to .dex format as android uses a different byte code format.\nYou can find more about it <a href=\"https://www.javatpoint.com/dalvik-virtual-machine\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>I assume you already have an android project created.\nYou can then include the .dex file in your project.\nFinally, you can load and execute the file as you need.</p>\n<p>In case you need similar approach for loading .dex files you can find that <a href=\"https://stackoverflow.com/questions/75717441/how-to-load-a-dex-file-using-dex-dexclassloader\">here.</a></p>\n<p>Following is an example code which might help you to figure it out.</p>\n<pre><code>import dalvik.system.DexClassLoader;\n\npublic class DynamicClassRunner {\n  \n  public static void runDexFile() {\n        try {\n            // Get the path to the .dex file (place it in the &quot;assets&quot; folder)\n            String dexPath = context.getFilesDir().getAbsolutePath() + &quot;/myjavafile.dex&quot;;\n            \n        // Get the application's class loader\n        ClassLoader parentClassLoader = context.getClassLoader();\n\n        // Create a new DexClassLoader to load the .dex file\n        DexClassLoader dexClassLoader = new DexClassLoader(dexPath, null, null, parentClassLoader);\n\n        // Replace &quot;com.example.MyJavaClass&quot; with the actual class name you want to run\n        Class&lt;?&gt; myClass = dexClassLoader.loadClass(&quot;com.example.MyJavaClass&quot;);\n        \n        // Create an instance of the class (assuming it has a parameterless constructor)\n        Object instance = myClass.newInstance();\n        \n        // If the class has a method to execute, you can call it like this:\n        // myClass.getMethod(&quot;methodName&quot;).invoke(instance);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2464285,"reputation":1,"user_id":2147737,"display_name":"oldcwj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689833404,"creation_date":1689819993,"question_id":76726296,"body_markdown":"How can I run a Java .class file or .jar file on my Android phone?\r\n\r\nI am currently learning Java programming using the Java SE standard. I have generated .class files using javac and created a .jar file using the &quot;java -jar&quot; command. Now, I want to run these .class or .jar files on my Android phone. Is there an app that can conveniently run .class files or execute .jar files on Android, so that I can see the results on my phone?","title":"How can I run a Java .class file or .jar file on an Android phone?","body":"<p>How can I run a Java .class file or .jar file on my Android phone?</p>\n<p>I am currently learning Java programming using the Java SE standard. I have generated .class files using javac and created a .jar file using the &quot;java -jar&quot; command. Now, I want to run these .class or .jar files on my Android phone. Is there an app that can conveniently run .class files or execute .jar files on Android, so that I can see the results on my phone?</p>\n"},{"tags":["java","kotlin","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689786969,"post_id":76723633,"comment_id":135264226,"body_markdown":"`dependsOn(&quot;:projectA:test&quot;)` should work (don&#39;t know if it matters, but I would put it _outside_ the `useJUnitPlatform()` closure; also, note the `:` at the start of the path).","body":"<code>dependsOn(&quot;:projectA:test&quot;)</code> should work (don&#39;t know if it matters, but I would put it <i>outside</i> the <code>useJUnitPlatform()</code> closure; also, note the <code>:</code> at the start of the path)."},{"owner":{"account_id":13527984,"reputation":53,"user_id":9759267,"display_name":"Vlad"},"score":0,"creation_date":1689833409,"post_id":76723633,"comment_id":135269760,"body_markdown":"@Slaw sorry, I copied the task definition wrong. The task definition is like you told me and it still doesn&#39;t work. I edited the post to fix it, thanks for pointing out!","body":"@Slaw sorry, I copied the task definition wrong. The task definition is like you told me and it still doesn&#39;t work. I edited the post to fix it, thanks for pointing out!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689891325,"post_id":76723633,"comment_id":135281423,"body_markdown":"Ah, I think I see the problem. Based on your description, should you not be depending on the `test` task of **projectB**? i.e., `dependsOn(&quot;:projectB:test&quot;)`.","body":"Ah, I think I see the problem. Based on your description, should you not be depending on the <code>test</code> task of <b>projectB</b>? i.e., <code>dependsOn(&quot;:projectB:test&quot;)</code>."}],"owner":{"account_id":13527984,"reputation":53,"user_id":9759267,"display_name":"Vlad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689833324,"creation_date":1689785918,"question_id":76723633,"body_markdown":"I have two gradle projects in the same directory: \r\n\r\n    -root: \r\n    --projectA:\r\n    ---build.gradle \r\n    --projectB:\r\n    ---build.gradle \r\n    --build.gradle\r\n\r\nProjectA uses projectB as an implementation dependency.\r\nHow can I execute the test task of project B when project A test phase executes?\r\n\r\nI&#39;ve tried the code below but doesn&#39;t seem to work, my build files are in Kotlin DSL.\r\n\r\nprojectA build.gradle.kts:\r\n\r\n    tasks.test {\r\n       ...\r\n       useJUnitPlatform() {\r\n         excludeTags(&quot;excluded&quot;)\r\n       }\r\n       failFast = true\r\n         \r\n       dependsOn(&quot;:projectA:test&quot;)\r\n       }\r\n    }\r\n\r\nPurpose: unit tests of dependency should also execute when unit tests of root project executes","title":"Gradle run test task of dependency","body":"<p>I have two gradle projects in the same directory:</p>\n<pre><code>-root: \n--projectA:\n---build.gradle \n--projectB:\n---build.gradle \n--build.gradle\n</code></pre>\n<p>ProjectA uses projectB as an implementation dependency.\nHow can I execute the test task of project B when project A test phase executes?</p>\n<p>I've tried the code below but doesn't seem to work, my build files are in Kotlin DSL.</p>\n<p>projectA build.gradle.kts:</p>\n<pre><code>tasks.test {\n   ...\n   useJUnitPlatform() {\n     excludeTags(&quot;excluded&quot;)\n   }\n   failFast = true\n     \n   dependsOn(&quot;:projectA:test&quot;)\n   }\n}\n</code></pre>\n<p>Purpose: unit tests of dependency should also execute when unit tests of root project executes</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1689789638,"post_id":76723997,"comment_id":135264732,"body_markdown":"Probably because varargs are treated like arrays by the VM. Maybe there is some sort of type erasure happening. This may help: [Method Overloading and Ambiguity in Varargs in Java (GeeksforGeeks)](https://www.geeksforgeeks.org/method-overloading-ambiguity-varargs-java/) and this question: [Ambiguous varargs methods](https://stackoverflow.com/questions/27874380/ambiguous-varargs-methods). There are a ton of Google results for &quot;varargs ambiguous java&quot;.","body":"Probably because varargs are treated like arrays by the VM. Maybe there is some sort of type erasure happening. This may help: <a href=\"https://www.geeksforgeeks.org/method-overloading-ambiguity-varargs-java/\" rel=\"nofollow noreferrer\">Method Overloading and Ambiguity in Varargs in Java (GeeksforGeeks)</a> and this question: <a href=\"https://stackoverflow.com/questions/27874380/ambiguous-varargs-methods\">Ambiguous varargs methods</a>. There are a ton of Google results for &quot;varargs ambiguous java&quot;."}],"answers":[{"tags":[],"owner":{"account_id":28879862,"reputation":39,"user_id":22119553,"display_name":"jackeylove271"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689833240,"creation_date":1689789541,"answer_id":76724063,"question_id":76723997,"body_markdown":"In the first case, there is no error because the parameter types of these two methods are different, and there is no overloading ambiguity. The compiler can unambiguously determine which method to call based on the type of argument passed during the invocation. \r\n\r\nWhat about the 2nd and 3rd tests, here everything is much more interesting. Varargs automatically wrap primitive data types into their corresponding wrapper classes if the method takes the varargs that correspond to primitive types. (`byte...` =&gt; `Byte...` when calling a method). \r\n\r\nIn the 2nd case, if you call `doCalc(12, 1)` for example, `12` and `1` are treated as `int` literal, but it can be automatically transfered into a `long` (int -&gt; long). So the method `doCalc(long... a)` has an advantage because it can directly accept an argument of type `long` (cannot convert from `int` to `byte` for `int -&gt; byte -&gt; Byte`, but can from `int` to `long`), which is a primitive `long`. \r\n\r\nI got the next output here: `byte 2...`\r\n\r\nBut you can call the method as follows: \r\n```\r\nbyte b = 1; \r\ndoCalc(b, b);\r\n```\r\nIn this case, there will be a compile-time error, because it can convert `byte -&gt; int -&gt; long` and also it can convert `byte -&gt; Byte` as well.\r\n\r\nAlso, you can experiment with the methods like that:\r\n```\r\nstatic void doCalc(Long... a) {\r\n    System.out.print(&quot;byte 2...&quot;);\r\n}\r\n```\r\nHere even if you call `doCalc(1, 1)`, there will be an compile-time error, because it can&#39;t wrap `int` into `Long`. \r\n\r\nWhat about 3rd case, you have two non-generic methods (`Byte...` vs `Byte...`). In order for one of the methods to be chosen, one of them has to be more specific than the other. In your case, each method only has one parameter, and for one of them to be more specific than the other, the type of that one parameter must be a subtype of the other method&#39;s parameter.\r\n\r\nSince `byte` is not a subtype of `Byte` there is no most specific method and the compiler throws a compile-time error.\r\n\r\nCheck this out. JLS 15.12.2.5 Choosing the Most Specific Method: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5\r\n\r\nAlso, check these answers: \r\n1) https://stackoverflow.com/questions/30130720/method-overload-ambiguity-with-java-8-ternary-conditional-and-unboxed-primitives/30137369#30137369\r\n2) https://stackoverflow.com/questions/23020493/why-is-this-method-overloading-ambiguous","title":"ambiguous issue in method overloading","body":"<p>In the first case, there is no error because the parameter types of these two methods are different, and there is no overloading ambiguity. The compiler can unambiguously determine which method to call based on the type of argument passed during the invocation.</p>\n<p>What about the 2nd and 3rd tests, here everything is much more interesting. Varargs automatically wrap primitive data types into their corresponding wrapper classes if the method takes the varargs that correspond to primitive types. (<code>byte...</code> =&gt; <code>Byte...</code> when calling a method).</p>\n<p>In the 2nd case, if you call <code>doCalc(12, 1)</code> for example, <code>12</code> and <code>1</code> are treated as <code>int</code> literal, but it can be automatically transfered into a <code>long</code> (int -&gt; long). So the method <code>doCalc(long... a)</code> has an advantage because it can directly accept an argument of type <code>long</code> (cannot convert from <code>int</code> to <code>byte</code> for <code>int -&gt; byte -&gt; Byte</code>, but can from <code>int</code> to <code>long</code>), which is a primitive <code>long</code>.</p>\n<p>I got the next output here: <code>byte 2...</code></p>\n<p>But you can call the method as follows:</p>\n<pre><code>byte b = 1; \ndoCalc(b, b);\n</code></pre>\n<p>In this case, there will be a compile-time error, because it can convert <code>byte -&gt; int -&gt; long</code> and also it can convert <code>byte -&gt; Byte</code> as well.</p>\n<p>Also, you can experiment with the methods like that:</p>\n<pre><code>static void doCalc(Long... a) {\n    System.out.print(&quot;byte 2...&quot;);\n}\n</code></pre>\n<p>Here even if you call <code>doCalc(1, 1)</code>, there will be an compile-time error, because it can't wrap <code>int</code> into <code>Long</code>.</p>\n<p>What about 3rd case, you have two non-generic methods (<code>Byte...</code> vs <code>Byte...</code>). In order for one of the methods to be chosen, one of them has to be more specific than the other. In your case, each method only has one parameter, and for one of them to be more specific than the other, the type of that one parameter must be a subtype of the other method's parameter.</p>\n<p>Since <code>byte</code> is not a subtype of <code>Byte</code> there is no most specific method and the compiler throws a compile-time error.</p>\n<p>Check this out. JLS 15.12.2.5 Choosing the Most Specific Method: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5</a></p>\n<p>Also, check these answers:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/30130720/method-overload-ambiguity-with-java-8-ternary-conditional-and-unboxed-primitives/30137369#30137369\">Method overload ambiguity with Java 8 ternary conditional and unboxed primitives</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23020493/why-is-this-method-overloading-ambiguous\">Why is this method overloading ambiguous?</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689795567,"creation_date":1689795567,"answer_id":76724706,"question_id":76723997,"body_markdown":"In my test, this code:\r\n\r\n    static void doCalc(Byte... a) {\r\n        System.out.print(&quot;byte 1...&quot;);\r\n    }\r\n    static void doCalc(long... a) {\r\n        System.out.print(&quot;byte 2...&quot;);\r\n    }\r\n\r\n    public static void main (String[] args) {\r\n        byte b = 5;\r\n        doCalc(b, b);\r\n    }\r\n\r\nproduces compilation error:\r\n\r\n&gt; error: reference to doCalc is ambiguous\r\n&gt;         doCalc(b, b);\r\n&gt;         ^   both method doCalc(Byte...) in Main and method doCalc(long...) in Main match\r\n\r\nso, compiler is unable to decide which is better to call. \r\n\r\nMy understanding is that compiler sees a variable arity methods in both cases (third phase is aplied), but neither is more specific - the compiler cannot decide between autoboxing to Byte or widening to long. The Byte class is not a subtype of long, and long is not a subtype of Byte.\r\n\r\nSimilar reasoning applies to third example, the only difference is that there is no widening. But compiler still sees both methods as equally specific, and cant decide which one to call.\r\n\r\nReferences:\r\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\r\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5","title":"ambiguous issue in method overloading","body":"<p>In my test, this code:</p>\n<pre><code>static void doCalc(Byte... a) {\n    System.out.print(&quot;byte 1...&quot;);\n}\nstatic void doCalc(long... a) {\n    System.out.print(&quot;byte 2...&quot;);\n}\n\npublic static void main (String[] args) {\n    byte b = 5;\n    doCalc(b, b);\n}\n</code></pre>\n<p>produces compilation error:</p>\n<blockquote>\n<p>error: reference to doCalc is ambiguous\ndoCalc(b, b);\n^   both method doCalc(Byte...) in Main and method doCalc(long...) in Main match</p>\n</blockquote>\n<p>so, compiler is unable to decide which is better to call.</p>\n<p>My understanding is that compiler sees a variable arity methods in both cases (third phase is aplied), but neither is more specific - the compiler cannot decide between autoboxing to Byte or widening to long. The Byte class is not a subtype of long, and long is not a subtype of Byte.</p>\n<p>Similar reasoning applies to third example, the only difference is that there is no widening. But compiler still sees both methods as equally specific, and cant decide which one to call.</p>\n<p>References:\n<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2</a>\n<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5</a></p>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1689833240,"creation_date":1689789009,"question_id":76723997,"body_markdown":"Can someone help explain why test 2 &amp; test 3 have issue?\r\n\r\n    public static void main (String[] args) {\r\n        byte b = 5;\r\n        doCalc(b, b);\r\n    }\r\n\r\nTest 1: These two methods have no ambiguous issue.\r\n\r\n    static void doCalc(byte a, byte b) {\r\n        System.out.print(&quot;byte, byte&quot;);\r\n    }\r\n    static void doCalc(Byte s1, Byte s2) {\r\n        System.out.print(&quot;Byte, Byte&quot;);\r\n    }\r\n\r\nTest 2: These two methods has no Compile-time ambiguous, but it has run-time ambiguous.\r\n\r\n    static void doCalc(Byte... a) {\r\n        System.out.print(&quot;byte 1...&quot;);\r\n    }\r\n    static void doCalc(long... a) {\r\n        System.out.print(&quot;byte 2...&quot;);\r\n    }\r\n\r\nTest 3: These two methods has Compile-time ambiguous.\r\n\r\n    static void doCalc(Byte... a) {\r\n        System.out.print(&quot;byte 1...&quot;);\r\n    }\r\n    static void doCalc(byte... a) {\r\n        System.out.print(&quot;byte 2...&quot;);\r\n    }","title":"ambiguous issue in method overloading","body":"<p>Can someone help explain why test 2 &amp; test 3 have issue?</p>\n<pre><code>public static void main (String[] args) {\n    byte b = 5;\n    doCalc(b, b);\n}\n</code></pre>\n<p>Test 1: These two methods have no ambiguous issue.</p>\n<pre><code>static void doCalc(byte a, byte b) {\n    System.out.print(&quot;byte, byte&quot;);\n}\nstatic void doCalc(Byte s1, Byte s2) {\n    System.out.print(&quot;Byte, Byte&quot;);\n}\n</code></pre>\n<p>Test 2: These two methods has no Compile-time ambiguous, but it has run-time ambiguous.</p>\n<pre><code>static void doCalc(Byte... a) {\n    System.out.print(&quot;byte 1...&quot;);\n}\nstatic void doCalc(long... a) {\n    System.out.print(&quot;byte 2...&quot;);\n}\n</code></pre>\n<p>Test 3: These two methods has Compile-time ambiguous.</p>\n<pre><code>static void doCalc(Byte... a) {\n    System.out.print(&quot;byte 1...&quot;);\n}\nstatic void doCalc(byte... a) {\n    System.out.print(&quot;byte 2...&quot;);\n}\n</code></pre>\n"},{"tags":["java","rest","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1689830260,"post_id":76726677,"comment_id":135269385,"body_markdown":"Just create new RequestSpecification object for each request. similar issue https://stackoverflow.com/a/69569031/7574461","body":"Just create new RequestSpecification object for each request. similar issue <a href=\"https://stackoverflow.com/a/69569031/7574461\">stackoverflow.com/a/69569031/7574461</a>"}],"owner":{"account_id":26637484,"reputation":1,"user_id":20253685,"display_name":"Ravi Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689832790,"creation_date":1689827342,"question_id":76726677,"body_markdown":"**When I&#39;m passing the headers in the first API call, the same header is getting passed again in the second API call.\r\nI want to remove all the headers which I passed in the first API call because I don&#39;t need those headers in the second API call.**\r\n\r\n```\r\npackage org.Selenium.testing;\r\n\r\nimport static io.restassured.RestAssured.given;\r\n\r\nimport org.testng.Assert;\r\nimport org.testng.annotations.Test;\r\n\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.response.Response;\r\nimport io.restassured.specification.RequestSpecification;\r\n\r\npublic class REst {\r\n\r\nRequestSpecification requestSpec = RestAssured.given();\t\r\n\tprivate String client_id = &quot;id&quot;;\r\n\tprivate String client_secret = &quot;secret&quot;;\r\n\tprivate String grant_type = &quot;password&quot;;\r\n\tprivate String Username = &quot;a.com&quot;;\r\n\tprivate String password = &quot;b&quot;;\r\n\tprivate String scope = &quot;x&quot;;\r\n\t\r\n\t@Test\r\n\tpublic void token()\r\n\t{\r\n\trequestSpec.baseUri(&quot;URL1&quot;);\r\n\r\n\trequestSpec.contentType(&quot;multipart/form-data&quot;)\r\n\t.multiPart(&quot;client_id&quot;, client_id)\r\n\t.multiPart(&quot;client_secret&quot;, client_secret)\r\n\t.multiPart(&quot;grant_type&quot;, grant_type)\r\n\t.multiPart(&quot;Username&quot;, Username)\r\n\t.multiPart(&quot;password&quot;, password)\r\n\t.multiPart(&quot;scope&quot;, scope);\r\n\t\r\n\tResponse response = requestSpec.get();\r\n\t\t\r\n\tAssert.assertTrue(response.statusCode()==200);\r\n\tresponse.prettyPrint();\r\n\tString token = &quot;Bearer &quot;+response.path(&quot;access_token&quot;);\r\n\t\r\n\tSystem.out.println(&quot;------------------- 1st  TC is working---------------------&quot;);\r\n\t\r\n\trequestSpec.baseUri(&quot;URL2&quot;);\r\n\trequestSpec.headers(&quot;Authorization&quot;,token);\r\n\tResponse res = requestSpec.get();\r\n\t\r\n\tAssert.assertTrue(res.statusCode()==200);\r\n\tres.prettyPrint();\r\n\t\r\n\tSystem.out.println(&quot;------------------- 2nd  TC is working---------------------&quot;);\r\n\t\r\n\t}\r\n```\r\n\r\n\r\n**When I&#39;m passing the headers in the first API call, the same header is getting passed again in the second API call.\r\nI want to remove all the headers which I passed in the first API call because I don&#39;t need those headers in the second API call.**\r\n\r\nThe second API call requires no headers and in the authorization I&#39;m passing jwt token which I got after the first API call, but it keeps passing the first API headers in the second API call.","title":"How to remove the headers from the previous API GET request and hit the new GET method with the same RequestSpecification","body":"<p><strong>When I'm passing the headers in the first API call, the same header is getting passed again in the second API call.\nI want to remove all the headers which I passed in the first API call because I don't need those headers in the second API call.</strong></p>\n<pre><code>package org.Selenium.testing;\n\nimport static io.restassured.RestAssured.given;\n\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport io.restassured.RestAssured;\nimport io.restassured.response.Response;\nimport io.restassured.specification.RequestSpecification;\n\npublic class REst {\n\nRequestSpecification requestSpec = RestAssured.given(); \n    private String client_id = &quot;id&quot;;\n    private String client_secret = &quot;secret&quot;;\n    private String grant_type = &quot;password&quot;;\n    private String Username = &quot;a.com&quot;;\n    private String password = &quot;b&quot;;\n    private String scope = &quot;x&quot;;\n    \n    @Test\n    public void token()\n    {\n    requestSpec.baseUri(&quot;URL1&quot;);\n\n    requestSpec.contentType(&quot;multipart/form-data&quot;)\n    .multiPart(&quot;client_id&quot;, client_id)\n    .multiPart(&quot;client_secret&quot;, client_secret)\n    .multiPart(&quot;grant_type&quot;, grant_type)\n    .multiPart(&quot;Username&quot;, Username)\n    .multiPart(&quot;password&quot;, password)\n    .multiPart(&quot;scope&quot;, scope);\n    \n    Response response = requestSpec.get();\n        \n    Assert.assertTrue(response.statusCode()==200);\n    response.prettyPrint();\n    String token = &quot;Bearer &quot;+response.path(&quot;access_token&quot;);\n    \n    System.out.println(&quot;------------------- 1st  TC is working---------------------&quot;);\n    \n    requestSpec.baseUri(&quot;URL2&quot;);\n    requestSpec.headers(&quot;Authorization&quot;,token);\n    Response res = requestSpec.get();\n    \n    Assert.assertTrue(res.statusCode()==200);\n    res.prettyPrint();\n    \n    System.out.println(&quot;------------------- 2nd  TC is working---------------------&quot;);\n    \n    }\n</code></pre>\n<p><strong>When I'm passing the headers in the first API call, the same header is getting passed again in the second API call.\nI want to remove all the headers which I passed in the first API call because I don't need those headers in the second API call.</strong></p>\n<p>The second API call requires no headers and in the authorization I'm passing jwt token which I got after the first API call, but it keeps passing the first API headers in the second API call.</p>\n"},{"tags":["java","junit5","google-workflows"],"comments":[{"owner":{"account_id":14847021,"reputation":301,"user_id":10722088,"display_name":"Simone Lungarella"},"score":1,"creation_date":1689832820,"post_id":76726966,"comment_id":135269686,"body_markdown":"I suggest you add the code of what you are trying to do, in that way, we can have a starting point and a clear idea of what you want to reach.","body":"I suggest you add the code of what you are trying to do, in that way, we can have a starting point and a clear idea of what you want to reach."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689856677,"post_id":76726966,"comment_id":135274457,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29054045,"reputation":1,"user_id":22256169,"display_name":"Anikaith Kapoor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689832431,"creation_date":1689831704,"question_id":76726966,"body_markdown":"I have a post API endpoint where I post certain data into the workflow. I am unable to mock certain static methods using Mockito and jnuit5. I am using methods including `ExecutionName.of()`, `executionClient.getExecution()` and `getExecutionRequest()`. Fresher in a company, any suggestions on how to do it.\r\n\r\nI have tried stub injection but wasn&#39;t able to get any results out of it.","title":"Unit testing for post API for a Google workflows endpoint","body":"<p>I have a post API endpoint where I post certain data into the workflow. I am unable to mock certain static methods using Mockito and jnuit5. I am using methods including <code>ExecutionName.of()</code>, <code>executionClient.getExecution()</code> and <code>getExecutionRequest()</code>. Fresher in a company, any suggestions on how to do it.</p>\n<p>I have tried stub injection but wasn't able to get any results out of it.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1689833752,"post_id":76726852,"comment_id":135269811,"body_markdown":"have you checked the documentation for that class? It&#39;s quite likely to be mentioned there","body":"have you checked the documentation for that class? It&#39;s quite likely to be mentioned there"},{"owner":{"account_id":23743483,"reputation":21,"user_id":17761248,"display_name":"Akshay Sarambale"},"score":0,"creation_date":1689916437,"post_id":76726852,"comment_id":135283486,"body_markdown":"Yes but couldn&#39;t find any - https://docs.spring.io/spring-security/reference/6.1-SNAPSHOT/migration/index.html Please share the link if I&#39;m checking wrong one.","body":"Yes but couldn&#39;t find any - <a href=\"https://docs.spring.io/spring-security/reference/6.1-SNAPSHOT/migration/index.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/6.1-SNAPSHOT/migrat&zwnj;&#8203;ion/&hellip;</a> Please share the link if I&#39;m checking wrong one."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1690179934,"post_id":76726852,"comment_id":135311696,"body_markdown":"why are you looking at the documentation of 6.1-SNAPSHOT, to answer a question about 3.1.1?","body":"why are you looking at the documentation of 6.1-SNAPSHOT, to answer a question about 3.1.1?"}],"owner":{"account_id":23743483,"reputation":21,"user_id":17761248,"display_name":"Akshay Sarambale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689831585,"creation_date":1689830074,"question_id":76726852,"body_markdown":"Due to upgradation of SpringBoot v2.7.3 to v3.1.1, facing deprecation issue of AuthenticationProperties class. \r\n\r\nImport code line:\r\n\r\nimport com.westernacher.xna.template.boot.AuthenticationProperties;\r\n\r\nWhat is the replacement for AuthenticationProperties?","title":"&#39;com.westernacher.xna.template.boot.AuthenticationProperties&#39; is deprecated and marked for removal","body":"<p>Due to upgradation of SpringBoot v2.7.3 to v3.1.1, facing deprecation issue of AuthenticationProperties class.</p>\n<p>Import code line:</p>\n<p>import com.westernacher.xna.template.boot.AuthenticationProperties;</p>\n<p>What is the replacement for AuthenticationProperties?</p>\n"},{"tags":["java","security","encryption"],"comments":[{"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"score":1,"creation_date":1248446367,"post_id":1175008,"comment_id":998866,"body_markdown":"Why do you want to do this? If someone is interested in your code, he will be able to reconstruct it anyways, as long as he access to the binary (in this case a war). In Java that is especially simple, but it is also possible for C. Interested in your code may be only developers, with little effort they gain the knowledge needed for this. So the extra-effort to obfuscate your code may fend only very few hackers off. I can&#39;t see the benefit.","body":"Why do you want to do this? If someone is interested in your code, he will be able to reconstruct it anyways, as long as he access to the binary (in this case a war). In Java that is especially simple, but it is also possible for C. Interested in your code may be only developers, with little effort they gain the knowledge needed for this. So the extra-effort to obfuscate your code may fend only very few hackers off. I can&#39;t see the benefit."},{"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"score":0,"creation_date":1248457633,"post_id":1175008,"comment_id":1000095,"body_markdown":"+1 for @Mnementh&#39;s comments. What is the objective here? You are deploying your war in a web application container (e.g. Tomcat), sever-side. Web clients will not have access to it.","body":"+1 for @Mnementh&#39;s comments. What is the objective here? You are deploying your war in a web application container (e.g. Tomcat), sever-side. Web clients will not have access to it."},{"owner":{"display_name":"Walter White"},"score":0,"creation_date":1248527979,"post_id":1175008,"comment_id":1003390,"body_markdown":"I&#39;m not worried about people viewing the site in firefox or whatever, but other people on the system or if developing a website for a client and using their servers, I may or may not want them to easily have access to the source code.","body":"I&#39;m not worried about people viewing the site in firefox or whatever, but other people on the system or if developing a website for a client and using their servers, I may or may not want them to easily have access to the source code."},{"owner":{"display_name":"Walter White"},"score":0,"creation_date":1248528318,"post_id":1175008,"comment_id":1003399,"body_markdown":"I suppose the best solution would be to just go with private hosting then.","body":"I suppose the best solution would be to just go with private hosting then."},{"owner":{"account_id":6099840,"reputation":823,"user_id":4759226,"accept_rate":79,"display_name":"Erick"},"score":0,"creation_date":1460341891,"post_id":1175008,"comment_id":60680128,"body_markdown":"@WalterWhite Walter, I am trying to figure out the same thing (how to avoid client to see the source code). Were you able to come up with a nice solution other than private hosting?","body":"@WalterWhite Walter, I am trying to figure out the same thing (how to avoid client to see the source code). Were you able to come up with a nice solution other than private hosting?"}],"answers":[{"tags":[],"owner":{"account_id":13044,"reputation":10485,"user_id":25991,"accept_rate":83,"display_name":"Everett Toews"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1248391616,"creation_date":1248391616,"answer_id":1175045,"question_id":1175008,"body_markdown":"[Zelix KlassMaster][1] can be run from Ant.  Looks like it handles [WARs][2] too.\r\n\r\nCouldn&#39;t tell you about the deployment of the WAR but any obfuscator that causes an archive not to work after it&#39;s been obfuscated isn&#39;t worth much.\r\n\r\n\r\n  [1]: http://www.zelix.com/klassmaster/features.html\r\n  [2]: http://www.zelix.com/klassmaster/docs/openStatement.html","title":"Encrypting War files","body":"<p><a href=\"http://www.zelix.com/klassmaster/features.html\" rel=\"nofollow noreferrer\">Zelix KlassMaster</a> can be run from Ant.  Looks like it handles <a href=\"http://www.zelix.com/klassmaster/docs/openStatement.html\" rel=\"nofollow noreferrer\">WARs</a> too.</p>\n\n<p>Couldn't tell you about the deployment of the WAR but any obfuscator that causes an archive not to work after it's been obfuscated isn't worth much.</p>\n"},{"comments":[{"owner":{"account_id":5833633,"reputation":166,"user_id":4597394,"accept_rate":57,"display_name":"Bilal Djaghout"},"score":0,"creation_date":1632739277,"post_id":1175199,"comment_id":122565777,"body_markdown":"would you please tell me how can I do that?","body":"would you please tell me how can I do that?"}],"tags":[],"owner":{"account_id":3017,"reputation":6344,"user_id":4273,"display_name":"Joe Kuemerle"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1248394716,"creation_date":1248394716,"answer_id":1175199,"question_id":1175008,"body_markdown":"[DashO][1] from PreEmptive Solutions will also obfuscate WAR files.\r\n\r\n\r\n  [1]: http://www.preemptive.com/dasho-for-java.html","title":"Encrypting War files","body":"<p><a href=\"http://www.preemptive.com/dasho-for-java.html\" rel=\"nofollow noreferrer\">DashO</a> from PreEmptive Solutions will also obfuscate WAR files.</p>\n"},{"comments":[{"owner":{"display_name":"Walter White"},"score":0,"creation_date":1249562369,"post_id":1178074,"comment_id":1064564,"body_markdown":"private hosting appears to be the best option","body":"private hosting appears to be the best option"},{"owner":{"account_id":1907149,"reputation":2025,"user_id":2527830,"accept_rate":100,"display_name":"Farid Imranov"},"score":0,"creation_date":1621101516,"post_id":1178074,"comment_id":119396148,"body_markdown":"Your link says &quot;Page not found&quot;. Probably owner removed the article","body":"Your link says &quot;Page not found&quot;. Probably owner removed the article"}],"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1248445753,"creation_date":1248445753,"answer_id":1178074,"question_id":1175008,"body_markdown":"[Cracking Java byte-code encryption - Why Java obfuscation schemes based on byte-code encryption won&#39;t work][1] - Article from JavaWorld.\r\n\r\nIf your code is important enough to go to all this trouble it probably makes sense to host it on a private server... :\\\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/javaqa/2003-05/01-qa-0509-jcrypt.html","title":"Encrypting War files","body":"<p><a href=\"http://www.javaworld.com/javaworld/javaqa/2003-05/01-qa-0509-jcrypt.html\" rel=\"nofollow noreferrer\">Cracking Java byte-code encryption - Why Java obfuscation schemes based on byte-code encryption won't work</a> - Article from JavaWorld.</p>\n\n<p>If your code is important enough to go to all this trouble it probably makes sense to host it on a private server... :\\</p>\n"},{"tags":[],"owner":{"account_id":1219644,"reputation":446,"user_id":1186539,"accept_rate":50,"display_name":"Bekhbayar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328233756,"creation_date":1328233756,"answer_id":9122700,"question_id":1175008,"body_markdown":"i have same problem here. \r\nI tried it with Yguard 2.4, Proguard 4.7, Zelix 5.4.6, Allatori 4.0 , JavaGuard 1.0, Sandmark 3.40. All of those are not giving me glance that my obfuscated web application would not run. They can obfuscate bytecodes even they can obfuscate my application. That is all.\r\n\r\np.s : The application server(server container tomcat, apache, glassfish, weblogic , websphere etc) can&#39;t hide our code from hackers. in my experience all of them has temp folder which contains currently using items. In this folder we can see the code.\r\n\r\nFinally i would say if we use Java then we make opensource. :P ","title":"Encrypting War files","body":"<p>i have same problem here. \nI tried it with Yguard 2.4, Proguard 4.7, Zelix 5.4.6, Allatori 4.0 , JavaGuard 1.0, Sandmark 3.40. All of those are not giving me glance that my obfuscated web application would not run. They can obfuscate bytecodes even they can obfuscate my application. That is all.</p>\n\n<p>p.s : The application server(server container tomcat, apache, glassfish, weblogic , websphere etc) can't hide our code from hackers. in my experience all of them has temp folder which contains currently using items. In this folder we can see the code.</p>\n\n<p>Finally i would say if we use Java then we make opensource. :P </p>\n"},{"tags":[],"owner":{"account_id":3142696,"reputation":253,"user_id":2657847,"accept_rate":75,"display_name":"NicholasKarl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386603653,"creation_date":1386603653,"answer_id":20474554,"question_id":1175008,"body_markdown":"I had a solution to this problem. It goes like this:\r\n\r\nEncrypt a war file. Like ZIP it and encrypt it, so it cannot be read without the password.\r\n\r\nSet up a system, or only give the password to a hosting service. Once you and a client\r\nhave worked out your terms, you give the password to the hosting service. They decrypt the\r\nwar file and install it. They client only sees the website/api. The client never has \r\naccess to your jar files.\r\n\r\nAny comments?","title":"Encrypting War files","body":"<p>I had a solution to this problem. It goes like this:</p>\n\n<p>Encrypt a war file. Like ZIP it and encrypt it, so it cannot be read without the password.</p>\n\n<p>Set up a system, or only give the password to a hosting service. Once you and a client\nhave worked out your terms, you give the password to the hosting service. They decrypt the\nwar file and install it. They client only sees the website/api. The client never has \naccess to your jar files.</p>\n\n<p>Any comments?</p>\n"}],"owner":{"display_name":"Walter White"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8526,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":1178074,"answer_count":5,"score":9,"last_activity_date":1689831231,"creation_date":1248390894,"question_id":1175008,"body_markdown":"I would like to encrypt or obfuscate my WAR file so that reverse engineering will take a little more effort.  Is there such a tool or maven plugin that will encrypt a WAR file and its contents?\r\n\r\nAlso, once the WAR is encrypted, how will the Web Application be deployed at that point?  If the web server explodes the WAR, can each jar and resource still be encrypted, how will the startup behavior be modified to decrypt the nested jars and resources?\r\n\r\n\r\nThanks,\r\nWalter","title":"Encrypting War files","body":"<p>I would like to encrypt or obfuscate my WAR file so that reverse engineering will take a little more effort.  Is there such a tool or maven plugin that will encrypt a WAR file and its contents?</p>\n\n<p>Also, once the WAR is encrypted, how will the Web Application be deployed at that point?  If the web server explodes the WAR, can each jar and resource still be encrypted, how will the startup behavior be modified to decrypt the nested jars and resources?</p>\n\n<p>Thanks,\nWalter</p>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":2,"creation_date":1689819066,"post_id":76726233,"comment_id":135268488,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead, [edit] your question to include the code as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead, <a href=\"https://stackoverflow.com/posts/76726233/edit\">edit</a> your question to include the code as properly formatted text."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689856118,"post_id":76726233,"comment_id":135274319,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28577951,"reputation":1,"user_id":21879303,"display_name":"Hang Mao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689829655,"creation_date":1689818915,"question_id":76726233,"body_markdown":"I configured multiple data sources and started running normally. After two hours of not operating the database, I performed an insert operation and encountered a &#39;Could not create connection to database server&#39; Attempted reconnect 3 times Giving up\r\n\r\n\r\n\r\nI hope he can successfully execute the insert after 8 hours of inactivity","title":"Could not create connection to database server&#39; Attempted reconnect 3 times Giving up","body":"<p>I configured multiple data sources and started running normally. After two hours of not operating the database, I performed an insert operation and encountered a 'Could not create connection to database server' Attempted reconnect 3 times Giving up</p>\n<p>I hope he can successfully execute the insert after 8 hours of inactivity</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":0,"creation_date":1288885383,"post_id":4098205,"comment_id":4410248,"body_markdown":"This is more of a workaround: You can drag methods, fields and types in the outline view to change their order as long as that list is not sorted.","body":"This is more of a workaround: You can drag methods, fields and types in the outline view to change their order as long as that list is not sorted."}],"answers":[{"comments":[{"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"score":0,"creation_date":1288887572,"post_id":4098740,"comment_id":4410795,"body_markdown":"You have indeed a checkbox called `Sort members in same category by visibility`","body":"You have indeed a checkbox called <code>Sort members in same category by visibility</code>"},{"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"score":0,"creation_date":1288911797,"post_id":4098740,"comment_id":4415339,"body_markdown":"Perfect, exactly what I was looking for.  This combined with the `Sort Members` command in `Perferences-&gt;General-&gt;Keys` allowed me to set a custom key binding for this.","body":"Perfect, exactly what I was looking for.  This combined with the <code>Sort Members</code> command in <code>Perferences-&gt;General-&gt;Keys</code> allowed me to set a custom key binding for this."}],"tags":[],"owner":{"account_id":185736,"reputation":1494,"user_id":422651,"accept_rate":75,"display_name":"Bivas"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1288887330,"creation_date":1288887330,"answer_id":4098740,"question_id":4098205,"body_markdown":"Window-&gt;preferences-&gt;Java-&gt;Appearance-&gt;Members Sort","title":"Is there an Eclipse shortcut to sort members by modifier?","body":"<p>Window->preferences->Java->Appearance->Members Sort</p>\n"},{"comments":[{"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"score":0,"creation_date":1436968841,"post_id":30347871,"comment_id":50835482,"body_markdown":"Cool shortcut ALT-SHIFT-S :-)","body":"Cool shortcut ALT-SHIFT-S :-)"}],"tags":[],"owner":{"account_id":5345191,"reputation":1314,"user_id":4260932,"accept_rate":8,"display_name":"Xar-e-ahmer Khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432119997,"creation_date":1432119997,"answer_id":30347871,"question_id":4098205,"body_markdown":"`(Alt-Shift-S),` Sort Members.  A pop Up opens and you can select whatever you want.\r\n\r\nI have no reputation that&#39;s why I answered","title":"Is there an Eclipse shortcut to sort members by modifier?","body":"<p><code>(Alt-Shift-S),</code> Sort Members.  A pop Up opens and you can select whatever you want.</p>\n\n<p>I have no reputation that's why I answered</p>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689828473,"post_id":76712883,"comment_id":135269200,"body_markdown":"This doesn&#39;t attempt to answer the question.","body":"This doesn&#39;t attempt to answer the question."}],"tags":[],"owner":{"account_id":29041707,"reputation":1,"user_id":22246434,"display_name":"Ajay"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689829269,"creation_date":1689684055,"answer_id":76712883,"question_id":4098205,"body_markdown":"```java\r\npublic static void main(String []args) {\r\n    int arr [] = {50,10,20,30,40,1,5,3,4,2};\r\n    Arrays.sort(arr);\r\n    System.out.println(Arrays.toString(arr));\r\n}\r\n```\r\n","title":"Is there an Eclipse shortcut to sort members by modifier?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String []args) {\n    int arr [] = {50,10,20,30,40,1,5,3,4,2};\n    Arrays.sort(arr);\n    System.out.println(Arrays.toString(arr));\n}\n</code></pre>\n"}],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4270,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4098740,"answer_count":3,"score":5,"last_activity_date":1689829269,"creation_date":1288884110,"question_id":4098205,"body_markdown":"I&#39;m looking for a shortcut, preference or plugin in Eclipse which will sort Java members by visibility modifier.  Specifically, I&#39;m looking for the class to be sorted like this:\r\n\r\n    public someClass {\r\n       //public variables go first followed by \r\n       //protected and default variables and lastly\r\n       //private variables\r\n\r\n       //public methods above\r\n       //proteted and default methods with\r\n       //private methods at the bottom\r\n    }\r\n\r\nI&#39;m not fussed about alphabetically, only the visibility modifier.","title":"Is there an Eclipse shortcut to sort members by modifier?","body":"<p>I'm looking for a shortcut, preference or plugin in Eclipse which will sort Java members by visibility modifier.  Specifically, I'm looking for the class to be sorted like this:</p>\n\n<pre><code>public someClass {\n   //public variables go first followed by \n   //protected and default variables and lastly\n   //private variables\n\n   //public methods above\n   //proteted and default methods with\n   //private methods at the bottom\n}\n</code></pre>\n\n<p>I'm not fussed about alphabetically, only the visibility modifier.</p>\n"},{"tags":["java","getter","setter"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689830943,"post_id":76726789,"comment_id":135269464,"body_markdown":"It&#39;s just a recommendation, similar to camel-case.  I think it originates from _C++_.","body":"It&#39;s just a recommendation, similar to camel-case.  I think it originates from <i>C++</i>."}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689831148,"answer_count":0,"score":0,"last_activity_date":1689829207,"creation_date":1689829207,"question_id":76726789,"body_markdown":"Up until today, I created my objects with getters/setters of the form:\r\n\r\n```java\r\nprivate String mode;\r\npublic String getMode() { return this.mode; }\r\npublic void setMode(String mode) { this.mode = mode; }\r\n```\r\n\r\nBut sometimes, API introduced another names for getters/setters:\r\n\r\n```java\r\nprivate String mode;\r\npublic String mode() { return this.mode; }\r\npublic void mode(String mode) { this.mode = mode; }\r\n```\r\n\r\nEspecially, since _Java 17_, a `Record` shows its members with getters not having a `get` prefix.\r\n\r\nDoes the removal of `get`/`set` prefixes to the getters/setters respond to a special need?  \r\n\r\nDo conception rules exists to choose one form in preference to the other?\r\n","title":"String getMode() and setMode(String mode), or String mode() and mode(String mode)? Is the way of naming getters/setters changing, and when?","body":"<p>Up until today, I created my objects with getters/setters of the form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String mode;\npublic String getMode() { return this.mode; }\npublic void setMode(String mode) { this.mode = mode; }\n</code></pre>\n<p>But sometimes, API introduced another names for getters/setters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String mode;\npublic String mode() { return this.mode; }\npublic void mode(String mode) { this.mode = mode; }\n</code></pre>\n<p>Especially, since <em>Java 17</em>, a <code>Record</code> shows its members with getters not having a <code>get</code> prefix.</p>\n<p>Does the removal of <code>get</code>/<code>set</code> prefixes to the getters/setters respond to a special need?</p>\n<p>Do conception rules exists to choose one form in preference to the other?</p>\n"},{"tags":["java","json","jackson","unirest-java"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1689615335,"post_id":76706796,"comment_id":135235615,"body_markdown":"Have you tried [`convertValue`](https://stackoverflow.com/questions/25024999/convert-jsonnode-into-object) instead?","body":"Have you tried <a href=\"https://stackoverflow.com/questions/25024999/convert-jsonnode-into-object\"><code>convertValue</code></a> instead?"},{"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"score":0,"creation_date":1689616663,"post_id":76706796,"comment_id":135235836,"body_markdown":"No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)","body":"No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1689796083,"post_id":76706796,"comment_id":135265980,"body_markdown":"I assume you are using Jackson ObjectMapper. I think you are confusing between Jackson JsonNode and com.mashape.unirest.http.JsonNode. Object mapper requires TreeNode, Jackson JsonNode implements TreeNode, com.mashape.unirest.http.JsonNode doesn&#39;t. Try converting the com.mashape.unirest.http.JsonNode to a Json string and then use ObjectMapper.readValue(string,class). Give it a shot.","body":"I assume you are using Jackson ObjectMapper. I think you are confusing between Jackson JsonNode and com.mashape.unirest.http.JsonNode. Object mapper requires TreeNode, Jackson JsonNode implements TreeNode, com.mashape.unirest.http.JsonNode doesn&#39;t. Try converting the com.mashape.unirest.http.JsonNode to a Json string and then use ObjectMapper.readValue(string,class). Give it a shot."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689828151,"creation_date":1689828151,"answer_id":76726722,"question_id":76706796,"body_markdown":"Considering [`ObjectMapper#treeToValue()`](https://github.com/FasterXML/jackson-databind/blob/5e94cb1b29a5948737d86f5fe7eaeda318b74910/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L3390-L3408) does exist, check your import at the begginning of your file:\r\n\r\n``` java\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n```\r\n\r\nIf you do not see those imports, that could explain the error message.\r\n\r\nMake sure that the [Jackson libraries](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core) are properly added to your project&#39;s classpath. You can add the following dependencies in your Maven&#39;s pom.xml:\r\n\r\n``` xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n----\r\n\r\n&gt; If I try using `convertValue` instead, I get:\r\n&gt;\r\n&gt; ```\r\n&gt; No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, &gt; disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n&gt; ```\r\n\r\nSo you are trying to serialize a `ByteArrayInputStream` object, which Jackson does not know how to serialize by default.\r\n\r\n`HttpResponse.getBody()` might *not* be returning a JsonNode type: instead, it could be returning an InputStream which needs to be manually converted to JsonNode before you can utilize Jackson&#39;s conversion feature.\r\n\r\nFor instance:\r\n\r\n``` java\r\nHttpResponse&lt;InputStream&gt; response = Unirest.post(&quot;https://json.islandia.com/v1/martorell&quot;)\r\n                .basicAuth(&quot;624823&quot;, &quot;8f1addd21a09d6b95eaefa8d60p4c05&quot;)\r\n                .field(&quot;day&quot;, &quot;28&quot;)\r\n                .asObject(InputStream.class);\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\nJsonNode jsonNode = mapper.readTree(response.getBody());\r\nRoot newJsonNode = mapper.treeToValue(jsonNode, Root.class);\r\n```\r\n\r\nHere, the body of the HTTP response, which is an InputStream, is first converted to a JsonNode object using ObjectMapper.`readTree()`. *Then*, the JsonNode is converted to a Root object using `ObjectMapper.treeToValue()`. The Root class should be a POJO that matches the structure of the JSON you are working with. If it does not, you might run into more errors.\r\n\r\n","title":"Convert JsonNode into Java POJO","body":"<p>Considering <a href=\"https://github.com/FasterXML/jackson-databind/blob/5e94cb1b29a5948737d86f5fe7eaeda318b74910/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L3390-L3408\" rel=\"nofollow noreferrer\"><code>ObjectMapper#treeToValue()</code></a> does exist, check your import at the begginning of your file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n</code></pre>\n<p>If you do not see those imports, that could explain the error message.</p>\n<p>Make sure that the <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\" rel=\"nofollow noreferrer\">Jackson libraries</a> are properly added to your project's classpath. You can add the following dependencies in your Maven's pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n        &lt;version&gt;1.4.9&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<hr />\n<blockquote>\n<p>If I try using <code>convertValue</code> instead, I get:</p>\n<pre><code>No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, &gt; disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\n</code></pre>\n</blockquote>\n<p>So you are trying to serialize a <code>ByteArrayInputStream</code> object, which Jackson does not know how to serialize by default.</p>\n<p><code>HttpResponse.getBody()</code> might <em>not</em> be returning a JsonNode type: instead, it could be returning an InputStream which needs to be manually converted to JsonNode before you can utilize Jackson's conversion feature.</p>\n<p>For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpResponse&lt;InputStream&gt; response = Unirest.post(&quot;https://json.islandia.com/v1/martorell&quot;)\n                .basicAuth(&quot;624823&quot;, &quot;8f1addd21a09d6b95eaefa8d60p4c05&quot;)\n                .field(&quot;day&quot;, &quot;28&quot;)\n                .asObject(InputStream.class);\n\nObjectMapper mapper = new ObjectMapper();\nJsonNode jsonNode = mapper.readTree(response.getBody());\nRoot newJsonNode = mapper.treeToValue(jsonNode, Root.class);\n</code></pre>\n<p>Here, the body of the HTTP response, which is an InputStream, is first converted to a JsonNode object using ObjectMapper.<code>readTree()</code>. <em>Then</em>, the JsonNode is converted to a Root object using <code>ObjectMapper.treeToValue()</code>. The Root class should be a POJO that matches the structure of the JSON you are working with. If it does not, you might run into more errors.</p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76726722,"answer_count":1,"score":1,"last_activity_date":1689828151,"creation_date":1689614698,"question_id":76706796,"body_markdown":"I have this piece of code:\r\n\r\n     HttpResponse&lt;JsonNode&gt; response = Unirest.post(&quot;https://json.islandia.com/v1/martorell&quot;)\r\n                    .basicAuth(&quot;624823&quot;, &quot;8f1addd21a09d6b95eaefa8d60p4c05&quot;)\r\n                    .field(&quot;day&quot;, &quot;28&quot;)\r\n                    .asJson();\r\n    \r\n            Root newJsonNode = new ObjectMapper().treeToValue(response.getBody(), Root.class);\r\n\r\n\r\nbut I have this error: `Cannot resolve method &#39;treeToValue(JsonNode, Class&lt;Root&gt;)&#39;`","title":"Convert JsonNode into Java POJO","body":"<p>I have this piece of code:</p>\n<pre><code> HttpResponse&lt;JsonNode&gt; response = Unirest.post(&quot;https://json.islandia.com/v1/martorell&quot;)\n                .basicAuth(&quot;624823&quot;, &quot;8f1addd21a09d6b95eaefa8d60p4c05&quot;)\n                .field(&quot;day&quot;, &quot;28&quot;)\n                .asJson();\n\n        Root newJsonNode = new ObjectMapper().treeToValue(response.getBody(), Root.class);\n</code></pre>\n<p>but I have this error: <code>Cannot resolve method 'treeToValue(JsonNode, Class&lt;Root&gt;)'</code></p>\n"},{"tags":["java","android","slf4j"],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689827429,"creation_date":1689827429,"question_id":76726683,"body_markdown":"One of our dependency is a java library that uses SLF4J as logger, we need and we use this library in one of our Android project but it seems SLF4J logger is not working by default in the platform. We didn&#39;t add any logger dependency as Android seems to have it by default when we tried to import it, so far this is the log warning that we are getting.\r\n\r\n    Failed to load class org.slf4j.impl.StaticLoggerBinder\r\n\r\nThe log also provides a [link][1] suggesting a way to fix it but we can&#39;t fully understand it. Is there a way to make it work with the Android platform? The logs coming from the library is very important for us to investigate one of our issues we are facing in the project.\r\n\r\n\r\nSample code:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(SOME_UTIL.class);\r\n    \r\n    // some function\r\n    log.info(&quot;Start dump data&quot;);\r\n    log.debug(&quot;Parsing config from classpath file {}&quot;, path);\r\n\r\n\r\n  [1]: https://www.slf4j.org/codes.html#StaticLoggerBinder","title":"Failed to load class org.slf4j.impl.StaticLoggerBinder in Android","body":"<p>One of our dependency is a java library that uses SLF4J as logger, we need and we use this library in one of our Android project but it seems SLF4J logger is not working by default in the platform. We didn't add any logger dependency as Android seems to have it by default when we tried to import it, so far this is the log warning that we are getting.</p>\n<pre><code>Failed to load class org.slf4j.impl.StaticLoggerBinder\n</code></pre>\n<p>The log also provides a <a href=\"https://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">link</a> suggesting a way to fix it but we can't fully understand it. Is there a way to make it work with the Android platform? The logs coming from the library is very important for us to investigate one of our issues we are facing in the project.</p>\n<p>Sample code:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n\nprivate static final Logger log = LoggerFactory.getLogger(SOME_UTIL.class);\n\n// some function\nlog.info(&quot;Start dump data&quot;);\nlog.debug(&quot;Parsing config from classpath file {}&quot;, path);\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1688323972,"post_id":76600342,"comment_id":135055716,"body_markdown":"Is the URL public, so we can access?","body":"Is the URL public, so we can access?"},{"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"score":0,"creation_date":1688366154,"post_id":76600342,"comment_id":135059251,"body_markdown":"No. sorry this is internal site hence can`t be shared.","body":"No. sorry this is internal site hence can`t be shared."}],"answers":[{"tags":[],"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688604479,"creation_date":1688604479,"answer_id":76624854,"question_id":76600342,"body_markdown":"The site must have done something to the top-level JSON object.\r\nFor example if a script on that page does this in global scope:\r\n\r\n    JSON = &quot;{}&quot;\r\n\r\nThen JSON.stringify will be undefined. Apparently Selenium is counting on it for passing things back and forth to Python\r\n","title":"WebDriver throws Exception: TypeError: JSON.stringify is not a function","body":"<p>The site must have done something to the top-level JSON object.\nFor example if a script on that page does this in global scope:</p>\n<pre><code>JSON = &quot;{}&quot;\n</code></pre>\n<p>Then JSON.stringify will be undefined. Apparently Selenium is counting on it for passing things back and forth to Python</p>\n"},{"tags":[],"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689824680,"creation_date":1689824377,"answer_id":76726528,"question_id":76600342,"body_markdown":"This is the issue with latest chrome browser. \r\n\r\nAfter few analysis just found three ways of doing things\r\n\r\n1) By using older chrome versions\r\n   Step1: Uninstall Chrome\r\n Step2: Delete Chrome Data from below path\r\n        %LOCALAPPDATA%\\Google\\Chrome\\User Data\r\n Step3: Download Older Chrome version via FileHippo,Chromium Cypress, SlimJet. etc\r\n\r\n      \r\n[![Steps to install older chrome browser versions][1]][1]\r\n\r\n\r\n  Now you run your scripts with chromium browser it will work as expected.\r\n\r\n\r\n2) Case 2: Using  javascript file \r\n Basically you should do is run a snippet of JS code to define the JSON.stringify method before you perform any find element or send key action, for my solution is using (JavascriptExecutor)webdrive.execute() to do this, the JS code you need just like following, also you can find this in JSON-js/json2.js\r\n\r\n\r\n\r\nsave this javascript file and execute it using javascriptexecutor \r\n\r\nJavascriptExecutor obj = (JavascriptExecutor) driver;\r\n\r\nobj.executeScript(&quot;json2.js&quot;, args);\r\n\r\n3) Using Firefox  browser i was able to run my automation scripts smoothly  using below code which use to wait and then perform actions and it worked fine for me.\r\n\r\nnew WebDriverWait(driver, 20).until(driver -&gt; ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n\r\n\r\nThe problem was with chrome browser latest version i hope it would be fixed in coming versions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bgXVg.png","title":"WebDriver throws Exception: TypeError: JSON.stringify is not a function","body":"<p>This is the issue with latest chrome browser.</p>\n<p>After few analysis just found three ways of doing things</p>\n<ol>\n<li>By using older chrome versions\nStep1: Uninstall Chrome\nStep2: Delete Chrome Data from below path\n%LOCALAPPDATA%\\Google\\Chrome\\User Data\nStep3: Download Older Chrome version via FileHippo,Chromium Cypress, SlimJet. etc</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bgXVg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bgXVg.png\" alt=\"Steps to install older chrome browser versions\" /></a></p>\n<p>Now you run your scripts with chromium browser it will work as expected.</p>\n<ol start=\"2\">\n<li>Case 2: Using  javascript file\nBasically you should do is run a snippet of JS code to define the JSON.stringify method before you perform any find element or send key action, for my solution is using (JavascriptExecutor)webdrive.execute() to do this, the JS code you need just like following, also you can find this in JSON-js/json2.js</li>\n</ol>\n<p>save this javascript file and execute it using javascriptexecutor</p>\n<p>JavascriptExecutor obj = (JavascriptExecutor) driver;</p>\n<p>obj.executeScript(&quot;json2.js&quot;, args);</p>\n<ol start=\"3\">\n<li>Using Firefox  browser i was able to run my automation scripts smoothly  using below code which use to wait and then perform actions and it worked fine for me.</li>\n</ol>\n<p>new WebDriverWait(driver, 20).until(driver -&gt; ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));</p>\n<p>The problem was with chrome browser latest version i hope it would be fixed in coming versions.</p>\n"}],"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76726528,"answer_count":2,"score":0,"last_activity_date":1689824680,"creation_date":1688323692,"question_id":76600342,"body_markdown":"I am working on selenium automation using java.  Selenium version used : 4.10.0\r\n\r\nThough I see two tabs ( 1. parent tab main page and 2. is the child tab) but when I switch to child through below code I don`t see any kind of exception thrown. But when I perform any operations like click on any button in  child window it throws an exception &quot;TypeError: JSON.stringify is not a function&quot;.\r\n\r\nBelow is the code snippet.\r\n==========================\r\n//Loop through until we find a new window handle\r\n\t\r\n\r\n    \tfor (String windowHandle : driver.getWindowHandles()) {\r\n\t\t\t\r\n\t\t    if(!originalWindow.contentEquals(windowHandle)) {\r\n\t\t    \tSystem.out.println(&quot;Child win : &quot;+windowHandle);\r\n\t\t        driver.switchTo().window(windowHandle);\r\n\t\t        break;\r\n\t\t    }\r\n\t\t}\r\ndriver.findElement(By.name(&quot;aspnetForm&quot;)).click();\r\n\r\nCan somebody please advise me here why i should be getting this error &quot;Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: Runtime.callFunctionOn threw exception: TypeError: JSON.stringify is not a function&quot;\r\n\r\nConsloe log below :\r\n====================\r\n\r\nChild win : DEFC56C2E255CB00E7CF1C779B81E7EE\r\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: Runtime.callFunctionOn threw exception: TypeError: JSON.stringify is not a function\r\n    at buildError (&lt;anonymous&gt;:323:18)\r\n  (Session info: chrome=114.0.5735.199)\r\nBuild info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.18&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [748156ce82a3898c61c8bc461a5ecbbb, findElement {using=name, value=aspnetForm}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 114.0.5735.199, chrome: {chromedriverVersion: 114.0.5735.90 (386bc09e8f4f..., userDataDir: C:\\Users\\baluz\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:58574}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:58574/devtoo..., se:cdpVersion: 114.0.5735.199, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 748156ce82a3898c61c8bc461a5ecbbb\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:199)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:132)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:51)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:66)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:350)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\r\n\tat com.basePage.EX3.main(EX3.java:91)\r\n","title":"WebDriver throws Exception: TypeError: JSON.stringify is not a function","body":"<p>I am working on selenium automation using java.  Selenium version used : 4.10.0</p>\n<p>Though I see two tabs ( 1. parent tab main page and 2. is the child tab) but when I switch to child through below code I don`t see any kind of exception thrown. But when I perform any operations like click on any button in  child window it throws an exception &quot;TypeError: JSON.stringify is not a function&quot;.</p>\n<h1>Below is the code snippet.</h1>\n<p>//Loop through until we find a new window handle</p>\n<pre><code>    for (String windowHandle : driver.getWindowHandles()) {\n        \n        if(!originalWindow.contentEquals(windowHandle)) {\n            System.out.println(&quot;Child win : &quot;+windowHandle);\n            driver.switchTo().window(windowHandle);\n            break;\n        }\n    }\n</code></pre>\n<p>driver.findElement(By.name(&quot;aspnetForm&quot;)).click();</p>\n<p>Can somebody please advise me here why i should be getting this error &quot;Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: Runtime.callFunctionOn threw exception: TypeError: JSON.stringify is not a function&quot;</p>\n<h1>Consloe log below :</h1>\n<p>Child win : DEFC56C2E255CB00E7CF1C779B81E7EE\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: Runtime.callFunctionOn threw exception: TypeError: JSON.stringify is not a function\nat buildError (:323:18)\n(Session info: chrome=114.0.5735.199)\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.18'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [748156ce82a3898c61c8bc461a5ecbbb, findElement {using=name, value=aspnetForm}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 114.0.5735.199, chrome: {chromedriverVersion: 114.0.5735.90 (386bc09e8f4f..., userDataDir: C:\\Users\\baluz\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:58574}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:58574/devtoo..., se:cdpVersion: 114.0.5735.199, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 748156ce82a3898c61c8bc461a5ecbbb\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:199)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:132)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:51)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:66)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:350)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\nat com.basePage.EX3.main(EX3.java:91)</p>\n"},{"tags":["java","spring-boot","websocket","stomp","sockjs"],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689823520,"creation_date":1689823520,"answer_id":76726488,"question_id":76715329,"body_markdown":"Your client connects to the port `8080`, but the allowed origin is set to `5501`. They should be the same in this case.","title":"How to fix CORS error when connecting WebSocket via STOMP in Spring Boot?","body":"<p>Your client connects to the port <code>8080</code>, but the allowed origin is set to <code>5501</code>. They should be the same in this case.</p>\n"}],"owner":{"account_id":24406148,"reputation":1,"user_id":18334307,"display_name":"hieunguyennvvt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689823520,"creation_date":1689701745,"question_id":76715329,"body_markdown":"I am building a chat application using Spring Boot and JavaScript, but I am getting an error:\r\n```\r\nAccess to XMLHttpRequest at &#39;http://localhost:8080/ws/chat/info?t=1689700945725&#39; ↗ from origin &#39;http://localhost:5501&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\n\r\nHere is my code...\r\n\r\nSecurityConfig:\r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .cors(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(authorize -&gt; authorize\r\n                    .requestMatchers(&quot;/user/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n            )\r\n            .authenticationProvider(authenticationProvider)\r\n            .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n    return http.build();\r\n}\r\n```\r\nStompConfig:\r\n```java\r\n@Override\r\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/ws/chat&quot;).setAllowedOrigins(&quot;http://localhost:5501&quot;).withSockJS();\r\n}\r\n\r\n@Override\r\npublic void configureMessageBroker(MessageBrokerRegistry registry) {\r\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    registry.enableSimpleBroker(&quot;/topic&quot;);\r\n}\r\n```\r\nand client:\r\n```js\r\nvar socket = new SockJS(&#39;http://localhost:8080/ws/chat&#39;, null, {\r\n    headers: {\r\n        Authorization: &#39;Bearer &#39; + jwt\r\n    }\r\n});\r\nstompClient = Stomp.over(socket);\r\nstompClient.connect({}, onConnected, onError);\r\n```\r\n\r\nI tried using `setAllowedOriginPatterns(&quot;http://localhost:5501&quot;)`, but it didn&#39;t work.","title":"How to fix CORS error when connecting WebSocket via STOMP in Spring Boot?","body":"<p>I am building a chat application using Spring Boot and JavaScript, but I am getting an error:</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8080/ws/chat/info?t=1689700945725' ↗ from origin 'http://localhost:5501' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>Here is my code...</p>\n<p>SecurityConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n            .csrf(AbstractHttpConfigurer::disable)\n            .cors(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorize -&gt; authorize\n                    .requestMatchers(&quot;/user/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .authenticationProvider(authenticationProvider)\n            .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n<p>StompConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/ws/chat&quot;).setAllowedOrigins(&quot;http://localhost:5501&quot;).withSockJS();\n}\n\n@Override\npublic void configureMessageBroker(MessageBrokerRegistry registry) {\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    registry.enableSimpleBroker(&quot;/topic&quot;);\n}\n</code></pre>\n<p>and client:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var socket = new SockJS('http://localhost:8080/ws/chat', null, {\n    headers: {\n        Authorization: 'Bearer ' + jwt\n    }\n});\nstompClient = Stomp.over(socket);\nstompClient.connect({}, onConnected, onError);\n</code></pre>\n<p>I tried using <code>setAllowedOriginPatterns(&quot;http://localhost:5501&quot;)</code>, but it didn't work.</p>\n"},{"tags":["java","nfc"],"comments":[{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1689843387,"post_id":76726486,"comment_id":135271713,"body_markdown":"What have you put in your Manifest xml? Though note just adding the right Intent items to your manifest is not a good way to detect NFC tags when your App is already running, you should use a fore ground method like `enableReaderMode` for that.","body":"What have you put in your Manifest xml? Though note just adding the right Intent items to your manifest is not a good way to detect NFC tags when your App is already running, you should use a fore ground method like <code>enableReaderMode</code> for that."},{"owner":{"account_id":27568466,"reputation":11,"user_id":21040137,"display_name":"Liem"},"score":0,"creation_date":1689858187,"post_id":76726486,"comment_id":135274800,"body_markdown":"I put this &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot;/&gt; in my manifest. So I have to use foreground instead of using intent filter right? Cause i want to detect NFC tags from within the app","body":"I put this &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot;/&gt; in my manifest. So I have to use foreground instead of using intent filter right? Cause i want to detect NFC tags from within the app"},{"owner":{"account_id":27568466,"reputation":11,"user_id":21040137,"display_name":"Liem"},"score":0,"creation_date":1689862030,"post_id":76726486,"comment_id":135275771,"body_markdown":"It&#39;s solved. Thanks, i followed your instructions to use `enabledReaderMode`. But how to get rid of pop up &quot;Choose an action&quot; after switching activity?","body":"It&#39;s solved. Thanks, i followed your instructions to use <code>enabledReaderMode</code>. But how to get rid of pop up &quot;Choose an action&quot; after switching activity?"},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1689870831,"post_id":76726486,"comment_id":135277971,"body_markdown":"I find it best user experience to use `enableReaderMode` in all activities, for any Activity that does not use NFC have any empty `onTagDiscovered`","body":"I find it best user experience to use <code>enableReaderMode</code> in all activities, for any Activity that does not use NFC have any empty <code>onTagDiscovered</code>"}],"owner":{"account_id":27568466,"reputation":11,"user_id":21040137,"display_name":"Liem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689823479,"creation_date":1689823479,"question_id":76726486,"body_markdown":"I created an activity which will detect nfc tags. When an nfc tag with the appropriate id is detected it will switch activities. But right now my activity is not responding to anything.\r\n\r\nhere is the code i wrote\r\n\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scan);\r\n\r\n   handleNfcIntent(getIntent());\r\n   }\r\n\r\nprivate void handleNfcIntent(Intent intent) {\r\n        String action = intent.getAction();\r\n        if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\r\n            Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n            if (tag != null) {\r\n                String nfcTagId = byteArrayToHexString(tag.getId());\r\n\r\n                TextView tagIdTextView = findViewById(R.id.tagid);\r\n                tagIdTextView.setText(&quot;Tag ID: &quot; + nfcTagId);\r\n\r\n                if (nfcTagId.equals(&quot;53:44:77:A1:00:00:01&quot;)) {\r\n                    Intent targetIntent = new Intent(this, MenuActivity.class);\r\n                    startActivity(targetIntent);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\nDid i miss something?","title":"Why my activity not change when NFC Tag Discovered?","body":"<p>I created an activity which will detect nfc tags. When an nfc tag with the appropriate id is detected it will switch activities. But right now my activity is not responding to anything.</p>\n<p>here is the code i wrote</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_scan);\n\n   handleNfcIntent(getIntent());\n   }\n\nprivate void handleNfcIntent(Intent intent) {\n        String action = intent.getAction();\n        if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\n            Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n            if (tag != null) {\n                String nfcTagId = byteArrayToHexString(tag.getId());\n\n                TextView tagIdTextView = findViewById(R.id.tagid);\n                tagIdTextView.setText(&quot;Tag ID: &quot; + nfcTagId);\n\n                if (nfcTagId.equals(&quot;53:44:77:A1:00:00:01&quot;)) {\n                    Intent targetIntent = new Intent(this, MenuActivity.class);\n                    startActivity(targetIntent);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Did i miss something?</p>\n"},{"tags":["java","spring-boot","apache-kafka","keytab"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1689601453,"post_id":76702174,"comment_id":135232522,"body_markdown":"The log message is clearly telling you that **it DID find the file** but it doesn&#39;t like the key _in_ the file. Specifically it found type 23=RC4-HMAC which is generally considered weak, and deprecated by IANA. Since you didn&#39;t configure permitted_enctypes it uses a default which excludes RC4 unless &#39;allow_weak_crypto&#39; is set and I&#39;m not clear where _that_ defaults; it may well be system dependent. The best solution is to get a key for a modern/strong algorithm (AES) but of course that depends on the KDC you are using.","body":"The log message is clearly telling you that <b>it DID find the file</b> but it doesn&#39;t like the key <i>in</i> the file. Specifically it found type 23=RC4-HMAC which is generally considered weak, and deprecated by IANA. Since you didn&#39;t configure permitted_enctypes it uses a default which excludes RC4 unless &#39;allow_weak_crypto&#39; is set and I&#39;m not clear where <i>that</i> defaults; it may well be system dependent. The best solution is to get a key for a modern/strong algorithm (AES) but of course that depends on the KDC you are using."},{"owner":{"account_id":29031759,"reputation":1,"user_id":22238479,"display_name":"iamnewbbb"},"score":0,"creation_date":1689672298,"post_id":76702174,"comment_id":135243423,"body_markdown":"@dave_thompson_085 Thanks for your reply and suggest mr.Dave. I will discuss with the team about the key file and will update you again.","body":"@dave_thompson_085 Thanks for your reply and suggest mr.Dave. I will discuss with the team about the key file and will update you again."},{"owner":{"account_id":29031759,"reputation":1,"user_id":22238479,"display_name":"iamnewbbb"},"score":0,"creation_date":1689749964,"post_id":76702174,"comment_id":135255560,"body_markdown":"@dave_thompson_085 The keytab encryption type is ArcFour with HMAC/md5 so it&#39;s a weak encryp type right?. I&#39;ve tried adding &#39;allow_weak_crypto&#39; to krb5.conf and it works! I can connect to the cluster. However, I don&#39;t really know  about&#39;allow_weak_crypto&#39; much. are there any weakness or impacts to my cluster?","body":"@dave_thompson_085 The keytab encryption type is ArcFour with HMAC/md5 so it&#39;s a weak encryp type right?. I&#39;ve tried adding &#39;allow_weak_crypto&#39; to krb5.conf and it works! I can connect to the cluster. However, I don&#39;t really know  about&#39;allow_weak_crypto&#39; much. are there any weakness or impacts to my cluster?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1689881350,"post_id":76702174,"comment_id":135279988,"body_markdown":"ArcFour is just an alternate name for RC4; see wikipedia. The applicable weaknesses of the RC4-HMAC enctype in Kerberos, which are due to the key hash as well as the encryption itself, are detailed in [the deprecating RFC 8429](https://www.rfc-editor.org/rfc/rfc8429.html#section-5). What risks these cause in your environment could vary; to answer that you need a security expert familiar with your environment, such as your company&#39;s data/IT security officer.","body":"ArcFour is just an alternate name for RC4; see wikipedia. The applicable weaknesses of the RC4-HMAC enctype in Kerberos, which are due to the key hash as well as the encryption itself, are detailed in <a href=\"https://www.rfc-editor.org/rfc/rfc8429.html#section-5\" rel=\"nofollow noreferrer\">the deprecating RFC 8429</a>. What risks these cause in your environment could vary; to answer that you need a security expert familiar with your environment, such as your company&#39;s data/IT security officer."}],"answers":[{"tags":[],"owner":{"account_id":29031759,"reputation":1,"user_id":22238479,"display_name":"iamnewbbb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689823361,"creation_date":1689823361,"answer_id":76726481,"question_id":76702174,"body_markdown":"In my case, the issue is about Java version. My keytab encryption type is ArcFour with HMAC/md5 and Java 18 that I used for my app is not allow to read This keytab file. I&#39;ve tried downgrading to Java 11 and connecting Kafka an it works fine without any additional values.\r\n\r\nSo the solution (in case of using Java version 18 and keytab encryption type is weak type) is to set additional value in krb5.conf &quot;allow_weak_crypto = true&quot;. By the way, it also depends on the keytab encryption type, if the algorithm is modern or strong I don&#39;t think it is a problem.","title":"How to fix &quot;Key for the principal &lt;principal user&gt; not available in &lt;keytab file&gt;&quot; in Java 18 Spring Boot","body":"<p>In my case, the issue is about Java version. My keytab encryption type is ArcFour with HMAC/md5 and Java 18 that I used for my app is not allow to read This keytab file. I've tried downgrading to Java 11 and connecting Kafka an it works fine without any additional values.</p>\n<p>So the solution (in case of using Java version 18 and keytab encryption type is weak type) is to set additional value in krb5.conf &quot;allow_weak_crypto = true&quot;. By the way, it also depends on the keytab encryption type, if the algorithm is modern or strong I don't think it is a problem.</p>\n"}],"owner":{"account_id":29031759,"reputation":1,"user_id":22238479,"display_name":"iamnewbbb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76726481,"answer_count":1,"score":0,"last_activity_date":1689823361,"creation_date":1689577795,"question_id":76702174,"body_markdown":"I am trying to connect to Kafka using keytab file to login but found this following exceptions and authentication failed;\r\n\r\n&gt; Found unsupported keytype (23) for AAA@EXAMPLE.TH \r\n&gt;\r\n&gt; 2023-07-17 09:56:54 Key for the principal AAA@EXAMPLE.TH not available in /etc/example.keytab \r\n&gt;\r\n&gt; 2023-07-17 09:56:54 \\[Krb5LoginModule\\] authentication failed \r\n&gt;\r\n&gt; 2023-07-17 09:56:54 Unable to obtain password from user \r\n\r\nI double-checked the jaas file that I put the right path for keytab file but it seemed not find the keytab file in that specified path. \r\n\r\nHere&#39;s the values in my jaas file;\r\n\r\n```\r\nKafkaClient { \r\n        com.sun.security.auth.module.Krb5LoginModule required \r\n        useKeyTab=true\r\n        storeKey=true\r\n        debug=true\r\n        isInitiator=true\r\n        doNotPrompt=true\r\n\r\n        keyTab=&quot;/etc/example.keytab&quot;\r\n        principal=&quot;AAA@EXAMPLE.TH&quot;;\r\n};\r\n```\r\n\r\nAnd krb5.conf values;\r\n\r\n```\r\n# includedir /etc/krb5.conf.d/\r\n\r\n[logging]\r\n    default = FILE:/var/log/krb5libs.log \r\n    kdc = FILE:/var/log/krb5kdc.log\r\n    admin_server = FILE:/var/log/kadmind.log\r\n[libdefaults]\r\n    default_realm = EXAMPLE.TH\r\n    kdc_timesync = 1\r\n    ticket_lifetime = 7d\r\n    #renew_lifetime = 15d\r\n[realms]\r\n    EXAMPLE.TH = {\r\n        admin_server = example.th\r\n        kdc = example.th\r\n        default_domain = EXAMPLE.TH\r\n    }\r\n```\r\n\r\nIn addition, this is my application.properties file \r\n\r\n```\r\n## kafka security\r\nspring.kafka.properties.security.protocol=SASL_SSL\r\nspring.kafka.properties.sasl.mechanism=GSSAPI\r\nspring.kafka.properties.sasl.kerberos.service.name=bigfoot\r\nspring.kafka.properties.ssl.truststore.location=./keyuat/godzilla.client.truststore.jks\r\nspring.kafka.properties.ssl.truststore.password=godzilla007\r\n\r\n## kafka consumer\r\nspring.kafka.consumer.bootstrap-servers=godzilla01:9092,godzilla02:9092,godzilla03:9092\r\nspring.kafka.consumer.group-id=godzilla_lookup\r\nspring.kafka.consumer.enable-auto-commit=false\r\nspring.kafka.consumer.auto-offset-reset=latest\r\nspring.kafka.topic.name=prod-godz\r\n```\r\n\r\nCould anyone help me fixing this exception? I am very new to Kafka and just started working as Java Developer about 10 months. So any comments or suggestions are welcome and appreciated. And I can provide more info if needed.\r\n\r\nThanks in advance!","title":"How to fix &quot;Key for the principal &lt;principal user&gt; not available in &lt;keytab file&gt;&quot; in Java 18 Spring Boot","body":"<p>I am trying to connect to Kafka using keytab file to login but found this following exceptions and authentication failed;</p>\n<blockquote>\n<p>Found unsupported keytype (23) for AAA@EXAMPLE.TH</p>\n<p>2023-07-17 09:56:54 Key for the principal AAA@EXAMPLE.TH not available in /etc/example.keytab</p>\n<p>2023-07-17 09:56:54 [Krb5LoginModule] authentication failed</p>\n<p>2023-07-17 09:56:54 Unable to obtain password from user</p>\n</blockquote>\n<p>I double-checked the jaas file that I put the right path for keytab file but it seemed not find the keytab file in that specified path.</p>\n<p>Here's the values in my jaas file;</p>\n<pre><code>KafkaClient { \n        com.sun.security.auth.module.Krb5LoginModule required \n        useKeyTab=true\n        storeKey=true\n        debug=true\n        isInitiator=true\n        doNotPrompt=true\n\n        keyTab=&quot;/etc/example.keytab&quot;\n        principal=&quot;AAA@EXAMPLE.TH&quot;;\n};\n</code></pre>\n<p>And krb5.conf values;</p>\n<pre><code># includedir /etc/krb5.conf.d/\n\n[logging]\n    default = FILE:/var/log/krb5libs.log \n    kdc = FILE:/var/log/krb5kdc.log\n    admin_server = FILE:/var/log/kadmind.log\n[libdefaults]\n    default_realm = EXAMPLE.TH\n    kdc_timesync = 1\n    ticket_lifetime = 7d\n    #renew_lifetime = 15d\n[realms]\n    EXAMPLE.TH = {\n        admin_server = example.th\n        kdc = example.th\n        default_domain = EXAMPLE.TH\n    }\n</code></pre>\n<p>In addition, this is my application.properties file</p>\n<pre><code>## kafka security\nspring.kafka.properties.security.protocol=SASL_SSL\nspring.kafka.properties.sasl.mechanism=GSSAPI\nspring.kafka.properties.sasl.kerberos.service.name=bigfoot\nspring.kafka.properties.ssl.truststore.location=./keyuat/godzilla.client.truststore.jks\nspring.kafka.properties.ssl.truststore.password=godzilla007\n\n## kafka consumer\nspring.kafka.consumer.bootstrap-servers=godzilla01:9092,godzilla02:9092,godzilla03:9092\nspring.kafka.consumer.group-id=godzilla_lookup\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.consumer.auto-offset-reset=latest\nspring.kafka.topic.name=prod-godz\n</code></pre>\n<p>Could anyone help me fixing this exception? I am very new to Kafka and just started working as Java Developer about 10 months. So any comments or suggestions are welcome and appreciated. And I can provide more info if needed.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","logging","log4j2","thread-local"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1689759484,"post_id":76703539,"comment_id":135257531,"body_markdown":"On Tomcat the [`Constants.ENABLE_THREADLOCALS`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/Constants.html#ENABLE_THREADLOCALS) kill switch is disabled. Can you explain how you use `ReusableMessageFactory` in your code? By the properties of `ThreadLocal`, there is only one entry per thread. Do you use thousands of threads or virtual threads?","body":"On Tomcat the <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/Constants.html#ENABLE_THREADLOCALS\" rel=\"nofollow noreferrer\"><code>Constants.ENABLE_THREADLOCALS</code></a> kill switch is disabled. Can you explain how you use <code>ReusableMessageFactory</code> in your code? By the properties of <code>ThreadLocal</code>, there is only one entry per thread. Do you use thousands of threads or virtual threads?"},{"owner":{"account_id":4104040,"reputation":180,"user_id":3568853,"display_name":"chengzi"},"score":0,"creation_date":1689820892,"post_id":76703539,"comment_id":135268644,"body_markdown":"@PiotrP.Karwasz  tks.  I find we did indeed misuse the `ReusableMessageFactory` .  I will provide a detailed description of how we misused it in my answer.","body":"@PiotrP.Karwasz  tks.  I find we did indeed misuse the <code>ReusableMessageFactory</code> .  I will provide a detailed description of how we misused it in my answer."}],"answers":[{"tags":[],"owner":{"account_id":4104040,"reputation":180,"user_id":3568853,"display_name":"chengzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689822639,"creation_date":1689822639,"answer_id":76726448,"question_id":76703539,"body_markdown":"After read log4j code,  We did indeed misuse the `ReusableMessageFactory`, our code :\r\n\r\n```java\r\n@AllArgsConstructor\r\npublic class MyLogger {\r\n\r\n    private static final MessageFactory2 MESSAGE_FACTORY = new ReusableMessageFactory();\r\n    private Logger logger;\r\n\r\n    public static MyLogger getLogger(String name) {\r\n        return new MyLogger(org.slf4j.LoggerFactory.getLogger(name));\r\n    }\r\n\r\n    public void info(String title, String format, Map&lt;String, String&gt; attrs, Object... arguments) {\r\n        String str = MESSAGE_FACTORY.newMessage(format, arguments).getFormattedMessage();\r\n        // append title, tags or trace tags...\r\n        String message = appendTitleTag(str);\r\n        logger.debug(message);\r\n    }\r\n    .....\r\n}\r\n```\r\n\r\n`ReusableMessageFactory.newMessage()` then need call `ReusableMessageFactory.release()` to set `reserved` to false after log, bus we did not call.\r\n\r\nThat&#39;s why wo have so many threadLocals. \r\n\r\nOther:\r\n1. `ReusableParameterizedMessage.buffer` remove static modifier, [commit link](https://github.com/apache/logging-log4j2/commit/ae87a679f4a04a2b1f3458fe62e469ae806a7eb9)","title":"log4j2 ReusableMessageFactory.getParameterized() create too many threadLocal, 125MB","body":"<p>After read log4j code,  We did indeed misuse the <code>ReusableMessageFactory</code>, our code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic class MyLogger {\n\n    private static final MessageFactory2 MESSAGE_FACTORY = new ReusableMessageFactory();\n    private Logger logger;\n\n    public static MyLogger getLogger(String name) {\n        return new MyLogger(org.slf4j.LoggerFactory.getLogger(name));\n    }\n\n    public void info(String title, String format, Map&lt;String, String&gt; attrs, Object... arguments) {\n        String str = MESSAGE_FACTORY.newMessage(format, arguments).getFormattedMessage();\n        // append title, tags or trace tags...\n        String message = appendTitleTag(str);\n        logger.debug(message);\n    }\n    .....\n}\n</code></pre>\n<p><code>ReusableMessageFactory.newMessage()</code> then need call <code>ReusableMessageFactory.release()</code> to set <code>reserved</code> to false after log, bus we did not call.</p>\n<p>That's why wo have so many threadLocals.</p>\n<p>Other:</p>\n<ol>\n<li><code>ReusableParameterizedMessage.buffer</code> remove static modifier, <a href=\"https://github.com/apache/logging-log4j2/commit/ae87a679f4a04a2b1f3458fe62e469ae806a7eb9\" rel=\"nofollow noreferrer\">commit link</a></li>\n</ol>\n"}],"owner":{"account_id":4104040,"reputation":180,"user_id":3568853,"display_name":"chengzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689822639,"creation_date":1689589520,"question_id":76703539,"body_markdown":"In my project, using `ReusableMessageFactory` create log message, which call\r\n\r\n```java\r\nprivate static ThreadLocal&lt;ReusableParameterizedMessage&gt; threadLocalParameterized = new ThreadLocal&lt;&gt;();\r\nprivate static ReusableParameterizedMessage getParameterized() {\r\n    ReusableParameterizedMessage result = threadLocalParameterized.get();\r\n    if (result == null) {\r\n        result = new ReusableParameterizedMessage();\r\n        threadLocalParameterized.set(result);\r\n    }\r\n    return result.reserved ? new ReusableParameterizedMessage().reserve() : result.reserve();\r\n}\r\n\r\npublic static void release(final Message message) { // LOG4J2-1583\r\n    if (message instanceof Clearable) {\r\n        ((Clearable) message).clear();\r\n    }\r\n}\r\n```\r\n\r\nIn the last line, `result.reserved ? new ReusableParameterizedMessage().reserve() : result.reserve();`, create too many `ReusableParameterizedMessage` which then create threadLocal and not call `threadLocal.remove()`, too may threadLocal exist.\r\n\r\nIn my memory dump,  one tomcat thread have 155857 threadLocal entry where almost created by `ReusableParameterizedMessage.buffer`, occupy `125MB`.\r\n\r\nTwo many threadLocal lead to frequently threadLoalMap hash conflict, `ThreadLocalMap.getEntryAfterMiss()` consuming excessive CPU time. \r\n\r\nUsually `logger.info()` will call `ReusableMessageFactory.release()` set `reserved` to false,  why create so many `ReusableParameterizedMessage` and `buffer`.\r\n\r\nBelow is Eclipse Memory Analyzer  screen.\r\n\r\n[![very much threadLocal occupy large memory](https://i.stack.imgur.com/N9gHL.jpg)](https://i.stack.imgur.com/N9gHL.jpg)\r\n\r\nIs this normal? if not, how fix this?","title":"log4j2 ReusableMessageFactory.getParameterized() create too many threadLocal, 125MB","body":"<p>In my project, using <code>ReusableMessageFactory</code> create log message, which call</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static ThreadLocal&lt;ReusableParameterizedMessage&gt; threadLocalParameterized = new ThreadLocal&lt;&gt;();\nprivate static ReusableParameterizedMessage getParameterized() {\n    ReusableParameterizedMessage result = threadLocalParameterized.get();\n    if (result == null) {\n        result = new ReusableParameterizedMessage();\n        threadLocalParameterized.set(result);\n    }\n    return result.reserved ? new ReusableParameterizedMessage().reserve() : result.reserve();\n}\n\npublic static void release(final Message message) { // LOG4J2-1583\n    if (message instanceof Clearable) {\n        ((Clearable) message).clear();\n    }\n}\n</code></pre>\n<p>In the last line, <code>result.reserved ? new ReusableParameterizedMessage().reserve() : result.reserve();</code>, create too many <code>ReusableParameterizedMessage</code> which then create threadLocal and not call <code>threadLocal.remove()</code>, too may threadLocal exist.</p>\n<p>In my memory dump,  one tomcat thread have 155857 threadLocal entry where almost created by <code>ReusableParameterizedMessage.buffer</code>, occupy <code>125MB</code>.</p>\n<p>Two many threadLocal lead to frequently threadLoalMap hash conflict, <code>ThreadLocalMap.getEntryAfterMiss()</code> consuming excessive CPU time.</p>\n<p>Usually <code>logger.info()</code> will call <code>ReusableMessageFactory.release()</code> set <code>reserved</code> to false,  why create so many <code>ReusableParameterizedMessage</code> and <code>buffer</code>.</p>\n<p>Below is Eclipse Memory Analyzer  screen.</p>\n<p><a href=\"https://i.stack.imgur.com/N9gHL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N9gHL.jpg\" alt=\"very much threadLocal occupy large memory\" /></a></p>\n<p>Is this normal? if not, how fix this?</p>\n"},{"tags":["java","spring-boot","alfresco"],"answers":[{"tags":[],"owner":{"account_id":3037790,"reputation":466,"user_id":2575459,"display_name":"fateme maddahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689822407,"creation_date":1689822407,"answer_id":76726427,"question_id":76721840,"body_markdown":"Alfresco provides several ways to transform documents and files into different formats. Here are two approaches you can use to call the transformer of Alfresco (all in one) with Java Spring Boot:\r\n\r\n1. Calling the Alfresco REST API: Alfresco provides a REST API that allows you to perform a wide range of operations, including transforming documents and files. To transform a document using the Alfresco REST API, you can send a POST request to the `/api/-default-/public/alfresco/versions/1/transformations` endpoint and include the document to be transformed in the request body. The response will include the transformed document in the requested format.\r\n\r\nHere&#39;s some sample code that demonstrates how to use the Alfresco REST API to transform a document:\r\n\r\n```java\r\nRestTemplate restTemplate = new RestTemplate();\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n// Load the document to be transformed into a byte array\r\nFile file = new File(&quot;path/to/document.pdf&quot;);\r\nbyte[] documentBytes = FileUtils.readFileToByteArray(file);\r\n\r\n// Construct the request body\r\nMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\nbody.add(&quot;filedata&quot;, new ByteArrayResource(documentBytes));\r\nbody.add(&quot;sourceMimetype&quot;, &quot;application/pdf&quot;);\r\nbody.add(&quot;targetMimetype&quot;, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;);\r\n\r\n// Send the POST request to the Alfresco REST API\r\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\nResponseEntity&lt;byte[]&gt; responseEntity = restTemplate.postForEntity(\r\n    &quot;http://localhost:8080/alfresco/api/-default-/public/alfresco/versions/1/transformations&quot;,\r\n    requestEntity,\r\n    byte[].class\r\n);\r\n\r\n// Save the transformed document to a file\r\nbyte[] transformedBytes = responseEntity.getBody();\r\nFile transformedFile = new File(&quot;path/to/transformed.docx&quot;);\r\nFileUtils.writeByteArrayToFile(transformedFile, transformedBytes);\r\n```\r\n\r\n2. Using the Alfresco Java API: Alfresco also provides a Java API that allows you to perform a wide range of operations, including transforming documents and files. To transform a document using the Alfresco Java API, you can use the `ContentService` and `TransformerService` classes to retrieve the content of the document and transform it into the desired format.\r\n\r\nHere&#39;s some sample code that demonstrates how to use the Alfresco Java API to transform a document:\r\n\r\n```java\r\nAuthenticationUtils.setFullyAuthenticatedUser(&quot;admin&quot;, &quot;admin&quot;);\r\n\r\n// Get a reference to the Alfresco ContentService\r\nContentService contentService = serviceRegistry.getContentService();\r\n\r\n// Get a reference to the Alfresco TransformerService\r\nTransformerService transformerService = serviceRegistry.getTransformerService();\r\n\r\n// Load the document to be transformed into a ContentData object\r\nNodeRef nodeRef = new NodeRef(&quot;workspace://SpacesStore/01234567-89ab-cdef-0123-456789abcdef&quot;);\r\nContentData contentData = contentService.getReader(nodeRef, ContentModel.PROP_CONTENT).getContentData();\r\n\r\n// Transform the document into the desired format\r\nContentReader contentReader = contentService.getReader(nodeRef, ContentModel.PROP_CONTENT);\r\nContentWriter contentWriter = contentService.getWriter(nodeRef, ContentModel.PROP_CONTENT, true);\r\nContentTransformer transformer = transformerService.getTransformer(contentReader.getMimetype(), &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;);\r\ntransformer.transform(contentReader, contentWriter);\r\n\r\n// Save the transformed document to a file\r\nbyte[] transformedBytes = contentData.getContent();\r\nFile transformedFile = new File(&quot;path/to/transformed.docx&quot;);\r\nFileUtils.writeByteArrayToFile(transformedFile, transformedBytes);\r\n```\r\n\r\nOverall, these approaches allow you to call the transformer of Alfresco (all in one) with Java Spring Boot by using either the Alfresco REST API or the Alfresco Java API. By using one or more of these approaches, you can transform documents and files into different formats to meet your specific needs.","title":"call transformer of alfresco (all in one) with java spring boot ( call api or direct using package methods)","body":"<p>Alfresco provides several ways to transform documents and files into different formats. Here are two approaches you can use to call the transformer of Alfresco (all in one) with Java Spring Boot:</p>\n<ol>\n<li>Calling the Alfresco REST API: Alfresco provides a REST API that allows you to perform a wide range of operations, including transforming documents and files. To transform a document using the Alfresco REST API, you can send a POST request to the <code>/api/-default-/public/alfresco/versions/1/transformations</code> endpoint and include the document to be transformed in the request body. The response will include the transformed document in the requested format.</li>\n</ol>\n<p>Here's some sample code that demonstrates how to use the Alfresco REST API to transform a document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestTemplate restTemplate = new RestTemplate();\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n// Load the document to be transformed into a byte array\nFile file = new File(&quot;path/to/document.pdf&quot;);\nbyte[] documentBytes = FileUtils.readFileToByteArray(file);\n\n// Construct the request body\nMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\nbody.add(&quot;filedata&quot;, new ByteArrayResource(documentBytes));\nbody.add(&quot;sourceMimetype&quot;, &quot;application/pdf&quot;);\nbody.add(&quot;targetMimetype&quot;, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;);\n\n// Send the POST request to the Alfresco REST API\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\nResponseEntity&lt;byte[]&gt; responseEntity = restTemplate.postForEntity(\n    &quot;http://localhost:8080/alfresco/api/-default-/public/alfresco/versions/1/transformations&quot;,\n    requestEntity,\n    byte[].class\n);\n\n// Save the transformed document to a file\nbyte[] transformedBytes = responseEntity.getBody();\nFile transformedFile = new File(&quot;path/to/transformed.docx&quot;);\nFileUtils.writeByteArrayToFile(transformedFile, transformedBytes);\n</code></pre>\n<ol start=\"2\">\n<li>Using the Alfresco Java API: Alfresco also provides a Java API that allows you to perform a wide range of operations, including transforming documents and files. To transform a document using the Alfresco Java API, you can use the <code>ContentService</code> and <code>TransformerService</code> classes to retrieve the content of the document and transform it into the desired format.</li>\n</ol>\n<p>Here's some sample code that demonstrates how to use the Alfresco Java API to transform a document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AuthenticationUtils.setFullyAuthenticatedUser(&quot;admin&quot;, &quot;admin&quot;);\n\n// Get a reference to the Alfresco ContentService\nContentService contentService = serviceRegistry.getContentService();\n\n// Get a reference to the Alfresco TransformerService\nTransformerService transformerService = serviceRegistry.getTransformerService();\n\n// Load the document to be transformed into a ContentData object\nNodeRef nodeRef = new NodeRef(&quot;workspace://SpacesStore/01234567-89ab-cdef-0123-456789abcdef&quot;);\nContentData contentData = contentService.getReader(nodeRef, ContentModel.PROP_CONTENT).getContentData();\n\n// Transform the document into the desired format\nContentReader contentReader = contentService.getReader(nodeRef, ContentModel.PROP_CONTENT);\nContentWriter contentWriter = contentService.getWriter(nodeRef, ContentModel.PROP_CONTENT, true);\nContentTransformer transformer = transformerService.getTransformer(contentReader.getMimetype(), &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;);\ntransformer.transform(contentReader, contentWriter);\n\n// Save the transformed document to a file\nbyte[] transformedBytes = contentData.getContent();\nFile transformedFile = new File(&quot;path/to/transformed.docx&quot;);\nFileUtils.writeByteArrayToFile(transformedFile, transformedBytes);\n</code></pre>\n<p>Overall, these approaches allow you to call the transformer of Alfresco (all in one) with Java Spring Boot by using either the Alfresco REST API or the Alfresco Java API. By using one or more of these approaches, you can transform documents and files into different formats to meet your specific needs.</p>\n"}],"owner":{"account_id":117925,"reputation":4564,"user_id":308578,"accept_rate":88,"display_name":"saber tabatabaee yazdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76726427,"answer_count":1,"score":1,"last_activity_date":1689822407,"creation_date":1689773222,"question_id":76721840,"body_markdown":"I want to resize images for generating thumbnails \r\n\r\nI have a spring boot application and use this docker yaml block in my docker compose file:\r\n\r\n\r\n\r\n\r\n    transform-core-aio:\r\n      image: alfresco/alfresco-transform-core-aio\r\n      environment:\r\n        JAVA_OPTS: &quot; -XX:MinRAMPercentage=50 -XX:MaxRAMPercentage=80&quot;\r\n      ports:\r\n        - &quot;8088:8090&quot;\r\n\r\nI can see this test page \r\n\r\n[![enter image description here][1]][1]\r\n\r\nand I can convert images via this test page and convert them to another format\r\n\r\nbut i want to do this action via code.\r\n\r\nhow can I use this docker to call the alfresco API .\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.alfresco/alfresco-transform-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.alfresco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;alfresco-transform-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\ni try to use this but i cant.\r\n\r\nis there any block of code that help me to use this docker file?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ucrAd.png","title":"call transformer of alfresco (all in one) with java spring boot ( call api or direct using package methods)","body":"<p>I want to resize images for generating thumbnails</p>\n<p>I have a spring boot application and use this docker yaml block in my docker compose file:</p>\n<pre><code>transform-core-aio:\n  image: alfresco/alfresco-transform-core-aio\n  environment:\n    JAVA_OPTS: &quot; -XX:MinRAMPercentage=50 -XX:MaxRAMPercentage=80&quot;\n  ports:\n    - &quot;8088:8090&quot;\n</code></pre>\n<p>I can see this test page</p>\n<p><a href=\"https://i.stack.imgur.com/ucrAd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucrAd.png\" alt=\"enter image description here\" /></a></p>\n<p>and I can convert images via this test page and convert them to another format</p>\n<p>but i want to do this action via code.</p>\n<p>how can I use this docker to call the alfresco API .</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.alfresco/alfresco-transform-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.alfresco&lt;/groupId&gt;\n        &lt;artifactId&gt;alfresco-transform-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>i try to use this but i cant.</p>\n<p>is there any block of code that help me to use this docker file?</p>\n"},{"tags":["java","kotlin","netty"],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689821117,"creation_date":1689645062,"question_id":76709067,"body_markdown":"I have two routing addresses, and I want to handle these two routings separately, but I haven&#39;t found an entry point.\r\n\r\nFor example, there are two routing paths:\r\n```\r\nws://192.168.101.7:8088/article/upload\r\nws://192.168.101.7:8088/user/upload\r\n```\r\nserver code:\r\n```kotlin\r\ntry {\r\n    val serverBootstrap = ServerBootstrap()\r\n    serverBootstrap.group(bossGroup, workerGroup)\r\n        .channel(NioServerSocketChannel::class.java)\r\n        .childHandler(articleUploadHandler)\r\n        .childHandler(hotHubUploadChannelHandler)\r\n    val channel = serverBootstrap.bind(8088).sync().channel()\r\n    println(&quot;websocket服务已启动&quot;)\r\n    channel.closeFuture().sync()\r\n}finally {\r\n    bossGroup.shutdownGracefully()\r\n    workerGroup.shutdownGracefully()\r\n}\r\n```\r\nChildHandler\r\n```kotlin\r\nclass ArticleUploadChannelHandler : ChannelInitializer&lt;Channel&gt;() {\r\n\r\n    override fun initChannel(ch: Channel?) {\r\n        ch!!.pipeline().addLast(\r\n            HttpServerCodec(),\r\n            HttpObjectAggregator(65536),\r\n            WebSocketServerProtocolHandler(&quot;/article/upload&quot;),\r\n            MessageHandler(articleItemService),\r\n        )\r\n    }\r\n}\r\n```\r\nBased on my guesses, I tried two options:\r\n1. Add two `childHandler`, but the test failed, only one `childHandler` works.\r\n2. Let `MessageHandler` or `initChannel` get the routing path, but I don&#39;t know how.\r\n\r\nHow should it be solved?","title":"How to use websocket in Netty to make corresponding processing according to the routing address?","body":"<p>I have two routing addresses, and I want to handle these two routings separately, but I haven't found an entry point.</p>\n<p>For example, there are two routing paths:</p>\n<pre><code>ws://192.168.101.7:8088/article/upload\nws://192.168.101.7:8088/user/upload\n</code></pre>\n<p>server code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>try {\n    val serverBootstrap = ServerBootstrap()\n    serverBootstrap.group(bossGroup, workerGroup)\n        .channel(NioServerSocketChannel::class.java)\n        .childHandler(articleUploadHandler)\n        .childHandler(hotHubUploadChannelHandler)\n    val channel = serverBootstrap.bind(8088).sync().channel()\n    println(&quot;websocket服务已启动&quot;)\n    channel.closeFuture().sync()\n}finally {\n    bossGroup.shutdownGracefully()\n    workerGroup.shutdownGracefully()\n}\n</code></pre>\n<p>ChildHandler</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ArticleUploadChannelHandler : ChannelInitializer&lt;Channel&gt;() {\n\n    override fun initChannel(ch: Channel?) {\n        ch!!.pipeline().addLast(\n            HttpServerCodec(),\n            HttpObjectAggregator(65536),\n            WebSocketServerProtocolHandler(&quot;/article/upload&quot;),\n            MessageHandler(articleItemService),\n        )\n    }\n}\n</code></pre>\n<p>Based on my guesses, I tried two options:</p>\n<ol>\n<li>Add two <code>childHandler</code>, but the test failed, only one <code>childHandler</code> works.</li>\n<li>Let <code>MessageHandler</code> or <code>initChannel</code> get the routing path, but I don't know how.</li>\n</ol>\n<p>How should it be solved?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":22376,"reputation":33015,"user_id":55094,"accept_rate":85,"display_name":"Elazar Leibovich"},"score":11,"creation_date":1312546302,"post_id":115692,"comment_id":8293062,"body_markdown":"It&#39;s worth mentioning that with JPA you can have type safe queries, by adding the type to the createQuery.","body":"It&#39;s worth mentioning that with JPA you can have type safe queries, by adding the type to the createQuery."},{"owner":{"account_id":418472,"reputation":827,"user_id":795051,"accept_rate":83,"display_name":"Dominik"},"score":7,"creation_date":1360147675,"post_id":115692,"comment_id":20603139,"body_markdown":"A little late but `sess.createQuery(&quot;from Cat cat&quot;, Cat.class);` as Elazar mentioned.","body":"A little late but <code>sess.createQuery(&quot;from Cat cat&quot;, Cat.class);</code> as Elazar mentioned."}],"answers":[{"tags":[],"owner":{"account_id":9002,"reputation":1333,"user_id":16448,"display_name":"tyshock"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1222099062,"creation_date":1222099062,"answer_id":115714,"question_id":115692,"body_markdown":"In our code we annotate the calling methods with:\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\n\r\nI know it seems like a hack, but a co-developer checked recently and found that was all we could do.","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>In our code we annotate the calling methods with:</p>\n\n<p>@SuppressWarnings(\"unchecked\")</p>\n\n<p>I know it seems like a hack, but a co-developer checked recently and found that was all we could do.</p>\n"},{"comments":[{"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"score":0,"creation_date":1222101614,"post_id":115719,"comment_id":24122,"body_markdown":"Wrong... Joe Dean is right, you can use the ? as the generic type to avoid the warnings...","body":"Wrong... Joe Dean is right, you can use the ? as the generic type to avoid the warnings..."},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":1,"creation_date":1222102342,"post_id":115719,"comment_id":24144,"body_markdown":"That&#39;s not true.  If you use a List&lt;?&gt; then you cannot use the elements of the list as Cat&#39;s without the unnecessary step of creating a duplicate list and casting each item.","body":"That&#39;s not true.  If you use a List&lt;?&gt; then you cannot use the elements of the list as Cat&#39;s without the unnecessary step of creating a duplicate list and casting each item."},{"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"score":0,"creation_date":1222104969,"post_id":115719,"comment_id":24282,"body_markdown":"well, if you use the results directly via casting you don&#39;t need to create the list, and regardless, the question was &quot;is there a way to avoid it&quot;, the answer is most definitely YES (even without supress warnings)","body":"well, if you use the results directly via casting you don&#39;t need to create the list, and regardless, the question was &quot;is there a way to avoid it&quot;, the answer is most definitely YES (even without supress warnings)"}],"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1222099130,"creation_date":1222099130,"answer_id":115719,"question_id":115692,"body_markdown":"No, but you can isolate it into specific query methods and suppress the warnings with a `@SuppressWarnings(&quot;unchecked&quot;)` annotation.","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>No, but you can isolate it into specific query methods and suppress the warnings with a <code>@SuppressWarnings(\"unchecked\")</code> annotation.</p>\n"},{"comments":[{"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"score":2,"creation_date":1224281203,"post_id":115952,"comment_id":84881,"body_markdown":"That just stupid. You&#39;re adding runtime overhead to overcome a completely compiler related problem. Remember that type arguments aren&#39;t reified so there is no runtime checking of the type.","body":"That just stupid. You&#39;re adding runtime overhead to overcome a completely compiler related problem. Remember that type arguments aren&#39;t reified so there is no runtime checking of the type."},{"owner":{"account_id":19479,"reputation":911,"user_id":45708,"display_name":"ddcruver"},"score":0,"creation_date":1291135963,"post_id":115952,"comment_id":4688113,"body_markdown":"Agreed, if you still wanted to do something like this you could add runtime checking of type with: List&lt;Cat&gt; cats = Collections.checkedList(new ArrayList&lt;Cat&gt;(), Cat.class); cats.addAll(q.list()); This should work.","body":"Agreed, if you still wanted to do something like this you could add runtime checking of type with: List&lt;Cat&gt; cats = Collections.checkedList(new ArrayList&lt;Cat&gt;(), Cat.class); cats.addAll(q.list()); This should work."}],"tags":[],"owner":{"account_id":4019,"reputation":3366,"user_id":5917,"accept_rate":92,"display_name":"Joe Dean"},"comment_count":2,"down_vote_count":9,"up_vote_count":3,"is_accepted":false,"score":-6,"last_activity_date":1222101244,"creation_date":1222101244,"answer_id":115952,"question_id":115692,"body_markdown":"If you don&#39;t want to use @SuppressWarnings(&quot;unchecked&quot;) you can do the following.\r\n\r\n       Query q = sess.createQuery(&quot;from Cat cat&quot;);\r\n       List&lt;?&gt; results =(List&lt;?&gt;) q.list();\r\n       List&lt;Cat&gt; cats = new ArrayList&lt;Cat&gt;();\r\n       for(Object result:results) {\r\n           Cat cat = (Cat) result;\r\n           cats.add(cat);\r\n        }\r\n\r\nFYI - I created a util method that does this for me so it doesn&#39;t litter my code and I don&#39;t have to use @SupressWarning. ","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>If you don't want to use @SuppressWarnings(\"unchecked\") you can do the following.</p>\n\n<pre><code>   Query q = sess.createQuery(\"from Cat cat\");\n   List&lt;?&gt; results =(List&lt;?&gt;) q.list();\n   List&lt;Cat&gt; cats = new ArrayList&lt;Cat&gt;();\n   for(Object result:results) {\n       Cat cat = (Cat) result;\n       cats.add(cat);\n    }\n</code></pre>\n\n<p>FYI - I created a util method that does this for me so it doesn't litter my code and I don't have to use @SupressWarning. </p>\n"},{"tags":[],"owner":{"account_id":10005,"reputation":19934,"user_id":18722,"accept_rate":94,"display_name":"cretzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1222102518,"creation_date":1222102518,"answer_id":116071,"question_id":115692,"body_markdown":"We use `@SuppressWarnings(&quot;unchecked&quot;)` as well, but we most often try to use it only on the declaration of the variable, not on the method as a whole:\r\n\r\n    public List&lt;Cat&gt; findAll() {\r\n        Query q = sess.createQuery(&quot;from Cat cat&quot;);\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        List&lt;Cat&gt; cats = q.list();\r\n        return cats;\r\n    }\r\n\r\n","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>We use <code>@SuppressWarnings(\"unchecked\")</code> as well, but we most often try to use it only on the declaration of the variable, not on the method as a whole:</p>\n\n<pre><code>public List&lt;Cat&gt; findAll() {\n    Query q = sess.createQuery(\"from Cat cat\");\n    @SuppressWarnings(\"unchecked\")\n    List&lt;Cat&gt; cats = q.list();\n    return cats;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17493,"reputation":3883,"user_id":39207,"display_name":"phatblat"},"score":20,"creation_date":1254939622,"post_id":118976,"comment_id":1389188,"body_markdown":"At first glance, the Collections.checkedList(Collection&lt;E&gt;,Class&lt;E&gt;) method looks like the perfect solution. However, the javadoc says that it only prevents incorrectly typed elements from being added through the typesafe view that the method generates. No checking is done on the given list.","body":"At first glance, the Collections.checkedList(Collection&lt;E&gt;,Class&lt;E&gt;) method looks like the perfect solution. However, the javadoc says that it only prevents incorrectly typed elements from being added through the typesafe view that the method generates. No checking is done on the given list."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":11,"creation_date":1311925577,"post_id":118976,"comment_id":8173059,"body_markdown":"&quot;List&lt;Cat&gt; list = Collections.checkedList(q.list(), Cat.class);&quot; still requires a &quot;@SuppressWarnings&quot; in Eclipse. About the other tip : typing &quot;listAndCast&quot; is not really shorter than &quot;@SuppressWarnings&quot; which is added automatically via Eclipse.","body":"&quot;List&lt;Cat&gt; list = Collections.checkedList(q.list(), Cat.class);&quot; still requires a &quot;@SuppressWarnings&quot; in Eclipse. About the other tip : typing &quot;listAndCast&quot; is not really shorter than &quot;@SuppressWarnings&quot; which is added automatically via Eclipse."},{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":2,"creation_date":1473425707,"post_id":118976,"comment_id":66148383,"body_markdown":"BTW, `Collections.checkedList()` method will not suprpress the unchecked assignment warning.","body":"BTW, <code>Collections.checkedList()</code> method will not suprpress the unchecked assignment warning."}],"tags":[],"owner":{"account_id":8696,"reputation":6189,"user_id":15790,"display_name":"Matt Quail"},"comment_count":3,"down_vote_count":6,"up_vote_count":107,"is_accepted":true,"score":101,"last_activity_date":1540590192,"creation_date":1222141091,"answer_id":118976,"question_id":115692,"body_markdown":"Using `@SuppressWarnings` everywhere, as suggested, is a good way to do it, though it does involve a bit of finger typing each time you call `q.list()`.\r\n\r\nThere are two other techniques I&#39;d suggest:\r\n\r\n**Write a cast-helper**\r\n\r\nSimply refactor all your `@SuppressWarnings` into one place:\r\n\r\n    List&lt;Cat&gt; cats = MyHibernateUtils.listAndCast(q);\r\n\r\n    ...\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; listAndCast(Query q) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        List list = q.list();\r\n        return list;\r\n    }\r\n\r\n**Prevent Eclipse from generating warnings for unavoidable problems**  \r\n\r\nIn Eclipse, go to Window&gt;Preferences&gt;Java&gt;Compiler&gt;Errors/Warnings and under Generic type, select the checkbox \r\n`Ignore unavoidable generic type problems due to raw APIs`\r\n\r\nThis will turn off unnecessary warnings for similar problems like the one described above which are unavoidable.\r\n\r\nSome comments:\r\n\r\n* I chose to pass in the `Query` instead of the result of `q.list()` because that way this &quot;cheating&quot; method can only be used to cheat with Hibernate, and not for cheating any `List` in general.\r\n* You could add similar methods for `.iterate()` etc.\r\n","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>Using <code>@SuppressWarnings</code> everywhere, as suggested, is a good way to do it, though it does involve a bit of finger typing each time you call <code>q.list()</code>.</p>\n\n<p>There are two other techniques I'd suggest:</p>\n\n<p><strong>Write a cast-helper</strong></p>\n\n<p>Simply refactor all your <code>@SuppressWarnings</code> into one place:</p>\n\n<pre><code>List&lt;Cat&gt; cats = MyHibernateUtils.listAndCast(q);\n\n...\n\npublic static &lt;T&gt; List&lt;T&gt; listAndCast(Query q) {\n    @SuppressWarnings(\"unchecked\")\n    List list = q.list();\n    return list;\n}\n</code></pre>\n\n<p><strong>Prevent Eclipse from generating warnings for unavoidable problems</strong>  </p>\n\n<p>In Eclipse, go to Window>Preferences>Java>Compiler>Errors/Warnings and under Generic type, select the checkbox \n<code>Ignore unavoidable generic type problems due to raw APIs</code></p>\n\n<p>This will turn off unnecessary warnings for similar problems like the one described above which are unavoidable.</p>\n\n<p>Some comments:</p>\n\n<ul>\n<li>I chose to pass in the <code>Query</code> instead of the result of <code>q.list()</code> because that way this \"cheating\" method can only be used to cheat with Hibernate, and not for cheating any <code>List</code> in general.</li>\n<li>You could add similar methods for <code>.iterate()</code> etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234490882,"creation_date":1234490882,"answer_id":544475,"question_id":115692,"body_markdown":"We had same problem. But it wasn&#39;t a big deal for us because we had to solve other more major issues with Hibernate Query and Session.\r\n\r\nSpecifically:\r\n\r\n 1. control when a transaction could be committed. (we wanted to count how many times a tx was &quot;started&quot; and only commit when the tx was &quot;ended&quot; the same number of times it was started. Useful for code that doesn&#39;t know if it needs to start a transaction. Now any code that needs a tx just &quot;starts&quot; one and ends it when done.)\r\n 2. Performance metrics gathering.\r\n 3. Delaying starting the transaction until it is known that something will actually be done.\r\n 4. More gentle behavior for query.uniqueResult()\r\n\r\nSo for us, we have:\r\n\r\n 1. Create an interface (AmplafiQuery) that extends Query\r\n 2. Create a class (AmplafiQueryImpl) that extends AmplafiQuery and wraps a org.hibernate.Query\r\n 3. Create a Txmanager that returns a Tx.\r\n 4. Tx has the various createQuery methods and returns AmplafiQueryImpl\r\n\r\nAnd lastly,\r\n\r\nAmplafiQuery has a &quot;asList()&quot; that is a generic enabled version of Query.list()\r\nAmplafiQuery has a &quot;unique()&quot; that is a generic enabled version of Query.uniqueResult() ( and just logs an issue rather than throwing an exception) \r\n\r\nThis is a lot of work for just avoiding @SuppressWarnings. However, like I said (and listed) there are lots of other better! reasons to do the wrapping work.\r\n","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>We had same problem. But it wasn't a big deal for us because we had to solve other more major issues with Hibernate Query and Session.</p>\n\n<p>Specifically:</p>\n\n<ol>\n<li>control when a transaction could be committed. (we wanted to count how many times a tx was \"started\" and only commit when the tx was \"ended\" the same number of times it was started. Useful for code that doesn't know if it needs to start a transaction. Now any code that needs a tx just \"starts\" one and ends it when done.)</li>\n<li>Performance metrics gathering.</li>\n<li>Delaying starting the transaction until it is known that something will actually be done.</li>\n<li>More gentle behavior for query.uniqueResult()</li>\n</ol>\n\n<p>So for us, we have:</p>\n\n<ol>\n<li>Create an interface (AmplafiQuery) that extends Query</li>\n<li>Create a class (AmplafiQueryImpl) that extends AmplafiQuery and wraps a org.hibernate.Query</li>\n<li>Create a Txmanager that returns a Tx.</li>\n<li>Tx has the various createQuery methods and returns AmplafiQueryImpl</li>\n</ol>\n\n<p>And lastly,</p>\n\n<p>AmplafiQuery has a \"asList()\" that is a generic enabled version of Query.list()\nAmplafiQuery has a \"unique()\" that is a generic enabled version of Query.uniqueResult() ( and just logs an issue rather than throwing an exception) </p>\n\n<p>This is a lot of work for just avoiding @SuppressWarnings. However, like I said (and listed) there are lots of other better! reasons to do the wrapping work.</p>\n"},{"tags":[],"owner":{"account_id":24765,"reputation":3353,"user_id":63189,"display_name":"paulmurray"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689819881,"creation_date":1234493737,"answer_id":544561,"question_id":115692,"body_markdown":"It&#39;s not an oversight or a mistake. The warning reflects a real underlying problem - there is no way that the java compiler can really be sure that the hibernate class is going to do its job properly and that the list it returns will only contain Cats. Any of the suggestions here is fine.","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>It's not an oversight or a mistake. The warning reflects a real underlying problem - there is no way that the java compiler can really be sure that the hibernate class is going to do its job properly and that the list it returns will only contain Cats. Any of the suggestions here is fine.</p>\n"},{"comments":[{"owner":{"account_id":476048,"reputation":7235,"user_id":886749,"accept_rate":77,"display_name":"Cory Kendall"},"score":0,"creation_date":1351234708,"post_id":9969062,"comment_id":17773866,"body_markdown":"Try to make answers a response to the question, not a response to another answer.  It&#39;s fine to include a comment on Matt Quail&#39;s answer to say he&#39;s out of date, but just write your answer purely and correctly.","body":"Try to make answers a response to the question, not a response to another answer.  It&#39;s fine to include a comment on Matt Quail&#39;s answer to say he&#39;s out of date, but just write your answer purely and correctly."}],"tags":[],"owner":{"account_id":1188208,"reputation":428,"user_id":1161713,"display_name":"Tony Shih"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333324595,"creation_date":1333320809,"answer_id":9969062,"question_id":115692,"body_markdown":"I know this is older but 2 points to note as of today in Matt Quails Answer.\r\n\r\nPoint 1\r\n=======\r\nThis \r\n\r\n    List&lt;Cat&gt; cats = Collections.checkedList(Cat.class, q.list());\r\n\r\nShould be this\r\n\r\n    List&lt;Cat&gt; cats = Collections.checkedList(q.list(), Cat.class);\r\n\r\nPoint 2\r\n=======\r\nFrom this\r\n\r\n    List list = q.list();\r\n\r\nto this \r\n\r\n    List&lt;T&gt; list = q.list();\r\n\r\nwould reduce other warnings obviously in original reply tag markers were stripped by the browser.\r\n\r\n\r\n\r\n \r\n ","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>I know this is older but 2 points to note as of today in Matt Quails Answer.</p>\n\n<h1>Point 1</h1>\n\n<p>This </p>\n\n<pre><code>List&lt;Cat&gt; cats = Collections.checkedList(Cat.class, q.list());\n</code></pre>\n\n<p>Should be this</p>\n\n<pre><code>List&lt;Cat&gt; cats = Collections.checkedList(q.list(), Cat.class);\n</code></pre>\n\n<h1>Point 2</h1>\n\n<p>From this</p>\n\n<pre><code>List list = q.list();\n</code></pre>\n\n<p>to this </p>\n\n<pre><code>List&lt;T&gt; list = q.list();\n</code></pre>\n\n<p>would reduce other warnings obviously in original reply tag markers were stripped by the browser.</p>\n"},{"comments":[{"owner":{"account_id":87779,"reputation":33895,"user_id":243245,"accept_rate":70,"display_name":"Rup"},"score":1,"creation_date":1354735748,"post_id":13729284,"comment_id":18864342,"body_markdown":"&quot;there are no plans to change it.&quot; - that&#39;s a post from 2005. I&#39;d be surprised if things hadn&#39;t changed since then.","body":"&quot;there are no plans to change it.&quot; - that&#39;s a post from 2005. I&#39;d be surprised if things hadn&#39;t changed since then."}],"tags":[],"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1354729604,"creation_date":1354729604,"answer_id":13729284,"question_id":115692,"body_markdown":"Apparently, the Query.list() method in the Hibernate API is not type safe &quot;by design&quot;, and there are [no plans to change it][1]. \r\n\r\nI believe the simplest solution to avoid compiler warnings is indeed to add @SuppressWarnings(&quot;unchecked&quot;). This [annotation can be placed][2] at the method level or, if inside a method, right before a variable declaration.  \r\n\r\nIn case you have a method that encapsulates Query.list() and returns List (or Collection), you also get a warning. But this one is suppressed using @SuppressWarnings(&quot;rawtypes&quot;). \r\n\r\nThe listAndCast(Query) method proposed by Matt Quail is less flexible than Query.list(). \r\nWhile I can do:\r\n\r\n    Query q = sess.createQuery(&quot;from Cat cat&quot;);\r\n    ArrayList cats = q.list();\r\n\r\nIf I try the code below:\r\n\r\n    Query q = sess.createQuery(&quot;from Cat cat&quot;);\r\n    ArrayList&lt;Cat&gt; cats = MyHibernateUtils.listAndCast(q);\r\n\r\nI&#39;ll get a compile error: *Type mismatch: cannot convert from List&lt;Object&gt; to ArrayList&lt;Cat&gt;*\r\n\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=9&amp;t=948703&amp;view=next\r\n  [2]: https://stackoverflow.com/questions/7387749/add-suppresswarningsunchecked-in-generics-to-single-line-generates-eclipse","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>Apparently, the Query.list() method in the Hibernate API is not type safe \"by design\", and there are <a href=\"https://forum.hibernate.org/viewtopic.php?f=9&amp;t=948703&amp;view=next\" rel=\"nofollow noreferrer\">no plans to change it</a>. </p>\n\n<p>I believe the simplest solution to avoid compiler warnings is indeed to add @SuppressWarnings(\"unchecked\"). This <a href=\"https://stackoverflow.com/questions/7387749/add-suppresswarningsunchecked-in-generics-to-single-line-generates-eclipse\">annotation can be placed</a> at the method level or, if inside a method, right before a variable declaration.  </p>\n\n<p>In case you have a method that encapsulates Query.list() and returns List (or Collection), you also get a warning. But this one is suppressed using @SuppressWarnings(\"rawtypes\"). </p>\n\n<p>The listAndCast(Query) method proposed by Matt Quail is less flexible than Query.list(). \nWhile I can do:</p>\n\n<pre><code>Query q = sess.createQuery(\"from Cat cat\");\nArrayList cats = q.list();\n</code></pre>\n\n<p>If I try the code below:</p>\n\n<pre><code>Query q = sess.createQuery(\"from Cat cat\");\nArrayList&lt;Cat&gt; cats = MyHibernateUtils.listAndCast(q);\n</code></pre>\n\n<p>I'll get a compile error: <em>Type mismatch: cannot convert from List to ArrayList</em></p>\n"},{"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":4,"creation_date":1405462783,"post_id":24768836,"comment_id":38434529,"body_markdown":"This is a bad copy of [Joe Dean&#39;s answer](http://stackoverflow.com/a/115952/1816580), because you still have to do something with the `cat` instance.","body":"This is a bad copy of <a href=\"http://stackoverflow.com/a/115952/1816580\">Joe Dean&#39;s answer</a>, because you still have to do something with the <code>cat</code> instance."}],"tags":[],"owner":{"account_id":4753310,"reputation":1,"user_id":3842765,"display_name":"Brian Ngure"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1405461185,"creation_date":1405461185,"answer_id":24768836,"question_id":115692,"body_markdown":"Try this:\r\n\r\n    \r\n    Query q = sess.createQuery(&quot;from Cat cat&quot;);\r\n    List&lt;?&gt; results = q.list();\r\n    for (Object obj : results) {\r\n        Cat cat = (Cat) obj;\r\n    }\r\n    ","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>Try this:</p>\n\n<pre><code>Query q = sess.createQuery(\"from Cat cat\");\nList&lt;?&gt; results = q.list();\nfor (Object obj : results) {\n    Cat cat = (Cat) obj;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":536418,"reputation":6186,"user_id":905422,"accept_rate":83,"display_name":"Mathijs Segers"},"score":1,"creation_date":1469005753,"post_id":30268139,"comment_id":64356491,"body_markdown":"Question is not about JPA","body":"Question is not about JPA"},{"owner":{"account_id":8565744,"reputation":431,"user_id":6418269,"display_name":"caspinos"},"score":4,"creation_date":1532967591,"post_id":30268139,"comment_id":90162489,"body_markdown":"Recent versions of Hibernate implement JPA 2.x, so this answer is relevant.","body":"Recent versions of Hibernate implement JPA 2.x, so this answer is relevant."},{"owner":{"account_id":224471,"reputation":820,"user_id":2633456,"accept_rate":67,"display_name":"Muneeb Mirza"},"score":0,"creation_date":1565808056,"post_id":30268139,"comment_id":101470108,"body_markdown":"TypedQuery&lt;T&gt; is the best scenario.","body":"TypedQuery&lt;T&gt; is the best scenario."},{"owner":{"account_id":19214466,"reputation":146,"user_id":14039503,"display_name":"mercury"},"score":0,"creation_date":1650953728,"post_id":30268139,"comment_id":127239157,"body_markdown":"I am getting this error: `method createQuery in interface org.hibernate.SharedSessionContract cannot be applied to given types;\n[ERROR]   required: java.lang.String\n[ERROR]   found: java.lang.String,java.lang.Class&lt;MyObjectClassName&gt;`. It seems java does not like my second argument.","body":"I am getting this error: <code>method createQuery in interface org.hibernate.SharedSessionContract cannot be applied to given types; [ERROR]   required: java.lang.String [ERROR]   found: java.lang.String,java.lang.Class&lt;MyObjectClassName&gt;</code>. It seems java does not like my second argument."}],"tags":[],"owner":{"account_id":3606650,"reputation":2353,"user_id":3008684,"accept_rate":73,"display_name":"antonpp"},"comment_count":4,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1431721440,"creation_date":1431721440,"answer_id":30268139,"question_id":115692,"body_markdown":"It is been a long time since the question was asked but I hope my answer might be helpful to someone like me.\r\n\r\nIf you take a look at javax.persistence [api docs](http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#createQuery(java.lang.String,%20java.lang.Class)), you will see that some new methods have been added there since `Java Persistence 2.0`. One of them is `createQuery(String, Class&lt;T&gt;)` which returns `TypedQuery&lt;T&gt;`. You can use `TypedQuery` just as you did it with `Query` with that small difference that all operations are type safe now.\r\n\r\nSo, just change your code to smth like this:\r\n\r\n    Query q = sess.createQuery(&quot;from Cat cat&quot;, Cat.class);\r\n    List&lt;Cat&gt; cats = q.list();\r\n\r\nAnd you are all set.","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>It is been a long time since the question was asked but I hope my answer might be helpful to someone like me.</p>\n\n<p>If you take a look at javax.persistence <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#createQuery(java.lang.String,%20java.lang.Class)\">api docs</a>, you will see that some new methods have been added there since <code>Java Persistence 2.0</code>. One of them is <code>createQuery(String, Class&lt;T&gt;)</code> which returns <code>TypedQuery&lt;T&gt;</code>. You can use <code>TypedQuery</code> just as you did it with <code>Query</code> with that small difference that all operations are type safe now.</p>\n\n<p>So, just change your code to smth like this:</p>\n\n<pre><code>Query q = sess.createQuery(\"from Cat cat\", Cat.class);\nList&lt;Cat&gt; cats = q.list();\n</code></pre>\n\n<p>And you are all set.</p>\n"},{"tags":[],"owner":{"account_id":1010242,"reputation":529,"user_id":1022974,"accept_rate":75,"display_name":"xjodoin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1447268040,"creation_date":1447268040,"answer_id":33657790,"question_id":115692,"body_markdown":"A good solution to avoid type safety warnings with hibernate query is to use a tool like [TorpedoQuery][1] to help you to build type safe hql.\r\n\r\n    Cat cat = from(Cat.class);\r\n    org.torpedoquery.jpa.Query&lt;Entity&gt; select = select(cat);\r\n    List&lt;Cat&gt; cats = select.list(entityManager);\r\n\r\n\r\n  [1]: http://torpedoquery.org","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>A good solution to avoid type safety warnings with hibernate query is to use a tool like <a href=\"http://torpedoquery.org\" rel=\"nofollow\">TorpedoQuery</a> to help you to build type safe hql.</p>\n\n<pre><code>Cat cat = from(Cat.class);\norg.torpedoquery.jpa.Query&lt;Entity&gt; select = select(cat);\nList&lt;Cat&gt; cats = select.list(entityManager);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":1,"creation_date":1502473998,"post_id":36424573,"comment_id":78241744,"body_markdown":"Is there a way to do this with `Criteria` though?","body":"Is there a way to do this with <code>Criteria</code> though?"}],"tags":[],"owner":{"account_id":1180968,"reputation":237,"user_id":1155906,"display_name":"shivam oberoi"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1459859296,"creation_date":1459854134,"answer_id":36424573,"question_id":115692,"body_markdown":"Try to use `TypedQuery` instead of `Query`.\r\nFor example instead of this:-\r\n\r\n    Query q = sess.createQuery(&quot;from Cat cat&quot;, Cat.class);\r\n    List&lt;Cat&gt; cats = q.list();\r\n\r\nUse this:-\r\n\r\n    TypedQuery&lt;Cat&gt; q1 = sess.createQuery(&quot;from Cat cat&quot;, Cat.class);\r\n    List&lt;Cat&gt; cats = q1.list();","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>Try to use <code>TypedQuery</code> instead of <code>Query</code>.\nFor example instead of this:-</p>\n\n<pre><code>Query q = sess.createQuery(\"from Cat cat\", Cat.class);\nList&lt;Cat&gt; cats = q.list();\n</code></pre>\n\n<p>Use this:-</p>\n\n<pre><code>TypedQuery&lt;Cat&gt; q1 = sess.createQuery(\"from Cat cat\", Cat.class);\nList&lt;Cat&gt; cats = q1.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282139,"reputation":2420,"user_id":1236018,"accept_rate":84,"display_name":"David DeMar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523113887,"creation_date":1518242011,"answer_id":48717730,"question_id":115692,"body_markdown":"Newer versions of Hibernate now support a type safe `Query&lt;T&gt;` object so you no longer have to use `@SuppressWarnings` or implement some hack to make the compiler warnings go away. In the [Session API][1], `Session.createQuery` will now return a type safe `Query&lt;T&gt;` object. You can use it this way:\r\n\r\n    Query&lt;Cat&gt; query = session.createQuery(&quot;FROM Cat&quot;, Cat.class);\r\n    List&lt;Cat&gt; cats = query.list();\r\n\r\nYou can also use it when the query result won&#39;t return a Cat:\r\n\r\n    public Integer count() {\r\n        Query&lt;Integer&gt; query = sessionFactory.getCurrentSession().createQuery(&quot;SELECT COUNT(id) FROM Cat&quot;, Integer.class);\r\n        return query.getSingleResult();\r\n    }\r\n\r\nOr when doing a partial select:\r\n\r\n    public List&lt;Object[]&gt; String getName() {\r\n        Query&lt;Object[]&gt; query = sessionFactory.getCurrentSession().createQuery(&quot;SELECT id, name FROM Cat&quot;, Object[].class);\r\n        return query.list();\r\n    }\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html#createQuery-java.lang.String-java.lang.Class-","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>Newer versions of Hibernate now support a type safe <code>Query&lt;T&gt;</code> object so you no longer have to use <code>@SuppressWarnings</code> or implement some hack to make the compiler warnings go away. In the <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Session.html#createQuery-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\">Session API</a>, <code>Session.createQuery</code> will now return a type safe <code>Query&lt;T&gt;</code> object. You can use it this way:</p>\n\n<pre><code>Query&lt;Cat&gt; query = session.createQuery(\"FROM Cat\", Cat.class);\nList&lt;Cat&gt; cats = query.list();\n</code></pre>\n\n<p>You can also use it when the query result won't return a Cat:</p>\n\n<pre><code>public Integer count() {\n    Query&lt;Integer&gt; query = sessionFactory.getCurrentSession().createQuery(\"SELECT COUNT(id) FROM Cat\", Integer.class);\n    return query.getSingleResult();\n}\n</code></pre>\n\n<p>Or when doing a partial select:</p>\n\n<pre><code>public List&lt;Object[]&gt; String getName() {\n    Query&lt;Object[]&gt; query = sessionFactory.getCurrentSession().createQuery(\"SELECT id, name FROM Cat\", Object[].class);\n    return query.list();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":411877,"reputation":22062,"user_id":965146,"accept_rate":85,"display_name":"4b0"},"score":3,"creation_date":1537163813,"post_id":52361208,"comment_id":91667200,"body_markdown":"Please try to provide a nice description about how your solution works. See:  [How do I write a good answer?](https://stackoverflow.com/help/how-to-answer). Thanks.","body":"Please try to provide a nice description about how your solution works. See:  <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. Thanks."},{"owner":{"account_id":1129881,"reputation":11551,"user_id":1116230,"display_name":"Nico Haase"},"score":1,"creation_date":1542622588,"post_id":52361208,"comment_id":93620816,"body_markdown":"Can you add some explanation to you code such that others can learn from it?","body":"Can you add some explanation to you code such that others can learn from it?"}],"tags":[],"owner":{"account_id":4770958,"reputation":380,"user_id":3855723,"display_name":"Rakesh Singh Balhara"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542614819,"creation_date":1537162027,"answer_id":52361208,"question_id":115692,"body_markdown":"    TypedQuery&lt;EntityName&gt; createQuery = entityManager.createQuery(&quot;from EntityName&quot;, EntityName.class);\r\n    List&lt;EntityName&gt; resultList = createQuery.getResultList();\r\n\r\n","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<pre><code>TypedQuery&lt;EntityName&gt; createQuery = entityManager.createQuery(\"from EntityName\", EntityName.class);\nList&lt;EntityName&gt; resultList = createQuery.getResultList();\n</code></pre>\n"}],"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74210,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":118976,"answer_count":15,"score":110,"last_activity_date":1689819881,"creation_date":1222098807,"question_id":115692,"body_markdown":"For example I have such query:\r\n\r\n    Query q = sess.createQuery(&quot;from Cat cat&quot;);\r\n    List cats = q.list();\r\n\r\nIf I try to make something like this it shows the following warning \r\n\r\n    Type safety: The expression of type List needs unchecked conversion to conform to List&lt;Cat&gt;\r\n\r\n\r\n    List&lt;Cat&gt; cats = q.list();\r\n\r\nIs there a way to avoid it?","title":"How to avoid type safety warnings with Hibernate HQL results?","body":"<p>For example I have such query:</p>\n\n<pre><code>Query q = sess.createQuery(\"from Cat cat\");\nList cats = q.list();\n</code></pre>\n\n<p>If I try to make something like this it shows the following warning </p>\n\n<pre><code>Type safety: The expression of type List needs unchecked conversion to conform to List&lt;Cat&gt;\n\n\nList&lt;Cat&gt; cats = q.list();\n</code></pre>\n\n<p>Is there a way to avoid it?</p>\n"},{"tags":["java","android","jar"],"answers":[{"tags":[],"owner":{"account_id":1662076,"reputation":586,"user_id":1530164,"display_name":"Florian Minges"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1350341591,"creation_date":1350341591,"answer_id":12905129,"question_id":12905012,"body_markdown":"Android uses the Dalvik VM, whereas you need the Java VM to run a jar-file. So no, you can&#39;t run a jar-file on android.","title":"Running an executable jar in android","body":"<p>Android uses the Dalvik VM, whereas you need the Java VM to run a jar-file. So no, you can't run a jar-file on android.</p>\n"},{"tags":[],"owner":{"account_id":162988,"reputation":5607,"user_id":384831,"display_name":"mportuesisf"},"comment_count":0,"down_vote_count":3,"up_vote_count":9,"is_accepted":true,"score":6,"last_activity_date":1523802987,"creation_date":1350341603,"answer_id":12905132,"question_id":12905012,"body_markdown":"You can install an app built as an APK through adb:\r\n\r\n    adb install my_apk_file.apk\r\n\r\nAnd once inside an adb shell, you can launch an APK application using the `am` command.  See https://stackoverflow.com/questions/4567904/how-to-start-an-application-using-android-adb-tools\r\n\r\nBut I don&#39;t think there&#39;s a way to directly run a jar file the way you can do so on a desktop operating system, because Android doesn&#39;t use the standard Java VM.\r\n\r\nI think you would need to embed your .jar file inside a minimal Android application that invokes the jar and prints results to stdout.  Then you would build that APK and install/run it as I described above.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4567904/how-to-start-an-application-using-android-adb-tools","title":"Running an executable jar in android","body":"<p>You can install an app built as an APK through adb:</p>\n\n<pre><code>adb install my_apk_file.apk\n</code></pre>\n\n<p>And once inside an adb shell, you can launch an APK application using the <code>am</code> command.  See <a href=\"https://stackoverflow.com/questions/4567904/how-to-start-an-application-using-android-adb-tools\">How to start an application using android ADB tools?</a></p>\n\n<p>But I don't think there's a way to directly run a jar file the way you can do so on a desktop operating system, because Android doesn't use the standard Java VM.</p>\n\n<p>I think you would need to embed your .jar file inside a minimal Android application that invokes the jar and prints results to stdout.  Then you would build that APK and install/run it as I described above.</p>\n"},{"tags":[],"owner":{"account_id":1091078,"reputation":3872,"user_id":1085703,"accept_rate":48,"display_name":"dendini"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1369729100,"creation_date":1369729100,"answer_id":16787145,"question_id":12905012,"body_markdown":"The only problem with running a jar inside Android is the JVM which under Android is a Dalvik VM which cannot run JSE compiled java programs.\r\n\r\nYou can however use JBed which runs a whole JSE JVM under Android: [http://jbed.en.malavida.com/android/][1]\r\n\r\n\r\n  [1]: http://jbed.en.malavida.com/android/","title":"Running an executable jar in android","body":"<p>The only problem with running a jar inside Android is the JVM which under Android is a Dalvik VM which cannot run JSE compiled java programs.</p>\n\n<p>You can however use JBed which runs a whole JSE JVM under Android: <a href=\"http://jbed.en.malavida.com/android/\" rel=\"nofollow\">http://jbed.en.malavida.com/android/</a></p>\n"},{"tags":[],"owner":{"account_id":9020055,"reputation":311,"user_id":6721443,"display_name":"Alexander Hartmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554158061,"creation_date":1554158061,"answer_id":55464507,"question_id":12905012,"body_markdown":"&gt; is it possible to run an executable jar file (command line based) in\r\n&gt; android?\r\n\r\npossible, check &quot;adb shell input&quot; shellscript -&gt; &quot;exec app_process&quot;\r\n\r\n    shell@flo:/ $ ls -l /system/bin/input                                          \r\n    -rwxr-xr-x root     shell         203 2015-11-10 01:44 input\r\n\r\nhttps://android.googlesource.com/platform/frameworks/base/+/oreo-release/cmds/input/input\r\n\r\n    # Script to start &quot;input&quot; on the device, which has a very rudimentary\r\n    # shell.\r\n    #\r\n    base=/system\r\n    export CLASSPATH=$base/framework/input.jar\r\n    exec app_process $base/bin com.android.commands.input.Input &quot;$@&quot;","title":"Running an executable jar in android","body":"<blockquote>\n  <p>is it possible to run an executable jar file (command line based) in\n  android?</p>\n</blockquote>\n\n<p>possible, check \"adb shell input\" shellscript -> \"exec app_process\"</p>\n\n<pre><code>shell@flo:/ $ ls -l /system/bin/input                                          \n-rwxr-xr-x root     shell         203 2015-11-10 01:44 input\n</code></pre>\n\n<p><a href=\"https://android.googlesource.com/platform/frameworks/base/+/oreo-release/cmds/input/input\" rel=\"noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/oreo-release/cmds/input/input</a></p>\n\n<pre><code># Script to start \"input\" on the device, which has a very rudimentary\n# shell.\n#\nbase=/system\nexport CLASSPATH=$base/framework/input.jar\nexec app_process $base/bin com.android.commands.input.Input \"$@\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14296159,"reputation":389,"user_id":10326781,"display_name":"Saptarshi das"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1606742635,"creation_date":1606716158,"answer_id":65068782,"question_id":12905012,"body_markdown":"You cannot directly run `jar files` in android as android runs on `Dalvik Virtual Machine`, whereas to run jar files you will need `Java Runtime Environment` which has `Java Virtual Machine`.\r\n\r\n**Note: You will need root access and a file manager with root access:**\r\n&lt;br&gt;\r\nBut you can run it, for that you have to install an application `Jbed.apk` and copy `lib` `jbed.so` to your `system\\lib` folder. Then you can run jar/jad files from the application on your android device.\r\n\r\nHere&#39;s the link to jbed: [http://jbed.en.malavida.com/android/][1]\r\n\r\n*Read the full post here on XDA Developers:*\r\n[XDA Developers, Run jar/jad on Android][2]\r\n\r\n\r\nThere are few posts which claims that there are ways to convert jar to apk, I haven&#39;t tried it myself:\r\n[jar to apk][3]\r\nIf it doesn&#39;t works you may need to use an emulator:\r\n\r\n\r\n  [1]: http://jbed.en.malavida.com/android/\r\n  [2]: https://forum.xda-developers.com/showthread.php?t=2325619\r\n  [3]: http://www.netmite.com/android/srv/1.7/getapk.php","title":"Running an executable jar in android","body":"<p>You cannot directly run <code>jar files</code> in android as android runs on <code>Dalvik Virtual Machine</code>, whereas to run jar files you will need <code>Java Runtime Environment</code> which has <code>Java Virtual Machine</code>.</p>\n<p><strong>Note: You will need root access and a file manager with root access:</strong>\n<br>\nBut you can run it, for that you have to install an application <code>Jbed.apk</code> and copy <code>lib</code> <code>jbed.so</code> to your <code>system\\lib</code> folder. Then you can run jar/jad files from the application on your android device.</p>\n<p>Here's the link to jbed: <a href=\"http://jbed.en.malavida.com/android/\" rel=\"nofollow noreferrer\">http://jbed.en.malavida.com/android/</a></p>\n<p><em>Read the full post here on XDA Developers:</em>\n<a href=\"https://forum.xda-developers.com/showthread.php?t=2325619\" rel=\"nofollow noreferrer\">XDA Developers, Run jar/jad on Android</a></p>\n<p>There are few posts which claims that there are ways to convert jar to apk, I haven't tried it myself:\n<a href=\"http://www.netmite.com/android/srv/1.7/getapk.php\" rel=\"nofollow noreferrer\">jar to apk</a>\nIf it doesn't works you may need to use an emulator:</p>\n"},{"tags":[],"owner":{"account_id":27707135,"reputation":19,"user_id":21150530,"display_name":"ABC ABC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688478551,"creation_date":1688478551,"answer_id":76613319,"question_id":12905012,"body_markdown":"use termux. it is a free android app, which emulate an linux terminal so u can install java there like in linux\r\n\r\n``\r\napt install java\r\n``\r\n\r\nhttps://termux.dev/en/","title":"Running an executable jar in android","body":"<p>use termux. it is a free android app, which emulate an linux terminal so u can install java there like in linux</p>\n<p><code>apt install java</code></p>\n<p><a href=\"https://termux.dev/en/\" rel=\"nofollow noreferrer\">https://termux.dev/en/</a></p>\n"},{"tags":[],"owner":{"account_id":2464285,"reputation":1,"user_id":2147737,"display_name":"oldcwj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689818885,"creation_date":1689818885,"answer_id":76726231,"question_id":12905012,"body_markdown":"you can install the app which called java runtime, you can search it on the googleplay","title":"Running an executable jar in android","body":"<p>you can install the app which called java runtime, you can search it on the googleplay</p>\n"}],"owner":{"account_id":1191863,"reputation":4884,"user_id":1164435,"accept_rate":64,"display_name":"P basak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82936,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"accepted_answer_id":12905132,"answer_count":7,"score":16,"last_activity_date":1689818885,"creation_date":1350340710,"question_id":12905012,"body_markdown":"is it possible to run an executable jar file (command line based) in android?\r\none of my friend told me that it is possible to run executables written in C. Is it possible for java too? I will run the tool through adb shell.","title":"Running an executable jar in android","body":"<p>is it possible to run an executable jar file (command line based) in android?\none of my friend told me that it is possible to run executables written in C. Is it possible for java too? I will run the tool through adb shell.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1689800432,"post_id":76725139,"comment_id":135266682,"body_markdown":"Your first interface is akin to a `Function&lt;T&gt;` that permits `throws Exception`. Your first usage is more akin to a `Supplier&lt;T&gt;`, whereas the second seems to be a simple `Runnable` if you omit `return null;` (both with the addendum of supporting `throws Exception`). Overall, I would make new functional interfaces of those (almost 1:1, with `throws Exception` added in). Bonus points for more narrow exception handling, e.g. `SQLFunction&lt;T&gt; { public T accept(T input) throws SQLException; }`.","body":"Your first interface is akin to a <code>Function&lt;T&gt;</code> that permits <code>throws Exception</code>. Your first usage is more akin to a <code>Supplier&lt;T&gt;</code>, whereas the second seems to be a simple <code>Runnable</code> if you omit <code>return null;</code> (both with the addendum of supporting <code>throws Exception</code>). Overall, I would make new functional interfaces of those (almost 1:1, with <code>throws Exception</code> added in). Bonus points for more narrow exception handling, e.g. <code>SQLFunction&lt;T&gt; { public T accept(T input) throws SQLException; }</code>."},{"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"score":0,"creation_date":1689810452,"post_id":76725139,"comment_id":135267810,"body_markdown":"@Rogue any chance you could provide an example of the &quot; simple Runnable&quot; you suggest? I tried messing around with return types and returns and could never get a signature that matched the 2nd example; the error message never changed.  As for the exception handling, I&#39;m trying to keep the example bare bones/generic.","body":"@Rogue any chance you could provide an example of the &quot; simple Runnable&quot; you suggest? I tried messing around with return types and returns and could never get a signature that matched the 2nd example; the error message never changed.  As for the exception handling, I&#39;m trying to keep the example bare bones/generic."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1689862681,"post_id":76725139,"comment_id":135275945,"body_markdown":"A `Runnable` in lambda form is `() -&gt; { ... };` (no return value), from its original method of `void run();`. So in keeping our &quot;narrow&quot; example for an interface we can create, an `SQLRunnable` would have a functional interface signature of `void run() throws SQLException;`. The method signature of the functional interface you expect, and the lambdas you can assign are 1:1 equivalent. Think of a lambda like a shorthand for the method in the functional interface, which you could implement as an anonymous subclass anyhow (`myMethod(new Runnable() { void run() { ... } });`)","body":"A <code>Runnable</code> in lambda form is <code>() -&gt; { ... };</code> (no return value), from its original method of <code>void run();</code>. So in keeping our &quot;narrow&quot; example for an interface we can create, an <code>SQLRunnable</code> would have a functional interface signature of <code>void run() throws SQLException;</code>. The method signature of the functional interface you expect, and the lambdas you can assign are 1:1 equivalent. Think of a lambda like a shorthand for the method in the functional interface, which you could implement as an anonymous subclass anyhow (<code>myMethod(new Runnable() { void run() { ... } });</code>)"}],"answers":[{"comments":[{"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"score":0,"creation_date":1689915381,"post_id":76726196,"comment_id":135283388,"body_markdown":"Thank you! that works. I had to puzzle out a few details I didn&#39;t understand about lambda syntax here. The major realization is that I should have 2 separate files for the functional interfaces and then a single 3rd class with two static definitions the method e, each of which took one of those functional interfaces. before I was trying to make a single functional interface do all the work, and I now see why that was wrong!","body":"Thank you! that works. I had to puzzle out a few details I didn&#39;t understand about lambda syntax here. The major realization is that I should have 2 separate files for the functional interfaces and then a single 3rd class with two static definitions the method e, each of which took one of those functional interfaces. before I was trying to make a single functional interface do all the work, and I now see why that was wrong!"}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689818176,"creation_date":1689818176,"answer_id":76726196,"question_id":76725139,"body_markdown":"First of all, there is already `Callable` interface in java which covers non-void case:\r\n\r\n    @FunctionalInterface\r\n    public interface Callable&lt;V&gt; {\r\n        V call() throws Exception;\r\n    }\r\n\r\nYou can define your own, that&#39;s also OK.\r\nIn order to cover 2nd case you have to declare a separate void interface anyway:\r\n\r\n    @FunctionalInterface\r\n    interface VoidCallable {\r\n        void call() throws Exception;\r\n    }\r\n\r\nThen the easiest way is to define separate `e` functions\r\n\r\n        public static void e(VoidCallable voidCallable) {\r\n            e(() -&gt; {\r\n                voidCallable.call();\r\n                return null;\r\n            });\r\n        }\r\n\r\n        public static &lt;T&gt; T e(Callable&lt;T&gt; runtime) {\r\n            try {\r\n                return runtime.call();\r\n            } catch (Exception exception) {\r\n                AlanActivity.me.get().ToastE(exception);\r\n                throw new RuntimeException(exception);\r\n            }\r\n        }\r\n\r\nInstead of first one you can write an analog of `e`: \r\n\r\n    public static void e(VoidCallable runtime) {\r\n        try {\r\n            runtime.call();\r\n        } catch (Exception exception) {\r\n            AlanActivity.me.get().ToastE(exception);\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n\r\n","title":"Java lambda error: inference variable T#1 has incompatible bounds. lower bounds: Object. lower bounds: void","body":"<p>First of all, there is already <code>Callable</code> interface in java which covers non-void case:</p>\n<pre><code>@FunctionalInterface\npublic interface Callable&lt;V&gt; {\n    V call() throws Exception;\n}\n</code></pre>\n<p>You can define your own, that's also OK.\nIn order to cover 2nd case you have to declare a separate void interface anyway:</p>\n<pre><code>@FunctionalInterface\ninterface VoidCallable {\n    void call() throws Exception;\n}\n</code></pre>\n<p>Then the easiest way is to define separate <code>e</code> functions</p>\n<pre><code>    public static void e(VoidCallable voidCallable) {\n        e(() -&gt; {\n            voidCallable.call();\n            return null;\n        });\n    }\n\n    public static &lt;T&gt; T e(Callable&lt;T&gt; runtime) {\n        try {\n            return runtime.call();\n        } catch (Exception exception) {\n            AlanActivity.me.get().ToastE(exception);\n            throw new RuntimeException(exception);\n        }\n    }\n</code></pre>\n<p>Instead of first one you can write an analog of <code>e</code>:</p>\n<pre><code>public static void e(VoidCallable runtime) {\n    try {\n        runtime.call();\n    } catch (Exception exception) {\n        AlanActivity.me.get().ToastE(exception);\n        throw new RuntimeException(exception);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76726196,"answer_count":1,"score":0,"last_activity_date":1689818176,"creation_date":1689800101,"question_id":76725139,"body_markdown":"I&#39;m getting this incomprehensible error when I try to use a lambda statement that doesn&#39;t return anything (the same code works when the code has a return value).\r\n\r\n    error: method e in interface mkRunTime&lt;T#2&gt; cannot be applied to given types;\r\n    \t\tmkRunTime.e(() -&gt; p.store(new FileWriter(fname), &quot;Bookmarks&quot;) );\r\n    \t\t         ^\r\n      required: mkRunTime&lt;T#1&gt;\r\n      found: ()-&gt;p.stor[...]e2)&quot;)\r\n      reason: inference variable T#1 has incompatible bounds\r\n        lower bounds: Object\r\n        lower bounds: void\r\n      where T#1,T#2 are type-variables:\r\n        T#1 extends Object declared in method &lt;T#1&gt;e(mkRunTime&lt;T#1&gt;)\r\n        T#2 extends Object declared in interface mkRunTime\r\n\r\nHere&#39;s mkRunTime&#39;s definition:\r\n\r\n    @FunctionalInterface\r\n    public interface mkRunTime&lt;T&gt; {\r\n      T execute() throws Exception;\r\n    \r\n      public static &lt;T&gt; T e(mkRunTime&lt;T&gt; runtime) {\r\n        try {\r\n          runtime.execute(); return null;\r\n        } catch (Exception exception) {\r\n          AlanActivity.me.get().ToastE(exception);\r\n          throw new RuntimeException(exception);\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\np.store(...) has a void return type. An example where there&#39;s no error:\r\n\r\n    stream = mkRunTime.e(() -&gt; new FileInputStream(filename));\r\n\r\nit&#39;s clearly related to the lack of return: if I use a code block with a null return the code works:\r\n\r\n    mkRunTime.e(() -&gt; {p.store(new FileWriter(fname), &quot;Bookmarks); return null; });\r\n\r\nIs there a way to make a single interface that handles both cases? if not, what interface definition do I need to handle a void return type?\r\n","title":"Java lambda error: inference variable T#1 has incompatible bounds. lower bounds: Object. lower bounds: void","body":"<p>I'm getting this incomprehensible error when I try to use a lambda statement that doesn't return anything (the same code works when the code has a return value).</p>\n<pre><code>error: method e in interface mkRunTime&lt;T#2&gt; cannot be applied to given types;\n        mkRunTime.e(() -&gt; p.store(new FileWriter(fname), &quot;Bookmarks&quot;) );\n                 ^\n  required: mkRunTime&lt;T#1&gt;\n  found: ()-&gt;p.stor[...]e2)&quot;)\n  reason: inference variable T#1 has incompatible bounds\n    lower bounds: Object\n    lower bounds: void\n  where T#1,T#2 are type-variables:\n    T#1 extends Object declared in method &lt;T#1&gt;e(mkRunTime&lt;T#1&gt;)\n    T#2 extends Object declared in interface mkRunTime\n</code></pre>\n<p>Here's mkRunTime's definition:</p>\n<pre><code>@FunctionalInterface\npublic interface mkRunTime&lt;T&gt; {\n  T execute() throws Exception;\n\n  public static &lt;T&gt; T e(mkRunTime&lt;T&gt; runtime) {\n    try {\n      runtime.execute(); return null;\n    } catch (Exception exception) {\n      AlanActivity.me.get().ToastE(exception);\n      throw new RuntimeException(exception);\n    }\n  }\n\n}\n</code></pre>\n<p>p.store(...) has a void return type. An example where there's no error:</p>\n<pre><code>stream = mkRunTime.e(() -&gt; new FileInputStream(filename));\n</code></pre>\n<p>it's clearly related to the lack of return: if I use a code block with a null return the code works:</p>\n<pre><code>mkRunTime.e(() -&gt; {p.store(new FileWriter(fname), &quot;Bookmarks); return null; });\n</code></pre>\n<p>Is there a way to make a single interface that handles both cases? if not, what interface definition do I need to handle a void return type?</p>\n"},{"tags":["java","snmp","snmp4j"],"answers":[{"tags":[],"owner":{"account_id":29053111,"reputation":1,"user_id":22255446,"display_name":"li.py"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689817383,"creation_date":1689817383,"answer_id":76726168,"question_id":64152178,"body_markdown":"        TransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\r\n        Snmp snmp = new Snmp(transport);\r\n        USM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\r\n        SecurityModels.getInstance().addSecurityModel(usm);\r\n        // add user to the USM\r\n        snmp.getUSM().addUser(new OctetString(userName), new UsmUser(new OctetString(userName), authProtocol,\r\n                new OctetString(authPassphrase), privProtocol, new OctetString(privPassphrase)));\r\n\r\nthese codes should be modified:\r\n\r\n    TransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\r\n    Snmp snmp = new Snmp(new MessageDispatcherImpl(), transport);\r\n    SecurityProtocols.getInstance().addDefaultProtocols();\r\n    USM usm = new USM(SecurityProtocols.getInstance(), new \r\n    OctetString(MPv3.createLocalEngineID()), 0);\r\n    SecurityModels.getInstance().addSecurityModel(usm);\r\n    usm.addUser(new OctetString(userName), new UsmUser(new OctetString(userName),authProtocol,new OctetString(authPassphrase), privProtocol,new OctetString(privPassphrase)));\r\n    MPv3 mPv3 = new MPv3(usm);\r\n    snmp.getMessageDispatcher().addMessageProcessingModel(mPv3);","title":"Regarding snmp v3 request in multithreaded environment via snmp4j java library","body":"<pre><code>    TransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\n    Snmp snmp = new Snmp(transport);\n    USM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\n    SecurityModels.getInstance().addSecurityModel(usm);\n    // add user to the USM\n    snmp.getUSM().addUser(new OctetString(userName), new UsmUser(new OctetString(userName), authProtocol,\n            new OctetString(authPassphrase), privProtocol, new OctetString(privPassphrase)));\n</code></pre>\n<p>these codes should be modified:</p>\n<pre><code>TransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\nSnmp snmp = new Snmp(new MessageDispatcherImpl(), transport);\nSecurityProtocols.getInstance().addDefaultProtocols();\nUSM usm = new USM(SecurityProtocols.getInstance(), new \nOctetString(MPv3.createLocalEngineID()), 0);\nSecurityModels.getInstance().addSecurityModel(usm);\nusm.addUser(new OctetString(userName), new UsmUser(new OctetString(userName),authProtocol,new OctetString(authPassphrase), privProtocol,new OctetString(privPassphrase)));\nMPv3 mPv3 = new MPv3(usm);\nsnmp.getMessageDispatcher().addMessageProcessingModel(mPv3);\n</code></pre>\n"}],"owner":{"account_id":1503113,"reputation":578,"user_id":1407114,"accept_rate":96,"display_name":"ashishgupta_mca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689817383,"creation_date":1601543063,"question_id":64152178,"body_markdown":"I am sending an SNMP v3 request via snmp4j java library to the first snmpv3 server and it works fine. Sending SNMP v3 requests via the snmp4j library to the second snmpv3 server also works fine. However, if I am sending to both servers from two different threads in the same program as below, one of them gives a null response\r\nas below:-\r\n\r\n203&gt; responsePDU == null :\r\n&gt; Error     : null\r\n&gt; Address     : null\r\n&gt; Source      : com.x.x.x.SnmpV2@755ca288). \r\n\r\nMy bet is that somehow below two lines might creating a mess since SecurityModels is a Singleton class.\r\n\r\n\tUSM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\r\n\t\tSecurityModels.getInstance().addSecurityModel(usm);\r\n\r\nBelow is the code:-\r\n\r\nAny experience with the snmp4j with v3 in a multithreaded environment...\r\n\r\n    import org.snmp4j.PDU;\r\n    import org.snmp4j.ScopedPDU;\r\n    import org.snmp4j.Snmp;\r\n    import org.snmp4j.TransportMapping;\r\n    import org.snmp4j.UserTarget;\r\n    import org.snmp4j.event.ResponseEvent;\r\n    import org.snmp4j.mp.MPv3;\r\n    import org.snmp4j.mp.SnmpConstants;\r\n    import org.snmp4j.security.AuthSHA;\r\n    import org.snmp4j.security.PrivAES128;\r\n    import org.snmp4j.security.SecurityLevel;\r\n    import org.snmp4j.security.SecurityModels;\r\n    import org.snmp4j.security.SecurityProtocols;\r\n    import org.snmp4j.security.USM;\r\n    import org.snmp4j.security.UsmUser;\r\n    import org.snmp4j.smi.GenericAddress;\r\n    import org.snmp4j.smi.OID;\r\n    import org.snmp4j.smi.OctetString;\r\n    import org.snmp4j.smi.UdpAddress;\r\n    import org.snmp4j.smi.VariableBinding;\r\n    import org.snmp4j.transport.DefaultUdpTransportMapping;\r\n    \r\n    public class MultiThreadedSnmpV3Request {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tMultiThreadedSnmpV3Request requests = new MultiThreadedSnmpV3Request();\r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\trequests.firstServerRequest();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\trequests.secondServerRequest();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \t}\r\n    \r\n    \tprivate void firstServerRequest() throws Exception {\r\n    \t\tString targetAddress = &quot;udp:10.99.220.203/161&quot;;\r\n    \t\tString userName = &quot;xxxx&quot;;\r\n    \t\tOID authProtocol = AuthSHA.ID;\r\n    \t\tString authPassphrase = &quot;f8T7wWXeJ6brNeNF&quot;;\r\n    \t\tOID privProtocol = PrivAES128.ID; // PrivAES256.ID;\r\n    \t\tString privPassphrase = &quot;KpbnkSJrP5Kgbhqb&quot;;\r\n    \r\n    \t\t// build a PDU with all the OIDs\r\n    \t\tUserTarget target = new UserTarget();\r\n    \t\ttarget.setTimeout(5000);\r\n    \t\ttarget.setVersion(SnmpConstants.version3);\r\n    \t\ttarget.setAddress(GenericAddress.parse(targetAddress));\r\n    \t\ttarget.setSecurityLevel(SecurityLevel.AUTH_PRIV);\r\n    \t\ttarget.setSecurityName(new OctetString(userName));\r\n    \r\n    \t\tTransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\r\n    \t\tSnmpV2 snmp = new SnmpV2(transport);\r\n    \t\tUSM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\r\n    \t\tSecurityModels.getInstance().addSecurityModel(usm);\r\n    \t\t// add user to the USM\r\n    \t\tsnmp.getUSM().addUser(new OctetString(userName), new UsmUser(new OctetString(userName), authProtocol,\r\n    \t\t\t\tnew OctetString(authPassphrase), privProtocol, new OctetString(privPassphrase)));\r\n    \r\n    \t\ttransport.listen();\r\n    \t\tScopedPDU requestPDU = new ScopedPDU();\r\n    \t\trequestPDU.add(new VariableBinding(new OID(&quot;1.3.6.1.4.1.2021.2.1.2.1&quot;)));\r\n    \t\trequestPDU.setType(PDU.GET);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 20; i++) {\r\n    \t\t\tThread.sleep(3000);\r\n    \t\t\tResponseEvent re = snmp.send(requestPDU, target);\r\n    \t\t\tPDU responsePDU = re.getResponse();\r\n    \t\t\tif (responsePDU == null) {\r\n    \t\t\t\tSystem.out.println(&quot;1st Server &gt; responsePDU == null :&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;&gt; Error     : &quot; + re.getError());\r\n    \t\t\t\tSystem.out.println(&quot;&gt; Address     : &quot; + re.getPeerAddress());\r\n    \t\t\t\tSystem.out.println(&quot;&gt; Source      : &quot; + re.getSource());\r\n    \t\t\t\tSystem.out.println(&quot;&gt; User object : &quot; + re.getUserObject());\r\n    \t\t\t} else if (responsePDU.getVariableBindings() != null) {\r\n    \t\t\t\tfor (VariableBinding vb : responsePDU.getVariableBindings()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;1st Server &gt;&gt; &quot; + vb.getOid() + &quot; --&gt; &quot; + vb.getVariable());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void secondServerRequest() throws Exception {\r\n    \t\tString targetAddress = &quot;udp:10.99.220.204/161&quot;;\r\n    \t\tString userName = &quot;xxxx&quot;;\r\n    \t\tOID authProtocol = AuthSHA.ID;\r\n    \t\tString authPassphrase = &quot;f8T7wWXeJ6brNeNF&quot;;\r\n    \t\tOID privProtocol = PrivAES128.ID; // PrivAES256.ID;\r\n    \t\tString privPassphrase = &quot;KpbnkSJrP5Kgbhqb&quot;;\r\n    \r\n    \t\tUserTarget target = new UserTarget();\r\n    \t\ttarget.setTimeout(5000);\r\n    \t\ttarget.setVersion(SnmpConstants.version3);\r\n    \t\ttarget.setAddress(GenericAddress.parse(targetAddress));\r\n    \t\ttarget.setSecurityLevel(SecurityLevel.AUTH_PRIV);\r\n    \t\ttarget.setSecurityName(new OctetString(userName));\r\n    \r\n    \t\tTransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\r\n    \t\tSnmp snmp = new Snmp(transport);\r\n    \t\tUSM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\r\n    \t\tSecurityModels.getInstance().addSecurityModel(usm);\r\n    \t\t// add user to the USM\r\n    \t\tsnmp.getUSM().addUser(new OctetString(userName), new UsmUser(new OctetString(userName), authProtocol,\r\n    \t\t\t\tnew OctetString(authPassphrase), privProtocol, new OctetString(privPassphrase)));\r\n    \r\n    \t\ttransport.listen();\r\n    \r\n    \t\tScopedPDU requestPDU = new ScopedPDU();\r\n    \t\trequestPDU.add(new VariableBinding(new OID(&quot;1.3.6.1.4.1.2021.2.1.2.1&quot;)));\r\n    \t\trequestPDU.setType(PDU.GET);\r\n    \t\tfor (int i = 0; i &lt; 20; i++) {\r\n    \t\t\tThread.sleep(3000);\r\n    \t\t\tResponseEvent re = snmp.send(requestPDU, target);\r\n    \t\t\tPDU responsePDU = re.getResponse();\r\n    \t\t\tif (responsePDU == null) {\r\n    \t\t\t\tSystem.out.println(&quot;2nd Server&gt; responsePDU == null :&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;&gt; Error     : &quot; + re.getError());\r\n    \t\t\t\tSystem.out.println(&quot;&gt; Address     : &quot; + re.getPeerAddress());\r\n    \t\t\t\tSystem.out.println(&quot;&gt; Source      : &quot; + re.getSource());\r\n    \t\t\t\tSystem.out.println(&quot;&gt; User object : &quot; + re.getUserObject());\r\n    \t\t\t} else if (responsePDU.getVariableBindings() != null) {\r\n    \t\t\t\tfor (VariableBinding vb : responsePDU.getVariableBindings()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;2nd Server &gt;&gt; &quot; + vb.getOid() + &quot; --&gt; &quot; + vb.getVariable());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Regarding snmp v3 request in multithreaded environment via snmp4j java library","body":"<p>I am sending an SNMP v3 request via snmp4j java library to the first snmpv3 server and it works fine. Sending SNMP v3 requests via the snmp4j library to the second snmpv3 server also works fine. However, if I am sending to both servers from two different threads in the same program as below, one of them gives a null response\nas below:-</p>\n<p>203&gt; responsePDU == null :</p>\n<blockquote>\n<p>Error     : null\nAddress     : null\nSource      : com.x.x.x.SnmpV2@755ca288).</p>\n</blockquote>\n<p>My bet is that somehow below two lines might creating a mess since SecurityModels is a Singleton class.</p>\n<pre><code>USM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\n    SecurityModels.getInstance().addSecurityModel(usm);\n</code></pre>\n<p>Below is the code:-</p>\n<p>Any experience with the snmp4j with v3 in a multithreaded environment...</p>\n<pre><code>import org.snmp4j.PDU;\nimport org.snmp4j.ScopedPDU;\nimport org.snmp4j.Snmp;\nimport org.snmp4j.TransportMapping;\nimport org.snmp4j.UserTarget;\nimport org.snmp4j.event.ResponseEvent;\nimport org.snmp4j.mp.MPv3;\nimport org.snmp4j.mp.SnmpConstants;\nimport org.snmp4j.security.AuthSHA;\nimport org.snmp4j.security.PrivAES128;\nimport org.snmp4j.security.SecurityLevel;\nimport org.snmp4j.security.SecurityModels;\nimport org.snmp4j.security.SecurityProtocols;\nimport org.snmp4j.security.USM;\nimport org.snmp4j.security.UsmUser;\nimport org.snmp4j.smi.GenericAddress;\nimport org.snmp4j.smi.OID;\nimport org.snmp4j.smi.OctetString;\nimport org.snmp4j.smi.UdpAddress;\nimport org.snmp4j.smi.VariableBinding;\nimport org.snmp4j.transport.DefaultUdpTransportMapping;\n\npublic class MultiThreadedSnmpV3Request {\n    public static void main(String[] args) throws Exception {\n        MultiThreadedSnmpV3Request requests = new MultiThreadedSnmpV3Request();\n        new Thread(() -&gt; {\n            try {\n                requests.firstServerRequest();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }).start();\n\n        new Thread(() -&gt; {\n            try {\n                requests.secondServerRequest();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n\n    private void firstServerRequest() throws Exception {\n        String targetAddress = &quot;udp:10.99.220.203/161&quot;;\n        String userName = &quot;xxxx&quot;;\n        OID authProtocol = AuthSHA.ID;\n        String authPassphrase = &quot;f8T7wWXeJ6brNeNF&quot;;\n        OID privProtocol = PrivAES128.ID; // PrivAES256.ID;\n        String privPassphrase = &quot;KpbnkSJrP5Kgbhqb&quot;;\n\n        // build a PDU with all the OIDs\n        UserTarget target = new UserTarget();\n        target.setTimeout(5000);\n        target.setVersion(SnmpConstants.version3);\n        target.setAddress(GenericAddress.parse(targetAddress));\n        target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\n        target.setSecurityName(new OctetString(userName));\n\n        TransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\n        SnmpV2 snmp = new SnmpV2(transport);\n        USM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\n        SecurityModels.getInstance().addSecurityModel(usm);\n        // add user to the USM\n        snmp.getUSM().addUser(new OctetString(userName), new UsmUser(new OctetString(userName), authProtocol,\n                new OctetString(authPassphrase), privProtocol, new OctetString(privPassphrase)));\n\n        transport.listen();\n        ScopedPDU requestPDU = new ScopedPDU();\n        requestPDU.add(new VariableBinding(new OID(&quot;1.3.6.1.4.1.2021.2.1.2.1&quot;)));\n        requestPDU.setType(PDU.GET);\n\n        for (int i = 0; i &lt; 20; i++) {\n            Thread.sleep(3000);\n            ResponseEvent re = snmp.send(requestPDU, target);\n            PDU responsePDU = re.getResponse();\n            if (responsePDU == null) {\n                System.out.println(&quot;1st Server &gt; responsePDU == null :&quot;);\n                System.out.println(&quot;&gt; Error     : &quot; + re.getError());\n                System.out.println(&quot;&gt; Address     : &quot; + re.getPeerAddress());\n                System.out.println(&quot;&gt; Source      : &quot; + re.getSource());\n                System.out.println(&quot;&gt; User object : &quot; + re.getUserObject());\n            } else if (responsePDU.getVariableBindings() != null) {\n                for (VariableBinding vb : responsePDU.getVariableBindings()) {\n                    System.out.println(&quot;1st Server &gt;&gt; &quot; + vb.getOid() + &quot; --&gt; &quot; + vb.getVariable());\n                }\n            }\n        }\n    }\n\n    private void secondServerRequest() throws Exception {\n        String targetAddress = &quot;udp:10.99.220.204/161&quot;;\n        String userName = &quot;xxxx&quot;;\n        OID authProtocol = AuthSHA.ID;\n        String authPassphrase = &quot;f8T7wWXeJ6brNeNF&quot;;\n        OID privProtocol = PrivAES128.ID; // PrivAES256.ID;\n        String privPassphrase = &quot;KpbnkSJrP5Kgbhqb&quot;;\n\n        UserTarget target = new UserTarget();\n        target.setTimeout(5000);\n        target.setVersion(SnmpConstants.version3);\n        target.setAddress(GenericAddress.parse(targetAddress));\n        target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\n        target.setSecurityName(new OctetString(userName));\n\n        TransportMapping&lt;UdpAddress&gt; transport = new DefaultUdpTransportMapping();\n        Snmp snmp = new Snmp(transport);\n        USM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID()), 0);\n        SecurityModels.getInstance().addSecurityModel(usm);\n        // add user to the USM\n        snmp.getUSM().addUser(new OctetString(userName), new UsmUser(new OctetString(userName), authProtocol,\n                new OctetString(authPassphrase), privProtocol, new OctetString(privPassphrase)));\n\n        transport.listen();\n\n        ScopedPDU requestPDU = new ScopedPDU();\n        requestPDU.add(new VariableBinding(new OID(&quot;1.3.6.1.4.1.2021.2.1.2.1&quot;)));\n        requestPDU.setType(PDU.GET);\n        for (int i = 0; i &lt; 20; i++) {\n            Thread.sleep(3000);\n            ResponseEvent re = snmp.send(requestPDU, target);\n            PDU responsePDU = re.getResponse();\n            if (responsePDU == null) {\n                System.out.println(&quot;2nd Server&gt; responsePDU == null :&quot;);\n                System.out.println(&quot;&gt; Error     : &quot; + re.getError());\n                System.out.println(&quot;&gt; Address     : &quot; + re.getPeerAddress());\n                System.out.println(&quot;&gt; Source      : &quot; + re.getSource());\n                System.out.println(&quot;&gt; User object : &quot; + re.getUserObject());\n            } else if (responsePDU.getVariableBindings() != null) {\n                for (VariableBinding vb : responsePDU.getVariableBindings()) {\n                    System.out.println(&quot;2nd Server &gt;&gt; &quot; + vb.getOid() + &quot; --&gt; &quot; + vb.getVariable());\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","google-maps","google-maps-api-3"],"answers":[{"tags":[],"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689816290,"creation_date":1689816290,"answer_id":76726113,"question_id":76695673,"body_markdown":"No plans of adding `Fuel Prices` data in Places API at the moment\r\n-------------------\r\n\r\nFirst of all, Google Maps (App) and Google Maps (API) are different platforms, so we should set our expectation that they have different features and functionalities.\r\n\r\nNow with regards to adding **Fuel Prices** data in **Places API**, there was a **Feature Request** filed 3 years ago (July, 2020) in relation to this and you can see it here in this link: \r\n\r\nhttps://issuetracker.google.com/issues/162155201\r\n\r\nPlease note that the Issue Tracker entry above is the authoritative source for public information regarding the aforementioned issue, and all publicly-relevant updates is posted there.\r\n\r\nWith that said, it looks like Google has no plans at the moment in adding this feature to the Places API, since they marked it as ***Won&#39;t Fix (Infeasible)*** and said this:\r\n\r\n&gt; We have reviewed your request and we don&#39;t have plans to implement\r\n&gt; this feature for Places API at the moment. Please do note that Places\r\n&gt; API aims to provide common details for the different supported\r\n&gt; `place_types` and not specific to `gas_stations` only.\r\n\r\nIf you are  still interested with this feature, you can just upvote the Feature Request in the link I provided and comment there your use case to help with reconsideration.\r\n\r\nI hope this information helped!","title":"Fetching fuel price from google map","body":"<h2>No plans of adding <code>Fuel Prices</code> data in Places API at the moment</h2>\n<p>First of all, Google Maps (App) and Google Maps (API) are different platforms, so we should set our expectation that they have different features and functionalities.</p>\n<p>Now with regards to adding <strong>Fuel Prices</strong> data in <strong>Places API</strong>, there was a <strong>Feature Request</strong> filed 3 years ago (July, 2020) in relation to this and you can see it here in this link:</p>\n<p><a href=\"https://issuetracker.google.com/issues/162155201\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/162155201</a></p>\n<p>Please note that the Issue Tracker entry above is the authoritative source for public information regarding the aforementioned issue, and all publicly-relevant updates is posted there.</p>\n<p>With that said, it looks like Google has no plans at the moment in adding this feature to the Places API, since they marked it as <em><strong>Won't Fix (Infeasible)</strong></em> and said this:</p>\n<blockquote>\n<p>We have reviewed your request and we don't have plans to implement\nthis feature for Places API at the moment. Please do note that Places\nAPI aims to provide common details for the different supported\n<code>place_types</code> and not specific to <code>gas_stations</code> only.</p>\n</blockquote>\n<p>If you are  still interested with this feature, you can just upvote the Feature Request in the link I provided and comment there your use case to help with reconsideration.</p>\n<p>I hope this information helped!</p>\n"}],"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76726113,"answer_count":1,"score":-1,"last_activity_date":1689816290,"creation_date":1689452982,"question_id":76695673,"body_markdown":"I am trying to retrieve fuel prices from all nearby stations. I am using `PlacesApi`. While it retrieves all the station information like location, address, ratings, etc it doesn&#39;t return the fuel price info. After a bit of searching I found that map api doesn&#39;t return fuel api. Is there any work around to get this info? \r\n\r\nThis is what I have implemented so far.\r\n\r\n    List&lt;PlaceDetails&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    GeocodingResult[] geocodingResults = new GeocodingResult[0];\r\n    try {\r\n        geocodingResults = GeocodingApi.geocode(context,&quot;Dallas&quot;).await();\r\n        if (geocodingResults.length &gt; 0) {\r\n            LatLng location = geocodingResults[0].geometry.location;\r\n    \r\n            // Perform the Places API request to get the gas stations in Dallas\r\n            PlacesSearchResponse searchResponse = PlacesApi.nearbySearchQuery(context, location)\r\n                    .radius(20000) // Specify the search radius in meters (adjust as needed)\r\n                    .type(PlaceType.GAS_STATION) // Search for gas stations\r\n                    .await();\r\n    \r\n    \r\n            // Iterate through the results and print the gas station names\r\n            for (PlacesSearchResult result : searchResponse.results) {\r\n                PlaceDetails placeDetails = PlacesApi.placeDetails(context, result.placeId).awaitIgnoreError();\r\n                list.add(placeDetails);\r\n                System.out.println(result.name);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Unable to geocode Dallas.&quot;);\r\n        }\r\n    \r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\nThe `placeDetails` obj contains all the info except fuel info.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vANBQ.png","title":"Fetching fuel price from google map","body":"<p>I am trying to retrieve fuel prices from all nearby stations. I am using <code>PlacesApi</code>. While it retrieves all the station information like location, address, ratings, etc it doesn't return the fuel price info. After a bit of searching I found that map api doesn't return fuel api. Is there any work around to get this info?</p>\n<p>This is what I have implemented so far.</p>\n<pre><code>List&lt;PlaceDetails&gt; list = new ArrayList&lt;&gt;();\n\nGeocodingResult[] geocodingResults = new GeocodingResult[0];\ntry {\n    geocodingResults = GeocodingApi.geocode(context,&quot;Dallas&quot;).await();\n    if (geocodingResults.length &gt; 0) {\n        LatLng location = geocodingResults[0].geometry.location;\n\n        // Perform the Places API request to get the gas stations in Dallas\n        PlacesSearchResponse searchResponse = PlacesApi.nearbySearchQuery(context, location)\n                .radius(20000) // Specify the search radius in meters (adjust as needed)\n                .type(PlaceType.GAS_STATION) // Search for gas stations\n                .await();\n\n\n        // Iterate through the results and print the gas station names\n        for (PlacesSearchResult result : searchResponse.results) {\n            PlaceDetails placeDetails = PlacesApi.placeDetails(context, result.placeId).awaitIgnoreError();\n            list.add(placeDetails);\n            System.out.println(result.name);\n        }\n    } else {\n        System.out.println(&quot;Unable to geocode Dallas.&quot;);\n    }\n\n} catch (Exception e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>The <code>placeDetails</code> obj contains all the info except fuel info.</p>\n<p><a href=\"https://i.stack.imgur.com/vANBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vANBQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","arraylist","stream","char"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1687342541,"post_id":76522155,"comment_id":134922400,"body_markdown":"You don&#39;t need the list with all words for that. You have the drawn word in a variable - `randomWords `, just use indexOf on it.","body":"You don&#39;t need the list with all words for that. You have the drawn word in a variable - <code>randomWords </code>, just use indexOf on it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687342567,"post_id":76522155,"comment_id":134922409,"body_markdown":"Streams are not really what you&#39;re looking for as you want indexes, and streams are not really good at those. Scan the &#39;answer&#39; against the user&#39;s choice and add to a `List` the indices where the player was correct. You can then reveal the correct letter at those indices","body":"Streams are not really what you&#39;re looking for as you want indexes, and streams are not really good at those. Scan the &#39;answer&#39; against the user&#39;s choice and add to a <code>List</code> the indices where the player was correct. You can then reveal the correct letter at those indices"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687399377,"post_id":76522155,"comment_id":134932519,"body_markdown":"It seems correct, so far.  Now check _randomWords_ against _pChoice_.  Start with the _contains_ method, and if _true_, traverse each letter to find the indices.","body":"It seems correct, so far.  Now check <i>randomWords</i> against <i>pChoice</i>.  Start with the <i>contains</i> method, and if <i>true</i>, traverse each letter to find the indices."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687419935,"post_id":76522155,"comment_id":134934932,"body_markdown":"That would then be a *double* iteration potentially. Only *one* needed","body":"That would then be a <i>double</i> iteration potentially. Only <i>one</i> needed"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687566978,"post_id":76522155,"comment_id":134959813,"body_markdown":"Possibly of interest: [A brief hangman implementation](https://stackoverflow.com/a/22269413/256196)","body":"Possibly of interest: <a href=\"https://stackoverflow.com/a/22269413/256196\">A brief hangman implementation</a>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687565514,"creation_date":1687563937,"answer_id":76544007,"question_id":76522155,"body_markdown":"&gt; _&quot;... Do I need to use a stream for this? ...&quot;_\r\n\r\nNo, you can use the either the _[String#contains](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence))_, or _[String#indexOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(int))_, method, to determine if a _String_ contains a specific character.\r\n\r\n```java\r\nboolean found = randomWords.contains(choice);\r\n```\r\n\r\n```java\r\nboolean found = randomWords.indexOf(choice) != -1;\r\n```\r\n\r\nAlso, for this game, you&#39;re going to want to determine all of the indices for a specific letter.\r\n\r\n```java\r\nList&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\r\nint index = 0;\r\nchar selectedChar = choice.charAt(0);\r\nfor (char character : randomWords.toCharArray()) {\r\n    if (character == selectedChar) indices.add(index);\r\n    index++;\r\n}\r\n```\r\n\r\nSo, if your word is _&quot;Java&quot;_, and _choice_ is _&quot;a&quot;_, the _indices_ list will contain, _1_ and _3_.\r\n\r\n&gt; _&quot;... I&#39;ve never used a stream, but this may be the time. ...&quot;_\r\n\r\nYeah, that is a great approach&amp;mdash;there is no better way to learn it, than to simply apply it.\r\n\r\nIf you&#39;re unfamiliar with the topic, there is a great book by O&#39;Reilly Media, which covers the topic in total.  \r\n_[O&#39;Reilly Media &amp;ndash; Java 8 Lambdas](https://www.oreilly.com/library/view/java-8-lambdas/9781449370831/)_.\r\n\r\nThere is most likely more than one way to construct this stream.\r\n\r\nI&#39;m using the _[String#chars](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars())_ method to return an _[IntStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html)_ object.  \r\nFrom there, I&#39;m utilizing the _[IntStream#anyMatch](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#anyMatch(java.util.function.IntPredicate))_ method, with a boolean predicate, to evaluate the character.\r\n\r\n```java\r\nchar selectedChar = choice.charAt(0);\r\nboolean found\r\n    = randomWords.chars()\r\n                 .anyMatch(character -&gt; character == selectedChar);\r\n```\r\n\r\nUsing a stream to map the indices is a bit trickier, I had to look it up.  \r\n_[StackOverflow &amp;ndash; Java 8/9: Can a character in a String be mapped to its indices (using streams)?](https://stackoverflow.com/a/48592303/17758716)_.\r\n\r\nThe starting point is a range of _Integer_ values, from _0_ to the length of _String_.  \r\nFrom there, they stream the range, and only add a character when it matches.\r\n\r\nHere&#39;s an implementation.  \r\nIt utilizes the _[range](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#range(int,int))_, _[filter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#filter(java.util.function.IntPredicate))_, and _[boxed](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#boxed())_ methods, of the _IntStream_ class, and additionally the _[Stream#toList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList())_ method.\r\n\r\n```java\r\nchar selectedChar = choice.charAt(0);\r\nList&lt;Integer&gt; indices\r\n    = IntStream.range(0, randomWords.length())\r\n               .filter(value -&gt; randomWords.charAt(value) == selectedChar)\r\n               .boxed()\r\n               .toList();\r\n```","title":"How check if char appears in string in ArrayList?","body":"<blockquote>\n<p><em>&quot;... Do I need to use a stream for this? ...&quot;</em></p>\n</blockquote>\n<p>No, you can use the either the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#contains</a></em>, or <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">String#indexOf</a></em>, method, to determine if a <em>String</em> contains a specific character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean found = randomWords.contains(choice);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>boolean found = randomWords.indexOf(choice) != -1;\n</code></pre>\n<p>Also, for this game, you're going to want to determine all of the indices for a specific letter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\nint index = 0;\nchar selectedChar = choice.charAt(0);\nfor (char character : randomWords.toCharArray()) {\n    if (character == selectedChar) indices.add(index);\n    index++;\n}\n</code></pre>\n<p>So, if your word is <em>&quot;Java&quot;</em>, and <em>choice</em> is <em>&quot;a&quot;</em>, the <em>indices</em> list will contain, <em>1</em> and <em>3</em>.</p>\n<blockquote>\n<p><em>&quot;... I've never used a stream, but this may be the time. ...&quot;</em></p>\n</blockquote>\n<p>Yeah, that is a great approach—there is no better way to learn it, than to simply apply it.</p>\n<p>If you're unfamiliar with the topic, there is a great book by O'Reilly Media, which covers the topic in total.<br />\n<em><a href=\"https://www.oreilly.com/library/view/java-8-lambdas/9781449370831/\" rel=\"nofollow noreferrer\">O'Reilly Media – Java 8 Lambdas</a></em>.</p>\n<p>There is most likely more than one way to construct this stream.</p>\n<p>I'm using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\">String#chars</a></em> method to return an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">IntStream</a></em> object.<br />\nFrom there, I'm utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#anyMatch(java.util.function.IntPredicate)\" rel=\"nofollow noreferrer\">IntStream#anyMatch</a></em> method, with a boolean predicate, to evaluate the character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char selectedChar = choice.charAt(0);\nboolean found\n    = randomWords.chars()\n                 .anyMatch(character -&gt; character == selectedChar);\n</code></pre>\n<p>Using a stream to map the indices is a bit trickier, I had to look it up.<br />\n<em><a href=\"https://stackoverflow.com/a/48592303/17758716\">StackOverflow – Java 8/9: Can a character in a String be mapped to its indices (using streams)?</a></em>.</p>\n<p>The starting point is a range of <em>Integer</em> values, from <em>0</em> to the length of <em>String</em>.<br />\nFrom there, they stream the range, and only add a character when it matches.</p>\n<p>Here's an implementation.<br />\nIt utilizes the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#range(int,int)\" rel=\"nofollow noreferrer\">range</a></em>, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#filter(java.util.function.IntPredicate)\" rel=\"nofollow noreferrer\">filter</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#boxed()\" rel=\"nofollow noreferrer\">boxed</a></em> methods, of the <em>IntStream</em> class, and additionally the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\">Stream#toList</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char selectedChar = choice.charAt(0);\nList&lt;Integer&gt; indices\n    = IntStream.range(0, randomWords.length())\n               .filter(value -&gt; randomWords.charAt(value) == selectedChar)\n               .boxed()\n               .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29052842,"reputation":1,"user_id":22255240,"display_name":"vembz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689815718,"creation_date":1689815703,"answer_id":76726093,"question_id":76522155,"body_markdown":"    void createCipher() {\r\n    randomWords.chars()\r\n            .mapToObj(c -&gt; (char) c)\r\n            .forEach(letter -&gt; {\r\n                if (player.selectedLetter.contains(String.valueOf(letter))) {\r\n                    System.out.print(letter);\r\n                } else {\r\n                    System.out.print(&quot;_&quot;);\r\n                }\r\n            });}","title":"How check if char appears in string in ArrayList?","body":"<pre><code>void createCipher() {\nrandomWords.chars()\n        .mapToObj(c -&gt; (char) c)\n        .forEach(letter -&gt; {\n            if (player.selectedLetter.contains(String.valueOf(letter))) {\n                System.out.print(letter);\n            } else {\n                System.out.print(&quot;_&quot;);\n            }\n        });}\n</code></pre>\n"}],"owner":{"account_id":28864899,"reputation":1,"user_id":22107881,"display_name":"Habe44"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689815718,"creation_date":1687342228,"question_id":76522155,"body_markdown":"I am writing a game of Hangman and I need a method that will check if the letter typed by the player occurs in the word that the computer drew from the ArrayList. Do I need to use a stream for this? I&#39;ve never used a stream, but this may be the time. For better understanding, I throw in my code. Objects and strings are in Polish. Method I would like to put in the createCipher class\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Hangman {\r\n    static ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        PrepareGame pomocnik = new PrepareGame();\r\n        PrepareGame.playerChoice pomocnik2 = new PrepareGame.playerChoice();\r\n        words.add(&quot;Puszka&quot;);\r\n        words.add(&quot;Kot&quot;);\r\n        words.add(&quot;Pies&quot;);\r\n\r\n        pomocnik.drawWord();\r\n        pomocnik.countLetters();\r\n        pomocnik.createCipher();\r\n        pomocnik2.choose();\r\n    }\r\n}\r\n\r\nclass PrepareGame {\r\n    playerChoice player = new playerChoice();\r\n    String randomWords;\r\n\r\n    void drawWord() {\r\n        Random r = new Random();\r\n        int randomitem = r.nextInt(Hangman.words.size());\r\n        String randomW = Hangman.words.get(randomitem);\r\n        randomWords = randomW;\r\n        System.out.println(randomW);\r\n    }\r\n\r\n    void countLetters() {\r\n        int len = randomWords.length();\r\n        System.out.println(len);\r\n    }\r\n\r\n    void createCipher() {\r\n            for (int cypher = 0; cypher &lt; randomWords.length(); cypher++) {\r\n                System.out.print(&quot;_&quot;);\r\n            }\r\n    }\r\n\r\n    static class playerChoice {\r\n        ArrayList&lt;String&gt; selectedLetter = new ArrayList&lt;&gt;();\r\n        String choice;\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        void choose() {\r\n            System.out.println(&quot; &quot;);\r\n            System.out.println(&quot;wpisz litere: &quot;);\r\n            String pChoice = scan.nextLine();\r\n            choice = pChoice;\r\n            selectedLetter.add(choice);\r\n            System.out.println(&quot;Wybrana litera: &quot; + choice);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried with indexOf() and contains() but not worked. Maybe I&#39;m using it wrong.","title":"How check if char appears in string in ArrayList?","body":"<p>I am writing a game of Hangman and I need a method that will check if the letter typed by the player occurs in the word that the computer drew from the ArrayList. Do I need to use a stream for this? I've never used a stream, but this may be the time. For better understanding, I throw in my code. Objects and strings are in Polish. Method I would like to put in the createCipher class</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Hangman {\n    static ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        PrepareGame pomocnik = new PrepareGame();\n        PrepareGame.playerChoice pomocnik2 = new PrepareGame.playerChoice();\n        words.add(&quot;Puszka&quot;);\n        words.add(&quot;Kot&quot;);\n        words.add(&quot;Pies&quot;);\n\n        pomocnik.drawWord();\n        pomocnik.countLetters();\n        pomocnik.createCipher();\n        pomocnik2.choose();\n    }\n}\n\nclass PrepareGame {\n    playerChoice player = new playerChoice();\n    String randomWords;\n\n    void drawWord() {\n        Random r = new Random();\n        int randomitem = r.nextInt(Hangman.words.size());\n        String randomW = Hangman.words.get(randomitem);\n        randomWords = randomW;\n        System.out.println(randomW);\n    }\n\n    void countLetters() {\n        int len = randomWords.length();\n        System.out.println(len);\n    }\n\n    void createCipher() {\n            for (int cypher = 0; cypher &lt; randomWords.length(); cypher++) {\n                System.out.print(&quot;_&quot;);\n            }\n    }\n\n    static class playerChoice {\n        ArrayList&lt;String&gt; selectedLetter = new ArrayList&lt;&gt;();\n        String choice;\n        Scanner scan = new Scanner(System.in);\n\n        void choose() {\n            System.out.println(&quot; &quot;);\n            System.out.println(&quot;wpisz litere: &quot;);\n            String pChoice = scan.nextLine();\n            choice = pChoice;\n            selectedLetter.add(choice);\n            System.out.println(&quot;Wybrana litera: &quot; + choice);\n\n        }\n    }\n}\n\n</code></pre>\n<p>I tried with indexOf() and contains() but not worked. Maybe I'm using it wrong.</p>\n"},{"tags":["java","eclipse","spotless"],"comments":[{"owner":{"account_id":1358031,"reputation":1289,"user_id":1296019,"accept_rate":87,"display_name":"cocorossello"},"score":0,"creation_date":1676626918,"post_id":66640397,"comment_id":133179298,"body_markdown":"Did you ever find out?","body":"Did you ever find out?"}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689815145,"creation_date":1689815145,"answer_id":76726060,"question_id":66640397,"body_markdown":"I used similar spotless eclipse formatter settings and still ran into the same issue with the formatter joining wrapped API documentation lines into a single long line. What I ended up doing was enabling [toggle comments](https://github.com/diffplug/spotless/tree/main/plugin-gradle#spotlessoff-and-spotlesson) and putting them around the lines I didn&#39;t want joined. Wrapped lines that are surrounded by the toggle comments remain wrapped. Sample below:\r\n\r\n```\r\n    // spotless:off\r\n    @Operation(summary = &quot;getImagePullCount&quot;,\r\n               description = &quot;Generates the docker pulls badge&quot;,\r\n               responses = @ApiResponse(description = &quot;An XML representing the SVG docker pulls badge&quot;,\r\n                                        content = @Content(mediaType = CONTENT_TYPE_BADGE,\r\n                                        schema = @Schema(implementation = String.class))))\r\n    public String getImagePullCount(@Parameter(in = ParameterIn.QUERY,\r\n                                               description = ApiSpecConstants.API_DESC_PARAM_PACKAGE,\r\n                                               example = ApiSpecConstants.EXAMPLE_PARAM_PACKAGE)\r\n                                    @QueryValue(&quot;package&quot;) String packageName,\r\n                                    @Parameter(in = ParameterIn.QUERY,\r\n                                               description = ApiSpecConstants.API_DESC_PARAM_LABEL)\r\n                                    @QueryValue(value = &quot;label&quot;, defaultValue = &quot;docker pulls&quot;) String badgeLabel) {\r\n    // spotless:on\r\n```\r\n","title":"How to prevent Spotless/Eclipse from joining lines?","body":"<p>I used similar spotless eclipse formatter settings and still ran into the same issue with the formatter joining wrapped API documentation lines into a single long line. What I ended up doing was enabling <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#spotlessoff-and-spotlesson\" rel=\"nofollow noreferrer\">toggle comments</a> and putting them around the lines I didn't want joined. Wrapped lines that are surrounded by the toggle comments remain wrapped. Sample below:</p>\n<pre><code>    // spotless:off\n    @Operation(summary = &quot;getImagePullCount&quot;,\n               description = &quot;Generates the docker pulls badge&quot;,\n               responses = @ApiResponse(description = &quot;An XML representing the SVG docker pulls badge&quot;,\n                                        content = @Content(mediaType = CONTENT_TYPE_BADGE,\n                                        schema = @Schema(implementation = String.class))))\n    public String getImagePullCount(@Parameter(in = ParameterIn.QUERY,\n                                               description = ApiSpecConstants.API_DESC_PARAM_PACKAGE,\n                                               example = ApiSpecConstants.EXAMPLE_PARAM_PACKAGE)\n                                    @QueryValue(&quot;package&quot;) String packageName,\n                                    @Parameter(in = ParameterIn.QUERY,\n                                               description = ApiSpecConstants.API_DESC_PARAM_LABEL)\n                                    @QueryValue(value = &quot;label&quot;, defaultValue = &quot;docker pulls&quot;) String badgeLabel) {\n    // spotless:on\n</code></pre>\n"}],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1689815145,"creation_date":1615820253,"question_id":66640397,"body_markdown":"I have a project that uses [Spotless with the Eclipse formatter](https://github.com/diffplug/spotless/tree/master/plugin-gradle#eclipse-jdt) to check and format the source code.\r\n\r\nNow _one_ problem is that the formatter creates some absurdly long lines such as the following:\r\n\r\n```\r\n    @ApiModelProperty(value = &quot;This is a placeholder text but the real text is just as long as this.&quot;, required = true, example = &quot;811769e0-69f8-11e6-91aa-02000ab20f88&quot;)\r\n```\r\n\r\nThat’s 170 characters, and I got eye-strain and SonarQube complaining. When I break the line, Spotless/Eclipse insist on joining the lines together. The configuration file has lines such as:\r\n\r\n```xml\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.join_wrapped_lines&quot; value=&quot;false&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.lineSplit&quot; value=&quot;150&quot;/&gt;\r\n```\r\n\r\nThe file is picked up fine, but the formatter still joins these wrapped lines and would never split them. There seems to be a related ancient (and closed) [issue 338916](https://bugs.eclipse.org/bugs/show_bug.cgi?id=338916) in the Eclipse bug tracker. This is probably not a Spotless configuration issue, since it delegates everything to the Ecplipse plugin. Which magic configuration key will persuate the Eclipse formatter to behave as advertised?","title":"How to prevent Spotless/Eclipse from joining lines?","body":"<p>I have a project that uses <a href=\"https://github.com/diffplug/spotless/tree/master/plugin-gradle#eclipse-jdt\" rel=\"noreferrer\">Spotless with the Eclipse formatter</a> to check and format the source code.</p>\n<p>Now <em>one</em> problem is that the formatter creates some absurdly long lines such as the following:</p>\n<pre><code>    @ApiModelProperty(value = &quot;This is a placeholder text but the real text is just as long as this.&quot;, required = true, example = &quot;811769e0-69f8-11e6-91aa-02000ab20f88&quot;)\n</code></pre>\n<p>That’s 170 characters, and I got eye-strain and SonarQube complaining. When I break the line, Spotless/Eclipse insist on joining the lines together. The configuration file has lines such as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.join_wrapped_lines&quot; value=&quot;false&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.lineSplit&quot; value=&quot;150&quot;/&gt;\n</code></pre>\n<p>The file is picked up fine, but the formatter still joins these wrapped lines and would never split them. There seems to be a related ancient (and closed) <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=338916\" rel=\"noreferrer\">issue 338916</a> in the Eclipse bug tracker. This is probably not a Spotless configuration issue, since it delegates everything to the Ecplipse plugin. Which magic configuration key will persuate the Eclipse formatter to behave as advertised?</p>\n"},{"tags":["java","redis","reactive","spring-data-redis"],"answers":[{"comments":[{"owner":{"account_id":26400754,"reputation":35,"user_id":20051262,"display_name":"developer"},"score":0,"creation_date":1689838144,"post_id":76726036,"comment_id":135270650,"body_markdown":"So according to this if in the given time frame connection is not established, redis will not throw timeout exception?","body":"So according to this if in the given time frame connection is not established, redis will not throw timeout exception?"},{"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"score":0,"creation_date":1689903283,"post_id":76726036,"comment_id":135282403,"body_markdown":"It will throw an exception but you can always increase the time until the connection is made. Else, even if redis has the data, you&#39;ll never be able to attain it.","body":"It will throw an exception but you can always increase the time until the connection is made. Else, even if redis has the data, you&#39;ll never be able to attain it."}],"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689814588,"creation_date":1689814588,"answer_id":76726036,"question_id":76711636,"body_markdown":"You can actually manually configure redis by creating a redis properties class with the @Configuration annotation above the class. You can then set a variable of type Integer for the timeout (whether it be in ms, s, or even minutes). After that class is created, in your application properties, you can set this timeout variable to any number you wish so that redis does not timeout.","title":"Is there a way to handle redis timeouts and not to fail the API if redis is unavailable","body":"<p>You can actually manually configure redis by creating a redis properties class with the @Configuration annotation above the class. You can then set a variable of type Integer for the timeout (whether it be in ms, s, or even minutes). After that class is created, in your application properties, you can set this timeout variable to any number you wish so that redis does not timeout.</p>\n"}],"owner":{"account_id":26400754,"reputation":35,"user_id":20051262,"display_name":"developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689814588,"creation_date":1689674612,"question_id":76711636,"body_markdown":"For my API , I am using redis cache , sometimes while calling redis we get exceptions like timeout because of which the API fails even though the data is present in redis and in database. \r\nIs there any way that if redis fails then my API does not stop working and we get the response.","title":"Is there a way to handle redis timeouts and not to fail the API if redis is unavailable","body":"<p>For my API , I am using redis cache , sometimes while calling redis we get exceptions like timeout because of which the API fails even though the data is present in redis and in database.\nIs there any way that if redis fails then my API does not stop working and we get the response.</p>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1689815003,"post_id":76725977,"comment_id":135268149,"body_markdown":"Does this answer your question? [javax.websocket client simple example](https://stackoverflow.com/questions/26452903/javax-websocket-client-simple-example)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26452903/javax-websocket-client-simple-example\">javax.websocket client simple example</a>"}],"owner":{"account_id":14127335,"reputation":13,"user_id":10206187,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689813608,"creation_date":1689813242,"question_id":76725977,"body_markdown":"I am trying to come up with a solution that requires subscribing to websocket in a 3rd party server.\r\n\r\nThe thing is I need to listen to this in the server-side, not on client side. So somehow I need to keep this connection alive in my server (java) and listen to the websocket messages, which would then trigger something else.\r\n\r\n\r\n\r\nI am a bit lost on how to achieve that and best patterns as apparently this is not really common.\r\n\r\nDo you have suggestions on how should this be done?","title":"Can I have a websocket connection client in a server? i.e a server subscribing to another server sending events","body":"<p>I am trying to come up with a solution that requires subscribing to websocket in a 3rd party server.</p>\n<p>The thing is I need to listen to this in the server-side, not on client side. So somehow I need to keep this connection alive in my server (java) and listen to the websocket messages, which would then trigger something else.</p>\n<p>I am a bit lost on how to achieve that and best patterns as apparently this is not really common.</p>\n<p>Do you have suggestions on how should this be done?</p>\n"},{"tags":["java","file","zip","passwords"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1689772050,"post_id":76721613,"comment_id":135260450,"body_markdown":"You could [list](https://github.com/srikanth-lingala/zip4j#list-all-files-in-a-zip) the files instead of extracting anything.","body":"You could <a href=\"https://github.com/srikanth-lingala/zip4j#list-all-files-in-a-zip\" rel=\"nofollow noreferrer\">list</a> the files instead of extracting anything."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689783190,"post_id":76721613,"comment_id":135263421,"body_markdown":"Are you sure that things don&#39;t fail as soon as you attempt to extract the large file? I tried a test and it appears that as soon as you try to extract something with a bad password, you get an exception. The size of the file did not come into account.","body":"Are you sure that things don&#39;t fail as soon as you attempt to extract the large file? I tried a test and it appears that as soon as you try to extract something with a bad password, you get an exception. The size of the file did not come into account."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1689783325,"post_id":76721613,"comment_id":135263446,"body_markdown":"I am not sure why you need a new library to delete files. Does `Files.delete` and `Files.deleteIfExists` not work?","body":"I am not sure why you need a new library to delete files. Does <code>Files.delete</code> and <code>Files.deleteIfExists</code> not work?"},{"owner":{"account_id":9941649,"reputation":171,"user_id":7358048,"display_name":"Michal Rama"},"score":0,"creation_date":1689791243,"post_id":76721613,"comment_id":135265036,"body_markdown":"@SedJ601 Because I don&#39;t want to delete the file, but the entire newly created folder, which apparently java can&#39;t do.","body":"@SedJ601 Because I don&#39;t want to delete the file, but the entire newly created folder, which apparently java can&#39;t do."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1689792291,"post_id":76721613,"comment_id":135265245,"body_markdown":"What error are you getting when you attempt to delete the folder?","body":"What error are you getting when you attempt to delete the folder?"},{"owner":{"account_id":9941649,"reputation":171,"user_id":7358048,"display_name":"Michal Rama"},"score":0,"creation_date":1689798923,"post_id":76721613,"comment_id":135266466,"body_markdown":"@FedericoklezCulloca Thank you, you are right. I can also get a list of files from the passworded archive, including their size. I just need to simplify the selection of the smallest file, please (I updated the code)","body":"@FedericoklezCulloca Thank you, you are right. I can also get a list of files from the passworded archive, including their size. I just need to simplify the selection of the smallest file, please (I updated the code)"},{"owner":{"account_id":9941649,"reputation":171,"user_id":7358048,"display_name":"Michal Rama"},"score":0,"creation_date":1689799580,"post_id":76721613,"comment_id":135266546,"body_markdown":"@SedJ601 I don&#39;t know how big the file would cause the error (400MB wasn&#39;t a problem). And the correctness of the password is in the try catch. But as I said, the code already selects the smallest file, I just need to simplify it. P.S. As for the deletion, I need to delete the whole folder, which java supposedly can&#39;t do as stated [here](https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java/20281958#20281958), so I&#39;m using an external library.","body":"@SedJ601 I don&#39;t know how big the file would cause the error (400MB wasn&#39;t a problem). And the correctness of the password is in the try catch. But as I said, the code already selects the smallest file, I just need to simplify it. P.S. As for the deletion, I need to delete the whole folder, which java supposedly can&#39;t do as stated <a href=\"https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java/20281958#20281958\">here</a>, so I&#39;m using an external library."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1689801010,"post_id":76721613,"comment_id":135266795,"body_markdown":"The link you posted list many ways to delete all the files in a folder plus the folder. There is no need for a library. The library most likely uses one of these ways. `Files.walk(pathToBeDeleted)\n    .sorted(Comparator.reverseOrder())\n    .map(Path::toFile)\n    .forEach(File::delete);`.","body":"The link you posted list many ways to delete all the files in a folder plus the folder. There is no need for a library. The library most likely uses one of these ways. <code>Files.walk(pathToBeDeleted)     .sorted(Comparator.reverseOrder())     .map(Path::toFile)     .forEach(File::delete);</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689801404,"post_id":76721613,"comment_id":135266865,"body_markdown":"Given how good Apache&#39;s `FileUtils` appear to be, I would say keep using it.","body":"Given how good Apache&#39;s <code>FileUtils</code> appear to be, I would say keep using it."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689812505,"post_id":76721613,"comment_id":135267949,"body_markdown":"Another optimization you might want to use is [`Files.createTempDirectory`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#createTempDirectory(java.nio.file.Path,java.lang.String,java.nio.file.attribute.FileAttribute...)) to create your temporary directory, rather than hardcoding `C:/tmp_directory`, which is not a portable solution.  Also I removed the JavaFX tag as the question isn&#39;t JavaFX related.","body":"Another optimization you might want to use is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#createTempDirectory(java.nio.file.Path,java.lang.String,java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\"><code>Files.createTempDirectory</code></a> to create your temporary directory, rather than hardcoding <code>C:&#47;tmp_directory</code>, which is not a portable solution.  Also I removed the JavaFX tag as the question isn&#39;t JavaFX related."}],"owner":{"account_id":9941649,"reputation":171,"user_id":7358048,"display_name":"Michal Rama"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689812734,"creation_date":1689771831,"question_id":76721613,"body_markdown":"I created a simple code (and a test zip file with the password **cat_666**) to check if the entered password is correct (using [zip4j](https://github.com/srikanth-lingala/zip4j) library)\r\n\r\n```\r\nvar filechooser = new FileChooser();\r\nfilechooser.getExtensionFilters().add(new FileChooser.ExtensionFilter(&quot;zipfile&quot;, &quot;*.zip&quot;));\r\nvar archive = filechooser.showOpenDialog(null);\r\ntry {\r\n    if (new ZipFile(archive).isEncrypted()) {\r\n        System.out.println(correctPassword(archive, &quot;cat.666&quot;));\r\n        System.out.println(correctPassword(archive, &quot;cat_666&quot;));\r\n    } else {\r\n        System.out.println(&quot;Without password&quot;);\r\n    }\r\n} catch (ZipException ex) {\r\n}\r\n\r\npublic static String correctPassword(File archive, String password) {\r\n    try {\r\n        var fileHeaders = new ZipFile(archive).getFileHeaders();\r\n        var smallest_size = fileHeaders.stream().map(f -&gt; f.getComssedSize()).min(Long::compare).get();\r\n        var smallest_file = fileHeaders.stream().filter(f -&gt; f.getCompressedSize() == smallest_size).findFirst().get();\r\n        new ZipFile(archive, password.toCharArray()).extractFile(smallest_file, &quot;/tmp_directory&quot;);\r\n        FileUtils.deleteDirectory(new File(&quot;C:/tmp_directory&quot;));\r\n    } catch (ZipException ex) {\r\n        return password + &quot; is not correct&quot;;\r\n    } catch (IOException ex) {\r\n        System.out.println(&quot;bad path&quot;);\r\n    }\r\n    return password + &quot; is correct&quot;;\r\n}\r\n```\r\n\r\nAlthough it works, there are three drawbacks.\r\n\r\n1. I call the method only when the file is encrypted. However, this validation alone requires a try catch, so it is there twice in the result.\r\n\r\n2. Password verification is probably not possible without extraction. Fortunately, it is possible to extract even one file and the size can be found even without a password, so I can extract the smallest file. However, its selection is unnecessarily complicated.\r\n \r\n3. By extracting the file, I want to delete it afterwards, for which it has to add another [Commons-io](https://commons.apache.org/proper/commons-io/) library there.\r\n\r\nCan it be simplified please?\r\n\r\nThank you\r\n\r\n**UPDATE:**\r\n\r\nI managed to partially solve the second problem to extract the smallest file to find the password. However, the code is unnecessarily complex.\r\n\r\nSince extracting at least one file is obviously necessary, it&#39;s not worth solving the third problem (library size is negligible)\r\n\r\nAnd the first problem is probably only an aesthetic detail, which I would ignore.","title":"An easy way to verify password correctness?","body":"<p>I created a simple code (and a test zip file with the password <strong>cat_666</strong>) to check if the entered password is correct (using <a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">zip4j</a> library)</p>\n<pre><code>var filechooser = new FileChooser();\nfilechooser.getExtensionFilters().add(new FileChooser.ExtensionFilter(&quot;zipfile&quot;, &quot;*.zip&quot;));\nvar archive = filechooser.showOpenDialog(null);\ntry {\n    if (new ZipFile(archive).isEncrypted()) {\n        System.out.println(correctPassword(archive, &quot;cat.666&quot;));\n        System.out.println(correctPassword(archive, &quot;cat_666&quot;));\n    } else {\n        System.out.println(&quot;Without password&quot;);\n    }\n} catch (ZipException ex) {\n}\n\npublic static String correctPassword(File archive, String password) {\n    try {\n        var fileHeaders = new ZipFile(archive).getFileHeaders();\n        var smallest_size = fileHeaders.stream().map(f -&gt; f.getComssedSize()).min(Long::compare).get();\n        var smallest_file = fileHeaders.stream().filter(f -&gt; f.getCompressedSize() == smallest_size).findFirst().get();\n        new ZipFile(archive, password.toCharArray()).extractFile(smallest_file, &quot;/tmp_directory&quot;);\n        FileUtils.deleteDirectory(new File(&quot;C:/tmp_directory&quot;));\n    } catch (ZipException ex) {\n        return password + &quot; is not correct&quot;;\n    } catch (IOException ex) {\n        System.out.println(&quot;bad path&quot;);\n    }\n    return password + &quot; is correct&quot;;\n}\n</code></pre>\n<p>Although it works, there are three drawbacks.</p>\n<ol>\n<li><p>I call the method only when the file is encrypted. However, this validation alone requires a try catch, so it is there twice in the result.</p>\n</li>\n<li><p>Password verification is probably not possible without extraction. Fortunately, it is possible to extract even one file and the size can be found even without a password, so I can extract the smallest file. However, its selection is unnecessarily complicated.</p>\n</li>\n<li><p>By extracting the file, I want to delete it afterwards, for which it has to add another <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Commons-io</a> library there.</p>\n</li>\n</ol>\n<p>Can it be simplified please?</p>\n<p>Thank you</p>\n<p><strong>UPDATE:</strong></p>\n<p>I managed to partially solve the second problem to extract the smallest file to find the password. However, the code is unnecessarily complex.</p>\n<p>Since extracting at least one file is obviously necessary, it's not worth solving the third problem (library size is negligible)</p>\n<p>And the first problem is probably only an aesthetic detail, which I would ignore.</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689063817,"creation_date":1689057575,"answer_id":76659267,"question_id":76659206,"body_markdown":"It seems, you just need to SORT the pair.  The pairs are duplicated just because of the reverse order of the numbers in the pair.\r\n\r\n```\r\n\t\tList&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0);\r\n\t\tSet&lt;String&gt; sumPair = listOfNumbers.stream()\r\n\t\t\t\t.flatMap(i -&gt; listOfNumbers.stream()\r\n\t\t\t\t\t\t.filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\r\n\t\t\t\t\t\t.map(p -&gt; i &lt; p ? (p + &quot; &quot; + i) : (i + &quot; &quot; + p)))\r\n\t\t\t\t.collect(Collectors.toSet());\r\n\t\tfor (String pair : sumPair) {\r\n\t\t\tSystem.out.println(pair);\r\n\t\t}\r\n```\r\n\r\nOutput:\r\n```\r\n12 4\r\n16 0\r\n```\r\n\r\nAlso, I simplified to use the stream of strings instead of Integer array.\r\nBut you can tweak it as you like.\r\n\r\nThe main problem was &quot;12 4&quot; and &quot;4 12&quot; - the pair of same numbers but in reverse order will be different values for Set, and will get added twice.\r\n\r\nUpdate... \r\nOne more thing that can be done is using Stream.distinct, instead of using a Set.\r\n\r\n```\r\nList&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0, 12);\r\nlistOfNumbers.stream()\r\n\t\t.flatMap(i -&gt; listOfNumbers.stream().filter(j -&gt; (i + j) == 16 &amp;&amp; i &lt; j).map(k -&gt; i + &quot; &quot; + k))\r\n\t\t.distinct().forEach(System.out::println);\r\n```\r\nThis gives the same output\r\n```\r\n12 4\r\n16 0\r\n```","title":"Find which number in a list sum up to a certain number Using Java 8 Stream API","body":"<p>It seems, you just need to SORT the pair.  The pairs are duplicated just because of the reverse order of the numbers in the pair.</p>\n<pre><code>        List&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0);\n        Set&lt;String&gt; sumPair = listOfNumbers.stream()\n                .flatMap(i -&gt; listOfNumbers.stream()\n                        .filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\n                        .map(p -&gt; i &lt; p ? (p + &quot; &quot; + i) : (i + &quot; &quot; + p)))\n                .collect(Collectors.toSet());\n        for (String pair : sumPair) {\n            System.out.println(pair);\n        }\n</code></pre>\n<p>Output:</p>\n<pre><code>12 4\n16 0\n</code></pre>\n<p>Also, I simplified to use the stream of strings instead of Integer array.\nBut you can tweak it as you like.</p>\n<p>The main problem was &quot;12 4&quot; and &quot;4 12&quot; - the pair of same numbers but in reverse order will be different values for Set, and will get added twice.</p>\n<p>Update...\nOne more thing that can be done is using Stream.distinct, instead of using a Set.</p>\n<pre><code>List&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0, 12);\nlistOfNumbers.stream()\n        .flatMap(i -&gt; listOfNumbers.stream().filter(j -&gt; (i + j) == 16 &amp;&amp; i &lt; j).map(k -&gt; i + &quot; &quot; + k))\n        .distinct().forEach(System.out::println);\n</code></pre>\n<p>This gives the same output</p>\n<pre><code>12 4\n16 0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1689063126,"post_id":76659520,"comment_id":135156297,"body_markdown":"This one is better (checking i &lt; j in the &#39;filter&#39; itself), but still the duplicates will be added.  E.g. add &#39;12&#39; in the list again at the end (```15, 12, 4, 16, 9, 8, 24, 0, 12```), and the result will be something like ```12, 4\n12, 4\n16, 0```.  So, &quot;12, 4&quot; are repeated.","body":"This one is better (checking i &lt; j in the &#39;filter&#39; itself), but still the duplicates will be added.  E.g. add &#39;12&#39; in the list again at the end (<code>15, 12, 4, 16, 9, 8, 24, 0, 12</code>), and the result will be something like <code>12, 4 12, 4 16, 0</code>.  So, &quot;12, 4&quot; are repeated."},{"owner":{"account_id":1674431,"reputation":7833,"user_id":1540264,"display_name":"Grisha Weintraub"},"score":1,"creation_date":1689063953,"post_id":76659520,"comment_id":135156491,"body_markdown":"You are right, so we can simply add &quot;distinct&quot; at the end (updated the code).","body":"You are right, so we can simply add &quot;distinct&quot; at the end (updated the code)."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1689064068,"post_id":76659520,"comment_id":135156516,"body_markdown":"Yep..  I also did the same :)","body":"Yep..  I also did the same :)"}],"tags":[],"owner":{"account_id":1674431,"reputation":7833,"user_id":1540264,"display_name":"Grisha Weintraub"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689063921,"creation_date":1689060037,"answer_id":76659520,"question_id":76659206,"body_markdown":"        static void printPairs(List&lt;Integer&gt; list, int sum){\r\n            list\r\n                .stream()\r\n                .flatMap(i -&gt; list.stream().filter(j -&gt; i + j == sum &amp;&amp; i &lt; j))\r\n                .map(k -&gt; k + &quot;, &quot; + (sum-k))\r\n                .distinct()\r\n                .forEach(System.out::println);\r\n        }","title":"Find which number in a list sum up to a certain number Using Java 8 Stream API","body":"<pre><code>    static void printPairs(List&lt;Integer&gt; list, int sum){\n        list\n            .stream()\n            .flatMap(i -&gt; list.stream().filter(j -&gt; i + j == sum &amp;&amp; i &lt; j))\n            .map(k -&gt; k + &quot;, &quot; + (sum-k))\n            .distinct()\n            .forEach(System.out::println);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689089515,"creation_date":1689069288,"answer_id":76660740,"question_id":76659206,"body_markdown":"You can take advantage of the fact that 2 sets are considered equal, if they contain the same element, regardless of the order. From the [docs][1]:\r\n\r\n&gt; Returns true if the specified object is also a set, the two sets have the same size, and every member of the specified set is contained in this set (or equivalently, every member of this set is contained in the specified set).\r\n\r\nCollect to a `Set&lt;Set&lt;Integer&gt;&gt;`\r\n```\r\nList&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0);\r\nSet&lt;Set&lt;Integer&gt;&gt; sumPair = listOfNumbers.stream()\r\n        .flatMap(i -&gt; listOfNumbers.stream()\r\n                .filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\r\n                .map(p -&gt; new HashSet&lt;&gt;(Arrays.asList(p, i))))\r\n        .collect(Collectors.toSet());\r\nfor (Set&lt;Integer&gt; integers : sumPair) {\r\n  for (Integer val : integers) {\r\n    System.out.print(val + &quot; &quot;);\r\n  }\r\n  System.out.println();\r\n}\r\n```\r\nNote that `HashSet` is unordered, so you may need to sort, if it matters.\r\n\r\nPersonally i would do it with a custom class, though. Let&#39;s say `Pair`:\r\n```\r\npublic class Pair {\r\n\r\n  private final int a;\r\n  private final int b;\r\n\r\n  public Pair(int a, int b) {\r\n    this.a = a;\r\n    this.b = b;\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Integer.hashCode(this.a + this.b);\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n    if (this == obj) {\r\n      return true;\r\n    }\r\n    if (!(obj instanceof Pair pair)) {\r\n      return false;\r\n    }\r\n    return (this.a == pair.a &amp;&amp; this.b == pair.b) || (this.a == pair.b &amp;&amp; this.b == pair.a);\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return this.a + &quot; &quot; + this.b;\r\n  }\r\n}\r\n```\r\nThen finding and collecting the pairs would be like this:\r\n```\r\nList&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0);\r\nSet&lt;Pair&gt; sumPair = listOfNumbers.stream()\r\n        .flatMap(i -&gt; listOfNumbers.stream()\r\n                .filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\r\n                .map(p -&gt; new Pair(i, p)))\r\n        .collect(Collectors.toSet());\r\nfor (Pair pair : sumPair) {\r\n  System.out.println(pair);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#equals-java.lang.Object-","title":"Find which number in a list sum up to a certain number Using Java 8 Stream API","body":"<p>You can take advantage of the fact that 2 sets are considered equal, if they contain the same element, regardless of the order. From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Returns true if the specified object is also a set, the two sets have the same size, and every member of the specified set is contained in this set (or equivalently, every member of this set is contained in the specified set).</p>\n</blockquote>\n<p>Collect to a <code>Set&lt;Set&lt;Integer&gt;&gt;</code></p>\n<pre><code>List&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0);\nSet&lt;Set&lt;Integer&gt;&gt; sumPair = listOfNumbers.stream()\n        .flatMap(i -&gt; listOfNumbers.stream()\n                .filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\n                .map(p -&gt; new HashSet&lt;&gt;(Arrays.asList(p, i))))\n        .collect(Collectors.toSet());\nfor (Set&lt;Integer&gt; integers : sumPair) {\n  for (Integer val : integers) {\n    System.out.print(val + &quot; &quot;);\n  }\n  System.out.println();\n}\n</code></pre>\n<p>Note that <code>HashSet</code> is unordered, so you may need to sort, if it matters.</p>\n<p>Personally i would do it with a custom class, though. Let's say <code>Pair</code>:</p>\n<pre><code>public class Pair {\n\n  private final int a;\n  private final int b;\n\n  public Pair(int a, int b) {\n    this.a = a;\n    this.b = b;\n  }\n\n  @Override\n  public int hashCode() {\n    return Integer.hashCode(this.a + this.b);\n  }\n\n  @Override\n  public boolean equals(Object obj) {\n    if (this == obj) {\n      return true;\n    }\n    if (!(obj instanceof Pair pair)) {\n      return false;\n    }\n    return (this.a == pair.a &amp;&amp; this.b == pair.b) || (this.a == pair.b &amp;&amp; this.b == pair.a);\n  }\n\n  @Override\n  public String toString() {\n    return this.a + &quot; &quot; + this.b;\n  }\n}\n</code></pre>\n<p>Then finding and collecting the pairs would be like this:</p>\n<pre><code>List&lt;Integer&gt; listOfNumbers = Arrays.asList(15, 12, 4, 16, 9, 8, 24, 0);\nSet&lt;Pair&gt; sumPair = listOfNumbers.stream()\n        .flatMap(i -&gt; listOfNumbers.stream()\n                .filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\n                .map(p -&gt; new Pair(i, p)))\n        .collect(Collectors.toSet());\nfor (Pair pair : sumPair) {\n  System.out.println(pair);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29052842,"reputation":1,"user_id":22255240,"display_name":"vembz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689812484,"creation_date":1689812484,"answer_id":76725939,"question_id":76659206,"body_markdown":"Your current logic to find pairs whose sum equals a given number is functional, but it has some inefficiencies and redundant pairs in the output. To improve the logic, you can avoid redundant pairs and improve the performance. Here&#39;s an optimized version:\r\n\r\n\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; listOfNumbers = Arrays.asList(new Integer[]{15, 12, 4, 16, 9, 8, 24, 0});\r\n            int targetSum = 16;\r\n    \r\n            Set&lt;Integer[]&gt; sumPair = findPairsWithSum(listOfNumbers, targetSum);\r\n            for (Integer[] integers : sumPair) {\r\n                for (Integer val : integers) {\r\n                    System.out.print(val + &quot; &quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    \r\n        public static Set&lt;Integer[]&gt; findPairsWithSum(List&lt;Integer&gt; list, int targetSum) {\r\n            Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n            Set&lt;Integer[]&gt; sumPair = new HashSet&lt;&gt;();\r\n    \r\n            for (Integer num : list) {\r\n                int complement = targetSum - num;\r\n                if (seen.contains(complement)) {\r\n                    Integer[] pair = {num, complement};\r\n                    Arrays.sort(pair);\r\n                    sumPair.add(pair);\r\n                }\r\n                seen.add(num);\r\n            }\r\n            return sumPair;\r\n        }\r\n    }\r\n\r\nIn this version, we use a HashSet called seen to store the elements of the list that we have encountered so far. As we iterate through the list, we check if the complement (the difference between the targetSum and the current number) is present in the seen set. If it is, we have found a pair that adds up to the targetSum, and we add the pair to the sumPair set. Sorting the pair before adding it ensures that we don&#39;t have duplicates like (4, 12) and (12, 4).\r\n\r\nThis solution reduces the complexity and avoids redundant pairs in the output.","title":"Find which number in a list sum up to a certain number Using Java 8 Stream API","body":"<p>Your current logic to find pairs whose sum equals a given number is functional, but it has some inefficiencies and redundant pairs in the output. To improve the logic, you can avoid redundant pairs and improve the performance. Here's an optimized version:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; listOfNumbers = Arrays.asList(new Integer[]{15, 12, 4, 16, 9, 8, 24, 0});\n        int targetSum = 16;\n\n        Set&lt;Integer[]&gt; sumPair = findPairsWithSum(listOfNumbers, targetSum);\n        for (Integer[] integers : sumPair) {\n            for (Integer val : integers) {\n                System.out.print(val + &quot; &quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n    }\n\n    public static Set&lt;Integer[]&gt; findPairsWithSum(List&lt;Integer&gt; list, int targetSum) {\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n        Set&lt;Integer[]&gt; sumPair = new HashSet&lt;&gt;();\n\n        for (Integer num : list) {\n            int complement = targetSum - num;\n            if (seen.contains(complement)) {\n                Integer[] pair = {num, complement};\n                Arrays.sort(pair);\n                sumPair.add(pair);\n            }\n            seen.add(num);\n        }\n        return sumPair;\n    }\n}\n</code></pre>\n<p>In this version, we use a HashSet called seen to store the elements of the list that we have encountered so far. As we iterate through the list, we check if the complement (the difference between the targetSum and the current number) is present in the seen set. If it is, we have found a pair that adds up to the targetSum, and we add the pair to the sumPair set. Sorting the pair before adding it ensures that we don't have duplicates like (4, 12) and (12, 4).</p>\n<p>This solution reduces the complexity and avoids redundant pairs in the output.</p>\n"}],"owner":{"account_id":12991947,"reputation":11,"user_id":9390888,"display_name":"ranjan kumar singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1689812484,"creation_date":1689056826,"question_id":76659206,"body_markdown":"I have tried to find the sum of pair which is equals to given number using java 8. how can we improve the logic?\r\n\r\n    List&lt;Integer&gt; listOfNumbers = Arrays.asList(new Integer []{15, 12, 4, 16, 9, 8, 24, 0});\r\n    \r\n    \tSet&lt;Integer[]&gt; sumPair = listOfNumbers.stream()\r\n    \t\t\t.flatMap(i -&gt; listOfNumbers.stream()\r\n    \t\t\t\t\t.filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\r\n    \t\t\t\t\t.map(p -&gt; new Integer[] { i, p }))\r\n    \t\t\t.collect(Collectors.toSet());\r\n    \tfor (Integer[] integers : sumPair) {\r\n    \t\tfor (Integer val : integers) {\r\n    \t\t\tSystem.out.print(val + &quot; &quot;);\r\n    \t\t}\r\n    \t\t   System.out.println(&quot;&quot;);\r\n    \t}\r\n\r\nExpected output:\r\n\r\n    16 0 \r\n    12 4 \r\n\r\nOutput I am getting:\r\n\r\n    16 0 \r\n    4 12 \r\n    0 16 \r\n    12 4  \r\n","title":"Find which number in a list sum up to a certain number Using Java 8 Stream API","body":"<p>I have tried to find the sum of pair which is equals to given number using java 8. how can we improve the logic?</p>\n<pre><code>List&lt;Integer&gt; listOfNumbers = Arrays.asList(new Integer []{15, 12, 4, 16, 9, 8, 24, 0});\n\n    Set&lt;Integer[]&gt; sumPair = listOfNumbers.stream()\n            .flatMap(i -&gt; listOfNumbers.stream()\n                    .filter(p -&gt; (i + p) == 16 &amp;&amp; listOfNumbers.indexOf(p) != listOfNumbers.indexOf(i))\n                    .map(p -&gt; new Integer[] { i, p }))\n            .collect(Collectors.toSet());\n    for (Integer[] integers : sumPair) {\n        for (Integer val : integers) {\n            System.out.print(val + &quot; &quot;);\n        }\n           System.out.println(&quot;&quot;);\n    }\n</code></pre>\n<p>Expected output:</p>\n<pre><code>16 0 \n12 4 \n</code></pre>\n<p>Output I am getting:</p>\n<pre><code>16 0 \n4 12 \n0 16 \n12 4  \n</code></pre>\n"},{"tags":["java","gradle","gradle-plugin","checkstyle"],"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689811891,"creation_date":1689811891,"question_id":76725922,"body_markdown":"I&#39;ve got a small gradle project which has two small Java applications as subprojects. I&#39;m trying to enforce the checkstyle plugin on all subprojects, so I&#39;ve created a small precompiled plugin for verification and then applied it to the subprojects. I took all of this from [the checkstyle example from the gradle documentation](https://docs.gradle.org/current/userguide/custom_plugins.html#sec:precompiled_plugins) and [the checkstyle plugin documentation](https://docs.gradle.org/current/userguide/checkstyle_plugin.html#sec:checkstyle_project_layout).\r\n\r\n**Project structure**:\r\n\r\n    project\r\n      buildSrc\r\n        build.gradle\r\n        src/\r\n          main/\r\n            groovy/\r\n              com.company.verify.gradle\r\n      config/\r\n        checkstyle/\r\n          checkstyle.xml\r\n          suppressions.xml\r\n      sub1/\r\n        build.gradle\r\n        settings.gradle\r\n      sub2/\r\n        build.gradle\r\n        settings.gradle\r\n      build.gradle  (root)\r\n      settings.gradle  (root)\r\n\r\n**Root settings.gradle**\r\n\r\n    rootProject.name = &#39;my-app&#39;\r\n    include (&quot;sub1&quot;, &quot;sub2&quot;)\r\n\r\n\r\n**buildSrc/build.gradle**\r\n\r\n    plugins {\r\n        id &#39;groovy-gradle-plugin&#39;\r\n    }\r\n\r\n**buildSrc/src/main/groovy/com.company.verify.gradle**\r\n\r\n    plugins {\r\n        id &#39;checkstyle&#39;\r\n    }\r\n    \r\n    checkstyle {\r\n        toolVersion = &quot;10.3.3&quot;\r\n        ignoreFailures = false\r\n        maxWarnings = 0\r\n    }\r\n\r\n**sub1/build.gradle**\r\n\r\n    plugins {\r\n      id &#39;com.company.verify&#39;\r\n    }\r\n    \r\n    // Subproject 1 has some generated code we don&#39;t want checked\r\n    checkstyle {\r\n        checkstyleMain.excludes = [&quot;**/generated/**&quot;]\r\n    }\r\n\r\nHowever, when I run `./gradlew clean checkstyleMain --stack`, it&#39;s obvious that the `toolVersion: 10.3.3` directive isn&#39;t being applied:\r\n\r\n    Execution failed for task &#39;:sub1:checkstyleMain&#39;.\r\n      &gt; A failure occurred while executing org.gradle.api.plugins.quality.internal.CheckstyleAction\r\n        &gt; Unable to create Root Module: config {/path/to/project/config/checkstyle/checkstyle.xml}, classpath {null}.\r\n    Caused by: org.xml.sax.SAXParseException; systemId: file:/path/to/project/config/checkstyle/checkstyle.xml; lineNumber: 22; columnNumber: 4; The markup in the document following the root element must be well-formed.\r\n\r\nThis is happening because the `toolVersion: 10.3.3` in `com.company.verify.gradle` isn&#39;t being applied to the subproject, and so checkstyle is using a different toolVersion which expects checkstyle.xml to be formatted differently. However, when I remove the precompiled plugin and apply the checkstyle plugin and configuration options directly to `sub1`, `./gradlew checkstyleMain` passes without any problems.\r\n\r\nCan anyone tell me what&#39;s going on here? Why aren&#39;t configurations from checkstyle being passed from the precompiled plugin to the subprojects applying it? If I can&#39;t figure this out, I will be forced to duplicate all of my checkstyle configurations in every subproject, and I really don&#39;t want to do that.","title":"gradle checkstyle configuration isn&#39;t being applied via precompiled plugin","body":"<p>I've got a small gradle project which has two small Java applications as subprojects. I'm trying to enforce the checkstyle plugin on all subprojects, so I've created a small precompiled plugin for verification and then applied it to the subprojects. I took all of this from <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html#sec:precompiled_plugins\" rel=\"nofollow noreferrer\">the checkstyle example from the gradle documentation</a> and <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html#sec:checkstyle_project_layout\" rel=\"nofollow noreferrer\">the checkstyle plugin documentation</a>.</p>\n<p><strong>Project structure</strong>:</p>\n<pre><code>project\n  buildSrc\n    build.gradle\n    src/\n      main/\n        groovy/\n          com.company.verify.gradle\n  config/\n    checkstyle/\n      checkstyle.xml\n      suppressions.xml\n  sub1/\n    build.gradle\n    settings.gradle\n  sub2/\n    build.gradle\n    settings.gradle\n  build.gradle  (root)\n  settings.gradle  (root)\n</code></pre>\n<p><strong>Root settings.gradle</strong></p>\n<pre><code>rootProject.name = 'my-app'\ninclude (&quot;sub1&quot;, &quot;sub2&quot;)\n</code></pre>\n<p><strong>buildSrc/build.gradle</strong></p>\n<pre><code>plugins {\n    id 'groovy-gradle-plugin'\n}\n</code></pre>\n<p><strong>buildSrc/src/main/groovy/com.company.verify.gradle</strong></p>\n<pre><code>plugins {\n    id 'checkstyle'\n}\n\ncheckstyle {\n    toolVersion = &quot;10.3.3&quot;\n    ignoreFailures = false\n    maxWarnings = 0\n}\n</code></pre>\n<p><strong>sub1/build.gradle</strong></p>\n<pre><code>plugins {\n  id 'com.company.verify'\n}\n\n// Subproject 1 has some generated code we don't want checked\ncheckstyle {\n    checkstyleMain.excludes = [&quot;**/generated/**&quot;]\n}\n</code></pre>\n<p>However, when I run <code>./gradlew clean checkstyleMain --stack</code>, it's obvious that the <code>toolVersion: 10.3.3</code> directive isn't being applied:</p>\n<pre><code>Execution failed for task ':sub1:checkstyleMain'.\n  &gt; A failure occurred while executing org.gradle.api.plugins.quality.internal.CheckstyleAction\n    &gt; Unable to create Root Module: config {/path/to/project/config/checkstyle/checkstyle.xml}, classpath {null}.\nCaused by: org.xml.sax.SAXParseException; systemId: file:/path/to/project/config/checkstyle/checkstyle.xml; lineNumber: 22; columnNumber: 4; The markup in the document following the root element must be well-formed.\n</code></pre>\n<p>This is happening because the <code>toolVersion: 10.3.3</code> in <code>com.company.verify.gradle</code> isn't being applied to the subproject, and so checkstyle is using a different toolVersion which expects checkstyle.xml to be formatted differently. However, when I remove the precompiled plugin and apply the checkstyle plugin and configuration options directly to <code>sub1</code>, <code>./gradlew checkstyleMain</code> passes without any problems.</p>\n<p>Can anyone tell me what's going on here? Why aren't configurations from checkstyle being passed from the precompiled plugin to the subprojects applying it? If I can't figure this out, I will be forced to duplicate all of my checkstyle configurations in every subproject, and I really don't want to do that.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1438346678,"post_id":31746466,"comment_id":51426481,"body_markdown":"Can you please put some stacktrace? Thanks.","body":"Can you please put some stacktrace? Thanks."},{"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"score":0,"creation_date":1438346797,"post_id":31746466,"comment_id":51426551,"body_markdown":"There is no exception thrown","body":"There is no exception thrown"},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1438346846,"post_id":31746466,"comment_id":51426587,"body_markdown":"please enable debug logging for org.springframework.security. Then when you get the 403, copy the last 10-20 lines in the debug log from your IDE console.","body":"please enable debug logging for org.springframework.security. Then when you get the 403, copy the last 10-20 lines in the debug log from your IDE console."},{"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"score":0,"creation_date":1438347362,"post_id":31746466,"comment_id":51426926,"body_markdown":"Ok thanks, just added it to the question.","body":"Ok thanks, just added it to the question."},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1438347554,"post_id":31746466,"comment_id":51427073,"body_markdown":"As the log says, you are not logged in. Your configuration seems wrong. I have not that much idea about Java based configurations as I am using XML based. You can check out some examples. Secondly, instead of adding authority as &#39;myAuthority&#39;, please add something relevant like ROLE_USER.","body":"As the log says, you are not logged in. Your configuration seems wrong. I have not that much idea about Java based configurations as I am using XML based. You can check out some examples. Secondly, instead of adding authority as &#39;myAuthority&#39;, please add something relevant like ROLE_USER."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":3,"creation_date":1438347658,"post_id":31746466,"comment_id":51427156,"body_markdown":"You&#39;ve declared a custom filter, but you have not added it to your config `http.addFilter(new TokenFilter())`. Also check out [`addFilterBefore(...)`](http://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/HttpSecurityBuilder.html#addFilterBefore%28javax.servlet.Filter,%20java.lang.Class%29) or [`addFilterAfter(...)`](http://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/HttpSecurityBuilder.html#addFilterAfter%28javax.servlet.Filter,%20java.lang.Class%29)","body":"You&#39;ve declared a custom filter, but you have not added it to your config <code>http.addFilter(new TokenFilter())</code>. Also check out <a href=\"http://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/HttpSecurityBuilder.html#addFilterBefore%28javax.servlet.Filter,%20java.lang.Class%29\" rel=\"nofollow noreferrer\"><code>addFilterBefore(...)</code></a> or <a href=\"http://docs.spring.io/autorepo/docs/spring-security/4.0.1.RELEASE/apidocs/org/springframework/security/config/annotation/web/HttpSecurityBuilder.html#addFilterAfter%28javax.servlet.Filter,%20java.lang.Class%29\" rel=\"nofollow noreferrer\"><code>addFilterAfter(...)</code></a>"},{"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"score":1,"creation_date":1438349446,"post_id":31746466,"comment_id":51428368,"body_markdown":"Thanks Roman Vottner it worked! But before doing that it was already declared as a @component and effectively executed. Did it not work because of filter order? Or does &#39;http.addFilter&#39; do something special more that just registering the filter?","body":"Thanks Roman Vottner it worked! But before doing that it was already declared as a @component and effectively executed. Did it not work because of filter order? Or does &#39;http.addFilter&#39; do something special more that just registering the filter?"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":2,"creation_date":1438349985,"post_id":31746466,"comment_id":51428748,"body_markdown":"I&#39;m not aware of that filters are auto-discoverable at all. Pre Java-based web-configuration you needed to declare filters in XML via `&lt;filter&gt;&lt;filter-name&gt;customFilter&lt;/filter-name&gt;&lt;filter-class&gt;com.yourcompany.CustomFilter&lt;/filter-class&gt;&lt;/filter&gt;` also","body":"I&#39;m not aware of that filters are auto-discoverable at all. Pre Java-based web-configuration you needed to declare filters in XML via <code>&lt;filter&gt;&lt;filter-name&gt;customFilter&lt;&#47;filter-name&gt;&lt;filter-class&zwnj;&#8203;&gt;com.yourcompany.Cus&zwnj;&#8203;tomFilter&lt;&#47;filter-cl&zwnj;&#8203;ass&gt;&lt;&#47;filter&gt;</code> also"}],"answers":[{"comments":[{"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"score":2,"creation_date":1438346956,"post_id":31746545,"comment_id":51426667,"body_markdown":"Ok but where can I check for it? The code doing that is somewhere down in spring security, i don&#39;t understand the framework well enough to know where to look.","body":"Ok but where can I check for it? The code doing that is somewhere down in spring security, i don&#39;t understand the framework well enough to know where to look."},{"owner":{"account_id":1570741,"reputation":711,"user_id":1458482,"accept_rate":100,"display_name":"Zerkz"},"score":1,"creation_date":1438348692,"post_id":31746545,"comment_id":51427814,"body_markdown":"On your debugger, use &quot;Step Into&quot; instead of &quot;Step Over&quot;.","body":"On your debugger, use &quot;Step Into&quot; instead of &quot;Step Over&quot;."}],"tags":[],"owner":{"account_id":1570741,"reputation":711,"user_id":1458482,"accept_rate":100,"display_name":"Zerkz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438346712,"creation_date":1438346712,"answer_id":31746545,"question_id":31746466,"body_markdown":"Getting a 403 instead of a 401 usually means that you were logged in but you are not permitted (via authority) to see a resource.\r\n\r\nDebug and confirm that the user you are logging in has that authority (I know your code sets it, but maybe you are setting something else wrong).","title":"Spring security always returns HTTP 403","body":"<p>Getting a 403 instead of a 401 usually means that you were logged in but you are not permitted (via authority) to see a resource.</p>\n\n<p>Debug and confirm that the user you are logging in has that authority (I know your code sets it, but maybe you are setting something else wrong).</p>\n"},{"comments":[{"owner":{"account_id":13404844,"reputation":353,"user_id":9673158,"display_name":"Chirag Shah"},"score":2,"creation_date":1561387228,"post_id":31747267,"comment_id":100036571,"body_markdown":"I have changed my role name from USER to ROLE_USER in DB and it works. Thanks @Link","body":"I have changed my role name from USER to ROLE_USER in DB and it works. Thanks @Link"},{"owner":{"account_id":10008502,"reputation":169,"user_id":7402075,"display_name":"Ibtissam Ibtissama"},"score":0,"creation_date":1580643300,"post_id":31747267,"comment_id":106157607,"body_markdown":"it works for me too, ROLE_USER in DB and USER in java code as a role","body":"it works for me too, ROLE_USER in DB and USER in java code as a role"}],"tags":[],"owner":{"account_id":4667968,"reputation":321,"user_id":3780562,"display_name":"Link"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1438348975,"creation_date":1438348975,"answer_id":31747267,"question_id":31746466,"body_markdown":"The only (obvious) thing that might result to 403 is the users role is not set to `ROLE_myAuthority`.","title":"Spring security always returns HTTP 403","body":"<p>The only (obvious) thing that might result to 403 is the users role is not set to <code>ROLE_myAuthority</code>.</p>\n"},{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1546583413,"post_id":38669526,"comment_id":94903831,"body_markdown":"i think you can add the role in same configuration: authorizeRequests()\n                .antMatchers(&quot;/delete/**&quot;)\n                .hasRole(&quot;ROLE_ADMIN&quot;)","body":"i think you can add the role in same configuration: authorizeRequests()                 .antMatchers(&quot;/delete/**&quot;)                 .hasRole(&quot;ROLE_ADMIN&quot;)"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1546587384,"post_id":38669526,"comment_id":94904962,"body_markdown":"is it secure to disable csrf?","body":"is it secure to disable csrf?"},{"owner":{"account_id":15623101,"reputation":2772,"user_id":11271432,"display_name":"Cray"},"score":0,"creation_date":1560342310,"post_id":38669526,"comment_id":99703793,"body_markdown":"@user666 Simple answer: no, it is not secure. However when your website does not allow user to modify any data (save/update their data in database etc) then it could be secure (basically when you only allow GET requests) since the purpose of `csrf` protection is to prevent malicious websites from doing requests on user&#39;s behalf. [Good post about csrf](https://stackoverflow.com/questions/5207160/what-is-a-csrf-token-what-is-its-importance-and-how-does-it-work).","body":"@user666 Simple answer: no, it is not secure. However when your website does not allow user to modify any data (save/update their data in database etc) then it could be secure (basically when you only allow GET requests) since the purpose of <code>csrf</code> protection is to prevent malicious websites from doing requests on user&#39;s behalf. <a href=\"https://stackoverflow.com/questions/5207160/what-is-a-csrf-token-what-is-its-importance-and-how-does-it-work\">Good post about csrf</a>."}],"tags":[],"owner":{"account_id":4354076,"reputation":1270,"user_id":3553318,"accept_rate":14,"display_name":"doannx"},"comment_count":3,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1687442188,"creation_date":1469842005,"answer_id":38669526,"question_id":31746466,"body_markdown":"I have the same issue to you, every request is blocked by 403 error, except the [/] request. After a lot of time in crazy, I found the root cause, that is the [csrf].  \r\nThen my security config is like as following:  \r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n          .antMatchers(&quot;/delete/**&quot;).authenticated()\r\n          .and()\r\n          .httpBasic().and()\r\n          .csrf().disable();\r\n    }\r\nThis configuration says that: only [delete/**] should be authorized.  \r\nAnd I mark the [delete] action as following:  \r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    void delete(String id);\r\nHope to help someone.","title":"Spring security always returns HTTP 403","body":"<p>I have the same issue to you, every request is blocked by 403 error, except the [/] request. After a lot of time in crazy, I found the root cause, that is the [csrf].<br />\nThen my security config is like as following:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n      .antMatchers(&quot;/delete/**&quot;).authenticated()\n      .and()\n      .httpBasic().and()\n      .csrf().disable();\n}\n</code></pre>\n<p>This configuration says that: only [delete/**] should be authorized.<br />\nAnd I mark the [delete] action as following:</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ROLE_ADMIN')&quot;)\nvoid delete(String id);\n</code></pre>\n<p>Hope to help someone.</p>\n"},{"tags":[],"owner":{"account_id":1639431,"reputation":5035,"user_id":1512175,"accept_rate":57,"display_name":"Ithar"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1482253912,"creation_date":1482252786,"answer_id":41247428,"question_id":31746466,"body_markdown":"As others have said 403 means that user is logged in but doesn&#39;t have the right permission to view the resource; I would check the following: \r\n\r\n1. Your control has the correct role permission\r\n `@Secured( {&quot;ROLE_myAuthority&quot;} )` \r\n2. You had actually granted the correct permission `new SimpleGrantedAuthority(&quot;ROLE_myAuthority&quot;);` \r\n3. Actual granted authority from the UsernamePasswordAuthenticationToken object\r\n4. Filter is been injected correctly\r\n        \r\n\r\n        Authentication auth = new UsernamePasswordAuthenticationToken(username, authentication.getCredentials(), authorities);  \r\n        Collection&lt;? extends GrantedAuthority&gt; auths = auth.getAuthorities();`\r\n        \r\n        Iterator authsIterator = auths.iterator();\r\n        \r\n        while (authsIterator.hasNext()) {\r\n             SimpleGrantedAuthority sga =  (SimpleGrantedAuthority) authsIterator.next();\r\n                sga.getAuthority();\r\n            // ... \r\n        }\r\n\r\n","title":"Spring security always returns HTTP 403","body":"<p>As others have said 403 means that user is logged in but doesn't have the right permission to view the resource; I would check the following: </p>\n\n<ol>\n<li>Your control has the correct role permission\n<code>@Secured( {\"ROLE_myAuthority\"} )</code> </li>\n<li>You had actually granted the correct permission <code>new SimpleGrantedAuthority(\"ROLE_myAuthority\");</code> </li>\n<li>Actual granted authority from the UsernamePasswordAuthenticationToken object</li>\n<li><p>Filter is been injected correctly</p>\n\n<pre><code>Authentication auth = new UsernamePasswordAuthenticationToken(username, authentication.getCredentials(), authorities);  \nCollection&lt;? extends GrantedAuthority&gt; auths = auth.getAuthorities();`\n\nIterator authsIterator = auths.iterator();\n\nwhile (authsIterator.hasNext()) {\n     SimpleGrantedAuthority sga =  (SimpleGrantedAuthority) authsIterator.next();\n        sga.getAuthority();\n    // ... \n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11914172,"reputation":19,"user_id":8718512,"display_name":"Beary"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1534744045,"creation_date":1533626299,"answer_id":51720998,"question_id":31746466,"body_markdown":"`UsernamePasswordAuthenticationToken` extends `AbstractAuthenticationToken`, `AbstractAuthenticationToken` implements `Authentication`.\r\n\r\n[Spring security call `Authentication&#39;s` method `isAuthenticated()` to check whether it should be pass][1].\r\n\r\nSo you should call `setAuthenticated` of `UsernamePasswordAuthenticationToken` instance and set the argument `true`.\r\n\r\nLike this:\r\n\r\n    public class TokenFilter implements Filter {\r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n            GrantedAuthority authority = new SimpleGrantedAuthority(&quot;myAuthority&quot;);\r\n            UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, token, Arrays.asList(authority));\r\n\r\n            auth.setAuthenticated(true);\r\n\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/Authentication.html#isAuthenticated--","title":"Spring security always returns HTTP 403","body":"<p><code>UsernamePasswordAuthenticationToken</code> extends <code>AbstractAuthenticationToken</code>, <code>AbstractAuthenticationToken</code> implements <code>Authentication</code>.</p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/Authentication.html#isAuthenticated--\" rel=\"nofollow noreferrer\">Spring security call <code>Authentication's</code> method <code>isAuthenticated()</code> to check whether it should be pass</a>.</p>\n\n<p>So you should call <code>setAuthenticated</code> of <code>UsernamePasswordAuthenticationToken</code> instance and set the argument <code>true</code>.</p>\n\n<p>Like this:</p>\n\n<pre><code>public class TokenFilter implements Filter {\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        GrantedAuthority authority = new SimpleGrantedAuthority(\"myAuthority\");\n        UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, token, Arrays.asList(authority));\n\n        auth.setAuthenticated(true);\n\n        SecurityContextHolder.getContext().setAuthentication(auth);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3150389,"reputation":1496,"user_id":2663959,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559637289,"creation_date":1559637289,"answer_id":56440205,"question_id":31746466,"body_markdown":"Pretty old question but just in case someone stumble upon this post, an application had the same problem and it turns out to be an issue with `@ControllerAdvice`.\r\n\r\nBasically, the setup was like this:\r\n\r\n~~~java\r\n@ControllerAdvice\r\nclass MainController {\r\n~~~\r\n\r\n~~~java\r\n@PreAuthorize(&quot;...&quot;)\r\nclass AdminController extends MainController {\r\n~~~\r\n\r\nAnd for a strange reason, any controller extending from `MainController` would trigger the `@PreAuthorize` of the `AdminController` class even though there were no relationships between this controller and the latter.\r\n\r\nIn my case, it was an easy fix as removing the `@ControllerAdvice` was enough but if you need `@ControllerAdvice`, you might move the annotation to a class that is never used as a superclass.","title":"Spring security always returns HTTP 403","body":"<p>Pretty old question but just in case someone stumble upon this post, an application had the same problem and it turns out to be an issue with <code>@ControllerAdvice</code>.</p>\n\n<p>Basically, the setup was like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\nclass MainController {\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(\"...\")\nclass AdminController extends MainController {\n</code></pre>\n\n<p>And for a strange reason, any controller extending from <code>MainController</code> would trigger the <code>@PreAuthorize</code> of the <code>AdminController</code> class even though there were no relationships between this controller and the latter.</p>\n\n<p>In my case, it was an easy fix as removing the <code>@ControllerAdvice</code> was enough but if you need <code>@ControllerAdvice</code>, you might move the annotation to a class that is never used as a superclass.</p>\n"},{"comments":[{"owner":{"account_id":14702757,"reputation":2550,"user_id":10618375,"display_name":"Piazzi"},"score":0,"creation_date":1680011672,"post_id":64190857,"comment_id":133821396,"body_markdown":"Hey, can you provide me with your source code or the code for the filter? I&#39;m kinda stuck here.","body":"Hey, can you provide me with your source code or the code for the filter? I&#39;m kinda stuck here."}],"tags":[],"owner":{"account_id":12405531,"reputation":321,"user_id":9040672,"display_name":"Rayen Rejeb"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601781840,"creation_date":1601781522,"answer_id":64190857,"question_id":31746466,"body_markdown":"I know that this is a very old question but I just had the same error and I didn&#39;t find any solution on the internet.   \r\nIt is correct that **403** means that the user is **authenticated** but **not authorized** to get a resource. This is related to the claims part in your JWT.   \r\nYour JWT builder needs to set proper **claims** for the user :\r\n\r\n```\r\nList&lt;GrantedAuthority&gt; grantedAuthorities = AuthorityUtils\r\n\t\t\t\t.commaSeparatedStringToAuthorityList(&quot;ROLE_USER&quot;);\r\n\r\nJwts.builder()//\r\n\t\t\t\t.setIssuer(...)//\r\n\t\t\t\t.setSubject(...)//\r\n\t\t\t\t.setAudience(...)\r\n\r\n                // This is the part that you missed\r\n\r\n\t\t\t\t.claim(&quot;authorities&quot;,\r\n\t\t\t\t\t\tgrantedAuthorities.stream()\r\n\t\t\t\t\t\t.map(GrantedAuthority::getAuthority)\r\n\t\t\t\t\t\t.collect(Collectors.toList()))\r\n\r\n                // Ends here\r\n\r\n\t\t\t\t.setIssuedAt(date)//\r\n\t\t\t\t.setExpiration(new Date(date.getTime() + jwtExpirationMs))\r\n\t\t\t\t.signWith(SignatureAlgorithm.HS512, signingKey)//\r\n\t\t\t\t.compact();\r\n```\r\n   \r\nMy WebSecurity configuration : \r\n\r\n```\r\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\r\n\r\n...\r\n\r\n@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.cors().and().csrf().disable()//\r\n\t\t\t\t.authorizeRequests()//\r\n\t\t\t\t.antMatchers(...).permitAll()//\r\n\t\t\t\t.anyRequest().authenticated()\r\n                .and()\r\n                .sessionManagement()//\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\thttp.addFilterAfter(authenticationJwtTokenFilter(), BasicAuthenticationFilter.class);\r\n\t}\r\n```","title":"Spring security always returns HTTP 403","body":"<p>I know that this is a very old question but I just had the same error and I didn't find any solution on the internet.<br />\nIt is correct that <strong>403</strong> means that the user is <strong>authenticated</strong> but <strong>not authorized</strong> to get a resource. This is related to the claims part in your JWT.<br />\nYour JWT builder needs to set proper <strong>claims</strong> for the user :</p>\n<pre><code>List&lt;GrantedAuthority&gt; grantedAuthorities = AuthorityUtils\n                .commaSeparatedStringToAuthorityList(&quot;ROLE_USER&quot;);\n\nJwts.builder()//\n                .setIssuer(...)//\n                .setSubject(...)//\n                .setAudience(...)\n\n                // This is the part that you missed\n\n                .claim(&quot;authorities&quot;,\n                        grantedAuthorities.stream()\n                        .map(GrantedAuthority::getAuthority)\n                        .collect(Collectors.toList()))\n\n                // Ends here\n\n                .setIssuedAt(date)//\n                .setExpiration(new Date(date.getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, signingKey)//\n                .compact();\n</code></pre>\n<p>My WebSecurity configuration :</p>\n<pre><code>public class WebSecurity extends WebSecurityConfigurerAdapter {\n\n...\n\n@Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.cors().and().csrf().disable()//\n                .authorizeRequests()//\n                .antMatchers(...).permitAll()//\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement()//\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterAfter(authenticationJwtTokenFilter(), BasicAuthenticationFilter.class);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9500256,"reputation":983,"user_id":7061661,"display_name":"P&#233;ter Veres"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675632748,"creation_date":1675632748,"answer_id":75355669,"question_id":31746466,"body_markdown":"Confusingly Spring Security also returns 403 instead of 404 for all undefined endpoints if any restricting auth rule is set in the `SecurityFilterChain`.\r\n\r\nSo if you mistype a test url or (like me) forget to scan the the base package of the controller, this might set you on a wild-goose chase.\r\n\r\neg. this correctly returns `404` if I call an undefined endpoint:\r\n```java\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests()\r\n        .anyRequest().permitAll();\r\n    return http.build();\r\n}\r\n```\r\n\r\nWhile this returns `403` for the same call:\r\n```java\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests()\r\n        .requestMatchers(GET, &quot;/health/**&quot;).permitAll();\r\n    return http.build();\r\n}\r\n```","title":"Spring security always returns HTTP 403","body":"<p>Confusingly Spring Security also returns 403 instead of 404 for all undefined endpoints if any restricting auth rule is set in the <code>SecurityFilterChain</code>.</p>\n<p>So if you mistype a test url or (like me) forget to scan the the base package of the controller, this might set you on a wild-goose chase.</p>\n<p>eg. this correctly returns <code>404</code> if I call an undefined endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests()\n        .anyRequest().permitAll();\n    return http.build();\n}\n</code></pre>\n<p>While this returns <code>403</code> for the same call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests()\n        .requestMatchers(GET, &quot;/health/**&quot;).permitAll();\n    return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11624210,"reputation":731,"user_id":8514493,"display_name":"E.Big"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675813407,"creation_date":1675813407,"answer_id":75380102,"question_id":31746466,"body_markdown":"IDK is it meet topic question or not, but I didn&#39;t find any similar subject so I&#39;ll leave it here. \r\n\r\nI have pretty same situation: fully custom filter based on headers token authorization and always receiving 403 \r\n\r\nThat&#39;s what worked for me:\r\n\r\n```\r\nhttp.csrf().disable()\r\n                .formLogin().disable()\r\n                .httpBasic().disable()\r\n                .logout().disable()\r\n                .anonymous().disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\r\n                .addFilterBefore(XAuthTokenFilter, BasicAuthenticationFilter::class.java)\r\n``` \r\n\r\nAlso a good idea to use in your application config:\r\n\r\n```\r\nlogging:\r\n  level:\r\n    org.springframework.security: TRACE\r\n```\r\n\r\nto see what&#39;s going on inside filter chain.\r\n\r\nHope it will save somebody&#39;s time","title":"Spring security always returns HTTP 403","body":"<p>IDK is it meet topic question or not, but I didn't find any similar subject so I'll leave it here.</p>\n<p>I have pretty same situation: fully custom filter based on headers token authorization and always receiving 403</p>\n<p>That's what worked for me:</p>\n<pre><code>http.csrf().disable()\n                .formLogin().disable()\n                .httpBasic().disable()\n                .logout().disable()\n                .anonymous().disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n\n                .addFilterBefore(XAuthTokenFilter, BasicAuthenticationFilter::class.java)\n</code></pre>\n<p>Also a good idea to use in your application config:</p>\n<pre><code>logging:\n  level:\n    org.springframework.security: TRACE\n</code></pre>\n<p>to see what's going on inside filter chain.</p>\n<p>Hope it will save somebody's time</p>\n"},{"tags":[],"owner":{"account_id":2488321,"reputation":1753,"user_id":2166335,"display_name":"Melvin Sy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676389363,"creation_date":1676389363,"answer_id":75450140,"question_id":31746466,"body_markdown":"You might have a similar problem that I had by having the `server.servlet.context-path` configured in your `application.yml`\r\n\r\nIn my case, the `server.servlet.context-path` is configured to be `/api` and I expose the following endpoints below like so:\r\n\r\n    .requestMatchers(&quot;/api/health&quot;, &quot;/api/ping&quot;).permitAll()\r\n\r\nHowever, this won&#39;t work as spring security doesn&#39;t put the `context-path` into consideration so you have to omit that when specifying the endpoints.\r\n\r\n    .requestMatchers(&quot;/health&quot;, &quot;/ping&quot;).permitAll()","title":"Spring security always returns HTTP 403","body":"<p>You might have a similar problem that I had by having the <code>server.servlet.context-path</code> configured in your <code>application.yml</code></p>\n<p>In my case, the <code>server.servlet.context-path</code> is configured to be <code>/api</code> and I expose the following endpoints below like so:</p>\n<pre><code>.requestMatchers(&quot;/api/health&quot;, &quot;/api/ping&quot;).permitAll()\n</code></pre>\n<p>However, this won't work as spring security doesn't put the <code>context-path</code> into consideration so you have to omit that when specifying the endpoints.</p>\n<pre><code>.requestMatchers(&quot;/health&quot;, &quot;/ping&quot;).permitAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19593557,"reputation":9,"user_id":14340074,"display_name":"Shubham Jain"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689810955,"creation_date":1689810955,"answer_id":76725872,"question_id":31746466,"body_markdown":"Add &quot;/styles/*&quot; for CSS files\r\n\r\nhttp.authorizeHttpRequests(requests-&gt;requests                          .requestMatchers(&quot;/login&quot;,&quot;/register&quot;,&quot;/styles/*&quot;).permitAll().anyRequest().authenticated()","title":"Spring security always returns HTTP 403","body":"<p>Add &quot;/styles/*&quot; for CSS files</p>\n<p>http.authorizeHttpRequests(requests-&gt;requests                          .requestMatchers(&quot;/login&quot;,&quot;/register&quot;,&quot;/styles/*&quot;).permitAll().anyRequest().authenticated()</p>\n"}],"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108539,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":11,"score":42,"last_activity_date":1689810955,"creation_date":1438346452,"question_id":31746466,"body_markdown":"I have configured a custom `Filter` that grants a spring authority for every URL other than `/login` :\r\n\r\n    public class TokenFilter implements Filter {\r\n         @Override\r\n         public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n              GrantedAuthority authority = new SimpleGrantedAuthority(&quot;myAuthority&quot;);\r\n              UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, token, Arrays.asList(authority));\r\n              SecurityContextHolder.getContext().setAuthentication(auth);\r\n          }\r\n    }\r\n\r\nand a spring configuration that protects all requests (but /`login`) with that authority :\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/login&quot;).permitAll()\r\n                    .anyRequest().hasAuthority(&quot;myAuthority&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nBut every request except `/login` gets a HTTP `403` Forbidden.\r\n\r\nI have debugged and made sure the code from the filter is really triggered.\r\n\r\nWhat could be the problem?\r\n\r\n\r\nEDIT - when putting spring security logs in debug I get the following stack trace :\r\n\r\n    2015-07-31 14:52:42 [http-nio-8002-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point\r\n    org.springframework.security.access.AccessDeniedException: Acc&#232;s refus&#233;\r\n    \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:83) ~[spring-security-core-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:206) ~[spring-security-core-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84) ~[spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat com.kgwebapps.tonpronostic.security.TokenFilter.doFilter(TokenFilter.java:55) [classes/:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:683) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1720) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1679) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_40]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_40]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-7.0.54.jar:7.0.54]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]\r\n\r\n\r\n\r\n","title":"Spring security always returns HTTP 403","body":"<p>I have configured a custom <code>Filter</code> that grants a spring authority for every URL other than <code>/login</code> :</p>\n\n<pre><code>public class TokenFilter implements Filter {\n     @Override\n     public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n          GrantedAuthority authority = new SimpleGrantedAuthority(\"myAuthority\");\n          UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, token, Arrays.asList(authority));\n          SecurityContextHolder.getContext().setAuthentication(auth);\n      }\n}\n</code></pre>\n\n<p>and a spring configuration that protects all requests (but /<code>login</code>) with that authority :</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\"/login\").permitAll()\n                .anyRequest().hasAuthority(\"myAuthority\");\n    }\n\n}\n</code></pre>\n\n<p>But every request except <code>/login</code> gets a HTTP <code>403</code> Forbidden.</p>\n\n<p>I have debugged and made sure the code from the filter is really triggered.</p>\n\n<p>What could be the problem?</p>\n\n<p>EDIT - when putting spring security logs in debug I get the following stack trace :</p>\n\n<pre><code>2015-07-31 14:52:42 [http-nio-8002-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point\norg.springframework.security.access.AccessDeniedException: Accès refusé\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:83) ~[spring-security-core-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:206) ~[spring-security-core-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84) ~[spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160) [spring-security-web-3.2.4.RELEASE.jar:3.2.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at com.kgwebapps.tonpronostic.security.TokenFilter.doFilter(TokenFilter.java:55) [classes/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:683) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1720) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1679) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_40]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_40]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-7.0.54.jar:7.0.54]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-criteria"],"owner":{"account_id":7983782,"reputation":44,"user_id":6024066,"display_name":"spaghett1c0de"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689810863,"creation_date":1689810863,"question_id":76725865,"body_markdown":"I&#39;m having a hard time implementing Hibernate 6&#39;s new set-aggregate function **`listagg()`** and I couldn&#39;t find any resource online with a clear example. Here&#39;s the documentation:\r\n\r\n`JpaExpression&lt;String&gt; listagg​(JpaOrder order, JpaPredicate filter, JpaWindow window, jakarta.persistence.criteria.Expression&lt;String&gt; argument, jakarta.persistence.criteria.Expression&lt;String&gt; separator)`\r\n\r\nParameters:\r\n\r\norder - order by clause used in within group\r\n\r\nfilter - optional filter clause\r\n\r\nwindow - optional window over which to apply the function\r\n\r\nargument - values to join\r\n\r\nseparator - the separator used to join the values\r\n\r\nReturns: ordered set-aggregate expression\r\n\r\nAny help is appreciated :)","title":"How to Implement Hibernate 6 Set-Aggregate Function listagg() in Criteria API","body":"<p>I'm having a hard time implementing Hibernate 6's new set-aggregate function <strong><code>listagg()</code></strong> and I couldn't find any resource online with a clear example. Here's the documentation:</p>\n<p><code>JpaExpression&lt;String&gt; listagg​(JpaOrder order, JpaPredicate filter, JpaWindow window, jakarta.persistence.criteria.Expression&lt;String&gt; argument, jakarta.persistence.criteria.Expression&lt;String&gt; separator)</code></p>\n<p>Parameters:</p>\n<p>order - order by clause used in within group</p>\n<p>filter - optional filter clause</p>\n<p>window - optional window over which to apply the function</p>\n<p>argument - values to join</p>\n<p>separator - the separator used to join the values</p>\n<p>Returns: ordered set-aggregate expression</p>\n<p>Any help is appreciated :)</p>\n"},{"tags":["java","kotlin","auth0","ktor","kotest"],"comments":[{"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"score":0,"creation_date":1689836220,"post_id":76725671,"comment_id":135270255,"body_markdown":"Basically, you need to mock only the JwkProvider. Here (https://github.com/ktorio/ktor-samples/blob/main/jwt-auth-tests/src/test/kotlin/io/ktor/samples/jwtauth/ApplicationTest.kt) you can find an example of the test.","body":"Basically, you need to mock only the JwkProvider. Here (<a href=\"https://github.com/ktorio/ktor-samples/blob/main/jwt-auth-tests/src/test/kotlin/io/ktor/samples/jwtauth/ApplicationTest.kt\" rel=\"nofollow noreferrer\">github.com/ktorio/ktor-samples/blob/main/jwt-auth-tests/src&zwnj;&#8203;/&hellip;</a>) you can find an example of the test."}],"owner":{"account_id":5800648,"reputation":1387,"user_id":4574914,"accept_rate":56,"display_name":"joeyk16"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689809914,"creation_date":1689807185,"question_id":76725671,"body_markdown":"Authentication with Auth0 is working on development but my tests are all failing with a 401 now. I have tried to mock it but get the provided error below. I feel like this is a very common problem that any tested API application would have to overcome so thought I would reach out to any Kotlin or Java devs that might know a way to solve this:\r\n\r\nFor example, this spec should pass, its Kotest with Mockk:\r\n\r\n```\r\nit(&quot;returns an empty list&quot;) {\r\n    withService() {\r\n        val response = client.get(&quot;/v1/users&quot;) {\r\n            headers.append(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            headers.append(&quot;Authorization&quot;, &quot;Bearer ${token}&quot;)\r\n        }\r\n\r\n        response.status shouldBe HttpStatusCode.OK\r\n        response.bodyAsText().shouldBe(&quot;&quot;&quot;{&quot;data&quot;:[]}&quot;&quot;&quot;)\r\n    }\r\n}\r\n```\r\n\r\nHere is an example of Route setup:\r\n\r\n\r\n```\r\nfun Application.configureRouting() {\r\n    install(Authentication) {\r\n        jwt(&quot;auth0&quot;) {\r\n            verifier(JwtValidator.jwkProvider, System.getProperty(&quot;AUTH_0_DOMAIN&quot;))\r\n            validate { credential -&gt; JwtValidator.validateCreds(credential) }\r\n        }\r\n    }\r\n\r\n    routing {\r\n        route(&quot;/v1&quot;) {\r\n            userRouting()\r\n        }\r\n    }\r\n}\r\n\r\nfun Route.userRouting() {\r\n    authenticate(&quot;auth0&quot;) {\r\n        route(&quot;/users&quot;) {\r\n            get {\r\n                val users = transaction { User.all().map { it.to_json() } }\r\n                call.respond(mapOf(&quot;data&quot; to users))\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have tried to mock it but it&#39;s turned into mock city.\r\n\r\n```\r\n            it(&quot;returns an empty list&quot;) {\r\n                setTestEnvVariables()\r\n\r\n                val jwkProvider = mockk&lt;JwkProvider&gt;()\r\n                val jwk = mockk&lt;Jwk&gt;()\r\n                val publicKey: RSAPublicKey = generateTestKeyPair().public as RSAPublicKey\r\n\r\n                // Create a non-relaxed mock for the JWTVerifier\r\n                val verifier = mockk&lt;JWTVerifier&gt;()\r\n\r\n                val decodedJwt = mockk&lt;DecodedJWT&gt;()\r\n\r\n                mockkObject(JwtValidator) // Mock the JwtValidator object\r\n\r\n                // Mock the behavior of JwtValidator.jwkProvider\r\n                every { JwtValidator.jwkProvider } returns jwkProvider\r\n\r\n                // Mock the behavior of JwtValidator.validateCreds\r\n                every { JwtValidator.validateCreds(any()) } returns JWTPrincipal(mockk())\r\n\r\n                // Mock the behavior of JwkProvider.get\r\n                every { jwkProvider.get(any()) } returns jwk\r\n\r\n                // Mock the behavior of Jwk.getAlgorithm\r\n                every { jwk.getAlgorithm() } returns &quot;RS256&quot;\r\n\r\n                // Mock the behavior of Jwk.getPublicKey\r\n                every { jwk.publicKey } returns publicKey\r\n\r\n                // Return the mocked DecodedJWT on successful verification\r\n                every { verifier.verify(authorizationToken) } returns decodedJwt\r\n\r\n                withService() {\r\n                    val response = client.get(&quot;/v1/users&quot;) {\r\n                        headers.append(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        headers.append(&quot;Authorization&quot;, &quot;Bearer ${token}&quot;)\r\n                    }\r\n\r\n                    response.status shouldBe HttpStatusCode.OK\r\n                    response.bodyAsText().shouldBe(&quot;&quot;&quot;{&quot;data&quot;:[]}&quot;&quot;&quot;)\r\n                }\r\n            }\r\n```\r\nHere is the error it gets with a mocked test\r\n```\r\n2023-07-20 08:47:17.407 [DefaultDispatcher-worker-1] TRACE io.ktor.auth.jwt - Token verification failed\r\ncom.auth0.jwt.exceptions.SignatureVerificationException: The Token&#39;s Signature resulted invalid when verified using the Algorithm: SHA256withRSA\r\n  at com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:51)\r\n  at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:463)\r\n  at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)\r\n2023-07-20 08:47:17.408 [DefaultDispatcher-worker-1] TRACE io.ktor.se\r\n```","title":"How to test an Auth0 JWT authenticated API endpoint in Kotlin Ktor","body":"<p>Authentication with Auth0 is working on development but my tests are all failing with a 401 now. I have tried to mock it but get the provided error below. I feel like this is a very common problem that any tested API application would have to overcome so thought I would reach out to any Kotlin or Java devs that might know a way to solve this:</p>\n<p>For example, this spec should pass, its Kotest with Mockk:</p>\n<pre><code>it(&quot;returns an empty list&quot;) {\n    withService() {\n        val response = client.get(&quot;/v1/users&quot;) {\n            headers.append(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            headers.append(&quot;Authorization&quot;, &quot;Bearer ${token}&quot;)\n        }\n\n        response.status shouldBe HttpStatusCode.OK\n        response.bodyAsText().shouldBe(&quot;&quot;&quot;{&quot;data&quot;:[]}&quot;&quot;&quot;)\n    }\n}\n</code></pre>\n<p>Here is an example of Route setup:</p>\n<pre><code>fun Application.configureRouting() {\n    install(Authentication) {\n        jwt(&quot;auth0&quot;) {\n            verifier(JwtValidator.jwkProvider, System.getProperty(&quot;AUTH_0_DOMAIN&quot;))\n            validate { credential -&gt; JwtValidator.validateCreds(credential) }\n        }\n    }\n\n    routing {\n        route(&quot;/v1&quot;) {\n            userRouting()\n        }\n    }\n}\n\nfun Route.userRouting() {\n    authenticate(&quot;auth0&quot;) {\n        route(&quot;/users&quot;) {\n            get {\n                val users = transaction { User.all().map { it.to_json() } }\n                call.respond(mapOf(&quot;data&quot; to users))\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have tried to mock it but it's turned into mock city.</p>\n<pre><code>            it(&quot;returns an empty list&quot;) {\n                setTestEnvVariables()\n\n                val jwkProvider = mockk&lt;JwkProvider&gt;()\n                val jwk = mockk&lt;Jwk&gt;()\n                val publicKey: RSAPublicKey = generateTestKeyPair().public as RSAPublicKey\n\n                // Create a non-relaxed mock for the JWTVerifier\n                val verifier = mockk&lt;JWTVerifier&gt;()\n\n                val decodedJwt = mockk&lt;DecodedJWT&gt;()\n\n                mockkObject(JwtValidator) // Mock the JwtValidator object\n\n                // Mock the behavior of JwtValidator.jwkProvider\n                every { JwtValidator.jwkProvider } returns jwkProvider\n\n                // Mock the behavior of JwtValidator.validateCreds\n                every { JwtValidator.validateCreds(any()) } returns JWTPrincipal(mockk())\n\n                // Mock the behavior of JwkProvider.get\n                every { jwkProvider.get(any()) } returns jwk\n\n                // Mock the behavior of Jwk.getAlgorithm\n                every { jwk.getAlgorithm() } returns &quot;RS256&quot;\n\n                // Mock the behavior of Jwk.getPublicKey\n                every { jwk.publicKey } returns publicKey\n\n                // Return the mocked DecodedJWT on successful verification\n                every { verifier.verify(authorizationToken) } returns decodedJwt\n\n                withService() {\n                    val response = client.get(&quot;/v1/users&quot;) {\n                        headers.append(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                        headers.append(&quot;Authorization&quot;, &quot;Bearer ${token}&quot;)\n                    }\n\n                    response.status shouldBe HttpStatusCode.OK\n                    response.bodyAsText().shouldBe(&quot;&quot;&quot;{&quot;data&quot;:[]}&quot;&quot;&quot;)\n                }\n            }\n</code></pre>\n<p>Here is the error it gets with a mocked test</p>\n<pre><code>2023-07-20 08:47:17.407 [DefaultDispatcher-worker-1] TRACE io.ktor.auth.jwt - Token verification failed\ncom.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: SHA256withRSA\n  at com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:51)\n  at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:463)\n  at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)\n2023-07-20 08:47:17.408 [DefaultDispatcher-worker-1] TRACE io.ktor.se\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7869,"page":299,"page_size":100}
