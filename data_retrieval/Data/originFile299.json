{"items":[{"tags":["java","sql","spring","spring-boot","repository"],"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689795650,"creation_date":1689759474,"question_id":76719894,"body_markdown":"I was trying to query the table which returns an empty value in DB. And after I am setting it in List but while checking the list it was not empty. Why it was not empty or null? But DB returns empty only for the query.\r\n\r\nExample:\r\nList&lt;String&gt; keyLook = Repository.getTypeFromTable(key);\r\nRepository query is\r\n  @Query(value = &quot;SELECT TYPE FROM KEY_LOOK WHERE KEY IN (:KEY)&quot;, nativeQuery = true)\r\n\r\nWhile query in DB, returns as attached image. But while checking keyLook list it is not empty. Due to this, it is skipping null or empty check in Java, and the loop move inside implementations. what is the cause of this issue?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vUr3B.jpg","title":"Sql query returns empty value, but in list have some values in java","body":"<p>I was trying to query the table which returns an empty value in DB. And after I am setting it in List but while checking the list it was not empty. Why it was not empty or null? But DB returns empty only for the query.</p>\n<p>Example:\nList keyLook = Repository.getTypeFromTable(key);\nRepository query is\n@Query(value = &quot;SELECT TYPE FROM KEY_LOOK WHERE KEY IN (:KEY)&quot;, nativeQuery = true)</p>\n<p>While query in DB, returns as attached image. But while checking keyLook list it is not empty. Due to this, it is skipping null or empty check in Java, and the loop move inside implementations. what is the cause of this issue?</p>\n<p><a href=\"https://i.stack.imgur.com/vUr3B.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUr3B.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","json","qjsonobject"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689559138,"post_id":76701044,"comment_id":135225712,"body_markdown":"You are trying to parse a string of HTML as JSON, I would say.","body":"You are trying to parse a string of HTML as JSON, I would say."},{"owner":{"account_id":29028716,"reputation":1,"user_id":22236228,"display_name":"Syarief Rahman"},"score":0,"creation_date":1689559762,"post_id":76701044,"comment_id":135225758,"body_markdown":"I can&#39;t understand it, can you explain in more detail?","body":"I can&#39;t understand it, can you explain in more detail?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689559902,"post_id":76701044,"comment_id":135225770,"body_markdown":"You haven&#39;t posted the stack trace of the exception, so it&#39;s difficult to be certain, but most likely the POST request made by `RegisterUser` is returning HTML instead of JSON. You could log the string before you try to parse it to see what&#39;s happening, or use the debugger.","body":"You haven&#39;t posted the stack trace of the exception, so it&#39;s difficult to be certain, but most likely the POST request made by <code>RegisterUser</code> is returning HTML instead of JSON. You could log the string before you try to parse it to see what&#39;s happening, or use the debugger."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689563440,"post_id":76701044,"comment_id":135226030,"body_markdown":"So that is where it&#39;s happening (by the way, you should copy and paste stack traces instead of posting images)","body":"So that is where it&#39;s happening (by the way, you should copy and paste stack traces instead of posting images)"},{"owner":{"account_id":29028716,"reputation":1,"user_id":22236228,"display_name":"Syarief Rahman"},"score":0,"creation_date":1689564267,"post_id":76701044,"comment_id":135226105,"body_markdown":"i&#39;m sorry dude, this my first time using stack overflow, and i still got stuck with that problem","body":"i&#39;m sorry dude, this my first time using stack overflow, and i still got stuck with that problem"}],"owner":{"account_id":29028716,"reputation":1,"user_id":22236228,"display_name":"Syarief Rahman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689795498,"creation_date":1689557599,"question_id":76701044,"body_markdown":"I have tried to fix this json program but always have problem in this case, this program can&#39;t output data to database and i think the problem is in java mainactivity. But until now I still don&#39;t know where the problem is.\r\n\r\n\r\nthis is my ShaperedPrefManager\r\n\r\n\r\n```lang-java\r\n\r\npublic class SharedPrefManager {\r\n    //the constants\r\n    private static final String SHARED_PREF_NAME = &quot;simplifiedcodingsharedpref&quot;;\r\n    private static final String KEY_USERNAME = &quot;keyusername&quot;;\r\n\r\n    private static final String KEY_ID = &quot;keyid&quot;;\r\n\r\n    private static SharedPrefManager mInstance;\r\n    private static Context mCtx;\r\n\r\n    private SharedPrefManager(Context context) {\r\n        mCtx = context;\r\n    }\r\n\r\n    public static synchronized SharedPrefManager getInstance(Context context) {\r\n        if (mInstance == null) {\r\n            mInstance = new SharedPrefManager(context);\r\n        }\r\n        return mInstance;\r\n    }\r\n\r\n    //method to let the user login\r\n    //this method will store the user data in shared preferences\r\n    public void userLogin(user user) {\r\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putInt(KEY_ID, user.getId());\r\n        editor.putString(KEY_USERNAME, user.getUsername());\r\n\r\n        editor.apply();\r\n    }\r\n\r\n    //this method will checker whether user is already logged in or not\r\n    public boolean isLoggedIn() {\r\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\r\n        return sharedPreferences.getString(KEY_USERNAME, null) != null;\r\n    }\r\n\r\n    //this method will give the logged in user\r\n    public user getUser() {\r\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\r\n        return new user(\r\n                sharedPreferences.getInt(KEY_ID, -1),\r\n                sharedPreferences.getString(KEY_USERNAME, null)\r\n\r\n        );\r\n    }\r\n\r\n    //this method will logout the user\r\n    public void logout() {\r\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n        mCtx.startActivity(new Intent(mCtx, LoginActivity.class));\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nthis activity main\r\n\r\n\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.example.apbProject.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;10dp&quot;&gt;\r\n\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextUsername&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:hint=&quot;Username&quot;\r\n            android:inputType=&quot;text&quot; /&gt;\r\n\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextPassword&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:fontFamily=&quot;sans-serif&quot;\r\n            android:hint=&quot;Password&quot;\r\n            android:inputType=&quot;textPassword&quot; /&gt;\r\n\r\n\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonRegister&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;Register&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewLogin&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;Already Registered?\\nLogin Here&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Medium&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:visibility=&quot;gone&quot;\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nand this my mainactivity java\r\n\r\n\r\n\r\n```lang-js\r\npackage com.example.apbProject;\r\n\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.registeractivity.R;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    EditText editTextUsername, editTextEmail, editTextPassword;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //if the user is already logged in we will directly start the profile activity\r\n        if (SharedPrefManager.getInstance(this).isLoggedIn()) {\r\n            finish();\r\n            startActivity(new Intent(this, MonitoringActivity.class));\r\n            return;\r\n        }\r\n\r\n        editTextUsername = (EditText) findViewById(R.id.editTextUsername);\r\n        editTextPassword = (EditText) findViewById(R.id.editTextPassword);\r\n\r\n\r\n\r\n        findViewById(R.id.buttonRegister).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //if user pressed on button register\r\n                //here we will register the user to server\r\n                registerUser();\r\n            }\r\n        });\r\n\r\n        findViewById(R.id.textViewLogin).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //if user pressed on login\r\n                //we will open the login screen\r\n                finish();\r\n                startActivity(new Intent(MainActivity.this, LoginActivity.class));\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void registerUser() {\r\n        final String username = editTextUsername.getText().toString().trim();\r\n\r\n        final String password = editTextPassword.getText().toString().trim();\r\n\r\n\r\n\r\n        //first we will do the validations\r\n\r\n        if (TextUtils.isEmpty(username)) {\r\n            editTextUsername.setError(&quot;Please enter username&quot;);\r\n            editTextUsername.requestFocus();\r\n            return;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        if (TextUtils.isEmpty(password)) {\r\n            editTextPassword.setError(&quot;Enter a password&quot;);\r\n            editTextPassword.requestFocus();\r\n            return;\r\n        }\r\n\r\n        //if it passes all the validations\r\n\r\n        class RegisterUser extends AsyncTask&lt;Void, Void, String&gt; {\r\n\r\n            private ProgressBar progressBar;\r\n\r\n            @Override\r\n            protected String doInBackground(Void... voids) {\r\n                //creating request handler object\r\n                RequestHandler requestHandler = new RequestHandler();\r\n\r\n                //creating request parameters\r\n                HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;username&quot;, username);\r\n                params.put(&quot;password&quot;, password);\r\n\r\n\r\n                //returing the response\r\n                return requestHandler.sendPostRequest(URLs.URL_REGISTER, params);\r\n            }\r\n\r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n                //displaying the progress bar while user registers on the server\r\n                progressBar = (ProgressBar) findViewById(R.id.progressBar);\r\n                progressBar.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(String s) {\r\n                super.onPostExecute(s);\r\n                //hiding the progressbar after completion\r\n                progressBar.setVisibility(View.GONE);\r\n\r\n                try {\r\n                    //converting response to json object\r\n\r\n                    JSONObject obj = new JSONObject(s);\r\n\r\n                    //if no error in response\r\n                    if (!obj.getBoolean(&quot;error&quot;)) {\r\n                        Toast.makeText(getApplicationContext(), obj.getString(&quot;message&quot;), Toast.LENGTH_SHORT).show();\r\n\r\n                        //getting the user from the response\r\n                        JSONObject userJson = obj.getJSONObject(&quot;user&quot;);\r\n\r\n                        //creating a new user object\r\n                      user user = new user(\r\n                                userJson.getInt(&quot;id&quot;),\r\n                                userJson.getString(&quot;username&quot;)\r\n\r\n                        );\r\n\r\n                        //storing the user in shared preferences\r\n                        SharedPrefManager.getInstance(getApplicationContext()).userLogin(user);\r\n\r\n                        //starting the profile activity\r\n                        finish();\r\n                        startActivity(new Intent(getApplicationContext(), LoginActivity.class));\r\n                    } else {\r\n                        Toast.makeText(getApplicationContext(), &quot;Some error occurred&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        //executing the async task\r\n        RegisterUser ru = new RegisterUser();\r\n        ru.execute();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand this is my Api.php\r\n\r\n```\r\nlang-php\r\n&lt;?php \r\n \r\n require_once &#39;DbConnect.php&#39;;\r\n \r\n $response = array();\r\n \r\n if(isset($_GET[&#39;apicall&#39;])){\r\n \r\n switch($_GET[&#39;apicall&#39;]){\r\n \r\n case &#39;signup&#39;:\r\n if(isTheseParametersAvailable(array(&#39;username&#39;,&#39;password&#39;,))){\r\n $username = $_POST[&#39;username&#39;]; \r\n\r\n $password = $_POST[&#39;password&#39;];\r\n\r\n \r\n $stmt = $conn-&gt;prepare(&quot;SELECT id FROM users WHERE username = ?&quot;);\r\n $stmt-&gt;bind_param(&quot;s&quot;, $username);\r\n $stmt-&gt;execute();\r\n $stmt-&gt;store_result();\r\n \r\n if($stmt-&gt;num_rows &gt; 0){\r\n $response[&#39;error&#39;] = true;\r\n $response[&#39;message&#39;] = &#39;User already registered&#39;;\r\n $stmt-&gt;close();\r\n }else{\r\n $stmt = $conn-&gt;prepare(&quot;INSERT INTO users (username, password) VALUES (?, ?)&quot;);\r\n $stmt-&gt;bind_param(&quot;ss&quot;, $username, $password);\r\n \r\n if($stmt-&gt;execute()){\r\n $stmt = $conn-&gt;prepare(&quot;SELECT id, id, username FROM users WHERE username = ?&quot;); \r\n $stmt-&gt;bind_param(&quot;s&quot;,$username);\r\n $stmt-&gt;execute();\r\n $stmt-&gt;bind_result($userid, $id, $username);\r\n $stmt-&gt;fetch();\r\n \r\n $user = array(\r\n &#39;id&#39;=&gt;$id, \r\n &#39;username&#39;=&gt;$username, \r\n \r\n );\r\n \r\n $stmt-&gt;close();\r\n \r\n $response[&#39;error&#39;] = false; \r\n $response[&#39;message&#39;] = &#39;User registered successfully&#39;; \r\n $response[&#39;user&#39;] = $user; \r\n }\r\n }\r\n \r\n }else{\r\n $response[&#39;error&#39;] = true; \r\n $response[&#39;message&#39;] = &#39;required parameters are not available&#39;; \r\n }\r\n \r\n break; \r\n \r\n case &#39;login&#39;:\r\n \r\n if(isTheseParametersAvailable(array(&#39;username&#39;, &#39;password&#39;))){\r\n \r\n $username = $_POST[&#39;username&#39;];\r\n $password = md5($_POST[&#39;password&#39;]); \r\n \r\n $stmt = $conn-&gt;prepare(&quot;SELECT id, username FROM users WHERE username = ? AND password = ?&quot;);\r\n $stmt-&gt;bind_param(&quot;ssss&quot;,$username, $password);\r\n \r\n $stmt-&gt;execute();\r\n \r\n $stmt-&gt;store_result();\r\n \r\n if($stmt-&gt;num_rows &gt; 0){\r\n \r\n $stmt-&gt;bind_result($id, $username);\r\n $stmt-&gt;fetch();\r\n \r\n $user = array(\r\n &#39;id&#39;=&gt;$id, \r\n &#39;username&#39;=&gt;$username, \r\n \r\n );\r\n \r\n $response[&#39;error&#39;] = false; \r\n $response[&#39;message&#39;] = &#39;Login successfull&#39;; \r\n $response[&#39;user&#39;] = $user; \r\n }else{\r\n $response[&#39;error&#39;] = false; \r\n $response[&#39;message&#39;] = &#39;Invalid username or password&#39;;\r\n }\r\n }\r\n break; \r\n \r\n default: \r\n $response[&#39;error&#39;] = true; \r\n $response[&#39;message&#39;] = &#39;Invalid Operation Called&#39;;\r\n }\r\n \r\n }else{\r\n $response[&#39;error&#39;] = true; \r\n $response[&#39;message&#39;] = &#39;Invalid API Call&#39;;\r\n }\r\n \r\n echo json_encode($response);\r\n \r\n function isTheseParametersAvailable($params){\r\n \r\n foreach($params as $param){\r\n if(!isset($_POST[$param])){\r\n return false; \r\n }\r\n }\r\n return true; \r\n }\r\n ?&gt;\r\n```\r\n\r\nThis my error message:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GCymQ.jpg","title":"W/System.err: org.json.JSONException: Value &lt;br of type java.lang.String cannot be converted to JSONObjec","body":"<p>I have tried to fix this json program but always have problem in this case, this program can't output data to database and i think the problem is in java mainactivity. But until now I still don't know where the problem is.</p>\n<p>this is my ShaperedPrefManager</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class SharedPrefManager {\n    //the constants\n    private static final String SHARED_PREF_NAME = &quot;simplifiedcodingsharedpref&quot;;\n    private static final String KEY_USERNAME = &quot;keyusername&quot;;\n\n    private static final String KEY_ID = &quot;keyid&quot;;\n\n    private static SharedPrefManager mInstance;\n    private static Context mCtx;\n\n    private SharedPrefManager(Context context) {\n        mCtx = context;\n    }\n\n    public static synchronized SharedPrefManager getInstance(Context context) {\n        if (mInstance == null) {\n            mInstance = new SharedPrefManager(context);\n        }\n        return mInstance;\n    }\n\n    //method to let the user login\n    //this method will store the user data in shared preferences\n    public void userLogin(user user) {\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putInt(KEY_ID, user.getId());\n        editor.putString(KEY_USERNAME, user.getUsername());\n\n        editor.apply();\n    }\n\n    //this method will checker whether user is already logged in or not\n    public boolean isLoggedIn() {\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\n        return sharedPreferences.getString(KEY_USERNAME, null) != null;\n    }\n\n    //this method will give the logged in user\n    public user getUser() {\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\n        return new user(\n                sharedPreferences.getInt(KEY_ID, -1),\n                sharedPreferences.getString(KEY_USERNAME, null)\n\n        );\n    }\n\n    //this method will logout the user\n    public void logout() {\n        SharedPreferences sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.clear();\n        editor.apply();\n        mCtx.startActivity(new Intent(mCtx, LoginActivity.class));\n    }\n}\n\n\n</code></pre>\n<p>this activity main</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.example.apbProject.MainActivity&quot;&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:orientation=&quot;vertical&quot;\n        android:padding=&quot;10dp&quot;&gt;\n\n\n        &lt;EditText\n            android:id=&quot;@+id/editTextUsername&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:hint=&quot;Username&quot;\n            android:inputType=&quot;text&quot; /&gt;\n\n\n        &lt;EditText\n            android:id=&quot;@+id/editTextPassword&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:fontFamily=&quot;sans-serif&quot;\n            android:hint=&quot;Password&quot;\n            android:inputType=&quot;textPassword&quot; /&gt;\n\n\n\n        &lt;Button\n            android:id=&quot;@+id/buttonRegister&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:text=&quot;Register&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textViewLogin&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:text=&quot;Already Registered?\\nLogin Here&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Medium&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;ProgressBar\n        android:visibility=&quot;gone&quot;\n        android:id=&quot;@+id/progressBar&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>and this my mainactivity java</p>\n<pre class=\"lang-js prettyprint-override\"><code>package com.example.apbProject;\n\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\nimport com.example.registeractivity.R;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.HashMap;\n\npublic class MainActivity extends AppCompatActivity {\n    EditText editTextUsername, editTextEmail, editTextPassword;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //if the user is already logged in we will directly start the profile activity\n        if (SharedPrefManager.getInstance(this).isLoggedIn()) {\n            finish();\n            startActivity(new Intent(this, MonitoringActivity.class));\n            return;\n        }\n\n        editTextUsername = (EditText) findViewById(R.id.editTextUsername);\n        editTextPassword = (EditText) findViewById(R.id.editTextPassword);\n\n\n\n        findViewById(R.id.buttonRegister).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //if user pressed on button register\n                //here we will register the user to server\n                registerUser();\n            }\n        });\n\n        findViewById(R.id.textViewLogin).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //if user pressed on login\n                //we will open the login screen\n                finish();\n                startActivity(new Intent(MainActivity.this, LoginActivity.class));\n            }\n        });\n\n    }\n\n    private void registerUser() {\n        final String username = editTextUsername.getText().toString().trim();\n\n        final String password = editTextPassword.getText().toString().trim();\n\n\n\n        //first we will do the validations\n\n        if (TextUtils.isEmpty(username)) {\n            editTextUsername.setError(&quot;Please enter username&quot;);\n            editTextUsername.requestFocus();\n            return;\n        }\n\n\n\n\n\n        if (TextUtils.isEmpty(password)) {\n            editTextPassword.setError(&quot;Enter a password&quot;);\n            editTextPassword.requestFocus();\n            return;\n        }\n\n        //if it passes all the validations\n\n        class RegisterUser extends AsyncTask&lt;Void, Void, String&gt; {\n\n            private ProgressBar progressBar;\n\n            @Override\n            protected String doInBackground(Void... voids) {\n                //creating request handler object\n                RequestHandler requestHandler = new RequestHandler();\n\n                //creating request parameters\n                HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;username&quot;, username);\n                params.put(&quot;password&quot;, password);\n\n\n                //returing the response\n                return requestHandler.sendPostRequest(URLs.URL_REGISTER, params);\n            }\n\n            @Override\n            protected void onPreExecute() {\n                super.onPreExecute();\n                //displaying the progress bar while user registers on the server\n                progressBar = (ProgressBar) findViewById(R.id.progressBar);\n                progressBar.setVisibility(View.VISIBLE);\n            }\n\n            @Override\n            protected void onPostExecute(String s) {\n                super.onPostExecute(s);\n                //hiding the progressbar after completion\n                progressBar.setVisibility(View.GONE);\n\n                try {\n                    //converting response to json object\n\n                    JSONObject obj = new JSONObject(s);\n\n                    //if no error in response\n                    if (!obj.getBoolean(&quot;error&quot;)) {\n                        Toast.makeText(getApplicationContext(), obj.getString(&quot;message&quot;), Toast.LENGTH_SHORT).show();\n\n                        //getting the user from the response\n                        JSONObject userJson = obj.getJSONObject(&quot;user&quot;);\n\n                        //creating a new user object\n                      user user = new user(\n                                userJson.getInt(&quot;id&quot;),\n                                userJson.getString(&quot;username&quot;)\n\n                        );\n\n                        //storing the user in shared preferences\n                        SharedPrefManager.getInstance(getApplicationContext()).userLogin(user);\n\n                        //starting the profile activity\n                        finish();\n                        startActivity(new Intent(getApplicationContext(), LoginActivity.class));\n                    } else {\n                        Toast.makeText(getApplicationContext(), &quot;Some error occurred&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        //executing the async task\n        RegisterUser ru = new RegisterUser();\n        ru.execute();\n    }\n\n}\n</code></pre>\n<p>and this is my Api.php</p>\n<pre><code>lang-php\n&lt;?php \n \n require_once 'DbConnect.php';\n \n $response = array();\n \n if(isset($_GET['apicall'])){\n \n switch($_GET['apicall']){\n \n case 'signup':\n if(isTheseParametersAvailable(array('username','password',))){\n $username = $_POST['username']; \n\n $password = $_POST['password'];\n\n \n $stmt = $conn-&gt;prepare(&quot;SELECT id FROM users WHERE username = ?&quot;);\n $stmt-&gt;bind_param(&quot;s&quot;, $username);\n $stmt-&gt;execute();\n $stmt-&gt;store_result();\n \n if($stmt-&gt;num_rows &gt; 0){\n $response['error'] = true;\n $response['message'] = 'User already registered';\n $stmt-&gt;close();\n }else{\n $stmt = $conn-&gt;prepare(&quot;INSERT INTO users (username, password) VALUES (?, ?)&quot;);\n $stmt-&gt;bind_param(&quot;ss&quot;, $username, $password);\n \n if($stmt-&gt;execute()){\n $stmt = $conn-&gt;prepare(&quot;SELECT id, id, username FROM users WHERE username = ?&quot;); \n $stmt-&gt;bind_param(&quot;s&quot;,$username);\n $stmt-&gt;execute();\n $stmt-&gt;bind_result($userid, $id, $username);\n $stmt-&gt;fetch();\n \n $user = array(\n 'id'=&gt;$id, \n 'username'=&gt;$username, \n \n );\n \n $stmt-&gt;close();\n \n $response['error'] = false; \n $response['message'] = 'User registered successfully'; \n $response['user'] = $user; \n }\n }\n \n }else{\n $response['error'] = true; \n $response['message'] = 'required parameters are not available'; \n }\n \n break; \n \n case 'login':\n \n if(isTheseParametersAvailable(array('username', 'password'))){\n \n $username = $_POST['username'];\n $password = md5($_POST['password']); \n \n $stmt = $conn-&gt;prepare(&quot;SELECT id, username FROM users WHERE username = ? AND password = ?&quot;);\n $stmt-&gt;bind_param(&quot;ssss&quot;,$username, $password);\n \n $stmt-&gt;execute();\n \n $stmt-&gt;store_result();\n \n if($stmt-&gt;num_rows &gt; 0){\n \n $stmt-&gt;bind_result($id, $username);\n $stmt-&gt;fetch();\n \n $user = array(\n 'id'=&gt;$id, \n 'username'=&gt;$username, \n \n );\n \n $response['error'] = false; \n $response['message'] = 'Login successfull'; \n $response['user'] = $user; \n }else{\n $response['error'] = false; \n $response['message'] = 'Invalid username or password';\n }\n }\n break; \n \n default: \n $response['error'] = true; \n $response['message'] = 'Invalid Operation Called';\n }\n \n }else{\n $response['error'] = true; \n $response['message'] = 'Invalid API Call';\n }\n \n echo json_encode($response);\n \n function isTheseParametersAvailable($params){\n \n foreach($params as $param){\n if(!isset($_POST[$param])){\n return false; \n }\n }\n return true; \n }\n ?&gt;\n</code></pre>\n<p>This my error message:</p>\n<p><a href=\"https://i.stack.imgur.com/GCymQ.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","windows","selenium-webdriver","path","jmeter"],"comments":[{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1689706788,"post_id":76715666,"comment_id":135250906,"body_markdown":"Did you mean &quot;/input[@id=.....&quot;? Notice just one &#39;/&#39;","body":"Did you mean &quot;/input[@id=.....&quot;? Notice just one &#39;/&#39;"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689710766,"creation_date":1689709539,"answer_id":76716082,"question_id":76715666,"body_markdown":"You can either use single forward slash i.e. `/`:\r\n\r\n    WDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//input[@id=&#39;versionFile&#39;]&quot;)).sendKeys(&quot;C:/Users/dsuhoparov/test.docx&quot;);\r\n\r\nor the escaped backward slash i.e. `\\\\`:\r\n\r\n    WDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//input[@id=&#39;versionFile&#39;]&quot;)).sendKeys(&quot;C:\\\\Users\\\\dsuhoparov\\\\test.docx&quot;);","title":"JMeter incorrectly interprets the slashes in windows file path","body":"<p>You can either use single forward slash i.e. <code>/</code>:</p>\n<pre><code>WDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//input[@id='versionFile']&quot;)).sendKeys(&quot;C:/Users/dsuhoparov/test.docx&quot;);\n</code></pre>\n<p>or the escaped backward slash i.e. <code>\\\\</code>:</p>\n<pre><code>WDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//input[@id='versionFile']&quot;)).sendKeys(&quot;C:\\\\Users\\\\dsuhoparov\\\\test.docx&quot;);\n</code></pre>\n"}],"owner":{"account_id":26238404,"reputation":63,"user_id":19913135,"display_name":"Danila Sukhoparov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76716082,"answer_count":1,"score":0,"last_activity_date":1689795027,"creation_date":1689705130,"question_id":76715666,"body_markdown":"I need to provide a file path to selenium in JMeter to upload file on page\r\n\r\nHowever if I write this:\r\n```\r\nWDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//input[@id=&#39;versionFile&#39;]&quot;)).sendKeys(&#39;C:\\\\Users\\\\dsuhoparov\\\\test.docx&#39;);`\r\n```\r\n\r\nselenium throws error:\r\n\r\n    Response code:500 Response message:invalid argument: File not found : C:Usersdsuhoparov\test.docx&quot;\r\n\r\nSo it seems java/JMeter has problems with slashes, could someone help?","title":"JMeter incorrectly interprets the slashes in windows file path","body":"<p>I need to provide a file path to selenium in JMeter to upload file on page</p>\n<p>However if I write this:</p>\n<pre><code>WDS.browser.findElement(org.openqa.selenium.By.xpath(&quot;//input[@id='versionFile']&quot;)).sendKeys('C:\\\\Users\\\\dsuhoparov\\\\test.docx');`\n</code></pre>\n<p>selenium throws error:</p>\n<pre><code>Response code:500 Response message:invalid argument: File not found : C:Usersdsuhoparov est.docx&quot;\n</code></pre>\n<p>So it seems java/JMeter has problems with slashes, could someone help?</p>\n"},{"tags":["java","eclipse","maven","pom.xml","toolchain"],"answers":[{"tags":[],"owner":{"account_id":12285714,"reputation":983,"user_id":8965245,"display_name":"Nawnit Sen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1564721253,"creation_date":1538720855,"answer_id":52659513,"question_id":52659327,"body_markdown":"change the version in pom to 1.8 instead of jdk1.8.0_172\r\n\r\n  \r\n\r\n                    &lt;configuration&gt;\r\n                        &lt;toolchains&gt;\r\n                            &lt;jdk&gt;\r\n                                &lt;version&gt;1.8&lt;/version&gt;\r\n                                &lt;vendor&gt;sun&lt;/vendor&gt;\r\n                            &lt;/jdk&gt;\r\n                        &lt;/toolchains&gt;\r\n                    &lt;/configuration&gt;","title":"Failed to Build Application Getting Error::No toolchain found for type jdk","body":"<p>change the version in pom to 1.8 instead of jdk1.8.0_172</p>\n\n<pre><code>                &lt;configuration&gt;\n                    &lt;toolchains&gt;\n                        &lt;jdk&gt;\n                            &lt;version&gt;1.8&lt;/version&gt;\n                            &lt;vendor&gt;sun&lt;/vendor&gt;\n                        &lt;/jdk&gt;\n                    &lt;/toolchains&gt;\n                &lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650336227,"creation_date":1650336227,"answer_id":71919097,"question_id":52659327,"body_markdown":"Check your directory path carefully. The two comments about file location and testing with `maven --toolchains C:\\User\\zzz\\.m2\\toolchains.xml clean install` helped me see that my folder was &quot;m2&quot; and not &quot;.m2&quot;.","title":"Failed to Build Application Getting Error::No toolchain found for type jdk","body":"<p>Check your directory path carefully. The two comments about file location and testing with <code>maven --toolchains C:\\User\\zzz\\.m2\\toolchains.xml clean install</code> helped me see that my folder was &quot;m2&quot; and not &quot;.m2&quot;.</p>\n"},{"tags":[],"owner":{"account_id":17932155,"reputation":11,"user_id":13029312,"display_name":"spyrka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689794963,"creation_date":1689794963,"answer_id":76724644,"question_id":52659327,"body_markdown":"I know it might sound silly, but I had the same problem as here due to typo... Toolchain file name was not correct: used `toolchain.xml`, instead of `toolchains.xml`, so maven did not detect it automatically (using flag `--global-toolchains file` located it though).  ","title":"Failed to Build Application Getting Error::No toolchain found for type jdk","body":"<p>I know it might sound silly, but I had the same problem as here due to typo... Toolchain file name was not correct: used <code>toolchain.xml</code>, instead of <code>toolchains.xml</code>, so maven did not detect it automatically (using flag <code>--global-toolchains file</code> located it though).</p>\n"}],"owner":{"account_id":14480734,"reputation":43,"user_id":10460036,"display_name":"komal "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13714,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52659513,"answer_count":3,"score":4,"last_activity_date":1689794963,"creation_date":1538719998,"question_id":52659327,"body_markdown":"I have tried different solution for this but didn&#39;t work for me, \r\n\r\nplease see the error log and `toolchain.xml` file.\r\n\r\nThese are error logs:    \r\n\r\n\r\n\r\n\r\n        \r\n    [INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ ad-api ---\r\n    [INFO] Required toolchain: jdk [ vendor=&#39;sun&#39; version=&#39;1.8&#39; ]\r\n    [ERROR] No toolchain found for type jdk\r\n    [ERROR] Cannot find matching toolchain definitions for the following toolchain types:\r\n    jdk [ vendor=&#39;sun&#39; version=&#39;1.8&#39; ]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.619 s\r\n    [INFO] Finished at: 2018-10-05T08:56:24+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain (default) on project ad-api: Cannot find matching toolchain definitions for the following toolchain types:\r\n    [ERROR] jdk [ vendor=&#39;sun&#39; version=&#39;1.8&#39; ]\r\n    [ERROR] Please make sure you define the required toolchains in your ~/.m2/toolchains.xml file.\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\ngetting above error while i have updated version 1.8 to jdk1.8._172\r\n\r\n\r\n  \r\n\r\n\r\n\r\nbelow is my pom.xml\r\n\r\n\r\n\r\n  \r\n\r\n     &lt;plugins&gt;\r\n\r\n       &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;/plugin&gt;\r\n\r\n       &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n             &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                   &lt;goal&gt;toolchain&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n             &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n             &lt;toolchains&gt;\r\n                &lt;jdk&gt;\r\n                   &lt;version&gt;jdk1.8.0_172&lt;/version&gt;\r\n                   &lt;vendor&gt;sun&lt;/vendor&gt;\r\n                &lt;/jdk&gt;\r\n             &lt;/toolchains&gt;\r\n          &lt;/configuration&gt;\r\n       &lt;/plugin&gt;\r\n\r\n       &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n             &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n          &lt;/configuration&gt;\r\n       &lt;/plugin&gt;\r\n\r\n    &lt;/plugins&gt;\r\n\r\n\r\nand I have defined jdk path in `toolchain.xml` \r\n\r\n \r\n    &lt;toolchains&gt;\r\n        &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;version&gt;1.8&lt;/version&gt;\r\n          &lt;vendor&gt;sun&lt;/vendor&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n          &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.8.0_172&lt;/jdkHome&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\nPlease help where to resolve the problem.\r\nThanks in advance.","title":"Failed to Build Application Getting Error::No toolchain found for type jdk","body":"<p>I have tried different solution for this but didn't work for me, </p>\n\n<p>please see the error log and <code>toolchain.xml</code> file.</p>\n\n<p>These are error logs:    </p>\n\n<pre><code>[INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ ad-api ---\n[INFO] Required toolchain: jdk [ vendor='sun' version='1.8' ]\n[ERROR] No toolchain found for type jdk\n[ERROR] Cannot find matching toolchain definitions for the following toolchain types:\njdk [ vendor='sun' version='1.8' ]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.619 s\n[INFO] Finished at: 2018-10-05T08:56:24+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:1.1:toolchain (default) on project ad-api: Cannot find matching toolchain definitions for the following toolchain types:\n[ERROR] jdk [ vendor='sun' version='1.8' ]\n[ERROR] Please make sure you define the required toolchains in your ~/.m2/toolchains.xml file.\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>getting above error while i have updated version 1.8 to jdk1.8._172</p>\n\n<p>below is my pom.xml</p>\n\n<pre><code> &lt;plugins&gt;\n\n   &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;/plugin&gt;\n\n   &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n         &lt;execution&gt;\n            &lt;goals&gt;\n               &lt;goal&gt;toolchain&lt;/goal&gt;\n            &lt;/goals&gt;\n         &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n         &lt;toolchains&gt;\n            &lt;jdk&gt;\n               &lt;version&gt;jdk1.8.0_172&lt;/version&gt;\n               &lt;vendor&gt;sun&lt;/vendor&gt;\n            &lt;/jdk&gt;\n         &lt;/toolchains&gt;\n      &lt;/configuration&gt;\n   &lt;/plugin&gt;\n\n   &lt;plugin&gt;\n      &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n         &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n      &lt;/configuration&gt;\n   &lt;/plugin&gt;\n\n&lt;/plugins&gt;\n</code></pre>\n\n<p>and I have defined jdk path in <code>toolchain.xml</code> </p>\n\n<pre><code>&lt;toolchains&gt;\n    &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;1.8&lt;/version&gt;\n      &lt;vendor&gt;sun&lt;/vendor&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.8.0_172&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n\n<p>Please help where to resolve the problem.\nThanks in advance.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":8823249,"reputation":1591,"user_id":6592293,"display_name":"Simon Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689794826,"creation_date":1689794826,"answer_id":76724628,"question_id":76707827,"body_markdown":"I figured out how to implement the activity detection. I opened a pull request: https://github.com/mbientlab/MetaWear-SDK-Android/pull/30","title":"MetaWear (Mbientlab) Android Activity detection on Bmi270","body":"<p>I figured out how to implement the activity detection. I opened a pull request: <a href=\"https://github.com/mbientlab/MetaWear-SDK-Android/pull/30\" rel=\"nofollow noreferrer\">https://github.com/mbientlab/MetaWear-SDK-Android/pull/30</a></p>\n"}],"owner":{"account_id":8823249,"reputation":1591,"user_id":6592293,"display_name":"Simon Tran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76724628,"answer_count":1,"score":0,"last_activity_date":1689794826,"creation_date":1689625122,"question_id":76707827,"body_markdown":"The [swift api](https://mbientlab.com/iosdocs/latest/accelerometer.html#activity-detector) supports the activity detector on the BMI270. I&#39;m trying to use that same feature with the Android SDK.\r\n\r\nI forked the MetaWear Android SDK to add the feature: https://gist.github.com/tran-simon/bf66dc4ce9724b11d3f2a5109cd3a31b\r\n\r\n`createMessage` never gets called. I tried to set every registers just like in the C++ code, but it still does not work? \r\n\r\nIs there anything I forgot to setup?","title":"MetaWear (Mbientlab) Android Activity detection on Bmi270","body":"<p>The <a href=\"https://mbientlab.com/iosdocs/latest/accelerometer.html#activity-detector\" rel=\"nofollow noreferrer\">swift api</a> supports the activity detector on the BMI270. I'm trying to use that same feature with the Android SDK.</p>\n<p>I forked the MetaWear Android SDK to add the feature: <a href=\"https://gist.github.com/tran-simon/bf66dc4ce9724b11d3f2a5109cd3a31b\" rel=\"nofollow noreferrer\">https://gist.github.com/tran-simon/bf66dc4ce9724b11d3f2a5109cd3a31b</a></p>\n<p><code>createMessage</code> never gets called. I tried to set every registers just like in the C++ code, but it still does not work?</p>\n<p>Is there anything I forgot to setup?</p>\n"},{"tags":["java","performance","java-stream"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1689792574,"post_id":76724354,"comment_id":135265308,"body_markdown":"Immutability doesn&#39;t seem relevant here; you&#39;re not updating every element, you&#39;re creating a new collection *(eventually)* of transformed input elements. (That&#39;s what map does.) One benefit of streams is avoiding intermediate state. There&#39;s not much benefit **here** because it&#39;s a single operation.","body":"Immutability doesn&#39;t seem relevant here; you&#39;re not updating every element, you&#39;re creating a new collection <i>(eventually)</i> of transformed input elements. (That&#39;s what map does.) One benefit of streams is avoiding intermediate state. There&#39;s not much benefit <b>here</b> because it&#39;s a single operation."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689794816,"creation_date":1689792477,"answer_id":76724401,"question_id":76724354,"body_markdown":"No, streams generally do not need to store all elements in memory until a terminal operation that collects them. (There are exceptions to this like `.distinct()` and `.sorted()` that cannot work without keeping state.)\r\n\r\nSee [Processing Data with Java SE 8 Streams](https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html).\r\n\r\n&gt; A stream provides an interface to a sequenced set of values of a specific element type. However, streams don’t actually store elements; they are computed on demand.\r\n\r\n&gt;  There are two static methods—[`Stream.iterate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.Predicate,java.util.function.UnaryOperator)) and [`Stream.generate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#generate(java.util.function.Supplier))—that let you create a stream from a function. However, because elements are calculated on demand, these two operations can produce elements “forever.” This is what we call an infinite stream: a stream that doesn’t have a fixed size, as a stream does when we create it from a fixed collection.\r\n\r\nAnd the package documentation for [`java.util.stream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps):\r\n\r\n&gt; Intermediate operations return a new stream. They are always lazy; executing an intermediate operation such as filter() does not actually perform any filtering, but instead creates a new stream that, when traversed, contains the elements of the initial stream that match the given predicate. Traversal of the pipeline source does not begin until the terminal operation of the pipeline is executed.\r\n\r\n&gt; Intermediate operations are further divided into stateless and stateful operations. Stateless operations, such as filter and map, retain no state from previously seen element when processing a new element -- each element can be processed independently of operations on other elements. Stateful operations, such as distinct and sorted, may incorporate state from previously seen elements when processing new elements.","title":"How java stream works with immutable collections under the box","body":"<p>No, streams generally do not need to store all elements in memory until a terminal operation that collects them. (There are exceptions to this like <code>.distinct()</code> and <code>.sorted()</code> that cannot work without keeping state.)</p>\n<p>See <a href=\"https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html\" rel=\"nofollow noreferrer\">Processing Data with Java SE 8 Streams</a>.</p>\n<blockquote>\n<p>A stream provides an interface to a sequenced set of values of a specific element type. However, streams don’t actually store elements; they are computed on demand.</p>\n</blockquote>\n<blockquote>\n<p>There are two static methods—<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.Predicate,java.util.function.UnaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream.iterate</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#generate(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Stream.generate</code></a>—that let you create a stream from a function. However, because elements are calculated on demand, these two operations can produce elements “forever.” This is what we call an infinite stream: a stream that doesn’t have a fixed size, as a stream does when we create it from a fixed collection.</p>\n</blockquote>\n<p>And the package documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\"><code>java.util.stream</code></a>:</p>\n<blockquote>\n<p>Intermediate operations return a new stream. They are always lazy; executing an intermediate operation such as filter() does not actually perform any filtering, but instead creates a new stream that, when traversed, contains the elements of the initial stream that match the given predicate. Traversal of the pipeline source does not begin until the terminal operation of the pipeline is executed.</p>\n</blockquote>\n<blockquote>\n<p>Intermediate operations are further divided into stateless and stateful operations. Stateless operations, such as filter and map, retain no state from previously seen element when processing a new element -- each element can be processed independently of operations on other elements. Stateful operations, such as distinct and sorted, may incorporate state from previously seen elements when processing new elements.</p>\n</blockquote>\n"}],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689794816,"creation_date":1689792020,"question_id":76724354,"body_markdown":"Let&#39;s looka at the snippet:\r\n```java\r\nList&lt;Integer&gt; numbers = IntStream.range(0, 100_000_000)\r\n        .boxed().collect(Collectors.toList());\r\nList&lt;String&gt; res = numbers.stream()\r\n        .map(num -&gt; num / 2)    // create another update collection\r\n        .filter(num -&gt; num / 2 == 0)    // and another filtered collection\r\n        .map(String::valueOf)   // and another updated collection\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nIn functional programming we operate with immutable objects only. So the big `numbers` collection is immutalbe.\r\n\r\nWhen we create a stream and do smth with this collections, e.g. update modify every element. I have showed one `map` lambda. Is it correct, that under the box, stream creates another big collection with updated values and under `collect()` it creates another big final collections? Or internal behaviour is different?\r\n\r\nWhat if I have e.g. 10 `map` lambdas and some `filter`. Is this mean that we have a new copy of the bit collection after each `map` or `filter`? Or, probably, stream creates mutable collection and update it every time?\r\n\r\nAnd in general, is this efficient (I mean from the recource point of view) to use streams for the big collections, or it&#39;s better to use plain old `for` operator?\r\n\r\n***P.S.** I am not talking about `parallel stream`, because in this snippet, I do not care about a time performance, but I care about a memory performance.*","title":"How java stream works with immutable collections under the box","body":"<p>Let's looka at the snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; numbers = IntStream.range(0, 100_000_000)\n        .boxed().collect(Collectors.toList());\nList&lt;String&gt; res = numbers.stream()\n        .map(num -&gt; num / 2)    // create another update collection\n        .filter(num -&gt; num / 2 == 0)    // and another filtered collection\n        .map(String::valueOf)   // and another updated collection\n        .collect(Collectors.toList());\n</code></pre>\n<p>In functional programming we operate with immutable objects only. So the big <code>numbers</code> collection is immutalbe.</p>\n<p>When we create a stream and do smth with this collections, e.g. update modify every element. I have showed one <code>map</code> lambda. Is it correct, that under the box, stream creates another big collection with updated values and under <code>collect()</code> it creates another big final collections? Or internal behaviour is different?</p>\n<p>What if I have e.g. 10 <code>map</code> lambdas and some <code>filter</code>. Is this mean that we have a new copy of the bit collection after each <code>map</code> or <code>filter</code>? Or, probably, stream creates mutable collection and update it every time?</p>\n<p>And in general, is this efficient (I mean from the recource point of view) to use streams for the big collections, or it's better to use plain old <code>for</code> operator?</p>\n<p><em><strong>P.S.</strong> I am not talking about <code>parallel stream</code>, because in this snippet, I do not care about a time performance, but I care about a memory performance.</em></p>\n"},{"tags":["python","java","json","regex"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1689714938,"post_id":76716590,"comment_id":135252251,"body_markdown":"What does &quot;seems to work&quot; mean?  What does &quot;work&quot; mean, for that matter? If you have a JSON string, _parse it_, then update the now-native data structure based on what you need using all the APIs available in your programming language for working with its own data structures, and then if you need it turned back into JSON, do that.","body":"What does &quot;seems to work&quot; mean?  What does &quot;work&quot; mean, for that matter? If you have a JSON string, <i>parse it</i>, then update the now-native data structure based on what you need using all the APIs available in your programming language for working with its own data structures, and then if you need it turned back into JSON, do that."},{"owner":{"account_id":9882476,"reputation":4681,"user_id":7318120,"display_name":"D.L"},"score":0,"creation_date":1689715131,"post_id":76716590,"comment_id":135252275,"body_markdown":"it would help to show [1] where you are stuck and [2] what output you expect to achieve....    https://stackoverflow.com/help/how-to-ask","body":"it would help to show [1] where you are stuck and [2] what output you expect to achieve....    <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":5529755,"reputation":28247,"user_id":4390160,"accept_rate":100,"display_name":"Grismar"},"score":0,"creation_date":1689715219,"post_id":76716590,"comment_id":135252286,"body_markdown":"Python does not have an &quot;end of previous match&quot; meta-character (which is what `\\G` is for Java regexes). It would be helpful to know what exactly you need to parse with this, because it&#39;s quite possible there&#39;s a simpler or alternative regex that will do.","body":"Python does not have an &quot;end of previous match&quot; meta-character (which is what <code>\\G</code> is for Java regexes). It would be helpful to know what exactly you need to parse with this, because it&#39;s quite possible there&#39;s a simpler or alternative regex that will do."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689717769,"post_id":76716590,"comment_id":135252571,"body_markdown":"Don&#39;t edit your post to say &quot;I will add all the details soon (eta 8h)&quot;. Just edit it when you&#39;re able to edit it. If it gets closed in the mean time, post a new question with all the actual details in it.","body":"Don&#39;t edit your post to say &quot;I will add all the details soon (eta 8h)&quot;. Just edit it when you&#39;re able to edit it. If it gets closed in the mean time, post a new question with all the actual details in it."},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1689723817,"post_id":76716590,"comment_id":135253137,"body_markdown":"You&#39;ll have to settle for a call back solution as the `\\G` is only available in Pythons `import regex` module. Using `import re` the sub callback would replace all the commas in the string. I haven&#39;t checked your regex but it seems dubious anyway.","body":"You&#39;ll have to settle for a call back solution as the <code>\\G</code> is only available in Pythons <code>import regex</code> module. Using <code>import re</code> the sub callback would replace all the commas in the string. I haven&#39;t checked your regex but it seems dubious anyway."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1690043328,"post_id":76716590,"comment_id":135299279,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans, I would argue that last bit of your advice might result in question ban. It always better to edit your current question, and submit it to reopening process.","body":"@Mike&#39;Pomax&#39;Kamermans, I would argue that last bit of your advice might result in question ban. It always better to edit your current question, and submit it to reopening process."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689747438,"creation_date":1689747438,"answer_id":76718452,"question_id":76716590,"body_markdown":"What you could do is first capture the data within the _body_ value, and then parse on the comma.\r\n\r\nThe pattern would be,\r\n\r\n```none\r\n\\&quot;body\\&quot;\\s*:\\s*\\&quot;(.+)\\&quot;,\r\n```\r\n\r\n&gt; _&quot;... I am very inexperienced with building my own regexes ...&quot;_\r\n\r\nIt&#39;s quite simple; it just seems complex.\r\n\r\nI recommend reading the _Wikipedia_ article, as it outlines the entire syntax.  \r\n_[Wikipedia &amp;ndash; Regular expression](https://en.wikipedia.org/wiki/Regular_expression)_.\r\n\r\nAdditionally there are several books; _[O&#39;Reilly Media](https://www.oreilly.com/)_ and _[Packt Publishing](https://www.packtpub.com/)_ both have some good ones.  \r\n_[O&#39;Reilly Media &amp;ndash; Mastering Regular Expressions](https://www.oreilly.com/library/view/mastering-regular-expressions/0596528124/)_.  \r\n_[Packt Publishing &amp;ndash; Mastering Python Regular Expressions](https://www.packtpub.com/product/mastering-python-regular-expressions/9781783283156)_.\r\n\r\nHere is an example in _Python_.  \r\nI&#39;m using the _[re.match](https://docs.python.org/3/library/re.html?#re.match)_ function to utilize the pattern.  \r\nAnd, the _[str.split](https://docs.python.org/3/library/stdtypes.html#str.split)_ function to generate a list of values.\r\n\r\n```python\r\nstring = &#39;&quot;body&quot;: &quot;abc, def, ghi&quot;,&#39;\r\nvalue = re.match(r&#39;\\&quot;body\\&quot;\\s*:\\s*\\&quot;(.+)\\&quot;,&#39;, string)\r\nvalue = value.group(1)\r\nstrings = value.split(&#39;, &#39;)\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[&#39;abc&#39;, &#39;def&#39;, &#39;ghi&#39;]\r\n```","title":"Regex translation to python acceptable format","body":"<p>What you could do is first capture the data within the <em>body</em> value, and then parse on the comma.</p>\n<p>The pattern would be,</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\&quot;body\\&quot;\\s*:\\s*\\&quot;(.+)\\&quot;,\n</code></pre>\n<blockquote>\n<p><em>&quot;... I am very inexperienced with building my own regexes ...&quot;</em></p>\n</blockquote>\n<p>It's quite simple; it just seems complex.</p>\n<p>I recommend reading the <em>Wikipedia</em> article, as it outlines the entire syntax.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">Wikipedia – Regular expression</a></em>.</p>\n<p>Additionally there are several books; <em><a href=\"https://www.oreilly.com/\" rel=\"nofollow noreferrer\">O'Reilly Media</a></em> and <em><a href=\"https://www.packtpub.com/\" rel=\"nofollow noreferrer\">Packt Publishing</a></em> both have some good ones.<br />\n<em><a href=\"https://www.oreilly.com/library/view/mastering-regular-expressions/0596528124/\" rel=\"nofollow noreferrer\">O'Reilly Media – Mastering Regular Expressions</a></em>.<br />\n<em><a href=\"https://www.packtpub.com/product/mastering-python-regular-expressions/9781783283156\" rel=\"nofollow noreferrer\">Packt Publishing – Mastering Python Regular Expressions</a></em>.</p>\n<p>Here is an example in <em>Python</em>.<br />\nI'm using the <em><a href=\"https://docs.python.org/3/library/re.html?#re.match\" rel=\"nofollow noreferrer\">re.match</a></em> function to utilize the pattern.<br />\nAnd, the <em><a href=\"https://docs.python.org/3/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\">str.split</a></em> function to generate a list of values.</p>\n<pre class=\"lang-py prettyprint-override\"><code>string = '&quot;body&quot;: &quot;abc, def, ghi&quot;,'\nvalue = re.match(r'\\&quot;body\\&quot;\\s*:\\s*\\&quot;(.+)\\&quot;,', string)\nvalue = value.group(1)\nstrings = value.split(', ')\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>['abc', 'def', 'ghi']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689793819,"creation_date":1689793111,"answer_id":76724467,"question_id":76716590,"body_markdown":"### The proper solution\r\n\r\nUse the JSON module to parse the JSON, modify the resulting object, then stringify again:\r\n\r\n```python\r\nimport json\r\n\r\njson_str = &#39;{&quot;body&quot;: &quot;a, b&quot;, &quot;foo&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;foo&quot;}&#39;\r\njson_obj = json.loads(json_str)\r\ndef replace_commas_body(obj):\r\n    if type(obj) == list:\r\n        for elem in list:\r\n            replace_commas_body(elem)\r\n    elif type(obj) == dict:\r\n        if &quot;body&quot; in obj:\r\n            obj[&quot;body&quot;] = obj[&quot;body&quot;].replace(&quot;,&quot;, &quot;;&quot;)\r\n        for elem in obj.values():\r\n            replace_commas_body(elem)\r\nreplace_commas_body(json_obj)\r\nprint(json.dumps(json_obj))\r\n```\r\n\r\nThis prints `{&quot;body&quot;: &quot;a; b&quot;, &quot;foo&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;foo&quot;}` as expected.\r\n\r\n### The RegEx solution\r\n\r\nJust for the kicks of it, I also wrote a RegEx solution. This works fine because regular expressions suffice to tokenize JSON, and the changes required here can pretty much be done at a token level.\r\n\r\nThe (slim) advantage of this solution is that it preserves the &quot;style&quot; of the JSON (spacing, ordering of keys, number formatting used, characters escaped, etc.).\r\n\r\nThe disadvantage is that it is less readable / more difficult to maintain and much less flexible: It doesn&#39;t know the context. Changing this to e.g. apply only to certain objects which also have certain other keys or are inside certain other objects would not be possible.\r\n\r\nFor the sake of simplicity, I have decided to not handle Unicode escape sequences of the form `\\uXXXX` at all, although these ASCII codepoints may theoretically be encoded that way; typically it won&#39;t be, and it&#39;s trivial to fix the solution to handle them properly by using `(?:&lt;character&gt;|\\\\u&lt;ASCII code&gt;)` for each ASCII character within the string (the characters `b`, `o`, `d`, `y` and the comma).\r\n\r\nHere goes the RegEx: [`(\\&quot;body\\&quot;\\s*:\\s*\\&quot;)((?:[^\\&quot;\\\\]|\\\\.)*?)(\\&quot;)`](https://regex101.com/r/ZH9AKa/1)\r\n\r\nExplanation:\r\n\r\n * `(\\&quot;body\\&quot;\\s*:\\s*\\&quot;)`: Capture the `&quot;body&quot; : &quot;` part to preserve it; allow for arbitrary spacing, just like JSON.\r\n * `((?:[^\\&quot;\\\\]|\\\\.)*?)`: Capture the body of the string. Allow zero or more arbitrary characters except for backslashes or string quotes, which need to to be escaped.\r\n * `(\\&quot;)`: Preserve the closing quote of the string. We could have hardcoded this in the `lambda` just as well, but this is cleaner if you want(ed) to extend this in the future.\r\n\r\nand here&#39;s the corresponding Python, with a small test case:\r\n\r\n```python\r\nimport re\r\n\r\njson_str = &#39;{&quot;body&quot;: &quot;a, b&quot;, &quot;foo&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;foo&quot;}&#39;\r\nprint(re.sub(r&quot;(\\&quot;body\\&quot;\\s*:\\s*\\&quot;)((?:[^\\&quot;\\\\]|\\\\.)*?)(\\&quot;)&quot;,\r\n    lambda m: m.group(1) + m.group(2).replace(&quot;,&quot;, &quot;;&quot;) + m.group(3),\r\n    json_str))\r\n```\r\n\r\n---\r\n\r\nIn my examples, I&#39;m replacing commas (`,`) with semicolons (`;`). You link a question about *removing* commas but mention *replacing* commas (with what?) in your question so I was unsure.","title":"Regex translation to python acceptable format","body":"<h3>The proper solution</h3>\n<p>Use the JSON module to parse the JSON, modify the resulting object, then stringify again:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import json\n\njson_str = '{&quot;body&quot;: &quot;a, b&quot;, &quot;foo&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;foo&quot;}'\njson_obj = json.loads(json_str)\ndef replace_commas_body(obj):\n    if type(obj) == list:\n        for elem in list:\n            replace_commas_body(elem)\n    elif type(obj) == dict:\n        if &quot;body&quot; in obj:\n            obj[&quot;body&quot;] = obj[&quot;body&quot;].replace(&quot;,&quot;, &quot;;&quot;)\n        for elem in obj.values():\n            replace_commas_body(elem)\nreplace_commas_body(json_obj)\nprint(json.dumps(json_obj))\n</code></pre>\n<p>This prints <code>{&quot;body&quot;: &quot;a; b&quot;, &quot;foo&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;foo&quot;}</code> as expected.</p>\n<h3>The RegEx solution</h3>\n<p>Just for the kicks of it, I also wrote a RegEx solution. This works fine because regular expressions suffice to tokenize JSON, and the changes required here can pretty much be done at a token level.</p>\n<p>The (slim) advantage of this solution is that it preserves the &quot;style&quot; of the JSON (spacing, ordering of keys, number formatting used, characters escaped, etc.).</p>\n<p>The disadvantage is that it is less readable / more difficult to maintain and much less flexible: It doesn't know the context. Changing this to e.g. apply only to certain objects which also have certain other keys or are inside certain other objects would not be possible.</p>\n<p>For the sake of simplicity, I have decided to not handle Unicode escape sequences of the form <code>\\uXXXX</code> at all, although these ASCII codepoints may theoretically be encoded that way; typically it won't be, and it's trivial to fix the solution to handle them properly by using <code>(?:&lt;character&gt;|\\\\u&lt;ASCII code&gt;)</code> for each ASCII character within the string (the characters <code>b</code>, <code>o</code>, <code>d</code>, <code>y</code> and the comma).</p>\n<p>Here goes the RegEx: <a href=\"https://regex101.com/r/ZH9AKa/1\" rel=\"nofollow noreferrer\"><code>(\\&quot;body\\&quot;\\s*:\\s*\\&quot;)((?:[^\\&quot;\\\\]|\\\\.)*?)(\\&quot;)</code></a></p>\n<p>Explanation:</p>\n<ul>\n<li><code>(\\&quot;body\\&quot;\\s*:\\s*\\&quot;)</code>: Capture the <code>&quot;body&quot; : &quot;</code> part to preserve it; allow for arbitrary spacing, just like JSON.</li>\n<li><code>((?:[^\\&quot;\\\\]|\\\\.)*?)</code>: Capture the body of the string. Allow zero or more arbitrary characters except for backslashes or string quotes, which need to to be escaped.</li>\n<li><code>(\\&quot;)</code>: Preserve the closing quote of the string. We could have hardcoded this in the <code>lambda</code> just as well, but this is cleaner if you want(ed) to extend this in the future.</li>\n</ul>\n<p>and here's the corresponding Python, with a small test case:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import re\n\njson_str = '{&quot;body&quot;: &quot;a, b&quot;, &quot;foo&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;foo&quot;}'\nprint(re.sub(r&quot;(\\&quot;body\\&quot;\\s*:\\s*\\&quot;)((?:[^\\&quot;\\\\]|\\\\.)*?)(\\&quot;)&quot;,\n    lambda m: m.group(1) + m.group(2).replace(&quot;,&quot;, &quot;;&quot;) + m.group(3),\n    json_str))\n</code></pre>\n<hr />\n<p>In my examples, I'm replacing commas (<code>,</code>) with semicolons (<code>;</code>). You link a question about <em>removing</em> commas but mention <em>replacing</em> commas (with what?) in your question so I was unsure.</p>\n"}],"owner":{"account_id":26189758,"reputation":3,"user_id":19871784,"display_name":"ThePeres"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76724467,"answer_count":2,"score":0,"last_activity_date":1689793819,"creation_date":1689714703,"question_id":76716590,"body_markdown":"I&#39;ve found this regex that seems to work for Java but not python.\r\nfound it here: https://stackoverflow.com/questions/69831183/regex-remove-commas-within-quotes\r\n\r\n```py\r\nr&quot;&quot;&quot;(\\G(?!^)|\\&quot;body\\&quot;\\s*:\\s*\\&quot;)([^\\&quot;,]*),&quot;&quot;&quot;\r\n```\r\n\r\nI am very inexperienced with building my own regexes and need help translating it to python acceptable format. I know the \\G is the problem as it doesnt exist in python(?)\r\n\r\nI want to use it to replace commas in the &quot;body&quot; key in my JSON file but I get:\r\n\r\nbad escape \\G at position 1\r\n","title":"Regex translation to python acceptable format","body":"<p>I've found this regex that seems to work for Java but not python.\nfound it here: <a href=\"https://stackoverflow.com/questions/69831183/regex-remove-commas-within-quotes\">Regex: Remove Commas within quotes</a></p>\n<pre class=\"lang-py prettyprint-override\"><code>r&quot;&quot;&quot;(\\G(?!^)|\\&quot;body\\&quot;\\s*:\\s*\\&quot;)([^\\&quot;,]*),&quot;&quot;&quot;\n</code></pre>\n<p>I am very inexperienced with building my own regexes and need help translating it to python acceptable format. I know the \\G is the problem as it doesnt exist in python(?)</p>\n<p>I want to use it to replace commas in the &quot;body&quot; key in my JSON file but I get:</p>\n<p>bad escape \\G at position 1</p>\n"},{"tags":["java","spring","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415937885,"creation_date":1415937885,"answer_id":26922717,"question_id":25900194,"body_markdown":"Using spring-data-rest with spring-data-jpa, i have had success using jpa @Column(updatable = false).\r\n\r\nLooks like you&#39;re not using JPA (@Document), does your persistence framework have an annotation to indicate a read-only field?\r\n\r\nFurthermore, having a getter but not a setter could be part of the puzzle. In my case spring-data-jpa AuditingEntityListener sets the field, so i do not need a  setter in the application code.\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.MappedSuperclass;\r\n    \r\n    import org.joda.time.DateTime;\r\n    import org.springframework.data.annotation.CreatedBy;\r\n    import org.springframework.data.annotation.CreatedDate;\r\n    @MappedSuperclass\r\n    public abstract class AuditedEntity extends AuditedUpdateEntity {\r\n    \r\n        @CreatedDate\r\n        @Column(updatable = false)\r\n        private DateTime createdTs;\r\n    \r\n        @CreatedBy\r\n        @Column(updatable = false)\r\n        private String createdBy;\r\n    \r\n        public String getCreatedBy() {\r\n            return createdBy;\r\n        }\r\n    \r\n        public DateTime getCreatedTs() {\r\n            return createdTs;\r\n        }\r\n    \r\n    }","title":"Support for read-only properties in Spring Data REST","body":"<p>Using spring-data-rest with spring-data-jpa, i have had success using jpa @Column(updatable = false).</p>\n\n<p>Looks like you're not using JPA (@Document), does your persistence framework have an annotation to indicate a read-only field?</p>\n\n<p>Furthermore, having a getter but not a setter could be part of the puzzle. In my case spring-data-jpa AuditingEntityListener sets the field, so i do not need a  setter in the application code.</p>\n\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.MappedSuperclass;\n\nimport org.joda.time.DateTime;\nimport org.springframework.data.annotation.CreatedBy;\nimport org.springframework.data.annotation.CreatedDate;\n@MappedSuperclass\npublic abstract class AuditedEntity extends AuditedUpdateEntity {\n\n    @CreatedDate\n    @Column(updatable = false)\n    private DateTime createdTs;\n\n    @CreatedBy\n    @Column(updatable = false)\n    private String createdBy;\n\n    public String getCreatedBy() {\n        return createdBy;\n    }\n\n    public DateTime getCreatedTs() {\n        return createdTs;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1437483,"reputation":1908,"user_id":1358551,"display_name":"charybr"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1431088705,"creation_date":1431088705,"answer_id":30124086,"question_id":25900194,"body_markdown":"org.springframework.data.annotation.ReadOnlyProperty is added in spring-data-commons 1.9.0.\r\n\r\nThis serves the purpose. Please refer:\r\n\r\n - https://jira.spring.io/browse/DATACMNS-534\r\n - https://github.com/spring-projects/spring-data-commons/pull/88","title":"Support for read-only properties in Spring Data REST","body":"<p>org.springframework.data.annotation.ReadOnlyProperty is added in spring-data-commons 1.9.0.</p>\n\n<p>This serves the purpose. Please refer:</p>\n\n<ul>\n<li><a href=\"https://jira.spring.io/browse/DATACMNS-534\" rel=\"nofollow\">https://jira.spring.io/browse/DATACMNS-534</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-data-commons/pull/88\" rel=\"nofollow\">https://github.com/spring-projects/spring-data-commons/pull/88</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689793593,"creation_date":1689793593,"answer_id":76724517,"question_id":25900194,"body_markdown":"The Jackson issue you linked to ([jackson-databind#95](https://github.com/FasterXML/jackson-databind/issues/95)) has since been implemented.  That feature allows using [`@JsonIgnoreProperties(allowGetters=true)`](http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#allowGetters--) to include the data when writing the JSON, but exclude it when reading it.\r\n\r\nThis feature alone isn&#39;t sufficient to get Spring Data REST to ignore properties, since it&#39;ll result in these properties always being `null` when updated.","title":"Support for read-only properties in Spring Data REST","body":"<p>The Jackson issue you linked to (<a href=\"https://github.com/FasterXML/jackson-databind/issues/95\" rel=\"nofollow noreferrer\">jackson-databind#95</a>) has since been implemented.  That feature allows using <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#allowGetters--\" rel=\"nofollow noreferrer\"><code>@JsonIgnoreProperties(allowGetters=true)</code></a> to include the data when writing the JSON, but exclude it when reading it.</p>\n<p>This feature alone isn't sufficient to get Spring Data REST to ignore properties, since it'll result in these properties always being <code>null</code> when updated.</p>\n"}],"owner":{"account_id":1756589,"reputation":3204,"user_id":1604480,"accept_rate":50,"display_name":"Stackee007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4552,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30124086,"answer_count":3,"score":4,"last_activity_date":1689793593,"creation_date":1410987323,"question_id":25900194,"body_markdown":"Our repository entities have audit/log properties like (`createdDate`, `updatedDate`...) that are assigned by the application and should be read-only properties to the user. A little bit of research on [Jackson showed this feature is not supported][1] (or is it?). Wondering if SDR could be of any help here?\r\n\r\n```lang-java\r\n@Document(collection=&quot;employees&quot;)\r\npublic class Employee {\r\n\r\n\t@Id\r\n\tprivate String id;\r\n    private firstName;\r\n\tprivate lastName;\r\n\t\r\n\t//read-only attribute. initially assigned by application and should not be changed\r\n\tprivate Date createdDate;\r\n\t\r\n\t//read-only attribute. initially assigned by application and should not be changed\r\n\tprivate Employee createdBy;\r\n\t\r\n\t//getters setters truncated....\r\n}\r\n```\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/95","title":"Support for read-only properties in Spring Data REST","body":"<p>Our repository entities have audit/log properties like (<code>createdDate</code>, <code>updatedDate</code>...) that are assigned by the application and should be read-only properties to the user. A little bit of research on <a href=\"https://github.com/FasterXML/jackson-databind/issues/95\" rel=\"nofollow noreferrer\">Jackson showed this feature is not supported</a> (or is it?). Wondering if SDR could be of any help here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collection=&quot;employees&quot;)\npublic class Employee {\n\n    @Id\n    private String id;\n    private firstName;\n    private lastName;\n    \n    //read-only attribute. initially assigned by application and should not be changed\n    private Date createdDate;\n    \n    //read-only attribute. initially assigned by application and should not be changed\n    private Employee createdBy;\n    \n    //getters setters truncated....\n}\n</code></pre>\n"},{"tags":["java","rx-java","micronaut","rx-java3"],"answers":[{"tags":[],"owner":{"account_id":13587537,"reputation":51,"user_id":9801831,"display_name":"J&#233;r&#233;my L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689793410,"creation_date":1689793410,"answer_id":76724497,"question_id":64686530,"body_markdown":"You can define your own ExceptionHandler (&#167;6.17.4: https://docs.micronaut.io/latest/guide/#exceptionHandler) that handles \r\nHttpClientResponseException, see also Error Responses (&#167;7.3.6:  https://docs.micronaut.io/latest/guide/#lowLevelClientError)","title":"How to handle error when using @Client interface in Micronaut","body":"<p>You can define your own ExceptionHandler (§6.17.4: <a href=\"https://docs.micronaut.io/latest/guide/#exceptionHandler\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/#exceptionHandler</a>) that handles\nHttpClientResponseException, see also Error Responses (§7.3.6:  <a href=\"https://docs.micronaut.io/latest/guide/#lowLevelClientError\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/#lowLevelClientError</a>)</p>\n"}],"owner":{"account_id":317945,"reputation":233,"user_id":634904,"accept_rate":33,"display_name":"Ricardo Riveros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689793410,"creation_date":1604518187,"question_id":64686530,"body_markdown":"new to Micronaut and am wondering how people are handling errors. The example in the documentation uses blocking which I do not want to use to handle errors. Basically, what i&#39;d like to do is be able to detect if error and if so, convert it to Errors class. If it can&#39;t convert to Errors class, let a global handler handle it. Does anyone have good sample code for my scenario? Below is my code. Thank you\r\n\r\n```\r\n@Client(value = &quot;${my.host}&quot;, errorType = Errors.class)\r\n@Header(name = &quot;ClientId&quot;, value = &quot;${clientId}&quot;)\r\n@JacksonFeatures(enabledDeserializationFeatures = UNWRAP_ROOT_VALUE,\r\n    disabledDeserializationFeatures = FAIL_ON_UNKNOWN_PROPERTIES)\r\npublic interface MyClient {\r\n\r\n    @Get(&quot;/myurl/{?queryParams*}&quot;)\r\n    public Single&lt;MyResult&gt; search(@Nullable @QueryValue Map&lt;String, Object&gt; queryParams);\r\n\r\n}\r\n```","title":"How to handle error when using @Client interface in Micronaut","body":"<p>new to Micronaut and am wondering how people are handling errors. The example in the documentation uses blocking which I do not want to use to handle errors. Basically, what i'd like to do is be able to detect if error and if so, convert it to Errors class. If it can't convert to Errors class, let a global handler handle it. Does anyone have good sample code for my scenario? Below is my code. Thank you</p>\n<pre><code>@Client(value = &quot;${my.host}&quot;, errorType = Errors.class)\n@Header(name = &quot;ClientId&quot;, value = &quot;${clientId}&quot;)\n@JacksonFeatures(enabledDeserializationFeatures = UNWRAP_ROOT_VALUE,\n    disabledDeserializationFeatures = FAIL_ON_UNKNOWN_PROPERTIES)\npublic interface MyClient {\n\n    @Get(&quot;/myurl/{?queryParams*}&quot;)\n    public Single&lt;MyResult&gt; search(@Nullable @QueryValue Map&lt;String, Object&gt; queryParams);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":218623,"reputation":445,"user_id":475044,"accept_rate":67,"display_name":"wcmatthysen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689791968,"creation_date":1689676116,"answer_id":76711822,"question_id":76708231,"body_markdown":"Ok, I think I got it working to an extent.\r\n\r\nI changed the ```MessageHandler``` to return a Spring ```ListenableFuture```:\r\n\r\n```\r\n@Component\r\npublic class MessageHandler {\r\n\r\n\tpublic ListenableFuture&lt;String&gt; process(Message&lt;String&gt; inputMessage) {\r\n\t\tString input = inputMessage.getPayload();\r\n\t\treturn new CompletableToListenableFutureAdapter&lt;&gt;(CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;Processing: &quot; + input);\r\n\t\t\t\tThread.sleep(1000); // Simulating a long-running task.\r\n\t\t\t\treturn input.toUpperCase();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new CompletionException(e);\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n}\r\n```\r\n\r\nand I also had to change the configuration for the process-flow by specifying that the handler method is async:\r\n\r\n```\r\n@Bean\r\npublic IntegrationFlow processFlow(MessageHandler handler) {\r\n\treturn IntegrationFlows\r\n\t\t.from(processChannel())\r\n\t\t.bridge(e -&gt; e.poller(poller()))\r\n\t\t.handle(handler, &quot;process&quot;, e -&gt; e.async(true))\r\n\t\t.channel(responseChannel())\r\n\t\t.get();\r\n}\r\n```\r\n\r\nThe result of this is that the responses are correctly printed out in the handler that is defined in the ```responseFlow``` method.\r\n\r\nHowever, I still have an issue where if an exception occurs in the handler method&#39;s future then the retry-advice is ignored. Thus, if I specify a ```RetryOperationsInterceptor``` bean in the configuration and change the ```processFlow``` to use this interceptor as follows:\r\n\r\n```\r\n@Bean\r\npublic RetryOperationsInterceptor retryInterceptor() {\r\n\tMap&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; retryableExceptions = new HashMap&lt;&gt;();\r\n\tretryableExceptions.put(MyCustomRetryableException.class, true);\r\n\treturn RetryInterceptorBuilder.stateless()\r\n\t\t.retryPolicy(new SimpleRetryPolicy(5, retryableExceptions, true))\r\n\t\t.backOffOptions(500, 2.0, 10000)\r\n\t\t.build();\r\n}\r\n\r\n@Bean\r\npublic IntegrationFlow processFlow(MessageHandler handler, RetryOperationsInterceptor retryInterceptor) {\r\n\treturn IntegrationFlows\r\n\t\t.from(processChannel())\r\n\t\t.bridge(e -&gt; e.poller(poller()))\r\n\t\t.handle(handler, &quot;process&quot;, e -&gt; e.advice(retryInterceptor).async(true))\r\n\t\t.channel(responseChannel())\r\n\t\t.get();\r\n}\r\n```\r\n\r\nand the ```MessageHandler``` is changed to:\r\n\r\n```\r\n@Component\r\npublic class MessageHandler {\r\n\r\n\tpublic ListenableFuture&lt;String&gt; process(Message&lt;String&gt; inputMessage) {\r\n\t\tString input = inputMessage.getPayload();\r\n\t\treturn new CompletableToListenableFutureAdapter&lt;&gt;(CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;Processing: &quot; + input);\r\n\t\t\t\tif (input.equals(&quot;Input:0&quot;)) {\r\n\t\t\t\t\tthrow new MyCustomRetryableException();\r\n\t\t\t\t}\r\n\t\t\t\tThread.sleep(1000); // Simulating a long-running task.\r\n\t\t\t\treturn input.toUpperCase();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new CompletionException(e);\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n}\r\n```\r\n\r\nthen I can see from the output that the ```process``` method is not called multiple times for the input-string ```Input:0```. I only see the exception being printed out once.\r\n\r\n**Edit:** In case anyone stumbles across this and wants to know how to do the asynchronous retrying. According to @ArtemBilan (see the comments below) the ```RetryOperationsInterceptor``` will only work for blocking (or synchronous) handler methods. If you want to have your asynchronous handler methods retry on certain exceptions you can have a look at [this][1] post for some inspiration. I made use of [resilience4j][2] to get it to work. I basically had to add the following to my configuration class:\r\n\r\n```\r\n@Bean\r\npublic RetryConfig retryConfig() {\r\n\treturn RetryConfig.custom()\r\n\t\t.retryExceptions(MyCustomRetryableException.class)\r\n\t\t.maxAttempts(3)\r\n\t\t.build();\r\n}\r\n\r\n@Bean\r\npublic Retry handlerRetry() {\r\n\treturn Retry.of(&quot;handler-retry&quot;, retryConfig());\r\n}\r\n\r\n@Bean\r\npublic ScheduledExecutorService retryScheduler() {\r\n\treturn Executors.newScheduledThreadPool(10);\r\n}\r\n```\r\n\r\nand then I changed the ```MessageHandler``` to look like:\r\n\r\n```\r\n@Component\r\npublic class MessageHandler {\r\n\r\n\tprivate final Retry handlerRetry;\r\n\tprivate final ScheduledExecutorService retryScheduler;\r\n\r\n\tpublic MessageHandler(Retry handlerRetry, ScheduledExecutorService retryScheduler) {\r\n\t\tthis.handlerRetry = handlerRetry;\r\n\t\tthis.retryScheduler = retryScheduler;\r\n\t}\r\n\r\n\tpublic ListenableFuture&lt;String&gt; process(Message&lt;String&gt; inputMessage) {\r\n\t\tString input = inputMessage.getPayload();\r\n\t\tAtomicLong retryCounter = new AtomicLong(0L);\r\n\t\tCompletableFuture&lt;String&gt; retryingFuture = handlerRetry\r\n            .executeCompletionStage(retryScheduler, () -&gt; doWork(input, retryCounter))\r\n            .toCompletableFuture();\r\n\t\treturn new CompletableToListenableFutureAdapter&lt;&gt;(retryingFuture);\r\n\t}\r\n\r\n\tprivate CompletableFuture&lt;String&gt; doWork(String input, AtomicLong retryCounter) {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tlong attempt = retryCounter.getAndIncrement();\r\n\t\t\t\tif (attempt == 0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Processing: {}&quot;, input);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Processing: {}, retry-attempt: {}&quot;, input, attempt);\r\n\t\t\t\t}\r\n\t\t\t\tif (input.equals(&quot;Input:0&quot;)) {\r\n\t\t\t\t\tthrow new MyCustomRetryableException();\r\n\t\t\t\t}\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\treturn input.toUpperCase();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new CompletionException(e);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nYou&#39;ll see that when you run the code it will retry the body of the future that the ```doWork()``` method returns for the case where the string is equal to ```Input:0```\r\n\r\n  [1]: https://stackoverflow.com/questions/40485398/retry-logic-with-completablefuture\r\n  [2]: https://github.com/resilience4j/resilience4j","title":"Spring Integration - Asynchronous handler method with retry functionality","body":"<p>Ok, I think I got it working to an extent.</p>\n<p>I changed the <code>MessageHandler</code> to return a Spring <code>ListenableFuture</code>:</p>\n<pre><code>@Component\npublic class MessageHandler {\n\n    public ListenableFuture&lt;String&gt; process(Message&lt;String&gt; inputMessage) {\n        String input = inputMessage.getPayload();\n        return new CompletableToListenableFutureAdapter&lt;&gt;(CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                System.out.println(&quot;Processing: &quot; + input);\n                Thread.sleep(1000); // Simulating a long-running task.\n                return input.toUpperCase();\n            } catch (InterruptedException e) {\n                throw new CompletionException(e);\n            }\n        }));\n    }\n}\n</code></pre>\n<p>and I also had to change the configuration for the process-flow by specifying that the handler method is async:</p>\n<pre><code>@Bean\npublic IntegrationFlow processFlow(MessageHandler handler) {\n    return IntegrationFlows\n        .from(processChannel())\n        .bridge(e -&gt; e.poller(poller()))\n        .handle(handler, &quot;process&quot;, e -&gt; e.async(true))\n        .channel(responseChannel())\n        .get();\n}\n</code></pre>\n<p>The result of this is that the responses are correctly printed out in the handler that is defined in the <code>responseFlow</code> method.</p>\n<p>However, I still have an issue where if an exception occurs in the handler method's future then the retry-advice is ignored. Thus, if I specify a <code>RetryOperationsInterceptor</code> bean in the configuration and change the <code>processFlow</code> to use this interceptor as follows:</p>\n<pre><code>@Bean\npublic RetryOperationsInterceptor retryInterceptor() {\n    Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; retryableExceptions = new HashMap&lt;&gt;();\n    retryableExceptions.put(MyCustomRetryableException.class, true);\n    return RetryInterceptorBuilder.stateless()\n        .retryPolicy(new SimpleRetryPolicy(5, retryableExceptions, true))\n        .backOffOptions(500, 2.0, 10000)\n        .build();\n}\n\n@Bean\npublic IntegrationFlow processFlow(MessageHandler handler, RetryOperationsInterceptor retryInterceptor) {\n    return IntegrationFlows\n        .from(processChannel())\n        .bridge(e -&gt; e.poller(poller()))\n        .handle(handler, &quot;process&quot;, e -&gt; e.advice(retryInterceptor).async(true))\n        .channel(responseChannel())\n        .get();\n}\n</code></pre>\n<p>and the <code>MessageHandler</code> is changed to:</p>\n<pre><code>@Component\npublic class MessageHandler {\n\n    public ListenableFuture&lt;String&gt; process(Message&lt;String&gt; inputMessage) {\n        String input = inputMessage.getPayload();\n        return new CompletableToListenableFutureAdapter&lt;&gt;(CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                System.out.println(&quot;Processing: &quot; + input);\n                if (input.equals(&quot;Input:0&quot;)) {\n                    throw new MyCustomRetryableException();\n                }\n                Thread.sleep(1000); // Simulating a long-running task.\n                return input.toUpperCase();\n            } catch (InterruptedException e) {\n                throw new CompletionException(e);\n            }\n        }));\n    }\n}\n</code></pre>\n<p>then I can see from the output that the <code>process</code> method is not called multiple times for the input-string <code>Input:0</code>. I only see the exception being printed out once.</p>\n<p><strong>Edit:</strong> In case anyone stumbles across this and wants to know how to do the asynchronous retrying. According to @ArtemBilan (see the comments below) the <code>RetryOperationsInterceptor</code> will only work for blocking (or synchronous) handler methods. If you want to have your asynchronous handler methods retry on certain exceptions you can have a look at <a href=\"https://stackoverflow.com/questions/40485398/retry-logic-with-completablefuture\">this</a> post for some inspiration. I made use of <a href=\"https://github.com/resilience4j/resilience4j\" rel=\"nofollow noreferrer\">resilience4j</a> to get it to work. I basically had to add the following to my configuration class:</p>\n<pre><code>@Bean\npublic RetryConfig retryConfig() {\n    return RetryConfig.custom()\n        .retryExceptions(MyCustomRetryableException.class)\n        .maxAttempts(3)\n        .build();\n}\n\n@Bean\npublic Retry handlerRetry() {\n    return Retry.of(&quot;handler-retry&quot;, retryConfig());\n}\n\n@Bean\npublic ScheduledExecutorService retryScheduler() {\n    return Executors.newScheduledThreadPool(10);\n}\n</code></pre>\n<p>and then I changed the <code>MessageHandler</code> to look like:</p>\n<pre><code>@Component\npublic class MessageHandler {\n\n    private final Retry handlerRetry;\n    private final ScheduledExecutorService retryScheduler;\n\n    public MessageHandler(Retry handlerRetry, ScheduledExecutorService retryScheduler) {\n        this.handlerRetry = handlerRetry;\n        this.retryScheduler = retryScheduler;\n    }\n\n    public ListenableFuture&lt;String&gt; process(Message&lt;String&gt; inputMessage) {\n        String input = inputMessage.getPayload();\n        AtomicLong retryCounter = new AtomicLong(0L);\n        CompletableFuture&lt;String&gt; retryingFuture = handlerRetry\n            .executeCompletionStage(retryScheduler, () -&gt; doWork(input, retryCounter))\n            .toCompletableFuture();\n        return new CompletableToListenableFutureAdapter&lt;&gt;(retryingFuture);\n    }\n\n    private CompletableFuture&lt;String&gt; doWork(String input, AtomicLong retryCounter) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                long attempt = retryCounter.getAndIncrement();\n                if (attempt == 0) {\n                    System.out.println(&quot;Processing: {}&quot;, input);\n                } else {\n                    System.out.println(&quot;Processing: {}, retry-attempt: {}&quot;, input, attempt);\n                }\n                if (input.equals(&quot;Input:0&quot;)) {\n                    throw new MyCustomRetryableException();\n                }\n                Thread.sleep(1000);\n                return input.toUpperCase();\n            } catch (InterruptedException e) {\n                throw new CompletionException(e);\n            }\n        });\n    }\n}\n</code></pre>\n<p>You'll see that when you run the code it will retry the body of the future that the <code>doWork()</code> method returns for the case where the string is equal to <code>Input:0</code></p>\n"}],"owner":{"account_id":218623,"reputation":445,"user_id":475044,"accept_rate":67,"display_name":"wcmatthysen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689793053,"creation_date":1689629870,"question_id":76708231,"body_markdown":"What is the correct way to define an asynchronous handler method when using Spring Integration flows?\r\n\r\nFor example, say I have the following configuration class:\r\n\r\n```\r\n@Configuration\r\npublic class TestConfiguration {\r\n\r\n\t@Bean\r\n\tpublic TaskExecutor taskExecutor() {\r\n\t\tThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n\t\ttaskExecutor.setCorePoolSize(5);\r\n\t\ttaskExecutor.setMaxPoolSize(10);\r\n\t\ttaskExecutor.setThreadNamePrefix(&quot;task-thread-&quot;);\r\n\t\treturn taskExecutor;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PollerSpec poller() {\r\n\t\treturn Pollers.fixedRate(100).taskExecutor(taskExecutor());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MessageBuilderFactory messageBuilderFactory() {\r\n\t\treturn new DefaultMessageBuilderFactory();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TestMessageProducer testMessageProducer(MessageBuilderFactory messageBuilderFactory) {\r\n\t\treturn new TestMessageProducer(messageBuilderFactory);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MessageChannel processChannel() {\r\n\t\treturn MessageChannels.queue(1000).get();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MessageChannel responseChannel() {\r\n\t\treturn MessageChannels.direct().get();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic IntegrationFlow inputFlow() {\r\n\t\treturn IntegrationFlows\r\n\t\t\t.from(testMessageProducer(messageBuilderFactory()))\r\n\t\t\t.channel(processChannel())\r\n\t\t\t.get();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic IntegrationFlow processFlow(MessageHandler handler) {\r\n\t\treturn IntegrationFlows\r\n\t\t\t.from(processChannel())\r\n\t\t\t.bridge(e -&gt; e.poller(poller()))\r\n\t\t\t.handle(handler, &quot;process&quot;)\r\n\t\t\t.channel(responseChannel())\r\n\t\t\t.get();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic IntegrationFlow responseFlow() {\r\n\t\treturn IntegrationFlows\r\n\t\t\t.from(responseChannel())\r\n\t\t\t.handle(msg -&gt; {\r\n\t\t\t\tlog.info(&quot;Received response: {}&quot;, msg.getPayload());\r\n\t\t\t})\r\n\t\t\t.get();\r\n\t}\r\n}\r\n```\r\n\r\nwith a synchronous ```MessageHandler``` that looks like:\r\n\r\n```\r\n@Component\r\npublic class MessageHandler {\r\n\t\r\n\tpublic String process(String input) throws InterruptedException {\r\n\t\tThread.sleep(1000); // Simulating a long-running task.\r\n\t\tSystem.out.println(&quot;Processing: &quot; + input);\r\n\t\treturn input.toUpperCase();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nIf I were to change the ```MessageHandler``` implementation to be asynchronous:\r\n\r\n```\r\n@Component\r\npublic class MessageHandler {\r\n\r\n\tpublic CompletableFuture&lt;String&gt; process(String input) {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n                System.out.println(&quot;Processing: &quot; + input);\r\n\t\t\t\tThread.sleep(1000); // Simulating a long-running task.\r\n\t\t\t\treturn input.toUpperCase();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new CompletionException(e);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nthen I get the following output:\r\n\r\n```\r\n...\r\nReceived response: java.util.concurrent.CompletableFuture@4d191bf[Not completed]\r\n```\r\n\r\nI tried an alternative approach where I changed the ```MessageHandler``` to send messages back to the response-channel after it processed it:\r\n```\r\n@Component\r\npublic class MessageHandler {\r\n\r\n\tprivate final MessageChannel responseChannel;\r\n\r\n\tpublic MessageHandler(MessageChannel responseChannel) {\r\n\t\tthis.responseChannel = responseChannel;\r\n\t}\r\n\r\n\tpublic void process(Message&lt;String&gt; inputMessage) {\r\n\t\tString input = inputMessage.getPayload();\r\n\t\tCompletableFuture.runAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;Processing: &quot; + input);\r\n\t\t\t\tThread.sleep(1000); // Simulating a long-running task.\r\n\t\t\t\tString result = input.toUpperCase();\r\n\t\t\t\tresponseChannel.send(MessageBuilder.createMessage(result, inputMessage.getHeaders()));\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new CompletionException(e);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nTo get this to work I needed to remove the ```channel(responseChannel())``` line from the ```processFlow()``` configuration method. However, I&#39;m not sure that this is the correct way to do it. I&#39;ve also noticed that if I use a ```RetryOperationsInterceptor``` for the handler&#39;s ```process``` method:\r\n\r\n```\r\n@Bean\r\npublic IntegrationFlow processFlow(MessageHandler handler, RetryOperationsInterceptor retryInterceptor) {\r\n\treturn IntegrationFlows\r\n\t\t.from(processChannel())\r\n\t\t.bridge(e -&gt; e.poller(poller()))\r\n\t\t.handle(handler, &quot;process&quot;, e -&gt; e.advice(retryInterceptor))\r\n\t\t.channel(responseChannel())\r\n\t\t.get();\r\n}\r\n```\r\n\r\nthen any exceptions that are thrown inside the future won&#39;t result in the ```process``` method getting retried.","title":"Spring Integration - Asynchronous handler method with retry functionality","body":"<p>What is the correct way to define an asynchronous handler method when using Spring Integration flows?</p>\n<p>For example, say I have the following configuration class:</p>\n<pre><code>@Configuration\npublic class TestConfiguration {\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(5);\n        taskExecutor.setMaxPoolSize(10);\n        taskExecutor.setThreadNamePrefix(&quot;task-thread-&quot;);\n        return taskExecutor;\n    }\n\n    @Bean\n    public PollerSpec poller() {\n        return Pollers.fixedRate(100).taskExecutor(taskExecutor());\n    }\n\n    @Bean\n    public MessageBuilderFactory messageBuilderFactory() {\n        return new DefaultMessageBuilderFactory();\n    }\n\n    @Bean\n    public TestMessageProducer testMessageProducer(MessageBuilderFactory messageBuilderFactory) {\n        return new TestMessageProducer(messageBuilderFactory);\n    }\n\n    @Bean\n    public MessageChannel processChannel() {\n        return MessageChannels.queue(1000).get();\n    }\n\n    @Bean\n    public MessageChannel responseChannel() {\n        return MessageChannels.direct().get();\n    }\n\n    @Bean\n    public IntegrationFlow inputFlow() {\n        return IntegrationFlows\n            .from(testMessageProducer(messageBuilderFactory()))\n            .channel(processChannel())\n            .get();\n    }\n\n    @Bean\n    public IntegrationFlow processFlow(MessageHandler handler) {\n        return IntegrationFlows\n            .from(processChannel())\n            .bridge(e -&gt; e.poller(poller()))\n            .handle(handler, &quot;process&quot;)\n            .channel(responseChannel())\n            .get();\n    }\n\n    @Bean\n    public IntegrationFlow responseFlow() {\n        return IntegrationFlows\n            .from(responseChannel())\n            .handle(msg -&gt; {\n                log.info(&quot;Received response: {}&quot;, msg.getPayload());\n            })\n            .get();\n    }\n}\n</code></pre>\n<p>with a synchronous <code>MessageHandler</code> that looks like:</p>\n<pre><code>@Component\npublic class MessageHandler {\n    \n    public String process(String input) throws InterruptedException {\n        Thread.sleep(1000); // Simulating a long-running task.\n        System.out.println(&quot;Processing: &quot; + input);\n        return input.toUpperCase();\n    }\n}\n</code></pre>\n<p>If I were to change the <code>MessageHandler</code> implementation to be asynchronous:</p>\n<pre><code>@Component\npublic class MessageHandler {\n\n    public CompletableFuture&lt;String&gt; process(String input) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                System.out.println(&quot;Processing: &quot; + input);\n                Thread.sleep(1000); // Simulating a long-running task.\n                return input.toUpperCase();\n            } catch (InterruptedException e) {\n                throw new CompletionException(e);\n            }\n        });\n    }\n}\n</code></pre>\n<p>then I get the following output:</p>\n<pre><code>...\nReceived response: java.util.concurrent.CompletableFuture@4d191bf[Not completed]\n</code></pre>\n<p>I tried an alternative approach where I changed the <code>MessageHandler</code> to send messages back to the response-channel after it processed it:</p>\n<pre><code>@Component\npublic class MessageHandler {\n\n    private final MessageChannel responseChannel;\n\n    public MessageHandler(MessageChannel responseChannel) {\n        this.responseChannel = responseChannel;\n    }\n\n    public void process(Message&lt;String&gt; inputMessage) {\n        String input = inputMessage.getPayload();\n        CompletableFuture.runAsync(() -&gt; {\n            try {\n                System.out.println(&quot;Processing: &quot; + input);\n                Thread.sleep(1000); // Simulating a long-running task.\n                String result = input.toUpperCase();\n                responseChannel.send(MessageBuilder.createMessage(result, inputMessage.getHeaders()));\n            } catch (InterruptedException e) {\n                throw new CompletionException(e);\n            }\n        });\n    }\n}\n</code></pre>\n<p>To get this to work I needed to remove the <code>channel(responseChannel())</code> line from the <code>processFlow()</code> configuration method. However, I'm not sure that this is the correct way to do it. I've also noticed that if I use a <code>RetryOperationsInterceptor</code> for the handler's <code>process</code> method:</p>\n<pre><code>@Bean\npublic IntegrationFlow processFlow(MessageHandler handler, RetryOperationsInterceptor retryInterceptor) {\n    return IntegrationFlows\n        .from(processChannel())\n        .bridge(e -&gt; e.poller(poller()))\n        .handle(handler, &quot;process&quot;, e -&gt; e.advice(retryInterceptor))\n        .channel(responseChannel())\n        .get();\n}\n</code></pre>\n<p>then any exceptions that are thrown inside the future won't result in the <code>process</code> method getting retried.</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1689743648,"post_id":76718048,"comment_id":135254674,"body_markdown":"Do you want to use the standard IBM MQ JMS libraries instead of MQ Light libraries?","body":"Do you want to use the standard IBM MQ JMS libraries instead of MQ Light libraries?"},{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":0,"creation_date":1689843150,"post_id":76718048,"comment_id":135271672,"body_markdown":"You can find some Java AMQP / QPID samples here - https://github.com/ibm-messaging/mq-dev-patterns/tree/master/amqp-qpid","body":"You can find some Java AMQP / QPID samples here - <a href=\"https://github.com/ibm-messaging/mq-dev-patterns/tree/master/amqp-qpid\" rel=\"nofollow noreferrer\">github.com/ibm-messaging/mq-dev-patterns/tree/master/amqp-qp&zwnj;&#8203;id</a>"}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689792860,"creation_date":1689792860,"answer_id":76724437,"question_id":76718048,"body_markdown":"1. IBM MQ Light used the AMQP wire protocol. IBM v9.3 supports AMQP wire protocol. Therefore, you should be able to swing your application from using MQ Light to IBM MQ with minimal changes, if any.\r\n\r\n2. Do NOT pass Java objects around because it limits what types of applications can consume your messages. Put the information in either XML or JSON format and send that as an MQ message.\r\n\r\n3. Definitely keep the queue or topic open while consuming and/or publishing messages.\r\n","title":"Replacing IBM MQLight 1.0 with IBM MQ 9.3.3","body":"<ol>\n<li><p>IBM MQ Light used the AMQP wire protocol. IBM v9.3 supports AMQP wire protocol. Therefore, you should be able to swing your application from using MQ Light to IBM MQ with minimal changes, if any.</p>\n</li>\n<li><p>Do NOT pass Java objects around because it limits what types of applications can consume your messages. Put the information in either XML or JSON format and send that as an MQ message.</p>\n</li>\n<li><p>Definitely keep the queue or topic open while consuming and/or publishing messages.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10409712,"reputation":63,"user_id":7675489,"display_name":"Randy Lashley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76724437,"answer_count":1,"score":0,"last_activity_date":1689792860,"creation_date":1689741986,"question_id":76718048,"body_markdown":"I have a java program that currently sends and receives data from an old IBM MQ Light queue. I had a couple questions about setting up the newer libraries in place of the old MQlight ones.\r\n\r\nMy first was about the protocol. If I had a Java object previously that was just a couple strings, an int, and that was getting passed along using the MQLight protocol, how can I set it up the same way using IBM MQ? Do I need to create a JMS factory, or can it work by just creating a queue manager and casting the object to TextMessage or MQMessage and then pass that along to the topic via the queue?\r\n\r\nSecond, do I need to pretty much keep the send queue&#39;s open all the time if I&#39;m receiving and sending a lot of data? Or is it best practice to close them after each publish/subscribe at frequent intervals?\r\n\r\nThanks everyone","title":"Replacing IBM MQLight 1.0 with IBM MQ 9.3.3","body":"<p>I have a java program that currently sends and receives data from an old IBM MQ Light queue. I had a couple questions about setting up the newer libraries in place of the old MQlight ones.</p>\n<p>My first was about the protocol. If I had a Java object previously that was just a couple strings, an int, and that was getting passed along using the MQLight protocol, how can I set it up the same way using IBM MQ? Do I need to create a JMS factory, or can it work by just creating a queue manager and casting the object to TextMessage or MQMessage and then pass that along to the topic via the queue?</p>\n<p>Second, do I need to pretty much keep the send queue's open all the time if I'm receiving and sending a lot of data? Or is it best practice to close them after each publish/subscribe at frequent intervals?</p>\n<p>Thanks everyone</p>\n"},{"tags":["java","casting","compiler-errors"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":2,"creation_date":1624728880,"post_id":68143968,"comment_id":120439670,"body_markdown":"As an aside, setting static fields each time a new instance is created (in the constructor) means that each new instance will overwrite the fields used by the previous instance.  To fix this, the fields and `solve` method should be made non-static.  Then all operations would be made on the instance, rather than the static methods: `DFTList obj = new DFTList(nodes); ... obj.list[v1].add(v2); obj.list[v2].add(v1); ... obj.solve(0);`.","body":"As an aside, setting static fields each time a new instance is created (in the constructor) means that each new instance will overwrite the fields used by the previous instance.  To fix this, the fields and <code>solve</code> method should be made non-static.  Then all operations would be made on the instance, rather than the static methods: <code>DFTList obj = new DFTList(nodes); ... obj.list[v1].add(v2); obj.list[v2].add(v1); ... obj.solve(0);</code>."}],"answers":[{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624722925,"creation_date":1624722925,"answer_id":68144047,"question_id":68143968,"body_markdown":"you are mixing C++ with Java!! \r\n\r\ncheck the following reproducable code: \r\n\r\n        public class DFTList {\r\n        static List&lt;Integer&gt;[]   list;\r\n        static boolean[] visited;\r\n        \r\n    \tpublic DFTList(int nodes) {\r\n            list = new ArrayList[nodes];\r\n            visited = new boolean[nodes];\r\n            for(int i=0;i&lt;nodes;i++) {\r\n               list[i] = new ArrayList&lt;&gt;();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Enter no. of nodes : &quot;);\r\n            int nodes = scan.nextInt();\r\n            DFTList obj = new DFTList(nodes);\r\n            System.out.println(&quot;Enter no.of vertex : &quot;);\r\n            int vertex = scan.nextInt();\r\n            \r\n            \r\n            for(int i=0;i&lt;vertex;i++) {\r\n                int v1 = scan.nextInt();\r\n                int v2 = scan.nextInt();\r\n                list[v1].add(v2);\r\n                list[v2].add(v1);\r\n            }\r\n            \r\n            solve(0);\r\n        }\r\n        \r\n        public static void solve(int a) {\r\n            visited[a] = true;\r\n            List&lt;Integer&gt; l = list[a];\r\n        }    \r\n    }\r\n\r\n## Note 0 ##\r\nthere is no `pointer` like concept in java therefore following snippet gives you compile time error:\r\n\r\n     * list[i] = new ArrayList&lt;&gt;();\r\n\r\n## Note 1 ##\r\n  you are assigning `List` interface to `l` type therefore use below syntax.\r\n\r\n       List&lt;Integer&gt; l = list[a];","title":"Error : Type mismatch: cannot convert from List&lt;Integer&gt; to ArrayList&lt;Integer&gt;","body":"<p>you are mixing C++ with Java!!</p>\n<p>check the following reproducable code:</p>\n<pre><code>    public class DFTList {\n    static List&lt;Integer&gt;[]   list;\n    static boolean[] visited;\n    \n    public DFTList(int nodes) {\n        list = new ArrayList[nodes];\n        visited = new boolean[nodes];\n        for(int i=0;i&lt;nodes;i++) {\n           list[i] = new ArrayList&lt;&gt;();\n        }\n    }\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter no. of nodes : &quot;);\n        int nodes = scan.nextInt();\n        DFTList obj = new DFTList(nodes);\n        System.out.println(&quot;Enter no.of vertex : &quot;);\n        int vertex = scan.nextInt();\n        \n        \n        for(int i=0;i&lt;vertex;i++) {\n            int v1 = scan.nextInt();\n            int v2 = scan.nextInt();\n            list[v1].add(v2);\n            list[v2].add(v1);\n        }\n        \n        solve(0);\n    }\n    \n    public static void solve(int a) {\n        visited[a] = true;\n        List&lt;Integer&gt; l = list[a];\n    }    \n}\n</code></pre>\n<h2>Note 0</h2>\n<p>there is no <code>pointer</code> like concept in java therefore following snippet gives you compile time error:</p>\n<pre><code> * list[i] = new ArrayList&lt;&gt;();\n</code></pre>\n<h2>Note 1</h2>\n<p>you are assigning <code>List</code> interface to <code>l</code> type therefore use below syntax.</p>\n<pre><code>   List&lt;Integer&gt; l = list[a];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624723294,"creation_date":1624723294,"answer_id":68144090,"question_id":68143968,"body_markdown":"`list` is declared as a `List&lt;Integer&gt;[]` (read: an array of Lists of Integers). The fact that the value in each element is actually an `ArrayList` is inconsequential - as far as the compiler is concerned, every element is a `List`.\r\n\r\nYou could either explicitly downcast the array access:\r\n\r\n```\r\nArrayList&lt;Integer&gt; l = (ArrayList&lt;Integer&gt;)list[a];\r\n```\r\n\r\nOr, more idiomatically, if you aren&#39;t relying on any specific method `ArrayList` has that isn&#39;t present in the `List` interface, you could declare `l` as a `List&lt;Integer&gt;`:\r\n\r\n```\r\nList&lt;Integer&gt; l = list[a];\r\n```","title":"Error : Type mismatch: cannot convert from List&lt;Integer&gt; to ArrayList&lt;Integer&gt;","body":"<p><code>list</code> is declared as a <code>List&lt;Integer&gt;[]</code> (read: an array of Lists of Integers). The fact that the value in each element is actually an <code>ArrayList</code> is inconsequential - as far as the compiler is concerned, every element is a <code>List</code>.</p>\n<p>You could either explicitly downcast the array access:</p>\n<pre><code>ArrayList&lt;Integer&gt; l = (ArrayList&lt;Integer&gt;)list[a];\n</code></pre>\n<p>Or, more idiomatically, if you aren't relying on any specific method <code>ArrayList</code> has that isn't present in the <code>List</code> interface, you could declare <code>l</code> as a <code>List&lt;Integer&gt;</code>:</p>\n<pre><code>List&lt;Integer&gt; l = list[a];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689792830,"creation_date":1624728619,"answer_id":68144816,"question_id":68143968,"body_markdown":"The `list` variable is a `List&lt;Integer&gt;[]`, which means that any type of `List` (`ArrayList`, `LinkedList`, etc.) could be stored in it.  When retrieving an element from this list, all the Java compiler knows is that it&#39;s some type of `List`; it doesn&#39;t know the specific type of `List` (even though you as the programmer know that you&#39;re only storing `ArrayList` items in the array).  Therefore, `ArrayList&lt;Integer&gt; l = list[a]` is a compilation failure because the compiler can&#39;t guarantee that the element retrieved from the array is an `ArrayList` and not a different `List` type.\r\n\r\nThere are a few ways to address this issue.  Assuming you wanted to keep `list` as an array, the most idiomatic approach would be to change its type to `List&lt;Integer&gt;[]` instead of `ArrayList&lt;Integer&gt;[]`.  Since you are not using any methods or other API specific to `ArrayList`, the `List` interface is a better choice for this type.\r\n\r\n```lang-java\r\n    public static void solve(int a) {\r\n        visited[a] = true;\r\n        List&lt;Integer&gt; l = list[a];\r\n    }\r\n```\r\n\r\nAnother, less idiomatic approach would be to change the type of the `list` variable from `List&lt;Integer&gt;[]` to `ArrayList&lt;Integer&gt;[]`.  This change would cause your variable assignment to work as already written.\r\n\r\n```lang-java\r\npublic class DFTList {\r\n    static ArrayList&lt;Integer&gt;[] list;\r\n    ...\r\n}\r\n```\r\n\r\nThe final approach you could use when you have an array of the interface type (`List&lt;Integer&gt;` in this case) would be to cast the element to the concrete type when assigning it to the variable.  This is basically telling the compiler that you as the developer know the element is of that subtype, so even though it cannot guarantee the assignment, it will allow it to happen.  This approach defers the type checking — ensuring the `List` is the `ArrayList` subtype — until the code is actually run (at runtime).  If the stored element is a subtype other than `ArrayList` when the code is run (e.g. if it&#39;s a `LinkedList`), then Java will throw a [ClassCastException](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassCastException.html) since the assignment to `ArrayList` cannot happen.\r\n\r\nCasting like this is not ideal, as it removes guarantees by the compiler that all types being used are guaranteed to be valid at runtime.  However, there are times where it is necessary and appropriate. \r\n\r\n```lang-java\r\n    public static void solve(int a) {\r\n        visited[a] = true;\r\n        ArrayList&lt;Integer&gt; l = (ArrayList&lt;Integer&gt;) list[a];\r\n    }\r\n```","title":"Error : Type mismatch: cannot convert from List&lt;Integer&gt; to ArrayList&lt;Integer&gt;","body":"<p>The <code>list</code> variable is a <code>List&lt;Integer&gt;[]</code>, which means that any type of <code>List</code> (<code>ArrayList</code>, <code>LinkedList</code>, etc.) could be stored in it.  When retrieving an element from this list, all the Java compiler knows is that it's some type of <code>List</code>; it doesn't know the specific type of <code>List</code> (even though you as the programmer know that you're only storing <code>ArrayList</code> items in the array).  Therefore, <code>ArrayList&lt;Integer&gt; l = list[a]</code> is a compilation failure because the compiler can't guarantee that the element retrieved from the array is an <code>ArrayList</code> and not a different <code>List</code> type.</p>\n<p>There are a few ways to address this issue.  Assuming you wanted to keep <code>list</code> as an array, the most idiomatic approach would be to change its type to <code>List&lt;Integer&gt;[]</code> instead of <code>ArrayList&lt;Integer&gt;[]</code>.  Since you are not using any methods or other API specific to <code>ArrayList</code>, the <code>List</code> interface is a better choice for this type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void solve(int a) {\n        visited[a] = true;\n        List&lt;Integer&gt; l = list[a];\n    }\n</code></pre>\n<p>Another, less idiomatic approach would be to change the type of the <code>list</code> variable from <code>List&lt;Integer&gt;[]</code> to <code>ArrayList&lt;Integer&gt;[]</code>.  This change would cause your variable assignment to work as already written.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DFTList {\n    static ArrayList&lt;Integer&gt;[] list;\n    ...\n}\n</code></pre>\n<p>The final approach you could use when you have an array of the interface type (<code>List&lt;Integer&gt;</code> in this case) would be to cast the element to the concrete type when assigning it to the variable.  This is basically telling the compiler that you as the developer know the element is of that subtype, so even though it cannot guarantee the assignment, it will allow it to happen.  This approach defers the type checking — ensuring the <code>List</code> is the <code>ArrayList</code> subtype — until the code is actually run (at runtime).  If the stored element is a subtype other than <code>ArrayList</code> when the code is run (e.g. if it's a <code>LinkedList</code>), then Java will throw a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassCastException.html\" rel=\"nofollow noreferrer\">ClassCastException</a> since the assignment to <code>ArrayList</code> cannot happen.</p>\n<p>Casting like this is not ideal, as it removes guarantees by the compiler that all types being used are guaranteed to be valid at runtime.  However, there are times where it is necessary and appropriate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void solve(int a) {\n        visited[a] = true;\n        ArrayList&lt;Integer&gt; l = (ArrayList&lt;Integer&gt;) list[a];\n    }\n</code></pre>\n"}],"owner":{"account_id":22059668,"reputation":33,"user_id":16322576,"display_name":"Kavin_V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4524,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":68144816,"answer_count":3,"score":2,"last_activity_date":1689792830,"creation_date":1624722324,"question_id":68143968,"body_markdown":"```lang-java\r\npackage set01;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class DFTList {\r\n\tstatic List&lt;Integer&gt;[] \t list;\r\n\tstatic boolean[] visited;\r\n\t\r\n\tpublic DFTList(int nodes) {\r\n\t\tlist = new ArrayList[nodes];\r\n\t\tvisited = new boolean[nodes];\r\n\t\tfor(int i=0;i&lt;nodes;i++) {\r\n\t \t   list[i] = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter no. of nodes : &quot;);\r\n\t\tint nodes = scan.nextInt();\r\n\t\tDFTList obj = new DFTList(nodes);\r\n\t\tSystem.out.println(&quot;Enter no.of vertex : &quot;);\r\n\t\tint vertex = scan.nextInt();\r\n\t\t\r\n\t\t\r\n\t\tfor(int i=0;i&lt;vertex;i++) {\r\n\t\t\tint v1 = scan.nextInt();\r\n\t\t\tint v2 = scan.nextInt();\r\n\t\t\tlist[v1].add(v2);\r\n\t\t\tlist[v2].add(v1);\r\n\t\t}\r\n\t\t\r\n\t\tsolve(0);\r\n\t}\r\n\t\r\n\tpublic static void solve(int a) {\r\n\t\tvisited[a] = true;\r\n\t    ArrayList&lt;Integer&gt; l = list[a];\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIn the above code snippet, At the `DFTList` constructor, I have inserted `ArrayList` object at all the indices of the array. But when I try to retrieve the same object at the **`solve` method** and store it under the **same reference**, I encountered an error stating that &quot;Type mismatch: cannot convert from List&lt;Integer&gt; to ArrayList&lt;Integer&gt;&quot;. Why does this error occur?","title":"Error : Type mismatch: cannot convert from List&lt;Integer&gt; to ArrayList&lt;Integer&gt;","body":"<pre class=\"lang-java prettyprint-override\"><code>package set01;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class DFTList {\n    static List&lt;Integer&gt;[]   list;\n    static boolean[] visited;\n    \n    public DFTList(int nodes) {\n        list = new ArrayList[nodes];\n        visited = new boolean[nodes];\n        for(int i=0;i&lt;nodes;i++) {\n           list[i] = new ArrayList&lt;&gt;();\n        }\n    }\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter no. of nodes : &quot;);\n        int nodes = scan.nextInt();\n        DFTList obj = new DFTList(nodes);\n        System.out.println(&quot;Enter no.of vertex : &quot;);\n        int vertex = scan.nextInt();\n        \n        \n        for(int i=0;i&lt;vertex;i++) {\n            int v1 = scan.nextInt();\n            int v2 = scan.nextInt();\n            list[v1].add(v2);\n            list[v2].add(v1);\n        }\n        \n        solve(0);\n    }\n    \n    public static void solve(int a) {\n        visited[a] = true;\n        ArrayList&lt;Integer&gt; l = list[a];\n    }\n\n}\n</code></pre>\n<p>In the above code snippet, At the <code>DFTList</code> constructor, I have inserted <code>ArrayList</code> object at all the indices of the array. But when I try to retrieve the same object at the <strong><code>solve</code> method</strong> and store it under the <strong>same reference</strong>, I encountered an error stating that &quot;Type mismatch: cannot convert from List to ArrayList&quot;. Why does this error occur?</p>\n"},{"tags":["java","android","exception"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689792245,"creation_date":1689792245,"answer_id":76724378,"question_id":76724112,"body_markdown":"I&#39;ll use `Supplier` from the standard library for this example. Let&#39;s say you have method with such signature:\r\n```\r\nstatic &lt;T&gt; T getSupplierResult(Supplier&lt;T&gt; supplier) {\r\n  return supplier.get();\r\n}\r\n```\r\nNaturally the supplier you provide can&#39;t throw exceptions. Now you need a functional interface declared to throw exceptions.\r\n```\r\n@FunctionalInterface\r\ninterface ThrowingSupplier&lt;T&gt; {\r\n\r\n  T get() throws Exception;\r\n}\r\n```\r\nThen you have to transform this throwing supplier into the standard one. With a method it will look like this:\r\n```\r\nstatic &lt;T&gt; Supplier&lt;T&gt; wrapThrowingSupplierAsSupplier(ThrowingSupplier&lt;T&gt; throwingSupplier) {\r\n  return () -&gt; {\r\n    try {\r\n      return throwingSupplier.get();\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  };\r\n}\r\n```\r\nNote that this method returns `Supplier&lt;T&gt;`, **not** `T`.\r\n\r\nIf you are not used to used to lambdas, the same can be achieved with a standard class:\r\n```\r\nprivate static final class ThrowingSupplierWrapper&lt;T&gt; implements Supplier&lt;T&gt; {\r\n\r\n  private final ThrowingSupplier&lt;T&gt; throwingSupplier;\r\n\r\n  ThrowingSupplierWrapper(ThrowingSupplier&lt;T&gt; throwingSupplier) {\r\n    this.throwingSupplier = throwingSupplier;\r\n  }\r\n\r\n  @Override\r\n  public T get() {\r\n    try {\r\n      return throwingSupplier.get();\r\n    } catch (Exception exc) {\r\n      throw new RuntimeException(exc);\r\n    }\r\n  }\r\n}\r\n```\r\nAnd the invocations of the method which requires `Supplier`:\r\n```\r\ngetSupplierResult(wrapThrowingSupplierAsSupplier(() -&gt; new FileInputStream(&quot;qwerty&quot;)));\r\ngetSupplierResult(wrapThrowingSupplierAsSupplier(() -&gt; new FileInputStream(&quot;faceroll&quot;)));\r\n```\r\nOr using the class:\r\n```\r\ngetSupplierResult(new ThrowingSupplierWrapper&lt;&gt;(() -&gt; new FileInputStream(&quot;asd&quot;)));\r\n```","title":"responding to java checked exception with lambda to notify user","body":"<p>I'll use <code>Supplier</code> from the standard library for this example. Let's say you have method with such signature:</p>\n<pre><code>static &lt;T&gt; T getSupplierResult(Supplier&lt;T&gt; supplier) {\n  return supplier.get();\n}\n</code></pre>\n<p>Naturally the supplier you provide can't throw exceptions. Now you need a functional interface declared to throw exceptions.</p>\n<pre><code>@FunctionalInterface\ninterface ThrowingSupplier&lt;T&gt; {\n\n  T get() throws Exception;\n}\n</code></pre>\n<p>Then you have to transform this throwing supplier into the standard one. With a method it will look like this:</p>\n<pre><code>static &lt;T&gt; Supplier&lt;T&gt; wrapThrowingSupplierAsSupplier(ThrowingSupplier&lt;T&gt; throwingSupplier) {\n  return () -&gt; {\n    try {\n      return throwingSupplier.get();\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n  };\n}\n</code></pre>\n<p>Note that this method returns <code>Supplier&lt;T&gt;</code>, <strong>not</strong> <code>T</code>.</p>\n<p>If you are not used to used to lambdas, the same can be achieved with a standard class:</p>\n<pre><code>private static final class ThrowingSupplierWrapper&lt;T&gt; implements Supplier&lt;T&gt; {\n\n  private final ThrowingSupplier&lt;T&gt; throwingSupplier;\n\n  ThrowingSupplierWrapper(ThrowingSupplier&lt;T&gt; throwingSupplier) {\n    this.throwingSupplier = throwingSupplier;\n  }\n\n  @Override\n  public T get() {\n    try {\n      return throwingSupplier.get();\n    } catch (Exception exc) {\n      throw new RuntimeException(exc);\n    }\n  }\n}\n</code></pre>\n<p>And the invocations of the method which requires <code>Supplier</code>:</p>\n<pre><code>getSupplierResult(wrapThrowingSupplierAsSupplier(() -&gt; new FileInputStream(&quot;qwerty&quot;)));\ngetSupplierResult(wrapThrowingSupplierAsSupplier(() -&gt; new FileInputStream(&quot;faceroll&quot;)));\n</code></pre>\n<p>Or using the class:</p>\n<pre><code>getSupplierResult(new ThrowingSupplierWrapper&lt;&gt;(() -&gt; new FileInputStream(&quot;asd&quot;)));\n</code></pre>\n"}],"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689792245,"creation_date":1689790070,"question_id":76724112,"body_markdown":"During debugging etc, I&#39;d love to have a short and easy way to make all my unexpected errors result in a dialog box with the complete stack trace before crashing. While this can be done with a try/catch block and the self-control to actually write it out each time, I&#39;d rather have something I can add with just a few characters, like:\r\n\r\n    notifyOnFail(() -&gt; new FileInputStream(&quot;noneThere!&quot;));\r\n\r\nI&#39;m trying to adapt [this method](https://www.rainerhahnekamp.com/en/ignoring-exceptions-in-java/) for bypassing the javac checked exception requirement into a method I can add to my activity. But I don&#39;t understand lambda syntax well enough to make it happen.\r\n\r\nHis idea is that you can write a lambda expression for handing the exception, rather than inserting a boilerplate try/catch {} around your code. My goal is similar except I want it to produce a dialog box with the stack trace before the runtime exception is raised. Here&#39;s a working version of his code that throws a RuntimeException.\r\n\r\n    @FunctionalInterface\r\n    public interface mkRunTime&lt;T&gt; {\r\n      T execute() throws Exception;\r\n    \r\n      public static &lt;T&gt; T e(mkRunTime&lt;T&gt; runtime) {\r\n        try {\r\n          return runtime.execute();\r\n        } catch (Exception exception) {\r\n          throw new RuntimeException(exception);\r\n        }\r\n      }\r\n    }\r\n\r\nand then it&#39;s used like this:\r\n\r\n\tmkRunTime.e(() -&gt; new FileInputStream(&quot;this file obviously doesn&#39;t exist, and I&#39;d like to know that&#39;s why my program is crashing&quot;));\r\n\r\nSo how can I make this into a method of my activity instead?","title":"responding to java checked exception with lambda to notify user","body":"<p>During debugging etc, I'd love to have a short and easy way to make all my unexpected errors result in a dialog box with the complete stack trace before crashing. While this can be done with a try/catch block and the self-control to actually write it out each time, I'd rather have something I can add with just a few characters, like:</p>\n<pre><code>notifyOnFail(() -&gt; new FileInputStream(&quot;noneThere!&quot;));\n</code></pre>\n<p>I'm trying to adapt <a href=\"https://www.rainerhahnekamp.com/en/ignoring-exceptions-in-java/\" rel=\"nofollow noreferrer\">this method</a> for bypassing the javac checked exception requirement into a method I can add to my activity. But I don't understand lambda syntax well enough to make it happen.</p>\n<p>His idea is that you can write a lambda expression for handing the exception, rather than inserting a boilerplate try/catch {} around your code. My goal is similar except I want it to produce a dialog box with the stack trace before the runtime exception is raised. Here's a working version of his code that throws a RuntimeException.</p>\n<pre><code>@FunctionalInterface\npublic interface mkRunTime&lt;T&gt; {\n  T execute() throws Exception;\n\n  public static &lt;T&gt; T e(mkRunTime&lt;T&gt; runtime) {\n    try {\n      return runtime.execute();\n    } catch (Exception exception) {\n      throw new RuntimeException(exception);\n    }\n  }\n}\n</code></pre>\n<p>and then it's used like this:</p>\n<pre><code>mkRunTime.e(() -&gt; new FileInputStream(&quot;this file obviously doesn't exist, and I'd like to know that's why my program is crashing&quot;));\n</code></pre>\n<p>So how can I make this into a method of my activity instead?</p>\n"},{"tags":["java","kubernetes","debugging","remote-debugging"],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689792217,"creation_date":1689792217,"question_id":76724375,"body_markdown":"in my deployment file I add\r\n\r\n          - name: JAVA_TOOL_OPTIONS\r\n            value: &#39;-Xdebug -agentlib:jdwp=transport=dt_socket,address=0.0.0.0:5005,server=y,suspend=n&#39;\r\n\r\nand debug port:\r\n\r\n          - name: debug-port\r\n            containerPort: 5005\r\n            protocol: TCP\r\n\r\nI need to debug my application from the start so when I deploy application run port forwarding and run debug application in sts everything works. Problem is that it disconnected after 10s so I can debug nothing. Any advise how to fix this ?","title":"Disconnected after 10 when debugin remote kube java application","body":"<p>in my deployment file I add</p>\n<pre><code>      - name: JAVA_TOOL_OPTIONS\n        value: '-Xdebug -agentlib:jdwp=transport=dt_socket,address=0.0.0.0:5005,server=y,suspend=n'\n</code></pre>\n<p>and debug port:</p>\n<pre><code>      - name: debug-port\n        containerPort: 5005\n        protocol: TCP\n</code></pre>\n<p>I need to debug my application from the start so when I deploy application run port forwarding and run debug application in sts everything works. Problem is that it disconnected after 10s so I can debug nothing. Any advise how to fix this ?</p>\n"},{"tags":["java","hibernate","jpa","uuid","uuidgenerator"],"comments":[{"owner":{"account_id":365431,"reputation":4956,"user_id":2057091,"accept_rate":89,"display_name":"Aserre"},"score":2,"creation_date":1689783662,"post_id":76723290,"comment_id":135263518,"body_markdown":"From the doc, `strategy` is a string, `type` is a class. Have you tried `type = org.hibernate.id.UUIDGenerator.class` ?","body":"From the doc, <code>strategy</code> is a string, <code>type</code> is a class. Have you tried <code>type = org.hibernate.id.UUIDGenerator.class</code> ?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1689783722,"post_id":76723290,"comment_id":135263531,"body_markdown":"I believe that should be either `@org.hibernate.annotations.UuidGenerator` or `@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)`","body":"I believe that should be either <code>@org.hibernate.annotations.UuidGenerator</code> or <code>@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)</code>"},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1689849551,"post_id":76723290,"comment_id":135272929,"body_markdown":"@Aserre @Andrey B. Panfilov Nvm, I used: `@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)` and got: `org.hibernate.MappingException: Could not instantiate id generator` for all classes using your new approach?","body":"@Aserre @Andrey B. Panfilov Nvm, I used: <code>@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)</code> and got: <code>org.hibernate.MappingException: Could not instantiate id generator</code> for all classes using your new approach?"}],"answers":[{"tags":[],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689791524,"creation_date":1689791524,"answer_id":76724292,"question_id":76723290,"body_markdown":"As the two comments above suggest, `type` is now of type class. Thus the fix is simple:\r\n\r\n    @GenericGenerator(\r\n                name = &quot;UUID&quot;,\r\n                type = org.hibernate.id.uuid.UuidGenerator.class\r\n        )","title":"Using the new type() for UUIDGenerator instead of strategy?","body":"<p>As the two comments above suggest, <code>type</code> is now of type class. Thus the fix is simple:</p>\n<pre><code>@GenericGenerator(\n            name = &quot;UUID&quot;,\n            type = org.hibernate.id.uuid.UuidGenerator.class\n    )\n</code></pre>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1522,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76724292,"answer_count":1,"score":0,"last_activity_date":1689791524,"creation_date":1689783155,"question_id":76723290,"body_markdown":"According to the [documentation][1], the following usage is deprecated:\r\n\r\n```\r\n@GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n```\r\n\r\nOne shall use the new [`type()`][2]! But how can I transform my above statement to do the same with the `type()`? Just providing the hibernate UUIDGenerator doesn&#39;t work.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/GenericGenerator.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/GenericGenerator.html#type()","title":"Using the new type() for UUIDGenerator instead of strategy?","body":"<p>According to the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/GenericGenerator.html\" rel=\"nofollow noreferrer\">documentation</a>, the following usage is deprecated:</p>\n<pre><code>@GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n</code></pre>\n<p>One shall use the new <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/GenericGenerator.html#type()\" rel=\"nofollow noreferrer\"><code>type()</code></a>! But how can I transform my above statement to do the same with the <code>type()</code>? Just providing the hibernate UUIDGenerator doesn't work.</p>\n"},{"tags":["java","linux","docker","yocto"],"comments":[{"owner":{"account_id":10568844,"reputation":341,"user_id":7786294,"display_name":"Anton Schill&#233;n"},"score":1,"creation_date":1682671306,"post_id":75823654,"comment_id":134255591,"body_markdown":"What errors do you get in the do_configure()?","body":"What errors do you get in the do_configure()?"},{"owner":{"account_id":23327554,"reputation":309,"user_id":17834402,"display_name":"Paul Smith"},"score":0,"creation_date":1683233402,"post_id":75823654,"comment_id":134339735,"body_markdown":"Maybe building an SDK for cross compiling helps at debugging. Cross compiling openjdk using the sdk is probably not worth it, because lots of dependencies. See: https://docs.yoctoproject.org/sdk-manual/using.html","body":"Maybe building an SDK for cross compiling helps at debugging. Cross compiling openjdk using the sdk is probably not worth it, because lots of dependencies. See: <a href=\"https://docs.yoctoproject.org/sdk-manual/using.html\" rel=\"nofollow noreferrer\">docs.yoctoproject.org/sdk-manual/using.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":29050965,"reputation":21,"user_id":22253803,"display_name":"Sebastian Veit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689791217,"creation_date":1689791217,"answer_id":76724259,"question_id":75823654,"body_markdown":"I have had the same issue but i have solved it by creating [my own layer][1] that leverages from the [Adoptium][2] and [Eclipse Temurin][3] projects.\r\nIt takes a prebuilt JRE and includes it in your OE/Yocto build. Btw, that is way faster than building the whole JRE on your own.\r\n\r\nYou can use my layer by adding it to your `bblayers.conf` and then append `openjdk-17-jre` to your `IMAGE_INSTALL` in your `local.conf` file. My layer currently supports JREs for ARM, ARM64 and x86_64 architecture.\r\n\r\nMake sure your setup is using at least the `dunfell` codename/branch of OE/Yocto. You can have a look at the documentation of the [Yocto project on how to migrate][4].\r\n\r\nFor everyone wondering why the official java layer `meta-java` seems to be stuck on version 8 of OpenJDK: Building and maintaining a JVM is much work. Furthermore in order to compile the desired version of a JVM, you need a bootstraping JVM of the previous version. E.g. by building OpenJDK 11 JRE you need OpenJDK 10 JDK. As i said, it is a lot of work.\r\n\r\n[1]: https://github.com/lucimber/meta-openjdk-temurin\r\n[2]: https://adoptium.net\r\n[3]: https://projects.eclipse.org/projects/adoptium.temurin\r\n[4]: https://docs.yoctoproject.org/migration-guides/","title":"Run Java 17 on Yocto OS","body":"<p>I have had the same issue but i have solved it by creating <a href=\"https://github.com/lucimber/meta-openjdk-temurin\" rel=\"nofollow noreferrer\">my own layer</a> that leverages from the <a href=\"https://adoptium.net\" rel=\"nofollow noreferrer\">Adoptium</a> and <a href=\"https://projects.eclipse.org/projects/adoptium.temurin\" rel=\"nofollow noreferrer\">Eclipse Temurin</a> projects.\nIt takes a prebuilt JRE and includes it in your OE/Yocto build. Btw, that is way faster than building the whole JRE on your own.</p>\n<p>You can use my layer by adding it to your <code>bblayers.conf</code> and then append <code>openjdk-17-jre</code> to your <code>IMAGE_INSTALL</code> in your <code>local.conf</code> file. My layer currently supports JREs for ARM, ARM64 and x86_64 architecture.</p>\n<p>Make sure your setup is using at least the <code>dunfell</code> codename/branch of OE/Yocto. You can have a look at the documentation of the <a href=\"https://docs.yoctoproject.org/migration-guides/\" rel=\"nofollow noreferrer\">Yocto project on how to migrate</a>.</p>\n<p>For everyone wondering why the official java layer <code>meta-java</code> seems to be stuck on version 8 of OpenJDK: Building and maintaining a JVM is much work. Furthermore in order to compile the desired version of a JVM, you need a bootstraping JVM of the previous version. E.g. by building OpenJDK 11 JRE you need OpenJDK 10 JDK. As i said, it is a lot of work.</p>\n"}],"owner":{"account_id":28083954,"reputation":41,"user_id":21454599,"display_name":"bc_tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1689791217,"creation_date":1679578218,"question_id":75823654,"body_markdown":"My colleagues and I are trying to build a Yocto OS Image.\r\nOur application consists of several Micro-Services written with Java 17 and they require to run on an embedded device ([phyCORE i.MX 8M Plus Setup Guide](https://www.phytec.de/cdocuments/?doc=LAC7Ig)). On another System we would run them within Docker containers and deploy them this way but since none of us have ever worked on a Yocto build before, we are kinda stuck getting things to work and finding the layers we have to add to the Yocto build.\r\n\r\nWe did get the [meta-java layer](https://community.nxp.com/t5/i-MX-Processors-Knowledge-Base/How-to-add-openjdk-to-Yocto-Layers/ta-p/1128283) to install but that is only based on openjdk-8.\r\n\r\nThe following files are the current build configuration\r\n\r\n**local.conf**\r\n\r\n```\r\nMACHINE ?= &quot;phyboard-pollux-imx8mp-3&quot;\r\n\r\nDISTRO ?= &quot;ampliphy-vendor&quot;\r\n\r\n########################\r\n# global configuration #\r\n########################\r\n\r\n# That are the default values of bitbake.  Adapt these to your workspace and\r\n# host preferences.\r\n#DL_DIR = &quot;${TOPDIR}/downloads&quot;\r\n#SSTATE_DIR = &quot;${TOPDIR}/sstate-cache&quot;\r\n\r\n# License Handling\r\n#  - Uncomment for i.MX6 proprietary GPU libraries\r\n#LICENSE_FLAGS_WHITELIST += &quot;license-nxp_v14-june-2016_imx-gpu-viv&quot;\r\n#  - Uncomment for Freescale i.MX6 VPU firmware blobs\r\n#LICENSE_FLAGS_WHITELIST += &quot;license-freescale_v12-march-2016_firmware-imx&quot;\r\n\r\n# build artifacts are deployed here\r\nDEPLOY_DIR = &quot;${TOPDIR}/deploy&quot;\r\n\r\n# enable bitbakes git shallow functionality: this reduces download volume\r\n# from 7.3G to 1.6 G as of sumo. If you need the git history of a project,\r\n# you can run a &quot;git remote update&quot; in the tmp dir, as the remotes are\r\n# correctly specified\r\nBB_GIT_SHALLOW = &quot;1&quot;\r\n\r\n# Select configuration UI for linux and barebox recipe. The openembedded\r\n# default is &#39;menuconfig&#39;, &#39;nconfig&#39; has more features.\r\n# busybox only supports menuconfig\r\n#KCONFIG_CONFIG_COMMAND = &quot;menuconfig&quot;\r\nKCONFIG_CONFIG_COMMAND = &quot;nconfig&quot;\r\nKCONFIG_CONFIG_COMMAND_pn-busybox = &quot;menuconfig&quot;\r\n\r\n# SDK will be build for that cpu\r\n#SDKMACHINE ?= &quot;x86_64&quot;\r\n\r\n# bitbake disk monitor setup\r\nBB_DISKMON_DIRS ??= &quot;\\\r\n    STOPTASKS,${TMPDIR},1G,100K \\\r\n    STOPTASKS,${DL_DIR},1G,100K \\\r\n    STOPTASKS,${SSTATE_DIR},1G,100K \\\r\n    STOPTASKS,/tmp,100M,100K \\\r\n    ABORT,${TMPDIR},100M,1K \\\r\n    ABORT,${DL_DIR},100M,1K \\\r\n    ABORT,${SSTATE_DIR},100M,1K \\\r\n    ABORT,/tmp,10M,1K&quot;\r\n\r\n#######################\r\n# Image configuration #\r\n#######################\r\n\r\n# The following line disables the autostart of the phytec-qtdemo by\r\n# default, but you can start the demo anytime using\r\n#  $ systemctl start phytec-qtdemo.service\r\n#SYSTEMD_AUTO_ENABLE_pn-phytec-qtdemo = &quot;disable&quot;\r\n\r\n# You can disable and enable FSTYPES as you wish. e.g. &#39;ext4&#39;.\r\n# This variable is ordering dependend.\r\n#IMAGE_FSTYPES = &quot;tar.gz wic ubifs emmc&quot;\r\n\r\n# To change the variable for any imx8 machine:\r\n#IMAGE_FSTYPES_mx8 = &quot;tar.gz wic ubifs emmc&quot;\r\n\r\n# Turn on debugging options of the kernel\r\n#DEBUG_BUILD_pn-linux-mainline = &quot;1&quot;\r\n# Turn on debugging options of the imx kernel\r\n#DEBUG_BUILD_pn-linux-imx = &quot;1&quot;\r\n# Turn on debugging options of the barebox\r\n#DEBUG_BUILD_pn-barebox = &quot;1&quot;\r\n\r\n# Include kernel sources in SDK\r\nTOOLCHAIN_TARGET_TASK_append = &quot; kernel-devsrc&quot;\r\n\r\n# The default package class of the distro ampliphy is &#39;package_ipk&#39;. The first\r\n# value is used as the package manager to build the image and sdk. To build\r\n# also tar packages use\r\n#PACKAGE_CLASSES = &quot;package_ipk package_tar&quot;\r\n\r\n# Variable IMAGE_ROOTFS_EXTRA_SPACE from poky/meta/conf/documentation.conf:\r\n#   Defines additional free disk space created in the image in Kbytes. By\r\n#   default, this variable is set to &#39;0&#39;.\r\n# This example line adds an additional 512 MiB of free space to the root\r\n# filesystem:\r\n#IMAGE_ROOTFS_EXTRA_SPACE = &quot;524288&quot;\r\n\r\n# See http://www.yoctoproject.org/docs/1.8/ref-manual/ref-manual.html#ref-features-image\r\n#    Through these variables, you can add several different predefined\r\n#    packages such as development utilities or packages with debug information\r\n#    needed to investigate application problems or profile applications\r\nEXTRA_IMAGE_FEATURES = &quot;&quot;\r\n# - &quot;Makes an image suitable for development (e.g. allows root logins without\r\n#    passwords and enables post-installation logging)&quot;\r\nEXTRA_IMAGE_FEATURES += &quot;debug-tweaks&quot;\r\n# - &quot;Installs debug symbol packages for all packages installed in a given\r\n#    image.&quot;\r\n#EXTRA_IMAGE_FEATURES += &quot;dbg-pkgs&quot;\r\n# - &quot;Installs debugging tools such as strace and gdb.&quot;\r\n#EXTRA_IMAGE_FEATURES += &quot;tools-debug&quot;\r\n\r\n######################\r\n# rauc configuration #\r\n######################\r\n\r\n# certificate location for signing bundles\r\n#CERT_PATH = &quot;${TOPDIR}/../sources/meta-ampliphy/openssl-ca&quot;\r\n\r\n####################\r\n# QT configuration #\r\n####################\r\n\r\n# We disable qt widgets per default to save about 10 MB of storage. If\r\n# you need qt widget support, you can enable it with this line\r\n#DISTRO_FEATURES_append = &quot; qtwidgets&quot;\r\n\r\nCONF_VERSION = &quot;1&quot;\r\n\r\n# Uncomment to accept NXP EULA (needed, if any NXP / freescale layer is used)\r\n# EULA can then be found under ../sources/meta-freescale/EULA\r\nACCEPT_FSL_EULA = &quot;1&quot;\r\n\r\n# A TISDK BSP requires per default an external toolchain\r\n# Provide a default path that is compatible to our TISDK docker image\r\nTOOLCHAIN_BASE ?= &quot;/opt/PHYTEC_BSPs&quot;\r\n\r\n############################################\r\n# Addition of openjdk-8 and minicom to the default build\r\nPREFERRED_PROVIDER_virtual/java-initial-native = &quot;cacao-initial-native&quot;\r\nPREFERRED_PROVIDER_virtual/java-native = &quot;jamvm-native&quot;\r\nPREFERRED_PROVIDER_virtual/javac-native = &quot;ecj-bootstrap-native&quot;\r\n\r\nIMAGE_INSTALL_append = &quot; minicom openjdk-8&quot;\r\n############################################\r\n```\r\n\r\n**bblayers.conf**\r\n\r\n```\r\n# POKY_BBLAYERS_CONF_VERSION is increased each time build/conf/bblayers.conf\r\n# changes incompatibly\r\nPOKY_BBLAYERS_CONF_VERSION = &quot;2&quot;\r\n\r\nBBPATH = &quot;${TOPDIR}&quot;\r\nBBFILES ?= &quot;&quot;\r\n\r\nOEROOT := &quot;/home/ubuntu/yocto/sources/poky&quot;\r\n# add BSPDIR variable, as it is needed by recipes of NXP\r\nBSPDIR := &quot;${OEROOT}/../..&quot;\r\n\r\n#######################################\r\n# IMPORTANT NOTE: change to correct location and username on your build!\r\nMYBSPDIR := &quot;/home/ubuntu/yocto/sources&quot;\r\n########################################\r\n\r\n# In our BSPs active layers are defined by the manifest.xml for all BSPs. The\r\n# bblayers.conf gets created by the init_bblayers.py script.\r\nBBLAYERS ?= &quot;&quot;\r\nBBLAYERS += &quot;\\\r\n  ${OEROOT}/../poky/meta \\\r\n  ${OEROOT}/../poky/meta-poky \\\r\n  ${OEROOT}/../meta-openembedded/meta-oe \\\r\n  ${OEROOT}/../meta-openembedded/meta-networking \\\r\n  ${OEROOT}/../meta-openembedded/meta-python \\\r\n  ${OEROOT}/../meta-openembedded/meta-multimedia \\\r\n  ${OEROOT}/../meta-openembedded/meta-filesystems \\\r\n  ${OEROOT}/../meta-openembedded/meta-perl \\\r\n  ${OEROOT}/../meta-openembedded/meta-gnome \\\r\n  ${OEROOT}/../meta-imx/meta-bsp \\\r\n  ${OEROOT}/../meta-imx/meta-sdk \\\r\n  ${OEROOT}/../meta-imx/meta-ml \\\r\n  ${OEROOT}/../meta-browser/meta-chromium \\\r\n  ${OEROOT}/../meta-clang \\\r\n  ${OEROOT}/../meta-freescale \\\r\n  ${OEROOT}/../meta-freescale-3rdparty \\\r\n  ${OEROOT}/../meta-freescale-distro \\\r\n  ${OEROOT}/../meta-nxp-demo-experience \\\r\n  ${OEROOT}/../meta-python2 \\\r\n  ${OEROOT}/../meta-qt5 \\\r\n  ${OEROOT}/../meta-virtualization \\\r\n  ${OEROOT}/../meta-rauc \\\r\n  ${OEROOT}/../meta-phytec \\\r\n  ${OEROOT}/../meta-ampliphy \\\r\n  ${OEROOT}/../meta-security \\\r\n  ${OEROOT}/../meta-security/meta-tpm \\\r\n  &quot;\r\n###################################\r\n# Addition of the meta-java layer\r\nBBLAYERS += &quot;${MYBSPDIR}/meta-java&quot;\r\n###################################\r\n```\r\n\r\nWe also tried creating and adding a Custom Layer containing openjdk-17 but that failed in the cross-compiling process started via `bitbake &lt;recipe-name&gt;` within the `do_configure()` part.\r\n\r\nIs there any existing layer that we can add using a newer Java version than version 8 or are there any tips on how to get a Custom Layer running?","title":"Run Java 17 on Yocto OS","body":"<p>My colleagues and I are trying to build a Yocto OS Image.\nOur application consists of several Micro-Services written with Java 17 and they require to run on an embedded device (<a href=\"https://www.phytec.de/cdocuments/?doc=LAC7Ig\" rel=\"nofollow noreferrer\">phyCORE i.MX 8M Plus Setup Guide</a>). On another System we would run them within Docker containers and deploy them this way but since none of us have ever worked on a Yocto build before, we are kinda stuck getting things to work and finding the layers we have to add to the Yocto build.</p>\n<p>We did get the <a href=\"https://community.nxp.com/t5/i-MX-Processors-Knowledge-Base/How-to-add-openjdk-to-Yocto-Layers/ta-p/1128283\" rel=\"nofollow noreferrer\">meta-java layer</a> to install but that is only based on openjdk-8.</p>\n<p>The following files are the current build configuration</p>\n<p><strong>local.conf</strong></p>\n<pre><code>MACHINE ?= &quot;phyboard-pollux-imx8mp-3&quot;\n\nDISTRO ?= &quot;ampliphy-vendor&quot;\n\n########################\n# global configuration #\n########################\n\n# That are the default values of bitbake.  Adapt these to your workspace and\n# host preferences.\n#DL_DIR = &quot;${TOPDIR}/downloads&quot;\n#SSTATE_DIR = &quot;${TOPDIR}/sstate-cache&quot;\n\n# License Handling\n#  - Uncomment for i.MX6 proprietary GPU libraries\n#LICENSE_FLAGS_WHITELIST += &quot;license-nxp_v14-june-2016_imx-gpu-viv&quot;\n#  - Uncomment for Freescale i.MX6 VPU firmware blobs\n#LICENSE_FLAGS_WHITELIST += &quot;license-freescale_v12-march-2016_firmware-imx&quot;\n\n# build artifacts are deployed here\nDEPLOY_DIR = &quot;${TOPDIR}/deploy&quot;\n\n# enable bitbakes git shallow functionality: this reduces download volume\n# from 7.3G to 1.6 G as of sumo. If you need the git history of a project,\n# you can run a &quot;git remote update&quot; in the tmp dir, as the remotes are\n# correctly specified\nBB_GIT_SHALLOW = &quot;1&quot;\n\n# Select configuration UI for linux and barebox recipe. The openembedded\n# default is 'menuconfig', 'nconfig' has more features.\n# busybox only supports menuconfig\n#KCONFIG_CONFIG_COMMAND = &quot;menuconfig&quot;\nKCONFIG_CONFIG_COMMAND = &quot;nconfig&quot;\nKCONFIG_CONFIG_COMMAND_pn-busybox = &quot;menuconfig&quot;\n\n# SDK will be build for that cpu\n#SDKMACHINE ?= &quot;x86_64&quot;\n\n# bitbake disk monitor setup\nBB_DISKMON_DIRS ??= &quot;\\\n    STOPTASKS,${TMPDIR},1G,100K \\\n    STOPTASKS,${DL_DIR},1G,100K \\\n    STOPTASKS,${SSTATE_DIR},1G,100K \\\n    STOPTASKS,/tmp,100M,100K \\\n    ABORT,${TMPDIR},100M,1K \\\n    ABORT,${DL_DIR},100M,1K \\\n    ABORT,${SSTATE_DIR},100M,1K \\\n    ABORT,/tmp,10M,1K&quot;\n\n#######################\n# Image configuration #\n#######################\n\n# The following line disables the autostart of the phytec-qtdemo by\n# default, but you can start the demo anytime using\n#  $ systemctl start phytec-qtdemo.service\n#SYSTEMD_AUTO_ENABLE_pn-phytec-qtdemo = &quot;disable&quot;\n\n# You can disable and enable FSTYPES as you wish. e.g. 'ext4'.\n# This variable is ordering dependend.\n#IMAGE_FSTYPES = &quot;tar.gz wic ubifs emmc&quot;\n\n# To change the variable for any imx8 machine:\n#IMAGE_FSTYPES_mx8 = &quot;tar.gz wic ubifs emmc&quot;\n\n# Turn on debugging options of the kernel\n#DEBUG_BUILD_pn-linux-mainline = &quot;1&quot;\n# Turn on debugging options of the imx kernel\n#DEBUG_BUILD_pn-linux-imx = &quot;1&quot;\n# Turn on debugging options of the barebox\n#DEBUG_BUILD_pn-barebox = &quot;1&quot;\n\n# Include kernel sources in SDK\nTOOLCHAIN_TARGET_TASK_append = &quot; kernel-devsrc&quot;\n\n# The default package class of the distro ampliphy is 'package_ipk'. The first\n# value is used as the package manager to build the image and sdk. To build\n# also tar packages use\n#PACKAGE_CLASSES = &quot;package_ipk package_tar&quot;\n\n# Variable IMAGE_ROOTFS_EXTRA_SPACE from poky/meta/conf/documentation.conf:\n#   Defines additional free disk space created in the image in Kbytes. By\n#   default, this variable is set to '0'.\n# This example line adds an additional 512 MiB of free space to the root\n# filesystem:\n#IMAGE_ROOTFS_EXTRA_SPACE = &quot;524288&quot;\n\n# See http://www.yoctoproject.org/docs/1.8/ref-manual/ref-manual.html#ref-features-image\n#    Through these variables, you can add several different predefined\n#    packages such as development utilities or packages with debug information\n#    needed to investigate application problems or profile applications\nEXTRA_IMAGE_FEATURES = &quot;&quot;\n# - &quot;Makes an image suitable for development (e.g. allows root logins without\n#    passwords and enables post-installation logging)&quot;\nEXTRA_IMAGE_FEATURES += &quot;debug-tweaks&quot;\n# - &quot;Installs debug symbol packages for all packages installed in a given\n#    image.&quot;\n#EXTRA_IMAGE_FEATURES += &quot;dbg-pkgs&quot;\n# - &quot;Installs debugging tools such as strace and gdb.&quot;\n#EXTRA_IMAGE_FEATURES += &quot;tools-debug&quot;\n\n######################\n# rauc configuration #\n######################\n\n# certificate location for signing bundles\n#CERT_PATH = &quot;${TOPDIR}/../sources/meta-ampliphy/openssl-ca&quot;\n\n####################\n# QT configuration #\n####################\n\n# We disable qt widgets per default to save about 10 MB of storage. If\n# you need qt widget support, you can enable it with this line\n#DISTRO_FEATURES_append = &quot; qtwidgets&quot;\n\nCONF_VERSION = &quot;1&quot;\n\n# Uncomment to accept NXP EULA (needed, if any NXP / freescale layer is used)\n# EULA can then be found under ../sources/meta-freescale/EULA\nACCEPT_FSL_EULA = &quot;1&quot;\n\n# A TISDK BSP requires per default an external toolchain\n# Provide a default path that is compatible to our TISDK docker image\nTOOLCHAIN_BASE ?= &quot;/opt/PHYTEC_BSPs&quot;\n\n############################################\n# Addition of openjdk-8 and minicom to the default build\nPREFERRED_PROVIDER_virtual/java-initial-native = &quot;cacao-initial-native&quot;\nPREFERRED_PROVIDER_virtual/java-native = &quot;jamvm-native&quot;\nPREFERRED_PROVIDER_virtual/javac-native = &quot;ecj-bootstrap-native&quot;\n\nIMAGE_INSTALL_append = &quot; minicom openjdk-8&quot;\n############################################\n</code></pre>\n<p><strong>bblayers.conf</strong></p>\n<pre><code># POKY_BBLAYERS_CONF_VERSION is increased each time build/conf/bblayers.conf\n# changes incompatibly\nPOKY_BBLAYERS_CONF_VERSION = &quot;2&quot;\n\nBBPATH = &quot;${TOPDIR}&quot;\nBBFILES ?= &quot;&quot;\n\nOEROOT := &quot;/home/ubuntu/yocto/sources/poky&quot;\n# add BSPDIR variable, as it is needed by recipes of NXP\nBSPDIR := &quot;${OEROOT}/../..&quot;\n\n#######################################\n# IMPORTANT NOTE: change to correct location and username on your build!\nMYBSPDIR := &quot;/home/ubuntu/yocto/sources&quot;\n########################################\n\n# In our BSPs active layers are defined by the manifest.xml for all BSPs. The\n# bblayers.conf gets created by the init_bblayers.py script.\nBBLAYERS ?= &quot;&quot;\nBBLAYERS += &quot;\\\n  ${OEROOT}/../poky/meta \\\n  ${OEROOT}/../poky/meta-poky \\\n  ${OEROOT}/../meta-openembedded/meta-oe \\\n  ${OEROOT}/../meta-openembedded/meta-networking \\\n  ${OEROOT}/../meta-openembedded/meta-python \\\n  ${OEROOT}/../meta-openembedded/meta-multimedia \\\n  ${OEROOT}/../meta-openembedded/meta-filesystems \\\n  ${OEROOT}/../meta-openembedded/meta-perl \\\n  ${OEROOT}/../meta-openembedded/meta-gnome \\\n  ${OEROOT}/../meta-imx/meta-bsp \\\n  ${OEROOT}/../meta-imx/meta-sdk \\\n  ${OEROOT}/../meta-imx/meta-ml \\\n  ${OEROOT}/../meta-browser/meta-chromium \\\n  ${OEROOT}/../meta-clang \\\n  ${OEROOT}/../meta-freescale \\\n  ${OEROOT}/../meta-freescale-3rdparty \\\n  ${OEROOT}/../meta-freescale-distro \\\n  ${OEROOT}/../meta-nxp-demo-experience \\\n  ${OEROOT}/../meta-python2 \\\n  ${OEROOT}/../meta-qt5 \\\n  ${OEROOT}/../meta-virtualization \\\n  ${OEROOT}/../meta-rauc \\\n  ${OEROOT}/../meta-phytec \\\n  ${OEROOT}/../meta-ampliphy \\\n  ${OEROOT}/../meta-security \\\n  ${OEROOT}/../meta-security/meta-tpm \\\n  &quot;\n###################################\n# Addition of the meta-java layer\nBBLAYERS += &quot;${MYBSPDIR}/meta-java&quot;\n###################################\n</code></pre>\n<p>We also tried creating and adding a Custom Layer containing openjdk-17 but that failed in the cross-compiling process started via <code>bitbake &lt;recipe-name&gt;</code> within the <code>do_configure()</code> part.</p>\n<p>Is there any existing layer that we can add using a newer Java version than version 8 or are there any tips on how to get a Custom Layer running?</p>\n"},{"tags":["java","variables","insert","include","quotation-marks"],"comments":[{"owner":{"account_id":238665,"reputation":3967,"user_id":507708,"accept_rate":67,"display_name":"Gray Adams"},"score":20,"creation_date":1331349171,"post_id":9643610,"comment_id":12243479,"body_markdown":"@Chandra Please don&#39;t ask why, but rather explain if possible. It&#39;s just how I&#39;d prefer to do it. Thanks.","body":"@Chandra Please don&#39;t ask why, but rather explain if possible. It&#39;s just how I&#39;d prefer to do it. Thanks."},{"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"score":3,"creation_date":1331349289,"post_id":9643610,"comment_id":12243498,"body_markdown":"Use Groovy, then you&#39;ll be able to do &quot;A string ${aVariable}&quot; all you want.","body":"Use Groovy, then you&#39;ll be able to do &quot;A string ${aVariable}&quot; all you want."},{"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"score":3,"creation_date":1331349327,"post_id":9643610,"comment_id":12243505,"body_markdown":"There&#39;s a whole variety of techniques for similar things discussed in [this question](http://stackoverflow.com/questions/959731/how-to-replace-a-set-of-tokens-in-a-java-string), but `String.format()` is built-in to the language.","body":"There&#39;s a whole variety of techniques for similar things discussed in <a href=\"http://stackoverflow.com/questions/959731/how-to-replace-a-set-of-tokens-in-a-java-string\">this question</a>, but <code>String.format()</code> is built-in to the language."},{"owner":{"account_id":238665,"reputation":3967,"user_id":507708,"accept_rate":67,"display_name":"Gray Adams"},"score":1,"creation_date":1331349425,"post_id":9643610,"comment_id":12243519,"body_markdown":"@KalebBrasee That sounds perfect, but I am always hesitant when it comes to modifying languages. I don&#39;t want to set myself back.","body":"@KalebBrasee That sounds perfect, but I am always hesitant when it comes to modifying languages. I don&#39;t want to set myself back."},{"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"score":2,"creation_date":1331349625,"post_id":9643610,"comment_id":12243543,"body_markdown":"@GrayAdams Groovy doesn&#39;t set you back, it sets you free! :D","body":"@GrayAdams Groovy doesn&#39;t set you back, it sets you free! :D"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1331349729,"post_id":9643610,"comment_id":12243557,"body_markdown":"[tutorial here](http://docs.oracle.com/javase/tutorial/java/data/strings.html)","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/data/strings.html\" rel=\"nofollow noreferrer\">tutorial here</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1331350076,"post_id":9643610,"comment_id":12243583,"body_markdown":"@owlstead: actually the best reference for this is the [java.util.Formatter API](http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html) since it gives all the dirty details needed to make the format Strings sing.","body":"@owlstead: actually the best reference for this is the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">java.util.Formatter API</a> since it gives all the dirty details needed to make the format Strings sing."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1331351011,"post_id":9643610,"comment_id":12243691,"body_markdown":"@HovercraftFullOfEels It was the first hit that google &quot;print variable in string java&quot; turned up.","body":"@HovercraftFullOfEels It was the first hit that google &quot;print variable in string java&quot; turned up."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1331369972,"post_id":9643610,"comment_id":12245639,"body_markdown":"But *why* do you prefer it that way? WHy do you want another syntax for the same thing? And what&#39;s the basis for your expectation that Java syntax should exist just the way you like it?","body":"But <i>why</i> do you prefer it that way? WHy do you want another syntax for the same thing? And what&#39;s the basis for your expectation that Java syntax should exist just the way you like it?"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":1,"up_vote_count":186,"is_accepted":false,"score":185,"last_activity_date":1331349168,"creation_date":1331349168,"answer_id":9643624,"question_id":9643610,"body_markdown":"You can always use String.format(....).  i.e.,\r\n\r\n    String string = String.format(&quot;A String %s %2d&quot;, aStringVar, anIntVar);\r\n\r\nI&#39;m not sure if that is attractive enough for you, but it can be quite handy. The syntax is the same as for printf and java.util.Formatter. I&#39;ve used it much especially if I want to show tabular numeric data.","title":"How to including variables within strings?","body":"<p>You can always use String.format(....).  i.e.,</p>\n\n<pre><code>String string = String.format(\"A String %s %2d\", aStringVar, anIntVar);\n</code></pre>\n\n<p>I'm not sure if that is attractive enough for you, but it can be quite handy. The syntax is the same as for printf and java.util.Formatter. I've used it much especially if I want to show tabular numeric data.</p>\n"},{"tags":[],"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1547040834,"creation_date":1331349318,"answer_id":9643634,"question_id":9643610,"body_markdown":"This is called string interpolation; it doesn&#39;t exist as such in Java.\r\n\r\nOne approach is to use String.format:\r\n\r\n    String string = String.format(&quot;A string %s&quot;, aVariable);\r\n\r\n\r\nAnother approach is to use a templating library such as [Velocity][1] or [FreeMarker][2].\r\n\r\n\r\n  [1]: http://velocity.apache.org/engine/index.html\r\n  [2]: https://freemarker.apache.org/","title":"How to including variables within strings?","body":"<p>This is called string interpolation; it doesn't exist as such in Java.</p>\n\n<p>One approach is to use String.format:</p>\n\n<pre><code>String string = String.format(\"A string %s\", aVariable);\n</code></pre>\n\n<p>Another approach is to use a templating library such as <a href=\"http://velocity.apache.org/engine/index.html\" rel=\"noreferrer\">Velocity</a> or <a href=\"https://freemarker.apache.org/\" rel=\"noreferrer\">FreeMarker</a>.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1481746480,"creation_date":1331354473,"answer_id":9643987,"question_id":9643610,"body_markdown":"Also consider [`java.text.MessageFormat`][1], which uses a related syntax having numeric argument indexes. For example,\r\n\r\n    String aVariable = &quot;of ponies&quot;;\r\n    String string = MessageFormat.format(&quot;A string {0}.&quot;, aVariable);\r\n\r\nresults in `string` containing the following:\r\n\r\n    A string of ponies.\r\n\r\nMore commonly, the class is used for its numeric and temporal formatting. An example of [`JFreeChart`][2] label formatting is described [here][3]; the class [`RCInfo`][4] formats a game&#39;s status pane.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html\r\n  [2]: https://stackoverflow.com/tags/jfreechart/info\r\n  [3]: https://stackoverflow.com/a/3551238/230513\r\n  [4]: https://sourceforge.net/p/robotchase/code/HEAD/tree/trunk/src/org/gcs/robot/RCInfo.java","title":"How to including variables within strings?","body":"<p>Also consider <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>java.text.MessageFormat</code></a>, which uses a related syntax having numeric argument indexes. For example,</p>\n\n<pre><code>String aVariable = \"of ponies\";\nString string = MessageFormat.format(\"A string {0}.\", aVariable);\n</code></pre>\n\n<p>results in <code>string</code> containing the following:</p>\n\n<pre><code>A string of ponies.\n</code></pre>\n\n<p>More commonly, the class is used for its numeric and temporal formatting. An example of <a href=\"https://stackoverflow.com/tags/jfreechart/info\"><code>JFreeChart</code></a> label formatting is described <a href=\"https://stackoverflow.com/a/3551238/230513\">here</a>; the class <a href=\"https://sourceforge.net/p/robotchase/code/HEAD/tree/trunk/src/org/gcs/robot/RCInfo.java\" rel=\"noreferrer\"><code>RCInfo</code></a> formats a game's status pane.</p>\n"},{"tags":[],"owner":{"account_id":13946866,"reputation":83,"user_id":10071408,"display_name":"alinn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595068413,"creation_date":1595068413,"answer_id":62967506,"question_id":9643610,"body_markdown":"you can use String format to include variables within strings\r\n\r\ni use this code to include 2 variable in string:\r\n\r\n&gt; String myString = String.format(&quot;this is my string %s %2d&quot;, variable1Name, variable2Name);\r\n\r\n","title":"How to including variables within strings?","body":"<p>you can use String format to include variables within strings</p>\n<p>i use this code to include 2 variable in string:</p>\n<blockquote>\n<p>String myString = String.format(&quot;this is my string %s %2d&quot;, variable1Name, variable2Name);</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10368026,"reputation":479,"user_id":7646504,"display_name":"Domadin"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1602778196,"creation_date":1602778196,"answer_id":64375598,"question_id":9643610,"body_markdown":"Since Java 15, you can use a non-static string method called `String::formatted(Object... args)`\r\n\r\nExample:\r\n\r\n    String foo = &quot;foo&quot;;\r\n    String bar = &quot;bar&quot;;\r\n    \r\n    String str = &quot;First %s, then %s&quot;.formatted(foo, bar);     \r\n\r\nOutput:\r\n\r\n&gt; &quot;First foo, then bar&quot;\r\n\r\n","title":"How to including variables within strings?","body":"<p>Since Java 15, you can use a non-static string method called <code>String::formatted(Object... args)</code></p>\n<p>Example:</p>\n<pre><code>String foo = &quot;foo&quot;;\nString bar = &quot;bar&quot;;\n\nString str = &quot;First %s, then %s&quot;.formatted(foo, bar);     \n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>&quot;First foo, then bar&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1689790921,"creation_date":1618795542,"answer_id":67154928,"question_id":9643610,"body_markdown":"[Apache Commons Text](https://commons.apache.org/proper/commons-text/)&#39;s [`StringSubstitutor`](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html) can be used. See the library&#39;s [Dependency Information](https://commons.apache.org/proper/commons-text/dependency-info.html) for how to include it in a project.\r\n\r\n```\r\nimport org.apache.commons.text.StringSubstitutor;\r\n// ...\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\r\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n```\r\n\r\nThis class supports providing default values for variables.\r\n\r\n```\r\nString result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\r\n// &quot;The number is 42.&quot;\r\n```\r\n\r\nTo use recursive variable replacement, call `setEnableSubstitutionInVariables(true);`.\r\n\r\n```\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;b&quot;, &quot;c&quot;);\r\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nsub.setEnableSubstitutionInVariables(true);\r\nString result = sub.replace(&quot;${a${b}}&quot;);\r\n// &quot;Test&quot;\r\n```\r\n\r\nThe library can be found on [Maven central repository](https://central.sonatype.com/artifact/org.apache.commons/commons-text). This is the Maven dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n    &lt;version&gt;1.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to including variables within strings?","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a>'s <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\"><code>StringSubstitutor</code></a> can be used. See the library's <a href=\"https://commons.apache.org/proper/commons-text/dependency-info.html\" rel=\"nofollow noreferrer\">Dependency Information</a> for how to include it in a project.</p>\n<pre><code>import org.apache.commons.text.StringSubstitutor;\n// ...\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\n</code></pre>\n<p>This class supports providing default values for variables.</p>\n<pre><code>String result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\n// &quot;The number is 42.&quot;\n</code></pre>\n<p>To use recursive variable replacement, call <code>setEnableSubstitutionInVariables(true);</code>.</p>\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;b&quot;, &quot;c&quot;);\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nsub.setEnableSubstitutionInVariables(true);\nString result = sub.replace(&quot;${a${b}}&quot;);\n// &quot;Test&quot;\n</code></pre>\n<p>The library can be found on <a href=\"https://central.sonatype.com/artifact/org.apache.commons/commons-text\" rel=\"nofollow noreferrer\">Maven central repository</a>. This is the Maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":238665,"reputation":3967,"user_id":507708,"accept_rate":67,"display_name":"Gray Adams"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412972,"favorite_count":0,"down_vote_count":1,"up_vote_count":183,"closed_date":1625393663,"answer_count":6,"score":182,"last_activity_date":1689790921,"creation_date":1331348976,"question_id":9643610,"body_markdown":"So, we all should know that you can include variables into strings by doing:\r\n\r\n    String string = &quot;A string &quot; + aVariable;\r\n\r\nIs there a way to do it like:\r\n\r\n    String string = &quot;A string {aVariable}&quot;;\r\n\r\n*In other words:* Without having to close the quotation marks and adding plus signs. It&#39;s very unattractive.\r\n\r\n","title":"How to including variables within strings?","body":"<p>So, we all should know that you can include variables into strings by doing:</p>\n<pre><code>String string = &quot;A string &quot; + aVariable;\n</code></pre>\n<p>Is there a way to do it like:</p>\n<pre><code>String string = &quot;A string {aVariable}&quot;;\n</code></pre>\n<p><em>In other words:</em> Without having to close the quotation marks and adding plus signs. It's very unattractive.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689790728,"creation_date":1689790728,"answer_id":76724196,"question_id":76723939,"body_markdown":"In the City entity you should add `mapped by` like this:\r\n```\r\n@OneToMany(mappedBy=&quot;city&quot;)\r\n    private List&lt;Address&gt; addresses;\r\n```\r\nBased on: [https://www.baeldung.com/hibernate-one-to-many][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-one-to-many","title":"Hibernate Schema-validation: missing table","body":"<p>In the City entity you should add <code>mapped by</code> like this:</p>\n<pre><code>@OneToMany(mappedBy=&quot;city&quot;)\n    private List&lt;Address&gt; addresses;\n</code></pre>\n<p>Based on: <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-one-to-many</a></p>\n"}],"owner":{"account_id":18549916,"reputation":33,"user_id":13516377,"display_name":"AslanH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76724196,"answer_count":1,"score":0,"last_activity_date":1689790728,"creation_date":1689788476,"question_id":76723939,"body_markdown":"I am becoming really confused with the issues I am confronting.\r\n\r\nI am getting this error:\r\n\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource \\[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class\\]: \\[PersistenceUnit: default\\] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table \\[cities_addresses\\]\r\n\r\nHere is the code to my class Address:\r\n\r\n```\r\npackage com.bestinsurance.api.domain;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.Objects;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;addresses&quot;)\r\npublic class Address {\r\n    @Id\r\n    @Column(nullable = false, updatable = false)\r\n    @GeneratedValue\r\n    private UUID addressId;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    private String address;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    private String postalCode;\r\n\r\n    @OneToOne(mappedBy = &quot;address&quot;)\r\n    private Customer customer;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name = &quot;country_id&quot;)\r\n    private Country country;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;city_id&quot;)\r\n    private City city;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;state_id&quot;)\r\n    private State state;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Address address = (Address) o;\r\n\r\n        return Objects.equals(addressId, address.addressId);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return addressId != null ? addressId.hashCode() : 0;\r\n    }\r\n\r\n    public UUID getAddressId() {\r\n        return addressId;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getPostalCode() {\r\n        return postalCode;\r\n    }\r\n\r\n    public void setPostalCode(String postalCode) {\r\n        this.postalCode = postalCode;\r\n    }\r\n\r\n    public Customer getCustomer() {\r\n        return customer;\r\n    }\r\n\r\n    public void setCustomer(Customer customer) {\r\n        this.customer = customer;\r\n    }\r\n\r\n    public Country getCountry() {\r\n        return country;\r\n    }\r\n\r\n    public void setCountry(Country country) {\r\n        this.country = country;\r\n    }\r\n\r\n    public City getCity() {\r\n        return city;\r\n    }\r\n\r\n    public void setCity(City city) {\r\n        this.city = city;\r\n    }\r\n\r\n    public State getState() {\r\n        return state;\r\n    }\r\n\r\n    public void setState(State state) {\r\n        this.state = state;\r\n    }\r\n}\r\n```\r\n\r\nThe code to my class City\r\n\r\n```\r\npackage com.bestinsurance.api.domain;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;cities&quot;)\r\npublic class City {\r\n\r\n    @Id\r\n    @Column(nullable = false, updatable = false)\r\n    @GeneratedValue\r\n    private UUID cityId;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    private int population;\r\n\r\n    @OneToMany\r\n    private List&lt;Address&gt; addresses;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;country_id&quot;)\r\n    private Country country;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;state_id&quot;)\r\n    private State state;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        City city = (City) o;\r\n\r\n        return Objects.equals(cityId, city.cityId);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return cityId != null ? cityId.hashCode() : 0;\r\n    }\r\n\r\n    public UUID getCityId() {\r\n        return cityId;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getPopulation() {\r\n        return population;\r\n    }\r\n\r\n    public void setPopulation(int population) {\r\n        this.population = population;\r\n    }\r\n\r\n    public List&lt;Address&gt; getAddresses() {\r\n        return addresses;\r\n    }\r\n\r\n    public void setAddresses(List&lt;Address&gt; addresses) {\r\n        this.addresses = addresses;\r\n    }\r\n\r\n    public Country getCountry() {\r\n        return country;\r\n    }\r\n\r\n    public void setCountry(Country country) {\r\n        this.country = country;\r\n    }\r\n\r\n    public State getState() {\r\n        return state;\r\n    }\r\n\r\n    public void setState(State state) {\r\n        this.state = state;\r\n    }\r\n}\r\n```\r\n\r\nThe Schema I am working with:\r\n\r\n```\r\n--liquibase formatted sql\r\n--changeset aslan:001-changeset1.sql splitStatements:false\r\nCREATE TABLE Countries\r\n(\r\n    country_id uuid PRIMARY KEY NOT NULL,\r\n    name       VARCHAR(64)      NOT NULL,\r\n    population int\r\n);\r\n\r\nCREATE TABLE States\r\n(\r\n    state_id   uuid PRIMARY KEY                       NOT NULL,\r\n    country_id uuid REFERENCES Countries (country_id) NOT NULL,\r\n    name       VARCHAR(64)                            NOT NULL,\r\n    population int\r\n);\r\n\r\nCREATE TABLE Cities\r\n(\r\n    city_id    uuid PRIMARY KEY                       NOT NULL,\r\n    country_id uuid REFERENCES Countries (country_id) NOT NULL,\r\n    state_id   uuid REFERENCES States (state_id),\r\n    name       VARCHAR(64)                            NOT NULL,\r\n    population int\r\n\r\n);\r\n\r\nCREATE TABLE Addresses\r\n(\r\n    address_id  uuid PRIMARY KEY                       NOT NULL,\r\n    country_id  uuid REFERENCES Countries (country_id) NOT NULL,\r\n    city_id     uuid REFERENCES Cities (city_id)       NOT NULL,\r\n    state_id    uuid REFERENCES States (state_id)      NOT NULL,\r\n    address     VARCHAR(128)                           NOT NULL,\r\n    postal_code VARCHAR(16)\r\n);\r\n\r\nCREATE TABLE Customers\r\n(\r\n    customer uuid PRIMARY KEY         NOT NULL,\r\n    name     VARCHAR(64)              NOT NULL,\r\n    surname  VARCHAR(64)              NOT NULL,\r\n    email    VARCHAR(320)             NOT NULL,\r\n    created  timestamp with time zone NOT NULL,\r\n    updated  timestamp with time zone NOT NULL,\r\n    address  uuid REFERENCES Addresses (address_id) UNIQUE\r\n);\r\n\r\nCREATE TABLE Coverages\r\n(\r\n    coverage_id uuid PRIMARY KEY NOT NULL,\r\n    name        VARCHAR(16)      NOT NULL,\r\n    description TEXT\r\n);\r\n\r\nCREATE TABLE Policies\r\n(\r\n    policy_id   uuid PRIMARY KEY         NOT NULL,\r\n    name        VARCHAR(16)              NOT NULL,\r\n    description TEXT,\r\n    price       NUMERIC(4, 2)            NOT NULL,\r\n    created     timestamp with time zone NOT NULL,\r\n    updated     timestamp with time zone NOT NULL\r\n);\r\n\r\nCREATE TABLE Policies_Coverages\r\n(\r\n    coverage_id uuid REFERENCES Coverages (coverage_id) NOT NULL,\r\n    policy_id   uuid REFERENCES Policies (policy_id)    NOT NULL\r\n);\r\n\r\nCREATE TABLE Subscriptions\r\n(\r\n    policy_id   uuid REFERENCES Policies (policy_id) NOT NULL,\r\n    customer_id uuid REFERENCES Customers (customer) NOT NULL,\r\n    start_date  date                                 NOT NULL,\r\n    end_date    date                                 NOT NULL,\r\n    paid_price  numeric(4, 2)                        NOT NULL,\r\n    created     timestamp with time zone             NOT NULL,\r\n    updated     timestamp with time zone             NOT NULL,\r\n    PRIMARY KEY (policy_id, customer_id)\r\n);\r\n```\r\n\r\nAnd my application.properties file that is in the test folder since I am using testcontainers\r\n\r\n```\r\n# application.properties for PostgreSQL\r\n## Spring DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\r\nspring.datasource.url=jdbc:tc:postgresql:14.5-alpine:///\r\nspring.datasource.username=test-pg\r\nspring.datasource.password=test-pg\r\n\r\n# Disable feature detection by this undocumented parameter. Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\r\n\r\n# Because detection is disabled you have to set correct dialect by hand.\r\n#spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL95Dialect\r\n# IF YOU ARE USING SPRING 3.1.X JUST COMMENT THE PREVIOUS AND UNCOMMENT THE FOLLOWING\r\n spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n#spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL95Dialect\r\n# IF YOU ARE USING SPRING 3.1.X JUST COMMENT THE PREVIOUS AND UNCOMMENT THE FOLLOWING\r\n spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.jpa.hibernate.show_sql=true\r\nspring.jpa.hibernate.format_sql=true\r\n\r\n# Hibernate ddl auto (create, create-drop, validate, update)\r\nspring.jpa.hibernate.ddl-auto = validate\r\n\r\n#This is expected from the status rest service\r\napi.version=1.0\r\n```\r\nCan anyone explain where exactly is my mistake that is triggering this issue.\r\n\r\nBefore getting this error the @JoinColumn(name = &quot;city_id&quot;) was in city class and looked like this:\r\n\r\n```\r\n @OneToMany\r\n @JoinColumn(name = &quot;city_id&quot;)\r\n    private List&lt;Address&gt; addresses;\r\n```\r\n\r\nWhich was mapping the one-to-many relationship between address and city. But was getting error that looked like this\r\n\r\n&gt; EntityManagerFactory: \\[PersistenceUnit: default\\] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column \\[city_city_id\\] in table \\[addresses\\]","title":"Hibernate Schema-validation: missing table","body":"<p>I am becoming really confused with the issues I am confronting.</p>\n<p>I am getting this error:</p>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cities_addresses]</p>\n</blockquote>\n<p>Here is the code to my class Address:</p>\n<pre><code>package com.bestinsurance.api.domain;\n\nimport jakarta.persistence.*;\n\nimport java.util.Objects;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;addresses&quot;)\npublic class Address {\n    @Id\n    @Column(nullable = false, updatable = false)\n    @GeneratedValue\n    private UUID addressId;\n\n    @Column(nullable = false, updatable = false)\n    private String address;\n\n    @Column(nullable = false, updatable = false)\n    private String postalCode;\n\n    @OneToOne(mappedBy = &quot;address&quot;)\n    private Customer customer;\n\n    @ManyToOne()\n    @JoinColumn(name = &quot;country_id&quot;)\n    private Country country;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;city_id&quot;)\n    private City city;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;state_id&quot;)\n    private State state;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Address address = (Address) o;\n\n        return Objects.equals(addressId, address.addressId);\n    }\n\n    @Override\n    public int hashCode() {\n        return addressId != null ? addressId.hashCode() : 0;\n    }\n\n    public UUID getAddressId() {\n        return addressId;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getPostalCode() {\n        return postalCode;\n    }\n\n    public void setPostalCode(String postalCode) {\n        this.postalCode = postalCode;\n    }\n\n    public Customer getCustomer() {\n        return customer;\n    }\n\n    public void setCustomer(Customer customer) {\n        this.customer = customer;\n    }\n\n    public Country getCountry() {\n        return country;\n    }\n\n    public void setCountry(Country country) {\n        this.country = country;\n    }\n\n    public City getCity() {\n        return city;\n    }\n\n    public void setCity(City city) {\n        this.city = city;\n    }\n\n    public State getState() {\n        return state;\n    }\n\n    public void setState(State state) {\n        this.state = state;\n    }\n}\n</code></pre>\n<p>The code to my class City</p>\n<pre><code>package com.bestinsurance.api.domain;\n\nimport jakarta.persistence.*;\n\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;cities&quot;)\npublic class City {\n\n    @Id\n    @Column(nullable = false, updatable = false)\n    @GeneratedValue\n    private UUID cityId;\n\n    @Column(nullable = false, updatable = false)\n    private String name;\n\n    @Column(nullable = false, updatable = false)\n    private int population;\n\n    @OneToMany\n    private List&lt;Address&gt; addresses;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;country_id&quot;)\n    private Country country;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;state_id&quot;)\n    private State state;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        City city = (City) o;\n\n        return Objects.equals(cityId, city.cityId);\n    }\n\n    @Override\n    public int hashCode() {\n        return cityId != null ? cityId.hashCode() : 0;\n    }\n\n    public UUID getCityId() {\n        return cityId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getPopulation() {\n        return population;\n    }\n\n    public void setPopulation(int population) {\n        this.population = population;\n    }\n\n    public List&lt;Address&gt; getAddresses() {\n        return addresses;\n    }\n\n    public void setAddresses(List&lt;Address&gt; addresses) {\n        this.addresses = addresses;\n    }\n\n    public Country getCountry() {\n        return country;\n    }\n\n    public void setCountry(Country country) {\n        this.country = country;\n    }\n\n    public State getState() {\n        return state;\n    }\n\n    public void setState(State state) {\n        this.state = state;\n    }\n}\n</code></pre>\n<p>The Schema I am working with:</p>\n<pre><code>--liquibase formatted sql\n--changeset aslan:001-changeset1.sql splitStatements:false\nCREATE TABLE Countries\n(\n    country_id uuid PRIMARY KEY NOT NULL,\n    name       VARCHAR(64)      NOT NULL,\n    population int\n);\n\nCREATE TABLE States\n(\n    state_id   uuid PRIMARY KEY                       NOT NULL,\n    country_id uuid REFERENCES Countries (country_id) NOT NULL,\n    name       VARCHAR(64)                            NOT NULL,\n    population int\n);\n\nCREATE TABLE Cities\n(\n    city_id    uuid PRIMARY KEY                       NOT NULL,\n    country_id uuid REFERENCES Countries (country_id) NOT NULL,\n    state_id   uuid REFERENCES States (state_id),\n    name       VARCHAR(64)                            NOT NULL,\n    population int\n\n);\n\nCREATE TABLE Addresses\n(\n    address_id  uuid PRIMARY KEY                       NOT NULL,\n    country_id  uuid REFERENCES Countries (country_id) NOT NULL,\n    city_id     uuid REFERENCES Cities (city_id)       NOT NULL,\n    state_id    uuid REFERENCES States (state_id)      NOT NULL,\n    address     VARCHAR(128)                           NOT NULL,\n    postal_code VARCHAR(16)\n);\n\nCREATE TABLE Customers\n(\n    customer uuid PRIMARY KEY         NOT NULL,\n    name     VARCHAR(64)              NOT NULL,\n    surname  VARCHAR(64)              NOT NULL,\n    email    VARCHAR(320)             NOT NULL,\n    created  timestamp with time zone NOT NULL,\n    updated  timestamp with time zone NOT NULL,\n    address  uuid REFERENCES Addresses (address_id) UNIQUE\n);\n\nCREATE TABLE Coverages\n(\n    coverage_id uuid PRIMARY KEY NOT NULL,\n    name        VARCHAR(16)      NOT NULL,\n    description TEXT\n);\n\nCREATE TABLE Policies\n(\n    policy_id   uuid PRIMARY KEY         NOT NULL,\n    name        VARCHAR(16)              NOT NULL,\n    description TEXT,\n    price       NUMERIC(4, 2)            NOT NULL,\n    created     timestamp with time zone NOT NULL,\n    updated     timestamp with time zone NOT NULL\n);\n\nCREATE TABLE Policies_Coverages\n(\n    coverage_id uuid REFERENCES Coverages (coverage_id) NOT NULL,\n    policy_id   uuid REFERENCES Policies (policy_id)    NOT NULL\n);\n\nCREATE TABLE Subscriptions\n(\n    policy_id   uuid REFERENCES Policies (policy_id) NOT NULL,\n    customer_id uuid REFERENCES Customers (customer) NOT NULL,\n    start_date  date                                 NOT NULL,\n    end_date    date                                 NOT NULL,\n    paid_price  numeric(4, 2)                        NOT NULL,\n    created     timestamp with time zone             NOT NULL,\n    updated     timestamp with time zone             NOT NULL,\n    PRIMARY KEY (policy_id, customer_id)\n);\n</code></pre>\n<p>And my application.properties file that is in the test folder since I am using testcontainers</p>\n<pre><code># application.properties for PostgreSQL\n## Spring DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\nspring.datasource.url=jdbc:tc:postgresql:14.5-alpine:///\nspring.datasource.username=test-pg\nspring.datasource.password=test-pg\n\n# Disable feature detection by this undocumented parameter. Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\n\n# Because detection is disabled you have to set correct dialect by hand.\n#spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL95Dialect\n# IF YOU ARE USING SPRING 3.1.X JUST COMMENT THE PREVIOUS AND UNCOMMENT THE FOLLOWING\n spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\n#spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL95Dialect\n# IF YOU ARE USING SPRING 3.1.X JUST COMMENT THE PREVIOUS AND UNCOMMENT THE FOLLOWING\n spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.hibernate.show_sql=true\nspring.jpa.hibernate.format_sql=true\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = validate\n\n#This is expected from the status rest service\napi.version=1.0\n</code></pre>\n<p>Can anyone explain where exactly is my mistake that is triggering this issue.</p>\n<p>Before getting this error the @JoinColumn(name = &quot;city_id&quot;) was in city class and looked like this:</p>\n<pre><code> @OneToMany\n @JoinColumn(name = &quot;city_id&quot;)\n    private List&lt;Address&gt; addresses;\n</code></pre>\n<p>Which was mapping the one-to-many relationship between address and city. But was getting error that looked like this</p>\n<blockquote>\n<p>EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [city_city_id] in table [addresses]</p>\n</blockquote>\n"},{"tags":["java","collections","java-9"],"comments":[{"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"score":1,"creation_date":1506341723,"post_id":46404933,"comment_id":79767239,"body_markdown":"What kind of difference are you looking for? The method names differ, but the resulting data structures behave extremely similar.","body":"What kind of difference are you looking for? The method names differ, but the resulting data structures behave extremely similar."},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":2,"creation_date":1506342580,"post_id":46404933,"comment_id":79767822,"body_markdown":"@C-Otto If you claim that the methods are just &#39;extremely similar&#39; (and not identical), you must obviously think that there is a difference.","body":"@C-Otto If you claim that the methods are just &#39;extremely similar&#39; (and not identical), you must obviously think that there is a difference."},{"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1506342713,"post_id":46404933,"comment_id":79767909,"body_markdown":"@jarnbjo there are differences - see my answer","body":"@jarnbjo there are differences - see my answer"},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":0,"creation_date":1506343229,"post_id":46404933,"comment_id":79768263,"body_markdown":"@xenteros The question is valid enough and there are relevant differences in the returned objects, not just the specific class (as you point  out in your answer), but also how the classes are implemented and behave. I just don&#39;t see the point in C-Otto&#39;s comment asking for &#39;what kind of difference the OP is looking for&#39;. Yes, there are differences between the returned objects and a list of these differences might be an answer, although I am not 100% sure myself if the differences are just implementation specific or perhaps even bugs in the current state of OpenJDK 9.","body":"@xenteros The question is valid enough and there are relevant differences in the returned objects, not just the specific class (as you point  out in your answer), but also how the classes are implemented and behave. I just don&#39;t see the point in C-Otto&#39;s comment asking for &#39;what kind of difference the OP is looking for&#39;. Yes, there are differences between the returned objects and a list of these differences might be an answer, although I am not 100% sure myself if the differences are just implementation specific or perhaps even bugs in the current state of OpenJDK 9."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":3,"creation_date":1506355665,"post_id":46404933,"comment_id":79776903,"body_markdown":"See also: https://stackoverflow.com/questions/40888754/usage-of-java-9-collection-factories/40943796#40943796","body":"See also: <a href=\"https://stackoverflow.com/questions/40888754/usage-of-java-9-collection-factories/40943796#40943796\" title=\"usage of java 9 collection factories\">stackoverflow.com/questions/40888754/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1689790317,"creation_date":1506345319,"answer_id":46406203,"question_id":46404933,"body_markdown":"**Yes**, there are even behavioral and not just technical differences between the collections returned by the `emptyXyz` factory methods in the `Collections` class and the new `of` factory methods introduced in the interfaces (`Map`, `List`, `Set`) with JDK 9, if these are invoked with no arguments.\r\n\r\nThe relevant difference is that the collections returned by the new `of` factory methods disallow `null` elements, keys and values (as pointed out in the API documentation in the [List][1], [Set][2] and [Map][3] interfaces). This might sound irrelvant for empty collections, but even if it is not quite clearly documented, even the accessor methods in the new collection implementations check for `null` values. \r\n\r\nSome examples of the differences:\r\n\r\n`Collections.emptyList().contains(null)` will return false, while `List.of().contains(null)` will throw a `NullPointerException`.\r\n\r\n`Collections.emptyMap().getOrDefault(null, V)` will return `V`, while `Map.of().getOrDefault(null, V)` will throw a `NullPointerException`.\r\n\r\nAs currently implemented in Oracle&#39;s JDK 9, at least the following methods on the collections returned by the new factory methods will throw `NullPointerException`s, but behave &#39;sanely&#39; (as in how the collection classes were originally designed and specified to support null keys and values) using the old factory methods in the `Collections` class:\r\n\r\n- `List.of().contains(null);`\r\n- `Set.of().contains(null);`\r\n- `Map.of().containsKey(null);`\r\n- `Map.of().containsValue(null);`\r\n- `Map.of().getOrDefault(null, &lt;any&gt;);`\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#unmodifiable\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable","title":"Map.of() vs. Collections.emptyMap()","body":"<p><strong>Yes</strong>, there are even behavioral and not just technical differences between the collections returned by the <code>emptyXyz</code> factory methods in the <code>Collections</code> class and the new <code>of</code> factory methods introduced in the interfaces (<code>Map</code>, <code>List</code>, <code>Set</code>) with JDK 9, if these are invoked with no arguments.</p>\n<p>The relevant difference is that the collections returned by the new <code>of</code> factory methods disallow <code>null</code> elements, keys and values (as pointed out in the API documentation in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">List</a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#unmodifiable\" rel=\"nofollow noreferrer\">Set</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">Map</a> interfaces). This might sound irrelvant for empty collections, but even if it is not quite clearly documented, even the accessor methods in the new collection implementations check for <code>null</code> values.</p>\n<p>Some examples of the differences:</p>\n<p><code>Collections.emptyList().contains(null)</code> will return false, while <code>List.of().contains(null)</code> will throw a <code>NullPointerException</code>.</p>\n<p><code>Collections.emptyMap().getOrDefault(null, V)</code> will return <code>V</code>, while <code>Map.of().getOrDefault(null, V)</code> will throw a <code>NullPointerException</code>.</p>\n<p>As currently implemented in Oracle's JDK 9, at least the following methods on the collections returned by the new factory methods will throw <code>NullPointerException</code>s, but behave 'sanely' (as in how the collection classes were originally designed and specified to support null keys and values) using the old factory methods in the <code>Collections</code> class:</p>\n<ul>\n<li><code>List.of().contains(null);</code></li>\n<li><code>Set.of().contains(null);</code></li>\n<li><code>Map.of().containsKey(null);</code></li>\n<li><code>Map.of().containsValue(null);</code></li>\n<li><code>Map.of().getOrDefault(null, &lt;any&gt;);</code></li>\n</ul>\n"}],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5744,"favorite_count":0,"down_vote_count":3,"up_vote_count":48,"answer_count":1,"score":45,"last_activity_date":1689790317,"creation_date":1506341423,"question_id":46404933,"body_markdown":"Is there a difference between `Map.of()` and `Collections.emptyMap()`, between `List.of()` and `Collections.emptyList()` and between `Set.of()` and `Collections.emptySet()`?","title":"Map.of() vs. Collections.emptyMap()","body":"<p>Is there a difference between <code>Map.of()</code> and <code>Collections.emptyMap()</code>, between <code>List.of()</code> and <code>Collections.emptyList()</code> and between <code>Set.of()</code> and <code>Collections.emptySet()</code>?</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":29051307,"reputation":21,"user_id":22254068,"display_name":"tmaksimenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1689790038,"creation_date":1689790038,"question_id":76724105,"body_markdown":"I&#39;m a student working on a fairly simple CRUD web application using Spring Boot, Hibernate and Swagger UI. I was thinking of saving a List&lt;MyDto&gt; field into my Account table as a single column, as \r\n1. there is no need to query based on this field\r\n2. it does not need to be accessed separately from the Account entity\r\n3. it does not need individual items within to be accessed, only created, read or deleted as a whole i.e. no performance incentive from using a separate Entity\r\n\r\n\r\nI tried to follow two articles that suggested using AbstractSingleColumnStandardBasicType, from [Thorben Janssen](https://thorben-janssen.com/collections-hibernate-jpa/#:~:text=much%20better%20performance.-,Map%20a%20Collection%20as%20a%20Basic%20Type,-Hibernate%20can%20map) and from [Baeldung](https://www.baeldung.com/hibernate-custom-types), but both used AbstractTypeDescriptor, which (after some time of searching) I determined was no longer part of Hibernate from the 6.0 release onward. This brings me to the question: how is AbstractSingleColumnStandardBasicType meant to be used in Hibernate&#39;s latest version and is custom object single column mapping still possible?\r\n\r\nNote, I did try to work through the documentation at docs.jboss.org and could not make sense of it. I didn&#39;t like the idea of using @ElementCollection because of the extra table generated, which seemed unnecessary for my use case, but will do so for the sake of a working implementation.\r\n\r\nI also saw [this](https://stackoverflow.com/questions/76418374/how-do-i-handle-custom-types-in-hibernate-6) question about the same problem and lack of clarity, but as I don&#39;t know Kotlin and that question was about UUID rather than a List&lt;MiscObject&gt;, I didn&#39;t get much from it.","title":"How does Hibernate&#39;s custom type mapping (AbstractSingleColumnStandardBasicType) work in Hibernate 6?","body":"<p>I'm a student working on a fairly simple CRUD web application using Spring Boot, Hibernate and Swagger UI. I was thinking of saving a List field into my Account table as a single column, as</p>\n<ol>\n<li>there is no need to query based on this field</li>\n<li>it does not need to be accessed separately from the Account entity</li>\n<li>it does not need individual items within to be accessed, only created, read or deleted as a whole i.e. no performance incentive from using a separate Entity</li>\n</ol>\n<p>I tried to follow two articles that suggested using AbstractSingleColumnStandardBasicType, from <a href=\"https://thorben-janssen.com/collections-hibernate-jpa/#:%7E:text=much%20better%20performance.-,Map%20a%20Collection%20as%20a%20Basic%20Type,-Hibernate%20can%20map\" rel=\"nofollow noreferrer\">Thorben Janssen</a> and from <a href=\"https://www.baeldung.com/hibernate-custom-types\" rel=\"nofollow noreferrer\">Baeldung</a>, but both used AbstractTypeDescriptor, which (after some time of searching) I determined was no longer part of Hibernate from the 6.0 release onward. This brings me to the question: how is AbstractSingleColumnStandardBasicType meant to be used in Hibernate's latest version and is custom object single column mapping still possible?</p>\n<p>Note, I did try to work through the documentation at docs.jboss.org and could not make sense of it. I didn't like the idea of using @ElementCollection because of the extra table generated, which seemed unnecessary for my use case, but will do so for the sake of a working implementation.</p>\n<p>I also saw <a href=\"https://stackoverflow.com/questions/76418374/how-do-i-handle-custom-types-in-hibernate-6\">this</a> question about the same problem and lack of clarity, but as I don't know Kotlin and that question was about UUID rather than a List, I didn't get much from it.</p>\n"},{"tags":["java","primefaces","javabeans"],"answers":[{"tags":[],"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689789366,"creation_date":1689789366,"answer_id":76724050,"question_id":76723808,"body_markdown":"This works for me...\r\n\r\n```xml\r\n&lt;p:clock mode=&quot;server&quot; timeZone=&quot;UTC&quot; /&gt;\r\n&lt;p:clock mode=&quot;server&quot; timeZone=&quot;America/New_York&quot; /&gt;\r\n```\r\n\r\nresults in:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xMjNc.png","title":"How to get datetime in UTC format using Primefaces clock component?","body":"<p>This works for me...</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p:clock mode=&quot;server&quot; timeZone=&quot;UTC&quot; /&gt;\n&lt;p:clock mode=&quot;server&quot; timeZone=&quot;America/New_York&quot; /&gt;\n</code></pre>\n<p>results in:</p>\n<p><a href=\"https://i.stack.imgur.com/xMjNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xMjNc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689789619,"creation_date":1689789619,"answer_id":76724072,"question_id":76723808,"body_markdown":"```java\r\nimport javax.annotation.PostConstruct;\r\nimport javax.faces.bean.ManagedBean;\r\nimport javax.faces.bean.ViewScoped;\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneOffset;\r\n\r\n@ManagedBean(name = &quot;utcClockBean&quot;)\r\n@ViewScoped\r\npublic class UTCClockBean  implements Serializable {\r\n\r\n \tprivate static final long serialVersionUID = 1L;\r\n\tprivate LocalDateTime currentTime;\r\n\t\r\n\tpublic UTCClockBean() {\r\n\t}\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n    \tcurrentTime = LocalDateTime.now(ZoneOffset.UTC);\r\n    }\r\n\r\n    public LocalDateTime getCurrentTime() {\r\n        return currentTime;\r\n    }\r\n    \r\n    public void setCurrentTime(LocalDateTime currentTime) {\r\n\t\tthis.currentTime = currentTime;\r\n\t}\r\n}\r\n```\r\n\r\n```html\r\n&lt;p:clock mode=&quot;server&quot; pattern=&quot;HH:mm&quot; value=&quot;#{utcClockBean.currentTime}&quot;/&gt;\r\n```\r\n","title":"How to get datetime in UTC format using Primefaces clock component?","body":"<pre class=\"lang-java prettyprint-override\"><code>import javax.annotation.PostConstruct;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.ViewScoped;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.time.ZoneOffset;\n\n@ManagedBean(name = &quot;utcClockBean&quot;)\n@ViewScoped\npublic class UTCClockBean  implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    private LocalDateTime currentTime;\n    \n    public UTCClockBean() {\n    }\n\n    @PostConstruct\n    public void init() {\n        currentTime = LocalDateTime.now(ZoneOffset.UTC);\n    }\n\n    public LocalDateTime getCurrentTime() {\n        return currentTime;\n    }\n    \n    public void setCurrentTime(LocalDateTime currentTime) {\n        this.currentTime = currentTime;\n    }\n}\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p:clock mode=&quot;server&quot; pattern=&quot;HH:mm&quot; value=&quot;#{utcClockBean.currentTime}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76724072,"answer_count":2,"score":2,"last_activity_date":1689789619,"creation_date":1689787350,"question_id":76723808,"body_markdown":"I am trying to use PrimeFaces clock component and get the current datetime in UTC format. However, I have tried several time zones and always date the same value.\r\n```html\r\n&lt;p:clock pattern=&quot;HH:mm&quot; mode=&quot;server&quot; timeZone=&quot;Europe/Warsaw&quot;&gt;&lt;/p:clock&gt;\r\n```\r\n This question is the same that \r\nhttps://stackoverflow.com/questions/51263039/primefaces-clock-component-is-not-working-as-per-the-timezone-attribute-value, but I consider its answer is not a right solution.\r\n\r\nI have tried creating my own DateTimeGenerator and it works, however my app is a SPA and I would like the current datetime field be always shown in the header, and it change automatically. I could use ajax requests, but I think it would be great if I could use Primefaces Clock component instead:\r\n```java\r\nimport javax.annotation.PostConstruct;\r\nimport javax.faces.bean.ApplicationScoped;\r\nimport javax.faces.bean.ManagedBean;\r\nimport javax.faces.bean.ViewScoped;\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneOffset;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\n@ManagedBean(name = &quot;utcClockBean&quot;)\r\n@ApplicationScoped\r\npublic class UTCClockBean  implements Serializable {\r\n\r\n \tprivate static final long serialVersionUID = 1L;\r\n\tprivate String currentTime;\r\n\t\r\n\tpublic UTCClockBean() {\r\n\t}\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);\r\n    \tTimerTask task = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                currentTime = LocalDateTime.now(ZoneOffset.UTC).format(formatter);\r\n            }\r\n        };\r\n\r\n        Timer timer = new Timer();\r\n        timer.scheduleAtFixedRate(task, 0, 1000);\r\n    }\r\n\r\n    public String getCurrentTime() {\r\n        return currentTime;\r\n    }\r\n    \r\n    public void setCurrentTime(String currentTime) {\r\n\t\tthis.currentTime = currentTime;\r\n\t}\r\n}\r\n```\r\n","title":"How to get datetime in UTC format using Primefaces clock component?","body":"<p>I am trying to use PrimeFaces clock component and get the current datetime in UTC format. However, I have tried several time zones and always date the same value.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p:clock pattern=&quot;HH:mm&quot; mode=&quot;server&quot; timeZone=&quot;Europe/Warsaw&quot;&gt;&lt;/p:clock&gt;\n</code></pre>\n<p>This question is the same that\n<a href=\"https://stackoverflow.com/questions/51263039/primefaces-clock-component-is-not-working-as-per-the-timezone-attribute-value\">Primefaces Clock component is not working as per the timezone attribute value</a>, but I consider its answer is not a right solution.</p>\n<p>I have tried creating my own DateTimeGenerator and it works, however my app is a SPA and I would like the current datetime field be always shown in the header, and it change automatically. I could use ajax requests, but I think it would be great if I could use Primefaces Clock component instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.annotation.PostConstruct;\nimport javax.faces.bean.ApplicationScoped;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.ViewScoped;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\n@ManagedBean(name = &quot;utcClockBean&quot;)\n@ApplicationScoped\npublic class UTCClockBean  implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    private String currentTime;\n    \n    public UTCClockBean() {\n    }\n\n    @PostConstruct\n    public void init() {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);\n        TimerTask task = new TimerTask() {\n            @Override\n            public void run() {\n                currentTime = LocalDateTime.now(ZoneOffset.UTC).format(formatter);\n            }\n        };\n\n        Timer timer = new Timer();\n        timer.scheduleAtFixedRate(task, 0, 1000);\n    }\n\n    public String getCurrentTime() {\n        return currentTime;\n    }\n    \n    public void setCurrentTime(String currentTime) {\n        this.currentTime = currentTime;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","adb","root","su"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1679303202,"post_id":75784313,"comment_id":133690635,"body_markdown":"Why do you want to invoke that activity? usually you simply execute `su` and the request prompt for adb shell is displayed.","body":"Why do you want to invoke that activity? usually you simply execute <code>su</code> and the request prompt for adb shell is displayed."},{"owner":{"account_id":20870509,"reputation":49,"user_id":15330587,"display_name":"Shubham Chakraborty"},"score":0,"creation_date":1679395902,"post_id":75784313,"comment_id":133710357,"body_markdown":"Yes, I do want to invole that activity &amp; moreover I want to explicitly call the prompt so that if permission denied by mistake then again it can be granted using the prompt.","body":"Yes, I do want to invole that activity &amp; moreover I want to explicitly call the prompt so that if permission denied by mistake then again it can be granted using the prompt."}],"answers":[{"tags":[],"owner":{"account_id":28989235,"reputation":5,"user_id":22205400,"display_name":"Duck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689788987,"creation_date":1689788987,"answer_id":76723994,"question_id":75784313,"body_markdown":"Try just using\r\n&#39;su&#39;\r\nI hope it helps","title":"How to invoke the super user request prompt from the commandline","body":"<p>Try just using\n'su'\nI hope it helps</p>\n"}],"owner":{"account_id":20870509,"reputation":49,"user_id":15330587,"display_name":"Shubham Chakraborty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689788987,"creation_date":1679252461,"question_id":75784313,"body_markdown":"I want to invoke the super user request prompt from the command line but could not do it.\r\nHere&#39;s the code\r\n\r\n```\r\nam start -a com.topjohnwu.magisk.request -n com.topjohnwu.magisk/.request.RequestActivity\r\n```\r\nIts giving the error as follows\r\n\r\n```\r\nError type 3\r\nError: Activity class {com.topjohnwu.magisk/com.topjohnwu.magisk.request.RequestActivity} does not exist.\r\n```\r\nPlease help me.\r\nAny help is apperiatated &amp; thanks in advance.\r\n\r\nI wanted to invoke the super user request prompt from the command line but could not do it.\r\n\r\n\r\nAnd got the error as follows\r\n```\r\nError type 3\r\nError: Activity class {com.topjohnwu.magisk/com.topjohnwu.magisk.request.RequestActivity} does not exist.\r\n```","title":"How to invoke the super user request prompt from the commandline","body":"<p>I want to invoke the super user request prompt from the command line but could not do it.\nHere's the code</p>\n<pre><code>am start -a com.topjohnwu.magisk.request -n com.topjohnwu.magisk/.request.RequestActivity\n</code></pre>\n<p>Its giving the error as follows</p>\n<pre><code>Error type 3\nError: Activity class {com.topjohnwu.magisk/com.topjohnwu.magisk.request.RequestActivity} does not exist.\n</code></pre>\n<p>Please help me.\nAny help is apperiatated &amp; thanks in advance.</p>\n<p>I wanted to invoke the super user request prompt from the command line but could not do it.</p>\n<p>And got the error as follows</p>\n<pre><code>Error type 3\nError: Activity class {com.topjohnwu.magisk/com.topjohnwu.magisk.request.RequestActivity} does not exist.\n</code></pre>\n"},{"tags":["java","spring","exception","exceptionhandler","controller-advice"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689791035,"post_id":76723929,"comment_id":135264993,"body_markdown":"Why did you decide to write your own exception handler? The Spring one will just print out the messages. Next to that if you want something special for this case (the `MethodArgumentNotValidException.class`) then write it. The exception contains the actual messages.","body":"Why did you decide to write your own exception handler? The Spring one will just print out the messages. Next to that if you want something special for this case (the <code>MethodArgumentNotValidException.class</code>) then write it. The exception contains the actual messages."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1690052117,"post_id":76723929,"comment_id":135300372,"body_markdown":"The reason behind writing my own exception handler has more to do with ensuring that a 400 `BAD_REQUEST` Http code is sent, rather than with the message itself. You are correct about the exception containing the actual messages. Is there any way to get a more user-friendly message _OTHER_ than parsing the string with `substr()`, `lastIndexOf()`, etc?","body":"The reason behind writing my own exception handler has more to do with ensuring that a 400 <code>BAD_REQUEST</code> Http code is sent, rather than with the message itself. You are correct about the exception containing the actual messages. Is there any way to get a more user-friendly message <i>OTHER</i> than parsing the string with <code>substr()</code>, <code>lastIndexOf()</code>, etc?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690179631,"post_id":76723929,"comment_id":135311651,"body_markdown":"You don&#39;t need to. The fields are there, you need to change your exception handling for the `MethodArgumentNotValidException`. That includes ALL messages and even transposed already.","body":"You don&#39;t need to. The fields are there, you need to change your exception handling for the <code>MethodArgumentNotValidException</code>. That includes ALL messages and even transposed already."}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689788398,"creation_date":1689788398,"question_id":76723929,"body_markdown":"Got a simple DTO for users of my app where I use jakarta validators for the length of the password.\r\n\r\n```java\r\npublic class UserDto {\r\n\r\n  @NonNull\r\n  @NotBlank private String username;\r\n\r\n  @JsonProperty(access = WRITE_ONLY)\r\n  @NonNull\r\n  @ToString.Exclude\r\n  @Size(min = 8, max = 30, message = &quot;Please provide a password between 8 and 30 characters long.&quot;)\r\n  private String password;\r\n}\r\n```\r\n\r\nI&#39;m making sure that I use the `@Valid` annotation on the controller for registering users:\r\n\r\n```java\r\n@PostMapping(value = &quot;/register&quot;)\r\npublic ResponseEntity&lt;UserDto&gt; registerUser(@RequestBody @Valid UserDto user) {\r\n  return new ResponseEntity&lt;&gt;(userDetailsService.save(user), HttpStatus.CREATED);\r\n}\r\n```\r\n\r\nNow, if I try to register a user with a password that is too short, e.g the password `&quot;pass&quot;`:\r\n\r\n```json\r\n{\r\n  &quot;username&quot;: &quot;memeuser&quot;,\r\n  &quot;password&quot;: &quot;pass&quot;\r\n}\r\n```\r\n\r\nI get a 400 and a pretty verbose error message that reveals several API internals:\r\n\r\n```json\r\n{\r\n  &quot;message&quot;: &quot;Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;com.agilebank.model.user.UserDto&gt; com.agilebank.controller.JwtAuthenticationController.registerUser(com.agilebank.model.user.UserDto): [Field error in object &#39;userDto&#39; on field &#39;password&#39;: rejected value [pass]; codes [Size.userDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.password,password]; arguments []; default message [password],30,8]; default message [Please provide a password between 8 and 30 characters long.]] &quot;\r\n}\r\n```\r\n\r\nI am decorating the `Exception` that is thrown through the following class and method:\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class ExceptionAdvice {\r\n\r\n  @ResponseBody\r\n  @ExceptionHandler({\r\n    HttpMessageNotReadableException.class,\r\n    InsufficientBalanceException.class,\r\n    SameAccountException.class,\r\n    InvalidTransactionCurrencyException.class,\r\n    OneOfTwoCurrenciesMissingException.class,\r\n    InvalidSortByFieldSpecifiedException.class,\r\n    MethodArgumentNotValidException.class // &lt;---- Here is the type that interests us\r\n  })\r\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n  public ResponseEntity&lt;ExceptionMessageContainer&gt; badRequestStatusMessage(Exception exc) {\r\n    return new ResponseEntity&lt;&gt;(new ExceptionMessageContainer(exc.getMessage()), HttpStatus.BAD_REQUEST);\r\n  }\r\n}\r\n```\r\n\r\nwhere `ExceptionMessageContainer` is a simple container for the exception message:\r\n\r\n```java\r\n@AllArgsConstructor\r\npublic class ExceptionMessageContainer {\r\n    private String message;\r\n}\r\n```\r\n\r\nLooking at the [official docs for this exception type](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html) I am not so sure there&#39;s a straightforward way to get just the `message` that I have inside the `@Size` constraint, other than processing the `String` that `getMessage()` returns for me, which is not a generalizable solution. Any ideas about how I might be able to get just the `message` that I provide at the level of the constraint? I _could_ of course also just target instances of `MethodArgumentNotValidException` through a separate method inside `ExceptionAdvice` and have something like:\r\n\r\n```java\r\n @ResponseBody\r\n @ExceptionHandler({\r\n    MethodArgumentNotValidException.class\r\n  })\r\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n  public ResponseEntity&lt;ExceptionMessageContainer&gt; methodArgumentNotValidExceptionSpecificHandler(MethodArgumentNotValidException exc) {\r\n    return new ResponseEntity&lt;&gt;(new ExceptionMessageContainer(&quot;Password should be between 8 and 30 characters long&quot;), HttpStatus.BAD_REQUEST);\r\n  }\r\n```\r\nbut there are _other_ cases where this exception type might be thrown, since I have other DTOs with different validator constraints which can throw this exception type. So this would not work well in general and would mislead the user.","title":"Short messages for MethodArgumentNotValidException","body":"<p>Got a simple DTO for users of my app where I use jakarta validators for the length of the password.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDto {\n\n  @NonNull\n  @NotBlank private String username;\n\n  @JsonProperty(access = WRITE_ONLY)\n  @NonNull\n  @ToString.Exclude\n  @Size(min = 8, max = 30, message = &quot;Please provide a password between 8 and 30 characters long.&quot;)\n  private String password;\n}\n</code></pre>\n<p>I'm making sure that I use the <code>@Valid</code> annotation on the controller for registering users:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/register&quot;)\npublic ResponseEntity&lt;UserDto&gt; registerUser(@RequestBody @Valid UserDto user) {\n  return new ResponseEntity&lt;&gt;(userDetailsService.save(user), HttpStatus.CREATED);\n}\n</code></pre>\n<p>Now, if I try to register a user with a password that is too short, e.g the password <code>&quot;pass&quot;</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;username&quot;: &quot;memeuser&quot;,\n  &quot;password&quot;: &quot;pass&quot;\n}\n</code></pre>\n<p>I get a 400 and a pretty verbose error message that reveals several API internals:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;message&quot;: &quot;Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;com.agilebank.model.user.UserDto&gt; com.agilebank.controller.JwtAuthenticationController.registerUser(com.agilebank.model.user.UserDto): [Field error in object 'userDto' on field 'password': rejected value [pass]; codes [Size.userDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.password,password]; arguments []; default message [password],30,8]; default message [Please provide a password between 8 and 30 characters long.]] &quot;\n}\n</code></pre>\n<p>I am decorating the <code>Exception</code> that is thrown through the following class and method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class ExceptionAdvice {\n\n  @ResponseBody\n  @ExceptionHandler({\n    HttpMessageNotReadableException.class,\n    InsufficientBalanceException.class,\n    SameAccountException.class,\n    InvalidTransactionCurrencyException.class,\n    OneOfTwoCurrenciesMissingException.class,\n    InvalidSortByFieldSpecifiedException.class,\n    MethodArgumentNotValidException.class // &lt;---- Here is the type that interests us\n  })\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\n  public ResponseEntity&lt;ExceptionMessageContainer&gt; badRequestStatusMessage(Exception exc) {\n    return new ResponseEntity&lt;&gt;(new ExceptionMessageContainer(exc.getMessage()), HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n<p>where <code>ExceptionMessageContainer</code> is a simple container for the exception message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic class ExceptionMessageContainer {\n    private String message;\n}\n</code></pre>\n<p>Looking at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html\" rel=\"nofollow noreferrer\">official docs for this exception type</a> I am not so sure there's a straightforward way to get just the <code>message</code> that I have inside the <code>@Size</code> constraint, other than processing the <code>String</code> that <code>getMessage()</code> returns for me, which is not a generalizable solution. Any ideas about how I might be able to get just the <code>message</code> that I provide at the level of the constraint? I <em>could</em> of course also just target instances of <code>MethodArgumentNotValidException</code> through a separate method inside <code>ExceptionAdvice</code> and have something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @ResponseBody\n @ExceptionHandler({\n    MethodArgumentNotValidException.class\n  })\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\n  public ResponseEntity&lt;ExceptionMessageContainer&gt; methodArgumentNotValidExceptionSpecificHandler(MethodArgumentNotValidException exc) {\n    return new ResponseEntity&lt;&gt;(new ExceptionMessageContainer(&quot;Password should be between 8 and 30 characters long&quot;), HttpStatus.BAD_REQUEST);\n  }\n</code></pre>\n<p>but there are <em>other</em> cases where this exception type might be thrown, since I have other DTOs with different validator constraints which can throw this exception type. So this would not work well in general and would mislead the user.</p>\n"},{"tags":["java","spring-boot","amazon-s3","batch-processing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689798788,"post_id":76723905,"comment_id":135266449,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":14961649,"reputation":1,"user_id":10801219,"display_name":"Nishant Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689788278,"creation_date":1689788219,"question_id":76723905,"body_markdown":"I need help to get a code in form of 4 REST API in java spring boot \r\n\r\n1. API that will read large csv file(Size ~1GB) stored in AWS s3 and return the data in chunks when request is made to the rest API.\r\n\r\n2. API to Update this large CSV file stored in S3 from rendered data by first API\r\n\r\n3. API to Export this large CSV file in .xlsx format\r\n4. API to Update this large CSV file via exported .xlsx upload.\r\n\r\n\r\nI have written the code but that is working fine for small size CSV files but for large files is giving heap memory out of bound and gateway timeouts.\r\n\r\nPlease suggest some faster and efficent way to achieve this without getting gateway timeout and heap memory issues..\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTried various ways of achieving it most of time facing heap memory issue and gateway timeout as system is taking long time to process.\r\n\r\nNo Idea how to achieve it via batch processing or processing in chunks without data loss.","title":"How to create an APIs which will return the list of rows from a file which is a large CSV file stored in AWS S3 bucket","body":"<p>I need help to get a code in form of 4 REST API in java spring boot</p>\n<ol>\n<li><p>API that will read large csv file(Size ~1GB) stored in AWS s3 and return the data in chunks when request is made to the rest API.</p>\n</li>\n<li><p>API to Update this large CSV file stored in S3 from rendered data by first API</p>\n</li>\n<li><p>API to Export this large CSV file in .xlsx format</p>\n</li>\n<li><p>API to Update this large CSV file via exported .xlsx upload.</p>\n</li>\n</ol>\n<p>I have written the code but that is working fine for small size CSV files but for large files is giving heap memory out of bound and gateway timeouts.</p>\n<p>Please suggest some faster and efficent way to achieve this without getting gateway timeout and heap memory issues..</p>\n<p>Tried various ways of achieving it most of time facing heap memory issue and gateway timeout as system is taking long time to process.</p>\n<p>No Idea how to achieve it via batch processing or processing in chunks without data loss.</p>\n"},{"tags":["java","jackson","modelmapper"],"owner":{"account_id":28588307,"reputation":11,"user_id":21888106,"display_name":"darthwader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689787957,"creation_date":1689787957,"question_id":76723877,"body_markdown":"I have a response I receive like this: \r\n\r\n```&quot;result&quot;: [\r\n    {\r\n     \r\n      &quot;contactPersons&quot;: [\r\n        {\r\n          &quot;contactCrmId&quot;:&quot;1232445&quot;, \r\n          &quot;contactUserType&quot;: {\r\n            &quot;code&quot;: &quot;NORMAL&quot;\r\n          },\r\n          &quot;contactName&quot;: &quot;&quot;,\r\n          &quot;contacts&quot;: [\r\n            {\r\n              &quot;contactType&quot;: {\r\n                &quot;code&quot;: &quot;E-Mail&quot;\r\n              },\r\n              &quot;contactValue&quot;: &quot;test@test.com&quot;\r\n            },\r\n            {\r\n              &quot;contactType&quot;: {\r\n                &quot;code&quot;: &quot;Mobile&quot;\r\n              },\r\n              &quot;contactValue&quot;: &quot;0505566777&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n\r\n```\r\n\r\nThe POJO I made for this is:\r\n\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;contactType&quot;,\r\n    &quot;contactValue&quot;\r\n})\r\n@Generated(&quot;jsonschema2pojo&quot;)\r\npublic class Contact {\r\n\r\n    @JsonProperty(&quot;contactType&quot;)\r\n    private ContactType contactType;\r\n    @JsonProperty(&quot;contactValue&quot;)\r\n    private String contactValue;\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n    @JsonProperty(&quot;contactType&quot;)\r\n    public ContactType getContactType() {\r\n        return contactType;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactType&quot;)\r\n    public void setContactType(ContactType contactType) {\r\n        this.contactType = contactType;\r\n    }\r\n\r\n    public Contact withContactType(ContactType contactType) {\r\n        this.contactType = contactType;\r\n        return this;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactValue&quot;)\r\n    public String getContactValue() {\r\n        return contactValue;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactValue&quot;)\r\n    public void setContactValue(String contactValue) {\r\n        this.contactValue = contactValue;\r\n    }\r\n\r\n    public Contact withContactValue(String contactValue) {\r\n        this.contactValue = contactValue;\r\n        return this;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n    public Contact withAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(Contact.class.getName()).append(&#39;@&#39;).append(Integer.toHexString(System.identityHashCode(this))).append(&#39;[&#39;);\r\n        sb.append(&quot;contactType&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.contactType == null)?&quot;&lt;null&gt;&quot;:this.contactType));\r\n        sb.append(&#39;,&#39;);\r\n        sb.append(&quot;contactValue&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.contactValue == null)?&quot;&lt;null&gt;&quot;:this.contactValue));\r\n        sb.append(&#39;,&#39;);\r\n        sb.append(&quot;additionalProperties&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.additionalProperties == null)?&quot;&lt;null&gt;&quot;:this.additionalProperties));\r\n        sb.append(&#39;,&#39;);\r\n        if (sb.charAt((sb.length()- 1)) == &#39;,&#39;) {\r\n            sb.setCharAt((sb.length()- 1), &#39;]&#39;);\r\n        } else {\r\n            sb.append(&#39;]&#39;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int result = 1;\r\n        result = ((result* 31)+((this.contactType == null)? 0 :this.contactType.hashCode()));\r\n        result = ((result* 31)+((this.additionalProperties == null)? 0 :this.additionalProperties.hashCode()));\r\n        result = ((result* 31)+((this.contactValue == null)? 0 :this.contactValue.hashCode()));\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        if (other == this) {\r\n            return true;\r\n        }\r\n        if ((other instanceof Contact) == false) {\r\n            return false;\r\n        }\r\n        Contact rhs = ((Contact) other);\r\n        return ((((this.contactType == rhs.contactType)||((this.contactType!= null)&amp;&amp;this.contactType.equals(rhs.contactType)))&amp;&amp;((this.additionalProperties == rhs.additionalProperties)||((this.additionalProperties!= null)&amp;&amp;this.additionalProperties.equals(rhs.additionalProperties))))&amp;&amp;((this.contactValue == rhs.contactValue)||((this.contactValue!= null)&amp;&amp;this.contactValue.equals(rhs.contactValue))));\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nJsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;contactCrmId&quot;,\r\n    &quot;contactUserType&quot;,\r\n    &quot;contactName&quot;,\r\n    &quot;contacts&quot;\r\n})\r\n@Generated(&quot;jsonschema2pojo&quot;)\r\npublic class ContactPerson {\r\n\r\n    @JsonProperty(&quot;contactCrmId&quot;)\r\n    private String contactCrmId;\r\n    @JsonProperty(&quot;contactUserType&quot;)\r\n    private ContactUserType contactUserType;\r\n    @JsonProperty(&quot;contactName&quot;)\r\n    private String contactName;\r\n    @JsonProperty(&quot;contacts&quot;)\r\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n    @JsonProperty(&quot;contactCrmId&quot;)\r\n    public String getContactCrmId() {\r\n        return contactCrmId;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactCrmId&quot;)\r\n    public void setContactCrmId(String contactCrmId) {\r\n        this.contactCrmId = contactCrmId;\r\n    }\r\n\r\n    public ContactPerson withContactCrmId(String contactCrmId) {\r\n        this.contactCrmId = contactCrmId;\r\n        return this;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactUserType&quot;)\r\n    public ContactUserType getContactUserType() {\r\n        return contactUserType;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactUserType&quot;)\r\n    public void setContactUserType(ContactUserType contactUserType) {\r\n        this.contactUserType = contactUserType;\r\n    }\r\n\r\n    public ContactPerson withContactUserType(ContactUserType contactUserType) {\r\n        this.contactUserType = contactUserType;\r\n        return this;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactName&quot;)\r\n    public String getContactName() {\r\n        return contactName;\r\n    }\r\n\r\n    @JsonProperty(&quot;contactName&quot;)\r\n    public void setContactName(String contactName) {\r\n        this.contactName = contactName;\r\n    }\r\n\r\n    public ContactPerson withContactName(String contactName) {\r\n        this.contactName = contactName;\r\n        return this;\r\n    }\r\n\r\n    @JsonProperty(&quot;contacts&quot;)\r\n    public List&lt;Contact&gt; getContacts() {\r\n        return contacts;\r\n    }\r\n\r\n    @JsonProperty(&quot;contacts&quot;)\r\n    public void setContacts(List&lt;Contact&gt; contacts) {\r\n        this.contacts = contacts;\r\n    }\r\n\r\n    public ContactPerson withContacts(List&lt;Contact&gt; contacts) {\r\n        this.contacts = contacts;\r\n        return this;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n    public ContactPerson withAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(ContactPerson.class.getName()).append(&#39;@&#39;).append(Integer.toHexString(System.identityHashCode(this))).append(&#39;[&#39;);\r\n        sb.append(&quot;contactCrmId&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.contactCrmId == null)?&quot;&lt;null&gt;&quot;:this.contactCrmId));\r\n        sb.append(&#39;,&#39;);\r\n        sb.append(&quot;contactUserType&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.contactUserType == null)?&quot;&lt;null&gt;&quot;:this.contactUserType));\r\n        sb.append(&#39;,&#39;);\r\n        sb.append(&quot;contactName&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.contactName == null)?&quot;&lt;null&gt;&quot;:this.contactName));\r\n        sb.append(&#39;,&#39;);\r\n        sb.append(&quot;contacts&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.contacts == null)?&quot;&lt;null&gt;&quot;:this.contacts));\r\n        sb.append(&#39;,&#39;);\r\n        sb.append(&quot;additionalProperties&quot;);\r\n        sb.append(&#39;=&#39;);\r\n        sb.append(((this.additionalProperties == null)?&quot;&lt;null&gt;&quot;:this.additionalProperties));\r\n        sb.append(&#39;,&#39;);\r\n        if (sb.charAt((sb.length()- 1)) == &#39;,&#39;) {\r\n            sb.setCharAt((sb.length()- 1), &#39;]&#39;);\r\n        } else {\r\n            sb.append(&#39;]&#39;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int result = 1;\r\n        result = ((result* 31)+((this.contactCrmId == null)? 0 :this.contactCrmId.hashCode()));\r\n        result = ((result* 31)+((this.additionalProperties == null)? 0 :this.additionalProperties.hashCode()));\r\n        result = ((result* 31)+((this.contactUserType == null)? 0 :this.contactUserType.hashCode()));\r\n        result = ((result* 31)+((this.contactName == null)? 0 :this.contactName.hashCode()));\r\n        result = ((result* 31)+((this.contacts == null)? 0 :this.contacts.hashCode()));\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        if (other == this) {\r\n            return true;\r\n        }\r\n        if ((other instanceof ContactPerson) == false) {\r\n            return false;\r\n        }\r\n        ContactPerson rhs = ((ContactPerson) other);\r\n        return ((((((this.contactCrmId == rhs.contactCrmId)||((this.contactCrmId!= null)&amp;&amp;this.contactCrmId.equals(rhs.contactCrmId)))&amp;&amp;((this.additionalProperties == rhs.additionalProperties)||((this.additionalProperties!= null)&amp;&amp;this.additionalProperties.equals(rhs.additionalProperties))))&amp;&amp;((this.contactUserType == rhs.contactUserType)||((this.contactUserType!= null)&amp;&amp;this.contactUserType.equals(rhs.contactUserType))))&amp;&amp;((this.contactName == rhs.contactName)||((this.contactName!= null)&amp;&amp;this.contactName.equals(rhs.contactName))))&amp;&amp;((this.contacts == rhs.contacts)||((this.contacts!= null)&amp;&amp;this.contacts.equals(rhs.contacts))));\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd I want to map into my contact object like this that is swagger generated:\r\n\r\n```\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-18T19:30:20.680014600+05:30[Asia/Calcutta]&quot;)\r\npublic class Contact implements Payload {\r\n\r\n  private String name;\r\n\r\n  private String mobileNumber;\r\n\r\n  private String emailId;\r\n\r\n  public Contact name(String name) {\r\n    this.name = name;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Get name\r\n   * @return name\r\n  */\r\n  \r\n  @JsonProperty(&quot;name&quot;)\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public Contact mobileNumber(String mobileNumber) {\r\n    this.mobileNumber = mobileNumber;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Get mobileNumber\r\n   * @return mobileNumber\r\n  */\r\n  \r\n  @JsonProperty(&quot;mobileNumber&quot;)\r\n  public String getMobileNumber() {\r\n    return mobileNumber;\r\n  }\r\n\r\n  public void setMobileNumber(String mobileNumber) {\r\n    this.mobileNumber = mobileNumber;\r\n  }\r\n\r\n  public Contact emailId(String emailId) {\r\n    this.emailId = emailId;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Get emailId\r\n   * @return emailId\r\n  */\r\n  \r\n  @JsonProperty(&quot;emailId&quot;)\r\n  public String getEmailId() {\r\n    return emailId;\r\n  }\r\n\r\n  public void setEmailId(String emailId) {\r\n    this.emailId = emailId;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    Contact contact = (Contact) o;\r\n    return Objects.equals(this.name, contact.name) &amp;&amp;\r\n        Objects.equals(this.mobileNumber, contact.mobileNumber) &amp;&amp;\r\n        Objects.equals(this.emailId, contact.emailId);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(name, mobileNumber, emailId);\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;class Contact {\\n&quot;);\r\n    sb.append(&quot;    name: &quot;).append(toIndentedString(name)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    mobileNumber: &quot;).append(toIndentedString(mobileNumber)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    emailId: &quot;).append(toIndentedString(emailId)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;}&quot;);\r\n    return sb.toString();\r\n  }\r\n\r\n  /**\r\n   * Convert the given object to string with each line indented by 4 spaces\r\n   * (except the first line).\r\n   */\r\n  private String toIndentedString(Object o) {\r\n    if (o == null) {\r\n      return &quot;null&quot;;\r\n    }\r\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n  }\r\n}\r\n```\r\n\r\nThe pojos were generated using a library. Is there any way this can be done using modelmapper? I would like to have ContactPerson map to generated Contact. Or do I do this without any mapper library?","title":"How to map from external system deserialized pojo?","body":"<p>I have a response I receive like this:</p>\n<pre><code>    {\n     \n      &quot;contactPersons&quot;: [\n        {\n          &quot;contactCrmId&quot;:&quot;1232445&quot;, \n          &quot;contactUserType&quot;: {\n            &quot;code&quot;: &quot;NORMAL&quot;\n          },\n          &quot;contactName&quot;: &quot;&quot;,\n          &quot;contacts&quot;: [\n            {\n              &quot;contactType&quot;: {\n                &quot;code&quot;: &quot;E-Mail&quot;\n              },\n              &quot;contactValue&quot;: &quot;test@test.com&quot;\n            },\n            {\n              &quot;contactType&quot;: {\n                &quot;code&quot;: &quot;Mobile&quot;\n              },\n              &quot;contactValue&quot;: &quot;0505566777&quot;\n            }\n          ]\n        }\n      ]\n\n</code></pre>\n<p>The POJO I made for this is:</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;contactType&quot;,\n    &quot;contactValue&quot;\n})\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class Contact {\n\n    @JsonProperty(&quot;contactType&quot;)\n    private ContactType contactType;\n    @JsonProperty(&quot;contactValue&quot;)\n    private String contactValue;\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(&quot;contactType&quot;)\n    public ContactType getContactType() {\n        return contactType;\n    }\n\n    @JsonProperty(&quot;contactType&quot;)\n    public void setContactType(ContactType contactType) {\n        this.contactType = contactType;\n    }\n\n    public Contact withContactType(ContactType contactType) {\n        this.contactType = contactType;\n        return this;\n    }\n\n    @JsonProperty(&quot;contactValue&quot;)\n    public String getContactValue() {\n        return contactValue;\n    }\n\n    @JsonProperty(&quot;contactValue&quot;)\n    public void setContactValue(String contactValue) {\n        this.contactValue = contactValue;\n    }\n\n    public Contact withContactValue(String contactValue) {\n        this.contactValue = contactValue;\n        return this;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n    public Contact withAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n        return this;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(Contact.class.getName()).append('@').append(Integer.toHexString(System.identityHashCode(this))).append('[');\n        sb.append(&quot;contactType&quot;);\n        sb.append('=');\n        sb.append(((this.contactType == null)?&quot;&lt;null&gt;&quot;:this.contactType));\n        sb.append(',');\n        sb.append(&quot;contactValue&quot;);\n        sb.append('=');\n        sb.append(((this.contactValue == null)?&quot;&lt;null&gt;&quot;:this.contactValue));\n        sb.append(',');\n        sb.append(&quot;additionalProperties&quot;);\n        sb.append('=');\n        sb.append(((this.additionalProperties == null)?&quot;&lt;null&gt;&quot;:this.additionalProperties));\n        sb.append(',');\n        if (sb.charAt((sb.length()- 1)) == ',') {\n            sb.setCharAt((sb.length()- 1), ']');\n        } else {\n            sb.append(']');\n        }\n        return sb.toString();\n    }\n\n    @Override\n    public int hashCode() {\n        int result = 1;\n        result = ((result* 31)+((this.contactType == null)? 0 :this.contactType.hashCode()));\n        result = ((result* 31)+((this.additionalProperties == null)? 0 :this.additionalProperties.hashCode()));\n        result = ((result* 31)+((this.contactValue == null)? 0 :this.contactValue.hashCode()));\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other == this) {\n            return true;\n        }\n        if ((other instanceof Contact) == false) {\n            return false;\n        }\n        Contact rhs = ((Contact) other);\n        return ((((this.contactType == rhs.contactType)||((this.contactType!= null)&amp;&amp;this.contactType.equals(rhs.contactType)))&amp;&amp;((this.additionalProperties == rhs.additionalProperties)||((this.additionalProperties!= null)&amp;&amp;this.additionalProperties.equals(rhs.additionalProperties))))&amp;&amp;((this.contactValue == rhs.contactValue)||((this.contactValue!= null)&amp;&amp;this.contactValue.equals(rhs.contactValue))));\n    }\n\n}\n</code></pre>\n<pre><code>JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;contactCrmId&quot;,\n    &quot;contactUserType&quot;,\n    &quot;contactName&quot;,\n    &quot;contacts&quot;\n})\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class ContactPerson {\n\n    @JsonProperty(&quot;contactCrmId&quot;)\n    private String contactCrmId;\n    @JsonProperty(&quot;contactUserType&quot;)\n    private ContactUserType contactUserType;\n    @JsonProperty(&quot;contactName&quot;)\n    private String contactName;\n    @JsonProperty(&quot;contacts&quot;)\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(&quot;contactCrmId&quot;)\n    public String getContactCrmId() {\n        return contactCrmId;\n    }\n\n    @JsonProperty(&quot;contactCrmId&quot;)\n    public void setContactCrmId(String contactCrmId) {\n        this.contactCrmId = contactCrmId;\n    }\n\n    public ContactPerson withContactCrmId(String contactCrmId) {\n        this.contactCrmId = contactCrmId;\n        return this;\n    }\n\n    @JsonProperty(&quot;contactUserType&quot;)\n    public ContactUserType getContactUserType() {\n        return contactUserType;\n    }\n\n    @JsonProperty(&quot;contactUserType&quot;)\n    public void setContactUserType(ContactUserType contactUserType) {\n        this.contactUserType = contactUserType;\n    }\n\n    public ContactPerson withContactUserType(ContactUserType contactUserType) {\n        this.contactUserType = contactUserType;\n        return this;\n    }\n\n    @JsonProperty(&quot;contactName&quot;)\n    public String getContactName() {\n        return contactName;\n    }\n\n    @JsonProperty(&quot;contactName&quot;)\n    public void setContactName(String contactName) {\n        this.contactName = contactName;\n    }\n\n    public ContactPerson withContactName(String contactName) {\n        this.contactName = contactName;\n        return this;\n    }\n\n    @JsonProperty(&quot;contacts&quot;)\n    public List&lt;Contact&gt; getContacts() {\n        return contacts;\n    }\n\n    @JsonProperty(&quot;contacts&quot;)\n    public void setContacts(List&lt;Contact&gt; contacts) {\n        this.contacts = contacts;\n    }\n\n    public ContactPerson withContacts(List&lt;Contact&gt; contacts) {\n        this.contacts = contacts;\n        return this;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n    public ContactPerson withAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n        return this;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(ContactPerson.class.getName()).append('@').append(Integer.toHexString(System.identityHashCode(this))).append('[');\n        sb.append(&quot;contactCrmId&quot;);\n        sb.append('=');\n        sb.append(((this.contactCrmId == null)?&quot;&lt;null&gt;&quot;:this.contactCrmId));\n        sb.append(',');\n        sb.append(&quot;contactUserType&quot;);\n        sb.append('=');\n        sb.append(((this.contactUserType == null)?&quot;&lt;null&gt;&quot;:this.contactUserType));\n        sb.append(',');\n        sb.append(&quot;contactName&quot;);\n        sb.append('=');\n        sb.append(((this.contactName == null)?&quot;&lt;null&gt;&quot;:this.contactName));\n        sb.append(',');\n        sb.append(&quot;contacts&quot;);\n        sb.append('=');\n        sb.append(((this.contacts == null)?&quot;&lt;null&gt;&quot;:this.contacts));\n        sb.append(',');\n        sb.append(&quot;additionalProperties&quot;);\n        sb.append('=');\n        sb.append(((this.additionalProperties == null)?&quot;&lt;null&gt;&quot;:this.additionalProperties));\n        sb.append(',');\n        if (sb.charAt((sb.length()- 1)) == ',') {\n            sb.setCharAt((sb.length()- 1), ']');\n        } else {\n            sb.append(']');\n        }\n        return sb.toString();\n    }\n\n    @Override\n    public int hashCode() {\n        int result = 1;\n        result = ((result* 31)+((this.contactCrmId == null)? 0 :this.contactCrmId.hashCode()));\n        result = ((result* 31)+((this.additionalProperties == null)? 0 :this.additionalProperties.hashCode()));\n        result = ((result* 31)+((this.contactUserType == null)? 0 :this.contactUserType.hashCode()));\n        result = ((result* 31)+((this.contactName == null)? 0 :this.contactName.hashCode()));\n        result = ((result* 31)+((this.contacts == null)? 0 :this.contacts.hashCode()));\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other == this) {\n            return true;\n        }\n        if ((other instanceof ContactPerson) == false) {\n            return false;\n        }\n        ContactPerson rhs = ((ContactPerson) other);\n        return ((((((this.contactCrmId == rhs.contactCrmId)||((this.contactCrmId!= null)&amp;&amp;this.contactCrmId.equals(rhs.contactCrmId)))&amp;&amp;((this.additionalProperties == rhs.additionalProperties)||((this.additionalProperties!= null)&amp;&amp;this.additionalProperties.equals(rhs.additionalProperties))))&amp;&amp;((this.contactUserType == rhs.contactUserType)||((this.contactUserType!= null)&amp;&amp;this.contactUserType.equals(rhs.contactUserType))))&amp;&amp;((this.contactName == rhs.contactName)||((this.contactName!= null)&amp;&amp;this.contactName.equals(rhs.contactName))))&amp;&amp;((this.contacts == rhs.contacts)||((this.contacts!= null)&amp;&amp;this.contacts.equals(rhs.contacts))));\n    }\n\n}\n</code></pre>\n<p>And I want to map into my contact object like this that is swagger generated:</p>\n<pre><code>@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-18T19:30:20.680014600+05:30[Asia/Calcutta]&quot;)\npublic class Contact implements Payload {\n\n  private String name;\n\n  private String mobileNumber;\n\n  private String emailId;\n\n  public Contact name(String name) {\n    this.name = name;\n    return this;\n  }\n\n  /**\n   * Get name\n   * @return name\n  */\n  \n  @JsonProperty(&quot;name&quot;)\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public Contact mobileNumber(String mobileNumber) {\n    this.mobileNumber = mobileNumber;\n    return this;\n  }\n\n  /**\n   * Get mobileNumber\n   * @return mobileNumber\n  */\n  \n  @JsonProperty(&quot;mobileNumber&quot;)\n  public String getMobileNumber() {\n    return mobileNumber;\n  }\n\n  public void setMobileNumber(String mobileNumber) {\n    this.mobileNumber = mobileNumber;\n  }\n\n  public Contact emailId(String emailId) {\n    this.emailId = emailId;\n    return this;\n  }\n\n  /**\n   * Get emailId\n   * @return emailId\n  */\n  \n  @JsonProperty(&quot;emailId&quot;)\n  public String getEmailId() {\n    return emailId;\n  }\n\n  public void setEmailId(String emailId) {\n    this.emailId = emailId;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    Contact contact = (Contact) o;\n    return Objects.equals(this.name, contact.name) &amp;&amp;\n        Objects.equals(this.mobileNumber, contact.mobileNumber) &amp;&amp;\n        Objects.equals(this.emailId, contact.emailId);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(name, mobileNumber, emailId);\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class Contact {\\n&quot;);\n    sb.append(&quot;    name: &quot;).append(toIndentedString(name)).append(&quot;\\n&quot;);\n    sb.append(&quot;    mobileNumber: &quot;).append(toIndentedString(mobileNumber)).append(&quot;\\n&quot;);\n    sb.append(&quot;    emailId: &quot;).append(toIndentedString(emailId)).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(Object o) {\n    if (o == null) {\n      return &quot;null&quot;;\n    }\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n  }\n}\n</code></pre>\n<p>The pojos were generated using a library. Is there any way this can be done using modelmapper? I would like to have ContactPerson map to generated Contact. Or do I do this without any mapper library?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"owner":{"account_id":29042181,"reputation":24,"user_id":22246824,"display_name":"dummy furzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689787781,"creation_date":1689710709,"question_id":76716200,"body_markdown":"I am totally new to spring, and making a social media app, where User and Follow are Entity classes. Follow entity is having two fields of type User, one for follower and another for following, mapping is ManyToOne from Follow to User. \r\n\r\nThere is an use-case where I am requiring follower and following objects from a Follow object. And the place is where I want to get these in FollowService.java. My service class is having a method to save the Follow record into the database. In that function, I want to get follower and following from that saved Follow record, which I have just inserted.\r\n\r\n**Note:-** I have got an idea from this [answer](https://stackoverflow.com/a/50378345/22246824) to set only Ids for mapped classes instead of supplying whole object. So, I am just setting the followerId and followingId in my Follow record and save it to database. Further understanding you can get from the code...\r\n\r\n**Follow.java**\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(uniqueConstraints = @UniqueConstraint(name = &quot;uniqueIdForFollow&quot;, columnNames = {&quot;fk_followerId&quot;, &quot;fk_followingId&quot;}))\r\npublic class Follow {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int followId;\r\n\r\n    @ManyToOne(targetEntity = User.class, fetch=FetchType.EAGER)\r\n    @JoinColumn(name = &quot;fk_followerId&quot;, insertable=false, updatable=false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private User follower;\r\n    @Column(name = &quot;fk_followerId&quot;)\r\n    private int followerId;\r\n\r\n    @ManyToOne(targetEntity = User.class, fetch=FetchType.EAGER)\r\n    @JoinColumn(name = &quot;fk_followingId&quot;, insertable=false, updatable=false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private User following;\r\n    @Column(name = &quot;fk_followingId&quot;)\r\n    private int followingId;\r\n\r\n    @CreationTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date createdAt;\r\n\r\n\r\n    public int getFollowId() {\r\n        return followId;\r\n    }\r\n\r\n    public int getFollowerId() {\r\n        return followerId;\r\n    }\r\n    public void setFollowerId(int followerId) {\r\n        this.followerId = followerId;\r\n    }\r\n  \r\n    public int getFollowingId() {\r\n        return followingId;\r\n    }\r\n \r\n    public void setFollowingId(int followingId) {\r\n        this.followingId = followingId;\r\n    }\r\n\r\n    public User getFollower() {\r\n        return follower;\r\n    }\r\n\r\n\r\n    public void setFollower(User follower) {\r\n        this.follower = follower;\r\n    }\r\n\r\n\r\n    public User getFollowing() {\r\n        return following;\r\n    }\r\n\r\n\r\n    public void setFollowing(User following) {\r\n        this.following = following;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**User.java**\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int userId;\r\n\r\n    @NotNull\r\n    private String username;\r\n    @Email(message = &quot;entered email is not valid.&quot;, regexp = &quot;[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,3}&quot;, flags = Pattern.Flag.CASE_INSENSITIVE)\r\n    @NotNull\r\n    private String email;\r\n\r\n    @NotNull\r\n    private String password;\r\n\r\n \r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public @NotNull String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(@NotNull String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public @NotNull String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(@NotNull String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public @NotNull String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(@NotNull String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n```\r\n**FollowController.java**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users/{userId}/follow&quot;)\r\npublic class FollowController {\r\n    @Autowired\r\n    FollowService fs;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; followThisUser(@PathVariable(&quot;userId&quot;) int userId, @RequestBody Follow follow, HttpServletRequest request) throws Exception {\r\n        Follow newFollow = fs.followUser(userId, follow);\r\n\r\n        return ResponseHandler\r\n                .generateResponse(newFollow, HttpStatus.CREATED, &quot;user with userId &quot;+follow.getFollowerId()+&quot; followed the user with userId &quot;+userId, request.getRequestURI());\r\n    }\r\n}\r\n```\r\n**FollowService.java**\r\n```\r\n@Service\r\npublic class FollowService {\r\n    @Autowired\r\n    FollowRepo fr;\r\n\r\n    public Follow followUser(int userId, Follow follow) {\r\n        follow.setFollowingId(userId);\r\n        Follow savedFollow = fr.save(follow);\r\n        // record saved to the database\r\n        // Now I fetch it using Id\r\n        // Here I want to get the follower and following fields\r\n        /*\r\n          Follow follow = getByFollowId(savedFollow.getFollowId());\r\n          System.out.println(follow.getFollower()); // I am getting null\r\n          System.out.println(follow.getFollowing()); // I am getting null\r\n        */\r\n\r\n        return savedFollow;\r\n    }\r\n\r\n    public Follow getByFollowId(int followId) throws Exception {\r\n        Follow follow = fr.findByFollowId(followId);\r\n        if(follow == null){\r\n            throw new Exception(&quot;Follow not found with followId &quot;+followId);\r\n        }\r\n        return follow;\r\n    }\r\n}\r\n\r\n```\r\n**FollowRepo.java**\r\n```\r\npublic interface FollowRepo extends JpaRepository&lt;Follow, Integer&gt; {\r\n    Follow findByFollowerIdAndFollowingId(int followerId, int followindId);\r\n    Follow findByFollowId(int followId);\r\n}\r\n```\r\n\r\n\r\n# **What I tried?**\r\nWhat I have done in service class(in comment section), Same thing I had tried in method `followThisUser()` in controller also to get the follower and following fields. But I am getting null there also. \r\n\r\n**Strange Thing**\r\n\r\nBut If I created another separate controller `TestController` there I am trying to do the same and I am getting what I had expected. \r\n\r\n\r\n**TestController.java**\r\n```\r\n@RestController\r\npublic class TestController {\r\n    @Autowired\r\n    FollowService fs;\r\n\r\n    @GetMapping(&quot;/test/{followId}&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; display(@PathVariable(&quot;followId&quot;) int followId, HttpServletRequest request) throws Exception {\r\n        System.out.println(followId);\r\n        Follow follow = fs.getByFollowId(followId);\r\n \r\n        System.out.println(follow.getFollower()); // not null, fine\r\n        System.out.println(follow.getFollowing()); // not null, fine\r\n\r\n        System.out.println(follow.getFollower().getUsername()); // also fine\r\n\r\n        return ResponseHandler\r\n                .generateResponse(follow, HttpStatus.OK, &quot;fetched&quot;, request.getRequestURI());\r\n    }\r\n}\r\n```\r\n\r\n# **Expectation**\r\nI just want to know the reason of above happening and what to do to meet the expectation?\r\n\r\n","title":"How to fetch the embedded parent row when fetching child row from database in service class?","body":"<p>I am totally new to spring, and making a social media app, where User and Follow are Entity classes. Follow entity is having two fields of type User, one for follower and another for following, mapping is ManyToOne from Follow to User.</p>\n<p>There is an use-case where I am requiring follower and following objects from a Follow object. And the place is where I want to get these in FollowService.java. My service class is having a method to save the Follow record into the database. In that function, I want to get follower and following from that saved Follow record, which I have just inserted.</p>\n<p><strong>Note:-</strong> I have got an idea from this <a href=\"https://stackoverflow.com/a/50378345/22246824\">answer</a> to set only Ids for mapped classes instead of supplying whole object. So, I am just setting the followerId and followingId in my Follow record and save it to database. Further understanding you can get from the code...</p>\n<p><strong>Follow.java</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(uniqueConstraints = @UniqueConstraint(name = &quot;uniqueIdForFollow&quot;, columnNames = {&quot;fk_followerId&quot;, &quot;fk_followingId&quot;}))\npublic class Follow {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int followId;\n\n    @ManyToOne(targetEntity = User.class, fetch=FetchType.EAGER)\n    @JoinColumn(name = &quot;fk_followerId&quot;, insertable=false, updatable=false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private User follower;\n    @Column(name = &quot;fk_followerId&quot;)\n    private int followerId;\n\n    @ManyToOne(targetEntity = User.class, fetch=FetchType.EAGER)\n    @JoinColumn(name = &quot;fk_followingId&quot;, insertable=false, updatable=false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private User following;\n    @Column(name = &quot;fk_followingId&quot;)\n    private int followingId;\n\n    @CreationTimestamp\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date createdAt;\n\n\n    public int getFollowId() {\n        return followId;\n    }\n\n    public int getFollowerId() {\n        return followerId;\n    }\n    public void setFollowerId(int followerId) {\n        this.followerId = followerId;\n    }\n  \n    public int getFollowingId() {\n        return followingId;\n    }\n \n    public void setFollowingId(int followingId) {\n        this.followingId = followingId;\n    }\n\n    public User getFollower() {\n        return follower;\n    }\n\n\n    public void setFollower(User follower) {\n        this.follower = follower;\n    }\n\n\n    public User getFollowing() {\n        return following;\n    }\n\n\n    public void setFollowing(User following) {\n        this.following = following;\n    }\n}\n\n</code></pre>\n<p><strong>User.java</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int userId;\n\n    @NotNull\n    private String username;\n    @Email(message = &quot;entered email is not valid.&quot;, regexp = &quot;[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,3}&quot;, flags = Pattern.Flag.CASE_INSENSITIVE)\n    @NotNull\n    private String email;\n\n    @NotNull\n    private String password;\n\n \n    public int getUserId() {\n        return userId;\n    }\n\n    public @NotNull String getUsername() {\n        return username;\n    }\n\n    public void setUsername(@NotNull String username) {\n        this.username = username;\n    }\n\n    public @NotNull String getEmail() {\n        return email;\n    }\n\n    public void setEmail(@NotNull String email) {\n        this.email = email;\n    }\n\n    public @NotNull String getPassword() {\n        return password;\n    }\n\n    public void setPassword(@NotNull String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<p><strong>FollowController.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users/{userId}/follow&quot;)\npublic class FollowController {\n    @Autowired\n    FollowService fs;\n\n    @PostMapping\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; followThisUser(@PathVariable(&quot;userId&quot;) int userId, @RequestBody Follow follow, HttpServletRequest request) throws Exception {\n        Follow newFollow = fs.followUser(userId, follow);\n\n        return ResponseHandler\n                .generateResponse(newFollow, HttpStatus.CREATED, &quot;user with userId &quot;+follow.getFollowerId()+&quot; followed the user with userId &quot;+userId, request.getRequestURI());\n    }\n}\n</code></pre>\n<p><strong>FollowService.java</strong></p>\n<pre><code>@Service\npublic class FollowService {\n    @Autowired\n    FollowRepo fr;\n\n    public Follow followUser(int userId, Follow follow) {\n        follow.setFollowingId(userId);\n        Follow savedFollow = fr.save(follow);\n        // record saved to the database\n        // Now I fetch it using Id\n        // Here I want to get the follower and following fields\n        /*\n          Follow follow = getByFollowId(savedFollow.getFollowId());\n          System.out.println(follow.getFollower()); // I am getting null\n          System.out.println(follow.getFollowing()); // I am getting null\n        */\n\n        return savedFollow;\n    }\n\n    public Follow getByFollowId(int followId) throws Exception {\n        Follow follow = fr.findByFollowId(followId);\n        if(follow == null){\n            throw new Exception(&quot;Follow not found with followId &quot;+followId);\n        }\n        return follow;\n    }\n}\n\n</code></pre>\n<p><strong>FollowRepo.java</strong></p>\n<pre><code>public interface FollowRepo extends JpaRepository&lt;Follow, Integer&gt; {\n    Follow findByFollowerIdAndFollowingId(int followerId, int followindId);\n    Follow findByFollowId(int followId);\n}\n</code></pre>\n<h1><strong>What I tried?</strong></h1>\n<p>What I have done in service class(in comment section), Same thing I had tried in method <code>followThisUser()</code> in controller also to get the follower and following fields. But I am getting null there also.</p>\n<p><strong>Strange Thing</strong></p>\n<p>But If I created another separate controller <code>TestController</code> there I am trying to do the same and I am getting what I had expected.</p>\n<p><strong>TestController.java</strong></p>\n<pre><code>@RestController\npublic class TestController {\n    @Autowired\n    FollowService fs;\n\n    @GetMapping(&quot;/test/{followId}&quot;)\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; display(@PathVariable(&quot;followId&quot;) int followId, HttpServletRequest request) throws Exception {\n        System.out.println(followId);\n        Follow follow = fs.getByFollowId(followId);\n \n        System.out.println(follow.getFollower()); // not null, fine\n        System.out.println(follow.getFollowing()); // not null, fine\n\n        System.out.println(follow.getFollower().getUsername()); // also fine\n\n        return ResponseHandler\n                .generateResponse(follow, HttpStatus.OK, &quot;fetched&quot;, request.getRequestURI());\n    }\n}\n</code></pre>\n<h1><strong>Expectation</strong></h1>\n<p>I just want to know the reason of above happening and what to do to meet the expectation?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","hsqldb"],"comments":[{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1689787966,"post_id":76723846,"comment_id":135264413,"body_markdown":"What code or configuration do you have that makes you think `data.sql` should be read? This name does not pop up anywhere in your snippets.","body":"What code or configuration do you have that makes you think <code>data.sql</code> should be read? This name does not pop up anywhere in your snippets."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689791492,"post_id":76723846,"comment_id":135265089,"body_markdown":"Your properties look good for me. Where did you put the `data.sql` file? Is it on the classpath? Like in `src/main/resources`","body":"Your properties look good for me. Where did you put the <code>data.sql</code> file? Is it on the classpath? Like in <code>src&#47;main&#47;resources</code>"},{"owner":{"account_id":1424447,"reputation":107,"user_id":1348348,"accept_rate":60,"display_name":"Riggster"},"score":0,"creation_date":1689792232,"post_id":76723846,"comment_id":135265230,"body_markdown":"I put the data.sql file in src/main/resources/","body":"I put the data.sql file in src/main/resources/"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689792909,"post_id":76723846,"comment_id":135265391,"body_markdown":"Where is the code that deals with the sql script?","body":"Where is the code that deals with the sql script?"}],"owner":{"account_id":1424447,"reputation":107,"user_id":1348348,"accept_rate":60,"display_name":"Riggster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689787691,"creation_date":1689787691,"question_id":76723846,"body_markdown":"I have created an API using Spring Boot, and when I run it, I am able to execute CRUD commands as expected. However, my data.sql file is not being used to pre-populate my in-memory database. Can anyone provide any insights on how to fix this? Here are the applicable configurations I&#39;m using:\r\n\r\n\r\n```\r\npom.xml\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```\r\napplication.properties\r\n\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.sql.init.mode=always\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.datasource.driver-class-name=org.hsqldb.jdbc.JDBCDriver\r\nspring.datasource.url=jdbc:hsqldb:mem:testdb;DB_CLOSE_DELAY=-1\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.hibernate.ddl-auto=create\r\n```","title":"HSQL db not initializing from data.sql in Spring Boot project","body":"<p>I have created an API using Spring Boot, and when I run it, I am able to execute CRUD commands as expected. However, my data.sql file is not being used to pre-populate my in-memory database. Can anyone provide any insights on how to fix this? Here are the applicable configurations I'm using:</p>\n<pre><code>pom.xml\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n    &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>application.properties\n\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.datasource.driver-class-name=org.hsqldb.jdbc.JDBCDriver\nspring.datasource.url=jdbc:hsqldb:mem:testdb;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","resttemplate"],"comments":[{"owner":{"account_id":351196,"reputation":2555,"user_id":687515,"display_name":"daniel.eichten"},"score":7,"creation_date":1458646224,"post_id":36151421,"comment_id":59943392,"body_markdown":"Upvoting your question cause it is not obvious that when everything is magically linked a `RestTemplate` is not automatically created for you.","body":"Upvoting your question cause it is not obvious that when everything is magically linked a <code>RestTemplate</code> is not automatically created for you."},{"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"score":0,"creation_date":1460646975,"post_id":36151421,"comment_id":60850541,"body_markdown":"Upvoted - the tutorial on Spring Boot&#39;s own page says nothing about creating a RestTemplate Bean!!","body":"Upvoted - the tutorial on Spring Boot&#39;s own page says nothing about creating a RestTemplate Bean!!"},{"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":1,"creation_date":1528142816,"post_id":36151421,"comment_id":88385760,"body_markdown":"Similar: https://stackoverflow.com/q/28024942/86967","body":"Similar: <a href=\"https://stackoverflow.com/q/28024942/86967\">stackoverflow.com/q/28024942/86967</a>"}],"answers":[{"tags":[],"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458642164,"creation_date":1458642164,"answer_id":36151774,"question_id":36151421,"body_markdown":"Error points directly that `RestTemplate` bean is not defined in context and it cannot load the beans.\r\n\r\n 1. Define a bean for RestTemplate and then use it\r\n 2. Use a new instance of the RestTemplate\r\n\r\nIf you are sure that the bean is defined for the RestTemplate then use the following to print the beans that are available in the context loaded by spring boot application\r\n\r\n    ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n    String[] beanNames = ctx.getBeanDefinitionNames();\r\n    Arrays.sort(beanNames);\r\n    for (String beanName : beanNames) {\r\n        System.out.println(beanName);\r\n    }\r\n\r\nIf this contains the bean by the name/type given, then all good. Or else define a new bean and then use it.","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<p>Error points directly that <code>RestTemplate</code> bean is not defined in context and it cannot load the beans.</p>\n\n<ol>\n<li>Define a bean for RestTemplate and then use it</li>\n<li>Use a new instance of the RestTemplate</li>\n</ol>\n\n<p>If you are sure that the bean is defined for the RestTemplate then use the following to print the beans that are available in the context loaded by spring boot application</p>\n\n<pre><code>ApplicationContext ctx = SpringApplication.run(Application.class, args);\nString[] beanNames = ctx.getBeanDefinitionNames();\nArrays.sort(beanNames);\nfor (String beanName : beanNames) {\n    System.out.println(beanName);\n}\n</code></pre>\n\n<p>If this contains the bean by the name/type given, then all good. Or else define a new bean and then use it.</p>\n"},{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":1,"up_vote_count":301,"is_accepted":true,"score":300,"last_activity_date":1654768610,"creation_date":1458642174,"answer_id":36151777,"question_id":36151421,"body_markdown":"It&#39;s exactly what the error says. You didn&#39;t create any `RestTemplate` bean, so it can&#39;t autowire any. If you need a `RestTemplate` you&#39;ll have to provide one. For example, add the following to **TestMicroServiceApplication.java**:\r\n\r\n```java\r\n@Bean\r\npublic RestTemplate restTemplate() {\r\n    return new RestTemplate();\r\n}\r\n```\r\n\r\nSince Spring boot 1.4, there&#39;s also a convenient builder that you can autowire and use to create a `RestTemplate` bean. The benefit is that you can use the builder pattern to register interceptors, customizers, ... .\r\n\r\n```java\r\n@Bean\r\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    return builder.build();\r\n}\r\n```\r\n\r\nNote, in earlier versions of the Spring cloud starter for Eureka, a `RestTemplate` bean was created for you, but this is no longer true. ","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<p>It's exactly what the error says. You didn't create any <code>RestTemplate</code> bean, so it can't autowire any. If you need a <code>RestTemplate</code> you'll have to provide one. For example, add the following to <strong>TestMicroServiceApplication.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RestTemplate restTemplate() {\n    return new RestTemplate();\n}\n</code></pre>\n<p>Since Spring boot 1.4, there's also a convenient builder that you can autowire and use to create a <code>RestTemplate</code> bean. The benefit is that you can use the builder pattern to register interceptors, customizers, ... .</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\n    return builder.build();\n}\n</code></pre>\n<p>Note, in earlier versions of the Spring cloud starter for Eureka, a <code>RestTemplate</code> bean was created for you, but this is no longer true.</p>\n"},{"tags":[],"owner":{"account_id":3377928,"reputation":411,"user_id":2835706,"display_name":"Mark K."},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1665731797,"creation_date":1475725397,"answer_id":39887168,"question_id":36151421,"body_markdown":"If a TestRestTemplate is a valid option in your unit test, this documentation might be relevant\r\n\r\nhttp://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-rest-templates-test-utility\r\n\r\nShort answer: if using\r\n\r\n    @SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)\r\n\r\nthen `@Autowired` will work. If using     \r\n\r\n    @SpringBootTest(webEnvironment=WebEnvironment.MOCK)\r\n\r\nthen create a TestRestTemplate like this\r\n\r\n    private TestRestTemplate template = new TestRestTemplate();\r\n\r\nThis will help to avoid creation of a RestTemplate that wouldn&#39;t be used outside tests.","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<p>If a TestRestTemplate is a valid option in your unit test, this documentation might be relevant</p>\n<p><a href=\"http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-rest-templates-test-utility\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-rest-templates-test-utility</a></p>\n<p>Short answer: if using</p>\n<pre><code>@SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>then <code>@Autowired</code> will work. If using</p>\n<pre><code>@SpringBootTest(webEnvironment=WebEnvironment.MOCK)\n</code></pre>\n<p>then create a TestRestTemplate like this</p>\n<pre><code>private TestRestTemplate template = new TestRestTemplate();\n</code></pre>\n<p>This will help to avoid creation of a RestTemplate that wouldn't be used outside tests.</p>\n"},{"tags":[],"owner":{"account_id":1785654,"reputation":747,"user_id":1627174,"display_name":"Pierrick HYMBERT"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635955899,"creation_date":1511958172,"answer_id":47552799,"question_id":36151421,"body_markdown":"&gt;  Since RestTemplate instances often need to be customized before being used, Spring Boot does not provide any single auto-configured RestTemplate bean.\r\n\r\n[RestTemplateBuilder][1] offers proper way to configure and instantiate the rest template bean, for example for basic auth or interceptors.\r\n\r\n```java\r\n@Bean\r\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    return builder\r\n            .basicAuthorization(&quot;user&quot;, &quot;name&quot;) // Optional Basic auth example\r\n            .interceptors(new MyCustomInterceptor()) // Optional Custom interceptors, etc..\r\n            .build();\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-restclient.html","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<blockquote>\n<p>Since RestTemplate instances often need to be customized before being used, Spring Boot does not provide any single auto-configured RestTemplate bean.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-restclient.html\" rel=\"nofollow noreferrer\">RestTemplateBuilder</a> offers proper way to configure and instantiate the rest template bean, for example for basic auth or interceptors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\n    return builder\n            .basicAuthorization(&quot;user&quot;, &quot;name&quot;) // Optional Basic auth example\n            .interceptors(new MyCustomInterceptor()) // Optional Custom interceptors, etc..\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4757933,"reputation":59,"user_id":3846187,"display_name":"vineet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560688969,"creation_date":1560676499,"answer_id":56617536,"question_id":36151421,"body_markdown":"Please make sure two things:\r\n\r\n1- Use `@Bean` annotation with the method. \r\n   \r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder builder){\r\n        return builder.build();\r\n    }\r\n\r\n2- Scope of this method should be **public** not **private**. \r\n\r\nComplete Example - \r\n\r\n    @Service\r\n    public class MakeHttpsCallImpl implements MakeHttpsCall {\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    @Override\r\n    public String makeHttpsCall() {\r\n        return restTemplate.getForObject(&quot;https://localhost:8085/onewayssl/v1/test&quot;,String.class);\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder builder){\r\n        return builder.build();\r\n    }\r\n    }\r\n","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<p>Please make sure two things:</p>\n\n<p>1- Use <code>@Bean</code> annotation with the method. </p>\n\n<pre><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder){\n    return builder.build();\n}\n</code></pre>\n\n<p>2- Scope of this method should be <strong>public</strong> not <strong>private</strong>. </p>\n\n<p>Complete Example - </p>\n\n<pre><code>@Service\npublic class MakeHttpsCallImpl implements MakeHttpsCall {\n\n@Autowired\nprivate RestTemplate restTemplate;\n\n@Override\npublic String makeHttpsCall() {\n    return restTemplate.getForObject(\"https://localhost:8085/onewayssl/v1/test\",String.class);\n}\n\n@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder){\n    return builder.build();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15216309,"reputation":575,"user_id":10979593,"display_name":"Padi kodwo Amu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582806446,"creation_date":1582806446,"answer_id":60433236,"question_id":36151421,"body_markdown":"The simplest way I was able to achieve a similar feat to use the code below ([reference][1]),\r\nbut I would suggest not to make API calls in controllers([SOLID principles][2]).\r\nAlso autowiring this way is better optimsed than the traditional way of doing it.\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.web.client.RestTemplateBuilder;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @RestController\r\n    public class TestController {\r\n    \r\n        private final RestTemplate restTemplate;\r\n    \r\n    \r\n        @Autowired\r\n        public TestController(RestTemplateBuilder builder) {\r\n            this.restTemplate = builder.build();\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;/micro/order/{id}&quot;, method= RequestMethod.GET, produces= MediaType.ALL_VALUE)\r\n        public String placeOrder(@PathVariable(&quot;id&quot;) int customerId){\r\n    \r\n            System.out.println(&quot;Hit ===&gt; PlaceOrder&quot;);\r\n    \r\n            Object[] customerJson = restTemplate.getForObject(&quot;http://localhost:8080/micro/customers&quot;, Object[].class);\r\n    \r\n            System.out.println(customerJson.toString());\r\n    \r\n            return &quot;false&quot;;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-rest-template-builder\r\n  [2]: https://www.baeldung.com/solid-principles","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<p>The simplest way I was able to achieve a similar feat to use the code below (<a href=\"https://www.baeldung.com/spring-rest-template-builder\" rel=\"nofollow noreferrer\">reference</a>),\nbut I would suggest not to make API calls in controllers(<a href=\"https://www.baeldung.com/solid-principles\" rel=\"nofollow noreferrer\">SOLID principles</a>).\nAlso autowiring this way is better optimsed than the traditional way of doing it.</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n@RestController\npublic class TestController {\n\n    private final RestTemplate restTemplate;\n\n\n    @Autowired\n    public TestController(RestTemplateBuilder builder) {\n        this.restTemplate = builder.build();\n    }\n\n    @RequestMapping(value=\"/micro/order/{id}\", method= RequestMethod.GET, produces= MediaType.ALL_VALUE)\n    public String placeOrder(@PathVariable(\"id\") int customerId){\n\n        System.out.println(\"Hit ===&gt; PlaceOrder\");\n\n        Object[] customerJson = restTemplate.getForObject(\"http://localhost:8080/micro/customers\", Object[].class);\n\n        System.out.println(customerJson.toString());\n\n        return \"false\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9005111,"reputation":574,"user_id":6712167,"display_name":"Ranushka Lakmal Sankalpa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1587155778,"creation_date":1587155778,"answer_id":61280248,"question_id":36151421,"body_markdown":" - You must add \r\n`@Bean \r\npublic RestTemplate restTemplate(RestTemplateBuilder builder){\r\nreturn builder.build();\r\n}`","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<ul>\n<li>You must add \n<code>@Bean \npublic RestTemplate restTemplate(RestTemplateBuilder builder){\nreturn builder.build();\n}</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15536211,"reputation":241,"user_id":11208348,"display_name":"Fazle Subhan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587158338,"creation_date":1587158338,"answer_id":61280865,"question_id":36151421,"body_markdown":"  you are trying to inject the restTemplate but you need to create configuration class .\r\n then there you need to create bean that return you new RestTemplate see the below example.\r\n    \r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    \r\n    @Configuration\r\n    public class YourConfigClass {\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic RestTemplate restTesmplate() {\r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<p>you are trying to inject the restTemplate but you need to create configuration class .\n then there you need to create bean that return you new RestTemplate see the below example.</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n\n@Configuration\npublic class YourConfigClass {\n\n\n    @Bean\n    public RestTemplate restTesmplate() {\n        return new RestTemplate();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6207928,"reputation":2802,"user_id":4835230,"accept_rate":40,"display_name":"Khuzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248686,"favorite_count":0,"down_vote_count":1,"up_vote_count":189,"accepted_answer_id":36151777,"answer_count":8,"score":188,"last_activity_date":1689787043,"creation_date":1458641293,"question_id":36151421,"body_markdown":"I am getting below exception while running `Spring Boot` application during start up:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: \r\n    Error creating bean with name &#39;testController&#39;: \r\n    Injection of autowired dependencies failed; \r\n    nested exception is\r\n    org.springframework.beans.factory.BeanCreationException: \r\n    Could not autowire field: \r\n    private org.springframework.web.client.RestTemplate \r\n    com.micro.test.controller.TestController.restTemplate; \r\n    nested exception is \r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException:\r\n    No qualifying bean of type \r\n    [org.springframework.web.client.RestTemplate] \r\n    found for  dependency: expected at least 1 bean which qualifies \r\n    as autowire candidate for this dependency. \r\n    Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\nI am autowiring `RestTemplate` in my TestController. I am using Maven for dependency management.\r\n\r\n**TestMicroServiceApplication.java**\r\n\r\n    package com.micro.test;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class TestMicroServiceApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestMicroServiceApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**TestController.java**\r\n\r\n    package com.micro.test.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @RestController\r\n    public class TestController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate RestTemplate restTemplate;\r\n    \t\t\r\n    \t@RequestMapping(value=&quot;/micro/order/{id}&quot;,\r\n    \t\t            method=RequestMethod.GET,\r\n    \t\t            produces=MediaType.ALL_VALUE)\r\n    \tpublic String placeOrder(@PathVariable(&quot;id&quot;) int customerId){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Hit ===&gt; PlaceOrder&quot;);\r\n    \r\n    \t\tObject[] customerJson = restTemplate.getForObject(&quot;http://localhost:8080/micro/customers&quot;, Object[].class);\r\n    \t\t\r\n    \t\tSystem.out.println(customerJson.toString());\r\n    \t\t\r\n    \t\treturn &quot;false&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n**POM.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.micro.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Test-MicroService&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Test-MicroService&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n","title":"Could not autowire field:RestTemplate in Spring boot application","body":"<p>I am getting below exception while running <code>Spring Boot</code> application during start up:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'testController': \nInjection of autowired dependencies failed; \nnested exception is\norg.springframework.beans.factory.BeanCreationException: \nCould not autowire field: \nprivate org.springframework.web.client.RestTemplate \ncom.micro.test.controller.TestController.restTemplate; \nnested exception is \norg.springframework.beans.factory.NoSuchBeanDefinitionException:\nNo qualifying bean of type \n[org.springframework.web.client.RestTemplate] \nfound for  dependency: expected at least 1 bean which qualifies \nas autowire candidate for this dependency. \nDependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>I am autowiring <code>RestTemplate</code> in my TestController. I am using Maven for dependency management.</p>\n<p><strong>TestMicroServiceApplication.java</strong></p>\n<pre><code>package com.micro.test;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestMicroServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestMicroServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>TestController.java</strong></p>\n<pre><code>package com.micro.test.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n@RestController\npublic class TestController {\n    \n    @Autowired\n    private RestTemplate restTemplate;\n        \n    @RequestMapping(value=&quot;/micro/order/{id}&quot;,\n                    method=RequestMethod.GET,\n                    produces=MediaType.ALL_VALUE)\n    public String placeOrder(@PathVariable(&quot;id&quot;) int customerId){\n        \n        System.out.println(&quot;Hit ===&gt; PlaceOrder&quot;);\n\n        Object[] customerJson = restTemplate.getForObject(&quot;http://localhost:8080/micro/customers&quot;, Object[].class);\n        \n        System.out.println(customerJson.toString());\n        \n        return &quot;false&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>POM.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.micro.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Test-MicroService&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Test-MicroService&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1506671507,"post_id":46484198,"comment_id":79922715,"body_markdown":"can you also add an actual question? and what you tried. not just your assignment","body":"can you also add an actual question? and what you tried. not just your assignment"},{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":1,"creation_date":1506671507,"post_id":46484198,"comment_id":79922717,"body_markdown":"What do you mean by *Cursor?*","body":"What do you mean by <i>Cursor?</i>"},{"owner":{"account_id":11766477,"reputation":1,"user_id":8610903,"display_name":"Niyaaz Kurban"},"score":0,"creation_date":1506671640,"post_id":46484198,"comment_id":79922801,"body_markdown":"the text pointer should atomatically start on the next line","body":"the text pointer should atomatically start on the next line"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1506672226,"post_id":46484198,"comment_id":79923141,"body_markdown":"You are asking how to create `println(int[])` that should print every number on one line separated by spaces and then add a &quot;nextLine&quot; character. But what have you tried ? This is a really simple task to do ... Edit your question with a question and of course what you have tried because I don&#39;t see what would be the problem to create the method.","body":"You are asking how to create <code>println(int[])</code> that should print every number on one line separated by spaces and then add a &quot;nextLine&quot; character. But what have you tried ? This is a really simple task to do ... Edit your question with a question and of course what you have tried because I don&#39;t see what would be the problem to create the method."},{"owner":{"account_id":11766477,"reputation":1,"user_id":8610903,"display_name":"Niyaaz Kurban"},"score":0,"creation_date":1506672393,"post_id":46484198,"comment_id":79923231,"body_markdown":"im new at this so i really need all the help i can get pls ,what are the terms to use for this thing? can i see the code maybe ill understand it better.","body":"im new at this so i really need all the help i can get pls ,what are the terms to use for this thing? can i see the code maybe ill understand it better."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1506672615,"post_id":46484198,"comment_id":79923350,"body_markdown":"But what have your tried ? I am not going to do it for you ... SO is not here to give you the code but to guide you. See [ask]","body":"But what have your tried ? I am not going to do it for you ... SO is not here to give you the code but to guide you. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":11766477,"reputation":1,"user_id":8610903,"display_name":"Niyaaz Kurban"},"score":0,"creation_date":1506672814,"post_id":46484198,"comment_id":79923479,"body_markdown":"public static void println(int[] seq) {\n\t    int x = {seq};\n\t\tint[] x; \n\t\tx = new int[seq];\n\t \n\t System.out.println(x[seq]);  i did this","body":"public static void println(int[] seq) { \t    int x = {seq}; \t\tint[] x;  \t\tx = new int[seq]; \t  \t System.out.println(x[seq]);  i did this"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1506673219,"post_id":46484198,"comment_id":79923677,"body_markdown":"You have two variable called `x`, I don&#39;t see what you tried with `int x = {seq};` ... You don&#39;t loop on `seq` to print what you want.","body":"You have two variable called <code>x</code>, I don&#39;t see what you tried with <code>int x = {seq};</code> ... You don&#39;t loop on <code>seq</code> to print what you want."},{"owner":{"account_id":11766477,"reputation":1,"user_id":8610903,"display_name":"Niyaaz Kurban"},"score":0,"creation_date":1506673474,"post_id":46484198,"comment_id":79923808,"body_markdown":"public static void println(int[] seq) {\n\t\tint[] array = new int[]{};\n\t \n\t System.out.println(array); now i have this","body":"public static void println(int[] seq) { \t\tint[] array = new int[]{}; \t  \t System.out.println(array); now i have this"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1506673941,"post_id":46484198,"comment_id":79924062,"body_markdown":"Why are you using `array`, you receive the array in parameter. Iterate `seq` and `print(seq[i])` then add new line. You should start following tutorials because I can&#39;t teach you everything about programming.","body":"Why are you using <code>array</code>, you receive the array in parameter. Iterate <code>seq</code> and <code>print(seq[i])</code> then add new line. You should start following tutorials because I can&#39;t teach you everything about programming."}],"answers":[{"tags":[],"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508755371,"creation_date":1508755371,"answer_id":46887445,"question_id":46484198,"body_markdown":"You don&#39;t need all the assignments you&#39;re attempting in your method.\r\n\r\nYou can print the numbers in a few ways, two of which are below:\r\n\r\n    public static void println(int[] seq) {\r\n            //this will print them as an array, i.e. [1, 2, 3]\r\n            System.out.println(Arrays.toString(seq));\r\n            //and print a new line \r\n            System.out.print(&quot;\\n&quot;);\r\n    \r\n            //alternatively, if you just want to print the characters\r\n            for (int i = 0; i &lt; seq.length; i++) {\r\n                System.out.print(seq[i] + &quot; &quot;);\r\n            }\r\n        }\r\n\r\nYou just need to call the `println` method and pass in the `int[] array` you require.","title":"Print values from array","body":"<p>You don't need all the assignments you're attempting in your method.</p>\n\n<p>You can print the numbers in a few ways, two of which are below:</p>\n\n<pre><code>public static void println(int[] seq) {\n        //this will print them as an array, i.e. [1, 2, 3]\n        System.out.println(Arrays.toString(seq));\n        //and print a new line \n        System.out.print(\"\\n\");\n\n        //alternatively, if you just want to print the characters\n        for (int i = 0; i &lt; seq.length; i++) {\n            System.out.print(seq[i] + \" \");\n        }\n    }\n</code></pre>\n\n<p>You just need to call the <code>println</code> method and pass in the <code>int[] array</code> you require.</p>\n"},{"tags":[],"owner":{"account_id":26562345,"reputation":1,"user_id":20189986,"display_name":"Rafiya Quazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689786557,"creation_date":1689786557,"answer_id":76723704,"question_id":46484198,"body_markdown":"   Use for each loop to print values of array. \r\n\r\n    public static void println(int[] seq) { \r\n        for(Integer value: seq){\r\n          System.out.println(value);\r\n       }\r\n    }","title":"Print values from array","body":"<p>Use for each loop to print values of array.</p>\n<pre><code>public static void println(int[] seq) { \n    for(Integer value: seq){\n      System.out.println(value);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":11766477,"reputation":1,"user_id":8610903,"display_name":"Niyaaz Kurban"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":2,"score":-6,"last_activity_date":1689786557,"creation_date":1506671452,"question_id":46484198,"body_markdown":"How do I print the values from my array on one line, separated by a space?\r\n\r\nI also want to put the cursor on the next line, once printed.\r\n\r\nThis is my method I have to use:\r\n\r\n    public static void println(int[] seq){\r\n\r\nFor example: \r\n\r\n    println(new int[]{1, 2}) → 1 2\r\n\r\nHere is what I have tried:\r\n\r\n    public static void println(int[] seq) { \r\n        int x = {seq}; \r\n        int[] x; \r\n        x = new int[seq]; \r\n        System.out.println(x[seq]);\r\n    }\r\n","title":"Print values from array","body":"<p>How do I print the values from my array on one line, separated by a space?</p>\n\n<p>I also want to put the cursor on the next line, once printed.</p>\n\n<p>This is my method I have to use:</p>\n\n<pre><code>public static void println(int[] seq){\n</code></pre>\n\n<p>For example: </p>\n\n<pre><code>println(new int[]{1, 2}) → 1 2\n</code></pre>\n\n<p>Here is what I have tried:</p>\n\n<pre><code>public static void println(int[] seq) { \n    int x = {seq}; \n    int[] x; \n    x = new int[seq]; \n    System.out.println(x[seq]);\n}\n</code></pre>\n"},{"tags":["java","optimization","challenge-response"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1480758294,"post_id":40946025,"comment_id":69103105,"body_markdown":"Have you tried testing it?","body":"Have you tried testing it?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1480762836,"post_id":40946025,"comment_id":69104205,"body_markdown":"In general your method does work however it does have difficulty with binary strings that end with 0&#39;s as with &quot;10100&quot;. For this binary string it assumes a gap length of 3 whereas it is a gap length of only 1. So, your method is faulty.","body":"In general your method does work however it does have difficulty with binary strings that end with 0&#39;s as with &quot;10100&quot;. For this binary string it assumes a gap length of 3 whereas it is a gap length of only 1. So, your method is faulty."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480762369,"creation_date":1480762369,"answer_id":40946956,"question_id":40946025,"body_markdown":"There is no need to place the contents of the binary string into an Array (unless of course this is a requirement), simply iterate through the string itself and use the String.substring() method to retrieve the string represented value of each binary digit, as in:\r\n\r\n    String digit = binaryString.substring(i, i+1);\r\n\r\nIt all boils down to counting the number of 0&#39;s **between** any set of 1&#39;s and keeping track of those 0&#39;s by using a Integer data type variable that is incremented every time a 0 is encountered. This same variable is reset to 0 every time a 1 is encountered but before it&#39;s reset you would compare it to yet another predefined Integer variable which would hold the longest run of 0&#39;s encountered, for example:\r\n\r\n    if(binaryString.substring(i, i+1).equals(&quot;1&quot;)) {\r\n        if (zeroHit &gt; longest) { longest = zeroHit; }\r\n        zeroHit = 0;\r\n    }\r\n    else { zeroHit++; }\r\n\r\nThe whole method might look something like this:\r\n\r\n    private static int solution(int intValue) {\r\n        String binaryString = Integer.toBinaryString(intValue);\r\n        int zeroHit = 0;\r\n        int longest = 0;\r\n        for (int i = 0; i &lt; binaryString.length(); i++) {\r\n            if(binaryString.substring(i, i+1).equals(&quot;1&quot;)) {\r\n                if (zeroHit &gt; longest) { longest = zeroHit; }\r\n                zeroHit = 0;\r\n            }\r\n            else { zeroHit++; }\r\n        }\r\n        return longest;\r\n    }\r\n\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>There is no need to place the contents of the binary string into an Array (unless of course this is a requirement), simply iterate through the string itself and use the String.substring() method to retrieve the string represented value of each binary digit, as in:</p>\n\n<pre><code>String digit = binaryString.substring(i, i+1);\n</code></pre>\n\n<p>It all boils down to counting the number of 0's <strong>between</strong> any set of 1's and keeping track of those 0's by using a Integer data type variable that is incremented every time a 0 is encountered. This same variable is reset to 0 every time a 1 is encountered but before it's reset you would compare it to yet another predefined Integer variable which would hold the longest run of 0's encountered, for example:</p>\n\n<pre><code>if(binaryString.substring(i, i+1).equals(\"1\")) {\n    if (zeroHit &gt; longest) { longest = zeroHit; }\n    zeroHit = 0;\n}\nelse { zeroHit++; }\n</code></pre>\n\n<p>The whole method might look something like this:</p>\n\n<pre><code>private static int solution(int intValue) {\n    String binaryString = Integer.toBinaryString(intValue);\n    int zeroHit = 0;\n    int longest = 0;\n    for (int i = 0; i &lt; binaryString.length(); i++) {\n        if(binaryString.substring(i, i+1).equals(\"1\")) {\n            if (zeroHit &gt; longest) { longest = zeroHit; }\n            zeroHit = 0;\n        }\n        else { zeroHit++; }\n    }\n    return longest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5604521,"reputation":174,"user_id":4439606,"accept_rate":83,"display_name":"quartzsaber"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1480762893,"creation_date":1480762893,"answer_id":40947033,"question_id":40946025,"body_markdown":"I haven&#39;t tested  your code yet, but it seems very inefficient if your goal is just counting the longest &#39;binary gap&#39;. \r\n\r\nProblems in your code:\r\n\r\n - Makes `java.lang.String` when it can be just `char`. Making objects is much slower than making primitive types.\r\n - Makes a list when it&#39;s able to simply count. As long as you&#39;re only going to need size of the list, you can just count it in a integer variable.\r\n - Stupid algorithm. A substring of a string can&#39;t be longer than the original one. I&#39;m talking about the second `for` loop. For example, let&#39;s say you&#39;re counting binary gap of `1001`. Then your algorithm counts binary gap of `001` and then `01`. You don&#39;t need to count the second one at all. And it&#39;s happening becuase you have two for loops.\r\n\r\nThe biggest problem is, that it&#39;s possible to solve this problem without converting `int` into `java.lang.String` at all. And in case you got this problem from a textbook, I believe this is the &#39;correct&#39; answer: To use bitwise operators.\r\n\r\n\tpublic static int solution(int num) {\r\n\t\tint ptr; //Used for bitwise operation.\r\n\t\tfor(ptr=1; ptr&gt;0; ptr&lt;&lt;=1) //Find the lowest bit 1\r\n\t\t\tif((num&amp;ptr) != 0)\r\n\t\t\t\tbreak;\r\n\t\tint cnt=0; //Count the (possible) gap\r\n        int ret=0; //Keep the longest gap.\r\n\t\tfor(; ptr&gt;0; ptr&lt;&lt;=1) {\r\n\t\t\tif((num&amp;ptr) != 0) { //If it&#39;s bit 1\r\n\t\t\t\tret = cnt &lt; ret ? ret : cnt; //Get the bigger one between cnt and ret\r\n\t\t\t\tcnt=-1; //Exclude this bit\r\n\t\t\t}\r\n\t\t\tcnt++; //Increment the count. If this bit is 1, then cnt would become 0 beause we set the cnt as -1 instead of 0.\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>I haven't tested  your code yet, but it seems very inefficient if your goal is just counting the longest 'binary gap'. </p>\n\n<p>Problems in your code:</p>\n\n<ul>\n<li>Makes <code>java.lang.String</code> when it can be just <code>char</code>. Making objects is much slower than making primitive types.</li>\n<li>Makes a list when it's able to simply count. As long as you're only going to need size of the list, you can just count it in a integer variable.</li>\n<li>Stupid algorithm. A substring of a string can't be longer than the original one. I'm talking about the second <code>for</code> loop. For example, let's say you're counting binary gap of <code>1001</code>. Then your algorithm counts binary gap of <code>001</code> and then <code>01</code>. You don't need to count the second one at all. And it's happening becuase you have two for loops.</li>\n</ul>\n\n<p>The biggest problem is, that it's possible to solve this problem without converting <code>int</code> into <code>java.lang.String</code> at all. And in case you got this problem from a textbook, I believe this is the 'correct' answer: To use bitwise operators.</p>\n\n<pre><code>public static int solution(int num) {\n    int ptr; //Used for bitwise operation.\n    for(ptr=1; ptr&gt;0; ptr&lt;&lt;=1) //Find the lowest bit 1\n        if((num&amp;ptr) != 0)\n            break;\n    int cnt=0; //Count the (possible) gap\n    int ret=0; //Keep the longest gap.\n    for(; ptr&gt;0; ptr&lt;&lt;=1) {\n        if((num&amp;ptr) != 0) { //If it's bit 1\n            ret = cnt &lt; ret ? ret : cnt; //Get the bigger one between cnt and ret\n            cnt=-1; //Exclude this bit\n        }\n        cnt++; //Increment the count. If this bit is 1, then cnt would become 0 beause we set the cnt as -1 instead of 0.\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1635089,"reputation":1784,"user_id":1508806,"display_name":"BlackRainbow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506565447,"creation_date":1506565447,"answer_id":46460000,"question_id":40946025,"body_markdown":"Here is my modest solution. Now I see that it&#39;s looks like modification of \r\nDevilsHnd answer. I tested it\r\n\r\n    public int countZeros(int n) {\r\n            String binaryRep = Integer.toBinaryString(n);\r\n            char[] nChars = binaryRep.toCharArray();\r\n            int nElemLength = Math.min(binaryRep.lastIndexOf(&#39;1&#39;) + 1, nChars.length);\r\n            if (nElemLength &lt;= 2) {\r\n                return 0;\r\n            }\r\n            String[] elementsParts = binaryRep.substring(0, nElemLength).split(&quot;1&quot;);\r\n            int zeroLength = 0;\r\n            for (String elementsPart : elementsParts) {\r\n                if (elementsPart.length() &gt; zeroLength) {\r\n                    zeroLength = elementsPart.length();\r\n                }\r\n            }\r\n            return zeroLength;\r\n        }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here is my modest solution. Now I see that it's looks like modification of \nDevilsHnd answer. I tested it</p>\n\n<pre><code>public int countZeros(int n) {\n        String binaryRep = Integer.toBinaryString(n);\n        char[] nChars = binaryRep.toCharArray();\n        int nElemLength = Math.min(binaryRep.lastIndexOf('1') + 1, nChars.length);\n        if (nElemLength &lt;= 2) {\n            return 0;\n        }\n        String[] elementsParts = binaryRep.substring(0, nElemLength).split(\"1\");\n        int zeroLength = 0;\n        for (String elementsPart : elementsParts) {\n            if (elementsPart.length() &gt; zeroLength) {\n                zeroLength = elementsPart.length();\n            }\n        }\n        return zeroLength;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12702442,"reputation":11,"user_id":9228767,"display_name":"Mario_1412"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516182760,"creation_date":1516182760,"answer_id":48298112,"question_id":40946025,"body_markdown":"I think your code is a little bit confusing,check this one.\r\n\r\n    public int solution(int n) {\r\n        if (n &lt;= 0) return 0;\r\n        char[] chars = Integer.toBinaryString(n).toCharArray();\r\n        ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n        int maxCount = 0;\r\n        for (int i = 0; i &lt; chars.length; i++) {\r\n            while (chars[i] == &#39;0&#39; &amp;&amp; i + 1 &lt; chars.length) {\r\n                maxCount++;\r\n                i++;\r\n                if (i + 1 == chars.length &amp;&amp; chars[i] == &#39;0&#39;)\r\n                    maxCount = 0;\r\n            }\r\n            if (maxCount != 0)\r\n                arrayList.add(maxCount);\r\n            maxCount = 0;\r\n        }\r\n\r\n        return arrayList.isEmpty() ? 0 : Collections.max(arrayList);\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>I think your code is a little bit confusing,check this one.</p>\n\n<pre><code>public int solution(int n) {\n    if (n &lt;= 0) return 0;\n    char[] chars = Integer.toBinaryString(n).toCharArray();\n    ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n    int maxCount = 0;\n    for (int i = 0; i &lt; chars.length; i++) {\n        while (chars[i] == '0' &amp;&amp; i + 1 &lt; chars.length) {\n            maxCount++;\n            i++;\n            if (i + 1 == chars.length &amp;&amp; chars[i] == '0')\n                maxCount = 0;\n        }\n        if (maxCount != 0)\n            arrayList.add(maxCount);\n        maxCount = 0;\n    }\n\n    return arrayList.isEmpty() ? 0 : Collections.max(arrayList);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1323283,"reputation":1062,"user_id":1268634,"display_name":"Hafiz Waleed Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521879979,"creation_date":1521879979,"answer_id":49462725,"question_id":40946025,"body_markdown":"What about this algorithm. Is it bad for time performance or good?\r\n\r\n \r\n    int count = 0, prevCount = 0;\r\n\r\n    while (a &gt; 1) {\r\n      \r\n      if (a % 2 == 0) {\r\n         count++;\r\n         if (count &gt; prevCount)\r\n            prevCount++;\r\n         } else {\r\n                count = 0;\r\n            }    \r\n            a = a/2;\r\n        }\r\n\r\n        if(a % 2 == 0)\r\n           prevCount++;","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>What about this algorithm. Is it bad for time performance or good?</p>\n\n<pre><code>int count = 0, prevCount = 0;\n\nwhile (a &gt; 1) {\n\n  if (a % 2 == 0) {\n     count++;\n     if (count &gt; prevCount)\n        prevCount++;\n     } else {\n            count = 0;\n        }    \n        a = a/2;\n    }\n\n    if(a % 2 == 0)\n       prevCount++;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13285420,"reputation":1,"user_id":9591687,"display_name":"Mr Sadman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524170762,"creation_date":1524170762,"answer_id":49929981,"question_id":40946025,"body_markdown":"Hi this is my solution for this task.\r\nI had Task \r\nScore : 100%\r\nCorrectness : 100%\r\n\r\n    public int solution(int N) {\r\n        String binary = Integer.toBinaryString(N);\r\n        int[] table = new int[binary.length()];\r\n\r\n        for (int i=0;i&lt;binary.length();i++){\r\n            int number = Integer.parseInt(binary.substring(i,i+1));\r\n            table[i] = number;\r\n        }\r\n\r\n        int resu = 0;\r\n        int res = 0;\r\n        for (int i=0;i&lt;table.length;i++){\r\n            if (table[i] == 1){\r\n                if (resu &gt; res){\r\n                    res = resu;\r\n                }\r\n                resu = 0;\r\n            }else {\r\n                resu++;\r\n            }\r\n        }\r\n        \r\n        return res;\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Hi this is my solution for this task.\nI had Task \nScore : 100%\nCorrectness : 100%</p>\n\n<pre><code>public int solution(int N) {\n    String binary = Integer.toBinaryString(N);\n    int[] table = new int[binary.length()];\n\n    for (int i=0;i&lt;binary.length();i++){\n        int number = Integer.parseInt(binary.substring(i,i+1));\n        table[i] = number;\n    }\n\n    int resu = 0;\n    int res = 0;\n    for (int i=0;i&lt;table.length;i++){\n        if (table[i] == 1){\n            if (resu &gt; res){\n                res = resu;\n            }\n            resu = 0;\n        }else {\n            resu++;\n        }\n    }\n\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888125,"reputation":601,"user_id":1706924,"accept_rate":100,"display_name":"Very Objective"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533791126,"creation_date":1533791126,"answer_id":51759194,"question_id":40946025,"body_markdown":"For the benefit of all, here is my solution to the Binary Gap which got me 100% for both Task Score and Task Correctness:\r\n\r\n\r\n    class Solution {\r\n        public int solution(int N) {\r\n     \t\tString nStr = Integer.toBinaryString(N);\r\n    \r\n    \t\tboolean isCounting = false;\r\n    \t\tint j=0;\r\n    \t\tint[] seqs = new int[32];\r\n    \t\tfor (int i=0; i&lt;nStr.length(); i++)\r\n    \t\t{\r\n    \t\t\tif ( nStr.charAt(i) == &#39;1&#39;)\r\n    \t\t\t{\r\n    \t\t\t\tif (!isCounting)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tisCounting = true;\r\n    \t\t\t\t\tseqs[j] = 0;\r\n    \t\t\t\t}\r\n    \t\t\t\telse // isCounting, turn it off\r\n    \t\t\t\t{\r\n    \t\t\t\t\tisCounting = false;\r\n    \t\t\t\t\tj++;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse // nStr.charAt(i) == &#39;0&#39;\r\n    \t\t\t{\r\n    \t\t\t\tif (!isCounting)\r\n    \t\t\t\t\tisCounting = true;\r\n    \t\t\t\tseqs[j]++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tif (isCounting == true)\r\n    \t\t\tseqs[j] = 0;\r\n    \t\t\r\n    \t\tint maxGap = 0;\r\n    \t\tfor (int k=0; k&lt;seqs.length; k++)\r\n    \t        if (seqs[k] &gt; maxGap)\r\n    \t        \tmaxGap = seqs[k];\r\n    \t\treturn maxGap;\r\n       }\r\n    }\r\n\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>For the benefit of all, here is my solution to the Binary Gap which got me 100% for both Task Score and Task Correctness:</p>\n\n<pre><code>class Solution {\n    public int solution(int N) {\n        String nStr = Integer.toBinaryString(N);\n\n        boolean isCounting = false;\n        int j=0;\n        int[] seqs = new int[32];\n        for (int i=0; i&lt;nStr.length(); i++)\n        {\n            if ( nStr.charAt(i) == '1')\n            {\n                if (!isCounting)\n                {\n                    isCounting = true;\n                    seqs[j] = 0;\n                }\n                else // isCounting, turn it off\n                {\n                    isCounting = false;\n                    j++;\n                }\n\n            }\n            else // nStr.charAt(i) == '0'\n            {\n                if (!isCounting)\n                    isCounting = true;\n                seqs[j]++;\n            }\n\n        }\n        if (isCounting == true)\n            seqs[j] = 0;\n\n        int maxGap = 0;\n        for (int k=0; k&lt;seqs.length; k++)\n            if (seqs[k] &gt; maxGap)\n                maxGap = seqs[k];\n        return maxGap;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10468919,"reputation":41,"user_id":7717455,"display_name":"Manuel Mosso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541806125,"creation_date":1541801380,"answer_id":53233895,"question_id":40946025,"body_markdown":"**OBJECTIVE-C SOLUTION O(n)**\r\n\r\n**Results given by Codility** \r\n\r\nTask Score: 100%  \r\nCorrectness: 100%  \r\nPerformance: Not assesed\r\n\r\n**Time Complexity**\r\n\r\nThe worst case time complexity is O(n)\r\n\r\n**Algorithm Explanation**\r\n\r\n*FACTS*\r\n\r\nEvery valid gap starts with a &#39;1&#39; and close with another &#39;1&#39;, with at least one &#39;zero&#39; between them.\r\n\r\n - 1001   -  Is a valid gap&lt;br/&gt;\r\n - 00100  -  Isn&#39;t a valid gap&lt;br/&gt;\r\n - 10100  -  Is a valid gap&lt;br/&gt;\r\n - 11111  -  Isn&#39;t a valid gap&lt;br/&gt;\r\n\r\n\r\n\r\n*STEP 1*\r\n\r\n - Get bits representation one by one from the Rigth to the Left.\r\n\r\n - That means, for n=4, I&#39;ll get first a Zero, then another Zero, then a One, finally a Zero.  [0,1,0,0]\r\n\r\n - 4 -&gt; 0100\r\n\r\n\r\n\r\n\r\n*STEP 2*\r\n\r\n - Start looking for the first &#39;1&#39; - since our flag &#39;hasStartPattern&#39; is false in the first iteration, we&#39;ll look for the first occurrence of &#39;1&#39;, that means we have a valid start pattern and we change the flag &#39;hasStartPattern&#39; to true for the next iterations we should validate if the current bit is &#39;0&#39; and use a counter, in this case &#39;candidates&#39;.\r\n\r\n - Only if, there is another &#39;1&#39; in the incoming bits, we are sure that we have a valid binary gap, then we compare our previous &#39;candidates&#39; with our current &#39;gapCounter&#39; in order to keep the highest one.\r\n \r\n - In case that there isn&#39;t another &#39;1&#39; to close the gap, we never change the value of &#39;gapCounter&#39; and we return 0\r\n\r\n\r\n[Xcode Solution Here][1]\r\n\r\n  [1]: https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/Iterations/BinaryGap.m\r\n\r\n\r\n\r\n    -(int)solutionOne:(int)n {\r\n    \r\n        BOOL hasStartPattern = NO;\r\n        int candidates = 0;\r\n        int gapCounter = 0;\r\n        \r\n        while(n){\r\n            // STEP 1\r\n            NSString *bit = (n &amp; 1) ? @&quot;1&quot;: @&quot;0&quot;;\r\n            n /= 2;\r\n            \r\n            // STEP 2\r\n            if ( hasStartPattern  &amp;&amp; [bit isEqualToString:@&quot;0&quot;]) {\r\n                candidates++;\r\n            }\r\n            else if ( hasStartPattern  &amp;&amp; [bit isEqualToString:@&quot;1&quot;]) {\r\n                // At least one &#39;1&#39; exist as a close pattern\r\n                if (candidates &gt; gapCounter) {\r\n                    gapCounter = candidates;\r\n                }\r\n                candidates = 0;\r\n            }\r\n            else if ([bit isEqualToString:@&quot;1&quot;]) {\r\n                hasStartPattern = YES; // At least one &#39;1&#39; exist as an open pattern\r\n            }\r\n        }\r\n        return gapCounter;\r\n    }\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p><strong>OBJECTIVE-C SOLUTION O(n)</strong></p>\n\n<p><strong>Results given by Codility</strong> </p>\n\n<p>Task Score: 100%<br>\nCorrectness: 100%<br>\nPerformance: Not assesed</p>\n\n<p><strong>Time Complexity</strong></p>\n\n<p>The worst case time complexity is O(n)</p>\n\n<p><strong>Algorithm Explanation</strong></p>\n\n<p><em>FACTS</em></p>\n\n<p>Every valid gap starts with a '1' and close with another '1', with at least one 'zero' between them.</p>\n\n<ul>\n<li>1001   -  Is a valid gap<br/></li>\n<li>00100  -  Isn't a valid gap<br/></li>\n<li>10100  -  Is a valid gap<br/></li>\n<li>11111  -  Isn't a valid gap<br/></li>\n</ul>\n\n<p><em>STEP 1</em></p>\n\n<ul>\n<li><p>Get bits representation one by one from the Rigth to the Left.</p></li>\n<li><p>That means, for n=4, I'll get first a Zero, then another Zero, then a One, finally a Zero.  [0,1,0,0]</p></li>\n<li><p>4 -> 0100</p></li>\n</ul>\n\n<p><em>STEP 2</em></p>\n\n<ul>\n<li><p>Start looking for the first '1' - since our flag 'hasStartPattern' is false in the first iteration, we'll look for the first occurrence of '1', that means we have a valid start pattern and we change the flag 'hasStartPattern' to true for the next iterations we should validate if the current bit is '0' and use a counter, in this case 'candidates'.</p></li>\n<li><p>Only if, there is another '1' in the incoming bits, we are sure that we have a valid binary gap, then we compare our previous 'candidates' with our current 'gapCounter' in order to keep the highest one.</p></li>\n<li><p>In case that there isn't another '1' to close the gap, we never change the value of 'gapCounter' and we return 0</p></li>\n</ul>\n\n<p><a href=\"https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/Iterations/BinaryGap.m\" rel=\"nofollow noreferrer\">Xcode Solution Here</a></p>\n\n<pre><code>-(int)solutionOne:(int)n {\n\n    BOOL hasStartPattern = NO;\n    int candidates = 0;\n    int gapCounter = 0;\n\n    while(n){\n        // STEP 1\n        NSString *bit = (n &amp; 1) ? @\"1\": @\"0\";\n        n /= 2;\n\n        // STEP 2\n        if ( hasStartPattern  &amp;&amp; [bit isEqualToString:@\"0\"]) {\n            candidates++;\n        }\n        else if ( hasStartPattern  &amp;&amp; [bit isEqualToString:@\"1\"]) {\n            // At least one '1' exist as a close pattern\n            if (candidates &gt; gapCounter) {\n                gapCounter = candidates;\n            }\n            candidates = 0;\n        }\n        else if ([bit isEqualToString:@\"1\"]) {\n            hasStartPattern = YES; // At least one '1' exist as an open pattern\n        }\n    }\n    return gapCounter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10468919,"reputation":41,"user_id":7717455,"display_name":"Manuel Mosso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541806044,"creation_date":1541806044,"answer_id":53234540,"question_id":40946025,"body_markdown":"**OBJECTIVE-C SOLUTION O(2n)**\r\n\r\n**Results given by Codility** \r\n\r\nTask Score: 100%  \r\nCorrectness: 100%  \r\nPerformance: Not assesed\r\n\r\n**Time Complexity**\r\n\r\nThe worst case time complexity is O(2n)\r\n\r\n**Algorithm Explanation**\r\n\r\n*FACTS*\r\n\r\nEvery valid gap starts with a &#39;1&#39; and close with another &#39;1&#39;, with at least one &#39;zero&#39; between them.\r\n\r\n - 1001   -  Is a valid gap&lt;br/&gt;\r\n - 00100  -  Isn&#39;t a valid gap&lt;br/&gt;\r\n - 10100  -  Is a valid gap&lt;br/&gt;\r\n - 11111  -  Isn&#39;t a valid gap&lt;br/&gt;\r\n\r\n\r\n\r\n*STEP 1*\r\n\r\n - Get the bits of n, using an auxiliary method wich has O(n) Complexity\r\n\r\n\r\n*STEP 2*\r\n\r\n - Iterate over each bit we got in Step One\r\n - Start looking for the first &#39;1&#39; - since our flag &#39;hasStartPattern&#39; is false in the first iteration, we&#39;ll look for the first occurrence of &#39;1&#39;, that means we have a valid start pattern and we change the flag &#39;hasStartPattern&#39; to true\r\n for the next iterations we should validate if the current bit is &#39;0&#39; and use a counter, in this case &#39;candidates&#39;.\r\n - Only if, there is another &#39;1&#39; in the incoming bits, we are sure that we have a valid binary gap, then we compare our previous &#39;candidates&#39; with our current &#39;gapCounter&#39; in order to keep the highest one.\r\n - In case that there isn&#39;t another &#39;1&#39; to close the gap, we never change the value of &#39;gapCounter&#39; and we return 0.\r\n\r\n[Xcode Solution Here][1]\r\n\r\n\r\n  [1]: https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/Iterations/BinaryGap.m\r\n\r\n\r\n    +(int)solutionTwo:(int)n {    \r\n        // STEP 1\r\n        // O(n)\r\n        NSString *bits = [self getBitsForNumber:n];\r\n        \r\n        BOOL hasStartPattern = NO;\r\n        int candidates = 0;\r\n        int gapCounter = 0;\r\n        \r\n        // STEP 2\r\n        // O(n)\r\n        for (int i=0; i &lt; bits.length; i++) {\r\n            \r\n            char currentBit = [bits characterAtIndex:i];\r\n    \r\n            if ( hasStartPattern  &amp;&amp; currentBit == &#39;0&#39; ) {\r\n                candidates++;\r\n            }\r\n            else if ( hasStartPattern  &amp;&amp; currentBit == &#39;1&#39; ) {\r\n                // At least one &#39;1&#39; exist as a close pattern\r\n                if (candidates &gt; gapCounter) {\r\n                    gapCounter = candidates;\r\n                }\r\n                candidates = 0;\r\n            }\r\n            else if (currentBit == &#39;1&#39;) {\r\n                hasStartPattern = YES; // At least one &#39;1&#39; exist as an open pattern\r\n            }\r\n            \r\n        }\r\n        \r\n        return gapCounter;\r\n    }\r\n    \r\n    /*\r\n    Time Complexity:\r\n    - The worst case time complexity for this auxiliary method is O(n)\r\n    */\r\n    +(NSString*)getBitsForNumber:(int)n {\r\n        NSMutableString *bits = [NSMutableString string];\r\n        while(n) {\r\n            [bits insertString:((n&amp;1)? @&quot;1&quot; : @&quot;0&quot;) atIndex:0];\r\n            n /= 2;\r\n        }\r\n        return bits;\r\n    }\r\n\r\n\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p><strong>OBJECTIVE-C SOLUTION O(2n)</strong></p>\n\n<p><strong>Results given by Codility</strong> </p>\n\n<p>Task Score: 100%<br>\nCorrectness: 100%<br>\nPerformance: Not assesed</p>\n\n<p><strong>Time Complexity</strong></p>\n\n<p>The worst case time complexity is O(2n)</p>\n\n<p><strong>Algorithm Explanation</strong></p>\n\n<p><em>FACTS</em></p>\n\n<p>Every valid gap starts with a '1' and close with another '1', with at least one 'zero' between them.</p>\n\n<ul>\n<li>1001   -  Is a valid gap<br/></li>\n<li>00100  -  Isn't a valid gap<br/></li>\n<li>10100  -  Is a valid gap<br/></li>\n<li>11111  -  Isn't a valid gap<br/></li>\n</ul>\n\n<p><em>STEP 1</em></p>\n\n<ul>\n<li>Get the bits of n, using an auxiliary method wich has O(n) Complexity</li>\n</ul>\n\n<p><em>STEP 2</em></p>\n\n<ul>\n<li>Iterate over each bit we got in Step One</li>\n<li>Start looking for the first '1' - since our flag 'hasStartPattern' is false in the first iteration, we'll look for the first occurrence of '1', that means we have a valid start pattern and we change the flag 'hasStartPattern' to true\nfor the next iterations we should validate if the current bit is '0' and use a counter, in this case 'candidates'.</li>\n<li>Only if, there is another '1' in the incoming bits, we are sure that we have a valid binary gap, then we compare our previous 'candidates' with our current 'gapCounter' in order to keep the highest one.</li>\n<li>In case that there isn't another '1' to close the gap, we never change the value of 'gapCounter' and we return 0.</li>\n</ul>\n\n<p><a href=\"https://github.com/jmanuelmosso/CSWarmingInterview/blob/master/CSWarmingInterview/CodilityChallenges/Iterations/BinaryGap.m\" rel=\"nofollow noreferrer\">Xcode Solution Here</a></p>\n\n<pre><code>+(int)solutionTwo:(int)n {    \n    // STEP 1\n    // O(n)\n    NSString *bits = [self getBitsForNumber:n];\n\n    BOOL hasStartPattern = NO;\n    int candidates = 0;\n    int gapCounter = 0;\n\n    // STEP 2\n    // O(n)\n    for (int i=0; i &lt; bits.length; i++) {\n\n        char currentBit = [bits characterAtIndex:i];\n\n        if ( hasStartPattern  &amp;&amp; currentBit == '0' ) {\n            candidates++;\n        }\n        else if ( hasStartPattern  &amp;&amp; currentBit == '1' ) {\n            // At least one '1' exist as a close pattern\n            if (candidates &gt; gapCounter) {\n                gapCounter = candidates;\n            }\n            candidates = 0;\n        }\n        else if (currentBit == '1') {\n            hasStartPattern = YES; // At least one '1' exist as an open pattern\n        }\n\n    }\n\n    return gapCounter;\n}\n\n/*\nTime Complexity:\n- The worst case time complexity for this auxiliary method is O(n)\n*/\n+(NSString*)getBitsForNumber:(int)n {\n    NSMutableString *bits = [NSMutableString string];\n    while(n) {\n        [bits insertString:((n&amp;1)? @\"1\" : @\"0\") atIndex:0];\n        n /= 2;\n    }\n    return bits;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15389510,"reputation":1,"user_id":11102658,"display_name":"benjamin palma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550867551,"creation_date":1550854462,"answer_id":54831766,"question_id":40946025,"body_markdown":"here is my solution. \r\n\r\nIt is 100/100. \r\n\r\n\r\nI think it can be polished though.\r\n\r\n\r\n\r\n\r\n\r\n        class Solution {\r\n          public int solution(int N) {\r\n    \r\n           String s = Integer.toBinaryString(N);\r\n           int ctr = 0;\r\n           \r\n           for (int x = 0; x &lt; s.length(); x++){\r\n               \r\n               if (s.substring(x,x+1).equals(&quot;1&quot;)){\r\n               \r\n                   ctr++;\r\n               }\r\n               \r\n           }\r\n        \r\n           \r\n           int result[] = new int[ctr];\r\n        \r\n           boolean flag = false;\r\n           int fCtr = 0;\r\n           for(int y = 0; y &lt; s.length(); y++){\r\n               if(s.substring(y,y+1).equals(&quot;1&quot;)){\r\n                   flag = true;\r\n                   if(flag == true){\r\n                        fCtr++;\r\n                   }\r\n                       \r\n                   }\r\n               else if (s.substring(y,y+1).equals(&quot;0&quot;) &amp;&amp; flag == true &amp;&amp; fCtr &lt; ctr){\r\n                   result[fCtr]++;\r\n               }\r\n             } \r\n          \r\n            int ans = 0;\r\n            for (int d = 0; d &lt; result.length; d++){\r\n                if (ans &lt;= result[d]){\r\n                    ans = result[d];\r\n                }\r\n            }\r\n           \r\n           return ans;\r\n        }\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>here is my solution. </p>\n\n<p>It is 100/100. </p>\n\n<p>I think it can be polished though.</p>\n\n<pre><code>    class Solution {\n      public int solution(int N) {\n\n       String s = Integer.toBinaryString(N);\n       int ctr = 0;\n\n       for (int x = 0; x &lt; s.length(); x++){\n\n           if (s.substring(x,x+1).equals(\"1\")){\n\n               ctr++;\n           }\n\n       }\n\n\n       int result[] = new int[ctr];\n\n       boolean flag = false;\n       int fCtr = 0;\n       for(int y = 0; y &lt; s.length(); y++){\n           if(s.substring(y,y+1).equals(\"1\")){\n               flag = true;\n               if(flag == true){\n                    fCtr++;\n               }\n\n               }\n           else if (s.substring(y,y+1).equals(\"0\") &amp;&amp; flag == true &amp;&amp; fCtr &lt; ctr){\n               result[fCtr]++;\n           }\n         } \n\n        int ans = 0;\n        for (int d = 0; d &lt; result.length; d++){\n            if (ans &lt;= result[d]){\n                ans = result[d];\n            }\n        }\n\n       return ans;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1553078,"reputation":127,"user_id":1445018,"accept_rate":50,"display_name":"user1445018"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560403860,"creation_date":1560403860,"answer_id":56573894,"question_id":40946025,"body_markdown":"I think this one is a very small code\r\n\r\n        public int solution(int N)\r\n        {\r\n            string binary = Convert.ToString(N, 2);\r\n            binary = binary.TrimEnd(new Char[] { &#39;0&#39; });\r\n            var gaps = binary.Split(&#39;1&#39;);\r\n            int max = 0;\r\n            foreach (var item in gaps)\r\n            {\r\n                if (!string.IsNullOrEmpty(item))\r\n                    if(item.Length &gt; max)\r\n                       max = item.Length;\r\n            }            \r\n            return max ;\r\n        }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>I think this one is a very small code</p>\n\n<pre><code>    public int solution(int N)\n    {\n        string binary = Convert.ToString(N, 2);\n        binary = binary.TrimEnd(new Char[] { '0' });\n        var gaps = binary.Split('1');\n        int max = 0;\n        foreach (var item in gaps)\n        {\n            if (!string.IsNullOrEmpty(item))\n                if(item.Length &gt; max)\n                   max = item.Length;\n        }            \n        return max ;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8404138,"reputation":851,"user_id":6308162,"display_name":"Iryna Prokopenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563262755,"creation_date":1563262755,"answer_id":57052285,"question_id":40946025,"body_markdown":"here mine\r\n\r\n    public int solution(int N) {\r\n\r\n        String binary = Integer.toBinaryString(N);\r\n        \r\n        LinkedList&lt;Integer&gt; gaps = new LinkedList&lt;&gt;();\r\n        int countGap = 0;\r\n        int j = 0;\r\n        for (int i = 1; i &lt; binary.length() - 1; i++) {\r\n            if (binary.charAt(i) == &#39;0&#39;) {\r\n                countGap++;\r\n            } else {\r\n\r\n                gaps.add(j, countGap);\r\n                j++;\r\n                countGap = 0;\r\n            }\r\n        }\r\n\r\n        gaps.add(j, countGap);\r\n\r\n        if (binary.charAt(binary.length() - 1) == &#39;0&#39;) {\r\n            gaps.set(gaps.size() - 1, 0);\r\n        }\r\n\r\n        Collections.sort(gaps);\r\n        \r\n        return gaps.getLast();\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>here mine</p>\n\n<pre><code>public int solution(int N) {\n\n    String binary = Integer.toBinaryString(N);\n\n    LinkedList&lt;Integer&gt; gaps = new LinkedList&lt;&gt;();\n    int countGap = 0;\n    int j = 0;\n    for (int i = 1; i &lt; binary.length() - 1; i++) {\n        if (binary.charAt(i) == '0') {\n            countGap++;\n        } else {\n\n            gaps.add(j, countGap);\n            j++;\n            countGap = 0;\n        }\n    }\n\n    gaps.add(j, countGap);\n\n    if (binary.charAt(binary.length() - 1) == '0') {\n        gaps.set(gaps.size() - 1, 0);\n    }\n\n    Collections.sort(gaps);\n\n    return gaps.getLast();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3140921,"reputation":3,"user_id":2656401,"display_name":"BrsAtmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564780142,"creation_date":1564780142,"answer_id":57333463,"question_id":40946025,"body_markdown":"Here is my solution. (Scala)\r\n\r\nIt is 100/100.\r\n\r\n \r\n     object Solution {\r\n      def solution(n: Int): Int = {\r\n       val regex = raw&quot;(?=(10*1))&quot;.r\r\n       val result = regex.findAllMatchIn(n.toBinaryString).map(_.group(1)) match {\r\n        case re:Iterator[String] if !re.isEmpty =&gt; (re.toList.map(Integer.parseInt(_, 2)).sorted.last.toBinaryString.length - 2)\r\n        case _ =&gt; 0\r\n      }\r\n      result\r\n      }\r\n    }\r\n\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here is my solution. (Scala)</p>\n\n<p>It is 100/100.</p>\n\n<pre><code> object Solution {\n  def solution(n: Int): Int = {\n   val regex = raw\"(?=(10*1))\".r\n   val result = regex.findAllMatchIn(n.toBinaryString).map(_.group(1)) match {\n    case re:Iterator[String] if !re.isEmpty =&gt; (re.toList.map(Integer.parseInt(_, 2)).sorted.last.toBinaryString.length - 2)\n    case _ =&gt; 0\n  }\n  result\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746810,"reputation":448,"user_id":2367057,"display_name":"Chigozie Orunta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578770688,"creation_date":1578770688,"answer_id":59697883,"question_id":40946025,"body_markdown":"My solution using JavaScript, **tested 100%.**\r\n\r\n```\r\nfunction solution(N) {\r\n    N = N.toString(2);\r\n    let numberOfOnes = 0;\r\n    let binaryGap = 0;\r\n    let binaryZeros = 0;\r\n    for(let i=0; i&lt;N.length; i++) {\r\n        if(N[i] &gt; 0) {\r\n            numberOfOnes++;\r\n        }\r\n    }\r\n    if(numberOfOnes) {\r\n        for(let j=0; j&lt;N.length; j++) {\r\n            if(N[j] &gt; 0) {\r\n                if(binaryZeros) {\r\n                    if(binaryZeros &gt; binaryGap) {\r\n                        binaryGap = binaryZeros;\r\n                    }\r\n                }\r\n                binaryZeros = 0;\r\n            }\r\n            if(N[j] &lt; 1) {\r\n                binaryZeros++;\r\n            }\r\n        }\r\n    } else {\r\n        binaryGap = 0;\r\n    }\r\n    return binaryGap;\r\n}\r\n```","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>My solution using JavaScript, <strong>tested 100%.</strong></p>\n\n<pre><code>function solution(N) {\n    N = N.toString(2);\n    let numberOfOnes = 0;\n    let binaryGap = 0;\n    let binaryZeros = 0;\n    for(let i=0; i&lt;N.length; i++) {\n        if(N[i] &gt; 0) {\n            numberOfOnes++;\n        }\n    }\n    if(numberOfOnes) {\n        for(let j=0; j&lt;N.length; j++) {\n            if(N[j] &gt; 0) {\n                if(binaryZeros) {\n                    if(binaryZeros &gt; binaryGap) {\n                        binaryGap = binaryZeros;\n                    }\n                }\n                binaryZeros = 0;\n            }\n            if(N[j] &lt; 1) {\n                binaryZeros++;\n            }\n        }\n    } else {\n        binaryGap = 0;\n    }\n    return binaryGap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2605419,"reputation":1,"user_id":2256674,"display_name":"Union"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595956218,"creation_date":1595956218,"answer_id":63139358,"question_id":40946025,"body_markdown":"I adapted @minary solution with **PHP** and it worked.\r\n\r\n\r\n      function maxZeros($N){\r\n        $ptr = 0; //Used for bitwise operation.\r\n         for($ptr = 1; $ptr &gt; 0; $ptr &lt;&lt;= 1) //Find the lowest bit 1\r\n          if(($N &amp; $ptr) != 0)\r\n            break;\r\n\r\n        $cnt = 0; //Count the (possible) gap\r\n        $ret = 0; //Keep the longest gap.\r\n         for(; $ptr &gt; 0; $ptr &lt;&lt;= 1) {\r\n          if(($N &amp; $ptr) != 0) { //If it&#39;s bit 1\r\n            $ret = $cnt &lt; $ret ? $ret : $cnt; //Get the bigger one between cnt and ret\r\n            $cnt = -1; //Exclude this bit\r\n          }\r\n          $cnt++; //Increment the count. If this bit is 1, then cnt would become 0 because we set the cnt as -1 instead of 0.\r\n         }\r\n        return $ret;\r\n       }\r\n\r\n      //Run the function below, for example N = 32\r\n       $N = 32; \r\n       echo (maxZeros($N)); ","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>I adapted @minary solution with <strong>PHP</strong> and it worked.</p>\n<pre><code>  function maxZeros($N){\n    $ptr = 0; //Used for bitwise operation.\n     for($ptr = 1; $ptr &gt; 0; $ptr &lt;&lt;= 1) //Find the lowest bit 1\n      if(($N &amp; $ptr) != 0)\n        break;\n\n    $cnt = 0; //Count the (possible) gap\n    $ret = 0; //Keep the longest gap.\n     for(; $ptr &gt; 0; $ptr &lt;&lt;= 1) {\n      if(($N &amp; $ptr) != 0) { //If it's bit 1\n        $ret = $cnt &lt; $ret ? $ret : $cnt; //Get the bigger one between cnt and ret\n        $cnt = -1; //Exclude this bit\n      }\n      $cnt++; //Increment the count. If this bit is 1, then cnt would become 0 because we set the cnt as -1 instead of 0.\n     }\n    return $ret;\n   }\n\n  //Run the function below, for example N = 32\n   $N = 32; \n   echo (maxZeros($N)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4977747,"reputation":67,"user_id":4003623,"display_name":"Kehinde Ogundeyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604689925,"creation_date":1604689925,"answer_id":64720362,"question_id":40946025,"body_markdown":"This is the C# code equivalent\r\n\r\n     public int solution(int N) {\r\n        // write your code in C# 6.0 with .NET 4.5 (Mono)\r\n        int m;\r\n        for (m=1;m&gt;0;m&lt;&lt;=1){\r\n            if((m&amp;N) !=0){\r\n            break;\r\n            }\r\n        }\r\n        int i = 0;\r\n        int j = 0;\r\n        for (; m&gt;0;m&lt;&lt;=1){\r\n            if((m&amp;N) !=0){\r\n                j=i&lt;j ? j:i;\r\n                i=-1;\r\n            }\r\n            i++;\r\n        }\r\n        return j;\r\n        }\r\n    }\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>This is the C# code equivalent</p>\n<pre><code> public int solution(int N) {\n    // write your code in C# 6.0 with .NET 4.5 (Mono)\n    int m;\n    for (m=1;m&gt;0;m&lt;&lt;=1){\n        if((m&amp;N) !=0){\n        break;\n        }\n    }\n    int i = 0;\n    int j = 0;\n    for (; m&gt;0;m&lt;&lt;=1){\n        if((m&amp;N) !=0){\n            j=i&lt;j ? j:i;\n            i=-1;\n        }\n        i++;\n    }\n    return j;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6321139,"reputation":153,"user_id":4909153,"accept_rate":100,"display_name":"Mwas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662370949,"creation_date":1611523461,"answer_id":65876121,"question_id":40946025,"body_markdown":"Here is my **Java** implementation.\r\n\r\n    public static int solution(int N) {\r\n        int longestBinaryGap = 0;\r\n        String binary= Integer.toBinaryString(N);\r\n        if(!binary.contains(&quot;01&quot;)){\r\n            return 0;\r\n        }\r\n\r\n        binary = binary.replaceAll(&quot;0*$&quot;, &quot;&quot;);\r\n        String[] gaps = binary.split(&quot;1&quot;);\r\n\r\n\r\n        for (String g:gaps) {\r\n            if(g.length()&gt;longestBinaryGap){\r\n                longestBinaryGap = g.length();\r\n            }\r\n        }\r\n\r\n        return longestBinaryGap;\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here is my <strong>Java</strong> implementation.</p>\n<pre><code>public static int solution(int N) {\n    int longestBinaryGap = 0;\n    String binary= Integer.toBinaryString(N);\n    if(!binary.contains(&quot;01&quot;)){\n        return 0;\n    }\n\n    binary = binary.replaceAll(&quot;0*$&quot;, &quot;&quot;);\n    String[] gaps = binary.split(&quot;1&quot;);\n\n\n    for (String g:gaps) {\n        if(g.length()&gt;longestBinaryGap){\n            longestBinaryGap = g.length();\n        }\n    }\n\n    return longestBinaryGap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10958353,"reputation":1,"user_id":8052414,"display_name":"Peter Kariuki Mutuura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612871861,"creation_date":1612871861,"answer_id":66118548,"question_id":40946025,"body_markdown":"Here is mine wrote in Javascript, can someone critic this, it scored 100% though on Codility.\r\n```\r\nconst binaryGap = (intN)=&gt;{\r\n    const binary = Array.from(intN.toString(2)).map(item=&gt;parseInt(item))\r\n    \r\n    const newArrayGroup = []\r\n\r\n    const arrLength = binary.length\r\n\r\n    let zeroGroup = []\r\n\r\n    for (let index = 0; index &lt; arrLength; index++) {\r\n\r\n        const parsedInt = binary[index]\r\n\r\n        if ( parsedInt == 0 ) {\r\n\r\n            zeroGroup.push(parsedInt)   \r\n        }else{\r\n            if (zeroGroup.length&gt;0) {\r\n                newArrayGroup.push(zeroGroup.length)\r\n            }\r\n            zeroGroup = []\r\n        }\r\n    }\r\n\r\n    return newArrayGroup.length == 0 ? 0 : Math.max(...newArrayGroup)\r\n}\r\n\r\n``` ","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here is mine wrote in Javascript, can someone critic this, it scored 100% though on Codility.</p>\n<pre><code>const binaryGap = (intN)=&gt;{\n    const binary = Array.from(intN.toString(2)).map(item=&gt;parseInt(item))\n    \n    const newArrayGroup = []\n\n    const arrLength = binary.length\n\n    let zeroGroup = []\n\n    for (let index = 0; index &lt; arrLength; index++) {\n\n        const parsedInt = binary[index]\n\n        if ( parsedInt == 0 ) {\n\n            zeroGroup.push(parsedInt)   \n        }else{\n            if (zeroGroup.length&gt;0) {\n                newArrayGroup.push(zeroGroup.length)\n            }\n            zeroGroup = []\n        }\n    }\n\n    return newArrayGroup.length == 0 ? 0 : Math.max(...newArrayGroup)\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2510126,"reputation":43,"user_id":2182808,"display_name":"Alireza Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615444106,"creation_date":1615444106,"answer_id":66577475,"question_id":40946025,"body_markdown":"Here is my answer in C#:\r\n&lt;code&gt;\r\n\r\n    class Solution {\r\n        public int solution(int N) {\r\n            // write your code in C# 6.0 with .NET 4.5 (Mono)\r\n             string Nbin = Convert.ToString(N, 2);\r\n                string[] arr = Nbin.Split(&#39;1&#39;);\r\n                int maxZ = 0;\r\n                if (arr.Length &gt; 2 &amp;&amp; arr[arr.Length - 1] == &quot; &quot;)\r\n                {\r\n                    foreach (var item in arr)\r\n                    {\r\n                        if (item.Length &gt; maxZ)\r\n                        {\r\n                            maxZ = item.Length;\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    for (int i = 0; i &lt; arr.Length - 1; i++)\r\n                    {\r\n                        if (arr[i].Length &gt; maxZ)\r\n                        {\r\n                            maxZ = arr[i].Length;\r\n                        }\r\n                    }\r\n                }\r\n                return maxZ;\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here is my answer in C#:\n<code></p>\n<pre><code>class Solution {\n    public int solution(int N) {\n        // write your code in C# 6.0 with .NET 4.5 (Mono)\n         string Nbin = Convert.ToString(N, 2);\n            string[] arr = Nbin.Split('1');\n            int maxZ = 0;\n            if (arr.Length &gt; 2 &amp;&amp; arr[arr.Length - 1] == &quot; &quot;)\n            {\n                foreach (var item in arr)\n                {\n                    if (item.Length &gt; maxZ)\n                    {\n                        maxZ = item.Length;\n                    }\n                }\n            }\n            else\n            {\n                for (int i = 0; i &lt; arr.Length - 1; i++)\n                {\n                    if (arr[i].Length &gt; maxZ)\n                    {\n                        maxZ = arr[i].Length;\n                    }\n                }\n            }\n            return maxZ;\n    }\n}\n</code></pre>\n</code>\n"},{"tags":[],"owner":{"account_id":6342823,"reputation":405,"user_id":4924242,"display_name":"Nesrin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618674804,"creation_date":1618674804,"answer_id":67140086,"question_id":40946025,"body_markdown":"This is my simple solution \r\n\r\n    class Solution {\r\n        public int solution(int N) {\r\n            // write your code in Java SE 8\r\n            String b = Integer.toBinaryString(N);\r\n    \r\n            char[] binaryArr = b.toCharArray();\r\n            int max = 0;\r\n            int internalCount = 0;\r\n            for(int index=1; index&lt; binaryArr.length; index++){\r\n                if(binaryArr[index] ==&#39;0&#39;)\r\n                    internalCount++;\r\n                else{\r\n    \r\n                    if (max&lt;internalCount) max = internalCount;\r\n                    internalCount =0;\r\n    \r\n                }\r\n            }\r\n    \r\n    \r\n            return max;\r\n        }\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>This is my simple solution</p>\n<pre><code>class Solution {\n    public int solution(int N) {\n        // write your code in Java SE 8\n        String b = Integer.toBinaryString(N);\n\n        char[] binaryArr = b.toCharArray();\n        int max = 0;\n        int internalCount = 0;\n        for(int index=1; index&lt; binaryArr.length; index++){\n            if(binaryArr[index] =='0')\n                internalCount++;\n            else{\n\n                if (max&lt;internalCount) max = internalCount;\n                internalCount =0;\n\n            }\n        }\n\n\n        return max;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3167816,"reputation":41,"user_id":2677408,"display_name":"RainMaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619196354,"creation_date":1619196354,"answer_id":67233929,"question_id":40946025,"body_markdown":"Here is my short solution in PHP (Task Score: 100%, Correctness: 100%)\r\n\r\n```\r\nfunction solution($N) {\r\n    $gaps = array();\r\n    $s = explode(&#39;1&#39;, trim(decbin($N),&#39;0&#39;));\r\n    foreach($s as $g){\r\n        $gaps[] = strlen($g);\r\n    }\r\n    return max($gaps);\r\n}\r\n```","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here is my short solution in PHP (Task Score: 100%, Correctness: 100%)</p>\n<pre><code>function solution($N) {\n    $gaps = array();\n    $s = explode('1', trim(decbin($N),'0'));\n    foreach($s as $g){\n        $gaps[] = strlen($g);\n    }\n    return max($gaps);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5900197,"reputation":147,"user_id":4643980,"display_name":"Sujan Mhrzn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621616868,"creation_date":1621616868,"answer_id":67641179,"question_id":40946025,"body_markdown":"For Javascript Here is my solution.\r\n\r\n   \r\n\r\n    function solution(N){\r\n          N = N.toString(2);\r\n          var totalOnes = 0;\r\n          var binaryGap = 0;\r\n          var binaryZero = 0;\r\n          const foundBinaryZero = []\r\n    \r\n          for(let i=0; i&lt;N.length; i++) {\r\n            if(N[i] &gt; 0) {\r\n                totalOnes++;   \r\n                foundBinaryZero.push(binaryZero);\r\n                binaryZero = 0;\r\n               \r\n            }else{\r\n                binaryGap = 0;\r\n                binaryZero = binaryZero + 1;\r\n              \r\n            }\r\n        }\r\n    \r\n        foundBinaryZero.sort();\r\n    \r\n    \r\n        return (foundBinaryZero[foundBinaryZero.length - 1]);\r\n    \r\n    }\r\n\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>For Javascript Here is my solution.</p>\n<pre><code>function solution(N){\n      N = N.toString(2);\n      var totalOnes = 0;\n      var binaryGap = 0;\n      var binaryZero = 0;\n      const foundBinaryZero = []\n\n      for(let i=0; i&lt;N.length; i++) {\n        if(N[i] &gt; 0) {\n            totalOnes++;   \n            foundBinaryZero.push(binaryZero);\n            binaryZero = 0;\n           \n        }else{\n            binaryGap = 0;\n            binaryZero = binaryZero + 1;\n          \n        }\n    }\n\n    foundBinaryZero.sort();\n\n\n    return (foundBinaryZero[foundBinaryZero.length - 1]);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1869152,"reputation":326,"user_id":1691850,"accept_rate":75,"display_name":"eattrig"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621622852,"creation_date":1621618831,"answer_id":67641590,"question_id":40946025,"body_markdown":"This solution does not convert the number to a binary String as that is unnecessary.  It looks at each bit from right to left starting with the first bit to the left of the first set bit (`1`).\r\n\r\n`n &amp; -n` returns a mask with only the rightmost bit of `n` set.  Multiplying that by 2 gives the next bit to the left, which is the appropriate place to start counting.\r\n\r\nFor each bit check (i.e. each iteration of the loop), it either increments or resets the `current` counter and uses that to track the maximum contiguous section found so far.\r\n\r\n    public int solution(int n) {\r\n        int max = 0;\r\n        for (int mask = (n &amp; -n) * 2, current = 0; mask &lt; n; mask &lt;&lt;= 1)\r\n            max = Math.max(max, (n &amp; mask) == 0 ? ++current : (current = 0));\r\n        return max;\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>This solution does not convert the number to a binary String as that is unnecessary.  It looks at each bit from right to left starting with the first bit to the left of the first set bit (<code>1</code>).</p>\n<p><code>n &amp; -n</code> returns a mask with only the rightmost bit of <code>n</code> set.  Multiplying that by 2 gives the next bit to the left, which is the appropriate place to start counting.</p>\n<p>For each bit check (i.e. each iteration of the loop), it either increments or resets the <code>current</code> counter and uses that to track the maximum contiguous section found so far.</p>\n<pre><code>public int solution(int n) {\n    int max = 0;\n    for (int mask = (n &amp; -n) * 2, current = 0; mask &lt; n; mask &lt;&lt;= 1)\n        max = Math.max(max, (n &amp; mask) == 0 ? ++current : (current = 0));\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15703012,"reputation":43,"user_id":11330607,"display_name":"Amresh Vs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623223207,"creation_date":1623223207,"answer_id":67899355,"question_id":40946025,"body_markdown":"Simplest code from all the above, Codility 100% Correctness and score, Verified!\r\n\r\nThe solution in Javascript:\r\n\r\n    function solution(N) {\r\n      let binaryValue = (N &gt;&gt;&gt; 0).toString(2);\r\n    \r\n      let lengthArr = [];\r\n      let length = 1;\r\n    \r\n      for(let i = 0; i &lt; binaryValue.length; i++){\r\n        if(binaryValue[i] == 0){\r\n          // Check if 1 is ending then push the lenght to array and reset the length\r\n          if(binaryValue[i + 1] == 1){\r\n            lengthArr.push(length);\r\n            length = 0;\r\n          }\r\n    \r\n          length++;\r\n        }\r\n      }\r\n    \r\n      return lengthArr.length ? Math.max(...lengthArr) : 0;\r\n    \r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Simplest code from all the above, Codility 100% Correctness and score, Verified!</p>\n<p>The solution in Javascript:</p>\n<pre><code>function solution(N) {\n  let binaryValue = (N &gt;&gt;&gt; 0).toString(2);\n\n  let lengthArr = [];\n  let length = 1;\n\n  for(let i = 0; i &lt; binaryValue.length; i++){\n    if(binaryValue[i] == 0){\n      // Check if 1 is ending then push the lenght to array and reset the length\n      if(binaryValue[i + 1] == 1){\n        lengthArr.push(length);\n        length = 0;\n      }\n\n      length++;\n    }\n  }\n\n  return lengthArr.length ? Math.max(...lengthArr) : 0;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8821115,"reputation":1,"user_id":6590965,"display_name":"Haris Azam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623702195,"creation_date":1623702195,"answer_id":67976745,"question_id":40946025,"body_markdown":"&gt; A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N.\r\n\r\nHi everyone, I have just solved this problem, hope fully it will help you all. \r\n\r\n```class Solution {\r\n    public int solution(int N) {\r\n          \r\n        String toBinary = Integer.toBinaryString(N);\r\n        char[] ch = toBinary.toCharArray();\r\n        int maxCount = 0;\r\n        int count = 0;\r\n        boolean flag = false;\r\n          \r\n        for(int i=0; i &lt; ch.length; i++){\r\n            if(ch[i] == &#39;1&#39;){\r\n                if(count &gt; maxCount){\r\n                 maxCount = count;\r\n                }\r\n             count = 0;\r\n            } else\r\n              count ++;\r\n        }\r\n         return maxCount;\r\n    }\r\n}","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<blockquote>\n<p>A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N.</p>\n</blockquote>\n<p>Hi everyone, I have just solved this problem, hope fully it will help you all.</p>\n<pre><code>    public int solution(int N) {\n          \n        String toBinary = Integer.toBinaryString(N);\n        char[] ch = toBinary.toCharArray();\n        int maxCount = 0;\n        int count = 0;\n        boolean flag = false;\n          \n        for(int i=0; i &lt; ch.length; i++){\n            if(ch[i] == '1'){\n                if(count &gt; maxCount){\n                 maxCount = count;\n                }\n             count = 0;\n            } else\n              count ++;\n        }\n         return maxCount;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5880104,"reputation":1,"user_id":4629791,"display_name":"Vinod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630947810,"creation_date":1630947810,"answer_id":69078111,"question_id":40946025,"body_markdown":"I added this solution and the Codility score is 100%.\r\n\r\n    public int solution(int N) {\r\n\t\tString s = Integer.toBinaryString(N);\r\n\t\ts = removeTrailingZeros(s);\r\n\t\tSystem.out.println(s);\r\n\t\tString arrayBinary[] = s.split(&quot;1&quot;);\r\n\t\tint x = 0;\r\n\t\tfor (String abc : arrayBinary) {\r\n\t\t\tif (abc.length() &gt; x)\r\n\t\t\t\tx = abc.length();\r\n\t\t}\r\n\t\treturn x;\r\n\t}\r\n\r\n\tprivate String removeTrailingZeros(String s) {\r\n\t\tif (s.endsWith(&quot;0&quot;)) {\r\n\t\t\ts = s.substring(0, s.length() - 1);\r\n\t\t\treturn removeTrailingZeros(s);\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\r\n[Executed test sets][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PiPot.png","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>I added this solution and the Codility score is 100%.</p>\n<pre><code>public int solution(int N) {\n    String s = Integer.toBinaryString(N);\n    s = removeTrailingZeros(s);\n    System.out.println(s);\n    String arrayBinary[] = s.split(&quot;1&quot;);\n    int x = 0;\n    for (String abc : arrayBinary) {\n        if (abc.length() &gt; x)\n            x = abc.length();\n    }\n    return x;\n}\n\nprivate String removeTrailingZeros(String s) {\n    if (s.endsWith(&quot;0&quot;)) {\n        s = s.substring(0, s.length() - 1);\n        return removeTrailingZeros(s);\n    }\n    return s;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PiPot.png\" rel=\"nofollow noreferrer\">Executed test sets</a></p>\n"},{"tags":[],"owner":{"account_id":18005173,"reputation":11696,"user_id":13086128,"display_name":"Goku - stands with Palestine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636562878,"creation_date":1636562878,"answer_id":69917131,"question_id":40946025,"body_markdown":"**A one-liner in Python:\r\nTask Score 100%, Correctness 100%**\r\n\r\n    def solution(N):\r\n        b=bin(N)[2:]\r\n        return len(max(b.strip(&#39;0&#39;).split(&#39;1&#39;))) \r\n    # here strip will remove all trailing 0&#39;s and split will create a list with splitting 1&#39;s and combining 0&#39;s which are together.","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p><strong>A one-liner in Python:\nTask Score 100%, Correctness 100%</strong></p>\n<pre><code>def solution(N):\n    b=bin(N)[2:]\n    return len(max(b.strip('0').split('1'))) \n# here strip will remove all trailing 0's and split will create a list with splitting 1's and combining 0's which are together.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4580505,"reputation":874,"user_id":3717658,"accept_rate":80,"display_name":"Naqib Hakimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642895235,"creation_date":1642895235,"answer_id":70818079,"question_id":40946025,"body_markdown":"If binary number ends with `0` then `number % 2 == 0` otherwise `number % 2 == 1`, using this rule we can solve it very easily.\r\n\r\n    \r\n    def solution(N: int):\r\n      prev = 0\r\n      current = 0\r\n      \r\n      # remove leading zeros\r\n      while N % 2 == 0:\r\n        N &gt;&gt;= 1\r\n\r\n      # shift to right until its reaches 1\r\n      while N != 1:\r\n      \r\n        if N % 2 == 0:\r\n          current += 1\r\n        else:\r\n          prev = max(current, prev)\r\n          current = 0\r\n    \r\n        N &gt;&gt;= 1\r\n      return max(prev , current)\r\n\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>If binary number ends with <code>0</code> then <code>number % 2 == 0</code> otherwise <code>number % 2 == 1</code>, using this rule we can solve it very easily.</p>\n<pre><code>def solution(N: int):\n  prev = 0\n  current = 0\n  \n  # remove leading zeros\n  while N % 2 == 0:\n    N &gt;&gt;= 1\n\n  # shift to right until its reaches 1\n  while N != 1:\n  \n    if N % 2 == 0:\n      current += 1\n    else:\n      prev = max(current, prev)\n      current = 0\n\n    N &gt;&gt;= 1\n  return max(prev , current)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18907312,"reputation":1734,"user_id":13794189,"display_name":"Miguel Tom&#225;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648570955,"creation_date":1648569514,"answer_id":71665258,"question_id":40946025,"body_markdown":"Here&#39;s a possible solution for the Binary Gap in Java 11 (codility test) \r\n\r\n\r\n\r\n    class Solution {\r\n        public int solution(int N) {\r\n            // write your code in Java SE 11\r\n            String binN= Integer.toBinaryString(N);\r\n             \r\n            int counter=0;\r\n            int maxCount=0;\r\n            \r\n            boolean enableCounter=false;\r\n            char prevChar= binN.charAt(0);\r\n    \r\n            for(int i=1 ; i &lt; binN.length()-1; i++){\r\n                if(prevChar==&#39;1&#39;){\r\n                    enableCounter=true;\r\n                }\r\n                \r\n                if (binN.charAt(i)==&#39;0&#39; &amp;&amp; enableCounter){\r\n                    counter++;\r\n                                \r\n                    if (binN.charAt(i+1)==&#39;1&#39;){\r\n                       if(counter&gt;maxCount){\r\n                           maxCount=counter;\r\n                       } \r\n                        counter=0;\r\n                    }\r\n                }\r\n                prevChar=binN.charAt(i);\r\n            }\r\n            \r\n            return maxCount;\r\n        }\r\n    }\r\n\r\n","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here's a possible solution for the Binary Gap in Java 11 (codility test)</p>\n<pre><code>class Solution {\n    public int solution(int N) {\n        // write your code in Java SE 11\n        String binN= Integer.toBinaryString(N);\n         \n        int counter=0;\n        int maxCount=0;\n        \n        boolean enableCounter=false;\n        char prevChar= binN.charAt(0);\n\n        for(int i=1 ; i &lt; binN.length()-1; i++){\n            if(prevChar=='1'){\n                enableCounter=true;\n            }\n            \n            if (binN.charAt(i)=='0' &amp;&amp; enableCounter){\n                counter++;\n                            \n                if (binN.charAt(i+1)=='1'){\n                   if(counter&gt;maxCount){\n                       maxCount=counter;\n                   } \n                    counter=0;\n                }\n            }\n            prevChar=binN.charAt(i);\n        }\n        \n        return maxCount;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17993959,"reputation":29,"user_id":13077440,"display_name":"Kiki Sasha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650213464,"creation_date":1650213464,"answer_id":71903654,"question_id":40946025,"body_markdown":"Here&#39;s a working code 100% in swift :)\r\n\r\n    public func solution(_ N : Int) -&gt; Int {\r\n        let str = String(N, radix: 2)\r\n        if str.contains(&quot;1&quot;) &amp;&amp; str.contains(&quot;0&quot;) {\r\n            if str.split(separator: &quot;0&quot;).count != 1 {\r\n                if str.last == &quot;0&quot; {\r\n                    return str.split(separator: &quot;1&quot;).dropLast().max()!.count\r\n                }\r\n                return str.split(separator: &quot;1&quot;).max()!.count\r\n            }\r\n        }\r\n        return 0\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Here's a working code 100% in swift :)</p>\n<pre><code>public func solution(_ N : Int) -&gt; Int {\n    let str = String(N, radix: 2)\n    if str.contains(&quot;1&quot;) &amp;&amp; str.contains(&quot;0&quot;) {\n        if str.split(separator: &quot;0&quot;).count != 1 {\n            if str.last == &quot;0&quot; {\n                return str.split(separator: &quot;1&quot;).dropLast().max()!.count\n            }\n            return str.split(separator: &quot;1&quot;).max()!.count\n        }\n    }\n    return 0\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20684131,"reputation":775,"user_id":15186994,"display_name":"Waad Mawlood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652453481,"creation_date":1652453481,"answer_id":72231527,"question_id":40946025,"body_markdown":"**In PHP**\r\n\r\n    function solution($N) {\r\n     $bin = decbin($N);\r\n     $gap = [];\r\n     $len = strlen($bin);\r\n     $startCount = 0;\r\n     $endCount = 0;\r\n\r\n     $startCount = strpos($bin,&#39;0&#39;);\r\n    \r\n     if(! $startCount)\r\n         return 0;\r\n\r\n     while($startCount){\r\n         $endCount = strpos($bin,&#39;1&#39;,$startCount);\r\n        \r\n         if(! $endCount)\r\n             break;\r\n\r\n         $sub = substr($bin,$startCount,$endCount - $startCount);\r\n         array_push($gap,strlen($sub));\r\n        \r\n         $startCount = strpos($bin,&#39;0&#39;,$endCount);   \r\n     }\r\n\r\n     $sum = 0;\r\n     if(count($gap)&gt;0)\r\n         return max($gap);\r\n     else\r\n         return 0;\r\n    }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p><strong>In PHP</strong></p>\n<pre><code>function solution($N) {\n $bin = decbin($N);\n $gap = [];\n $len = strlen($bin);\n $startCount = 0;\n $endCount = 0;\n\n $startCount = strpos($bin,'0');\n\n if(! $startCount)\n     return 0;\n\n while($startCount){\n     $endCount = strpos($bin,'1',$startCount);\n    \n     if(! $endCount)\n         break;\n\n     $sub = substr($bin,$startCount,$endCount - $startCount);\n     array_push($gap,strlen($sub));\n    \n     $startCount = strpos($bin,'0',$endCount);   \n }\n\n $sum = 0;\n if(count($gap)&gt;0)\n     return max($gap);\n else\n     return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8754349,"reputation":21,"user_id":6546390,"display_name":"Prerana Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689786493,"creation_date":1689489084,"answer_id":76696971,"question_id":40946025,"body_markdown":"Below is my solution in Java. Task score , correctness=100%\r\n```java\r\nclass Solution {\r\n    public int solution(int N) {\r\n        // Implement your solution here\r\n        int maxGap=0;\r\n        boolean patternStarts=false;\r\n        boolean patternEnds=false;\r\n        int countZero=0;\r\n        int startIndex=0;\r\n        int endIndex=0;\r\n        String binary=Integer.toBinaryString(N);\r\n        for(int i=0;i&lt;binary.length()-1;i++){\r\n            if(binary.charAt(i)==&#39;1&#39; &amp;&amp; binary.charAt(i+1)==&#39;0&#39;){\r\n                patternStarts=true;\r\n                startIndex=i+1;\r\n\r\n            }\r\n            if(patternStarts &amp;&amp; binary.charAt(i+1)==&#39;1&#39;){\r\n                patternEnds=true;\r\n                endIndex=i;\r\n                maxGap++;\r\n                int count=endIndex-startIndex+1;\r\n                countZero=Integer.max(count,countZero);\r\n                patternStarts=false;patternEnds=false;\r\n            }      \r\n        }\r\n        return countZero;\r\n    }\r\n}\r\n```","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>Below is my solution in Java. Task score , correctness=100%</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public int solution(int N) {\n        // Implement your solution here\n        int maxGap=0;\n        boolean patternStarts=false;\n        boolean patternEnds=false;\n        int countZero=0;\n        int startIndex=0;\n        int endIndex=0;\n        String binary=Integer.toBinaryString(N);\n        for(int i=0;i&lt;binary.length()-1;i++){\n            if(binary.charAt(i)=='1' &amp;&amp; binary.charAt(i+1)=='0'){\n                patternStarts=true;\n                startIndex=i+1;\n\n            }\n            if(patternStarts &amp;&amp; binary.charAt(i+1)=='1'){\n                patternEnds=true;\n                endIndex=i;\n                maxGap++;\n                int count=endIndex-startIndex+1;\n                countZero=Integer.max(count,countZero);\n                patternStarts=false;patternEnds=false;\n            }      \n        }\n        return countZero;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1879131,"reputation":301,"user_id":1699708,"accept_rate":86,"display_name":"Vimal Panchal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27068,"favorite_count":0,"down_vote_count":7,"up_vote_count":9,"accepted_answer_id":40947033,"answer_count":32,"score":2,"last_activity_date":1689786493,"creation_date":1480755635,"question_id":40946025,"body_markdown":"A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N.\r\n\r\nFor example, number 9 has binary representation 1001 and contains a binary gap of length 2. The number 529 has binary representation 1000010001 and contains two binary gaps: one of length 4 and one of length 3. The number 20 has binary representation 10100 and contains one binary gap of length 1. The number 15 has binary representation 1111 and has no binary gaps.\r\n\r\nWrite a function:\r\n\r\nint solution(int N);\r\nthat, given a positive integer N, returns the length of its longest binary gap. The function should return 0 if N doesn&#39;t contain a binary gap.\r\n\r\nFor example, given N = 1041 the function should return 5, because N has binary representation 10000010001 and so its longest binary gap is of length 5.\r\n\r\n \r\n\r\n    public int solution(int n) {\r\n            // write your code in Java SE 8\r\n            String binaryRep = Integer.toBinaryString(n);\r\n            System.out.println(&quot;Binary Representation of &quot; + n + &quot; = &quot; + binaryRep);\r\n            List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\n            int count = 0;\r\n            for (int i = 0; i &lt; binaryRep.length(); i++) { // Loop through the each number \r\n                String str = binaryRep.charAt(i) + &quot;&quot;; // getting one by one number\r\n                if(str.equals(&quot;0&quot;)){\r\n                    for(int j = i;j&lt;binaryRep.length();j++){ //Get each next element\r\n                        String str1 = binaryRep.charAt(j) + &quot;&quot;;\r\n                        if(!str.equals(&quot;1&quot;) &amp;&amp;  str.equals(str1)){\r\n                            if(!strList.isEmpty() &amp;&amp; count &gt;= strList.size()){\r\n                                strList.add(str1);\r\n                            }else if(strList.isEmpty()){\r\n                                strList.add(str1);\r\n                            }\r\n                            count ++; \r\n                        }else{\r\n                            count = 0;\r\n                            break;\r\n                        }\r\n                    }\r\n               }   \r\n            }\r\n            return strList.size();\r\n        }","title":"Is my code solution for Binary Gap is correct or not? What should I improved in that?","body":"<p>A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N.</p>\n\n<p>For example, number 9 has binary representation 1001 and contains a binary gap of length 2. The number 529 has binary representation 1000010001 and contains two binary gaps: one of length 4 and one of length 3. The number 20 has binary representation 10100 and contains one binary gap of length 1. The number 15 has binary representation 1111 and has no binary gaps.</p>\n\n<p>Write a function:</p>\n\n<p>int solution(int N);\nthat, given a positive integer N, returns the length of its longest binary gap. The function should return 0 if N doesn't contain a binary gap.</p>\n\n<p>For example, given N = 1041 the function should return 5, because N has binary representation 10000010001 and so its longest binary gap is of length 5.</p>\n\n<pre><code>public int solution(int n) {\n        // write your code in Java SE 8\n        String binaryRep = Integer.toBinaryString(n);\n        System.out.println(\"Binary Representation of \" + n + \" = \" + binaryRep);\n        List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\n        int count = 0;\n        for (int i = 0; i &lt; binaryRep.length(); i++) { // Loop through the each number \n            String str = binaryRep.charAt(i) + \"\"; // getting one by one number\n            if(str.equals(\"0\")){\n                for(int j = i;j&lt;binaryRep.length();j++){ //Get each next element\n                    String str1 = binaryRep.charAt(j) + \"\";\n                    if(!str.equals(\"1\") &amp;&amp;  str.equals(str1)){\n                        if(!strList.isEmpty() &amp;&amp; count &gt;= strList.size()){\n                            strList.add(str1);\n                        }else if(strList.isEmpty()){\n                            strList.add(str1);\n                        }\n                        count ++; \n                    }else{\n                        count = 0;\n                        break;\n                    }\n                }\n           }   \n        }\n        return strList.size();\n    }\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":2,"creation_date":1300447365,"post_id":5351108,"comment_id":6043632,"body_markdown":"Beware that Java itself is case-sensitive so there may be 2 different fields which have same name when you do .toLowercase() on the name!","body":"Beware that Java itself is case-sensitive so there may be 2 different fields which have same name when you do .toLowercase() on the name!"},{"owner":{"account_id":294407,"reputation":263,"user_id":598293,"accept_rate":88,"display_name":"GoofyHTS"},"score":0,"creation_date":1300451117,"post_id":5351108,"comment_id":6044459,"body_markdown":"I&#39;m aware of that, but in my case it&#39;s guaranteed not to happen","body":"I&#39;m aware of that, but in my case it&#39;s guaranteed not to happen"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1300446831,"creation_date":1300446831,"answer_id":5351147,"question_id":5351108,"body_markdown":"Just use [`Class.getDeclaredFields()`][1] and look through the results performing a case-insensitive match yourself.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredFields%28%29","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>Just use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredFields%28%29\"><code>Class.getDeclaredFields()</code></a> and look through the results performing a case-insensitive match yourself.</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300446877,"creation_date":1300446877,"answer_id":5351155,"question_id":5351108,"body_markdown":"The only way I see is to iterate over all declared fields and compare the names case-insensitively to the field name you are looking for.","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>The only way I see is to iterate over all declared fields and compare the names case-insensitively to the field name you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":89589,"reputation":21149,"user_id":247090,"accept_rate":79,"display_name":"drekka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300446877,"creation_date":1300446877,"answer_id":5351157,"question_id":5351108,"body_markdown":"Get a list of all declared fields and manually go through them in a loop doing a case insensitive comparison on the name.","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>Get a list of all declared fields and manually go through them in a loop doing a case insensitive comparison on the name.</p>\n"},{"tags":[],"owner":{"account_id":116185,"reputation":7719,"user_id":304778,"accept_rate":74,"display_name":"secmask"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1300447039,"creation_date":1300447039,"answer_id":5351182,"question_id":5351108,"body_markdown":"No, there&#39;s no such way. You can get all fields and search through them:\r\n\r\n    Field[] fields = src.getClass().getDeclaredFields();\r\n    for(Field f:fields){\r\n        if(f.getName().equalsIgnoreCase(&quot;myfield&quot;)){\r\n        //stuff.\r\n        }\r\n    }","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>No, there's no such way. You can get all fields and search through them:</p>\n\n<pre><code>Field[] fields = src.getClass().getDeclaredFields();\nfor(Field f:fields){\n    if(f.getName().equalsIgnoreCase(\"myfield\")){\n    //stuff.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308110,"reputation":1740,"user_id":619789,"accept_rate":80,"display_name":"Danilo Tommasina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300453034,"creation_date":1300447108,"answer_id":5351195,"question_id":5351108,"body_markdown":"No, there is no direct way of doing this, however you could create a helper method for doing this.\r\ne.g. (untested)\r\n\r\n    public Field getDeclaredFieldIngoreCase( Class&lt;?&gt; clazz, String fieldName ) throws NoSuchFieldException {\r\n    \r\n    \t    for( Field field : clazz.getDeclaredFields() ) {\r\n    \t        if ( field.getName().equalsIgnoreCase( fieldName ) ) {\r\n    \t            return field;\r\n    \t        }\r\n    \t    }\r\n    \t    throw new NoSuchFieldException( fieldName );\r\n    }","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>No, there is no direct way of doing this, however you could create a helper method for doing this.\ne.g. (untested)</p>\n\n<pre><code>public Field getDeclaredFieldIngoreCase( Class&lt;?&gt; clazz, String fieldName ) throws NoSuchFieldException {\n\n        for( Field field : clazz.getDeclaredFields() ) {\n            if ( field.getName().equalsIgnoreCase( fieldName ) ) {\n                return field;\n            }\n        }\n        throw new NoSuchFieldException( fieldName );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7478901,"reputation":454,"user_id":5684326,"accept_rate":50,"display_name":"jdmneon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524527363,"creation_date":1524527363,"answer_id":49991474,"question_id":5351108,"body_markdown":"I don&#39;t mean to necro this thread but if you used any of the methods above inside a loop your performance will be awful. Create map beforehand\r\n\r\nfirst take the item your search for to uppercase\r\n     \r\n    item.getKey()\r\n\r\nnow create a map that has the uppercase version and the true fieldnames\r\n    \r\n    Map&lt;String, String&gt; fieldNames = Arrays.asList(clazz.getDeclaredFields()).stream().collect(Collectors.toMap(t -&gt; t.getName().toUpperCase(), f-&gt;f.getName()));\r\n\r\nnow use that to grab the true fieldname\r\n\r\n      Field field = clazz.getDeclaredField(fieldNames.get(key));\r\n\r\nI would say always create such a map, always consider performance when it comes to reflection.\r\n          ","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>I don't mean to necro this thread but if you used any of the methods above inside a loop your performance will be awful. Create map beforehand</p>\n\n<p>first take the item your search for to uppercase</p>\n\n<pre><code>item.getKey()\n</code></pre>\n\n<p>now create a map that has the uppercase version and the true fieldnames</p>\n\n<pre><code>Map&lt;String, String&gt; fieldNames = Arrays.asList(clazz.getDeclaredFields()).stream().collect(Collectors.toMap(t -&gt; t.getName().toUpperCase(), f-&gt;f.getName()));\n</code></pre>\n\n<p>now use that to grab the true fieldname</p>\n\n<pre><code>  Field field = clazz.getDeclaredField(fieldNames.get(key));\n</code></pre>\n\n<p>I would say always create such a map, always consider performance when it comes to reflection.</p>\n"},{"tags":[],"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536844451,"creation_date":1536844451,"answer_id":52314548,"question_id":5351108,"body_markdown":"Best to try to get field with fieldName if does not exist then loop through list of fields\r\n\r\n    public static Field findFieldIgnoreCase(Class&lt;?&gt; clazz, String fieldName) throws SecurityException, NoSuchFieldException {\r\n\t\ttry {\r\n\t\t\treturn clazz.getDeclaredField(fieldName);\r\n\t\t} catch (NoSuchFieldException e) {\r\n\t\t\tField[] fields = clazz.getDeclaredFields();\r\n\t\t\tfor (Field field : fields) {\r\n\t\t\t\tif (field.getName().equalsIgnoreCase(fieldName)) {\r\n\t\t\t\t\treturn field;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthrow new NoSuchFieldException(fieldName);\r\n\t\t}\r\n\t}","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>Best to try to get field with fieldName if does not exist then loop through list of fields</p>\n\n<pre><code>public static Field findFieldIgnoreCase(Class&lt;?&gt; clazz, String fieldName) throws SecurityException, NoSuchFieldException {\n    try {\n        return clazz.getDeclaredField(fieldName);\n    } catch (NoSuchFieldException e) {\n        Field[] fields = clazz.getDeclaredFields();\n        for (Field field : fields) {\n            if (field.getName().equalsIgnoreCase(fieldName)) {\n                return field;\n            }\n        }\n        throw new NoSuchFieldException(fieldName);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7478901,"reputation":454,"user_id":5684326,"accept_rate":50,"display_name":"jdmneon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689786393,"creation_date":1689786393,"answer_id":76723678,"question_id":5351108,"body_markdown":"One thing to remember is to save the results of getDeclaredFields() this way you are only doing the reflection once use equalsIgnoreCase when you iterate. Reflection slows things down sometimes over 100x so anything you only have to do once, do once. \r\n```\r\nField[] fields = MyClass.class.getDeclaredFields();\r\nField myField = null;\r\nfor (Field field : fields) {\r\n    if (field.getName().equalsIgnoreCase(&quot;myField&quot;)) {\r\n        myField = field;\r\n        break;\r\n    }\r\n}\r\nif (myField != null) {\r\n    // do what you want with the found field\r\n} else {\r\n    //the field was not found and you wont get an error\r\n}\r\n```","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>One thing to remember is to save the results of getDeclaredFields() this way you are only doing the reflection once use equalsIgnoreCase when you iterate. Reflection slows things down sometimes over 100x so anything you only have to do once, do once.</p>\n<pre><code>Field[] fields = MyClass.class.getDeclaredFields();\nField myField = null;\nfor (Field field : fields) {\n    if (field.getName().equalsIgnoreCase(&quot;myField&quot;)) {\n        myField = field;\n        break;\n    }\n}\nif (myField != null) {\n    // do what you want with the found field\n} else {\n    //the field was not found and you wont get an error\n}\n</code></pre>\n"}],"owner":{"account_id":294407,"reputation":263,"user_id":598293,"accept_rate":88,"display_name":"GoofyHTS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11671,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5351147,"answer_count":8,"score":8,"last_activity_date":1689786393,"creation_date":1300446668,"question_id":5351108,"body_markdown":"Let&#39;s say I have a class with a string field named &quot;myfield&quot;, and use reflection to get the field, I&#39;ve found that `Object.getClass().getDeclaredField(&quot;myfield&quot;);` is case sensitive, it will throw an `NoSuchFieldException` if I for example use `Object.getClass().getDeclaredField(&quot;MyField&quot;);`\r\n\r\nIs there any way around it? forcing it to ignore case?\r\n\r\nThanks","title":"Java Reflection, Ignore case when using GetDeclaredField","body":"<p>Let's say I have a class with a string field named \"myfield\", and use reflection to get the field, I've found that <code>Object.getClass().getDeclaredField(\"myfield\");</code> is case sensitive, it will throw an <code>NoSuchFieldException</code> if I for example use <code>Object.getClass().getDeclaredField(\"MyField\");</code></p>\n\n<p>Is there any way around it? forcing it to ignore case?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","servlet-filters","tomcat9"],"comments":[{"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"score":0,"creation_date":1689323612,"post_id":76681245,"comment_id":135200152,"body_markdown":"You can&#39;t see it in the browser because the header is modified only on the server side. Why do you want to add a header to the request in the first place?","body":"You can&#39;t see it in the browser because the header is modified only on the server side. Why do you want to add a header to the request in the first place?"},{"owner":{"account_id":8740804,"reputation":19,"user_id":6537945,"display_name":"Timothy Ward"},"score":0,"creation_date":1689338836,"post_id":76681245,"comment_id":135203144,"body_markdown":"I have something that I need to pick in as a CGI Environment Variable and was told that if I modified and put it in the header, I should be able to see it.","body":"I have something that I need to pick in as a CGI Environment Variable and was told that if I modified and put it in the header, I should be able to see it."}],"answers":[{"tags":[],"owner":{"account_id":8740804,"reputation":19,"user_id":6537945,"display_name":"Timothy Ward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689785975,"creation_date":1689785975,"answer_id":76723640,"question_id":76681245,"body_markdown":"Had to add the following to the MutableHttpServletRequest.java:\r\n\r\n\r\nimport java.util.Optional;\r\n\r\n    @Override\r\n    public Enumeration&lt;String&gt; getHeaders(String name) {\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n        Optional.ofNullable(customHeaders.get(name)).ifPresent(h -&gt; set.add(h));\r\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaders(name);\r\n        while (e.hasMoreElements()) {\r\n            // add the names of the request headers into the list\r\n            String n = e.nextElement();\r\n            set.add(n);\r\n        }\r\n        Optional.ofNullable(customHeaders.get(name)).ifPresent(h -&gt; set.add(h));\r\n        return Collections.enumeration(set);\r\n    }","title":"Does anyone have Adding Custom Headers to Java HttpServletRequest actually working in a Filter?","body":"<p>Had to add the following to the MutableHttpServletRequest.java:</p>\n<p>import java.util.Optional;</p>\n<pre><code>@Override\npublic Enumeration&lt;String&gt; getHeaders(String name) {\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    Optional.ofNullable(customHeaders.get(name)).ifPresent(h -&gt; set.add(h));\n    Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaders(name);\n    while (e.hasMoreElements()) {\n        // add the names of the request headers into the list\n        String n = e.nextElement();\n        set.add(n);\n    }\n    Optional.ofNullable(customHeaders.get(name)).ifPresent(h -&gt; set.add(h));\n    return Collections.enumeration(set);\n}\n</code></pre>\n"}],"owner":{"account_id":8740804,"reputation":19,"user_id":6537945,"display_name":"Timothy Ward"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689785975,"creation_date":1689263249,"question_id":76681245,"body_markdown":"I&#39;ve tried using the following code:\r\n\r\n[Adding custom headers to Java HttpServletRequest](https://wilddiary.com/adding-custom-headers-java-httpservletrequest/)\r\n\r\nIn a Filter under Tomcat 9 but my values are not being put in the request headers.\r\n\r\nI&#39;ve added the Filter mapping to the root web.xml.\r\n\r\nI know it&#39;s using the Filter because I also print values to stdout while I&#39;m in there.\r\n\r\n\r\nChecking the headers in the browser, I don&#39;t see the custom values.","title":"Does anyone have Adding Custom Headers to Java HttpServletRequest actually working in a Filter?","body":"<p>I've tried using the following code:</p>\n<p><a href=\"https://wilddiary.com/adding-custom-headers-java-httpservletrequest/\" rel=\"nofollow noreferrer\">Adding custom headers to Java HttpServletRequest</a></p>\n<p>In a Filter under Tomcat 9 but my values are not being put in the request headers.</p>\n<p>I've added the Filter mapping to the root web.xml.</p>\n<p>I know it's using the Filter because I also print values to stdout while I'm in there.</p>\n<p>Checking the headers in the browser, I don't see the custom values.</p>\n"},{"tags":["java","ignite","gridgain"],"answers":[{"tags":[],"owner":{"account_id":22737062,"reputation":33,"user_id":16899118,"display_name":"kashif sayeed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652426441,"creation_date":1652426441,"answer_id":72225781,"question_id":72225384,"body_markdown":"I resoved it by Editing my create table statment as below\r\n\r\n    cache.query(new SqlFieldsQuery(&quot;CREATE TABLE person (id BIGINT, name VARCHAR, city_id BIGINT, PRIMARY KEY (id, city_id)) &quot; + &quot;WITH \\&quot;backups=1, affinity_key=city_id, CACHE_NAME=Person,key_type=PersonKey, value_type=MyPerson\\&quot;&quot;)).getAll();\r\n\r\nnotice I now assigned custom names to Key and Value\r\n\r\n\r\n\r\nI also fixed issues with function createPersonKey as below\r\n\r\n\r\n    private static BinaryObject createPersonKey(Long id, Long city_id, Ignite ignite) {\r\n            BinaryObjectBuilder builder = ignite.binary().builder(&quot;PersonKey&quot;);\r\n            builder.setField(&quot;id&quot;, id);\r\n            builder.setField(&quot;city_id&quot;, city_id);\r\n            return builder.build();\r\n        } \r\n\r\n\r\n","title":"Apache Ignite No data inserted while using cache.put method with BinaryObjects","body":"<p>I resoved it by Editing my create table statment as below</p>\n<pre><code>cache.query(new SqlFieldsQuery(&quot;CREATE TABLE person (id BIGINT, name VARCHAR, city_id BIGINT, PRIMARY KEY (id, city_id)) &quot; + &quot;WITH \\&quot;backups=1, affinity_key=city_id, CACHE_NAME=Person,key_type=PersonKey, value_type=MyPerson\\&quot;&quot;)).getAll();\n</code></pre>\n<p>notice I now assigned custom names to Key and Value</p>\n<p>I also fixed issues with function createPersonKey as below</p>\n<pre><code>private static BinaryObject createPersonKey(Long id, Long city_id, Ignite ignite) {\n        BinaryObjectBuilder builder = ignite.binary().builder(&quot;PersonKey&quot;);\n        builder.setField(&quot;id&quot;, id);\n        builder.setField(&quot;city_id&quot;, city_id);\n        return builder.build();\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5254061,"reputation":130,"user_id":4197403,"display_name":"J&#246;rg B&#228;chtiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689785343,"creation_date":1689785343,"answer_id":76723578,"question_id":72225384,"body_markdown":"There is another bug in the code above. The type name &quot;value-type1&quot; in createPersonVal must be &quot;MyPerson&quot; as stated in the create table statement.\r\n\r\n```\r\n    private static BinaryObject createPersonVal(String name,Ignite ignite) {\r\n        BinaryObjectBuilder builder = ignite.binary().builder(&quot;MyPerson&quot;);\r\n        builder.setField(&quot;name&quot;, name);\r\n\r\n        return builder.build();\r\n    }\r\n```","title":"Apache Ignite No data inserted while using cache.put method with BinaryObjects","body":"<p>There is another bug in the code above. The type name &quot;value-type1&quot; in createPersonVal must be &quot;MyPerson&quot; as stated in the create table statement.</p>\n<pre><code>    private static BinaryObject createPersonVal(String name,Ignite ignite) {\n        BinaryObjectBuilder builder = ignite.binary().builder(&quot;MyPerson&quot;);\n        builder.setField(&quot;name&quot;, name);\n\n        return builder.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":22737062,"reputation":33,"user_id":16899118,"display_name":"kashif sayeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689785343,"creation_date":1652423973,"question_id":72225384,"body_markdown":"After going through several posts on getting and putting data into a SQL table in appche ignite with the help of BinaryObjects I wrote below code for a test. The code run successfully without any error but no data get inserted using BinaryObjects. \r\n\r\nIt is puzzling why cache.put is not working when BinaryObjects are used\r\n\r\n``` package ign.ignitebin;\r\n\r\nimport java.io.Serializable;\r\nimport java.math.BigInteger;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.apache.ignite.Ignite;\r\nimport org.apache.ignite.IgniteCache;\r\nimport org.apache.ignite.Ignition;\r\nimport org.apache.ignite.binary.BinaryObject;\r\nimport org.apache.ignite.binary.BinaryObjectBuilder;\r\nimport org.apache.ignite.cache.query.QueryCursor;\r\nimport org.apache.ignite.cache.query.SqlFieldsQuery;\r\nimport org.apache.ignite.configuration.CacheConfiguration;\r\nimport org.apache.ignite.configuration.IgniteConfiguration;\r\nimport org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi;\r\nimport org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder;\r\n\r\npublic class BinaryPutExample {\r\n    private static void print(String msg) {\r\n        System.out.println();\r\n        System.out.println(&quot;&gt;&gt;&gt; &quot; + msg);\r\n    }\r\n    private static final String DUMMY_CACHE_NAME = &quot;dummy_cache&quot;;\r\n    \r\n\r\n    public static void putBinaryData() {\r\n        IgniteConfiguration cfg= new IgniteConfiguration();\r\n        cfg.setPeerClassLoadingEnabled(true);\r\n        Ignition.setClientMode(true);\r\n        TcpDiscoverySpi discoverySpi = new TcpDiscoverySpi();\r\n        TcpDiscoveryVmIpFinder ipFinder = new TcpDiscoveryVmIpFinder();\r\n        \r\n        ipFinder.setAddresses(Arrays.asList(&quot;127.0.0.1:47500..47509&quot;));\r\n        \r\n        discoverySpi.setIpFinder(ipFinder);\r\n        \r\n        discoverySpi.setJoinTimeout(1000);\r\n        discoverySpi.setClientReconnectDisabled(false);\r\n        \r\n        cfg.setDiscoverySpi(discoverySpi);\r\n        try(Ignite ignite = Ignition.getOrStart(cfg)){\r\n            CacheConfiguration&lt;?, ?&gt; cacheCfg = new CacheConfiguration&lt;&gt;(DUMMY_CACHE_NAME).setSqlSchema(&quot;PUBLIC&quot;);\r\n\r\n            try (\r\n                IgniteCache&lt;?, ?&gt; cache = ignite.getOrCreateCache(cacheCfg)\r\n            ) {\r\n                // Create reference City table based on REPLICATED template.\r\n                cache.query(new SqlFieldsQuery(\r\n                    &quot;CREATE TABLE city (id BIGINT PRIMARY KEY, name VARCHAR) WITH \\&quot;template=replicated, CACHE_NAME=City\\&quot;&quot;)).getAll();\r\n\r\n                // Create table based on PARTITIONED template with one backup.\r\n                cache.query(new SqlFieldsQuery(\r\n                    &quot;CREATE TABLE person (id BIGINT, name VARCHAR, city_id BIGINT, PRIMARY KEY (id, city_id)) &quot; +\r\n                    &quot;WITH \\&quot;backups=1, affinity_key=city_id, CACHE_NAME=Person\\&quot;&quot;)).getAll();\r\n\r\n                // Create an index.\r\n                cache.query(new SqlFieldsQuery(&quot;CREATE INDEX person_idx ON Person (city_id)&quot;)).getAll();\r\n\r\n                print(&quot;Created database objects.&quot;);\r\n\r\n                SqlFieldsQuery qry = new SqlFieldsQuery(&quot;INSERT INTO city (id, name) VALUES (?, ?)&quot;);\r\n\r\n                cache.query(qry.setArgs(1L, &quot;Forest Hill&quot;)).getAll();\r\n                cache.query(qry.setArgs(2L, &quot;Denver&quot;)).getAll();\r\n                cache.query(qry.setArgs(3L, &quot;St. Petersburg&quot;)).getAll();\r\n\r\n                qry = new SqlFieldsQuery(&quot;INSERT INTO person (id, name, city_id) values (?, ?, ?)&quot;);\r\n\r\n                cache.query(qry.setArgs(1L, &quot;John Doe&quot;, 3L)).getAll();\r\n                cache.query(qry.setArgs(2L, &quot;Jane Roe&quot;, 2L)).getAll();\r\n                cache.query(qry.setArgs(3L, &quot;Mary Major&quot;, 1L)).getAll();\r\n                cache.query(qry.setArgs(4L, &quot;Richard Miles&quot;, 2L)).getAll();\r\n\r\n                print(&quot;Populated data.&quot;);\r\n\r\n                List&lt;List&lt;?&gt;&gt; res = cache.query(new SqlFieldsQuery(\r\n                    &quot;SELECT p.name, c.name FROM Person p INNER JOIN City c on c.id = p.city_id&quot;)).getAll();\r\n\r\n                print(&quot;Query results:&quot;);\r\n\r\n                for (Object next : res)\r\n                    System.out.println(&quot;&gt;&gt;&gt;    &quot; + next);\r\n\r\n                print(&quot;test binaries&quot;);\r\n\r\n                \r\n\r\n                \r\n                IgniteCache&lt;BinaryObject, BinaryObject&gt; bincache = ignite.cache(&quot;Person&quot;).withKeepBinary();\r\n\r\n                \r\n                \r\n                print(&quot;put some data using BinaryObject&quot;);\r\n                \r\n\r\n                bincache.put(createPersonKey(5, 3,ignite), createPersonVal(&quot;person5&quot;,ignite));\r\n                bincache.put(createPersonKey(6, 2,ignite), createPersonVal(&quot;person6&quot;,ignite));\r\n                bincache.put(createPersonKey(7, 1,ignite), createPersonVal(&quot;person7&quot;,ignite));\r\n                \r\n\r\n                print(&quot;Query results after binary addition :&quot;);\r\n                res = cache.query(new SqlFieldsQuery(\r\n                    &quot;SELECT p.name, c.name FROM Person p INNER JOIN City c on c.id = p.city_id&quot;)).getAll();\r\n         \r\n\r\n                for (Object next : res)\r\n                    System.out.println(&quot;&gt;&gt;&gt;    &quot; + next);\r\n\r\n                print(&quot;Bin Query results after binary addition :&quot;);\r\n                SqlFieldsQuery sql = new SqlFieldsQuery(\r\n                    &quot;select _key,_val from Person &quot;);\r\n                \r\n                try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = bincache.query(sql)) {\r\n                    for (List&lt;?&gt; row :  cursor) {\r\n                        BinaryObject p = (BinaryObject) row.get(0);\r\n                        System.out.println(p);\r\n                    }\r\n                } \r\n\r\n\r\n\r\n                cache.query(new SqlFieldsQuery(&quot;drop table Person&quot;)).getAll();\r\n                cache.query(new SqlFieldsQuery(&quot;drop table City&quot;)).getAll();\r\n\r\n                print(&quot;Dropped database objects.&quot;);\r\n            }\r\n            finally {\r\n                // Distributed cache can be removed from cluster only by #destroyCache() call.\r\n                ignite.destroyCache(DUMMY_CACHE_NAME);\r\n            }\r\n            \r\n        };\r\n        \r\n    }\r\n    private static BinaryObject createPersonKey(Integer id, Integer city_id, Ignite ignite) {\r\n        BinaryObjectBuilder builder = ignite.binary().builder(&quot;key-type1&quot;);\r\n        builder.setField(&quot;id&quot;, id);\r\n        builder.setField(&quot;city_id&quot;, city_id);\r\n        return builder.build();\r\n    }\r\n    private static BinaryObject createPersonVal(String name,Ignite ignite) {\r\n        BinaryObjectBuilder builder = ignite.binary().builder(&quot;value-type1&quot;);\r\n        builder.setField(&quot;name&quot;, name);\r\n        \r\n        return builder.build();\r\n    }\r\n    \r\n}\r\n```\r\n","title":"Apache Ignite No data inserted while using cache.put method with BinaryObjects","body":"<p>After going through several posts on getting and putting data into a SQL table in appche ignite with the help of BinaryObjects I wrote below code for a test. The code run successfully without any error but no data get inserted using BinaryObjects.</p>\n<p>It is puzzling why cache.put is not working when BinaryObjects are used</p>\n<pre><code>\nimport java.io.Serializable;\nimport java.math.BigInteger;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.apache.ignite.Ignite;\nimport org.apache.ignite.IgniteCache;\nimport org.apache.ignite.Ignition;\nimport org.apache.ignite.binary.BinaryObject;\nimport org.apache.ignite.binary.BinaryObjectBuilder;\nimport org.apache.ignite.cache.query.QueryCursor;\nimport org.apache.ignite.cache.query.SqlFieldsQuery;\nimport org.apache.ignite.configuration.CacheConfiguration;\nimport org.apache.ignite.configuration.IgniteConfiguration;\nimport org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi;\nimport org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder;\n\npublic class BinaryPutExample {\n    private static void print(String msg) {\n        System.out.println();\n        System.out.println(&quot;&gt;&gt;&gt; &quot; + msg);\n    }\n    private static final String DUMMY_CACHE_NAME = &quot;dummy_cache&quot;;\n    \n\n    public static void putBinaryData() {\n        IgniteConfiguration cfg= new IgniteConfiguration();\n        cfg.setPeerClassLoadingEnabled(true);\n        Ignition.setClientMode(true);\n        TcpDiscoverySpi discoverySpi = new TcpDiscoverySpi();\n        TcpDiscoveryVmIpFinder ipFinder = new TcpDiscoveryVmIpFinder();\n        \n        ipFinder.setAddresses(Arrays.asList(&quot;127.0.0.1:47500..47509&quot;));\n        \n        discoverySpi.setIpFinder(ipFinder);\n        \n        discoverySpi.setJoinTimeout(1000);\n        discoverySpi.setClientReconnectDisabled(false);\n        \n        cfg.setDiscoverySpi(discoverySpi);\n        try(Ignite ignite = Ignition.getOrStart(cfg)){\n            CacheConfiguration&lt;?, ?&gt; cacheCfg = new CacheConfiguration&lt;&gt;(DUMMY_CACHE_NAME).setSqlSchema(&quot;PUBLIC&quot;);\n\n            try (\n                IgniteCache&lt;?, ?&gt; cache = ignite.getOrCreateCache(cacheCfg)\n            ) {\n                // Create reference City table based on REPLICATED template.\n                cache.query(new SqlFieldsQuery(\n                    &quot;CREATE TABLE city (id BIGINT PRIMARY KEY, name VARCHAR) WITH \\&quot;template=replicated, CACHE_NAME=City\\&quot;&quot;)).getAll();\n\n                // Create table based on PARTITIONED template with one backup.\n                cache.query(new SqlFieldsQuery(\n                    &quot;CREATE TABLE person (id BIGINT, name VARCHAR, city_id BIGINT, PRIMARY KEY (id, city_id)) &quot; +\n                    &quot;WITH \\&quot;backups=1, affinity_key=city_id, CACHE_NAME=Person\\&quot;&quot;)).getAll();\n\n                // Create an index.\n                cache.query(new SqlFieldsQuery(&quot;CREATE INDEX person_idx ON Person (city_id)&quot;)).getAll();\n\n                print(&quot;Created database objects.&quot;);\n\n                SqlFieldsQuery qry = new SqlFieldsQuery(&quot;INSERT INTO city (id, name) VALUES (?, ?)&quot;);\n\n                cache.query(qry.setArgs(1L, &quot;Forest Hill&quot;)).getAll();\n                cache.query(qry.setArgs(2L, &quot;Denver&quot;)).getAll();\n                cache.query(qry.setArgs(3L, &quot;St. Petersburg&quot;)).getAll();\n\n                qry = new SqlFieldsQuery(&quot;INSERT INTO person (id, name, city_id) values (?, ?, ?)&quot;);\n\n                cache.query(qry.setArgs(1L, &quot;John Doe&quot;, 3L)).getAll();\n                cache.query(qry.setArgs(2L, &quot;Jane Roe&quot;, 2L)).getAll();\n                cache.query(qry.setArgs(3L, &quot;Mary Major&quot;, 1L)).getAll();\n                cache.query(qry.setArgs(4L, &quot;Richard Miles&quot;, 2L)).getAll();\n\n                print(&quot;Populated data.&quot;);\n\n                List&lt;List&lt;?&gt;&gt; res = cache.query(new SqlFieldsQuery(\n                    &quot;SELECT p.name, c.name FROM Person p INNER JOIN City c on c.id = p.city_id&quot;)).getAll();\n\n                print(&quot;Query results:&quot;);\n\n                for (Object next : res)\n                    System.out.println(&quot;&gt;&gt;&gt;    &quot; + next);\n\n                print(&quot;test binaries&quot;);\n\n                \n\n                \n                IgniteCache&lt;BinaryObject, BinaryObject&gt; bincache = ignite.cache(&quot;Person&quot;).withKeepBinary();\n\n                \n                \n                print(&quot;put some data using BinaryObject&quot;);\n                \n\n                bincache.put(createPersonKey(5, 3,ignite), createPersonVal(&quot;person5&quot;,ignite));\n                bincache.put(createPersonKey(6, 2,ignite), createPersonVal(&quot;person6&quot;,ignite));\n                bincache.put(createPersonKey(7, 1,ignite), createPersonVal(&quot;person7&quot;,ignite));\n                \n\n                print(&quot;Query results after binary addition :&quot;);\n                res = cache.query(new SqlFieldsQuery(\n                    &quot;SELECT p.name, c.name FROM Person p INNER JOIN City c on c.id = p.city_id&quot;)).getAll();\n         \n\n                for (Object next : res)\n                    System.out.println(&quot;&gt;&gt;&gt;    &quot; + next);\n\n                print(&quot;Bin Query results after binary addition :&quot;);\n                SqlFieldsQuery sql = new SqlFieldsQuery(\n                    &quot;select _key,_val from Person &quot;);\n                \n                try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = bincache.query(sql)) {\n                    for (List&lt;?&gt; row :  cursor) {\n                        BinaryObject p = (BinaryObject) row.get(0);\n                        System.out.println(p);\n                    }\n                } \n\n\n\n                cache.query(new SqlFieldsQuery(&quot;drop table Person&quot;)).getAll();\n                cache.query(new SqlFieldsQuery(&quot;drop table City&quot;)).getAll();\n\n                print(&quot;Dropped database objects.&quot;);\n            }\n            finally {\n                // Distributed cache can be removed from cluster only by #destroyCache() call.\n                ignite.destroyCache(DUMMY_CACHE_NAME);\n            }\n            \n        };\n        \n    }\n    private static BinaryObject createPersonKey(Integer id, Integer city_id, Ignite ignite) {\n        BinaryObjectBuilder builder = ignite.binary().builder(&quot;key-type1&quot;);\n        builder.setField(&quot;id&quot;, id);\n        builder.setField(&quot;city_id&quot;, city_id);\n        return builder.build();\n    }\n    private static BinaryObject createPersonVal(String name,Ignite ignite) {\n        BinaryObjectBuilder builder = ignite.binary().builder(&quot;value-type1&quot;);\n        builder.setField(&quot;name&quot;, name);\n        \n        return builder.build();\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","hibernate","google-app-engine","google-cloud-platform"],"comments":[{"owner":{"account_id":948320,"reputation":5144,"user_id":975074,"accept_rate":40,"display_name":"suztomo"},"score":0,"creation_date":1569428667,"post_id":58096767,"comment_id":102596868,"body_markdown":"Interesting problem. Would you create an example (GitHub) project to reproduce this issue?","body":"Interesting problem. Would you create an example (GitHub) project to reproduce this issue?"},{"owner":{"account_id":7475656,"reputation":329,"user_id":5682185,"display_name":"lourdu rajan"},"score":0,"creation_date":1569508382,"post_id":58096767,"comment_id":102627214,"body_markdown":"Hi suztomo, I am preparing on it (few things need to do such as hiding credentials) and will share it to you asap. Also, I am new to the Github, so yet to look on how to update the code in github with public access. Is it ok for you to share the code over Google drive.","body":"Hi suztomo, I am preparing on it (few things need to do such as hiding credentials) and will share it to you asap. Also, I am new to the Github, so yet to look on how to update the code in github with public access. Is it ok for you to share the code over Google drive."},{"owner":{"account_id":948320,"reputation":5144,"user_id":975074,"accept_rate":40,"display_name":"suztomo"},"score":0,"creation_date":1569509628,"post_id":58096767,"comment_id":102627976,"body_markdown":"Yes, any place people can download is good.","body":"Yes, any place people can download is good."}],"answers":[{"tags":[],"owner":{"account_id":10811168,"reputation":119,"user_id":7951710,"display_name":"KingDSL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689785060,"creation_date":1689785060,"answer_id":76723543,"question_id":58096767,"body_markdown":"I know this is a pretty old question, but as I was facing the same issue, this may be related to a Java version problem. Your hibernate version could be incompatible with your current JRE, and that&#39;s the reason why the HibernateEntityManagerFactory cannot be found.\r\n\r\n\r\nI hope this answer can be helpful.","title":"AppEngine Standard Java code Deploy - java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernateEntityManagerFactory","body":"<p>I know this is a pretty old question, but as I was facing the same issue, this may be related to a Java version problem. Your hibernate version could be incompatible with your current JRE, and that's the reason why the HibernateEntityManagerFactory cannot be found.</p>\n<p>I hope this answer can be helpful.</p>\n"}],"owner":{"account_id":7475656,"reputation":329,"user_id":5682185,"display_name":"lourdu rajan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689785060,"creation_date":1569408755,"question_id":58096767,"body_markdown":"While trying to run AppEngine stadard Java code (which is run successfully 3 months back), using ```mvn appengine:run``` then got error. So tried the steps mentioned in my other [stackoverflow case][1]. After changed all dependencies to their latest version (few major changes like hibernate 3 to hibernate 6 version), then got java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernateEntityManagerFactory.\r\n\r\nProblem I noted that &quot;hibernate-entitymanager&quot; is not available in  &quot;hibernate-core&quot; atrifact, so I got error like class &quot;org/hibernate/jpa/HibernateEntityManagerFactory&quot; not found. This  &quot;hibernate-entitymanager&quot; artifact has been moved to &quot;hibernate-core&quot; atrifact in recent version, as per mvn repository information. But when I use the org.hibernate.orm -&gt; hibernate-core dependency in POM file, then got error, also I couldn&#39;t find the hibernate-entitymanager dependency inside of that artifact. So want to know what is the alternative dependency to get the  hibernate-entitymanager class or where to get it.\r\n\r\nBelow is the detailed error log as highlighted, \r\n\r\n```\r\n[INFO] GCLOUD: Sep 24, 2019 9:47:52 AM com.google.appengine.tools.development.ApiProxyLocalImpl log\r\n[INFO] GCLOUD: INFO: javax.servlet.ServletContext log: No Spring WebApplicationInitializer types detected on classpath\r\n[INFO] GCLOUD: Sep 24, 2019 9:47:52 AM com.google.appengine.tools.development.ApiProxyLocalImpl log\r\n[INFO] GCLOUD: INFO: javax.servlet.ServletContext log: Initializing Spring root WebApplicationContext\r\n[INFO] GCLOUD: 2019-09-24 15:17:56.171:WARN:oejw.WebAppContext:main: Failed startup of context c.g.a.t.d.j.DevAppEngineWebAppContext@c3177d5{/,file:///C:/Lourdu/Development/RBR/target/rbr-1/,UNAVAILABLE}{C:\\Lourdu\\Development\\RBR\\target\\rbr-1}\r\n[INFO] GCLOUD: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/jpaContext.xml]: Cannot create inner bean &#39;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter#ddf20fd&#39; of type [org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter] while setting bean property &#39;jpaVendorAdapter&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter#ddf20fd&#39; defined in ServletContext resource [/WEB-INF/jpaContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernateEntityManagerFactory\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:361)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:124)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1681)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n[INFO] GCLOUD: \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\r\n[INFO] GCLOUD: \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n[INFO] GCLOUD: \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n[INFO] GCLOUD: \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:400)\r\n[INFO] GCLOUD: \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\r\n[INFO] GCLOUD: \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:957)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:553)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:922)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:365)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1497)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1459)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:852)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:278)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:545)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.Server.start(Server.java:418)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.Server.doStart(Server.java:382)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:343)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:283)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:26)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:87)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.Modules.startup(Modules.java:105)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:282)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:47)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:223)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:221)\r\n[INFO] GCLOUD: \tat java.security.AccessController.doPrivileged(Native Method)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:221)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:404)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:45)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:257)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:248)\r\n[INFO] GCLOUD: Caused by: \r\n[INFO] GCLOUD: java.lang.ClassNotFoundException: org.hibernate.jpa.HibernateEntityManagerFactory\r\n[INFO] GCLOUD: \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n[INFO] GCLOUD: \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:208)\r\n[INFO] GCLOUD: \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n[INFO] GCLOUD: \tat org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.&lt;init&gt;(HibernateJpaVendorAdapter.java:82)\r\n[INFO] GCLOUD: \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n[INFO] GCLOUD: \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n[INFO] GCLOUD: \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n[INFO] GCLOUD: \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n[INFO] GCLOUD: \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:346)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:124)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1681)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n[INFO] GCLOUD: \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n[INFO] GCLOUD: \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\r\n[INFO] GCLOUD: \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n[INFO] GCLOUD: \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n[INFO] GCLOUD: \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:400)\r\n[INFO] GCLOUD: \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\r\n[INFO] GCLOUD: \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:957)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:553)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:922)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:365)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1497)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1459)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:852)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:278)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:545)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.Server.start(Server.java:418)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.server.Server.doStart(Server.java:382)\r\n[INFO] GCLOUD: \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:343)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:283)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:26)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:87)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.Modules.startup(Modules.java:105)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:282)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:47)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:223)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:221)\r\n[INFO] GCLOUD: \tat java.security.AccessController.doPrivileged(Native Method)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:221)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:404)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:45)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:257)\r\n[INFO] GCLOUD: \tat com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:248)\r\n[INFO] GCLOUD: 2019-09-24 15:17:56.178:INFO:oejs.session:main: DefaultSessionIdManager workerName=node0\r\n[INFO] GCLOUD: 2019-09-24 15:17:56.178:INFO:oejs.session:main: node0 Scavenging disabled\r\n[INFO] GCLOUD: 2019-09-24 15:17:56.204:INFO:oejs.AbstractConnector:main: Started NetworkTrafficSelectChannelConnector@56235b8e{HTTP/1.1,[http/1.1]}{localhost:8080}\r\n[INFO] GCLOUD: 2019-09-24 15:17:56.206:INFO:oejs.Server:main: Started @8847ms\r\n[INFO] GCLOUD: Sep 24, 2019 9:47:56 AM com.google.appengine.tools.development.AbstractModule startup\r\n[INFO] GCLOUD: INFO: Module instance default is running at http://localhost:8080/\r\n[INFO] GCLOUD: Sep 24, 2019 9:47:56 AM com.google.appengine.tools.development.AbstractModule startup\r\n[INFO] GCLOUD: INFO: The admin console is running at http://localhost:8080/_ah/admin\r\n[INFO] GCLOUD: Sep 24, 2019 3:17:56 PM com.google.appengine.tools.development.DevAppServerImpl doStart\r\n[INFO] GCLOUD: INFO: Dev App Server is now running\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57873567/appengine-standard-java-code-deploy-getting-java-lang-noclassdeffounderror-org/58058452?noredirect=1#comment102584649_58058452","title":"AppEngine Standard Java code Deploy - java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernateEntityManagerFactory","body":"<p>While trying to run AppEngine stadard Java code (which is run successfully 3 months back), using <code>mvn appengine:run</code> then got error. So tried the steps mentioned in my other <a href=\"https://stackoverflow.com/questions/57873567/appengine-standard-java-code-deploy-getting-java-lang-noclassdeffounderror-org/58058452?noredirect=1#comment102584649_58058452\">stackoverflow case</a>. After changed all dependencies to their latest version (few major changes like hibernate 3 to hibernate 6 version), then got java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernateEntityManagerFactory.</p>\n\n<p>Problem I noted that \"hibernate-entitymanager\" is not available in  \"hibernate-core\" atrifact, so I got error like class \"org/hibernate/jpa/HibernateEntityManagerFactory\" not found. This  \"hibernate-entitymanager\" artifact has been moved to \"hibernate-core\" atrifact in recent version, as per mvn repository information. But when I use the org.hibernate.orm -> hibernate-core dependency in POM file, then got error, also I couldn't find the hibernate-entitymanager dependency inside of that artifact. So want to know what is the alternative dependency to get the  hibernate-entitymanager class or where to get it.</p>\n\n<p>Below is the detailed error log as highlighted, </p>\n\n<pre><code>[INFO] GCLOUD: Sep 24, 2019 9:47:52 AM com.google.appengine.tools.development.ApiProxyLocalImpl log\n[INFO] GCLOUD: INFO: javax.servlet.ServletContext log: No Spring WebApplicationInitializer types detected on classpath\n[INFO] GCLOUD: Sep 24, 2019 9:47:52 AM com.google.appengine.tools.development.ApiProxyLocalImpl log\n[INFO] GCLOUD: INFO: javax.servlet.ServletContext log: Initializing Spring root WebApplicationContext\n[INFO] GCLOUD: 2019-09-24 15:17:56.171:WARN:oejw.WebAppContext:main: Failed startup of context c.g.a.t.d.j.DevAppEngineWebAppContext@c3177d5{/,file:///C:/Lourdu/Development/RBR/target/rbr-1/,UNAVAILABLE}{C:\\Lourdu\\Development\\RBR\\target\\rbr-1}\n[INFO] GCLOUD: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/jpaContext.xml]: Cannot create inner bean 'org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter#ddf20fd' of type [org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter] while setting bean property 'jpaVendorAdapter'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter#ddf20fd' defined in ServletContext resource [/WEB-INF/jpaContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernateEntityManagerFactory\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:361)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:124)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1681)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n[INFO] GCLOUD:  at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\n[INFO] GCLOUD:  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n[INFO] GCLOUD:  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n[INFO] GCLOUD:  at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:400)\n[INFO] GCLOUD:  at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\n[INFO] GCLOUD:  at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:957)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:553)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:922)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:365)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1497)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1459)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:852)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:278)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:545)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.Server.start(Server.java:418)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.Server.doStart(Server.java:382)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:343)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:283)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:26)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:87)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.Modules.startup(Modules.java:105)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:282)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:47)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:223)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:221)\n[INFO] GCLOUD:  at java.security.AccessController.doPrivileged(Native Method)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:221)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:404)\n[INFO] GCLOUD:  at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:45)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:257)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:248)\n[INFO] GCLOUD: Caused by: \n[INFO] GCLOUD: java.lang.ClassNotFoundException: org.hibernate.jpa.HibernateEntityManagerFactory\n[INFO] GCLOUD:  at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n[INFO] GCLOUD:  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:208)\n[INFO] GCLOUD:  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n[INFO] GCLOUD:  at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.&lt;init&gt;(HibernateJpaVendorAdapter.java:82)\n[INFO] GCLOUD:  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[INFO] GCLOUD:  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n[INFO] GCLOUD:  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n[INFO] GCLOUD:  at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n[INFO] GCLOUD:  at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:346)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:124)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1681)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1433)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n[INFO] GCLOUD:  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n[INFO] GCLOUD:  at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\n[INFO] GCLOUD:  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n[INFO] GCLOUD:  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n[INFO] GCLOUD:  at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:400)\n[INFO] GCLOUD:  at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\n[INFO] GCLOUD:  at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:957)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:553)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:922)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:365)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1497)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1459)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:852)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:278)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:545)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.Server.start(Server.java:418)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.Server.doStart(Server.java:382)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:343)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:283)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:26)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:87)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.Modules.startup(Modules.java:105)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:282)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:47)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:223)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:221)\n[INFO] GCLOUD:  at java.security.AccessController.doPrivileged(Native Method)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:221)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:404)\n[INFO] GCLOUD:  at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:45)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:257)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:248)\n[INFO] GCLOUD: 2019-09-24 15:17:56.178:INFO:oejs.session:main: DefaultSessionIdManager workerName=node0\n[INFO] GCLOUD: 2019-09-24 15:17:56.178:INFO:oejs.session:main: node0 Scavenging disabled\n[INFO] GCLOUD: 2019-09-24 15:17:56.204:INFO:oejs.AbstractConnector:main: Started NetworkTrafficSelectChannelConnector@56235b8e{HTTP/1.1,[http/1.1]}{localhost:8080}\n[INFO] GCLOUD: 2019-09-24 15:17:56.206:INFO:oejs.Server:main: Started @8847ms\n[INFO] GCLOUD: Sep 24, 2019 9:47:56 AM com.google.appengine.tools.development.AbstractModule startup\n[INFO] GCLOUD: INFO: Module instance default is running at http://localhost:8080/\n[INFO] GCLOUD: Sep 24, 2019 9:47:56 AM com.google.appengine.tools.development.AbstractModule startup\n[INFO] GCLOUD: INFO: The admin console is running at http://localhost:8080/_ah/admin\n[INFO] GCLOUD: Sep 24, 2019 3:17:56 PM com.google.appengine.tools.development.DevAppServerImpl doStart\n[INFO] GCLOUD: INFO: Dev App Server is now running\n\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":22398549,"reputation":1,"user_id":16681636,"display_name":"Alison Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689784711,"creation_date":1689784711,"question_id":76723493,"body_markdown":"I can get the password (not encrypted) through OncePerRequestFilter, however, I would like to get it in a normal class of type @Controller. Follow the code.\r\n\r\nMy Form:\r\n\r\n    &lt;form action=&quot;/security/login&quot; method=&quot;post&quot;&gt;\r\n\r\n      &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot; placeholder=&quot;username&quot; required&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot; placeholder=&quot;password&quot; required&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Acessar&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\nThe class I currently use to get the information after login:\r\n\r\n    public class CustomAuthenticationFilter extends OncePerRequestFilter {  \r\n\r\n    private String pass; \r\n    private String user;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n        throws ServletException, IOException {\r\n    \r\n    if (&quot;/security/login&quot;.equals(request.getRequestURI()) &amp;&amp; request.getMethod().equalsIgnoreCase(&quot;post&quot;)) {\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n        \r\n        if (username != null &amp;&amp; password != null) {\r\n            request.setAttribute(&quot;username&quot;, username);\r\n            request.setAttribute(&quot;password&quot;, password);\r\n            \r\n            user = username;\r\n            pass = password;\r\n            \r\n            login.setUsername(username);\r\n            System.out.println(&quot;User Login: &quot;+user+&quot; Password: &quot;+pass);\r\n        }\r\n    }        \r\n    chain.doFilter(request, response);\r\n    }","title":"Get username and password (Unencrypted) in Spring Security","body":"<p>I can get the password (not encrypted) through OncePerRequestFilter, however, I would like to get it in a normal class of type @Controller. Follow the code.</p>\n<p>My Form:</p>\n<pre><code>&lt;form action=&quot;/security/login&quot; method=&quot;post&quot;&gt;\n\n  &lt;div class=&quot;input-group mb-3&quot;&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot; placeholder=&quot;username&quot; required&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;input-group mb-3&quot;&gt;\n    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot; placeholder=&quot;password&quot; required&gt;\n  &lt;/div&gt;\n\n  &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Acessar&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>The class I currently use to get the information after login:</p>\n<pre><code>public class CustomAuthenticationFilter extends OncePerRequestFilter {  \n\nprivate String pass; \nprivate String user;\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n    throws ServletException, IOException {\n\nif (&quot;/security/login&quot;.equals(request.getRequestURI()) &amp;&amp; request.getMethod().equalsIgnoreCase(&quot;post&quot;)) {\n    String username = request.getParameter(&quot;username&quot;);\n    String password = request.getParameter(&quot;password&quot;);\n    \n    if (username != null &amp;&amp; password != null) {\n        request.setAttribute(&quot;username&quot;, username);\n        request.setAttribute(&quot;password&quot;, password);\n        \n        user = username;\n        pass = password;\n        \n        login.setUsername(username);\n        System.out.println(&quot;User Login: &quot;+user+&quot; Password: &quot;+pass);\n    }\n}        \nchain.doFilter(request, response);\n}\n</code></pre>\n"},{"tags":["java","macos","terminal"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":3,"creation_date":1364245646,"post_id":15624667,"comment_id":22164706,"body_markdown":"Java integration on Mac OSX is a ruinous mess atm, what with Apple discontinuing official support and Oracle not really knowing or caring how to integrate properly. If you can&#39;t find Java 7 in /Library/Java/JavaVirtualMachines then look in /System/Library/Frameworks/JavaVM.framework/Versions. It *should* be there, as a standalone directory or linked to `Current`.","body":"Java integration on Mac OSX is a ruinous mess atm, what with Apple discontinuing official support and Oracle not really knowing or caring how to integrate properly. If you can&#39;t find Java 7 in /Library/Java/JavaVirtualMachines then look in /System/Library/Frameworks/JavaVM.framework/Versions. It <i>should</i> be there, as a standalone directory or linked to <code>Current</code>."},{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":1,"creation_date":1364246413,"post_id":15624667,"comment_id":22165127,"body_markdown":"It is simple - Apple code and only Apple code is in /System, Third Party for all users are in /Library","body":"It is simple - Apple code and only Apple code is in /System, Third Party for all users are in /Library"},{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":0,"creation_date":1364246525,"post_id":15624667,"comment_id":22165193,"body_markdown":"@DGolberg - what exact Java did you install Oracle provides the JRE and the JDK","body":"@DGolberg - what exact Java did you install Oracle provides the JRE and the JDK"},{"owner":{"account_id":2074554,"reputation":2139,"user_id":1848286,"accept_rate":80,"display_name":"DGolberg"},"score":0,"creation_date":1364247296,"post_id":15624667,"comment_id":22165559,"body_markdown":"@Mark I installed the JRE","body":"@Mark I installed the JRE"},{"owner":{"account_id":2074554,"reputation":2139,"user_id":1848286,"accept_rate":80,"display_name":"DGolberg"},"score":0,"creation_date":1364247348,"post_id":15624667,"comment_id":22165580,"body_markdown":"I&#39;m trying to avoid installing the JDK as there was a weird issue in that code run on a machine with the JDK worked fine but a machine with the JRE it did not... but that&#39;s another topic in itself","body":"I&#39;m trying to avoid installing the JDK as there was a weird issue in that code run on a machine with the JDK worked fine but a machine with the JRE it did not... but that&#39;s another topic in itself"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1471636613,"post_id":15624667,"comment_id":65443479,"body_markdown":"As of Java 8 this should have improved much for Oracle Java.","body":"As of Java 8 this should have improved much for Oracle Java."}],"answers":[{"tags":[],"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1364246016,"creation_date":1364246016,"answer_id":15624880,"question_id":15624667,"body_markdown":"First, did you Quit the Console and open it again so it has chances of taking the changes in the PATH variable ?\r\n\r\nIf you&#39;ve already done this, then check which the default version of your Java is:\r\n\r\n    dwilches@ ~$ cd /System/Library/Frameworks/JavaVM.framework/Versions/\r\n    dwilches@ Versions$ ls -l\r\n    lrwxr-xr-x  1 root  wheel   59 Mar 19 10:07 CurrentJDK -&gt; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.6.0 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.6 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.5.0 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.5 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.4.2 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.4 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel    1 Mar 19 10:08 Current -&gt; A\r\n    drwxr-xr-x  8 root  wheel  272 Mar 25 10:03 A\r\n\r\nNow, you can see that the &quot;Current&quot; version is &quot;A&quot; (that&#39;s my Java7). If I would like to change it to Java 1.6 then I could write:\r\n\r\n    dwilches@ Versions$ sudo unlink Current\r\n    dwilches@ Versions$ sudo ln -s 1.6 Current\r\n\r\nAnd then:\r\n\r\n    dwilches@ Versions$ java -version\r\n    java version &quot;1.6.0_43&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_43-b01-447-11M4203)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20.14-b01-447, mixed mode)\r\n\r\nSo you may use this to make &quot;Current&quot; point to your desired Java location.\r\n","title":"Mac OSX Java Terminal version incorrect","body":"<p>First, did you Quit the Console and open it again so it has chances of taking the changes in the PATH variable ?</p>\n\n<p>If you've already done this, then check which the default version of your Java is:</p>\n\n<pre><code>dwilches@ ~$ cd /System/Library/Frameworks/JavaVM.framework/Versions/\ndwilches@ Versions$ ls -l\nlrwxr-xr-x  1 root  wheel   59 Mar 19 10:07 CurrentJDK -&gt; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents\nlrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.6.0 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.6 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.5.0 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.5 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.4.2 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 19 10:07 1.4 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel    1 Mar 19 10:08 Current -&gt; A\ndrwxr-xr-x  8 root  wheel  272 Mar 25 10:03 A\n</code></pre>\n\n<p>Now, you can see that the \"Current\" version is \"A\" (that's my Java7). If I would like to change it to Java 1.6 then I could write:</p>\n\n<pre><code>dwilches@ Versions$ sudo unlink Current\ndwilches@ Versions$ sudo ln -s 1.6 Current\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>dwilches@ Versions$ java -version\njava version \"1.6.0_43\"\nJava(TM) SE Runtime Environment (build 1.6.0_43-b01-447-11M4203)\nJava HotSpot(TM) 64-Bit Server VM (build 20.14-b01-447, mixed mode)\n</code></pre>\n\n<p>So you may use this to make \"Current\" point to your desired Java location.</p>\n"},{"tags":[],"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1364248031,"creation_date":1364248031,"answer_id":15625420,"question_id":15624667,"body_markdown":"The issue is that Oracle&#39;s JRE installation does not change the /usr/bin/java executable. If you want to use this Java you have to use the path under /Library (need to find what this is I have JDK install so could be different)\r\n\r\nAs per Oracle&#39;s JRE [installation document][1]\r\n\r\n&gt; Installing a JRE from Oracle will not update java -version symlinks or\r\n&gt; add java to your path. To be able to do this, you need to install the\r\n&gt; JDK.\r\n\r\nThe Oracle JDK does change `/usr/bin/java` to point to the Java 7 executable. If you are doing development then you should use this as it includes more than the JRE.\r\n\r\nThe Oracle [install FAQ][2] says\r\n\r\n&gt; Q: Should I install the JRE or the JDK?\r\n&gt; \r\n&gt; A: If you plan to run Java applications, install the Java Runtime\r\n&gt; Environment (JRE). The JRE is also referred to as Oracle Java. Once\r\n&gt; you have installed the JRE, you can launch Java applets and\r\n&gt; applications by double-clicking JAR files, JNLP files, and via the\r\n&gt; browser. Note that 32-bit browsers, such as Firefox in 32-bit mode,\r\n&gt; and Chrome, are not supported by the JRE.\r\n&gt; \r\n&gt; If you plan to write Java applications, install the Java Development\r\n&gt; Kit (JDK).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jre.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-install-faq.html","title":"Mac OSX Java Terminal version incorrect","body":"<p>The issue is that Oracle's JRE installation does not change the /usr/bin/java executable. If you want to use this Java you have to use the path under /Library (need to find what this is I have JDK install so could be different)</p>\n\n<p>As per Oracle's JRE <a href=\"http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jre.html\">installation document</a></p>\n\n<blockquote>\n  <p>Installing a JRE from Oracle will not update java -version symlinks or\n  add java to your path. To be able to do this, you need to install the\n  JDK.</p>\n</blockquote>\n\n<p>The Oracle JDK does change <code>/usr/bin/java</code> to point to the Java 7 executable. If you are doing development then you should use this as it includes more than the JRE.</p>\n\n<p>The Oracle <a href=\"http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-install-faq.html\">install FAQ</a> says</p>\n\n<blockquote>\n  <p>Q: Should I install the JRE or the JDK?</p>\n  \n  <p>A: If you plan to run Java applications, install the Java Runtime\n  Environment (JRE). The JRE is also referred to as Oracle Java. Once\n  you have installed the JRE, you can launch Java applets and\n  applications by double-clicking JAR files, JNLP files, and via the\n  browser. Note that 32-bit browsers, such as Firefox in 32-bit mode,\n  and Chrome, are not supported by the JRE.</p>\n  \n  <p>If you plan to write Java applications, install the Java Development\n  Kit (JDK).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"down_vote_count":0,"up_vote_count":136,"is_accepted":true,"score":136,"last_activity_date":1424478806,"creation_date":1364248641,"answer_id":15625591,"question_id":15624667,"body_markdown":"# JDK\r\n\r\nOn Mac OS, `/usr/bin/java` and friends are stubs that delegate to the real JDK commands.  These stubs respect the setting of your `JAVA_HOME` environment variable, but for this to work you need to install the _JDK_ (from http://www.oracle.com/technetwork/java/javase/downloads/index.html) as opposed to the _JRE_ (from http://java.com).\r\n\r\nThe JDK installs into `/Library/Java/JavaVirtualMachines/jdk1.7.0_NN.jdk` (for whatever value of NN), so set your `JAVA_HOME` environment variable to `/Library/Java/JavaVirtualMachines/jdk1.7.0_NN.jdk/Contents/Home` to make `/usr/bin/java` use 1.7.  You can switch back to 1.6 simply by pointing your `JAVA_HOME` to `/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home` instead.  You can use the `/usr/libexec/java_home` tool to find the right value automatically, for example to make `/usr/bin/java` use Java 7 you can do\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v &#39;1.7*&#39;`\r\n\r\nand to make it use Java 6 you can do\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v &#39;1.6*&#39;`\r\n\r\nThe same applies to Java 8 (using `-v &#39;1.8*&#39;`). This will pick up the latest installed JDK for the relevant major version, you don&#39;t need to remember to change the `NN` by hand when you install an update.\r\n\r\n# JRE\r\n\r\nIf you want to run the 1.7 or 1.8 _JRE_ from the command line, it can be found in `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java`. This is a fixed path and you can only have one &quot;public&quot; JRE installed at any given time.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    $ /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -version\r\n    java version &quot;1.7.0_13&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_13-b20)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode)\r\n\r\nYou could use a shell alias in your `.bashrc`\r\n\r\n    alias java_jre=&#39;/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java&#39;\r\n","title":"Mac OSX Java Terminal version incorrect","body":"<h1>JDK</h1>\n\n<p>On Mac OS, <code>/usr/bin/java</code> and friends are stubs that delegate to the real JDK commands.  These stubs respect the setting of your <code>JAVA_HOME</code> environment variable, but for this to work you need to install the <em>JDK</em> (from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>) as opposed to the <em>JRE</em> (from <a href=\"http://java.com\">http://java.com</a>).</p>\n\n<p>The JDK installs into <code>/Library/Java/JavaVirtualMachines/jdk1.7.0_NN.jdk</code> (for whatever value of NN), so set your <code>JAVA_HOME</code> environment variable to <code>/Library/Java/JavaVirtualMachines/jdk1.7.0_NN.jdk/Contents/Home</code> to make <code>/usr/bin/java</code> use 1.7.  You can switch back to 1.6 simply by pointing your <code>JAVA_HOME</code> to <code>/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home</code> instead.  You can use the <code>/usr/libexec/java_home</code> tool to find the right value automatically, for example to make <code>/usr/bin/java</code> use Java 7 you can do</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v '1.7*'`\n</code></pre>\n\n<p>and to make it use Java 6 you can do</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v '1.6*'`\n</code></pre>\n\n<p>The same applies to Java 8 (using <code>-v '1.8*'</code>). This will pick up the latest installed JDK for the relevant major version, you don't need to remember to change the <code>NN</code> by hand when you install an update.</p>\n\n<h1>JRE</h1>\n\n<p>If you want to run the 1.7 or 1.8 <em>JRE</em> from the command line, it can be found in <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java</code>. This is a fixed path and you can only have one \"public\" JRE installed at any given time.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -version\njava version \"1.7.0_13\"\nJava(TM) SE Runtime Environment (build 1.7.0_13-b20)\nJava HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode)\n</code></pre>\n\n<p>You could use a shell alias in your <code>.bashrc</code></p>\n\n<pre><code>alias java_jre='/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125911,"reputation":35039,"user_id":322020,"accept_rate":46,"display_name":"Nakilon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1384037762,"creation_date":1384037762,"answer_id":19884161,"question_id":15624667,"body_markdown":"Just like Ian said, but probably you want java7 to be called from .sh script, so you need a function instead of alias added to .bash_profile:\r\n\r\n    java7() {\r\n        /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java &quot;$@&quot;\r\n    }\r\n    export -f java7","title":"Mac OSX Java Terminal version incorrect","body":"<p>Just like Ian said, but probably you want java7 to be called from .sh script, so you need a function instead of alias added to .bash_profile:</p>\n\n<pre><code>java7() {\n    /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java \"$@\"\n}\nexport -f java7\n</code></pre>\n"}],"owner":{"account_id":2074554,"reputation":2139,"user_id":1848286,"accept_rate":80,"display_name":"DGolberg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84341,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":15625591,"answer_count":4,"score":63,"last_activity_date":1689784189,"creation_date":1364245230,"question_id":15624667,"body_markdown":"Ok, I&#39;m a bit new to Macs and OSX, but I picked one up so that I can do some troubleshooting on my Java programs with one since the company I work for uses a combination of OSX and Windows machines.  The problem I&#39;m running into is, when I install Java 7 from Oracle&#39;s website, it updates the preferences menu and appears to execute .jar files correctly when double-clicking them, but the terminal window&#39;s version is still 1.6.0_43 and running the same .jar file from the terminal results in runtime errors due to the older version.\r\n\r\nWhen I navigate to /Library/Java/JavaVirtualMachines/ I&#39;m presented with an empty folder.  From what I&#39;ve seen in other articles, this is where the Java 1.7.0&#39;s version folder should be.  Any idea what&#39;s going on?  How can I get the terminal to use the correct version of Java?\r\n\r\nEdit: @DWilches comment on his original answer: \r\n(1) \r\n\r\n    total 64\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.4 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.4.2 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.5 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.5.0 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.6 -&gt; CurrentJDK\r\n    lrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.6.0 -&gt; CurrentJDK\r\n    drwxr-xr-x  8 root  wheel  272 Mar 17 21:38 A\r\n    lrwxr-xr-x  1 root  wheel    1 Mar 17 21:38 Current -&gt; A\r\n    lrwxr-xr-x  1 root  wheel   59 Mar 17 21:38 CurrentJDK -&gt; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents\r\n\r\n(2)\r\n\r\n    ls -ld /usr/bin/java\r\n    lrwxr-xr-x  1 root  wheel  74 Mar 17 21:38 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\r\n\r\nEdit: sorry for the mistake with a new answer, gotten too used to sites that block edits of the original post after so long...","title":"Mac OSX Java Terminal version incorrect","body":"<p>Ok, I'm a bit new to Macs and OSX, but I picked one up so that I can do some troubleshooting on my Java programs with one since the company I work for uses a combination of OSX and Windows machines.  The problem I'm running into is, when I install Java 7 from Oracle's website, it updates the preferences menu and appears to execute .jar files correctly when double-clicking them, but the terminal window's version is still 1.6.0_43 and running the same .jar file from the terminal results in runtime errors due to the older version.</p>\n\n<p>When I navigate to /Library/Java/JavaVirtualMachines/ I'm presented with an empty folder.  From what I've seen in other articles, this is where the Java 1.7.0's version folder should be.  Any idea what's going on?  How can I get the terminal to use the correct version of Java?</p>\n\n<p>Edit: @DWilches comment on his original answer: \n(1) </p>\n\n<pre><code>total 64\nlrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.4 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.4.2 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.5 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.5.0 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.6 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 Mar 17 21:38 1.6.0 -&gt; CurrentJDK\ndrwxr-xr-x  8 root  wheel  272 Mar 17 21:38 A\nlrwxr-xr-x  1 root  wheel    1 Mar 17 21:38 Current -&gt; A\nlrwxr-xr-x  1 root  wheel   59 Mar 17 21:38 CurrentJDK -&gt; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents\n</code></pre>\n\n<p>(2)</p>\n\n<pre><code>ls -ld /usr/bin/java\nlrwxr-xr-x  1 root  wheel  74 Mar 17 21:38 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n</code></pre>\n\n<p>Edit: sorry for the mistake with a new answer, gotten too used to sites that block edits of the original post after so long...</p>\n"},{"tags":["java","python","macos","apache-spark","pyspark"],"comments":[{"owner":{"account_id":4541604,"reputation":2895,"user_id":3689314,"accept_rate":74,"display_name":"mt88"},"score":1,"creation_date":1438900785,"post_id":31841509,"comment_id":51653015,"body_markdown":"I resolved the above problem by downloading a different tarbll of spark.","body":"I resolved the above problem by downloading a different tarbll of spark."},{"owner":{"account_id":1767944,"reputation":740,"user_id":1613333,"display_name":"Vinod Kumar Chauhan"},"score":0,"creation_date":1441179920,"post_id":31841509,"comment_id":52568351,"body_markdown":"See my comments at-\nhttp://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po/32347328#32347328","body":"See my comments at- <a href=\"http://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po/32347328#32347328\" title=\"pyspark exception java gateway process exited before sending the driver its po\">stackoverflow.com/questions/31841509/&hellip;</a>"},{"owner":{"account_id":457464,"reputation":8040,"user_id":856804,"accept_rate":73,"display_name":"zyxue"},"score":0,"creation_date":1454270442,"post_id":31841509,"comment_id":57957849,"body_markdown":"In addition to @mt88&#39;s comment, spark-1.6.0-bin-without-hadoop.tgz produces the above exception, but spark-1.6.0-bin-hadoop2.6.tgz doesn&#39;t for me on Ubuntu 15.04","body":"In addition to @mt88&#39;s comment, spark-1.6.0-bin-without-hadoop.tgz produces the above exception, but spark-1.6.0-bin-hadoop2.6.tgz doesn&#39;t for me on Ubuntu 15.04"},{"owner":{"account_id":7465314,"reputation":2473,"user_id":5675130,"accept_rate":45,"display_name":"lfk"},"score":0,"creation_date":1519778731,"post_id":31841509,"comment_id":85045705,"body_markdown":"@zyxue I&#39;m also using Spark 2.2.1 without Hadoop. Do you think that&#39;s the cause?","body":"@zyxue I&#39;m also using Spark 2.2.1 without Hadoop. Do you think that&#39;s the cause?"},{"owner":{"account_id":457464,"reputation":8040,"user_id":856804,"accept_rate":73,"display_name":"zyxue"},"score":0,"creation_date":1519784258,"post_id":31841509,"comment_id":85047215,"body_markdown":"@lfk, not sure of your question, you could just try and see","body":"@lfk, not sure of your question, you could just try and see"},{"owner":{"account_id":7465314,"reputation":2473,"user_id":5675130,"accept_rate":45,"display_name":"lfk"},"score":0,"creation_date":1519794141,"post_id":31841509,"comment_id":85049603,"body_markdown":"@zyxue I&#39;ll have to build Spark in that case as the pre built version comes with 2.7 and I need 3","body":"@zyxue I&#39;ll have to build Spark in that case as the pre built version comes with 2.7 and I need 3"},{"owner":{"account_id":457464,"reputation":8040,"user_id":856804,"accept_rate":73,"display_name":"zyxue"},"score":0,"creation_date":1519795278,"post_id":31841509,"comment_id":85049926,"body_markdown":"@lfk, `Spark runs on Java 8+, Python 2.7+/3.4+ and R 3.1+. For the Scala API, Spark 2.2.1 uses Scala 2.11. You will need to use a compatible Scala version (2.11.x).`, https://spark.apache.org/docs/latest/, so python 3 shouldn&#39;t be a problem. If you&#39;re working on a single node, then building it yourself is ok, but still I would recommend you to install it with some sort of a package manager, e.g. anaconda. The latest version pyspark, https://pypi.python.org/pypi/pyspark/2.1.1, it supports python3.","body":"@lfk, <code>Spark runs on Java 8+, Python 2.7+&#47;3.4+ and R 3.1+. For the Scala API, Spark 2.2.1 uses Scala 2.11. You will need to use a compatible Scala version (2.11.x).</code>, <a href=\"https://spark.apache.org/docs/latest/\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest</a>, so python 3 shouldn&#39;t be a problem. If you&#39;re working on a single node, then building it yourself is ok, but still I would recommend you to install it with some sort of a package manager, e.g. anaconda. The latest version pyspark, <a href=\"https://pypi.python.org/pypi/pyspark/2.1.1\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/pyspark/2.1.1</a>, it supports python3."},{"owner":{"account_id":7465314,"reputation":2473,"user_id":5675130,"accept_rate":45,"display_name":"lfk"},"score":0,"creation_date":1519821320,"post_id":31841509,"comment_id":85063623,"body_markdown":"@zyxue I&#39;m sorry I meant Hadoop 3. That&#39;s why I&#39;m using the Hadoop-free binaries. pip pyspark is prebuilt with Hadoop 2.7.","body":"@zyxue I&#39;m sorry I meant Hadoop 3. That&#39;s why I&#39;m using the Hadoop-free binaries. pip pyspark is prebuilt with Hadoop 2.7."}],"answers":[{"tags":[],"owner":{"account_id":1785306,"reputation":131,"user_id":4573043,"display_name":"quax"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1442132736,"creation_date":1442132736,"answer_id":32547759,"question_id":31841509,"body_markdown":"Had the same issue with my iphython notebook (IPython 3.2.1) on Linux (ubuntu).\r\n\r\nWhat was missing in my case was setting the master URL in the $PYSPARK_SUBMIT_ARGS environment like this (assuming you use bash): \r\n\r\n    export PYSPARK_SUBMIT_ARGS=&quot;--master spark://&lt;host&gt;:&lt;port&gt;&quot;\r\n\r\ne.g.\r\n\r\n    export PYSPARK_SUBMIT_ARGS=&quot;--master spark://192.168.2.40:7077&quot;\r\n\r\nYou can put this into your .bashrc file. You get the correct URL in the log for the spark master (the location for this log is reported when you start the master with &lt;SPARK HOME&gt;/sbin/start_master.sh).\r\n\r\n ","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>Had the same issue with my iphython notebook (IPython 3.2.1) on Linux (ubuntu).</p>\n\n<p>What was missing in my case was setting the master URL in the $PYSPARK_SUBMIT_ARGS environment like this (assuming you use bash): </p>\n\n<pre><code>export PYSPARK_SUBMIT_ARGS=\"--master spark://&lt;host&gt;:&lt;port&gt;\"\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>export PYSPARK_SUBMIT_ARGS=\"--master spark://192.168.2.40:7077\"\n</code></pre>\n\n<p>You can put this into your .bashrc file. You get the correct URL in the log for the spark master (the location for this log is reported when you start the master with /sbin/start_master.sh).</p>\n"},{"tags":[],"owner":{"account_id":318931,"reputation":2979,"user_id":636398,"accept_rate":50,"display_name":"Ida"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454056567,"creation_date":1454056567,"answer_id":35080073,"question_id":31841509,"body_markdown":"I got the same `Java gateway process exited......port number` exception even though I set `PYSPARK_SUBMIT_ARGS` properly. I&#39;m running Spark 1.6 and trying to get pyspark to work with IPython4/Jupyter (OS: ubuntu as VM guest).\r\n\r\nWhile I got this exception, I noticed an hs_err_*.log was generated and it started with:\r\n\r\n`There is insufficient memory for the Java Runtime Environment to continue. Native memory allocation (malloc) failed to allocate 715849728 bytes for committing reserved memory.`\r\n\r\nSo I increased the memory allocated for my ubuntu via VirtualBox Setting and restarted the guest ubuntu. Then this `Java gateway` exception goes away and everything worked out fine.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I got the same <code>Java gateway process exited......port number</code> exception even though I set <code>PYSPARK_SUBMIT_ARGS</code> properly. I'm running Spark 1.6 and trying to get pyspark to work with IPython4/Jupyter (OS: ubuntu as VM guest).</p>\n\n<p>While I got this exception, I noticed an hs_err_*.log was generated and it started with:</p>\n\n<p><code>There is insufficient memory for the Java Runtime Environment to continue. Native memory allocation (malloc) failed to allocate 715849728 bytes for committing reserved memory.</code></p>\n\n<p>So I increased the memory allocated for my ubuntu via VirtualBox Setting and restarted the guest ubuntu. Then this <code>Java gateway</code> exception goes away and everything worked out fine.</p>\n"},{"tags":[],"owner":{"account_id":4919266,"reputation":934,"user_id":3962288,"accept_rate":40,"display_name":"Anup Ash"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1494750498,"creation_date":1459555410,"answer_id":36367669,"question_id":31841509,"body_markdown":"this should help you\r\n\r\nOne solution is adding pyspark-shell to the shell environment variable PYSPARK_SUBMIT_ARGS:\r\n\r\n    export PYSPARK_SUBMIT_ARGS=&quot;--master local[2] pyspark-shell&quot;\r\n\r\nThere is a change in python/pyspark/java_gateway.py , which requires PYSPARK_SUBMIT_ARGS includes pyspark-shell if a PYSPARK_SUBMIT_ARGS variable is set by a user.\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>this should help you</p>\n\n<p>One solution is adding pyspark-shell to the shell environment variable PYSPARK_SUBMIT_ARGS:</p>\n\n<pre><code>export PYSPARK_SUBMIT_ARGS=\"--master local[2] pyspark-shell\"\n</code></pre>\n\n<p>There is a change in python/pyspark/java_gateway.py , which requires PYSPARK_SUBMIT_ARGS includes pyspark-shell if a PYSPARK_SUBMIT_ARGS variable is set by a user.</p>\n"},{"tags":[],"owner":{"account_id":417850,"reputation":456,"user_id":794071,"display_name":"Pim Schaaf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461104409,"creation_date":1461104409,"answer_id":36730511,"question_id":31841509,"body_markdown":"I got the same `Exception: Java gateway process exited before sending the driver its port number` in Cloudera VM when trying to start IPython with CSV support with a syntax error:\r\n\r\n```PYSPARK_DRIVER_PYTHON=ipython pyspark --packages com.databricks:spark-csv_2.10.1.4.0```\r\n\r\nwill throw the error, while:\r\n\r\n```PYSPARK_DRIVER_PYTHON=ipython pyspark --packages com.databricks:spark-csv_2.10:1.4.0```\r\n\r\nwill not.\r\n\r\nThe difference is in that last **colon** in the last (working) example, seperating the **Scala version number** from the **package version number**.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I got the same <code>Exception: Java gateway process exited before sending the driver its port number</code> in Cloudera VM when trying to start IPython with CSV support with a syntax error:</p>\n\n<p><code>PYSPARK_DRIVER_PYTHON=ipython pyspark --packages com.databricks:spark-csv_2.10.1.4.0</code></p>\n\n<p>will throw the error, while:</p>\n\n<p><code>PYSPARK_DRIVER_PYTHON=ipython pyspark --packages com.databricks:spark-csv_2.10:1.4.0</code></p>\n\n<p>will not.</p>\n\n<p>The difference is in that last <strong>colon</strong> in the last (working) example, seperating the <strong>Scala version number</strong> from the <strong>package version number</strong>.</p>\n"},{"tags":[],"owner":{"account_id":8730259,"reputation":31,"user_id":6530589,"display_name":"Josh Terrell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467236156,"creation_date":1467236156,"answer_id":38110442,"question_id":31841509,"body_markdown":"I got this error because I was running low on disk space.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I got this error because I was running low on disk space.</p>\n"},{"tags":[],"owner":{"account_id":2520743,"reputation":1516,"user_id":2191173,"accept_rate":71,"display_name":"Old Panda"},"down_vote_count":2,"up_vote_count":47,"is_accepted":false,"score":45,"last_activity_date":1484170967,"creation_date":1472853970,"answer_id":39301277,"question_id":31841509,"body_markdown":"One possible reason is JAVA_HOME is not set because java is not installed.\r\n\r\nI encountered the same issue. It says \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/spark/launcher/Main : Unsupported major.minor version 51.0\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:643)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\r\n    \tat java.net.URLClassLoader.access$000(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:212)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:205)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:323)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:296)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:268)\r\n    \tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:406)\r\n    Traceback (most recent call last):\r\n      File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;\r\n      File &quot;/opt/spark/python/pyspark/conf.py&quot;, line 104, in __init__\r\n        SparkContext._ensure_initialized()\r\n      File &quot;/opt/spark/python/pyspark/context.py&quot;, line 243, in _ensure_initialized\r\n        SparkContext._gateway = gateway or launch_gateway()\r\n      File &quot;/opt/spark/python/pyspark/java_gateway.py&quot;, line 94, in launch_gateway\r\n        raise Exception(&quot;Java gateway process exited before sending the driver its port number&quot;)\r\n    Exception: Java gateway process exited before sending the driver its port number\r\n\r\nat `sc = pyspark.SparkConf()`. I solved it by running\r\n\r\n    sudo add-apt-repository ppa:webupd8team/java\r\n    sudo apt-get update\r\n    sudo apt-get install oracle-java8-installer\r\n\r\nwhich is from https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>One possible reason is JAVA_HOME is not set because java is not installed.</p>\n\n<p>I encountered the same issue. It says </p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsupportedClassVersionError: org/apache/spark/launcher/Main : Unsupported major.minor version 51.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:643)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:212)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:323)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:296)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:268)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:406)\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/opt/spark/python/pyspark/conf.py\", line 104, in __init__\n    SparkContext._ensure_initialized()\n  File \"/opt/spark/python/pyspark/context.py\", line 243, in _ensure_initialized\n    SparkContext._gateway = gateway or launch_gateway()\n  File \"/opt/spark/python/pyspark/java_gateway.py\", line 94, in launch_gateway\n    raise Exception(\"Java gateway process exited before sending the driver its port number\")\nException: Java gateway process exited before sending the driver its port number\n</code></pre>\n\n<p>at <code>sc = pyspark.SparkConf()</code>. I solved it by running</p>\n\n<pre><code>sudo add-apt-repository ppa:webupd8team/java\nsudo apt-get update\nsudo apt-get install oracle-java8-installer\n</code></pre>\n\n<p>which is from <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04\" rel=\"noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04</a></p>\n"},{"tags":[],"owner":{"account_id":450429,"reputation":3179,"user_id":845743,"display_name":"Pankaj Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499910803,"creation_date":1499910803,"answer_id":45070215,"question_id":31841509,"body_markdown":"In my case this error came for the script which was running fine before. So I figured out that this might be due to my JAVA update. Before I was using java 1.8 but I had accidentally updated to java 1.9. When I switched back to java 1.8 the error disappeared and everything is running fine. \r\nFor those, who get this error for the same reason but do not know how to switch back to older java version on ubuntu: \r\nrun\r\n\r\n    sudo update-alternatives --config java \r\n\r\nand make the selection for java version","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>In my case this error came for the script which was running fine before. So I figured out that this might be due to my JAVA update. Before I was using java 1.8 but I had accidentally updated to java 1.9. When I switched back to java 1.8 the error disappeared and everything is running fine. \nFor those, who get this error for the same reason but do not know how to switch back to older java version on ubuntu: \nrun</p>\n\n<pre><code>sudo update-alternatives --config java \n</code></pre>\n\n<p>and make the selection for java version</p>\n"},{"tags":[],"owner":{"account_id":1003640,"reputation":8720,"user_id":1017917,"accept_rate":26,"display_name":"Soumyaansh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514572020,"creation_date":1514572020,"answer_id":48026811,"question_id":31841509,"body_markdown":"Had same issue, after installing java using below lines solved the issue !\r\n\r\n    sudo add-apt-repository ppa:webupd8team/java\r\n    sudo apt-get update\r\n    sudo apt-get install oracle-java8-installer","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>Had same issue, after installing java using below lines solved the issue !</p>\n\n<pre><code>sudo add-apt-repository ppa:webupd8team/java\nsudo apt-get update\nsudo apt-get install oracle-java8-installer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7350859,"reputation":685,"user_id":5597062,"accept_rate":36,"display_name":"aghd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522129321,"creation_date":1522129321,"answer_id":49505137,"question_id":31841509,"body_markdown":"Worked hours on this. My problem was with Java 10 installation. I uninstalled it and installed Java 8, and now Pyspark works.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>Worked hours on this. My problem was with Java 10 installation. I uninstalled it and installed Java 8, and now Pyspark works.</p>\n"},{"tags":[],"owner":{"account_id":4869249,"reputation":2487,"user_id":3926352,"accept_rate":38,"display_name":"Kiem Nguyen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1522733480,"creation_date":1522733480,"answer_id":49622868,"question_id":31841509,"body_markdown":"After spending hours and hours trying many different solutions, I can confirm that Java 10 SDK causes this error. On Mac, please navigate to /Library/Java/JavaVirtualMachines then run this command to uninstall Java JDK 10 completely:\r\n\r\n    sudo rm -rf jdk-10.jdk/\r\n\r\nAfter that, please download JDK 8 then the problem will be solved.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>After spending hours and hours trying many different solutions, I can confirm that Java 10 SDK causes this error. On Mac, please navigate to /Library/Java/JavaVirtualMachines then run this command to uninstall Java JDK 10 completely:</p>\n\n<pre><code>sudo rm -rf jdk-10.jdk/\n</code></pre>\n\n<p>After that, please download JDK 8 then the problem will be solved.</p>\n"},{"tags":[],"owner":{"account_id":13394481,"reputation":21,"user_id":9665881,"display_name":"Sujan Mukherjee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524075247,"creation_date":1524074257,"answer_id":49906130,"question_id":31841509,"body_markdown":"I figured out the problem in Windows system. The installation directory for Java must not have blanks in the path such as in `C:\\Program Files`. I re-installed Java in `C\\Java`. I set `JAVA_HOME` to `C:\\Java` and the problem went away.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I figured out the problem in Windows system. The installation directory for Java must not have blanks in the path such as in <code>C:\\Program Files</code>. I re-installed Java in <code>C\\Java</code>. I set <code>JAVA_HOME</code> to <code>C:\\Java</code> and the problem went away.</p>\n"},{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1581976737,"creation_date":1529962724,"answer_id":51032134,"question_id":31841509,"body_markdown":"Had this error message running pyspark on Ubuntu, got rid of it by installing the `openjdk-8-jdk` package\r\n\r\n\r\n    from pyspark import SparkConf, SparkContext\r\n    sc = SparkContext(conf=SparkConf().setAppName(&quot;MyApp&quot;).setMaster(&quot;local&quot;))\r\n    ^^^ error\r\n\r\nInstall Open JDK 8:\r\n\r\n    apt-get install openjdk-8-jdk-headless -qq    \r\n\r\n### On MacOS\r\nSame on Mac OS, I typed in a terminal:\r\n\r\n    $ java -version\r\n    No Java runtime present, requesting install. \r\n\r\nI was prompted to install Java from the [Oracle&#39;s download site](https://www.oracle.com/java/technologies/javase-jdk13-downloads.html), chose the MacOS installer, clicked on `jdk-13.0.2_osx-x64_bin.dmg` and after that checked that Java was installed\r\n\r\n    $ java -version\r\n    java version &quot;13.0.2&quot; 2020-01-14\r\n\r\nEDIT To install JDK 8 you need to go to https://www.oracle.com/java/technologies/javase-jdk8-downloads.html (login required) \r\n\r\nAfter that I was able to start a Spark context with pyspark. \r\n\r\n### Checking if it works\r\n\r\nIn Python:\r\n\r\n    from pyspark import SparkContext \r\n    sc = SparkContext.getOrCreate() \r\n\r\n    # check that it really works by running a job\r\n    # example from http://spark.apache.org/docs/latest/rdd-programming-guide.html#parallelized-collections\r\n    data = range(10000) \r\n    distData = sc.parallelize(data)\r\n    distData.filter(lambda x: not x&amp;1).take(10)\r\n    # Out: [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]\r\n\r\nNote that you might need to set the environment variables `PYSPARK_PYTHON` and `PYSPARK_DRIVER_PYTHON` and they have to be the same Python version as the Python (or IPython) you&#39;re using to run pyspark (the driver).\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>Had this error message running pyspark on Ubuntu, got rid of it by installing the <code>openjdk-8-jdk</code> package</p>\n\n<pre><code>from pyspark import SparkConf, SparkContext\nsc = SparkContext(conf=SparkConf().setAppName(\"MyApp\").setMaster(\"local\"))\n^^^ error\n</code></pre>\n\n<p>Install Open JDK 8:</p>\n\n<pre><code>apt-get install openjdk-8-jdk-headless -qq    \n</code></pre>\n\n<h3>On MacOS</h3>\n\n<p>Same on Mac OS, I typed in a terminal:</p>\n\n<pre><code>$ java -version\nNo Java runtime present, requesting install. \n</code></pre>\n\n<p>I was prompted to install Java from the <a href=\"https://www.oracle.com/java/technologies/javase-jdk13-downloads.html\" rel=\"noreferrer\">Oracle's download site</a>, chose the MacOS installer, clicked on <code>jdk-13.0.2_osx-x64_bin.dmg</code> and after that checked that Java was installed</p>\n\n<pre><code>$ java -version\njava version \"13.0.2\" 2020-01-14\n</code></pre>\n\n<p>EDIT To install JDK 8 you need to go to <a href=\"https://www.oracle.com/java/technologies/javase-jdk8-downloads.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase-jdk8-downloads.html</a> (login required) </p>\n\n<p>After that I was able to start a Spark context with pyspark. </p>\n\n<h3>Checking if it works</h3>\n\n<p>In Python:</p>\n\n<pre><code>from pyspark import SparkContext \nsc = SparkContext.getOrCreate() \n\n# check that it really works by running a job\n# example from http://spark.apache.org/docs/latest/rdd-programming-guide.html#parallelized-collections\ndata = range(10000) \ndistData = sc.parallelize(data)\ndistData.filter(lambda x: not x&amp;1).take(10)\n# Out: [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]\n</code></pre>\n\n<p>Note that you might need to set the environment variables <code>PYSPARK_PYTHON</code> and <code>PYSPARK_DRIVER_PYTHON</code> and they have to be the same Python version as the Python (or IPython) you're using to run pyspark (the driver).</p>\n"},{"tags":[],"owner":{"account_id":13692622,"reputation":11,"user_id":9880049,"display_name":"J.Bo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534578526,"creation_date":1534576855,"answer_id":51906286,"question_id":31841509,"body_markdown":"I have the same error.\r\n\r\nMy trouble shooting procedures are:\r\n\r\n1. Check out Spark source code.\r\n2. Follow the error message. In my case: `pyspark/java_gateway.py`, line 93, in `launch_gateway`.\r\n3. Check the code logic to find the root cause then you will resolve it.\r\n\r\nIn my case the issue is PySpark has no permission to create some temporary directory, so I just run my IDE with sudo","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I have the same error.</p>\n\n<p>My trouble shooting procedures are:</p>\n\n<ol>\n<li>Check out Spark source code.</li>\n<li>Follow the error message. In my case: <code>pyspark/java_gateway.py</code>, line 93, in <code>launch_gateway</code>.</li>\n<li>Check the code logic to find the root cause then you will resolve it.</li>\n</ol>\n\n<p>In my case the issue is PySpark has no permission to create some temporary directory, so I just run my IDE with sudo</p>\n"},{"tags":[],"owner":{"account_id":13389107,"reputation":63,"user_id":9661973,"display_name":"Joon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540611633,"creation_date":1540611633,"answer_id":53018517,"question_id":31841509,"body_markdown":"I have the same error in running pyspark in pycharm.\r\nI solved the problem by adding JAVA_HOME in pycharm&#39;s environment variables.\r\n ","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I have the same error in running pyspark in pycharm.\nI solved the problem by adding JAVA_HOME in pycharm's environment variables.</p>\n"},{"tags":[],"owner":{"account_id":11827091,"reputation":1,"user_id":8654755,"display_name":"Yuuura87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540981468,"creation_date":1540981468,"answer_id":53081155,"question_id":31841509,"body_markdown":"For me, the answer was to add two &#39;Content Roots&#39; in &#39;File&#39; -&gt; &#39;Project Structure&#39; -&gt; &#39;Modules&#39; (in IntelliJ):\r\n\r\n1. YourPath\\spark-2.2.1-bin-hadoop2.7\\python\r\n2. YourPath\\spark-2.2.1-bin-hadoop2.7\\python\\lib\\py4j-0.10.4-src.zip\r\n\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>For me, the answer was to add two 'Content Roots' in 'File' -> 'Project Structure' -> 'Modules' (in IntelliJ):</p>\n\n<ol>\n<li>YourPath\\spark-2.2.1-bin-hadoop2.7\\python</li>\n<li>YourPath\\spark-2.2.1-bin-hadoop2.7\\python\\lib\\py4j-0.10.4-src.zip</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8975860,"reputation":400,"user_id":6692757,"accept_rate":62,"display_name":"noiivice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543799018,"creation_date":1543799018,"answer_id":53586191,"question_id":31841509,"body_markdown":"This is an old thread but I&#39;m adding my solution for those who use mac.\r\n\r\nThe issue was with the `JAVA_HOME`.  You have to include this in your `.bash_profile`.\r\n\r\nCheck your `java -version`. If you downloaded the latest Java but it doesn&#39;t show up as the latest version, then you know that the path is wrong.  Normally, the default path is `export JAVA_HOME= /usr/bin/java`.  \r\n\r\nSo try changing the path to:\r\n`/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java`\r\n\r\nAlternatively you could also download the latest JDK.\r\n[https://www.oracle.com/technetwork/java/javase/downloads/index.html][1] and this will automatically replace `usr/bin/java` to the latest version.  You can confirm this by doing `java -version` again.\r\n\r\nThen that should work.\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>This is an old thread but I'm adding my solution for those who use mac.</p>\n\n<p>The issue was with the <code>JAVA_HOME</code>.  You have to include this in your <code>.bash_profile</code>.</p>\n\n<p>Check your <code>java -version</code>. If you downloaded the latest Java but it doesn't show up as the latest version, then you know that the path is wrong.  Normally, the default path is <code>export JAVA_HOME= /usr/bin/java</code>.  </p>\n\n<p>So try changing the path to:\n<code>/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java</code></p>\n\n<p>Alternatively you could also download the latest JDK.\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a> and this will automatically replace <code>usr/bin/java</code> to the latest version.  You can confirm this by doing <code>java -version</code> again.</p>\n\n<p>Then that should work.</p>\n"},{"tags":[],"owner":{"account_id":3781210,"reputation":1803,"user_id":4237591,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549505457,"creation_date":1549505457,"answer_id":54565325,"question_id":31841509,"body_markdown":"Make sure that both your Java directory (as found in your path) AND your Python interpreter reside in directories with no spaces in them. These were the cause of my problem.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>Make sure that both your Java directory (as found in your path) AND your Python interpreter reside in directories with no spaces in them. These were the cause of my problem.</p>\n"},{"tags":[],"owner":{"account_id":241162,"reputation":1570,"user_id":511809,"display_name":"natbusa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553683725,"creation_date":1553683725,"answer_id":55375380,"question_id":31841509,"body_markdown":"If you are trying to run spark without hadoop binaries, you might encounter the above mentioned error. One solution is to :\r\n\r\n1) download hadoop separatedly.   \r\n2) add hadoop to your PATH  \r\n3) add hadoop classpath to your SPARK install\r\n\r\nThe first two steps are trivial, the last step can be best done by adding the following in the $SPARK_HOME/conf/spark-env.sh in each spark node (master and workers)\r\n\r\n```bash\r\n### in conf/spark-env.sh ###\r\n\r\nexport SPARK_DIST_CLASSPATH=$(hadoop classpath)\r\n```\r\n\r\nfor more info also check: https://spark.apache.org/docs/latest/hadoop-provided.html","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>If you are trying to run spark without hadoop binaries, you might encounter the above mentioned error. One solution is to :</p>\n\n<p>1) download hadoop separatedly.<br>\n2) add hadoop to your PATH<br>\n3) add hadoop classpath to your SPARK install</p>\n\n<p>The first two steps are trivial, the last step can be best done by adding the following in the $SPARK_HOME/conf/spark-env.sh in each spark node (master and workers)</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>### in conf/spark-env.sh ###\n\nexport SPARK_DIST_CLASSPATH=$(hadoop classpath)\n</code></pre>\n\n<p>for more info also check: <a href=\"https://spark.apache.org/docs/latest/hadoop-provided.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/hadoop-provided.html</a></p>\n"},{"tags":[],"owner":{"account_id":7719471,"reputation":331,"user_id":5846131,"display_name":"shihs"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1555175336,"creation_date":1555175336,"answer_id":55667945,"question_id":31841509,"body_markdown":"I use Mac OS. I fixed the problem!\r\n\r\n\r\n\r\nBelow is how I fixed it.\r\n\r\nJDK8 seems works fine. (https://github.com/jupyter/jupyter/issues/248)\r\n\r\nSo I checked my JDK **/Library/Java/JavaVirtualMachines**, I only have **jdk-11.jdk** in this path. \r\n\r\nI [downloaded JDK8](https://stackoverflow.com/questions/24342886/how-to-install-java-8-on-mac) (I followed the link).\r\nWhich is:\r\n```\r\nbrew tap caskroom/versions\r\nbrew cask install java8\r\n```\r\n\r\nAfter this, I added\r\n```\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\nexport JAVA_HOME=&quot;$(/usr/libexec/java_home -v 1.8)&quot;\r\n```\r\nto **~/.bash_profile** file.  (you sholud check your jdk1.8 file name)\r\n\r\nIt works now!\r\nHope this help :)\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I use Mac OS. I fixed the problem!</p>\n\n<p>Below is how I fixed it.</p>\n\n<p>JDK8 seems works fine. (<a href=\"https://github.com/jupyter/jupyter/issues/248\" rel=\"noreferrer\">https://github.com/jupyter/jupyter/issues/248</a>)</p>\n\n<p>So I checked my JDK <strong>/Library/Java/JavaVirtualMachines</strong>, I only have <strong>jdk-11.jdk</strong> in this path. </p>\n\n<p>I <a href=\"https://stackoverflow.com/questions/24342886/how-to-install-java-8-on-mac\">downloaded JDK8</a> (I followed the link).\nWhich is:</p>\n\n<pre><code>brew tap caskroom/versions\nbrew cask install java8\n</code></pre>\n\n<p>After this, I added</p>\n\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\nexport JAVA_HOME=\"$(/usr/libexec/java_home -v 1.8)\"\n</code></pre>\n\n<p>to <strong>~/.bash_profile</strong> file.  (you sholud check your jdk1.8 file name)</p>\n\n<p>It works now!\nHope this help :)</p>\n"},{"tags":[],"owner":{"account_id":4155124,"reputation":1168,"user_id":3406616,"accept_rate":93,"display_name":"hayj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555322380,"creation_date":1555322380,"answer_id":55686710,"question_id":31841509,"body_markdown":"In my case it was because I wrote `SPARK_DRIVER_MEMORY=10` instead of `SPARK_DRIVER_MEMORY=10g` in `spark-env.sh`","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>In my case it was because I wrote <code>SPARK_DRIVER_MEMORY=10</code> instead of <code>SPARK_DRIVER_MEMORY=10g</code> in <code>spark-env.sh</code></p>\n"},{"tags":[],"owner":{"account_id":11380842,"reputation":41,"user_id":8343786,"display_name":"A known"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555928573,"creation_date":1555926314,"answer_id":55792410,"question_id":31841509,"body_markdown":"I had the same exception and I tried everything by setting and resetting all environment variables. But the issue in the end drilled down to space in appname property of spark session,that is, &quot;SparkSession.builder.appName(&quot;StreamingDemo&quot;).getOrCreate()&quot;. Immediately after removing space from string given to appname property it got resolved.I was using pyspark 2.7 with eclipse on windows 10 environment. It worked for me.\r\nEnclosed are required screenshots.[![Error_with space][1]][1]\r\n\r\n\r\n[![No Error_without space][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ztNog.png\r\n  [2]: https://i.stack.imgur.com/FJkqD.png","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I had the same exception and I tried everything by setting and resetting all environment variables. But the issue in the end drilled down to space in appname property of spark session,that is, \"SparkSession.builder.appName(\"StreamingDemo\").getOrCreate()\". Immediately after removing space from string given to appname property it got resolved.I was using pyspark 2.7 with eclipse on windows 10 environment. It worked for me.\nEnclosed are required screenshots.<a href=\"https://i.stack.imgur.com/ztNog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztNog.png\" alt=\"Error_with space\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FJkqD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJkqD.png\" alt=\"No Error_without space\"></a></p>\n"},{"tags":[],"owner":{"account_id":13861216,"reputation":1121,"user_id":10006823,"display_name":"Ran Feldesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559932671,"creation_date":1559931659,"answer_id":56499492,"question_id":31841509,"body_markdown":"For Linux (Ubuntu 18.04) with a JAVA_HOME issue, a key is to point it to the **master** folder:\r\n\r\n 1. Set Java 8 as default by: **`sudo update-alternatives --config java`**. If Jave 8 is not installed, install by: **`sudo apt install openjdk-8-jdk`**.\r\n 2. Set `JAVA_HOME` environment variable as the **master** java 8 folder. The location is given by the first command above removing `jre/bin/java`. Namely: **`export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;`**. If done on the command line, this will be relevant only for the current session ([ref: export command on Linux][1]). To verify: **`echo $JAVA_HOME`**.\r\n 4. In order to have this permanently set, add the bolded line above to a file that runs before you start your IDE/Jupyter/python interpreter. This could be by adding the bolded line above to **`.bashrc`**. This file loads when a bash is started interactively [ref: .bashrc][2]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/unix_commands/export.htm\r\n  [2]: https://unix.stackexchange.com/questions/129143/what-is-the-purpose-of-bashrc-and-how-does-it-work\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>For Linux (Ubuntu 18.04) with a JAVA_HOME issue, a key is to point it to the <strong>master</strong> folder:</p>\n\n<ol>\n<li>Set Java 8 as default by: <strong><code>sudo update-alternatives --config java</code></strong>. If Jave 8 is not installed, install by: <strong><code>sudo apt install openjdk-8-jdk</code></strong>.</li>\n<li>Set <code>JAVA_HOME</code> environment variable as the <strong>master</strong> java 8 folder. The location is given by the first command above removing <code>jre/bin/java</code>. Namely: <strong><code>export JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64/\"</code></strong>. If done on the command line, this will be relevant only for the current session (<a href=\"https://www.tutorialspoint.com/unix_commands/export.htm\" rel=\"nofollow noreferrer\">ref: export command on Linux</a>). To verify: <strong><code>echo $JAVA_HOME</code></strong>.</li>\n<li>In order to have this permanently set, add the bolded line above to a file that runs before you start your IDE/Jupyter/python interpreter. This could be by adding the bolded line above to <strong><code>.bashrc</code></strong>. This file loads when a bash is started interactively <a href=\"https://unix.stackexchange.com/questions/129143/what-is-the-purpose-of-bashrc-and-how-does-it-work\">ref: .bashrc</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2853802,"reputation":71,"user_id":2450426,"display_name":"ZhangXu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560245888,"creation_date":1560245888,"answer_id":56540748,"question_id":31841509,"body_markdown":"There are so many reasons for this error. My reason is : the version of pyspark is incompatible with spark. \r\npyspark version :2.4.0, but spark version is 2.2.0.\r\nit always cause python always fail when starting spark process. then spark cannot tell its ports to python. so error will be &quot;Pyspark: Exception: Java gateway process exited before sending the driver its port number\r\n&quot;.\r\n\r\nI suggest you dive into source code to find out the real reasons when this error happens","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>There are so many reasons for this error. My reason is : the version of pyspark is incompatible with spark. \npyspark version :2.4.0, but spark version is 2.2.0.\nit always cause python always fail when starting spark process. then spark cannot tell its ports to python. so error will be \"Pyspark: Exception: Java gateway process exited before sending the driver its port number\n\".</p>\n\n<p>I suggest you dive into source code to find out the real reasons when this error happens</p>\n"},{"tags":[],"owner":{"account_id":7007411,"reputation":339,"user_id":5371368,"display_name":"abhishek kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563103214,"creation_date":1563103214,"answer_id":57026932,"question_id":31841509,"body_markdown":"I go this error fixed by using the below code. I had setup the SPARK_HOME though. You may follow this simple steps from [eproblems website][1]\r\n\r\n    spark_home = os.environ.get(&#39;SPARK_HOME&#39;, None)\r\n\r\n\r\n  [1]: https://eproblems.wordpress.com/2019/07/14/how-to-start-with-pyspark-on-windows-10/","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I go this error fixed by using the below code. I had setup the SPARK_HOME though. You may follow this simple steps from <a href=\"https://eproblems.wordpress.com/2019/07/14/how-to-start-with-pyspark-on-windows-10/\" rel=\"nofollow noreferrer\">eproblems website</a></p>\n\n<pre><code>spark_home = os.environ.get('SPARK_HOME', None)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13709119,"reputation":119,"user_id":9891948,"display_name":"Marcelo Tournier"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573796077,"creation_date":1573796077,"answer_id":58870903,"question_id":31841509,"body_markdown":"Spark is very picky with the Java version you use. It is highly recommended that you use Java 1.8 (The open source AdoptOpenJDK 8 works well too).\r\nAfter install it, set `JAVA_HOME` to your bash variables, if you use Mac/Linux:\r\n\r\n`export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)`\r\n\r\n`export PATH=$JAVA_HOME/bin:$PATH`","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>Spark is very picky with the Java version you use. It is highly recommended that you use Java 1.8 (The open source AdoptOpenJDK 8 works well too).\nAfter install it, set <code>JAVA_HOME</code> to your bash variables, if you use Mac/Linux:</p>\n\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)</code></p>\n\n<p><code>export PATH=$JAVA_HOME/bin:$PATH</code></p>\n"},{"tags":[],"owner":{"account_id":5190940,"reputation":2253,"user_id":4153895,"display_name":"Tarun Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584352250,"creation_date":1584352250,"answer_id":60703686,"question_id":31841509,"body_markdown":"The error occured since JAVA is not installed on machine.\r\nSpark is developed in scala which usually runs on JAVA.\r\n\r\nTry to install JAVA and execute the pyspark statements.\r\nIt will works ","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>The error occured since JAVA is not installed on machine.\nSpark is developed in scala which usually runs on JAVA.</p>\n\n<p>Try to install JAVA and execute the pyspark statements.\nIt will works </p>\n"},{"tags":[],"owner":{"account_id":4418021,"reputation":1201,"user_id":3598981,"display_name":"Arjjun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585355353,"creation_date":1585342828,"answer_id":60894056,"question_id":31841509,"body_markdown":"This usually happens if you do not have java installed in your machine.\r\n\r\nGo to command prompt and check the version of your java: \r\ntype : `java -version`\r\n\r\nyou should get output sth like this\r\n \r\n`java version &quot;1.8.0_241&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.241-b07, mixed mode)`\r\n\r\nIf not, go to orcale and download jdk. \r\nCheck this video on how to download java and add it to the buildpath.\r\n\r\nhttps://www.youtube.com/watch?v=f7rT0h1Q5Wo","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>This usually happens if you do not have java installed in your machine.</p>\n\n<p>Go to command prompt and check the version of your java: \ntype : <code>java -version</code></p>\n\n<p>you should get output sth like this</p>\n\n<p><code>java version \"1.8.0_241\"\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.241-b07, mixed mode)</code></p>\n\n<p>If not, go to orcale and download jdk. \nCheck this video on how to download java and add it to the buildpath.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=f7rT0h1Q5Wo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=f7rT0h1Q5Wo</a></p>\n"},{"tags":[],"owner":{"account_id":2816205,"reputation":651,"user_id":2421204,"accept_rate":75,"display_name":"Artyom Rebrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592374605,"creation_date":1592374605,"answer_id":62422559,"question_id":31841509,"body_markdown":"Had the same issue when was trying to run the pyspark job triggered from the Airflow with remote spark.driver.host. The cause of the issue in my case was: \r\n\r\n&gt; Exception: Java gateway process exited before sending the driver its\r\n&gt; port number\r\n\r\n...\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.Exception: When running with master &#39;yarn&#39; either HADOOP_CONF_DIR or YARN_CONF_DIR must be set in the environment.\r\n\r\nFixed by adding exports:\r\n\r\n    export HADOOP_CONF_DIR=/etc/hadoop/conf\r\n\r\nAnd the same environment variable added in the pyspark script:\r\n\r\n    import os\r\n    os.environ[&quot;HADOOP_CONF_DIR&quot;] = &#39;/etc/hadoop/conf&#39;\r\n\r\n\r\n\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>Had the same issue when was trying to run the pyspark job triggered from the Airflow with remote spark.driver.host. The cause of the issue in my case was: </p>\n\n<blockquote>\n  <p>Exception: Java gateway process exited before sending the driver its\n  port number</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Exception: When running with master 'yarn' either HADOOP_CONF_DIR or YARN_CONF_DIR must be set in the environment.</p>\n</blockquote>\n\n<p>Fixed by adding exports:</p>\n\n<pre><code>export HADOOP_CONF_DIR=/etc/hadoop/conf\n</code></pre>\n\n<p>And the same environment variable added in the pyspark script:</p>\n\n<pre><code>import os\nos.environ[\"HADOOP_CONF_DIR\"] = '/etc/hadoop/conf'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":919114,"reputation":196,"user_id":3155305,"display_name":"muzamil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602091130,"creation_date":1602091130,"answer_id":64249141,"question_id":31841509,"body_markdown":"I was getting this error when i was using jdk-1.8 32-bit\r\nswitching to 64-bit works for me.\r\n\r\nI was getting this error because 32-bit java could not allocate more than 3G heap memory required by the spark driver (16G):\r\n\r\n    builder = SparkSession.builder \\\r\n            .appName(&quot;Spark NLP&quot;) \\\r\n            .master(&quot;local[*]&quot;) \\\r\n            .config(&quot;spark.driver.memory&quot;, &quot;16G&quot;) \\\r\n            .config(&quot;spark.serializer&quot;, &quot;org.apache.spark.serializer.KryoSerializer&quot;) \\\r\n            .config(&quot;spark.kryoserializer.buffer.max&quot;, &quot;1000M&quot;) \\\r\n            .config(&quot;spark.driver.maxResultSize&quot;, &quot;0&quot;)\r\n\r\nI tested making this up to 2G and it worked in 32-bit as well.\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I was getting this error when i was using jdk-1.8 32-bit\nswitching to 64-bit works for me.</p>\n<p>I was getting this error because 32-bit java could not allocate more than 3G heap memory required by the spark driver (16G):</p>\n<pre><code>builder = SparkSession.builder \\\n        .appName(&quot;Spark NLP&quot;) \\\n        .master(&quot;local[*]&quot;) \\\n        .config(&quot;spark.driver.memory&quot;, &quot;16G&quot;) \\\n        .config(&quot;spark.serializer&quot;, &quot;org.apache.spark.serializer.KryoSerializer&quot;) \\\n        .config(&quot;spark.kryoserializer.buffer.max&quot;, &quot;1000M&quot;) \\\n        .config(&quot;spark.driver.maxResultSize&quot;, &quot;0&quot;)\n</code></pre>\n<p>I tested making this up to 2G and it worked in 32-bit as well.</p>\n"},{"tags":[],"owner":{"account_id":391177,"reputation":3037,"user_id":751689,"accept_rate":59,"display_name":"kitokid"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1610266218,"creation_date":1610266218,"answer_id":65651256,"question_id":31841509,"body_markdown":"I will repost [how I solved it][1] here just for future references.\r\n\r\n**How I solved my similar problem**\r\n\r\n_Prerequisite:_\r\n1) anaconda already installed\r\n2) Spark already installed (https://spark.apache.org/downloads.html)\r\n3) pyspark already installed (https://anaconda.org/conda-forge/pyspark)\r\n\r\n_Steps I did_ (NOTE: set the folder path accordingly to your system)\r\n\r\n&gt; 1. set the following environment variables.\r\n&gt; 2. SPARK_HOME to &#39;C:\\spark\\spark-3.0.1-bin-hadoop2.7&#39;\r\n&gt; 3. set HADOOP_HOME  to &#39;C:\\spark\\spark-3.0.1-bin-hadoop2.7&#39;\r\n&gt; 4. set PYSPARK_DRIVER_PYTHON to &#39;jupyter&#39;\r\n&gt; 5. set PYSPARK_DRIVER_PYTHON_OPTS to &#39;notebook&#39;\r\n&gt; 6. add &#39;C:\\spark\\spark-3.0.1-bin-hadoop2.7\\bin;&#39; to PATH system variable.\r\n&gt; 7. Change the java installed folder directly under C: (Previously java was installed under Program files, so I re-installed directly\r\n&gt; under C:)\r\n&gt; 8. so my JAVA_HOME will become like this &#39;C:\\java\\jdk1.8.0_271&#39;\r\n\r\nnow. it works !\r\n\r\n\r\n  [1]: https://github.com/jupyter/notebook/issues/743","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I will repost <a href=\"https://github.com/jupyter/notebook/issues/743\" rel=\"noreferrer\">how I solved it</a> here just for future references.</p>\n<p><strong>How I solved my similar problem</strong></p>\n<p><em>Prerequisite:</em></p>\n<ol>\n<li>anaconda already installed</li>\n<li>Spark already installed (<a href=\"https://spark.apache.org/downloads.html\" rel=\"noreferrer\">https://spark.apache.org/downloads.html</a>)</li>\n<li>pyspark already installed (<a href=\"https://anaconda.org/conda-forge/pyspark\" rel=\"noreferrer\">https://anaconda.org/conda-forge/pyspark</a>)</li>\n</ol>\n<p><em>Steps I did</em> (NOTE: set the folder path accordingly to your system)</p>\n<blockquote>\n<ol>\n<li>set the following environment variables.</li>\n<li>SPARK_HOME to 'C:\\spark\\spark-3.0.1-bin-hadoop2.7'</li>\n<li>set HADOOP_HOME  to 'C:\\spark\\spark-3.0.1-bin-hadoop2.7'</li>\n<li>set PYSPARK_DRIVER_PYTHON to 'jupyter'</li>\n<li>set PYSPARK_DRIVER_PYTHON_OPTS to 'notebook'</li>\n<li>add 'C:\\spark\\spark-3.0.1-bin-hadoop2.7\\bin;' to PATH system variable.</li>\n<li>Change the java installed folder directly under C: (Previously java was installed under Program files, so I re-installed directly\nunder C:)</li>\n<li>so my JAVA_HOME will become like this 'C:\\java\\jdk1.8.0_271'</li>\n</ol>\n</blockquote>\n<p>now. it works !</p>\n"},{"tags":[],"owner":{"account_id":1505030,"reputation":3731,"user_id":1408615,"accept_rate":75,"display_name":"kennyut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615989473,"creation_date":1615989473,"answer_id":66674609,"question_id":31841509,"body_markdown":"I had the same issue once when I brought up Spark using Docker container. It turned out I set wrong permission for the **/tmp** folder.\r\nIf spark has no write permission on **/tmp**, it will cause this issue too.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I had the same issue once when I brought up Spark using Docker container. It turned out I set wrong permission for the <strong>/tmp</strong> folder.\nIf spark has no write permission on <strong>/tmp</strong>, it will cause this issue too.</p>\n"},{"tags":[],"owner":{"account_id":15721219,"reputation":349,"user_id":11344054,"display_name":"Nisan Chhetri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617367051,"creation_date":1617367051,"answer_id":66919454,"question_id":31841509,"body_markdown":"You can simply run the following code in the terminal. Then, I hope this will resolve your error.\r\n\r\n    sudo apt-get install default-jdk\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>You can simply run the following code in the terminal. Then, I hope this will resolve your error.</p>\n<pre><code>sudo apt-get install default-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657425,"reputation":181,"user_id":5137479,"display_name":"answerzilla"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1618034122,"creation_date":1618009585,"answer_id":67029299,"question_id":31841509,"body_markdown":"I had the same error with PySpark, and setting JAVA_HOME to Java 11 worked for me (it was originally set to 16). I&#39;m using MacOS and PyCharm.\r\nYou can check your current Java version by doing `echo $JAVA_HOME`.\r\n\r\nBelow is what worked for me. On my Mac I used the following homebrew command, but you can use a different method to install the desired Java version, depending on your OS. \r\n```\r\n# Install Java 11 (I believe 8 works too)\r\n$ brew install openjdk@11\r\n\r\n# Set JAVA_HOME by assigning the path where your Java is\r\n$ export JAVA_HOME=/usr/local/opt/openjdk@11\r\n```\r\nNote: If you installed using homebrew and need to find the location of the path, you can do `$ brew --prefix openjdk@11` and it should return a path like this: `/usr/local/opt/openjdk@11`\r\n\r\nAt this point, I could run my PySpark program from the terminal - however, my IDE (PyCharm) still had the same error until I globally changed the JAVA_HOME variable. \r\n\r\nTo update the variable, first check whether you&#39;re using the zsh or bash shell by running `echo $SHELL` on the command line. For zsh, you&#39;ll edit the `~/.zshenv` file and for bash you&#39;ll edit the `~/.bash_profile`.\r\n\r\n```\r\n# open the file\r\n$ vim ~/.zshenv\r\nOR\r\n$ vim ~/.bash_profile\r\n\r\n# once inside the file, set the variable with your Java path, then save and close the file\r\nexport JAVA_HOME=/usr/local/opt/openjdk@11\r\n\r\n# test if it was set successfully\r\n$ echo $JAVA_HOME\r\n/usr/local/opt/openjdk@11\r\n```\r\nAfter this step, I could run PySpark through my PyCharm IDE as well.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I had the same error with PySpark, and setting JAVA_HOME to Java 11 worked for me (it was originally set to 16). I'm using MacOS and PyCharm.\nYou can check your current Java version by doing <code>echo $JAVA_HOME</code>.</p>\n<p>Below is what worked for me. On my Mac I used the following homebrew command, but you can use a different method to install the desired Java version, depending on your OS.</p>\n<pre><code># Install Java 11 (I believe 8 works too)\n$ brew install openjdk@11\n\n# Set JAVA_HOME by assigning the path where your Java is\n$ export JAVA_HOME=/usr/local/opt/openjdk@11\n</code></pre>\n<p>Note: If you installed using homebrew and need to find the location of the path, you can do <code>$ brew --prefix openjdk@11</code> and it should return a path like this: <code>/usr/local/opt/openjdk@11</code></p>\n<p>At this point, I could run my PySpark program from the terminal - however, my IDE (PyCharm) still had the same error until I globally changed the JAVA_HOME variable.</p>\n<p>To update the variable, first check whether you're using the zsh or bash shell by running <code>echo $SHELL</code> on the command line. For zsh, you'll edit the <code>~/.zshenv</code> file and for bash you'll edit the <code>~/.bash_profile</code>.</p>\n<pre><code># open the file\n$ vim ~/.zshenv\nOR\n$ vim ~/.bash_profile\n\n# once inside the file, set the variable with your Java path, then save and close the file\nexport JAVA_HOME=/usr/local/opt/openjdk@11\n\n# test if it was set successfully\n$ echo $JAVA_HOME\n/usr/local/opt/openjdk@11\n</code></pre>\n<p>After this step, I could run PySpark through my PyCharm IDE as well.</p>\n"},{"tags":[],"owner":{"account_id":16249580,"reputation":189,"user_id":11733871,"display_name":"archit jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623274779,"creation_date":1623274779,"answer_id":67912038,"question_id":31841509,"body_markdown":"The error usually occurs when your system doesn&#39;t have java installed.\r\n\r\nCheck if you have java installed, open up the terminal and do \r\n`java --version`\r\n\r\nIt&#39;s always advisable to use brew install for installing packages.\r\n`brew install openjdk@11` for installing java\r\n\r\nNow that you have java installed, set the path globally depending on the shell you use: Z shell or bash.\r\n\r\n1. cmd + shift + H: Go to home  \r\n2. cmd + shift + [.]: To see the hidden files (zshenv or bash_profile) and save either of the file under `export JAVA_HOME=/usr/local/opt/openjdk@11`\r\n","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>The error usually occurs when your system doesn't have java installed.</p>\n<p>Check if you have java installed, open up the terminal and do\n<code>java --version</code></p>\n<p>It's always advisable to use brew install for installing packages.\n<code>brew install openjdk@11</code> for installing java</p>\n<p>Now that you have java installed, set the path globally depending on the shell you use: Z shell or bash.</p>\n<ol>\n<li>cmd + shift + H: Go to home</li>\n<li>cmd + shift + [.]: To see the hidden files (zshenv or bash_profile) and save either of the file under <code>export JAVA_HOME=/usr/local/opt/openjdk@11</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15105498,"reputation":525,"user_id":10901300,"display_name":"Sahana M"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631207501,"creation_date":1631207200,"answer_id":69122219,"question_id":31841509,"body_markdown":"After spending a good amount of time with this issue, I was able to solve this. I own MacOs Catalina, working on Pycharm in an Anaconda environment.\r\n\r\nSpark currently supports only Java8. If you install Java through command line, it will by default install the latest Java10+ and would cause all sorts of troubles. To solve this, follow the below steps - \r\n\r\n\r\n```\r\n1. Make sure you have Homebrew, else install Homebrew\r\n/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;\r\n\r\n2. Install X-code\r\nxcode-select –-install\r\n\r\n3. Install Java8 through the official website (not through terminal)\r\nhttps://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n\r\n4. Install Apache-Spark\r\n brew install apache-spark \r\n\r\n5. Install Pyspark and Findspark (if you have anaconda)\r\nconda install -c conda-forge findspark \r\nconda install -c conda-forge/label/gcc7 findspark\r\nconda install -c conda-forge pyspark\r\n\r\n```\r\n\r\n**Viola!** this should let you run PySpark without any issues","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>After spending a good amount of time with this issue, I was able to solve this. I own MacOs Catalina, working on Pycharm in an Anaconda environment.</p>\n<p>Spark currently supports only Java8. If you install Java through command line, it will by default install the latest Java10+ and would cause all sorts of troubles. To solve this, follow the below steps -</p>\n<pre><code>1. Make sure you have Homebrew, else install Homebrew\n/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;\n\n2. Install X-code\nxcode-select –-install\n\n3. Install Java8 through the official website (not through terminal)\nhttps://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\n\n4. Install Apache-Spark\n brew install apache-spark \n\n5. Install Pyspark and Findspark (if you have anaconda)\nconda install -c conda-forge findspark \nconda install -c conda-forge/label/gcc7 findspark\nconda install -c conda-forge pyspark\n\n</code></pre>\n<p><strong>Viola!</strong> this should let you run PySpark without any issues</p>\n"},{"tags":[],"owner":{"account_id":11344748,"reputation":531,"user_id":11721208,"display_name":"Shritam Kumar Mund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632206073,"creation_date":1632206073,"answer_id":69264361,"question_id":31841509,"body_markdown":"**Step:1**\r\n\r\nCheck the java vesrion on from the terminal.\r\n\r\n    java -version\r\nIf you see the `bash: java: command not found`,which mean you don&#39;t have java installed in your system.\r\n\r\n**Step:2**\r\n\r\nInstall Java using the following command,\r\n\r\n    sudo apt-get install default-jdk\r\n\r\n**Step:3**\r\n\r\nNo check java version, you&#39;ll see the version have been downloaded.\r\n\r\n    java -version\r\nresult:\r\n\r\n    openjdk version &quot;11.0.11&quot; 2021-04-20\r\n    OpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n\r\n**Step:4**\r\n\r\nNow run the pyspark code, \r\nyou&#39;ll never see such error.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p><strong>Step:1</strong></p>\n<p>Check the java vesrion on from the terminal.</p>\n<pre><code>java -version\n</code></pre>\n<p>If you see the <code>bash: java: command not found</code>,which mean you don't have java installed in your system.</p>\n<p><strong>Step:2</strong></p>\n<p>Install Java using the following command,</p>\n<pre><code>sudo apt-get install default-jdk\n</code></pre>\n<p><strong>Step:3</strong></p>\n<p>No check java version, you'll see the version have been downloaded.</p>\n<pre><code>java -version\n</code></pre>\n<p>result:</p>\n<pre><code>openjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n<p><strong>Step:4</strong></p>\n<p>Now run the pyspark code,\nyou'll never see such error.</p>\n"},{"tags":[],"owner":{"account_id":6836117,"reputation":139,"user_id":5258038,"display_name":"CAV"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639867879,"creation_date":1639867879,"answer_id":70407748,"question_id":31841509,"body_markdown":"There are many valuable hints here, however, none solved my problem completely so I will show the procedure that worked for me working in an __Anaconda Jupyter Notebook__ on __Windows__:\r\n\r\n- Download and install java and pyspark in directories without blank spaces.\r\n- [maybe unnecessary] In the anaconda prompt, type `where conda` and `where python` and add the paths of the .exe files&#39; directories to your Path variable using the Windows environmental variables tool. Add also the variables `JAVA_HOME` and `SPARK_HOME` there with their corresponding paths.\r\n- Even doing so, I had to set these variables manually from within the Notebook along with `PYSPARK_SUBMIT_ARGS` (use your own paths for `SPARK_HOME` and `JAVA_HOME`):\r\n\r\n`import os`\\\r\n`os.environ[&quot;SPARK_HOME&quot;] = r&quot;C:\\Spark\\spark-3.2.0-bin-hadoop3.2&quot;`\\\r\n`os.environ[&quot;PYSPARK_SUBMIT_ARGS&quot;] = &quot;--master local[3] pyspark-shell&quot;`\\\r\n`os.environ[&quot;JAVA_HOME&quot;] = r&quot;C:\\Java\\jre1.8.0_311&quot;`\r\n\r\n- Install findspark from the notebook with `!pip install findspark`.\r\n\r\n- Run `import findspark` and `findspark.init()`\r\n\r\n- Run `from pyspark.sql import SparkSession` and `spark = SparkSession.builder.getOrCreate()`\r\n\r\nSome useful links:\r\n\r\nhttps://towardsdatascience.com/installing-apache-pyspark-on-windows-10-f5f0c506bea1\r\n\r\nhttps://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/\r\n\r\nhttps://www.datacamp.com/community/tutorials/installing-anaconda-windows","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>There are many valuable hints here, however, none solved my problem completely so I will show the procedure that worked for me working in an <strong>Anaconda Jupyter Notebook</strong> on <strong>Windows</strong>:</p>\n<ul>\n<li>Download and install java and pyspark in directories without blank spaces.</li>\n<li>[maybe unnecessary] In the anaconda prompt, type <code>where conda</code> and <code>where python</code> and add the paths of the .exe files' directories to your Path variable using the Windows environmental variables tool. Add also the variables <code>JAVA_HOME</code> and <code>SPARK_HOME</code> there with their corresponding paths.</li>\n<li>Even doing so, I had to set these variables manually from within the Notebook along with <code>PYSPARK_SUBMIT_ARGS</code> (use your own paths for <code>SPARK_HOME</code> and <code>JAVA_HOME</code>):</li>\n</ul>\n<p><code>import os</code><br />\n<code>os.environ[&quot;SPARK_HOME&quot;] = r&quot;C:\\Spark\\spark-3.2.0-bin-hadoop3.2&quot;</code><br />\n<code>os.environ[&quot;PYSPARK_SUBMIT_ARGS&quot;] = &quot;--master local[3] pyspark-shell&quot;</code><br />\n<code>os.environ[&quot;JAVA_HOME&quot;] = r&quot;C:\\Java\\jre1.8.0_311&quot;</code></p>\n<ul>\n<li><p>Install findspark from the notebook with <code>!pip install findspark</code>.</p>\n</li>\n<li><p>Run <code>import findspark</code> and <code>findspark.init()</code></p>\n</li>\n<li><p>Run <code>from pyspark.sql import SparkSession</code> and <code>spark = SparkSession.builder.getOrCreate()</code></p>\n</li>\n</ul>\n<p>Some useful links:</p>\n<p><a href=\"https://towardsdatascience.com/installing-apache-pyspark-on-windows-10-f5f0c506bea1\" rel=\"noreferrer\">https://towardsdatascience.com/installing-apache-pyspark-on-windows-10-f5f0c506bea1</a></p>\n<p><a href=\"https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/\" rel=\"noreferrer\">https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/</a></p>\n<p><a href=\"https://www.datacamp.com/community/tutorials/installing-anaconda-windows\" rel=\"noreferrer\">https://www.datacamp.com/community/tutorials/installing-anaconda-windows</a></p>\n"},{"tags":[],"owner":{"account_id":16060540,"reputation":73,"user_id":11591521,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640771017,"creation_date":1640771017,"answer_id":70517646,"question_id":31841509,"body_markdown":"I met this problem and actually not due to the JAVE_HOME setting. i assume you are using windows, and using Anaconda as your python tools. Please check whether you can use command prompt. I cannot run spark due to the crash of cmd. After fix this, spark can work well on my pc.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I met this problem and actually not due to the JAVE_HOME setting. i assume you are using windows, and using Anaconda as your python tools. Please check whether you can use command prompt. I cannot run spark due to the crash of cmd. After fix this, spark can work well on my pc.</p>\n"},{"tags":[],"owner":{"account_id":10664885,"reputation":111,"user_id":7851787,"display_name":"Shashi Kumar Singh"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1648450550,"creation_date":1648200023,"answer_id":71614604,"question_id":31841509,"body_markdown":"If you are using Jupyter notebook from the window machine.\r\n\r\njust use the following code\r\n\r\n    spark =SparkSession.builder.appName(&#39;myapp&#39;).getOrCreate\r\n\r\n**Don&#39;t use like**\r\n\r\n    spark =SparkSession.builder.appName(&#39;myapp&#39;).getOrCreate()","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>If you are using Jupyter notebook from the window machine.</p>\n<p>just use the following code</p>\n<pre><code>spark =SparkSession.builder.appName('myapp').getOrCreate\n</code></pre>\n<p><strong>Don't use like</strong></p>\n<pre><code>spark =SparkSession.builder.appName('myapp').getOrCreate()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15496633,"reputation":3080,"user_id":11179336,"display_name":"Ajeet Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668149240,"creation_date":1668149240,"answer_id":74398918,"question_id":31841509,"body_markdown":"I was having the same problem, tried many different things but the solution that worked for me was to simply install java 8 (and uninstall any other version of java if any on your machine.)\r\n\r\n**Step 1**: install java 8\r\n[Download java 8 here][1]\r\n\r\n\r\nnote: download x64 Installer for windows\r\n[![enter image description here][2]][2]\r\n**Step 2**: set JAVA_HOME environment variable.\r\n\r\nfor example,\r\n\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_351 \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/downloads/#java8-windows\r\n  [2]: https://i.stack.imgur.com/Gvf6z.png\r\n\r\nThat&#39;s all. With these 2 simple steps, I was able to fix the problem.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I was having the same problem, tried many different things but the solution that worked for me was to simply install java 8 (and uninstall any other version of java if any on your machine.)</p>\n<p><strong>Step 1</strong>: install java 8\n<a href=\"https://www.oracle.com/java/technologies/downloads/#java8-windows\" rel=\"nofollow noreferrer\">Download java 8 here</a></p>\n<p>note: download x64 Installer for windows\n<a href=\"https://i.stack.imgur.com/Gvf6z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gvf6z.png\" alt=\"enter image description here\" /></a>\n<strong>Step 2</strong>: set JAVA_HOME environment variable.</p>\n<p>for example,</p>\n<pre><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_351 \n</code></pre>\n<p>That's all. With these 2 simple steps, I was able to fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":3873970,"reputation":19782,"user_id":4281353,"accept_rate":69,"display_name":"mon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675888038,"creation_date":1675886234,"answer_id":75391117,"question_id":31841509,"body_markdown":"# Background\r\n\r\nThe error ```Java gateway process exited before sending the driver its port number``` occurs in [SPARK_HOME/python/lib/pyspark.zip/pyspark/java_gateway.py][1]. \r\n\r\n```\r\n            if not on_windows:\r\n                # Don&#39;t send ctrl-c / SIGINT to the Java gateway:\r\n                def preexec_func():\r\n                    signal.signal(signal.SIGINT, signal.SIG_IGN)\r\n\r\n                popen_kwargs[&quot;preexec_fn&quot;] = preexec_func\r\n                proc = Popen(command, **popen_kwargs)\r\n            else:\r\n                # preexec_fn not supported on Windows\r\n                proc = Popen(command, **popen_kwargs)\r\n\r\n            # Wait for the file to appear, or for the process to exit, whichever happens first.\r\n            while not proc.poll() and not os.path.isfile(conn_info_file):\r\n                time.sleep(0.1)\r\n\r\n            if not os.path.isfile(conn_info_file):\r\n                raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)      # &lt;-----\r\n```\r\n\r\nThe code simulates this pyspark process invocation to test if the PySpark has been started.\r\n\r\n\r\n# Test \r\n\r\nRun the code below to make sure pyspark is invoked. This is specific to Spark installed with homebrew on Mac Apple Silicon but the idea and approach will be applicable to other platforms. The Spark version is 3.3.1. Need to change the versions accordingly.\r\n\r\n\r\n```\r\nimport os\r\nimport shutil\r\nimport signal\r\nimport sys\r\nimport tempfile\r\nimport time\r\nfrom subprocess import Popen, PIPE\r\n\r\n# --------------------------------------------------------------------------------\r\n# Constant\r\n# --------------------------------------------------------------------------------\r\nSPARK_HOME = &quot;/opt/homebrew/Cellar/apache-spark/3.3.1/libexec&quot;\r\nJAVA_HOME = &#39;/opt/homebrew/opt/openjdk&#39;\r\n\r\n# --------------------------------------------------------------------------------\r\n# Environment Variables\r\n# NOTE:\r\n# SPARK_HOME must be set to /opt/homebrew/Cellar/apache-spark/3.3.1/libexec&quot;,\r\n# NOT /opt/homebrew/Cellar/apache-spark/3.3.1&quot;.\r\n# Otherwise Java gateway process exited before sending its port number in java_gateway.py\r\n# --------------------------------------------------------------------------------\r\nos.environ[&#39;SPARK_HOME&#39;] = SPARK_HOME\r\nos.environ[&#39;JAVA_HOME&#39;] = JAVA_HOME\r\nsys.path.extend([\r\n    f&quot;{SPARK_HOME}/python/lib/py4j-0.10.9.5-src.zip&quot;,\r\n    f&quot;{SPARK_HOME}/python/lib/pyspark.zip&quot;,\r\n])\r\n\r\n\r\n# --------------------------------------------------------------------------------\r\n# Pyspark Modules\r\n# --------------------------------------------------------------------------------\r\nfrom pyspark.serializers import read_int, UTF8Deserializer\r\n\r\n\r\n# --------------------------------------------------------------------------------\r\n#\r\n# --------------------------------------------------------------------------------\r\ndef preexec_func():\r\n    signal.signal(signal.SIGINT, signal.SIG_IGN)\r\n\r\n\r\ndef run_pyspark():\r\n    &quot;&quot;&quot;\r\n    &quot;&quot;&quot;\r\n    pyspark_command = [f&#39;{SPARK_HOME}/bin/spark-submit&#39;, &#39;--master&#39;, &#39;local[*]&#39;, &#39;pyspark-shell&#39;]\r\n\r\n    # Create a temporary directory where the gateway server should write the connection\r\n    # information.\r\n    proc = None\r\n    conn_info_dir = tempfile.mkdtemp()\r\n    try:\r\n        fd, conn_info_file = tempfile.mkstemp(dir=conn_info_dir)\r\n        os.close(fd)\r\n        os.unlink(conn_info_file)\r\n\r\n        env = dict(os.environ)\r\n        env[&quot;_PYSPARK_DRIVER_CONN_INFO_PATH&quot;] = conn_info_file\r\n\r\n        # Launch the Java gateway.\r\n        popen_kwargs = {&quot;stdin&quot;: PIPE, &quot;env&quot;: env}\r\n        # We open a pipe to stdin so that the Java gateway can die when the pipe is broken\r\n        # We always set the necessary environment variables.\r\n\r\n        print(f&quot;\\nrun pyspark command line {pyspark_command}&quot;)\r\n        popen_kwargs[&quot;preexec_fn&quot;] = preexec_func\r\n        proc = Popen(pyspark_command, **popen_kwargs)\r\n\r\n        # Wait for the file to appear, or for the process to exit, whichever happens first.\r\n        count: int = 5\r\n        while not proc.poll() and not os.path.isfile(conn_info_file):\r\n            print(&quot;waiting for pyspark to start...&quot;)\r\n            count -= 1\r\n            if count &lt; 0:\r\n                break\r\n\r\n            time.sleep(1)\r\n\r\n        if not os.path.isfile(conn_info_file):\r\n            raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\r\n\r\n        with open(conn_info_file, &quot;rb&quot;) as info:\r\n            gateway_port = read_int(info)\r\n            gateway_secret = UTF8Deserializer().loads(info)\r\n\r\n        out, err = proc.communicate()\r\n        print(&quot;-&quot;*80)\r\n        print(f&quot;pyspark started with pid {proc.pid}&quot;)\r\n        print(f&quot;spark process port {gateway_port}&quot;)\r\n    finally:\r\n        shutil.rmtree(conn_info_dir)\r\n        if proc:\r\n            proc.kill()\r\n\r\n\r\ndef test():\r\n    run_pyspark()\r\n\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    test()\r\n```\r\n\r\n\r\n# Environment\r\n\r\n```\r\nMac OS Ventua 13.0.1\r\nPython 3.9.13\r\nPySpark 3.3.1\r\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\r\nScala code runner version 3.2.2\r\n```\r\n\r\nJDK 8, Scala, Spark have been installed with brew.\r\n```\r\nbrew install --cask adoptopenjdk8\r\nbrew install scala\r\nbrew install apache-spark\r\n```\r\n\r\nJava process is allowed to get incoming connections at System Preferences &gt; Security &gt; Firewall.\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n# References\r\n\r\n* [PySpark Installation](https://spark.apache.org/docs/latest/api/python/getting_started/install.html#manually-downloading)\r\n\r\n&gt; Ensure the SPARK_HOME environment variable points to the directory where the tar file has been extracted. \r\n&gt; Update PYTHONPATH environment variable such that it can find the PySpark and Py4J under SPARK_HOME/python/lib. One example of doing this is shown below:\r\n\r\n\r\n  [1]: https://github.com/apache/spark/blob/master/python/pyspark/java_gateway.py\r\n  [2]: https://i.stack.imgur.com/oodKMm.png","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<h1>Background</h1>\n<p>The error <code>Java gateway process exited before sending the driver its port number</code> occurs in <a href=\"https://github.com/apache/spark/blob/master/python/pyspark/java_gateway.py\" rel=\"nofollow noreferrer\">SPARK_HOME/python/lib/pyspark.zip/pyspark/java_gateway.py</a>.</p>\n<pre><code>            if not on_windows:\n                # Don't send ctrl-c / SIGINT to the Java gateway:\n                def preexec_func():\n                    signal.signal(signal.SIGINT, signal.SIG_IGN)\n\n                popen_kwargs[&quot;preexec_fn&quot;] = preexec_func\n                proc = Popen(command, **popen_kwargs)\n            else:\n                # preexec_fn not supported on Windows\n                proc = Popen(command, **popen_kwargs)\n\n            # Wait for the file to appear, or for the process to exit, whichever happens first.\n            while not proc.poll() and not os.path.isfile(conn_info_file):\n                time.sleep(0.1)\n\n            if not os.path.isfile(conn_info_file):\n                raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)      # &lt;-----\n</code></pre>\n<p>The code simulates this pyspark process invocation to test if the PySpark has been started.</p>\n<h1>Test</h1>\n<p>Run the code below to make sure pyspark is invoked. This is specific to Spark installed with homebrew on Mac Apple Silicon but the idea and approach will be applicable to other platforms. The Spark version is 3.3.1. Need to change the versions accordingly.</p>\n<pre><code>import os\nimport shutil\nimport signal\nimport sys\nimport tempfile\nimport time\nfrom subprocess import Popen, PIPE\n\n# --------------------------------------------------------------------------------\n# Constant\n# --------------------------------------------------------------------------------\nSPARK_HOME = &quot;/opt/homebrew/Cellar/apache-spark/3.3.1/libexec&quot;\nJAVA_HOME = '/opt/homebrew/opt/openjdk'\n\n# --------------------------------------------------------------------------------\n# Environment Variables\n# NOTE:\n# SPARK_HOME must be set to /opt/homebrew/Cellar/apache-spark/3.3.1/libexec&quot;,\n# NOT /opt/homebrew/Cellar/apache-spark/3.3.1&quot;.\n# Otherwise Java gateway process exited before sending its port number in java_gateway.py\n# --------------------------------------------------------------------------------\nos.environ['SPARK_HOME'] = SPARK_HOME\nos.environ['JAVA_HOME'] = JAVA_HOME\nsys.path.extend([\n    f&quot;{SPARK_HOME}/python/lib/py4j-0.10.9.5-src.zip&quot;,\n    f&quot;{SPARK_HOME}/python/lib/pyspark.zip&quot;,\n])\n\n\n# --------------------------------------------------------------------------------\n# Pyspark Modules\n# --------------------------------------------------------------------------------\nfrom pyspark.serializers import read_int, UTF8Deserializer\n\n\n# --------------------------------------------------------------------------------\n#\n# --------------------------------------------------------------------------------\ndef preexec_func():\n    signal.signal(signal.SIGINT, signal.SIG_IGN)\n\n\ndef run_pyspark():\n    &quot;&quot;&quot;\n    &quot;&quot;&quot;\n    pyspark_command = [f'{SPARK_HOME}/bin/spark-submit', '--master', 'local[*]', 'pyspark-shell']\n\n    # Create a temporary directory where the gateway server should write the connection\n    # information.\n    proc = None\n    conn_info_dir = tempfile.mkdtemp()\n    try:\n        fd, conn_info_file = tempfile.mkstemp(dir=conn_info_dir)\n        os.close(fd)\n        os.unlink(conn_info_file)\n\n        env = dict(os.environ)\n        env[&quot;_PYSPARK_DRIVER_CONN_INFO_PATH&quot;] = conn_info_file\n\n        # Launch the Java gateway.\n        popen_kwargs = {&quot;stdin&quot;: PIPE, &quot;env&quot;: env}\n        # We open a pipe to stdin so that the Java gateway can die when the pipe is broken\n        # We always set the necessary environment variables.\n\n        print(f&quot;\\nrun pyspark command line {pyspark_command}&quot;)\n        popen_kwargs[&quot;preexec_fn&quot;] = preexec_func\n        proc = Popen(pyspark_command, **popen_kwargs)\n\n        # Wait for the file to appear, or for the process to exit, whichever happens first.\n        count: int = 5\n        while not proc.poll() and not os.path.isfile(conn_info_file):\n            print(&quot;waiting for pyspark to start...&quot;)\n            count -= 1\n            if count &lt; 0:\n                break\n\n            time.sleep(1)\n\n        if not os.path.isfile(conn_info_file):\n            raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\n\n        with open(conn_info_file, &quot;rb&quot;) as info:\n            gateway_port = read_int(info)\n            gateway_secret = UTF8Deserializer().loads(info)\n\n        out, err = proc.communicate()\n        print(&quot;-&quot;*80)\n        print(f&quot;pyspark started with pid {proc.pid}&quot;)\n        print(f&quot;spark process port {gateway_port}&quot;)\n    finally:\n        shutil.rmtree(conn_info_dir)\n        if proc:\n            proc.kill()\n\n\ndef test():\n    run_pyspark()\n\n\nif __name__ == &quot;__main__&quot;:\n    test()\n</code></pre>\n<h1>Environment</h1>\n<pre><code>Mac OS Ventua 13.0.1\nPython 3.9.13\nPySpark 3.3.1\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\nScala code runner version 3.2.2\n</code></pre>\n<p>JDK 8, Scala, Spark have been installed with brew.</p>\n<pre><code>brew install --cask adoptopenjdk8\nbrew install scala\nbrew install apache-spark\n</code></pre>\n<p>Java process is allowed to get incoming connections at System Preferences &gt; Security &gt; Firewall.</p>\n<p><a href=\"https://i.stack.imgur.com/oodKMm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oodKMm.png\" alt=\"enter image description here\" /></a></p>\n<h1>References</h1>\n<ul>\n<li><a href=\"https://spark.apache.org/docs/latest/api/python/getting_started/install.html#manually-downloading\" rel=\"nofollow noreferrer\">PySpark Installation</a></li>\n</ul>\n<blockquote>\n<p>Ensure the SPARK_HOME environment variable points to the directory where the tar file has been extracted.\nUpdate PYTHONPATH environment variable such that it can find the PySpark and Py4J under SPARK_HOME/python/lib. One example of doing this is shown below:</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17606614,"reputation":2398,"user_id":12775531,"display_name":"s510"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680252646,"creation_date":1680252646,"answer_id":75896573,"question_id":31841509,"body_markdown":"This error indicates there is a **mismatch between PySpark and Java version**. Both of them are not compatible. **See the below compatibility matrix.**\r\n\r\n\r\n    PySpark Version\t Min Java Version\r\n    -------------------------------------\r\n    2.0.x - 2.2.x\t Java 7\r\n    2.3.x - 2.4.x\t Java 8\r\n    3.0.x - 3.1.x\t Java 8\r\n    3.2.x\t         Java 11\r\n\r\nCheck your JAVA version\r\n**If it is 17, then you need PySpark 3.3 at least.\r\nSo upgrade the PySpark**. ","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>This error indicates there is a <strong>mismatch between PySpark and Java version</strong>. Both of them are not compatible. <strong>See the below compatibility matrix.</strong></p>\n<pre><code>PySpark Version  Min Java Version\n-------------------------------------\n2.0.x - 2.2.x    Java 7\n2.3.x - 2.4.x    Java 8\n3.0.x - 3.1.x    Java 8\n3.2.x            Java 11\n</code></pre>\n<p>Check your JAVA version\n<strong>If it is 17, then you need PySpark 3.3 at least.\nSo upgrade the PySpark</strong>.</p>\n"}],"owner":{"account_id":4541604,"reputation":2895,"user_id":3689314,"accept_rate":74,"display_name":"mt88"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361523,"favorite_count":0,"down_vote_count":0,"up_vote_count":129,"answer_count":42,"score":129,"last_activity_date":1689784106,"creation_date":1438803941,"question_id":31841509,"body_markdown":"I&#39;m trying to run pyspark on my macbook air. When i try starting it up I get the error:\r\n\r\n    Exception: Java gateway process exited before sending the driver its port number\r\n\r\nwhen sc = SparkContext() is being called upon startup. I have tried running the following commands:\r\n\r\n    ./bin/pyspark\r\n    ./bin/spark-shell\r\n    export PYSPARK_SUBMIT_ARGS=&quot;--master local[2] pyspark-shell&quot;\r\n\r\nwith no avail. I have also looked here:\r\n\r\n https://stackoverflow.com/questions/31825911/spark-python-java-gateway-process-exited-before-sending-the-driver-its-port \r\n    \r\n\r\nbut the question has never been answered. Please help! Thanks.","title":"Pyspark: Exception: Java gateway process exited before sending the driver its port number","body":"<p>I'm trying to run pyspark on my macbook air. When i try starting it up I get the error:</p>\n\n<pre><code>Exception: Java gateway process exited before sending the driver its port number\n</code></pre>\n\n<p>when sc = SparkContext() is being called upon startup. I have tried running the following commands:</p>\n\n<pre><code>./bin/pyspark\n./bin/spark-shell\nexport PYSPARK_SUBMIT_ARGS=\"--master local[2] pyspark-shell\"\n</code></pre>\n\n<p>with no avail. I have also looked here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31825911/spark-python-java-gateway-process-exited-before-sending-the-driver-its-port\">Spark + Python - Java gateway process exited before sending the driver its port number?</a> </p>\n\n<p>but the question has never been answered. Please help! Thanks.</p>\n"},{"tags":["java","loops","counter"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1689777305,"post_id":76722451,"comment_id":135261959,"body_markdown":"Please post your code here as text, not a screenshot. Also, check out [this article]https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code.","body":"Please post your code here as text, not a screenshot. Also, check out [this article]<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-progra&zwnj;&#8203;ms</a>) for tips on debugging your code."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689777306,"post_id":76722451,"comment_id":135261960,"body_markdown":"Never post images of code. Post it as text.","body":"Never post images of code. Post it as text."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1689777402,"post_id":76722451,"comment_id":135261989,"body_markdown":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question *as text*, [not as pictures of text](https://meta.stackoverflow.com/q/285551/328193).  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question <i>as text</i>, <a href=\"https://meta.stackoverflow.com/q/285551/328193\">not as pictures of text</a>.  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1689777407,"post_id":76722451,"comment_id":135261991,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1689777416,"post_id":76722451,"comment_id":135261998,"body_markdown":"Additionally... This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?","body":"Additionally... This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1689777428,"post_id":76722451,"comment_id":135262002,"body_markdown":"`i%num == 0` for the numbers in the range of `[2, num]` will only ever be true once, when `i == num`. I&#39;d also encourage using brackets/braces a little more liberally.","body":"<code>i%num == 0</code> for the numbers in the range of <code>[2, num]</code> will only ever be true once, when <code>i == num</code>. I&#39;d also encourage using brackets/braces a little more liberally."},{"owner":{"account_id":29050025,"reputation":3,"user_id":22253056,"display_name":"HRISHIKESH DEY"},"score":0,"creation_date":1689778705,"post_id":76722451,"comment_id":135262324,"body_markdown":"Thank you so much for the enlightenment as a beginner I am yet to become familiar with the platform.","body":"Thank you so much for the enlightenment as a beginner I am yet to become familiar with the platform."}],"answers":[{"tags":[],"owner":{"account_id":24698116,"reputation":28,"user_id":18589783,"display_name":"Abishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689784060,"creation_date":1689782959,"answer_id":76723273,"question_id":76722451,"body_markdown":"Change the if condition or statement from ```if(i%num == 0)``` to ```if(num%i == 0)```. It will lead to correct output. In our case input is number 10 it is divisible by number 2 and number 5. Then the program will print 10 is not an prime number.","title":"Why is my integer variable count not incremenating and adding by 1 in for loop","body":"<p>Change the if condition or statement from <code>if(i%num == 0)</code> to <code>if(num%i == 0)</code>. It will lead to correct output. In our case input is number 10 it is divisible by number 2 and number 5. Then the program will print 10 is not an prime number.</p>\n"}],"owner":{"account_id":29050025,"reputation":3,"user_id":22253056,"display_name":"HRISHIKESH DEY"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76723273,"answer_count":1,"score":-1,"last_activity_date":1689784060,"creation_date":1689777266,"question_id":76722451,"body_markdown":"(https://i.stack.imgur.com/kjquh.png)\r\n\r\nTrying to increment the integer variable by count each time the if condition returned true.\r\n\r\nit is not working properly the count is showing zero at all times \r\n\r\ni am trying to find the program for prime number using loop\r\n","title":"Why is my integer variable count not incremenating and adding by 1 in for loop","body":"<p>(<a href=\"https://i.stack.imgur.com/kjquh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/kjquh.png</a>)</p>\n<p>Trying to increment the integer variable by count each time the if condition returned true.</p>\n<p>it is not working properly the count is showing zero at all times</p>\n<p>i am trying to find the program for prime number using loop</p>\n"},{"tags":["java","databricks","databricks-connect"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1638195201,"post_id":70153343,"comment_id":124016199,"body_markdown":"It means that library is trying to hack a Java core library, which is not allowed starting in Java 9.  The easiest solution is to stick with Java 8.","body":"It means that library is trying to hack a Java core library, which is not allowed starting in Java 9.  The easiest solution is to stick with Java 8."}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1638203117,"creation_date":1638203117,"answer_id":70157929,"question_id":70153343,"body_markdown":"Databricks Runtimes and databricks-connect won&#39;t work with Java 14. Only DBR 10.x have an experimental support for Java 11, but I doubt that it&#39;s supported for databricks-connect.\r\n\r\nYou need to install Java 8 to use databricks-connect.","title":"Unable to make private java.nio.DirectByteBuffer(long,int) accessible","body":"<p>Databricks Runtimes and databricks-connect won't work with Java 14. Only DBR 10.x have an experimental support for Java 11, but I doubt that it's supported for databricks-connect.</p>\n<p>You need to install Java 8 to use databricks-connect.</p>\n"},{"tags":[],"owner":{"account_id":2448404,"reputation":8258,"user_id":2553191,"accept_rate":97,"display_name":"ehacinom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689783976,"creation_date":1689783976,"answer_id":76723405,"question_id":70153343,"body_markdown":"I had to \r\n\r\n - Install Java 8, eg\r\n```\r\nbrew install --cask adoptopenjdk/openjdk/adoptopenjdk8\r\n```\r\n - add $JAVA_HOME to my ~/.zshrc\r\n```\r\nexport JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&#39;\r\nexport JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\r\n```\r\n - remove any other jdk installs\r\n```\r\nls /Library/Java/JavaVirtualMachines\r\nsudo rm -rf NONJDK8.jdk\r\n```\r\n\r\nThe 3rd bit is important! It did not work until I removed other-versioned jdks.","title":"Unable to make private java.nio.DirectByteBuffer(long,int) accessible","body":"<p>I had to</p>\n<ul>\n<li>Install Java 8, eg</li>\n</ul>\n<pre><code>brew install --cask adoptopenjdk/openjdk/adoptopenjdk8\n</code></pre>\n<ul>\n<li>add $JAVA_HOME to my ~/.zshrc</li>\n</ul>\n<pre><code>export JAVA_HOME='/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home'\nexport JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\n</code></pre>\n<ul>\n<li>remove any other jdk installs</li>\n</ul>\n<pre><code>ls /Library/Java/JavaVirtualMachines\nsudo rm -rf NONJDK8.jdk\n</code></pre>\n<p>The 3rd bit is important! It did not work until I removed other-versioned jdks.</p>\n"}],"owner":{"account_id":9519692,"reputation":820,"user_id":7074969,"display_name":"anthino12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11681,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":70157929,"answer_count":2,"score":11,"last_activity_date":1689783976,"creation_date":1638182895,"question_id":70153343,"body_markdown":"I&#39;m using Python to access Databricks through `databricks-connect`. Behind the wall, this uses spark which is indeed java based so in order to use this, I need java. The JDK has been downloaded (version 14), set as JAVA_HOME env but when I run the code, I get the following error:\r\n\r\n&gt; Caused by: java.lang.reflect.InaccessibleObjectException: Unable to\r\n&gt; make private java.nio.DirectByteBuffer(long,int) accessible: module\r\n&gt; java.base does not &quot;opens java.nio&quot; to unnamed module @bccb269\r\n\r\nThis is the code where it crashes\r\n```\r\nfrom pyspark.sql import SparkSession\r\nspark = SparkSession.builder.getOrCreate()\r\n```\r\nI googled but couldn&#39;t find this error, I don&#39;t think it&#39;s the first time occurring to me. Any ideas what this error means and how can I fix it?","title":"Unable to make private java.nio.DirectByteBuffer(long,int) accessible","body":"<p>I'm using Python to access Databricks through <code>databricks-connect</code>. Behind the wall, this uses spark which is indeed java based so in order to use this, I need java. The JDK has been downloaded (version 14), set as JAVA_HOME env but when I run the code, I get the following error:</p>\n<blockquote>\n<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to\nmake private java.nio.DirectByteBuffer(long,int) accessible: module\njava.base does not &quot;opens java.nio&quot; to unnamed module @bccb269</p>\n</blockquote>\n<p>This is the code where it crashes</p>\n<pre><code>from pyspark.sql import SparkSession\nspark = SparkSession.builder.getOrCreate()\n</code></pre>\n<p>I googled but couldn't find this error, I don't think it's the first time occurring to me. Any ideas what this error means and how can I fix it?</p>\n"},{"tags":["java","spring","scala"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1689763069,"post_id":76720385,"comment_id":135258265,"body_markdown":"Does this answer your question? [How to use Spring Autowired (or manually wired) in Scala object?](https://stackoverflow.com/questions/8344224/how-to-use-spring-autowired-or-manually-wired-in-scala-object)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8344224/how-to-use-spring-autowired-or-manually-wired-in-scala-object\">How to use Spring Autowired (or manually wired) in Scala object?</a>"},{"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"score":0,"creation_date":1689783922,"post_id":76720385,"comment_id":135263594,"body_markdown":"no,I have a java @\\component, that has many @\\Injected Bean / Components, so need to call the top level @\\Component by creating a object and access it method in Scala. The @\\component is java spring belongs to package org.springframework.stereotype.Component. How to handle @\\component objects / auto wire in Scala ?!","body":"no,I have a java @\\component, that has many @\\Injected Bean / Components, so need to call the top level @\\Component by creating a object and access it method in Scala. The @\\component is java spring belongs to package org.springframework.stereotype.Component. How to handle @\\component objects / auto wire in Scala ?!"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1689792963,"post_id":76720385,"comment_id":135265401,"body_markdown":"could you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689783604,"creation_date":1689762974,"question_id":76720385,"body_markdown":"In Scala, how to invoke the application context to consume a custom jar library written using org.springframework.stereotype @Component annotation . \r\n\r\nThe @Component is used to create the java class files, i need to invoke there associated methods in the scala. \r\n\r\nAny inputs is appreciated.\r\n\r\nSpring custom library -&gt; Has @component with a method.\r\n\r\nNeed to inject the bean and invoke its associated method in scala.\r\n\r\n\r\n","title":"in Scala, i need to invoke a Java method in the custom component present in spring org.springframework.stereotype","body":"<p>In Scala, how to invoke the application context to consume a custom jar library written using org.springframework.stereotype @Component annotation .</p>\n<p>The @Component is used to create the java class files, i need to invoke there associated methods in the scala.</p>\n<p>Any inputs is appreciated.</p>\n<p>Spring custom library -&gt; Has @component with a method.</p>\n<p>Need to inject the bean and invoke its associated method in scala.</p>\n"},{"tags":["java","google-app-engine","google-cloud-datastore","objectify"],"comments":[{"owner":{"account_id":20715675,"reputation":5404,"user_id":15211203,"display_name":"NoCommandLine"},"score":0,"creation_date":1689790945,"post_id":76722962,"comment_id":135264984,"body_markdown":"In addition to the response from @stickfigure, you can also take a look at the [Bundled Search API](https://cloud.google.com/appengine/docs/legacy/standard/java/search) (see [this document](https://cloud.google.com/appengine/docs/standard/java-gen2/services/access) for second generation JAVA runtimes), if you end up having a need to do a lot of these type of searches across multiple fields","body":"In addition to the response from @stickfigure, you can also take a look at the <a href=\"https://cloud.google.com/appengine/docs/legacy/standard/java/search\" rel=\"nofollow noreferrer\">Bundled Search API</a> (see <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/services/access\" rel=\"nofollow noreferrer\">this document</a> for second generation JAVA runtimes), if you end up having a need to do a lot of these type of searches across multiple fields"}],"answers":[{"tags":[],"owner":{"account_id":318652,"reputation":13493,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689783248,"creation_date":1689783248,"answer_id":76723308,"question_id":76722962,"body_markdown":"There isn&#39;t a partial match operator in the datastore (ie `LIKE &#39;%foo%&#39;` in sql).\r\n\r\nYou can however create a synthetic index that holds all your potential search terms. Add a field to your entity like this:\r\n\r\n    List&lt;String&gt; searchTerms = new ArrayList&lt;&gt;();\r\n\r\nPopulate it in an `@OnSave` method. Then you can filter by the `searchTerms` field. Be sure to normalize (eg lowercase) both the term generation and the term in the query.\r\n\r\nThe good thing about this approach is that you can put anything you want in there, not just words from the title. If you want the author name, keywords, etc - just add them. You might also choose to ignore stop words like &#39;a&#39;, &#39;the&#39;, &#39;and&#39;, etc. You can use the lucene library to filter out stop words and even perform stemming if you want.","title":"How do I get a entity from the datastore by filtering a string property?","body":"<p>There isn't a partial match operator in the datastore (ie <code>LIKE '%foo%'</code> in sql).</p>\n<p>You can however create a synthetic index that holds all your potential search terms. Add a field to your entity like this:</p>\n<pre><code>List&lt;String&gt; searchTerms = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Populate it in an <code>@OnSave</code> method. Then you can filter by the <code>searchTerms</code> field. Be sure to normalize (eg lowercase) both the term generation and the term in the query.</p>\n<p>The good thing about this approach is that you can put anything you want in there, not just words from the title. If you want the author name, keywords, etc - just add them. You might also choose to ignore stop words like 'a', 'the', 'and', etc. You can use the lucene library to filter out stop words and even perform stemming if you want.</p>\n"}],"owner":{"account_id":29050390,"reputation":1,"user_id":22253354,"display_name":"Karthick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689783248,"creation_date":1689780745,"question_id":76722962,"body_markdown":"I have few entities in the datastore.\r\nThis is the structure of the enitity.\r\n\r\n\r\n```\r\npublic class YTLink {\r\n    @Id\r\n    String videoId;\r\n    @Index\r\n    String videoTitle;\r\n    @Index\r\n    String videoLink;\r\n    @Index\r\n    String videoThumbnail;\r\n}\r\n```\r\n\r\n\r\nwhen I send a request with a keyword, I should check for the YTLink entities in the datastore which contains that specific keyword in its videoTitle property.\r\n\r\nI&#39;m using Objectify btw.\r\n\r\n\r\nI tried to get all the YTList entities from the datastore and Iterated through that list to check for a match.\r\n\r\n```\r\nList&lt;YTLink&gt; ytLinkList = ObjectifyInitializer.ofy().load().type(YTLink.class).list();\r\n\r\nytLinkList.removeIf(video -&gt; video.getVideoTitle() == null || !video.getVideoTitle().toLowerCase().contains(searchKeyword.trim().toLowerCase()));\r\n```\r\n\r\n\r\nI need to know is there a way to apply filter while retrieving the data, Like\r\nObjectifyInitializer.ofy().load().type(YTLink.class).filter(&quot;videoTitle&quot;,searchKeyword).list();\r\nSomething like this\r\n\r\n\r\nPlease let me know if anyone knows how to filter the entities based on the String property.\r\nThanks in advance.\r\n\r\n","title":"How do I get a entity from the datastore by filtering a string property?","body":"<p>I have few entities in the datastore.\nThis is the structure of the enitity.</p>\n<pre><code>public class YTLink {\n    @Id\n    String videoId;\n    @Index\n    String videoTitle;\n    @Index\n    String videoLink;\n    @Index\n    String videoThumbnail;\n}\n</code></pre>\n<p>when I send a request with a keyword, I should check for the YTLink entities in the datastore which contains that specific keyword in its videoTitle property.</p>\n<p>I'm using Objectify btw.</p>\n<p>I tried to get all the YTList entities from the datastore and Iterated through that list to check for a match.</p>\n<pre><code>List&lt;YTLink&gt; ytLinkList = ObjectifyInitializer.ofy().load().type(YTLink.class).list();\n\nytLinkList.removeIf(video -&gt; video.getVideoTitle() == null || !video.getVideoTitle().toLowerCase().contains(searchKeyword.trim().toLowerCase()));\n</code></pre>\n<p>I need to know is there a way to apply filter while retrieving the data, Like\nObjectifyInitializer.ofy().load().type(YTLink.class).filter(&quot;videoTitle&quot;,searchKeyword).list();\nSomething like this</p>\n<p>Please let me know if anyone knows how to filter the entities based on the String property.\nThanks in advance.</p>\n"},{"tags":["java","runtime","wildfly","classnotfoundexception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689803154,"post_id":76722761,"comment_id":135267084,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"display_name":"user22253296"},"score":0,"creation_date":1689847948,"post_id":76722761,"comment_id":135272608,"body_markdown":"finally fixed itself last night maybe needed a cleanup of eclipse","body":"finally fixed itself last night maybe needed a cleanup of eclipse"}],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689782770,"creation_date":1689782770,"answer_id":76723247,"question_id":76722761,"body_markdown":"WildFly 27 is JakartaEE 10, given your lopps I think you are using JavaEE 7/_ code.\r\nYou an specify the tzrget version of your code when you compile it if you really need it to be Java 8 compatible.\r\n","title":"ClassNotFound exception wildfly 27","body":"<p>WildFly 27 is JakartaEE 10, given your lopps I think you are using JavaEE 7/_ code.\nYou an specify the tzrget version of your code when you compile it if you really need it to be Java 8 compatible.</p>\n"}],"owner":{"display_name":"user22253296"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689782770,"creation_date":1689779466,"question_id":76722761,"body_markdown":"practically for me the servlet is not working , first using WildFly 10 it gave me an error not having the jre 1.8 I downloaded it but then it gave me another error saying that the class was compiled with a runtime version 63.0 and was not supported , I so I checked which version of Java supported 63 and it came out that it was 19 , I installed etc. I also decided to use wildfly 27 , I started the server but now it no longer gives me the version error but rather tells me that can&#39;t&#160;find&#160;the&#160;class\r\n\r\n\r\nI also tried to use a new project but nothing","title":"ClassNotFound exception wildfly 27","body":"<p>practically for me the servlet is not working , first using WildFly 10 it gave me an error not having the jre 1.8 I downloaded it but then it gave me another error saying that the class was compiled with a runtime version 63.0 and was not supported , I so I checked which version of Java supported 63 and it came out that it was 19 , I installed etc. I also decided to use wildfly 27 , I started the server but now it no longer gives me the version error but rather tells me that can't find the class</p>\n<p>I also tried to use a new project but nothing</p>\n"},{"tags":["java","spring","mongodb","spring-data","mongorepository"],"answers":[{"tags":[],"owner":{"account_id":161392,"reputation":1160,"user_id":4147392,"display_name":"Luis Costa"},"down_vote_count":0,"up_vote_count":97,"is_accepted":false,"score":97,"last_activity_date":1474970199,"creation_date":1474970199,"answer_id":39721643,"question_id":37118047,"body_markdown":"**I add the line (below) in application.properties and works fine:**\r\n\r\n    logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG\r\n\r\n**for query:**\r\n\r\n    @Query(&quot;{$and: [{&#39;$or&#39; : [{ &#39;name&#39;: {$regex : ?0, $options: &#39;i&#39;}}, {&#39;description&#39;: {$regex : ?1, $options: &#39;i&#39;}}]}, { &#39;deleted&#39; : ?2 }]}&quot;)\r\n\r\n**obtain this log:**\r\n\r\n    2016-09-27 10:53:26.245 DEBUG 13604 --- [nio-9090-exec-3] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;$and&quot; : [ { &quot;$or&quot; : [ { &quot;name&quot; : { &quot;$regex&quot; : &quot;c&quot; , &quot;$options&quot; : &quot;i&quot;}} , { &quot;description&quot; : { &quot;$regex&quot; : &quot;c&quot; , &quot;$options&quot; : &quot;i&quot;}}]} , { &quot;deleted&quot; : false}]} fields: null for class: class com.habber.domain.Entity in collection: entities","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<p><strong>I add the line (below) in application.properties and works fine:</strong></p>\n\n<pre><code>logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG\n</code></pre>\n\n<p><strong>for query:</strong></p>\n\n<pre><code>@Query(\"{$and: [{'$or' : [{ 'name': {$regex : ?0, $options: 'i'}}, {'description': {$regex : ?1, $options: 'i'}}]}, { 'deleted' : ?2 }]}\")\n</code></pre>\n\n<p><strong>obtain this log:</strong></p>\n\n<pre><code>2016-09-27 10:53:26.245 DEBUG 13604 --- [nio-9090-exec-3] o.s.data.mongodb.core.MongoTemplate      : find using query: { \"$and\" : [ { \"$or\" : [ { \"name\" : { \"$regex\" : \"c\" , \"$options\" : \"i\"}} , { \"description\" : { \"$regex\" : \"c\" , \"$options\" : \"i\"}}]} , { \"deleted\" : false}]} fields: null for class: class com.habber.domain.Entity in collection: entities\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8563155,"reputation":1009,"user_id":6416551,"display_name":"Wilder Valera"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1518121917,"creation_date":1518121917,"answer_id":48694296,"question_id":37118047,"body_markdown":"For ReactiveMongo add this property to your .properties file\r\n   \r\n    logging.level.org.springframework.data.mongodb.core.ReactiveMongoTemplate=DEBUG","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<p>For ReactiveMongo add this property to your .properties file</p>\n\n<pre><code>logging.level.org.springframework.data.mongodb.core.ReactiveMongoTemplate=DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7245190,"reputation":1455,"user_id":5527341,"display_name":"lin"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1554811238,"creation_date":1519299467,"answer_id":48926473,"question_id":37118047,"body_markdown":"Also, you can use a yml config file, put it in your application.yml file.\r\n\r\n    logging:\r\n      level:\r\n        org.springframework.data.mongodb.core.MongoTemplate: DEBUG","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<p>Also, you can use a yml config file, put it in your application.yml file.</p>\n\n<pre><code>logging:\n  level:\n    org.springframework.data.mongodb.core.MongoTemplate: DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1593087890,"creation_date":1593087890,"answer_id":62575284,"question_id":37118047,"body_markdown":"&gt;This is a late answer but I found the correct answer hasn&#39;t been given yet based on the question. \r\n\r\nThe answer already given by the people may be valid for other scenarios. But, if you are using the `MongoRepository` then the correct configuration would be the following:\r\n\r\n    logging.level.org.springframework.data.mongodb.repository.query= debug\r\n\r\nYou are using the `Query` in your configuration instead of `query` which is wrong.\r\n\r\nWhen  you add correct configuration then the logger would be like:\r\n\r\n    25-06-2020 17:58:43.301 [http-nio-9001-exec-10] DEBUG o.s.d.m.r.query.MongoQueryCreator.complete(162) - Created query Query: { &quot;customer.id&quot; : 2}, Fields: {}, Sort: {}","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<blockquote>\n<p>This is a late answer but I found the correct answer hasn't been given yet based on the question.</p>\n</blockquote>\n<p>The answer already given by the people may be valid for other scenarios. But, if you are using the <code>MongoRepository</code> then the correct configuration would be the following:</p>\n<pre><code>logging.level.org.springframework.data.mongodb.repository.query= debug\n</code></pre>\n<p>You are using the <code>Query</code> in your configuration instead of <code>query</code> which is wrong.</p>\n<p>When  you add correct configuration then the logger would be like:</p>\n<pre><code>25-06-2020 17:58:43.301 [http-nio-9001-exec-10] DEBUG o.s.d.m.r.query.MongoQueryCreator.complete(162) - Created query Query: { &quot;customer.id&quot; : 2}, Fields: {}, Sort: {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2580520,"reputation":451,"user_id":2237302,"accept_rate":88,"display_name":"Ivan Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647446399,"creation_date":1647446399,"answer_id":71500340,"question_id":37118047,"body_markdown":"I think that the complete solution is according @Wilder Valera and @Chaojun Zhong\r\n\r\nWhen you want to log for MongoTemplate the answer:\r\n\r\n    logging:\r\n       level:\r\n           org.springframework.data.mongodb.core.MongoTemplate: DEBUG\r\n\r\nWhen you want to log for ReactiveMongoTemplate you should use:\r\n\r\n    logging.level.org.springframework.data.mongodb.core.ReactiveMongoTemplate=DEBUG\r\n","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<p>I think that the complete solution is according @Wilder Valera and @Chaojun Zhong</p>\n<p>When you want to log for MongoTemplate the answer:</p>\n<pre><code>logging:\n   level:\n       org.springframework.data.mongodb.core.MongoTemplate: DEBUG\n</code></pre>\n<p>When you want to log for ReactiveMongoTemplate you should use:</p>\n<pre><code>logging.level.org.springframework.data.mongodb.core.ReactiveMongoTemplate=DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7116583,"reputation":472,"user_id":6226118,"display_name":"I.R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674473876,"creation_date":1674473876,"answer_id":75208971,"question_id":37118047,"body_markdown":"The proposed solution is valid. But if you use `@DocumentReference` you may notice that N+1 queries won&#39;t appear in log. \r\n\r\nIf you want to know if referenced collection was queried, add the following property:\r\n\r\n```\r\nlogging.level.org.springframework.data.mongodb.core.convert.MongoDatabaseFactoryReferenceLoader=TRACE\r\n```","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<p>The proposed solution is valid. But if you use <code>@DocumentReference</code> you may notice that N+1 queries won't appear in log.</p>\n<p>If you want to know if referenced collection was queried, add the following property:</p>\n<pre><code>logging.level.org.springframework.data.mongodb.core.convert.MongoDatabaseFactoryReferenceLoader=TRACE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12212238,"reputation":2370,"user_id":8913704,"accept_rate":100,"display_name":"Artem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689782351,"creation_date":1689782351,"answer_id":76723193,"question_id":37118047,"body_markdown":"Keep in mind, that even if you do \r\n\r\n    logging:\r\n      level:\r\n        org:\r\n          springframework:\r\n            data:\r\n              mongodb:\r\n                core:\r\n                  MongoTemplate: DEBUG\r\n\r\nyou still may not be able to see the DEBUG statements if your main logger&#39;s configuration set to output only INFO messages. In our case, we had a `logback.xml` where we had an appender for frameworks with `level: INFO`. Until we changed this one as well to DEBUG we didn&#39;t see the queries from MongoDB:\r\n\r\n    &lt;appender name=&quot;FRAMEWORKS&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n                &lt;level&gt;DEBUG&lt;/level&gt;\r\n            &lt;/filter&gt;\r\n            ...\r\n    &lt;/appender&gt;","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<p>Keep in mind, that even if you do</p>\n<pre><code>logging:\n  level:\n    org:\n      springframework:\n        data:\n          mongodb:\n            core:\n              MongoTemplate: DEBUG\n</code></pre>\n<p>you still may not be able to see the DEBUG statements if your main logger's configuration set to output only INFO messages. In our case, we had a <code>logback.xml</code> where we had an appender for frameworks with <code>level: INFO</code>. Until we changed this one as well to DEBUG we didn't see the queries from MongoDB:</p>\n<pre><code>&lt;appender name=&quot;FRAMEWORKS&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;DEBUG&lt;/level&gt;\n        &lt;/filter&gt;\n        ...\n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":8167403,"reputation":581,"user_id":6149190,"display_name":"genchilu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62918,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":7,"score":58,"last_activity_date":1689782351,"creation_date":1462803239,"question_id":37118047,"body_markdown":"I&#39;m using MongoRepository in spring boot to access mongo:\r\n\r\n    public interface MongoReadRepository extends MongoRepository&lt;User, String&gt; {\r\n        @Query(value = &quot;{$where: &#39;this.name == ?0&#39;}&quot;, count = true)\r\n        public Long countName(String name);\r\n    }\r\nand it could work, but i wonder know the exactly query it accessing mongo\r\n\r\nhow to do that?\r\n\r\ni try to adding some config at properties like below:\r\n\r\n    logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG\r\n    logging.level.org.springframework.data.mongodb.repository.Query=DEBUG\r\n\r\nand don&#39;t work.\r\n\r\ncould somebody help?","title":"how to show query while using query annotations with MongoRepository with spring data","body":"<p>I'm using MongoRepository in spring boot to access mongo:</p>\n\n<pre><code>public interface MongoReadRepository extends MongoRepository&lt;User, String&gt; {\n    @Query(value = \"{$where: 'this.name == ?0'}\", count = true)\n    public Long countName(String name);\n}\n</code></pre>\n\n<p>and it could work, but i wonder know the exactly query it accessing mongo</p>\n\n<p>how to do that?</p>\n\n<p>i try to adding some config at properties like below:</p>\n\n<pre><code>logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG\nlogging.level.org.springframework.data.mongodb.repository.Query=DEBUG\n</code></pre>\n\n<p>and don't work.</p>\n\n<p>could somebody help?</p>\n"},{"tags":["java"],"owner":{"account_id":29050604,"reputation":1,"user_id":22253516,"display_name":"Andelic47 Aaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689782253,"creation_date":1689782253,"question_id":76723179,"body_markdown":"@HelloWorld\r\n```\r\n@Target({ElementType.METHOD})\r\n@Retention(RetentionPolicy.SOURCE)\r\npublic @interface HelloWorld {\r\n    String name() default &quot;&quot;;\r\n}\r\n```\r\n\r\n\r\nMyProcessor.class\r\n```\r\n@SupportedAnnotationTypes(&quot;org.example.HelloWorld&quot;)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_7)\r\n@AutoService(Processor.class)\r\npublic class MyProcessor extends AbstractProcessor {\r\n    private Filer mFiler;\r\n    @Override\r\n    public synchronized void init(ProcessingEnvironment processingEnv) {\r\n        super.init(processingEnv);\r\n        this.mFiler = processingEnv.getFiler();\r\n    }\r\n\r\n    private static final String SUFFIX = &quot;Test&quot; ;\r\n    private static final String packageName = &quot;cn.lovelycat.ata&quot;;\r\n    private static final String retStr = &quot;Generated!&quot;;\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        for (Element element : roundEnv.getElementsAnnotatedWith(HelloWorld.class)) {\r\n            HelloWorld annotation = element.getAnnotation(HelloWorld.class);\r\n            String name = annotation.name();\r\n\r\n            String newClassName = name + SUFFIX;\r\n\r\n            StringBuilder builder = new StringBuilder()\r\n                    .append(&quot;package &quot; + packageName + &quot;;\\n\\n&quot;)\r\n                    .append(&quot;public class &quot;)\r\n                    .append(newClassName)\r\n                    .append(&quot; {\\n\\n&quot;)\r\n                    .append(&quot;\\tpublic String getMessage() {\\n&quot;)\r\n                    .append(&quot;\\t\\treturn \\&quot;&quot;);\r\n            \r\n            builder.append(retStr).append(&quot; !\\\\n&quot;);\r\n\r\n            builder.append(&quot;\\&quot;;\\n&quot;)\r\n                    .append(&quot;\\t}\\n&quot;)\r\n                    .append(&quot;}\\n&quot;); \r\n\r\n            try {\r\n                JavaFileObject source = mFiler.createSourceFile(packageName + &quot;.&quot; + newClassName);\r\n                Writer writer = source.openWriter();\r\n                writer.write(builder.toString());\r\n                writer.flush();\r\n                writer.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have compiled this processor to a jar, and now I have added this jar to another project as a lib.\r\nJust like this.\r\n\r\n```\r\npublic class Main {\r\n    @HelloWorld(name = &quot;GeneratedMain&quot;)\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world&quot;);\r\n    }\r\n}\r\n```\r\n[Result](https://i.stack.imgur.com/CEZYn.png)\r\n\r\n\r\nAnd I tried to build the project, it just generated some files in out dir.\r\nNow I still could not to use the generated class in my project.\r\n\r\nHow should I do to make it work properly?","title":"How to use AbstractProcessor in a no-gradle project","body":"<p>@HelloWorld</p>\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.SOURCE)\npublic @interface HelloWorld {\n    String name() default &quot;&quot;;\n}\n</code></pre>\n<p>MyProcessor.class</p>\n<pre><code>@SupportedAnnotationTypes(&quot;org.example.HelloWorld&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_7)\n@AutoService(Processor.class)\npublic class MyProcessor extends AbstractProcessor {\n    private Filer mFiler;\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        super.init(processingEnv);\n        this.mFiler = processingEnv.getFiler();\n    }\n\n    private static final String SUFFIX = &quot;Test&quot; ;\n    private static final String packageName = &quot;cn.lovelycat.ata&quot;;\n    private static final String retStr = &quot;Generated!&quot;;\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (Element element : roundEnv.getElementsAnnotatedWith(HelloWorld.class)) {\n            HelloWorld annotation = element.getAnnotation(HelloWorld.class);\n            String name = annotation.name();\n\n            String newClassName = name + SUFFIX;\n\n            StringBuilder builder = new StringBuilder()\n                    .append(&quot;package &quot; + packageName + &quot;;\\n\\n&quot;)\n                    .append(&quot;public class &quot;)\n                    .append(newClassName)\n                    .append(&quot; {\\n\\n&quot;)\n                    .append(&quot;\\tpublic String getMessage() {\\n&quot;)\n                    .append(&quot;\\t\\treturn \\&quot;&quot;);\n            \n            builder.append(retStr).append(&quot; !\\\\n&quot;);\n\n            builder.append(&quot;\\&quot;;\\n&quot;)\n                    .append(&quot;\\t}\\n&quot;)\n                    .append(&quot;}\\n&quot;); \n\n            try {\n                JavaFileObject source = mFiler.createSourceFile(packageName + &quot;.&quot; + newClassName);\n                Writer writer = source.openWriter();\n                writer.write(builder.toString());\n                writer.flush();\n                writer.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n<p>I have compiled this processor to a jar, and now I have added this jar to another project as a lib.\nJust like this.</p>\n<pre><code>public class Main {\n    @HelloWorld(name = &quot;GeneratedMain&quot;)\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CEZYn.png\" rel=\"nofollow noreferrer\">Result</a></p>\n<p>And I tried to build the project, it just generated some files in out dir.\nNow I still could not to use the generated class in my project.</p>\n<p>How should I do to make it work properly?</p>\n"},{"tags":["java","android","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":7419981,"reputation":2073,"user_id":5644761,"display_name":"JakeB"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689782038,"creation_date":1689782038,"answer_id":76723144,"question_id":76477589,"body_markdown":"Sendgrid&#39;s Java library is not tuned to work with Android out-of-the-box unfortunately and encounters issues like you&#39;ve discovered.\r\n\r\nI have created and continue to maintain an Android Sendgrid library that you are welcome to use.\r\n\r\nhttps://github.com/jakebreen/android-sendgrid\r\n\r\n    allprojects {\r\n        repositories {\r\n            ...\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }\r\n\r\n\r\n    dependencies {\r\n        implementation &#39;com.github.jakebreen:android-sendgrid:1.3.1&#39;\r\n    }\r\n\r\nRaise an issue on the repository&#39;s issue board if you any queries.","title":"No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier when using Sendgrid in android","body":"<p>Sendgrid's Java library is not tuned to work with Android out-of-the-box unfortunately and encounters issues like you've discovered.</p>\n<p>I have created and continue to maintain an Android Sendgrid library that you are welcome to use.</p>\n<p><a href=\"https://github.com/jakebreen/android-sendgrid\" rel=\"nofollow noreferrer\">https://github.com/jakebreen/android-sendgrid</a></p>\n<pre><code>allprojects {\n    repositories {\n        ...\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n\n\ndependencies {\n    implementation 'com.github.jakebreen:android-sendgrid:1.3.1'\n}\n</code></pre>\n<p>Raise an issue on the repository's issue board if you any queries.</p>\n"}],"owner":{"account_id":20089567,"reputation":71,"user_id":14730383,"display_name":"Looc Yug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689782038,"creation_date":1686777319,"question_id":76477589,"body_markdown":"Getting the above error when trying to use Sendgrid in my android app\r\n\r\n\r\nbuild.gradle\r\n```java\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.sendgrid:sendgrid-java:4.9.3&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\nGetting the error in line 14 from this example: https://docs.sendgrid.com/for-developers/sending-email/v3-java-code-example\r\n\r\nEdit:\r\nI tried adding this to build.gradle but it didn&#39;t solve the issue\r\n```\r\nimplementation(&#39;org.apache.httpcomponents:httpmime:4.3.6&#39;) {\r\n        exclude module: &#39;httpclient&#39;\r\n    }\r\n```\r\n\r\nAdding this results in a bunch of `Duplicate class` errors\r\n```\r\n    implementation &#39;org.apache.httpcomponents:httpclient-android:4.3.5&#39;\r\n```\r\n\r\n","title":"No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier when using Sendgrid in android","body":"<p>Getting the above error when trying to use Sendgrid in my android app</p>\n<p>build.gradle</p>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.sendgrid:sendgrid-java:4.9.3'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>Getting the error in line 14 from this example: <a href=\"https://docs.sendgrid.com/for-developers/sending-email/v3-java-code-example\" rel=\"nofollow noreferrer\">https://docs.sendgrid.com/for-developers/sending-email/v3-java-code-example</a></p>\n<p>Edit:\nI tried adding this to build.gradle but it didn't solve the issue</p>\n<pre><code>implementation('org.apache.httpcomponents:httpmime:4.3.6') {\n        exclude module: 'httpclient'\n    }\n</code></pre>\n<p>Adding this results in a bunch of <code>Duplicate class</code> errors</p>\n<pre><code>    implementation 'org.apache.httpcomponents:httpclient-android:4.3.5'\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","jsp"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689781745,"creation_date":1689781745,"answer_id":76723105,"question_id":76722710,"body_markdown":"You can use any of the configuration options, the context path in Spring Boot can be changed by setting a property, `server.servlet.context-path`.\r\n\r\nNote, that it only works for Spring Boot \r\n2.x. and above. For Spring Boot 1.x, the property is `server.context-path`.","title":"How to add root context to spring boot application except for /login?","body":"<p>You can use any of the configuration options, the context path in Spring Boot can be changed by setting a property, <code>server.servlet.context-path</code>.</p>\n<p>Note, that it only works for Spring Boot\n2.x. and above. For Spring Boot 1.x, the property is <code>server.context-path</code>.</p>\n"}],"owner":{"account_id":13495438,"reputation":45,"user_id":9736439,"display_name":"Raja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689781835,"creation_date":1689779089,"question_id":76722710,"body_markdown":"I am working on a Spring Boot application with JSP as UI. Where I had to add a root-context `/applicationName` for the entire application except for `/login`.\r\n\r\nI tried  to added the below code to the `application.properties`. \r\n\r\n    server.servlet.context-path=/applicationName\r\n    server.servlet.context-path-exclude=/login\r\n\r\nbut it didn&#39;t work. Any thoughts? \r\n\r\n","title":"How to add root context to spring boot application except for /login?","body":"<p>I am working on a Spring Boot application with JSP as UI. Where I had to add a root-context <code>/applicationName</code> for the entire application except for <code>/login</code>.</p>\n<p>I tried  to added the below code to the <code>application.properties</code>.</p>\n<pre><code>server.servlet.context-path=/applicationName\nserver.servlet.context-path-exclude=/login\n</code></pre>\n<p>but it didn't work. Any thoughts?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"owner":{"account_id":28679067,"reputation":23,"user_id":21960620,"display_name":"solanke57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689781663,"creation_date":1689781663,"question_id":76723096,"body_markdown":"While trying to solve a certain problem, I used this solution:\r\n\r\nhttps://stackoverflow.com/a/65739712/21960620\r\n\r\nHowever, when I make a POST request to Company, it throws an exception org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor.\r\n\r\n```\r\norg.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor: com.solanke.spring6jobboardrest.domains.AppUser$AppUserBuilder\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.getEntityDescriptor(MappingMetamodelImpl.java:435) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.internal.SessionImpl.requireEntityPersister(SessionImpl.java:2271) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1173) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.internal.SessionImpl.getReference(SessionImpl.java:2507) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy129.getReference(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy129.getReference(Unknown Source) ~[na:na]\r\n\tat com.solanke.spring6jobboardrest.mappers.ReferenceMapper.map(ReferenceMapper.java:18) ~[classes/:na]\r\n\tat com.solanke.spring6jobboardrest.mappers.AppUserMapperImpl.toAppUser(AppUserMapperImpl.java:27) ~[classes/:na]\r\n\tat com.solanke.spring6jobboardrest.mappers.CompanyMapperImpl.companyDtoToCompany(CompanyMapperImpl.java:28) ~[classes/:na]\r\n\tat com.solanke.spring6jobboardrest.services.CompanyServiceImpl.saveNewCompany(CompanyServiceImpl.java:29) ~[classes/:na]\r\n\tat com.solanke.spring6jobboardrest.controllers.CompanyController.createCompany(CompanyController.java:34) ~[classes/:na]\r\n```\r\n\r\nReferenceMapper class\r\n```\r\n@Component\r\npublic class ReferenceMapper {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @ObjectFactory\r\n    public &lt;T&gt; T map(@NonNull final Long id, @TargetType Class&lt;T&gt; type) {\r\n        return entityManager.getReference(type, id);\r\n    }\r\n}\r\n\r\n```\r\n\r\nGenerated-sources AppUserMapperImpl\r\n```\r\n    @Override\r\n    public AppUser toAppUser(Long id) {\r\n        if ( id == null ) {\r\n            return null;\r\n        }\r\n\r\n        AppUser.AppUserBuilder appUser = referenceMapper.map( id, AppUser.AppUserBuilder.class );\r\n\r\n        appUser.id( id );\r\n\r\n        return appUser.build();\r\n    }\r\n```\r\n\r\nGenerated-sources CompanyMapperImpl\r\n```\r\n    @Override\r\n    public Company companyDtoToCompany(CompanyDto dto) {\r\n        if ( dto == null ) {\r\n            return null;\r\n        }\r\n\r\n        Company.CompanyBuilder company = Company.builder();\r\n\r\n        company.adminProfile( appUserMapper.toAppUser( dto.getUserId() ) );\r\n        company.id( dto.getId() );\r\n        company.companyName( dto.getCompanyName() );\r\n        company.description( dto.getDescription() );\r\n\r\n        return company.build();\r\n    }\r\n```\r\nCompanyDto class\r\n```\r\n@Builder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CompanyDto {\r\n\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String companyName;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String description;\r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private Long userId;\r\n\r\n}\r\n```\r\n\r\n\r\nBut, in the case where I remove **@Builder** from AppUser entity class, the exception is not thrown, and my question is why does it work after removing @Builder and why it does not work with this annotation.","title":"org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor","body":"<p>While trying to solve a certain problem, I used this solution:</p>\n<p><a href=\"https://stackoverflow.com/a/65739712/21960620\">https://stackoverflow.com/a/65739712/21960620</a></p>\n<p>However, when I make a POST request to Company, it throws an exception org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor.</p>\n<pre><code>org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor: com.solanke.spring6jobboardrest.domains.AppUser$AppUserBuilder\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.getEntityDescriptor(MappingMetamodelImpl.java:435) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.internal.SessionImpl.requireEntityPersister(SessionImpl.java:2271) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1173) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.internal.SessionImpl.getReference(SessionImpl.java:2507) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.9.jar:6.0.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy129.getReference(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.9.jar:6.0.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy129.getReference(Unknown Source) ~[na:na]\n    at com.solanke.spring6jobboardrest.mappers.ReferenceMapper.map(ReferenceMapper.java:18) ~[classes/:na]\n    at com.solanke.spring6jobboardrest.mappers.AppUserMapperImpl.toAppUser(AppUserMapperImpl.java:27) ~[classes/:na]\n    at com.solanke.spring6jobboardrest.mappers.CompanyMapperImpl.companyDtoToCompany(CompanyMapperImpl.java:28) ~[classes/:na]\n    at com.solanke.spring6jobboardrest.services.CompanyServiceImpl.saveNewCompany(CompanyServiceImpl.java:29) ~[classes/:na]\n    at com.solanke.spring6jobboardrest.controllers.CompanyController.createCompany(CompanyController.java:34) ~[classes/:na]\n</code></pre>\n<p>ReferenceMapper class</p>\n<pre><code>@Component\npublic class ReferenceMapper {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @ObjectFactory\n    public &lt;T&gt; T map(@NonNull final Long id, @TargetType Class&lt;T&gt; type) {\n        return entityManager.getReference(type, id);\n    }\n}\n\n</code></pre>\n<p>Generated-sources AppUserMapperImpl</p>\n<pre><code>    @Override\n    public AppUser toAppUser(Long id) {\n        if ( id == null ) {\n            return null;\n        }\n\n        AppUser.AppUserBuilder appUser = referenceMapper.map( id, AppUser.AppUserBuilder.class );\n\n        appUser.id( id );\n\n        return appUser.build();\n    }\n</code></pre>\n<p>Generated-sources CompanyMapperImpl</p>\n<pre><code>    @Override\n    public Company companyDtoToCompany(CompanyDto dto) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        Company.CompanyBuilder company = Company.builder();\n\n        company.adminProfile( appUserMapper.toAppUser( dto.getUserId() ) );\n        company.id( dto.getId() );\n        company.companyName( dto.getCompanyName() );\n        company.description( dto.getDescription() );\n\n        return company.build();\n    }\n</code></pre>\n<p>CompanyDto class</p>\n<pre><code>@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CompanyDto {\n\n    private Long id;\n\n    @NotNull\n    @NotBlank\n    private String companyName;\n\n    @NotNull\n    @NotBlank\n    private String description;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private Long userId;\n\n}\n</code></pre>\n<p>But, in the case where I remove <strong>@Builder</strong> from AppUser entity class, the exception is not thrown, and my question is why does it work after removing @Builder and why it does not work with this annotation.</p>\n"},{"tags":["java","spring-boot","asynchronous","completable-future"],"owner":{"account_id":7992766,"reputation":93,"user_id":6030146,"accept_rate":50,"display_name":"Egomen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689781633,"creation_date":1689781633,"question_id":76723091,"body_markdown":"I am trying to make multiple calls async in my Java project;\r\n\r\n       List&lt;CompletableFuture&lt;Response&gt;&gt; postControlList = List.of(\r\n                    CompletableFuture.supplyAsync(() -&gt; controller.independentTask1(item), executor)\r\n                    , CompletableFuture.supplyAsync(() -&gt; controller.independentTask2(item), executor)\r\n                    , CompletableFuture.supplyAsync(() -&gt; controller.independentTask3(item), executor)\r\n            );\r\n            controller.checkFutureList(holder, postControlList);\r\n\r\nAnd checkFutureList Method ;\r\n\r\n       public void checkFutureList(Object item, List&lt;CompletableFuture&lt;Response&gt;&gt; futureList) {\r\n\r\n        for (var future : futureList) {\r\n            var response = future.join();\r\n            if (!response.isSuccess()) {\r\n                item.setResponse(response);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\nAm i using it in a right way? Or should i make some updates for performance boosting ?","title":"Multi Independent Api Call With CompletableFuture Java","body":"<p>I am trying to make multiple calls async in my Java project;</p>\n<pre><code>   List&lt;CompletableFuture&lt;Response&gt;&gt; postControlList = List.of(\n                CompletableFuture.supplyAsync(() -&gt; controller.independentTask1(item), executor)\n                , CompletableFuture.supplyAsync(() -&gt; controller.independentTask2(item), executor)\n                , CompletableFuture.supplyAsync(() -&gt; controller.independentTask3(item), executor)\n        );\n        controller.checkFutureList(holder, postControlList);\n</code></pre>\n<p>And checkFutureList Method ;</p>\n<pre><code>   public void checkFutureList(Object item, List&lt;CompletableFuture&lt;Response&gt;&gt; futureList) {\n\n    for (var future : futureList) {\n        var response = future.join();\n        if (!response.isSuccess()) {\n            item.setResponse(response);\n            return;\n        }\n    }\n}\n</code></pre>\n<p>Am i using it in a right way? Or should i make some updates for performance boosting ?</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"answers":[{"tags":[],"owner":{"account_id":2992300,"reputation":115,"user_id":2539633,"accept_rate":43,"display_name":"Basixp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689781154,"creation_date":1689781154,"answer_id":76723025,"question_id":76063318,"body_markdown":"Answering my own question, it seems that you can use either one of the annotations below:\r\n\r\n    `@Import(JacksonConfiguration.class)`\r\n    `@DependsOn({&quot;jacksonObjectMapper&quot;})`\r\n\r\nwhere above is defined as below:\r\n\r\n    @Configuration\r\n    public class JacksonConfiguration {\r\n\r\n    @Bean\r\n    public JacksonObjectMapper jacksonObjectMapper(){ ...\r\n\r\n\r\n","title":"EnableAutoConfiguration in a common module for autowire the jacksonObjectMapper","body":"<p>Answering my own question, it seems that you can use either one of the annotations below:</p>\n<pre><code>`@Import(JacksonConfiguration.class)`\n`@DependsOn({&quot;jacksonObjectMapper&quot;})`\n</code></pre>\n<p>where above is defined as below:</p>\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n\n@Bean\npublic JacksonObjectMapper jacksonObjectMapper(){ ...\n</code></pre>\n"}],"owner":{"account_id":2992300,"reputation":115,"user_id":2539633,"accept_rate":43,"display_name":"Basixp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689781154,"creation_date":1681988233,"question_id":76063318,"body_markdown":"I am using a spring boot 2.x with multi java modules (in IntelliJ) and in **a Common module** I am trying to @Autowire on ObjectMapper \r\n\r\n   \t@Bean\r\n\t@Qualifier(&quot;myBean&quot;)\r\n\tpublic Jdbi getJDBIwrite(@Qualifier(&quot;dataSource&quot;) DataSource dataSource, \r\n    ObjectMapper objectMapper) {\r\n\t\treturn getJdbi(dataSource, objectMapper);\r\n\t}\r\n\r\nAs obviously the *org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration* is not in my base dir path it fails to auto wire.\r\n\r\nWhen using below\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    public class JdbiConfiguration {\r\n    . . .\r\n\r\n It works fine.\r\n\r\n1) Is there another better way to deal with this with other annotation or design?\r\n\r\n2) Without the *EnableAutoConfiguration* It really only being complained in IntelliJ, but compilation build and run time works fine.\r\n\r\nThanks!!\r\n","title":"EnableAutoConfiguration in a common module for autowire the jacksonObjectMapper","body":"<p>I am using a spring boot 2.x with multi java modules (in IntelliJ) and in <strong>a Common module</strong> I am trying to @Autowire on ObjectMapper</p>\n<pre><code>@Bean\n@Qualifier(&quot;myBean&quot;)\npublic Jdbi getJDBIwrite(@Qualifier(&quot;dataSource&quot;) DataSource dataSource, \nObjectMapper objectMapper) {\n    return getJdbi(dataSource, objectMapper);\n}\n</code></pre>\n<p>As obviously the <em>org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration</em> is not in my base dir path it fails to auto wire.</p>\n<p>When using below</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\npublic class JdbiConfiguration {\n. . .\n</code></pre>\n<p>It works fine.</p>\n<ol>\n<li><p>Is there another better way to deal with this with other annotation or design?</p>\n</li>\n<li><p>Without the <em>EnableAutoConfiguration</em> It really only being complained in IntelliJ, but compilation build and run time works fine.</p>\n</li>\n</ol>\n<p>Thanks!!</p>\n"},{"tags":["java","weblogic"],"answers":[{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689780870,"creation_date":1689759498,"answer_id":76719897,"question_id":76705957,"body_markdown":"Solved.\r\n\r\nLooks like WebLogic tries to connect to every DataSource on startup. \r\nI did modify a DataSource before shutting down the Managed, but I wrote the connection string wrongly (even though I copied it from another WebLogic server):\r\n\r\nIndeed, what I did write was:\r\n    \r\n    jdbc:oracle:thin:@127.0.0.1:1521:XEPDB\r\n\r\nWhat I had to write, instead, was:\r\n    \r\n    jdbc:oracle:thin:@127.0.0.1:1521/XEPDB\r\n\r\nThis prevented WebLogic to start correctly.\r\n\r\nFixed the connection string in `$DOMAIN_NAME/config/jdbc/my_datasource.xml` and ran smoothly.\r\n\r\n","title":"Weblogic doesn&#39;t start because of &quot;Authentication denied&quot;","body":"<p>Solved.</p>\n<p>Looks like WebLogic tries to connect to every DataSource on startup.\nI did modify a DataSource before shutting down the Managed, but I wrote the connection string wrongly (even though I copied it from another WebLogic server):</p>\n<p>Indeed, what I did write was:</p>\n<pre><code>jdbc:oracle:thin:@127.0.0.1:1521:XEPDB\n</code></pre>\n<p>What I had to write, instead, was:</p>\n<pre><code>jdbc:oracle:thin:@127.0.0.1:1521/XEPDB\n</code></pre>\n<p>This prevented WebLogic to start correctly.</p>\n<p>Fixed the connection string in <code>$DOMAIN_NAME/config/jdbc/my_datasource.xml</code> and ran smoothly.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76719897,"answer_count":1,"score":1,"last_activity_date":1689780870,"creation_date":1689607408,"question_id":76705957,"body_markdown":"I had to change a Data Source configuration to solve a Runtime error (connection string wasn&#39;t specified).\r\n\r\nThe error:\r\n\r\n    Unable to deploy EJB: MailService from wps.jar:\r\n    The run-as security principal, &#39;portaladmin&#39;, chosen for the EJB &#39;MailService(Application: my-application, EJBComponent: wps.jar)&#39; is not a valid user principal in the current security realm. Please specify a valid user principal for the EJB to use.\r\n\r\nAs I&#39;ve read [here](https://stackoverflow.com/a/36404281/11961036), I tried stopping the Managed server and cleaning those folders. On restarting the Managed, both using the script and the GUI, it started throwing me this error:\r\n\r\n    weblogic.security.SecurityInitializationException: Authentication denied: Boot identity not valid; The user name and/or password from the boot identity file (boot.properties) is not valid. The boot identity may have been changed since the boot identity file was created. Please edit and update the boot identity file with the proper values of username and password. The first time the updated boot identity file is used to start the server, these new values are encrypted\r\n\r\nI started browsing for a solution, and everyone says I need to delete both the `servers/MyServer/data/ldap` folder and the `servers/MyServer/security/boot.properties`. None of this works. Also, even the AdminServer is not starting for the same reason. The NodeManager, instead, runs smoothly.\r\n\r\nI already tried resetting the username and password, like so:\r\n\r\n    cd $DOMAIN_HOME/bin\r\n    . ./setDomainEnv.sh\r\n    cd ../security\r\n    java weblogic.security.utils.AdminAccount user password .\r\n\r\nTried running the server manually prompting user and password, but the exception persists.\r\n\r\nAlso tried rolling back the setting I made previously, even though it has nothing to do with WebLogic users.. but nothing.\r\n\r\n**Important notes:**\r\n- I really would like to avoid freshly reinstalling the environment.&lt;br&gt;\r\n- I cannot reboot the server.\r\n- I need those `boot.properties`, either I&#39;m not able to launch WebLogic processes in the background.\r\n\r\nAny help is highly appreciated.\r\n\r\n","title":"Weblogic doesn&#39;t start because of &quot;Authentication denied&quot;","body":"<p>I had to change a Data Source configuration to solve a Runtime error (connection string wasn't specified).</p>\n<p>The error:</p>\n<pre><code>Unable to deploy EJB: MailService from wps.jar:\nThe run-as security principal, 'portaladmin', chosen for the EJB 'MailService(Application: my-application, EJBComponent: wps.jar)' is not a valid user principal in the current security realm. Please specify a valid user principal for the EJB to use.\n</code></pre>\n<p>As I've read <a href=\"https://stackoverflow.com/a/36404281/11961036\">here</a>, I tried stopping the Managed server and cleaning those folders. On restarting the Managed, both using the script and the GUI, it started throwing me this error:</p>\n<pre><code>weblogic.security.SecurityInitializationException: Authentication denied: Boot identity not valid; The user name and/or password from the boot identity file (boot.properties) is not valid. The boot identity may have been changed since the boot identity file was created. Please edit and update the boot identity file with the proper values of username and password. The first time the updated boot identity file is used to start the server, these new values are encrypted\n</code></pre>\n<p>I started browsing for a solution, and everyone says I need to delete both the <code>servers/MyServer/data/ldap</code> folder and the <code>servers/MyServer/security/boot.properties</code>. None of this works. Also, even the AdminServer is not starting for the same reason. The NodeManager, instead, runs smoothly.</p>\n<p>I already tried resetting the username and password, like so:</p>\n<pre><code>cd $DOMAIN_HOME/bin\n. ./setDomainEnv.sh\ncd ../security\njava weblogic.security.utils.AdminAccount user password .\n</code></pre>\n<p>Tried running the server manually prompting user and password, but the exception persists.</p>\n<p>Also tried rolling back the setting I made previously, even though it has nothing to do with WebLogic users.. but nothing.</p>\n<p><strong>Important notes:</strong></p>\n<ul>\n<li>I really would like to avoid freshly reinstalling the environment.<br></li>\n<li>I cannot reboot the server.</li>\n<li>I need those <code>boot.properties</code>, either I'm not able to launch WebLogic processes in the background.</li>\n</ul>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690176163,"post_id":76722780,"comment_id":135311248,"body_markdown":"What does &quot;does not work&quot; mean?","body":"What does &quot;does not work&quot; mean?"}],"answers":[{"tags":[],"owner":{"account_id":28984901,"reputation":12,"user_id":22201909,"display_name":"Bich Anh Dao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689780396,"creation_date":1689780396,"answer_id":76722907,"question_id":76722780,"body_markdown":"    Ensure that the provided cityName and bankType parameters have valid values and are not null. If they can be null, you should handle those cases in the specifications to avoid any errors or Check if the LocationsDetailsDTO class and the convertToDTO method are implemented correctly. Make sure that the method properly converts an instance of LocationsDetails to LocationsDetailsDTO.","title":"How to do filtering and pagination by two parameters in java using Specification","body":"<pre><code>Ensure that the provided cityName and bankType parameters have valid values and are not null. If they can be null, you should handle those cases in the specifications to avoid any errors or Check if the LocationsDetailsDTO class and the convertToDTO method are implemented correctly. Make sure that the method properly converts an instance of LocationsDetails to LocationsDetailsDTO.\n</code></pre>\n"}],"owner":{"account_id":29036849,"reputation":3,"user_id":22242543,"display_name":"Dmytro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76722907,"answer_count":1,"score":0,"last_activity_date":1689780396,"creation_date":1689779562,"question_id":76722780,"body_markdown":"How to do filtering and pagination by two parameters in java using Specification, and pagination at the same time.\r\n\r\n    @Override\r\n    public Page&lt;LocationsDetailsDTO&gt; getAllAtmOrBranchesFilteredByCityNameAndBankType(String cityName, BankType bankType, int pageSize, int page) {\r\n        Specification&lt;LocationsDetails&gt; specification = Specifications.where(LocationsDetailsSpecifications.hasCityName(cityName))\r\n            .and(LocationsDetailsSpecifications.hasBankType(bankType));\r\n    \r\n        Pageable pageable = PageRequest.of(page, pageSize);\r\n        return locationsRepository.findAll(specification, pageable)\r\n            .map(this::convertToDTO);\r\n    }\r\n    \r\n    public static Specification&lt;LocationsDetails&gt; hasCityName(String cityName) {\r\n            return (r, q, cb) -&gt; cityName == null ? null : cb.like(r.get(&quot;cityName&quot;), (cityName));\r\n        }\r\n    \r\n    public static Specification&lt;LocationsDetails&gt; hasBankType(BankType bankType) {\r\n            return (r, q, cb) -&gt; bankType == null ? null : cb.equal(r.get(&quot;bankType&quot;), bankType);\r\n        }\r\n\r\nThis option does not work, the problem is in the findAll method\r\n\r\nError indication. My option does not work","title":"How to do filtering and pagination by two parameters in java using Specification","body":"<p>How to do filtering and pagination by two parameters in java using Specification, and pagination at the same time.</p>\n<pre><code>@Override\npublic Page&lt;LocationsDetailsDTO&gt; getAllAtmOrBranchesFilteredByCityNameAndBankType(String cityName, BankType bankType, int pageSize, int page) {\n    Specification&lt;LocationsDetails&gt; specification = Specifications.where(LocationsDetailsSpecifications.hasCityName(cityName))\n        .and(LocationsDetailsSpecifications.hasBankType(bankType));\n\n    Pageable pageable = PageRequest.of(page, pageSize);\n    return locationsRepository.findAll(specification, pageable)\n        .map(this::convertToDTO);\n}\n\npublic static Specification&lt;LocationsDetails&gt; hasCityName(String cityName) {\n        return (r, q, cb) -&gt; cityName == null ? null : cb.like(r.get(&quot;cityName&quot;), (cityName));\n    }\n\npublic static Specification&lt;LocationsDetails&gt; hasBankType(BankType bankType) {\n        return (r, q, cb) -&gt; bankType == null ? null : cb.equal(r.get(&quot;bankType&quot;), bankType);\n    }\n</code></pre>\n<p>This option does not work, the problem is in the findAll method</p>\n<p>Error indication. My option does not work</p>\n"},{"tags":["java","spring","spring-boot","spring-tool-suite"],"comments":[{"owner":{"account_id":355635,"reputation":1798,"user_id":694691,"accept_rate":71,"display_name":"Sasi Kathimanda"},"score":0,"creation_date":1486322400,"post_id":42056067,"comment_id":71284733,"body_markdown":"does it display main class name on console along with error? have a look at [this](http://stackoverflow.com/questions/28451120/spring-boot-program-cannot-find-main-class)","body":"does it display main class name on console along with error? have a look at <a href=\"http://stackoverflow.com/questions/28451120/spring-boot-program-cannot-find-main-class\">this</a>"},{"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"score":0,"creation_date":1486322606,"post_id":42056067,"comment_id":71284801,"body_markdown":"No. This is the complete error message","body":"No. This is the complete error message"},{"owner":{"account_id":355635,"reputation":1798,"user_id":694691,"accept_rate":71,"display_name":"Sasi Kathimanda"},"score":0,"creation_date":1486322723,"post_id":42056067,"comment_id":71284854,"body_markdown":"have you checked Run -&gt; Run Configurations? ensure you don&#39;t have duplicated main classes","body":"have you checked Run -&gt; Run Configurations? ensure you don&#39;t have duplicated main classes"},{"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"score":0,"creation_date":1486324242,"post_id":42056067,"comment_id":71285418,"body_markdown":"In the Run Configurations the Main type is: br.com.leandroborgesferreira.microlearn.MicroLearnApplication . So it&#39;s correct","body":"In the Run Configurations the Main type is: br.com.leandroborgesferreira.microlearn.MicroLearnApplicatio&zwnj;&#8203;n . So it&#39;s correct"},{"owner":{"account_id":355635,"reputation":1798,"user_id":694691,"accept_rate":71,"display_name":"Sasi Kathimanda"},"score":0,"creation_date":1486324351,"post_id":42056067,"comment_id":71285461,"body_markdown":"can you post the class in the question.","body":"can you post the class in the question."},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1486324822,"post_id":42056067,"comment_id":71285653,"body_markdown":"Could you also post the full exception log? Are you sure that the IDE, is properly configured to invoke your java app with the same jdk version you are invoking `mvn spring-boot:run` from your command line ? Also could you try simply invoking it as a java app instead of *Run as -&gt; Spring Boot App*","body":"Could you also post the full exception log? Are you sure that the IDE, is properly configured to invoke your java app with the same jdk version you are invoking <code>mvn spring-boot:run</code> from your command line ? Also could you try simply invoking it as a java app instead of <i>Run as -&gt; Spring Boot App</i>"},{"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"score":0,"creation_date":1486325276,"post_id":42056067,"comment_id":71285823,"body_markdown":"@AntJavaDev 1- The error message is all the Console shows to me. 2- No... I am not sure, how can I do this? 3- If I try Run as -&gt; Java Application or Run as -&gt; Maven clean I get the same error","body":"@AntJavaDev 1- The error message is all the Console shows to me. 2- No... I am not sure, how can I do this? 3- If I try Run as -&gt; Java Application or Run as -&gt; Maven clean I get the same error"},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1486326173,"post_id":42056067,"comment_id":71286165,"body_markdown":"give a look at this [tutorial](https://spring.io/blog/2015/03/18/spring-boot-support-in-spring-tool-suite-3-6-4). Regarding the jdk , at the run configuration window, there is a tab JRE , check there with which one you are invoking the app.","body":"give a look at this <a href=\"https://spring.io/blog/2015/03/18/spring-boot-support-in-spring-tool-suite-3-6-4\" rel=\"nofollow noreferrer\">tutorial</a>. Regarding the jdk , at the run configuration window, there is a tab JRE , check there with which one you are invoking the app."},{"owner":{"account_id":6211690,"reputation":982,"user_id":4837799,"accept_rate":50,"display_name":"Robert Leggett"},"score":0,"creation_date":1486327864,"post_id":42056067,"comment_id":71286768,"body_markdown":"This is a Microservice I wrote, it is basically a starter and may be a good base for you to start with, however it is using gradle rather then maven.  https://github.com/Rob-Leggett/gradle_springboot_microservice","body":"This is a Microservice I wrote, it is basically a starter and may be a good base for you to start with, however it is using gradle rather then maven.  <a href=\"https://github.com/Rob-Leggett/gradle_springboot_microservice\" rel=\"nofollow noreferrer\">github.com/Rob-Leggett/gradle_springboot_microservice</a>"},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1486369171,"post_id":42056067,"comment_id":71297847,"body_markdown":"what happens if you create a simple spring boot app using the &quot;new spring starter project&quot; wizard and run that? Does that work?","body":"what happens if you create a simple spring boot app using the &quot;new spring starter project&quot; wizard and run that? Does that work?"}],"answers":[{"tags":[],"owner":{"account_id":1184679,"reputation":904,"user_id":3521098,"accept_rate":70,"display_name":"Solorad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486394408,"creation_date":1486394264,"answer_id":42071182,"question_id":42056067,"body_markdown":"I had the same problem. In my case problem was in default maven configurations in Intellij Idea. Go to settings and\r\nSettings -&gt; Build Execution, Deployment -&gt; Maven. Set maven home directory to correct one, not bundled with IJ IDEA.\r\nRight Click the project -&gt; Maven -&gt; Reimport\r\nThen Re-run the project. Hope it work for you too. \r\n\r\nAlso, please check `Working directory` in &#39;Run Configuration&#39;. It should be something like &quot;MODULE_DIR&quot;","title":"How to run Spring boot application with STS","body":"<p>I had the same problem. In my case problem was in default maven configurations in Intellij Idea. Go to settings and\nSettings -> Build Execution, Deployment -> Maven. Set maven home directory to correct one, not bundled with IJ IDEA.\nRight Click the project -> Maven -> Reimport\nThen Re-run the project. Hope it work for you too. </p>\n\n<p>Also, please check <code>Working directory</code> in 'Run Configuration'. It should be something like \"MODULE_DIR\"</p>\n"},{"tags":[],"owner":{"account_id":14315490,"reputation":503,"user_id":10340381,"display_name":"pramod singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573377015,"creation_date":1573377015,"answer_id":58787181,"question_id":42056067,"body_markdown":"just right click within `main class` and `run as &gt; spring boot/java application`","title":"How to run Spring boot application with STS","body":"<p>just right click within <code>main class</code> and <code>run as &gt; spring boot/java application</code></p>\n"},{"tags":[],"owner":{"account_id":2396304,"reputation":164,"user_id":2095034,"display_name":"Ishmael Mavor Raines"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689780374,"creation_date":1689779948,"answer_id":76722832,"question_id":42056067,"body_markdown":"Enter **spring-boot:run** in your configuration if using Spring Tools Suite 4 IDE\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u27D1.png","title":"How to run Spring boot application with STS","body":"<p>Enter <strong>spring-boot:run</strong> in your configuration if using Spring Tools Suite 4 IDE</p>\n<p><a href=\"https://i.stack.imgur.com/u27D1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u27D1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689780374,"creation_date":1486321752,"question_id":42056067,"body_markdown":"I am starting to learn microservices with Spring Boot. I go to root of my project and run the command:\r\n\r\n    mvn spring-boot:run\r\n\r\nIt works just fine and I can use my endpoints in localhost:8080/[path]. But when I try to run my project from the IDE using Run as -&gt; Spring Boot App. I get this error:\r\n\r\n    Error: Could not find or load main class \r\n\r\nI could just use command line, but I really would like to know why I getting this error with the IDE. So, **what I have to do to run my project from the IDE?**\r\n\r\n**Edit 1:**\r\n\r\nThere is my Main Class:\r\n\r\n    package br.com.leandroborgesferreira.microlearn;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class MicroLearnApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MicroLearnApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nAny help is appreciated!\r\n","title":"How to run Spring boot application with STS","body":"<p>I am starting to learn microservices with Spring Boot. I go to root of my project and run the command:</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>It works just fine and I can use my endpoints in localhost:8080/[path]. But when I try to run my project from the IDE using Run as -> Spring Boot App. I get this error:</p>\n\n<pre><code>Error: Could not find or load main class \n</code></pre>\n\n<p>I could just use command line, but I really would like to know why I getting this error with the IDE. So, <strong>what I have to do to run my project from the IDE?</strong></p>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>There is my Main Class:</p>\n\n<pre><code>package br.com.leandroborgesferreira.microlearn;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MicroLearnApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MicroLearnApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","java-8","jvm","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689785700,"post_id":76722901,"comment_id":135263973,"body_markdown":"You should ask yourself:`too many Full GC&#39;s occurring frequently` what is too many? how many do you expect? before tuning the GC -most times that is a bad idea- have you verified that the application maybe just needs more memory? What is the memory usage of that batch process? Analyzing several heapdumps of the executions could give you a ideas of what consumes most. This is the kind of issue that you need to troubleshoot directly and Stackoverflow is not well suited to help.","body":"You should ask yourself:<code>too many Full GC&#39;s occurring frequently</code> what is too many? how many do you expect? before tuning the GC -most times that is a bad idea- have you verified that the application maybe just needs more memory? What is the memory usage of that batch process? Analyzing several heapdumps of the executions could give you a ideas of what consumes most. This is the kind of issue that you need to troubleshoot directly and Stackoverflow is not well suited to help."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689785815,"post_id":76722901,"comment_id":135263999,"body_markdown":"Also which `Java 8`? Provider and update number? Oracle, Temurin, Amazon, etc? Are you using the latest OpenJDK patch update with the latest fixes for G1, or the original Oracle Java 8 from 2014? Same with Spring Batch and other libraries your process uses.","body":"Also which <code>Java 8</code>? Provider and update number? Oracle, Temurin, Amazon, etc? Are you using the latest OpenJDK patch update with the latest fixes for G1, or the original Oracle Java 8 from 2014? Same with Spring Batch and other libraries your process uses."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690196611,"post_id":76722901,"comment_id":135314939,"body_markdown":"“Remove -XX:NewSize=3g” That’s the best advice you have found. Instead of adding even more options you don’t understand, remove them. And it makes perfect sense that if you want to avoid Full&#160;GC you shouldn’t set the new generation to a ridiculously small value (compared to the overall heap size).","body":"“Remove -XX:NewSize=3g” That’s the best advice you have found. Instead of adding even more options you don’t understand, remove them. And it makes perfect sense that if you want to avoid Full GC you shouldn’t set the new generation to a ridiculously small value (compared to the overall heap size)."}],"owner":{"account_id":6231063,"reputation":41,"user_id":4847840,"display_name":"bhagyac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689780362,"creation_date":1689780362,"question_id":76722901,"body_markdown":"We have a Spring Batch job currently having long running issue in production. On checking GC logs we have found that too many Full GC&#39;s occurring frequently. We are using G1GC collector and Java 8 version.\r\n\r\n**Below are the JVM arguments:**\r\n```\r\n-Xms6g -Xmx20g -XX:NewSize=3g -XX:+UseG1GC -Xloggc:/local/apps/stock.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:-HeapDumpOnOutOfMemoryError\r\n```\r\n\r\n**GC log file is analyzed using GCViewer tool, below is the report:**\r\n[![enter image description here](https://i.stack.imgur.com/VdUuj.png)](https://i.stack.imgur.com/VdUuj.png)\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/n9oHo.png)](https://i.stack.imgur.com/n9oHo.png)\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hsvfz.png)](https://i.stack.imgur.com/hsvfz.png)\r\n\r\n\r\n\r\n**GC Pauses:**\r\n1. GC cleanup\r\n2. GC pause (G1 Evacuation Pause) (mixed)\r\n3. GC pause (G1 Evacuation Pause) (mixed) (to-space exhausted)\r\n4. GC pause (G1 Evacuation Pause) (young)\r\n5. GC pause (G1 Evacuation Pause) (young) (initial-mark)\r\n6. GC pause (G1 Evacuation Pause) (young) (to-space exhausted)\r\n7. GC pause (G1 Humongous Allocation) (young)\r\n8. GC pause (G1 Humongous Allocation) (young) (initial-mark)\r\n9. GC pause (G1 Humongous Allocation) (young) (to-space exhausted)\r\n10.GC pause (GCLocker Initiated GC) (young)\r\n11. GC pause (Metadata GC Threshold) (young) (initial-mark)\r\n12. GC remark;GC ref-proc\r\n\r\n**Full GC Pauses:**\r\n1. Full GC (Allocation Failure);Eden;Metaspace\r\n\r\n\r\n\r\nReproducing the Full GC issue in test environment is not possible, so on the basis of report I am trying to resolve this issue.\r\nAfter going through GC log report and various blogs on G1 collector, I am assuming that below GC tuning is required and need to add/modify below parameters.\r\n\r\n1. Remove -XX:NewSize=3g\r\n2. Add -XX:+DisableExplicitGC to disabled System.gc() calls.\r\n3. Increase heap size (Xmx) and setting Xms and Xmx to same value. \r\n4. Add -XX:+UseStringDeduplication -XX:+PrintStringDeduplicationStatistics\r\n5. Set -XX:MaxGCPauseMillis to high value to maximize the throughput.\r\n\r\nCan you suggest if any more parameters need to add and what should be the correct value for these parameters.\r\n","title":"G1GC performance tuning using GC viewer tool","body":"<p>We have a Spring Batch job currently having long running issue in production. On checking GC logs we have found that too many Full GC's occurring frequently. We are using G1GC collector and Java 8 version.</p>\n<p><strong>Below are the JVM arguments:</strong></p>\n<pre><code>-Xms6g -Xmx20g -XX:NewSize=3g -XX:+UseG1GC -Xloggc:/local/apps/stock.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:-HeapDumpOnOutOfMemoryError\n</code></pre>\n<p><strong>GC log file is analyzed using GCViewer tool, below is the report:</strong>\n<a href=\"https://i.stack.imgur.com/VdUuj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VdUuj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/n9oHo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n9oHo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hsvfz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsvfz.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>GC Pauses:</strong></p>\n<ol>\n<li>GC cleanup</li>\n<li>GC pause (G1 Evacuation Pause) (mixed)</li>\n<li>GC pause (G1 Evacuation Pause) (mixed) (to-space exhausted)</li>\n<li>GC pause (G1 Evacuation Pause) (young)</li>\n<li>GC pause (G1 Evacuation Pause) (young) (initial-mark)</li>\n<li>GC pause (G1 Evacuation Pause) (young) (to-space exhausted)</li>\n<li>GC pause (G1 Humongous Allocation) (young)</li>\n<li>GC pause (G1 Humongous Allocation) (young) (initial-mark)</li>\n<li>GC pause (G1 Humongous Allocation) (young) (to-space exhausted)\n10.GC pause (GCLocker Initiated GC) (young)</li>\n<li>GC pause (Metadata GC Threshold) (young) (initial-mark)</li>\n<li>GC remark;GC ref-proc</li>\n</ol>\n<p><strong>Full GC Pauses:</strong></p>\n<ol>\n<li>Full GC (Allocation Failure);Eden;Metaspace</li>\n</ol>\n<p>Reproducing the Full GC issue in test environment is not possible, so on the basis of report I am trying to resolve this issue.\nAfter going through GC log report and various blogs on G1 collector, I am assuming that below GC tuning is required and need to add/modify below parameters.</p>\n<ol>\n<li>Remove -XX:NewSize=3g</li>\n<li>Add -XX:+DisableExplicitGC to disabled System.gc() calls.</li>\n<li>Increase heap size (Xmx) and setting Xms and Xmx to same value.</li>\n<li>Add -XX:+UseStringDeduplication -XX:+PrintStringDeduplicationStatistics</li>\n<li>Set -XX:MaxGCPauseMillis to high value to maximize the throughput.</li>\n</ol>\n<p>Can you suggest if any more parameters need to add and what should be the correct value for these parameters.</p>\n"},{"tags":["java","tomcat","war","spring-4"],"owner":{"account_id":1737509,"reputation":2183,"user_id":1589723,"accept_rate":45,"display_name":"fashuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689780239,"creation_date":1689773996,"question_id":76721943,"body_markdown":"I have few spring applications deployed into single tomcat server. Those applications are part of single WAR. Each application has it&#39;s own dispatcher servlet with respective controllers behind of it. \r\n\r\nI have use case where communication between those applications are needed. What is the optimal way to do this? Will be it ok to use rest template here?","title":"Communication between two spring controllers from different spring applications deployed into single tomcat server","body":"<p>I have few spring applications deployed into single tomcat server. Those applications are part of single WAR. Each application has it's own dispatcher servlet with respective controllers behind of it.</p>\n<p>I have use case where communication between those applications are needed. What is the optimal way to do this? Will be it ok to use rest template here?</p>\n"},{"tags":["java","string","java-stream"],"comments":[{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1689774987,"post_id":76722029,"comment_id":135261286,"body_markdown":"Add another mapping to convert the character to string before joining.","body":"Add another mapping to convert the character to string before joining."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1689774989,"post_id":76722029,"comment_id":135261289,"body_markdown":"`Collectors.joining()` is for a stream of strings, not a stream of Characters.","body":"<code>Collectors.joining()</code> is for a stream of strings, not a stream of Characters."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1689775008,"post_id":76722029,"comment_id":135261298,"body_markdown":"Likely to do with the fact that you&#39;re working with `Character`. A lazy solution would be `.map(c -&gt; &quot;&quot; + c)` right before the `#collect`.","body":"Likely to do with the fact that you&#39;re working with <code>Character</code>. A lazy solution would be <code>.map(c -&gt; &quot;&quot; + c)</code> right before the <code>#collect</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689930355,"post_id":76722029,"comment_id":135285758,"body_markdown":"Get familiar with the concept of *codepoints*. Not only are they necessary for handling characters outside the BMP, dropping the idea that you need a `char` avoids the boxing overhead of your approach, `str.codePoints() .filter(c -&gt; !Character.isWhitespace(c)) .map(Character::toLowerCase) .mapToObj(Character::toString) .collect(Collectors.joining());` Note how most operations happily operate on `int` now instead of `Character` objects. Further, since `toLowerCase` does not affect the outcome of `isWhitespace`, it’s more efficient to filter first.","body":"Get familiar with the concept of <i>codepoints</i>. Not only are they necessary for handling characters outside the BMP, dropping the idea that you need a <code>char</code> avoids the boxing overhead of your approach, <code>str.codePoints() .filter(c -&gt; !Character.isWhitespace(c)) .map(Character::toLowerCase) .mapToObj(Character::toString) .collect(Collectors.joining());</code> Note how most operations happily operate on <code>int</code> now instead of <code>Character</code> objects. Further, since <code>toLowerCase</code> does not affect the outcome of <code>isWhitespace</code>, it’s more efficient to filter first."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689930422,"post_id":76722029,"comment_id":135285774,"body_markdown":"You could even avoid the creation of temporary `String` objects for collecting, as shown in [this answer](https://stackoverflow.com/a/20268845/2711488).","body":"You could even avoid the creation of temporary <code>String</code> objects for collecting, as shown in <a href=\"https://stackoverflow.com/a/20268845/2711488\">this answer</a>."},{"owner":{"account_id":15192247,"reputation":11,"user_id":10962676,"display_name":"abhinav"},"score":0,"creation_date":1689962946,"post_id":76722029,"comment_id":135292055,"body_markdown":"@Holger Thank you for the suggestion. Will keep this in mind.","body":"@Holger Thank you for the suggestion. Will keep this in mind."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689775811,"creation_date":1689775073,"answer_id":76722115,"question_id":76722029,"body_markdown":"You need to convert the Character to String before joining, you need this:\r\n\r\n    ...\r\n    .map(c -&gt; Character.toString(c))\r\n    .collect(Collectors.joining());\r\n","title":"Problem while using Collectors.joining() in Java 8 Stream","body":"<p>You need to convert the Character to String before joining, you need this:</p>\n<pre><code>...\n.map(c -&gt; Character.toString(c))\n.collect(Collectors.joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6134368,"reputation":11,"user_id":4783688,"display_name":"Nguyen Pham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689775801,"creation_date":1689775706,"answer_id":76722212,"question_id":76722029,"body_markdown":"your input stream at Collectors.joining is ```Stream&lt;Character&gt;```, wouldn&#39;t work with Collectors.joining, you have to convert the Character to string first\r\n\r\ndo \r\n\r\n     String s = str.chars()\r\n        .mapToObj(c -&gt; (char) c)\r\n        .map(Character::toLowerCase)\r\n        .filter(c -&gt; !Character.isWhitespace(c))\r\n        .map(String::valueOf)\r\n        .collect(Collectors.joining());","title":"Problem while using Collectors.joining() in Java 8 Stream","body":"<p>your input stream at Collectors.joining is <code>Stream&lt;Character&gt;</code>, wouldn't work with Collectors.joining, you have to convert the Character to string first</p>\n<p>do</p>\n<pre><code> String s = str.chars()\n    .mapToObj(c -&gt; (char) c)\n    .map(Character::toLowerCase)\n    .filter(c -&gt; !Character.isWhitespace(c))\n    .map(String::valueOf)\n    .collect(Collectors.joining());\n</code></pre>\n"}],"owner":{"account_id":15192247,"reputation":11,"user_id":10962676,"display_name":"abhinav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76722115,"answer_count":2,"score":0,"last_activity_date":1689780104,"creation_date":1689774574,"question_id":76722029,"body_markdown":"I tried to filter a stream of characters based on some constraints and then tried to collect them in a string.\r\n\r\n\r\nThis is what I tried:\r\n\r\n    String s = str.chars()\r\n              .mapToObj(c -&gt; (char) c) \r\n              .map(Character::toLowerCase)\r\n              .filter(c -&gt; !Character.isWhitespace(c))\r\n              .collect(Collectors.joining());\r\n\r\n`Collectors.joining()` should concatenate the contents of the stream into a String, but this last bit of code produces an error. Why is this happening?","title":"Problem while using Collectors.joining() in Java 8 Stream","body":"<p>I tried to filter a stream of characters based on some constraints and then tried to collect them in a string.</p>\n<p>This is what I tried:</p>\n<pre><code>String s = str.chars()\n          .mapToObj(c -&gt; (char) c) \n          .map(Character::toLowerCase)\n          .filter(c -&gt; !Character.isWhitespace(c))\n          .collect(Collectors.joining());\n</code></pre>\n<p><code>Collectors.joining()</code> should concatenate the contents of the stream into a String, but this last bit of code produces an error. Why is this happening?</p>\n"},{"tags":["java","android","xml","android-toolbar","android-menu"],"comments":[{"owner":{"account_id":5072615,"reputation":2107,"user_id":4070971,"accept_rate":55,"display_name":"Chol"},"score":4,"creation_date":1456481660,"post_id":35648913,"comment_id":58978052,"body_markdown":"You can check here : http://stackoverflow.com/questions/31231609/creating-a-button-in-android-toolbar","body":"You can check here : <a href=\"http://stackoverflow.com/questions/31231609/creating-a-button-in-android-toolbar\" title=\"creating a button in android toolbar\">stackoverflow.com/questions/31231609/&hellip;</a>"},{"owner":{"account_id":5072615,"reputation":2107,"user_id":4070971,"accept_rate":55,"display_name":"Chol"},"score":3,"creation_date":1456481830,"post_id":35648913,"comment_id":58978194,"body_markdown":"And better from google : http://developer.android.com/training/appbar/setting-up.html","body":"And better from google : <a href=\"http://developer.android.com/training/appbar/setting-up.html\" rel=\"nofollow noreferrer\">developer.android.com/training/appbar/setting-up.html</a>"},{"owner":{"account_id":4853581,"reputation":572,"user_id":3915258,"display_name":"skryshtafovych"},"score":2,"creation_date":1521839760,"post_id":35648913,"comment_id":85919729,"body_markdown":"This is what i was missing         toolbar.inflateMenu(R.menu.main_manu);","body":"This is what i was missing         toolbar.inflateMenu(R.menu.main_manu);"},{"owner":{"account_id":212305,"reputation":24651,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":1,"creation_date":1533772304,"post_id":35648913,"comment_id":90473635,"body_markdown":"Related post - [How to add buttons like refresh and search in ToolBar in Android?](https://stackoverflow.com/q/26778701/465053)","body":"Related post - <a href=\"https://stackoverflow.com/q/26778701/465053\">How to add buttons like refresh and search in ToolBar in Android?</a>"},{"owner":{"account_id":413639,"reputation":2040,"user_id":787399,"accept_rate":62,"display_name":"Abhinav Saxena"},"score":0,"creation_date":1549975004,"post_id":35648913,"comment_id":96091684,"body_markdown":"Try to create a new application using `Android Studio` and check it out. `ToolBar&#39; should not be an independent entity.","body":"Try to create a new application using <code>Android Studio</code> and check it out. `ToolBar&#39; should not be an independent entity."}],"answers":[{"tags":[],"owner":{"account_id":3774905,"reputation":4331,"user_id":3135983,"display_name":"Keyur Lakhani"},"down_vote_count":3,"up_vote_count":190,"is_accepted":true,"score":187,"last_activity_date":1456481807,"creation_date":1456481807,"answer_id":35649007,"question_id":35648913,"body_markdown":"just override **onCreateOptionsMenu** like this in your MainPage.java\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main_menu, menu);\r\n        return true;\r\n    }\r\n\r\n ","title":"How to set menu to Toolbar in Android","body":"<p>just override <strong>onCreateOptionsMenu</strong> like this in your MainPage.java</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main_menu, menu);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6941897,"reputation":3971,"user_id":5327912,"accept_rate":33,"display_name":"Parth Anjaria"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1545923797,"creation_date":1456482418,"answer_id":35649219,"question_id":35648913,"body_markdown":"You need to override this code in your Activity:\r\n\r\n\r\n    @Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\t// Inflate the menu, this adds items to the action bar if it is present.\r\n\t\tgetMenuInflater().inflate(R.menu.main2, menu);\r\n\t\treturn true;\r\n\t}\r\n\r\nand set your toolbar like this:\r\n\r\n\r\n\r\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n    setSupportActionBar(toolbar);","title":"How to set menu to Toolbar in Android","body":"<p>You need to override this code in your Activity:</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu, this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main2, menu);\n    return true;\n}\n</code></pre>\n\n<p>and set your toolbar like this:</p>\n\n<pre><code>Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\nsetSupportActionBar(toolbar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12463948,"reputation":549,"user_id":9074761,"display_name":"Liliana J"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1514934159,"creation_date":1514934159,"answer_id":48069020,"question_id":35648913,"body_markdown":"Also you need this, to implement some action to every options of menu.\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.menu_help:\r\n                Toast.makeText(this, &quot;This is teh option help&quot;, Toast.LENGTH_LONG).show();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n","title":"How to set menu to Toolbar in Android","body":"<p>Also you need this, to implement some action to every options of menu.</p>\n\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.menu_help:\n            Toast.makeText(this, \"This is teh option help\", Toast.LENGTH_LONG).show();\n            break;\n        default:\n            break;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5981137,"reputation":17317,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"down_vote_count":5,"up_vote_count":132,"is_accepted":false,"score":127,"last_activity_date":1639974893,"creation_date":1520185500,"answer_id":49098384,"question_id":35648913,"body_markdown":"## Don&#39;t use `setSupportActionBar(toolbar)`\r\n\r\nI don&#39;t know why but this works for me. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    toolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n    toolbar.setSubtitle(&quot;Test Subtitle&quot;);\r\n    toolbar.inflateMenu(R.menu.main_menu);\r\n\r\nFor menu item click do this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\r\n        @Override\r\n        public boolean onMenuItemClick(MenuItem item) {\r\n            if (item.getItemId() == R.id.item1) {\r\n                // do something\r\n            } else if (item.getItemId() == R.id.filter) {\r\n                // do something\r\n            } else {\r\n                // do something\r\n            }\r\n\r\n            return false;\r\n        }\r\n    });\r\n\r\nWill update the *why* part of this answer when I find a proper explanation.","title":"How to set menu to Toolbar in Android","body":"<h2>Don't use <code>setSupportActionBar(toolbar)</code></h2>\n<p>I don't know why but this works for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>toolbar = (Toolbar) findViewById(R.id.main_toolbar);\ntoolbar.setSubtitle(&quot;Test Subtitle&quot;);\ntoolbar.inflateMenu(R.menu.main_menu);\n</code></pre>\n<p>For menu item click do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\n    @Override\n    public boolean onMenuItemClick(MenuItem item) {\n        if (item.getItemId() == R.id.item1) {\n            // do something\n        } else if (item.getItemId() == R.id.filter) {\n            // do something\n        } else {\n            // do something\n        }\n\n        return false;\n    }\n});\n</code></pre>\n<p>Will update the <em>why</em> part of this answer when I find a proper explanation.</p>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524120002,"creation_date":1524120002,"answer_id":49914315,"question_id":35648913,"body_markdown":"In your activity override this method. \r\n\r\n\r\n       @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.main_menu, menu);\r\n            return true;\r\n        }\r\n\r\nThis will inflate your menu below:\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/menu_main_setting&quot;\r\n                android:icon=&quot;@drawable/ic_settings&quot;\r\n                android:orderInCategory=&quot;100&quot;\r\n                app:showAsAction=&quot;always&quot;\r\n                android:actionLayout=&quot;@layout/toolbar&quot;\r\n                android:title=&quot;Setting&quot; /&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/menu_main_setting2&quot;\r\n                android:icon=&quot;@drawable/ic_settings&quot;\r\n                android:orderInCategory=&quot;200&quot;\r\n                app:showAsAction=&quot;always&quot;\r\n                android:actionLayout=&quot;@layout/toolbar&quot;\r\n                android:title=&quot;Setting&quot; /&gt;\r\n        \r\n        &lt;/menu&gt;\r\n\r\n","title":"How to set menu to Toolbar in Android","body":"<p>In your activity override this method. </p>\n\n<pre><code>   @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main_menu, menu);\n        return true;\n    }\n</code></pre>\n\n<p>This will inflate your menu below:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n        &lt;item\n            android:id=\"@+id/menu_main_setting\"\n            android:icon=\"@drawable/ic_settings\"\n            android:orderInCategory=\"100\"\n            app:showAsAction=\"always\"\n            android:actionLayout=\"@layout/toolbar\"\n            android:title=\"Setting\" /&gt;\n\n        &lt;item\n            android:id=\"@+id/menu_main_setting2\"\n            android:icon=\"@drawable/ic_settings\"\n            android:orderInCategory=\"200\"\n            app:showAsAction=\"always\"\n            android:actionLayout=\"@layout/toolbar\"\n            android:title=\"Setting\" /&gt;\n\n    &lt;/menu&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491517,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1593523171,"creation_date":1525752021,"answer_id":50225618,"question_id":35648913,"body_markdown":"Here is a fuller answer as a reference to future visitors. I usually use a [support toolbar][1] but it works just as well either way.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n## 1. Make a menu xml\r\n\r\nThis is going to be in `res/menu/main_menu`.\r\n\r\n- Right click the `res` folder and choose **New &gt; Android Resource File**. \r\n- Type `main_menu` for the File name.\r\n- Choose Menu for the Resource type.\r\n\r\nPaste in the following content as a starter.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_add&quot;\r\n            android:icon=&quot;@drawable/ic_add&quot;\r\n            app:showAsAction=&quot;ifRoom&quot;\r\n            android:title=&quot;Add&quot;&gt;\r\n        &lt;/item&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_settings&quot;\r\n            app:showAsAction=&quot;never&quot;\r\n            android:title=&quot;Settings&quot;&gt;\r\n        &lt;/item&gt;\r\n    &lt;/menu&gt;\r\n\r\nYou can right click `res` and choose **New image asset** to create the `ic_add` icon.\r\n\r\n## 2. Inflate the menu\r\n\r\nIn your activity add the following method.\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.main_menu, menu);\r\n        return true;\r\n    }\r\n\r\n## 3. Handle menu clicks\r\n\r\nAlso in your Activity, add the following method:\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle item selection\r\n        switch (item.getItemId()) {\r\n            case R.id.action_add:\r\n                addSomething();\r\n                return true;\r\n            case R.id.action_settings:\r\n                startSettings();\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n## Further reading\r\n\r\n- [Android Menu Documentation][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39302444/3681880\r\n  [2]: https://i.stack.imgur.com/8QDxE.png\r\n  [3]: https://developer.android.com/guide/topics/ui/menus.html","title":"How to set menu to Toolbar in Android","body":"<p>Here is a fuller answer as a reference to future visitors. I usually use a <a href=\"https://stackoverflow.com/a/39302444/3681880\">support toolbar</a> but it works just as well either way.</p>\n<p><a href=\"https://i.stack.imgur.com/8QDxE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8QDxE.png\" alt=\"enter image description here\" /></a></p>\n<h2>1. Make a menu xml</h2>\n<p>This is going to be in <code>res/menu/main_menu</code>.</p>\n<ul>\n<li>Right click the <code>res</code> folder and choose <strong>New &gt; Android Resource File</strong>.</li>\n<li>Type <code>main_menu</code> for the File name.</li>\n<li>Choose Menu for the Resource type.</li>\n</ul>\n<p>Paste in the following content as a starter.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/action_add&quot;\n        android:icon=&quot;@drawable/ic_add&quot;\n        app:showAsAction=&quot;ifRoom&quot;\n        android:title=&quot;Add&quot;&gt;\n    &lt;/item&gt;\n    &lt;item\n        android:id=&quot;@+id/action_settings&quot;\n        app:showAsAction=&quot;never&quot;\n        android:title=&quot;Settings&quot;&gt;\n    &lt;/item&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>You can right click <code>res</code> and choose <strong>New image asset</strong> to create the <code>ic_add</code> icon.</p>\n<h2>2. Inflate the menu</h2>\n<p>In your activity add the following method.</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.main_menu, menu);\n    return true;\n}\n</code></pre>\n<h2>3. Handle menu clicks</h2>\n<p>Also in your Activity, add the following method:</p>\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle item selection\n    switch (item.getItemId()) {\n        case R.id.action_add:\n            addSomething();\n            return true;\n        case R.id.action_settings:\n            startSettings();\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<h2>Further reading</h2>\n<ul>\n<li><a href=\"https://developer.android.com/guide/topics/ui/menus.html\" rel=\"noreferrer\">Android Menu Documentation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":413639,"reputation":2040,"user_id":787399,"accept_rate":62,"display_name":"Abhinav Saxena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550833108,"creation_date":1549962283,"answer_id":54646290,"question_id":35648913,"body_markdown":"Although I agree with this answer, as it has fewer lines of code and that it works:\r\n\r\n[How to set menu to Toolbar in Android\r\n][1]\r\n\r\nMy suggestion would be to always start any project using the Android Studio Wizard. In that code you will find some styles:- \r\n\r\n`&lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;`\r\n\r\n\r\n`&lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;`\r\n\r\nand usage is:\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n    \r\n    &lt;android.support.v7.widget.Toolbar\r\n    android:id=&quot;@+id/toolbar&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n    android:background=&quot;?attr/colorPrimary&quot;\r\n    app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\r\n    \r\n    &lt;/android.support.design.widget.AppBarLayout&gt; \r\n\r\n**Due to `no action bar theme` declared in `styles.xml`, that is applied to the `Main Activity`in the `AndroidManifest.xml`, there are no  exceptions, so you have to check it there.**\r\n\r\n    &lt;activity android:name=&quot;.MainActivity&quot; android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n 1. The `Toolbar` is not an independent entity, it is always a child\r\n    view in `AppBarLayout` that again is the child of\r\n    `CoordinatorLayout`.\r\n 2. The code for creating a menu is the standard code since day one,\r\n    that is repeated again and again in all the answers, particularly\r\n    the marked one, but nobody realized what is the difference.\r\n\r\n**BOTH:**\r\n\r\n`Toolbar toolbar = findViewById(R.id.toolbar);\r\nsetSupportActionBar(toolbar);`\r\n\r\n**AND:**\r\n\r\n[How to set menu to Toolbar in Android\r\n][1]\r\n\r\n**WILL WORK.**\r\n\r\nHappy Coding :-)\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/49098384/787399","title":"How to set menu to Toolbar in Android","body":"<p>Although I agree with this answer, as it has fewer lines of code and that it works:</p>\n\n<p><a href=\"http://stackoverflow.com/a/49098384/787399\">How to set menu to Toolbar in Android\n</a></p>\n\n<p>My suggestion would be to always start any project using the Android Studio Wizard. In that code you will find some styles:- </p>\n\n<p><code>&lt;style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.AppCompat.Dark.ActionBar\" /&gt;</code></p>\n\n<p><code>&lt;style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.AppCompat.Light\" /&gt;</code></p>\n\n<p>and usage is:</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n&lt;android.support.v7.widget.Toolbar\nandroid:id=\"@+id/toolbar\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"?attr/actionBarSize\"\nandroid:background=\"?attr/colorPrimary\"\napp:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt; \n</code></pre>\n\n<p><strong>Due to <code>no action bar theme</code> declared in <code>styles.xml</code>, that is applied to the <code>Main Activity</code>in the <code>AndroidManifest.xml</code>, there are no  exceptions, so you have to check it there.</strong></p>\n\n<pre><code>&lt;activity android:name=\".MainActivity\" android:screenOrientation=\"portrait\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<ol>\n<li>The <code>Toolbar</code> is not an independent entity, it is always a child\nview in <code>AppBarLayout</code> that again is the child of\n<code>CoordinatorLayout</code>.</li>\n<li>The code for creating a menu is the standard code since day one,\nthat is repeated again and again in all the answers, particularly\nthe marked one, but nobody realized what is the difference.</li>\n</ol>\n\n<p><strong>BOTH:</strong></p>\n\n<p><code>Toolbar toolbar = findViewById(R.id.toolbar);\nsetSupportActionBar(toolbar);</code></p>\n\n<p><strong>AND:</strong></p>\n\n<p><a href=\"http://stackoverflow.com/a/49098384/787399\">How to set menu to Toolbar in Android\n</a></p>\n\n<p><strong>WILL WORK.</strong></p>\n\n<p>Happy Coding :-)</p>\n"},{"tags":[],"owner":{"account_id":15178164,"reputation":31,"user_id":10952255,"display_name":"Natan Rincker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553920622,"creation_date":1553914230,"answer_id":55427710,"question_id":35648913,"body_markdown":"In my case, I&#39;m using an AppBarLayout with a CollapsingToolbarLayout and the menu was always\r\nbeing scrolled out of the screen, I solved my problem by switching android:actionLayout in menu&#39;s XML to\r\nthe toolbar&#39;s id. I hope it can help people in the same situation!\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;android.support.design.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:fab=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.activities.MainScreenActivity&quot;\r\n        android:screenOrientation=&quot;portrait&quot;&gt;\r\n    \r\n        &lt;android.support.design.widget.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            app:elevation=&quot;0dp&quot;\r\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n            &lt;android.support.design.widget.CollapsingToolbarLayout\r\n                android:id=&quot;@+id/collapsingBar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_scrollFlags=&quot;exitUntilCollapsed|scroll&quot;\r\n                app:contentScrim=&quot;?attr/colorPrimary&quot;\r\n                app:expandedTitleMarginStart=&quot;48dp&quot;\r\n                app:expandedTitleMarginEnd=&quot;48dp&quot;\r\n                &gt;\r\n                &lt;android.support.v7.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;?attr/colorPrimary&quot;\r\n                    app:elevation=&quot;0dp&quot;\r\n                    app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n                    app:layout_collapseMode=&quot;pin&quot;/&gt;\r\n            &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\r\n    \r\n    \r\n        &lt;/android.support.design.widget.AppBarLayout&gt;\r\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\r\n\r\n**main_menu.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;menu\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/logoutMenu&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/log_out&quot;\r\n            app:showAsAction=&quot;never&quot;\r\n            android:actionLayout=&quot;@id/toolbar&quot;/&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/sortMenu&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/sort&quot;\r\n            app:showAsAction=&quot;never&quot;/&gt; &lt;/menu&gt;","title":"How to set menu to Toolbar in Android","body":"<p>In my case, I'm using an AppBarLayout with a CollapsingToolbarLayout and the menu was always\nbeing scrolled out of the screen, I solved my problem by switching android:actionLayout in menu's XML to\nthe toolbar's id. I hope it can help people in the same situation!</p>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:fab=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".activities.MainScreenActivity\"\n    android:screenOrientation=\"portrait\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"300dp\"\n        app:elevation=\"0dp\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/collapsingBar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_scrollFlags=\"exitUntilCollapsed|scroll\"\n            app:contentScrim=\"?attr/colorPrimary\"\n            app:expandedTitleMarginStart=\"48dp\"\n            app:expandedTitleMarginEnd=\"48dp\"\n            &gt;\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"?attr/colorPrimary\"\n                app:elevation=\"0dp\"\n                app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n                app:layout_collapseMode=\"pin\"/&gt;\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p><strong>main_menu.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; &lt;menu\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;item\n        android:id=\"@+id/logoutMenu\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/log_out\"\n        app:showAsAction=\"never\"\n        android:actionLayout=\"@id/toolbar\"/&gt;\n    &lt;item\n        android:id=\"@+id/sortMenu\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/sort\"\n        app:showAsAction=\"never\"/&gt; &lt;/menu&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11078672,"reputation":191,"user_id":8770125,"display_name":"Windula Kularatne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554778367,"creation_date":1554778367,"answer_id":55584429,"question_id":35648913,"body_markdown":"Simple fix to this was setting `showAsAction` to `always` in `menu.xml` in res/menu\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/add_alarm&quot;\r\n            android:icon=&quot;@drawable/ic_action_name&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;Add&quot;\r\n            app:showAsAction=&quot;always&quot;\r\n            android:visible=&quot;true&quot;/&gt;\r\n    \r\n    &lt;/menu&gt;","title":"How to set menu to Toolbar in Android","body":"<p>Simple fix to this was setting <code>showAsAction</code> to <code>always</code> in <code>menu.xml</code> in res/menu</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/add_alarm\"\n        android:icon=\"@drawable/ic_action_name\"\n        android:orderInCategory=\"100\"\n        android:title=\"Add\"\n        app:showAsAction=\"always\"\n        android:visible=\"true\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573897474,"creation_date":1573897474,"answer_id":58889424,"question_id":35648913,"body_markdown":"    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Toolbar toolbar;        \r\n        toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayShowTitleEnabled(false);\r\n      }\r\n    \r\n        \r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater inflater = getMenuInflater();\r\n            inflater.inflate(R.menu.menu_drawer,menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            int id = item.getItemId();\r\n            if (id == R.id.action_drawer){\r\n               drawerLayout.openDrawer(GravityCompat.END);\r\n                if (drawerLayout.isDrawerOpen(GravityCompat.END)) {\r\n                    drawerLayout.closeDrawer(GravityCompat.END);\r\n                } else {\r\n                    drawerLayout.openDrawer(GravityCompat.END);\r\n                }\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n\r\n      \r\n\r\nres/layout/drawer_menu \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/action_drawer&quot;\r\n            android:title=&quot;@string/app_name&quot;\r\n            android:icon=&quot;@drawable/ic_menu_black_24dp&quot;\r\n            app:showAsAction=&quot;always&quot;/&gt;\r\n    \r\n    &lt;/menu&gt;\r\ntoolbar.xml\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;?attr/colorPrimary&quot;\r\n        app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n        app:titleTextColor=&quot;@android:color/white&quot;\r\n        app:titleTextAppearance=&quot;@style/TextAppearance.Widget.Event.Toolbar.Title&quot;&gt;\r\n\r\n         &lt;TextView\r\n             android:id=&quot;@+id/toolbar_title&quot;\r\n             android:layout_gravity=&quot;center&quot;\r\n             android:layout_height=&quot;wrap_content&quot;\r\n             android:layout_width=&quot;wrap_content&quot;\r\n             android:text=&quot;@string/app_name&quot;\r\n             android:textColor=&quot;@android:color/white&quot;\r\n             style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot; /&gt;\r\n\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n    ","title":"How to set menu to Toolbar in Android","body":"<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Toolbar toolbar;        \n    toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setDisplayShowTitleEnabled(false);\n  }\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.menu_drawer,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.action_drawer){\n           drawerLayout.openDrawer(GravityCompat.END);\n            if (drawerLayout.isDrawerOpen(GravityCompat.END)) {\n                drawerLayout.closeDrawer(GravityCompat.END);\n            } else {\n                drawerLayout.openDrawer(GravityCompat.END);\n            }\n        }\n        return super.onOptionsItemSelected(item);\n    }\n</code></pre>\n\n<p>res/layout/drawer_menu </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/action_drawer\"\n        android:title=\"@string/app_name\"\n        android:icon=\"@drawable/ic_menu_black_24dp\"\n        app:showAsAction=\"always\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>toolbar.xml</p>\n\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=\"@+id/toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"?attr/colorPrimary\"\n    app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n    app:titleTextColor=\"@android:color/white\"\n    app:titleTextAppearance=\"@style/TextAppearance.Widget.Event.Toolbar.Title\"&gt;\n\n     &lt;TextView\n         android:id=\"@+id/toolbar_title\"\n         android:layout_gravity=\"center\"\n         android:layout_height=\"wrap_content\"\n         android:layout_width=\"wrap_content\"\n         android:text=\"@string/app_name\"\n         android:textColor=\"@android:color/white\"\n         style=\"@style/TextAppearance.AppCompat.Widget.ActionBar.Title\" /&gt;\n\n&lt;/androidx.appcompat.widget.Toolbar&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":10043766,"reputation":31,"user_id":7425853,"display_name":"Kalaiyo5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584919683,"creation_date":1584919683,"answer_id":60806144,"question_id":35648913,"body_markdown":"    private Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        toolbar = (Toolbar) findViewById(R.id.my_toolbar);\r\n        *// here is where you set it to show on the toolbar*\r\n        setSupportActionBar(toolbar);\r\n    }\r\nWell, you need to set support action bar setSupportActionBar(); and pass your variable, like so: ```setSupportActionBar(toolbar);```","title":"How to set menu to Toolbar in Android","body":"<pre><code>private Toolbar toolbar;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    toolbar = (Toolbar) findViewById(R.id.my_toolbar);\n    *// here is where you set it to show on the toolbar*\n    setSupportActionBar(toolbar);\n}\n</code></pre>\n\n<p>Well, you need to set support action bar setSupportActionBar(); and pass your variable, like so: <code>setSupportActionBar(toolbar);</code></p>\n"},{"tags":[],"owner":{"account_id":10232768,"reputation":41,"user_id":7552835,"display_name":"bhanwar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666239334,"creation_date":1589032909,"answer_id":61697954,"question_id":35648913,"body_markdown":"In XML add one line inside &lt;Toolbar/&gt;\r\n\r\n`&lt;com.google.android.material.appbar.MaterialToolbar\r\napp:menu=&quot;@menu/main_menu&quot;/&gt;`\r\n\r\nIn java file\r\n\r\nRemove three line `setSupportActionBar(toolbar);\r\n        if (getSupportActionBar() != null) {\r\n            getSupportActionBar().setTitle(&quot;Main Page&quot;);\r\n        }`\r\n\r\n\r\nadd one line `toolbar.setTitle(&quot;Main Page&quot;)`","title":"How to set menu to Toolbar in Android","body":"<p>In XML add one line inside </p>\n<p><code>&lt;com.google.android.material.appbar.MaterialToolbar app:menu=&quot;@menu/main_menu&quot;/&gt;</code></p>\n<p>In java file</p>\n<p>Remove three line <code>setSupportActionBar(toolbar); if (getSupportActionBar() != null) { getSupportActionBar().setTitle(&quot;Main Page&quot;); }</code></p>\n<p>add one line <code>toolbar.setTitle(&quot;Main Page&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":2984923,"reputation":1960,"user_id":2534007,"display_name":"Mohib Irshad"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598038913,"creation_date":1598038913,"answer_id":63529156,"question_id":35648913,"body_markdown":"**You can still use the [answer provided using Toolbar.inflateMenu][1] even while using setSupportActionBar(toolbar).** \r\n\r\nI had a scenario where I had to move toolbar setup functionality into a separate class outside of activity which didn&#39;t by-itself know of the event onCreateOptionsMenu. \r\n\r\nSo, to implement this, all I had to do was wait for Toolbar to be drawn before calling inflateMenu by doing the following:\r\n\r\n    toolbar.post {\r\n        toolbar.inflateMenu(R.menu.my_menu)\r\n    }\r\n\r\nMight not be considered very clean but still gets the job done.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49098384/2534007","title":"How to set menu to Toolbar in Android","body":"<p><strong>You can still use the <a href=\"https://stackoverflow.com/a/49098384/2534007\">answer provided using Toolbar.inflateMenu</a> even while using setSupportActionBar(toolbar).</strong></p>\n<p>I had a scenario where I had to move toolbar setup functionality into a separate class outside of activity which didn't by-itself know of the event onCreateOptionsMenu.</p>\n<p>So, to implement this, all I had to do was wait for Toolbar to be drawn before calling inflateMenu by doing the following:</p>\n<pre><code>toolbar.post {\n    toolbar.inflateMenu(R.menu.my_menu)\n}\n</code></pre>\n<p>Might not be considered very clean but still gets the job done.</p>\n"},{"tags":[],"owner":{"account_id":14747592,"reputation":81,"user_id":10650499,"display_name":"vishal pathak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606235721,"creation_date":1606235721,"answer_id":64990816,"question_id":35648913,"body_markdown":"You can achieve this by two methods \r\n1. Using XML\r\n2. Using java\r\n\r\nUsing XML\r\nAdd this attribute to toolbar XML\r\napp:menu = &quot;menu_name&quot;\r\n\r\nUsing java\r\nBy overriding onCreateOptionMenu(Menu menu)\r\n\r\n    public class MainActivity extends AppCompatActivity { \r\n    \r\n      private Toolbar toolbar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    }\r\n    @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.demo_menu,menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n    }\r\n\r\n\r\nfor more details or implementating click on the menu go through this article\r\nhttps://bedevelopers.tech/android-toolbar-implementation-using-android-studio/","title":"How to set menu to Toolbar in Android","body":"<p>You can achieve this by two methods</p>\n<ol>\n<li>Using XML</li>\n<li>Using java</li>\n</ol>\n<p>Using XML\nAdd this attribute to toolbar XML\napp:menu = &quot;menu_name&quot;</p>\n<p>Using java\nBy overriding onCreateOptionMenu(Menu menu)</p>\n<pre><code>public class MainActivity extends AppCompatActivity { \n\n  private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n}\n@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.demo_menu,menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n}\n</code></pre>\n<p>for more details or implementating click on the menu go through this article\n<a href=\"https://bedevelopers.tech/android-toolbar-implementation-using-android-studio/\" rel=\"nofollow noreferrer\">https://bedevelopers.tech/android-toolbar-implementation-using-android-studio/</a></p>\n"},{"tags":[],"owner":{"account_id":21545787,"reputation":91,"user_id":15882669,"display_name":"Bishal Maji"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1623036385,"creation_date":1623036385,"answer_id":67865598,"question_id":35648913,"body_markdown":"**First way**:\r\n In activitymain.xml\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/maintoolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;56dp&quot;/&gt;\r\n\r\nIn MainActivity.java\r\n\r\n    import androidx.appcompat.widget.Toolbar;\r\n    private Toolbar toolbar;\r\n\r\nInside onCreate method-\r\n\r\n     toolbar=findViewById(R.id.maintoolbar);\r\n            setSupportActionBar(toolbar);\r\n\r\nInside your MainActivity class-\r\n \r\n\r\n       @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.&lt;your menu xml file name here&gt;,menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n\r\n**Second way** :\r\n\r\n     //Remove setSupportActionBar(toolbar) and onCreateOptionmenu.\r\n     toolbar=findViewById(R.id.maintoolbar);\r\n     toolbar.inflateMenu(R.menu.&lt;your menu xml file name here&gt;);\r\n    ","title":"How to set menu to Toolbar in Android","body":"<p><strong>First way</strong>:\nIn activitymain.xml</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/maintoolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;56dp&quot;/&gt;\n</code></pre>\n<p>In MainActivity.java</p>\n<pre><code>import androidx.appcompat.widget.Toolbar;\nprivate Toolbar toolbar;\n</code></pre>\n<p>Inside onCreate method-</p>\n<pre><code> toolbar=findViewById(R.id.maintoolbar);\n        setSupportActionBar(toolbar);\n</code></pre>\n<p>Inside your MainActivity class-</p>\n<pre><code>   @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.&lt;your menu xml file name here&gt;,menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n</code></pre>\n<p><strong>Second way</strong> :</p>\n<pre><code> //Remove setSupportActionBar(toolbar) and onCreateOptionmenu.\n toolbar=findViewById(R.id.maintoolbar);\n toolbar.inflateMenu(R.menu.&lt;your menu xml file name here&gt;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639978332,"creation_date":1639977619,"answer_id":70417638,"question_id":35648913,"body_markdown":"Without ActionBar but with Toolbar\r\n----------------------------------\r\n\r\nIf you want to use a Toolbar instead of the ActionBar, to `setSupportActionBar` is contradiction in principle as @RohitSingh answered [above][1].\r\n\r\nYou need neither to use `setSupportActionBar` nor to override `onCreateOptionsMenu` and `onOptionsItemSelected` which are used for the ActionBar.\r\n\r\n1. `NoActionBar` theme\r\n2. Place a Toolbar in the layout xml\r\n3. Prepare a menu xml\r\n4. `Toolbar#inflateMenu` (alternatively you can also set a menu in the layout xml)\r\n5. `Toolbar#setOnMenuItemClickListener`\r\n\r\nBelow is an example.\r\n\r\n**1. NoActionBar theme**\r\n\r\n(`MaterialCompolent.DayNight` theme is used in this sample)\r\n\r\n    &lt;style name=&quot;Theme.AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\n**2. Place a Toolbar in the layout**\r\n\r\n(`MaterialToobar` is used in this sample)\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n**3. Prepare a menu xml**\r\n\r\n    &lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/item1&quot;\r\n            android:title=&quot;@string/item1&quot;\r\n            app:showAsAction=&quot;ifRoom&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/item2&quot;\r\n            android:title=&quot;@string/item2&quot;\r\n            app:showAsAction=&quot;ifRoom&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n**4. Toolbar#inflateMenu**\r\n\r\n    binding.toolbar.inflateMenu(R.menu.main); // binding is a ViewBinding\r\n\r\n**5. Toolbar#setOnMenuItemClickListener**\r\n\r\nRecent Android recommend to avoid to use `switch` to differentiate ids. Using a normal `if ~ else if ~ else` block is desirable. In addition to that, we can use **lambda** in Java 8.\r\n\r\n    binding.toolbar.setOnMenuItemClickListener(menuItem -&gt; {\r\n        int itemId = menuItem.getItemId();\r\n        if (itemId == R.id.item1) {\r\n            // do something for item1\r\n            return true;\r\n        } else if (itemId == R.id.item2) {\r\n            // do something for item2\r\n            return true;\r\n        } else {\r\n            // if you do nothing, returning false should be appropriate.\r\n            return false;\r\n        }\r\n    });\r\n\r\n  [1]: https://stackoverflow.com/a/49098384/3501958","title":"How to set menu to Toolbar in Android","body":"<h2>Without ActionBar but with Toolbar</h2>\n<p>If you want to use a Toolbar instead of the ActionBar, to <code>setSupportActionBar</code> is contradiction in principle as @RohitSingh answered <a href=\"https://stackoverflow.com/a/49098384/3501958\">above</a>.</p>\n<p>You need neither to use <code>setSupportActionBar</code> nor to override <code>onCreateOptionsMenu</code> and <code>onOptionsItemSelected</code> which are used for the ActionBar.</p>\n<ol>\n<li><code>NoActionBar</code> theme</li>\n<li>Place a Toolbar in the layout xml</li>\n<li>Prepare a menu xml</li>\n<li><code>Toolbar#inflateMenu</code> (alternatively you can also set a menu in the layout xml)</li>\n<li><code>Toolbar#setOnMenuItemClickListener</code></li>\n</ol>\n<p>Below is an example.</p>\n<p><strong>1. NoActionBar theme</strong></p>\n<p>(<code>MaterialCompolent.DayNight</code> theme is used in this sample)</p>\n<pre><code>&lt;style name=&quot;Theme.AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p><strong>2. Place a Toolbar in the layout</strong></p>\n<p>(<code>MaterialToobar</code> is used in this sample)</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p><strong>3. Prepare a menu xml</strong></p>\n<pre><code>&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/item1&quot;\n        android:title=&quot;@string/item1&quot;\n        app:showAsAction=&quot;ifRoom&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/item2&quot;\n        android:title=&quot;@string/item2&quot;\n        app:showAsAction=&quot;ifRoom&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p><strong>4. Toolbar#inflateMenu</strong></p>\n<pre><code>binding.toolbar.inflateMenu(R.menu.main); // binding is a ViewBinding\n</code></pre>\n<p><strong>5. Toolbar#setOnMenuItemClickListener</strong></p>\n<p>Recent Android recommend to avoid to use <code>switch</code> to differentiate ids. Using a normal <code>if ~ else if ~ else</code> block is desirable. In addition to that, we can use <strong>lambda</strong> in Java 8.</p>\n<pre><code>binding.toolbar.setOnMenuItemClickListener(menuItem -&gt; {\n    int itemId = menuItem.getItemId();\n    if (itemId == R.id.item1) {\n        // do something for item1\n        return true;\n    } else if (itemId == R.id.item2) {\n        // do something for item2\n        return true;\n    } else {\n        // if you do nothing, returning false should be appropriate.\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12537785,"reputation":489,"user_id":13036358,"display_name":"cryo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645269107,"creation_date":1645269107,"answer_id":71184461,"question_id":35648913,"body_markdown":"You don&#39;t actually need to touch the fragment/activity class at all to get a menu inside a toolbar. You can use Rohit Singh&#39;s method inside `onViewCreated` method \r\n\r\n    import androidx.appcompat.widget.Toolbar\r\n    ...\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n\t\tsuper.onViewCreated(view, savedInstanceState)\r\n\t\tval toolbar = view.findViewById&lt;Toolbar&gt;(R.id.inbox_toolbar)\r\n\t\ttoolbar.inflateMenu(R.menu.inbox_menu)\r\n\t}\r\n\r\n\r\nor\r\n\r\nsimply define a app:menu element inside the toolbar,\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar ...\r\n    app:menu= &quot;@menu/myMenu&quot; ?&gt;\r\n\r\n","title":"How to set menu to Toolbar in Android","body":"<p>You don't actually need to touch the fragment/activity class at all to get a menu inside a toolbar. You can use Rohit Singh's method inside <code>onViewCreated</code> method</p>\n<pre><code>import androidx.appcompat.widget.Toolbar\n...\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    val toolbar = view.findViewById&lt;Toolbar&gt;(R.id.inbox_toolbar)\n    toolbar.inflateMenu(R.menu.inbox_menu)\n}\n</code></pre>\n<p>or</p>\n<p>simply define a app:menu element inside the toolbar,</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar ...\napp:menu= &quot;@menu/myMenu&quot; ?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28362157,"reputation":11,"user_id":21692001,"display_name":"Veer J Kamdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689779969,"creation_date":1689779969,"answer_id":76722835,"question_id":35648913,"body_markdown":"Creating an options menu is different in an Activity and Fragment. An activity is one screen of your app whereas, a fragment is a part of the application&#39;s user interface that is bound to an activity. This makes fragments lightweight and faster to run. \r\n\r\nAlways keep this in mind. Now moving towards the code, To create menu in a toolbar, first inflate the toolbar and then inflate the menu itself. Also, make sure that **setHasOptionsMenu(true)** is present in the onCreate method of the fragment.\r\n\r\n     public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n    }\r\n\r\nAbove is onCreate() method\r\n\r\n      public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState)\r\n    {\r\n        // Inflate the layout for this fragment\r\n        View v= inflater.inflate(R.layout.fragment_home, container, false);\r\n        materialToolbar=v.findViewById(R.id.materialHomeToolbar);\r\n        materialToolbar.inflateMenu(R.menu.topapp_menu);\r\n\r\n        materialToolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener()\r\n        {\r\n            @Override\r\n            public boolean onMenuItemClick(MenuItem item)\r\n            {\r\n                int t=0;\r\n                if(item.getItemId()==R.id.notification)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.myAccount)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.terms)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.contactUs)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.help)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.feedback)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            }\r\n        });\r\n        return v;\r\n    }\r\n}\r\n\r\nAbove is the onCreateView(), where I have used **setOnMenuItemClickListener()** to print a toast message on click of an item.","title":"How to set menu to Toolbar in Android","body":"<p>Creating an options menu is different in an Activity and Fragment. An activity is one screen of your app whereas, a fragment is a part of the application's user interface that is bound to an activity. This makes fragments lightweight and faster to run.</p>\n<p>Always keep this in mind. Now moving towards the code, To create menu in a toolbar, first inflate the toolbar and then inflate the menu itself. Also, make sure that <strong>setHasOptionsMenu(true)</strong> is present in the onCreate method of the fragment.</p>\n<pre><code> public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setHasOptionsMenu(true);\n}\n</code></pre>\n<p>Above is onCreate() method</p>\n<pre><code>  public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState)\n{\n    // Inflate the layout for this fragment\n    View v= inflater.inflate(R.layout.fragment_home, container, false);\n    materialToolbar=v.findViewById(R.id.materialHomeToolbar);\n    materialToolbar.inflateMenu(R.menu.topapp_menu);\n\n    materialToolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener()\n    {\n        @Override\n        public boolean onMenuItemClick(MenuItem item)\n        {\n            int t=0;\n            if(item.getItemId()==R.id.notification)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.myAccount)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.terms)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.contactUs)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.help)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.feedback)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            return true;\n        }\n    });\n    return v;\n}\n</code></pre>\n<p>}</p>\n<p>Above is the onCreateView(), where I have used <strong>setOnMenuItemClickListener()</strong> to print a toast message on click of an item.</p>\n"}],"owner":{"account_id":7908792,"reputation":1595,"user_id":5973443,"accept_rate":62,"display_name":"Dr.NoBody"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245373,"favorite_count":0,"down_vote_count":1,"up_vote_count":141,"accepted_answer_id":35649007,"answer_count":18,"score":140,"last_activity_date":1689779969,"creation_date":1456481569,"question_id":35648913,"body_markdown":"I want use `ToolBar` instead of `ActionBar`, but don&#39;t show me menu in toolbar!!! i want set menu such as **Refresh** or **Setting** buttons in `ActionBar`.&lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Toolbar.xml code :**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.Toolbar\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;?attr/colorPrimary&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        app:navigationContentDescription=&quot;@string/abc_action_bar_up_description&quot;\r\n        app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n        app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n        app:title=&quot;Main Page&quot;\r\n        android:gravity=&quot;center&quot;/&gt;\r\n\r\n**MainPage.java code:**\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MainPage extends AppCompatActivity {\r\n        private Toolbar toolbar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main_page);\r\n    \r\n            toolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n            setSupportActionBar(toolbar);\r\n            if (getSupportActionBar() != null) {\r\n                getSupportActionBar().setTitle(&quot;Main Page&quot;);\r\n            }\r\n            toolbar.setSubtitle(&quot;Test Subtitle&quot;);\r\n            toolbar.inflateMenu(R.menu.main_menu);\r\n        }\r\n    }\r\n\r\n**main_menu.xml code :** \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/menu_main_setting&quot;\r\n            android:icon=&quot;@drawable/ic_settings&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            app:showAsAction=&quot;always&quot;\r\n            android:actionLayout=&quot;@layout/toolbar&quot;\r\n            android:title=&quot;Setting&quot; /&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/menu_main_setting2&quot;\r\n            android:icon=&quot;@drawable/ic_settings&quot;\r\n            android:orderInCategory=&quot;200&quot;\r\n            app:showAsAction=&quot;always&quot;\r\n            android:actionLayout=&quot;@layout/toolbar&quot;\r\n            android:title=&quot;Setting&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nHow to fix this problem and show menu in `Toolbar` ? thanks all dears &lt;3\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R1qfam.png\r\n  [2]: http://imgur.com/oDTKZxp","title":"How to set menu to Toolbar in Android","body":"<p>I want use <code>ToolBar</code> instead of <code>ActionBar</code>, but don't show me menu in toolbar!!! i want set menu such as <strong>Refresh</strong> or <strong>Setting</strong> buttons in <code>ActionBar</code>.<br></p>\n<p><a href=\"https://i.stack.imgur.com/R1qfam.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R1qfam.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Toolbar.xml code :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.v7.widget.Toolbar\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;?attr/colorPrimary&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    app:navigationContentDescription=&quot;@string/abc_action_bar_up_description&quot;\n    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n    app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n    app:title=&quot;Main Page&quot;\n    android:gravity=&quot;center&quot;/&gt;\n</code></pre>\n<p><strong>MainPage.java code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainPage extends AppCompatActivity {\n    private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_page);\n\n        toolbar = (Toolbar) findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\n        if (getSupportActionBar() != null) {\n            getSupportActionBar().setTitle(&quot;Main Page&quot;);\n        }\n        toolbar.setSubtitle(&quot;Test Subtitle&quot;);\n        toolbar.inflateMenu(R.menu.main_menu);\n    }\n}\n</code></pre>\n<p><strong>main_menu.xml code :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/menu_main_setting&quot;\n        android:icon=&quot;@drawable/ic_settings&quot;\n        android:orderInCategory=&quot;100&quot;\n        app:showAsAction=&quot;always&quot;\n        android:actionLayout=&quot;@layout/toolbar&quot;\n        android:title=&quot;Setting&quot; /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/menu_main_setting2&quot;\n        android:icon=&quot;@drawable/ic_settings&quot;\n        android:orderInCategory=&quot;200&quot;\n        app:showAsAction=&quot;always&quot;\n        android:actionLayout=&quot;@layout/toolbar&quot;\n        android:title=&quot;Setting&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>How to fix this problem and show menu in <code>Toolbar</code> ? thanks all dears &lt;3</p>\n"},{"tags":["java","flutter","dart","http"],"owner":{"account_id":16165723,"reputation":1,"user_id":11670753,"display_name":"Edoardo Gullo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689779576,"creation_date":1689774966,"question_id":76722095,"body_markdown":"I have a strange problem:\r\n\r\nThis code is working on physical device (Android 10) with java application (Android Studio)\r\n\r\n\r\n```\r\nfinal MediaType JSON\r\n                    = MediaType.get(&quot;application/xml; charset=utf-8&quot;);\r\n\r\n            OkHttpClient client = new OkHttpClient.Builder().\r\n                    writeTimeout(timeout, TimeUnit.SECONDS).\r\n                    readTimeout(timeout, TimeUnit.SECONDS).\r\n                    connectTimeout(timeout, TimeUnit.SECONDS).build();\r\n\r\n            RequestBody body = RequestBody.create(xml, JSON);\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;http://&quot;+ ipMachine + &quot;/service.cgi&quot;)\r\n                    .post(body)\r\n                    .build();\r\n\r\n            Response response = client.newCall(request).execute();\r\n```\r\n\r\nThis one returns &quot;ClientException: Connection closed before full header was received&quot; in Flutter same device.\r\n\r\n\r\n```\r\nhttp.Response response = await http.post(\r\n            Uri.http(ip, &quot;service.cgi&quot;),\r\n            headers: {\r\n              HttpHeaders.contentTypeHeader: &quot;application/xml; charset=utf-8&quot;,\r\n            },\r\n            body: xml);\r\n```\r\n\r\n\r\n\r\n\r\nThe server is a fiscal printer (RCH).\r\n\r\nPlease, help me.\r\n\r\nThanks.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nif I use flutter_curl package in flutter it works:\r\n\r\n```\r\nClient client = Client(\r\n          verbose: true,\r\n          interceptors: [\r\n            // HTTPCaching(),\r\n          ],\r\n        );\r\n        await client.init();\r\n\r\n        final res = await client.send(Request(\r\n            method: &quot;POST&quot;,\r\n            url: &quot;http://192.168.168.18/service.cgi&quot;,\r\n            headers: {&quot;user-agent&quot;: &quot;myapp-v1.0/android9&quot;},\r\n            // body\r\n            body: RequestBody.raw(utf8.encode(xml))\r\n            // body: RequestBody.string(&quot;hello world&quot;),\r\n            // body: RequestBody.form({&quot;age&quot;: &quot;10&quot;, &quot;hello&quot;: &quot;world&quot;}),\r\n            // body: RequestBody.multipart([\r\n            //    Multipart(name: &quot;age&quot;, data: &quot;24&quot;),\r\n            //    Multipart(name: &quot;hello&quot;, data: &quot;world&quot;),\r\n            //    Multipart.file(\r\n            //      name: &quot;fieldname&quot;,\r\n            //      path: &quot;/sdcard/todo.txt&quot;,\r\n            //      filename: &quot;filename.txt&quot;,\r\n            //    ),\r\n            //  ]),\r\n\r\n            ));\r\n        print(&quot;Status: ${res.statusCode}&quot;);\r\n        print(&quot;HTTP: ${res.httpVersion}&quot;);\r\n        res.headers.forEach((key, value) {\r\n          print(&quot;$key: $value&quot;);\r\n        });\r\n        print(res.text());\r\n```\r\n\r\nIt&#39;s ok but i need that this work also in windows and flutter_curl doesn&#39;t support it.","title":"ClientException: Connection closed before full header was received","body":"<p>I have a strange problem:</p>\n<p>This code is working on physical device (Android 10) with java application (Android Studio)</p>\n<pre><code>final MediaType JSON\n                    = MediaType.get(&quot;application/xml; charset=utf-8&quot;);\n\n            OkHttpClient client = new OkHttpClient.Builder().\n                    writeTimeout(timeout, TimeUnit.SECONDS).\n                    readTimeout(timeout, TimeUnit.SECONDS).\n                    connectTimeout(timeout, TimeUnit.SECONDS).build();\n\n            RequestBody body = RequestBody.create(xml, JSON);\n            Request request = new Request.Builder()\n                    .url(&quot;http://&quot;+ ipMachine + &quot;/service.cgi&quot;)\n                    .post(body)\n                    .build();\n\n            Response response = client.newCall(request).execute();\n</code></pre>\n<p>This one returns &quot;ClientException: Connection closed before full header was received&quot; in Flutter same device.</p>\n<pre><code>http.Response response = await http.post(\n            Uri.http(ip, &quot;service.cgi&quot;),\n            headers: {\n              HttpHeaders.contentTypeHeader: &quot;application/xml; charset=utf-8&quot;,\n            },\n            body: xml);\n</code></pre>\n<p>The server is a fiscal printer (RCH).</p>\n<p>Please, help me.</p>\n<p>Thanks.</p>\n<p><strong>UPDATE:</strong></p>\n<p>if I use flutter_curl package in flutter it works:</p>\n<pre><code>Client client = Client(\n          verbose: true,\n          interceptors: [\n            // HTTPCaching(),\n          ],\n        );\n        await client.init();\n\n        final res = await client.send(Request(\n            method: &quot;POST&quot;,\n            url: &quot;http://192.168.168.18/service.cgi&quot;,\n            headers: {&quot;user-agent&quot;: &quot;myapp-v1.0/android9&quot;},\n            // body\n            body: RequestBody.raw(utf8.encode(xml))\n            // body: RequestBody.string(&quot;hello world&quot;),\n            // body: RequestBody.form({&quot;age&quot;: &quot;10&quot;, &quot;hello&quot;: &quot;world&quot;}),\n            // body: RequestBody.multipart([\n            //    Multipart(name: &quot;age&quot;, data: &quot;24&quot;),\n            //    Multipart(name: &quot;hello&quot;, data: &quot;world&quot;),\n            //    Multipart.file(\n            //      name: &quot;fieldname&quot;,\n            //      path: &quot;/sdcard/todo.txt&quot;,\n            //      filename: &quot;filename.txt&quot;,\n            //    ),\n            //  ]),\n\n            ));\n        print(&quot;Status: ${res.statusCode}&quot;);\n        print(&quot;HTTP: ${res.httpVersion}&quot;);\n        res.headers.forEach((key, value) {\n          print(&quot;$key: $value&quot;);\n        });\n        print(res.text());\n</code></pre>\n<p>It's ok but i need that this work also in windows and flutter_curl doesn't support it.</p>\n"},{"tags":["java","hibernate","model-view-controller","hibernate-mapping","hibernate-criteria"],"owner":{"account_id":17809183,"reputation":35,"user_id":12934203,"display_name":"hilario_cassio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689779542,"creation_date":1689779542,"question_id":76722776,"body_markdown":"I&#39;m developing an app where multiple classes have images to better identify themselves, such as users, items, damage and etc...\r\n\r\nSo I&#39;m creating a Class that accepts generics class so I can relate each of this classes to the Images that I&#39;m saving. It&#39;s a one-to-many relationship of course, an item may have a max of 4 images but each image can have 1 item for example.\r\n\r\nThat&#39;s my class file:\r\n\r\n    \r\n    public class Image&lt;T&gt; implements Serializable {\r\n    \r\n        private Long id;\r\n        private byte[] image;\r\n        private T entity;\r\n        private Long entityId;\r\n        private int index;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @AuditableField(value= &quot;image&quot;, encoder = ByteArrayFieldEncoder.class)\r\n        public byte[] getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(byte[] image) {\r\n            this.image = image;\r\n        }\r\n    \r\n        public T getEntity() {\r\n            return entity;\r\n        }\r\n    \r\n        public void setEntity(T entity) {\r\n            this.entity = entity;\r\n        }\r\n    \r\n        public Long getEntityId() {\r\n            return entityId;\r\n        }\r\n    \r\n        public void setEntityId(Long entityId) {\r\n            this.entityId = entityId;\r\n        }\r\n    \r\n        @AuditableField\r\n        public int getIndex() {\r\n            return index;\r\n        }\r\n    \r\n        public void setIndex(int index) {\r\n            this.index = index;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) return true;\r\n            if(!(obj instanceof Image)) return false;\r\n            Image image = (Image) obj;\r\n            return Objects.equals(id, image.id);\r\n        }\r\n    }\r\n\r\nBut what I&#39;m struggling to do is how to build the XML code for this class, does anyone knows how can I do that? If it&#39;s even possible...","title":"Translate a Java Class containing a Generics to Hibernate","body":"<p>I'm developing an app where multiple classes have images to better identify themselves, such as users, items, damage and etc...</p>\n<p>So I'm creating a Class that accepts generics class so I can relate each of this classes to the Images that I'm saving. It's a one-to-many relationship of course, an item may have a max of 4 images but each image can have 1 item for example.</p>\n<p>That's my class file:</p>\n<pre><code>public class Image&lt;T&gt; implements Serializable {\n\n    private Long id;\n    private byte[] image;\n    private T entity;\n    private Long entityId;\n    private int index;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @AuditableField(value= &quot;image&quot;, encoder = ByteArrayFieldEncoder.class)\n    public byte[] getImage() {\n        return image;\n    }\n\n    public void setImage(byte[] image) {\n        this.image = image;\n    }\n\n    public T getEntity() {\n        return entity;\n    }\n\n    public void setEntity(T entity) {\n        this.entity = entity;\n    }\n\n    public Long getEntityId() {\n        return entityId;\n    }\n\n    public void setEntityId(Long entityId) {\n        this.entityId = entityId;\n    }\n\n    @AuditableField\n    public int getIndex() {\n        return index;\n    }\n\n    public void setIndex(int index) {\n        this.index = index;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) return true;\n        if(!(obj instanceof Image)) return false;\n        Image image = (Image) obj;\n        return Objects.equals(id, image.id);\n    }\n}\n</code></pre>\n<p>But what I'm struggling to do is how to build the XML code for this class, does anyone knows how can I do that? If it's even possible...</p>\n"},{"tags":["java","aide-ide","aide"],"answers":[{"tags":[],"owner":{"account_id":18168996,"reputation":111,"user_id":13219014,"display_name":"Jamal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611323450,"creation_date":1611323450,"answer_id":65846456,"question_id":65164972,"body_markdown":"IT happens because of some library if you implement in your project while using Aide.\r\n\r\nAide has problems with most of the libraries.\r\n\r\nTry using another code editor or another library instead.\r\n\r\nSomething similar happened to me :\r\n\r\nhttps://stackoverflow.com/questions/65828711/how-to-fix-packaging-error-in-aide-mobile-ide?noredirect=1#comment116405189_65828711","title":"Packaging error: java.lang.RuntimeException: yu: unknown tag byte: 12","body":"<p>IT happens because of some library if you implement in your project while using Aide.</p>\n<p>Aide has problems with most of the libraries.</p>\n<p>Try using another code editor or another library instead.</p>\n<p>Something similar happened to me :</p>\n<p><a href=\"https://stackoverflow.com/questions/65828711/how-to-fix-packaging-error-in-aide-mobile-ide?noredirect=1#comment116405189_65828711\">How to fix packaging error in Aide (mobile IDE)?</a></p>\n"},{"tags":[],"owner":{"account_id":27707135,"reputation":19,"user_id":21150530,"display_name":"ABC ABC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689779421,"creation_date":1689779421,"answer_id":76722754,"question_id":65164972,"body_markdown":"Solution:\r\n\r\nYou cannot use libraries, which need an higher target SDK version as your app, search a version of the library, which is compatible with your app.\r\n\r\nI had the same problem today &#128517;&#128517;","title":"Packaging error: java.lang.RuntimeException: yu: unknown tag byte: 12","body":"<p>Solution:</p>\n<p>You cannot use libraries, which need an higher target SDK version as your app, search a version of the library, which is compatible with your app.</p>\n<p>I had the same problem today 😅😅</p>\n"}],"owner":{"account_id":20143385,"reputation":31,"user_id":14772533,"display_name":"JacobMC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1277,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689779421,"creation_date":1607232492,"question_id":65164972,"body_markdown":"So I&#39;m currently trying to code a 1.16.4 Spigot plugin for minecraft in AIDE since my pc is broken and I have gotten no errors so far but once I run the program I get the build error: \r\n```none\r\npackaging error java.lang.runtimeexception: yu: unknown tag byte: 12\r\n```\r\nI am not familiar with AIDE so I do not know if it something with the spigot jar or what but I am using `spigot-api-1.16.4-R0.1-20201203.083325-28-shaded.jar`","title":"Packaging error: java.lang.RuntimeException: yu: unknown tag byte: 12","body":"<p>So I'm currently trying to code a 1.16.4 Spigot plugin for minecraft in AIDE since my pc is broken and I have gotten no errors so far but once I run the program I get the build error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>packaging error java.lang.runtimeexception: yu: unknown tag byte: 12\n</code></pre>\n<p>I am not familiar with AIDE so I do not know if it something with the spigot jar or what but I am using <code>spigot-api-1.16.4-R0.1-20201203.083325-28-shaded.jar</code></p>\n"},{"tags":["java","xml","spring-boot","jakarta-migration"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1689409614,"post_id":76692311,"comment_id":135211881,"body_markdown":"Which dependency does `javax.xml.namespace` come from? I think that `javax.xml.namespace` should stay starting with `javax`. See also [this issue](https://github.com/apache/tomcat-jakartaee-migration/issues/9).","body":"Which dependency does <code>javax.xml.namespace</code> come from? I think that <code>javax.xml.namespace</code> should stay starting with <code>javax</code>. See also <a href=\"https://github.com/apache/tomcat-jakartaee-migration/issues/9\" rel=\"nofollow noreferrer\">this issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":28576136,"reputation":131,"user_id":21877718,"display_name":"Will Phi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689779314,"creation_date":1689779314,"answer_id":76722740,"question_id":76692311,"body_markdown":"javax -&gt; jakarta is only for JavaEE (JakartaEE). Some javax.* packages are of SE, not EE, for example:\r\n\r\n    javax.sql.*\r\n    javax.xml.*\r\n    javax.naming.*\r\n    javax.swing.*\r\n\r\nThey will simply keep javax.\r\n\r\n","title":"Migrating services to Spring Boot 3 - Unable to convert javax.xml.namespace to jakarta.xml.namespace","body":"<p>javax -&gt; jakarta is only for JavaEE (JakartaEE). Some javax.* packages are of SE, not EE, for example:</p>\n<pre><code>javax.sql.*\njavax.xml.*\njavax.naming.*\njavax.swing.*\n</code></pre>\n<p>They will simply keep javax.</p>\n"}],"owner":{"account_id":14103609,"reputation":55,"user_id":11423619,"display_name":"Shane Gurusingha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689779314,"creation_date":1689398059,"question_id":76692311,"body_markdown":"We are migrating our services to Spring Boot 3. However, we have encountered an issue regarding the conversion from `javax.xml.namespace` to `jakarta.xml.namespace`. It seems that this namespace has not been migrated to Jakarta EE yet. As a result, our application is failing to start up with Tomcat 10.\r\n\r\nCould anyone please suggest a workaround or solution for this issue? We are seeking a way to successfully convert the `javax.xml.namespace` references to the corresponding `jakarta.xml.namespace` ones, ensuring compatibility with Spring Boot 3 and Tomcat 10.","title":"Migrating services to Spring Boot 3 - Unable to convert javax.xml.namespace to jakarta.xml.namespace","body":"<p>We are migrating our services to Spring Boot 3. However, we have encountered an issue regarding the conversion from <code>javax.xml.namespace</code> to <code>jakarta.xml.namespace</code>. It seems that this namespace has not been migrated to Jakarta EE yet. As a result, our application is failing to start up with Tomcat 10.</p>\n<p>Could anyone please suggest a workaround or solution for this issue? We are seeking a way to successfully convert the <code>javax.xml.namespace</code> references to the corresponding <code>jakarta.xml.namespace</code> ones, ensuring compatibility with Spring Boot 3 and Tomcat 10.</p>\n"},{"tags":["java","apache-pulsar"],"answers":[{"tags":[],"owner":{"account_id":3901577,"reputation":1056,"user_id":3229301,"display_name":"David Kjerrumgaard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607627178,"creation_date":1607627178,"answer_id":65240768,"question_id":65233366,"body_markdown":"This is exactly the use case that [namespaces][1] were designed for. In Pulsar, a namespace is an administrative unit within a tenant that contains a subset of topics. The configuration policies set on a namespace apply to all the topics created in that namespace. The best way to address this issue is use the either the REST API or the [pulsar-admin CLI tool][2] to create a new namespace, e.g.\r\n\r\n    pulsar-admin namespaces create &lt;current-tenant&gt;/&lt;a-new-namespace&gt;\r\n\r\n\r\nOnce you have the new namespace, you can then configure the [retention policy][3] for the new namespace using the CLI tool, e.g.\r\n\r\n    $ pulsar-admin namespaces set-retention &lt;current-tenant&gt;/&lt;a-new-namespace&gt; \\\r\n      --size -1 \\\r\n      --time -1\r\n\r\n\r\nFinally, you will want to re-create the topics in the new namespace, and change your code to use these new topics.\r\n\r\n\r\n  [1]: https://pulsar.apache.org/docs/en/concepts-multi-tenancy/#namespaces\r\n  [2]: https://pulsar.apache.org/docs/en/pulsar-admin\r\n  [3]: https://pulsar.apache.org/docs/en/cookbooks-retention-expiry/#retention-policies","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>This is exactly the use case that <a href=\"https://pulsar.apache.org/docs/en/concepts-multi-tenancy/#namespaces\" rel=\"nofollow noreferrer\">namespaces</a> were designed for. In Pulsar, a namespace is an administrative unit within a tenant that contains a subset of topics. The configuration policies set on a namespace apply to all the topics created in that namespace. The best way to address this issue is use the either the REST API or the <a href=\"https://pulsar.apache.org/docs/en/pulsar-admin\" rel=\"nofollow noreferrer\">pulsar-admin CLI tool</a> to create a new namespace, e.g.</p>\n<pre><code>pulsar-admin namespaces create &lt;current-tenant&gt;/&lt;a-new-namespace&gt;\n</code></pre>\n<p>Once you have the new namespace, you can then configure the <a href=\"https://pulsar.apache.org/docs/en/cookbooks-retention-expiry/#retention-policies\" rel=\"nofollow noreferrer\">retention policy</a> for the new namespace using the CLI tool, e.g.</p>\n<pre><code>$ pulsar-admin namespaces set-retention &lt;current-tenant&gt;/&lt;a-new-namespace&gt; \\\n  --size -1 \\\n  --time -1\n</code></pre>\n<p>Finally, you will want to re-create the topics in the new namespace, and change your code to use these new topics.</p>\n"},{"tags":[],"owner":{"account_id":14166325,"reputation":1020,"user_id":10234183,"display_name":"Chris Bartholomew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607629860,"creation_date":1607629860,"answer_id":65241358,"question_id":65233366,"body_markdown":"If you use a subscription on the topic, then you don&#39;t have to worry about message retention. Messages in a subscription backlog are not removed until they are acknowledged, regardless of the retention setting. Just use the Consumer interface in the client and acknowledge each message after the calculations are done. \r\n\r\nFor more details about retention and subscription backlogs, see this [Understanding Pulsar Message TTL, Backlog, and Retention][1]\r\n\r\n\r\n  [1]: https://kesque.com/understanding-pulsar-message-ttl-backlog-and-retention/","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>If you use a subscription on the topic, then you don't have to worry about message retention. Messages in a subscription backlog are not removed until they are acknowledged, regardless of the retention setting. Just use the Consumer interface in the client and acknowledge each message after the calculations are done.</p>\n<p>For more details about retention and subscription backlogs, see this <a href=\"https://kesque.com/understanding-pulsar-message-ttl-backlog-and-retention/\" rel=\"nofollow noreferrer\">Understanding Pulsar Message TTL, Backlog, and Retention</a></p>\n"},{"tags":[],"owner":{"account_id":28773270,"reputation":11,"user_id":22036550,"display_name":"JTBS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689779261,"creation_date":1689779261,"answer_id":76722731,"question_id":65233366,"body_markdown":"Most documentation refers to these policies set at namespace.\r\nI see no mention of ability to set these at topic level.\r\n\r\nBut if you dig into Admin API, I see API capabilities to set most useful policies at topic level - which should be overriding any at namespace\r\nExample:\r\nhttps://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setInactiveTopicPolicies\r\nhttps://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setMessageTTL\r\n\r\nIts not clear why documentation explicitly mention this AND Admin UI also does not expose this. \r\n\r\nIn general it does make sense to manage this at namespace. But its important for developers to know if there is a way to override this at topic level. My understanding is we can do so with Admin API","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>Most documentation refers to these policies set at namespace.\nI see no mention of ability to set these at topic level.</p>\n<p>But if you dig into Admin API, I see API capabilities to set most useful policies at topic level - which should be overriding any at namespace\nExample:\n<a href=\"https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setInactiveTopicPolicies\" rel=\"nofollow noreferrer\">https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setInactiveTopicPolicies</a>\n<a href=\"https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setMessageTTL\" rel=\"nofollow noreferrer\">https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setMessageTTL</a></p>\n<p>Its not clear why documentation explicitly mention this AND Admin UI also does not expose this.</p>\n<p>In general it does make sense to manage this at namespace. But its important for developers to know if there is a way to override this at topic level. My understanding is we can do so with Admin API</p>\n"}],"owner":{"account_id":6196723,"reputation":31,"user_id":4827801,"display_name":"rajukemburi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689779261,"creation_date":1607598518,"question_id":65233366,"body_markdown":"We have a usecase where our messages processor, processes messages with very complex calculations on messages from few topics. These calculations are not finishing within the rention period configured.\r\nInstead of increaseing message retention globally for all topics can we set this for the few topics where we need messages to be retained for more time?\r\nMessage retention per topic is possible?","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>We have a usecase where our messages processor, processes messages with very complex calculations on messages from few topics. These calculations are not finishing within the rention period configured.\nInstead of increaseing message retention globally for all topics can we set this for the few topics where we need messages to be retained for more time?\nMessage retention per topic is possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689691103,"post_id":76713751,"comment_id":135247724,"body_markdown":"Where are you stuck doing this? You need to use offsetIPs  (or other values you write to that file) to adjust the starting values of your loops, but you are not using it at all.","body":"Where are you stuck doing this? You need to use offsetIPs  (or other values you write to that file) to adjust the starting values of your loops, but you are not using it at all."},{"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"score":0,"creation_date":1689691293,"post_id":76713751,"comment_id":135247781,"body_markdown":"I mentioned that I&#39;m not using it because I don&#39;t know how to implement it into the loops.","body":"I mentioned that I&#39;m not using it because I don&#39;t know how to implement it into the loops."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689716314,"post_id":76713751,"comment_id":135252414,"body_markdown":"You could write i,j,k and l into your file, and initialise the loop variables from those values instead of always starting a zero.","body":"You could write i,j,k and l into your file, and initialise the loop variables from those values instead of always starting a zero."},{"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"score":0,"creation_date":1689747894,"post_id":76713751,"comment_id":135255196,"body_markdown":"Please post this as an answer, because it works. Thank you so much!","body":"Please post this as an answer, because it works. Thank you so much!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689747991,"post_id":76713751,"comment_id":135255218,"body_markdown":"I think this question is too specific to be useful to other SO users, so while I&#39;m glad my comment helped, I&#39;m not going to write an answer.","body":"I think this question is too specific to be useful to other SO users, so while I&#39;m glad my comment helped, I&#39;m not going to write an answer."},{"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"score":0,"creation_date":1689779059,"post_id":76713751,"comment_id":135262400,"body_markdown":"Oh. OK. Thanks for responding anyway!","body":"Oh. OK. Thanks for responding anyway!"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689748354,"creation_date":1689747320,"answer_id":76718439,"question_id":76713751,"body_markdown":"The code in your question is not a [minimal, reproducible example][1], however you are basically wanting to save values of certain variables to a file when your program terminates unexpectedly and when you restart your program, you want it to resume from where it failed in the previous run.\r\n\r\nThe below code removes all the unnecessary code from your question (which caused it to not compile when I copied it) and simply demonstrates what I described in the previous paragraph.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.StandardOpenOption;\r\n\r\npublic class OffsetIp {\r\n\r\n    public static void main(String[] args) {\r\n        String offsetIPs;\r\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\r\n        Path path = offsetFile.toPath();\r\n        if (offsetFile.exists()) {\r\n            try (BufferedReader br = Files.newBufferedReader(path)) {\r\n                offsetIPs = br.readLine();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Failed to read &#39;offset.mcscan&#39;!&quot;, e);\r\n            }\r\n        }\r\n        else {\r\n            offsetIPs = null;\r\n        }\r\n        int maxRange = 10;\r\n        int i = 0;\r\n        int j = 0;\r\n        int k = 0;\r\n        int l = 0;\r\n        if (offsetIPs != null) {\r\n            String[] parts = offsetIPs.split(&quot;\\\\.&quot;);\r\n            i = Integer.parseInt(parts[0]);\r\n            j = Integer.parseInt(parts[1]);\r\n            k = Integer.parseInt(parts[2]);\r\n            l = Integer.parseInt(parts[3]);\r\n        }\r\n        int limit = 255;\r\n        // this is where I need to implement offsetIPs, but how?\r\n        for (; i &lt;= maxRange; ++i) {\r\n            for (; j &lt;= limit; ++j) {\r\n                for (; k &lt;= limit; ++k) {\r\n                    for (; l &lt;= limit; ++l) {\r\n                        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n                        System.out.println(offsetIPs);\r\n                    }\r\n                    l = 0;\r\n                }\r\n                k = 0;\r\n            }\r\n            j = 0;\r\n        }\r\n        if (i &gt;= maxRange) {\r\n            i = 0;\r\n        }\r\n        if (j &gt;= limit) {\r\n            j = 0;\r\n        }\r\n        if (k &gt;= limit) {\r\n            k = 0;\r\n        }\r\n        if (l &gt;= limit) {\r\n            l = 0;\r\n        }\r\n        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n        try (BufferedWriter bw = Files.newBufferedWriter(path,\r\n                                                         StandardOpenOption.CREATE,\r\n                                                         StandardOpenOption.TRUNCATE_EXISTING,\r\n                                                         StandardOpenOption.WRITE)) {\r\n            bw.write(offsetIPs);\r\n        }\r\n        catch (IOException xIo) {\r\n            throw new RuntimeException(&quot;Save failed.&quot;, xIo);\r\n        }\r\n    }\r\n}\r\n```\r\nThe above code uses [try-with-resources][2] and [NIO.2][3].  \r\nI write the last generated IP to the file. If the process terminates normally, i.e. without exceptions, then I reset the indexes so that the next time you run the code, it will start at the beginning again (which I assume is what you want). Note that inside the inner-most `for` loop &amp;ndash; where you generate the IPs &amp;ndash; you will probably have a `try-catch`. In that `catch` block you also need to write the last generated IP to the file. Also note that you probably need to change the `catch` blocks, in the above code, to better suit your needs (which I could not ascertain from your question).\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html","title":"Resume from an offset when program is started again","body":"<p>The code in your question is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>, however you are basically wanting to save values of certain variables to a file when your program terminates unexpectedly and when you restart your program, you want it to resume from where it failed in the previous run.</p>\n<p>The below code removes all the unnecessary code from your question (which caused it to not compile when I copied it) and simply demonstrates what I described in the previous paragraph.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.StandardOpenOption;\n\npublic class OffsetIp {\n\n    public static void main(String[] args) {\n        String offsetIPs;\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\n        Path path = offsetFile.toPath();\n        if (offsetFile.exists()) {\n            try (BufferedReader br = Files.newBufferedReader(path)) {\n                offsetIPs = br.readLine();\n            } catch (IOException e) {\n                throw new RuntimeException(&quot;Failed to read 'offset.mcscan'!&quot;, e);\n            }\n        }\n        else {\n            offsetIPs = null;\n        }\n        int maxRange = 10;\n        int i = 0;\n        int j = 0;\n        int k = 0;\n        int l = 0;\n        if (offsetIPs != null) {\n            String[] parts = offsetIPs.split(&quot;\\\\.&quot;);\n            i = Integer.parseInt(parts[0]);\n            j = Integer.parseInt(parts[1]);\n            k = Integer.parseInt(parts[2]);\n            l = Integer.parseInt(parts[3]);\n        }\n        int limit = 255;\n        // this is where I need to implement offsetIPs, but how?\n        for (; i &lt;= maxRange; ++i) {\n            for (; j &lt;= limit; ++j) {\n                for (; k &lt;= limit; ++k) {\n                    for (; l &lt;= limit; ++l) {\n                        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n                        System.out.println(offsetIPs);\n                    }\n                    l = 0;\n                }\n                k = 0;\n            }\n            j = 0;\n        }\n        if (i &gt;= maxRange) {\n            i = 0;\n        }\n        if (j &gt;= limit) {\n            j = 0;\n        }\n        if (k &gt;= limit) {\n            k = 0;\n        }\n        if (l &gt;= limit) {\n            l = 0;\n        }\n        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n        try (BufferedWriter bw = Files.newBufferedWriter(path,\n                                                         StandardOpenOption.CREATE,\n                                                         StandardOpenOption.TRUNCATE_EXISTING,\n                                                         StandardOpenOption.WRITE)) {\n            bw.write(offsetIPs);\n        }\n        catch (IOException xIo) {\n            throw new RuntimeException(&quot;Save failed.&quot;, xIo);\n        }\n    }\n}\n</code></pre>\n<p>The above code uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a>.<br />\nI write the last generated IP to the file. If the process terminates normally, i.e. without exceptions, then I reset the indexes so that the next time you run the code, it will start at the beginning again (which I assume is what you want). Note that inside the inner-most <code>for</code> loop – where you generate the IPs – you will probably have a <code>try-catch</code>. In that <code>catch</code> block you also need to write the last generated IP to the file. Also note that you probably need to change the <code>catch</code> blocks, in the above code, to better suit your needs (which I could not ascertain from your question).</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689753588,"creation_date":1689753588,"answer_id":76719109,"question_id":76713751,"body_markdown":"Store the address within a class, so that you can increment it accordingly.  \r\nSubsequently, you can use a _toString_ to return the text representation.\r\n\r\n```java\r\nclass Address {\r\n    long value;\r\n\r\n    Address(long value) {\r\n        this.value = value;\r\n    }\r\n\r\n    void increment() {\r\n        value++;\r\n    }\r\n    \r\n    void increment(long amount) {\r\n        value += amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        long value = this.value;\r\n        StringBuilder string = new StringBuilder();\r\n        for (int count = 0; count &lt; 4; count++) {\r\n            if (count != 0) string.insert(0, &#39;.&#39;);\r\n            string.insert(0, value &amp; 0xff);\r\n            value &gt;&gt;= 8;\r\n        }\r\n        return string.toString();\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage.\r\n\r\n```java\r\nAddress address = new Address(0x0100003f);\r\naddress.increment();\r\nSystem.out.println(address);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1.0.0.64\r\n```\r\n\r\nYou could then utilize _save_ and _load_ methods to maintain the offset.\r\n\r\n```java\r\nAddress load() throws FileNotFoundException {\r\n    try (Scanner scanner = new Scanner(new File(&quot;offset.mcscan&quot;))) {\r\n        return new Address(scanner.nextLong());\r\n    }\r\n}\r\n\r\nvoid save(Address address) throws IOException {\r\n    try (FileWriter writer = new FileWriter(&quot;offset.mcscan&quot;)) {\r\n        writer.write(String.valueOf(address.value));\r\n    }\r\n}\r\n```\r\n\r\nExample,\r\n\r\n```java\r\nAddress address = new Address(0x0100003f);\r\nsave(address);\r\naddress = load();\r\naddress.increment();\r\nSystem.out.println(address);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1.0.0.64\r\n```","title":"Resume from an offset when program is started again","body":"<p>Store the address within a class, so that you can increment it accordingly.<br />\nSubsequently, you can use a <em>toString</em> to return the text representation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Address {\n    long value;\n\n    Address(long value) {\n        this.value = value;\n    }\n\n    void increment() {\n        value++;\n    }\n    \n    void increment(long amount) {\n        value += amount;\n    }\n\n    @Override\n    public String toString() {\n        long value = this.value;\n        StringBuilder string = new StringBuilder();\n        for (int count = 0; count &lt; 4; count++) {\n            if (count != 0) string.insert(0, '.');\n            string.insert(0, value &amp; 0xff);\n            value &gt;&gt;= 8;\n        }\n        return string.toString();\n    }\n}\n</code></pre>\n<p>Here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address address = new Address(0x0100003f);\naddress.increment();\nSystem.out.println(address);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.0.0.64\n</code></pre>\n<p>You could then utilize <em>save</em> and <em>load</em> methods to maintain the offset.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address load() throws FileNotFoundException {\n    try (Scanner scanner = new Scanner(new File(&quot;offset.mcscan&quot;))) {\n        return new Address(scanner.nextLong());\n    }\n}\n\nvoid save(Address address) throws IOException {\n    try (FileWriter writer = new FileWriter(&quot;offset.mcscan&quot;)) {\n        writer.write(String.valueOf(address.value));\n    }\n}\n</code></pre>\n<p>Example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address address = new Address(0x0100003f);\nsave(address);\naddress = load();\naddress.increment();\nSystem.out.println(address);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.0.0.64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689779254,"creation_date":1689779254,"answer_id":76722728,"question_id":76713751,"body_markdown":"I did something like this:\r\n```\r\npublic class MCScanner {\r\n    private static int offsetI = 1;\r\n    private static int offsetJ = 0;\r\n    private static int offsetK = 0;\r\n    private static int offsetL = 0;\r\n    public static void main(String[] var0) {\r\n        int thisOffsetI = offsetI;\r\n        int thisOffsetJ = offsetJ;\r\n        int thisOffsetK = offsetK;\r\n        int thisOffsetL = offsetL;\r\n        for (int i = thisOffsetI; i &lt;= maxRange; ++i) {\r\n            offsetI = i;\r\n            for (int j = thisOffsetJ; j &lt;= 255; ++j) {\r\n                offsetJ = j;\r\n                for (int k = thisOffsetK; k &lt;= 255; ++k) {\r\n                    offsetK = k;\r\n                    for (int l = thisOffsetL; l &lt;= 255; ++l) {\r\n                        offsetL = l;\r\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n\r\n                        // rest of my code\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd it worked.\r\n\r\nExplanation: I save each offset variable `offsetI/J/K/L` to `offset.mcscan`, and upon next startup, I load it and increment the offsets so that they&#39;re ready to be saved at next shutdown.","title":"Resume from an offset when program is started again","body":"<p>I did something like this:</p>\n<pre><code>public class MCScanner {\n    private static int offsetI = 1;\n    private static int offsetJ = 0;\n    private static int offsetK = 0;\n    private static int offsetL = 0;\n    public static void main(String[] var0) {\n        int thisOffsetI = offsetI;\n        int thisOffsetJ = offsetJ;\n        int thisOffsetK = offsetK;\n        int thisOffsetL = offsetL;\n        for (int i = thisOffsetI; i &lt;= maxRange; ++i) {\n            offsetI = i;\n            for (int j = thisOffsetJ; j &lt;= 255; ++j) {\n                offsetJ = j;\n                for (int k = thisOffsetK; k &lt;= 255; ++k) {\n                    offsetK = k;\n                    for (int l = thisOffsetL; l &lt;= 255; ++l) {\n                        offsetL = l;\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n\n                        // rest of my code\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>And it worked.</p>\n<p>Explanation: I save each offset variable <code>offsetI/J/K/L</code> to <code>offset.mcscan</code>, and upon next startup, I load it and increment the offsets so that they're ready to be saved at next shutdown.</p>\n"}],"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76722728,"answer_count":3,"score":0,"last_activity_date":1689779254,"creation_date":1689689929,"question_id":76713751,"body_markdown":"Before I start, this isn&#39;t your average resume from offset. Well, from what I see.\r\nSo, I have this Minecraft Server Scanner, which generates IPs from 0.0.0.0 to 255.255.255.255, and I make it scan port 25565 on these IPs for a Minecraft Java server. \r\n\r\nI want to make it so when I quit the program, it saves the value of the `offsetIPs` variable to a file name `offset.mcscan`.\r\nThen, when the program is launched again, it will check to see if this file exists and if it does, then it will update the `for` loops to start from where it left off. Here is the code I have so far:\r\n\r\n```\r\n        JFrame frame = new JFrame(&quot;MCScanner v&quot; + version);\r\n        frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\r\n        frame.setSize(300, 100);\r\n        frame.setLayout(new BorderLayout());\r\n        frame.addWindowListener(new java.awt.event.WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(java.awt.event.WindowEvent windowEvent) {\r\n                logger.log(Level.INFO, &quot;Stopping threads...&quot;);\r\n                for (Thread nextThread: threadList) {\r\n                    nextThread.interrupt();\r\n                }\r\n                logger.log(Level.INFO, &quot;Making an &#39;offset.mcscan&#39;...&quot;);\r\n                try {\r\n                    BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;offset.mcscan&quot;));\r\n                    writer.write(Long.toString(offsetIPs));\r\n                    writer.close();\r\n                } catch (IOException e) {\r\n                    logger.log(Level.SEVERE, &quot;Failed to write &#39;offset.mcscan&#39;!&quot;);\r\n                }\r\n                logger.log(Level.INFO, &quot;Exiting...&quot;);\r\n                System.exit(0);\r\n            }\r\n        });\r\n        long scanned = 0;\r\n        long offsetIPs = 0;\r\n\r\n        ...\r\n\r\n        frame.setVisible(true);\r\n\r\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\r\n        if (offsetFile.exists()) {\r\n            try {\r\n                BufferedReader reader = new BufferedReader(new FileReader(offsetFile));\r\n                offsetIPs = Long.parseLong(reader.readLine());\r\n                reader.close();\r\n            } catch (IOException e) {\r\n                logger.log(Level.SEVERE, &quot;Failed to read &#39;offset.mcscan&#39;!&quot;);\r\n            }\r\n        }\r\n\r\n        // this is where I need to implement offsetIPs, but how?\r\n        for (int i = minimumRange; i &lt;= maxRange; ++i) {\r\n            for (int j = 0; j &lt;= 255; ++j) {\r\n                for (int k = 0; k &lt;= 255; ++k) {\r\n                    for (int l = 0; l &lt;= 255; ++l) {\r\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n\r\n                        ScannerThread scannerThread = new ScannerThread(ip, port, timeout, databaseHandler);\r\n                        Thread scanThread = new Thread(scannerThread);\r\n                        threadList.add(scanThread);\r\n                        scanThread.start();\r\n\r\n                        if (threadList.size() &gt;= threads.get()) {\r\n                            for (Thread nextThread: threadList) {\r\n                                try {\r\n                                    nextThread.join();\r\n                                    ++scanned;\r\n                                    ++offsetIPs;\r\n                                    scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256 + &quot; (&quot; + Math.round((scanned / (progressThing * 256)) * 100) / 100 + &quot;%)&quot;);\r\n                                } catch (InterruptedException timeout2) {\r\n                                    // eh\r\n                                }\r\n                            }\r\n                            threadList.clear();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        for (Thread nextThreadAgain: threadList) {\r\n            try {\r\n                nextThreadAgain.join();\r\n                ++offsetIPs;\r\n                ++scanned;\r\n                // progressBar.setValue(scanned);\r\n                scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256);\r\n            } catch (InterruptedException timeout1) {\r\n                // well\r\n            }\r\n        }\r\n```\r\nRight now, I have no code for resuming from the offset.\r\n\r\nI need it so that when it scans 64 IPs, and then I close the program, it&#39;ll write `64` to `offset.mcscan`. But now I want it to resume from that 64th IP (or whatever value is in `offset.mcscan`) (64th IP would be `1.0.0.63`), and then scan IPs after that (65th = `1.0.0.64`, 66th = `1.0.0.65`, etc).\r\n\r\nHow would I make it do this? Right now, I need help implementing it into my `for` loops. I would research, but I have no idea what I would even be searching for. I do hope this makes sense, please let me know if it doesn&#39;t.","title":"Resume from an offset when program is started again","body":"<p>Before I start, this isn't your average resume from offset. Well, from what I see.\nSo, I have this Minecraft Server Scanner, which generates IPs from 0.0.0.0 to 255.255.255.255, and I make it scan port 25565 on these IPs for a Minecraft Java server.</p>\n<p>I want to make it so when I quit the program, it saves the value of the <code>offsetIPs</code> variable to a file name <code>offset.mcscan</code>.\nThen, when the program is launched again, it will check to see if this file exists and if it does, then it will update the <code>for</code> loops to start from where it left off. Here is the code I have so far:</p>\n<pre><code>        JFrame frame = new JFrame(&quot;MCScanner v&quot; + version);\n        frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\n        frame.setSize(300, 100);\n        frame.setLayout(new BorderLayout());\n        frame.addWindowListener(new java.awt.event.WindowAdapter() {\n            @Override\n            public void windowClosing(java.awt.event.WindowEvent windowEvent) {\n                logger.log(Level.INFO, &quot;Stopping threads...&quot;);\n                for (Thread nextThread: threadList) {\n                    nextThread.interrupt();\n                }\n                logger.log(Level.INFO, &quot;Making an 'offset.mcscan'...&quot;);\n                try {\n                    BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;offset.mcscan&quot;));\n                    writer.write(Long.toString(offsetIPs));\n                    writer.close();\n                } catch (IOException e) {\n                    logger.log(Level.SEVERE, &quot;Failed to write 'offset.mcscan'!&quot;);\n                }\n                logger.log(Level.INFO, &quot;Exiting...&quot;);\n                System.exit(0);\n            }\n        });\n        long scanned = 0;\n        long offsetIPs = 0;\n\n        ...\n\n        frame.setVisible(true);\n\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\n        if (offsetFile.exists()) {\n            try {\n                BufferedReader reader = new BufferedReader(new FileReader(offsetFile));\n                offsetIPs = Long.parseLong(reader.readLine());\n                reader.close();\n            } catch (IOException e) {\n                logger.log(Level.SEVERE, &quot;Failed to read 'offset.mcscan'!&quot;);\n            }\n        }\n\n        // this is where I need to implement offsetIPs, but how?\n        for (int i = minimumRange; i &lt;= maxRange; ++i) {\n            for (int j = 0; j &lt;= 255; ++j) {\n                for (int k = 0; k &lt;= 255; ++k) {\n                    for (int l = 0; l &lt;= 255; ++l) {\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n\n                        ScannerThread scannerThread = new ScannerThread(ip, port, timeout, databaseHandler);\n                        Thread scanThread = new Thread(scannerThread);\n                        threadList.add(scanThread);\n                        scanThread.start();\n\n                        if (threadList.size() &gt;= threads.get()) {\n                            for (Thread nextThread: threadList) {\n                                try {\n                                    nextThread.join();\n                                    ++scanned;\n                                    ++offsetIPs;\n                                    scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256 + &quot; (&quot; + Math.round((scanned / (progressThing * 256)) * 100) / 100 + &quot;%)&quot;);\n                                } catch (InterruptedException timeout2) {\n                                    // eh\n                                }\n                            }\n                            threadList.clear();\n                        }\n                    }\n                }\n            }\n        }\n\n        for (Thread nextThreadAgain: threadList) {\n            try {\n                nextThreadAgain.join();\n                ++offsetIPs;\n                ++scanned;\n                // progressBar.setValue(scanned);\n                scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256);\n            } catch (InterruptedException timeout1) {\n                // well\n            }\n        }\n</code></pre>\n<p>Right now, I have no code for resuming from the offset.</p>\n<p>I need it so that when it scans 64 IPs, and then I close the program, it'll write <code>64</code> to <code>offset.mcscan</code>. But now I want it to resume from that 64th IP (or whatever value is in <code>offset.mcscan</code>) (64th IP would be <code>1.0.0.63</code>), and then scan IPs after that (65th = <code>1.0.0.64</code>, 66th = <code>1.0.0.65</code>, etc).</p>\n<p>How would I make it do this? Right now, I need help implementing it into my <code>for</code> loops. I would research, but I have no idea what I would even be searching for. I do hope this makes sense, please let me know if it doesn't.</p>\n"},{"tags":["java","junit","junit5","wiremock"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1631691692,"post_id":69188899,"comment_id":122287588,"body_markdown":"one line of 510 covered? I would agree that 1 is less than 1% of 510. a unit test being green means nothing. assert(true); will be green as well, doesn&#39;t mean it adds up to code or scenario coverage","body":"one line of 510 covered? I would agree that 1 is less than 1% of 510. a unit test being green means nothing. assert(true); will be green as well, doesn&#39;t mean it adds up to code or scenario coverage"},{"owner":{"account_id":1491257,"reputation":183,"user_id":1398291,"display_name":"user1398291"},"score":0,"creation_date":1631693028,"post_id":69188899,"comment_id":122288149,"body_markdown":"I tried adding assert condition for multipole fields from response object but still coverage is showing zero. Basically my question is that why lines not getting covered with above Junit? what is missing.","body":"I tried adding assert condition for multipole fields from response object but still coverage is showing zero. Basically my question is that why lines not getting covered with above Junit? what is missing."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1631693741,"post_id":69188899,"comment_id":122288458,"body_markdown":"adding asserts for fields of the response doesn&#39;t change anything about coverage, why should it? and, how are we to know? it&#39;s not like we know what you are testing.","body":"adding asserts for fields of the response doesn&#39;t change anything about coverage, why should it? and, how are we to know? it&#39;s not like we know what you are testing."}],"owner":{"account_id":1491257,"reputation":183,"user_id":1398291,"display_name":"user1398291"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689779250,"creation_date":1631691524,"question_id":69188899,"body_markdown":"\r\nBaseControllerTest:\r\n\r\n \r\n\r\n    private static int port;\r\n    public static String hostUrl;\r\n    protected static WireMockServer wireMockServer;\r\n    protected static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    public static RestTemplate restTemplate;\r\n    public static final String HOST = &quot;localhost&quot;;  \r\n      \r\n    \r\n    @Rule\r\n        public ExpectedException thrown = ExpectedException.none();    \r\n    @BeforeClass\r\n        public static void init() {\r\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n            wireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().dynamicPort());\r\n            wireMockServer.start();\r\n            port = wireMockServer.port();\r\n            WireMock.configureFor(HOST, port);\r\n            hostUrl = &quot;http://&quot; + HOST + &quot;:&quot; + port;\r\n            restTemplate = new RestTemplate();\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void destroy() {\r\n            wireMockServer.stop();\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nDummyResourceTest extends BaseControllerTest:\r\n\r\n   \r\n\r\n     @Test\r\n    public void testScenario1WithSuccess() throws JAXBException {\r\n        stubFor(post(urlPathEqualTo(END_POINT))\r\n                .withHeader(HttpHeaders.ACCEPT, equalTo(MediaType.APPLICATION_JSON))\r\n                .withHeader(HttpHeaders.CONTENT_TYPE, equalTo(MediaType.APPLICATION_JSON))\r\n                .withHeader(HttpHeaders.AUTHORIZATION, equalTo(TEST_SERVICE_TOKEN))\r\n                .withRequestBody(containing(TEST_FIELD_1))\r\n                .willReturn(aResponse().withStatus(200)\r\n                        .withHeader(CONTENT_TYPE, MediaType.APPLICATION_JSON)\r\n                        .withBody(readJsonFile(&quot;Sample_Response.json&quot;))));\r\n\r\n        RequestObject request = new RequestObject();\r\n        request.setField1(&quot;111&quot;);\r\n\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\r\n        httpHeaders.add(ACCEPT, APPLICATION_JSON);\r\n        httpHeaders.set(AppConstants.AUTHORIZATION,  TEST_SERVICE_TOKEN);\r\n        HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(request, httpHeaders);\r\n\r\n\r\n        ResponseEntity&lt;String&gt; responseEntity =  restTemplate.exchange(END_POINT,\r\n                HttpMethod.POST, requestEntity,\r\n                String.class);\r\n\r\n        assertNotNull(responseEntity);\r\n        assertEquals(HttpStatus.OK.value(),responseEntity.getStatusCodeValue());\r\n        \r\n    }\r\n    \r\nTest runs properly and its green as well. But it&#39;s showing zero code coverage (in IntelliJ) for that Dummy Controller/resource class.\r\n[![enter image description here][1]][1]\r\n\r\nAnything I am missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6yZWy.png","title":"Wiremock showing zero code coverage even-though Junit is green","body":"<p>BaseControllerTest:</p>\n<pre><code>private static int port;\npublic static String hostUrl;\nprotected static WireMockServer wireMockServer;\nprotected static final ObjectMapper mapper = new ObjectMapper();\n\npublic static RestTemplate restTemplate;\npublic static final String HOST = &quot;localhost&quot;;  \n  \n\n@Rule\n    public ExpectedException thrown = ExpectedException.none();    \n@BeforeClass\n    public static void init() {\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        wireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().dynamicPort());\n        wireMockServer.start();\n        port = wireMockServer.port();\n        WireMock.configureFor(HOST, port);\n        hostUrl = &quot;http://&quot; + HOST + &quot;:&quot; + port;\n        restTemplate = new RestTemplate();\n    }\n\n    @AfterClass\n    public static void destroy() {\n        wireMockServer.stop();\n    }\n</code></pre>\n<p>DummyResourceTest extends BaseControllerTest:</p>\n<pre><code> @Test\npublic void testScenario1WithSuccess() throws JAXBException {\n    stubFor(post(urlPathEqualTo(END_POINT))\n            .withHeader(HttpHeaders.ACCEPT, equalTo(MediaType.APPLICATION_JSON))\n            .withHeader(HttpHeaders.CONTENT_TYPE, equalTo(MediaType.APPLICATION_JSON))\n            .withHeader(HttpHeaders.AUTHORIZATION, equalTo(TEST_SERVICE_TOKEN))\n            .withRequestBody(containing(TEST_FIELD_1))\n            .willReturn(aResponse().withStatus(200)\n                    .withHeader(CONTENT_TYPE, MediaType.APPLICATION_JSON)\n                    .withBody(readJsonFile(&quot;Sample_Response.json&quot;))));\n\n    RequestObject request = new RequestObject();\n    request.setField1(&quot;111&quot;);\n\n    HttpHeaders httpHeaders = new HttpHeaders();\n    httpHeaders.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\n    httpHeaders.add(ACCEPT, APPLICATION_JSON);\n    httpHeaders.set(AppConstants.AUTHORIZATION,  TEST_SERVICE_TOKEN);\n    HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(request, httpHeaders);\n\n\n    ResponseEntity&lt;String&gt; responseEntity =  restTemplate.exchange(END_POINT,\n            HttpMethod.POST, requestEntity,\n            String.class);\n\n    assertNotNull(responseEntity);\n    assertEquals(HttpStatus.OK.value(),responseEntity.getStatusCodeValue());\n    \n}\n</code></pre>\n<p>Test runs properly and its green as well. But it's showing zero code coverage (in IntelliJ) for that Dummy Controller/resource class.\n<a href=\"https://i.stack.imgur.com/6yZWy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yZWy.png\" alt=\"enter image description here\" /></a></p>\n<p>Anything I am missing here?</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689778861,"creation_date":1689778861,"answer_id":76722671,"question_id":76722481,"body_markdown":"There might be version compatibility issues with Spring HATEOAS and Spring Boot 3.1, consider removing version specification, allowing Spring Boot to manage versions automatically:\r\n```java\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Error with creating bean &#39;slicedResourcesAssembler&#39; when Spring HATEOAS added to POM","body":"<p>There might be version compatibility issues with Spring HATEOAS and Spring Boot 3.1, consider removing version specification, allowing Spring Boot to manage versions automatically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76722671,"answer_count":1,"score":0,"last_activity_date":1689779147,"creation_date":1689777414,"question_id":76722481,"body_markdown":"When I add Spring HATEOAS to pom.xml, i receive this error while trying to start my project. I use Spring Security, but project cannot start. When I remove Spring HATEOAS and Spring Plugin Core, problem does not exist. But I need to use HATEOAS in my project.\r\n\r\nerrors:\r\n```\r\n2023-07-19T16:32:19.228+02:00 ERROR 10588 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;slicedResourcesAssembler&#39; defined in class path resource [org/springframework/data/web/config/HateoasAwareSpringDataWebConfiguration.class]: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method &#39;slicedResourcesAssembler&#39; threw exception with message: org/springframework/hateoas/SlicedModel\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method &#39;slicedResourcesAssembler&#39; threw exception with message: org/springframework/hateoas/SlicedModel\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/hateoas/SlicedModel\r\n\tat org.springframework.data.web.config.HateoasAwareSpringDataWebConfiguration.slicedResourcesAssembler(HateoasAwareSpringDataWebConfiguration.java:106) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.hateoas.SlicedModel\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 26 common frames omitted\r\n```\r\n\r\nI don&#39;t use Spring HATEOAS anywhere in my project, tried ```mvn clean install``` and adding \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbut when I try to add this dependency, I receive even more exceptions, for example:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through field &#39;httpSecurity&#39;: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setContentNegotiationStrategy&#39; parameter 0: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setConfigurers&#39; parameter 0: Error creating bean with name &#39;hypermediaWebMvcConfigurer&#39; defined in class path resource [org/springframework/hateoas/config/WebMvcHateoasConfiguration.class]: Unsatisfied dependency expressed through method &#39;hypermediaWebMvcConfigurer&#39; parameter 0: Error creating bean with name &#39;hypermediaWebMvcConverters&#39; defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method &#39;hypermediaWebMvcConverters&#39; parameter 1: Error creating bean with name &#39;org.springframework.hateoas.mediatype.hal.HalMediaTypeConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;_relProvider&#39; defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method &#39;_relProvider&#39; parameter 0: Error creating bean with name &#39;relProviderPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\r\n\r\nMy pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.28&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Error with creating bean &#39;slicedResourcesAssembler&#39; when Spring HATEOAS added to POM","body":"<p>When I add Spring HATEOAS to pom.xml, i receive this error while trying to start my project. I use Spring Security, but project cannot start. When I remove Spring HATEOAS and Spring Plugin Core, problem does not exist. But I need to use HATEOAS in my project.</p>\n<p>errors:</p>\n<pre><code>2023-07-19T16:32:19.228+02:00 ERROR 10588 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'slicedResourcesAssembler' defined in class path resource [org/springframework/data/web/config/HateoasAwareSpringDataWebConfiguration.class]: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method 'slicedResourcesAssembler' threw exception with message: org/springframework/hateoas/SlicedModel\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method 'slicedResourcesAssembler' threw exception with message: org/springframework/hateoas/SlicedModel\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 19 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/hateoas/SlicedModel\n    at org.springframework.data.web.config.HateoasAwareSpringDataWebConfiguration.slicedResourcesAssembler(HateoasAwareSpringDataWebConfiguration.java:106) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 20 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.hateoas.SlicedModel\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 26 common frames omitted\n</code></pre>\n<p>I don't use Spring HATEOAS anywhere in my project, tried <code>mvn clean install</code> and adding</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but when I try to add this dependency, I receive even more exceptions, for example:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'hypermediaWebMvcConfigurer' defined in class path resource [org/springframework/hateoas/config/WebMvcHateoasConfiguration.class]: Unsatisfied dependency expressed through method 'hypermediaWebMvcConfigurer' parameter 0: Error creating bean with name 'hypermediaWebMvcConverters' defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method 'hypermediaWebMvcConverters' parameter 1: Error creating bean with name 'org.springframework.hateoas.mediatype.hal.HalMediaTypeConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name '_relProvider' defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method '_relProvider' parameter 0: Error creating bean with name 'relProviderPluginRegistry': FactoryBean threw exception on object creation</p>\n</blockquote>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.12&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","hibernate-envers"],"owner":{"account_id":26414744,"reputation":25,"user_id":20063314,"display_name":"Dannenberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689779063,"creation_date":1689778672,"question_id":76722644,"body_markdown":"I am running a Hibernate AuditQuery to get revision info for an entity. With the second parameter as `false`, the result is joined with the REVINFO table:\r\n\r\n```\r\nAuditReader reader = AuditReaderFactory.get(em);\r\nAuditQuery query = reader.createQuery().forRevisionsOfEntity(Bar.class, false, true)\r\n```\r\n\r\nI don&#39;t want to join with the REVINFO table, but I do want the info on whether the revision was an ADD, MOD, or DEL. Is there a way to achieve this with an AuditQuery?\r\n\r\nGetting the revision of entity with changes doesn&#39;t work either since the entity isn&#39;t marked with `@Audited(withModifiedFlag = true)`\r\n\r\n```\r\nreader.createQuery().forRevisionOfEntityWithChanges(Bar.class, true)\r\n```","title":"Envers Query - Don&#39;t Join with REVINFO Table","body":"<p>I am running a Hibernate AuditQuery to get revision info for an entity. With the second parameter as <code>false</code>, the result is joined with the REVINFO table:</p>\n<pre><code>AuditReader reader = AuditReaderFactory.get(em);\nAuditQuery query = reader.createQuery().forRevisionsOfEntity(Bar.class, false, true)\n</code></pre>\n<p>I don't want to join with the REVINFO table, but I do want the info on whether the revision was an ADD, MOD, or DEL. Is there a way to achieve this with an AuditQuery?</p>\n<p>Getting the revision of entity with changes doesn't work either since the entity isn't marked with <code>@Audited(withModifiedFlag = true)</code></p>\n<pre><code>reader.createQuery().forRevisionOfEntityWithChanges(Bar.class, true)\n</code></pre>\n"},{"tags":["java","reverse"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1689767361,"post_id":76720655,"comment_id":135259206,"body_markdown":"`int n = 2340; int res = Integer.parseInt(new StringBuilder(String.valueOf(n)).reverse().toString()); System.out.println(res);`","body":"<code>int n = 2340; int res = Integer.parseInt(new StringBuilder(String.valueOf(n)).reverse().toString()); System.out.println(res);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689778952,"creation_date":1689767769,"answer_id":76721044,"question_id":76720655,"body_markdown":"&gt; *how to modify this programme to print reverse number of integer excluding leading zero.*\r\n\r\nOne way is to re-construct the number in reverse. Use a long for the result to prevent int overflow.\r\n```\r\nint n = 12340;\r\nlong res =0;\r\nwhile(n &gt; 0){\r\n   res = res * 10 + n%10;\r\n   n/=10;\r\n}\r\nSystem.out.println(res);\r\n```\r\nPrints\r\n```\r\n4321\r\n```\r\n**Note:**  Had the number `Integer.MAX_VALUE (2147483647)` been used, the result would have been `7463847412`.  Had I used an `int` for the result, the result would have been `-1126087180` because the reversed value will not fit into an `int`, resulting in integer overflow.","title":"Solution to reverse Nth integer excluding leading zero","body":"<blockquote>\n<p><em>how to modify this programme to print reverse number of integer excluding leading zero.</em></p>\n</blockquote>\n<p>One way is to re-construct the number in reverse. Use a long for the result to prevent int overflow.</p>\n<pre><code>int n = 12340;\nlong res =0;\nwhile(n &gt; 0){\n   res = res * 10 + n%10;\n   n/=10;\n}\nSystem.out.println(res);\n</code></pre>\n<p>Prints</p>\n<pre><code>4321\n</code></pre>\n<p><strong>Note:</strong>  Had the number <code>Integer.MAX_VALUE (2147483647)</code> been used, the result would have been <code>7463847412</code>.  Had I used an <code>int</code> for the result, the result would have been <code>-1126087180</code> because the reversed value will not fit into an <code>int</code>, resulting in integer overflow.</p>\n"}],"owner":{"account_id":20882448,"reputation":9,"user_id":15339842,"display_name":"shivu2012"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689778952,"creation_date":1689764873,"question_id":76720655,"body_markdown":"how to modify this programme to print reverse number of integer excluding leading zero.\r\n```\r\nclass Solution {\r\n    public void solution(int N) {\r\n        int enable_print = N % 10;\r\n        while (N &gt; 0) {\r\n            if (enable_print == 0 &amp;&amp; N % 10 != 0) {\r\n                enable_print = 1;\r\n            }\r\n            else if (enable_print == 1) {\r\n                System.out.print(N % 10);\r\n            }\r\n            N = N / 10;\r\n        }\r\n    }\r\n}\r\n```","title":"Solution to reverse Nth integer excluding leading zero","body":"<p>how to modify this programme to print reverse number of integer excluding leading zero.</p>\n<pre><code>class Solution {\n    public void solution(int N) {\n        int enable_print = N % 10;\n        while (N &gt; 0) {\n            if (enable_print == 0 &amp;&amp; N % 10 != 0) {\n                enable_print = 1;\n            }\n            else if (enable_print == 1) {\n                System.out.print(N % 10);\n            }\n            N = N / 10;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","validation","annotations"],"comments":[{"owner":{"account_id":28977943,"reputation":1,"user_id":22196580,"display_name":"user22196580"},"score":0,"creation_date":1689463952,"post_id":76696160,"comment_id":135217557,"body_markdown":"I forgot, here is my error message: Attribute value must be constant","body":"I forgot, here is my error message: Attribute value must be constant"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689464245,"post_id":76696160,"comment_id":135217571,"body_markdown":"Values for annotation parameters must be constant expressions, literals, enums, class literals, or array literals, but not variables.","body":"Values for annotation parameters must be constant expressions, literals, enums, class literals, or array literals, but not variables."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689471120,"post_id":76696160,"comment_id":135217941,"body_markdown":"What do you think `@invrange(maxInv = minInv, minInv = maxInv)` would accomplish? The values of those params __must__ be resolved to constants __by the compiler__. That&#39;s fundamental to annotations.","body":"What do you think <code>@invrange(maxInv = minInv, minInv = maxInv)</code> would accomplish? The values of those params <b>must</b> be resolved to constants <b>by the compiler</b>. That&#39;s fundamental to annotations."},{"owner":{"account_id":28977943,"reputation":1,"user_id":22196580,"display_name":"user22196580"},"score":0,"creation_date":1689479085,"post_id":76696160,"comment_id":135218256,"body_markdown":"What does that mean?","body":"What does that mean?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689483731,"post_id":76696160,"comment_id":135218450,"body_markdown":"`nteger &gt; maxInv &amp;&amp; integer &lt; minInv` -- You return false if that condition evaluates to true, indicating you&#39;re trying to test if the value is outside the range, yet unless the min value is _greater than_ the max value, which I assume is an invalid scenario, then that condition can never evaluate to true.","body":"<code>nteger &gt; maxInv &amp;&amp; integer &lt; minInv</code> -- You return false if that condition evaluates to true, indicating you&#39;re trying to test if the value is outside the range, yet unless the min value is <i>greater than</i> the max value, which I assume is an invalid scenario, then that condition can never evaluate to true."}],"answers":[{"tags":[],"owner":{"account_id":20607999,"reputation":1,"user_id":15127764,"display_name":"Dat Le"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689778367,"creation_date":1689502515,"answer_id":76697723,"question_id":76696160,"body_markdown":"You should replace `integer &gt; maxInv &amp;&amp; integer &lt; minInv` with `integer &gt; maxInv || integer &lt; minInv`","title":"How to create custom annotation with range validation","body":"<p>You should replace <code>integer &gt; maxInv &amp;&amp; integer &lt; minInv</code> with <code>integer &gt; maxInv || integer &lt; minInv</code></p>\n"}],"owner":{"account_id":28977943,"reputation":1,"user_id":22196580,"display_name":"user22196580"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689778367,"creation_date":1689463873,"question_id":76696160,"body_markdown":"I need to check the inventory, and if it is below a minimum value, error, or if it is above a maximum value, error.  I have tried using &quot;@range&quot;, &quot;@min&quot;, and I don&#39;t think I can use those, so I coded a custom annotation, but I am getting the same error messages.  I believe it is because I am setting the attribute value to a variable, but I&#39;m unsure.  Any guidance would be appreciated. \r\n\r\nAnnotation:\r\n\r\n```\r\npackage com.example.demo.validators;\r\n\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Constraint(validatedBy = {invrangeValidator.class})\r\n@Target({ElementType.FIELD, ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface invrange {\r\n    String message() default &quot;Inventory must be between Minimum and Maximum values!&quot;;\r\n    Class&lt;?&gt; [] groups() default{};\r\n    Class&lt;? extends Payload&gt; [] payload() default {};\r\n\r\n    int maxInv();\r\n    int minInv();\r\n}\r\n\r\n```\r\n\r\nValidator:\r\n\r\n```\r\npackage com.example.demo.validators;\r\n\r\nimport org.apache.catalina.core.ApplicationContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport javax.persistence.criteria.CriteriaBuilder;\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\npublic class invrangeValidator implements ConstraintValidator&lt;invrange, Integer&gt; {\r\n    private int maxInv;\r\n    private int minInv;\r\n\r\n    @Override\r\n    public void initialize(invrange constraintAnnotation) {\r\n        maxInv = constraintAnnotation.maxInv();\r\n        minInv = constraintAnnotation.minInv();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\r\n        if (integer &gt; maxInv &amp;&amp; integer &lt; minInv) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo.domain;\r\n\r\nimport com.example.demo.validators.ValidDeletePart;\r\nimport com.example.demo.validators.invrange;\r\nimport org.hibernate.validator.constraints.Range;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.Max;\r\nimport javax.validation.constraints.Min;\r\nimport javax.validation.constraints.Size;\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n/**\r\n *\r\n *\r\n *\r\n *\r\n */\r\n@Entity\r\n@ValidDeletePart\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name=&quot;part_type&quot;,discriminatorType = DiscriminatorType.INTEGER)\r\n@Table(name=&quot;Parts&quot;)\r\npublic abstract class Part implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    long id;\r\n    String name;\r\n    @Min(value = 0, message = &quot;Price value must be positive&quot;)\r\n    double price;\r\n\r\n    int inv;\r\n    int maxInv;\r\n    int minInv;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name=&quot;product_part&quot;, joinColumns = @JoinColumn(name=&quot;part_id&quot;),\r\n            inverseJoinColumns=@JoinColumn(name=&quot;product_id&quot;))\r\n    Set&lt;Product&gt; products= new HashSet&lt;&gt;();\r\n\r\n    public Part() {\r\n    }\r\n\r\n    public Part(String name, double price, int inv, int maxInv, int minInv) {\r\n        this.name = name;\r\n        this.price = price;\r\n        this.inv = inv;\r\n        this.maxInv = maxInv;\r\n        this.minInv = minInv;\r\n    }\r\n\r\n    public Part(long id, String name, double price, int inv, int maxInv, int minInv) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.inv = inv;\r\n        this.maxInv = maxInv;\r\n        this.minInv = minInv;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public int getInv() {\r\n        return inv;\r\n    }\r\n\r\n    @invrange(maxInv = minInv, minInv = maxInv)\r\n    public void setInv(int inv) {\r\n        this.inv = inv;\r\n    }\r\n\r\n    public int getMaxInv() {return maxInv;}\r\n    public void setMaxInv(int maxInv){this.maxInv = maxInv;}\r\n    public int getMinInv(){return minInv;}\r\n    public void setMinInv(int minInv){this.minInv = minInv;}\r\n    public Set&lt;Product&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(Set&lt;Product&gt; products) {\r\n        this.products = products;\r\n    }\r\n\r\n    public String toString(){\r\n        return this.name;\r\n    }\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Part part = (Part) o;\r\n\r\n        return id == part.id;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return (int) (id ^ (id &gt;&gt;&gt; 32));\r\n    }\r\n}\r\n\r\n```\r\n\r\nForm\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Part Form&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Outsourced Part Detail&lt;/h1&gt;\r\n\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/showFormAddOutPart}&quot; th:object=&quot;${outsourcedpart}&quot; method=&quot;POST&quot;}&gt;\r\n\r\n&lt;!-- Add hidden form field to handle update --&gt;\r\n    &lt;p&gt;&lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;Name:&lt;/p&gt;\r\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; placeholder=&quot;Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;Price:&lt;/p&gt;\r\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; placeholder= &quot;Price&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;price&#39;)}&quot; th:errors=&quot;*{price}&quot;&gt;Price Error&lt;/p&gt;\r\n\r\n    &lt;p&gt;Inventory:&lt;/p&gt;\r\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{inv}&quot; placeholder=&quot;Inventory&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;inv&#39;)}&quot; th:errors=&quot;*{inv}&quot;&gt;Inventory Error&lt;/p&gt;\r\n\r\n    &lt;p&gt;Maximum Inventory:&lt;/p&gt;\r\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{maxInv}&quot; placeholder=&quot;Max Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;Minimum Inventory:&lt;/p&gt;\r\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{minInv}&quot; placeholder=&quot;Min Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;Company Name:&lt;/p&gt;\r\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{companyName}&quot; placeholder=&quot;Company Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;&lt;/p&gt;\r\n&lt;/form&gt;\r\n&lt;a href=&quot;http://localhost:8080/&quot;&gt;Link\r\n    to Main Screen&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\nI have tried using &quot;@range&quot;, &quot;@min&quot;, and I don&#39;t think I can use those, so I coded a custom annotation","title":"How to create custom annotation with range validation","body":"<p>I need to check the inventory, and if it is below a minimum value, error, or if it is above a maximum value, error.  I have tried using &quot;@range&quot;, &quot;@min&quot;, and I don't think I can use those, so I coded a custom annotation, but I am getting the same error messages.  I believe it is because I am setting the attribute value to a variable, but I'm unsure.  Any guidance would be appreciated.</p>\n<p>Annotation:</p>\n<pre><code>package com.example.demo.validators;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Constraint(validatedBy = {invrangeValidator.class})\n@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface invrange {\n    String message() default &quot;Inventory must be between Minimum and Maximum values!&quot;;\n    Class&lt;?&gt; [] groups() default{};\n    Class&lt;? extends Payload&gt; [] payload() default {};\n\n    int maxInv();\n    int minInv();\n}\n\n</code></pre>\n<p>Validator:</p>\n<pre><code>package com.example.demo.validators;\n\nimport org.apache.catalina.core.ApplicationContext;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class invrangeValidator implements ConstraintValidator&lt;invrange, Integer&gt; {\n    private int maxInv;\n    private int minInv;\n\n    @Override\n    public void initialize(invrange constraintAnnotation) {\n        maxInv = constraintAnnotation.maxInv();\n        minInv = constraintAnnotation.minInv();\n    }\n\n    @Override\n    public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\n        if (integer &gt; maxInv &amp;&amp; integer &lt; minInv) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\n</code></pre>\n<pre><code>package com.example.demo.domain;\n\nimport com.example.demo.validators.ValidDeletePart;\nimport com.example.demo.validators.invrange;\nimport org.hibernate.validator.constraints.Range;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\nimport javax.validation.constraints.Size;\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\n\n/**\n *\n *\n *\n *\n */\n@Entity\n@ValidDeletePart\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=&quot;part_type&quot;,discriminatorType = DiscriminatorType.INTEGER)\n@Table(name=&quot;Parts&quot;)\npublic abstract class Part implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    long id;\n    String name;\n    @Min(value = 0, message = &quot;Price value must be positive&quot;)\n    double price;\n\n    int inv;\n    int maxInv;\n    int minInv;\n\n    @ManyToMany\n    @JoinTable(name=&quot;product_part&quot;, joinColumns = @JoinColumn(name=&quot;part_id&quot;),\n            inverseJoinColumns=@JoinColumn(name=&quot;product_id&quot;))\n    Set&lt;Product&gt; products= new HashSet&lt;&gt;();\n\n    public Part() {\n    }\n\n    public Part(String name, double price, int inv, int maxInv, int minInv) {\n        this.name = name;\n        this.price = price;\n        this.inv = inv;\n        this.maxInv = maxInv;\n        this.minInv = minInv;\n    }\n\n    public Part(long id, String name, double price, int inv, int maxInv, int minInv) {\n        this.id = id;\n        this.name = name;\n        this.price = price;\n        this.inv = inv;\n        this.maxInv = maxInv;\n        this.minInv = minInv;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public int getInv() {\n        return inv;\n    }\n\n    @invrange(maxInv = minInv, minInv = maxInv)\n    public void setInv(int inv) {\n        this.inv = inv;\n    }\n\n    public int getMaxInv() {return maxInv;}\n    public void setMaxInv(int maxInv){this.maxInv = maxInv;}\n    public int getMinInv(){return minInv;}\n    public void setMinInv(int minInv){this.minInv = minInv;}\n    public Set&lt;Product&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(Set&lt;Product&gt; products) {\n        this.products = products;\n    }\n\n    public String toString(){\n        return this.name;\n    }\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Part part = (Part) o;\n\n        return id == part.id;\n    }\n\n    @Override\n    public int hashCode() {\n        return (int) (id ^ (id &gt;&gt;&gt; 32));\n    }\n}\n\n</code></pre>\n<p>Form</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Part Form&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Outsourced Part Detail&lt;/h1&gt;\n\n&lt;form action=&quot;#&quot; th:action=&quot;@{/showFormAddOutPart}&quot; th:object=&quot;${outsourcedpart}&quot; method=&quot;POST&quot;}&gt;\n\n&lt;!-- Add hidden form field to handle update --&gt;\n    &lt;p&gt;&lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;&lt;/p&gt;\n\n    &lt;p&gt;Name:&lt;/p&gt;\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; placeholder=&quot;Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n\n&lt;p&gt;Price:&lt;/p&gt;\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; placeholder= &quot;Price&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n    &lt;p th:if=&quot;${#fields.hasErrors('price')}&quot; th:errors=&quot;*{price}&quot;&gt;Price Error&lt;/p&gt;\n\n    &lt;p&gt;Inventory:&lt;/p&gt;\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{inv}&quot; placeholder=&quot;Inventory&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n    &lt;p th:if=&quot;${#fields.hasErrors('inv')}&quot; th:errors=&quot;*{inv}&quot;&gt;Inventory Error&lt;/p&gt;\n\n    &lt;p&gt;Maximum Inventory:&lt;/p&gt;\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{maxInv}&quot; placeholder=&quot;Max Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\n\n    &lt;p&gt;Minimum Inventory:&lt;/p&gt;\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{minInv}&quot; placeholder=&quot;Min Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\n\n    &lt;p&gt;Company Name:&lt;/p&gt;\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{companyName}&quot; placeholder=&quot;Company Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;&lt;/p&gt;\n&lt;/form&gt;\n&lt;a href=&quot;http://localhost:8080/&quot;&gt;Link\n    to Main Screen&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have tried using &quot;@range&quot;, &quot;@min&quot;, and I don't think I can use those, so I coded a custom annotation</p>\n"},{"tags":["java","android","camera"],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645774202,"creation_date":1645773940,"answer_id":71262412,"question_id":71262274,"body_markdown":"**Here**, you can easily convert Imageproxy to bitmap.\r\n\r\n\r\n    private static ByteBuffer yuv420ThreePlanesToNV21(\r\n              Plane[] yuv420888planes, int width, int height) {\r\n        int imageSize = width * height;\r\n        byte[] out = new byte[imageSize + 2 * (imageSize / 4)];\r\n    \r\n        if (areUVPlanesNV21(yuv420888planes, width, height)) {\r\n          // Copy the Y values.\r\n          yuv420888planes[0].getBuffer().get(out, 0, imageSize);\r\n    \r\n          ByteBuffer uBuffer = yuv420888planes[1].getBuffer();\r\n          ByteBuffer vBuffer = yuv420888planes[2].getBuffer();\r\n          // Get the first V value from the V buffer, since the U buffer does not contain it.\r\n          vBuffer.get(out, imageSize, 1);\r\n          // Copy the first U value and the remaining VU values from the U buffer.\r\n          uBuffer.get(out, imageSize + 1, 2 * imageSize / 4 - 1);\r\n        } else {\r\n          // Fallback to copying the UV values one by one, which is slower but also works.\r\n          // Unpack Y.\r\n          unpackPlane(yuv420888planes[0], width, height, out, 0, 1);\r\n          // Unpack U.\r\n          unpackPlane(yuv420888planes[1], width, height, out, imageSize + 1, 2);\r\n          // Unpack V.\r\n          unpackPlane(yuv420888planes[2], width, height, out, imageSize, 2);\r\n        }\r\n    \r\n        return ByteBuffer.wrap(out);\r\n      }\r\n\r\n\r\n \r\n\r\n     /** Checks if the UV plane buffers of a YUV_420_888 image are in the NV21 format. */\r\n      @RequiresApi(VERSION_CODES.KITKAT)\r\n      private static boolean areUVPlanesNV21(Plane[] planes, int width, int height) {\r\n        int imageSize = width * height;\r\n    \r\n        ByteBuffer uBuffer = planes[1].getBuffer();\r\n        ByteBuffer vBuffer = planes[2].getBuffer();\r\n    \r\n        // Backup buffer properties.\r\n        int vBufferPosition = vBuffer.position();\r\n        int uBufferLimit = uBuffer.limit();\r\n    \r\n        // Advance the V buffer by 1 byte, since the U buffer will not contain the first V value.\r\n        vBuffer.position(vBufferPosition + 1);\r\n        // Chop off the last byte of the U buffer, since the V buffer will not contain the last U value.\r\n        uBuffer.limit(uBufferLimit - 1);\r\n    \r\n        // Check that the buffers are equal and have the expected number of elements.\r\n        boolean areNV21 =\r\n                (vBuffer.remaining() == (2 * imageSize / 4 - 2)) &amp;&amp; (vBuffer.compareTo(uBuffer) == 0);\r\n    \r\n        // Restore buffers to their initial state.\r\n        vBuffer.position(vBufferPosition);\r\n        uBuffer.limit(uBufferLimit);\r\n    \r\n        return areNV21;\r\n      }\r\n\r\n  \r\n\r\n    /**\r\n       * Unpack an image plane into a byte array.\r\n       *\r\n       * &lt;p&gt;The input plane data will be copied in &#39;out&#39;, starting at &#39;offset&#39; and every pixel will be\r\n       * spaced by &#39;pixelStride&#39;. Note that there is no row padding on the output.\r\n       */\r\n      @TargetApi(VERSION_CODES.KITKAT)\r\n      private static void unpackPlane(\r\n              Plane plane, int width, int height, byte[] out, int offset, int pixelStride) {\r\n        ByteBuffer buffer = plane.getBuffer();\r\n        buffer.rewind();\r\n    \r\n        // Compute the size of the current plane.\r\n        // We assume that it has the aspect ratio as the original image.\r\n        int numRow = (buffer.limit() + plane.getRowStride() - 1) / plane.getRowStride();\r\n        if (numRow == 0) {\r\n          return;\r\n        }\r\n        int scaleFactor = height / numRow;\r\n        int numCol = width / scaleFactor;\r\n    \r\n        // Extract the data in the output buffer.\r\n        int outputPos = offset;\r\n        int rowStart = 0;\r\n        for (int row = 0; row &lt; numRow; row++) {\r\n          int inputPos = rowStart;\r\n          for (int col = 0; col &lt; numCol; col++) {\r\n            out[outputPos] = buffer.get(inputPos);\r\n            outputPos += pixelStride;\r\n            inputPos += plane.getPixelStride();\r\n          }\r\n          rowStart += plane.getRowStride();\r\n        }\r\n      }\r\n\r\n    public static Bitmap getBitmap(ByteBuffer data, FrameMetadata metadata) {\r\n        data.rewind();\r\n        byte[] imageInBuffer = new byte[data.limit()];\r\n        data.get(imageInBuffer, 0, imageInBuffer.length);\r\n        try {\r\n          YuvImage image =\r\n                  new YuvImage(\r\n                          imageInBuffer, ImageFormat.NV21, metadata.getWidth(), metadata.getHeight(), null);\r\n          ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n          image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 50, stream);\r\n    \r\n    \r\n          /*image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 100, stream);\r\n          byte[] jpegByteArray = stream.toByteArray();\r\n          Bitmap bitmap = BitmapFactory.decodeByteArray(jpegByteArray, 0, jpegByteArray.length);\r\n          bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n    \r\n          Canvas c = new Canvas(bitmap.copy(bitmap.getConfig(),true));\r\n          Paint p = new Paint();\r\n          p.setARGB(255, 0, 0, 0); // ARGB for the color, in this case red\r\n          p.setAlpha(0);\r\n          p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_IN));\r\n          c.drawPaint(p);*/\r\n    \r\n          Bitmap bmp = BitmapFactory.decodeByteArray(stream.toByteArray(), 0, stream.size());\r\n    \r\n          stream.close();\r\n          return bmp;\r\n        } catch (Exception e) {\r\n          Log.e(&quot;VisionProcessorBase&quot;, &quot;Error: &quot; + e.getMessage());\r\n        }\r\n        return null;\r\n      }\r\n\r\n\r\n  **How to use**\r\n\r\n        public void processImageProxy(ImageProxy image) {\r\n        \r\n    \r\n     FrameMetadata frameMetadata =\r\n                new FrameMetadata.Builder()\r\n                        .setWidth(image.getWidth())\r\n                        .setHeight(image.getHeight())\r\n                        .setRotation(image.getImageInfo().getRotationDegrees())\r\n                        .build();    \r\n    \r\n    \r\n         ByteBuffer nv21Buffer =\r\n                    yuv420ThreePlanesToNV21(Objects.requireNonNull(image.getImage()).getPlanes(), image.getWidth(), image.getHeight());\r\n            Bitmap yourBitmap = getBitmap(nv21Buffer, frameMetadata);\r\n        \r\n        }\r\n\r\n","title":"How to convert ImageProxy to Btimap correctly?","body":"<p><strong>Here</strong>, you can easily convert Imageproxy to bitmap.</p>\n<pre><code>private static ByteBuffer yuv420ThreePlanesToNV21(\n          Plane[] yuv420888planes, int width, int height) {\n    int imageSize = width * height;\n    byte[] out = new byte[imageSize + 2 * (imageSize / 4)];\n\n    if (areUVPlanesNV21(yuv420888planes, width, height)) {\n      // Copy the Y values.\n      yuv420888planes[0].getBuffer().get(out, 0, imageSize);\n\n      ByteBuffer uBuffer = yuv420888planes[1].getBuffer();\n      ByteBuffer vBuffer = yuv420888planes[2].getBuffer();\n      // Get the first V value from the V buffer, since the U buffer does not contain it.\n      vBuffer.get(out, imageSize, 1);\n      // Copy the first U value and the remaining VU values from the U buffer.\n      uBuffer.get(out, imageSize + 1, 2 * imageSize / 4 - 1);\n    } else {\n      // Fallback to copying the UV values one by one, which is slower but also works.\n      // Unpack Y.\n      unpackPlane(yuv420888planes[0], width, height, out, 0, 1);\n      // Unpack U.\n      unpackPlane(yuv420888planes[1], width, height, out, imageSize + 1, 2);\n      // Unpack V.\n      unpackPlane(yuv420888planes[2], width, height, out, imageSize, 2);\n    }\n\n    return ByteBuffer.wrap(out);\n  }\n\n\n\n\n /** Checks if the UV plane buffers of a YUV_420_888 image are in the NV21 format. */\n  @RequiresApi(VERSION_CODES.KITKAT)\n  private static boolean areUVPlanesNV21(Plane[] planes, int width, int height) {\n    int imageSize = width * height;\n\n    ByteBuffer uBuffer = planes[1].getBuffer();\n    ByteBuffer vBuffer = planes[2].getBuffer();\n\n    // Backup buffer properties.\n    int vBufferPosition = vBuffer.position();\n    int uBufferLimit = uBuffer.limit();\n\n    // Advance the V buffer by 1 byte, since the U buffer will not contain the first V value.\n    vBuffer.position(vBufferPosition + 1);\n    // Chop off the last byte of the U buffer, since the V buffer will not contain the last U value.\n    uBuffer.limit(uBufferLimit - 1);\n\n    // Check that the buffers are equal and have the expected number of elements.\n    boolean areNV21 =\n            (vBuffer.remaining() == (2 * imageSize / 4 - 2)) &amp;&amp; (vBuffer.compareTo(uBuffer) == 0);\n\n    // Restore buffers to their initial state.\n    vBuffer.position(vBufferPosition);\n    uBuffer.limit(uBufferLimit);\n\n    return areNV21;\n  }\n\n\n\n/**\n   * Unpack an image plane into a byte array.\n   *\n   * &lt;p&gt;The input plane data will be copied in 'out', starting at 'offset' and every pixel will be\n   * spaced by 'pixelStride'. Note that there is no row padding on the output.\n   */\n  @TargetApi(VERSION_CODES.KITKAT)\n  private static void unpackPlane(\n          Plane plane, int width, int height, byte[] out, int offset, int pixelStride) {\n    ByteBuffer buffer = plane.getBuffer();\n    buffer.rewind();\n\n    // Compute the size of the current plane.\n    // We assume that it has the aspect ratio as the original image.\n    int numRow = (buffer.limit() + plane.getRowStride() - 1) / plane.getRowStride();\n    if (numRow == 0) {\n      return;\n    }\n    int scaleFactor = height / numRow;\n    int numCol = width / scaleFactor;\n\n    // Extract the data in the output buffer.\n    int outputPos = offset;\n    int rowStart = 0;\n    for (int row = 0; row &lt; numRow; row++) {\n      int inputPos = rowStart;\n      for (int col = 0; col &lt; numCol; col++) {\n        out[outputPos] = buffer.get(inputPos);\n        outputPos += pixelStride;\n        inputPos += plane.getPixelStride();\n      }\n      rowStart += plane.getRowStride();\n    }\n  }\n\npublic static Bitmap getBitmap(ByteBuffer data, FrameMetadata metadata) {\n    data.rewind();\n    byte[] imageInBuffer = new byte[data.limit()];\n    data.get(imageInBuffer, 0, imageInBuffer.length);\n    try {\n      YuvImage image =\n              new YuvImage(\n                      imageInBuffer, ImageFormat.NV21, metadata.getWidth(), metadata.getHeight(), null);\n      ByteArrayOutputStream stream = new ByteArrayOutputStream();\n      image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 50, stream);\n\n\n      /*image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 100, stream);\n      byte[] jpegByteArray = stream.toByteArray();\n      Bitmap bitmap = BitmapFactory.decodeByteArray(jpegByteArray, 0, jpegByteArray.length);\n      bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n\n      Canvas c = new Canvas(bitmap.copy(bitmap.getConfig(),true));\n      Paint p = new Paint();\n      p.setARGB(255, 0, 0, 0); // ARGB for the color, in this case red\n      p.setAlpha(0);\n      p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_IN));\n      c.drawPaint(p);*/\n\n      Bitmap bmp = BitmapFactory.decodeByteArray(stream.toByteArray(), 0, stream.size());\n\n      stream.close();\n      return bmp;\n    } catch (Exception e) {\n      Log.e(&quot;VisionProcessorBase&quot;, &quot;Error: &quot; + e.getMessage());\n    }\n    return null;\n  }\n</code></pre>\n<p><strong>How to use</strong></p>\n<pre><code>    public void processImageProxy(ImageProxy image) {\n    \n\n FrameMetadata frameMetadata =\n            new FrameMetadata.Builder()\n                    .setWidth(image.getWidth())\n                    .setHeight(image.getHeight())\n                    .setRotation(image.getImageInfo().getRotationDegrees())\n                    .build();    \n\n\n     ByteBuffer nv21Buffer =\n                yuv420ThreePlanesToNV21(Objects.requireNonNull(image.getImage()).getPlanes(), image.getWidth(), image.getHeight());\n        Bitmap yourBitmap = getBitmap(nv21Buffer, frameMetadata);\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689778256,"creation_date":1645773124,"question_id":71262274,"body_markdown":"I&#39;ve checked all sulutions described in https://stackoverflow.com/questions/56772967/converting-imageproxy-to-bitmap and the only one that works in many devices is the java version of [this class][1], so I&#39;m using the class below to convert an ImageProxy to a Bitmap:\r\n\r\n    public class YuvToRgbConverter {\r\n    \r\n        private RenderScript rs;\r\n        private ScriptIntrinsicYuvToRGB scriptYuvToRgb;\r\n        private int pixelCount = -1;\r\n        private byte[] yuvBuffer = null;\r\n        private Allocation inputAllocation = null;\r\n        private Allocation outputAllocation = null;\r\n    \r\n        public YuvToRgbConverter(Context context) {\r\n            rs = RenderScript.create(context);\r\n            scriptYuvToRgb = ScriptIntrinsicYuvToRGB.create(rs, Element.U8_4(rs));\r\n        }\r\n    \r\n        @Synchronized\r\n        public void yuvToRgb(Image image, Bitmap output) {\r\n            // Ensure that the intermediate output byte buffer is allocated\r\n            if (yuvBuffer == null) {\r\n                pixelCount = image.getCropRect().width() * image.getCropRect().height();\r\n                // Bits per pixel is an average for the whole image, so it&#39;s useful to compute the size\r\n                // of the full buffer but should not be used to determine pixel offsets\r\n                int pixelSizeBits = ImageFormat.getBitsPerPixel(ImageFormat.YUV_420_888);\r\n                yuvBuffer = new byte[pixelCount * pixelSizeBits / 8];\r\n            }\r\n    \r\n            // Get the YUV data in byte array form using NV21 format\r\n            imageToByteArray(image, yuvBuffer);\r\n    \r\n            // Ensure that the RenderScript inputs and outputs are allocated\r\n            if (inputAllocation == null) {\r\n                // Explicitly create an element with type NV21, since that&#39;s the pixel format we use\r\n                Type elemType = new Type.Builder(rs, Element.YUV(rs)).setYuvFormat(ImageFormat.NV21).create();\r\n                inputAllocation = Allocation.createSized(rs, elemType.getElement(), yuvBuffer.length);\r\n            }\r\n            if (outputAllocation == null) {\r\n                outputAllocation = Allocation.createFromBitmap(rs, output);\r\n            }\r\n    \r\n            // Convert NV21 format YUV to RGB\r\n            inputAllocation.copyFrom(yuvBuffer);\r\n            scriptYuvToRgb.setInput(inputAllocation);\r\n            scriptYuvToRgb.forEach(outputAllocation);\r\n            outputAllocation.copyTo(output);\r\n        }\r\n    \r\n    \r\n        private void imageToByteArray(Image image, byte[] outputBuffer) {\r\n            assert (image.getFormat() == ImageFormat.YUV_420_888);\r\n    \r\n            Rect imageCrop = image.getCropRect();\r\n            Image.Plane[] imagePlanes = image.getPlanes();\r\n    \r\n            for (int planeIndex = 0; planeIndex &lt; imagePlanes.length; ++planeIndex) {\r\n                Image.Plane plane = imagePlanes[planeIndex];\r\n                int outputStride = 0;\r\n                int outputOffset = 0;\r\n                switch (planeIndex) {\r\n                    case 0:\r\n                        outputStride = 1;\r\n                        outputOffset = 0;\r\n                        break;\r\n                    case 1:\r\n                        outputStride = 2;\r\n                        outputOffset = pixelCount + 1;\r\n                        break;\r\n                    case 2:\r\n                        outputStride = 2;\r\n                        outputOffset = pixelCount;\r\n                        break;\r\n                    default:\r\n                        return;\r\n    \r\n                }\r\n    \r\n                ByteBuffer planeBuffer = plane.getBuffer();\r\n                int rowStride = plane.getRowStride();\r\n                int pixelStride = plane.getPixelStride();\r\n                Rect planeCrop = imageCrop;\r\n                if (planeIndex != 0) {\r\n                    planeCrop = new Rect(imageCrop.left / 2, imageCrop.top / 2, imageCrop.right / 2, imageCrop.bottom / 2);\r\n                }\r\n    \r\n                int planeWidth = planeCrop.width();\r\n                int planeHeight = planeCrop.height();\r\n    \r\n                byte[] rowBuffer = new byte[plane.getRowStride()];\r\n    \r\n                int rowLength = planeWidth;\r\n                if (pixelStride != 1 || outputStride != 1) {\r\n                    rowLength = (planeWidth - 1) * pixelStride + 1;\r\n                }\r\n                for (int row = 0; row &lt; planeHeight; row++) {\r\n                    planeBuffer.position((row + planeCrop.top) * rowStride + planeCrop.left * pixelStride);\r\n                    if (pixelStride == 1 &amp;&amp; outputStride == 1) {\r\n                        planeBuffer.get(outputBuffer, outputOffset, rowLength);\r\n                        outputOffset += rowLength;\r\n                    } else {\r\n                        planeBuffer.get(rowBuffer, 0, rowLength);\r\n                        for (int col = 0; col &lt; planeWidth; col++) {\r\n                            outputBuffer[outputOffset] = rowBuffer[col * pixelStride];\r\n                            outputOffset += outputStride;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThis class works as expected in many devices but in some devices I get a green bitmap.\r\n\r\n**Correct conversion in many devices**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Green bitmap in some devices**\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo my question is how can I fix this problem? Is there any better way? Thanks\r\n\r\n\r\n\r\n  [1]: https://github.com/xizhang/camerax-gpuimage/blob/master/app/src/main/java/com/appinmotion/gpuimage/YuvToRgbConverter.kt\r\n  [2]: https://i.stack.imgur.com/dA1Ov.jpg\r\n  [3]: https://i.stack.imgur.com/2YCkt.jpg","title":"How to convert ImageProxy to Btimap correctly?","body":"<p>I've checked all sulutions described in <a href=\"https://stackoverflow.com/questions/56772967/converting-imageproxy-to-bitmap\">Converting ImageProxy to Bitmap</a> and the only one that works in many devices is the java version of <a href=\"https://github.com/xizhang/camerax-gpuimage/blob/master/app/src/main/java/com/appinmotion/gpuimage/YuvToRgbConverter.kt\" rel=\"nofollow noreferrer\">this class</a>, so I'm using the class below to convert an ImageProxy to a Bitmap:</p>\n<pre><code>public class YuvToRgbConverter {\n\n    private RenderScript rs;\n    private ScriptIntrinsicYuvToRGB scriptYuvToRgb;\n    private int pixelCount = -1;\n    private byte[] yuvBuffer = null;\n    private Allocation inputAllocation = null;\n    private Allocation outputAllocation = null;\n\n    public YuvToRgbConverter(Context context) {\n        rs = RenderScript.create(context);\n        scriptYuvToRgb = ScriptIntrinsicYuvToRGB.create(rs, Element.U8_4(rs));\n    }\n\n    @Synchronized\n    public void yuvToRgb(Image image, Bitmap output) {\n        // Ensure that the intermediate output byte buffer is allocated\n        if (yuvBuffer == null) {\n            pixelCount = image.getCropRect().width() * image.getCropRect().height();\n            // Bits per pixel is an average for the whole image, so it's useful to compute the size\n            // of the full buffer but should not be used to determine pixel offsets\n            int pixelSizeBits = ImageFormat.getBitsPerPixel(ImageFormat.YUV_420_888);\n            yuvBuffer = new byte[pixelCount * pixelSizeBits / 8];\n        }\n\n        // Get the YUV data in byte array form using NV21 format\n        imageToByteArray(image, yuvBuffer);\n\n        // Ensure that the RenderScript inputs and outputs are allocated\n        if (inputAllocation == null) {\n            // Explicitly create an element with type NV21, since that's the pixel format we use\n            Type elemType = new Type.Builder(rs, Element.YUV(rs)).setYuvFormat(ImageFormat.NV21).create();\n            inputAllocation = Allocation.createSized(rs, elemType.getElement(), yuvBuffer.length);\n        }\n        if (outputAllocation == null) {\n            outputAllocation = Allocation.createFromBitmap(rs, output);\n        }\n\n        // Convert NV21 format YUV to RGB\n        inputAllocation.copyFrom(yuvBuffer);\n        scriptYuvToRgb.setInput(inputAllocation);\n        scriptYuvToRgb.forEach(outputAllocation);\n        outputAllocation.copyTo(output);\n    }\n\n\n    private void imageToByteArray(Image image, byte[] outputBuffer) {\n        assert (image.getFormat() == ImageFormat.YUV_420_888);\n\n        Rect imageCrop = image.getCropRect();\n        Image.Plane[] imagePlanes = image.getPlanes();\n\n        for (int planeIndex = 0; planeIndex &lt; imagePlanes.length; ++planeIndex) {\n            Image.Plane plane = imagePlanes[planeIndex];\n            int outputStride = 0;\n            int outputOffset = 0;\n            switch (planeIndex) {\n                case 0:\n                    outputStride = 1;\n                    outputOffset = 0;\n                    break;\n                case 1:\n                    outputStride = 2;\n                    outputOffset = pixelCount + 1;\n                    break;\n                case 2:\n                    outputStride = 2;\n                    outputOffset = pixelCount;\n                    break;\n                default:\n                    return;\n\n            }\n\n            ByteBuffer planeBuffer = plane.getBuffer();\n            int rowStride = plane.getRowStride();\n            int pixelStride = plane.getPixelStride();\n            Rect planeCrop = imageCrop;\n            if (planeIndex != 0) {\n                planeCrop = new Rect(imageCrop.left / 2, imageCrop.top / 2, imageCrop.right / 2, imageCrop.bottom / 2);\n            }\n\n            int planeWidth = planeCrop.width();\n            int planeHeight = planeCrop.height();\n\n            byte[] rowBuffer = new byte[plane.getRowStride()];\n\n            int rowLength = planeWidth;\n            if (pixelStride != 1 || outputStride != 1) {\n                rowLength = (planeWidth - 1) * pixelStride + 1;\n            }\n            for (int row = 0; row &lt; planeHeight; row++) {\n                planeBuffer.position((row + planeCrop.top) * rowStride + planeCrop.left * pixelStride);\n                if (pixelStride == 1 &amp;&amp; outputStride == 1) {\n                    planeBuffer.get(outputBuffer, outputOffset, rowLength);\n                    outputOffset += rowLength;\n                } else {\n                    planeBuffer.get(rowBuffer, 0, rowLength);\n                    for (int col = 0; col &lt; planeWidth; col++) {\n                        outputBuffer[outputOffset] = rowBuffer[col * pixelStride];\n                        outputOffset += outputStride;\n                    }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>This class works as expected in many devices but in some devices I get a green bitmap.</p>\n<p><strong>Correct conversion in many devices</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dA1Ov.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dA1Ov.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Green bitmap in some devices</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2YCkt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YCkt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So my question is how can I fix this problem? Is there any better way? Thanks</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1689770746,"post_id":76721424,"comment_id":135260051,"body_markdown":"Can you elaborate on &quot;this did not work&quot;?","body":"Can you elaborate on &quot;this did not work&quot;?"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1689770792,"post_id":76721424,"comment_id":135260070,"body_markdown":"Is there always exactly one letter at the end?","body":"Is there always exactly one letter at the end?"},{"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"score":0,"creation_date":1689770822,"post_id":76721424,"comment_id":135260080,"body_markdown":"yes there is always 1 letter a the end.","body":"yes there is always 1 letter a the end."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1689770951,"post_id":76721424,"comment_id":135260126,"body_markdown":"Your code assumes every string is exactly 2 characters long.","body":"Your code assumes every string is exactly 2 characters long."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689771132,"creation_date":1689771132,"answer_id":76721517,"question_id":76721424,"body_markdown":"You can sort first by the last character, then parse the other characters as an `int`. The `Comparator` can be written more easily with the `Comparator.comparing` and `.thenComparing` methods.\r\n\r\n```\r\nmyList.sort(Comparator.comparing((String s) -&gt; s.charAt(s.length() - 1))\r\n    .thenComparingInt(s -&gt; Integer.parseInt(s.substring(0, s.length() - 1))));\r\n```","title":"How to sort a list of stings by number letter first and then number","body":"<p>You can sort first by the last character, then parse the other characters as an <code>int</code>. The <code>Comparator</code> can be written more easily with the <code>Comparator.comparing</code> and <code>.thenComparing</code> methods.</p>\n<pre><code>myList.sort(Comparator.comparing((String s) -&gt; s.charAt(s.length() - 1))\n    .thenComparingInt(s -&gt; Integer.parseInt(s.substring(0, s.length() - 1))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689774590,"creation_date":1689774590,"answer_id":76722034,"question_id":76721424,"body_markdown":"You might like to code more defensively and make it work for letters and numbers of arbitrary length:\r\n\r\n```\r\n        List&lt;String&gt; sorted = strings.stream().\r\n            sorted(Comparator.comparing((String s) -&gt;s.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)).\r\n                    thenComparingInt(s -&gt;Integer.parseInt(s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)))).\r\n            collect(Collectors.toList());\r\n        System.out.println(sorted);\r\n```","title":"How to sort a list of stings by number letter first and then number","body":"<p>You might like to code more defensively and make it work for letters and numbers of arbitrary length:</p>\n<pre><code>        List&lt;String&gt; sorted = strings.stream().\n            sorted(Comparator.comparing((String s) -&gt;s.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)).\n                    thenComparingInt(s -&gt;Integer.parseInt(s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)))).\n            collect(Collectors.toList());\n        System.out.println(sorted);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689778253,"creation_date":1689775517,"answer_id":76722184,"question_id":76721424,"body_markdown":"Here is one way that splits the string between the last digit and the character using a [regular expression](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum).\r\n\r\nThis defines a comparator to use the split string to first compare the `String` portion and then, if the strings are equal, compares the `int` portion after parsing.\r\n```\r\nList&lt;String&gt; stringList = List.of(\r\n        &quot;2D&quot;,&quot;1D&quot;,&quot;1Y&quot;,&quot;23M&quot;,&quot;4M&quot;,&quot;2Y&quot;,&quot;12D&quot;\r\n);\r\n\r\nComparator&lt;String&gt; comp = Comparator\r\n.comparing(str -&gt; str.split(&quot;(?=\\\\D)&quot;),\r\n        Comparator.comparing((String[] str) -&gt; str[1])\r\n                .thenComparingInt(str-&gt;Integer.parseInt(str[0])));\r\n   \r\n   \r\nList&lt;String&gt; list = stringList.stream().sorted(comp).toList();\r\n\r\nSystem.out.println(list);\r\n```\r\nprints\r\n```\r\n[1D, 2D, 12D, 4M, 23M, 1Y, 2Y]\r\n```\r\nIf you want to expand this to handle any number of trailing characters &gt; 0 you could replace the above split invocation with the following:\r\n```\r\nstr.split(&quot;((?&lt;=\\\\d)(?=\\\\D))|((?=\\\\d)(?!\\\\d))&quot;)\r\n```\r\nIn all cases, at least one character and one digit is required, else an exception could be thrown.","title":"How to sort a list of stings by number letter first and then number","body":"<p>Here is one way that splits the string between the last digit and the character using a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum\" rel=\"nofollow noreferrer\">regular expression</a>.</p>\n<p>This defines a comparator to use the split string to first compare the <code>String</code> portion and then, if the strings are equal, compares the <code>int</code> portion after parsing.</p>\n<pre><code>List&lt;String&gt; stringList = List.of(\n        &quot;2D&quot;,&quot;1D&quot;,&quot;1Y&quot;,&quot;23M&quot;,&quot;4M&quot;,&quot;2Y&quot;,&quot;12D&quot;\n);\n\nComparator&lt;String&gt; comp = Comparator\n.comparing(str -&gt; str.split(&quot;(?=\\\\D)&quot;),\n        Comparator.comparing((String[] str) -&gt; str[1])\n                .thenComparingInt(str-&gt;Integer.parseInt(str[0])));\n   \n   \nList&lt;String&gt; list = stringList.stream().sorted(comp).toList();\n\nSystem.out.println(list);\n</code></pre>\n<p>prints</p>\n<pre><code>[1D, 2D, 12D, 4M, 23M, 1Y, 2Y]\n</code></pre>\n<p>If you want to expand this to handle any number of trailing characters &gt; 0 you could replace the above split invocation with the following:</p>\n<pre><code>str.split(&quot;((?&lt;=\\\\d)(?=\\\\D))|((?=\\\\d)(?!\\\\d))&quot;)\n</code></pre>\n<p>In all cases, at least one character and one digit is required, else an exception could be thrown.</p>\n"}],"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76721517,"answer_count":3,"score":2,"last_activity_date":1689778253,"creation_date":1689770568,"question_id":76721424,"body_markdown":"I have a string list as follows:\r\n\r\n    (2D, 1D, 1Y, 23M, 4M, 2Y, 12D)\r\n\r\nHow can I sort it alphabetically and then numerically?\r\n\r\nI expect\r\n\r\n    (1D, 2D, 12D, 4M, 23M, 1Y, 2Y)\r\n\r\nI tried this but it didn&#39;t work.\r\n\r\n    Collections.sort(myList, new MyComparator());\r\n\r\n    public class MyComparator implements Comparator {\r\n\r\n\t\t@Override\r\n\t\tpublic int compare(Object o1, Object o2) {\r\n\r\n\t\t    String s1 = (String)o1;\r\n\t\t    String s2 = (String)o2;\r\n\t\t    String strPart1 = s1.split(&quot;&quot;)[1];\r\n\t\t    int intPart1 = Integer.parseInt(s1.split(&quot;&quot;)[0]);\r\n\r\n\t\t    String strPart2 = s2.split(&quot;&quot;)[1];\r\n\t\t    int intPart2 = Integer.parseInt(s2.split(&quot;&quot;)[0]);\r\n\r\n\t\t    int strCompareResult = strPart1.compareTo(strPart2);\r\n\t\t    if(0 == strCompareResult )\r\n\t\t    {\r\n\t\t        return intPart1 - intPart2;\r\n\t\t    }\r\n\t\t    else\r\n\t\t    {\r\n\t\t        return strCompareResult;\r\n\t\t    }\r\n\t\t}\r\n\r\n    }\r\n\r\nHowever this did not work. \r\n\r\n ","title":"How to sort a list of stings by number letter first and then number","body":"<p>I have a string list as follows:</p>\n<pre><code>(2D, 1D, 1Y, 23M, 4M, 2Y, 12D)\n</code></pre>\n<p>How can I sort it alphabetically and then numerically?</p>\n<p>I expect</p>\n<pre><code>(1D, 2D, 12D, 4M, 23M, 1Y, 2Y)\n</code></pre>\n<p>I tried this but it didn't work.</p>\n<pre><code>Collections.sort(myList, new MyComparator());\n\npublic class MyComparator implements Comparator {\n\n    @Override\n    public int compare(Object o1, Object o2) {\n\n        String s1 = (String)o1;\n        String s2 = (String)o2;\n        String strPart1 = s1.split(&quot;&quot;)[1];\n        int intPart1 = Integer.parseInt(s1.split(&quot;&quot;)[0]);\n\n        String strPart2 = s2.split(&quot;&quot;)[1];\n        int intPart2 = Integer.parseInt(s2.split(&quot;&quot;)[0]);\n\n        int strCompareResult = strPart1.compareTo(strPart2);\n        if(0 == strCompareResult )\n        {\n            return intPart1 - intPart2;\n        }\n        else\n        {\n            return strCompareResult;\n        }\n    }\n\n}\n</code></pre>\n<p>However this did not work.</p>\n"},{"tags":["java","jpa","spring-data-jpa","postgis"],"comments":[{"owner":{"account_id":17098341,"reputation":612,"user_id":12372860,"display_name":"Steffen Bobek"},"score":1,"creation_date":1577495667,"post_id":59506338,"comment_id":105187468,"body_markdown":"A start could be https://stackoverflow.com/questions/22186506 and https://stackoverflow.com/questions/52314732.","body":"A start could be <a href=\"https://stackoverflow.com/questions/22186506\">stackoverflow.com/questions/22186506</a> and <a href=\"https://stackoverflow.com/questions/52314732\">stackoverflow.com/questions/52314732</a>."}],"answers":[{"tags":[],"owner":{"account_id":3068305,"reputation":1371,"user_id":2599537,"accept_rate":73,"display_name":"devil0150"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689778036,"creation_date":1577549208,"answer_id":59512526,"question_id":59506338,"body_markdown":"After I found out about hibernate-spatial from the comment of @Pilosa, I added some dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.10.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I added a `org.locationtech.jts.geom.Point` field in the Entity class to map the geography column.\r\n\r\n    @JsonIgnore\r\n    @Column(columnDefinition = &quot;geography(Point,4326)&quot;)\r\n    private Point geog;\r\n\r\nThe `@JsonIgnore` annotation is because jackson threw a stack overflow exception when trying to deserialize the field (see related [question][1]). This solution worked for me since I only use the point for querying, and I don&#39;t need its value.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59291785/error-de-serializing-geometry-with-jackson","title":"How to handle table column of type that is not known in Java (Spring Data)?","body":"<p>After I found out about hibernate-spatial from the comment of @Pilosa, I added some dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\n    &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\n    &lt;version&gt;1.16.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n    &lt;version&gt;5.4.10.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I added a <code>org.locationtech.jts.geom.Point</code> field in the Entity class to map the geography column.</p>\n<pre><code>@JsonIgnore\n@Column(columnDefinition = &quot;geography(Point,4326)&quot;)\nprivate Point geog;\n</code></pre>\n<p>The <code>@JsonIgnore</code> annotation is because jackson threw a stack overflow exception when trying to deserialize the field (see related <a href=\"https://stackoverflow.com/questions/59291785/error-de-serializing-geometry-with-jackson\">question</a>). This solution worked for me since I only use the point for querying, and I don't need its value.</p>\n"}],"owner":{"account_id":3068305,"reputation":1371,"user_id":2599537,"accept_rate":73,"display_name":"devil0150"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59512526,"answer_count":1,"score":3,"last_activity_date":1689778036,"creation_date":1577483380,"question_id":59506338,"body_markdown":"I have a table with a column of type `geography(Point,4326)` (using PostGIS).\r\nI only need to use this column in the WHERE condition when querying the table. E.g. in the query below, `geog` is the name of that column.\r\n\r\n    @Query(value = &quot;SELECT pois.*\\n&quot; +\r\n            &quot;FROM pois,\\n&quot; +\r\n            &quot;(select ST_MakePoint(:lat,:lon)::geography as poi) as poi\\n&quot; +\r\n            &quot;WHERE ST_DWithin(geog, poi, 400)\\n&quot; +\r\n            &quot;ORDER BY ST_Distance(geog, poi)&quot;, nativeQuery = true)\r\n    public List&lt;PointOfInterest&gt; getPOIsAroundLocation(@Param(&quot;lat&quot;) double lat,\r\n                                                       @Param(&quot;lon&quot;) double lon);\r\n\r\nHowever, in the entity class `PointOfInterest`, I don&#39;t know how to map that column, since I don&#39;t have a Java type equivalent to the `geography(Point,4326)` database type.\r\n\r\nIf I don&#39;t mention the column at all in the class, it won&#39;t be created in the database (I have `spring.jpa.hibernate.ddl-auto=create`), and the query will fail.\r\n\r\nWhat can I do? Is there a way to create a column with a java type (maybe `Object`?) and then map it to the db type with some annotation? Or is there a way to tell Spring Data about the db column without actually adding a field I won&#39;t use in the class?\r\n\r\nHere is the `PointOfInterest` class:\r\n\r\n    @Data\r\n    @Entity(name = &quot;pois&quot;)\r\n    public abstract class PointOfInterest {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        private final double latitude;\r\n        private final double longitude;\r\n        private final PoiType poiType;\r\n\r\n        public PointOfInterest() {\r\n            this.latitude = this.longitude = 0;\r\n            poiType = null;\r\n        }\r\n\r\n        public PointOfInterest(double latitude, double longitude, PoiType poiType) {\r\n            this.latitude = latitude;\r\n            this.longitude = longitude;\r\n            this.poiType = poiType;\r\n        }\r\n    }","title":"How to handle table column of type that is not known in Java (Spring Data)?","body":"<p>I have a table with a column of type <code>geography(Point,4326)</code> (using PostGIS).\nI only need to use this column in the WHERE condition when querying the table. E.g. in the query below, <code>geog</code> is the name of that column.</p>\n\n<pre><code>@Query(value = \"SELECT pois.*\\n\" +\n        \"FROM pois,\\n\" +\n        \"(select ST_MakePoint(:lat,:lon)::geography as poi) as poi\\n\" +\n        \"WHERE ST_DWithin(geog, poi, 400)\\n\" +\n        \"ORDER BY ST_Distance(geog, poi)\", nativeQuery = true)\npublic List&lt;PointOfInterest&gt; getPOIsAroundLocation(@Param(\"lat\") double lat,\n                                                   @Param(\"lon\") double lon);\n</code></pre>\n\n<p>However, in the entity class <code>PointOfInterest</code>, I don't know how to map that column, since I don't have a Java type equivalent to the <code>geography(Point,4326)</code> database type.</p>\n\n<p>If I don't mention the column at all in the class, it won't be created in the database (I have <code>spring.jpa.hibernate.ddl-auto=create</code>), and the query will fail.</p>\n\n<p>What can I do? Is there a way to create a column with a java type (maybe <code>Object</code>?) and then map it to the db type with some annotation? Or is there a way to tell Spring Data about the db column without actually adding a field I won't use in the class?</p>\n\n<p>Here is the <code>PointOfInterest</code> class:</p>\n\n<pre><code>@Data\n@Entity(name = \"pois\")\npublic abstract class PointOfInterest {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private final double latitude;\n    private final double longitude;\n    private final PoiType poiType;\n\n    public PointOfInterest() {\n        this.latitude = this.longitude = 0;\n        poiType = null;\n    }\n\n    public PointOfInterest(double latitude, double longitude, PoiType poiType) {\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.poiType = poiType;\n    }\n}\n</code></pre>\n"},{"tags":["java","schema","avro"],"answers":[{"tags":[],"owner":{"account_id":4681500,"reputation":1084,"user_id":3790093,"display_name":"Kapil Balagi"},"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1484067323,"creation_date":1407136459,"answer_id":25113463,"question_id":25076786,"body_markdown":"You need to use [array][1] type for creating the list.\r\nFollowing is the updated schema that handles your usecase.\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Parent&quot;,\r\n        &quot;type&quot;:&quot;record&quot;,\r\n        &quot;fields&quot;:[\r\n            {\r\n                &quot;name&quot;:&quot;children&quot;,\r\n                &quot;type&quot;:{\r\n            \t    &quot;type&quot;: &quot;array&quot;,  \r\n            \t    &quot;items&quot;:{\r\n\t\t\t            &quot;name&quot;:&quot;Child&quot;,\r\n\t\t\t            &quot;type&quot;:&quot;record&quot;,\r\n\t\t\t            &quot;fields&quot;:[\r\n\t\t\t                {&quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;string&quot;}\r\n\t\t\t            ]\r\n\t\t\t        }\r\n\t            }\r\n            }\r\n        ] \r\n    }\r\n\r\n\r\n\r\n  [1]: http://avro.apache.org/docs/current/spec.html#Arrays","title":"How to create schema containing list of objects using Avro?","body":"<p>You need to use <a href=\"http://avro.apache.org/docs/current/spec.html#Arrays\" rel=\"noreferrer\">array</a> type for creating the list.\nFollowing is the updated schema that handles your usecase.</p>\n\n<pre><code>{\n    \"name\": \"Parent\",\n    \"type\":\"record\",\n    \"fields\":[\n        {\n            \"name\":\"children\",\n            \"type\":{\n                \"type\": \"array\",  \n                \"items\":{\n                    \"name\":\"Child\",\n                    \"type\":\"record\",\n                    \"fields\":[\n                        {\"name\":\"name\", \"type\":\"string\"}\n                    ]\n                }\n            }\n        }\n    ] \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1689777747,"creation_date":1535727259,"answer_id":52118036,"question_id":25076786,"body_markdown":"I had following classes and Avro maven plugin generated two classes accordingly :\r\n\r\n&lt;!-- language:lang-java --&gt;\r\n    \r\n    public class Employees{\r\n        String accountNumber;\r\n        String address;\r\n        List&lt;Account&gt; accountList;    \r\n    }\r\n    \r\n    public class Account {\r\n        String accountNumber;\r\n        String id;\r\n    }\r\n\r\n    \r\nAvro file format :\r\n\r\n&lt;!-- language:lang-js --&gt;\r\n\r\n    {\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;namespace&quot;: &quot;com.mypackage&quot;,\r\n        &quot;name&quot;: &quot;AccountEvent&quot;,\r\n        &quot;fields&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;accountNumber&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;address&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n            },\r\n    \t\t{\r\n                &quot;name&quot;: &quot;accountList&quot;,\r\n                &quot;type&quot;: {\r\n                    &quot;type&quot;: &quot;array&quot;,\r\n                    &quot;items&quot;:{\r\n                        &quot;name&quot;: &quot;Account&quot;,\r\n                        &quot;type&quot;: &quot;record&quot;,\r\n                        &quot;fields&quot;:[\r\n                            {   &quot;name&quot;: &quot;accountNumber&quot;,\r\n                                &quot;type&quot;: &quot;string&quot;\r\n                            },\r\n                            {   &quot;name&quot;: &quot;id&quot;,\r\n                                &quot;type&quot;: &quot;string&quot;\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n    \t]\r\n    }\r\n\r\n","title":"How to create schema containing list of objects using Avro?","body":"<p>I had following classes and Avro maven plugin generated two classes accordingly :</p>\n\n<pre><code>public class Employees{\n    String accountNumber;\n    String address;\n    List&lt;Account&gt; accountList;    \n}\n\npublic class Account {\n    String accountNumber;\n    String id;\n}\n</code></pre>\n<p>Avro file format :</p>\n\n<pre><code>{\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;namespace&quot;: &quot;com.mypackage&quot;,\n    &quot;name&quot;: &quot;AccountEvent&quot;,\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;accountNumber&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        },\n        {\n            &quot;name&quot;: &quot;address&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        },\n        {\n            &quot;name&quot;: &quot;accountList&quot;,\n            &quot;type&quot;: {\n                &quot;type&quot;: &quot;array&quot;,\n                &quot;items&quot;:{\n                    &quot;name&quot;: &quot;Account&quot;,\n                    &quot;type&quot;: &quot;record&quot;,\n                    &quot;fields&quot;:[\n                        {   &quot;name&quot;: &quot;accountNumber&quot;,\n                            &quot;type&quot;: &quot;string&quot;\n                        },\n                        {   &quot;name&quot;: &quot;id&quot;,\n                            &quot;type&quot;: &quot;string&quot;\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644480891,"creation_date":1639996363,"answer_id":70420488,"question_id":25076786,"body_markdown":"Array as type\r\n\r\n    {\r\n    \t&quot;type&quot;: &quot;record&quot;,\r\n    \t&quot;name&quot;: &quot;jamesMedice&quot;,\r\n    \t&quot;fields&quot;: [{\r\n    \t\t&quot;name&quot;: &quot;columns&quot;,\r\n    \t\t&quot;type&quot;: {\r\n    \t\t\t&quot;type&quot;: &quot;array&quot;,\r\n    \t\t\t&quot;items&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;record&quot;,\r\n    \t\t\t\t&quot;name&quot;: &quot;columnValues&quot;,\r\n    \t\t\t\t&quot;fields&quot;: [{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;personId&quot;,\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;default&quot;: &quot;null&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;email&quot;,\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;default&quot;: &quot;null&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t]\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}]\r\n    }","title":"How to create schema containing list of objects using Avro?","body":"<p>Array as type</p>\n<pre><code>{\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;name&quot;: &quot;jamesMedice&quot;,\n    &quot;fields&quot;: [{\n        &quot;name&quot;: &quot;columns&quot;,\n        &quot;type&quot;: {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;items&quot;: {\n                &quot;type&quot;: &quot;record&quot;,\n                &quot;name&quot;: &quot;columnValues&quot;,\n                &quot;fields&quot;: [{\n                        &quot;name&quot;: &quot;personId&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;default&quot;: &quot;null&quot;\n                    },\n                    {\n                        &quot;name&quot;: &quot;email&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;default&quot;: &quot;null&quot;\n                    }\n                ]\n            }\n        }\n    }]\n}\n</code></pre>\n"}],"owner":{"account_id":66246,"reputation":11538,"user_id":194476,"accept_rate":90,"display_name":"Shekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88280,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":25113463,"answer_count":3,"score":53,"last_activity_date":1689777747,"creation_date":1406884499,"question_id":25076786,"body_markdown":"Does anyone knows how to create Avro schema which contains list of objects of some class?\r\n\r\nI want my generated classes to look like below :\r\n\r\n    class Child {\r\n        String name;\r\n    }\r\n    \r\n    class Parent {\r\n        list&lt;Child&gt; children;\r\n    }\r\n\r\nFor this, I have written part of schema file but do not know how to tell Avro to create list of objects of type `Children`?\r\n\r\nMy schema file looks like below :\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Parent&quot;,\r\n        &quot;type&quot;:&quot;record&quot;,\r\n        &quot;fields&quot;:[\r\n            {\r\n                &quot;name&quot;:&quot;children&quot;,\r\n                &quot;type&quot;:{\r\n                    &quot;name&quot;:&quot;Child&quot;,\r\n                    &quot;type&quot;:&quot;record&quot;,\r\n                    &quot;fields&quot;:[\r\n                        {&quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;string&quot;}\r\n                    ]\r\n                }\r\n            }\r\n        ] \r\n    }\r\n\r\n\r\nNow problem is  that I can mark field `children` as either `Child` type or array but do not know how to mark it as a `array of objects of type Child` class?\r\n\r\nCan anyone please help?\r\n","title":"How to create schema containing list of objects using Avro?","body":"<p>Does anyone knows how to create Avro schema which contains list of objects of some class?</p>\n\n<p>I want my generated classes to look like below :</p>\n\n<pre><code>class Child {\n    String name;\n}\n\nclass Parent {\n    list&lt;Child&gt; children;\n}\n</code></pre>\n\n<p>For this, I have written part of schema file but do not know how to tell Avro to create list of objects of type <code>Children</code>?</p>\n\n<p>My schema file looks like below :</p>\n\n<pre><code>{\n    \"name\": \"Parent\",\n    \"type\":\"record\",\n    \"fields\":[\n        {\n            \"name\":\"children\",\n            \"type\":{\n                \"name\":\"Child\",\n                \"type\":\"record\",\n                \"fields\":[\n                    {\"name\":\"name\", \"type\":\"string\"}\n                ]\n            }\n        }\n    ] \n}\n</code></pre>\n\n<p>Now problem is  that I can mark field <code>children</code> as either <code>Child</code> type or array but do not know how to mark it as a <code>array of objects of type Child</code> class?</p>\n\n<p>Can anyone please help?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":28863382,"reputation":1,"user_id":22106676,"display_name":"Diaz Roban"},"score":0,"creation_date":1689777537,"post_id":76722494,"comment_id":135262033,"body_markdown":"CMake Error at CMakeLists.txt:12 (add_executable):\n  Cannot find source file:","body":"CMake Error at CMakeLists.txt:12 (add_executable):   Cannot find source file:"},{"owner":{"account_id":7622639,"reputation":336,"user_id":5780236,"display_name":"Ahmad Reza Enshaee"},"score":0,"creation_date":1689780442,"post_id":76722494,"comment_id":135262759,"body_markdown":"Have you tried building it with `make` and ndk?","body":"Have you tried building it with <code>make</code> and ndk?"},{"owner":{"account_id":28863382,"reputation":1,"user_id":22106676,"display_name":"Diaz Roban"},"score":0,"creation_date":1689841325,"post_id":76722494,"comment_id":135271277,"body_markdown":"Yes, I tried but it was not fixed","body":"Yes, I tried but it was not fixed"}],"owner":{"account_id":28863382,"reputation":1,"user_id":22106676,"display_name":"Diaz Roban"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689777490,"creation_date":1689777490,"question_id":76722494,"body_markdown":"  from E:\\wire\\New folder\\wireguard-android-master\\tunnel\r\nCMake Error at CMakeLists.txt:12 (add_executable):\r\n  Cannot find source file:\r\n\r\n    wireguard-tools/src/wg-quick/android.c\r\n\r\n  Tried extensions .c .C .c++ .cc .cpp .cxx .cu .mpp .m .M .mm .ixx .cppm .h\r\n  .hh .h++ .hm .hpp .hxx .in .txx .f .F .for .f77 .f90 .f95 .f03 .hip .ispc\r\n\r\n\r\nCMake Error at CMakeLists.txt:12 (add_executable):\r\n  No SOURCES given to target: libwg-quick.so\r\n\r\n\r\nCMake Generate step failed.  Build files cannot be regenerated correctly.","title":"I want to work on Wireguard project, I downloaded the project from github, but when I try to run it in Android Studio, it gives the following error","body":"<p>from E:\\wire\\New folder\\wireguard-android-master\\tunnel\nCMake Error at CMakeLists.txt:12 (add_executable):\nCannot find source file:</p>\n<pre><code>wireguard-tools/src/wg-quick/android.c\n</code></pre>\n<p>Tried extensions .c .C .c++ .cc .cpp .cxx .cu .mpp .m .M .mm .ixx .cppm .h\n.hh .h++ .hm .hpp .hxx .in .txx .f .F .for .f77 .f90 .f95 .f03 .hip .ispc</p>\n<p>CMake Error at CMakeLists.txt:12 (add_executable):\nNo SOURCES given to target: libwg-quick.so</p>\n<p>CMake Generate step failed.  Build files cannot be regenerated correctly.</p>\n"},{"tags":["java","maven","maven-2","maven-3","maven-plugin"],"comments":[{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1414137760,"post_id":26543490,"comment_id":41711234,"body_markdown":"I havent tryied myself but the best approach seems to be maven incremental build plugin described here: http://harshana05.blogspot.ch/search?q=incremental+maven","body":"I havent tryied myself but the best approach seems to be maven incremental build plugin described here: <a href=\"http://harshana05.blogspot.ch/search?q=incremental+maven\" rel=\"nofollow noreferrer\">harshana05.blogspot.ch/search?q=incremental+maven</a>"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1414137867,"post_id":26543490,"comment_id":41711274,"body_markdown":"Id love to hear about your success with this (since we have multi module projects maintained on GIT were all of the different branches are build on the same Jenkins instance hence resulting in build scenarios that can take up to 24 hours i consider having a closer look at this too).","body":"Id love to hear about your success with this (since we have multi module projects maintained on GIT were all of the different branches are build on the same Jenkins instance hence resulting in build scenarios that can take up to 24 hours i consider having a closer look at this too)."},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1418089441,"post_id":26543490,"comment_id":43191956,"body_markdown":"I did this with a combination of sed/awk and `git diff --name-only`  to get the modules that have changed since a revision then do a mvn -amd -pl modulenames clean install","body":"I did this with a combination of sed/awk and <code>git diff --name-only</code>  to get the modules that have changed since a revision then do a mvn -amd -pl modulenames clean install"},{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":1,"creation_date":1571838829,"post_id":26543490,"comment_id":103373834,"body_markdown":"Maven is just not really suited for this. Build tools like Bazel are. You can build and run tests only on affected parts and you&#39;re able to determine the granularity yourself.","body":"Maven is just not really suited for this. Build tools like Bazel are. You can build and run tests only on affected parts and you&#39;re able to determine the granularity yourself."}],"answers":[{"tags":[],"owner":{"account_id":312553,"reputation":1008,"user_id":626684,"display_name":"Kobynet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679575246,"creation_date":1646317933,"answer_id":71338863,"question_id":26543490,"body_markdown":"What you are looking for can be achieved by using [gitflow-incremental-builder][1] plugin, although it has dependency on git.\r\n\r\n&gt; A maven extension for incremental building of multi-module \r\n     projects when using feature branches (Git Flow). \r\n    Builds or tests only changed maven modules compared to\r\n     reference branch in Git (e.g. origin/develop) and all their dependents.\r\n\r\nPowered by JGit.\r\n\r\n\r\n  [1]: https://github.com/gitflow-incremental-builder/gitflow-incremental-builder","title":"Configure Maven not to run tests if nothing changed","body":"<p>What you are looking for can be achieved by using <a href=\"https://github.com/gitflow-incremental-builder/gitflow-incremental-builder\" rel=\"nofollow noreferrer\">gitflow-incremental-builder</a> plugin, although it has dependency on git.</p>\n<blockquote>\n<p>A maven extension for incremental building of multi-module\nprojects when using feature branches (Git Flow).\nBuilds or tests only changed maven modules compared to\nreference branch in Git (e.g. origin/develop) and all their dependents.</p>\n</blockquote>\n<p>Powered by JGit.</p>\n"},{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679575042,"creation_date":1679575042,"answer_id":75823094,"question_id":26543490,"body_markdown":"You could bite the bullet on this one and take your expensive (by cpu cycles) integration tests out of the main build.\r\n\r\nThe you can run your project with -Pintegrationtests via a separate scheduling mechanism.\r\n\r\nFor example, you could run them 4 times daily, on a cron schedule.","title":"Configure Maven not to run tests if nothing changed","body":"<p>You could bite the bullet on this one and take your expensive (by cpu cycles) integration tests out of the main build.</p>\n<p>The you can run your project with -Pintegrationtests via a separate scheduling mechanism.</p>\n<p>For example, you could run them 4 times daily, on a cron schedule.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689769946,"creation_date":1689769946,"answer_id":76721330,"question_id":26543490,"body_markdown":"If you are using the &quot;release-manager&quot; you could run the test using the pre-commit-check using the variable `$pending_change_modules`.\r\n\r\nIn example: If you commit to modul `foobar` then this command is executed:\r\n\r\n    mvn test -pl foobar\r\n\r\n**Warning: If the test fail the commit is rejected.**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kD4WG.png","title":"Configure Maven not to run tests if nothing changed","body":"<p>If you are using the &quot;release-manager&quot; you could run the test using the pre-commit-check using the variable <code>$pending_change_modules</code>.</p>\n<p>In example: If you commit to modul <code>foobar</code> then this command is executed:</p>\n<pre><code>mvn test -pl foobar\n</code></pre>\n<p><strong>Warning: If the test fail the commit is rejected.</strong>\n<a href=\"https://i.stack.imgur.com/kD4WG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kD4WG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14346634,"reputation":21,"user_id":10363350,"display_name":"Haifisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689777486,"creation_date":1689777486,"answer_id":76722492,"question_id":26543490,"body_markdown":"Maven doesn&#39;t inherently support skipping tests based on whether a module&#39;s source code has changed. However, you can approximate such functionality using a combination of Maven profiles and carefully crafted commands.\r\n\r\nFirst, if you aren&#39;t using them already, modularize your code using Maven Modules. Each module should have its own pom.xml. Then, you can use Maven profiles to skip tests for each module:\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;skipTests&lt;/id&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n   &lt;/profiles&gt;\r\n\r\nYou can activate this profile when building a module to skip tests:\r\n\r\n    mvn clean install -PskipTests\r\n\r\n - Checks which files have changed since the last commit.\r\n - Determines which module(s) those files belong to.\r\n - Builds only those modules without skipping tests.\r\n - Builds the rest of the modules with the skipTests profile active.\r\n\r\n","title":"Configure Maven not to run tests if nothing changed","body":"<p>Maven doesn't inherently support skipping tests based on whether a module's source code has changed. However, you can approximate such functionality using a combination of Maven profiles and carefully crafted commands.</p>\n<p>First, if you aren't using them already, modularize your code using Maven Modules. Each module should have its own pom.xml. Then, you can use Maven profiles to skip tests for each module:</p>\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;skipTests&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n   \n<p>You can activate this profile when building a module to skip tests:</p>\n<pre><code>mvn clean install -PskipTests\n</code></pre>\n<ul>\n<li>Checks which files have changed since the last commit.</li>\n<li>Determines which module(s) those files belong to.</li>\n<li>Builds only those modules without skipping tests.</li>\n<li>Builds the rest of the modules with the skipTests profile active.</li>\n</ul>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1689777486,"creation_date":1414136442,"question_id":26543490,"body_markdown":"We have a large application consisting of many modules and full build (with integration tests) takes up to hour.\r\nIs there a way to configure maven in the way that it will skip tests on modules (or even classes), where nothing has been changed?\r\nProbably some plugin exists for that or this plugin can be written?","title":"Configure Maven not to run tests if nothing changed","body":"<p>We have a large application consisting of many modules and full build (with integration tests) takes up to hour.\nIs there a way to configure maven in the way that it will skip tests on modules (or even classes), where nothing has been changed?\nProbably some plugin exists for that or this plugin can be written?</p>\n"},{"tags":["java","java-stream","jdbctemplate"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1689764931,"post_id":76720621,"comment_id":135258686,"body_markdown":"Please don&#39;t post link, paste the error itself. Not sure what you expect streams to do if you end up collecting a list of items that are too large to put into memory.","body":"Please don&#39;t post link, paste the error itself. Not sure what you expect streams to do if you end up collecting a list of items that are too large to put into memory."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689766072,"post_id":76720621,"comment_id":135258909,"body_markdown":"You should explain what you want to achieve. Why do you collect everything in a single list? You could operate on the data in batches - get data from one db, do stuff with it, discard it. If you really need to keep everything in memory, i doubt there is much you can do apart from increasing available memory.","body":"You should explain what you want to achieve. Why do you collect everything in a single list? You could operate on the data in batches - get data from one db, do stuff with it, discard it. If you really need to keep everything in memory, i doubt there is much you can do apart from increasing available memory."},{"owner":{"account_id":24881829,"reputation":1,"user_id":18754936,"display_name":"Anand"},"score":0,"creation_date":1689766512,"post_id":76720621,"comment_id":135259016,"body_markdown":"I have db in different servers. I want to get the result of the query from all the db to send it to frontend . so i thought instead of using list of map , I could use streams \n @Chaosfire","body":"I have db in different servers. I want to get the result of the query from all the db to send it to frontend . so i thought instead of using list of map , I could use streams   @Chaosfire"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689769143,"post_id":76720621,"comment_id":135259616,"body_markdown":"Simplest would be to implement pagination-like, 1 page being the result from 1 db, and the frontend gets everything 1 page at a time.","body":"Simplest would be to implement pagination-like, 1 page being the result from 1 db, and the frontend gets everything 1 page at a time."},{"owner":{"account_id":24881829,"reputation":1,"user_id":18754936,"display_name":"Anand"},"score":0,"creation_date":1689770318,"post_id":76720621,"comment_id":135259917,"body_markdown":"The response will be seen in csv format by the end user. How is it possible to implement pagination then? @Chaosfire","body":"The response will be seen in csv format by the end user. How is it possible to implement pagination then? @Chaosfire"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689809294,"post_id":76720621,"comment_id":135267717,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689777346,"creation_date":1689777346,"answer_id":76722466,"question_id":76720621,"body_markdown":"Looking at the error message sounds like the logback is not able to process the message that you are trying to log. Reducing logging should provide some relief from current issue. But overall approach of sending bulk of data in online call is not recommended. \r\n\r\nIf intent is to share huge csv file, you have 2 options, and both the options involve async programming with threads. \r\n\r\nOption 1) Break the calls into 2, first to initiate csv creation and generate the unique id that can used for tracking. second call serve the content if the first call is completed. \r\n\r\nOption 2) Use the any of java library/framework that allow reactive programming. Have a look at the options outline in the article https://reflectoring.io/getting-started-with-spring-webflux/.","title":"How to send list of map into streams in java?","body":"<p>Looking at the error message sounds like the logback is not able to process the message that you are trying to log. Reducing logging should provide some relief from current issue. But overall approach of sending bulk of data in online call is not recommended.</p>\n<p>If intent is to share huge csv file, you have 2 options, and both the options involve async programming with threads.</p>\n<p>Option 1) Break the calls into 2, first to initiate csv creation and generate the unique id that can used for tracking. second call serve the content if the first call is completed.</p>\n<p>Option 2) Use the any of java library/framework that allow reactive programming. Have a look at the options outline in the article <a href=\"https://reflectoring.io/getting-started-with-spring-webflux/\" rel=\"nofollow noreferrer\">https://reflectoring.io/getting-started-with-spring-webflux/</a>.</p>\n"}],"owner":{"account_id":24881829,"reputation":1,"user_id":18754936,"display_name":"Anand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689777346,"creation_date":1689764622,"question_id":76720621,"body_markdown":"I trying to run a query using foreach in 30+ datasources. I store the output in a List&lt;Map&lt;String,Object&gt;&gt; this process takes huge memory and long time. Following is the screenshot of the error[enter image description here](https://i.stack.imgur.com/TNYxB.png)\r\n\r\n\r\nThis is my Code:\r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; resultSetList = new ArrayList&lt;&gt;();\r\nmultiDataSourceProperties.getDatasources().forEach((k, v) -&gt; {\r\njdbcTemplate.setDataSource((DataSource) v);\r\nMap&lt;String, Object&gt; rs = new HashMap&lt;&gt;();\r\nrs.put((String) k, namedJdbcTemplate.queryForList(rsConfig.getQuery(), queryParams));\r\nresultSetList.add(rs);\r\n```\r\n\r\nCould anyone suggest me solution for this via stream concept?","title":"How to send list of map into streams in java?","body":"<p>I trying to run a query using foreach in 30+ datasources. I store the output in a List&lt;Map&lt;String,Object&gt;&gt; this process takes huge memory and long time. Following is the screenshot of the error<a href=\"https://i.stack.imgur.com/TNYxB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my Code:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; resultSetList = new ArrayList&lt;&gt;();\nmultiDataSourceProperties.getDatasources().forEach((k, v) -&gt; {\njdbcTemplate.setDataSource((DataSource) v);\nMap&lt;String, Object&gt; rs = new HashMap&lt;&gt;();\nrs.put((String) k, namedJdbcTemplate.queryForList(rsConfig.getQuery(), queryParams));\nresultSetList.add(rs);\n</code></pre>\n<p>Could anyone suggest me solution for this via stream concept?</p>\n"},{"tags":["java","nosuchmethoderror"],"comments":[{"owner":{"account_id":3288925,"reputation":909,"user_id":2767662,"display_name":"Heinzlmaen"},"score":13,"creation_date":1453294219,"post_id":35186,"comment_id":57537244,"body_markdown":"In Netbeans: Right click on project in Projects tab, use &quot;Clean and Build&quot;. Solved it for me.","body":"In Netbeans: Right click on project in Projects tab, use &quot;Clean and Build&quot;. Solved it for me."},{"owner":{"account_id":2471937,"reputation":5110,"user_id":2153567,"accept_rate":77,"display_name":"Hawk"},"score":6,"creation_date":1543413448,"post_id":35186,"comment_id":93910864,"body_markdown":"Also in Intellij Idea, rebuild solves the problem sometimes","body":"Also in Intellij Idea, rebuild solves the problem sometimes"},{"owner":{"account_id":8410092,"reputation":532,"user_id":6312337,"accept_rate":80,"display_name":"Michael Smith"},"score":3,"creation_date":1563814387,"post_id":35186,"comment_id":100816316,"body_markdown":"This article is very helpful for this issue https://reflectoring.io/nosuchmethod/","body":"This article is very helpful for this issue <a href=\"https://reflectoring.io/nosuchmethod/\" rel=\"nofollow noreferrer\">reflectoring.io/nosuchmethod</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680146773,"post_id":35186,"comment_id":133849580,"body_markdown":"https://reflectoring.io/nosuchmethod/ https://www.baeldung.com/java-nosuchmethod-error  https://www.javatpoint.com/java-lang-nosuchmethoderror https://www.geeksforgeeks.org/how-to-solve-java-lang-nosuchmethoderror-in-java/ https://stackoverflow.com/questions/75880410/java-lang-nosuchmethoderror-org-apache-hadoop-hive-common-fileutils-mkdir-while https://stackoverflow.com/questions/75472043/error-java-lang-nosuchmethoderror-scala-tools-nsc-reporters-reporter-scala-to","body":"<a href=\"https://reflectoring.io/nosuchmethod/\" rel=\"nofollow noreferrer\">reflectoring.io/nosuchmethod</a> <a href=\"https://www.baeldung.com/java-nosuchmethod-error\" rel=\"nofollow noreferrer\">baeldung.com/java-nosuchmethod-error</a>  <a href=\"https://www.javatpoint.com/java-lang-nosuchmethoderror\" rel=\"nofollow noreferrer\">javatpoint.com/java-lang-nosuchmethoderror</a> <a href=\"https://www.geeksforgeeks.org/how-to-solve-java-lang-nosuchmethoderror-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a> <a href=\"https://stackoverflow.com/questions/75880410/java-lang-nosuchmethoderror-org-apache-hadoop-hive-common-fileutils-mkdir-while\" title=\"java lang nosuchmethoderror org apache hadoop hive common fileutils mkdir while\">stackoverflow.com/questions/75880410/&hellip;</a> <a href=\"https://stackoverflow.com/questions/75472043/error-java-lang-nosuchmethoderror-scala-tools-nsc-reporters-reporter-scala-to\" title=\"error java lang nosuchmethoderror scala tools nsc reporters reporter scala to\">stackoverflow.com/questions/75472043/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1220040276,"creation_date":1220040276,"answer_id":35187,"question_id":35186,"body_markdown":"This is usually caused when using a build system like [Apache Ant](http://ant.apache.org) that only compiles java files when the java file is newer than the class file.  If a method signature changes and classes were using the old version things may not be compiled correctly.  The usual fix is to do a full rebuild (usually &quot;ant clean&quot; then &quot;ant&quot;).  \r\n\r\nSometimes this can also be caused when compiling against one version of a library but running against a different version.\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>This is usually caused when using a build system like <a href=\"http://ant.apache.org\" rel=\"noreferrer\">Apache Ant</a> that only compiles java files when the java file is newer than the class file.  If a method signature changes and classes were using the old version things may not be compiled correctly.  The usual fix is to do a full rebuild (usually \"ant clean\" then \"ant\").  </p>\n\n<p>Sometimes this can also be caused when compiling against one version of a library but running against a different version.</p>\n"},{"tags":[],"owner":{"account_id":2128,"reputation":3307,"user_id":2935,"accept_rate":88,"display_name":"Vetle"},"down_vote_count":0,"up_vote_count":280,"is_accepted":true,"score":280,"last_activity_date":1220040896,"creation_date":1220040896,"answer_id":35210,"question_id":35186,"body_markdown":"Without any more information it is difficult to pinpoint the problem, but the root cause is that you most likely have compiled a class against a different version of the class that is missing a method, than the one you are using when running it.\r\n\r\nLook at the stack trace ... If the exception appears when calling a method on an object in a library, you are most likely using separate versions of the library when compiling and running. Make sure you have the right version both places.\r\n\r\nIf the exception appears when calling a method on objects instantiated by classes _you_ made, then your build process seems to be faulty. Make sure the class files that you are actually running are updated when you compile.","title":"How do I fix a NoSuchMethodError?","body":"<p>Without any more information it is difficult to pinpoint the problem, but the root cause is that you most likely have compiled a class against a different version of the class that is missing a method, than the one you are using when running it.</p>\n\n<p>Look at the stack trace ... If the exception appears when calling a method on an object in a library, you are most likely using separate versions of the library when compiling and running. Make sure you have the right version both places.</p>\n\n<p>If the exception appears when calling a method on objects instantiated by classes <em>you</em> made, then your build process seems to be faulty. Make sure the class files that you are actually running are updated when you compile.</p>\n"},{"tags":[],"owner":{"account_id":2475,"reputation":16513,"user_id":3446,"accept_rate":67,"display_name":"rcreswick"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1220045474,"creation_date":1220045474,"answer_id":35350,"question_id":35186,"body_markdown":"This can also be the result of using reflection.  If you have code that reflects on a class and extracts a method by name (eg: with `Class.getDeclaredMethod(&quot;someMethodName&quot;, .....)`) then any time that method name changes, such as during a refactor, you will need to remember to update the parameters to the reflection method to match the new method signature, or the `getDeclaredMethod` call will throw a `NoSuchMethodException`.\r\n\r\nIf this is the reason, then the stack trace should show the point that the reflection method is invoked, and you&#39;ll just need to update the parameters to match the actual method signature.  \r\n\r\nIn my experience, this comes up occasionally when unit testing private methods/fields, and using a `TestUtilities` class to extract fields for test verification.  (Generally with legacy code that wasn&#39;t designed with unit testing in mind.)","title":"How do I fix a NoSuchMethodError?","body":"<p>This can also be the result of using reflection.  If you have code that reflects on a class and extracts a method by name (eg: with <code>Class.getDeclaredMethod(\"someMethodName\", .....)</code>) then any time that method name changes, such as during a refactor, you will need to remember to update the parameters to the reflection method to match the new method signature, or the <code>getDeclaredMethod</code> call will throw a <code>NoSuchMethodException</code>.</p>\n\n<p>If this is the reason, then the stack trace should show the point that the reflection method is invoked, and you'll just need to update the parameters to match the actual method signature.  </p>\n\n<p>In my experience, this comes up occasionally when unit testing private methods/fields, and using a <code>TestUtilities</code> class to extract fields for test verification.  (Generally with legacy code that wasn't designed with unit testing in mind.)</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1220154340,"creation_date":1220154340,"answer_id":36617,"question_id":35186,"body_markdown":"Note that in the case of reflection, you get an `NoSuchMethodException`, while with non-reflective code, you get `NoSuchMethodError`. I tend to go looking in very different places when confronted with one versus the other.\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>Note that in the case of reflection, you get an <code>NoSuchMethodException</code>, while with non-reflective code, you get <code>NoSuchMethodError</code>. I tend to go looking in very different places when confronted with one versus the other.</p>\n"},{"tags":[],"owner":{"account_id":1364,"reputation":35374,"user_id":1820,"accept_rate":94,"display_name":"Cheekysoft"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1220349437,"creation_date":1220315748,"answer_id":38656,"question_id":35186,"body_markdown":"If you are writing a webapp, ensure that you don&#39;t have conflicting versions of a jar in your container&#39;s global library directory and also in your app. You may not necessarily know which jar is being used by the classloader.\r\n\r\ne.g.  \r\n\r\n  - tomcat/common/lib\r\n  - mywebapp/WEB-INF/lib\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>If you are writing a webapp, ensure that you don't have conflicting versions of a jar in your container's global library directory and also in your app. You may not necessarily know which jar is being used by the classloader.</p>\n\n<p>e.g.  </p>\n\n<ul>\n<li>tomcat/common/lib</li>\n<li>mywebapp/WEB-INF/lib</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1578706402,"creation_date":1220460105,"answer_id":42097,"question_id":35186,"body_markdown":"If you have access to change the JVM parameters, adding verbose output should allow you to see what classes are being loaded from which JAR files.\r\n\r\n    java -verbose:class &lt;other args&gt;\r\n\r\nWhen your program is run, the JVM should dump to standard out information such as:\r\n\r\n&gt;...\r\n&gt;\r\n&gt;[Loaded junit.framework.Assert from file:/C:/Program%20Files/junit3.8.2/junit.jar]\r\n&gt;\r\n&gt;...\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>If you have access to change the JVM parameters, adding verbose output should allow you to see what classes are being loaded from which JAR files.</p>\n\n<pre><code>java -verbose:class &lt;other args&gt;\n</code></pre>\n\n<p>When your program is run, the JVM should dump to standard out information such as:</p>\n\n<blockquote>\n  <p>...</p>\n  \n  <p>[Loaded junit.framework.Assert from file:/C:/Program%20Files/junit3.8.2/junit.jar]</p>\n  \n  <p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":30782,"reputation":48992,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"down_vote_count":0,"up_vote_count":113,"is_accepted":false,"score":113,"last_activity_date":1550826735,"creation_date":1275848706,"answer_id":2985338,"question_id":35186,"body_markdown":"I was having your problem, and this is how I fixed it.  The following steps are a working way to add a library.  I had done the first two steps right, but I hadn&#39;t done the last one by dragging the &quot;.jar&quot; file direct from the file system into the &quot;lib&quot; folder on my eclipse project.  Additionally, I had to remove the previous version of the library from both the build path and the &quot;lib&quot; folder.\r\n\r\n\r\nStep 1 - Add .jar to build path\r\n------\r\n![enter image description here][4]\r\n\r\nStep 2 - Associate sources and javadocs (optional)\r\n----------------------------------------\r\n![enter image description here][5]\r\n\r\nStep 3 - Actually drag .jar file into &quot;lib&quot; folder (not optional)\r\n----------------------------------------\r\n![enter image description here][6]\r\n\r\n\r\n\r\n  [1]: http://www.SharpDetail.com/p/ec_q_1.gif\r\n  [2]: http://www.SharpDetail.com/p/ec_q_2.gif\r\n  [3]: http://www.SharpDetail.com/p/ec_q_3.gif\r\n  [4]: http://i.stack.imgur.com/Os3Be.gif\r\n  [5]: http://i.stack.imgur.com/vaOVy.gif\r\n  [6]: http://i.stack.imgur.com/2OkvN.gif","title":"How do I fix a NoSuchMethodError?","body":"<p>I was having your problem, and this is how I fixed it.  The following steps are a working way to add a library.  I had done the first two steps right, but I hadn't done the last one by dragging the \".jar\" file direct from the file system into the \"lib\" folder on my eclipse project.  Additionally, I had to remove the previous version of the library from both the build path and the \"lib\" folder.</p>\n\n<h2>Step 1 - Add .jar to build path</h2>\n\n<p><img src=\"https://i.stack.imgur.com/Os3Be.gif\" alt=\"enter image description here\"></p>\n\n<h2>Step 2 - Associate sources and javadocs (optional)</h2>\n\n<p><img src=\"https://i.stack.imgur.com/vaOVy.gif\" alt=\"enter image description here\"></p>\n\n<h2>Step 3 - Actually drag .jar file into \"lib\" folder (not optional)</h2>\n\n<p><img src=\"https://i.stack.imgur.com/2OkvN.gif\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2108810,"reputation":2171,"user_id":1874487,"display_name":"Reachgoals"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507721078,"creation_date":1356330514,"answer_id":14017856,"question_id":35186,"body_markdown":"To answer the original question. According to java docs [here][1]:\r\n\r\n&gt;&quot;NoSuchMethodError&quot; Thrown if an application tries to call a specified method of a class (either static or instance), and that class no longer has a definition of that method.\r\n\r\nNormally, this error is caught by the compiler; this error can only occur at run time if the definition of a class has incompatibly changed. \r\n\r\n1. If it happens in the run time, check the class containing the method is in class path.\r\n2. Check if you have added new version of JAR and the method is compatible.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/NoSuchMethodError.html","title":"How do I fix a NoSuchMethodError?","body":"<p>To answer the original question. According to java docs <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/NoSuchMethodError.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>\"NoSuchMethodError\" Thrown if an application tries to call a specified method of a class (either static or instance), and that class no longer has a definition of that method.</p>\n</blockquote>\n\n<p>Normally, this error is caught by the compiler; this error can only occur at run time if the definition of a class has incompatibly changed. </p>\n\n<ol>\n<li>If it happens in the run time, check the class containing the method is in class path.</li>\n<li>Check if you have added new version of JAR and the method is compatible.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1654644,"reputation":489,"user_id":1524513,"display_name":"knorman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377006537,"creation_date":1377006537,"answer_id":18336764,"question_id":35186,"body_markdown":"I ran into a similar problem when I was changing method signatures in my application. \r\nCleaning and rebuilding my project resolved the &quot;NoSuchMethodError&quot;.","title":"How do I fix a NoSuchMethodError?","body":"<p>I ran into a similar problem when I was changing method signatures in my application. \nCleaning and rebuilding my project resolved the \"NoSuchMethodError\".</p>\n"},{"tags":[],"owner":{"account_id":6635998,"reputation":29,"user_id":5123156,"display_name":"Quảng Trường Thời Đại"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1437071604,"creation_date":1437043103,"answer_id":31451884,"question_id":35186,"body_markdown":"These problems are caused by the use of the same object at the same two classes.\r\nObjects used does not contain new method has been added that the new object class contains.\r\n\r\nex:\r\n\r\n    filenotnull=/DayMoreConfig.conf\r\n    16-07-2015 05:02:10:ussdgw-1: Open TCP/IP connection to SMSC: 10.149.96.66 at 2775\r\n    16-07-2015 05:02:10:ussdgw-1: Bind request: (bindreq: (pdu: 0 9 0 [1]) 900 900 GEN 52 (addrrang: 0 0 2000) ) \r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: gateway.smpp.PDUEventListener.&lt;init&gt;(Lgateway/smpp/USSDClient;)V\r\n            at gateway.smpp.USSDClient.bind(USSDClient.java:139)\r\n            at gateway.USSDGW.initSmppConnection(USSDGW.java:274)\r\n            at gateway.USSDGW.&lt;init&gt;(USSDGW.java:184)\r\n            at com.vinaphone.app.ttn.USSDDayMore.main(USSDDayMore.java:40)\r\n\r\n    -bash-3.00$ \r\n\r\n\r\nThese problems are caused by the concomitant 02 similar class (1 in src, 1 in jar file here is gateway.jar)\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>These problems are caused by the use of the same object at the same two classes.\nObjects used does not contain new method has been added that the new object class contains.</p>\n\n<p>ex:</p>\n\n<pre><code>filenotnull=/DayMoreConfig.conf\n16-07-2015 05:02:10:ussdgw-1: Open TCP/IP connection to SMSC: 10.149.96.66 at 2775\n16-07-2015 05:02:10:ussdgw-1: Bind request: (bindreq: (pdu: 0 9 0 [1]) 900 900 GEN 52 (addrrang: 0 0 2000) ) \nException in thread \"main\" java.lang.NoSuchMethodError: gateway.smpp.PDUEventListener.&lt;init&gt;(Lgateway/smpp/USSDClient;)V\n        at gateway.smpp.USSDClient.bind(USSDClient.java:139)\n        at gateway.USSDGW.initSmppConnection(USSDGW.java:274)\n        at gateway.USSDGW.&lt;init&gt;(USSDGW.java:184)\n        at com.vinaphone.app.ttn.USSDDayMore.main(USSDDayMore.java:40)\n\n-bash-3.00$ \n</code></pre>\n\n<p>These problems are caused by the concomitant 02 similar class (1 in src, 1 in jar file here is gateway.jar)</p>\n"},{"tags":[],"owner":{"account_id":2828461,"reputation":19324,"user_id":2430549,"display_name":"HoldOffHunger"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1610587794,"creation_date":1444265106,"answer_id":33004790,"question_id":35186,"body_markdown":"If using *Maven* or another framework, and you get this error almost randomly, try a clean install like...\r\n\r\n    clean install\r\n\r\nThis is especially likely to work if you wrote the object and you know it has the method.","title":"How do I fix a NoSuchMethodError?","body":"<p>If using <em>Maven</em> or another framework, and you get this error almost randomly, try a clean install like...</p>\n<pre><code>clean install\n</code></pre>\n<p>This is especially likely to work if you wrote the object and you know it has the method.</p>\n"},{"tags":[],"owner":{"account_id":3907247,"reputation":164,"user_id":3233621,"display_name":"ShankarDaruga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507721001,"creation_date":1467801282,"answer_id":38221921,"question_id":35186,"body_markdown":"I&#39;ve had the same problem. This is also caused when there is an ambiguity in classes. My program was trying to invoke a method which was present in two JAR files present in the same location / class path. Delete one JAR file or execute your code such that only one JAR file is used. Check that you are not using same JAR or different versions of the same JAR that contain the same class.\r\n\r\n&gt;DISP_E_EXCEPTION [step] [] [Z-JAVA-105  Java exception java.lang.NoSuchMethodError(com.example.yourmethod)]","title":"How do I fix a NoSuchMethodError?","body":"<p>I've had the same problem. This is also caused when there is an ambiguity in classes. My program was trying to invoke a method which was present in two JAR files present in the same location / class path. Delete one JAR file or execute your code such that only one JAR file is used. Check that you are not using same JAR or different versions of the same JAR that contain the same class.</p>\n\n<blockquote>\n  <p>DISP_E_EXCEPTION [step] [] [Z-JAVA-105  Java exception java.lang.NoSuchMethodError(com.example.yourmethod)]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5037989,"reputation":94,"user_id":4046264,"display_name":"Shrikant"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478304716,"creation_date":1478250895,"answer_id":40418906,"question_id":35186,"body_markdown":"It means the respective method is not present in the class: \r\n\r\n1. If you are using jar then decompile and check if the respective version of jar have proper class. \r\n2. Check if you have compiled proper class from your source.","title":"How do I fix a NoSuchMethodError?","body":"<p>It means the respective method is not present in the class: </p>\n\n<ol>\n<li>If you are using jar then decompile and check if the respective version of jar have proper class. </li>\n<li>Check if you have compiled proper class from your source.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2697927,"reputation":113,"user_id":2329450,"display_name":"prince"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479583266,"creation_date":1479583266,"answer_id":40696954,"question_id":35186,"body_markdown":"Above answer explains very well ..just to add one thing\r\nIf you are using using eclipse use ctrl+shift+T and enter package structure of class (e.g. : gateway.smpp.PDUEventListener ), you will find all jars/projects where it&#39;s present. Remove unnecessary jars from classpath or add above in class path. Now it will pick up correct one. \r\n  ","title":"How do I fix a NoSuchMethodError?","body":"<p>Above answer explains very well ..just to add one thing\nIf you are using using eclipse use ctrl+shift+T and enter package structure of class (e.g. : gateway.smpp.PDUEventListener ), you will find all jars/projects where it's present. Remove unnecessary jars from classpath or add above in class path. Now it will pick up correct one. </p>\n"},{"tags":[],"owner":{"account_id":11607068,"reputation":51,"user_id":8502408,"display_name":"Tito"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1503431730,"creation_date":1503431730,"answer_id":45825973,"question_id":35186,"body_markdown":"For me it happened because I changed argument type in function, from Object a, to String a. I could resolve it with clean and build again","title":"How do I fix a NoSuchMethodError?","body":"<p>For me it happened because I changed argument type in function, from Object a, to String a. I could resolve it with clean and build again</p>\n"},{"tags":[],"owner":{"account_id":10359554,"reputation":119,"user_id":7640451,"display_name":"Ryan Luo Xu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504855306,"creation_date":1504855306,"answer_id":46110829,"question_id":35186,"body_markdown":"I have just solved this error by restarting my Eclipse and run the applcation.\r\nThe reason for my case may because I replace my source files without closing my project or Eclipse.\r\nWhich caused different version of classes I was using.","title":"How do I fix a NoSuchMethodError?","body":"<p>I have just solved this error by restarting my Eclipse and run the applcation.\nThe reason for my case may because I replace my source files without closing my project or Eclipse.\nWhich caused different version of classes I was using.</p>\n"},{"tags":[],"owner":{"account_id":1565480,"reputation":582,"user_id":1454390,"accept_rate":100,"display_name":"AnonymousCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507720072,"creation_date":1507720072,"answer_id":46686696,"question_id":35186,"body_markdown":"I ran into similar issue.\r\n\r\n    Caused by: java.lang.NoSuchMethodError: com.abc.Employee.getEmpId()I\r\n\r\nFinally I identified the root cause was changing the data type of variable. \r\n\r\n1. `Employee.java` --&gt; Contains the variable (`EmpId`) whose Data Type has been changed from `int` to `String`.\r\n2. `ReportGeneration.java` --&gt; Retrieves the value using the getter, `getEmpId()`.\r\n\r\nWe are supposed to rebundle the jar by including only the modified classes. As there was no change in `ReportGeneration.java` I was only including the `Employee.class` in Jar file. I had to include the `ReportGeneration.class` file in the jar to solve the issue.","title":"How do I fix a NoSuchMethodError?","body":"<p>I ran into similar issue.</p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: com.abc.Employee.getEmpId()I\n</code></pre>\n\n<p>Finally I identified the root cause was changing the data type of variable. </p>\n\n<ol>\n<li><code>Employee.java</code> --> Contains the variable (<code>EmpId</code>) whose Data Type has been changed from <code>int</code> to <code>String</code>.</li>\n<li><code>ReportGeneration.java</code> --> Retrieves the value using the getter, <code>getEmpId()</code>.</li>\n</ol>\n\n<p>We are supposed to rebundle the jar by including only the modified classes. As there was no change in <code>ReportGeneration.java</code> I was only including the <code>Employee.class</code> in Jar file. I had to include the <code>ReportGeneration.class</code> file in the jar to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":7637556,"reputation":789,"user_id":5790669,"display_name":"Yash P Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517362980,"creation_date":1517362697,"answer_id":48533169,"question_id":35186,"body_markdown":"&gt; Most of the times java.lang.NoSuchMethodError is caught be compiler but sometimes it can occur at runtime. If this error occurs at runtime then the only reason could be the change in the class structure that made it incompatible.\r\n\r\nBest Explanation: https://www.journaldev.com/14538/java-lang-nosuchmethoderror","title":"How do I fix a NoSuchMethodError?","body":"<blockquote>\n  <p>Most of the times java.lang.NoSuchMethodError is caught be compiler but sometimes it can occur at runtime. If this error occurs at runtime then the only reason could be the change in the class structure that made it incompatible.</p>\n</blockquote>\n\n<p>Best Explanation: <a href=\"https://www.journaldev.com/14538/java-lang-nosuchmethoderror\" rel=\"nofollow noreferrer\">https://www.journaldev.com/14538/java-lang-nosuchmethoderror</a></p>\n"},{"tags":[],"owner":{"account_id":11878918,"reputation":51,"user_id":8693157,"display_name":"WHOIF"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524559911,"creation_date":1524559911,"answer_id":49997295,"question_id":35186,"body_markdown":"Try this way: remove all .class files under your project directories (and, of course, all subdirectories). Rebuild.\r\n\r\nSometimes `mvn clean` (if you are using maven) does not clean .class files manually created by `javac`. And those old files contain old signatures, leading to `NoSuchMethodError`.","title":"How do I fix a NoSuchMethodError?","body":"<p>Try this way: remove all .class files under your project directories (and, of course, all subdirectories). Rebuild.</p>\n\n<p>Sometimes <code>mvn clean</code> (if you are using maven) does not clean .class files manually created by <code>javac</code>. And those old files contain old signatures, leading to <code>NoSuchMethodError</code>.</p>\n"},{"tags":[],"owner":{"account_id":5365134,"reputation":61,"user_id":4289110,"display_name":"Mihai Savin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525450926,"creation_date":1525450926,"answer_id":50179330,"question_id":35186,"body_markdown":"I&#39;ve encountered this error too.\r\n\r\nMy problem was that I&#39;ve changed a method&#39;s signature, something like\r\n\r\n    void invest(Currency money){...}\r\n\r\ninto \r\n\r\n    void invest(Euro money){...}\r\n\r\nThis method was invoked from a context similar to\r\n\r\n    public static void main(String args[]) {\r\n        Bank myBank = new Bank();\r\n    \t\r\n    \tEuro capital = new Euro();\r\n        myBank.invest(capital);\r\n    }\r\n\r\nThe compiler was silent with regard to warnings/ errors, as capital is both Currency as well as Euro.\r\n\r\nThe problem appeared due to the fact that I only compiled the class in which the method was defined - Bank, but not the class from which the method is being called from, which contains the main() method.\r\n\r\nThis issue is not something you might encounter too often, as most frequently the project is rebuilt mannually or a Build action is triggered automatically, instead of just compiling the one modified class.\r\n\r\nMy usecase was that I generated a .jar file which was to be used as a hotfix, that did not contain the App.class as this was not modified. It made sense to me not to include it as I kept the initial argument&#39;s base class trough inheritance.\r\n\r\nThe thing is, when you compile a class, the resulting bytecode is kind of *static*, in other words, it&#39;s a *hard-reference*.\r\n\r\nThe original disassembled bytecode (generated with the javap tool) looks like this:\r\n\r\n     #7 = Methodref          #2.#22         // Bank.invest:(LCurrency;)V\r\n\r\nAfter the ClassLoader loads the new compiled Bank.class, it will not find such a method, it appears as if it was removed and not changed, thus the named error.\r\n\r\nHope this helps.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>I've encountered this error too.</p>\n\n<p>My problem was that I've changed a method's signature, something like</p>\n\n<pre><code>void invest(Currency money){...}\n</code></pre>\n\n<p>into </p>\n\n<pre><code>void invest(Euro money){...}\n</code></pre>\n\n<p>This method was invoked from a context similar to</p>\n\n<pre><code>public static void main(String args[]) {\n    Bank myBank = new Bank();\n\n    Euro capital = new Euro();\n    myBank.invest(capital);\n}\n</code></pre>\n\n<p>The compiler was silent with regard to warnings/ errors, as capital is both Currency as well as Euro.</p>\n\n<p>The problem appeared due to the fact that I only compiled the class in which the method was defined - Bank, but not the class from which the method is being called from, which contains the main() method.</p>\n\n<p>This issue is not something you might encounter too often, as most frequently the project is rebuilt mannually or a Build action is triggered automatically, instead of just compiling the one modified class.</p>\n\n<p>My usecase was that I generated a .jar file which was to be used as a hotfix, that did not contain the App.class as this was not modified. It made sense to me not to include it as I kept the initial argument's base class trough inheritance.</p>\n\n<p>The thing is, when you compile a class, the resulting bytecode is kind of <em>static</em>, in other words, it's a <em>hard-reference</em>.</p>\n\n<p>The original disassembled bytecode (generated with the javap tool) looks like this:</p>\n\n<pre><code> #7 = Methodref          #2.#22         // Bank.invest:(LCurrency;)V\n</code></pre>\n\n<p>After the ClassLoader loads the new compiled Bank.class, it will not find such a method, it appears as if it was removed and not changed, thus the named error.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13661595,"reputation":21,"user_id":9856495,"display_name":"Dave Inlow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527474938,"creation_date":1527474938,"answer_id":50558413,"question_id":35186,"body_markdown":"I fixed this problem in Eclipse by renaming a Junit test file.  \r\nIn my Eclipse work space I have an App project and a Test project.  \r\nThe Test project has the App project as a required project on the build path.  \r\n   \r\nStarted getting the NoSuchMethodError.  \r\nThen I realized the class in the Test project had the same name as the class in the App project.  \r\n\r\n    App/  \r\n      src/\r\n         com.example/  \r\n           Projection.java\r\n    Test/  \r\n      src/\r\n         com.example/\r\n           Projection.java\r\nAfter renaming the Test to the correct name &quot;ProjectionTest.java&quot; the exception went away.","title":"How do I fix a NoSuchMethodError?","body":"<p>I fixed this problem in Eclipse by renaming a Junit test file.<br>\nIn my Eclipse work space I have an App project and a Test project.<br>\nThe Test project has the App project as a required project on the build path.  </p>\n\n<p>Started getting the NoSuchMethodError.<br>\nThen I realized the class in the Test project had the same name as the class in the App project.  </p>\n\n<pre><code>App/  \n  src/\n     com.example/  \n       Projection.java\nTest/  \n  src/\n     com.example/\n       Projection.java\n</code></pre>\n\n<p>After renaming the Test to the correct name \"ProjectionTest.java\" the exception went away.</p>\n"},{"tags":[],"owner":{"account_id":1142179,"reputation":2647,"user_id":1125743,"accept_rate":35,"display_name":"K.K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537420122,"creation_date":1537420122,"answer_id":52417961,"question_id":35186,"body_markdown":"The problem in my case was having two versions of the same library in the build path. The older version of the library didn&#39;t have the function, and newer one did. ","title":"How do I fix a NoSuchMethodError?","body":"<p>The problem in my case was having two versions of the same library in the build path. The older version of the library didn't have the function, and newer one did. </p>\n"},{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537432865,"creation_date":1537432865,"answer_id":52420929,"question_id":35186,"body_markdown":"Just adding to existing answers. I was facing this issue with tomcat in eclipse. I had changed one class and did following steps,\r\n\r\n 1. Cleaned and built the project in eclpise\r\n \r\n 2. mvn clean install\r\n 3. Restarted tomcat\r\n\r\nStill I was facing same error. Then **I cleaned tomcat, cleaned tomcat working directory** and restarted server and my issue is gone.  Hope this helps someone\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>Just adding to existing answers. I was facing this issue with tomcat in eclipse. I had changed one class and did following steps,</p>\n\n<ol>\n<li><p>Cleaned and built the project in eclpise</p></li>\n<li><p>mvn clean install</p></li>\n<li>Restarted tomcat</li>\n</ol>\n\n<p>Still I was facing same error. Then <strong>I cleaned tomcat, cleaned tomcat working directory</strong> and restarted server and my issue is gone.  Hope this helps someone</p>\n"},{"tags":[],"owner":{"account_id":11226565,"reputation":71,"user_id":8236013,"display_name":"J.Orlando"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541667588,"creation_date":1541667588,"answer_id":53204368,"question_id":35186,"body_markdown":"I had a similar problem with my Gradle Project using Intelij.\r\nI solved it by deleting the .gradle (see screenshot below) Package and rebuilding the Project.\r\n[.gradle Package][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hWIL8.png","title":"How do I fix a NoSuchMethodError?","body":"<p>I had a similar problem with my Gradle Project using Intelij.\nI solved it by deleting the .gradle (see screenshot below) Package and rebuilding the Project.\n<a href=\"https://i.stack.imgur.com/hWIL8.png\" rel=\"nofollow noreferrer\">.gradle Package</a></p>\n"},{"tags":[],"owner":{"account_id":3543091,"reputation":807,"user_id":2959707,"display_name":"Shirish Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550473972,"creation_date":1550473972,"answer_id":54742067,"question_id":35186,"body_markdown":"NoSuchMethodError : I have spend couple of hours fixing this issue, finally fixed it by just renaming package name , clean and build ... Try clean build first if it doesn&#39;t works try renaming the class name or package name and clean build...it should be fixed. Good luck.","title":"How do I fix a NoSuchMethodError?","body":"<p>NoSuchMethodError : I have spend couple of hours fixing this issue, finally fixed it by just renaming package name , clean and build ... Try clean build first if it doesn't works try renaming the class name or package name and clean build...it should be fixed. Good luck.</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1554803573,"creation_date":1554759572,"answer_id":55582143,"question_id":35186,"body_markdown":"I had the same error:\r\n\r\n  \r\n\r\n      Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonGenerator.writeStartObject(Ljava/lang/Object;)V\r\n        \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:151)\r\n        \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:292)\r\n        \tat com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3681)\r\n        \tat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3057)\r\n\r\nTo solve it I checked, firstly, [Module Dependency Diagram][1] (`click in your POM the combination -&gt; Ctrl+Alt+Shift+U` or `right click in your POM -&gt; Maven -&gt; Show dependencies`) to understand where exactly was the conflict between libraries (Intelij IDEA). In my particular case, I had different versions of Jackson dependencies.\r\n\r\n[![enter image description here][2]][2] [![enter image description here][3]][3]\r\n\r\n1) So, I added directly in my POM of the project explicitly the highest version - 2.8.7 of these two.\r\n\r\nIn properties:\r\n\r\n    &lt;jackson.version&gt;2.8.7&lt;/jackson.version&gt;\r\n\r\nAnd as dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n2) But also it can be solved using [Dependency Exclusions][4].\r\n\r\nBy the same principle as below in example:\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;group-a&lt;/groupId&gt;\r\n          &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0&lt;/version&gt;\r\n              &lt;exclusions&gt;\r\n                 &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                 &lt;/exclusion&gt;\r\n             &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\r\nDependency with unwanted version will be excluded from your project.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/module-dependency-diagram.html\r\n  [2]: https://i.stack.imgur.com/bCXG4.jpg\r\n  [3]: https://i.stack.imgur.com/Tpz8j.jpg\r\n  [4]: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","title":"How do I fix a NoSuchMethodError?","body":"<p>I had the same error:</p>\n\n<pre><code>  Exception in thread \"main\" java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonGenerator.writeStartObject(Ljava/lang/Object;)V\n        at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:151)\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:292)\n        at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3681)\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3057)\n</code></pre>\n\n<p>To solve it I checked, firstly, <a href=\"https://www.jetbrains.com/help/idea/module-dependency-diagram.html\" rel=\"noreferrer\">Module Dependency Diagram</a> (<code>click in your POM the combination -&gt; Ctrl+Alt+Shift+U</code> or <code>right click in your POM -&gt; Maven -&gt; Show dependencies</code>) to understand where exactly was the conflict between libraries (Intelij IDEA). In my particular case, I had different versions of Jackson dependencies.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bCXG4.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bCXG4.jpg\" alt=\"enter image description here\"></a> <a href=\"https://i.stack.imgur.com/Tpz8j.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Tpz8j.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>1) So, I added directly in my POM of the project explicitly the highest version - 2.8.7 of these two.</p>\n\n<p>In properties:</p>\n\n<pre><code>&lt;jackson.version&gt;2.8.7&lt;/jackson.version&gt;\n</code></pre>\n\n<p>And as dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>2) But also it can be solved using <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"noreferrer\">Dependency Exclusions</a>.</p>\n\n<p>By the same principle as below in example:</p>\n\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;group-a&lt;/groupId&gt;\n      &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n          &lt;exclusions&gt;\n             &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n             &lt;/exclusion&gt;\n         &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Dependency with unwanted version will be excluded from your project.</p>\n"},{"tags":[],"owner":{"account_id":4504479,"reputation":2233,"user_id":3662213,"accept_rate":0,"display_name":"Gaurav Khare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561440897,"creation_date":1561378136,"answer_id":56736243,"question_id":35186,"body_markdown":"In my case I had a multi module project and scenario was like `com.xyz.TestClass` was in module `A` and as well as in module `B` and module `A` was dependent on module `B`. So while creating a assembly jar I think only one version of class was retained if that doesn&#39;t have the invoked method then I was getting `NoSuchMethodError` runtime exception, but compilation was fine.\r\n\r\nRelated : https://reflectoring.io/nosuchmethod/","title":"How do I fix a NoSuchMethodError?","body":"<p>In my case I had a multi module project and scenario was like <code>com.xyz.TestClass</code> was in module <code>A</code> and as well as in module <code>B</code> and module <code>A</code> was dependent on module <code>B</code>. So while creating a assembly jar I think only one version of class was retained if that doesn't have the invoked method then I was getting <code>NoSuchMethodError</code> runtime exception, but compilation was fine.</p>\n\n<p>Related : <a href=\"https://reflectoring.io/nosuchmethod/\" rel=\"nofollow noreferrer\">https://reflectoring.io/nosuchmethod/</a></p>\n"},{"tags":[],"owner":{"account_id":19900495,"reputation":11,"user_id":14580590,"display_name":"diplesh mankape"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1604563361,"creation_date":1604538835,"answer_id":64689842,"question_id":35186,"body_markdown":"One such instance where this error occurs:\r\nI happened to make a silly mistake of accessing private static member variables in a non static method. Changing the method to static solved the problem.","title":"How do I fix a NoSuchMethodError?","body":"<p>One such instance where this error occurs:\nI happened to make a silly mistake of accessing private static member variables in a non static method. Changing the method to static solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":7250079,"reputation":39,"user_id":5530721,"display_name":"Nachiket Doke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608707048,"creation_date":1608707048,"answer_id":65420248,"question_id":35186,"body_markdown":"I had faced the same issue. I changed the return type of one method and ran the test code of that one class. That is when I faced this `NoSuchMethodError`. As a solution, I ran the maven builds on the entire repository once, before running the test code again. The issue got resolved in the next single test run.","title":"How do I fix a NoSuchMethodError?","body":"<p>I had faced the same issue. I changed the return type of one method and ran the test code of that one class. That is when I faced this <code>NoSuchMethodError</code>. As a solution, I ran the maven builds on the entire repository once, before running the test code again. The issue got resolved in the next single test run.</p>\n"},{"tags":[],"owner":{"account_id":15511867,"reputation":111,"user_id":11190435,"display_name":"Cihat &#214;zdenoğlu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614081780,"creation_date":1614081780,"answer_id":66332755,"question_id":35186,"body_markdown":"Why anybody doesn&#39;t mention dependency conflicts? This common problem can be related to included dependency jars with different versions. \r\nDetailed explanation and solution: [https://dzone.com/articles/solving-dependency-conflicts-in-maven][1]\r\n\r\nShort answer;\r\n\r\nAdd this maven dependency;\r\n```xml\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n&lt;configuration&gt;\r\n    &lt;rules&gt;\r\n        &lt;dependencyConvergence /&gt;\r\n    &lt;/rules&gt;\r\n&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\nThen run this command;\r\n\r\n    mvn enforcer:enforce\r\n\r\nMaybe this is the cause your the issue you faced.\r\n\r\n  [1]: https://dzone.com/articles/solving-dependency-conflicts-in-maven","title":"How do I fix a NoSuchMethodError?","body":"<p>Why anybody doesn't mention dependency conflicts? This common problem can be related to included dependency jars with different versions.\nDetailed explanation and solution: <a href=\"https://dzone.com/articles/solving-dependency-conflicts-in-maven\" rel=\"noreferrer\">https://dzone.com/articles/solving-dependency-conflicts-in-maven</a></p>\n<p>Short answer;</p>\n<p>Add this maven dependency;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.0.0-M3&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;rules&gt;\n        &lt;dependencyConvergence /&gt;\n    &lt;/rules&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n<p>Then run this command;</p>\n<pre><code>mvn enforcer:enforce\n</code></pre>\n<p>Maybe this is the cause your the issue you faced.</p>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632982631,"creation_date":1632982631,"answer_id":69387076,"question_id":35186,"body_markdown":"For me, none of the workarounds mentioned here did not work. \r\n&gt; Updating `mockito-core` from `3.3.3` to `3.4.3` fixed the problem.\r\n\r\nI think it is caused by that MockitoAnnotations.initMock() method is deprecated and replaced with MockitoAnnotations.openMocks() in Mockito JUnit 5 version 3. \r\n\r\nOn the other hand, it may be worthy to check the local Maven Repository and delete unnecessary jars that may cause conflict. But when applying this step, be attention and don&#39;t delete manually installed ones (or get backup before the operation).","title":"How do I fix a NoSuchMethodError?","body":"<p>For me, none of the workarounds mentioned here did not work.</p>\n<blockquote>\n<p>Updating <code>mockito-core</code> from <code>3.3.3</code> to <code>3.4.3</code> fixed the problem.</p>\n</blockquote>\n<p>I think it is caused by that MockitoAnnotations.initMock() method is deprecated and replaced with MockitoAnnotations.openMocks() in Mockito JUnit 5 version 3.</p>\n<p>On the other hand, it may be worthy to check the local Maven Repository and delete unnecessary jars that may cause conflict. But when applying this step, be attention and don't delete manually installed ones (or get backup before the operation).</p>\n"},{"tags":[],"owner":{"account_id":9136294,"reputation":186,"user_id":6795887,"accept_rate":0,"display_name":"Neo Sono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665874020,"creation_date":1665874020,"answer_id":74083527,"question_id":35186,"body_markdown":"For my case. I had to check other referenced methods. I needed to change the method signature everywhere to be the same as newly updated method signature.\r\n\r\nFor example, changing the return type of a particular method from collection to an array list. ","title":"How do I fix a NoSuchMethodError?","body":"<p>For my case. I had to check other referenced methods. I needed to change the method signature everywhere to be the same as newly updated method signature.</p>\n<p>For example, changing the return type of a particular method from collection to an array list.</p>\n"},{"tags":[],"owner":{"account_id":19477607,"reputation":241,"user_id":14248700,"display_name":"Mattias Inokuchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689776915,"creation_date":1689776915,"answer_id":76722400,"question_id":35186,"body_markdown":"I solved the problem when using Quarkus by removing the target-folder and restart the program.","title":"How do I fix a NoSuchMethodError?","body":"<p>I solved the problem when using Quarkus by removing the target-folder and restart the program.</p>\n"}],"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546810,"favorite_count":0,"down_vote_count":8,"up_vote_count":241,"accepted_answer_id":35210,"answer_count":33,"score":233,"last_activity_date":1689776915,"creation_date":1220040267,"question_id":35186,"body_markdown":"I&#39;m getting a `NoSuchMethodError` error when running my Java program.  What&#39;s wrong and how do I fix it?","title":"How do I fix a NoSuchMethodError?","body":"<p>I'm getting a <code>NoSuchMethodError</code> error when running my Java program.  What's wrong and how do I fix it?</p>\n"},{"tags":["java","mapreduce","java-8","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":1,"up_vote_count":507,"is_accepted":true,"score":506,"last_activity_date":1444143333,"creation_date":1411006877,"answer_id":25903190,"question_id":25903137,"body_markdown":"    Map&lt;String, String&gt; x;\r\n    Map&lt;String, Integer&gt; y =\r\n        x.entrySet().stream()\r\n            .collect(Collectors.toMap(\r\n                e -&gt; e.getKey(),\r\n                e -&gt; Integer.parseInt(e.getValue())\r\n            ));\r\n\r\nIt&#39;s not quite as nice as the list code. You can&#39;t construct new `Map.Entry`s in a `map()` call so the work is mixed into the `collect()` call.","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<pre><code>Map&lt;String, String&gt; x;\nMap&lt;String, Integer&gt; y =\n    x.entrySet().stream()\n        .collect(Collectors.toMap(\n            e -&gt; e.getKey(),\n            e -&gt; Integer.parseInt(e.getValue())\n        ));\n</code></pre>\n\n<p>It's not quite as nice as the list code. You can't construct new <code>Map.Entry</code>s in a <code>map()</code> call so the work is mixed into the <code>collect()</code> call.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1689776787,"creation_date":1411007031,"answer_id":25903212,"question_id":25903137,"body_markdown":"A generic solution like so\r\n\r\n\tpublic static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;X, Y&gt; input,\r\n\t\t\tFunction&lt;Y, Z&gt; function) {\r\n\t\treturn input\r\n\t\t\t\t.entrySet()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(\r\n\t\t\t\t\t\tCollectors.toMap((entry) -&gt; entry.getKey(),\r\n\t\t\t\t\t\t\t\t(entry) -&gt; function.apply(entry.getValue())));\r\n\t}\r\n\r\nUsed like so\r\n\r\n\tMap&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\r\n\tinput.put(&quot;string1&quot;, &quot;42&quot;);\r\n\tinput.put(&quot;string2&quot;, &quot;41&quot;);\r\n\tMap&lt;String, Integer&gt; output = transform(input,\r\n\t\t\t\t(val) -&gt; Integer.parseInt(val));\r\n\r\n","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>A generic solution like so</p>\n<pre><code>public static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;X, Y&gt; input,\n        Function&lt;Y, Z&gt; function) {\n    return input\n            .entrySet()\n            .stream()\n            .collect(\n                    Collectors.toMap((entry) -&gt; entry.getKey(),\n                            (entry) -&gt; function.apply(entry.getValue())));\n}\n</code></pre>\n<p>Used like so</p>\n<pre><code>Map&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\ninput.put(&quot;string1&quot;, &quot;42&quot;);\ninput.put(&quot;string2&quot;, &quot;41&quot;);\nMap&lt;String, Integer&gt; output = transform(input,\n            (val) -&gt; Integer.parseInt(val));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1411020011,"creation_date":1411020011,"answer_id":25905196,"question_id":25903137,"body_markdown":"Here are some variations on [Sotirios Delimanolis&#39; answer][1], which was pretty good to begin with (+1). Consider the following:\r\n\r\n    static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;? extends X, ? extends Y&gt; input,\r\n                                         Function&lt;Y, Z&gt; function) {\r\n        return input.keySet().stream()\r\n            .collect(Collectors.toMap(Function.identity(),\r\n                                      key -&gt; function.apply(input.get(key))));\r\n    }\r\n\r\nA couple points here. First is the use of wildcards in the generics; this makes the function somewhat more flexible. A wildcard would be necessary if, for example, you wanted the output map to have a key that&#39;s a superclass of the input map&#39;s key:\r\n\r\n    Map&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\r\n    input.put(&quot;string1&quot;, &quot;42&quot;);\r\n    input.put(&quot;string2&quot;, &quot;41&quot;);\r\n    Map&lt;CharSequence, Integer&gt; output = transform(input, Integer::parseInt);\r\n\r\n(There is also an example for the map&#39;s values, but it&#39;s really contrived, and I admit that having the bounded wildcard for Y only helps in edge cases.)\r\n\r\nA second point is that instead of running the stream over the input map&#39;s `entrySet`, I ran it over the `keySet`. This makes the code a little cleaner, I think, at the cost of having to fetch values out of the map instead of from the map entry. Incidentally, I initially had `key -&gt; key` as the first argument to `toMap()` and this failed with a type inference error for some reason. Changing it to `(X key) -&gt; key` worked, as did `Function.identity()`.\r\n\r\nStill another variation is as follows:\r\n\r\n    static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform1(Map&lt;? extends X, ? extends Y&gt; input,\r\n                                          Function&lt;Y, Z&gt; function) {\r\n        Map&lt;X, Z&gt; result = new HashMap&lt;&gt;();\r\n        input.forEach((k, v) -&gt; result.put(k, function.apply(v)));\r\n        return result;\r\n    }\r\n\r\nThis uses `Map.forEach()` instead of streams. This is even simpler, I think, because it dispenses with the collectors, which are somewhat clumsy to use with maps. The reason is that `Map.forEach()` gives the key and value as separate parameters, whereas the stream has only one value -- and you have to choose whether to use the key or the map entry as that value. On the minus side, this lacks the rich, streamy goodness of the other approaches. :-)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25903212/1441122","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Here are some variations on <a href=\"https://stackoverflow.com/a/25903212/1441122\">Sotirios Delimanolis' answer</a>, which was pretty good to begin with (+1). Consider the following:</p>\n\n<pre><code>static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;? extends X, ? extends Y&gt; input,\n                                     Function&lt;Y, Z&gt; function) {\n    return input.keySet().stream()\n        .collect(Collectors.toMap(Function.identity(),\n                                  key -&gt; function.apply(input.get(key))));\n}\n</code></pre>\n\n<p>A couple points here. First is the use of wildcards in the generics; this makes the function somewhat more flexible. A wildcard would be necessary if, for example, you wanted the output map to have a key that's a superclass of the input map's key:</p>\n\n<pre><code>Map&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\ninput.put(\"string1\", \"42\");\ninput.put(\"string2\", \"41\");\nMap&lt;CharSequence, Integer&gt; output = transform(input, Integer::parseInt);\n</code></pre>\n\n<p>(There is also an example for the map's values, but it's really contrived, and I admit that having the bounded wildcard for Y only helps in edge cases.)</p>\n\n<p>A second point is that instead of running the stream over the input map's <code>entrySet</code>, I ran it over the <code>keySet</code>. This makes the code a little cleaner, I think, at the cost of having to fetch values out of the map instead of from the map entry. Incidentally, I initially had <code>key -&gt; key</code> as the first argument to <code>toMap()</code> and this failed with a type inference error for some reason. Changing it to <code>(X key) -&gt; key</code> worked, as did <code>Function.identity()</code>.</p>\n\n<p>Still another variation is as follows:</p>\n\n<pre><code>static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform1(Map&lt;? extends X, ? extends Y&gt; input,\n                                      Function&lt;Y, Z&gt; function) {\n    Map&lt;X, Z&gt; result = new HashMap&lt;&gt;();\n    input.forEach((k, v) -&gt; result.put(k, function.apply(v)));\n    return result;\n}\n</code></pre>\n\n<p>This uses <code>Map.forEach()</code> instead of streams. This is even simpler, I think, because it dispenses with the collectors, which are somewhat clumsy to use with maps. The reason is that <code>Map.forEach()</code> gives the key and value as separate parameters, whereas the stream has only one value -- and you have to choose whether to use the key or the map entry as that value. On the minus side, this lacks the rich, streamy goodness of the other approaches. :-)</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1689759568,"creation_date":1452116339,"answer_id":34643302,"question_id":25903137,"body_markdown":"Does it absolutely have to be 100% functional and fluent? If not, how about this, which is about as short as it gets:\r\n\r\n    Map&lt;String, Integer&gt; output = new HashMap&lt;&gt;();\r\n    input.forEach((k, v) -&gt; output.put(k, Integer.valueOf(v));\r\n","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Does it absolutely have to be 100% functional and fluent? If not, how about this, which is about as short as it gets:</p>\n<pre><code>Map&lt;String, Integer&gt; output = new HashMap&lt;&gt;();\ninput.forEach((k, v) -&gt; output.put(k, Integer.valueOf(v));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1454043124,"creation_date":1454043124,"answer_id":35077129,"question_id":25903137,"body_markdown":"My [StreamEx](https://github.com/amaembo/streamex) library which enhances standard stream API provides an [`EntryStream`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/EntryStream.html) class which suits better for transforming maps:\r\n\r\n    Map&lt;String, Integer&gt; output = EntryStream.of(input).mapValues(Integer::valueOf).toMap();","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>My <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> library which enhances standard stream API provides an <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/EntryStream.html\" rel=\"nofollow noreferrer\"><code>EntryStream</code></a> class which suits better for transforming maps:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = EntryStream.of(input).mapValues(Integer::valueOf).toMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1456231522,"creation_date":1456228739,"answer_id":35577034,"question_id":25903137,"body_markdown":"If you don&#39;t mind using 3rd party libraries, my [cyclops-react][1] lib has extensions for all [JDK Collection][2] types, including [Map][3]. We can just transform the map directly using the &#39;map&#39; operator (by default map acts on the values in the map).\r\n\r\n       MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(&quot;hello&quot;,&quot;1&quot;))\r\n                                    .map(Integer::parseInt);\r\n\r\n\r\nbimap can be used to transform the keys and values at the same time\r\n\r\n      MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(&quot;hello&quot;,&quot;1&quot;))\r\n                                   .bimap(this::newKey,Integer::parseInt);\r\n\r\n \r\n\r\n  [1]: https://github.com/aol/cyclops-react\r\n  [2]: https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\r\n  [3]: http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/MapX.html","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>If you don't mind using 3rd party libraries, my <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> lib has extensions for all <a href=\"https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\" rel=\"nofollow\">JDK Collection</a> types, including <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/MapX.html\" rel=\"nofollow\">Map</a>. We can just transform the map directly using the 'map' operator (by default map acts on the values in the map).</p>\n\n<pre><code>   MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(\"hello\",\"1\"))\n                                .map(Integer::parseInt);\n</code></pre>\n\n<p>bimap can be used to transform the keys and values at the same time</p>\n\n<pre><code>  MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(\"hello\",\"1\"))\n                               .bimap(this::newKey,Integer::parseInt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3176681,"reputation":754,"user_id":3299647,"display_name":"Ira"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1466909975,"creation_date":1466908758,"answer_id":38034761,"question_id":25903137,"body_markdown":"An alternative that always exists for learning purpose is to build your custom collector through Collector.of() though toMap() JDK collector here is succinct (+1 [here][1]) .\r\n\r\n    Map&lt;String,Integer&gt; newMap = givenMap.\r\n                    entrySet().\r\n                    stream().collect(Collector.of\r\n                   ( ()-&gt; new HashMap&lt;String,Integer&gt;(),\r\n                           (mutableMap,entryItem)-&gt; mutableMap.put(entryItem.getKey(),Integer.parseInt(entryItem.getValue())),\r\n                           (map1,map2)-&gt;{ map1.putAll(map2); return map1;}\r\n                   ));\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25903190/3299647","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>An alternative that always exists for learning purpose is to build your custom collector through Collector.of() though toMap() JDK collector here is succinct (+1 <a href=\"https://stackoverflow.com/a/25903190/3299647\">here</a>) .</p>\n\n<pre><code>Map&lt;String,Integer&gt; newMap = givenMap.\n                entrySet().\n                stream().collect(Collector.of\n               ( ()-&gt; new HashMap&lt;String,Integer&gt;(),\n                       (mutableMap,entryItem)-&gt; mutableMap.put(entryItem.getKey(),Integer.parseInt(entryItem.getValue())),\n                       (map1,map2)-&gt;{ map1.putAll(map2); return map1;}\n               ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1115422,"reputation":9623,"user_id":1104870,"accept_rate":70,"display_name":"Alex Krauss"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1499293153,"creation_date":1499293153,"answer_id":44936883,"question_id":25903137,"body_markdown":"Guava&#39;s function [`Maps.transformValues`][1] is what you are looking for, and it works nicely with lambda expressions:\r\n\r\n    Maps.transformValues(originalMap, val -&gt; ...)\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#transformValues-java.util.Map-com.google.common.base.Function-","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Guava's function <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#transformValues-java.util.Map-com.google.common.base.Function-\" rel=\"noreferrer\"><code>Maps.transformValues</code></a> is what you are looking for, and it works nicely with lambda expressions:</p>\n\n<pre><code>Maps.transformValues(originalMap, val -&gt; ...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245024,"reputation":177,"user_id":1937041,"display_name":"Breton F."},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672884618,"creation_date":1518267720,"answer_id":48721070,"question_id":25903137,"body_markdown":"A declarative and simpler Java8+ solution would be : \r\n\r\nyourMap.replaceAll((key, val) -&gt; computeNewVal); \r\n\r\nCheers to :\r\nhttp://www.deadcoderising.com/2017-02-14-java-8-declarative-ways-of-modifying-a-map-using-compute-merge-and-replace/","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>A declarative and simpler Java8+ solution would be :</p>\n<p>yourMap.replaceAll((key, val) -&gt; computeNewVal);</p>\n<p>Cheers to :\n<a href=\"http://www.deadcoderising.com/2017-02-14-java-8-declarative-ways-of-modifying-a-map-using-compute-merge-and-replace/\" rel=\"nofollow noreferrer\">http://www.deadcoderising.com/2017-02-14-java-8-declarative-ways-of-modifying-a-map-using-compute-merge-and-replace/</a></p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672831096,"creation_date":1672830746,"answer_id":75004577,"question_id":25903137,"body_markdown":"Although it is possible to remap the key or/and value in the `collect` part of the stream as shown in other answers, I think it should belong in the `map` part as that function is designed to transform the data within the stream. Next to that it should be easily repeatable without introducing additional complexity. The `SimpleEntry` object can be used which is already available since Java 6.\r\n\r\n**With Java 8**\r\n```java\r\nimport java.util.AbstractMap.SimpleEntry;\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; x;\r\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\r\n                .map(entry -&gt; new SimpleEntry&lt;&gt;(entry.getKey(), Integer.parseInt(entry.getValue())))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n    }\r\n\r\n}\r\n```\r\n\r\n**With Java 9+**\r\n\r\nWith the release of Java 9 a static method within the Map interface was introduced to make it easier to just create an entry without to instantiate a new SimpleEntry as shown in the previous example.\r\n\r\n```java\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; x;\r\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\r\n                .map(entry -&gt; Map.entry((entry.getKey(), Integer.parseInt(entry.getValue())))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n    }\r\n\r\n}\r\n```","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Although it is possible to remap the key or/and value in the <code>collect</code> part of the stream as shown in other answers, I think it should belong in the <code>map</code> part as that function is designed to transform the data within the stream. Next to that it should be easily repeatable without introducing additional complexity. The <code>SimpleEntry</code> object can be used which is already available since Java 6.</p>\n<p><strong>With Java 8</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.AbstractMap.SimpleEntry;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; x;\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\n                .map(entry -&gt; new SimpleEntry&lt;&gt;(entry.getKey(), Integer.parseInt(entry.getValue())))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n    }\n\n}\n</code></pre>\n<p><strong>With Java 9+</strong></p>\n<p>With the release of Java 9 a static method within the Map interface was introduced to make it easier to just create an entry without to instantiate a new SimpleEntry as shown in the previous example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; x;\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\n                .map(entry -&gt; Map.entry((entry.getKey(), Integer.parseInt(entry.getValue())))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256313,"favorite_count":0,"down_vote_count":0,"up_vote_count":283,"accepted_answer_id":25903190,"answer_count":10,"score":283,"last_activity_date":1689776787,"creation_date":1411006443,"question_id":25903137,"body_markdown":"I know how to &quot;transform&quot; a simple Java `List` from `Y` -&gt; `Z`, i.e.:\r\n\r\n    List&lt;String&gt; x;\r\n\tList&lt;Integer&gt; y = x.stream()\r\n            .map(s -&gt; Integer.parseInt(s))\r\n            .collect(Collectors.toList());\r\n\r\nNow I&#39;d like to do basically the same with a Map, i.e.:\r\n\r\n    INPUT:\r\n    {\r\n      &quot;key1&quot; -&gt; &quot;41&quot;,    // &quot;41&quot; and &quot;42&quot;\r\n      &quot;key2&quot; -&gt; &quot;42&quot;      // are Strings\r\n    }\r\n\r\n    OUTPUT:\r\n    {\r\n      &quot;key1&quot; -&gt; 41,      // 41 and 42\r\n      &quot;key2&quot; -&gt; 42       // are Integers\r\n    }\r\n\r\nThe solution should not be limited to `String` -&gt; `Integer`. Just like in the `List` example above, I&#39;d like to call any method (or constructor).","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>I know how to &quot;transform&quot; a simple Java <code>List</code> from <code>Y</code> -&gt; <code>Z</code>, i.e.:</p>\n<pre><code>List&lt;String&gt; x;\nList&lt;Integer&gt; y = x.stream()\n        .map(s -&gt; Integer.parseInt(s))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Now I'd like to do basically the same with a Map, i.e.:</p>\n<pre><code>INPUT:\n{\n  &quot;key1&quot; -&gt; &quot;41&quot;,    // &quot;41&quot; and &quot;42&quot;\n  &quot;key2&quot; -&gt; &quot;42&quot;      // are Strings\n}\n\nOUTPUT:\n{\n  &quot;key1&quot; -&gt; 41,      // 41 and 42\n  &quot;key2&quot; -&gt; 42       // are Integers\n}\n</code></pre>\n<p>The solution should not be limited to <code>String</code> -&gt; <code>Integer</code>. Just like in the <code>List</code> example above, I'd like to call any method (or constructor).</p>\n"},{"tags":["java","oracle","jdbc","oracle12c"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1689774050,"post_id":76721855,"comment_id":135261027,"body_markdown":"`withReturnValue()`. Your procedure doesn&#39;t have return value.","body":"<code>withReturnValue()</code>. Your procedure doesn&#39;t have return value."},{"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"score":0,"creation_date":1689774751,"post_id":76721855,"comment_id":135261225,"body_markdown":"Thank you for the answer, I thought, taht out parameters are exatly the return value. However. In this case JDBC doesn&#39;t close the transaction and I get another exception: `ORA-06519: Aktive lokale Transaktion erkannt und Rollback durchgef&#252;hrt`. Is there any way to tell JDBC to close transaction after call without having to return values out of the function?","body":"Thank you for the answer, I thought, taht out parameters are exatly the return value. However. In this case JDBC doesn&#39;t close the transaction and I get another exception: <code>ORA-06519: Aktive lokale Transaktion erkannt und Rollback durchgef&#252;hrt</code>. Is there any way to tell JDBC to close transaction after call without having to return values out of the function?"}],"answers":[{"tags":[],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689776754,"creation_date":1689776754,"answer_id":76722374,"question_id":76721855,"body_markdown":"As correctly pointed by [talex][1], this procedure doesn&#39;t return anything, so `withReturnValue()` is not applicable here. However, without it you&#39;ll gonna get `ORA-06519` error, indicating, that there is an open transaction. The reason of it is the sql statement I provided. `EXECUTE IMMEDIATE` is only applicable to the DDL queries, where `DELETE` does not belong to, unlike `TRUNCATE`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3656904/talex","title":"Jdbc loses parameter while calling Oracle stored procedure","body":"<p>As correctly pointed by <a href=\"https://stackoverflow.com/users/3656904/talex\">talex</a>, this procedure doesn't return anything, so <code>withReturnValue()</code> is not applicable here. However, without it you'll gonna get <code>ORA-06519</code> error, indicating, that there is an open transaction. The reason of it is the sql statement I provided. <code>EXECUTE IMMEDIATE</code> is only applicable to the DDL queries, where <code>DELETE</code> does not belong to, unlike <code>TRUNCATE</code>.</p>\n"}],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689776754,"creation_date":1689773286,"question_id":76721855,"body_markdown":"I have following jdbcCall:\r\n\r\n    SimpleJdbcCall simpleJdbcCall = simpleJdbcCallFactory.create()\r\n                    .withProcedureName(&quot;MY_PROCEDURE&quot;)\r\n                    .withReturnValue()\r\n                    .withoutProcedureColumnMetaDataAccess()\r\n                    .declareParameters(new SqlOutParameter(&quot;TAB1_CNT&quot;, Types.NUMERIC),\r\n                            new SqlOutParameter(&quot;TAB2_CNT&quot;, Types.NUMERIC));\r\n    simpleJdbcCall.execute();\r\n\r\nIt should call the following stored procedure:\r\n\r\n    create or replace NONEDITIONABLE PROCEDURE  (\r\n        TAB1_CNT            OUT NUMBER,\r\n        TAB2_CNT            OUT NUMBER\r\n    ) IS\r\n        PRAGMA AUTONOMOUS_TRANSACTION;\r\n    BEGIN\r\n        select count(*) into TAB1_CNT from TAB_ONE;\r\n        EXECUTE IMMEDIATE &#39;TRUNCATE TABLE TAB_ONE&#39;;\r\n        select count(*) into TAB2_CNT from TAB_TWO;\r\n        EXECUTE IMMEDIATE &#39;DELETE FROM TAB_TWO&#39;;\r\n    END;\r\n\r\nThe function is working, if called via SQL, however, `simpleJdbcCall.execute()` throws following exception:\r\n\r\n    org.springframework.jdbc.BadSqlGrammarException: CallableStatementCallback; bad SQL grammar [{? = call MY_PROCEDURE(?)}];\r\n\r\nWhy doesn&#39;t jdbc pass both parameters, and what is my mistake here?","title":"Jdbc loses parameter while calling Oracle stored procedure","body":"<p>I have following jdbcCall:</p>\n<pre><code>SimpleJdbcCall simpleJdbcCall = simpleJdbcCallFactory.create()\n                .withProcedureName(&quot;MY_PROCEDURE&quot;)\n                .withReturnValue()\n                .withoutProcedureColumnMetaDataAccess()\n                .declareParameters(new SqlOutParameter(&quot;TAB1_CNT&quot;, Types.NUMERIC),\n                        new SqlOutParameter(&quot;TAB2_CNT&quot;, Types.NUMERIC));\nsimpleJdbcCall.execute();\n</code></pre>\n<p>It should call the following stored procedure:</p>\n<pre><code>create or replace NONEDITIONABLE PROCEDURE  (\n    TAB1_CNT            OUT NUMBER,\n    TAB2_CNT            OUT NUMBER\n) IS\n    PRAGMA AUTONOMOUS_TRANSACTION;\nBEGIN\n    select count(*) into TAB1_CNT from TAB_ONE;\n    EXECUTE IMMEDIATE 'TRUNCATE TABLE TAB_ONE';\n    select count(*) into TAB2_CNT from TAB_TWO;\n    EXECUTE IMMEDIATE 'DELETE FROM TAB_TWO';\nEND;\n</code></pre>\n<p>The function is working, if called via SQL, however, <code>simpleJdbcCall.execute()</code> throws following exception:</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException: CallableStatementCallback; bad SQL grammar [{? = call MY_PROCEDURE(?)}];\n</code></pre>\n<p>Why doesn't jdbc pass both parameters, and what is my mistake here?</p>\n"},{"tags":["java","android","mysql","arrays","database"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1461761404,"post_id":36890312,"comment_id":61344954,"body_markdown":"Problem is in `JourAdapteur.getView(JourAdapteur.java:41)` where you&#39;re calling `setText(int)` that expects a resource id and not a literal integer value.","body":"Problem is in <code>JourAdapteur.getView(JourAdapteur.java:41)</code> where you&#39;re calling <code>setText(int)</code> that expects a resource id and not a literal integer value."},{"owner":{"account_id":8304584,"reputation":149,"user_id":6242134,"display_name":"Programmer"},"score":0,"creation_date":1461761717,"post_id":36890312,"comment_id":61345189,"body_markdown":"@laalto I added the JourAdapteur class | java:41 --&gt;         lblMin.setText(jour.getmTempMin());","body":"@laalto I added the JourAdapteur class | java:41 --&gt;         lblMin.setText(jour.getmTempMin());"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1461761907,"creation_date":1461761907,"answer_id":36890569,"question_id":36890312,"body_markdown":"    lblMin.setText(jour.getmTempMin());\r\n    lblMax.setText(jour.getmTempMax());\r\n\r\nYou&#39;re calling `setText(int)` that expects a resource id. To use `setText(CharSequence)` instead, you can change the code to e.g.\r\n\r\n    lblMin.setText(String.valueOf(jour.getmTempMin()));\r\n    lblMax.setText(String.valueOf(jour.getmTempMax()));","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<pre><code>lblMin.setText(jour.getmTempMin());\nlblMax.setText(jour.getmTempMax());\n</code></pre>\n\n<p>You're calling <code>setText(int)</code> that expects a resource id. To use <code>setText(CharSequence)</code> instead, you can change the code to e.g.</p>\n\n<pre><code>lblMin.setText(String.valueOf(jour.getmTempMin()));\nlblMax.setText(String.valueOf(jour.getmTempMax()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2603025,"reputation":71,"user_id":2254873,"display_name":"Teju Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604686575,"creation_date":1604675436,"answer_id":64717124,"question_id":36890312,"body_markdown":"You need to use a String. This worked for me:\r\n\r\n    lblMin.setText(Integer.toString(jour.getmTempMin()))","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<p>You need to use a String. This worked for me:</p>\n<pre><code>lblMin.setText(Integer.toString(jour.getmTempMin()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19308580,"reputation":1,"user_id":14114865,"display_name":"Charchit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689776554,"creation_date":1689776124,"answer_id":76722282,"question_id":36890312,"body_markdown":"This would also work because the passed parameter should be string\r\nand when we use + operator in java it will convert the statement into\r\nstring.\r\n\r\n```\r\n lblMin.setText(&quot;&quot;+jour.getmTempMin());\r\n```","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<p>This would also work because the passed parameter should be string\nand when we use + operator in java it will convert the statement into\nstring.</p>\n<pre><code> lblMin.setText(&quot;&quot;+jour.getmTempMin());\n</code></pre>\n"}],"owner":{"account_id":8304584,"reputation":149,"user_id":6242134,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10391,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36890569,"answer_count":3,"score":6,"last_activity_date":1689776554,"creation_date":1461761302,"question_id":36890312,"body_markdown":"When I try to test my app, I get an error.\r\n\r\n&gt; FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 12261\r\n&gt; android.content.res.Resources$NotFoundException: String resource ID #0x2\r\n\r\nHere&#39;s my code\r\n==============\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {    \r\n        private Spinner spinnerVille;\r\n        private TextView ville;\r\n        private ListView lstJours;\r\n        int posVille = 0;    \r\n    \r\n        // Les items\r\n        private ArrayList&lt;Jour&gt; mJours = new ArrayList&lt;Jour&gt;();\r\n    \r\n        // L&#39;adapteur\r\n        private JourAdapteur mJoursAdapteur;\r\n    \r\n        private List&lt;MeteoJour&gt; meteojours;\r\n    \r\n        public static final int REQUEST_TEXT = 0;\r\n        public int laPosition = 0;\r\n        /**\r\n         * ATTENTION: This was auto-generated to implement the App Indexing API.\r\n         * See https://g.co/AppIndexing/AndroidStudio for more information.\r\n         */\r\n        private GoogleApiClient client;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            final DatabaseHandler db = new DatabaseHandler(this);    \r\n    \r\n            Log.d(&quot;Insert: &quot;, &quot;Inserting ..&quot;);\r\n            /*db.addMeteoJours(new MeteoJour(1, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(2, -1, 3, -4, 5, &quot;NO&quot;, 8, 30, 0, 2));\r\n            db.addMeteoJours(new MeteoJour(3, 2, 6, 1, 2, &quot;SO&quot;, 8, 20, 2, 0));\r\n            db.addMeteoJours(new MeteoJour(4, 3, 6, 3, 10, &quot;SE&quot;, 8, 0, 0, 0));\r\n            db.addMeteoJours(new MeteoJour(5, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));\r\n            db.addMeteoJours(new MeteoJour(6, 4, 7, 5, 0, &quot;O&quot;, 8, 0, 0, 0));\r\n            db.addMeteoJours(new MeteoJour(7, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(8, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));;\r\n            db.addMeteoJours(new MeteoJour(9, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(10, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(11, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(12, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(13, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(14, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(15, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));\r\n            db.addMeteoJours(new MeteoJour(16, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(17, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(18, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));\r\n            db.addMeteoJours(new MeteoJour(19, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(20, 2, 5, -2, 10, &quot;SO&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(21, -1, 3, -4, 5, &quot;NO&quot;, 9, 30, 0, 2));\r\n            db.addMeteoJours(new MeteoJour(22, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(23, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(24, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(25, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(26, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(27, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(28, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(29, 2, 6, 1, 2, &quot;SO&quot;, 9, 20, 2, 0));\r\n            db.addMeteoJours(new MeteoJour(30, 3, 6, 3, 10, &quot;SE&quot;, 9, 0, 0, 0));\r\n            db.addMeteoJours(new MeteoJour(31, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(32, 7, 10, 10, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(33, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(34, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(35, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));*/\r\n            // Reading all contacts\r\n            Log.d(&quot;Reading: &quot;, &quot;Reading all meteojours..&quot;);\r\n            //final List&lt;Contact&gt; contacts = db.getAllContacts();\r\n            meteojours = db.getAllMeteoJours();\r\n    \r\n            for (MeteoJour cn : meteojours) {\r\n                mJours.add(new Jour((String.valueOf(cn.get_id()) + &quot; Mars 2016&quot;), cn.get_minimum(), cn.get_maximum()));\r\n                String log = &quot;Id: &quot; + cn.get_id() + &quot; ,Minimum: &quot; + cn.get_minimum() + &quot; ,Maximum: &quot; + cn.get_maximum();\r\n                // Writing to log\r\n                Log.d(&quot;Name: &quot;, log);\r\n            }    \r\n    \r\n            spinnerVille = (Spinner) findViewById(R.id.spinnerVille);\r\n            ville = (TextView) findViewById(R.id.Ville);\r\n            lstJours = (ListView) findViewById(R.id.lstJours);    \r\n    \r\n            // Adapteur\r\n            //mHerosAdapteur = new HeroAdapteur(this, MonSingleton.getInstance().getHeros());\r\n            mJoursAdapteur = new JourAdapteur(this, mJours);\r\n    \r\n            // Assigner l&#39;adapteur &#224; la liste\r\n            lstJours.setAdapter(mJoursAdapteur);    \r\n    \r\n            // Create an ArrayAdapter using the string array and a default spinner layout\r\n            ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,\r\n                    R.array.villes, android.R.layout.simple_spinner_item);\r\n            // Specify the layout to use when the list of choices appears\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinnerVille.setAdapter(adapter);\r\n    \r\n            spinnerVille.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapter, View v, int position, long id) {\r\n    \r\n                    switch (position) {\r\n                        case 0:\r\n                            ville.setText(&quot;Gatineau&quot;);\r\n                            posVille = 0;\r\n                            break;\r\n                        case 1:\r\n                            ville.setText(&quot;Trois-Rivi&#232;re&quot;);\r\n                            posVille = 1;\r\n                            break;\r\n                        case 2:\r\n                            ville.setText(&quot;Montr&#233;al&quot;);\r\n                            posVille = 2;\r\n                            break;\r\n                        case 3:\r\n                            ville.setText(&quot;Sherbrooke&quot;);\r\n                            posVille = 3;\r\n                            break;\r\n                        case 4:\r\n                            ville.setText(&quot;Alma&quot;);\r\n                            posVille = 4;\r\n                            break;\r\n                    }    \r\n                }\r\n    \r\n                public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n                    // Another interface callback\r\n                }    \r\n            });\r\n    \r\n            //lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n    \r\n            lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n    \r\n                    // La seconde activit&#233;\r\n                    Intent intent = new Intent(MainActivity.this, Meteo.class);\r\n                    // Les param&#232;tres\r\n    \r\n                    meteojours = db.getAllMeteoJours();\r\n    \r\n                    laPosition = position;\r\n    \r\n                    MeteoJour cn = meteojours.get(position);\r\n                    // Les param&#232;tres\r\n                    intent.putExtra(&quot;Id&quot;, String.valueOf(cn.get_id()));\r\n                    intent.putExtra(&quot;Min&quot;, cn.get_minimum());\r\n                    intent.putExtra(&quot;Max&quot;, cn.get_maximum());\r\n                    intent.putExtra(&quot;Ressentie&quot;, cn.get_ressentie());\r\n                    intent.putExtra(&quot;VitesseVent&quot;, cn.get_vent_vitesse());\r\n                    intent.putExtra(&quot;VetesseDirec&quot;, cn.get_vent_direction());\r\n                    intent.putExtra(&quot;Ensoleillement&quot;, cn.get_ensoleillement());\r\n                    intent.putExtra(&quot;Prob&quot;, cn.get_probabilite());\r\n                    intent.putExtra(&quot;Pluie&quot;, cn.get_pluie());\r\n                    intent.putExtra(&quot;Neige&quot;, cn.get_neige());\r\n                    intent.putExtra(&quot;villeslct&quot;, spinnerVille.getItemAtPosition(posVille).toString());\r\n                    intent.putExtra(&quot;joursslct&quot;, lstJours.getItemAtPosition(position).toString());\r\n                    startActivity(intent);\r\n                    // Lancer la seconde activit&#233;\r\n    \r\n    \r\n                }\r\n            });    \r\n    \r\n            // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n            // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n            client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \r\n            if (requestCode == REQUEST_TEXT) {\r\n                if (resultCode == Meteo.RETURN_CODE_OK) {\r\n                    //Toast.makeText(MainActivity.this, data.getStringExtra(&quot;prenom&quot;), Toast.LENGTH_SHORT).show();\r\n                    mJours.add(new Jour(data.getStringExtra(&quot;date&quot;), data.getIntExtra(&quot;minimum&quot;, 0), data.getIntExtra(&quot;maximum&quot;, 0)));\r\n                    mJoursAdapteur.notifyDataSetChanged();\r\n                }\r\n            }    \r\n        }\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n    \r\n            // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n            // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n            client.connect();\r\n            Action viewAction = Action.newAction(\r\n                    Action.TYPE_VIEW, // TODO: choose an action type.\r\n                    &quot;Main Page&quot;, // TODO: Define a title for the content shown.\r\n                    // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                    // make sure this auto-generated web page URL is correct.\r\n                    // Otherwise, set the URL to null.\r\n                    Uri.parse(&quot;http://host/path&quot;),\r\n                    // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                    Uri.parse(&quot;android-app://com.example.android.lab5/http/host/path&quot;)\r\n            );\r\n            AppIndex.AppIndexApi.start(client, viewAction);\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n    \r\n            // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n            // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n            Action viewAction = Action.newAction(\r\n                    Action.TYPE_VIEW, // TODO: choose an action type.\r\n                    &quot;Main Page&quot;, // TODO: Define a title for the content shown.\r\n                    // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                    // make sure this auto-generated web page URL is correct.\r\n                    // Otherwise, set the URL to null.\r\n                    Uri.parse(&quot;http://host/path&quot;),\r\n                    // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                    Uri.parse(&quot;android-app://com.example.android.lab5/http/host/path&quot;)\r\n            );\r\n            AppIndex.AppIndexApi.end(client, viewAction);\r\n            client.disconnect();\r\n        }\r\n    }\r\n\r\n\r\nI isolated my error and it seems to come from that line:\r\n\r\n    mJours.add(new Jour((String.valueOf(cn.get_id()) + &quot; Mars 2016&quot;), cn.get_minimum(), cn.get_maximum()));\r\n\r\n\r\nThe code of my java class `Jour` is :\r\n\r\n     public class Jour {    \r\n        private int mTempMin;\r\n        private int mTempMax;\r\n        private String mDates;\r\n    \r\n        public Jour(String date, int min, int max) {\r\n            mTempMin = min;\r\n            mTempMax = max;\r\n            mDates = date;\r\n        }    \r\n    \r\n        public String getmDates() {\r\n            return mDates;\r\n        }\r\n    \r\n        public void setmDates(String mDates) {\r\n            this.mDates = mDates;\r\n        }\r\n    \r\n        public int getmTempMin() {\r\n            return mTempMin;\r\n        }\r\n    \r\n        public void setmTempMin(int mTempMin) {\r\n            this.mTempMin = mTempMin;\r\n        }\r\n    \r\n        public int getmTempMax() {\r\n            return mTempMax;\r\n        }\r\n    \r\n        public void setmTempMax(int mTempMax) {\r\n            this.mTempMax = mTempMax;\r\n        }    \r\n    }\r\n\r\nThank you,\r\nI hope we can find an answer!\r\n\r\n\r\n\r\n*EDIT\r\n\r\nHere&#39;s the MeteoJour class:\r\n\r\n\r\n    public class MeteoJour {\r\n    \r\n        //private variables\r\n        int _id;\r\n        int _minimum;\r\n        int _maximum;\r\n        int _ressentie;\r\n        int _vent_vitesse;\r\n        String _vent_direction;\r\n        int _ensoleillement;\r\n        int _probabilite;\r\n        int _pluie;\r\n        int _neige;\r\n    \r\n    \r\n        // Empty constructor\r\n        public MeteoJour(){\r\n    \r\n        }\r\n        // constructor\r\n        public MeteoJour(int id, int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\r\n            this._id = id;\r\n            this._minimum = minimum;\r\n            this._maximum = maximum;\r\n            this._ressentie = ressentie;\r\n            this._vent_vitesse = vent_vitesse;\r\n            this._vent_direction = vent_direction;\r\n            this._ensoleillement = ensoleillement;\r\n            this._probabilite = probabilite;\r\n            this._pluie = pluie;\r\n            this._neige = neige;\r\n        }\r\n    \r\n        // constructor\r\n        public MeteoJour(int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\r\n            this._minimum = minimum;\r\n            this._maximum = maximum;\r\n            this._ressentie = ressentie;\r\n            this._vent_vitesse = vent_vitesse;\r\n            this._vent_direction = vent_direction;\r\n            this._ensoleillement = ensoleillement;\r\n            this._probabilite = probabilite;\r\n            this._pluie = pluie;\r\n            this._neige = neige;\r\n        }\r\n    \r\n    \r\n        public int get_id() {\r\n            return _id;\r\n        }\r\n    \r\n        public void set_id(int _id) {\r\n            this._id = _id;\r\n        }\r\n    \r\n        public int get_minimum() {\r\n            return _minimum;\r\n        }\r\n    \r\n        public void set_minimum(int _minimum) {\r\n            this._minimum = _minimum;\r\n        }\r\n    \r\n        public int get_maximum() {\r\n            return _maximum;\r\n        }\r\n    \r\n        public void set_maximum(int _maximum) {\r\n            this._maximum = _maximum;\r\n        }\r\n    \r\n        public int get_ressentie() {\r\n            return _ressentie;\r\n        }\r\n    \r\n        public void set_ressentie(int _ressentie) {\r\n            this._ressentie = _ressentie;\r\n        }\r\n    \r\n        public int get_vent_vitesse() {\r\n            return _vent_vitesse;\r\n        }\r\n    \r\n        public void set_vent_vitesse(int _vent_vitesse) {\r\n            this._vent_vitesse = _vent_vitesse;\r\n        }\r\n    \r\n        public String get_vent_direction() {\r\n            return _vent_direction;\r\n        }\r\n    \r\n        public void set_vent_direction(String _vent_direction) {\r\n            this._vent_direction = _vent_direction;\r\n        }\r\n    \r\n        public int get_ensoleillement() {\r\n            return _ensoleillement;\r\n        }\r\n    \r\n        public void set_ensoleillement(int _ensoleillement) {\r\n            this._ensoleillement = _ensoleillement;\r\n        }\r\n    \r\n        public int get_probabilite() {\r\n            return _probabilite;\r\n        }\r\n    \r\n        public void set_probabilite(int _probabilite) {\r\n            this._probabilite = _probabilite;\r\n        }\r\n    \r\n        public int get_pluie() {\r\n            return _pluie;\r\n        }\r\n    \r\n        public void set_pluie(int _pluie) {\r\n            this._pluie = _pluie;\r\n        }\r\n    \r\n        public int get_neige() {\r\n            return _neige;\r\n        }\r\n    \r\n        public void set_neige(int _neige) {\r\n            this._neige = _neige;\r\n        }\r\n    }\r\n\r\n\r\n\r\nHere is the R.array.ville XML:\r\n\r\n\r\n\r\n&lt;resources&gt;\r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;Lab5&lt;/string&gt;\r\n\r\n    &lt;string-array name=&quot;joursSemaine&quot;&gt;\r\n        &lt;item&gt;Dimanche le 28 f&#233;vrier 2016&lt;/item&gt;\r\n        &lt;item&gt;Lundi le 29 f&#233;vrier 2016&lt;/item&gt;\r\n        &lt;item&gt;Mardi le 1 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Mercredi le 2 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Jeudi le 3 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Vendredi le 4 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Samedi le 5 mars 2016&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;villes&quot;&gt;\r\n        &lt;item&gt;Gatineau&lt;/item&gt;\r\n        &lt;item&gt;Trois-Rivi&#232;re&lt;/item&gt;\r\n        &lt;item&gt;Montreal&lt;/item&gt;\r\n        &lt;item&gt;Sherbrooke&lt;/item&gt;\r\n        &lt;item&gt;Alma&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n&lt;/resources&gt;\r\n\r\nMy log : \r\n\r\n04-27 08:21:24.986 2342-2342/? I/art: Late-enabling -Xcheck:jni 04-27 08:21:25.038 2342-2342/? D/Insert:: Inserting .. 04-27 08:21:25.210 2342-2342/? D/Reading:: Reading all meteojours.. 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 1 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 2 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 3 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 4 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 5 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 6 ,Minimum: 4 ,Maximum: 7 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 7 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 8 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 9 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 10 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 11 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 12 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 13 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 14 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 15 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 16 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 17 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 18 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 19 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 20 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 21 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 22 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 23 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 24 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 25 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 26 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 27 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 28 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 29 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 30 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 31 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 32 ,Minimum: 7 ,Maximum: 10 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 33 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 34 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 35 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.218 2342-2360/? W/GooglePlayServicesUtil: Google Play services is missing. 04-27 08:21:25.254 2342-2361/? D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true 04-27 08:21:25.259 2342-2342/? D/Atlas: Validating map... 04-27 08:21:25.271 2342-2342/? W/ResourceType: No package identifier when getting value for resource number 0x00000002 04-27 08:21:25.272 2342-2342/? D/AndroidRuntime: Shutting down VM 04-27 08:21:25.291 2342-2342/? E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 2342 android.content.res.Resources$NotFoundException: String resource ID #0x2 at android.content.res.Resources.getText(Resources.java:299) at android.widget.TextView.setText(TextView.java:4132) at com.example.android.lab5.JourAdapteur.getView(JourAdapteur.java:41) at android.widget.AbsListView.obtainView(AbsListView.java:2347) at android.widget.ListView.measureHeightOfChildren(ListView.java:1270) at android.widget.ListView.onMeasure(ListView.java:1182) at android.view.View.measure(View.java:17547) at android.widget.RelativeLayout.measureChild(RelativeLayout.java:697) at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:481) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:135) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.support.v7.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:391) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1436) at android.widget.LinearLayout.measureVertical(LinearLayout.java:722) at android.widget.LinearLayout.onMeasure(LinearLayout.java:613) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2615) at android.view.View.measure(View.java:17547) at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2015) at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1173) at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1379) at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1061) at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5885) at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767) at android.view.Choreographer.doCallbacks(Choreographer.java:580) at android.view.Choreographer.doFrame(Choreographer.java:550)  at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753) at android.os.Handler.handleCallback(Handler.java:739) at android.os.Handler.dispatchMessage(Handler.java:95) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5254) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) 04-27 08:21:28.734 2342-2342/com.example.android.lab5 I/Process: Sending signal. PID: 2342 SIG: 9\r\n\r\n\r\nJourAdapteur class:\r\n\r\n\r\npublic class JourAdapteur extends ArrayAdapter&lt;Jour&gt; {\r\n\r\n    private Context mContext;\r\n    private LayoutInflater mInflater;\r\n\r\n    public JourAdapteur(Context context, ArrayList&lt;Jour&gt; jours) {\r\n        super(context, 0, jours);\r\n        mContext = context;\r\n        mInflater = LayoutInflater.from(context);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View theView = convertView;\r\n\r\n        if (theView == null) {\r\n            theView = mInflater.inflate(R.layout.jour_list_item, parent, false);\r\n        }\r\n\r\n        // Le hero\r\n        Jour jour = this.getItem(position);\r\n\r\n        // Aller chercher les objets\r\n        TextView lblMin = (TextView) theView.findViewById(R.id.lblMin);\r\n        TextView lblMax = (TextView) theView.findViewById(R.id.lblMax);\r\n        TextView lblDate = (TextView) theView.findViewById(R.id.lblDate);\r\n\r\n        // Assigner les valeurs\r\n        lblMin.setText(jour.getmTempMin());\r\n        lblMax.setText(jour.getmTempMax());\r\n        lblDate.setText(jour.getmDates());\r\n\r\n\r\n        // Retourner la vue\r\n        return theView;\r\n    }\r\n\r\n    @Override\r\n    public View getDropDownView(int position, View convertView, ViewGroup parent) {\r\n        // TODO Auto-generated method stub\r\n        return getView(position, convertView, parent);\r\n    }\r\n\r\n}","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<p>When I try to test my app, I get an error.</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 12261\n  android.content.res.Resources$NotFoundException: String resource ID #0x2</p>\n</blockquote>\n\n<h1>Here's my code</h1>\n\n<pre><code>public class MainActivity extends AppCompatActivity {    \n    private Spinner spinnerVille;\n    private TextView ville;\n    private ListView lstJours;\n    int posVille = 0;    \n\n    // Les items\n    private ArrayList&lt;Jour&gt; mJours = new ArrayList&lt;Jour&gt;();\n\n    // L'adapteur\n    private JourAdapteur mJoursAdapteur;\n\n    private List&lt;MeteoJour&gt; meteojours;\n\n    public static final int REQUEST_TEXT = 0;\n    public int laPosition = 0;\n    /**\n     * ATTENTION: This was auto-generated to implement the App Indexing API.\n     * See https://g.co/AppIndexing/AndroidStudio for more information.\n     */\n    private GoogleApiClient client;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        final DatabaseHandler db = new DatabaseHandler(this);    \n\n        Log.d(\"Insert: \", \"Inserting ..\");\n        /*db.addMeteoJours(new MeteoJour(1, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(2, -1, 3, -4, 5, \"NO\", 8, 30, 0, 2));\n        db.addMeteoJours(new MeteoJour(3, 2, 6, 1, 2, \"SO\", 8, 20, 2, 0));\n        db.addMeteoJours(new MeteoJour(4, 3, 6, 3, 10, \"SE\", 8, 0, 0, 0));\n        db.addMeteoJours(new MeteoJour(5, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));\n        db.addMeteoJours(new MeteoJour(6, 4, 7, 5, 0, \"O\", 8, 0, 0, 0));\n        db.addMeteoJours(new MeteoJour(7, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(8, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));;\n        db.addMeteoJours(new MeteoJour(9, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(10, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(11, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(12, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(13, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(14, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(15, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));\n        db.addMeteoJours(new MeteoJour(16, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(17, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(18, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));\n        db.addMeteoJours(new MeteoJour(19, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(20, 2, 5, -2, 10, \"SO\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(21, -1, 3, -4, 5, \"NO\", 9, 30, 0, 2));\n        db.addMeteoJours(new MeteoJour(22, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(23, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(24, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(25, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(26, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(27, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(28, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(29, 2, 6, 1, 2, \"SO\", 9, 20, 2, 0));\n        db.addMeteoJours(new MeteoJour(30, 3, 6, 3, 10, \"SE\", 9, 0, 0, 0));\n        db.addMeteoJours(new MeteoJour(31, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(32, 7, 10, 10, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(33, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(34, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(35, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));*/\n        // Reading all contacts\n        Log.d(\"Reading: \", \"Reading all meteojours..\");\n        //final List&lt;Contact&gt; contacts = db.getAllContacts();\n        meteojours = db.getAllMeteoJours();\n\n        for (MeteoJour cn : meteojours) {\n            mJours.add(new Jour((String.valueOf(cn.get_id()) + \" Mars 2016\"), cn.get_minimum(), cn.get_maximum()));\n            String log = \"Id: \" + cn.get_id() + \" ,Minimum: \" + cn.get_minimum() + \" ,Maximum: \" + cn.get_maximum();\n            // Writing to log\n            Log.d(\"Name: \", log);\n        }    \n\n        spinnerVille = (Spinner) findViewById(R.id.spinnerVille);\n        ville = (TextView) findViewById(R.id.Ville);\n        lstJours = (ListView) findViewById(R.id.lstJours);    \n\n        // Adapteur\n        //mHerosAdapteur = new HeroAdapteur(this, MonSingleton.getInstance().getHeros());\n        mJoursAdapteur = new JourAdapteur(this, mJours);\n\n        // Assigner l'adapteur à la liste\n        lstJours.setAdapter(mJoursAdapteur);    \n\n        // Create an ArrayAdapter using the string array and a default spinner layout\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,\n                R.array.villes, android.R.layout.simple_spinner_item);\n        // Specify the layout to use when the list of choices appears\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinnerVille.setAdapter(adapter);\n\n        spinnerVille.setOnItemSelectedListener(new OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapter, View v, int position, long id) {\n\n                switch (position) {\n                    case 0:\n                        ville.setText(\"Gatineau\");\n                        posVille = 0;\n                        break;\n                    case 1:\n                        ville.setText(\"Trois-Rivière\");\n                        posVille = 1;\n                        break;\n                    case 2:\n                        ville.setText(\"Montréal\");\n                        posVille = 2;\n                        break;\n                    case 3:\n                        ville.setText(\"Sherbrooke\");\n                        posVille = 3;\n                        break;\n                    case 4:\n                        ville.setText(\"Alma\");\n                        posVille = 4;\n                        break;\n                }    \n            }\n\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                // Another interface callback\n            }    \n        });\n\n        //lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n        lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n                // La seconde activité\n                Intent intent = new Intent(MainActivity.this, Meteo.class);\n                // Les paramètres\n\n                meteojours = db.getAllMeteoJours();\n\n                laPosition = position;\n\n                MeteoJour cn = meteojours.get(position);\n                // Les paramètres\n                intent.putExtra(\"Id\", String.valueOf(cn.get_id()));\n                intent.putExtra(\"Min\", cn.get_minimum());\n                intent.putExtra(\"Max\", cn.get_maximum());\n                intent.putExtra(\"Ressentie\", cn.get_ressentie());\n                intent.putExtra(\"VitesseVent\", cn.get_vent_vitesse());\n                intent.putExtra(\"VetesseDirec\", cn.get_vent_direction());\n                intent.putExtra(\"Ensoleillement\", cn.get_ensoleillement());\n                intent.putExtra(\"Prob\", cn.get_probabilite());\n                intent.putExtra(\"Pluie\", cn.get_pluie());\n                intent.putExtra(\"Neige\", cn.get_neige());\n                intent.putExtra(\"villeslct\", spinnerVille.getItemAtPosition(posVille).toString());\n                intent.putExtra(\"joursslct\", lstJours.getItemAtPosition(position).toString());\n                startActivity(intent);\n                // Lancer la seconde activité\n\n\n            }\n        });    \n\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\n        client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (requestCode == REQUEST_TEXT) {\n            if (resultCode == Meteo.RETURN_CODE_OK) {\n                //Toast.makeText(MainActivity.this, data.getStringExtra(\"prenom\"), Toast.LENGTH_SHORT).show();\n                mJours.add(new Jour(data.getStringExtra(\"date\"), data.getIntExtra(\"minimum\", 0), data.getIntExtra(\"maximum\", 0)));\n                mJoursAdapteur.notifyDataSetChanged();\n            }\n        }    \n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\n        client.connect();\n        Action viewAction = Action.newAction(\n                Action.TYPE_VIEW, // TODO: choose an action type.\n                \"Main Page\", // TODO: Define a title for the content shown.\n                // TODO: If you have web page content that matches this app activity's content,\n                // make sure this auto-generated web page URL is correct.\n                // Otherwise, set the URL to null.\n                Uri.parse(\"http://host/path\"),\n                // TODO: Make sure this auto-generated app deep link URI is correct.\n                Uri.parse(\"android-app://com.example.android.lab5/http/host/path\")\n        );\n        AppIndex.AppIndexApi.start(client, viewAction);\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\n        Action viewAction = Action.newAction(\n                Action.TYPE_VIEW, // TODO: choose an action type.\n                \"Main Page\", // TODO: Define a title for the content shown.\n                // TODO: If you have web page content that matches this app activity's content,\n                // make sure this auto-generated web page URL is correct.\n                // Otherwise, set the URL to null.\n                Uri.parse(\"http://host/path\"),\n                // TODO: Make sure this auto-generated app deep link URI is correct.\n                Uri.parse(\"android-app://com.example.android.lab5/http/host/path\")\n        );\n        AppIndex.AppIndexApi.end(client, viewAction);\n        client.disconnect();\n    }\n}\n</code></pre>\n\n<p>I isolated my error and it seems to come from that line:</p>\n\n<pre><code>mJours.add(new Jour((String.valueOf(cn.get_id()) + \" Mars 2016\"), cn.get_minimum(), cn.get_maximum()));\n</code></pre>\n\n<p>The code of my java class <code>Jour</code> is :</p>\n\n<pre><code> public class Jour {    \n    private int mTempMin;\n    private int mTempMax;\n    private String mDates;\n\n    public Jour(String date, int min, int max) {\n        mTempMin = min;\n        mTempMax = max;\n        mDates = date;\n    }    \n\n    public String getmDates() {\n        return mDates;\n    }\n\n    public void setmDates(String mDates) {\n        this.mDates = mDates;\n    }\n\n    public int getmTempMin() {\n        return mTempMin;\n    }\n\n    public void setmTempMin(int mTempMin) {\n        this.mTempMin = mTempMin;\n    }\n\n    public int getmTempMax() {\n        return mTempMax;\n    }\n\n    public void setmTempMax(int mTempMax) {\n        this.mTempMax = mTempMax;\n    }    \n}\n</code></pre>\n\n<p>Thank you,\nI hope we can find an answer!</p>\n\n<p>*EDIT</p>\n\n<p>Here's the MeteoJour class:</p>\n\n<pre><code>public class MeteoJour {\n\n    //private variables\n    int _id;\n    int _minimum;\n    int _maximum;\n    int _ressentie;\n    int _vent_vitesse;\n    String _vent_direction;\n    int _ensoleillement;\n    int _probabilite;\n    int _pluie;\n    int _neige;\n\n\n    // Empty constructor\n    public MeteoJour(){\n\n    }\n    // constructor\n    public MeteoJour(int id, int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\n        this._id = id;\n        this._minimum = minimum;\n        this._maximum = maximum;\n        this._ressentie = ressentie;\n        this._vent_vitesse = vent_vitesse;\n        this._vent_direction = vent_direction;\n        this._ensoleillement = ensoleillement;\n        this._probabilite = probabilite;\n        this._pluie = pluie;\n        this._neige = neige;\n    }\n\n    // constructor\n    public MeteoJour(int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\n        this._minimum = minimum;\n        this._maximum = maximum;\n        this._ressentie = ressentie;\n        this._vent_vitesse = vent_vitesse;\n        this._vent_direction = vent_direction;\n        this._ensoleillement = ensoleillement;\n        this._probabilite = probabilite;\n        this._pluie = pluie;\n        this._neige = neige;\n    }\n\n\n    public int get_id() {\n        return _id;\n    }\n\n    public void set_id(int _id) {\n        this._id = _id;\n    }\n\n    public int get_minimum() {\n        return _minimum;\n    }\n\n    public void set_minimum(int _minimum) {\n        this._minimum = _minimum;\n    }\n\n    public int get_maximum() {\n        return _maximum;\n    }\n\n    public void set_maximum(int _maximum) {\n        this._maximum = _maximum;\n    }\n\n    public int get_ressentie() {\n        return _ressentie;\n    }\n\n    public void set_ressentie(int _ressentie) {\n        this._ressentie = _ressentie;\n    }\n\n    public int get_vent_vitesse() {\n        return _vent_vitesse;\n    }\n\n    public void set_vent_vitesse(int _vent_vitesse) {\n        this._vent_vitesse = _vent_vitesse;\n    }\n\n    public String get_vent_direction() {\n        return _vent_direction;\n    }\n\n    public void set_vent_direction(String _vent_direction) {\n        this._vent_direction = _vent_direction;\n    }\n\n    public int get_ensoleillement() {\n        return _ensoleillement;\n    }\n\n    public void set_ensoleillement(int _ensoleillement) {\n        this._ensoleillement = _ensoleillement;\n    }\n\n    public int get_probabilite() {\n        return _probabilite;\n    }\n\n    public void set_probabilite(int _probabilite) {\n        this._probabilite = _probabilite;\n    }\n\n    public int get_pluie() {\n        return _pluie;\n    }\n\n    public void set_pluie(int _pluie) {\n        this._pluie = _pluie;\n    }\n\n    public int get_neige() {\n        return _neige;\n    }\n\n    public void set_neige(int _neige) {\n        this._neige = _neige;\n    }\n}\n</code></pre>\n\n<p>Here is the R.array.ville XML:</p>\n\n<p></p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;Lab5&lt;/string&gt;\n\n&lt;string-array name=\"joursSemaine\"&gt;\n    &lt;item&gt;Dimanche le 28 février 2016&lt;/item&gt;\n    &lt;item&gt;Lundi le 29 février 2016&lt;/item&gt;\n    &lt;item&gt;Mardi le 1 mars 2016&lt;/item&gt;\n    &lt;item&gt;Mercredi le 2 mars 2016&lt;/item&gt;\n    &lt;item&gt;Jeudi le 3 mars 2016&lt;/item&gt;\n    &lt;item&gt;Vendredi le 4 mars 2016&lt;/item&gt;\n    &lt;item&gt;Samedi le 5 mars 2016&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=\"villes\"&gt;\n    &lt;item&gt;Gatineau&lt;/item&gt;\n    &lt;item&gt;Trois-Rivière&lt;/item&gt;\n    &lt;item&gt;Montreal&lt;/item&gt;\n    &lt;item&gt;Sherbrooke&lt;/item&gt;\n    &lt;item&gt;Alma&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p></p>\n\n<p>My log : </p>\n\n<p>04-27 08:21:24.986 2342-2342/? I/art: Late-enabling -Xcheck:jni 04-27 08:21:25.038 2342-2342/? D/Insert:: Inserting .. 04-27 08:21:25.210 2342-2342/? D/Reading:: Reading all meteojours.. 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 1 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 2 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 3 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 4 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 5 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 6 ,Minimum: 4 ,Maximum: 7 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 7 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 8 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 9 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 10 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 11 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 12 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 13 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 14 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 15 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 16 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 17 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 18 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 19 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 20 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 21 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 22 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 23 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 24 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 25 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 26 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 27 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 28 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 29 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 30 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 31 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 32 ,Minimum: 7 ,Maximum: 10 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 33 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 34 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 35 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.218 2342-2360/? W/GooglePlayServicesUtil: Google Play services is missing. 04-27 08:21:25.254 2342-2361/? D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true 04-27 08:21:25.259 2342-2342/? D/Atlas: Validating map... 04-27 08:21:25.271 2342-2342/? W/ResourceType: No package identifier when getting value for resource number 0x00000002 04-27 08:21:25.272 2342-2342/? D/AndroidRuntime: Shutting down VM 04-27 08:21:25.291 2342-2342/? E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 2342 android.content.res.Resources$NotFoundException: String resource ID #0x2 at android.content.res.Resources.getText(Resources.java:299) at android.widget.TextView.setText(TextView.java:4132) at com.example.android.lab5.JourAdapteur.getView(JourAdapteur.java:41) at android.widget.AbsListView.obtainView(AbsListView.java:2347) at android.widget.ListView.measureHeightOfChildren(ListView.java:1270) at android.widget.ListView.onMeasure(ListView.java:1182) at android.view.View.measure(View.java:17547) at android.widget.RelativeLayout.measureChild(RelativeLayout.java:697) at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:481) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:135) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.support.v7.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:391) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1436) at android.widget.LinearLayout.measureVertical(LinearLayout.java:722) at android.widget.LinearLayout.onMeasure(LinearLayout.java:613) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2615) at android.view.View.measure(View.java:17547) at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2015) at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1173) at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1379) at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1061) at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5885) at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767) at android.view.Choreographer.doCallbacks(Choreographer.java:580) at android.view.Choreographer.doFrame(Choreographer.java:550)  at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753) at android.os.Handler.handleCallback(Handler.java:739) at android.os.Handler.dispatchMessage(Handler.java:95) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5254) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) 04-27 08:21:28.734 2342-2342/com.example.android.lab5 I/Process: Sending signal. PID: 2342 SIG: 9</p>\n\n<p>JourAdapteur class:</p>\n\n<p>public class JourAdapteur extends ArrayAdapter {</p>\n\n<pre><code>private Context mContext;\nprivate LayoutInflater mInflater;\n\npublic JourAdapteur(Context context, ArrayList&lt;Jour&gt; jours) {\n    super(context, 0, jours);\n    mContext = context;\n    mInflater = LayoutInflater.from(context);\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View theView = convertView;\n\n    if (theView == null) {\n        theView = mInflater.inflate(R.layout.jour_list_item, parent, false);\n    }\n\n    // Le hero\n    Jour jour = this.getItem(position);\n\n    // Aller chercher les objets\n    TextView lblMin = (TextView) theView.findViewById(R.id.lblMin);\n    TextView lblMax = (TextView) theView.findViewById(R.id.lblMax);\n    TextView lblDate = (TextView) theView.findViewById(R.id.lblDate);\n\n    // Assigner les valeurs\n    lblMin.setText(jour.getmTempMin());\n    lblMax.setText(jour.getmTempMax());\n    lblDate.setText(jour.getmDates());\n\n\n    // Retourner la vue\n    return theView;\n}\n\n@Override\npublic View getDropDownView(int position, View convertView, ViewGroup parent) {\n    // TODO Auto-generated method stub\n    return getView(position, convertView, parent);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","opensaml"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648800271,"creation_date":1648799442,"answer_id":71703517,"question_id":71703298,"body_markdown":"The implementation you&#39;re referring to is the one developed by Shibboleth and yes their latest version is the 4.0.1. On their website they strongly encourage switching to their latest version or other alternatives as every V2 security update ceased in 2016 for Java and 2018 for C++.\r\n\r\n&gt; As of July 31, 2016, all security maintenance for the OpenSAML V2 Java release branch ceased. A complete schedule of the dates can be found here. All deployments should upgrade to V3 or evaluate other alternatives.\r\n&gt; \r\n\r\n&gt; As of July 17th, 2018, all security maintenance for the OpenSAML V2 C++ release branch ceased. The author encourages anybody using that code to seek other options or, preferably, stop implementing SAML yourself and use an existing implementation. There are no plans to ever provide meaningful documentation or support for any use of that code outside the Shibboleth Project. Use it at your own risk.\r\n\r\n\r\nHowever, there are many other implementations that you can find linked on their [website][1]\r\n\r\n[On maven][2], you can check every version of Shibboleth&#39;s implementation from V3 to their latest one (the 4.0.1).\r\n\r\n\r\n  [1]: https://shibboleth.atlassian.net/wiki/spaces/OpenSAML/overview\r\n  [2]: https://search.maven.org/artifact/org.opensaml/opensaml-saml-impl/4.0.1/jar","title":"What is the latest version of opensaml?","body":"<p>The implementation you're referring to is the one developed by Shibboleth and yes their latest version is the 4.0.1. On their website they strongly encourage switching to their latest version or other alternatives as every V2 security update ceased in 2016 for Java and 2018 for C++.</p>\n<blockquote>\n<p>As of July 31, 2016, all security maintenance for the OpenSAML V2 Java release branch ceased. A complete schedule of the dates can be found here. All deployments should upgrade to V3 or evaluate other alternatives.</p>\n</blockquote>\n<blockquote>\n<p>As of July 17th, 2018, all security maintenance for the OpenSAML V2 C++ release branch ceased. The author encourages anybody using that code to seek other options or, preferably, stop implementing SAML yourself and use an existing implementation. There are no plans to ever provide meaningful documentation or support for any use of that code outside the Shibboleth Project. Use it at your own risk.</p>\n</blockquote>\n<p>However, there are many other implementations that you can find linked on their <a href=\"https://shibboleth.atlassian.net/wiki/spaces/OpenSAML/overview\" rel=\"nofollow noreferrer\">website</a></p>\n<p><a href=\"https://search.maven.org/artifact/org.opensaml/opensaml-saml-impl/4.0.1/jar\" rel=\"nofollow noreferrer\">On maven</a>, you can check every version of Shibboleth's implementation from V3 to their latest one (the 4.0.1).</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689776379,"creation_date":1689776379,"answer_id":76722317,"question_id":71703298,"body_markdown":"Meanwhile, there are newer releases, up to 4.3.0 as of July 2023: https://mvnrepository.com/artifact/org.opensaml/opensaml-core?repo=shibboleth-releases\r\n\r\nHowever, 4.0.1 is still the latest version on Maven Central. The newer versions are only available from Shibboleth&#39;s own repository.","title":"What is the latest version of opensaml?","body":"<p>Meanwhile, there are newer releases, up to 4.3.0 as of July 2023: <a href=\"https://mvnrepository.com/artifact/org.opensaml/opensaml-core?repo=shibboleth-releases\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.opensaml/opensaml-core?repo=shibboleth-releases</a></p>\n<p>However, 4.0.1 is still the latest version on Maven Central. The newer versions are only available from Shibboleth's own repository.</p>\n"}],"owner":{"account_id":20984008,"reputation":85,"user_id":15469144,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3535,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71703517,"answer_count":2,"score":0,"last_activity_date":1689776379,"creation_date":1648798236,"question_id":71703298,"body_markdown":"Regarding the heading, can someone tell me what is the latest version of opensaml-saml-api?\r\n\r\nI can see that on maven repository(https://repo1.maven.org/maven2/org/opensaml/opensaml-saml-api/) it&#39;s latest version is listed as `4.0.1`\r\n\r\n\r\nIs there any other official site where I can get hold of latest opensaml version information?","title":"What is the latest version of opensaml?","body":"<p>Regarding the heading, can someone tell me what is the latest version of opensaml-saml-api?</p>\n<p>I can see that on maven repository(<a href=\"https://repo1.maven.org/maven2/org/opensaml/opensaml-saml-api/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/opensaml/opensaml-saml-api/</a>) it's latest version is listed as <code>4.0.1</code></p>\n<p>Is there any other official site where I can get hold of latest opensaml version information?</p>\n"},{"tags":["java","multithreading","locking"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1689776008,"post_id":76722240,"comment_id":135261604,"body_markdown":"A semaphore is for a limited resource, So I would advice against it. There are multiple ways to tackle the issue, depending on the exact problem, which brings me to the actual point: this feels like an [XY problem (`meta.stackexchange.com`)](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What is the actual problem you are trying to solve? What is done in those blocks? Why are the run on two threads?","body":"A semaphore is for a limited resource, So I would advice against it. There are multiple ways to tackle the issue, depending on the exact problem, which brings me to the actual point: this feels like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem (<code>meta.stackexchange.com</code>)</a>. What is the actual problem you are trying to solve? What is done in those blocks? Why are the run on two threads?"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689776757,"post_id":76722240,"comment_id":135261818,"body_markdown":"In particular, @Sergiy, your first snippet doesn&#39;t do anything, except interact with other threads _also_ running into that _specific_ lock. It also sounds like both snippets are only run once ever (at least, for that lock instance) - but if not, i.e. they both are in loops and can run any number of times, what do you do if either partA or partB is always running, therefore, &#39;wait for both to be done&#39; isn&#39;t a thing?","body":"In particular, @Sergiy, your first snippet doesn&#39;t do anything, except interact with other threads <i>also</i> running into that <i>specific</i> lock. It also sounds like both snippets are only run once ever (at least, for that lock instance) - but if not, i.e. they both are in loops and can run any number of times, what do you do if either partA or partB is always running, therefore, &#39;wait for both to be done&#39; isn&#39;t a thing?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1689780170,"post_id":76722240,"comment_id":135262683,"body_markdown":"You don&#39;t want &quot;critical part 2&quot; to start until &quot;critical part 1&quot; is finished. You don&#39;t want &quot;third thread&quot; to do its thing until &quot;critical part 2&quot; is finished. In other words, you want to do three things _in sequence._ Why are you not doing all three things in the same thread? What is the benefit (if any) of having the three threads?","body":"You don&#39;t want &quot;critical part 2&quot; to start until &quot;critical part 1&quot; is finished. You don&#39;t want &quot;third thread&quot; to do its thing until &quot;critical part 2&quot; is finished. In other words, you want to do three things <i>in sequence.</i> Why are you not doing all three things in the same thread? What is the benefit (if any) of having the three threads?"},{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":0,"creation_date":1689830792,"post_id":76722240,"comment_id":135269452,"body_markdown":"OK. It&#39;s a legacy code without proper separation between data manipulation and UI layer, where I must implement a new feature. We try to refactor this code, but it&#39;s a background job, that could take some monthes. And we cann&#39;t make a feature freeze for this time :(","body":"OK. It&#39;s a legacy code without proper separation between data manipulation and UI layer, where I must implement a new feature. We try to refactor this code, but it&#39;s a background job, that could take some monthes. And we cann&#39;t make a feature freeze for this time :("}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689775824,"creation_date":1689775824,"question_id":76722240,"body_markdown":"When I have a critical part in one thread, i can use ReentrantLock to protect my critical block.\r\n\r\n    ReentrantLock lock = new ReentrantLock();\r\n    try {\r\n        lock.lock();\r\n        // do critical stuff\r\n    } finally {\r\n        lock.unlock();\r\n    }\r\n\r\nNow I have a critical part that is split in two blocks and these blocks are executed in different threads, and third thread should wait until both parts are done.\r\n\r\n    Executor executor = Executors.newSingleThreadExecutor();\r\n    // lock\r\n    // critical part 1\r\n    executor.execute(() -&gt; {\r\n        // critical part 2\r\n        // unlock\r\n    });\r\n\r\n\r\nHere I should switch from `ReentrantLock` to `Semaphore` (or something else?). But I cann&#39;t figure out, how to organize something like try/finally block in 2 different threads. Or, in other words, how to be sure that my lock will be released. Any suggestions?","title":"Java: How to safe lock/unlock critical part, that is split between 2 threads","body":"<p>When I have a critical part in one thread, i can use ReentrantLock to protect my critical block.</p>\n<pre><code>ReentrantLock lock = new ReentrantLock();\ntry {\n    lock.lock();\n    // do critical stuff\n} finally {\n    lock.unlock();\n}\n</code></pre>\n<p>Now I have a critical part that is split in two blocks and these blocks are executed in different threads, and third thread should wait until both parts are done.</p>\n<pre><code>Executor executor = Executors.newSingleThreadExecutor();\n// lock\n// critical part 1\nexecutor.execute(() -&gt; {\n    // critical part 2\n    // unlock\n});\n</code></pre>\n<p>Here I should switch from <code>ReentrantLock</code> to <code>Semaphore</code> (or something else?). But I cann't figure out, how to organize something like try/finally block in 2 different threads. Or, in other words, how to be sure that my lock will be released. Any suggestions?</p>\n"},{"tags":["java","avro","avro-tools"],"comments":[{"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"score":0,"creation_date":1517235476,"post_id":45700725,"comment_id":84000205,"body_markdown":"Have you found one?","body":"Have you found one?"}],"answers":[{"tags":[],"owner":{"account_id":4734706,"reputation":7799,"user_id":3829426,"display_name":"hlagos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502922400,"creation_date":1502922400,"answer_id":45723923,"question_id":45700725,"body_markdown":"Kite SDK has a lot of useful things to work with Avro Schema. Take a look to this\r\n\r\nhttp://kitesdk.org/docs/1.1.0/Inferring-a-Schema-from-a-Java-Class.html","title":"Generate Avro file based on java file","body":"<p>Kite SDK has a lot of useful things to work with Avro Schema. Take a look to this</p>\n\n<p><a href=\"http://kitesdk.org/docs/1.1.0/Inferring-a-Schema-from-a-Java-Class.html\" rel=\"nofollow noreferrer\">http://kitesdk.org/docs/1.1.0/Inferring-a-Schema-from-a-Java-Class.html</a></p>\n"},{"tags":[],"owner":{"account_id":11603669,"reputation":1,"user_id":8500068,"display_name":"faraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689775716,"creation_date":1689775612,"answer_id":76722197,"question_id":45700725,"body_markdown":"Late reply but may be helpful to someone who reach here.\r\nYou can use avro maven plugin\r\n\r\n    mvn avro:induce\r\n\r\nGenerate Avro files (.avsc and .avpr) from Java classes or interfaces","title":"Generate Avro file based on java file","body":"<p>Late reply but may be helpful to someone who reach here.\nYou can use avro maven plugin</p>\n<pre><code>mvn avro:induce\n</code></pre>\n<p>Generate Avro files (.avsc and .avpr) from Java classes or interfaces</p>\n"}],"owner":{"account_id":2584850,"reputation":433,"user_id":2240796,"accept_rate":58,"display_name":"RSM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689775716,"creation_date":1502827625,"question_id":45700725,"body_markdown":"There are plugins that can generate java file using Avro schema. Is there a reverse of that? I would like to generate Avro schema based on java file.","title":"Generate Avro file based on java file","body":"<p>There are plugins that can generate java file using Avro schema. Is there a reverse of that? I would like to generate Avro schema based on java file.</p>\n"},{"tags":["java","spring-integration","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689775241,"creation_date":1689716328,"answer_id":76716689,"question_id":76716607,"body_markdown":"See the schema documentation for `listener-container`...\r\n\r\n```\r\nEach listener child element will be hosted by a container whose configuration\r\nis determined by this parent element. This variant builds standard JMS\r\nlistener containers, operating against a specified JMS ConnectionFactory. When\r\na factory-id attribute is present, the configuration defined by this element is\r\nexposed as a org.springframework.jms.config.JmsListenerContainerFactory. It is\r\ntherefore possible to only define this element without any child to just expose\r\na container factory.\r\n```\r\n\r\nand\r\n```xml\r\n\t\t&lt;xsd:attribute name=&quot;factory-id&quot; type=&quot;xsd:string&quot;&gt;\r\n\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t&lt;xsd:documentation&gt;&lt;![CDATA[\r\nExpose the settings defined by this element as a org.springframework.jms.config.JmsListenerContainerFactory\r\nso that they can be reused with other endpoints.\r\n\t\t\t]]&gt;&lt;/xsd:documentation&gt;\r\n\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t&lt;/xsd:attribute&gt;\r\n```\r\n\r\nThe `factory-id` is NOT a reference to a container factory, it turns the XML element into a container factory and it should not have any child elements.\r\n\r\nThe reply QOS is not supported by the jms xml namespace.\r\n\r\nYou need to define your listener container(s) as a `&lt;bean /&gt;` &lt;strike&gt;and set its `replyQosSettings` property&lt;/strike&gt;.\r\n\r\nThe `messageListener` should be a `MessageListenerAdapter` to wrap your listener bean, and set its `replyQosSettings` property.\r\n\r\nContainer factories are normally used for creating containers for methods annotated with `@JmsListener`.\r\n\r\n","title":"Spring JMS: replyQosSettings via XML Configuration","body":"<p>See the schema documentation for <code>listener-container</code>...</p>\n<pre><code>Each listener child element will be hosted by a container whose configuration\nis determined by this parent element. This variant builds standard JMS\nlistener containers, operating against a specified JMS ConnectionFactory. When\na factory-id attribute is present, the configuration defined by this element is\nexposed as a org.springframework.jms.config.JmsListenerContainerFactory. It is\ntherefore possible to only define this element without any child to just expose\na container factory.\n</code></pre>\n<p>and</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;xsd:attribute name=&quot;factory-id&quot; type=&quot;xsd:string&quot;&gt;\n            &lt;xsd:annotation&gt;\n                &lt;xsd:documentation&gt;&lt;![CDATA[\nExpose the settings defined by this element as a org.springframework.jms.config.JmsListenerContainerFactory\nso that they can be reused with other endpoints.\n            ]]&gt;&lt;/xsd:documentation&gt;\n            &lt;/xsd:annotation&gt;\n        &lt;/xsd:attribute&gt;\n</code></pre>\n<p>The <code>factory-id</code> is NOT a reference to a container factory, it turns the XML element into a container factory and it should not have any child elements.</p>\n<p>The reply QOS is not supported by the jms xml namespace.</p>\n<p>You need to define your listener container(s) as a <code>&lt;bean /&gt;</code> <strike>and set its <code>replyQosSettings</code> property</strike>.</p>\n<p>The <code>messageListener</code> should be a <code>MessageListenerAdapter</code> to wrap your listener bean, and set its <code>replyQosSettings</code> property.</p>\n<p>Container factories are normally used for creating containers for methods annotated with <code>@JmsListener</code>.</p>\n"},{"tags":[],"owner":{"account_id":29044572,"reputation":3,"user_id":22248708,"display_name":"Waldi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689761012,"creation_date":1689761012,"answer_id":76720128,"question_id":76716607,"body_markdown":"Thanks to Gary Russel for the hints.\r\nI think it&#39;s a little sad for spring that it has to get so verbose (espacially if you have a lot of listeners) just to get some Qol settings on the response messages.\r\n\r\nBut here it is:\r\n\r\n    &lt;bean class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\r\n    &lt;property name=&quot;destination&quot; ref=&quot;isLoadRunningQueue&quot;/&gt;\r\n    &lt;property name=&quot;messageSelector&quot; value=&quot;destinationServer = &#39;${hub.name}&#39; OR destinationServer IS NULL&quot;/&gt;\r\n    &lt;property name=&quot;messageListener&quot;&gt;\r\n      &lt;bean class=&quot;org.springframework.jms.listener.adapter.MessageListenerAdapter&quot;&gt;\r\n        &lt;property name=&quot;responseQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\r\n        &lt;property name=&quot;defaultListenerMethod&quot; value=&quot;isRunning&quot;/&gt;\r\n        &lt;property name=&quot;delegate&quot; ref=&quot;starterJmsListener&quot;/&gt;\r\n      &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n  &lt;/bean&gt;\r\n\r\n","title":"Spring JMS: replyQosSettings via XML Configuration","body":"<p>Thanks to Gary Russel for the hints.\nI think it's a little sad for spring that it has to get so verbose (espacially if you have a lot of listeners) just to get some Qol settings on the response messages.</p>\n<p>But here it is:</p>\n<pre><code>&lt;bean class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\n&lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\n&lt;property name=&quot;destination&quot; ref=&quot;isLoadRunningQueue&quot;/&gt;\n&lt;property name=&quot;messageSelector&quot; value=&quot;destinationServer = '${hub.name}' OR destinationServer IS NULL&quot;/&gt;\n&lt;property name=&quot;messageListener&quot;&gt;\n  &lt;bean class=&quot;org.springframework.jms.listener.adapter.MessageListenerAdapter&quot;&gt;\n    &lt;property name=&quot;responseQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\n    &lt;property name=&quot;defaultListenerMethod&quot; value=&quot;isRunning&quot;/&gt;\n    &lt;property name=&quot;delegate&quot; ref=&quot;starterJmsListener&quot;/&gt;\n  &lt;/bean&gt;\n&lt;/property&gt;\n</code></pre>\n  \n"}],"owner":{"account_id":29044572,"reputation":3,"user_id":22248708,"display_name":"Waldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76716689,"answer_count":2,"score":0,"last_activity_date":1689775241,"creation_date":1689714969,"question_id":76716607,"body_markdown":"I&#39;m using Spring JMS 5.3.6 for an application where I need to set a TimeToLive for my response messages.\r\nThe application is configured via XML and is using the JMS namespace.\r\n\r\nWhen reading the [Spring documentation][1] my guess was that I need to create a `JmsListenerContainerFactory` instance which I then pass to the listener-container via the factory-id attribute.\r\n\r\nBut the documentation is not really clear here (or doesn&#39;t match the description). Because it states:  \r\n&gt; You can automatically expose such settings as a JmsListenerContainerFactory by specifying the id of the bean to expose through the factory-id attribute, as the following example shows\r\n\r\nBut the following example then doesn&#39;t contain the factory-id attribute.\r\n\r\nThis is my current configuration:\r\n\r\n```xml\r\n  &lt;bean id=&quot;replyQosSettings&quot; class=&quot;org.springframework.jms.support.QosSettings&quot;&gt;\r\n    &lt;constructor-arg name=&quot;deliveryMode&quot; value=&quot;1&quot;/&gt;\r\n    &lt;constructor-arg name=&quot;priority&quot; value=&quot;4&quot;/&gt;\r\n    &lt;constructor-arg name=&quot;timeToLive&quot; value=&quot;300000&quot;/&gt;\r\n  &lt;/bean&gt;\r\n\r\n  &lt;bean id=&quot;jmsListenerContainerFactory&quot; class=&quot;org.springframework.jms.config.DefaultJmsListenerContainerFactory&quot;&gt;\r\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\r\n    &lt;property name=&quot;replyQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\r\n  &lt;/bean&gt;\r\n\r\n  &lt;jms:listener-container factory-id=&quot;jmsListenerContainerFactory&quot;&gt;\r\n    &lt;jms:listener destination=&quot;starter.load&quot; ref=&quot;starterJmsListener&quot; method=&quot;startLoad&quot; concurrency=&quot;3&quot; selector=&quot;destinationServer = &#39;${hub.name}&#39; OR destinationServer IS NULL&quot;/&gt;\r\n    &lt;jms:listener destination=&quot;starter.isLoadRunning&quot; ref=&quot;starterJmsListener&quot; method=&quot;isRunning&quot; selector=&quot;destinationServer = &#39;${hub.name}&#39; OR destinationServer IS NULL&quot;/&gt;\r\n  &lt;/jms:listener-container&gt;\r\n```\r\n\r\nBut this doesn&#39;t work and after hours of debugging I&#39;ve no idea how to get it working.\r\n\r\nI also tried my own `MessageListenerContainer` implementation with hard-coded replyQosSettings but without success.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.6/reference/html/integration.html#jms-namespace","title":"Spring JMS: replyQosSettings via XML Configuration","body":"<p>I'm using Spring JMS 5.3.6 for an application where I need to set a TimeToLive for my response messages.\nThe application is configured via XML and is using the JMS namespace.</p>\n<p>When reading the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.6/reference/html/integration.html#jms-namespace\" rel=\"nofollow noreferrer\">Spring documentation</a> my guess was that I need to create a <code>JmsListenerContainerFactory</code> instance which I then pass to the listener-container via the factory-id attribute.</p>\n<p>But the documentation is not really clear here (or doesn't match the description). Because it states:</p>\n<blockquote>\n<p>You can automatically expose such settings as a JmsListenerContainerFactory by specifying the id of the bean to expose through the factory-id attribute, as the following example shows</p>\n</blockquote>\n<p>But the following example then doesn't contain the factory-id attribute.</p>\n<p>This is my current configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;bean id=&quot;replyQosSettings&quot; class=&quot;org.springframework.jms.support.QosSettings&quot;&gt;\n    &lt;constructor-arg name=&quot;deliveryMode&quot; value=&quot;1&quot;/&gt;\n    &lt;constructor-arg name=&quot;priority&quot; value=&quot;4&quot;/&gt;\n    &lt;constructor-arg name=&quot;timeToLive&quot; value=&quot;300000&quot;/&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=&quot;jmsListenerContainerFactory&quot; class=&quot;org.springframework.jms.config.DefaultJmsListenerContainerFactory&quot;&gt;\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\n    &lt;property name=&quot;replyQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\n  &lt;/bean&gt;\n\n  &lt;jms:listener-container factory-id=&quot;jmsListenerContainerFactory&quot;&gt;\n    &lt;jms:listener destination=&quot;starter.load&quot; ref=&quot;starterJmsListener&quot; method=&quot;startLoad&quot; concurrency=&quot;3&quot; selector=&quot;destinationServer = '${hub.name}' OR destinationServer IS NULL&quot;/&gt;\n    &lt;jms:listener destination=&quot;starter.isLoadRunning&quot; ref=&quot;starterJmsListener&quot; method=&quot;isRunning&quot; selector=&quot;destinationServer = '${hub.name}' OR destinationServer IS NULL&quot;/&gt;\n  &lt;/jms:listener-container&gt;\n</code></pre>\n<p>But this doesn't work and after hours of debugging I've no idea how to get it working.</p>\n<p>I also tried my own <code>MessageListenerContainer</code> implementation with hard-coded replyQosSettings but without success.</p>\n"},{"tags":["java","field","mailmerge","aspose.words"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":1,"creation_date":1689769072,"post_id":76721200,"comment_id":135259594,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689775143,"creation_date":1689775143,"answer_id":76722129,"question_id":76721200,"body_markdown":"It is not the must to use XML as a data source to execute mail merge with regions. In your case you should use [IMailMergeDataSource][1]. Using it you can use any object as data source for executing mail merge. \r\n\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/imailmergedatasource/","title":"Need to implement mail merge by using Aspose word with java for normal fields as well as tables","body":"<p>It is not the must to use XML as a data source to execute mail merge with regions. In your case you should use <a href=\"https://reference.aspose.com/words/java/com.aspose.words/imailmergedatasource/\" rel=\"nofollow noreferrer\">IMailMergeDataSource</a>. Using it you can use any object as data source for executing mail merge.</p>\n"}],"owner":{"account_id":27081170,"reputation":13,"user_id":20630313,"display_name":"Pankaj Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689775143,"creation_date":1689768928,"question_id":76721200,"body_markdown":"We are using java spring boot project, and implemented a REST API to perform a aspose word mail merge.\r\n\r\nInput to REST : Word file (containing mail merge fields, tables), JSON body (values required to merge)\r\nOutput : mail merged Word file.\r\n\r\nFor mail merge of normal fields in word, we are successfully able to do it with JSON input.\r\n\r\nWhere as, I analyzed that, for mail merge of table, we need to provide the input in specific XML file.\r\nIs it possible to mail merge tables with method executeWithRegions() with JSON input? or input in XML is must?\r\n\r\nCurrent implementation :\r\n\r\nI have used &quot;JSON INPUT&quot; receiving from REST to perform mail merge of &quot;Normal Fields&quot;\r\nAnd \r\nI have to provide a hardcoded xml file to perform mail merge for &quot;TABLE&quot; in the same word document.(which is not useful for dynamic mail merge)\r\n\r\nThis is not a good solution to execute mail merge option twice,\r\n1 for normal fields with JSON input.\r\n2 for TABLES with XML file input.\r\n\r\nWhereas, we are not getting any XML data as input. We are just getting JSON object as below,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn above input :\r\n 1. Normal fields : title, header. \r\n 2. Tables : Table1.\r\n\r\nJava code implemented :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs it possible to use only JSON for mail merge of normal fields and tables?\r\nor is it possible to convert JSON to XML and to use XML as a common input for both normal fields and tables?\r\n\r\n\r\nAlso,\r\ntable mail merge requires XML format as,\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nwhere as standard XML document with converter provides XML format as,\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAlso if we are adding normal mail merge fields in XML file, then it is not performing mail merge of normal fields, it is performing mail merge of tables only.\r\n\r\nKindly suggest the better solution.\r\n\r\nThanks in Advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zzUoh.png\r\n  [2]: https://i.stack.imgur.com/Slo1p.png\r\n  [3]: https://i.stack.imgur.com/l4Io7.png\r\n  [4]: https://i.stack.imgur.com/tTv9P.png","title":"Need to implement mail merge by using Aspose word with java for normal fields as well as tables","body":"<p>We are using java spring boot project, and implemented a REST API to perform a aspose word mail merge.</p>\n<p>Input to REST : Word file (containing mail merge fields, tables), JSON body (values required to merge)\nOutput : mail merged Word file.</p>\n<p>For mail merge of normal fields in word, we are successfully able to do it with JSON input.</p>\n<p>Where as, I analyzed that, for mail merge of table, we need to provide the input in specific XML file.\nIs it possible to mail merge tables with method executeWithRegions() with JSON input? or input in XML is must?</p>\n<p>Current implementation :</p>\n<p>I have used &quot;JSON INPUT&quot; receiving from REST to perform mail merge of &quot;Normal Fields&quot;\nAnd\nI have to provide a hardcoded xml file to perform mail merge for &quot;TABLE&quot; in the same word document.(which is not useful for dynamic mail merge)</p>\n<p>This is not a good solution to execute mail merge option twice,\n1 for normal fields with JSON input.\n2 for TABLES with XML file input.</p>\n<p>Whereas, we are not getting any XML data as input. We are just getting JSON object as below,</p>\n<p><a href=\"https://i.stack.imgur.com/zzUoh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zzUoh.png\" alt=\"enter image description here\" /></a></p>\n<p>In above input :</p>\n<ol>\n<li>Normal fields : title, header.</li>\n<li>Tables : Table1.</li>\n</ol>\n<p>Java code implemented :</p>\n<p><a href=\"https://i.stack.imgur.com/Slo1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Slo1p.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible to use only JSON for mail merge of normal fields and tables?\nor is it possible to convert JSON to XML and to use XML as a common input for both normal fields and tables?</p>\n<p>Also,\ntable mail merge requires XML format as,</p>\n<p><a href=\"https://i.stack.imgur.com/l4Io7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l4Io7.png\" alt=\"enter image description here\" /></a></p>\n<p>where as standard XML document with converter provides XML format as,</p>\n<p><a href=\"https://i.stack.imgur.com/tTv9P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tTv9P.png\" alt=\"enter image description here\" /></a></p>\n<p>Also if we are adding normal mail merge fields in XML file, then it is not performing mail merge of normal fields, it is performing mail merge of tables only.</p>\n<p>Kindly suggest the better solution.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","spring-boot","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689774839,"creation_date":1689774839,"answer_id":76722069,"question_id":76220676,"body_markdown":"You can use the `sonar.issue.ignore.block` config to define comment patterns to stop and restart sonar processing and then use those comments around the method you want to ignore.\r\n\r\nWith the `sonarqube` gradle plugin, the config could look like below:\r\n\r\n```\r\nsonarqube {\r\n    properties {\r\n        property &#39;sonar.issue.ignore.block&#39;, &#39;e1&#39;\r\n        property &#39;sonar.issue.ignore.block.e1.beginBlockRegexp&#39;, &#39;@sonar-stop&#39;\r\n        property &#39;sonar.issue.ignore.block.e1.endBlockRegexp&#39;, &#39;@sonar-start&#39;\r\n    }\r\n}\r\n```\r\n\r\nThen the usage would look something like below:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;Log 1&quot;);\r\n    \t\r\n    // @sonar-stop\r\n    System.out.println(&quot;Log 2&quot;);\r\n    System.out.println(&quot;Log 3&quot;);\r\n    \t\r\n    // @sonar-start\r\n    System.out.println(&quot;Log 4&quot;);\r\n}\r\n```\r\n\r\nNow the second and third print statements won&#39;t be detected as issues by sonar.","title":"Sonar Skipping Method","body":"<p>You can use the <code>sonar.issue.ignore.block</code> config to define comment patterns to stop and restart sonar processing and then use those comments around the method you want to ignore.</p>\n<p>With the <code>sonarqube</code> gradle plugin, the config could look like below:</p>\n<pre><code>sonarqube {\n    properties {\n        property 'sonar.issue.ignore.block', 'e1'\n        property 'sonar.issue.ignore.block.e1.beginBlockRegexp', '@sonar-stop'\n        property 'sonar.issue.ignore.block.e1.endBlockRegexp', '@sonar-start'\n    }\n}\n</code></pre>\n<p>Then the usage would look something like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(&quot;Log 1&quot;);\n        \n    // @sonar-stop\n    System.out.println(&quot;Log 2&quot;);\n    System.out.println(&quot;Log 3&quot;);\n        \n    // @sonar-start\n    System.out.println(&quot;Log 4&quot;);\n}\n</code></pre>\n<p>Now the second and third print statements won't be detected as issues by sonar.</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689774839,"creation_date":1683735861,"question_id":76220676,"body_markdown":"I have a java project with sonarqube on, and currently we also have one method that should be excluded from tests. I understand for one liners, we could annotate `//NOSONAR`, but what is a good way to skip code coverage scanning for one entire method? I am using springboot, is there some annotation or something?\r\n\r\nThanks!","title":"Sonar Skipping Method","body":"<p>I have a java project with sonarqube on, and currently we also have one method that should be excluded from tests. I understand for one liners, we could annotate <code>//NOSONAR</code>, but what is a good way to skip code coverage scanning for one entire method? I am using springboot, is there some annotation or something?</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","spring","serialization"],"answers":[{"tags":[],"owner":{"account_id":6142521,"reputation":151,"user_id":4789493,"display_name":"Davipb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637962948,"creation_date":1637962948,"answer_id":70130295,"question_id":70130226,"body_markdown":"Jackson doesn&#39;t support `org.json` classes by default. Try to build your JSON Object using Jackson&#39;s `com.fasterxml.jackson.databind.node.ObjectNode` instead.","title":"Spring - HttpMessageConversionException using ResponseEntity with Map&lt;String,JSONobject&gt;","body":"<p>Jackson doesn't support <code>org.json</code> classes by default. Try to build your JSON Object using Jackson's <code>com.fasterxml.jackson.databind.node.ObjectNode</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":12270461,"reputation":1531,"user_id":8955751,"display_name":"SanketKD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689774810,"creation_date":1689774810,"answer_id":76722065,"question_id":70130226,"body_markdown":"Add default constructors in models to support deserialization","title":"Spring - HttpMessageConversionException using ResponseEntity with Map&lt;String,JSONobject&gt;","body":"<p>Add default constructors in models to support deserialization</p>\n"}],"owner":{"account_id":5246206,"reputation":426,"user_id":4191849,"display_name":"Eunito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689774810,"creation_date":1637962343,"question_id":70130226,"body_markdown":"I&#39;m facing an issue regarding the acess to a JSONobject inside a Map&lt;String,JSONobject&gt;.\r\n\r\nBasically I&#39;m trying to build a Json reply in a controller method like this:\r\n\r\n    {\r\n        &quot;item1&quot;: {\r\n            &quot;type1&quot;: 2,\r\n            &quot;type5&quot;: 1\r\n        },\r\n        &quot;item6&quot;: {\r\n            &quot;type3&quot;: 32,\r\n            &quot;type26&quot;: 7,\r\n            &quot;type5&quot;: 9\r\n            (being the number of keys inside of each key/value an object with several key/value entries)\r\n        }\r\n    }\r\n\r\nThis is the controller:\r\n\r\n    @PostMapping(value=&quot;/endpoint&quot;)\r\n        public ResponseEntity&lt;?&gt; aggData(@RequestBody List&lt;ValidNum&gt; nums){\r\n            try {\r\n                Map&lt;String, JSONObject&gt; data = dataService.aggData(numsData);\r\n                AggSuccess callSuccessResp = new AggSuccess(data);\r\n                return new ResponseEntity&lt;&gt;(callSuccessResp, HttpStatus.OK);\r\n            } catch (Error e) {\r\n                AggError callErrorResp = new AggError(e.getMessage());\r\n                return new ResponseEntity&lt;AggregatedDataError&gt;(callErrorResp, HttpStatus.BAD_REQUEST);\r\n            }\r\n        }\r\n\r\nThis is the service implementation\r\n\r\n \r\n\r\n    @Override\r\n        public Map&lt;String,JSONObject&gt; aggregateData(List&lt;ValidNum&gt; numsData) {\r\n            Map&lt;String,JSONObject&gt; aggData = new HashMap&lt;&gt;();\r\n    \r\n            for (ValidNum vn : numsData) {\r\n    \r\n                if (aggData.get(vn.item) == null) {\r\n                    JSONObject itemTypesCount = new JSONObject();\r\n                    aggData.put(vn.item, itemTypesCount.put(vn.type, 1));\r\n                } else {\r\n                    JSONObject itemData = aggData.get(vn.item);\r\n                    Long typeValue  = (Long) itemData.get(vn.type);\r\n                    itemData.put(vn.type, typeValue+1);\r\n                    aggData.put(vn.item, itemData);\r\n                }\r\n            }\r\n    \r\n            return aggData;\r\n        }\r\n\r\nThe ValidNum class\r\n\r\n    public class ValidNum {\r\n    \r\n        public String nr;\r\n        public String item;\r\n        public String type;\r\n    \r\n        public ValidNumber(String nr, String item, String type) {\r\n            this.nr = nr;\r\n            this.item = item;\r\n            this.type = type;\r\n        }\r\n    \r\n    }\r\n\r\nThe AggSuccess response class (where I think problem is)\r\n\r\n    public class AggSuccess {\r\n        public Map&lt;String,JSONObject&gt; aggSuccess;\r\n    \r\n        public AggSuccess(Map&lt;String, JSONObject&gt; aggSuccess) {\r\n            this.aggSuccess = aggSuccess;\r\n        }\r\n    \r\n    }\r\n\r\nThe problem is that I&#39;m allways getting an error unless I add this to the application properties: `spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false`\r\nand I don&#39;t want that because I don&#39;t wan&#39;t data to look like this:\r\n\r\n\r\n    {\r\n        &quot;item1&quot;: {},\r\n        &quot;item6&quot;: {}\r\n    }\r\n\r\nCommenting that entry I get the following error:\r\n\r\n    ERROR 26551 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])] with root cause\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])\r\n\r\n\r\nand the weirdest part is the fact that debugging in the controller&#39;s callSuccessResp, right before sending data back to postman, I get the correct json value:\r\n\r\n    {\r\n        &quot;item1&quot;: {\r\n            &quot;type1&quot;: 2,\r\n            &quot;type5&quot;: 1\r\n        },\r\n        &quot;item6&quot;: {\r\n            &quot;type3&quot;: 32,\r\n            &quot;type26&quot;: 7,\r\n            &quot;type5&quot;: 9\r\n        }\r\n    }\r\n\r\nSo, what can I do to get the response entity to read and serialize the JSONobject properly?\r\n\r\n","title":"Spring - HttpMessageConversionException using ResponseEntity with Map&lt;String,JSONobject&gt;","body":"<p>I'm facing an issue regarding the acess to a JSONobject inside a Map&lt;String,JSONobject&gt;.</p>\n<p>Basically I'm trying to build a Json reply in a controller method like this:</p>\n<pre><code>{\n    &quot;item1&quot;: {\n        &quot;type1&quot;: 2,\n        &quot;type5&quot;: 1\n    },\n    &quot;item6&quot;: {\n        &quot;type3&quot;: 32,\n        &quot;type26&quot;: 7,\n        &quot;type5&quot;: 9\n        (being the number of keys inside of each key/value an object with several key/value entries)\n    }\n}\n</code></pre>\n<p>This is the controller:</p>\n<pre><code>@PostMapping(value=&quot;/endpoint&quot;)\n    public ResponseEntity&lt;?&gt; aggData(@RequestBody List&lt;ValidNum&gt; nums){\n        try {\n            Map&lt;String, JSONObject&gt; data = dataService.aggData(numsData);\n            AggSuccess callSuccessResp = new AggSuccess(data);\n            return new ResponseEntity&lt;&gt;(callSuccessResp, HttpStatus.OK);\n        } catch (Error e) {\n            AggError callErrorResp = new AggError(e.getMessage());\n            return new ResponseEntity&lt;AggregatedDataError&gt;(callErrorResp, HttpStatus.BAD_REQUEST);\n        }\n    }\n</code></pre>\n<p>This is the service implementation</p>\n<pre><code>@Override\n    public Map&lt;String,JSONObject&gt; aggregateData(List&lt;ValidNum&gt; numsData) {\n        Map&lt;String,JSONObject&gt; aggData = new HashMap&lt;&gt;();\n\n        for (ValidNum vn : numsData) {\n\n            if (aggData.get(vn.item) == null) {\n                JSONObject itemTypesCount = new JSONObject();\n                aggData.put(vn.item, itemTypesCount.put(vn.type, 1));\n            } else {\n                JSONObject itemData = aggData.get(vn.item);\n                Long typeValue  = (Long) itemData.get(vn.type);\n                itemData.put(vn.type, typeValue+1);\n                aggData.put(vn.item, itemData);\n            }\n        }\n\n        return aggData;\n    }\n</code></pre>\n<p>The ValidNum class</p>\n<pre><code>public class ValidNum {\n\n    public String nr;\n    public String item;\n    public String type;\n\n    public ValidNumber(String nr, String item, String type) {\n        this.nr = nr;\n        this.item = item;\n        this.type = type;\n    }\n\n}\n</code></pre>\n<p>The AggSuccess response class (where I think problem is)</p>\n<pre><code>public class AggSuccess {\n    public Map&lt;String,JSONObject&gt; aggSuccess;\n\n    public AggSuccess(Map&lt;String, JSONObject&gt; aggSuccess) {\n        this.aggSuccess = aggSuccess;\n    }\n\n}\n</code></pre>\n<p>The problem is that I'm allways getting an error unless I add this to the application properties: <code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false</code>\nand I don't want that because I don't wan't data to look like this:</p>\n<pre><code>{\n    &quot;item1&quot;: {},\n    &quot;item6&quot;: {}\n}\n</code></pre>\n<p>Commenting that entry I get the following error:</p>\n<pre><code>ERROR 26551 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])] with root cause\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])\n</code></pre>\n<p>and the weirdest part is the fact that debugging in the controller's callSuccessResp, right before sending data back to postman, I get the correct json value:</p>\n<pre><code>{\n    &quot;item1&quot;: {\n        &quot;type1&quot;: 2,\n        &quot;type5&quot;: 1\n    },\n    &quot;item6&quot;: {\n        &quot;type3&quot;: 32,\n        &quot;type26&quot;: 7,\n        &quot;type5&quot;: 9\n    }\n}\n</code></pre>\n<p>So, what can I do to get the response entity to read and serialize the JSONobject properly?</p>\n"},{"tags":["java","junit","gitlab","continuous-integration","cucumber"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689790433,"post_id":76722033,"comment_id":135264883,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19366740,"reputation":1,"user_id":14160854,"display_name":"Hiko Txs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689774587,"creation_date":1689774587,"question_id":76722033,"body_markdown":"package runner;\r\n\r\nimport io.cucumber.junit.Cucumber;\r\n\r\n\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport org.junit.runner.RunWith;\r\n\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n\r\n        plugin = {\r\n                &quot;html:target/cucumber-report.html&quot;,\r\n                &quot;rerun:target/rerun.txt&quot; ,\r\n                &quot;timeline:target/cucumber&quot;,\r\n        },\r\n        features = &quot;src/test/resources/feature&quot;,\r\n        glue = &quot;steps&quot;,\r\n        dryRun = false,\r\n        tags = &quot;@wi&quot;\r\n        \r\n)\r\npublic class  CukesRunner {\r\n\r\n}\r\nI want to change tags dynamically I tried almost everything doesn&#39;t work I use gradle \r\n\r\nI tried to following ways :\r\n./gradlew test -Dcucumber.filter.tags=&quot;@yourTag&quot; many other ways still can&#39;t find a way","title":"Is there any way I can change My Cucumber tags on gitlab ci/cd format","body":"<p>package runner;</p>\n<p>import io.cucumber.junit.Cucumber;</p>\n<p>import io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;</p>\n<p>@RunWith(Cucumber.class)\n@CucumberOptions(</p>\n<pre><code>    plugin = {\n            &quot;html:target/cucumber-report.html&quot;,\n            &quot;rerun:target/rerun.txt&quot; ,\n            &quot;timeline:target/cucumber&quot;,\n    },\n    features = &quot;src/test/resources/feature&quot;,\n    glue = &quot;steps&quot;,\n    dryRun = false,\n    tags = &quot;@wi&quot;\n    \n</code></pre>\n<p>)\npublic class  CukesRunner {</p>\n<p>}\nI want to change tags dynamically I tried almost everything doesn't work I use gradle</p>\n<p>I tried to following ways :\n./gradlew test -Dcucumber.filter.tags=&quot;@yourTag&quot; many other ways still can't find a way</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1689774630,"post_id":76722018,"comment_id":135261189,"body_markdown":"The most obvious part is that there are no quotes around your json though there are around your other parameters. Try to add them. Also, the json is not a header. It&#39;s the query data.","body":"The most obvious part is that there are no quotes around your json though there are around your other parameters. Try to add them. Also, the json is not a header. It&#39;s the query data."},{"owner":{"account_id":12362998,"reputation":105,"user_id":13976671,"display_name":"user112a2"},"score":0,"creation_date":1689774874,"post_id":76722018,"comment_id":135261259,"body_markdown":"Thank you. Tried that, now I am getting: Error: Header name must be a valid HTTP token [&quot;{ &quot;id&quot;&quot;]","body":"Thank you. Tried that, now I am getting: Error: Header name must be a valid HTTP token [&quot;{ &quot;id&quot;&quot;]"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1689775346,"post_id":76722018,"comment_id":135261404,"body_markdown":"As I said, the data is not a header, so why are you putting it after `-H`?","body":"As I said, the data is not a header, so why are you putting it after <code>-H</code>?"}],"owner":{"account_id":12362998,"reputation":105,"user_id":13976671,"display_name":"user112a2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689774499,"creation_date":1689774499,"question_id":76722018,"body_markdown":"I am using Postman to run the below Rest API code. After running this code, I am getting error message:     ***&quot;technical&quot;: &quot;Failed to deserialize json string to target type com.silanis.esl.api.model.Field&quot;, &quot;message&quot;: &quot;Invalid JSON***. I am not sure how to resolve this error message. I am trying to add a field to a package. How can I correct this code so that it will add a field in the package and run correctly? I am new to using Rest API, so could use some suggestions on getting this to work. \r\n\r\n    curl -X &#39;POST&#39; \\\r\n    &#39;https://sandbox.esignlive.com/api/packages/WlnHZN0WH1xKX6GHGTFbQtGPBJg=/documents/cec7f9fa480589d46a91944ca2b4e8921df2aaef094ae042/approvals/MfSNKUFMhHIB/fields&#39; \\\r\n      -H &#39;accept: application/json&#39; \\\r\n      -H &#39;Authorization: Basic api_key&#39; \\\r\n      -H  { &quot;id&quot;: &quot;date_field&quot;, &quot;name&quot;: &quot;date_field&quot;, &quot;type&quot;: &quot;INPUT&quot;,  &quot;subtype&quot;: &quot;LABEL&quot;, &quot;value&quot;: &quot;2023-01-01&quot;, &quot;page&quot;: 0, &quot;width&quot;: 269.9928097345133, &quot;height&quot;: 59.986172566371685,  &quot;top&quot;: 694.5371497050148, &quot;left&quot;: 275.8079830383481 }","title":"Failed to deserialize json string to target","body":"<p>I am using Postman to run the below Rest API code. After running this code, I am getting error message:     <em><strong>&quot;technical&quot;: &quot;Failed to deserialize json string to target type com.silanis.esl.api.model.Field&quot;, &quot;message&quot;: &quot;Invalid JSON</strong></em>. I am not sure how to resolve this error message. I am trying to add a field to a package. How can I correct this code so that it will add a field in the package and run correctly? I am new to using Rest API, so could use some suggestions on getting this to work.</p>\n<pre><code>curl -X 'POST' \\\n'https://sandbox.esignlive.com/api/packages/WlnHZN0WH1xKX6GHGTFbQtGPBJg=/documents/cec7f9fa480589d46a91944ca2b4e8921df2aaef094ae042/approvals/MfSNKUFMhHIB/fields' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Basic api_key' \\\n  -H  { &quot;id&quot;: &quot;date_field&quot;, &quot;name&quot;: &quot;date_field&quot;, &quot;type&quot;: &quot;INPUT&quot;,  &quot;subtype&quot;: &quot;LABEL&quot;, &quot;value&quot;: &quot;2023-01-01&quot;, &quot;page&quot;: 0, &quot;width&quot;: 269.9928097345133, &quot;height&quot;: 59.986172566371685,  &quot;top&quot;: 694.5371497050148, &quot;left&quot;: 275.8079830383481 }\n</code></pre>\n"},{"tags":["java","elasticsearch","sonarqube","sonarqube-scan","sonarqube-ops"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689809908,"post_id":76721947,"comment_id":135267778,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":17852461,"reputation":1,"user_id":12967918,"display_name":"sri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689774024,"creation_date":1689774024,"question_id":76721947,"body_markdown":"I ran the sartsonar.bat file in cmd window I got the below error. \r\n\r\n```\r\nStarting SonarQube...\r\n09:29:55.707 [main] WARN org.sonar.application.config.AppSettingsLoaderImpl - Configuration file not found: C:\\sonarqube\\conf\\sonar.properties\r\n2023.07.19 09:29:55 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\sonarqube\\temp\r\n2023.07.19 09:29:55 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:50044]\r\n2023.07.19 09:29:55 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[ELASTICSEARCH] from [C:\\sonarqube\\elasticsearch]: C:\\Program Files\\Java\\jdk-17\\bin\\java -Xms4m -Xmx64m -XX:+UseSerialGC -Dcli.name=server -Dcli.script=./bin/elasticsearch -Dcli.libs=lib/tools/server-cli -Des.path.home=C:\\sonarqube\\elasticsearch -Des.path.conf=C:\\sonarqube\\temp\\conf\\es -Des.distribution.type=tar -cp C:\\sonarqube\\elasticsearch\\lib\\*;C:\\sonarqube\\elasticsearch\\lib\\cli-launcher\\* org.elasticsearch.launcher.CliToolLauncher\r\n2023.07.19 09:29:56 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\n2023.07.19 09:29:56 ERROR app[][o.s.a.p.EsManagedProcess] Failed to check status\r\norg.elasticsearch.ElasticsearchException: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Not Found&lt;/TITLE&gt;\r\n&lt;META HTTP-EQUIV=&quot;Content-Type&quot; Content=&quot;text/html; charset=us-ascii&quot;&gt;&lt;/HEAD&gt;\r\n&lt;BODY&gt;&lt;h2&gt;Not Found&lt;/h2&gt;\r\n&lt;hr&gt;&lt;p&gt;HTTP Error 404. The requested resource is not found.&lt;/p&gt;\r\n&lt;/BODY&gt;&lt;/HTML&gt;\r\n\r\n        at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2695)\r\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\r\n        at org.elasticsearch.client.ClusterClient.health(ClusterClient.java:151)\r\n        at org.sonar.application.es.EsConnectorImpl.getClusterHealthStatus(EsConnectorImpl.java:64)\r\n        at org.sonar.application.process.EsManagedProcess.checkStatus(EsManagedProcess.java:92)\r\n        at org.sonar.application.process.EsManagedProcess.checkOperational(EsManagedProcess.java:77)\r\n        at org.sonar.application.process.EsManagedProcess.isOperational(EsManagedProcess.java:62)\r\n        at org.sonar.application.process.ManagedProcessHandler.refreshState(ManagedProcessHandler.java:223)\r\n        at org.sonar.application.process.ManagedProcessHandler$EventWatcher.run(ManagedProcessHandler.java:288)\r\nCaused by: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n```\r\n\r\n\r\nI tried sonarqube 9.9, 10 and latest versions I got same error.\r\nI used jdk-17, jdk1.8.0_212.","title":"Getting 404 error while running startsonar.bat on windows 11","body":"<p>I ran the sartsonar.bat file in cmd window I got the below error.</p>\n<pre><code>Starting SonarQube...\n09:29:55.707 [main] WARN org.sonar.application.config.AppSettingsLoaderImpl - Configuration file not found: C:\\sonarqube\\conf\\sonar.properties\n2023.07.19 09:29:55 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\sonarqube\\temp\n2023.07.19 09:29:55 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:50044]\n2023.07.19 09:29:55 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[ELASTICSEARCH] from [C:\\sonarqube\\elasticsearch]: C:\\Program Files\\Java\\jdk-17\\bin\\java -Xms4m -Xmx64m -XX:+UseSerialGC -Dcli.name=server -Dcli.script=./bin/elasticsearch -Dcli.libs=lib/tools/server-cli -Des.path.home=C:\\sonarqube\\elasticsearch -Des.path.conf=C:\\sonarqube\\temp\\conf\\es -Des.distribution.type=tar -cp C:\\sonarqube\\elasticsearch\\lib\\*;C:\\sonarqube\\elasticsearch\\lib\\cli-launcher\\* org.elasticsearch.launcher.CliToolLauncher\n2023.07.19 09:29:56 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\n2023.07.19 09:29:56 ERROR app[][o.s.a.p.EsManagedProcess] Failed to check status\norg.elasticsearch.ElasticsearchException: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Not Found&lt;/TITLE&gt;\n&lt;META HTTP-EQUIV=&quot;Content-Type&quot; Content=&quot;text/html; charset=us-ascii&quot;&gt;&lt;/HEAD&gt;\n&lt;BODY&gt;&lt;h2&gt;Not Found&lt;/h2&gt;\n&lt;hr&gt;&lt;p&gt;HTTP Error 404. The requested resource is not found.&lt;/p&gt;\n&lt;/BODY&gt;&lt;/HTML&gt;\n\n        at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2695)\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\n        at org.elasticsearch.client.ClusterClient.health(ClusterClient.java:151)\n        at org.sonar.application.es.EsConnectorImpl.getClusterHealthStatus(EsConnectorImpl.java:64)\n        at org.sonar.application.process.EsManagedProcess.checkStatus(EsManagedProcess.java:92)\n        at org.sonar.application.process.EsManagedProcess.checkOperational(EsManagedProcess.java:77)\n        at org.sonar.application.process.EsManagedProcess.isOperational(EsManagedProcess.java:62)\n        at org.sonar.application.process.ManagedProcessHandler.refreshState(ManagedProcessHandler.java:223)\n        at org.sonar.application.process.ManagedProcessHandler$EventWatcher.run(ManagedProcessHandler.java:288)\nCaused by: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\n</code></pre>\n<p>I tried sonarqube 9.9, 10 and latest versions I got same error.\nI used jdk-17, jdk1.8.0_212.</p>\n"},{"tags":["java","eclipse","gradle","build"],"owner":{"account_id":28949040,"reputation":53,"user_id":22174061,"display_name":"ash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689773942,"creation_date":1689715641,"question_id":76716646,"body_markdown":"I imported a Gradle project into Eclipse using `Gradle &gt; Existing Gradle Project`. \r\n\r\nThe project `prj-main` has subprojects `subprj-1`, `subprj-2`. \r\n\r\n`subprj-2`, requires `subprj-1`. \r\n\r\n`subprj-1` doesn’t depend on “anyone” except the external dependencies. \r\n\r\nEclipse Markers is showing me following errors. these aren&#39;t the only errors but most peculiar ones: \r\n\r\n\r\n```\r\nDescription\tResource\tPath\tLocation\tType\r\nFailed to configure project subprj-1\tbuild.gradle\t/prj-main\tline 0\tGradle Error Marker\r\nFailed to configure project subprj-2\tbuild.gradle\t/prj-main\tline 0\tGradle Error Marker\r\n\r\nDescription\tResource\tPath\tLocation\tType\r\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files\tmodule-info.java /subprj-1/src/main/java\tline 1\tJava Problem\r\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files\tmodule-info.java /subprj-2/src/main/java\tline 1\tJava Problem\r\n```\r\n\r\n\r\nThis project is running on IntelliJ in other developers’ environments. \r\nIt’s also running in my DOS environment also. However, I’m getting errors to it on Eclipse. \r\n\r\nFollowing are the `build.gradle` full-contents of resply `prj-main`, `subprj-1` and `subprj-2`. i&#39;m also giving the `module-info.java` contents at the bottom.\r\n\r\n**prj-main:**\r\n```\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup = &#39;prj-main&#39;\r\next.moduleName = &#39;com.xyz.prj-main&#39;\r\nversion = &#39;0.0.1&#39;\r\n\r\ndef compatibilityVersion = JavaVersion.VERSION_11\r\nsourceCompatibility = compatibilityVersion\r\ntargetCompatibility = compatibilityVersion\r\nepositories {\r\n    mavenCentral()\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    implementation project(&quot;:subprj-1&quot;)\r\n    implementation project(&quot;:subprj-2&quot;)\r\n}\r\n\r\njar {\r\n    inputs.property(&quot;moduleName&quot;, moduleName)\r\n    manifest {\r\n        attributes(&#39;Automatic-Module-Name&#39;: moduleName)\r\n    }\r\n\r\n    manifest {\r\n        attributes &#39;Automatic-Module-Name&#39;: moduleName,\r\n                &#39;Implementation-Title&#39;: &#39;xyz&#39;,\r\n                &#39;Implementation-Version&#39;: version,\r\n                &#39;Built-By&#39;: System.getProperty(&#39;user.name&#39;),\r\n                &#39;Built-Date&#39;: new Date(),\r\n                &#39;Built-JDK&#39;: System.getProperty(&#39;java.version&#39;),\r\n                &#39;Built-Gradle&#39;: gradle.gradleVersion\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    afterEvaluate {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n\r\n        compileJava {\r\n            inputs.property(&quot;moduleName&quot;, moduleName)\r\n            doFirst {\r\n                options.compilerArgs = [\r\n                        &#39;--module-path&#39;, classpath.asPath,\r\n                ]\r\n                classpath = files()\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\napplication {\r\n    mainClassName = &#39;com.xyz.prj-main.subprj-2.init.Start&#39;\r\n}\r\n```\r\n\r\n\r\n**subprj-1:**\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;\r\n}\r\n\r\napply from: &#39;../versions.gradle&#39;\r\n\r\ngroup = &#39;com.xyz.prj-main.subprj-1&#39;\r\next.moduleName = &#39;com.xyz.prj-main.subprj-1&#39;\r\nversion = &#39;0.0.1&#39;\r\n\r\ndef compatibilityVersion = JavaVersion.VERSION_11\r\nsourceCompatibility = compatibilityVersion\r\ntargetCompatibility = compatibilityVersion\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    // all external dependencies \r\n\r\n    // Apache commons\r\n    implementation (&quot;commons-io:commons-io:${commonsIoVersion}&quot;)\r\n    // ..\r\n}\r\n\r\njar {\r\n    inputs.property(&quot;moduleName&quot;, moduleName)\r\n    manifest {\r\n        attributes(&#39;Automatic-Module-Name&#39;: moduleName)\r\n    }\r\n    manifest {\r\n        attributes &#39;Automatic-Module-Name&#39;: moduleName,\r\n                &#39;Implementation-Title&#39;: &#39;xyz&#39;,\r\n                &#39;Implementation-Version&#39;: version,\r\n                &#39;Built-By&#39;: System.getProperty(&#39;user.name&#39;),\r\n                &#39;Built-Date&#39;: new Date(),\r\n                &#39;Built-JDK&#39;: System.getProperty(&#39;java.version&#39;),\r\n                &#39;Built-Gradle&#39;: gradle.gradleVersion\r\n    }\r\n}\r\n\r\n/* to copy all 3rd party jars in dependencies to output dir */\r\ntask copyDependencies(type: Copy) {\r\n    from configurations.compileClasspath\r\n    into &#39;build/libs&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform {\r\n        includeTags &quot;localOnly&quot;\r\n    }\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    finalizedBy jacocoTestReport\r\n}\r\n// Set the location of the JUnit tests.\r\nsourceSets {\r\n    test {\r\n        java {\r\n            srcDirs = [&#39;src/test&#39;]\r\n        }\r\n    }\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.enabled true\r\n        html.enabled true\r\n        csv.enabled true\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**subprj-2:**\r\n\r\n```\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &quot;net.ossindex.audit&quot; version &quot;0.4.11&quot;\r\n    id &#39;jacoco&#39;\r\n}\r\n\r\napply from: &#39;../versions.gradle&#39;\r\n\r\ngroup = &#39;com.xyz.prj-main.subprj-2&#39;\r\next.moduleName = &#39;com.xyz.prj-main.subprj-2&#39;\r\nversion = &#39;0.0.1&#39;\r\n\r\ndef compatibilityVersion = JavaVersion.VERSION_11\r\nsourceCompatibility = compatibilityVersion\r\ntargetCompatibility = compatibilityVersion\r\n\r\nrepositories {\r\n    mavenCentral()\r\n   flatDir {\r\n       dirs &#39;static-libs&#39;\r\n   }\r\n    maven {\r\n        url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    // Internal\r\n    implementation(project(&#39;:subprj-1&#39;))\r\n\r\n    // all external dependencies from here on \r\n    implementation &#39;commons-logging:commons-logging:1.2&#39;\r\n    // ..\r\n\r\n}\r\n\r\naudit {\r\n    user = System.getenv(&quot;OSS_AUDIT_USER&quot;)\r\n    token = System.getenv(&quot;OSS_AUDIT_TOKEN&quot;)\r\n    ignore = [ &#39;com.fasterxml.jackson.core:jackson-core:2.14.2&#39;]\r\n    rateLimitAsError = false\r\n}\r\n\r\napplication {\r\n//    mainModule= &#39;com.xyz.prj-main.subprj-2&#39;  // i added this line\r\n    mainClassName = &#39;com.xyz.prj-main.subprj-2.init.Start&#39;\r\n}\r\n\r\njar {\r\n    inputs.property(&quot;moduleName&quot;, moduleName)\r\n    manifest {\r\n        attributes(&#39;Automatic-Module-Name&#39;: moduleName)\r\n    }\r\n\r\n    manifest {\r\n        attributes &#39;Automatic-Module-Name&#39;: moduleName,\r\n                &#39;Implementation-Title&#39;: &#39;xyz&#39;,\r\n                &#39;Implementation-Version&#39;: version,\r\n                &#39;Built-By&#39;: System.getProperty(&#39;user.name&#39;),\r\n                &#39;Built-Date&#39;: new Date(),\r\n                &#39;Built-JDK&#39;: System.getProperty(&#39;java.version&#39;),\r\n                &#39;Built-Gradle&#39;: gradle.gradleVersion\r\n    }\r\n}\r\n\r\n/* to copy all 3rd party jars in dependencies to output dir */\r\ntask copyDependencies(type: Copy) {\r\n    from configurations.compileClasspath\r\n    into &#39;build/libs&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform {\r\n        includeTags &quot;localOnly&quot;\r\n    }\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\n// Set the location of the JUnit tests.\r\nsourceSets {\r\n    test {\r\n        java {\r\n            srcDirs = [&#39;src/test&#39;]\r\n        }\r\n    }\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.enabled true\r\n        html.enabled true\r\n        csv.enabled true\r\n    }\r\n}\r\n```\r\n\r\nFollowing is `module-info.java` of `subprj-2`. same thing on `module-info.java` of `subprj-1` -- same error to every external dependency.  \r\n\r\n\r\n```\r\nmodule com.xyz.prj-main.subprj-2 {\r\n    requires java.net.http;\r\n    // java.net.http cannor be resolved to a module  -- getting this error to every external dependency\r\n    ...\r\n\r\n    requires com.xyz.subprj-1;  // no error to this\r\n\r\n    // opens &amp; exports statements are also fine-- no errors to them\r\n    opens com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\r\n    ...\r\n\r\n    // Exports\r\n    exports com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\r\n    ...\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nsomething is wrong in the project structure. i can&#39;t see it. \r\n\r\nwill really appreciate the help. \r\n\r\ntried importing difft ways, manipulating the build-path by explicitly defining the module dependencies, putting dependency jars as libraries, among others. also researched on internet. \r\n","title":"Gradle project import on eclipse -- structural error","body":"<p>I imported a Gradle project into Eclipse using <code>Gradle &gt; Existing Gradle Project</code>.</p>\n<p>The project <code>prj-main</code> has subprojects <code>subprj-1</code>, <code>subprj-2</code>.</p>\n<p><code>subprj-2</code>, requires <code>subprj-1</code>.</p>\n<p><code>subprj-1</code> doesn’t depend on “anyone” except the external dependencies.</p>\n<p>Eclipse Markers is showing me following errors. these aren't the only errors but most peculiar ones:</p>\n<pre><code>Description Resource    Path    Location    Type\nFailed to configure project subprj-1    build.gradle    /prj-main   line 0  Gradle Error Marker\nFailed to configure project subprj-2    build.gradle    /prj-main   line 0  Gradle Error Marker\n\nDescription Resource    Path    Location    Type\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files    module-info.java /subprj-1/src/main/java    line 1  Java Problem\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files    module-info.java /subprj-2/src/main/java    line 1  Java Problem\n</code></pre>\n<p>This project is running on IntelliJ in other developers’ environments.\nIt’s also running in my DOS environment also. However, I’m getting errors to it on Eclipse.</p>\n<p>Following are the <code>build.gradle</code> full-contents of resply <code>prj-main</code>, <code>subprj-1</code> and <code>subprj-2</code>. i'm also giving the <code>module-info.java</code> contents at the bottom.</p>\n<p><strong>prj-main:</strong></p>\n<pre><code>\nplugins {\n    id 'java'\n    id 'application'\n}\n\ngroup = 'prj-main'\next.moduleName = 'com.xyz.prj-main'\nversion = '0.0.1'\n\ndef compatibilityVersion = JavaVersion.VERSION_11\nsourceCompatibility = compatibilityVersion\ntargetCompatibility = compatibilityVersion\nepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    implementation project(&quot;:subprj-1&quot;)\n    implementation project(&quot;:subprj-2&quot;)\n}\n\njar {\n    inputs.property(&quot;moduleName&quot;, moduleName)\n    manifest {\n        attributes('Automatic-Module-Name': moduleName)\n    }\n\n    manifest {\n        attributes 'Automatic-Module-Name': moduleName,\n                'Implementation-Title': 'xyz',\n                'Implementation-Version': version,\n                'Built-By': System.getProperty('user.name'),\n                'Built-Date': new Date(),\n                'Built-JDK': System.getProperty('java.version'),\n                'Built-Gradle': gradle.gradleVersion\n    }\n}\n\nsubprojects {\n    afterEvaluate {\n        repositories {\n            jcenter()\n        }\n\n        compileJava {\n            inputs.property(&quot;moduleName&quot;, moduleName)\n            doFirst {\n                options.compilerArgs = [\n                        '--module-path', classpath.asPath,\n                ]\n                classpath = files()\n            }\n        }\n    }\n}\n\napplication {\n    mainClassName = 'com.xyz.prj-main.subprj-2.init.Start'\n}\n</code></pre>\n<p><strong>subprj-1:</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'jacoco'\n}\n\napply from: '../versions.gradle'\n\ngroup = 'com.xyz.prj-main.subprj-1'\next.moduleName = 'com.xyz.prj-main.subprj-1'\nversion = '0.0.1'\n\ndef compatibilityVersion = JavaVersion.VERSION_11\nsourceCompatibility = compatibilityVersion\ntargetCompatibility = compatibilityVersion\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    // all external dependencies \n\n    // Apache commons\n    implementation (&quot;commons-io:commons-io:${commonsIoVersion}&quot;)\n    // ..\n}\n\njar {\n    inputs.property(&quot;moduleName&quot;, moduleName)\n    manifest {\n        attributes('Automatic-Module-Name': moduleName)\n    }\n    manifest {\n        attributes 'Automatic-Module-Name': moduleName,\n                'Implementation-Title': 'xyz',\n                'Implementation-Version': version,\n                'Built-By': System.getProperty('user.name'),\n                'Built-Date': new Date(),\n                'Built-JDK': System.getProperty('java.version'),\n                'Built-Gradle': gradle.gradleVersion\n    }\n}\n\n/* to copy all 3rd party jars in dependencies to output dir */\ntask copyDependencies(type: Copy) {\n    from configurations.compileClasspath\n    into 'build/libs'\n}\n\ntest {\n    useJUnitPlatform {\n        includeTags &quot;localOnly&quot;\n    }\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n    }\n    finalizedBy jacocoTestReport\n}\n// Set the location of the JUnit tests.\nsourceSets {\n    test {\n        java {\n            srcDirs = ['src/test']\n        }\n    }\n}\n\njacocoTestReport {\n    dependsOn test\n    reports {\n        xml.enabled true\n        html.enabled true\n        csv.enabled true\n    }\n}\n\n</code></pre>\n<p><strong>subprj-2:</strong></p>\n<pre><code>\nplugins {\n    id 'java'\n    id 'application'\n    id &quot;net.ossindex.audit&quot; version &quot;0.4.11&quot;\n    id 'jacoco'\n}\n\napply from: '../versions.gradle'\n\ngroup = 'com.xyz.prj-main.subprj-2'\next.moduleName = 'com.xyz.prj-main.subprj-2'\nversion = '0.0.1'\n\ndef compatibilityVersion = JavaVersion.VERSION_11\nsourceCompatibility = compatibilityVersion\ntargetCompatibility = compatibilityVersion\n\nrepositories {\n    mavenCentral()\n   flatDir {\n       dirs 'static-libs'\n   }\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n    jcenter()\n}\n\ndependencies {\n    // Internal\n    implementation(project(':subprj-1'))\n\n    // all external dependencies from here on \n    implementation 'commons-logging:commons-logging:1.2'\n    // ..\n\n}\n\naudit {\n    user = System.getenv(&quot;OSS_AUDIT_USER&quot;)\n    token = System.getenv(&quot;OSS_AUDIT_TOKEN&quot;)\n    ignore = [ 'com.fasterxml.jackson.core:jackson-core:2.14.2']\n    rateLimitAsError = false\n}\n\napplication {\n//    mainModule= 'com.xyz.prj-main.subprj-2'  // i added this line\n    mainClassName = 'com.xyz.prj-main.subprj-2.init.Start'\n}\n\njar {\n    inputs.property(&quot;moduleName&quot;, moduleName)\n    manifest {\n        attributes('Automatic-Module-Name': moduleName)\n    }\n\n    manifest {\n        attributes 'Automatic-Module-Name': moduleName,\n                'Implementation-Title': 'xyz',\n                'Implementation-Version': version,\n                'Built-By': System.getProperty('user.name'),\n                'Built-Date': new Date(),\n                'Built-JDK': System.getProperty('java.version'),\n                'Built-Gradle': gradle.gradleVersion\n    }\n}\n\n/* to copy all 3rd party jars in dependencies to output dir */\ntask copyDependencies(type: Copy) {\n    from configurations.compileClasspath\n    into 'build/libs'\n}\n\ntest {\n    useJUnitPlatform {\n        includeTags &quot;localOnly&quot;\n    }\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n    }\n    finalizedBy jacocoTestReport\n}\n\n// Set the location of the JUnit tests.\nsourceSets {\n    test {\n        java {\n            srcDirs = ['src/test']\n        }\n    }\n}\n\njacocoTestReport {\n    dependsOn test\n    reports {\n        xml.enabled true\n        html.enabled true\n        csv.enabled true\n    }\n}\n</code></pre>\n<p>Following is <code>module-info.java</code> of <code>subprj-2</code>. same thing on <code>module-info.java</code> of <code>subprj-1</code> -- same error to every external dependency.</p>\n<pre><code>module com.xyz.prj-main.subprj-2 {\n    requires java.net.http;\n    // java.net.http cannor be resolved to a module  -- getting this error to every external dependency\n    ...\n\n    requires com.xyz.subprj-1;  // no error to this\n\n    // opens &amp; exports statements are also fine-- no errors to them\n    opens com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\n    ...\n\n    // Exports\n    exports com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\n    ...\n}\n\n</code></pre>\n<p>something is wrong in the project structure. i can't see it.</p>\n<p>will really appreciate the help.</p>\n<p>tried importing difft ways, manipulating the build-path by explicitly defining the module dependencies, putting dependency jars as libraries, among others. also researched on internet.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-spinner"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1689762602,"post_id":76719866,"comment_id":135258165,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":19446274,"reputation":33,"user_id":14223716,"display_name":"Khalil Laouini"},"score":0,"creation_date":1689762920,"post_id":76719866,"comment_id":135258233,"body_markdown":"the code works fine .. listen : i need to show the images name in the spinner but pass the image link to the other firestore database ..","body":"the code works fine .. listen : i need to show the images name in the spinner but pass the image link to the other firestore database .."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689767699,"post_id":76719866,"comment_id":135259290,"body_markdown":"What do you mean by &quot;pass the image link to the other firestore database&quot;?","body":"What do you mean by &quot;pass the image link to the other firestore database&quot;?"},{"owner":{"account_id":19446274,"reputation":33,"user_id":14223716,"display_name":"Khalil Laouini"},"score":0,"creation_date":1689784793,"post_id":76719866,"comment_id":135263777,"body_markdown":"sir i rewrite the question . you could recheck","body":"sir i rewrite the question . you could recheck"}],"owner":{"account_id":19446274,"reputation":33,"user_id":14223716,"display_name":"Khalil Laouini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689773248,"creation_date":1689759290,"question_id":76719866,"body_markdown":"I have a firestore document that contain 2 fields : name and link.\r\nI populate a spinner with this document.\r\n\r\n* When i populate the name, it pass me the name to my other firestore database.\r\n\r\n* When i populate the link, it pass me the link to my other firestore database.\r\n\r\nI want to show the name on the spinner, but when i add a data to other firestore it add the link not the name. \r\n\r\nhere is the firestore : \r\n[![enter image description here][1]][1]\r\n\r\nhere is my code :\r\n\r\n```\r\npublic class CreateData extends AppCompatActivity {\r\n    EditText League , Team1 , Team2 , Tip ;\r\n    MaterialButton Registerbtn;\r\n    FirebaseFirestore db;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_data);\r\n        db = FirebaseFirestore.getInstance();\r\n        League = findViewById(R.id.league);\r\n        Team1 = findViewById(R.id.team1);\r\n        Team2 = findViewById(R.id.team2);\r\n        Tip = findViewById(R.id.tip);\r\n        //Id = findViewById(R.id.idtip);\r\n        Registerbtn = findViewById(R.id.btnRegister);\r\n\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        CollectionReference imagesRef = db.collection(&quot;images&quot;);\r\n        Spinner spinner = (Spinner) findViewById(R.id.spinnercountry);\r\n        List&lt;String&gt; imageList = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; imagelink = new ArrayList&lt;&gt;();\r\n        ArrayAdapter&lt;String&gt; adaptername = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imageList);\r\n        adaptername.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adaptername);\r\n        ArrayAdapter&lt;String&gt; adapterlink = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imagelink);\r\n        adapterlink.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapterlink);\r\n        imagesRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        String images = document.getString(&quot;name&quot;);\r\n                        imageList.add(images);\r\n                        String links = document.getString(&quot;pic&quot;);\r\n                        imagelink.add(links);\r\n                    }\r\n                    adapterlink.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n\r\n        Registerbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                //String id = Id.getText().toString();\r\n                String league = League.getText().toString();\r\n                String team1 = Team1.getText().toString();\r\n                String team2 = Team2.getText().toString();\r\n                String tip = Tip.getText().toString();\r\n                String links = spinner.getSelectedItem().toString();\r\n                Map&lt;String,Object&gt; tips = new HashMap&lt;&gt;();\r\n                //tips.put(&quot;Document ID&quot;,id);\r\n                tips.put(&quot;league&quot;,league);\r\n                tips.put(&quot;team1&quot;,team1);\r\n                tips.put(&quot;team2&quot;,team2);\r\n                tips.put(&quot;tip&quot;,tip);\r\n                tips.put(&quot;image&quot;,links);\r\n                tips.put(&quot;Created at&quot;, new Timestamp(new Date()));\r\n\r\n                db.collection(&quot;tips&quot;)\r\n                        .add(tips)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                            @Override\r\n                            public void onSuccess(DocumentReference documentReference) {\r\n                                Toast.makeText(CreateData.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull @NotNull Exception e) {\r\n\r\n                        Toast.makeText(CreateData.this,&quot;Failed&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/xiA5g.png","title":"Spinner passing wrong fields to my firestore database android studio java","body":"<p>I have a firestore document that contain 2 fields : name and link.\nI populate a spinner with this document.</p>\n<ul>\n<li><p>When i populate the name, it pass me the name to my other firestore database.</p>\n</li>\n<li><p>When i populate the link, it pass me the link to my other firestore database.</p>\n</li>\n</ul>\n<p>I want to show the name on the spinner, but when i add a data to other firestore it add the link not the name.</p>\n<p>here is the firestore :\n<a href=\"https://i.stack.imgur.com/xiA5g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xiA5g.png\" alt=\"enter image description here\" /></a></p>\n<p>here is my code :</p>\n<pre><code>public class CreateData extends AppCompatActivity {\n    EditText League , Team1 , Team2 , Tip ;\n    MaterialButton Registerbtn;\n    FirebaseFirestore db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_data);\n        db = FirebaseFirestore.getInstance();\n        League = findViewById(R.id.league);\n        Team1 = findViewById(R.id.team1);\n        Team2 = findViewById(R.id.team2);\n        Tip = findViewById(R.id.tip);\n        //Id = findViewById(R.id.idtip);\n        Registerbtn = findViewById(R.id.btnRegister);\n\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n        CollectionReference imagesRef = db.collection(&quot;images&quot;);\n        Spinner spinner = (Spinner) findViewById(R.id.spinnercountry);\n        List&lt;String&gt; imageList = new ArrayList&lt;&gt;();\n        List&lt;String&gt; imagelink = new ArrayList&lt;&gt;();\n        ArrayAdapter&lt;String&gt; adaptername = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imageList);\n        adaptername.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adaptername);\n        ArrayAdapter&lt;String&gt; adapterlink = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imagelink);\n        adapterlink.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapterlink);\n        imagesRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        String images = document.getString(&quot;name&quot;);\n                        imageList.add(images);\n                        String links = document.getString(&quot;pic&quot;);\n                        imagelink.add(links);\n                    }\n                    adapterlink.notifyDataSetChanged();\n                }\n            }\n        });\n\n        Registerbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                //String id = Id.getText().toString();\n                String league = League.getText().toString();\n                String team1 = Team1.getText().toString();\n                String team2 = Team2.getText().toString();\n                String tip = Tip.getText().toString();\n                String links = spinner.getSelectedItem().toString();\n                Map&lt;String,Object&gt; tips = new HashMap&lt;&gt;();\n                //tips.put(&quot;Document ID&quot;,id);\n                tips.put(&quot;league&quot;,league);\n                tips.put(&quot;team1&quot;,team1);\n                tips.put(&quot;team2&quot;,team2);\n                tips.put(&quot;tip&quot;,tip);\n                tips.put(&quot;image&quot;,links);\n                tips.put(&quot;Created at&quot;, new Timestamp(new Date()));\n\n                db.collection(&quot;tips&quot;)\n                        .add(tips)\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                            @Override\n                            public void onSuccess(DocumentReference documentReference) {\n                                Toast.makeText(CreateData.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull @NotNull Exception e) {\n\n                        Toast.makeText(CreateData.this,&quot;Failed&quot;,Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","serenity-bdd","appium-java"],"answers":[{"tags":[],"owner":{"account_id":28898232,"reputation":1,"user_id":22133784,"display_name":"Yoan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689773082,"creation_date":1689773082,"answer_id":76721819,"question_id":76611923,"body_markdown":"I just answer my question with this code (thanks to github copilot !!! XD )\r\n\r\n    public static String getWebelementId(WebElementFacade webElementFacade) {\r\n        RemoteWebElement remoteWebElement = (RemoteWebElement) webElementFacade.getWrappedElement();\r\n        return remoteWebElement.getId();\r\n    }\r\n\r\nif this can help anyone !","title":"Serenity BDD get UID of WebelEmentFacade","body":"<p>I just answer my question with this code (thanks to github copilot !!! XD )</p>\n<pre><code>public static String getWebelementId(WebElementFacade webElementFacade) {\n    RemoteWebElement remoteWebElement = (RemoteWebElement) webElementFacade.getWrappedElement();\n    return remoteWebElement.getId();\n}\n</code></pre>\n<p>if this can help anyone !</p>\n"}],"owner":{"account_id":28898232,"reputation":1,"user_id":22133784,"display_name":"Yoan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721819,"answer_count":1,"score":0,"last_activity_date":1689773082,"creation_date":1688468319,"question_id":76611923,"body_markdown":"I am testing Android and IOS applications, and i have an issueto get the UID of an element.\r\n\r\nWhen i evaluate the element on Intellij, i have those key and value : \r\n[Evaluation of element](https://i.stack.imgur.com/Z90he.png)\r\n\r\nWhat i want is to get the value of &quot;id&quot;, but i tried a lot of things, and Serenity doesn&#39;t know getAttribute(&quot;UID&quot;) or getAttribute(&quot;elementId&quot;) or getAttribute(&quot;id&quot;)\r\n\r\nThis is what i write for my element : \r\n[Element declaration](https://i.stack.imgur.com/r9RlT.png)\r\n\r\nAnd this the method who use the elementId i need : \r\n[Methode which use elementId](https://i.stack.imgur.com/eurqe.png)\r\nthis method works with the actual remote element but i want the Serenity WebElementFacade for some reasons, but it&#39;s not compatible with remoteElement\r\n\r\nAny idea ? \r\nThanks a lot in advance for your help !","title":"Serenity BDD get UID of WebelEmentFacade","body":"<p>I am testing Android and IOS applications, and i have an issueto get the UID of an element.</p>\n<p>When i evaluate the element on Intellij, i have those key and value :\n<a href=\"https://i.stack.imgur.com/Z90he.png\" rel=\"nofollow noreferrer\">Evaluation of element</a></p>\n<p>What i want is to get the value of &quot;id&quot;, but i tried a lot of things, and Serenity doesn't know getAttribute(&quot;UID&quot;) or getAttribute(&quot;elementId&quot;) or getAttribute(&quot;id&quot;)</p>\n<p>This is what i write for my element :\n<a href=\"https://i.stack.imgur.com/r9RlT.png\" rel=\"nofollow noreferrer\">Element declaration</a></p>\n<p>And this the method who use the elementId i need :\n<a href=\"https://i.stack.imgur.com/eurqe.png\" rel=\"nofollow noreferrer\">Methode which use elementId</a>\nthis method works with the actual remote element but i want the Serenity WebElementFacade for some reasons, but it's not compatible with remoteElement</p>\n<p>Any idea ?\nThanks a lot in advance for your help !</p>\n"},{"tags":["java","maven","code-generation","apache-axis","wsdl2code"],"answers":[{"tags":[],"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1311222463,"creation_date":1311216648,"answer_id":6770789,"question_id":6770757,"body_markdown":"You can try with this, i could not test it right now but i think should work\r\n\r\n       &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;ws1&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                       &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                       &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                       &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                       &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\r\n                       &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                       &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;ws2&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                       &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                       &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                       &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                       &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\r\n                       &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                       &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n","title":"Using multiple WSDLs with Axis2 wsdl2code Maven plugin","body":"<p>You can try with this, i could not test it right now but i think should work</p>\n\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;ws1&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                   &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                   &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                   &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                   &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\n                   &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                   &lt;syncMode&gt;sync&lt;/syncMode&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;ws2&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                   &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                   &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                   &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                   &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\n                   &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                   &lt;syncMode&gt;sync&lt;/syncMode&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389686,"reputation":13,"user_id":4611944,"display_name":"Samuel Facchinello"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689773045,"creation_date":1689773045,"answer_id":76721808,"question_id":6770757,"body_markdown":"i know that is a old question but there is another way to risolve this:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;ws1&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;ws2&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                    &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                    &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                    &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                    &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nwith that way you have a unique configuration for all wsdl","title":"Using multiple WSDLs with Axis2 wsdl2code Maven plugin","body":"<p>i know that is a old question but there is another way to risolve this:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n            &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;ws1&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;ws2&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                &lt;syncMode&gt;sync&lt;/syncMode&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>with that way you have a unique configuration for all wsdl</p>\n"}],"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16545,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6770789,"answer_count":2,"score":16,"last_activity_date":1689773045,"creation_date":1311216108,"question_id":6770757,"body_markdown":"I&#39;m creating a client with Maven2 that uses several web services.  I&#39;m restricted to using `Axis2` or other framework supporting Apache `HttpClient` as an HTTP conduit because these services require integration with a managed certificate solution based on `HttpClient`.\r\n\r\nI&#39;m familiar with CXF&#39;s code-gen Maven plugin which allows multiple WSDLs to be input during code generation.  However, the Axis2 code-gen plugin can process only one WSDL at a time.  \r\n\r\nHow can I make Maven run `wsdl2code` for each WSDL during code-gen phase?  Do I need multiple profiles for this?\r\n\r\nThe build section of POM looks like this:  \r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                    &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                    &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                    &lt;!-- only one of these actually gets used by code generator --&gt;\r\n                    &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                    &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n### References ###\r\n* [Maven2 WSDL2Code Plug-in Guide][1]\r\n* [wsdl2code command line tool][2]\r\n\r\n\r\n  [1]: http://axis.apache.org/axis2/java/core/tools/maven-plugins/maven-wsdl2code-plugin.html\r\n  [2]: http://axis.apache.org/axis2/java/core/tools/CodegenToolReference.html","title":"Using multiple WSDLs with Axis2 wsdl2code Maven plugin","body":"<p>I'm creating a client with Maven2 that uses several web services.  I'm restricted to using <code>Axis2</code> or other framework supporting Apache <code>HttpClient</code> as an HTTP conduit because these services require integration with a managed certificate solution based on <code>HttpClient</code>.</p>\n\n<p>I'm familiar with CXF's code-gen Maven plugin which allows multiple WSDLs to be input during code generation.  However, the Axis2 code-gen plugin can process only one WSDL at a time.  </p>\n\n<p>How can I make Maven run <code>wsdl2code</code> for each WSDL during code-gen phase?  Do I need multiple profiles for this?</p>\n\n<p>The build section of POM looks like this:  </p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n            &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                &lt;!-- only one of these actually gets used by code generator --&gt;\n                &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\n                &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\n                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                &lt;syncMode&gt;sync&lt;/syncMode&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://axis.apache.org/axis2/java/core/tools/maven-plugins/maven-wsdl2code-plugin.html\" rel=\"noreferrer\">Maven2 WSDL2Code Plug-in Guide</a></li>\n<li><a href=\"http://axis.apache.org/axis2/java/core/tools/CodegenToolReference.html\" rel=\"noreferrer\">wsdl2code command line tool</a></li>\n</ul>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":9317612,"reputation":2936,"user_id":6917446,"display_name":"kosist"},"score":0,"creation_date":1686604021,"post_id":76460188,"comment_id":134819065,"body_markdown":"Your function simply can not process message within 10 minutes. What does it do exactly? Could you post function code (JSON is useless in this case, it&#39;s just some metadata, not the actual function&#39;s code).","body":"Your function simply can not process message within 10 minutes. What does it do exactly? Could you post function code (JSON is useless in this case, it&#39;s just some metadata, not the actual function&#39;s code)."},{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1686668221,"post_id":76460188,"comment_id":134829015,"body_markdown":"I&#39;ve added a snippet of the function&#39;s code and some reasoning as to why I don&#39;t think the problem lies there.","body":"I&#39;ve added a snippet of the function&#39;s code and some reasoning as to why I don&#39;t think the problem lies there."},{"owner":{"account_id":9317612,"reputation":2936,"user_id":6917446,"display_name":"kosist"},"score":0,"creation_date":1686671744,"post_id":76460188,"comment_id":134829894,"body_markdown":"What is your `logger`? Is it some singleton? Does it use locks, or something like that? It looks like you have deadlock.","body":"What is your <code>logger</code>? Is it some singleton? Does it use locks, or something like that? It looks like you have deadlock."},{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1686673744,"post_id":76460188,"comment_id":134830353,"body_markdown":"It is actually as singleton, but initialized like ```private static AzureDroneLogger logger = AzureDroneLogger.getInstance();```. Not quite how singletons are supposed to work, I suppose.  But ```logger.setContext``` only sets a private variable and the only synchronization is in the constructor.","body":"It is actually as singleton, but initialized like <code>private static AzureDroneLogger logger = AzureDroneLogger.getInstance();</code>. Not quite how singletons are supposed to work, I suppose.  But <code>logger.setContext</code> only sets a private variable and the only synchronization is in the constructor."},{"owner":{"account_id":9317612,"reputation":2936,"user_id":6917446,"display_name":"kosist"},"score":0,"creation_date":1686723469,"post_id":76460188,"comment_id":134836412,"body_markdown":"Just for verification sake, I&#39;d recommend to comment out all logger usage in this function, and run it multiple times. Because if it is singletone, and code does not always passes `logger.setContext` - logger might be an issue. Just check if there are timeouts without logger usage.","body":"Just for verification sake, I&#39;d recommend to comment out all logger usage in this function, and run it multiple times. Because if it is singletone, and code does not always passes <code>logger.setContext</code> - logger might be an issue. Just check if there are timeouts without logger usage."},{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1686752882,"post_id":76460188,"comment_id":134842795,"body_markdown":"I&#39;ll give that a shot, as well.  Interestingly, setting ```FUNCTIONS_WORKER_PROCESS_COUNT = 2``` in the App Settings seems to have helped significantly.  Not sure its a complete solution, though.","body":"I&#39;ll give that a shot, as well.  Interestingly, setting <code>FUNCTIONS_WORKER_PROCESS_COUNT = 2</code> in the App Settings seems to have helped significantly.  Not sure its a complete solution, though."}],"answers":[{"tags":[],"owner":{"account_id":21460,"reputation":3022,"user_id":52165,"accept_rate":88,"display_name":"Tony Basallo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686604480,"creation_date":1686604480,"answer_id":76460376,"question_id":76460188,"body_markdown":"Your function is talking longer than 10 minutes to complete. Ho wlong does it talk to complete locally? When run locally, you can set the timeout to a larger value.\r\n\r\nIf it just takes too long, your options are:\r\n\r\n - App plan (no limits)\r\n - Break it up into smaller pieces\r\n - Use durable functions","title":"Azure Function triggered by Queue times out regularly","body":"<p>Your function is talking longer than 10 minutes to complete. Ho wlong does it talk to complete locally? When run locally, you can set the timeout to a larger value.</p>\n<p>If it just takes too long, your options are:</p>\n<ul>\n<li>App plan (no limits)</li>\n<li>Break it up into smaller pieces</li>\n<li>Use durable functions</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689772979,"creation_date":1689772979,"answer_id":76721795,"question_id":76460188,"body_markdown":"After much research and following some of the leads provided by the comments and other answers, I found setting `FUNCTIONS_WORKER_PROCESS_COUNT = 2` in the App Settings resulted in the issue almost completely disappearing - to the point it wasn&#39;t an issue anymore.  Whether this is a good solution or not, I don&#39;t know, but that is my results thus far.","title":"Azure Function triggered by Queue times out regularly","body":"<p>After much research and following some of the leads provided by the comments and other answers, I found setting <code>FUNCTIONS_WORKER_PROCESS_COUNT = 2</code> in the App Settings resulted in the issue almost completely disappearing - to the point it wasn't an issue anymore.  Whether this is a good solution or not, I don't know, but that is my results thus far.</p>\n"}],"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721795,"answer_count":2,"score":0,"last_activity_date":1689772979,"creation_date":1686602471,"question_id":76460188,"body_markdown":"I have a linux Azure Function that is triggered by a Queue. Most messages that the Function attempts to process end up in the &#39;poison&#39; queue and the only logs I can see indicate that it timed out.\r\n\r\n```\r\n2023-06-12 20:00:14.132  Executing &#39;Functions.Drone&#39; (Reason=&#39;New queue message detected on &#39;drone-input-queue&#39;.&#39;, Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc)  Information\r\n2023-06-12 20:00:14.133  Trigger Details: MessageId: 3c54e04a-3d96-4ab9-ab69-3101f77a16f1, DequeueCount: 1, InsertionTime: 2023-06-12T20:00:10.000+00:00  Information\r\n2023-06-12 20:10:14.133  Timeout value of 00:10:00 exceeded by function &#39;Functions.Drone&#39; (Id: &#39;6e66d069-0b09-4966-92dd-d63a8f9aa3fc&#39;). Initiating cancellation.  Error\r\n2023-06-12 20:10:14.133  Executed &#39;{functionName}&#39; ({status}, Id={invocationId}, Duration={executionDuration}ms)  Error\r\n2023-06-12 20:10:14.133  Executed &#39;Functions.Drone&#39; (Failed, Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc, Duration=600000ms)  Error\r\n2023-06-12 20:10:14.133  Error\r\n```\r\n\r\nPotentially relevant information:\r\n- The Function App is using a Consumption plan.  I know there can be cold starts, but I see this happen, like, 90% of the time, even when messages are coming in every few minutes.\r\n- The Function App and Queue are set up using an ARM template. The Function is later deployed from an archive.\r\n- The Function is using Linux as the OS type and is running Java code.\r\n- I do occasionally see proper execution, so &#39;AzureWebJobsStorage&#39;, &#39;STORAGE_QUEUE_CONNECTION_STRING&#39;, and &#39;WEBSITE_CONTENTAZUREFILECONNECTIONSTRING&#39; should all be set correctly. \r\n- I&#39;ve double and triple checked the host.json and function.json, but here they are, for reference:\r\nhost.json\r\n```\r\n{\r\n  &quot;version&quot;: &quot;2.0&quot;,\r\n  &quot;functionTimeout&quot;: &quot;00:10:00&quot;,\r\n  &quot;extensionBundle&quot;: {\r\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\r\n  },\r\n  &quot;extensions&quot;: {\r\n    &quot;queues&quot;: {\r\n      &quot;maxPollingInterval&quot;: &quot;00:00:02&quot;,\r\n      &quot;visibilityTimeout&quot; : &quot;00:00:30&quot;,\r\n      &quot;batchSize&quot;: 16,\r\n      &quot;maxDequeueCount&quot;: 3,\r\n      &quot;newBatchThreshold&quot;: 8\r\n    }\r\n  }\r\n}\r\n```\r\nfunction.json\r\n```\r\n{\r\n  &quot;scriptFile&quot; : &quot;../my.package.drone.jar&quot;,\r\n  &quot;entryPoint&quot; : &quot;my.package.Drone.run&quot;,\r\n  &quot;bindings&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;message&quot;,\r\n      &quot;type&quot;: &quot;queueTrigger&quot;,\r\n      &quot;direction&quot;: &quot;in&quot;,\r\n      &quot;queueName&quot;: &quot;catapult-drone-input-queue&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;output&quot;,\r\n      &quot;type&quot;: &quot;queue&quot;,\r\n      &quot;direction&quot;: &quot;out&quot;,\r\n      &quot;queueName&quot;: &quot;catapult-drone-output-queue&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n- I was initially deploying the Function with an outdated version of the CLI.  While updating that fixed some issued, it did not fix this one.  Here is the version info.\r\n```\r\n# az version\r\n{\r\n  &quot;azure-cli&quot;: &quot;2.39.0&quot;,\r\n  &quot;azure-cli-core&quot;: &quot;2.39.0&quot;,\r\n  &quot;azure-cli-telemetry&quot;: &quot;1.0.6&quot;,\r\n  &quot;extensions&quot;: {}\r\n}\r\n```\r\n```\r\n# func\r\n...\r\nAzure Functions Core Tools\r\nCore Tools Version:       3.0.4899 Commit hash: N/A  (64-bit)\r\nFunction Runtime Version: 3.17.0.0\r\n...\r\n```\r\n\r\nI suspect it might have something to do with the scaling configuration, but am at a loss for how to configure that.  Any advice would be appreciated.\r\n\r\n----------\r\n\r\nHere is a snippet of the entrypoint code:\r\n```\r\n@FunctionName(&quot;Drone&quot;)\r\npublic void run(@QueueTrigger(name = &quot;message&quot;, queueName = &quot;drone-input-queue&quot;) String message, \r\n                @QueueOutput(name = &quot;output&quot;, queueName = &quot;drone-output-queue&quot;) OutputBinding&lt;String&gt; output,\r\n                final ExecutionContext context) {\r\n    String id = UUID.randomUUID().toString();\r\n    logger.setContext(context); //custom tool for logging to context logger and/or blob\r\n    logger.info(&quot;[&quot;+id+&quot;] Start&quot;);\r\n    encryption = initializeInFlightEncryptionClient(logger);\r\n    logger.info(&quot;[&quot;+id+&quot;] encryption initialized&quot;);\r\n    jsonSigner = initializeJsonSigningUtility(logger);\r\n    logger.info(&quot;[&quot;+id+&quot;] jsonSigner initialized&quot;);\r\n    try {\r\n        // ... logic to handle message ...\r\n    }\r\n    catch(Exception e) {\r\n        logger.severe(&quot;ERROR: &quot;+e.getMessage(), e);\r\n    }\r\n    finally {\r\n        logger.closeLogFile();\r\n    }\r\n}\r\n```\r\nI forgot to mention that I have fairly extensive logging in this part of the code, so I know that, at the very least, it isn&#39;t getting past &#39;logger.setContext&#39;, which only sets a private variable to context.getLogger(). That&#39;s why I didn&#39;t bother sharing code earlier.  \r\nAlso, I have seen messsages that take only 30 seconds to process cause this timeout. If I send like 10 of them at once, the first may get processed correctly and quickly, but the next 9 tend to all have this timeout. That&#39;s why I suspect something wonky with the configuration.\r\n\r\nP.S. This is the ONLY Function in the Function App.","title":"Azure Function triggered by Queue times out regularly","body":"<p>I have a linux Azure Function that is triggered by a Queue. Most messages that the Function attempts to process end up in the 'poison' queue and the only logs I can see indicate that it timed out.</p>\n<pre><code>2023-06-12 20:00:14.132  Executing 'Functions.Drone' (Reason='New queue message detected on 'drone-input-queue'.', Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc)  Information\n2023-06-12 20:00:14.133  Trigger Details: MessageId: 3c54e04a-3d96-4ab9-ab69-3101f77a16f1, DequeueCount: 1, InsertionTime: 2023-06-12T20:00:10.000+00:00  Information\n2023-06-12 20:10:14.133  Timeout value of 00:10:00 exceeded by function 'Functions.Drone' (Id: '6e66d069-0b09-4966-92dd-d63a8f9aa3fc'). Initiating cancellation.  Error\n2023-06-12 20:10:14.133  Executed '{functionName}' ({status}, Id={invocationId}, Duration={executionDuration}ms)  Error\n2023-06-12 20:10:14.133  Executed 'Functions.Drone' (Failed, Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc, Duration=600000ms)  Error\n2023-06-12 20:10:14.133  Error\n</code></pre>\n<p>Potentially relevant information:</p>\n<ul>\n<li>The Function App is using a Consumption plan.  I know there can be cold starts, but I see this happen, like, 90% of the time, even when messages are coming in every few minutes.</li>\n<li>The Function App and Queue are set up using an ARM template. The Function is later deployed from an archive.</li>\n<li>The Function is using Linux as the OS type and is running Java code.</li>\n<li>I do occasionally see proper execution, so 'AzureWebJobsStorage', 'STORAGE_QUEUE_CONNECTION_STRING', and 'WEBSITE_CONTENTAZUREFILECONNECTIONSTRING' should all be set correctly.</li>\n<li>I've double and triple checked the host.json and function.json, but here they are, for reference:\nhost.json</li>\n</ul>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;functionTimeout&quot;: &quot;00:10:00&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\n  },\n  &quot;extensions&quot;: {\n    &quot;queues&quot;: {\n      &quot;maxPollingInterval&quot;: &quot;00:00:02&quot;,\n      &quot;visibilityTimeout&quot; : &quot;00:00:30&quot;,\n      &quot;batchSize&quot;: 16,\n      &quot;maxDequeueCount&quot;: 3,\n      &quot;newBatchThreshold&quot;: 8\n    }\n  }\n}\n</code></pre>\n<p>function.json</p>\n<pre><code>{\n  &quot;scriptFile&quot; : &quot;../my.package.drone.jar&quot;,\n  &quot;entryPoint&quot; : &quot;my.package.Drone.run&quot;,\n  &quot;bindings&quot;: [\n    {\n      &quot;name&quot;: &quot;message&quot;,\n      &quot;type&quot;: &quot;queueTrigger&quot;,\n      &quot;direction&quot;: &quot;in&quot;,\n      &quot;queueName&quot;: &quot;catapult-drone-input-queue&quot;\n    },\n    {\n      &quot;name&quot;: &quot;output&quot;,\n      &quot;type&quot;: &quot;queue&quot;,\n      &quot;direction&quot;: &quot;out&quot;,\n      &quot;queueName&quot;: &quot;catapult-drone-output-queue&quot;\n    }\n  ]\n}\n</code></pre>\n<ul>\n<li>I was initially deploying the Function with an outdated version of the CLI.  While updating that fixed some issued, it did not fix this one.  Here is the version info.</li>\n</ul>\n<pre><code># az version\n{\n  &quot;azure-cli&quot;: &quot;2.39.0&quot;,\n  &quot;azure-cli-core&quot;: &quot;2.39.0&quot;,\n  &quot;azure-cli-telemetry&quot;: &quot;1.0.6&quot;,\n  &quot;extensions&quot;: {}\n}\n</code></pre>\n<pre><code># func\n...\nAzure Functions Core Tools\nCore Tools Version:       3.0.4899 Commit hash: N/A  (64-bit)\nFunction Runtime Version: 3.17.0.0\n...\n</code></pre>\n<p>I suspect it might have something to do with the scaling configuration, but am at a loss for how to configure that.  Any advice would be appreciated.</p>\n<hr />\n<p>Here is a snippet of the entrypoint code:</p>\n<pre><code>@FunctionName(&quot;Drone&quot;)\npublic void run(@QueueTrigger(name = &quot;message&quot;, queueName = &quot;drone-input-queue&quot;) String message, \n                @QueueOutput(name = &quot;output&quot;, queueName = &quot;drone-output-queue&quot;) OutputBinding&lt;String&gt; output,\n                final ExecutionContext context) {\n    String id = UUID.randomUUID().toString();\n    logger.setContext(context); //custom tool for logging to context logger and/or blob\n    logger.info(&quot;[&quot;+id+&quot;] Start&quot;);\n    encryption = initializeInFlightEncryptionClient(logger);\n    logger.info(&quot;[&quot;+id+&quot;] encryption initialized&quot;);\n    jsonSigner = initializeJsonSigningUtility(logger);\n    logger.info(&quot;[&quot;+id+&quot;] jsonSigner initialized&quot;);\n    try {\n        // ... logic to handle message ...\n    }\n    catch(Exception e) {\n        logger.severe(&quot;ERROR: &quot;+e.getMessage(), e);\n    }\n    finally {\n        logger.closeLogFile();\n    }\n}\n</code></pre>\n<p>I forgot to mention that I have fairly extensive logging in this part of the code, so I know that, at the very least, it isn't getting past 'logger.setContext', which only sets a private variable to context.getLogger(). That's why I didn't bother sharing code earlier.<br />\nAlso, I have seen messsages that take only 30 seconds to process cause this timeout. If I send like 10 of them at once, the first may get processed correctly and quickly, but the next 9 tend to all have this timeout. That's why I suspect something wonky with the configuration.</p>\n<p>P.S. This is the ONLY Function in the Function App.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","junit"],"comments":[{"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"score":0,"creation_date":1689763719,"post_id":76720376,"comment_id":135258424,"body_markdown":"Is `&lt;select&gt;` a tag inside an XML file?","body":"Is <code>&lt;select&gt;</code> a tag inside an XML file?"},{"owner":{"account_id":25572265,"reputation":3,"user_id":19352419,"display_name":"coder"},"score":0,"creation_date":1689768579,"post_id":76720376,"comment_id":135259480,"body_markdown":"@LoukasPap  Yes, that&#39;s right!","body":"@LoukasPap  Yes, that&#39;s right!"}],"answers":[{"tags":[],"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689772937,"creation_date":1689772937,"answer_id":76721789,"question_id":76720376,"body_markdown":"You can loop over these XML tags using xPath and check if `limit 1` is inside their values:\r\n\r\n1. Import the libraries and initialize objects:\r\n```java\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\n\r\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder builder = factory.newDocumentBuilder();\r\nXPath xPath = XPathFactory.newInstance().newXPath();\r\nDocument document;\r\n```\r\n\r\n2. Convert your file in a string. There are lots of ways you can do this. Check here: https://mkyong.com/java/java-convert-file-to-string/.\r\n\r\n3. Now, we will loop over all the `select` tags and check if they contain `limit 1`. Assuming your string from **step 2** is named &quot;myXML&quot;:\r\n```java\r\ndocument = builder.parse(new InputSource(new StringReader(myXML)));\r\n\r\nString xpathSelectTag = &quot;yourXPathToSelectTag&quot;;\r\n// Count how many select tags exist\r\nInteger countTags = ((NodeList) xPath.evaluate(xpathSelectTag, document, XPathConstants.NODESET)).getLength();\r\n\r\n// loop through tags\r\nString selectValue = &quot;&quot;;\r\nfor (int i = 1; i &lt;= countTags; i++) {\r\n    selectValue = xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;, document);\r\n    if (selectValue.contains(&quot;limit 1&quot;)) {\r\n        // your code\r\n    }\r\n}\r\n```\r\n\r\nIn this block of code `xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;`, we take the value of the `select` tag that our index `i` is on. So, we loop through all of them.\r\n\r\nPlease comment for any problems so that I can help you.","title":"Is there a way to check on SpringBoot if the xml file has a common query condition?","body":"<p>You can loop over these XML tags using xPath and check if <code>limit 1</code> is inside their values:</p>\n<ol>\n<li>Import the libraries and initialize objects:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = factory.newDocumentBuilder();\nXPath xPath = XPathFactory.newInstance().newXPath();\nDocument document;\n</code></pre>\n<ol start=\"2\">\n<li><p>Convert your file in a string. There are lots of ways you can do this. Check here: <a href=\"https://mkyong.com/java/java-convert-file-to-string/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/java-convert-file-to-string/</a>.</p>\n</li>\n<li><p>Now, we will loop over all the <code>select</code> tags and check if they contain <code>limit 1</code>. Assuming your string from <strong>step 2</strong> is named &quot;myXML&quot;:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>document = builder.parse(new InputSource(new StringReader(myXML)));\n\nString xpathSelectTag = &quot;yourXPathToSelectTag&quot;;\n// Count how many select tags exist\nInteger countTags = ((NodeList) xPath.evaluate(xpathSelectTag, document, XPathConstants.NODESET)).getLength();\n\n// loop through tags\nString selectValue = &quot;&quot;;\nfor (int i = 1; i &lt;= countTags; i++) {\n    selectValue = xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;, document);\n    if (selectValue.contains(&quot;limit 1&quot;)) {\n        // your code\n    }\n}\n</code></pre>\n<p>In this block of code <code>xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;</code>, we take the value of the <code>select</code> tag that our index <code>i</code> is on. So, we loop through all of them.</p>\n<p>Please comment for any problems so that I can help you.</p>\n"}],"owner":{"account_id":25572265,"reputation":3,"user_id":19352419,"display_name":"coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721789,"answer_count":1,"score":0,"last_activity_date":1689772937,"creation_date":1689762907,"question_id":76720376,"body_markdown":"```xml\r\n&lt;select id=&quot;findById&quot; resultType=&quot;foo&quot;&gt;\r\n   SELECT *\r\n   FROM foo_table\r\n   WHERE id = #{id}\r\n   limit 1\r\n&lt;/select&gt;\r\n\r\n&lt;select id=&quot;findByStauts&quot; resultType=&quot;foo&quot;&gt;\r\n   SELECT *\r\n   FROM foo_table\r\n   WHERE status = #{status}\r\n    limit 1\r\n&lt;/select&gt;\r\n```\r\n\r\nI want to make sure that the condition &#39;limit 1&#39; is in all queries.  \r\nIs there a way to check in Spring test ?","title":"Is there a way to check on SpringBoot if the xml file has a common query condition?","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;findById&quot; resultType=&quot;foo&quot;&gt;\n   SELECT *\n   FROM foo_table\n   WHERE id = #{id}\n   limit 1\n&lt;/select&gt;\n\n&lt;select id=&quot;findByStauts&quot; resultType=&quot;foo&quot;&gt;\n   SELECT *\n   FROM foo_table\n   WHERE status = #{status}\n    limit 1\n&lt;/select&gt;\n</code></pre>\n<p>I want to make sure that the condition 'limit 1' is in all queries.<br />\nIs there a way to check in Spring test ?</p>\n"},{"tags":["java","string","serialization","arrays"],"comments":[{"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":3,"creation_date":1372375816,"post_id":17354891,"comment_id":25183620,"body_markdown":"Well, did you try it?","body":"Well, did you try it?"},{"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"score":6,"creation_date":1372375958,"post_id":17354891,"comment_id":25183653,"body_markdown":"Yes I did and it works. But I have seen other implementations which are more complex, like http://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems","body":"Yes I did and it works. But I have seen other implementations which are more complex, like <a href=\"http://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems\" title=\"java converting string to and from bytebuffer and associated problems\">stackoverflow.com/questions/1252468/&hellip;</a>"},{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":1,"creation_date":1372376866,"post_id":17354891,"comment_id":25183850,"body_markdown":"@Doorknob et. al. He&#39;s missing encoding and his example (when syntax is corrected) will work, but his method is still not right.","body":"@Doorknob et. al. He&#39;s missing encoding and his example (when syntax is corrected) will work, but his method is still not right."}],"answers":[{"tags":[],"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"down_vote_count":7,"up_vote_count":25,"is_accepted":false,"score":18,"last_activity_date":1372376053,"creation_date":1372376053,"answer_id":17354950,"question_id":17354891,"body_markdown":"Try this:\r\n\r\n    new String(bytebuffer.array(), &quot;ASCII&quot;);\r\n\r\nNB. you can&#39;t correctly convert a byte array to a String without knowing its encoding.\r\n\r\nI hope this helps","title":"Java ByteBuffer to String","body":"<p>Try this:</p>\n\n<pre><code>new String(bytebuffer.array(), \"ASCII\");\n</code></pre>\n\n<p>NB. you can't correctly convert a byte array to a String without knowing its encoding.</p>\n\n<p>I hope this helps</p>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1628698964,"creation_date":1372377981,"answer_id":17355227,"question_id":17354891,"body_markdown":"***EDIT (2018):** The edited sibling [answer by @xinyongCheng is a simpler approach, and should be the accepted answer][1].*\r\n\r\nYour approach would be reasonable if you knew the bytes are in the platform&#39;s default charset. In your example, this is true because `k.getBytes()` returns the bytes in the platform&#39;s default charset.\r\n\r\nMore frequently, you&#39;ll want to specify the encoding. However, there&#39;s a simpler way to do that than the question you linked. The String API provides methods that converts between a String and a byte[] array in a particular encoding. These methods suggest using CharsetEncoder/CharsetDecoder *&quot;when more control over the decoding [encoding] process is required.&quot;*\r\n \r\nTo get the bytes from a String in a particular encoding, you can use a sibling getBytes() method:\r\n\r\n    byte[] bytes = k.getBytes( StandardCharsets.UTF_8 );\r\n\r\nTo put bytes with a particular encoding into a String, you can use a different String constructor:\r\n\r\n    String v = new String( bytes, StandardCharsets.UTF_8 );\r\n\r\nNote that `ByteBuffer.array()` is an optional operation. If you&#39;ve constructed your ByteBuffer with an array, you can use that array directly. Otherwise, if you want to be safe, use `ByteBuffer.get(byte[] dst, int offset, int length)` to get bytes from the buffer into a byte array.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39845152/320399","title":"Java ByteBuffer to String","body":"<p><em><strong>EDIT (2018):</strong> The edited sibling <a href=\"https://stackoverflow.com/a/39845152/320399\">answer by @xinyongCheng is a simpler approach, and should be the accepted answer</a>.</em></p>\n<p>Your approach would be reasonable if you knew the bytes are in the platform's default charset. In your example, this is true because <code>k.getBytes()</code> returns the bytes in the platform's default charset.</p>\n<p>More frequently, you'll want to specify the encoding. However, there's a simpler way to do that than the question you linked. The String API provides methods that converts between a String and a byte[] array in a particular encoding. These methods suggest using CharsetEncoder/CharsetDecoder <em>&quot;when more control over the decoding [encoding] process is required.&quot;</em></p>\n<p>To get the bytes from a String in a particular encoding, you can use a sibling getBytes() method:</p>\n<pre><code>byte[] bytes = k.getBytes( StandardCharsets.UTF_8 );\n</code></pre>\n<p>To put bytes with a particular encoding into a String, you can use a different String constructor:</p>\n<pre><code>String v = new String( bytes, StandardCharsets.UTF_8 );\n</code></pre>\n<p>Note that <code>ByteBuffer.array()</code> is an optional operation. If you've constructed your ByteBuffer with an array, you can use that array directly. Otherwise, if you want to be safe, use <code>ByteBuffer.get(byte[] dst, int offset, int length)</code> to get bytes from the buffer into a byte array.</p>\n"},{"tags":[],"owner":{"account_id":122248,"reputation":2327,"user_id":315943,"display_name":"Fuwjax"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1434408725,"creation_date":1434408725,"answer_id":30856252,"question_id":17354891,"body_markdown":"Just wanted to point out, it&#39;s not safe to assume ByteBuffer.array() will always work.\r\n\r\n    byte[] bytes;\r\n    if(buffer.hasArray()) {\r\n        bytes = buffer.array();\r\n    } else {\r\n        bytes = new byte[buffer.remaining()];\r\n        buffer.get(bytes);\r\n    }\r\n    String v = new String(bytes, charset);\r\n\r\nUsually buffer.hasArray() will always be true or false depending on your use case. In practice, unless you really want it to work under any circumstances, it&#39;s safe to optimize away the branch you don&#39;t need. But the rest of the answers may not work with a ByteBuffer that&#39;s been created through ByteBuffer.allocateDirect().","title":"Java ByteBuffer to String","body":"<p>Just wanted to point out, it's not safe to assume ByteBuffer.array() will always work.</p>\n\n<pre><code>byte[] bytes;\nif(buffer.hasArray()) {\n    bytes = buffer.array();\n} else {\n    bytes = new byte[buffer.remaining()];\n    buffer.get(bytes);\n}\nString v = new String(bytes, charset);\n</code></pre>\n\n<p>Usually buffer.hasArray() will always be true or false depending on your use case. In practice, unless you really want it to work under any circumstances, it's safe to optimize away the branch you don't need. But the rest of the answers may not work with a ByteBuffer that's been created through ByteBuffer.allocateDirect().</p>\n"},{"tags":[],"owner":{"account_id":5044446,"reputation":327,"user_id":4050929,"display_name":"Jas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436988610,"creation_date":1436988610,"answer_id":31439409,"question_id":17354891,"body_markdown":"Notice (aside from the encoding issue) that some of the more complicated code linked goes to the trouble of getting the &quot;active&quot; portion of the ByteBuffer in question (for example by using position and limit), rather than simply encoding all of the bytes in the entire backing array (as many of the examples in these answers do).","title":"Java ByteBuffer to String","body":"<p>Notice (aside from the encoding issue) that some of the more complicated code linked goes to the trouble of getting the \"active\" portion of the ByteBuffer in question (for example by using position and limit), rather than simply encoding all of the bytes in the entire backing array (as many of the examples in these answers do).</p>\n"},{"tags":[],"owner":{"account_id":66911,"reputation":10517,"user_id":196068,"accept_rate":100,"display_name":"Alex Yarmula"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1448666538,"creation_date":1448384130,"answer_id":33899475,"question_id":17354891,"body_markdown":"The answers referring to simply calling `array()` are not quite correct: when the buffer has been partially consumed, or is referring to a part of an array (you can `ByteBuffer.wrap` an array at a given offset, not necessarily from the beginning), we have to account for that in our calculations. This is the general solution that works for buffers in all cases (does not cover encoding):\r\n\r\n    if (myByteBuffer.hasArray()) {\r\n        return new String(myByteBuffer.array(),\r\n            myByteBuffer.arrayOffset() + myByteBuffer.position(),\r\n            myByteBuffer.remaining());\r\n    } else {\r\n        final byte[] b = new byte[myByteBuffer.remaining()];\r\n        myByteBuffer.duplicate().get(b);\r\n        return new String(b);\r\n    }\r\n\r\nFor the concerns related to encoding, see Andy Thomas&#39; answer.","title":"Java ByteBuffer to String","body":"<p>The answers referring to simply calling <code>array()</code> are not quite correct: when the buffer has been partially consumed, or is referring to a part of an array (you can <code>ByteBuffer.wrap</code> an array at a given offset, not necessarily from the beginning), we have to account for that in our calculations. This is the general solution that works for buffers in all cases (does not cover encoding):</p>\n\n<pre><code>if (myByteBuffer.hasArray()) {\n    return new String(myByteBuffer.array(),\n        myByteBuffer.arrayOffset() + myByteBuffer.position(),\n        myByteBuffer.remaining());\n} else {\n    final byte[] b = new byte[myByteBuffer.remaining()];\n    myByteBuffer.duplicate().get(b);\n    return new String(b);\n}\n</code></pre>\n\n<p>For the concerns related to encoding, see Andy Thomas' answer.</p>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510256284,"creation_date":1470681345,"answer_id":38836225,"question_id":17354891,"body_markdown":"**Convert a String to ByteBuffer, then from ByteBuffer back to String using Java:** \r\n\r\n\r\n    import java.nio.charset.Charset;\r\n    import java.nio.*;\r\n\r\n    String babel = &quot;obufscate thd&#233; alphebat and yolo!!&quot;;\r\n    System.out.println(babel);\r\n    //Convert string to ByteBuffer:\r\n    ByteBuffer babb = Charset.forName(&quot;UTF-8&quot;).encode(babel);\r\n    try{\r\n        //Convert ByteBuffer to String\r\n        System.out.println(new String(babb.array(), &quot;UTF-8&quot;));\r\n    }\r\n    catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nWhich prints the printed bare string first, and then the ByteBuffer casted to array():\r\n\r\n    obufscate thd&#233; alphebat and yolo!!\r\n    obufscate thd&#233; alphebat and yolo!!\r\n\r\n\r\nAlso this was helpful for me, reducing the string to primitive bytes can help inspect what&#39;s going on:\r\n\r\n    String text = &quot;こんにちは&quot;;\r\n    //convert utf8 text to a byte array\r\n    byte[] array = text.getBytes(&quot;UTF-8&quot;);\r\n    //convert the byte array back to a string as UTF-8\r\n    String s = new String(array, Charset.forName(&quot;UTF-8&quot;));\r\n    System.out.println(s);\r\n    //forcing strings encoded as UTF-8 as an incorrect encoding like\r\n    //say ISO-8859-1 causes strange and undefined behavior\r\n    String sISO = new String(array, Charset.forName(&quot;ISO-8859-1&quot;));\r\n    System.out.println(sISO);\r\n\r\nPrints your string interpreted as UTF-8, and then again as ISO-8859-1:\r\n\r\n    こんにちは\r\n    &#227;&#227;&#227;&#171;&#227;&#161;&#227;&#175;","title":"Java ByteBuffer to String","body":"<p><strong>Convert a String to ByteBuffer, then from ByteBuffer back to String using Java:</strong> </p>\n\n<pre><code>import java.nio.charset.Charset;\nimport java.nio.*;\n\nString babel = \"obufscate thdé alphebat and yolo!!\";\nSystem.out.println(babel);\n//Convert string to ByteBuffer:\nByteBuffer babb = Charset.forName(\"UTF-8\").encode(babel);\ntry{\n    //Convert ByteBuffer to String\n    System.out.println(new String(babb.array(), \"UTF-8\"));\n}\ncatch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Which prints the printed bare string first, and then the ByteBuffer casted to array():</p>\n\n<pre><code>obufscate thdé alphebat and yolo!!\nobufscate thdé alphebat and yolo!!\n</code></pre>\n\n<p>Also this was helpful for me, reducing the string to primitive bytes can help inspect what's going on:</p>\n\n<pre><code>String text = \"こんにちは\";\n//convert utf8 text to a byte array\nbyte[] array = text.getBytes(\"UTF-8\");\n//convert the byte array back to a string as UTF-8\nString s = new String(array, Charset.forName(\"UTF-8\"));\nSystem.out.println(s);\n//forcing strings encoded as UTF-8 as an incorrect encoding like\n//say ISO-8859-1 causes strange and undefined behavior\nString sISO = new String(array, Charset.forName(\"ISO-8859-1\"));\nSystem.out.println(sISO);\n</code></pre>\n\n<p>Prints your string interpreted as UTF-8, and then again as ISO-8859-1:</p>\n\n<pre><code>こんにちは\nããã«ã¡ã¯\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4052480,"reputation":1836,"user_id":6919141,"display_name":"xinyong Cheng"},"down_vote_count":0,"up_vote_count":168,"is_accepted":true,"score":168,"last_activity_date":1491839337,"creation_date":1475560893,"answer_id":39845152,"question_id":17354891,"body_markdown":"There is simpler approach to decode a `ByteBuffer` into a `String` without any problems, mentioned by Andy Thomas. \r\n\r\n    String s = StandardCharsets.UTF_8.decode(byteBuffer).toString();","title":"Java ByteBuffer to String","body":"<p>There is simpler approach to decode a <code>ByteBuffer</code> into a <code>String</code> without any problems, mentioned by Andy Thomas. </p>\n\n<pre><code>String s = StandardCharsets.UTF_8.decode(byteBuffer).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588428610,"creation_date":1523113141,"answer_id":49708655,"question_id":17354891,"body_markdown":"the root of this question is **how to decode bytes to string?**\r\n\r\n\r\nthis can be done with the JAVA NIO CharSet:\r\n\r\n`public final CharBuffer decode(ByteBuffer bb) \r\n`\r\n\r\n\r\n```\r\nFileChannel channel = FileChannel.open(\r\n  Paths.get(&quot;files/text-latin1.txt&quot;, StandardOpenOption.READ);\r\nByteBuffer buffer = ByteBuffer.allocate(1024);\r\nchannel.read(buffer);\r\n\r\nCharSet latin1 = StandardCharsets.ISO_8859_1;\r\nCharBuffer latin1Buffer = latin1.decode(buffer);\r\n\r\nString result = new String(latin1Buffer.array());\r\n```\r\n\r\n* First we create a channel and read it in a buffer\r\n* Then decode method decodes a Latin1 buffer to a char buffer\r\n* We can then put the result, for instance, in a String\r\n","title":"Java ByteBuffer to String","body":"<p>the root of this question is <strong>how to decode bytes to string?</strong></p>\n\n<p>this can be done with the JAVA NIO CharSet:</p>\n\n<p><code>public final CharBuffer decode(ByteBuffer bb)\n</code></p>\n\n<pre><code>FileChannel channel = FileChannel.open(\n  Paths.get(\"files/text-latin1.txt\", StandardOpenOption.READ);\nByteBuffer buffer = ByteBuffer.allocate(1024);\nchannel.read(buffer);\n\nCharSet latin1 = StandardCharsets.ISO_8859_1;\nCharBuffer latin1Buffer = latin1.decode(buffer);\n\nString result = new String(latin1Buffer.array());\n</code></pre>\n\n<ul>\n<li>First we create a channel and read it in a buffer</li>\n<li>Then decode method decodes a Latin1 buffer to a char buffer</li>\n<li>We can then put the result, for instance, in a String</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14293726,"reputation":1,"user_id":10324980,"display_name":"Koenraad Appelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562836122,"creation_date":1562836122,"answer_id":56985574,"question_id":17354891,"body_markdown":"    private String convertFrom(String lines, String from, String to) {\r\n        ByteBuffer bb = ByteBuffer.wrap(lines.getBytes());\r\n        CharBuffer cb = Charset.forName(to).decode(bb);\r\n        return new String(Charset.forName(from).encode(cb).array());\r\n    };\r\n    public Doit(){\r\n        String concatenatedLines = convertFrom(concatenatedLines, &quot;CP1252&quot;, &quot;UTF-8&quot;);\r\n    };","title":"Java ByteBuffer to String","body":"<pre><code>private String convertFrom(String lines, String from, String to) {\n    ByteBuffer bb = ByteBuffer.wrap(lines.getBytes());\n    CharBuffer cb = Charset.forName(to).decode(bb);\n    return new String(Charset.forName(from).encode(cb).array());\n};\npublic Doit(){\n    String concatenatedLines = convertFrom(concatenatedLines, \"CP1252\", \"UTF-8\");\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16458154,"reputation":113,"user_id":11889864,"display_name":"Jitendra Asawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597326312,"creation_date":1597326312,"answer_id":63396579,"question_id":17354891,"body_markdown":"Here is a simple function for converting a byte buffer to string:\r\n\r\n    public String byteBufferToString(ByteBuffer bufferData) {\r\n\t\tbyte[] buffer = new byte[bufferData.readableByteCount()];\r\n        // read bufferData and insert into buffer \r\n\t    data.read(buffer);\r\n        // CharsetUtil supports UTF_16, ASCII, and many more\r\n\t    String text = new String(buffer, CharsetUtil.UTF_8);\r\n\t    System.out.println(&quot;Text: &quot;+text);\r\n        return text;\r\n    }","title":"Java ByteBuffer to String","body":"<p>Here is a simple function for converting a byte buffer to string:</p>\n<pre><code>public String byteBufferToString(ByteBuffer bufferData) {\n    byte[] buffer = new byte[bufferData.readableByteCount()];\n    // read bufferData and insert into buffer \n    data.read(buffer);\n    // CharsetUtil supports UTF_16, ASCII, and many more\n    String text = new String(buffer, CharsetUtil.UTF_8);\n    System.out.println(&quot;Text: &quot;+text);\n    return text;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627557044,"creation_date":1627557044,"answer_id":68574857,"question_id":17354891,"body_markdown":"This was the only method that worked for me on a `java.nio.ByteBuffer` instance:\r\n\r\n`String fileContent = new String(bb.array(), StandardCharsets.UTF_8);`\r\n\r\nRelated code snippet below:\r\n\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.channels.FileChannel;\r\n    import java.nio.ByteBuffer;\r\n    \r\n    \r\n    Path path = Paths.get(&quot;/home/binita/testbb&quot;);\r\n    FileChannel fileChannel = FileChannel.open(path, \r\n    \t\t         EnumSet.of(StandardOpenOption.READ\r\n    \t\t            )\r\n    \t\t         );  \r\n    \t\t    \r\n    ByteBuffer bb = ByteBuffer.allocate(1024);\r\n    int bytesRead = fileChannel.read(bb);\r\n    if(bytesRead &gt; 0) {\r\n     String fileContent = new String(bb.array(), StandardCharsets.UTF_8);\r\n    }\r\n\r\n","title":"Java ByteBuffer to String","body":"<p>This was the only method that worked for me on a <code>java.nio.ByteBuffer</code> instance:</p>\n<p><code>String fileContent = new String(bb.array(), StandardCharsets.UTF_8);</code></p>\n<p>Related code snippet below:</p>\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.channels.FileChannel;\nimport java.nio.ByteBuffer;\n\n\nPath path = Paths.get(&quot;/home/binita/testbb&quot;);\nFileChannel fileChannel = FileChannel.open(path, \n                 EnumSet.of(StandardOpenOption.READ\n                    )\n                 );  \n            \nByteBuffer bb = ByteBuffer.allocate(1024);\nint bytesRead = fileChannel.read(bb);\nif(bytesRead &gt; 0) {\n String fileContent = new String(bb.array(), StandardCharsets.UTF_8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12327721,"reputation":1,"user_id":8994715,"display_name":"nutts786"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689772876,"creation_date":1689771905,"answer_id":76721627,"question_id":17354891,"body_markdown":"May be toooo late but here is a solution that works for me.\r\n\r\n\r\n    fun byteBufferToByteString(byteBuffer: ByteBuffer) : ByteString {\r\n            var size = byteBuffer.capacity()\r\n            byteBuffer.position(0)        \r\n            return ByteString.copyFrom(byteBuffer,size)\r\n    }\r\n\r\nNote: Setting buffer size is important here , as without that, it might give error while converting the ByteString back to bytearray at receivers end.","title":"Java ByteBuffer to String","body":"<p>May be toooo late but here is a solution that works for me.</p>\n<pre><code>fun byteBufferToByteString(byteBuffer: ByteBuffer) : ByteString {\n        var size = byteBuffer.capacity()\n        byteBuffer.position(0)        \n        return ByteString.copyFrom(byteBuffer,size)\n}\n</code></pre>\n<p>Note: Setting buffer size is important here , as without that, it might give error while converting the ByteString back to bytearray at receivers end.</p>\n"}],"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266574,"favorite_count":0,"down_vote_count":4,"up_vote_count":165,"accepted_answer_id":39845152,"answer_count":12,"score":161,"last_activity_date":1689772876,"creation_date":1372375644,"question_id":17354891,"body_markdown":"Is this a correct approach to convert ByteBuffer to String in this way,\r\n\r\n    String k = &quot;abcd&quot;;\r\n    ByteBuffer b = ByteBuffer.wrap(k.getBytes());\r\n    String v = new String(b.array());\r\n\r\n    if(k.equals(v))\r\n        System.out.println(&quot;it worked&quot;);\r\n    else\r\n        System.out.println(&quot;did not work&quot;);\r\n\r\nThe reason I ask is that is this looks too simple, whereas other approaches like https://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems looks more complex.","title":"Java ByteBuffer to String","body":"<p>Is this a correct approach to convert ByteBuffer to String in this way,</p>\n\n<pre><code>String k = \"abcd\";\nByteBuffer b = ByteBuffer.wrap(k.getBytes());\nString v = new String(b.array());\n\nif(k.equals(v))\n    System.out.println(\"it worked\");\nelse\n    System.out.println(\"did not work\");\n</code></pre>\n\n<p>The reason I ask is that is this looks too simple, whereas other approaches like <a href=\"https://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems\">Java: Converting String to and from ByteBuffer and associated problems</a> looks more complex.</p>\n"},{"tags":["java","spring-boot","postman","ssl-certificate","mutual-authentication"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1689776200,"post_id":76676899,"comment_id":135261656,"body_markdown":"&quot;Connection timed out&quot; is a network-level error and has nothing to do with your use of certificates.  Is this Java on the same machine as the postman and telnet? Is there any kind of firewall on your system or in your network (although that usually should affect telnet too)? Are you using any kind of virtualization like docker or WSL?","body":"&quot;Connection timed out&quot; is a network-level error and has nothing to do with your use of certificates.  Is this Java on the same machine as the postman and telnet? Is there any kind of firewall on your system or in your network (although that usually should affect telnet too)? Are you using any kind of virtualization like docker or WSL?"}],"owner":{"account_id":7439934,"reputation":1,"user_id":5658000,"display_name":"dursun &#246;zt&#252;rk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689772860,"creation_date":1689233241,"question_id":76676899,"body_markdown":"I use PFX file in postman [like this](https://i.stack.imgur.com/plhmm.png) \r\nbut I want to use in spring boot as like postman.`\r\n\r\n\r\nI tried:\r\n```\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\r\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\r\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\r\n```\r\nand\r\n```\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/XX/XX.pfx&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;C:/XX/XX.pfx&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\r\n```\r\n```\r\nfinal String allPassword = &quot;XXX&quot;;\r\nTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\nSSLContext sslContext = SSLContextBuilder\r\n    .create()\r\n    .loadKeyMaterial(ResourceUtils.getFile(&quot;classpath:XX.pfx&quot;),\r\n                     allPassword.toCharArray(), allPassword.toCharArray())\r\n    //.loadTrustMaterial(ResourceUtils.getFile(&quot;classpath:XX.jks&quot;), allPassword.toCharArray())\r\n    .loadTrustMaterial(null, acceptingTrustStrategy)\r\n    .build();\r\nHttpClient client = HttpClients.custom()\r\n    .setSSLContext(sslContext)\r\n    .build();\r\nHttpComponentsClientHttpRequestFactory requestFactory =\r\n    new HttpComponentsClientHttpRequestFactory();\r\nrequestFactory.setHttpClient(client);\r\nRestTemplate restTemplate = new RestTemplate(requestFactory);\r\nreturn restTemplate;\r\n```\r\nbut\r\n```\r\nI/O error on GET request for &quot;https://XX.bkm.com.tr/oauth-provider/&quot;: Connect to XX.com.tr:443 [XX.com.tr/XX.XXX.XXX.55] failed: Connection timed out: connect\r\n```\r\nI can telnet XX.XXX.XXX.55 443 and when use postman with client sertificate everytinhs successfull but when I use spring boot  I am getting Connection Timed out\r\n","title":"how do i use client PFX certificate in java like i use it in postman","body":"<p>I use PFX file in postman <a href=\"https://i.stack.imgur.com/plhmm.png\" rel=\"nofollow noreferrer\">like this</a>\nbut I want to use in spring boot as like postman.`</p>\n<p>I tried:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/XX/XX.pfx&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;C:/XX/XX.pfx&quot;);\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\n</code></pre>\n<pre><code>final String allPassword = &quot;XXX&quot;;\nTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\nSSLContext sslContext = SSLContextBuilder\n    .create()\n    .loadKeyMaterial(ResourceUtils.getFile(&quot;classpath:XX.pfx&quot;),\n                     allPassword.toCharArray(), allPassword.toCharArray())\n    //.loadTrustMaterial(ResourceUtils.getFile(&quot;classpath:XX.jks&quot;), allPassword.toCharArray())\n    .loadTrustMaterial(null, acceptingTrustStrategy)\n    .build();\nHttpClient client = HttpClients.custom()\n    .setSSLContext(sslContext)\n    .build();\nHttpComponentsClientHttpRequestFactory requestFactory =\n    new HttpComponentsClientHttpRequestFactory();\nrequestFactory.setHttpClient(client);\nRestTemplate restTemplate = new RestTemplate(requestFactory);\nreturn restTemplate;\n</code></pre>\n<p>but</p>\n<pre><code>I/O error on GET request for &quot;https://XX.bkm.com.tr/oauth-provider/&quot;: Connect to XX.com.tr:443 [XX.com.tr/XX.XXX.XXX.55] failed: Connection timed out: connect\n</code></pre>\n<p>I can telnet XX.XXX.XXX.55 443 and when use postman with client sertificate everytinhs successfull but when I use spring boot  I am getting Connection Timed out</p>\n"},{"tags":["java","sql","apache-flink","avro","flink-sql"],"owner":{"account_id":28786435,"reputation":1,"user_id":22046802,"display_name":"Hsgh775"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689772781,"creation_date":1689772745,"question_id":76721751,"body_markdown":"I have this schema of payload.avsc\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;Data&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;guid&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;items&quot;: &quot;long&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;name1&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;name2&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\nhere is my code juste to extracte the 2 field name1 and name2 \r\n\r\n    package com.example;\r\n    \r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericDatumReader;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.BinaryDecoder;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    import org.apache.flink.table.functions.ScalarFunction;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.ByteBuffer;\r\n    \r\n    public class AvroDecoder extends ScalarFunction {\r\n    \r\n        private static Schema schema;\r\n    \r\n        public AvroDecoder() throws IOException {\r\n            try (InputStream inputStream = AvroDecoder.class.getResourceAsStream(&quot;/payload.avsc&quot;)) {\r\n                schema = new Schema.Parser().parse(inputStream);\r\n            }\r\n        }\r\n    \r\n        public payloadData eval(byte[] avroPayload) throws IOException {\r\n            BinaryDecoder decoder = DecoderFactory.get().binaryDecoder(avroPayload, null);\r\n    \r\n            DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;(schema);\r\n            GenericRecord genericRecord = reader.read(null, decoder);\r\n    \r\n            return new payloadData(\r\n                    \r\n                    genericRecord.get(&quot;name1&quot;).toString(),\r\n                    genericRecord.get(&quot;name2&quot;).toString()\r\n                    \r\n            );\r\n        }\r\n    \r\n     \r\n    \r\n        public static long[] convertByteBufferToLongArray(ByteBuffer byteBuffer) {\r\n            byteBuffer.rewind();\r\n            long[] result = new long[byteBuffer.remaining() / 8];\r\n            for (int i = 0; i &lt; result.length; i++) {\r\n                result[i] = byteBuffer.getLong();\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static class payloadData {\r\n            \r\n            public String name1;\r\n            public String name2;\r\n            \r\n    \r\n            public payloadData( String name1, String name2 ) {\r\n                \r\n                this.name1 = name1;\r\n                this.name2 = name2;\r\n                \r\n            }\r\n    \r\n           \r\n    \r\n    \r\n            public String getName1() {\r\n                return name1;\r\n            }\r\n    \r\n            public String getName2() {\r\n                return name2;\r\n            }\r\n        }\r\n    }\r\n\r\nAfter that I created the jar file for this project so I can use it in my flink sql client code as \r\n    \r\n\r\n    CREATE TEMPORARY FUNCTION avro_decode AS &#39;com.example.AvroDecoder&#39;;\r\n\r\n    SELECT\r\n      avro_decode(payload).name1 AS name1,\r\n      avro_decode(payload).name2 AS name2\r\n    FROM tablekafka;\r\n\r\nThis function has been accepted in flink sql, but it doesn&#39;t show me any data, I think that there is a problem in the way that I made the code. Please, any help ! \r\n","title":"Create a UDF function to decode a binary field &quot;payload&quot; based on its schema avsc","body":"<p>I have this schema of payload.avsc</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Data&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;guid&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;items&quot;: &quot;long&quot;\n      }\n    },\n    {\n      &quot;name&quot;: &quot;name1&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;name2&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<p>here is my code juste to extracte the 2 field name1 and name2</p>\n<pre><code>package com.example;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericDatumReader;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.BinaryDecoder;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.flink.table.functions.ScalarFunction;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.ByteBuffer;\n\npublic class AvroDecoder extends ScalarFunction {\n\n    private static Schema schema;\n\n    public AvroDecoder() throws IOException {\n        try (InputStream inputStream = AvroDecoder.class.getResourceAsStream(&quot;/payload.avsc&quot;)) {\n            schema = new Schema.Parser().parse(inputStream);\n        }\n    }\n\n    public payloadData eval(byte[] avroPayload) throws IOException {\n        BinaryDecoder decoder = DecoderFactory.get().binaryDecoder(avroPayload, null);\n\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;(schema);\n        GenericRecord genericRecord = reader.read(null, decoder);\n\n        return new payloadData(\n                \n                genericRecord.get(&quot;name1&quot;).toString(),\n                genericRecord.get(&quot;name2&quot;).toString()\n                \n        );\n    }\n\n \n\n    public static long[] convertByteBufferToLongArray(ByteBuffer byteBuffer) {\n        byteBuffer.rewind();\n        long[] result = new long[byteBuffer.remaining() / 8];\n        for (int i = 0; i &lt; result.length; i++) {\n            result[i] = byteBuffer.getLong();\n        }\n        return result;\n    }\n\n    public static class payloadData {\n        \n        public String name1;\n        public String name2;\n        \n\n        public payloadData( String name1, String name2 ) {\n            \n            this.name1 = name1;\n            this.name2 = name2;\n            \n        }\n\n       \n\n\n        public String getName1() {\n            return name1;\n        }\n\n        public String getName2() {\n            return name2;\n        }\n    }\n}\n</code></pre>\n<p>After that I created the jar file for this project so I can use it in my flink sql client code as</p>\n<pre><code>CREATE TEMPORARY FUNCTION avro_decode AS 'com.example.AvroDecoder';\n\nSELECT\n  avro_decode(payload).name1 AS name1,\n  avro_decode(payload).name2 AS name2\nFROM tablekafka;\n</code></pre>\n<p>This function has been accepted in flink sql, but it doesn't show me any data, I think that there is a problem in the way that I made the code. Please, any help !</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689772768,"creation_date":1652658956,"answer_id":72252991,"question_id":72252980,"body_markdown":"If neither of the toasts you have in the `onComplete` method are showing, then it may be that you downloaded the `google-services.json` file before you created your database. If that&#39;s the case, the file doesn&#39;t contain the database URL, and thus the client can&#39;t find your database on the server.\r\n\r\nIn that case, you can solve it by:\r\n\r\n* either download an updated `google-services.json` file, replacing the one in your project with it, and rebuilding the app.\r\n* or you can specify the URL for your database in the code, like this: `FirebaseDatabase.getInstance(&quot;https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference(&quot;Users&quot;)...`\r\n\r\nAlso see: https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677","title":"Firebase Authenticated but not storing in real time database","body":"<p>If neither of the toasts you have in the <code>onComplete</code> method are showing, then it may be that you downloaded the <code>google-services.json</code> file before you created your database. If that's the case, the file doesn't contain the database URL, and thus the client can't find your database on the server.</p>\n<p>In that case, you can solve it by:</p>\n<ul>\n<li>either download an updated <code>google-services.json</code> file, replacing the one in your project with it, and rebuilding the app.</li>\n<li>or you can specify the URL for your database in the code, like this: <code>FirebaseDatabase.getInstance(&quot;https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference(&quot;Users&quot;)...</code></li>\n</ul>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\">Google Firebase Real-time Database Not Working as everything is set correctly</a></p>\n"}],"owner":{"account_id":25298932,"reputation":1,"user_id":19123533,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689772768,"creation_date":1652658673,"question_id":72252980,"body_markdown":"I have a login page which when registering a new user authenticates the data if it is validated and then is meant to store them. However, after the data is authenticated it doesn&#39;t add to the real time database. \r\n\r\nRegister java code:\r\n```\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                if(task.isSuccessful()){\r\n                    User user = new User(fullname, email);\r\n\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if(task.isSuccessful()){\r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        Toast.makeText(RegisterActivity.this, &quot;User has registered successfully&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                    else{\r\n                                        Toast.makeText(RegisterActivity.this, &quot;Failed to register&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                    progressBar.setVisibility(View.GONE);\r\n                                }\r\n                            });\r\n                }\r\n                else{\r\n                    Toast.makeText(RegisterActivity.this, &quot;Failed to register22&quot;, Toast.LENGTH_LONG).show();\r\n                    progressBar.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nDependencies:\r\n```\r\nimplementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.5&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n```\r\n\r\nI have set the rules of the database as below:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,  // 2022-6-14\r\n    &quot;.write&quot;: true,  // 2022-6-14\r\n  }\r\n}\r\n```\r\n\r\nFinally my database also only shows this:\r\n```\r\nhttps://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/\r\n:\r\nnull\r\n```\r\n\r\nDoes anyone have any clue why this is happening?","title":"Firebase Authenticated but not storing in real time database","body":"<p>I have a login page which when registering a new user authenticates the data if it is validated and then is meant to store them. However, after the data is authenticated it doesn't add to the real time database.</p>\n<p>Register java code:</p>\n<pre><code>        progressBar.setVisibility(View.VISIBLE);\n\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                if(task.isSuccessful()){\n                    User user = new User(fullname, email);\n\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if(task.isSuccessful()){\n                                        progressBar.setVisibility(View.GONE);\n                                        Toast.makeText(RegisterActivity.this, &quot;User has registered successfully&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                    else{\n                                        Toast.makeText(RegisterActivity.this, &quot;Failed to register&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                    progressBar.setVisibility(View.GONE);\n                                }\n                            });\n                }\n                else{\n                    Toast.makeText(RegisterActivity.this, &quot;Failed to register22&quot;, Toast.LENGTH_LONG).show();\n                    progressBar.setVisibility(View.GONE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.google.firebase:firebase-auth:21.0.4'\n    implementation 'com.google.firebase:firebase-database:20.0.5'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n<p>I have set the rules of the database as below:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,  // 2022-6-14\n    &quot;.write&quot;: true,  // 2022-6-14\n  }\n}\n</code></pre>\n<p>Finally my database also only shows this:</p>\n<pre><code>https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/\n:\nnull\n</code></pre>\n<p>Does anyone have any clue why this is happening?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689772723,"creation_date":1631048925,"answer_id":69094566,"question_id":69094125,"body_markdown":"My guess is that you downloaded the `google-services.json` file for the first app before you created the database. In that case the file does not contain the database URL, and the SDK can&#39;t guess it. \r\n\r\nThe fact that the local writes and reads still work is (in that case) because Firebase explicitly ensures that the local client sees its own changes, so that the app works even when the device intermittently loses its network connection.\r\n\r\nSo **if** the above is indeed the cause of the problem, you can take either of these steps to fix it:\r\n\r\n* Download an up to date `google-services.json` and use that in your app.\r\n* Explicitly specify the URL of your database in: `FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;URL here&quot;);`\r\n\r\nAlso see: https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677","title":"My app can&#39;t set or receive any values from Firebase, but another app can","body":"<p>My guess is that you downloaded the <code>google-services.json</code> file for the first app before you created the database. In that case the file does not contain the database URL, and the SDK can't guess it.</p>\n<p>The fact that the local writes and reads still work is (in that case) because Firebase explicitly ensures that the local client sees its own changes, so that the app works even when the device intermittently loses its network connection.</p>\n<p>So <strong>if</strong> the above is indeed the cause of the problem, you can take either of these steps to fix it:</p>\n<ul>\n<li>Download an up to date <code>google-services.json</code> and use that in your app.</li>\n<li>Explicitly specify the URL of your database in: <code>FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;URL here&quot;);</code></li>\n</ul>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\">Google Firebase Real-time Database Not Working as everything is set correctly</a></p>\n"}],"owner":{"account_id":22685083,"reputation":93,"user_id":16854861,"display_name":"Dep1111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69094566,"answer_count":1,"score":0,"last_activity_date":1689772723,"creation_date":1631045884,"question_id":69094125,"body_markdown":"I created a project and add my app to it recently. I&#39;m already set Rule: **Read** and **Write** to **true** and tried a simple code to add new Value to Real Time Database console. But nothing happened. The console didn&#39;t get anything.\r\n\r\nHere is the code i use;\r\n\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    \r\n    DatabaseReference ref = database.getReference(&quot;Bob&quot;);\r\n    \r\n    ref.setValue(editText.getText.toString);\r\n\r\nI did try `ref.addValueEventListener` and in `onDataChange` is `textView.setText(snapshot.getValue(String.class));` The textView changes everytime I send data, even when i turn off the Wifi. Is it a problem lol?\r\n\r\nThen I created a whole new application and tried the same code, it worked very well. But i can&#39;t leave the old app to move to the new one because i have developed it for months. \r\n\r\nI tried to copy 2 gradle file, manifest.xml from the old one to the new one. But the new one still work. \r\n\r\nI also tried to remove and create new Firebase project, remove Firebase from the app and add to it again.\r\n\r\nHas anyone ever been in this situation like me?\r\n\r\n","title":"My app can&#39;t set or receive any values from Firebase, but another app can","body":"<p>I created a project and add my app to it recently. I'm already set Rule: <strong>Read</strong> and <strong>Write</strong> to <strong>true</strong> and tried a simple code to add new Value to Real Time Database console. But nothing happened. The console didn't get anything.</p>\n<p>Here is the code i use;</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance();\n\nDatabaseReference ref = database.getReference(&quot;Bob&quot;);\n\nref.setValue(editText.getText.toString);\n</code></pre>\n<p>I did try <code>ref.addValueEventListener</code> and in <code>onDataChange</code> is <code>textView.setText(snapshot.getValue(String.class));</code> The textView changes everytime I send data, even when i turn off the Wifi. Is it a problem lol?</p>\n<p>Then I created a whole new application and tried the same code, it worked very well. But i can't leave the old app to move to the new one because i have developed it for months.</p>\n<p>I tried to copy 2 gradle file, manifest.xml from the old one to the new one. But the new one still work.</p>\n<p>I also tried to remove and create new Firebase project, remove Firebase from the app and add to it again.</p>\n<p>Has anyone ever been in this situation like me?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":20219544,"reputation":21,"user_id":14829435,"display_name":"Gr&#233;goire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689770039,"creation_date":1689770039,"answer_id":76721346,"question_id":76721207,"body_markdown":"Hello in your example you use [7] but on my computer it look like to be [6].\r\n\r\n    //html/body/div[6]/div[1]/ul/li[6]/a\r\n\r\nOtherwise, you could try to use something like that.\r\nIt do not use index to select element so I guess it is more reliable if the website change.\r\n\r\n    //div[@id=&quot;vl-flyout-nav&quot;]//ul//li//a[contains(text(),&#39;Refurbished&#39;)]\r\n\r\nHope this answer your question","title":"Selenium automation Mouse over action","body":"<p>Hello in your example you use [7] but on my computer it look like to be [6].</p>\n<pre><code>//html/body/div[6]/div[1]/ul/li[6]/a\n</code></pre>\n<p>Otherwise, you could try to use something like that.\nIt do not use index to select element so I guess it is more reliable if the website change.</p>\n<pre><code>//div[@id=&quot;vl-flyout-nav&quot;]//ul//li//a[contains(text(),'Refurbished')]\n</code></pre>\n<p>Hope this answer your question</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689772203,"creation_date":1689771649,"answer_id":76721590,"question_id":76721207,"body_markdown":"You can change your XPath expression as below:\r\n````\r\n(//a[text()=&#39;Refurbished&#39;])[1]\r\n````\r\n\r\n**Refer the working code below:**\r\n````\r\nWebDriver driver = new ChromeDriver();\r\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\r\ndriver.manage().window().maximize();\r\n\t\t\r\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\n// Click on Accept Cookie button\r\nJavascriptExecutor j = (JavascriptExecutor) driver;\r\nj.executeScript(&quot;arguments[0].click();&quot;, wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept all&#39;]&quot;))));\r\n\t\t\r\nActions action = new Actions(driver);\r\nWebElement refurbished = driver.findElement(By.xpath(&quot;(//a[text()=&#39;Refurbished&#39;])[1]&quot;));\r\naction.moveToElement(refurbished).perform();\r\n````\r\n\r\n","title":"Selenium automation Mouse over action","body":"<p>You can change your XPath expression as below:</p>\n<pre><code>(//a[text()='Refurbished'])[1]\n</code></pre>\n<p><strong>Refer the working code below:</strong></p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\ndriver.manage().window().maximize();\n        \nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\n// Click on Accept Cookie button\nJavascriptExecutor j = (JavascriptExecutor) driver;\nj.executeScript(&quot;arguments[0].click();&quot;, wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept all']&quot;))));\n        \nActions action = new Actions(driver);\nWebElement refurbished = driver.findElement(By.xpath(&quot;(//a[text()='Refurbished'])[1]&quot;));\naction.moveToElement(refurbished).perform();\n</code></pre>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689772302,"creation_date":1689768970,"question_id":76721207,"body_markdown":"I am trying to perform a mouse-over action. Using ebay.co.uk as a case study, I want to mouse over on the category &quot;Refurbished&quot; represented by the XPath below, but I am getting an error that  \r\n````\r\nno such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;}\r\n````\r\n```\r\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\r\ndriver.manage().window().maximize();\r\nWebElement element = driver.findElement(By.xpath(&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;));\r\nActions action = new Actions(driver);\r\naction.moveToElement(element).perform();\r\n```","title":"Selenium automation Mouse over action","body":"<p>I am trying to perform a mouse-over action. Using ebay.co.uk as a case study, I want to mouse over on the category &quot;Refurbished&quot; represented by the XPath below, but I am getting an error that</p>\n<pre><code>no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;}\n</code></pre>\n<pre><code>driver.get(&quot;https://www.ebay.co.uk/&quot;);\ndriver.manage().window().maximize();\nWebElement element = driver.findElement(By.xpath(&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;));\nActions action = new Actions(driver);\naction.moveToElement(element).perform();\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9693,"page":299,"page_size":100}
