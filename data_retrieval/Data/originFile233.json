{"items":[{"tags":["java","ide","hover","javadoc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692877725,"post_id":76957941,"comment_id":135685212,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26984569,"reputation":1,"user_id":20548417,"display_name":"jaimal singh"},"score":0,"creation_date":1692970993,"post_id":76957941,"comment_id":135701512,"body_markdown":"I am using vs-code. I have a java gradle project with dependencies. The depepenacy .jars having source-code, we can see javadocs in hover suggestions  when we are refering any class from those dependencies. When we don&#39;t have source-code but we have javdocs (html format) packed with the jar we see hover suggestion but not java-docs documentaion. \nIs it even possible to show hover javadoc when java source-code is not there but javdocs are packed inside the .jar? For any IDE intelliJ, eclipse? \n\nFor vs-code I am using extension Language Support for Java(TM) by Red Hat.","body":"I am using vs-code. I have a java gradle project with dependencies. The depepenacy .jars having source-code, we can see javadocs in hover suggestions  when we are refering any class from those dependencies. When we don&#39;t have source-code but we have javdocs (html format) packed with the jar we see hover suggestion but not java-docs documentaion.  Is it even possible to show hover javadoc when java source-code is not there but javdocs are packed inside the .jar? For any IDE intelliJ, eclipse?   For vs-code I am using extension Language Support for Java(TM) by Red Hat."}],"owner":{"account_id":26984569,"reputation":1,"user_id":20548417,"display_name":"jaimal singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692758721,"creation_date":1692758721,"question_id":76957941,"body_markdown":"Will hover suggestions for java (any IDE) work if source code is not there but JavaDocs are shipped with the JAR?\r\n\r\nI tried few things on VsCode:\r\n\r\n1. Code refering to class from JAR with &quot;source code&quot; was showing hover suggestions.\r\n2. Code refering to class from JAR with &quot;no source&quot; code but &quot;attached Javadocs&quot; was not showing hover suggestions.","title":"Will hover suggestions for java (any IDE) work if source code is not there but JavaDocs are shipped with the JAR?","body":"<p>Will hover suggestions for java (any IDE) work if source code is not there but JavaDocs are shipped with the JAR?</p>\n<p>I tried few things on VsCode:</p>\n<ol>\n<li>Code refering to class from JAR with &quot;source code&quot; was showing hover suggestions.</li>\n<li>Code refering to class from JAR with &quot;no source&quot; code but &quot;attached Javadocs&quot; was not showing hover suggestions.</li>\n</ol>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1490241952,"post_id":42966889,"comment_id":73027709,"body_markdown":"*A* specific  java project or any project that you try?","body":"<i>A</i> specific  java project or any project that you try?"},{"owner":{"account_id":10508927,"reputation":1279,"user_id":7745251,"display_name":"ieatczp"},"score":0,"creation_date":1490243816,"post_id":42966889,"comment_id":73028194,"body_markdown":"Not really, It&#39;s a common project.","body":"Not really, It&#39;s a common project."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1490243876,"post_id":42966889,"comment_id":73028209,"body_markdown":"Then try to provide a [mcve]. Not sure if we can help otherwise. Or write a bug report to JetBrains.","body":"Then try to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Not sure if we can help otherwise. Or write a bug report to JetBrains."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1490250801,"post_id":42966889,"comment_id":73030650,"body_markdown":"Switch to javac instead of Eclipse compiler.","body":"Switch to javac instead of Eclipse compiler."},{"owner":{"account_id":10508927,"reputation":1279,"user_id":7745251,"display_name":"ieatczp"},"score":0,"creation_date":1490251226,"post_id":42966889,"comment_id":73030833,"body_markdown":"In fact, my javaWeb project has some faults in other places. Maybe in other words, it&#39;s not a complete javaWeb project, so I have to use eclipse compiler instead of javac to ignore some errors.","body":"In fact, my javaWeb project has some faults in other places. Maybe in other words, it&#39;s not a complete javaWeb project, so I have to use eclipse compiler instead of javac to ignore some errors."}],"answers":[{"comments":[{"owner":{"account_id":417972,"reputation":854,"user_id":794274,"display_name":"Wpigott"},"score":8,"creation_date":1593368724,"post_id":45274786,"comment_id":110750007,"body_markdown":"This worked for me also.   No idea why, but I&#39;ll take it!","body":"This worked for me also.   No idea why, but I&#39;ll take it!"},{"owner":{"account_id":11686848,"reputation":396,"user_id":8556340,"display_name":"Roeniss"},"score":1,"creation_date":1660331957,"post_id":45274786,"comment_id":129516371,"body_markdown":"Unbelievable. This worked for me and I completely lose my mind.","body":"Unbelievable. This worked for me and I completely lose my mind."}],"tags":[],"owner":{"account_id":2050865,"reputation":904,"user_id":1829921,"display_name":"omerhakanbilici"},"comment_count":2,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1500882067,"creation_date":1500882067,"answer_id":45274786,"question_id":42966889,"body_markdown":"I changed my compiler to Eclipse and run my project. Afterwards changed back to Javac and problem solved. I don&#39;t know exact problem but it can help who is looking for solution. \r\n\r\n[![intellij java compiler][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CAXA0.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I changed my compiler to Eclipse and run my project. Afterwards changed back to Javac and problem solved. I don't know exact problem but it can help who is looking for solution. </p>\n\n<p><a href=\"https://i.stack.imgur.com/CAXA0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CAXA0.png\" alt=\"intellij java compiler\"></a></p>\n"},{"comments":[{"owner":{"account_id":16650,"reputation":6289,"user_id":36510,"accept_rate":57,"display_name":"nevster"},"score":3,"creation_date":1635144440,"post_id":48585693,"comment_id":123207046,"body_markdown":"This is what solved it for me! Would sit there for 25 minutes and fail otherwise.","body":"This is what solved it for me! Would sit there for 25 minutes and fail otherwise."}],"tags":[],"owner":{"account_id":1326105,"reputation":1156,"user_id":1270870,"display_name":"sezerug"},"comment_count":1,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1517584667,"creation_date":1517584667,"answer_id":48585693,"question_id":42966889,"body_markdown":"I solved this issue by increasing the default value(700) of *Build process heap size* on IntelliJ&#39;s compiler settings.\r\n\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/atUL1.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I solved this issue by increasing the default value(700) of <em>Build process heap size</em> on IntelliJ's compiler settings.</p>\n\n<p><a href=\"https://i.stack.imgur.com/atUL1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/atUL1.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":[],"owner":{"account_id":2685454,"reputation":1060,"user_id":2319952,"display_name":"Chris K."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532677974,"creation_date":1532677974,"answer_id":51553312,"question_id":42966889,"body_markdown":"Changing the Language Level in the Project Settings (Ctrl + Alt + Shift + S) to Java 8 solved the problem for me","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Changing the Language Level in the Project Settings (Ctrl + Alt + Shift + S) to Java 8 solved the problem for me</p>\n"},{"comments":[{"owner":{"account_id":4011698,"reputation":451,"user_id":3304875,"display_name":"Marthinus Engelbrecht"},"score":18,"creation_date":1587823360,"post_id":53081770,"comment_id":108663059,"body_markdown":"Ok, so I did the rain dance and it worked, but why?","body":"Ok, so I did the rain dance and it worked, but why?"},{"owner":{"account_id":352721,"reputation":6323,"user_id":689956,"accept_rate":75,"display_name":"Sathesh"},"score":2,"creation_date":1609798487,"post_id":53081770,"comment_id":115930746,"body_markdown":"I also set the &quot;Target bytecode version&quot; for my module and then it worked without issues.","body":"I also set the &quot;Target bytecode version&quot; for my module and then it worked without issues."},{"owner":{"account_id":16336,"reputation":36059,"user_id":35416,"accept_rate":90,"display_name":"gagneet"},"score":2,"creation_date":1614741235,"post_id":53081770,"comment_id":117475359,"body_markdown":"@MarthinusEngelbrecht  The bytecode differs according to the JVM version, and hence when you set all to be the same or in this case to be null, it picks from the project settings. https://www.baeldung.com/java-lang-unsupportedclassversion","body":"@MarthinusEngelbrecht  The bytecode differs according to the JVM version, and hence when you set all to be the same or in this case to be null, it picks from the project settings. <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"nofollow noreferrer\">baeldung.com/java-lang-unsupportedclassversion</a>"},{"owner":{"account_id":8153956,"reputation":139,"user_id":6140123,"display_name":"9f241e21"},"score":0,"creation_date":1653185491,"post_id":53081770,"comment_id":127788466,"body_markdown":"works like charm.","body":"works like charm."},{"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"score":0,"creation_date":1673521378,"post_id":53081770,"comment_id":132520138,"body_markdown":"for me, on a mac, it was cmd + , to open settings. Or you can click on &quot;IntelliJ IDEA&quot; and then Preferences","body":"for me, on a mac, it was cmd + , to open settings. Or you can click on &quot;IntelliJ IDEA&quot; and then Preferences"}],"tags":[],"owner":{"account_id":14657201,"reputation":1791,"user_id":10585453,"display_name":"Musab Bozkurt"},"comment_count":5,"down_vote_count":0,"up_vote_count":169,"is_accepted":false,"score":169,"last_activity_date":1540983515,"creation_date":1540983515,"answer_id":53081770,"question_id":42966889,"body_markdown":"1. On **Intellij IDEA Ctrl + Alt + S** to open settings.\r\n2. **Build, Execution, Deployment** -&gt; **Compiler** -&gt; **Java Compiler** \r\n3. choose your java version from **Project bytecode version** \r\n4. Uncheck **Use compiler from module target JDK when possible** \r\n5. click **apply** and **ok**.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<ol>\n<li>On <strong>Intellij IDEA Ctrl + Alt + S</strong> to open settings.</li>\n<li><strong>Build, Execution, Deployment</strong> -> <strong>Compiler</strong> -> <strong>Java Compiler</strong> </li>\n<li>choose your java version from <strong>Project bytecode version</strong> </li>\n<li>Uncheck <strong>Use compiler from module target JDK when possible</strong> </li>\n<li>click <strong>apply</strong> and <strong>ok</strong>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8466639,"reputation":71,"user_id":6350617,"display_name":"Duc Hiep Hoang"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1555511983,"creation_date":1555509855,"answer_id":55729418,"question_id":42966889,"body_markdown":"You have to disabled the Javac Options: Use compiler from module target JDK when possible.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/orEea.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>You have to disabled the Javac Options: Use compiler from module target JDK when possible.\n<a href=\"https://i.stack.imgur.com/orEea.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/orEea.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"score":2,"creation_date":1575229404,"post_id":57214947,"comment_id":104486457,"body_markdown":"Same pattern here, JDK 11 (11.0.3 and tested 11.0.5), compiled fine in maven, but `Error:java: Compilation failed: internal java compiler error` in IntelliJ 2019.2.2; Crash was `java.lang.NullPointerException` on `jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1235)`. Added the explicit type for the generic and problem went away. Thanks for the posting your case it helped me figure out mine :)","body":"Same pattern here, JDK 11 (11.0.3 and tested 11.0.5), compiled fine in maven, but <code>Error:java: Compilation failed: internal java compiler error</code> in IntelliJ 2019.2.2; Crash was <code>java.lang.NullPointerException</code> on <code>jdk.compiler&#47;com.sun.tools.javac.comp.Flow$FlowAnalyzer.visi&zwnj;&#8203;tApply(Flow.java:123&zwnj;&#8203;5)</code>. Added the explicit type for the generic and problem went away. Thanks for the posting your case it helped me figure out mine :)"},{"owner":{"account_id":12069223,"reputation":188,"user_id":8825158,"display_name":"FFEVER"},"score":0,"creation_date":1601880620,"post_id":57214947,"comment_id":113531862,"body_markdown":"Thanks. JDK 11 here too. Same problem.","body":"Thanks. JDK 11 here too. Same problem."},{"owner":{"account_id":1066649,"reputation":617,"user_id":1067039,"accept_rate":100,"display_name":"Martin Charlesworth"},"score":0,"creation_date":1610385898,"post_id":57214947,"comment_id":116110769,"body_markdown":"that was EXACTLY the same problem I was having, thanks for posting tony","body":"that was EXACTLY the same problem I was having, thanks for posting tony"}],"tags":[],"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1564125384,"creation_date":1564125384,"answer_id":57214947,"question_id":42966889,"body_markdown":"In my case, using Java 11, I had:\r\n```\r\n public List&lt;String&gt; foo() {\r\n   ...\r\n   return response.readEntity(new GenericType&lt;List&lt;String&gt;&gt;() {});\r\n```\r\nand Intellij suggested I should use `&lt;&gt;` instead of `GenericType&lt;List&lt;String&gt;&gt;`, as such:\r\n```\r\n public List&lt;String&gt; foo() {\r\n   ...\r\n   return response.readEntity(new GenericType&lt;&gt;() {});\r\n```\r\nI did that in four functions and the project stopped compiling with an internal compiler error, reverted and it compiled again. Looks like a bug with type inference.\r\n","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, using Java 11, I had:</p>\n\n<pre><code> public List&lt;String&gt; foo() {\n   ...\n   return response.readEntity(new GenericType&lt;List&lt;String&gt;&gt;() {});\n</code></pre>\n\n<p>and Intellij suggested I should use <code>&lt;&gt;</code> instead of <code>GenericType&lt;List&lt;String&gt;&gt;</code>, as such:</p>\n\n<pre><code> public List&lt;String&gt; foo() {\n   ...\n   return response.readEntity(new GenericType&lt;&gt;() {});\n</code></pre>\n\n<p>I did that in four functions and the project stopped compiling with an internal compiler error, reverted and it compiled again. Looks like a bug with type inference.</p>\n"},{"comments":[{"owner":{"account_id":176507,"reputation":5460,"user_id":407249,"accept_rate":86,"display_name":"ehsanullahjan"},"score":0,"creation_date":1593804170,"post_id":57954919,"comment_id":110916692,"body_markdown":"Thank you! This worked and, IMO, is the best solution for Maven-based projects because any manual changes to compiler settings etc. will get reset after your Maven-based project is re-imported.","body":"Thank you! This worked and, IMO, is the best solution for Maven-based projects because any manual changes to compiler settings etc. will get reset after your Maven-based project is re-imported."},{"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"score":0,"creation_date":1605704964,"post_id":57954919,"comment_id":114732246,"body_markdown":"This worked but still it does not stop on breakpoints in debugging and never terminate the debugged process.","body":"This worked but still it does not stop on breakpoints in debugging and never terminate the debugged process."},{"owner":{"account_id":5631140,"reputation":75,"user_id":4458067,"accept_rate":75,"display_name":"Shahar Levy"},"score":0,"creation_date":1614155546,"post_id":57954919,"comment_id":117296130,"body_markdown":"This was also happening on a project without Lombok usage, Java 8, idea 2020.3.\nBut with the Lombok plugin installed.\n\nDoing what suggested fixed it also for me, not sure if it&#39;s related or not..","body":"This was also happening on a project without Lombok usage, Java 8, idea 2020.3. But with the Lombok plugin installed.  Doing what suggested fixed it also for me, not sure if it&#39;s related or not.."}],"tags":[],"owner":{"account_id":425500,"reputation":793,"user_id":5822240,"display_name":"Filomat"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1568629635,"creation_date":1568629635,"answer_id":57954919,"question_id":42966889,"body_markdown":"In my case it was because of `lombok` library with intellij 2019.2 &amp; java11.\r\n\r\nAccording to [this IDEA bug][1] after workaround idea works again:\r\n\r\n`Disable all building from intelliJ and dedicate the build to Maven.`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-220430\r\n  [2]: https://i.stack.imgur.com/MjiO8.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case it was because of <code>lombok</code> library with intellij 2019.2 &amp; java11.</p>\n\n<p>According to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-220430\" rel=\"noreferrer\">this IDEA bug</a> after workaround idea works again:</p>\n\n<p><code>Disable all building from intelliJ and dedicate the build to Maven.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/MjiO8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MjiO8.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1587120039,"creation_date":1587120039,"answer_id":61269630,"question_id":42966889,"body_markdown":"For me the module&#39;s target bytecode version was set to 5. I changed it to 8 and the error is gone:    \r\n\r\n[![module&#39;s bytecode version setting][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Uxve.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>For me the module's target bytecode version was set to 5. I changed it to 8 and the error is gone:    </p>\n\n<p><a href=\"https://i.stack.imgur.com/7Uxve.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7Uxve.png\" alt=\"module&#39;s bytecode version setting\"></a></p>\n"},{"comments":[{"owner":{"account_id":4199729,"reputation":2261,"user_id":3440152,"display_name":"Christoph"},"score":0,"creation_date":1600078945,"post_id":61887851,"comment_id":112964687,"body_markdown":"I just ran into the same problem and I&#39;m really glad I stumbled across this answer, and I&#39;m scratching my head why this is. This code here works, too:\n\nrestTemplate.exchange(url, HttpMethod.GET, request, new ParameterizedTypeReference&lt;List&lt;EventResource&gt;&gt;() {});\n\nIt seems that the Java compiler has issues inferring the correct type if you use &lt;&gt;. But still IntelliJ suggests to replace the explicit version with &lt;&gt;. And the error message from the compiler is completely worthless, too. Doesn&#39;t even mention the file that causes the issue!","body":"I just ran into the same problem and I&#39;m really glad I stumbled across this answer, and I&#39;m scratching my head why this is. This code here works, too:  restTemplate.exchange(url, HttpMethod.GET, request, new ParameterizedTypeReference&lt;List&lt;EventResource&gt;&gt;() {});  It seems that the Java compiler has issues inferring the correct type if you use &lt;&gt;. But still IntelliJ suggests to replace the explicit version with &lt;&gt;. And the error message from the compiler is completely worthless, too. Doesn&#39;t even mention the file that causes the issue!"}],"tags":[],"owner":{"account_id":4051599,"reputation":2484,"user_id":3330947,"accept_rate":75,"display_name":"dev_in_progress"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589881107,"creation_date":1589881107,"answer_id":61887851,"question_id":42966889,"body_markdown":"In my case, it was response type in `restTemplate`:\r\n[![enter image description here][1]][1]\r\n\r\n\tResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\r\n\t\t\teurl,\r\n\t\t\tHttpMethod.POST,\r\n\t\t\trequestEntity,\r\n\t\t\tnew ParameterizedTypeReference&lt;&gt;() { &lt;---- this causes error\r\n\t\t\t}\r\n\t);\r\n\r\nShould be like this:\r\n\r\n    ParameterizedTypeReference&lt;Map&lt;String, Integer&gt;&gt; responseType = new ParameterizedTypeReference&lt;&gt;() {};\r\n    \r\n    ResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\r\n    \t\turl,\r\n    \t\tHttpMethod.POST,\r\n    \t\trequestEntity,\r\n    \t\tresponseType\r\n    );\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8PNAj.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, it was response type in <code>restTemplate</code>:\n<a href=\"https://i.stack.imgur.com/8PNAj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8PNAj.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>ResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\n        eurl,\n        HttpMethod.POST,\n        requestEntity,\n        new ParameterizedTypeReference&lt;&gt;() { &lt;---- this causes error\n        }\n);\n</code></pre>\n\n<p>Should be like this:</p>\n\n<pre><code>ParameterizedTypeReference&lt;Map&lt;String, Integer&gt;&gt; responseType = new ParameterizedTypeReference&lt;&gt;() {};\n\nResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\n        url,\n        HttpMethod.POST,\n        requestEntity,\n        responseType\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6158931,"reputation":357,"user_id":4801130,"display_name":"Thiago de Melo Fontana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592256634,"creation_date":1592256634,"answer_id":62397363,"question_id":42966889,"body_markdown":"I had the same problem. I fixed changing my settings. Target bytecode version for equals Project bytecode version.\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/4foRH.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I had the same problem. I fixed changing my settings. Target bytecode version for equals Project bytecode version.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4foRH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4foRH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11245876,"reputation":11,"user_id":8248652,"display_name":"NobuhleM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592393160,"creation_date":1592393160,"answer_id":62427868,"question_id":42966889,"body_markdown":"What worked for me is to update the Open JDK version","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>What worked for me is to update the Open JDK version</p>\n"},{"comments":[{"owner":{"account_id":8210085,"reputation":679,"user_id":6178546,"display_name":"Raj Rajeshwar Singh Rathore"},"score":0,"creation_date":1642087183,"post_id":63311419,"comment_id":124983270,"body_markdown":"Worked like a charm, thanks","body":"Worked like a charm, thanks"}],"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1596855860,"creation_date":1596855860,"answer_id":63311419,"question_id":42966889,"body_markdown":"In **JIdea 2020.1.2 and above**,\r\n\r\nThis is may be the language-level set in Project Structure is not compatible with the target byte-code version.\r\n\r\nYou have to change the target bytecode version .\r\n\r\n 1. Go to **Settings** [ Ctrl+Alt+S ]\r\n 2. Select **Java Compiler**\r\n 3. Select module in the table\r\n 4. Change the byte-code version to map what you selected in the previous step for language-level\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**NOTE :**\r\nHow to check the language-level\r\n\r\n 1. Go to **Project Structure** [ &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;\r\n]\r\n 2. Select **Modules** sub section\r\n 3. **Select** each **module**\r\n 4. Under sources-section, **check Language Level**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8b5j3.jpg\r\n  [2]: https://i.stack.imgur.com/hh9cr.jpg","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In <strong>JIdea 2020.1.2 and above</strong>,</p>\n<p>This is may be the language-level set in Project Structure is not compatible with the target byte-code version.</p>\n<p>You have to change the target bytecode version .</p>\n<ol>\n<li>Go to <strong>Settings</strong> [ Ctrl+Alt+S ]</li>\n<li>Select <strong>Java Compiler</strong></li>\n<li>Select module in the table</li>\n<li>Change the byte-code version to map what you selected in the previous step for language-level</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8b5j3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8b5j3.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>NOTE :</strong>\nHow to check the language-level</p>\n<ol>\n<li>Go to <strong>Project Structure</strong> [ <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>\n]</li>\n<li>Select <strong>Modules</strong> sub section</li>\n<li><strong>Select</strong> each <strong>module</strong></li>\n<li>Under sources-section, <strong>check Language Level</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/hh9cr.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hh9cr.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16291288,"reputation":81,"user_id":14230184,"display_name":"kl w"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1618853931,"creation_date":1610185779,"answer_id":65641256,"question_id":42966889,"body_markdown":"[![Per-module bytecode version settings][1]][1]\r\n\r\nI met the same problem\r\n\r\nI solved it by changing the Target bytecode error from 1.5 to 8 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k7mTZ.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p><a href=\"https://i.stack.imgur.com/k7mTZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k7mTZ.png\" alt=\"Per-module bytecode version settings\" /></a></p>\n<p>I met the same problem</p>\n<p>I solved it by changing the Target bytecode error from 1.5 to 8</p>\n"},{"tags":[],"owner":{"account_id":19242836,"reputation":11,"user_id":14062471,"display_name":"Pradyumna Revur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617491863,"creation_date":1617491863,"answer_id":66936700,"question_id":42966889,"body_markdown":"I got the same error with Community edition 2020.3 on Windows 10 with an older version of the JDK (openjdk version &quot;11&quot; 2018-09-25).  \r\n\r\n**Updating the JDK to javac 11.0.10 fixed the issue.**\r\n\r\nHere&#39;s the stack trace that showed up with the error when using openjdk version &quot;11&quot; 2018-09-25:\r\n\r\n    java: compiler message file broken: key=compiler.misc.msg.bug arguments=11, {1}, {2}, {3}, {4}, {5}, {6}, {7}\r\n    java: java.lang.AssertionError\r\n    java: \tat jdk.compiler/com.sun.tools.javac.util.Assert.error(Assert.java:155)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.util.Assert.check(Assert.java:46)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$2$1.setOverloadKind(DeferredAttr.java:172)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.visitReference(ArgumentAttr.java:283)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMemberReference.accept(JCTree.java:2190)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.attribArg(ArgumentAttr.java:197)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:653)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribArgs(Attr.java:751)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:1997)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:655)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3573)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCFieldAccess.accept(JCTree.java:2110)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:2006)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitReturn(Attr.java:1866)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCReturn.accept(JCTree.java:1546)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:724)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:743)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1294)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1020)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:498)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:481)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculativeLambda(DeferredAttr.java:456)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.canLambdaBodyCompleteNormally(DeferredAttr.java:900)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.visitLambda(DeferredAttr.java:878)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1807)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.complete(DeferredAttr.java:832)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:335)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:779)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrContext.complete(DeferredAttr.java:626)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:214)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.rawInstantiate(Resolve.java:605)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.selectBest(Resolve.java:1563)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethodInScope(Resolve.java:1733)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1802)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1776)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$10.doLookup(Resolve.java:2654)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$BasicLookupHelper.lookup(Resolve.java:3293)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.lookupMethod(Resolve.java:3543)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2651)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2645)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.selectSym(Attr.java:3721)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3601)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2598)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$4.complete(DeferredAttr.java:374)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:321)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$MethodResultInfo.check(Resolve.java:1060)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$4.checkArg(Resolve.java:887)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$AbstractMethodCheck.argumentsAcceptable(Resolve.java:775)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$4.argumentsAcceptable(Resolve.java:896)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:181)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.checkMethod(Resolve.java:644)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethod(Attr.java:4120)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkIdInternal(Attr.java:3913)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethodIdInternal(Attr.java:3814)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkId(Attr.java:3803)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3696)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2595)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:811)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitIdent(Attr.java:3553)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIdent.accept(JCTree.java:2243)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:702)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitExec(Attr.java:1773)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1452)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1098)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:866)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:4683)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4574)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4523)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4503)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:4448)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1341)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:973)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\n    java: \tat org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:231)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:501)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:353)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:277)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:231)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1441)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1100)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1224)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1066)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:832)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:419)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:183)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:132)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:302)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\r\n    java: \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    java: \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    java: \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    java: Compilation failed: internal java compiler error\r\n    java: Errors occurred while compiling module &#39;project&#39;\r\n    javac 11 was used to compile java sources\r\n    Finished, saving caches...\r\n    Compilation failed: errors: 1; warnings: 100","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I got the same error with Community edition 2020.3 on Windows 10 with an older version of the JDK (openjdk version &quot;11&quot; 2018-09-25).</p>\n<p><strong>Updating the JDK to javac 11.0.10 fixed the issue.</strong></p>\n<p>Here's the stack trace that showed up with the error when using openjdk version &quot;11&quot; 2018-09-25:</p>\n<pre><code>java: compiler message file broken: key=compiler.misc.msg.bug arguments=11, {1}, {2}, {3}, {4}, {5}, {6}, {7}\njava: java.lang.AssertionError\njava:   at jdk.compiler/com.sun.tools.javac.util.Assert.error(Assert.java:155)\njava:   at jdk.compiler/com.sun.tools.javac.util.Assert.check(Assert.java:46)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$2$1.setOverloadKind(DeferredAttr.java:172)\njava:   at jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.visitReference(ArgumentAttr.java:283)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMemberReference.accept(JCTree.java:2190)\njava:   at jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.attribArg(ArgumentAttr.java:197)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:653)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribArgs(Attr.java:751)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:1997)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:655)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3573)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCFieldAccess.accept(JCTree.java:2110)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:2006)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitReturn(Attr.java:1866)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCReturn.accept(JCTree.java:1546)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:724)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:743)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1294)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1020)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:498)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:481)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculativeLambda(DeferredAttr.java:456)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.canLambdaBodyCompleteNormally(DeferredAttr.java:900)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.visitLambda(DeferredAttr.java:878)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1807)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.complete(DeferredAttr.java:832)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:335)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:779)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrContext.complete(DeferredAttr.java:626)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:214)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.rawInstantiate(Resolve.java:605)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.selectBest(Resolve.java:1563)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethodInScope(Resolve.java:1733)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1802)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1776)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$10.doLookup(Resolve.java:2654)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$BasicLookupHelper.lookup(Resolve.java:3293)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.lookupMethod(Resolve.java:3543)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2651)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2645)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.selectSym(Attr.java:3721)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3601)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2598)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$4.complete(DeferredAttr.java:374)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:321)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$MethodResultInfo.check(Resolve.java:1060)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$4.checkArg(Resolve.java:887)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$AbstractMethodCheck.argumentsAcceptable(Resolve.java:775)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$4.argumentsAcceptable(Resolve.java:896)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:181)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.checkMethod(Resolve.java:644)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethod(Attr.java:4120)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkIdInternal(Attr.java:3913)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethodIdInternal(Attr.java:3814)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkId(Attr.java:3803)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3696)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2595)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:811)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitIdent(Attr.java:3553)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIdent.accept(JCTree.java:2243)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:702)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitExec(Attr.java:1773)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1452)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1098)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:866)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:4683)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4574)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4523)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4503)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:4448)\njava:   at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1341)\njava:   at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:973)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\njava:   at org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:231)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:501)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:353)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:277)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:231)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1441)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1100)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1224)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1066)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:832)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:419)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:183)\njava:   at org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:132)\njava:   at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:302)\njava:   at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\njava:   at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\njava:   at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\njava:   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\njava:   at java.base/java.lang.Thread.run(Thread.java:834)\njava: Compilation failed: internal java compiler error\njava: Errors occurred while compiling module 'project'\njavac 11 was used to compile java sources\nFinished, saving caches...\nCompilation failed: errors: 1; warnings: 100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620296735,"creation_date":1620296735,"answer_id":67416262,"question_id":42966889,"body_markdown":"Updated Java compiler to correct &quot;Target bytecode version&quot; which in my case is 8 : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U9hix.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Updated Java compiler to correct &quot;Target bytecode version&quot; which in my case is 8 :</p>\n<p><a href=\"https://i.stack.imgur.com/U9hix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U9hix.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17814511,"reputation":87,"user_id":12938381,"display_name":"rosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625550848,"creation_date":1625550848,"answer_id":68265220,"question_id":42966889,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VbEM4.png\r\n\r\nSetting -&gt; Build -&gt; Compiler -&gt; Java Compiler\r\nThe Target bytecode version of the module is wrong. I set it to 1.8, then it worked.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p><a href=\"https://i.stack.imgur.com/VbEM4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VbEM4.png\" alt=\"enter image description here\" /></a></p>\n<p>Setting -&gt; Build -&gt; Compiler -&gt; Java Compiler\nThe Target bytecode version of the module is wrong. I set it to 1.8, then it worked.</p>\n"},{"comments":[{"owner":{"account_id":3781730,"reputation":569,"user_id":3140985,"accept_rate":67,"display_name":"Allen"},"score":0,"creation_date":1626425553,"post_id":68403144,"comment_id":120894691,"body_markdown":"Can you give a solution to resolve this problem?","body":"Can you give a solution to resolve this problem?"}],"tags":[],"owner":{"account_id":18199163,"reputation":1,"user_id":13243683,"display_name":"user13243683"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626406882,"creation_date":1626406882,"answer_id":68403144,"question_id":42966889,"body_markdown":"one reason may be jdk version donot macth minimal version of your project.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>one reason may be jdk version donot macth minimal version of your project.</p>\n"},{"tags":[],"owner":{"account_id":1227737,"reputation":853,"user_id":1192987,"display_name":"Nikita Bosik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628599974,"creation_date":1628599974,"answer_id":68727196,"question_id":42966889,"body_markdown":"Be aware of [JDK-8177068][1] issue, which leads to internal error like\r\n\r\n    java.lang.NullPointerException\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1233)\r\n            at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1628)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:393)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.visitExec(TreeScanner.java:213)\r\n            ...\r\n\r\nIt was fixed in **JDK 11.0.12** and **JDK 14 b14**, so upgrade helped.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8177068","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Be aware of <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8177068\" rel=\"nofollow noreferrer\">JDK-8177068</a> issue, which leads to internal error like</p>\n<pre><code>java.lang.NullPointerException\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1233)\n        at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1628)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:393)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.visitExec(TreeScanner.java:213)\n        ...\n</code></pre>\n<p>It was fixed in <strong>JDK 11.0.12</strong> and <strong>JDK 14 b14</strong>, so upgrade helped.</p>\n"},{"tags":[],"owner":{"account_id":2357057,"reputation":428,"user_id":2064634,"accept_rate":33,"display_name":"Sureshkumar Natarajan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1629875995,"creation_date":1629875995,"answer_id":68918482,"question_id":42966889,"body_markdown":"In my case `Information:java: java.lang.OutOfMemoryError: GC overhead limit exceeded intellij`.\r\n\r\nincreased **compiler -&gt; build process heap size**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRef: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z5T5W.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case <code>Information:java: java.lang.OutOfMemoryError: GC overhead limit exceeded intellij</code>.</p>\n<p>increased <strong>compiler -&gt; build process heap size</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/z5T5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5T5W.png\" alt=\"enter image description here\" /></a></p>\n<p>Ref: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded</a></p>\n"},{"comments":[{"owner":{"account_id":8696842,"reputation":53,"user_id":6507948,"display_name":"kongwu"},"score":2,"creation_date":1657108524,"post_id":70138031,"comment_id":128730127,"body_markdown":"Thank you for your solution, but in the latest version, the log configuration has changed.\nThe latest log configuration file is `build-log-jul.properties`, so the configuration method of jul needs to be followed:\n\n\n\n```properties\n# Configure the level of rootLogger\n.level=FINER\n```","body":"Thank you for your solution, but in the latest version, the log configuration has changed. The latest log configuration file is <code>build-log-jul.properties</code>, so the configuration method of jul needs to be followed:    <code>properties # Configure the level of rootLogger .level=FINER </code>"}],"tags":[],"owner":{"account_id":10942905,"reputation":713,"user_id":8042089,"display_name":"Gridcell Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638041257,"creation_date":1638041257,"answer_id":70138031,"question_id":42966889,"body_markdown":"In my case I had to go to `help &gt; show logs in files` which opens up the `idea.log` and `build-log` folders something like \r\n\r\n`/home/user/.cache/JetBrains/IntelliJIdea2021.2/log/build-log/` where I set the log level to DEBUG in the `log4j.rootLogger=debug, file` in `build-log.properties`\r\n\r\nI then ran build again and saw \r\n\r\n```\r\n2021-11-27 19:59:39,808 [ 133595]  DEBUG - s.incremental.java.JavaBuilder - Compiling chunk [module] with options: &quot;-g -deprecation -encoding UTF-8 -source 11 -target 11 -s /home/user/project/target/generated-test-sources/test-annotations&quot;, mode=in-process\r\n2021-11-27 19:59:41,082 [ 134869]  DEBUG - s.incremental.java.JavaBuilder - java:ERROR:Compilation failed: internal java compiler error\r\n```\r\n\r\nwhich lead me to see that this might me related to junit test compilation failing. It turns out I had an older/mismatching of the vintage engine and the jupiter engine which are likely to have different java versions relating in the error above. Changing them to be the same `${version.junit}` removed the error.\r\n```\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.junit}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.junit}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIn short some of your dependency jars may have mismatching java versions.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case I had to go to <code>help &gt; show logs in files</code> which opens up the <code>idea.log</code> and <code>build-log</code> folders something like</p>\n<p><code>/home/user/.cache/JetBrains/IntelliJIdea2021.2/log/build-log/</code> where I set the log level to DEBUG in the <code>log4j.rootLogger=debug, file</code> in <code>build-log.properties</code></p>\n<p>I then ran build again and saw</p>\n<pre><code>2021-11-27 19:59:39,808 [ 133595]  DEBUG - s.incremental.java.JavaBuilder - Compiling chunk [module] with options: &quot;-g -deprecation -encoding UTF-8 -source 11 -target 11 -s /home/user/project/target/generated-test-sources/test-annotations&quot;, mode=in-process\n2021-11-27 19:59:41,082 [ 134869]  DEBUG - s.incremental.java.JavaBuilder - java:ERROR:Compilation failed: internal java compiler error\n</code></pre>\n<p>which lead me to see that this might me related to junit test compilation failing. It turns out I had an older/mismatching of the vintage engine and the jupiter engine which are likely to have different java versions relating in the error above. Changing them to be the same <code>${version.junit}</code> removed the error.</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n            &lt;version&gt;1.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${version.junit}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;${version.junit}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>In short some of your dependency jars may have mismatching java versions.</p>\n"},{"tags":[],"owner":{"account_id":1812830,"reputation":1461,"user_id":1648546,"display_name":"Jay Ehsaniara"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1651600809,"creation_date":1651600809,"answer_id":72103583,"question_id":42966889,"body_markdown":"It May is not be relevant to this case, but: \r\n\r\nI got this error when I change the Explicit type argument List of:\r\n\r\n    new ParameterizedTypeReference&lt;List&lt;SomeDtoObject&gt;&gt;()\r\n\r\nto `&lt;&gt;` :\r\n\r\n    new ParameterizedTypeReference&lt;&gt;()\r\n\r\nin `restTemplate` call after Intellij gave the warning to use `&lt;&gt;` instead.\r\n\r\nIt got fixed when I undo my changes back into the Explicit type argument.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>It May is not be relevant to this case, but:</p>\n<p>I got this error when I change the Explicit type argument List of:</p>\n<pre><code>new ParameterizedTypeReference&lt;List&lt;SomeDtoObject&gt;&gt;()\n</code></pre>\n<p>to <code>&lt;&gt;</code> :</p>\n<pre><code>new ParameterizedTypeReference&lt;&gt;()\n</code></pre>\n<p>in <code>restTemplate</code> call after Intellij gave the warning to use <code>&lt;&gt;</code> instead.</p>\n<p>It got fixed when I undo my changes back into the Explicit type argument.</p>\n"},{"tags":[],"owner":{"account_id":9975775,"reputation":137,"user_id":9528003,"display_name":"Harshvardhan Chittora"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660152913,"creation_date":1660152913,"answer_id":73310525,"question_id":42966889,"body_markdown":"Was facing the same issue with Java 11. Solved by changing language level\r\n\r\n**File** -&gt; **Project Structure** -&gt; **Project** \r\n\r\nChange *&quot;Language Level&quot;* to ***SDK Default***\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NtTna.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Was facing the same issue with Java 11. Solved by changing language level</p>\n<p><strong>File</strong> -&gt; <strong>Project Structure</strong> -&gt; <strong>Project</strong></p>\n<p>Change <em>&quot;Language Level&quot;</em> to <em><strong>SDK Default</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/NtTna.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NtTna.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661165863,"creation_date":1661165863,"answer_id":73443998,"question_id":42966889,"body_markdown":"I switched across to the cmd line `mvn compile` build and it showed a more meaningful error.\r\n\r\n&gt; Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]\r\n\r\nChecking my `JAVA_HOME` it was set to 11. Once I adjust my project to use 11 as well I got past this and onto another error (which was solved separately).","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I switched across to the cmd line <code>mvn compile</code> build and it showed a more meaningful error.</p>\n<blockquote>\n<p>Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]</p>\n</blockquote>\n<p>Checking my <code>JAVA_HOME</code> it was set to 11. Once I adjust my project to use 11 as well I got past this and onto another error (which was solved separately).</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665685912,"post_id":74000384,"comment_id":130763113,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74000384/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11931146,"reputation":1,"user_id":8730988,"display_name":"Ali Can"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665261540,"creation_date":1665261540,"answer_id":74000384,"question_id":42966889,"body_markdown":"Otherwise you can remove **.m2** folder. Try to reload project.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Otherwise you can remove <strong>.m2</strong> folder. Try to reload project.</p>\n"},{"tags":[],"owner":{"account_id":27236210,"reputation":1,"user_id":20763082,"display_name":"Jarvan Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670911714,"creation_date":1670911714,"answer_id":74780617,"question_id":42966889,"body_markdown":"In my case, I was using Spring Framework 6.0.0 and JDK 11 as the same time. This is not supported according to [spring framework wiki][1]. After I degraded the spring framework version to 5.3.24, it solved.\r\n\r\nYou can check your spring framework version in this way.\r\n[spring framework version][2]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions#jdk-version-range\r\n  [2]: https://i.stack.imgur.com/BCudJ.jpg","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, I was using Spring Framework 6.0.0 and JDK 11 as the same time. This is not supported according to <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions#jdk-version-range\" rel=\"nofollow noreferrer\">spring framework wiki</a>. After I degraded the spring framework version to 5.3.24, it solved.</p>\n<p>You can check your spring framework version in this way.\n<a href=\"https://i.stack.imgur.com/BCudJ.jpg\" rel=\"nofollow noreferrer\">spring framework version</a></p>\n"},{"tags":[],"owner":{"account_id":14444449,"reputation":41,"user_id":10434052,"display_name":"Andrei Morosan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689243384,"creation_date":1689243384,"answer_id":76678273,"question_id":42966889,"body_markdown":"In my case, a mvn clean install recreated the generated-sources in target, it seems that this caused the issue. ","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, a mvn clean install recreated the generated-sources in target, it seems that this caused the issue.</p>\n"},{"tags":[],"owner":{"account_id":4809798,"reputation":372,"user_id":3883598,"accept_rate":56,"display_name":"paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692758314,"creation_date":1692758314,"answer_id":76957913,"question_id":42966889,"body_markdown":"In my case, deleting the `.idea` folder and then reimporting the project again solves this problem. This problem happens to me when I run a unit test. ","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, deleting the <code>.idea</code> folder and then reimporting the project again solves this problem. This problem happens to me when I run a unit test.</p>\n"}],"owner":{"account_id":10508927,"reputation":1279,"user_id":7745251,"display_name":"ieatczp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153815,"favorite_count":0,"down_vote_count":3,"up_vote_count":128,"answer_count":27,"score":125,"last_activity_date":1692758314,"creation_date":1490240788,"question_id":42966889,"body_markdown":"When I compile a Java project using IntelliJ IDEA, it gives me the following output (and error):\r\n\r\n    Information:Eclipse compiler 4.6.2 was used to compile java sources\r\n    Information:Module &quot;sinoWeb&quot; was fully rebuilt due to project configuration/dependencies changes\r\n    Information:2017/3/23 11:44 - Compilation completed with 1 error and 0 warnings in 5m 32s 949ms\r\n    Error:java: Compilation failed: internal java compiler error\r\n\r\nI&#39;m quite confused confused by this! Below are my settings:\r\n\r\n![enter image description][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cgNCg.png\r\n  [2]: https://i.stack.imgur.com/Hbsi6.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>When I compile a Java project using IntelliJ IDEA, it gives me the following output (and error):</p>\n\n<pre><code>Information:Eclipse compiler 4.6.2 was used to compile java sources\nInformation:Module \"sinoWeb\" was fully rebuilt due to project configuration/dependencies changes\nInformation:2017/3/23 11:44 - Compilation completed with 1 error and 0 warnings in 5m 32s 949ms\nError:java: Compilation failed: internal java compiler error\n</code></pre>\n\n<p>I'm quite confused confused by this! Below are my settings:</p>\n\n<p><img src=\"https://i.stack.imgur.com/cgNCg.png\" alt=\"enter image description\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/Hbsi6.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","go","jvm","jmx","mbeans"],"comments":[{"owner":{"account_id":4881185,"reputation":791,"user_id":3956589,"display_name":"whitespace"},"score":0,"creation_date":1692760922,"post_id":76957903,"comment_id":135666907,"body_markdown":"have you tried `https://pkg.go.dev/github.com/newrelic/infra-integrations-sdk/jmx`","body":"have you tried <code>https:&#47;&#47;pkg.go.dev&#47;github.com&#47;newrelic&#47;infra-integrations-sd&zwnj;&#8203;k&#47;jmx</code>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692762256,"post_id":76957903,"comment_id":135667024,"body_markdown":"Recomendations are off topic is Stackoverlow. If you want to rewrite the service in Go, why do you want to connect to JMX which only is used for Java applications?","body":"Recomendations are off topic is Stackoverlow. If you want to rewrite the service in Go, why do you want to connect to JMX which only is used for Java applications?"},{"owner":{"account_id":15613908,"reputation":1011,"user_id":11264544,"display_name":"moluzhui"},"score":0,"creation_date":1692879462,"post_id":76957903,"comment_id":135685613,"body_markdown":"@whitespace Thank you, I checked it out, and it relies on a [third-party executable file](https://github.com/newrelic/infra-integrations-sdk#jmx-support), which is not simply written in go language. This could be a fallback to reduce resource usage","body":"@whitespace Thank you, I checked it out, and it relies on a <a href=\"https://github.com/newrelic/infra-integrations-sdk#jmx-support\" rel=\"nofollow noreferrer\">third-party executable file</a>, which is not simply written in go language. This could be a fallback to reduce resource usage"},{"owner":{"account_id":15613908,"reputation":1011,"user_id":11264544,"display_name":"moluzhui"},"score":0,"creation_date":1692879608,"post_id":76957903,"comment_id":135685658,"body_markdown":"@aled Maybe I didn&#39;t express clearly, a general component implemented by go language, to connect to the JVM of the business, obtain the required MBean data and process it. This general-purpose component consumes more resources in Java, and Go has less loss","body":"@aled Maybe I didn&#39;t express clearly, a general component implemented by go language, to connect to the JVM of the business, obtain the required MBean data and process it. This general-purpose component consumes more resources in Java, and Go has less loss"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692880527,"post_id":76957903,"comment_id":135685877,"body_markdown":"I suspect that your are out of luck because JMX seems to rely on RMI and Java object serialization. I don&#39;t think it is easy to replicate it outside Java. You would have to review JMX specifications to be sure. And as I mentioned, your question is asking for 3rd party libraries which is explicitly off-topic here.","body":"I suspect that your are out of luck because JMX seems to rely on RMI and Java object serialization. I don&#39;t think it is easy to replicate it outside Java. You would have to review JMX specifications to be sure. And as I mentioned, your question is asking for 3rd party libraries which is explicitly off-topic here."}],"owner":{"account_id":15613908,"reputation":1011,"user_id":11264544,"display_name":"moluzhui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692758053,"creation_date":1692758053,"question_id":76957903,"body_markdown":"The project needs to obtain *jvm indicators* and *Dubbo indicators* from the jmx of the service. The service implemented through java consumes more resources. It is hoped that the memory consumption can be reduced by rewriting in golang\r\n\r\nBut I don&#39;t know how to connect jmx `-Dcom.sun.management.jmxremote.port` through golang and get it from **MBean**.\r\n\r\nI didn&#39;t find a suitable 3rd party library. Is there such a three-party library or other ways to achieve it?\r\n\r\nLooking forward to your reply.","title":"How to use golang to connect to jmx of java service and retrieve exposed MBeans","body":"<p>The project needs to obtain <em>jvm indicators</em> and <em>Dubbo indicators</em> from the jmx of the service. The service implemented through java consumes more resources. It is hoped that the memory consumption can be reduced by rewriting in golang</p>\n<p>But I don't know how to connect jmx <code>-Dcom.sun.management.jmxremote.port</code> through golang and get it from <strong>MBean</strong>.</p>\n<p>I didn't find a suitable 3rd party library. Is there such a three-party library or other ways to achieve it?</p>\n<p>Looking forward to your reply.</p>\n"},{"tags":["java","multithreading","x86","locking","atomic"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1692724983,"post_id":76955280,"comment_id":135662579,"body_markdown":"These read like two different questions, and the second half reads like an essay, not a question.","body":"These read like two different questions, and the second half reads like an essay, not a question."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1692727745,"post_id":76955280,"comment_id":135663144,"body_markdown":"I think you&#39;re mis-using &quot;not sequentially consistent&quot;.  No other work (or memory operations at least) from this thread can start until after this retry loop finishes, assuming `compareAndSet` has Java&#39;s usual seq_cst ordering.  So the total order across all threads will still be some interleaving of program-order of each thread, assuming the program didn&#39;t have data races on non-`volatile` variables.  (Java gives you SC-DRF; non-`volatile` variables might or might not be visible across threads at all, depending on how it compiles, but if they are they&#39;re like C++ `memory_order_relaxed`)","body":"I think you&#39;re mis-using &quot;not sequentially consistent&quot;.  No other work (or memory operations at least) from this thread can start until after this retry loop finishes, assuming <code>compareAndSet</code> has Java&#39;s usual seq_cst ordering.  So the total order across all threads will still be some interleaving of program-order of each thread, assuming the program didn&#39;t have data races on non-<code>volatile</code> variables.  (Java gives you SC-DRF; non-<code>volatile</code> variables might or might not be visible across threads at all, depending on how it compiles, but if they are they&#39;re like C++ <code>memory_order_relaxed</code>)"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1692727905,"post_id":76955280,"comment_id":135663178,"body_markdown":"Hopefully that pure-Java code is just a placeholder and JVMs will use `xchg`.  It would be really inefficient to use a CAS retry loop to implement exchange on any hardware, especially ones like x86 that have a single-instruction atomic swap.  But I don&#39;t see any correctness problem.  The key time is when an operation completes, not when it starts trying.  In the retry-loop case, some of the time waiting is software retries instead of just hardware waiting for a turn to own the cache line, but same difference in terms of memory ordering.","body":"Hopefully that pure-Java code is just a placeholder and JVMs will use <code>xchg</code>.  It would be really inefficient to use a CAS retry loop to implement exchange on any hardware, especially ones like x86 that have a single-instruction atomic swap.  But I don&#39;t see any correctness problem.  The key time is when an operation completes, not when it starts trying.  In the retry-loop case, some of the time waiting is software retries instead of just hardware waiting for a turn to own the cache line, but same difference in terms of memory ordering."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1692729453,"post_id":76955280,"comment_id":135663518,"body_markdown":"Thanks @PeterCordes for your time.\n\nDoes this ```seq_cst``` ordering maintains sequential order even after the &quot;jump&quot; the while loop applies on the thread? So, order consistency is maintained EVEN in the face of undetermined behavior like: failing the CAS and **retrying**... like... the entire loop is &quot;fenced&quot; from reordering??","body":"Thanks @PeterCordes for your time.  Does this <code>seq_cst</code> ordering maintains sequential order even after the &quot;jump&quot; the while loop applies on the thread? So, order consistency is maintained EVEN in the face of undetermined behavior like: failing the CAS and <b>retrying</b>... like... the entire loop is &quot;fenced&quot; from reordering??"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1692729937,"post_id":76955280,"comment_id":135663609,"body_markdown":"Each CAS attempt is an SC operation. (Well, I&#39;m assuming that, but if so...).  They can&#39;t reorder with each other, and a whole sequence of them in one thread is not different from one.  The failed CAS attempts have no visibility for other threads, and the successful CAS that leads to exiting the loop is exactly like a seq_cst `exchange` would have been.  The loop branch is internal to this thread, part of its program order, so IDK what misconception you have about memory ordering that makes you think it might be relevant.","body":"Each CAS attempt is an SC operation. (Well, I&#39;m assuming that, but if so...).  They can&#39;t reorder with each other, and a whole sequence of them in one thread is not different from one.  The failed CAS attempts have no visibility for other threads, and the successful CAS that leads to exiting the loop is exactly like a seq_cst <code>exchange</code> would have been.  The loop branch is internal to this thread, part of its program order, so IDK what misconception you have about memory ordering that makes you think it might be relevant."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1692731400,"post_id":76955280,"comment_id":135663883,"body_markdown":"I was talking about the order of the threads, not the memory consistency across the threads, and I thought that xchg&#39;s implicit lock (which according to [this](https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2) has a weaker ordering enforcing strategy than mfence),... would handle backpressure with an orderly queue.\nI am talking from the perspective of the memory, not the thread.","body":"I was talking about the order of the threads, not the memory consistency across the threads, and I thought that xchg&#39;s implicit lock (which according to <a href=\"https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2\">this</a> has a weaker ordering enforcing strategy than mfence),... would handle backpressure with an orderly queue. I am talking from the perspective of the memory, not the thread."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":2,"creation_date":1693927444,"post_id":76955280,"comment_id":135822597,"body_markdown":"@PeterCordes you are right that the JIT will replace the loop by a xchg. Here is a listing of the hotspot intrensics: https://chriswhocodes.com/hotspot_intrinsics_openjdk11.html","body":"@PeterCordes you are right that the JIT will replace the loop by a xchg. Here is a listing of the hotspot intrensics: <a href=\"https://chriswhocodes.com/hotspot_intrinsics_openjdk11.html\" rel=\"nofollow noreferrer\">chriswhocodes.com/hotspot_intrinsics_openjdk11.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1692763732,"post_id":76957884,"comment_id":135667129,"body_markdown":"Thank you for the response.\nWhile I agree that there is no difference, the reason for this similarity in behavior of non-sequential consistency (based on the information I&#39;ve gathered... I&#39;m not very good at this.)  is that the processor does not seem to have an available policy that enforces a strict FIFO queue for scheduled instructions and instead, employing algorithms that enforce a priority-based order for all instructions made to &quot;wait&quot; on a LOCK, hence, delegating this type of scheduling management to higher levels...\nThe information available never talks about this waiting queue ...","body":"Thank you for the response. While I agree that there is no difference, the reason for this similarity in behavior of non-sequential consistency (based on the information I&#39;ve gathered... I&#39;m not very good at this.)  is that the processor does not seem to have an available policy that enforces a strict FIFO queue for scheduled instructions and instead, employing algorithms that enforce a priority-based order for all instructions made to &quot;wait&quot; on a LOCK, hence, delegating this type of scheduling management to higher levels... The information available never talks about this waiting queue ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1692763741,"post_id":76957884,"comment_id":135667131,"body_markdown":"in &quot;buffer&quot; terms or even in &quot;queue&quot; terms... it just says, &quot;waiting instructions&quot;(plural) so I assume that the processor is ALSO spin-locking around the locked memory until it becomes available (brave assumption I think...).\nIt makes complete sense for the JNI to try to generalize everything as much as possible, so I think I would&#39;ve done the same thing as to reduce the number of instructions to a single cmpxchg.","body":"in &quot;buffer&quot; terms or even in &quot;queue&quot; terms... it just says, &quot;waiting instructions&quot;(plural) so I assume that the processor is ALSO spin-locking around the locked memory until it becomes available (brave assumption I think...). It makes complete sense for the JNI to try to generalize everything as much as possible, so I think I would&#39;ve done the same thing as to reduce the number of instructions to a single cmpxchg."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1693929615,"post_id":76957884,"comment_id":135823072,"body_markdown":"@Delark linearizable is sequential consistency + respecting the real time order and even with linearizability the &#39;arrival order&#39; doesn&#39;t need to be respected. I don&#39;t know of any memory model that has this as a requirement.","body":"@Delark linearizable is sequential consistency + respecting the real time order and even with linearizability the &#39;arrival order&#39; doesn&#39;t need to be respected. I don&#39;t know of any memory model that has this as a requirement."}],"tags":[],"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692757985,"creation_date":1692757634,"answer_id":76957884,"question_id":76955280,"body_markdown":"There is no behavioural difference between a thread failing the CAS and retrying vs a thread being preempted just before the exchange and getting scheduled later, so this code is equivalent in correctness with an exchange operation.\r\n\r\nSequential consistency is a total order over all the operations involved, no more and no less. There is no guarantee that thread A arriving at operation `n` before thread B arriving at operation `m`, will execute its operation `n + 1` before the B executes its `m + 1`, the only implication is that thread A will perform operation `n` before thread B executes operation `m + 1`. (And a program that just refuses to do any action is a conformant program, albeit a useless one)\r\n\r\nThe reason for this implementation is the ease of maintenance, there is no need to have the maximum performance in C1 and interpreter code, and converging all operations to compare and exchange reduces the amount of JNI code involves. And when the code gets into C2, `getAndSet` is an intrinsics that will be translated into a single `xchg` instruction.","title":"Does VarHandle &#39;getAndSet&#39; uses &#39;xchg&#39; instruction, and how does x86 &#39;lock&#39; prefix handle backpressure?","body":"<p>There is no behavioural difference between a thread failing the CAS and retrying vs a thread being preempted just before the exchange and getting scheduled later, so this code is equivalent in correctness with an exchange operation.</p>\n<p>Sequential consistency is a total order over all the operations involved, no more and no less. There is no guarantee that thread A arriving at operation <code>n</code> before thread B arriving at operation <code>m</code>, will execute its operation <code>n + 1</code> before the B executes its <code>m + 1</code>, the only implication is that thread A will perform operation <code>n</code> before thread B executes operation <code>m + 1</code>. (And a program that just refuses to do any action is a conformant program, albeit a useless one)</p>\n<p>The reason for this implementation is the ease of maintenance, there is no need to have the maximum performance in C1 and interpreter code, and converging all operations to compare and exchange reduces the amount of JNI code involves. And when the code gets into C2, <code>getAndSet</code> is an intrinsics that will be translated into a single <code>xchg</code> instruction.</p>\n"}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76957884,"answer_count":1,"score":0,"last_activity_date":1692757985,"creation_date":1692722228,"question_id":76955280,"body_markdown":"While trying to understand how Java&#39;s VarHandle &quot;getAndSet&quot; worked as opposed to it&#39;s JDK7 version:\r\n\r\n    public final V getAndSet(V newValue) {\r\n        while (true) {\r\n            V x = get();\r\n            if (compareAndSet(x, newValue))\r\n                return x;\r\n        }\r\n    }\r\n\r\nI noticed something...\r\n\r\nThe form of backpressure handling done by JDK7 is not sequentially consistent, if a thread fails the ```compareAndSet```, and retries, it may lose it&#39;s position to some thread that came later.\r\n\r\nEven if this operation is deemed &quot;atomic&quot; an implicit queueing buffer is built on it&#39;s spin... and this buffer is not sequentially consistent, even if the atomicity is performed by the ```comapreAndSet``` action.\r\n\r\nI am not entirely sure why JDK7 implements the test &quot;compare&quot;(in the comapreAndSet) to perform a unique **swapping** action... since when a person performs the physical action of swapping something, that person is not interested in comparing anything...\r\n\r\nthe ```compareAndSet``` employs the [cmpxchg][1] instruction, so... my immediate question was... why not use just the [xchg][2] instruction for the ```getAndSet```?... by eliminating the test failure, a single buffering queue will now build up... held by the native ```LOCK```.\r\n\r\nAnd so, while I am not sure if VarHandle DOES in fact use the ```xchg``` alone (**DOES IT?**), it still remains the question whether the machine is handling the backpressure build-up in a sequentially consistent manner... \r\n\r\n*(Here comes the essay... sorry.)*\r\n\r\n**(edit: \r\nAt first I thought that with ```mfence``` [link][3] one could achieve this FIFO queue... but in reality there is no way for the processor to enforce any type of policy that defines such a FIFO queueing of &quot;assigned scheduled instructions&quot;, instead the processor&#39;s scheduler: &quot;may use different algorithms and policies to determine the order and priority of the threads, such as round-robin, shortest job first, priority-based, etc. Some of these algorithms may approximate a FIFO order, but they are not strictly enforced by the processor&quot;)**\r\n\r\nAnd there is no evidence that the [lock][4] prefix is doing so.\r\n\r\nIn fact the architecture may...:\r\n\r\n&gt; The queuing mechanism used by memory controllers is typically managed\r\n&gt; at the hardware level and is influenced by the overall design of the\r\n&gt; memory subsystem, including cache hierarchies, memory interconnects,\r\n&gt; and bus arbitration protocols.\r\n&gt; \r\n&gt; Instructions in modern processors are designed to perform specific\r\n&gt; computations and memory operations, rather than directly control\r\n&gt; low-level hardware details like queuing mechanisms in memory\r\n&gt; controllers. Processor instructions are more concerned with specifying\r\n&gt; the operations to be performed on data, such as arithmetic operations,\r\n&gt; memory loads and stores, control flow instructions, etc.\r\n\r\n*Please don&#39;t ask me who I&#39;m quoting... I think you know &quot;what&quot; said this...*\r\n\r\n**... On reactive systems... Or...[ Why NO native FIFO instruction queue? ]**\r\n\r\nIt seems reasonable that the greater concern for the processor would be for &quot;specifying the operations to be performed on data&quot;(... what one would call &quot;updates&quot;), instead of defining queueing strategies.\r\n\r\nThe thing about updates is that an update will always _relay_ the previous state, and so... the **VERSION** is implicit by the &quot;form&quot; of the current data... so if... let&#39;s say the operand says that the update is a `i -&gt; i++;` we can surely assume that the previous version was `current - 1;`, this may imply that defining a queueing strategy is redundant since the end result will still apply all changes performed, and a version can be implied by each change simply by checking its current state.\r\n\r\nBut this is not how Version Based systems work (Publisher architectures aka: &quot;Displays&quot;)...\r\nIn Version based systems historical sequential consistency is the most important factor, especially since changes may completely disregard/override previous states leaving no way to figure out previous states... **The output does NOT HAVE MEMORY**\r\n\r\nAnd such is the case of displaying events, where previous states are completely disregarded.\r\n\r\nThis is why I believe most reactive systems are **doing too much** when used in such menial tasks like web applications or mobile applications displays.\r\n\r\nTheir buffering management is seldom used, only in such specific cases like video streaming is it really needed, but if we get pedantic about meaning... even video streaming is somewhat limited by the speed our eyes process information, so there is a limit to the number of processes that need buffering (assuming good connection which I know is the main/real reason for this buffer).\r\n\r\nDefining a queuing mechanism on the lock prefix would be a difference similar to the dynamic between &quot;volatile&quot; and &quot;syncrhonized&quot; keywords.\r\n\r\nWhere non-FIFO locks would be used in update actions where memory management would prioritize performance with reordering, thread priority, etc.. used on databases and streaming operations... where no calls are left behind.\r\n\r\nWhile strict FIFO locks would just queue in order of arrival, used in publishing operations like displays, where dropping instructions is always an alternative to relieve backpressure.\r\n\r\nSo, one pipeline for writing/input (Stateful) and the other for reading/output (Stateless).\r\n\r\n\r\n  [1]: https://www.felixcloutier.com/x86/cmpxchg\r\n  [2]: https://www.felixcloutier.com/x86/xchg\r\n  [3]: https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2\r\n  [4]: https://www.felixcloutier.com/x86/lock","title":"Does VarHandle &#39;getAndSet&#39; uses &#39;xchg&#39; instruction, and how does x86 &#39;lock&#39; prefix handle backpressure?","body":"<p>While trying to understand how Java's VarHandle &quot;getAndSet&quot; worked as opposed to it's JDK7 version:</p>\n<pre><code>public final V getAndSet(V newValue) {\n    while (true) {\n        V x = get();\n        if (compareAndSet(x, newValue))\n            return x;\n    }\n}\n</code></pre>\n<p>I noticed something...</p>\n<p>The form of backpressure handling done by JDK7 is not sequentially consistent, if a thread fails the <code>compareAndSet</code>, and retries, it may lose it's position to some thread that came later.</p>\n<p>Even if this operation is deemed &quot;atomic&quot; an implicit queueing buffer is built on it's spin... and this buffer is not sequentially consistent, even if the atomicity is performed by the <code>comapreAndSet</code> action.</p>\n<p>I am not entirely sure why JDK7 implements the test &quot;compare&quot;(in the comapreAndSet) to perform a unique <strong>swapping</strong> action... since when a person performs the physical action of swapping something, that person is not interested in comparing anything...</p>\n<p>the <code>compareAndSet</code> employs the <a href=\"https://www.felixcloutier.com/x86/cmpxchg\" rel=\"nofollow noreferrer\">cmpxchg</a> instruction, so... my immediate question was... why not use just the <a href=\"https://www.felixcloutier.com/x86/xchg\" rel=\"nofollow noreferrer\">xchg</a> instruction for the <code>getAndSet</code>?... by eliminating the test failure, a single buffering queue will now build up... held by the native <code>LOCK</code>.</p>\n<p>And so, while I am not sure if VarHandle DOES in fact use the <code>xchg</code> alone (<strong>DOES IT?</strong>), it still remains the question whether the machine is handling the backpressure build-up in a sequentially consistent manner...</p>\n<p><em>(Here comes the essay... sorry.)</em></p>\n<p><strong>(edit:\nAt first I thought that with <code>mfence</code> <a href=\"https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2\">link</a> one could achieve this FIFO queue... but in reality there is no way for the processor to enforce any type of policy that defines such a FIFO queueing of &quot;assigned scheduled instructions&quot;, instead the processor's scheduler: &quot;may use different algorithms and policies to determine the order and priority of the threads, such as round-robin, shortest job first, priority-based, etc. Some of these algorithms may approximate a FIFO order, but they are not strictly enforced by the processor&quot;)</strong></p>\n<p>And there is no evidence that the <a href=\"https://www.felixcloutier.com/x86/lock\" rel=\"nofollow noreferrer\">lock</a> prefix is doing so.</p>\n<p>In fact the architecture may...:</p>\n<blockquote>\n<p>The queuing mechanism used by memory controllers is typically managed\nat the hardware level and is influenced by the overall design of the\nmemory subsystem, including cache hierarchies, memory interconnects,\nand bus arbitration protocols.</p>\n<p>Instructions in modern processors are designed to perform specific\ncomputations and memory operations, rather than directly control\nlow-level hardware details like queuing mechanisms in memory\ncontrollers. Processor instructions are more concerned with specifying\nthe operations to be performed on data, such as arithmetic operations,\nmemory loads and stores, control flow instructions, etc.</p>\n</blockquote>\n<p><em>Please don't ask me who I'm quoting... I think you know &quot;what&quot; said this...</em></p>\n<p><strong>... On reactive systems... Or...[ Why NO native FIFO instruction queue? ]</strong></p>\n<p>It seems reasonable that the greater concern for the processor would be for &quot;specifying the operations to be performed on data&quot;(... what one would call &quot;updates&quot;), instead of defining queueing strategies.</p>\n<p>The thing about updates is that an update will always <em>relay</em> the previous state, and so... the <strong>VERSION</strong> is implicit by the &quot;form&quot; of the current data... so if... let's say the operand says that the update is a <code>i -&gt; i++;</code> we can surely assume that the previous version was <code>current - 1;</code>, this may imply that defining a queueing strategy is redundant since the end result will still apply all changes performed, and a version can be implied by each change simply by checking its current state.</p>\n<p>But this is not how Version Based systems work (Publisher architectures aka: &quot;Displays&quot;)...\nIn Version based systems historical sequential consistency is the most important factor, especially since changes may completely disregard/override previous states leaving no way to figure out previous states... <strong>The output does NOT HAVE MEMORY</strong></p>\n<p>And such is the case of displaying events, where previous states are completely disregarded.</p>\n<p>This is why I believe most reactive systems are <strong>doing too much</strong> when used in such menial tasks like web applications or mobile applications displays.</p>\n<p>Their buffering management is seldom used, only in such specific cases like video streaming is it really needed, but if we get pedantic about meaning... even video streaming is somewhat limited by the speed our eyes process information, so there is a limit to the number of processes that need buffering (assuming good connection which I know is the main/real reason for this buffer).</p>\n<p>Defining a queuing mechanism on the lock prefix would be a difference similar to the dynamic between &quot;volatile&quot; and &quot;syncrhonized&quot; keywords.</p>\n<p>Where non-FIFO locks would be used in update actions where memory management would prioritize performance with reordering, thread priority, etc.. used on databases and streaming operations... where no calls are left behind.</p>\n<p>While strict FIFO locks would just queue in order of arrival, used in publishing operations like displays, where dropping instructions is always an alternative to relieve backpressure.</p>\n<p>So, one pipeline for writing/input (Stateful) and the other for reading/output (Stateless).</p>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692610389,"creation_date":1692609991,"answer_id":76943998,"question_id":76943538,"body_markdown":"Can you just do\r\n\r\n```java\r\n\r\n@Test\r\nvoid testScenario1() {\r\n   assertCalculation(\r\n      &quot;input1.json&quot;,\r\n      List.of(&quot;purchaseConfig1.json&quot;, &quot;purchaseConfig2.json&quot;),\r\n      List.of(&quot;salesConfig1.json&quot;, &quot;salesConfig2.json&quot;),\r\n      &quot;expected1.json&quot;\r\n   );\r\n}\r\n\r\n@Test\r\nvoid testScenario2() {\r\n   assertCalculation(\r\n      &quot;input2.json&quot;,\r\n      List.of(&quot;purchaseConfig3.json&quot;, &quot;purchaseConfig4.json&quot;),\r\n      List.of(&quot;salesConfig3.json&quot;, &quot;salesConfig4.json&quot;),\r\n      &quot;expected2.json&quot;\r\n   );\r\n}\r\n\r\nprivate void assertCalculation(\r\n   String inputPath, \r\n   List&lt;String&gt; purchaseConfigPaths, \r\n   List&lt;String&gt; salesConfigPaths, \r\n   String expectedPath\r\n) {\r\n   Input input = readValue(inputPath, Input.class);\r\n   List&lt;PurchaseConfig&gt; purchaseConfigs = purchaseConfigPaths.stream()\r\n      .map(pc -&gt; readObject(pc, PurchaseConfig.class)\r\n      .collect(toList());\r\n   List&lt;SalesConfig&gt; salesConfigs.stream()\r\n      .map(sc -&gt; readObject(sc, SalesConfig.class)\r\n      .collect(toList();\r\n   Result result = someService.calculate(purchaseConfigs, salesConfigs, input);\r\n   String resultJson = objectMapper.writeValueToString(result);\r\n   assertThat(resultJson).isEqualTo(readString(expectedPath));\r\n}\r\n\r\nprivate &lt;T&gt; T readObject(String path, Class&lt;T&gt; type) { ... }\r\n\r\nprivate String readString(String path) { ... }\r\n\r\n\r\n```","title":"Junit5 multidimensional file source","body":"<p>Can you just do</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Test\nvoid testScenario1() {\n   assertCalculation(\n      &quot;input1.json&quot;,\n      List.of(&quot;purchaseConfig1.json&quot;, &quot;purchaseConfig2.json&quot;),\n      List.of(&quot;salesConfig1.json&quot;, &quot;salesConfig2.json&quot;),\n      &quot;expected1.json&quot;\n   );\n}\n\n@Test\nvoid testScenario2() {\n   assertCalculation(\n      &quot;input2.json&quot;,\n      List.of(&quot;purchaseConfig3.json&quot;, &quot;purchaseConfig4.json&quot;),\n      List.of(&quot;salesConfig3.json&quot;, &quot;salesConfig4.json&quot;),\n      &quot;expected2.json&quot;\n   );\n}\n\nprivate void assertCalculation(\n   String inputPath, \n   List&lt;String&gt; purchaseConfigPaths, \n   List&lt;String&gt; salesConfigPaths, \n   String expectedPath\n) {\n   Input input = readValue(inputPath, Input.class);\n   List&lt;PurchaseConfig&gt; purchaseConfigs = purchaseConfigPaths.stream()\n      .map(pc -&gt; readObject(pc, PurchaseConfig.class)\n      .collect(toList());\n   List&lt;SalesConfig&gt; salesConfigs.stream()\n      .map(sc -&gt; readObject(sc, SalesConfig.class)\n      .collect(toList();\n   Result result = someService.calculate(purchaseConfigs, salesConfigs, input);\n   String resultJson = objectMapper.writeValueToString(result);\n   assertThat(resultJson).isEqualTo(readString(expectedPath));\n}\n\nprivate &lt;T&gt; T readObject(String path, Class&lt;T&gt; type) { ... }\n\nprivate String readString(String path) { ... }\n\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"score":0,"creation_date":1692613086,"post_id":76944182,"comment_id":135642440,"body_markdown":"Thanks for an answer - this is one of options I considered, but also, as mentioned in the question - considered suboptimal, cause I wanted to put config into the file(s).","body":"Thanks for an answer - this is one of options I considered, but also, as mentioned in the question - considered suboptimal, cause I wanted to put config into the file(s)."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1692613475,"post_id":76944182,"comment_id":135642507,"body_markdown":"Use `@CsvFileSource`, see my edit.","body":"Use <code>@CsvFileSource</code>, see my edit."},{"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"score":0,"creation_date":1692725406,"post_id":76944182,"comment_id":135662642,"body_markdown":"Yes, I know it, but still CSV is a flat file, so it is not so easy to put there lists of objects, anyway thanks for trying to help","body":"Yes, I know it, but still CSV is a flat file, so it is not so easy to put there lists of objects, anyway thanks for trying to help"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1692757477,"post_id":76944182,"comment_id":135666652,"body_markdown":"Yes, correct, for that reason, you need to maintain a flat structure in the CSV file and use `ArgumentsAggregator` and `ArgumentsAccessor` to create an Object for it. However, if you are fine with for example JSON format, see my edited answer.","body":"Yes, correct, for that reason, you need to maintain a flat structure in the CSV file and use <code>ArgumentsAggregator</code> and <code>ArgumentsAccessor</code> to create an Object for it. However, if you are fine with for example JSON format, see my edited answer."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692757474,"creation_date":1692611483,"answer_id":76944182,"question_id":76943538,"body_markdown":"&lt;h3&gt;@MethodSource&lt;/h3&gt;\r\n\r\nUse `@ParameterizedTest` with a method source that provides arguments via `@MethodSource` and a name of such the method. Here you go and feel free to edit the object types to match your expectations:\r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;arguments&quot;)\r\npublic void test_calculate(List&lt;String&gt; pc, List&lt;String&gt; sc, String input_value, String expected_value) {\r\n\tpurchase_configs.addAll(pc); // assuming it&#39;s a List\r\n\tsales_configs.addAll(sc); // assuming it&#39;s a List\r\n\r\n\tresult = calculate(purchase_configs, sales_configs, input_value);\r\n\r\n\tassertEquals(expected_value, result);\r\n}\r\n\r\nprivate static Stream&lt;Arguments&gt; arguments() {\r\n\treturn Stream.of(\r\n\t\t\tArguments.of(\r\n\t\t\t\t\tList.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\r\n\t\t\t\t\tList.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\r\n\t\t\t\t\t&quot;input1&quot;,\r\n\t\t\t\t\t&quot;outpu1&quot;),\r\n\t\t\tArguments.of(\r\n\t\t\t\t\tList.of(), // sometimes none\r\n\t\t\t\t\tList.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\r\n\t\t\t\t\t&quot;input2&quot;,\r\n\t\t\t\t\t&quot;outpu2&quot;),\r\n\t\t\tArguments.of(\r\n\t\t\t\t\tList.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\r\n\t\t\t\t\tList.of(), // sometimes none\r\n\t\t\t\t\t&quot;input3&quot;,\r\n\t\t\t\t\t&quot;outpu3&quot;)\r\n\t);\r\n}\r\n```\r\n\r\n___\r\n\r\n&lt;h3&gt;@CsfFileSouce&lt;/h3&gt;\r\n\r\nIn case you have inputs in a file, you can use `@CsfFileSouce` loading a CSV file ([source](https://reflectoring.io/tutorial-junit5-parameterized-tests)):\r\n\r\n```java\r\n@CsvFileSource(\r\n    files = &quot;src/test/resources/test_calculate.csv&quot;, \r\n    numLinesToSkip = 1)\r\n```\r\n\r\nYou might want to use `ArgumentsAggregator` and `ArgumentsAccessor` if you want to map the file content into objects.\r\n\r\n___\r\n\r\n&lt;h3&gt;Custom ParameterResolver&lt;/h3&gt;\r\n\r\nIn case you want to define an own argument source, for example from a non-CSV file, you have to implement own `ParameterResolver` and instroduce a custom annotation:\r\n\r\n```java\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@ExtendWith(FileResourceParameterResolver.class)\r\n@interface FileResource {\r\n\r\n\tString value();\r\n}\r\n```\r\n```java\r\npublic class FileResourceParameterResolver implements ParameterResolver {\r\n\r\n\t@Override\r\n\tpublic boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n\t\treturn parameterContext.isAnnotated(FileResource.class) &amp;&amp; parameterContext.getParameter().getType().equals(String.class)\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n\t\tvar location = parameterContext\r\n\t\t\t\t.findAnnotation(FileResource.class)\r\n\t\t\t\t.map(FileResource::value)\r\n\t\t\t\t.orElseThrow();\r\n\t\ttry (var stream = FileResourceParameterResolver.class.getClassLoader().getResourceAsStream(location)) {\r\n\t\t\tif (stream != null) {\r\n\t\t\t\treturn new String(stream.readAllBytes(), UTF_8);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nUsage is simple, just navigate to the resource in the `resources` location in the classpath:\r\n\r\n```\r\n@Test\r\npublic void foo(@StringResource(&quot;folder/bla.json&quot;) String json) {) {\r\n    // deserialize JSON string into object and do some testing...\r\n}","title":"Junit5 multidimensional file source","body":"<h3>@MethodSource</h3>\n<p>Use <code>@ParameterizedTest</code> with a method source that provides arguments via <code>@MethodSource</code> and a name of such the method. Here you go and feel free to edit the object types to match your expectations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;arguments&quot;)\npublic void test_calculate(List&lt;String&gt; pc, List&lt;String&gt; sc, String input_value, String expected_value) {\n    purchase_configs.addAll(pc); // assuming it's a List\n    sales_configs.addAll(sc); // assuming it's a List\n\n    result = calculate(purchase_configs, sales_configs, input_value);\n\n    assertEquals(expected_value, result);\n}\n\nprivate static Stream&lt;Arguments&gt; arguments() {\n    return Stream.of(\n            Arguments.of(\n                    List.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\n                    List.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\n                    &quot;input1&quot;,\n                    &quot;outpu1&quot;),\n            Arguments.of(\n                    List.of(), // sometimes none\n                    List.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\n                    &quot;input2&quot;,\n                    &quot;outpu2&quot;),\n            Arguments.of(\n                    List.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\n                    List.of(), // sometimes none\n                    &quot;input3&quot;,\n                    &quot;outpu3&quot;)\n    );\n}\n</code></pre>\n<hr />\n<h3>@CsfFileSouce</h3>\n<p>In case you have inputs in a file, you can use <code>@CsfFileSouce</code> loading a CSV file (<a href=\"https://reflectoring.io/tutorial-junit5-parameterized-tests\" rel=\"nofollow noreferrer\">source</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvFileSource(\n    files = &quot;src/test/resources/test_calculate.csv&quot;, \n    numLinesToSkip = 1)\n</code></pre>\n<p>You might want to use <code>ArgumentsAggregator</code> and <code>ArgumentsAccessor</code> if you want to map the file content into objects.</p>\n<hr />\n<h3>Custom ParameterResolver</h3>\n<p>In case you want to define an own argument source, for example from a non-CSV file, you have to implement own <code>ParameterResolver</code> and instroduce a custom annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@ExtendWith(FileResourceParameterResolver.class)\n@interface FileResource {\n\n    String value();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileResourceParameterResolver implements ParameterResolver {\n\n    @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        return parameterContext.isAnnotated(FileResource.class) &amp;&amp; parameterContext.getParameter().getType().equals(String.class)\n    }\n\n    @Override\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        var location = parameterContext\n                .findAnnotation(FileResource.class)\n                .map(FileResource::value)\n                .orElseThrow();\n        try (var stream = FileResourceParameterResolver.class.getClassLoader().getResourceAsStream(location)) {\n            if (stream != null) {\n                return new String(stream.readAllBytes(), UTF_8);\n            } else {\n                return null;\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Usage is simple, just navigate to the resource in the <code>resources</code> location in the classpath:</p>\n<pre><code>@Test\npublic void foo(@StringResource(&quot;folder/bla.json&quot;) String json) {) {\n    // deserialize JSON string into object and do some testing...\n}\n</code></pre>\n"}],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692757474,"creation_date":1692606150,"question_id":76943538,"body_markdown":"I need to write a test that requires setup and actual test data.\r\nSimplified code will be like:\r\n```\r\n//given config\r\npurchase_configs.add(pc1);\r\npurchase_configs.add(pc2);\r\n\r\nsales_configs.add(sc1);\r\nsales_configs.add(sc2);\r\n\r\n// given data\r\ninput_value = ....\r\n//given expected output\r\nexpected_value = ....\r\n\r\n//when\r\nresult = calculate(purchase_configs, sales_configs, input_value)\r\n\r\n//then\r\nassertEquals(expected_value, result)\r\n```\r\nIn fact configs and input values are quite complex, so I want to externalise them to file/files e.g. using ```@CSVFileValue```\r\nApart of the params the test logic is the same.\r\n\r\nThe issue is that number of purchase and sales configs may vary. Sometimes it&#39;s pc1, pc2, sometimes only pc1, sometimes, none, sometimes more. Same for sales.\r\n\r\n\r\n\r\nI know, that I can write multiple test - one per number of configs, but seems to be ugly.\r\nI know, that I can use ```@MethodSource``` and generate variable list of params, but then I need to write all the code for parsing CSV/JSON or whatever file or have a lot of Java code to create objects manually, also, if possible I&#39;d like to externalize only important/meaningful params, all the rest can use some default/calculated not to decrease the readability.\r\n\r\nIs there any clever way to use junit ```@ParametrizedTest``` to achieve the goal which is have one test method with params and, if possible do not need to create readers and parsers of files on myown?\r\n","title":"Junit5 multidimensional file source","body":"<p>I need to write a test that requires setup and actual test data.\nSimplified code will be like:</p>\n<pre><code>//given config\npurchase_configs.add(pc1);\npurchase_configs.add(pc2);\n\nsales_configs.add(sc1);\nsales_configs.add(sc2);\n\n// given data\ninput_value = ....\n//given expected output\nexpected_value = ....\n\n//when\nresult = calculate(purchase_configs, sales_configs, input_value)\n\n//then\nassertEquals(expected_value, result)\n</code></pre>\n<p>In fact configs and input values are quite complex, so I want to externalise them to file/files e.g. using <code>@CSVFileValue</code>\nApart of the params the test logic is the same.</p>\n<p>The issue is that number of purchase and sales configs may vary. Sometimes it's pc1, pc2, sometimes only pc1, sometimes, none, sometimes more. Same for sales.</p>\n<p>I know, that I can write multiple test - one per number of configs, but seems to be ugly.\nI know, that I can use <code>@MethodSource</code> and generate variable list of params, but then I need to write all the code for parsing CSV/JSON or whatever file or have a lot of Java code to create objects manually, also, if possible I'd like to externalize only important/meaningful params, all the rest can use some default/calculated not to decrease the readability.</p>\n<p>Is there any clever way to use junit <code>@ParametrizedTest</code> to achieve the goal which is have one test method with params and, if possible do not need to create readers and parsers of files on myown?</p>\n"},{"tags":["java","exception"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1422142621,"post_id":10964895,"comment_id":44635666,"body_markdown":"@downvoter Explanation please. No error here. Both other answers agree. If you disagree please do so explicitly, but be prepared to cite chapter and verse.","body":"@downvoter Explanation please. No error here. Both other answers agree. If you disagree please do so explicitly, but be prepared to cite chapter and verse."},{"owner":{"account_id":957889,"reputation":18106,"user_id":982865,"accept_rate":94,"display_name":"Evgenij Reznik"},"score":0,"creation_date":1550148294,"post_id":10964895,"comment_id":96168891,"body_markdown":"Your answer doesn&#39;t help OP and all the other readers with similar problems.","body":"Your answer doesn&#39;t help OP and all the other readers with similar problems."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1550185753,"post_id":10964895,"comment_id":96187698,"body_markdown":"@user1170330 Of course it does. You just compile, read the error messages, and fix accordingly.","body":"@user1170330 Of course it does. You just compile, read the error messages, and fix accordingly."},{"owner":{"account_id":957889,"reputation":18106,"user_id":982865,"accept_rate":94,"display_name":"Evgenij Reznik"},"score":0,"creation_date":1550221228,"post_id":10964895,"comment_id":96197080,"body_markdown":"Almost every error can be fixed with the help of the compiler. Then why bother looking for help on SO?","body":"Almost every error can be fixed with the help of the compiler. Then why bother looking for help on SO?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1557298358,"post_id":10964895,"comment_id":98712663,"body_markdown":"@user1170330 I agree entirely. Almost every error can indeed be fixed with the help of the compiler. Looking here on SO is a last resort when the compiler isn&#39;t helping. Computer programmers should be competent at understanding and rectifying 90% of compilation errors on their own; they should then refer to standard normative references; and only then should they seek outside help if necessary. Sadly there are far too many members here who reverse that order: as a consequence, there are far too many trivial questions here.","body":"@user1170330 I agree entirely. Almost every error can indeed be fixed with the help of the compiler. Looking here on SO is a last resort when the compiler isn&#39;t helping. Computer programmers should be competent at understanding and rectifying 90% of compilation errors on their own; they should then refer to standard normative references; and only then should they seek outside help if necessary. Sadly there are far too many members here who reverse that order: as a consequence, there are far too many trivial questions here."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":5,"down_vote_count":6,"up_vote_count":5,"is_accepted":false,"score":-1,"last_activity_date":1692757128,"creation_date":1339279212,"answer_id":10964895,"question_id":10964882,"body_markdown":"Any order the compiler will accept is correct.\r\n\r\nThe compiler will tell you which exceptions are being caught out of order.","title":"Order of catching exceptions in Java","body":"<p>Any order the compiler will accept is correct.</p>\n<p>The compiler will tell you which exceptions are being caught out of order.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1486977512,"post_id":10964899,"comment_id":71562357,"body_markdown":"&#39;Want to&#39; has nothing to do with it. The compiler enforces the correct order.","body":"&#39;Want to&#39; has nothing to do with it. The compiler enforces the correct order."}],"tags":[],"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"comment_count":1,"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1442877535,"creation_date":1339279241,"answer_id":10964899,"question_id":10964882,"body_markdown":"The order is **whatever matches first, gets executed** ([as the JLS clearly explains](http://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html#jls-11.3)).\r\n\r\nIf the first catch matches the exception, it executes, if it doesn&#39;t, the next one is tried and on and on until one is matched or none are.\r\n\r\nSo, when catching exceptions you want to always catch the **most specific** first and then the most generic (as RuntimeException or Exception). For instance, imagine you would like to catch the **[StringIndexOutOfBoundsException][1]** thrown by the [String.charAt(index)][2] method but your code could also throw a [NullPointerException][3], here&#39;s how you could go to catch the exceptions:\r\n\r\n    String s = null;\r\n    try {\r\n      s.charAt(10);\r\n    } catch ( NullPointerExeption e ) {\r\n      System.out.println(&quot;null&quot;);\r\n      e.printStackTrace();\r\n    } catch ( StringIndexOutOfBoundsException e ) {\r\n      System.out.println(&quot;String index error!&quot;);\r\n      e.printStackTrace();\r\n    } catch ( RuntimeException e ) {\r\n      System.out.println(&quot;runtime exception!&quot;);\r\n      e.printStackTrace();\r\n    }\r\n\r\nSo, with this order, I am making sure the exceptions are caught correctly and they are not tripping over one another, if it&#39;s a **NullPointerException** it enters the first catch, if a **StringIndexOutOfBoundsException** it enters the second and finally if it is something else that is a RuntimeException (or inherits from it, like a **IllegalArgumentException**) it enters the third catch.\r\n\r\nYour case is correct as IOException inherits from Exception and RuntimeException also inherits from Exception, so they will not trip over one another.\r\n\r\nIt&#39;s also a compilation error to catch a generic exception first and then one of it&#39;s descendants later, as in:\r\n\r\n    try {\r\n      // some code here\r\n    } catch ( Exception e) {\r\n      e.printStackTrace();\r\n    } catch ( RuntimeException e ) { // this line will cause a compilation error because it would never be executed since the first catch would pick the exception\r\n      e.printStackTrace();\r\n    }\r\n\r\nSo, you should have the children first and then the parent exceptions.\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StringIndexOutOfBoundsException.html\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#charAt%28int%29\r\n  [3]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/NullPointerException.html","title":"Order of catching exceptions in Java","body":"<p>The order is <strong>whatever matches first, gets executed</strong> (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html#jls-11.3\" rel=\"noreferrer\">as the JLS clearly explains</a>).</p>\n\n<p>If the first catch matches the exception, it executes, if it doesn't, the next one is tried and on and on until one is matched or none are.</p>\n\n<p>So, when catching exceptions you want to always catch the <strong>most specific</strong> first and then the most generic (as RuntimeException or Exception). For instance, imagine you would like to catch the <strong><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StringIndexOutOfBoundsException.html\" rel=\"noreferrer\">StringIndexOutOfBoundsException</a></strong> thrown by the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#charAt%28int%29\" rel=\"noreferrer\">String.charAt(index)</a> method but your code could also throw a <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/NullPointerException.html\" rel=\"noreferrer\">NullPointerException</a>, here's how you could go to catch the exceptions:</p>\n\n<pre><code>String s = null;\ntry {\n  s.charAt(10);\n} catch ( NullPointerExeption e ) {\n  System.out.println(\"null\");\n  e.printStackTrace();\n} catch ( StringIndexOutOfBoundsException e ) {\n  System.out.println(\"String index error!\");\n  e.printStackTrace();\n} catch ( RuntimeException e ) {\n  System.out.println(\"runtime exception!\");\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>So, with this order, I am making sure the exceptions are caught correctly and they are not tripping over one another, if it's a <strong>NullPointerException</strong> it enters the first catch, if a <strong>StringIndexOutOfBoundsException</strong> it enters the second and finally if it is something else that is a RuntimeException (or inherits from it, like a <strong>IllegalArgumentException</strong>) it enters the third catch.</p>\n\n<p>Your case is correct as IOException inherits from Exception and RuntimeException also inherits from Exception, so they will not trip over one another.</p>\n\n<p>It's also a compilation error to catch a generic exception first and then one of it's descendants later, as in:</p>\n\n<pre><code>try {\n  // some code here\n} catch ( Exception e) {\n  e.printStackTrace();\n} catch ( RuntimeException e ) { // this line will cause a compilation error because it would never be executed since the first catch would pick the exception\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>So, you should have the children first and then the parent exceptions.</p>\n"},{"comments":[{"owner":{"account_id":1288319,"reputation":9494,"user_id":1240930,"accept_rate":92,"display_name":"John Doe"},"score":0,"creation_date":1339317715,"post_id":10966118,"comment_id":14320195,"body_markdown":"That&#39;s a good point. But what do you mean saying &quot;and attempt to recover from RuntimeException&quot;? I didn&#39;t try to do that, actually one does not need to recover from RuntimeException. Or does one?","body":"That&#39;s a good point. But what do you mean saying &quot;and attempt to recover from RuntimeException&quot;? I didn&#39;t try to do that, actually one does not need to recover from RuntimeException. Or does one?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1339318873,"post_id":10966118,"comment_id":14320360,"body_markdown":"By &quot;attempt to recover&quot; I mean do something other than allowing or causing the application to exit.  It is not clear whether your code does that or not.  (It depends what happens in the enclosing code.)  Anyway I&#39;m not saying that you *do* do this.  Rather, I&#39;m offering general advice which applies whenever your code catches one of the root exception classes.","body":"By &quot;attempt to recover&quot; I mean do something other than allowing or causing the application to exit.  It is not clear whether your code does that or not.  (It depends what happens in the enclosing code.)  Anyway I&#39;m not saying that you <i>do</i> do this.  Rather, I&#39;m offering general advice which applies whenever your code catches one of the root exception classes."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692710817,"creation_date":1339297854,"answer_id":10966118,"question_id":10964882,"body_markdown":"&gt; Is this order a correct one? Or is it correct but a bad option?\r\n\r\nNeither.  As other answers have said, the compiler should tell you if you put simple catches in an order where one masks another.\r\n\r\nBut there is another potential issue in your code: should you actually be catching `RuntimeException` at all?  The issue is that there are many potential sources / causes of unchecked exceptions, and many of those sources / causes would actually be bugs in your application.  \r\n\r\nUsing the `catch` to log a diagnostic as part of an emergency shutdown is fine, but if you catch *and attempt to recover from* a `RuntimeException`, you need to be careful that you are not sweeping a serious problem under the carpet:\r\n\r\n  - Make sure that you log the exception and its stacktrace, no matter what.\r\n\r\n  - Consider whether is is *wise* to attempt to recover.  If you&#39;ve got an unknown bug, it could have done damage (e.g. to important data structures) before triggering the exception.  In general, you have no way of knowing whether the application can recover, or whether attempting to recover can do worse damage.\r\n\r\nThe same advice applies to catching `Exception` and `Throwable` / `Error`.  And it is more critical with `Throwable` / `Error` because of the nature of the damage that could well have already occurred.","title":"Order of catching exceptions in Java","body":"<blockquote>\n<p>Is this order a correct one? Or is it correct but a bad option?</p>\n</blockquote>\n<p>Neither.  As other answers have said, the compiler should tell you if you put simple catches in an order where one masks another.</p>\n<p>But there is another potential issue in your code: should you actually be catching <code>RuntimeException</code> at all?  The issue is that there are many potential sources / causes of unchecked exceptions, and many of those sources / causes would actually be bugs in your application.</p>\n<p>Using the <code>catch</code> to log a diagnostic as part of an emergency shutdown is fine, but if you catch <em>and attempt to recover from</em> a <code>RuntimeException</code>, you need to be careful that you are not sweeping a serious problem under the carpet:</p>\n<ul>\n<li><p>Make sure that you log the exception and its stacktrace, no matter what.</p>\n</li>\n<li><p>Consider whether is is <em>wise</em> to attempt to recover.  If you've got an unknown bug, it could have done damage (e.g. to important data structures) before triggering the exception.  In general, you have no way of knowing whether the application can recover, or whether attempting to recover can do worse damage.</p>\n</li>\n</ul>\n<p>The same advice applies to catching <code>Exception</code> and <code>Throwable</code> / <code>Error</code>.  And it is more critical with <code>Throwable</code> / <code>Error</code> because of the nature of the damage that could well have already occurred.</p>\n"}],"owner":{"account_id":1288319,"reputation":9494,"user_id":1240930,"accept_rate":92,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55144,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":10964899,"answer_count":3,"score":44,"last_activity_date":1692757128,"creation_date":1339279067,"question_id":10964882,"body_markdown":"If I&#39;m not mistaken, subclasses of Exceptions should be caught first. But having to catch any RuntimeException and a concrete checked Exception, which should be caught at first?\r\n\r\n    try {\r\n        ...\r\n    } catch(RuntimeException e) {\r\n    \t...\r\n    } catch(IOException e) {\r\n    \t...\r\n    }\r\n\r\nIs this order a correct one? Or is it correct but a bad option?","title":"Order of catching exceptions in Java","body":"<p>If I'm not mistaken, subclasses of Exceptions should be caught first. But having to catch any RuntimeException and a concrete checked Exception, which should be caught at first?</p>\n\n<pre><code>try {\n    ...\n} catch(RuntimeException e) {\n    ...\n} catch(IOException e) {\n    ...\n}\n</code></pre>\n\n<p>Is this order a correct one? Or is it correct but a bad option?</p>\n"},{"tags":["java","inner-classes","mixins","spongeapi"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1689878376,"post_id":76732768,"comment_id":135279416,"body_markdown":"Does this work for normal, non-inner classes? Does this @Mixin already exist, or is it something you&#39;d like to exist?","body":"Does this work for normal, non-inner classes? Does this @Mixin already exist, or is it something you&#39;d like to exist?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1689878704,"post_id":76732768,"comment_id":135279481,"body_markdown":"Are you talking about [SpongePowered Mixin](https://github.com/SpongePowered/Mixin)s? If yes, please edit that into the question.","body":"Are you talking about <a href=\"https://github.com/SpongePowered/Mixin\" rel=\"nofollow noreferrer\">SpongePowered Mixin</a>s? If yes, please edit that into the question."},{"owner":{"account_id":10751001,"reputation":736,"user_id":7916348,"display_name":"The Zach Man"},"score":0,"creation_date":1689879984,"post_id":76732768,"comment_id":135279733,"body_markdown":"Yes, I am, edited.  I couldn&#39;t find a tag for SpongePowered specifically, let me know if I missed one.","body":"Yes, I am, edited.  I couldn&#39;t find a tag for SpongePowered specifically, let me know if I missed one."}],"answers":[{"tags":[],"owner":{"account_id":10751001,"reputation":736,"user_id":7916348,"display_name":"The Zach Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692756472,"creation_date":1692756472,"answer_id":76957829,"question_id":76732768,"body_markdown":"The inner class has a synthetic (final) field, often but not always called `this$0`, which contains the instance of the outer class.  This field can be obtained by reflection as in [this][1] answer, or with a mixin it can be shadowed:\r\n\r\n    @Mixin(targets = &quot;whatever.Outer$Inner&quot;)\r\n    class InnerMixin {\r\n        @Shadow @Final Outer this$0;\r\n\r\n        @Overwrite\r\n        public void foo() {\r\n            System.out.println(this$0.x);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15265900","title":"Access instance of outer class from mixin to inner class","body":"<p>The inner class has a synthetic (final) field, often but not always called <code>this$0</code>, which contains the instance of the outer class.  This field can be obtained by reflection as in <a href=\"https://stackoverflow.com/a/15265900\">this</a> answer, or with a mixin it can be shadowed:</p>\n<pre><code>@Mixin(targets = &quot;whatever.Outer$Inner&quot;)\nclass InnerMixin {\n    @Shadow @Final Outer this$0;\n\n    @Overwrite\n    public void foo() {\n        System.out.println(this$0.x);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10751001,"reputation":736,"user_id":7916348,"display_name":"The Zach Man"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692756472,"creation_date":1689877644,"question_id":76732768,"body_markdown":"I&#39;m targeting a non-static nested class, e.g.\r\n\r\n    package whatever;\r\n    class Outer {\r\n        public int x;\r\n        class Inner {\r\n            public void foo();\r\n        }\r\n    }\r\nAnd I would like to write a SpongePowered Mixin for the inner class that refers to a field of the outer class, e.g.\r\n\r\n    @Mixin(targets = &quot;whatever.Outer$Inner&quot;)\r\n    class InnerMixin {\r\n        @Overwrite\r\n        public void foo() {\r\n            System.out.println(Outer.this.x); //This doesn&#39;t work\r\n        }\r\n    }\r\n\r\nHow can I do this?    ","title":"Access instance of outer class from mixin to inner class","body":"<p>I'm targeting a non-static nested class, e.g.</p>\n<pre><code>package whatever;\nclass Outer {\n    public int x;\n    class Inner {\n        public void foo();\n    }\n}\n</code></pre>\n<p>And I would like to write a SpongePowered Mixin for the inner class that refers to a field of the outer class, e.g.</p>\n<pre><code>@Mixin(targets = &quot;whatever.Outer$Inner&quot;)\nclass InnerMixin {\n    @Overwrite\n    public void foo() {\n        System.out.println(Outer.this.x); //This doesn't work\n    }\n}\n</code></pre>\n<p>How can I do this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","java-12"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1567662571,"post_id":57799059,"comment_id":102030733,"body_markdown":"How do you manage the project dependencies? How are you running the code shared in the question (as modular or non-modular jar)?","body":"How do you manage the project dependencies? How are you running the code shared in the question (as modular or non-modular jar)?"}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1567672648,"post_id":57800548,"comment_id":102035047,"body_markdown":"*`ChromeDriver` cannot be resolved to a type* is not possibly an error from the line of code you&#39;ve pointed. It looks more like a compile error.","body":"<i><code>ChromeDriver</code> cannot be resolved to a type</i> is not possibly an error from the line of code you&#39;ve pointed. It looks more like a compile error."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1567677962,"post_id":57800548,"comment_id":102037898,"body_markdown":"@Naman You were right. Updated the answer. Let me know your feedback.","body":"@Naman You were right. Updated the answer. Let me know your feedback."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567677905,"creation_date":1567668938,"answer_id":57800548,"question_id":57799059,"body_markdown":"These error messages...\r\n\r\n\tThe type org.openqa.selenium.chrome.ChromeDriver is not accessible\r\n\t\r\nand\r\n\r\n\tChromeDriver cannot be resolved to a type\r\n\r\n...implies that ChromeDriver wasn&#39;t resolved at compiletime.\r\n\r\n\r\n----------\r\n\r\n\r\nA bit more details about the binaries and your _test framework_ i.e. _Selenium jars_ or _maven_ would have helped us to analyze the issue in a better way. Presumably you have **resolved** the _WebDriver_ and _ChromeDriver_ from one JAR source (i.e. either _selenium-server-standalone-3.141.59_ or _selenium-java-3.141.59_ JARs) but **compiletime** the Classes are trying to get resolved from the other JAR. Hence you see the error.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\n - Either keep only  **selenium-server-standalone-3.141.59.jar** as an external JAR.\r\n - Or keep only  **selenium-java-3.141.59** JARs as an external JARs.\r\n - Remove all the other _Selenium Java Client JARs_.\r\n - _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n - Take a _System Reboot_.\r\n - Execute your `@Test`.\r\n\r\nAdditionally, you need to provide the _absolute_ path of the _chromedriver.exe_ as follows:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\full_path\\\\Driver\\\\chromedriver.exe&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\t\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [chrome Webdriver can&#39;t be resolved to a type error eclipse and java](https://stackoverflow.com/questions/48897286/chrome-webdriver-cant-be-resolved-to-a-type-error-eclipse-and-java/48898627#48898627)\r\n- [java.lang.Error: Unresolved compilation problems : WebDriver/ChromeDriver cannot be resolved to a type error while executing selenium tests](https://stackoverflow.com/questions/50111517/java-lang-error-unresolved-compilation-problems-webdriver-chromedriver-cannot/50114884#50114884)","title":"The type org.openqa.selenium.chrome.ChromeDriver is not accessible with Java 12","body":"<p>These error messages...</p>\n\n<pre><code>The type org.openqa.selenium.chrome.ChromeDriver is not accessible\n</code></pre>\n\n<p>and</p>\n\n<pre><code>ChromeDriver cannot be resolved to a type\n</code></pre>\n\n<p>...implies that ChromeDriver wasn't resolved at compiletime.</p>\n\n<hr>\n\n<p>A bit more details about the binaries and your <em>test framework</em> i.e. <em>Selenium jars</em> or <em>maven</em> would have helped us to analyze the issue in a better way. Presumably you have <strong>resolved</strong> the <em>WebDriver</em> and <em>ChromeDriver</em> from one JAR source (i.e. either <em>selenium-server-standalone-3.141.59</em> or <em>selenium-java-3.141.59</em> JARs) but <strong>compiletime</strong> the Classes are trying to get resolved from the other JAR. Hence you see the error.</p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<ul>\n<li>Either keep only  <strong>selenium-server-standalone-3.141.59.jar</strong> as an external JAR.</li>\n<li>Or keep only  <strong>selenium-java-3.141.59</strong> JARs as an external JARs.</li>\n<li>Remove all the other <em>Selenium Java Client JARs</em>.</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code>.</li>\n</ul>\n\n<p>Additionally, you need to provide the <em>absolute</em> path of the <em>chromedriver.exe</em> as follows:</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\",\"C:\\\\full_path\\\\Driver\\\\chromedriver.exe\");\n</code></pre>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of relevant discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48897286/chrome-webdriver-cant-be-resolved-to-a-type-error-eclipse-and-java/48898627#48898627\">chrome Webdriver can't be resolved to a type error eclipse and java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50111517/java-lang-error-unresolved-compilation-problems-webdriver-chromedriver-cannot/50114884#50114884\">java.lang.Error: Unresolved compilation problems : WebDriver/ChromeDriver cannot be resolved to a type error while executing selenium tests</a></li>\n</ul>\n"}],"owner":{"account_id":14888736,"reputation":13,"user_id":10751136,"display_name":"Dave Faundo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692756355,"creation_date":1567662177,"question_id":57799059,"body_markdown":"I am new to Selenium for the purpose of familiarizing for an internship. Currently, I am having a problem with importing chromedriver jar. I am currently using Java 12. It is weird because the error seems to go away when I switch the compiler to Java 1.8. Can anyone help me with this problem?\r\n\r\n```\r\npackage co.edureka.selenium.webdriver.sj;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class launchbrowser {\r\n\t\r\n\tpublic static WebDriver driver = null;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;.\\\\Driver\\\\chromedriver.exe&quot;);\r\n\t\t\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.navigate().to(&quot;https://amazon.com&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n&quot;import org.openqa.selenium.chrome.ChromeDriver&quot; displays this error\r\n&gt;&quot;The type org.openqa.selenium.chrome.ChromeDriver is not accessible&quot;;\r\n\r\n&quot;ChromeDriver()&quot; displays this error \r\n&gt;&quot;ChromeDriver cannot be resolved to a type&quot;\r\n","title":"The type org.openqa.selenium.chrome.ChromeDriver is not accessible with Java 12","body":"<p>I am new to Selenium for the purpose of familiarizing for an internship. Currently, I am having a problem with importing chromedriver jar. I am currently using Java 12. It is weird because the error seems to go away when I switch the compiler to Java 1.8. Can anyone help me with this problem?</p>\n\n<pre><code>package co.edureka.selenium.webdriver.sj;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class launchbrowser {\n\n    public static WebDriver driver = null;\n\n    public static void main(String[] args) {\n\n        System.setProperty(\"webdriver.chrome.driver\",\".\\\\Driver\\\\chromedriver.exe\");\n\n        driver = new ChromeDriver();\n        driver.navigate().to(\"https://amazon.com\");\n    }\n\n}\n</code></pre>\n\n<p>\"import org.openqa.selenium.chrome.ChromeDriver\" displays this error</p>\n\n<blockquote>\n  <p>\"The type org.openqa.selenium.chrome.ChromeDriver is not accessible\";</p>\n</blockquote>\n\n<p>\"ChromeDriver()\" displays this error </p>\n\n<blockquote>\n  <p>\"ChromeDriver cannot be resolved to a type\"</p>\n</blockquote>\n"},{"tags":["java","generics","static-methods"],"answers":[{"comments":[{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1243885532,"post_id":936402,"comment_id":744513,"body_markdown":"Then I&#39;d call the method without specifying any constraints, ie Clazz.doIt(object) instead of Clazz&lt;Object&gt;.doIt(object), right? Do you consider that OK?","body":"Then I&#39;d call the method without specifying any constraints, ie Clazz.doIt(object) instead of Clazz&lt;Object&gt;.doIt(object), right? Do you consider that OK?"},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1243886269,"post_id":936402,"comment_id":744564,"body_markdown":"The second syntax there is the more exact one, which you need if the compiler can&#39;t infer the type of the return value from the contaxt in which the method is called.  In other words, if the compiler allows Clazz.doIt(object), then do that.","body":"The second syntax there is the more exact one, which you need if the compiler can&#39;t infer the type of the return value from the contaxt in which the method is called.  In other words, if the compiler allows Clazz.doIt(object), then do that."},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":2,"creation_date":1243887275,"post_id":936402,"comment_id":744634,"body_markdown":"I tried Clazz&lt;Object&gt;.doIt(object) and got a compile-time error! &quot;Syntax error on token(s), misplaced construct(s)&quot;. Clazz.doIt(object) works fine though, not even a warning.","body":"I tried Clazz&lt;Object&gt;.doIt(object) and got a compile-time error! &quot;Syntax error on token(s), misplaced construct(s)&quot;. Clazz.doIt(object) works fine though, not even a warning."},{"owner":{"account_id":51266,"reputation":4149,"user_id":153133,"accept_rate":88,"display_name":"Reci"},"score":10,"creation_date":1330568269,"post_id":936402,"comment_id":12043706,"body_markdown":"Use Clazz.&lt;Object&gt;doIt(object). I think it&#39;s weird syntax, comparing to C++&#39;s Clazz&lt;int&gt;::doIt(1)","body":"Use Clazz.&lt;Object&gt;doIt(object). I think it&#39;s weird syntax, comparing to C++&#39;s Clazz&lt;int&gt;::doIt(1)"},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1432725199,"post_id":936402,"comment_id":49040213,"body_markdown":"Why do you say it doesn&#39;t get you the right restriction on U?","body":"Why do you say it doesn&#39;t get you the right restriction on U?"},{"owner":{"account_id":6803779,"reputation":711,"user_id":5236247,"accept_rate":100,"display_name":"Adowrath"},"score":0,"creation_date":1488991644,"post_id":936402,"comment_id":72478801,"body_markdown":"@CrendKing I wouldn&#39;t call it weird. If your method is defined as `static &lt;U&gt; void some(U u)`, then if you say `A.&lt;String&gt;some(&quot;&quot;)`, you are saying &quot;execute the method `some` with type parameter `String` in class `A`&quot;. On the other hand, `A&lt;String&gt;.some(&quot;&quot;)` says &quot;execute the method `some` on the class `A` which has a type parameter of type `String`&quot;. Which does not make sense, because you don&#39;t have generic class refinement in Java. (it&#39;s partially being planned in Project Valhalla though)","body":"@CrendKing I wouldn&#39;t call it weird. If your method is defined as <code>static &lt;U&gt; void some(U u)</code>, then if you say <code>A.&lt;String&gt;some(&quot;&quot;)</code>, you are saying &quot;execute the method <code>some</code> with type parameter <code>String</code> in class <code>A</code>&quot;. On the other hand, <code>A&lt;String&gt;.some(&quot;&quot;)</code> says &quot;execute the method <code>some</code> on the class <code>A</code> which has a type parameter of type <code>String</code>&quot;. Which does not make sense, because you don&#39;t have generic class refinement in Java. (it&#39;s partially being planned in Project Valhalla though)"}],"tags":[],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":6,"down_vote_count":3,"up_vote_count":161,"is_accepted":false,"score":158,"last_activity_date":1473677203,"creation_date":1243885278,"answer_id":936402,"question_id":936377,"body_markdown":"Java doesn&#39;t know what `T` is until you instantiate a type.\r\n\r\nMaybe you can execute static methods by calling `Clazz&lt;T&gt;.doit(something)` but it sounds like you can&#39;t.\r\n\r\nThe other way to handle things is to put the type parameter in the method itself:\r\n\r\n    static &lt;U&gt; void doIt(U object)\r\n\r\nwhich doesn&#39;t get you the right restriction on U, but it&#39;s better than nothing....","title":"Static method in a generic class?","body":"<p>Java doesn't know what <code>T</code> is until you instantiate a type.</p>\n\n<p>Maybe you can execute static methods by calling <code>Clazz&lt;T&gt;.doit(something)</code> but it sounds like you can't.</p>\n\n<p>The other way to handle things is to put the type parameter in the method itself:</p>\n\n<pre><code>static &lt;U&gt; void doIt(U object)\n</code></pre>\n\n<p>which doesn't get you the right restriction on U, but it's better than nothing....</p>\n"},{"comments":[{"owner":{"account_id":16669,"reputation":205766,"user_id":36565,"display_name":"David Rodr&#237;guez - dribeas"},"score":4,"creation_date":1243886776,"post_id":936411,"comment_id":744608,"body_markdown":"Java generics are quite different from C++ templates. The generic class is compiled by itself. In fact the equivalent code in C++ would work (calling code would look like `Clazz&lt;int&gt;::doIt( 5 )` )","body":"Java generics are quite different from C++ templates. The generic class is compiled by itself. In fact the equivalent code in C++ would work (calling code would look like <code>Clazz&lt;int&gt;::doIt( 5 )</code> )"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1243898329,"post_id":936411,"comment_id":745357,"body_markdown":"I like this answer better than the accepted one... apart from the C++ template reference, the comment about the generic type only being for one instance of the class instead of the entire class is spot on. The accepted answer doesn&#39;t explain this, and just provides a workaround which doesn&#39;t have anything to do with why you can&#39;t use the class&#39;s generic type in a static method.","body":"I like this answer better than the accepted one... apart from the C++ template reference, the comment about the generic type only being for one instance of the class instead of the entire class is spot on. The accepted answer doesn&#39;t explain this, and just provides a workaround which doesn&#39;t have anything to do with why you can&#39;t use the class&#39;s generic type in a static method."},{"owner":{"account_id":3300828,"reputation":2503,"user_id":2777063,"accept_rate":50,"display_name":"themagicalyang"},"score":0,"creation_date":1658068937,"post_id":936411,"comment_id":128954384,"body_markdown":"@DavidRodr&#237;guez-dribeas makes valid point. The equivalent C++ code would work. I stumbled on this trying to make it work the C++ way and ofcourse it doesn&#39;t.","body":"@DavidRodr&#237;guez-dribeas makes valid point. The equivalent C++ code would work. I stumbled on this trying to make it work the C++ way and ofcourse it doesn&#39;t."}],"tags":[],"owner":{"account_id":37600,"reputation":2100,"user_id":107530,"accept_rate":69,"display_name":"Marcin Cylke"},"comment_count":3,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1243885403,"creation_date":1243885403,"answer_id":936411,"question_id":936377,"body_markdown":"When you specify a generic type for your class, JVM know about it only having an instance of your class, not definition. Each definition has only parametrized type.\r\n\r\nGenerics work like templates in C++, so you should first instantiate your class, then use the function with the type being specified.","title":"Static method in a generic class?","body":"<p>When you specify a generic type for your class, JVM know about it only having an instance of your class, not definition. Each definition has only parametrized type.</p>\n\n<p>Generics work like templates in C++, so you should first instantiate your class, then use the function with the type being specified.</p>\n"},{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":11,"creation_date":1243898448,"post_id":936951,"comment_id":745365,"body_markdown":"Upvoted, this answer actually explains the poster&#39;s problem instead of just providing a workaround.","body":"Upvoted, this answer actually explains the poster&#39;s problem instead of just providing a workaround."},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":2,"creation_date":1243973119,"post_id":936951,"comment_id":749796,"body_markdown":"I thought there would be a whole differente class for each type parameter, so Clazz&lt;Integer&gt;.doIt() wouldn&#39;t be the same method as Clazz&lt;Long&gt;.doIt(). I guess I was wrong. Really need to read something more in depth about generics.","body":"I thought there would be a whole differente class for each type parameter, so Clazz&lt;Integer&gt;.doIt() wouldn&#39;t be the same method as Clazz&lt;Long&gt;.doIt(). I guess I was wrong. Really need to read something more in depth about generics."},{"owner":{"account_id":41500,"reputation":2674,"user_id":120682,"accept_rate":82,"display_name":"jyoungdev"},"score":7,"creation_date":1290781522,"post_id":936951,"comment_id":4649439,"body_markdown":"@Andre: Your intuition is not unfounded; C# does indeed treat generics this way.","body":"@Andre: Your intuition is not unfounded; C# does indeed treat generics this way."},{"owner":{"account_id":77347,"reputation":12545,"user_id":220826,"accept_rate":65,"display_name":"BD at Rivenhill"},"score":39,"creation_date":1302719217,"post_id":936951,"comment_id":6448589,"body_markdown":"&quot;For static fields and static methods, they are shared among all instances of the class, even instances of different type parameters...&quot;  Ouch!  Kicked in the nuts by type erasure again!","body":"&quot;For static fields and static methods, they are shared among all instances of the class, even instances of different type parameters...&quot;  Ouch!  Kicked in the nuts by type erasure again!"},{"owner":{"account_id":71228,"reputation":1805,"user_id":205943,"accept_rate":65,"display_name":"Dainius"},"score":3,"creation_date":1338198346,"post_id":936951,"comment_id":14022917,"body_markdown":"if you will look how generic class/methods looks after compilation, you will see that generic attribute is removed. And List&lt;Integer&gt; after compilation looks like &quot;List&quot;. So there&#39;s no different between List&lt;Integer&gt; and List&lt;Long&gt; after compilation - both became List.","body":"if you will look how generic class/methods looks after compilation, you will see that generic attribute is removed. And List&lt;Integer&gt; after compilation looks like &quot;List&quot;. So there&#39;s no different between List&lt;Integer&gt; and List&lt;Long&gt; after compilation - both became List."},{"owner":{"account_id":1565422,"reputation":1256,"user_id":1454347,"accept_rate":50,"display_name":"astryk"},"score":3,"creation_date":1430236059,"post_id":936951,"comment_id":47969621,"body_markdown":"I think he explained what he is trying to do fairly well. It is clear he is trying to shake dat booty! hah","body":"I think he explained what he is trying to do fairly well. It is clear he is trying to shake dat booty! hah"},{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":0,"creation_date":1454936055,"post_id":936951,"comment_id":58251484,"body_markdown":"If it&#39;s actually implemented in a subclass which defines the type there should be no reason why this can&#39;t work, though. And yet, it doesn&#39;t. I really hate java generics. You can&#39;t even get the class of a generic type.","body":"If it&#39;s actually implemented in a subclass which defines the type there should be no reason why this can&#39;t work, though. And yet, it doesn&#39;t. I really hate java generics. You can&#39;t even get the class of a generic type."},{"owner":{"account_id":15547571,"reputation":409,"user_id":11216297,"display_name":"StackLloyd"},"score":0,"creation_date":1644226080,"post_id":936951,"comment_id":125539391,"body_markdown":"&quot;so obviously they cannot depend on a particular type parameter.&quot; - not obvious at all, care to explain? Why can&#39;t you use the static method throughout the world with different types, if the type is generic? What does &quot;shared&quot; even mean in this case? Why can&#39;t you pass different types in different calls to a static generic method, that&#39;s the whole purpose of generics? Why would Java &quot;remember&quot; what you called it with and prevent you from calling it again with a different type for the generic? That&#39;s the whole point.","body":"&quot;so obviously they cannot depend on a particular type parameter.&quot; - not obvious at all, care to explain? Why can&#39;t you use the static method throughout the world with different types, if the type is generic? What does &quot;shared&quot; even mean in this case? Why can&#39;t you pass different types in different calls to a static generic method, that&#39;s the whole purpose of generics? Why would Java &quot;remember&quot; what you called it with and prevent you from calling it again with a different type for the generic? That&#39;s the whole point."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1644306719,"post_id":936951,"comment_id":125564698,"body_markdown":"@StackLloyd: An instance method refers to the class&#39;s type argument because that is the type argument of the instance that the instance method is operating on. A static method does not operate on an instance, so there is obviously no &quot;type argument of the instance&quot;. Of course, a static method or instance method can also be generic on the type of some argument , but that would be a type parameter declared for that method (making the method a &quot;generic method&quot;), separate from the class instance&#39;s type parameter.","body":"@StackLloyd: An instance method refers to the class&#39;s type argument because that is the type argument of the instance that the instance method is operating on. A static method does not operate on an instance, so there is obviously no &quot;type argument of the instance&quot;. Of course, a static method or instance method can also be generic on the type of some argument , but that would be a type parameter declared for that method (making the method a &quot;generic method&quot;), separate from the class instance&#39;s type parameter."},{"owner":{"account_id":15547571,"reputation":409,"user_id":11216297,"display_name":"StackLloyd"},"score":0,"creation_date":1644312186,"post_id":936951,"comment_id":125566632,"body_markdown":"@newacct But why would the type only be valid for an instance? Why can&#39;t you call MyClass&lt;MyGeneric&gt;.myGenericStaticMethod()?","body":"@newacct But why would the type only be valid for an instance? Why can&#39;t you call MyClass&lt;MyGeneric&gt;.myGenericStaticMethod()?"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1644390668,"post_id":936951,"comment_id":125591088,"body_markdown":"@StackLloyd: But then the type parameter would be useless inside that method. For an instance method of `Clazz&lt;T&gt;`, `T` has purpose in the instance method only because `this` has type `Class&lt;T&gt;`. For a static method, there is no `this`, so the `T` would have no purpose. Wouldn&#39;t your call `MyClass&lt;MyGeneric&gt;.myGenericStaticMethod()` be identical to `MyClass&lt;SomethingElse&gt;.myGenericStaticMethod()`?","body":"@StackLloyd: But then the type parameter would be useless inside that method. For an instance method of <code>Clazz&lt;T&gt;</code>, <code>T</code> has purpose in the instance method only because <code>this</code> has type <code>Class&lt;T&gt;</code>. For a static method, there is no <code>this</code>, so the <code>T</code> would have no purpose. Wouldn&#39;t your call <code>MyClass&lt;MyGeneric&gt;.myGenericStaticMethod()</code> be identical to <code>MyClass&lt;SomethingElse&gt;.myGenericStaticMethod()</code>?"},{"owner":{"account_id":15547571,"reputation":409,"user_id":11216297,"display_name":"StackLloyd"},"score":0,"creation_date":1644510765,"post_id":936951,"comment_id":125631662,"body_markdown":"@newacct I fail to understand why would that be. How can the type be useless inside the method, if the reference is the same? Why would you even refer to [this] in a static method? And why would it be identical to a completely different type? Referring to MyClass&lt;MyGeneric&gt;.myMethod() is exactly why it shouldn&#39;t be identical to MyClass&lt;SomethingElse&gt;. I&#39;m declaring what type I want to use *in that call*, that&#39;s the purpose of generics.","body":"@newacct I fail to understand why would that be. How can the type be useless inside the method, if the reference is the same? Why would you even refer to [this] in a static method? And why would it be identical to a completely different type? Referring to MyClass&lt;MyGeneric&gt;.myMethod() is exactly why it shouldn&#39;t be identical to MyClass&lt;SomethingElse&gt;. I&#39;m declaring what type I want to use <i>in that call</i>, that&#39;s the purpose of generics."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1644551012,"post_id":936951,"comment_id":125642680,"body_markdown":"@StackLloyd: If you have a method, and you want it to be generic on some types in the parameters for example, you would declare type parameters for that method, making it a &quot;generic method&quot;. So say you have the class in the question, `Clazz&lt;T&gt;`. You can declare your method like `static &lt;U, V&gt; U myGenericStaticMethod(U foo, List&lt;U&gt; bar, Clazz&lt;V&gt; ban)`. You declare your method to work the same no matter what U and V are. T is not involved here. You can even declare type parameters for an instance method, if those are independent of the type of `this`.","body":"@StackLloyd: If you have a method, and you want it to be generic on some types in the parameters for example, you would declare type parameters for that method, making it a &quot;generic method&quot;. So say you have the class in the question, <code>Clazz&lt;T&gt;</code>. You can declare your method like <code>static &lt;U, V&gt; U myGenericStaticMethod(U foo, List&lt;U&gt; bar, Clazz&lt;V&gt; ban)</code>. You declare your method to work the same no matter what U and V are. T is not involved here. You can even declare type parameters for an instance method, if those are independent of the type of <code>this</code>."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1644551239,"post_id":936951,"comment_id":125642720,"body_markdown":"@StackLloyd: In an instance method, the only reason why `T` would be used is in relation to the type of `this` -- `this` has type `Clazz&lt;T&gt;`. So if you have parameters that must match the type argument of the type of `this`, then you would use T. For example, `&lt;U&gt; T myGenericInstanceMethod(T foo, List&lt;T&gt; bar, List&lt;U&gt; baz)`. Here, T is constrained to be the type such that `this` is type `Clazz&lt;T&gt;`, so it gives you guarantees on the relationship between the types of `foo` and `bar` and `this`, while U is still independent of T. Static methods don&#39;t have `this`, so there is no meaning for T.","body":"@StackLloyd: In an instance method, the only reason why <code>T</code> would be used is in relation to the type of <code>this</code> -- <code>this</code> has type <code>Clazz&lt;T&gt;</code>. So if you have parameters that must match the type argument of the type of <code>this</code>, then you would use T. For example, <code>&lt;U&gt; T myGenericInstanceMethod(T foo, List&lt;T&gt; bar, List&lt;U&gt; baz)</code>. Here, T is constrained to be the type such that <code>this</code> is type <code>Clazz&lt;T&gt;</code>, so it gives you guarantees on the relationship between the types of <code>foo</code> and <code>bar</code> and <code>this</code>, while U is still independent of T. Static methods don&#39;t have <code>this</code>, so there is no meaning for T."},{"owner":{"account_id":15547571,"reputation":409,"user_id":11216297,"display_name":"StackLloyd"},"score":0,"creation_date":1644847288,"post_id":936951,"comment_id":125706689,"body_markdown":"@newacct I understand that there is no way for you to use a static a method which uses T, as in Clazz&lt;T&gt;, inside it. But that&#39;s what bothers me. Why is it bound to the instance? &quot;There is no meaning for T&quot; in static methods - why would that be? Why shouldn&#39;t you be able to use T inside static methods, changing it as you please by calling Clazz&lt;Something&gt;.static() or Clazz&lt;SomethingElse&gt;.static()? I don&#39;t understand why T would have &quot;no purpose&quot; without [this].","body":"@newacct I understand that there is no way for you to use a static a method which uses T, as in Clazz&lt;T&gt;, inside it. But that&#39;s what bothers me. Why is it bound to the instance? &quot;There is no meaning for T&quot; in static methods - why would that be? Why shouldn&#39;t you be able to use T inside static methods, changing it as you please by calling Clazz&lt;Something&gt;.static() or Clazz&lt;SomethingElse&gt;.static()? I don&#39;t understand why T would have &quot;no purpose&quot; without [this]."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1645429539,"post_id":936951,"comment_id":125859932,"body_markdown":"@StackLloyd: Like I said, any method (static or instance) can declare type parameters of its own, which would be unrelated to the type variable `T`. Your method `static()` can declare its own type parameter (say `U` to avoid confusion with `T`), and you can just call it as `Clazz.static()` and the type variable would be inferred from the argument types or return type.","body":"@StackLloyd: Like I said, any method (static or instance) can declare type parameters of its own, which would be unrelated to the type variable <code>T</code>. Your method <code>static()</code> can declare its own type parameter (say <code>U</code> to avoid confusion with <code>T</code>), and you can just call it as <code>Clazz.static()</code> and the type variable would be inferred from the argument types or return type."}],"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":16,"down_vote_count":1,"up_vote_count":313,"is_accepted":true,"score":312,"last_activity_date":1243892617,"creation_date":1243892617,"answer_id":936951,"question_id":936377,"body_markdown":"You can&#39;t use a class&#39;s generic type parameters in static methods or static fields. The class&#39;s type parameters are only in scope for instance methods and instance fields. For static fields and static methods, they are shared among all instances of the class, even instances of different type parameters, so obviously they cannot depend on a particular type parameter.\r\n\r\nIt doesn&#39;t seem like your problem should require using the class&#39;s type parameter. If you describe what you are trying to do in more detail, maybe we can help you find a better way to do it.","title":"Static method in a generic class?","body":"<p>You can't use a class's generic type parameters in static methods or static fields. The class's type parameters are only in scope for instance methods and instance fields. For static fields and static methods, they are shared among all instances of the class, even instances of different type parameters, so obviously they cannot depend on a particular type parameter.</p>\n\n<p>It doesn't seem like your problem should require using the class's type parameter. If you describe what you are trying to do in more detail, maybe we can help you find a better way to do it.</p>\n"},{"comments":[{"owner":{"account_id":1341888,"reputation":1756,"user_id":1840613,"display_name":"Jeremy List"},"score":10,"creation_date":1381894190,"post_id":7890292,"comment_id":28746454,"body_markdown":"While the accepted answer was technically correct: this is this is actually what I was looking for when Google led me to this question.","body":"While the accepted answer was technically correct: this is this is actually what I was looking for when Google led me to this question."},{"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"score":0,"creation_date":1416342317,"post_id":7890292,"comment_id":42536280,"body_markdown":"Props for providing an example that includes the `T extends XXX` syntax.","body":"Props for providing an example that includes the <code>T extends XXX</code> syntax."},{"owner":{"account_id":1425373,"reputation":261,"user_id":1349048,"accept_rate":25,"display_name":"easoncxz"},"score":3,"creation_date":1436533504,"post_id":7890292,"comment_id":50667066,"body_markdown":"@Chris Since you&#39;re using generics anyway, you might as well use them all the way --- namely not to use raw types like `Comparable`. Try `&lt;T extends Comparable&lt;? super T&gt;&gt;` instead.","body":"@Chris Since you&#39;re using generics anyway, you might as well use them all the way --- namely not to use raw types like <code>Comparable</code>. Try <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code> instead."}],"tags":[],"owner":{"account_id":997173,"reputation":551,"user_id":1012834,"display_name":"Chris"},"comment_count":3,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1530754512,"creation_date":1319550600,"answer_id":7890292,"question_id":936377,"body_markdown":"I ran into this same problem.  I found my answer by downloading the source code for `Collections.sort` in the java framework.  The answer I used was to put the `&lt;T&gt;` generic in the method, not in the class definition.\r\n\r\nSo this worked:\r\n\r\n    public class QuickSortArray  {\r\n    \tpublic static &lt;T extends Comparable&gt; void quickSort(T[] array, int bottom, int top){\r\n    //do it\r\n    }\r\n    \r\n    }\r\n\r\nOf course, after reading the answers above I realized that this would be an acceptable alternative without using a generic class:\r\n\r\n    public static void quickSort(Comparable[] array, int bottom, int top){\r\n    //do it\r\n    }\r\n\r\n","title":"Static method in a generic class?","body":"<p>I ran into this same problem.  I found my answer by downloading the source code for <code>Collections.sort</code> in the java framework.  The answer I used was to put the <code>&lt;T&gt;</code> generic in the method, not in the class definition.</p>\n\n<p>So this worked:</p>\n\n<pre><code>public class QuickSortArray  {\n    public static &lt;T extends Comparable&gt; void quickSort(T[] array, int bottom, int top){\n//do it\n}\n\n}\n</code></pre>\n\n<p>Of course, after reading the answers above I realized that this would be an acceptable alternative without using a generic class:</p>\n\n<pre><code>public static void quickSort(Comparable[] array, int bottom, int top){\n//do it\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1336643417,"post_id":10529198,"comment_id":13622663,"body_markdown":"Exactly as Jason S suggested.","body":"Exactly as Jason S suggested."},{"owner":{"account_id":396682,"reputation":1082,"user_id":760373,"accept_rate":83,"display_name":"ekj"},"score":0,"creation_date":1337854063,"post_id":10529198,"comment_id":13946436,"body_markdown":"@Andre the previous suggestion did not provide the restriction that U must extend Clazz","body":"@Andre the previous suggestion did not provide the restriction that U must extend Clazz"},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1337875626,"post_id":10529198,"comment_id":13955853,"body_markdown":"I see, but it doesn&#39;t add anything useful except for the constraint. In my original post, I would like to be able to do this without passing U as a parameter.","body":"I see, but it doesn&#39;t add anything useful except for the constraint. In my original post, I would like to be able to do this without passing U as a parameter."},{"owner":{"account_id":396682,"reputation":1082,"user_id":760373,"accept_rate":83,"display_name":"ekj"},"score":0,"creation_date":1339149408,"post_id":10529198,"comment_id":14285597,"body_markdown":"@Andre See my update above. The generic type is only defined in the method definition, and does not have to be passed when calling the method","body":"@Andre See my update above. The generic type is only defined in the method definition, and does not have to be passed when calling the method"},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1339163848,"post_id":10529198,"comment_id":14291654,"body_markdown":"@ekj Thank you, I understand now. Sorry, I posed this question three years ago, when I was doing Java daily. I got your idea, even though I think you do understand that this is not exactly what I intended originally. However, I liked your answer.","body":"@ekj Thank you, I understand now. Sorry, I posed this question three years ago, when I was doing Java daily. I got your idea, even though I think you do understand that this is not exactly what I intended originally. However, I liked your answer."}],"tags":[],"owner":{"account_id":396682,"reputation":1082,"user_id":760373,"accept_rate":83,"display_name":"ekj"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339149282,"creation_date":1336634467,"answer_id":10529198,"question_id":936377,"body_markdown":"Something like the following would get you closer\r\n\r\n    class Clazz\r\n    {\r\n       public static &lt;U extends Clazz&gt; void doIt(U thing)\r\n       {\r\n       }\r\n    }\r\n\r\nEDIT: Updated example with more detail\r\n\r\n\r\n\r\n    public abstract class Thingo \r\n    {\r\n    \t\r\n    \tpublic static &lt;U extends Thingo&gt; void doIt(U p_thingo)\r\n    \t{\r\n    \t\tp_thingo.thing();\r\n    \t}\r\n    \t\r\n    \tprotected abstract void thing();\r\n    \r\n    }\r\n    \r\n    class SubThingoOne extends Thingo\r\n    {\r\n    \t@Override\r\n    \tprotected void thing() \r\n    \t{\r\n    \t\tSystem.out.println(&quot;SubThingoOne&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class SubThingoTwo extends Thingo\r\n    {\r\n    \r\n    \t@Override\r\n    \tprotected void thing() \r\n    \t{\r\n    \t\tSystem.out.println(&quot;SuThingoTwo&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class ThingoTest \r\n    {\r\n    \r\n    \t@Test\r\n    \tpublic void test() \r\n    \t{\r\n    \t\tThingo t1 = new SubThingoOne();\r\n    \t\tThingo t2 = new SubThingoTwo();\r\n    \t\t\r\n    \t\tThingo.doIt(t1);\r\n    \t\tThingo.doIt(t2);\r\n    \t\t\r\n    \t\t// compile error --&gt;  Thingo.doIt(new Object());\r\n    \t}\r\n    }","title":"Static method in a generic class?","body":"<p>Something like the following would get you closer</p>\n\n<pre><code>class Clazz\n{\n   public static &lt;U extends Clazz&gt; void doIt(U thing)\n   {\n   }\n}\n</code></pre>\n\n<p>EDIT: Updated example with more detail</p>\n\n<pre><code>public abstract class Thingo \n{\n\n    public static &lt;U extends Thingo&gt; void doIt(U p_thingo)\n    {\n        p_thingo.thing();\n    }\n\n    protected abstract void thing();\n\n}\n\nclass SubThingoOne extends Thingo\n{\n    @Override\n    protected void thing() \n    {\n        System.out.println(\"SubThingoOne\");\n    }\n}\n\nclass SubThingoTwo extends Thingo\n{\n\n    @Override\n    protected void thing() \n    {\n        System.out.println(\"SuThingoTwo\");\n    }\n\n}\n\npublic class ThingoTest \n{\n\n    @Test\n    public void test() \n    {\n        Thingo t1 = new SubThingoOne();\n        Thingo t2 = new SubThingoTwo();\n\n        Thingo.doIt(t1);\n        Thingo.doIt(t2);\n\n        // compile error --&gt;  Thingo.doIt(new Object());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1336985248,"post_id":10570667,"comment_id":13700092,"body_markdown":"In this case, does the second &lt;T&gt; hide the first one?","body":"In this case, does the second &lt;T&gt; hide the first one?"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":1,"creation_date":1337871524,"post_id":10570667,"comment_id":13954084,"body_markdown":"@Andr&#233;Neves, Yes.  The second `&lt;T&gt;` masks the first one in the same way that in `class C { int x; C(int x) { ... } }` the parameter `x` masks the field `x`.","body":"@Andr&#233;Neves, Yes.  The second <code>&lt;T&gt;</code> masks the first one in the same way that in <code>class C { int x; C(int x) { ... } }</code> the parameter <code>x</code> masks the field <code>x</code>."},{"owner":{"account_id":48992,"reputation":13236,"user_id":145757,"accept_rate":69,"display_name":"Pragmateek"},"score":0,"creation_date":1356806218,"post_id":10570667,"comment_id":19476960,"body_markdown":"How to explain the output of the sample : it seems that there is indeed two types involved, one by parameter T value? If T was really hiding the class type I would expect &quot;shake that booty &#39;class com.eclipseoptions.datamanager.Clazz&quot; outputted twice without parameters.","body":"How to explain the output of the sample : it seems that there is indeed two types involved, one by parameter T value? If T was really hiding the class type I would expect &quot;shake that booty &#39;class com.eclipseoptions.datamanager.Clazz&quot; outputted twice without parameters."},{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":1,"creation_date":1376046502,"post_id":10570667,"comment_id":26575439,"body_markdown":"It has nothing to do with masking. A static method simply can&#39;t be bound by **the classes generic type**. Nevertheless it can define its own generic types and boundaries.","body":"It has nothing to do with masking. A static method simply can&#39;t be bound by <b>the classes generic type</b>. Nevertheless it can define its own generic types and boundaries."}],"tags":[],"owner":{"account_id":77347,"reputation":12545,"user_id":220826,"accept_rate":65,"display_name":"BD at Rivenhill"},"comment_count":4,"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1363723142,"creation_date":1336901144,"answer_id":10570667,"question_id":936377,"body_markdown":"It is possible to do what you want by using the syntax for generic methods when declaring your `doIt()` method (notice the addition of `&lt;T&gt;` between `static` and `void` in the method signature of `doIt()`):\r\n\r\n    class Clazz&lt;T&gt; {\r\n      static &lt;T&gt; void doIt(T object) {\r\n        // shake that booty\r\n      }\r\n    }\r\nI got Eclipse editor to accept the above code without the `Cannot make a static reference to the non-static type T` error and then expanded it to the following working program (complete with somewhat age-appropriate cultural reference):\r\n\r\n    public class Clazz&lt;T&gt; {\r\n      static &lt;T&gt; void doIt(T object) {\r\n        System.out.println(&quot;shake that booty &#39;&quot; + object.getClass().toString()\r\n                           + &quot;&#39; !!!&quot;);\r\n      }\r\n\r\n      private static class KC {\r\n      }\r\n\r\n      private static class SunshineBand {\r\n      }\r\n\r\n      public static void main(String args[]) {\r\n        KC kc = new KC();\r\n        SunshineBand sunshineBand = new SunshineBand();\r\n        Clazz.doIt(kc);\r\n        Clazz.doIt(sunshineBand);\r\n      }\r\n    }\r\nWhich prints these lines to the console when I run it:\r\n\r\n&gt; shake that booty &#39;class com.eclipseoptions.datamanager.Clazz$KC&#39; !!!&lt;br&gt;\r\n&gt; shake that booty &#39;class com.eclipseoptions.datamanager.Clazz$SunshineBand&#39; !!!\r\n\r\n","title":"Static method in a generic class?","body":"<p>It is possible to do what you want by using the syntax for generic methods when declaring your <code>doIt()</code> method (notice the addition of <code>&lt;T&gt;</code> between <code>static</code> and <code>void</code> in the method signature of <code>doIt()</code>):</p>\n\n<pre><code>class Clazz&lt;T&gt; {\n  static &lt;T&gt; void doIt(T object) {\n    // shake that booty\n  }\n}\n</code></pre>\n\n<p>I got Eclipse editor to accept the above code without the <code>Cannot make a static reference to the non-static type T</code> error and then expanded it to the following working program (complete with somewhat age-appropriate cultural reference):</p>\n\n<pre><code>public class Clazz&lt;T&gt; {\n  static &lt;T&gt; void doIt(T object) {\n    System.out.println(\"shake that booty '\" + object.getClass().toString()\n                       + \"' !!!\");\n  }\n\n  private static class KC {\n  }\n\n  private static class SunshineBand {\n  }\n\n  public static void main(String args[]) {\n    KC kc = new KC();\n    SunshineBand sunshineBand = new SunshineBand();\n    Clazz.doIt(kc);\n    Clazz.doIt(sunshineBand);\n  }\n}\n</code></pre>\n\n<p>Which prints these lines to the console when I run it:</p>\n\n<blockquote>\n  <p>shake that booty 'class com.eclipseoptions.datamanager.Clazz$KC' !!!<br>\n  shake that booty 'class com.eclipseoptions.datamanager.Clazz$SunshineBand' !!!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1445595191,"creation_date":1445595191,"answer_id":33299907,"question_id":936377,"body_markdown":"It is correctly mentioned in the error: you cannot make a static reference to non-static type T. The reason is the type parameter `T` can be replaced by any of the type argument e.g. `Clazz&lt;String&gt;` or `Clazz&lt;integer&gt;` etc. But static fields/methods are shared by all non-static objects of the class. \r\n\r\nThe following excerpt is taken from the [doc][1]:\r\n \r\n\r\n&gt;    A class&#39;s static field is a class-level variable shared by all\r\n&gt; non-static objects of the class. Hence, static fields of type\r\n&gt; parameters are not allowed. Consider the following class:\r\n&gt;     \r\n&gt;     public class MobileDevice&lt;T&gt; {\r\n&gt;         private static T os;\r\n&gt;     \r\n&gt;         // ...\r\n&gt;     }\r\n&gt;    \r\nIf static fields of type parameters were allowed, then the following code would be confused:\r\n&gt;     \r\n&gt;     MobileDevice&lt;Smartphone&gt; phone = new MobileDevice&lt;&gt;();\r\n&gt;     MobileDevice&lt;Pager&gt; pager = new MobileDevice&lt;&gt;();\r\n&gt;     MobileDevice&lt;TabletPC&gt; pc = new MobileDevice&lt;&gt;();\r\n&gt;     \r\nBecause the static field os is shared by phone, pager, and pc, what is the actual type of os? It cannot be Smartphone, Pager, and\r\n&gt; TabletPC at the same time. You cannot, therefore, create static fields\r\n&gt; of type parameters.\r\n\r\nAs rightly pointed out by chris in his [answer][2] you need to use type parameter with the method and not with the class in this case. You can write it like:\r\n\r\n    static &lt;E&gt; void doIt(E object) \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\r\n  [2]: https://stackoverflow.com/a/7890292","title":"Static method in a generic class?","body":"<p>It is correctly mentioned in the error: you cannot make a static reference to non-static type T. The reason is the type parameter <code>T</code> can be replaced by any of the type argument e.g. <code>Clazz&lt;String&gt;</code> or <code>Clazz&lt;integer&gt;</code> etc. But static fields/methods are shared by all non-static objects of the class. </p>\n\n<p>The following excerpt is taken from the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"noreferrer\">doc</a>:</p>\n\n<blockquote>\n  <p>A class's static field is a class-level variable shared by all\n  non-static objects of the class. Hence, static fields of type\n  parameters are not allowed. Consider the following class:</p>\n\n<pre><code>public class MobileDevice&lt;T&gt; {\n    private static T os;\n\n    // ...\n}\n</code></pre>\n  \n  <p>If static fields of type parameters were allowed, then the following code would be confused:</p>\n\n<pre><code>MobileDevice&lt;Smartphone&gt; phone = new MobileDevice&lt;&gt;();\nMobileDevice&lt;Pager&gt; pager = new MobileDevice&lt;&gt;();\nMobileDevice&lt;TabletPC&gt; pc = new MobileDevice&lt;&gt;();\n</code></pre>\n  \n  <p>Because the static field os is shared by phone, pager, and pc, what is the actual type of os? It cannot be Smartphone, Pager, and\n  TabletPC at the same time. You cannot, therefore, create static fields\n  of type parameters.</p>\n</blockquote>\n\n<p>As rightly pointed out by chris in his <a href=\"https://stackoverflow.com/a/7890292\">answer</a> you need to use type parameter with the method and not with the class in this case. You can write it like:</p>\n\n<pre><code>static &lt;E&gt; void doIt(E object) \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6803779,"reputation":711,"user_id":5236247,"accept_rate":100,"display_name":"Adowrath"},"score":1,"creation_date":1488992401,"post_id":36794695,"comment_id":72479291,"body_markdown":"Actually (I don&#39;t know the Java version), this is possible even without the `&lt;String&gt;` because it simply infers the type argument because you assign it to a variable. If you don&#39;t assign it, it simply infers `Object`.","body":"Actually (I don&#39;t know the Java version), this is possible even without the <code>&lt;String&gt;</code> because it simply infers the type argument because you assign it to a variable. If you don&#39;t assign it, it simply infers <code>Object</code>."},{"owner":{"account_id":938058,"reputation":400,"user_id":966625,"display_name":"Prabhat Ranjan"},"score":0,"creation_date":1565599294,"post_id":36794695,"comment_id":101389540,"body_markdown":"This is a perfect solution.","body":"This is a perfect solution."}],"tags":[],"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1692754774,"creation_date":1461330331,"answer_id":36794695,"question_id":936377,"body_markdown":"I think this syntax has not been mentioned yet (in case you want a method without arguments):\r\n\r\n    class Clazz {\r\n      static &lt;T&gt; T doIt() {\r\n        // shake that booty\r\n      }\r\n    }\r\n\r\nAnd the call:\r\n\r\n    String str = Clazz.&lt;String&gt;doIt();\r\n","title":"Static method in a generic class?","body":"<p>I think this syntax has not been mentioned yet (in case you want a method without arguments):</p>\n<pre><code>class Clazz {\n  static &lt;T&gt; T doIt() {\n    // shake that booty\n  }\n}\n</code></pre>\n<p>And the call:</p>\n<pre><code>String str = Clazz.&lt;String&gt;doIt();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6288471"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462327241,"creation_date":1462327241,"answer_id":37017195,"question_id":936377,"body_markdown":"Also to put it in simple terms, it happens because of the &quot;Erasure&quot; property of the generics.Which means that although we define `ArrayList&lt;Integer&gt;` and `ArrayList&lt;String&gt;` , at the compile time it stays as two different concrete types but at the runtime the JVM erases generic types and creates only one ArrayList class instead of two classes. So when we define a static type method or anything for a generic, it is shared by all instances of that generic, in my example it is shared by both `ArrayList&lt;Integer&gt;` and `ArrayList&lt;String&gt;` .That&#39;s why you get the error.A Generic Type Parameter of a Class Is Not Allowed in a Static Context! ","title":"Static method in a generic class?","body":"<p>Also to put it in simple terms, it happens because of the \"Erasure\" property of the generics.Which means that although we define <code>ArrayList&lt;Integer&gt;</code> and <code>ArrayList&lt;String&gt;</code> , at the compile time it stays as two different concrete types but at the runtime the JVM erases generic types and creates only one ArrayList class instead of two classes. So when we define a static type method or anything for a generic, it is shared by all instances of that generic, in my example it is shared by both <code>ArrayList&lt;Integer&gt;</code> and <code>ArrayList&lt;String&gt;</code> .That's why you get the error.A Generic Type Parameter of a Class Is Not Allowed in a Static Context! </p>\n"},{"tags":[],"owner":{"account_id":11893412,"reputation":46,"user_id":8703562,"display_name":"Hubert Kauker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507824397,"creation_date":1507824397,"answer_id":46714215,"question_id":936377,"body_markdown":"@BD at Rivenhill: Since this old question has gotten renewed attention last year, let us go on a bit, just for the sake of discussion.\r\nThe body of your &lt;code&gt;doIt&lt;/code&gt; method does not do anything &lt;code&gt;T&lt;/code&gt;-specific at all. Here it is:\r\n\r\n    public class Clazz&lt;T&gt; {\r\n      static &lt;T&gt; void doIt(T object) {\r\n        System.out.println(&quot;shake that booty &#39;&quot; + object.getClass().toString()\r\n                           + &quot;&#39; !!!&quot;);\r\n      }\r\n    // ...\r\n    }\r\n\r\nSo you can entirely drop all type variables and just code\r\n\r\n    public class Clazz {\r\n      static void doIt(Object object) {\r\n        System.out.println(&quot;shake that booty &#39;&quot; + object.getClass().toString()\r\n                           + &quot;&#39; !!!&quot;);\r\n      }\r\n    // ...\r\n    }\r\n\r\nOk. But let&#39;s get back closer to the original problem. The first type variable on the class declaration is redundant. Only the second one on the method is needed. Here we go again, but it is not the final answer, yet:                                                      \r\n\r\n    public class Clazz  {\r\n      static &lt;T extends Saying&gt; void doIt(T object) {\r\n        System.out.println(&quot;shake that booty &quot;+ object.say());\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        Clazz.doIt(new KC());\r\n        Clazz.doIt(new SunshineBand());\r\n      }\r\n    }\r\n    // Output:\r\n    // KC\r\n    // Sunshine\r\n    \r\n    interface Saying {\r\n    \t  public String say();\r\n    }\r\n    \r\n    class KC implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;KC&quot;;\r\n    \t  }\r\n    }\r\n    \r\n    class SunshineBand implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;Sunshine&quot;;\r\n    \t  }\r\n    }\r\n\r\nHowever, it&#39;s all too much fuss about nothing, since the following version works just the same way. All it needs is the interface type on the method parameter. No type variables in sight anywhere. Was that really the original problem?\r\n\r\n    public class Clazz  {\r\n      static void doIt(Saying object) {\r\n        System.out.println(&quot;shake that booty &quot;+ object.say());\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        Clazz.doIt(new KC());\r\n        Clazz.doIt(new SunshineBand());\r\n      }\r\n    }\r\n    \r\n    interface Saying {\r\n    \t  public String say();\r\n    }\r\n    \r\n    class KC implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;KC&quot;;\r\n    \t  }\r\n    }\r\n    \r\n    class SunshineBand implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;Sunshine&quot;;\r\n    \t  }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Static method in a generic class?","body":"<p>@BD at Rivenhill: Since this old question has gotten renewed attention last year, let us go on a bit, just for the sake of discussion.\nThe body of your <code>doIt</code> method does not do anything <code>T</code>-specific at all. Here it is:</p>\n\n<pre><code>public class Clazz&lt;T&gt; {\n  static &lt;T&gt; void doIt(T object) {\n    System.out.println(\"shake that booty '\" + object.getClass().toString()\n                       + \"' !!!\");\n  }\n// ...\n}\n</code></pre>\n\n<p>So you can entirely drop all type variables and just code</p>\n\n<pre><code>public class Clazz {\n  static void doIt(Object object) {\n    System.out.println(\"shake that booty '\" + object.getClass().toString()\n                       + \"' !!!\");\n  }\n// ...\n}\n</code></pre>\n\n<p>Ok. But let's get back closer to the original problem. The first type variable on the class declaration is redundant. Only the second one on the method is needed. Here we go again, but it is not the final answer, yet:                                                      </p>\n\n<pre><code>public class Clazz  {\n  static &lt;T extends Saying&gt; void doIt(T object) {\n    System.out.println(\"shake that booty \"+ object.say());\n  }\n\n  public static void main(String args[]) {\n    Clazz.doIt(new KC());\n    Clazz.doIt(new SunshineBand());\n  }\n}\n// Output:\n// KC\n// Sunshine\n\ninterface Saying {\n      public String say();\n}\n\nclass KC implements Saying {\n      public String say() {\n          return \"KC\";\n      }\n}\n\nclass SunshineBand implements Saying {\n      public String say() {\n          return \"Sunshine\";\n      }\n}\n</code></pre>\n\n<p>However, it's all too much fuss about nothing, since the following version works just the same way. All it needs is the interface type on the method parameter. No type variables in sight anywhere. Was that really the original problem?</p>\n\n<pre><code>public class Clazz  {\n  static void doIt(Saying object) {\n    System.out.println(\"shake that booty \"+ object.say());\n  }\n\n  public static void main(String args[]) {\n    Clazz.doIt(new KC());\n    Clazz.doIt(new SunshineBand());\n  }\n}\n\ninterface Saying {\n      public String say();\n}\n\nclass KC implements Saying {\n      public String say() {\n          return \"KC\";\n      }\n}\n\nclass SunshineBand implements Saying {\n      public String say() {\n          return \"Sunshine\";\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531735155,"creation_date":1531735155,"answer_id":51359178,"question_id":936377,"body_markdown":"Since static variables are shared by all instances of the class. For example if you are having following code\r\n\r\n    class Class&lt;T&gt; {\r\n      static void doIt(T object) {\r\n        // using T here \r\n      }\r\n    }\r\n\r\nT is available only after an instance is created. But static methods can be used even before instances are available. So, Generic type parameters cannot be referenced inside static methods and variables","title":"Static method in a generic class?","body":"<p>Since static variables are shared by all instances of the class. For example if you are having following code</p>\n\n<pre><code>class Class&lt;T&gt; {\n  static void doIt(T object) {\n    // using T here \n  }\n}\n</code></pre>\n\n<p>T is available only after an instance is created. But static methods can be used even before instances are available. So, Generic type parameters cannot be referenced inside static methods and variables</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639696536,"creation_date":1639696536,"answer_id":70386690,"question_id":936377,"body_markdown":"T is not in the scope of the static methods and so you can&#39;t use T in the static method.  You would need to define a different type parameter for the static method.  I would write it like this:\r\n```\r\nclass Clazz&lt;T&gt; {\r\n\r\n  static &lt;U&gt; void doIt(U object) {\r\n    // ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nFor example:\r\n\r\n```\r\npublic class Tuple&lt;T&gt; {\r\n\r\n    private T[] elements;\r\n\r\n    public static &lt;E&gt; Tuple&lt;E&gt; of(E ...args){\r\n        if (args.length == 0) \r\n             return new Tuple&lt;E&gt;();\r\n        return new Tuple&lt;E&gt;(args);\r\n    }\r\n\r\n    //other methods\r\n}\r\n","title":"Static method in a generic class?","body":"<p>T is not in the scope of the static methods and so you can't use T in the static method.  You would need to define a different type parameter for the static method.  I would write it like this:</p>\n<pre><code>class Clazz&lt;T&gt; {\n\n  static &lt;U&gt; void doIt(U object) {\n    // ...\n  }\n\n}\n</code></pre>\n<p>For example:</p>\n<pre><code>public class Tuple&lt;T&gt; {\n\n    private T[] elements;\n\n    public static &lt;E&gt; Tuple&lt;E&gt; of(E ...args){\n        if (args.length == 0) \n             return new Tuple&lt;E&gt;();\n        return new Tuple&lt;E&gt;(args);\n    }\n\n    //other methods\n}\n</code></pre>\n"}],"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207915,"favorite_count":0,"down_vote_count":1,"up_vote_count":220,"accepted_answer_id":936951,"answer_count":12,"score":219,"last_activity_date":1692754774,"creation_date":1243884934,"question_id":936377,"body_markdown":"In Java, I&#39;d like to have something as:\r\n\r\n    class Clazz&lt;T&gt; {\r\n      static void doIt(T object) {\r\n        // ...\r\n      }\r\n    }\r\n\r\nBut I get\r\n\r\n&lt;pre&gt;Cannot make a static reference to the non-static type T&lt;/pre&gt;\r\n\r\nI don&#39;t understand generics beyond the basic uses and thus can&#39;t make much sense of that. It doesn&#39;t help that I wasn&#39;t able to find much info on the internet about the subject.\r\n\r\nCould someone clarify if such use is possible, by a similar manner? Also, why was my original attempt unsuccessful?","title":"Static method in a generic class?","body":"<p>In Java, I'd like to have something as:</p>\n\n<pre><code>class Clazz&lt;T&gt; {\n  static void doIt(T object) {\n    // ...\n  }\n}\n</code></pre>\n\n<p>But I get</p>\n\n<pre>Cannot make a static reference to the non-static type T</pre>\n\n<p>I don't understand generics beyond the basic uses and thus can't make much sense of that. It doesn't help that I wasn't able to find much info on the internet about the subject.</p>\n\n<p>Could someone clarify if such use is possible, by a similar manner? Also, why was my original attempt unsuccessful?</p>\n"},{"tags":["java","code-organization"],"comments":[{"owner":{"display_name":"anon"},"score":9,"creation_date":1251038112,"post_id":1318712,"comment_id":1151734,"body_markdown":"IMHO, probably the worst design decision in the history of computing was for Java to force the file to class mapping.","body":"IMHO, probably the worst design decision in the history of computing was for Java to force the file to class mapping."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":10,"creation_date":1251038467,"post_id":1318712,"comment_id":1151746,"body_markdown":"@Neil - That&#39;s a bit harsh. Have you used Lotus Notes?","body":"@Neil - That&#39;s a bit harsh. Have you used Lotus Notes?"},{"owner":{"account_id":50129,"reputation":3525,"user_id":149406,"accept_rate":79,"display_name":"Andr&#233; Hoffmann"},"score":1,"creation_date":1251038846,"post_id":1318712,"comment_id":1151756,"body_markdown":"@oxbow_lakes: You made me curious..What has this to do with Lotus Notes?","body":"@oxbow_lakes: You made me curious..What has this to do with Lotus Notes?"},{"owner":{"account_id":26897,"reputation":340700,"user_id":70393,"accept_rate":86,"display_name":"karim79"},"score":0,"creation_date":1251038853,"post_id":1318712,"comment_id":1151757,"body_markdown":"Dupe: http://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class","body":"Dupe: <a href=\"http://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class\" title=\"can a java file have more than one class\">stackoverflow.com/questions/968347/&hellip;</a>"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251038862,"post_id":1318712,"comment_id":1151758,"body_markdown":"@oxbow As it happens, yes. I&#39;ve also programmed it and ccMail, and while neither would ever be my favourite tools, I found them to have a suprisingly well designed API, if iI remember correctly (it was a while back)","body":"@oxbow As it happens, yes. I&#39;ve also programmed it and ccMail, and while neither would ever be my favourite tools, I found them to have a suprisingly well designed API, if iI remember correctly (it was a while back)"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":5,"creation_date":1251039425,"post_id":1318712,"comment_id":1151788,"body_markdown":"@Andre - well, when I hear the phrase *&quot;Worst design decision in the history of computing&quot;*, Lotus Notes just springs to mind.","body":"@Andre - well, when I hear the phrase <i>&quot;Worst design decision in the history of computing&quot;</i>, Lotus Notes just springs to mind."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251039468,"post_id":1318712,"comment_id":1151792,"body_markdown":"@sandbox I agree this is not a dupe, and I think this is an interesting question, though one that can&#39;t really be answered except by Mr Gosling. It should probably therefore be CW.","body":"@sandbox I agree this is not a dupe, and I think this is an interesting question, though one that can&#39;t really be answered except by Mr Gosling. It should probably therefore be CW."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1251039911,"post_id":1318712,"comment_id":1151818,"body_markdown":"Even in C# it&#39;s usually considered a bad idea to have more than one top-level type in a file, unless they&#39;re delegates.","body":"Even in C# it&#39;s usually considered a bad idea to have more than one top-level type in a file, unless they&#39;re delegates."},{"owner":{"account_id":52521,"reputation":7976,"user_id":156982,"accept_rate":58,"display_name":"Sandbox"},"score":0,"creation_date":1251040074,"post_id":1318712,"comment_id":1151827,"body_markdown":"@jon how about classes derived from EventArgs? If only one particular class is using it to send as args then why not have it in same file?","body":"@jon how about classes derived from EventArgs? If only one particular class is using it to send as args then why not have it in same file?"},{"owner":{"display_name":"anon"},"score":5,"creation_date":1251040328,"post_id":1318712,"comment_id":1151843,"body_markdown":"@Jon Skeet I can&#39;t speak for C#, but in C++ there is no such opinion. Multiple related classes in the same file make a lot of sense.","body":"@Jon Skeet I can&#39;t speak for C#, but in C++ there is no such opinion. Multiple related classes in the same file make a lot of sense."},{"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"score":0,"creation_date":1251043908,"post_id":1318712,"comment_id":1151983,"body_markdown":"@Neil: I couldn&#39;t disagree more, and my view is the reason my C++ code builds faster than others. Not. Even. Close.","body":"@Neil: I couldn&#39;t disagree more, and my view is the reason my C++ code builds faster than others. Not. Even. Close."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251044979,"post_id":1318712,"comment_id":1152035,"body_markdown":"@280Z28 So #including more files speeds up your build process? Interesting.","body":"@280Z28 So #including more files speeds up your build process? Interesting."},{"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"score":1,"creation_date":1251046055,"post_id":1318712,"comment_id":1152089,"body_markdown":"@Neil: No, including fewer files speeds up the build process. The idea is never introduce a semantic dependency chain that is unnecessary for compiling code element *X*. I found this can be accomplished with maximum impact at a per-class granularity. It also allows you to keep the GCC PCH size under 70mb on large projects, as you go past that you take a rather remarkable performance hit compared to its &quot;sweet spot&quot; (though this is far from the only place it impacts).","body":"@Neil: No, including fewer files speeds up the build process. The idea is never introduce a semantic dependency chain that is unnecessary for compiling code element <i>X</i>. I found this can be accomplished with maximum impact at a per-class granularity. It also allows you to keep the GCC PCH size under 70mb on large projects, as you go past that you take a rather remarkable performance hit compared to its &quot;sweet spot&quot; (though this is far from the only place it impacts)."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251046353,"post_id":1318712,"comment_id":1152102,"body_markdown":"@280Z28 I don&#39;t see how your second comment backs up the first. But SO comments are not the ideal form for discussions like these - perhaps you could expand your ideas in a community wiki question?","body":"@280Z28 I don&#39;t see how your second comment backs up the first. But SO comments are not the ideal form for discussions like these - perhaps you could expand your ideas in a community wiki question?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1256106125,"post_id":1318712,"comment_id":1463850,"body_markdown":"@Neil, ibitially I found this annoying, but after using Java a_lot_ I found that this convention helps a lot when working with other People&#39;s code!  You have a lot less of Gjessing to d&#243; which is really Nice!","body":"@Neil, ibitially I found this annoying, but after using Java a_lot_ I found that this convention helps a lot when working with other People&#39;s code!  You have a lot less of Gjessing to d&#243; which is really Nice!"}],"answers":[{"comments":[{"owner":{"display_name":"anon"},"score":4,"creation_date":1251038327,"post_id":1318717,"comment_id":1151740,"body_markdown":"IDEs have been around since the mid 80s (at least) - ever heard of Turbo Pascal?","body":"IDEs have been around since the mid 80s (at least) - ever heard of Turbo Pascal?"},{"owner":{"account_id":52521,"reputation":7976,"user_id":156982,"accept_rate":58,"display_name":"Sandbox"},"score":0,"creation_date":1251038559,"post_id":1318717,"comment_id":1151749,"body_markdown":"IF the decision to put each public class in a file was JUST for &#39;easy to find (by a human)..&#39; a newbie like me can say it wasn&#39;t a correct decision","body":"IF the decision to put each public class in a file was JUST for &#39;easy to find (by a human)..&#39; a newbie like me can say it wasn&#39;t a correct decision"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1251038625,"post_id":1318717,"comment_id":1151752,"body_markdown":"Yes - I know; I started using Smalltalk which has been around for a *long* time and comes with an IDE by design. But Java was created to be more like C/C++ (for better or worse) and I think my point still stands","body":"Yes - I know; I started using Smalltalk which has been around for a <i>long</i> time and comes with an IDE by design. But Java was created to be more like C/C++ (for better or worse) and I think my point still stands"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251039199,"post_id":1318717,"comment_id":1151777,"body_markdown":"@oxbow Neither C nor C++ has any mapping between file name and class. And IDEs have been available for both for years - I remember using the DeSmet C IDE in the mid 80s","body":"@oxbow Neither C nor C++ has any mapping between file name and class. And IDEs have been available for both for years - I remember using the DeSmet C IDE in the mid 80s"},{"owner":{"account_id":23460,"reputation":176846,"user_id":58808,"accept_rate":78,"display_name":"Ionu G. Stan"},"score":0,"creation_date":1251039343,"post_id":1318717,"comment_id":1151785,"body_markdown":"Java? Simplicity in mind for the developer? It doesn&#39;t look like that to me.","body":"Java? Simplicity in mind for the developer? It doesn&#39;t look like that to me."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1251039582,"post_id":1318717,"comment_id":1151799,"body_markdown":"@Neil - sorry, I didn&#39;t put that very well. I wasn&#39;t implying that C or C++ had one class/file. I was implying that they didn&#39;t have extensive IDEs at that time. I may be wrong about this but the early Java IDEs (JBuilder for example) had appalling code navigation. I for one am glad that they chose a single public class per file.","body":"@Neil - sorry, I didn&#39;t put that very well. I wasn&#39;t implying that C or C++ had one class/file. I was implying that they didn&#39;t have extensive IDEs at that time. I may be wrong about this but the early Java IDEs (JBuilder for example) had appalling code navigation. I for one am glad that they chose a single public class per file."},{"owner":{"account_id":52521,"reputation":7976,"user_id":156982,"accept_rate":58,"display_name":"Sandbox"},"score":2,"creation_date":1251039878,"post_id":1318717,"comment_id":1151816,"body_markdown":"@oxbow_lakes Look at http://stackoverflow.com/questions/1318712/why-is-each-public-class-in-a-separate-file/1318752#1318752. Looks like it was for easier to find for compiler and not for human","body":"@oxbow_lakes Look at <a href=\"http://stackoverflow.com/questions/1318712/why-is-each-public-class-in-a-separate-file/1318752#1318752\" title=\"why is each public class in a separate file\">stackoverflow.com/questions/1318712/&hellip;</a>. Looks like it was for easier to find for compiler and not for human"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1251040781,"post_id":1318717,"comment_id":1151861,"body_markdown":"@Sandbox. Very interesting, though I&#39;m not sure about your implication that decisions made solely for the benefit of humans are not made on a good basis.","body":"@Sandbox. Very interesting, though I&#39;m not sure about your implication that decisions made solely for the benefit of humans are not made on a good basis."},{"owner":{"account_id":52521,"reputation":7976,"user_id":156982,"accept_rate":58,"display_name":"Sandbox"},"score":0,"creation_date":1251041189,"post_id":1318717,"comment_id":1151879,"body_markdown":"@oxbow_lakes Didn&#39;t really intend to imply that. Just that I couldn&#39;t digest that the decision was made so as to make it easier to find files for humans.","body":"@oxbow_lakes Didn&#39;t really intend to imply that. Just that I couldn&#39;t digest that the decision was made so as to make it easier to find files for humans."}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":9,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1251038107,"creation_date":1251038107,"answer_id":1318717,"question_id":1318712,"body_markdown":"It&#39;s just to **avoid confusion** in the sense that Java was created with simplicity in mind from the perspective of the developer. Your &quot;primary&quot; classes are your public classes and they are easy to find (by a human) if they are in a file with the same name and in a directory specified by the class&#39;s package.\r\n\r\nYou must recall that the Java language was developed in the mid-90s, *in the days before IDEs made code navigation and searching a breeze*. ","title":"Why is each public class in a separate file?","body":"<p>It's just to <strong>avoid confusion</strong> in the sense that Java was created with simplicity in mind from the perspective of the developer. Your \"primary\" classes are your public classes and they are easy to find (by a human) if they are in a file with the same name and in a directory specified by the class's package.</p>\n\n<p>You must recall that the Java language was developed in the mid-90s, <em>in the days before IDEs made code navigation and searching a breeze</em>. </p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1251039618,"post_id":1318727,"comment_id":1151801,"body_markdown":"The JLS says nothing (normative) about the subject.","body":"The JLS says nothing (normative) about the subject."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628063437,"creation_date":1251038508,"answer_id":1318727,"question_id":1318712,"body_markdown":"It is technically legal to have multiple Java top level classes in one file.  However this is considered to be bad practice (in most cases), and some Java tools may not work if you do this.  \r\n\r\nThe JLS says this:\r\n\r\n&gt; When packages are stored in a file\r\n&gt; system (&#167;7.2.1), **the host system may\r\n&gt; choose to enforce the restriction** that\r\n&gt; it is a compile-time error if a type\r\n&gt; is not found in a file under a name\r\n&gt; composed of the type name plus an\r\n&gt; extension (such as .java or .jav) if\r\n&gt; either of the following is true:\r\n&gt; \r\n&gt;  - The type is referred to by code in    other compilation units of the package in which the type is declared.\r\n&gt;  - The type is declared public (and    therefore is potentially accessible from code in other packages).\r\n\r\nNote the use of **may** in the JLS text.  This says that a compiler may reject this as invalid, or it may not.  That is not a good situation if you are trying to build your Java code to be portable *at the source code level*.  Thus, even if multiple classes in one source file works on your development platform, it is bad practice to do this.\r\n\r\nMy understanding is that this &quot;permission to reject&quot; is a design decision that is intended *in part* to make it easier to implement Java on a wider range of platforms.  If (conversely) the JLS required all compilers to support source files containing multiple classes, there would be conceptual issues implementing Java on a platform which wasn&#39;t file-system based. \r\n\r\nIn practice, seasoned Java developers don&#39;t miss being able to do this at all.  Modularization and information hiding are better done using an appropriate combination of packages, class access modifiers and inner or nested classes.","title":"Why is each public class in a separate file?","body":"<p>It is technically legal to have multiple Java top level classes in one file.  However this is considered to be bad practice (in most cases), and some Java tools may not work if you do this.</p>\n<p>The JLS says this:</p>\n<blockquote>\n<p>When packages are stored in a file\nsystem (7.2.1), <strong>the host system may\nchoose to enforce the restriction</strong> that\nit is a compile-time error if a type\nis not found in a file under a name\ncomposed of the type name plus an\nextension (such as .java or .jav) if\neither of the following is true:</p>\n<ul>\n<li>The type is referred to by code in    other compilation units of the package in which the type is declared.</li>\n<li>The type is declared public (and    therefore is potentially accessible from code in other packages).</li>\n</ul>\n</blockquote>\n<p>Note the use of <strong>may</strong> in the JLS text.  This says that a compiler may reject this as invalid, or it may not.  That is not a good situation if you are trying to build your Java code to be portable <em>at the source code level</em>.  Thus, even if multiple classes in one source file works on your development platform, it is bad practice to do this.</p>\n<p>My understanding is that this &quot;permission to reject&quot; is a design decision that is intended <em>in part</em> to make it easier to implement Java on a wider range of platforms.  If (conversely) the JLS required all compilers to support source files containing multiple classes, there would be conceptual issues implementing Java on a platform which wasn't file-system based.</p>\n<p>In practice, seasoned Java developers don't miss being able to do this at all.  Modularization and information hiding are better done using an appropriate combination of packages, class access modifiers and inner or nested classes.</p>\n"},{"comments":[{"owner":{"display_name":"anon"},"score":3,"creation_date":1251041607,"post_id":1318752,"comment_id":1151895,"body_markdown":"Does anyone have experience of using Java on platforms that don&#39;t have tree-structured directores? Perhaps someone that works on something like VM/CMS (or maybe it does have tree structures now - last time I used it was about 1988) could comment?","body":"Does anyone have experience of using Java on platforms that don&#39;t have tree-structured directores? Perhaps someone that works on something like VM/CMS (or maybe it does have tree structures now - last time I used it was about 1988) could comment?"},{"owner":{"account_id":51249,"reputation":7649,"user_id":153092,"accept_rate":98,"display_name":"Athiwat Chunlakhan"},"score":3,"creation_date":1251043122,"post_id":1318752,"comment_id":1151963,"body_markdown":"Or I would say when they develop Java they are lazy :)","body":"Or I would say when they develop Java they are lazy :)"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1256109362,"post_id":1318752,"comment_id":1464056,"body_markdown":"@Neil: Visual Age didn&#39;t store its files in the file system, but in a (proprietary) Database instead. It still presented your classes hierarchically, due to the package system however.","body":"@Neil: Visual Age didn&#39;t store its files in the file system, but in a (proprietary) Database instead. It still presented your classes hierarchically, due to the package system however."},{"owner":{"account_id":2648,"reputation":120214,"user_id":3713,"accept_rate":91,"display_name":"Spoike"},"score":0,"creation_date":1256110490,"post_id":1318752,"comment_id":1464124,"body_markdown":"You know, from the effect this consideration had, I think it does totally enforce programmers to rethink about coupling code. People who DON&#39;T think it&#39;s a good idea to write their classes, as in at least one-file-per-public-class-basis, obviously haven&#39;t been on large projects long enough to get fed up with rereading large code files just to change &quot;that small thing&quot; (or are ignorant about it). It&#39;s not about lazyness, it&#39;s about not mundanely repeating yourself","body":"You know, from the effect this consideration had, I think it does totally enforce programmers to rethink about coupling code. People who DON&#39;T think it&#39;s a good idea to write their classes, as in at least one-file-per-public-class-basis, obviously haven&#39;t been on large projects long enough to get fed up with rereading large code files just to change &quot;that small thing&quot; (or are ignorant about it). It&#39;s not about lazyness, it&#39;s about not mundanely repeating yourself"}],"tags":[],"owner":{"account_id":43171,"reputation":251738,"user_id":126042,"accept_rate":68,"display_name":"Mark Rushakoff"},"comment_count":4,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1251039115,"creation_date":1251039115,"answer_id":1318752,"question_id":1318712,"body_markdown":"According to the [Java Language Specification, Third Edition][1]:\r\n\r\n&gt; This restriction implies that there must be at most one such type per compilation unit. **This restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package**; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.\r\n\r\nEmphasis is mine.\r\n\r\nIt seems like basically they wanted to translate the OS&#39;s directory separator into dots for namespaces, and vice versa.\r\n\r\nSo yes, it was a design consideration of some sort.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/packages.html#26783","title":"Why is each public class in a separate file?","body":"<p>According to the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/packages.html#26783\" rel=\"noreferrer\">Java Language Specification, Third Edition</a>:</p>\n\n<blockquote>\n  <p>This restriction implies that there must be at most one such type per compilation unit. <strong>This restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package</strong>; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.</p>\n</blockquote>\n\n<p>Emphasis is mine.</p>\n\n<p>It seems like basically they wanted to translate the OS's directory separator into dots for namespaces, and vice versa.</p>\n\n<p>So yes, it was a design consideration of some sort.</p>\n"},{"tags":[],"owner":{"account_id":48455,"reputation":57218,"user_id":143972,"accept_rate":100,"display_name":"Zed"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1251039240,"creation_date":1251039240,"answer_id":1318759,"question_id":1318712,"body_markdown":"If a class is only used by one other class, make it a private inner class. This way you have your multiple classes in a file.\r\n\r\nIf a class is used by multiple other classes, which of these classes would you put into the same file? All three? You would end up having all your classes in a single file...","title":"Why is each public class in a separate file?","body":"<p>If a class is only used by one other class, make it a private inner class. This way you have your multiple classes in a file.</p>\n\n<p>If a class is used by multiple other classes, which of these classes would you put into the same file? All three? You would end up having all your classes in a single file...</p>\n"},{"comments":[{"owner":{"account_id":11037,"reputation":12285,"user_id":21126,"accept_rate":76,"display_name":"MattC"},"score":5,"creation_date":1251074743,"post_id":1318821,"comment_id":1153341,"body_markdown":"Yeah, it makes total sense to me. Not just because I&#39;m a Java programmer, but because it makes the naming scheme just sort of fall into place on its own.","body":"Yeah, it makes total sense to me. Not just because I&#39;m a Java programmer, but because it makes the naming scheme just sort of fall into place on its own."},{"owner":{"account_id":38541,"reputation":12659,"user_id":110677,"accept_rate":83,"display_name":"Ula Krukar"},"score":1,"creation_date":1251221979,"post_id":1318821,"comment_id":1163998,"body_markdown":"In C# code 99% of situations where I have several public classes in one file is: one public full-lown class and a few interfaces, enums or delegates this class uses.","body":"In C# code 99% of situations where I have several public classes in one file is: one public full-lown class and a few interfaces, enums or delegates this class uses."},{"owner":{"account_id":38541,"reputation":12659,"user_id":110677,"accept_rate":83,"display_name":"Ula Krukar"},"score":6,"creation_date":1251222032,"post_id":1318821,"comment_id":1164002,"body_markdown":"On the other hand, I still think decision should be left to the developer, not enforced.","body":"On the other hand, I still think decision should be left to the developer, not enforced."},{"owner":{"account_id":3246,"reputation":190447,"user_id":4653,"accept_rate":97,"display_name":"leora"},"score":5,"creation_date":1251231310,"post_id":1318821,"comment_id":1164916,"body_markdown":"maybe, but flexibility is not always the best thing.  More and more we are seeing the benefits of solutions built on convention over configuration.","body":"maybe, but flexibility is not always the best thing.  More and more we are seeing the benefits of solutions built on convention over configuration."}],"tags":[],"owner":{"account_id":3246,"reputation":190447,"user_id":4653,"accept_rate":97,"display_name":"leora"},"comment_count":4,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1692754496,"creation_date":1251041705,"answer_id":1318821,"question_id":1318712,"body_markdown":"I have just taken a C# solution and did just this (remove any file that had multiple public classes in them) and broke them out to individual files and this has made life much easier. \r\n\r\nIf you have multiple public classes in a file, you have a few issues:\r\n\r\n1. What do you name the file? One of the public classes?  Another name? People have enough issues around poor solution code organization and file naming conventions to have one extra issue.\r\n\r\n2.  Also, when you are browsing the file / project explorer, it&#39;s good that things aren&#39;t hidden.  For example, you see one file and drill down and there are 200 classes all mushed together.  If you have one file per class, you can organize your tests better and get a feel for the structure and complexity of a solution.\r\n\r\nI think Java got this right.","title":"Why is each public class in a separate file?","body":"<p>I have just taken a C# solution and did just this (remove any file that had multiple public classes in them) and broke them out to individual files and this has made life much easier.</p>\n<p>If you have multiple public classes in a file, you have a few issues:</p>\n<ol>\n<li><p>What do you name the file? One of the public classes?  Another name? People have enough issues around poor solution code organization and file naming conventions to have one extra issue.</p>\n</li>\n<li><p>Also, when you are browsing the file / project explorer, it's good that things aren't hidden.  For example, you see one file and drill down and there are 200 classes all mushed together.  If you have one file per class, you can organize your tests better and get a feel for the structure and complexity of a solution.</p>\n</li>\n</ol>\n<p>I think Java got this right.</p>\n"},{"tags":[],"owner":{"account_id":32399,"reputation":49187,"user_id":89904,"accept_rate":65,"display_name":"Hamza Yerlikaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251042927,"creation_date":1251042927,"answer_id":1318867,"question_id":1318712,"body_markdown":"&gt; Why is java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).\r\n\r\nNow all code is uniform. When you see a source file you know what to expect. it is same for every project.  If java were to remove this convention you have to relearn code structure for every project you work on, where as now you learn it once and apply it everywhere. We should not be trusting IDE&#39;s for everything.","title":"Why is each public class in a separate file?","body":"<blockquote>\n  <p>Why is java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).</p>\n</blockquote>\n\n<p>Now all code is uniform. When you see a source file you know what to expect. it is same for every project.  If java were to remove this convention you have to relearn code structure for every project you work on, where as now you learn it once and apply it everywhere. We should not be trusting IDE's for everything.</p>\n"},{"tags":[],"owner":{"display_name":"anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251047159,"creation_date":1251047159,"answer_id":1319021,"question_id":1318712,"body_markdown":"Not really an answer to the question but a data point none the less. \r\n\r\nI grepped the headers of my personal C++ utilty library (you can get it yourself from [here][1]) and almost all of the header files that actually do declare classes (some just declare free functions) declare more than one class. I like to think of myself as a pretty good C++ designer  (though the library is a bit of a bodge in places - I&#39;m its only user), so I suggest that for C++ at least, multiple classes in the same file are normal and even good practice.\r\n\r\n\r\n  [1]: http://code.google.com/p/csvfix/","title":"Why is each public class in a separate file?","body":"<p>Not really an answer to the question but a data point none the less. </p>\n\n<p>I grepped the headers of my personal C++ utilty library (you can get it yourself from <a href=\"http://code.google.com/p/csvfix/\" rel=\"nofollow noreferrer\">here</a>) and almost all of the header files that actually do declare classes (some just declare free functions) declare more than one class. I like to think of myself as a pretty good C++ designer  (though the library is a bit of a bodge in places - I'm its only user), so I suggest that for C++ at least, multiple classes in the same file are normal and even good practice.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251111591,"creation_date":1251111591,"answer_id":1321715,"question_id":1318712,"body_markdown":"It allows for simpler heuristics for going from Foobar.class to Foobar.java.  \r\n\r\nIf Foobar could be in any Java file you have a mapping problem, which may eventually mean you have to do a full scan of all java files to locate the definition of the class.\r\n\r\nPersonally I have found this to be one of the strange rules that combined result in that Java applications can grow very large and still be sturdy.","title":"Why is each public class in a separate file?","body":"<p>It allows for simpler heuristics for going from Foobar.class to Foobar.java.  </p>\n\n<p>If Foobar could be in any Java file you have a mapping problem, which may eventually mean you have to do a full scan of all java files to locate the definition of the class.</p>\n\n<p>Personally I have found this to be one of the strange rules that combined result in that Java applications can grow very large and still be sturdy.</p>\n"},{"tags":[],"owner":{"account_id":23836,"reputation":86772,"user_id":60096,"accept_rate":89,"display_name":"Andy White"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1251179185,"creation_date":1251179185,"answer_id":1326279,"question_id":1318712,"body_markdown":"That&#39;s just how the language designers decided to do it.  I think the main reason was to optimize the compiler pass-throughs - the compiler does not have to guess or parse through files to locate the public classes.  I think it&#39;s actually a good thing, it makes the code files much easier to find, and forces you to stay away from putting too much into one file.  I also like how Java forces you to put your code files in the same directory structure as the package - that makes it easy to locate any code file.","title":"Why is each public class in a separate file?","body":"<p>That's just how the language designers decided to do it.  I think the main reason was to optimize the compiler pass-throughs - the compiler does not have to guess or parse through files to locate the public classes.  I think it's actually a good thing, it makes the code files much easier to find, and forces you to stay away from putting too much into one file.  I also like how Java forces you to put your code files in the same directory structure as the package - that makes it easy to locate any code file.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1251181629,"post_id":1326280,"comment_id":1160297,"body_markdown":"@VonC: Just to be clear, the text that you quoted from the JLS says that a Java platform **may** forbid multiple classes per source file.  It does not say that it **must** forbid this.  (But you shouldn&#39;t do this anyway.  If you do, your source code won&#39;t compile on some platforms; e.g. in typical IDEs.)","body":"@VonC: Just to be clear, the text that you quoted from the JLS says that a Java platform <b>may</b> forbid multiple classes per source file.  It does not say that it <b>must</b> forbid this.  (But you shouldn&#39;t do this anyway.  If you do, your source code won&#39;t compile on some platforms; e.g. in typical IDEs.)"},{"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"score":0,"creation_date":1251181898,"post_id":1326280,"comment_id":1160316,"body_markdown":"&#39;May&#39; may have a different meaning in standards documents than in natural speech...","body":"&#39;May&#39; may have a different meaning in standards documents than in natural speech..."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1251183196,"post_id":1326280,"comment_id":1160364,"body_markdown":"@Stephen, Eric: I just added a small section about the meaning of &quot;may&quot; in specifications. It is true it does not say &quot;must&quot;, but still... it seems enforces in too many place already.","body":"@Stephen, Eric: I just added a small section about the meaning of &quot;may&quot; in specifications. It is true it does not say &quot;must&quot;, but still... it seems enforces in too many place already."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1251183127,"creation_date":1251179191,"answer_id":1326280,"question_id":1318712,"body_markdown":"From [Thinking in Java][1]\r\n\r\n:\r\n\r\n&gt; There can be only one public class per compilation unit (file).   \r\nThe idea is that **each compilation unit has a single public interface represented by that public class**. It can have as many supporting friendly classes as you want. If you have more than one public class inside a compilation unit, the compiler will give you an error message.\r\n\r\n----\r\n\r\nFrom the [specification (7.2.6)][2]\r\n\r\n&gt; **When packages are stored in a file system (?7.2.1), the host system *may choose* to enforce the restriction that it is a compile-time error if a type is not found in a file under a name composed of the type name plus an extension (such as .java or .jav) if either of the following is true**:\r\n\r\n&gt;- The type is referred to by code in other compilation units of the package in which the type is declared.\r\n- The type is declared public (and therefore is potentially accessible from code in other packages).\r\n- This restriction implies that there must be at most one such type per compilation unit. \r\n- This **restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package**; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.\r\n\r\nIn short: it may be about finding classes without having to load everything on your classpath.\r\n\r\nEdit: &quot;may choose&quot; seems like it leaves the possibility to *not* follow that restriction, and the meaning of &quot;may&quot; is probable the one described in [RFC 2119][3] (i.e. &quot;optional&quot;)  \r\nIn practice though, this is enforced in so many platform and relied upon by so many tools and IDE that I do not see any &quot;host system&quot; choosing to *not* enforce that restriction.\r\n\r\n----\r\n\r\n\r\nFrom &quot;[Once upon an Oak ...][4]&quot;\r\n\r\n&gt; It&#39;s pretty obvious - like most things are once you know the design reasons - **the compiler would have to make an additional pass through all the compilation units (.java files) to figure out what classes were where, and that would make the compilation even slower.**\r\n\r\n(Note:\r\n\r\n&gt; the [Oak Language Specification for Oak version 0.2][5] (postcript document): **Oak** was the original name of what is now commonly known as Java, and this manual is the oldest manual available for Oak (i.e. Java).  \r\nFor more history on the origins of Java, please have a look at [the Green Project][6] and [Java(TM) Technology: An Early History][7]  \r\n)\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\r\n  [2]: http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\r\n  [3]: http://www.ietf.org/rfc/rfc2119.txt\r\n  [4]: http://www.javaspecialists.co.za/archive/Issue055.html\r\n  [5]: http://www.javaspecialists.co.za/archive/files/OakSpec0.2.ps\r\n  [6]: https://duke.dev.java.net/green/\r\n  [7]: http://java.sun.com/features/1998/05/birthday.html","title":"Why is each public class in a separate file?","body":"<p>From <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\" rel=\"noreferrer\">Thinking in Java</a></p>\n\n<p>:</p>\n\n<blockquote>\n  <p>There can be only one public class per compilation unit (file).<br>\n  The idea is that <strong>each compilation unit has a single public interface represented by that public class</strong>. It can have as many supporting friendly classes as you want. If you have more than one public class inside a compilation unit, the compiler will give you an error message.</p>\n</blockquote>\n\n<hr>\n\n<p>From the <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\" rel=\"noreferrer\">specification (7.2.6)</a></p>\n\n<blockquote>\n  <p><strong>When packages are stored in a file system (?7.2.1), the host system <em>may choose</em> to enforce the restriction that it is a compile-time error if a type is not found in a file under a name composed of the type name plus an extension (such as .java or .jav) if either of the following is true</strong>:</p>\n  \n  <ul>\n  <li>The type is referred to by code in other compilation units of the package in which the type is declared.</li>\n  <li>The type is declared public (and therefore is potentially accessible from code in other packages).</li>\n  <li>This restriction implies that there must be at most one such type per compilation unit. </li>\n  <li>This <strong>restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package</strong>; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.</li>\n  </ul>\n</blockquote>\n\n<p>In short: it may be about finding classes without having to load everything on your classpath.</p>\n\n<p>Edit: \"may choose\" seems like it leaves the possibility to <em>not</em> follow that restriction, and the meaning of \"may\" is probable the one described in <a href=\"http://www.ietf.org/rfc/rfc2119.txt\" rel=\"noreferrer\">RFC 2119</a> (i.e. \"optional\")<br>\nIn practice though, this is enforced in so many platform and relied upon by so many tools and IDE that I do not see any \"host system\" choosing to <em>not</em> enforce that restriction.</p>\n\n<hr>\n\n<p>From \"<a href=\"http://www.javaspecialists.co.za/archive/Issue055.html\" rel=\"noreferrer\">Once upon an Oak ...</a>\"</p>\n\n<blockquote>\n  <p>It's pretty obvious - like most things are once you know the design reasons - <strong>the compiler would have to make an additional pass through all the compilation units (.java files) to figure out what classes were where, and that would make the compilation even slower.</strong></p>\n</blockquote>\n\n<p>(Note:</p>\n\n<blockquote>\n  <p>the <a href=\"http://www.javaspecialists.co.za/archive/files/OakSpec0.2.ps\" rel=\"noreferrer\">Oak Language Specification for Oak version 0.2</a> (postcript document): <strong>Oak</strong> was the original name of what is now commonly known as Java, and this manual is the oldest manual available for Oak (i.e. Java).<br>\n  For more history on the origins of Java, please have a look at <a href=\"https://duke.dev.java.net/green/\" rel=\"noreferrer\">the Green Project</a> and <a href=\"http://java.sun.com/features/1998/05/birthday.html\" rel=\"noreferrer\">Java(TM) Technology: An Early History</a><br>\n  )</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547565850,"creation_date":1512363690,"answer_id":47626775,"question_id":1318712,"body_markdown":"Well, actually it is an optional restriction according to Java Language Specification (Section 7.6, Page No. 209) but followed by Oracle Java compiler as a mandatory restriction. According to Java Language Specification,\r\n\r\n&gt; When packages are stored in a file system (&#167;7.2.1), the host system\r\n&gt; may choose to enforce the restriction that it is a compile-time error\r\n&gt; if a type is not found in a file under a name composed of the type\r\n&gt; name plus an extension (such as .java or .jav) if either of the\r\n&gt; following is true:\r\n&gt; \r\n&gt;  - The type is referred to by code in other compilation units of the package in which the type is declared.\r\n&gt;  - The type is declared public (and therefore is potentially accessible from code in other packages).\r\n&gt; \r\n&gt; This restriction implies that there must be at most one such type per\r\n&gt; compilation unit.  This restriction makes it easy for a Java compiler\r\n&gt; to find a named class within a package.\r\n&gt; \r\n&gt; In practice, many programmers choose to put each class or interface\r\n&gt; type in its own compilation unit, whether or not it is public or is\r\n&gt; referred to by code in other compilation units. \r\n&gt; \r\n&gt; For example, the source code for a public type wet.sprocket.Toad would\r\n&gt; be found in a file Toad.java in the directory wet/sprocket , and the\r\n&gt; corresponding object code would be found in the file Toad.class in the\r\n&gt; same directory.\r\n\r\n\r\nTo get more clear picture let&#39;s imagine there are two public classes public class A and public class B in a same source file and A class have reference to the not yet compiled class B. And we are compiling (compiling-linking-loading) class A now while linking to class B compiler will be forced to examine each *.java files within the current package because class B dont have its specific B.java file. So In above case, it is a little bit time consuming for the compiler to find which class lies under which source file and in which class the main method lies. \r\nSo the reason behind keeping one public class per source file is to actually make compilation process faster because it enables a more efficient lookup of the source and compiled files during linking (import statements). The idea is if you know the name of a class, you know where it should be found for each classpath entry and no indexing will be required. \r\n\r\nAnd also as soon as we execute our application JVM by default looks for the public class (since no restrictions and can be accessible from anywhere) and also looks for `public static void main(String args[])` in that public class. Public class acts as the initial class from where the JVM instance for the Java application (program) is begun. So when we provide more than one public class in a program the compiler itself stops you by throwing an error. This is because later we cant confuse the JVM as to which class to be its initial class because only one public class with the `public static void main(String args[])` is the initial class for JVM.\r\n\r\nYou can read more on [Why Single Java Source File Can Not Have More Than One public class][1]\r\n\r\n\r\n  [1]: https://programmingmitra.com/2016/05/Why-Single-Java-Source-File-Can-Not-Have-More-Than-One-public-class.html","title":"Why is each public class in a separate file?","body":"<p>Well, actually it is an optional restriction according to Java Language Specification (Section 7.6, Page No. 209) but followed by Oracle Java compiler as a mandatory restriction. According to Java Language Specification,</p>\n\n<blockquote>\n  <p>When packages are stored in a file system (7.2.1), the host system\n  may choose to enforce the restriction that it is a compile-time error\n  if a type is not found in a file under a name composed of the type\n  name plus an extension (such as .java or .jav) if either of the\n  following is true:</p>\n  \n  <ul>\n  <li>The type is referred to by code in other compilation units of the package in which the type is declared.</li>\n  <li>The type is declared public (and therefore is potentially accessible from code in other packages).</li>\n  </ul>\n  \n  <p>This restriction implies that there must be at most one such type per\n  compilation unit.  This restriction makes it easy for a Java compiler\n  to find a named class within a package.</p>\n  \n  <p>In practice, many programmers choose to put each class or interface\n  type in its own compilation unit, whether or not it is public or is\n  referred to by code in other compilation units. </p>\n  \n  <p>For example, the source code for a public type wet.sprocket.Toad would\n  be found in a file Toad.java in the directory wet/sprocket , and the\n  corresponding object code would be found in the file Toad.class in the\n  same directory.</p>\n</blockquote>\n\n<p>To get more clear picture let's imagine there are two public classes public class A and public class B in a same source file and A class have reference to the not yet compiled class B. And we are compiling (compiling-linking-loading) class A now while linking to class B compiler will be forced to examine each *.java files within the current package because class B dont have its specific B.java file. So In above case, it is a little bit time consuming for the compiler to find which class lies under which source file and in which class the main method lies. \nSo the reason behind keeping one public class per source file is to actually make compilation process faster because it enables a more efficient lookup of the source and compiled files during linking (import statements). The idea is if you know the name of a class, you know where it should be found for each classpath entry and no indexing will be required. </p>\n\n<p>And also as soon as we execute our application JVM by default looks for the public class (since no restrictions and can be accessible from anywhere) and also looks for <code>public static void main(String args[])</code> in that public class. Public class acts as the initial class from where the JVM instance for the Java application (program) is begun. So when we provide more than one public class in a program the compiler itself stops you by throwing an error. This is because later we cant confuse the JVM as to which class to be its initial class because only one public class with the <code>public static void main(String args[])</code> is the initial class for JVM.</p>\n\n<p>You can read more on <a href=\"https://programmingmitra.com/2016/05/Why-Single-Java-Source-File-Can-Not-Have-More-Than-One-public-class.html\" rel=\"nofollow noreferrer\">Why Single Java Source File Can Not Have More Than One public class</a></p>\n"}],"owner":{"account_id":52521,"reputation":7976,"user_id":156982,"accept_rate":58,"display_name":"Sandbox"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23367,"favorite_count":0,"down_vote_count":2,"up_vote_count":50,"accepted_answer_id":1318752,"answer_count":11,"score":48,"last_activity_date":1692754496,"creation_date":1251037994,"question_id":1318712,"body_markdown":"I recently started learning Java and found it very strange that every Java public class must be declared in a separate file. I am a C# programmer and C# doesn&#39;t enforce any such restriction. \r\n\r\nWhy does Java do this? Were there any design considerations?\r\n\r\n**Edit (based on a few answers):**\r\n\r\nWhy is Java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).\r\n","title":"Why is each public class in a separate file?","body":"<p>I recently started learning Java and found it very strange that every Java public class must be declared in a separate file. I am a C# programmer and C# doesn't enforce any such restriction.</p>\n<p>Why does Java do this? Were there any design considerations?</p>\n<p><strong>Edit (based on a few answers):</strong></p>\n<p>Why is Java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).</p>\n"},{"tags":["java","cgroups"],"owner":{"account_id":3150912,"reputation":175,"user_id":2664389,"accept_rate":40,"display_name":"Shagufta Oliveyu Methwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692754129,"creation_date":1692754129,"question_id":76957729,"body_markdown":"I have a service which runs a Java process. I am assigning cgroup to the service via a slice being added in the systemd unit file. Every command that is run in the run.sh including cat commands come under the cgroup, however the main command to run the java process which has sudo su - op -c Java jar &lt;Xyz&gt; is still coming up under the default user slice cgroup. What is happening there? Why is cgroup not being reassigned ","title":"Java process with sudo not coming under created cgroup","body":"<p>I have a service which runs a Java process. I am assigning cgroup to the service via a slice being added in the systemd unit file. Every command that is run in the run.sh including cat commands come under the cgroup, however the main command to run the java process which has sudo su - op -c Java jar  is still coming up under the default user slice cgroup. What is happening there? Why is cgroup not being reassigned</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":2512916,"reputation":2168,"user_id":2184946,"accept_rate":59,"display_name":"Harsha Jayamanna"},"score":0,"creation_date":1484728838,"post_id":41714658,"comment_id":70624264,"body_markdown":"Thanks for sharing the JLS link which has all the details.","body":"Thanks for sharing the JLS link which has all the details."},{"owner":{"account_id":6682136,"reputation":1090,"user_id":5154865,"accept_rate":80,"display_name":"armin.miedl"},"score":1,"creation_date":1540639423,"post_id":41714658,"comment_id":92945049,"body_markdown":"That means that a top level class can be a child of another class (inheritance)? For example: class Sub extends Another { }  =&gt; Sub is still always a top level class? Thank you","body":"That means that a top level class can be a child of another class (inheritance)? For example: class Sub extends Another { }  =&gt; Sub is still always a top level class? Thank you"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1540656113,"post_id":41714658,"comment_id":92949488,"body_markdown":"@armin.miedl Yes, top-level just refers to where in the code it is, not where in the class hierarchy.","body":"@armin.miedl Yes, top-level just refers to where in the code it is, not where in the class hierarchy."}],"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"comment_count":3,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1484729208,"creation_date":1484728584,"answer_id":41714658,"question_id":41714579,"body_markdown":"It&#39;s simply any class that&#39;s not a nested class. If your file is Foo.java, and your class is Foo, then it&#39;s a top level class.\r\n\r\n    // in Foo.java:\r\n\r\n    public class Foo { // top level class\r\n\r\n        public static class NestedBar { // nested class\r\n        }\r\n\r\n    }\r\n\r\nI had always thought this was an informal term, but it turns out it&#39;s actually [defined in the JLS](http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html):\r\n\r\n&gt; A top level class is a class that is not a nested class.\r\n&gt;\r\n&gt; A nested class is any class whose declaration occurs within the body of another class or interface.","title":"What is a top level class in Java?","body":"<p>It's simply any class that's not a nested class. If your file is Foo.java, and your class is Foo, then it's a top level class.</p>\n\n<pre><code>// in Foo.java:\n\npublic class Foo { // top level class\n\n    public static class NestedBar { // nested class\n    }\n\n}\n</code></pre>\n\n<p>I had always thought this was an informal term, but it turns out it's actually <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html\" rel=\"noreferrer\">defined in the JLS</a>:</p>\n\n<blockquote>\n  <p>A top level class is a class that is not a nested class.</p>\n  \n  <p>A nested class is any class whose declaration occurs within the body of another class or interface.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":7639764,"reputation":22617,"user_id":5792244,"display_name":"Dave2e"},"score":0,"creation_date":1490546130,"post_id":43029755,"comment_id":73148450,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](http://stackoverflow.com/questions/ask). You can also [add a bounty](http://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question once you have enough [reputation](http://stackoverflow.com/help/whats-reputation). - [From Review](/review/low-quality-posts/15646912)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"http://stackoverflow.com/questions/ask\">Ask Question</a>. You can also <a href=\"http://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question once you have enough <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a>. - <a href=\"/review/low-quality-posts/15646912\">From Review</a>"},{"owner":{"account_id":10356418,"reputation":1149,"user_id":7638227,"display_name":"Erivan"},"score":0,"creation_date":1490571404,"post_id":43029755,"comment_id":73156904,"body_markdown":"Yeah, I agree. I&#39;ve remembered this case and haven&#39;t paid attention to the answer of the question, so sorry for this. I&#39;ll try to answer better. Thanks for the notice.","body":"Yeah, I agree. I&#39;ve remembered this case and haven&#39;t paid attention to the answer of the question, so sorry for this. I&#39;ll try to answer better. Thanks for the notice."}],"tags":[],"owner":{"account_id":10356418,"reputation":1149,"user_id":7638227,"display_name":"Erivan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490575832,"creation_date":1490537243,"answer_id":43029755,"question_id":41714579,"body_markdown":"The definition posted is correct, maybe another definition could be: a top-level class is the defined class with the same name of the file &#39;.java&#39; where it&#39;s in. however, just as an observation, for the case showed, a nested (not a top-level) &#39;static&#39; class has the same behavior of a top-level class, in terms of the interaction with the instance members of the class where it has been nested.","title":"What is a top level class in Java?","body":"<p>The definition posted is correct, maybe another definition could be: a top-level class is the defined class with the same name of the file '.java' where it's in. however, just as an observation, for the case showed, a nested (not a top-level) 'static' class has the same behavior of a top-level class, in terms of the interaction with the instance members of the class where it has been nested.</p>\n"},{"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1666040035,"post_id":71932143,"comment_id":130836923,"body_markdown":"A `.java` file can have multiple public classes, it just can&#39;t have multiple top-level public classes. And the JLS doesn&#39;t actually _require_ that restriction; it allows it, and I believe all/most compilers use it.","body":"A <code>.java</code> file can have multiple public classes, it just can&#39;t have multiple top-level public classes. And the JLS doesn&#39;t actually <i>require</i> that restriction; it allows it, and I believe all/most compilers use it."}],"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650408428,"creation_date":1650408428,"answer_id":71932143,"question_id":41714579,"body_markdown":"A `.java` file can contain more than one class. At most, one of them can have a `public` access modifier, and the others must be `default` access modifier. They can be also `final` or `abstract` but not both at once. So, each non-nested independent class defined in a `.java` file is *a top-level class*.\r\n\r\nFor example, each class is a top-level class in following example.\r\n\r\n    public class Animal {  \r\n        private String name; \r\n    } \r\n    class Animal2 {}","title":"What is a top level class in Java?","body":"<p>A <code>.java</code> file can contain more than one class. At most, one of them can have a <code>public</code> access modifier, and the others must be <code>default</code> access modifier. They can be also <code>final</code> or <code>abstract</code> but not both at once. So, each non-nested independent class defined in a <code>.java</code> file is <em>a top-level class</em>.</p>\n<p>For example, each class is a top-level class in following example.</p>\n<pre><code>public class Animal {  \n    private String name; \n} \nclass Animal2 {}\n</code></pre>\n"}],"owner":{"account_id":2512916,"reputation":2168,"user_id":2184946,"accept_rate":59,"display_name":"Harsha Jayamanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31097,"favorite_count":0,"down_vote_count":2,"up_vote_count":42,"accepted_answer_id":41714658,"answer_count":3,"score":40,"last_activity_date":1692753268,"creation_date":1484728344,"question_id":41714579,"body_markdown":" - What is a top level class in Java?\r\n - What is the definition of a top level class in Java? \r\n\r\n\r\nI know that this is a basic question, but I could not find a clear and simple answer for this question.","title":"What is a top level class in Java?","body":"<ul>\n<li>What is a top level class in Java?</li>\n<li>What is the definition of a top level class in Java?</li>\n</ul>\n<p>I know that this is a basic question, but I could not find a clear and simple answer for this question.</p>\n"},{"tags":["java","string","replace","indexof"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1346828410,"creation_date":1346828410,"answer_id":12276092,"question_id":12276057,"body_markdown":"The cost of the check is built into the cost of the replace, so just use the replace directly with checking first.\r\n\r\nAlso, it is an optimization, so you shouldn&#39;t be even thinking of coding like that unless you can *prove* there&#39;s a significant performance problem at that line of code. The compiler, JDK and JVM are pretty smart - smart enough for you not to have to worry about this kind of thing.","title":"Java String IndexOf before Replace?","body":"<p>The cost of the check is built into the cost of the replace, so just use the replace directly with checking first.</p>\n\n<p>Also, it is an optimization, so you shouldn't be even thinking of coding like that unless you can <em>prove</em> there's a significant performance problem at that line of code. The compiler, JDK and JVM are pretty smart - smart enough for you not to have to worry about this kind of thing.</p>\n"},{"comments":[{"owner":{"account_id":5049407,"reputation":525,"user_id":4054438,"display_name":"R&#233;mi"},"score":0,"creation_date":1692877900,"post_id":76957657,"comment_id":135685262,"body_markdown":"As it&#39;s currently written, your answer is a comment. An answer is not appropriate for this message.","body":"As it&#39;s currently written, your answer is a comment. An answer is not appropriate for this message."}],"tags":[],"owner":{"account_id":29241034,"reputation":3,"user_id":22402556,"display_name":"Eric Fu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692752498,"creation_date":1692752498,"answer_id":76957657,"question_id":12276057,"body_markdown":"i&#39;ve done the same, but not out of curiosity but necessity unfortunately,\r\nindexof before replace is faster, if the code will be executed a lot of time,\r\ni have made an function run 12% faster using indexof then replace!","title":"Java String IndexOf before Replace?","body":"<p>i've done the same, but not out of curiosity but necessity unfortunately,\nindexof before replace is faster, if the code will be executed a lot of time,\ni have made an function run 12% faster using indexof then replace!</p>\n"}],"owner":{"account_id":288843,"reputation":3953,"user_id":589490,"accept_rate":43,"display_name":"vaibhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12276092,"answer_count":2,"score":2,"last_activity_date":1692752498,"creation_date":1346828273,"question_id":12276057,"body_markdown":"Just curious to know that in terms of performance if we want to replace some characters in out string which may or may not be present in the input string should we check for the existence of the char sequence in the String using index of&gt;0 or we can directly call the String replace function.\r\n\r\nThanks,\r\nVaibhav\r\n\r\n","title":"Java String IndexOf before Replace?","body":"<p>Just curious to know that in terms of performance if we want to replace some characters in out string which may or may not be present in the input string should we check for the existence of the char sequence in the String using index of>0 or we can directly call the String replace function.</p>\n\n<p>Thanks,\nVaibhav</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":1,"creation_date":1692745905,"post_id":76957321,"comment_id":135665788,"body_markdown":"Does this work outside your IDE? And are you using pure Java? (no Kotlin, Groovy, etc)","body":"Does this work outside your IDE? And are you using pure Java? (no Kotlin, Groovy, etc)"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1692746300,"post_id":76957321,"comment_id":135665831,"body_markdown":"what does `javac --version` shows?","body":"what does <code>javac --version</code> shows?"},{"owner":{"account_id":17886615,"reputation":1,"user_id":22431848,"display_name":"AlexKBG"},"score":0,"creation_date":1692746808,"post_id":76957321,"comment_id":135665879,"body_markdown":"This works on a build in jenkens. The problem is local.\njavac --version\njavac 20.0.2","body":"This works on a build in jenkens. The problem is local. javac --version javac 20.0.2"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1692770901,"post_id":76957321,"comment_id":135667877,"body_markdown":"Try to delete added JDKs from `File | Project Structure | SDKs` save settings, and re-add JDK from scratch as per https://www.jetbrains.com/help/idea/sdk.html#jdk","body":"Try to delete added JDKs from <code>File | Project Structure | SDKs</code> save settings, and re-add JDK from scratch as per <a href=\"https://www.jetbrains.com/help/idea/sdk.html#jdk\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/sdk.html#jdk</a>"}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692752489,"creation_date":1692752489,"answer_id":76957656,"question_id":76957321,"body_markdown":"When I had this it was because I had updated IntelliJ IDEA. It didn&#39;t seem to like SDKs/JDKs I&#39;d imported using the old version, so I needed to remove them and then add them again using the new version.","title":"After installing a new jdk (in IntelliJ IDEA), I get an error that class java.lang.Object.class was not found","body":"<p>When I had this it was because I had updated IntelliJ IDEA. It didn't seem to like SDKs/JDKs I'd imported using the old version, so I needed to remove them and then add them again using the new version.</p>\n"}],"owner":{"account_id":17886615,"reputation":1,"user_id":22431848,"display_name":"AlexKBG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692752489,"creation_date":1692745655,"question_id":76957321,"body_markdown":"After installing the new jdk (openjdk-20.0.2) in my Idea. I try to run the test and get the error.\r\n\r\n`java.lang.ClassNotFoundException: Exception while looking for class java.lang.Object: java.io.IOException: Couldn&#39;t find: java.lang.Object.class`\r\n\r\n\r\n[Screenshot of the error](https://i.stack.imgur.com/fgeXF.png)\r\n[Messages as expected](https://i.stack.imgur.com/TDAUK.png)\r\n\r\nInfo about IDE:\r\n\r\n&gt;! IntelliJ IDEA 2023.2 (Community Edition)\r\n\r\nWhat can I do to fix the error in the console?     \r\n\r\nIt didn&#39;t help:\r\n- Check Project Structure (&lt;kbd&gt;Ctrl+Alt+Shift+s&lt;/kbd&gt;)\r\n- Reset invalidate caches\r\n- mvn clean test\r\n- Restart PC\r\n- Google","title":"After installing a new jdk (in IntelliJ IDEA), I get an error that class java.lang.Object.class was not found","body":"<p>After installing the new jdk (openjdk-20.0.2) in my Idea. I try to run the test and get the error.</p>\n<p><code>java.lang.ClassNotFoundException: Exception while looking for class java.lang.Object: java.io.IOException: Couldn't find: java.lang.Object.class</code></p>\n<p><a href=\"https://i.stack.imgur.com/fgeXF.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a>\n<a href=\"https://i.stack.imgur.com/TDAUK.png\" rel=\"nofollow noreferrer\">Messages as expected</a></p>\n<p>Info about IDE:</p>\n<blockquote class=\"spoiler\">\n<p> IntelliJ IDEA 2023.2 (Community Edition)</p>\n</blockquote>\n<p>What can I do to fix the error in the console?</p>\n<p>It didn't help:</p>\n<ul>\n<li>Check Project Structure (<kbd>Ctrl+Alt+Shift+s</kbd>)</li>\n<li>Reset invalidate caches</li>\n<li>mvn clean test</li>\n<li>Restart PC</li>\n<li>Google</li>\n</ul>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":13264371,"reputation":1,"user_id":9577766,"display_name":"aldi wahyu saragih"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608705855,"creation_date":1608705855,"answer_id":65420063,"question_id":48661081,"body_markdown":"```\r\n    private boolean isLocationPermissionGrandted() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED;\r\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    private void getLocationPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION}, PERMISSION_LOCATTION_CODE);\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_LOCATTION_CODE);\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nif (isLocationPermissionGrandted())\r\n     initializeWebView();\r\nelse\r\n     getLocationPermission();\r\n```","title":"Enable GeoLocation On Webview","body":"<pre><code>    private boolean isLocationPermissionGrandted() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED;\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED;\n        } else {\n            return true;\n        }\n    }\n\n\n    private void getLocationPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION}, PERMISSION_LOCATTION_CODE);\n        } else {\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_LOCATTION_CODE);\n        }\n    }\n</code></pre>\n<pre><code>if (isLocationPermissionGrandted())\n     initializeWebView();\nelse\n     getLocationPermission();\n</code></pre>\n"}],"owner":{"account_id":12158103,"reputation":85,"user_id":8876484,"display_name":"Christian Slate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8151,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692749281,"creation_date":1517998310,"question_id":48661081,"body_markdown":"Good Evening. I&#39;m on making Tracking Application on Android using Webview. i got problem because the system all works well beside the location.\r\n\r\nin manifest i got this permission settings already\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;&gt;&lt;/uses-permission&gt;\r\n\r\nand in mainactivity.java i got this\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    public WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = (WebView)findViewById(R.id.webView);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://www.primaniagatracking.com/slogin.php&quot;);\r\n        webView.setWebViewClient(new WebViewClient());\r\n    }}\r\n\r\ni don&#39;t know what missing to make it works may be by always appearing ask permission or something. need big help. thanks. i&#39;ve searched some template regarding the enable permission but got to much error. \r\n","title":"Enable GeoLocation On Webview","body":"<p>Good Evening. I'm on making Tracking Application on Android using Webview. i got problem because the system all works well beside the location.</p>\n\n<p>in manifest i got this permission settings already</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"&gt;&lt;/uses-permission&gt;\n</code></pre>\n\n<p>and in mainactivity.java i got this</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\npublic WebView webView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    setContentView(R.layout.activity_main);\n\n    webView = (WebView)findViewById(R.id.webView);\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    webView.loadUrl(\"https://www.primaniagatracking.com/slogin.php\");\n    webView.setWebViewClient(new WebViewClient());\n}}\n</code></pre>\n\n<p>i don't know what missing to make it works may be by always appearing ask permission or something. need big help. thanks. i've searched some template regarding the enable permission but got to much error. </p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":32032,"reputation":11479,"user_id":88383,"accept_rate":61,"display_name":"AlbertoPL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246262834,"creation_date":1246262530,"answer_id":1057091,"question_id":1057072,"body_markdown":"I would take the input in as a String instead. This way, you can simply loop through the String and use Integer.parseInt() to grab each number and add them. You can convert that number again to a String and loop through the code to obtain your digital root.\r\n\r\n    public void run()\r\n    {\r\n        println(&quot;This program calculates the digital root of an interger.&quot;);\r\n\r\n        String num = readLine(&quot;Enter the number: &quot;);\r\n        int sum = 10;\r\n        while (num &gt; 9) {\r\n          for (int x = 0; x &lt; num.length(); x++) {\r\n             sum = Integer.parseInt(num.charAt(x));\r\n          }\r\n          num = Integer.toString(sum);\r\n       }\r\n       println(&quot;Digital Root is: &quot; + sum);\r\n    }\r\n","title":"Calculating Digital Root, is there a better way?","body":"<p>I would take the input in as a String instead. This way, you can simply loop through the String and use Integer.parseInt() to grab each number and add them. You can convert that number again to a String and loop through the code to obtain your digital root.</p>\n\n<pre><code>public void run()\n{\n    println(\"This program calculates the digital root of an interger.\");\n\n    String num = readLine(\"Enter the number: \");\n    int sum = 10;\n    while (num &gt; 9) {\n      for (int x = 0; x &lt; num.length(); x++) {\n         sum = Integer.parseInt(num.charAt(x));\n      }\n      num = Integer.toString(sum);\n   }\n   println(\"Digital Root is: \" + sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246262911,"creation_date":1246262911,"answer_id":1057117,"question_id":1057072,"body_markdown":"Personally, I do not like your loop, which is essentially two loops (first going over the original digits, then going over the digits of sum) mashed into one. How about a sprinkling of recursion:\r\n\r\n    private int sumDigits(int in){\r\n       if (i&gt;10)\r\n          return in%10 + sumDigits(in/10);\r\n        return in;\r\n    }\r\n\r\n    private int digitalRoot(int in){\r\n        assert (in &gt; 0) ;\r\n        while (in &gt; 9)  in=sumDigits(in);\r\n        return in;\r\n    }","title":"Calculating Digital Root, is there a better way?","body":"<p>Personally, I do not like your loop, which is essentially two loops (first going over the original digits, then going over the digits of sum) mashed into one. How about a sprinkling of recursion:</p>\n\n<pre><code>private int sumDigits(int in){\n   if (i&gt;10)\n      return in%10 + sumDigits(in/10);\n    return in;\n}\n\nprivate int digitalRoot(int in){\n    assert (in &gt; 0) ;\n    while (in &gt; 9)  in=sumDigits(in);\n    return in;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23411,"reputation":4679,"user_id":58657,"accept_rate":92,"display_name":"Tyler"},"score":4,"creation_date":1246263317,"post_id":1057122,"comment_id":868841,"body_markdown":"This formula resides at the bottom of the page: http://en.wikipedia.org/wiki/Digital_root\n\nIt&#39;s quite brilliant.","body":"This formula resides at the bottom of the page: <a href=\"http://en.wikipedia.org/wiki/Digital_root\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Digital_root</a>  It&#39;s quite brilliant."},{"owner":{"account_id":23411,"reputation":4679,"user_id":58657,"accept_rate":92,"display_name":"Tyler"},"score":0,"creation_date":1246266878,"post_id":1057122,"comment_id":869044,"body_markdown":"@Ibn\n\nOops! Didn&#39;t see that.\n\nIn this case, Ramans&#39; formula isn&#39;t really an algorithm in the same way the Pythatgorean theorum isn&#39;t really an algorithm. Ramans&#39; formula was most likely derived via pure math.","body":"@Ibn  Oops! Didn&#39;t see that.  In this case, Ramans&#39; formula isn&#39;t really an algorithm in the same way the Pythatgorean theorum isn&#39;t really an algorithm. Ramans&#39; formula was most likely derived via pure math."}],"tags":[],"owner":{"account_id":23411,"reputation":4679,"user_id":58657,"accept_rate":92,"display_name":"Tyler"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1246265956,"creation_date":1246262987,"answer_id":1057122,"question_id":1057072,"body_markdown":"    #include &lt;stdio.h&gt;\r\n    \r\n    int main(void)\r\n    {\r\n       int number;\r\n       scanf(&quot;%d&quot;, &amp;number);\r\n    \r\n       printf(&quot;The digital root of %d is %d.&quot;, number, (1 + (number - 1) % 9));\r\n    }\r\n\r\nHad I not been able to find Ramans&#39; formula this is how I would write this program...:\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;ctype.h&gt;\r\n    \r\n    int main(void)\r\n    {\r\n    \tint c;\r\n    \tint number = 0;\r\n    \twhile ((c = getchar()) != EOF)\r\n    \t{\r\n    \t\tif (isdigit(c))\r\n    \t\t\tnumber += (c - &#39;0&#39;);\r\n    \t}\r\n    \tif (number &lt;= 9)\r\n    \t{\r\n    \t\tprintf(&quot;The digital root is %d\\n&quot;, number);\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tprintf(&quot;%d&quot;, number);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAfter compiling, to run this, basically you just chain these together. I believe four is the most you could possibly need for an integer.\r\n\r\n    $ echo 829382938 | ./digitalroot | ./digitalroot | ./digitalroot | ./digitalroot","title":"Calculating Digital Root, is there a better way?","body":"<pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\n   int number;\n   scanf(\"%d\", &amp;number);\n\n   printf(\"The digital root of %d is %d.\", number, (1 + (number - 1) % 9));\n}\n</code></pre>\n\n<p>Had I not been able to find Ramans' formula this is how I would write this program...:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;ctype.h&gt;\n\nint main(void)\n{\n    int c;\n    int number = 0;\n    while ((c = getchar()) != EOF)\n    {\n        if (isdigit(c))\n            number += (c - '0');\n    }\n    if (number &lt;= 9)\n    {\n        printf(\"The digital root is %d\\n\", number);\n    }\n    else\n    {\n        printf(\"%d\", number);\n    }\n\n}\n</code></pre>\n\n<p>After compiling, to run this, basically you just chain these together. I believe four is the most you could possibly need for an integer.</p>\n\n<pre><code>$ echo 829382938 | ./digitalroot | ./digitalroot | ./digitalroot | ./digitalroot\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1565332,"reputation":11,"user_id":1454270,"display_name":"JPC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339606187,"creation_date":1339606187,"answer_id":11019593,"question_id":1057072,"body_markdown":"I think I am at the same point in the class, no recursion or any moderately advanced ideas (I&#39;m a super beginner).  I used\r\n\r\n\tpublic void run() {\r\n\t\tprintln(&quot;This program finds the digital root of an integer.&quot;);\r\n\t\tint n = readInt(&quot;Enter a positive integer: &quot;);\r\n\t\tint dsum = 0;\r\n\t\t\twhile (n&gt;0) {\r\n\t\t\t\tdsum += n % 10;\r\n\t\t\t\tn /= 10;\r\n\t\t\t\tif ((n==0) &amp;&amp; (dsum&gt;9)) {\r\n\t\t\t\t\tn = dsum;\r\n\t\t\t\t\tdsum = 0;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\tprintln(&quot;The digital root of the integer is &quot; + dsum);\r\n\t}","title":"Calculating Digital Root, is there a better way?","body":"<p>I think I am at the same point in the class, no recursion or any moderately advanced ideas (I'm a super beginner).  I used</p>\n\n<pre><code>public void run() {\n    println(\"This program finds the digital root of an integer.\");\n    int n = readInt(\"Enter a positive integer: \");\n    int dsum = 0;\n        while (n&gt;0) {\n            dsum += n % 10;\n            n /= 10;\n            if ((n==0) &amp;&amp; (dsum&gt;9)) {\n                n = dsum;\n                dsum = 0;\n            }   \n        }\n    println(\"The digital root of the integer is \" + dsum);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6264546,"reputation":17223,"user_id":4870695,"accept_rate":70,"display_name":"Roman"},"score":2,"creation_date":1469099227,"post_id":38502506,"comment_id":64403811,"body_markdown":"can you explain your answer a bit more?","body":"can you explain your answer a bit more?"},{"owner":{"display_name":"user3370587"},"score":0,"creation_date":1469696462,"post_id":38502506,"comment_id":64647066,"body_markdown":"This doesn&#39;t work for multiples of 9, e.g. 18 % 9 = 0","body":"This doesn&#39;t work for multiples of 9, e.g. 18 % 9 = 0"}],"tags":[],"owner":{"account_id":8863504,"reputation":1,"user_id":6619265,"display_name":"shephali jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469098942,"creation_date":1469098942,"answer_id":38502506,"question_id":1057072,"body_markdown":" \r\n\r\n    public static void main(String[] args)\r\n\r\n\r\n    {\r\n    int n;\r\n    Scanner scan=new Scanner(System.in);\r\n    System.out.println(&quot;Enter the no. of which you want to find the digital root&quot;);\r\n    n=scan.nextInt();\r\n    System.out.println(n%9);\r\n    }\r\n","title":"Calculating Digital Root, is there a better way?","body":"<pre><code>public static void main(String[] args)\n\n\n{\nint n;\nScanner scan=new Scanner(System.in);\nSystem.out.println(\"Enter the no. of which you want to find the digital root\");\nn=scan.nextInt();\nSystem.out.println(n%9);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3338041,"reputation":43,"user_id":2805001,"accept_rate":50,"display_name":"Shray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504464230,"creation_date":1504464230,"answer_id":46026745,"question_id":1057072,"body_markdown":"Wolfram Alpha is amazing. It pretty much spoon fed me the follow solution:\r\n\r\n    int getDigitalRoot(int n, int base){\r\n          return (1+(n-1)%base); }\r\n\r\n    int getDigitalRoot(int n){\r\n          return (1+(n-1)%9); }\r\n\r\nThis is a O(1) solution, no loops, or recursion necessary.","title":"Calculating Digital Root, is there a better way?","body":"<p>Wolfram Alpha is amazing. It pretty much spoon fed me the follow solution:</p>\n\n<pre><code>int getDigitalRoot(int n, int base){\n      return (1+(n-1)%base); }\n\nint getDigitalRoot(int n){\n      return (1+(n-1)%9); }\n</code></pre>\n\n<p>This is a O(1) solution, no loops, or recursion necessary.</p>\n"},{"tags":[],"owner":{"account_id":11942825,"reputation":1,"user_id":8739036,"display_name":"Shane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507422353,"creation_date":1507421386,"answer_id":46626307,"question_id":1057072,"body_markdown":"Here is the shortest solution I have found that works for all use cases. \r\n\r\n\tpublic int digRoot(int num) {\r\n\t\t\tnum = 1015; {\r\n\t\t\treturn (1+(num-1)%9);\r\n\t\t\t}\r\n\t}\r\nref: https://dgeekspot.wordpress.com/2015/11/17/digital-root-algorithm/","title":"Calculating Digital Root, is there a better way?","body":"<p>Here is the shortest solution I have found that works for all use cases. </p>\n\n<pre><code>public int digRoot(int num) {\n        num = 1015; {\n        return (1+(num-1)%9);\n        }\n}\n</code></pre>\n\n<p>ref: <a href=\"https://dgeekspot.wordpress.com/2015/11/17/digital-root-algorithm/\" rel=\"nofollow noreferrer\">https://dgeekspot.wordpress.com/2015/11/17/digital-root-algorithm/</a></p>\n"},{"tags":[],"owner":{"account_id":27082569,"reputation":1,"user_id":20631542,"display_name":"Alonell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677226798,"creation_date":1676902063,"answer_id":75510279,"question_id":1057072,"body_markdown":"My solution is in C# and there is kinda stuff that is useless but I hope that will help you.\r\n\r\n    using System.Linq;\r\n    using System;\r\n    \r\n      public static int DigitalRoot(long n)\r\n    {\r\n        long sum = 0;\r\n        if (n &lt;= 10) return n == 10 ? 1 : Convert.ToInt32(n);\r\n        while (n != 0)\r\n        {\r\n            sum += (n % 10);\r\n            n /= 10;\r\n        }\r\n        return sum &gt; 9 ? DigitalRoot(sum) : Convert.ToInt32(sum);\r\n\r\n    }","title":"Calculating Digital Root, is there a better way?","body":"<p>My solution is in C# and there is kinda stuff that is useless but I hope that will help you.</p>\n<pre><code>using System.Linq;\nusing System;\n\n  public static int DigitalRoot(long n)\n{\n    long sum = 0;\n    if (n &lt;= 10) return n == 10 ? 1 : Convert.ToInt32(n);\n    while (n != 0)\n    {\n        sum += (n % 10);\n        n /= 10;\n    }\n    return sum &gt; 9 ? DigitalRoot(sum) : Convert.ToInt32(sum);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29278910,"reputation":1,"user_id":22431988,"display_name":"Mehmet Ak&#231;ay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692748512,"creation_date":1692748512,"answer_id":76957469,"question_id":1057072,"body_markdown":"try this \r\nhttps://csgsd.com/mathematics/digital-root-calculator\r\nDigital Root Calculator\r\n\r\n   \r\n\r\n     &lt;div class=&quot;bloks&quot;&gt;\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;number&quot; class=&quot;form-label&quot;&gt;Enter a number&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;number&quot; required&gt;\r\n            &lt;div id=&quot;numberHelp&quot; class=&quot;form-text&quot;&gt;Please enter a positive integer.&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;button onclick=&quot;calculateDigitalRoot()&quot; class=&quot;axil-button button-rounded btn-primary&quot; style=&quot;margin-top:40px;&quot;&gt;Calculate Digital Root&lt;/button&gt;\r\n        &lt;div id=&quot;result&quot; class=&quot;mt-3&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;script&gt;\r\n        function calculateDigitalRoot() {\r\n            var num = parseInt(document.getElementById(&#39;number&#39;).value);\r\n            if (isNaN(num) || num &lt;= 0) {\r\n                document.getElementById(&#39;result&#39;).style.display = &#39;block&#39;;\r\n                document.getElementById(&#39;result&#39;).innerHTML = &#39;&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;Please enter a valid positive integer.&lt;/div&gt;&#39;;\r\n                return;\r\n            }\r\n            \r\n            var sum = num;\r\n            var steps = [];\r\n            while (sum &gt; 9) {\r\n                var digits = sum.toString().split(&#39;&#39;);\r\n                var stepExplanation = digits.join(&#39; + &#39;) + &#39; = &#39; + digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\r\n                steps.push(stepExplanation);\r\n                sum = digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\r\n            }\r\n            \r\n            var resultMessage = &#39;&lt;div class=&quot;alert alert-success&quot; role=&quot;alert&quot;&gt;&#39;;\r\n            resultMessage += &#39;Digital Root of &#39; + num + &#39; is: &#39; + sum + &#39;.&lt;br&gt;&#39;;\r\n            if (steps.length &gt; 0) {\r\n                resultMessage += &#39;Steps:&lt;br&gt;&#39; + steps.join(&#39;&lt;br&gt;&#39;) + &#39;.&#39;;\r\n            }\r\n            resultMessage += &#39;&lt;/div&gt;&#39;;\r\n            \r\n            document.getElementById(&#39;result&#39;).style.display = &#39;block&#39;;\r\n            document.getElementById(&#39;result&#39;).innerHTML = resultMessage;\r\n        }\r\n    &lt;/script&gt;\r\n\r\n","title":"Calculating Digital Root, is there a better way?","body":"<p>try this\n<a href=\"https://csgsd.com/mathematics/digital-root-calculator\" rel=\"nofollow noreferrer\">https://csgsd.com/mathematics/digital-root-calculator</a>\nDigital Root Calculator</p>\n<pre><code> &lt;div class=&quot;bloks&quot;&gt;\n    &lt;div class=&quot;mb-3&quot;&gt;\n        &lt;label for=&quot;number&quot; class=&quot;form-label&quot;&gt;Enter a number&lt;/label&gt;\n        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;number&quot; required&gt;\n        &lt;div id=&quot;numberHelp&quot; class=&quot;form-text&quot;&gt;Please enter a positive integer.&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;button onclick=&quot;calculateDigitalRoot()&quot; class=&quot;axil-button button-rounded btn-primary&quot; style=&quot;margin-top:40px;&quot;&gt;Calculate Digital Root&lt;/button&gt;\n    &lt;div id=&quot;result&quot; class=&quot;mt-3&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    function calculateDigitalRoot() {\n        var num = parseInt(document.getElementById('number').value);\n        if (isNaN(num) || num &lt;= 0) {\n            document.getElementById('result').style.display = 'block';\n            document.getElementById('result').innerHTML = '&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;Please enter a valid positive integer.&lt;/div&gt;';\n            return;\n        }\n        \n        var sum = num;\n        var steps = [];\n        while (sum &gt; 9) {\n            var digits = sum.toString().split('');\n            var stepExplanation = digits.join(' + ') + ' = ' + digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\n            steps.push(stepExplanation);\n            sum = digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\n        }\n        \n        var resultMessage = '&lt;div class=&quot;alert alert-success&quot; role=&quot;alert&quot;&gt;';\n        resultMessage += 'Digital Root of ' + num + ' is: ' + sum + '.&lt;br&gt;';\n        if (steps.length &gt; 0) {\n            resultMessage += 'Steps:&lt;br&gt;' + steps.join('&lt;br&gt;') + '.';\n        }\n        resultMessage += '&lt;/div&gt;';\n        \n        document.getElementById('result').style.display = 'block';\n        document.getElementById('result').innerHTML = resultMessage;\n    }\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":36198,"reputation":3201,"user_id":103132,"accept_rate":100,"display_name":"Ibn Saeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12069,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1057122,"answer_count":9,"score":2,"last_activity_date":1692748512,"creation_date":1246262185,"question_id":1057072,"body_markdown":"This is how i calculated the digital root of an integer. \r\n\r\n\r\n----------\r\n\r\n\r\n    import acm.program.*;\r\n\r\n    public class Problem7 extends ConsoleProgram\r\n    {\r\n        public void run()\r\n        {\r\n            println(&quot;This program calculates the digital root of an interger.&quot;);\r\n\r\n            int num = readInt(&quot;Enter the number: &quot;);\r\n            int sum = 0;\r\n            while (true)\r\n            {\r\n                if (num &gt; 0)\r\n                {\r\n                    int dsum = num % 10;\r\n                    num /= 10;\r\n                    sum += dsum;\r\n                }\r\n                else if (sum &gt; 9)\r\n                {\r\n                    int dsum = sum % 10;\r\n                    sum /= 10;\r\n                    sum += dsum;\r\n\r\n                } else if (sum &lt;= 9 ) break;\r\n            }\r\n            println(&quot;Digital Root is: &quot; + sum);\r\n        }\r\n\r\n\r\n----------\r\nThe program works fine.\r\n\r\nIs there a better/shorter way of calculating the digital root of a number. ?\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n\r\nEDIT/ADDED : Here is the implementation of the above problem by using [Tyler][1]&#39;s answer, it works as well:\r\n\r\n----------\r\n\r\n\r\n    import acm.program.*;\r\n\r\n    public class Problem7 extends ConsoleProgram\r\n    {\r\n        public void run()\r\n        {\r\n            println(&quot;This program calculates the digital root of an interger.&quot;);\r\n\r\n            int num = readInt(&quot;Enter the number: &quot;);\r\n            println(&quot;Digital Root of &quot; + num + &quot; is: &quot; + (1 + (num - 1) % 9));\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/58657/tyler","title":"Calculating Digital Root, is there a better way?","body":"<p>This is how i calculated the digital root of an integer. </p>\n\n<hr>\n\n<pre><code>import acm.program.*;\n\npublic class Problem7 extends ConsoleProgram\n{\n    public void run()\n    {\n        println(\"This program calculates the digital root of an interger.\");\n\n        int num = readInt(\"Enter the number: \");\n        int sum = 0;\n        while (true)\n        {\n            if (num &gt; 0)\n            {\n                int dsum = num % 10;\n                num /= 10;\n                sum += dsum;\n            }\n            else if (sum &gt; 9)\n            {\n                int dsum = sum % 10;\n                sum /= 10;\n                sum += dsum;\n\n            } else if (sum &lt;= 9 ) break;\n        }\n        println(\"Digital Root is: \" + sum);\n    }\n</code></pre>\n\n<hr>\n\n<p>The program works fine.</p>\n\n<p>Is there a better/shorter way of calculating the digital root of a number. ?</p>\n\n<hr>\n\n<p>EDIT/ADDED : Here is the implementation of the above problem by using <a href=\"https://stackoverflow.com/users/58657/tyler\">Tyler</a>'s answer, it works as well:</p>\n\n<hr>\n\n<pre><code>import acm.program.*;\n\npublic class Problem7 extends ConsoleProgram\n{\n    public void run()\n    {\n        println(\"This program calculates the digital root of an interger.\");\n\n        int num = readInt(\"Enter the number: \");\n        println(\"Digital Root of \" + num + \" is: \" + (1 + (num - 1) % 9));\n    }\n}\n</code></pre>\n\n<hr>\n"},{"tags":["java","docker","docker-java"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":1,"creation_date":1692712015,"post_id":76953830,"comment_id":135659549,"body_markdown":"Can you try adding the [`docker-java-api` dependency](https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3) to your `pom.xml` as well and see if that resolves the issue? Just from a quick glance it seems that the `docker-java` dependency doesn&#39;t transitively include the api dependency. You may also want to comment on [this GitHub issue](https://github.com/docker-java/docker-java/issues/2022) which seems to be the same problem you&#39;re having here.","body":"Can you try adding the <a href=\"https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3\" rel=\"nofollow noreferrer\"><code>docker-java-api</code> dependency</a> to your <code>pom.xml</code> as well and see if that resolves the issue? Just from a quick glance it seems that the <code>docker-java</code> dependency doesn&#39;t transitively include the api dependency. You may also want to comment on <a href=\"https://github.com/docker-java/docker-java/issues/2022\" rel=\"nofollow noreferrer\">this GitHub issue</a> which seems to be the same problem you&#39;re having here."},{"owner":{"account_id":10977947,"reputation":23,"user_id":8066070,"display_name":"Anzu67"},"score":0,"creation_date":1692726352,"post_id":76953830,"comment_id":135662829,"body_markdown":"thanks for pointing out that the docker-java-api was not included with the docker-java. adding this to the pom.xml solved the problem","body":"thanks for pointing out that the docker-java-api was not included with the docker-java. adding this to the pom.xml solved the problem"},{"owner":{"account_id":10977947,"reputation":23,"user_id":8066070,"display_name":"Anzu67"},"score":0,"creation_date":1692726357,"post_id":76953830,"comment_id":135662831,"body_markdown":"&lt;dependency&gt;\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;","body":"&lt;dependency&gt;             &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;             &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;             &lt;version&gt;3.3.3&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1692748482,"post_id":76953830,"comment_id":135666010,"body_markdown":"glad it solved the problem. I added the solution as an answer.","body":"glad it solved the problem. I added the solution as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692748434,"creation_date":1692748434,"answer_id":76957466,"question_id":76953830,"body_markdown":"It seems that the [`docker-java-api` dependency](https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3) is not included with the `docker-java` dependency.\r\n\r\nIf you add this dependency to your `pom.xml` it should resolve the issue:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd","body":"<p>It seems that the <a href=\"https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3\" rel=\"nofollow noreferrer\"><code>docker-java-api</code> dependency</a> is not included with the <code>docker-java</code> dependency.</p>\n<p>If you add this dependency to your <code>pom.xml</code> it should resolve the issue:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;\n    &lt;version&gt;3.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10977947,"reputation":23,"user_id":8066070,"display_name":"Anzu67"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76957466,"answer_count":1,"score":0,"last_activity_date":1692748434,"creation_date":1692711134,"question_id":76953830,"body_markdown":"I am trying to create a Docker client with the Docker Java API, but I get a ClassNotFoundException when running my code. I am following [this Baeldung guide](https://www.baeldung.com/docker-java-api),\r\nbut I am using the latest version of `docker-java-api` (version 3.3.3).\r\n\r\nMaven import:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCode:\r\n\r\n    import com.github.dockerjava.api.DockerClient;\r\n    import com.github.dockerjava.core.DockerClientBuilder;\r\n\r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            DockerClient dockerClient = DockerClientBuilder.getInstance().build();    \r\n        }\r\n    }\r\n\r\n Full Error:\r\n\r\n    Connected to the target VM, address: &#39;127.0.0.1:59830&#39;, transport: &#39;socket&#39;\r\n    SLF4J: No SLF4J providers were found.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\r\n    SLF4J: Class path contains SLF4J bindings targeting slf4j-api versions prior to 1.8.\r\n    SLF4J: Ignoring binding found at [jar:file:/Users/idelmas/.m2/repository/org/slf4j/slf4j-jdk14/1.7.36/slf4j-jdk14-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd\r\n    \tat com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:101)\r\n    \tat com.proofpoint.Main.main(Main.java:14)\r\n    Caused by: java.lang.ClassNotFoundException: com.github.dockerjava.api.command.LoadImageAsyncCmd\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 2 more\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:59830&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 1","title":"java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd","body":"<p>I am trying to create a Docker client with the Docker Java API, but I get a ClassNotFoundException when running my code. I am following <a href=\"https://www.baeldung.com/docker-java-api\" rel=\"nofollow noreferrer\">this Baeldung guide</a>,\nbut I am using the latest version of <code>docker-java-api</code> (version 3.3.3).</p>\n<p>Maven import:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n    &lt;version&gt;3.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>import com.github.dockerjava.api.DockerClient;\nimport com.github.dockerjava.core.DockerClientBuilder;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        DockerClient dockerClient = DockerClientBuilder.getInstance().build();    \n    }\n}\n</code></pre>\n<p>Full Error:</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:59830', transport: 'socket'\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions prior to 1.8.\nSLF4J: Ignoring binding found at [jar:file:/Users/idelmas/.m2/repository/org/slf4j/slf4j-jdk14/1.7.36/slf4j-jdk14-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#ignoredBindings for an explanation.\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd\n    at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:101)\n    at com.proofpoint.Main.main(Main.java:14)\nCaused by: java.lang.ClassNotFoundException: com.github.dockerjava.api.command.LoadImageAsyncCmd\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 2 more\nDisconnected from the target VM, address: '127.0.0.1:59830', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["c#","java","c++","language-agnostic"],"answers":[{"comments":[{"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"score":0,"creation_date":1280305644,"post_id":3351058,"comment_id":3478779,"body_markdown":"That&#39;s a great example! Thanks.","body":"That&#39;s a great example! Thanks."},{"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"score":0,"creation_date":1280305761,"post_id":3351058,"comment_id":3478792,"body_markdown":"By the way, have you ever encountered a situation where it was impossible or undesirable to copy the not-owned data, and thus serializing a dangling pointer?","body":"By the way, have you ever encountered a situation where it was impossible or undesirable to copy the not-owned data, and thus serializing a dangling pointer?"},{"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"score":0,"creation_date":1280306116,"post_id":3351058,"comment_id":3478835,"body_markdown":"External resources (database connections, for example) are &#39;non copyable&#39;. But that doesn&#39;t mean you have to store a dangling pointer, you can prepare for it by releasing the resource before serializing.","body":"External resources (database connections, for example) are &#39;non copyable&#39;. But that doesn&#39;t mean you have to store a dangling pointer, you can prepare for it by releasing the resource before serializing."},{"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"score":0,"creation_date":1280306729,"post_id":3351058,"comment_id":3478932,"body_markdown":"With &quot;dangling pointer&quot; I meant a kind of dangling serialized reference.","body":"With &quot;dangling pointer&quot; I meant a kind of dangling serialized reference."}],"tags":[],"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280305256,"creation_date":1280305256,"answer_id":3351058,"question_id":3351018,"body_markdown":"One possible use case is when the composed objects can be derived from state information that is present in the shallow copy and you want, for instance, to serialize your object. \r\n\r\nYou can store the shallow copy and then rebuild the complete object from the state upon deserialization.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>One possible use case is when the composed objects can be derived from state information that is present in the shallow copy and you want, for instance, to serialize your object. </p>\n\n<p>You can store the shallow copy and then rebuild the complete object from the state upon deserialization.</p>\n"},{"tags":[],"owner":{"display_name":"anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280305291,"creation_date":1280305291,"answer_id":3351066,"question_id":3351018,"body_markdown":"As I pointed out in my answer to your related question, many languages don&#39;t really have the concept of shallow and deep copy. However, this class in C++, which prevents you from using a NULL pointer may be an example where a &quot;shallow&quot; copy is needed:\r\n\r\n    template &lt;typename T&gt;\r\n    struct NotNull {\r\n    \r\n       T * p;\r\n    \r\n       NotNull( T * t ) : p( t ) {}\r\n    \r\n       T &amp; operator *() { \r\n           if ( ! p ) {\r\n              throw &quot;null!&quot;;\r\n           }\r\n           return * p;\r\n       }\r\n    };\r\n\r\n  \r\nThe class does not own the thing pointed to, so no copy should be made.\r\n\r\n","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>As I pointed out in my answer to your related question, many languages don't really have the concept of shallow and deep copy. However, this class in C++, which prevents you from using a NULL pointer may be an example where a \"shallow\" copy is needed:</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct NotNull {\n\n   T * p;\n\n   NotNull( T * t ) : p( t ) {}\n\n   T &amp; operator *() { \n       if ( ! p ) {\n          throw \"null!\";\n       }\n       return * p;\n   }\n};\n</code></pre>\n\n<p>The class does not own the thing pointed to, so no copy should be made.</p>\n"},{"comments":[{"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"score":0,"creation_date":1280305862,"post_id":3351077,"comment_id":3478802,"body_markdown":"Yep, lazy copying is another good example, thanks! Although conceptually, it still is a deep copy, of course :p","body":"Yep, lazy copying is another good example, thanks! Although conceptually, it still is a deep copy, of course :p"}],"tags":[],"owner":{"account_id":75893,"reputation":3190,"user_id":217571,"accept_rate":64,"display_name":"YeenFei"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280305427,"creation_date":1280305427,"answer_id":3351077,"question_id":3351018,"body_markdown":"Coming from C++ POV, there would be one scenario that i will use shallow copy : when implementing copy-on-write mechanism.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>Coming from C++ POV, there would be one scenario that i will use shallow copy : when implementing copy-on-write mechanism.</p>\n"},{"comments":[{"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"score":0,"creation_date":1280308875,"post_id":3351399,"comment_id":3479238,"body_markdown":"Indeed! Although this is a special case of lazy copying, so I make the same remark as to YeenFei: conceptually, it still is a deep copy.","body":"Indeed! Although this is a special case of lazy copying, so I make the same remark as to YeenFei: conceptually, it still is a deep copy."}],"tags":[],"owner":{"account_id":131820,"reputation":31794,"user_id":332100,"accept_rate":100,"display_name":"Niels van der Rest"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1280308125,"creation_date":1280308125,"answer_id":3351399,"question_id":3351018,"body_markdown":"When the owned variables are immutable types, a shallow copy is sufficient. A deep copy is possible, but would only result in additional memory use.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>When the owned variables are immutable types, a shallow copy is sufficient. A deep copy is possible, but would only result in additional memory use.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280309908,"creation_date":1280309908,"answer_id":3351595,"question_id":3351018,"body_markdown":"My take on this is that the situations where you would use deep copy are different for C++ versus Java.\r\n\r\n  - In C++, you might use deep copying to avoid difficult memory management issues, or to make it easier to implement a multi-threaded application.\r\n\r\n  - In Java, deep copying is not necessary for those reasons.  Since the languages are both garbage collected, it is not necessary to go through hoops to free data structures.  So a deep copy is not necessary to simplify the problem.  Similarly Java has built-in support for synchronizing access by multiple threads to shared data structures.\r\n\r\nIn most cases, deep copying is unnecessary in Java assuming that your application&#39;s data structures are well designed.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>My take on this is that the situations where you would use deep copy are different for C++ versus Java.</p>\n\n<ul>\n<li><p>In C++, you might use deep copying to avoid difficult memory management issues, or to make it easier to implement a multi-threaded application.</p></li>\n<li><p>In Java, deep copying is not necessary for those reasons.  Since the languages are both garbage collected, it is not necessary to go through hoops to free data structures.  So a deep copy is not necessary to simplify the problem.  Similarly Java has built-in support for synchronizing access by multiple threads to shared data structures.</p></li>\n</ul>\n\n<p>In most cases, deep copying is unnecessary in Java assuming that your application's data structures are well designed.</p>\n"},{"tags":[],"owner":{"account_id":39415,"reputation":12303,"user_id":113662,"accept_rate":93,"display_name":"Tadeusz Kopec for Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280310219,"creation_date":1280310219,"answer_id":3351632,"question_id":3351018,"body_markdown":"    class Element{\r\n    }\r\n    \r\n    class Example {\r\n        private List&lt;Element&gt; elementList = new ArrayList&lt;Element();\r\n    \r\n        public List&lt;Element&gt; getElementList() {\r\n            return new ArrayList&lt;Element&gt;(this.elementList);\r\n        }\r\n    \r\n        public void addElement(Element e) {\r\n            elementList.add(e);\r\n        }\r\n    \r\n        public void removeElement(Element e) {\r\n            elementList.remove(e);\r\n        }\r\n    }\r\n\r\nYou want all modifications of `Example.elementList` to be done by object methods, but you want to expose elements stored in list. So you create getter which returns a shallow copy. Copy, because you don&#39;t want caller to modify object&#39;s list and shallow because you want to expose objects from list, not their copies.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<pre><code>class Element{\n}\n\nclass Example {\n    private List&lt;Element&gt; elementList = new ArrayList&lt;Element();\n\n    public List&lt;Element&gt; getElementList() {\n        return new ArrayList&lt;Element&gt;(this.elementList);\n    }\n\n    public void addElement(Element e) {\n        elementList.add(e);\n    }\n\n    public void removeElement(Element e) {\n        elementList.remove(e);\n    }\n}\n</code></pre>\n\n<p>You want all modifications of <code>Example.elementList</code> to be done by object methods, but you want to expose elements stored in list. So you create getter which returns a shallow copy. Copy, because you don't want caller to modify object's list and shallow because you want to expose objects from list, not their copies.</p>\n"},{"tags":[],"owner":{"account_id":11822,"reputation":18142,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280311167,"creation_date":1280311167,"answer_id":3351752,"question_id":3351018,"body_markdown":"If you look at the Gang of Four design patterns, there&#39;s a pattern called [FlyWeight][1]. Here&#39;s a quote from wikipedia:\r\n\r\n&gt;  A flyweight is an object that\r\n&gt; minimizes memory use by sharing as\r\n&gt; much data as possible with other\r\n&gt; similar objects; it is a way to use\r\n&gt; objects in large numbers when a simple\r\n&gt; repeated representation would use an\r\n&gt; unacceptable amount of memory.\r\n\r\nThis would be an acceptable use of a shallow copy.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Flyweight_pattern","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>If you look at the Gang of Four design patterns, there's a pattern called <a href=\"http://en.wikipedia.org/wiki/Flyweight_pattern\" rel=\"nofollow noreferrer\">FlyWeight</a>. Here's a quote from wikipedia:</p>\n\n<blockquote>\n  <p>A flyweight is an object that\n  minimizes memory use by sharing as\n  much data as possible with other\n  similar objects; it is a way to use\n  objects in large numbers when a simple\n  repeated representation would use an\n  unacceptable amount of memory.</p>\n</blockquote>\n\n<p>This would be an acceptable use of a shallow copy.</p>\n"},{"tags":[],"owner":{"account_id":14153,"reputation":18311,"user_id":28875,"accept_rate":74,"display_name":"Kylotan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280311461,"creation_date":1280311461,"answer_id":3351787,"question_id":3351018,"body_markdown":"Shallow copies are quicker to make, which is often desirable for obvious reasons. The ultimate in shallow copying is obviously just a copy of a reference to the original object. If you&#39;re not mutating an object and can guarantee it won&#39;t get changed in other ways while you work with it then the more shallow the copy is, the better.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>Shallow copies are quicker to make, which is often desirable for obvious reasons. The ultimate in shallow copying is obviously just a copy of a reference to the original object. If you're not mutating an object and can guarantee it won't get changed in other ways while you work with it then the more shallow the copy is, the better.</p>\n"},{"comments":[{"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"score":0,"creation_date":1280325332,"post_id":3353058,"comment_id":3481649,"body_markdown":"Interesting remark. You&#39;re quite right that C++ heavily relies on deep copying and that ownership is more important than in C# or Java. However, deep copying is relevant in C# and Java also, although it is needed much less often. I think that indeed in C# or Java one is more tempted to implement a shallow copy, but I suspect that is because implementing a deep copy is more bothersome, and in most cases the shallow copy will be accidentally sufficient.","body":"Interesting remark. You&#39;re quite right that C++ heavily relies on deep copying and that ownership is more important than in C# or Java. However, deep copying is relevant in C# and Java also, although it is needed much less often. I think that indeed in C# or Java one is more tempted to implement a shallow copy, but I suspect that is because implementing a deep copy is more bothersome, and in most cases the shallow copy will be accidentally sufficient."}],"tags":[],"owner":{"account_id":15628,"reputation":244161,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280322081,"creation_date":1280322081,"answer_id":3353058,"question_id":3351018,"body_markdown":"&gt; Remark: I don&#39;t care in which language the examples are given. I&#39;m asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.\r\n\r\nI think it depends quite a bit on the language.\r\n\r\nIn C++, copying plays a very different role than it does in Java/C#. In C++, I can&#39;t think of many cases where shallow copying makes sense. You&#39;d usually just create references or pointers to an object instead. Copy constructors usually implement deep copies because in C++, an object takes ownership of its members, and is responsible for managing their lifetime. Because there&#39;s no GC, these ownership semantics become important, and you can&#39;t just have two objects pointing to a third without special care (do they use reference counting to keep the third alive? If not, which of the two objects *owns* it?)\r\n\r\nI&#39;d even say that the distinction between &quot;deep&quot; and &quot;shallow&quot; copies doesn&#39;t really make sense in C++. A copy creates all that is necessary for the newly created object to work. Sometimes, it shares *a bit* of data (typically data which isn&#39;t owned by either object), so it might not be a &quot;true&quot; deep copy&quot;, but it&#39;s not shallow either, because the bulk of the class typically *is* copied.\r\n","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<blockquote>\n  <p>Remark: I don't care in which language the examples are given. I'm asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.</p>\n</blockquote>\n\n<p>I think it depends quite a bit on the language.</p>\n\n<p>In C++, copying plays a very different role than it does in Java/C#. In C++, I can't think of many cases where shallow copying makes sense. You'd usually just create references or pointers to an object instead. Copy constructors usually implement deep copies because in C++, an object takes ownership of its members, and is responsible for managing their lifetime. Because there's no GC, these ownership semantics become important, and you can't just have two objects pointing to a third without special care (do they use reference counting to keep the third alive? If not, which of the two objects <em>owns</em> it?)</p>\n\n<p>I'd even say that the distinction between \"deep\" and \"shallow\" copies doesn't really make sense in C++. A copy creates all that is necessary for the newly created object to work. Sometimes, it shares <em>a bit</em> of data (typically data which isn't owned by either object), so it might not be a \"true\" deep copy\", but it's not shallow either, because the bulk of the class typically <em>is</em> copied.</p>\n"}],"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4638,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":9,"score":10,"last_activity_date":1692748130,"creation_date":1280304817,"question_id":3351018,"body_markdown":"\r\nCan someone give an example of a situation where a shallow copy is needed?\r\n\r\nNote that in some situations, shallow copy and deep copy are the same. This can happen when the object has no ownership over any of its subvariables; that is, all subvariables are [aggregated](http://en.wikipedia.org/wiki/Object_composition#Aggregation). I&#39;d like to see examples where the an object is [composed](http://en.wikipedia.org/wiki/Object_composition) from variables which it owns, and it still is desirable to copy them shallowly.\r\n\r\n&lt;b&gt;Remark&lt;/b&gt;: I don&#39;t care in which language the examples are given. I&#39;m asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>Can someone give an example of a situation where a shallow copy is needed?</p>\n\n<p>Note that in some situations, shallow copy and deep copy are the same. This can happen when the object has no ownership over any of its subvariables; that is, all subvariables are <a href=\"http://en.wikipedia.org/wiki/Object_composition#Aggregation\" rel=\"noreferrer\">aggregated</a>. I'd like to see examples where the an object is <a href=\"http://en.wikipedia.org/wiki/Object_composition\" rel=\"noreferrer\">composed</a> from variables which it owns, and it still is desirable to copy them shallowly.</p>\n\n<p><b>Remark</b>: I don't care in which language the examples are given. I'm asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.</p>\n"},{"tags":["java","angular","sockets","websocket","socket.io"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1667994742,"post_id":74374381,"comment_id":131299272,"body_markdown":"You are trying to connect a WebSocket (from Angular) to a Java socket, which they don&#39;t use the same protocol. [This](https://stackoverflow.com/questions/4973622/difference-between-socket-and-websocket) can give you a start point","body":"You are trying to connect a WebSocket (from Angular) to a Java socket, which they don&#39;t use the same protocol. <a href=\"https://stackoverflow.com/questions/4973622/difference-between-socket-and-websocket\">This</a> can give you a start point"},{"owner":{"account_id":23203964,"reputation":3257,"user_id":17298437,"display_name":"Fabian Strathaus"},"score":0,"creation_date":1667997060,"post_id":74374381,"comment_id":131300082,"body_markdown":"What you say is not correct. The programming language does not matter, since Client and Server are trying to connect through websocket protocol","body":"What you say is not correct. The programming language does not matter, since Client and Server are trying to connect through websocket protocol"},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1667997477,"post_id":74374381,"comment_id":131300240,"body_markdown":"@LeonardoEmmanueldeAzevedo i read that question and answer,the point is that i am using same library in both client and server(socket io) and in netty-socketio github repo shown an example made of java and java script and it is working perfectly,problem is when i use angular it is not working","body":"@LeonardoEmmanueldeAzevedo i read that question and answer,the point is that i am using same library in both client and server(socket io) and in netty-socketio github repo shown an example made of java and java script and it is working perfectly,problem is when i use angular it is not working"}],"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692747626,"creation_date":1667994414,"question_id":74374381,"body_markdown":"i want to send event to socket io server that ran on java spring boot application,\r\nthe weird point is that my angular app can connect to server perfectly and i can get connect and disconnect events in java.but when it comes to emit an event to server or get any event from server it is not working\r\n\r\nJava Class:\r\n```\r\npublic class SocketIOServerImpl {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Configuration config = new Configuration();\r\n        config.setHostname(&quot;localhost&quot;);\r\n        config.setPort(8090);\r\nwebsocket\r\n        final SocketIOServer server = new SocketIOServer(config);\r\n\r\n        server.addConnectListener(socketIOClient -&gt; {\r\n            System.out.println(&quot;User Connected&quot;);\r\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\r\n        });\r\n\r\n        server.addDisconnectListener(client -&gt; {\r\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\r\n        });\r\n\r\n        server.addEventListener(&quot;daniyal&quot;, String.class, new DataListener&lt;String&gt;() {\r\n\r\n            @Override\r\n            public void onData(SocketIOClient socketIOClient, String s, AckRequest ackRequest) throws Exception {\r\n                System.out.println(&quot;User Connected&quot;);\r\n                server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Emited STH to Server Successfully&quot;);\r\n            }\r\n        });\r\n\r\n        server.start();\r\n        Thread.sleep(Integer.MAX_VALUE);\r\n\r\n        server.stop();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nangular servise.ts:\r\n\r\n\r\n```\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class SocketServiceService {\r\n\r\n  readonly uri: string = &#39;ws://localhost:8090&#39;;\r\n  socket: any;\r\n\r\n  constructor() {\r\n    this.socket = io.connect(this.uri,{ transports: [ &#39;websocket&#39; ] });\r\n  }\r\n\r\n\r\n  listen(eventName: string) {\r\n    return new Observable((subscriber) =&gt; {\r\n      this.socket.on(eventName, (data: any) =&gt; {\r\n        subscriber.next(data);\r\n      });\r\n    });\r\n  }\r\n\r\n  emit(eventName: string, data: any) {\r\n    this.socket.emit(eventName, data);\r\n  }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\napp.component.ts:\r\n\r\n\r\n```\r\n@Component({\r\n  selector: &#39;app-root&#39;,\r\n  templateUrl: &#39;./app.component.html&#39;,\r\n  styleUrls: [&#39;./app.component.css&#39;]\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n  constructor(private socketService: SocketServiceService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.socketService.listen(&#39;daniyal&#39;).subscribe(\r\n      (res) =&gt; {\r\n        console.log(&#39;Server Response: &#39;,res);\r\n      });\r\n  }\r\n\r\n  emit(){\r\n    this.socketService.emit(&#39;daniyal&#39;,&#39;HI SERVER&#39;);\r\n  }\r\n}\r\n```\r\n\r\n\r\ni use angular version 14 and java 11\r\n\r\n\r\ni expected server can get the event and when send event to client,client get that too","title":"send event to java Socket IO from angular application","body":"<p>i want to send event to socket io server that ran on java spring boot application,\nthe weird point is that my angular app can connect to server perfectly and i can get connect and disconnect events in java.but when it comes to emit an event to server or get any event from server it is not working</p>\n<p>Java Class:</p>\n<pre><code>public class SocketIOServerImpl {\n\n    public static void main(String[] args) throws InterruptedException {\n        Configuration config = new Configuration();\n        config.setHostname(&quot;localhost&quot;);\n        config.setPort(8090);\nwebsocket\n        final SocketIOServer server = new SocketIOServer(config);\n\n        server.addConnectListener(socketIOClient -&gt; {\n            System.out.println(&quot;User Connected&quot;);\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\n        });\n\n        server.addDisconnectListener(client -&gt; {\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\n        });\n\n        server.addEventListener(&quot;daniyal&quot;, String.class, new DataListener&lt;String&gt;() {\n\n            @Override\n            public void onData(SocketIOClient socketIOClient, String s, AckRequest ackRequest) throws Exception {\n                System.out.println(&quot;User Connected&quot;);\n                server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Emited STH to Server Successfully&quot;);\n            }\n        });\n\n        server.start();\n        Thread.sleep(Integer.MAX_VALUE);\n\n        server.stop();\n    }\n}\n\n</code></pre>\n<p>angular servise.ts:</p>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class SocketServiceService {\n\n  readonly uri: string = 'ws://localhost:8090';\n  socket: any;\n\n  constructor() {\n    this.socket = io.connect(this.uri,{ transports: [ 'websocket' ] });\n  }\n\n\n  listen(eventName: string) {\n    return new Observable((subscriber) =&gt; {\n      this.socket.on(eventName, (data: any) =&gt; {\n        subscriber.next(data);\n      });\n    });\n  }\n\n  emit(eventName: string, data: any) {\n    this.socket.emit(eventName, data);\n  }\n\n\n}\n\n</code></pre>\n<p>app.component.ts:</p>\n<pre><code>@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  constructor(private socketService: SocketServiceService) {\n  }\n\n  ngOnInit() {\n    this.socketService.listen('daniyal').subscribe(\n      (res) =&gt; {\n        console.log('Server Response: ',res);\n      });\n  }\n\n  emit(){\n    this.socketService.emit('daniyal','HI SERVER');\n  }\n}\n</code></pre>\n<p>i use angular version 14 and java 11</p>\n<p>i expected server can get the event and when send event to client,client get that too</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1468520826,"post_id":38381349,"comment_id":64172985,"body_markdown":"Look at tablemodels. You&#39;ll just copy the tablemodel itself which contains all that information. The jTable then reads the tablemodel.","body":"Look at tablemodels. You&#39;ll just copy the tablemodel itself which contains all that information. The jTable then reads the tablemodel."},{"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"score":0,"creation_date":1468521639,"post_id":38381349,"comment_id":64173479,"body_markdown":"1. I am assuming you&#39;re using a DBMS and your Java application is connected to it. Which DBMS are you using (MySQL, SQL-Server, PostgreSQL, ...)? 2. Do you know the right data types for the new tables? Or do you need to infer them based on the table contents?","body":"1. I am assuming you&#39;re using a DBMS and your Java application is connected to it. Which DBMS are you using (MySQL, SQL-Server, PostgreSQL, ...)? 2. Do you know the right data types for the new tables? Or do you need to infer them based on the table contents?"},{"owner":{"account_id":8072192,"reputation":49,"user_id":6084584,"accept_rate":36,"display_name":"Will"},"score":0,"creation_date":1468521844,"post_id":38381349,"comment_id":64173599,"body_markdown":"I am using MYSQL. I don&#39;t know the new data types. I have to infer them based on the table contents.","body":"I am using MYSQL. I don&#39;t know the new data types. I have to infer them based on the table contents."}],"answers":[{"tags":[],"owner":{"account_id":5120569,"reputation":1168,"user_id":4602283,"accept_rate":75,"display_name":"Jeutnarg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1468522612,"creation_date":1468522612,"answer_id":38382163,"question_id":38381349,"body_markdown":"As I see it, your problem has a few parts:\r\n\r\n1. EASY - Getting the existing table information. You&#39;ll have to get the DatabaseMetaData from your jdbc connection. Documentation on that class is [here][2], and Google is your friend as to how to get that Object in the first place. (Hint: [this question][1] should get you most of the way )\r\n\r\n2. MEDIUM - Figuring out what data type your data really is. If you try to narrow it down to just a few simple types like Integer, String, and dates, this might not actually be that hard. You&#39;ll just need to select a few rows for each column (where that column isn&#39;t null), and then try and parse it into different types. If it succeeds, it probably is that type. If it throws an Exception, then it&#39;s not. Integer.parseInt(), LocalDateTimeFormatter, etc. are the things you&#39;ll be using.\r\n\r\nIf you want to get table meta data, then just do a &quot;SELECT * FROM &lt; TABLE &gt;&quot; and the ResultSetMetaData will have all the information you&#39;ll need to keep going.\r\n\r\n3. VERY HARD - Creating tables using the new, appropriate data types. This is hard not because of the stuff that&#39;s been mentioned so far, but because we haven&#39;t yet talked about foreign keys, indexes, and all that other good stuff. Mapping all those things programmatically will be a very hard problem. Therefore, I recommend *NOT* trying to program this part. Instead, have your script output the mapping of old datatypes to new datatypes for each table. Then you can go into your SQL mananger and get the SQL script to generate that table. Almost every SQL database management tool can generate the creation script for a table. Edit that script with your new datatypes, give it a new name, and run it.\r\n\r\n  [1]: https://stackoverflow.com/questions/2780284/how-to-get-all-table-names-from-a-database\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html","title":"Java Copying tables to another schema","body":"<p>As I see it, your problem has a few parts:</p>\n\n<ol>\n<li><p>EASY - Getting the existing table information. You'll have to get the DatabaseMetaData from your jdbc connection. Documentation on that class is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html\" rel=\"nofollow noreferrer\">here</a>, and Google is your friend as to how to get that Object in the first place. (Hint: <a href=\"https://stackoverflow.com/questions/2780284/how-to-get-all-table-names-from-a-database\">this question</a> should get you most of the way )</p></li>\n<li><p>MEDIUM - Figuring out what data type your data really is. If you try to narrow it down to just a few simple types like Integer, String, and dates, this might not actually be that hard. You'll just need to select a few rows for each column (where that column isn't null), and then try and parse it into different types. If it succeeds, it probably is that type. If it throws an Exception, then it's not. Integer.parseInt(), LocalDateTimeFormatter, etc. are the things you'll be using.</p></li>\n</ol>\n\n<p>If you want to get table meta data, then just do a \"SELECT * FROM &lt; TABLE >\" and the ResultSetMetaData will have all the information you'll need to keep going.</p>\n\n<ol start=\"3\">\n<li>VERY HARD - Creating tables using the new, appropriate data types. This is hard not because of the stuff that's been mentioned so far, but because we haven't yet talked about foreign keys, indexes, and all that other good stuff. Mapping all those things programmatically will be a very hard problem. Therefore, I recommend <em>NOT</em> trying to program this part. Instead, have your script output the mapping of old datatypes to new datatypes for each table. Then you can go into your SQL mananger and get the SQL script to generate that table. Almost every SQL database management tool can generate the creation script for a table. Edit that script with your new datatypes, give it a new name, and run it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29278851,"reputation":1,"user_id":22431941,"display_name":"Richard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692747295,"creation_date":1692747295,"answer_id":76957407,"question_id":38381349,"body_markdown":"Here&#39;s what worked for me in the end - simple routine to copy multiple table from the T0 schema to the T1, T2 and T3 schemas\r\n\r\n\r\npublic class CopyFromT0toT123 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        CopyFromT0toT123 copy = new CopyFromT0toT123();\r\n        copy.copyTable(&quot;table name 1&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\r\n        copy.copyTable(&quot;table name 2&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\r\n        copy.copyTable(&quot;table name 3&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\r\n    }\r\n\r\n    private void copyTable(String tableName, Schema schemaSource, Schema... schemaDestinations) throws Exception {\r\n        // Clear out table\r\n        clearOutDestinationTable(tableName, schemaDestinations);\r\n\r\n        // Start copying\r\n        String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\r\n        Schema schema = Schema.XXXX_T0;\r\n        Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\r\n        PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\r\n        ResultSet resSet = prepStmnt.executeQuery();\r\n\r\n        copyToDestinationTable(tableName, resSet, schemaSource, schemaDestinations);\r\n\r\n        resSet.close();\r\n        prepStmnt.close();\r\n        conn.close();\r\n    }\r\n\r\n    private void copyToDestinationTable(String tableName, ResultSet resSet, Schema schemaSource, Schema... schemaDestinations) throws Exception {\r\n        for (Schema schemaDestination : schemaDestinations) {\r\n            System.out.println(&quot;Copying &quot; + tableName + &quot; to &quot; + schemaDestination.toString());\r\n            String sqlInsert = buildInsert(tableName);\r\n            Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\r\n            PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlInsert);\r\n\r\n            while (resSet.next()) {\r\n                for (int i = 0; i &lt; resSet.getMetaData().getColumnCount(); i++) {\r\n                    prepStmntDestination.setObject(i + 1, resSet.getObject(i + 1));\r\n                }\r\n                prepStmntDestination.executeUpdate();\r\n            }\r\n\r\n            prepStmntDestination.close();\r\n            connDestination.close();\r\n        }\r\n    }\r\n\r\n    private void clearOutDestinationTable(String tableName, Schema... schemaDestinations) throws SQLException {\r\n        for (Schema schemaDestination : schemaDestinations) {\r\n            String sqlDelete = &quot;DELETE FROM &quot; + tableName;\r\n            Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\r\n            PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlDelete);\r\n            prepStmntDestination.executeUpdate();\r\n            prepStmntDestination.close();\r\n            connDestination.close();\r\n        }\r\n    }\r\n\r\n    private String buildInsert(String tableName) throws SQLException {\r\n        String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\r\n        String result = &quot;&quot;;\r\n        Schema schema = Schema.XXXX_T0;\r\n        Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\r\n        PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\r\n        ResultSet resSet = prepStmnt.executeQuery();\r\n        ResultSetMetaData metaData = resSet.getMetaData();\r\n        String[] columnNames = new String[metaData.getColumnCount()];\r\n        result = &quot;INSERT INTO &quot; + tableName + &quot;(&quot;;\r\n        for (int i = 0; i &lt; columnNames.length; i++) {\r\n            result = result + metaData.getColumnName(i + 1) + &quot;,&quot;;\r\n        }\r\n        result = result.substring(0, result.length() - 1) + &quot;) VALUES ( &quot;;\r\n        for (int i = 0; i &lt; columnNames.length - 1; i++) {\r\n            result = result + &quot; ? ,&quot;;\r\n        }\r\n        result = result + &quot; ? )&quot;;\r\n        resSet.close();\r\n        prepStmnt.close();\r\n        conn.close();\r\n\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic enum Schema {\r\n\r\n    XXXX_T0(&quot;XXXX_T0&quot;, &quot;password here&quot;, &quot;T0&quot;, &quot;20&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION...&quot;),\r\n\r\n    XXXX_T1(&quot;XXXX_T1&quot;, &quot;password here&quot;, &quot;T1&quot;, &quot;30&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\r\n\r\n    XXXX_T2(&quot;XXXX_T2&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;40&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\r\n\r\n    XXXX_T3(&quot;XXXX_T3&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;50&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\r\n\r\n\r\n    private final String connectionString;\r\n    private final String userId;\r\n    private final String password;\r\n    private final String displayId;\r\n    private final String order;\r\n    private final boolean interAct;\r\n\r\n    private Schema(String userId, String password, String databaseId, String order, boolean interAct, String connectionString) {\r\n        this.connectionString = connectionString;\r\n        this.userId = userId;\r\n        this.password = password;\r\n        this.displayId = databaseId;\r\n        this.order = order;\r\n        this.interAct = interAct;\r\n    }\r\n\r\n\r\n    /**\r\n     * Return a specific Schema for a give Schema database id\r\n     */\r\n    public static final Schema getSchema(String displayId) {\r\n        for (Schema schema : values()) {\r\n            if (displayId.equals(schema.displayId)) {\r\n                return schema;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String getConnectionString() {\r\n        return connectionString;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n}\r\n","title":"Java Copying tables to another schema","body":"<p>Here's what worked for me in the end - simple routine to copy multiple table from the T0 schema to the T1, T2 and T3 schemas</p>\n<p>public class CopyFromT0toT123 {</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    CopyFromT0toT123 copy = new CopyFromT0toT123();\n    copy.copyTable(&quot;table name 1&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\n    copy.copyTable(&quot;table name 2&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\n    copy.copyTable(&quot;table name 3&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\n}\n\nprivate void copyTable(String tableName, Schema schemaSource, Schema... schemaDestinations) throws Exception {\n    // Clear out table\n    clearOutDestinationTable(tableName, schemaDestinations);\n\n    // Start copying\n    String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\n    Schema schema = Schema.XXXX_T0;\n    Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\n    PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\n    ResultSet resSet = prepStmnt.executeQuery();\n\n    copyToDestinationTable(tableName, resSet, schemaSource, schemaDestinations);\n\n    resSet.close();\n    prepStmnt.close();\n    conn.close();\n}\n\nprivate void copyToDestinationTable(String tableName, ResultSet resSet, Schema schemaSource, Schema... schemaDestinations) throws Exception {\n    for (Schema schemaDestination : schemaDestinations) {\n        System.out.println(&quot;Copying &quot; + tableName + &quot; to &quot; + schemaDestination.toString());\n        String sqlInsert = buildInsert(tableName);\n        Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\n        PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlInsert);\n\n        while (resSet.next()) {\n            for (int i = 0; i &lt; resSet.getMetaData().getColumnCount(); i++) {\n                prepStmntDestination.setObject(i + 1, resSet.getObject(i + 1));\n            }\n            prepStmntDestination.executeUpdate();\n        }\n\n        prepStmntDestination.close();\n        connDestination.close();\n    }\n}\n\nprivate void clearOutDestinationTable(String tableName, Schema... schemaDestinations) throws SQLException {\n    for (Schema schemaDestination : schemaDestinations) {\n        String sqlDelete = &quot;DELETE FROM &quot; + tableName;\n        Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\n        PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlDelete);\n        prepStmntDestination.executeUpdate();\n        prepStmntDestination.close();\n        connDestination.close();\n    }\n}\n\nprivate String buildInsert(String tableName) throws SQLException {\n    String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\n    String result = &quot;&quot;;\n    Schema schema = Schema.XXXX_T0;\n    Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\n    PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\n    ResultSet resSet = prepStmnt.executeQuery();\n    ResultSetMetaData metaData = resSet.getMetaData();\n    String[] columnNames = new String[metaData.getColumnCount()];\n    result = &quot;INSERT INTO &quot; + tableName + &quot;(&quot;;\n    for (int i = 0; i &lt; columnNames.length; i++) {\n        result = result + metaData.getColumnName(i + 1) + &quot;,&quot;;\n    }\n    result = result.substring(0, result.length() - 1) + &quot;) VALUES ( &quot;;\n    for (int i = 0; i &lt; columnNames.length - 1; i++) {\n        result = result + &quot; ? ,&quot;;\n    }\n    result = result + &quot; ? )&quot;;\n    resSet.close();\n    prepStmnt.close();\n    conn.close();\n\n    return result;\n}\n</code></pre>\n<p>}</p>\n<p>public enum Schema {</p>\n<pre><code>XXXX_T0(&quot;XXXX_T0&quot;, &quot;password here&quot;, &quot;T0&quot;, &quot;20&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION...&quot;),\n\nXXXX_T1(&quot;XXXX_T1&quot;, &quot;password here&quot;, &quot;T1&quot;, &quot;30&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\n\nXXXX_T2(&quot;XXXX_T2&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;40&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\n\nXXXX_T3(&quot;XXXX_T3&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;50&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\n\n\nprivate final String connectionString;\nprivate final String userId;\nprivate final String password;\nprivate final String displayId;\nprivate final String order;\nprivate final boolean interAct;\n\nprivate Schema(String userId, String password, String databaseId, String order, boolean interAct, String connectionString) {\n    this.connectionString = connectionString;\n    this.userId = userId;\n    this.password = password;\n    this.displayId = databaseId;\n    this.order = order;\n    this.interAct = interAct;\n}\n\n\n/**\n * Return a specific Schema for a give Schema database id\n */\npublic static final Schema getSchema(String displayId) {\n    for (Schema schema : values()) {\n        if (displayId.equals(schema.displayId)) {\n            return schema;\n        }\n    }\n    return null;\n}\n\npublic String getConnectionString() {\n    return connectionString;\n}\n\npublic String getUserId() {\n    return userId;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8072192,"reputation":49,"user_id":6084584,"accept_rate":36,"display_name":"Will"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38382163,"answer_count":2,"score":0,"last_activity_date":1692747295,"creation_date":1468520001,"question_id":38381349,"body_markdown":"I have a place where I store tables. \r\nIn this place I have a table. Lets&#39; name it Table A. All columns in table  A columns are varchars. \r\nI want to create a process that will go through every table and create a new table in a different place in the database. \r\nHowever this table has to have the right datatypes instead of varchars.\r\nSo if my column in table A is a column with the values 1234, I want to create a field that will be an INT an not a varchar.\r\n\r\nI don&#39;t have any idea how to do it in java. Could somebody point me in the right direction on what things I would have to learn and if it is too difficult\r\n\r\nThanks","title":"Java Copying tables to another schema","body":"<p>I have a place where I store tables. \nIn this place I have a table. Lets' name it Table A. All columns in table  A columns are varchars. \nI want to create a process that will go through every table and create a new table in a different place in the database. \nHowever this table has to have the right datatypes instead of varchars.\nSo if my column in table A is a column with the values 1234, I want to create a field that will be an INT an not a varchar.</p>\n\n<p>I don't have any idea how to do it in java. Could somebody point me in the right direction on what things I would have to learn and if it is too difficult</p>\n\n<p>Thanks</p>\n"},{"tags":["java","dictionary","collections","initialization"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1311447305,"post_id":6802483,"comment_id":8076307,"body_markdown":"relatd: http://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction/2041789#2041789","body":"relatd: <a href=\"http://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction/2041789#2041789\" title=\"initialize java hashset values by construction\">stackoverflow.com/questions/2041778/&hellip;</a>"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1374146850,"post_id":6802483,"comment_id":25830951,"body_markdown":"Closely related: http://stackoverflow.com/questions/507602/how-to-initialise-a-static-map-in-java (Both questions are about initialising a constant map with static, final values.)","body":"Closely related: <a href=\"http://stackoverflow.com/questions/507602/how-to-initialise-a-static-map-in-java\" title=\"how to initialise a static map in java\">stackoverflow.com/questions/507602/&hellip;</a> (Both questions are about initialising a constant map with static, final values.)"},{"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"score":0,"creation_date":1461997324,"post_id":6802483,"comment_id":61461233,"body_markdown":"http://stackoverflow.com/questions/36951414/initialize-a-map-hashmap-in-java/36951468#36951468","body":"<a href=\"http://stackoverflow.com/questions/36951414/initialize-a-map-hashmap-in-java/36951468#36951468\" title=\"initialize a map hashmap in java\">stackoverflow.com/questions/36951414/&hellip;</a>"},{"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"score":0,"creation_date":1517758340,"post_id":6802483,"comment_id":84215884,"body_markdown":"In Java 9: http://www.techiedelight.com/initialize-map-java9/","body":"In Java 9: <a href=\"http://www.techiedelight.com/initialize-map-java9/\" rel=\"nofollow noreferrer\">techiedelight.com/initialize-map-java9</a>"},{"owner":{"account_id":26485,"reputation":58926,"user_id":68939,"display_name":"ax."},"score":0,"creation_date":1521654925,"post_id":6802483,"comment_id":85828546,"body_markdown":"If you use apache.commons.collections, you can use https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/MapUtils.html#putAll(java.util.Map,%20java.lang.Object[])","body":"If you use apache.commons.collections, you can use <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/MapUtils.html#putAll(java.util.Map,%20java.lang.Object[])\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/&hellip;</a>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1536626650,"post_id":6802483,"comment_id":91482207,"body_markdown":"Since no answer is allowed here any more, see https://stackoverflow.com/questions/507602/how-can-i-initialise-a-static-map/52266947#52266947","body":"Since no answer is allowed here any more, see <a href=\"https://stackoverflow.com/questions/507602/how-can-i-initialise-a-static-map/52266947#52266947\" title=\"how can i initialise a static map\">stackoverflow.com/questions/507602/&hellip;</a>"},{"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"score":0,"creation_date":1566075027,"post_id":6802483,"comment_id":101543825,"body_markdown":"Check [soyuz-to](https://github.com/thedocs-io/soyuz-to) - `to.map(&quot;myKey&quot;, &quot;myValue&quot;)`. It very simple and has a lot of other useful features","body":"Check <a href=\"https://github.com/thedocs-io/soyuz-to\" rel=\"nofollow noreferrer\">soyuz-to</a> - <code>to.map(&quot;myKey&quot;, &quot;myValue&quot;)</code>. It very simple and has a lot of other useful features"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1576548820,"post_id":6802483,"comment_id":104927138,"body_markdown":"**Not** a duplicate of [the linked Question](https://stackoverflow.com/q/507602/642706). That Question is about `static` while this Question is asking about instantiating by literal syntax. **Voting to re-open.** Perhaps this Question is a duplicate of some other Question; if so, re-open and close again by linking to a Question that is truly an original of this.","body":"<b>Not</b> a duplicate of <a href=\"https://stackoverflow.com/q/507602/642706\">the linked Question</a>. That Question is about <code>static</code> while this Question is asking about instantiating by literal syntax. <b>Voting to re-open.</b> Perhaps this Question is a duplicate of some other Question; if so, re-open and close again by linking to a Question that is truly an original of this."}],"answers":[{"comments":[{"owner":{"account_id":260365,"reputation":9128,"user_id":543873,"accept_rate":72,"display_name":"Michael"},"score":3,"creation_date":1439682541,"post_id":6802502,"comment_id":51962527,"body_markdown":"This won&#39;t work if you want to initial the elements in a function...","body":"This won&#39;t work if you want to initial the elements in a function..."},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":12,"creation_date":1439712303,"post_id":6802502,"comment_id":51967244,"body_markdown":"@Michael: Well yes, if you want to use a function than you cannot use a not-function. But why do you want to?","body":"@Michael: Well yes, if you want to use a function than you cannot use a not-function. But why do you want to?"},{"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"score":9,"creation_date":1502905643,"post_id":6802502,"comment_id":78398257,"body_markdown":"and for the cases when you need a Map with a single entry there&#39;s `Collections.singletonMap()` :)","body":"and for the cases when you need a Map with a single entry there&#39;s <code>Collections.singletonMap()</code> :)"},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":3,"creation_date":1507040040,"post_id":6802502,"comment_id":80047547,"body_markdown":"Now that stable Java 9 has been released, I prefer [this link for Javadoc](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html). And +1 because one less dependency!","body":"Now that stable Java 9 has been released, I prefer <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">this link for Javadoc</a>. And +1 because one less dependency!"},{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":3,"creation_date":1532709723,"post_id":6802502,"comment_id":90091282,"body_markdown":"Where is Java 9 `entry` documented?","body":"Where is Java 9 <code>entry</code> documented?"},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":1,"creation_date":1532798870,"post_id":6802502,"comment_id":90113167,"body_markdown":"@nobar: In the very last link at the end of my post.","body":"@nobar: In the very last link at the end of my post."},{"owner":{"display_name":"user5047085"},"score":0,"creation_date":1548748028,"post_id":6802502,"comment_id":95642154,"body_markdown":"&quot;this works for up to 10 elements&quot;, what if we want 11 elements?","body":"&quot;this works for up to 10 elements&quot;, what if we want 11 elements?"},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":0,"creation_date":1548791841,"post_id":6802502,"comment_id":95667499,"body_markdown":"@MrCholo: In this case use one of the other possibilities.","body":"@MrCholo: In this case use one of the other possibilities."},{"owner":{"account_id":1094163,"reputation":3336,"user_id":7023816,"display_name":"Cameron Hudson"},"score":3,"creation_date":1549556754,"post_id":6802502,"comment_id":95953147,"body_markdown":"Should be `Map.entry`, not `entry`, but works otherwise. Thanks!","body":"Should be <code>Map.entry</code>, not <code>entry</code>, but works otherwise. Thanks!"},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":2,"creation_date":1549645799,"post_id":6802502,"comment_id":95990575,"body_markdown":"@CameronHudson: If you use a `static import` then it is just `entry`.","body":"@CameronHudson: If you use a <code>static import</code> then it is just <code>entry</code>."},{"owner":{"account_id":1094163,"reputation":3336,"user_id":7023816,"display_name":"Cameron Hudson"},"score":0,"creation_date":1549728703,"post_id":6802502,"comment_id":96011170,"body_markdown":"@yankee Oh thanks, TIL. Here is some more info for those like me who use the Eclipse default of non-static imports: https://www.geeksforgeeks.org/static-import-java/","body":"@yankee Oh thanks, TIL. Here is some more info for those like me who use the Eclipse default of non-static imports: <a href=\"https://www.geeksforgeeks.org/static-import-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/static-import-java</a>"},{"owner":{"account_id":3277057,"reputation":418,"user_id":2758758,"display_name":"Thrasi"},"score":0,"creation_date":1554889794,"post_id":6802502,"comment_id":97913625,"body_markdown":"@yankee can you elaborate on &quot;However, the anonymous subclass might introduce unwanted behaviour in some cases.&quot;?","body":"@yankee can you elaborate on &quot;However, the anonymous subclass might introduce unwanted behaviour in some cases.&quot;?"},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":0,"creation_date":1564598408,"post_id":6802502,"comment_id":101088198,"body_markdown":"@Thrasi: I added two examples.","body":"@Thrasi: I added two examples."},{"owner":{"account_id":3300292,"reputation":129,"user_id":2776632,"display_name":"Diego dos Santos"},"score":0,"creation_date":1575480196,"post_id":6802502,"comment_id":104583952,"body_markdown":"Nice answer. Keep in mind that, as the doc states, Map.entry accepts neither null key nor null value, so it&#39;s not recommended for cases where values might be null.","body":"Nice answer. Keep in mind that, as the doc states, Map.entry accepts neither null key nor null value, so it&#39;s not recommended for cases where values might be null."},{"owner":{"account_id":1431154,"reputation":8400,"user_id":1353549,"accept_rate":73,"display_name":"akim"},"score":0,"creation_date":1627640039,"post_id":6802502,"comment_id":121215768,"body_markdown":"The lightweight syntax for Java 9 is nice, but does not work when a key is null.","body":"The lightweight syntax for Java 9 is nice, but does not work when a key is null."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1645628789,"post_id":6802502,"comment_id":125923540,"body_markdown":"@yankee This question asks how to directly initialize a HashMap.  `Collections.singletonMap()` doesn&#39;t work for this because `HashMap` doesn&#39;t implement a `Collection`.  This can cause type errors in your code, and since `Map` can&#39;t be typecast to `HashMap`, or vice versa, this just won&#39;t work.","body":"@yankee This question asks how to directly initialize a HashMap.  <code>Collections.singletonMap()</code> doesn&#39;t work for this because <code>HashMap</code> doesn&#39;t implement a <code>Collection</code>.  This can cause type errors in your code, and since <code>Map</code> can&#39;t be typecast to <code>HashMap</code>, or vice versa, this just won&#39;t work."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":1,"creation_date":1648470596,"post_id":6802502,"comment_id":126624500,"body_markdown":"@skidwiz The original question should probably be reworded - I don&#39;t think the question asker is particularly interested in the actual implementation of map, as long as it&#39;s a map, i.e. is an instance of a concrete class that implements the `Map` interface. Whatever `Collections.singletonMap()` creates, it implements the `Map` interface, because that&#39;s what its signature says. Not sure what you mean by &quot;`HashMap` doesn&#39;t implement a `Collection`&quot; - `Map` does not inherit from `Collection` either, so I don&#39;t see how this is relevant.","body":"@skidwiz The original question should probably be reworded - I don&#39;t think the question asker is particularly interested in the actual implementation of map, as long as it&#39;s a map, i.e. is an instance of a concrete class that implements the <code>Map</code> interface. Whatever <code>Collections.singletonMap()</code> creates, it implements the <code>Map</code> interface, because that&#39;s what its signature says. Not sure what you mean by &quot;<code>HashMap</code> doesn&#39;t implement a <code>Collection</code>&quot; - <code>Map</code> does not inherit from <code>Collection</code> either, so I don&#39;t see how this is relevant."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1663188634,"post_id":6802502,"comment_id":130183570,"body_markdown":"note - key vals must not be null","body":"note - key vals must not be null"}],"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"comment_count":18,"down_vote_count":9,"up_vote_count":2113,"is_accepted":true,"score":2104,"last_activity_date":1675591403,"creation_date":1311446655,"answer_id":6802502,"question_id":6802483,"body_markdown":"# All Versions\r\n\r\nIn case you happen to need just a single entry: There is `Collections.singletonMap(&quot;key&quot;, &quot;value&quot;)`.\r\n\r\n# For Java Version 9 or higher:\r\n\r\nYes, this is possible now. In Java 9 a couple of factory methods have been added that simplify the creation of maps :\r\n\r\n    // this works for up to 10 elements:\r\n    Map&lt;String, String&gt; test1 = Map.of(\r\n        &quot;a&quot;, &quot;b&quot;,\r\n        &quot;c&quot;, &quot;d&quot;\r\n    );\r\n\r\n    // this works for any number of elements:\r\n    import static java.util.Map.entry;    \r\n    Map&lt;String, String&gt; test2 = Map.ofEntries(\r\n        entry(&quot;a&quot;, &quot;b&quot;),\r\n        entry(&quot;c&quot;, &quot;d&quot;)\r\n    );\r\n\r\nIn the example above both `test` and `test2` will be the same, just with different ways of expressing the Map. The `Map.of` method is defined for up to ten elements in the map, while the `Map.ofEntries` method will have no such limit.\r\n\r\nNote that in this case the resulting map will be an immutable map. If you want the map to be mutable, you could copy it again, e.g. using `mutableMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));`. Also note that in this case keys and values must not be `null`.\r\n\r\n(See also [JEP 269](http://openjdk.java.net/jeps/269) and the [Javadoc](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html))\r\n\r\n# For up to Java Version 8:\r\n\r\nNo, you will have to add all the elements manually. You can use an initializer in an anonymous subclass to make the syntax a little bit shorter:\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;() {{\r\n    \tput(&quot;a&quot;, &quot;b&quot;);\r\n   \t    put(&quot;c&quot;, &quot;d&quot;);\r\n    }};\r\n\r\nHowever, the anonymous subclass might introduce unwanted behavior in some cases. This includes for example:\r\n\r\n- It generates an additional class which increases memory consumption, disk space consumption and startup-time\r\n- In case of a non-static method: It holds a reference to the object the creating method was called upon. That means the object of the outer class cannot be garbage collected while the created map object is still referenced, thus blocking additional memory\r\n\r\nUsing a function for initialization will also enable you to generate a map in an initializer, but avoids nasty side-effects:\r\n\r\n\r\n    Map&lt;String, String&gt; myMap = createMap();\r\n\r\n  \tprivate static Map&lt;String, String&gt; createMap() {\r\n    \tMap&lt;String,String&gt; myMap = new HashMap&lt;String,String&gt;();\r\n    \tmyMap.put(&quot;a&quot;, &quot;b&quot;);\r\n    \tmyMap.put(&quot;c&quot;, &quot;d&quot;);\r\n        return myMap;\r\n    }\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<h1>All Versions</h1>\n<p>In case you happen to need just a single entry: There is <code>Collections.singletonMap(&quot;key&quot;, &quot;value&quot;)</code>.</p>\n<h1>For Java Version 9 or higher:</h1>\n<p>Yes, this is possible now. In Java 9 a couple of factory methods have been added that simplify the creation of maps :</p>\n<pre><code>// this works for up to 10 elements:\nMap&lt;String, String&gt; test1 = Map.of(\n    &quot;a&quot;, &quot;b&quot;,\n    &quot;c&quot;, &quot;d&quot;\n);\n\n// this works for any number of elements:\nimport static java.util.Map.entry;    \nMap&lt;String, String&gt; test2 = Map.ofEntries(\n    entry(&quot;a&quot;, &quot;b&quot;),\n    entry(&quot;c&quot;, &quot;d&quot;)\n);\n</code></pre>\n<p>In the example above both <code>test</code> and <code>test2</code> will be the same, just with different ways of expressing the Map. The <code>Map.of</code> method is defined for up to ten elements in the map, while the <code>Map.ofEntries</code> method will have no such limit.</p>\n<p>Note that in this case the resulting map will be an immutable map. If you want the map to be mutable, you could copy it again, e.g. using <code>mutableMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));</code>. Also note that in this case keys and values must not be <code>null</code>.</p>\n<p>(See also <a href=\"http://openjdk.java.net/jeps/269\" rel=\"noreferrer\">JEP 269</a> and the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html\" rel=\"noreferrer\">Javadoc</a>)</p>\n<h1>For up to Java Version 8:</h1>\n<p>No, you will have to add all the elements manually. You can use an initializer in an anonymous subclass to make the syntax a little bit shorter:</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;() {{\n    put(&quot;a&quot;, &quot;b&quot;);\n    put(&quot;c&quot;, &quot;d&quot;);\n}};\n</code></pre>\n<p>However, the anonymous subclass might introduce unwanted behavior in some cases. This includes for example:</p>\n<ul>\n<li>It generates an additional class which increases memory consumption, disk space consumption and startup-time</li>\n<li>In case of a non-static method: It holds a reference to the object the creating method was called upon. That means the object of the outer class cannot be garbage collected while the created map object is still referenced, thus blocking additional memory</li>\n</ul>\n<p>Using a function for initialization will also enable you to generate a map in an initializer, but avoids nasty side-effects:</p>\n<pre><code>Map&lt;String, String&gt; myMap = createMap();\n\nprivate static Map&lt;String, String&gt; createMap() {\n    Map&lt;String,String&gt; myMap = new HashMap&lt;String,String&gt;();\n    myMap.put(&quot;a&quot;, &quot;b&quot;);\n    myMap.put(&quot;c&quot;, &quot;d&quot;);\n    return myMap;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":42012,"reputation":3769,"user_id":122241,"display_name":"jprete"},"score":90,"creation_date":1311446902,"post_id":6802512,"comment_id":8076255,"body_markdown":"It works but it&#39;s ugly and has invisible side effects that the user should understand before doing it - for example, generating an entire anonymous class on the spot.","body":"It works but it&#39;s ugly and has invisible side effects that the user should understand before doing it - for example, generating an entire anonymous class on the spot."},{"owner":{"account_id":378189,"reputation":14916,"user_id":730759,"accept_rate":86,"display_name":"gregory561"},"score":109,"creation_date":1311447017,"post_id":6802512,"comment_id":8076271,"body_markdown":"yep, that is way I wrote about being careful and gave a link to the description.","body":"yep, that is way I wrote about being careful and gave a link to the description."},{"owner":{"account_id":198768,"reputation":1124,"user_id":443633,"display_name":"michaelok"},"score":6,"creation_date":1368738641,"post_id":6802512,"comment_id":23856913,"body_markdown":"Great link. The reference in that link to [GreencoddsTenthRuleOfProgramming](http://www.c2.com/cgi/wiki?GreencoddsTenthRuleOfProgramming) is worth the read.","body":"Great link. The reference in that link to <a href=\"http://www.c2.com/cgi/wiki?GreencoddsTenthRuleOfProgramming\" rel=\"nofollow noreferrer\">GreencoddsTenthRuleOfProgramming</a> is worth the read."},{"owner":{"account_id":106052,"reputation":7496,"user_id":444761,"accept_rate":41,"display_name":"Mark"},"score":0,"creation_date":1409387558,"post_id":6802512,"comment_id":39953193,"body_markdown":"This is a feasible option for initializing a Map in an interface (where you cannot use a static block).","body":"This is a feasible option for initializing a Map in an interface (where you cannot use a static block)."},{"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"score":21,"creation_date":1413364511,"post_id":6802512,"comment_id":41412612,"body_markdown":"can you add &quot;as ImmutableMap.builder.put(&quot;k1&quot;,&quot;v1&quot;).put(&quot;k2&quot;,&quot;v2&quot;).build()&quot; as the &quot;of&quot; method is limited to 5 pairs at maximum ?","body":"can you add &quot;as ImmutableMap.builder.put(&quot;k1&quot;,&quot;v1&quot;).put(&quot;k2&quot;,&quot;v2&quot;).build()&quot; as the &quot;of&quot; method is limited to 5 pairs at maximum ?"},{"owner":{"account_id":2319381,"reputation":874,"user_id":2035600,"accept_rate":86,"display_name":"Dan Jay"},"score":3,"creation_date":1434625466,"post_id":6802512,"comment_id":49864301,"body_markdown":"+ for Guava http://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/ImmutableMap.html","body":"+ for Guava <a href=\"http://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"nofollow noreferrer\">google.github.io/guava/releases/18.0/api/docs/com/google/com&zwnj;&#8203;mon/&hellip;</a>"},{"owner":{"account_id":1408320,"reputation":1285,"user_id":1335438,"display_name":"saiyancoder"},"score":2,"creation_date":1468778784,"post_id":6802512,"comment_id":64255288,"body_markdown":"Year 2016. I keep Googling the same question and coming to the same answer. Wish I could upvote each time..","body":"Year 2016. I keep Googling the same question and coming to the same answer. Wish I could upvote each time.."},{"owner":{"account_id":1394813,"reputation":4459,"user_id":1324802,"accept_rate":56,"display_name":"Androidcoder"},"score":0,"creation_date":1478456734,"post_id":6802512,"comment_id":68151155,"body_markdown":"I use this method to send data to the Firebase database. If you don&#39;t create a new Hashmap for each &#39;setValue&#39; you can get concurrent access exceptions.","body":"I use this method to send data to the Firebase database. If you don&#39;t create a new Hashmap for each &#39;setValue&#39; you can get concurrent access exceptions."},{"owner":{"account_id":2939509,"reputation":7108,"user_id":2517730,"accept_rate":85,"display_name":"Yar"},"score":0,"creation_date":1502155782,"post_id":6802512,"comment_id":78075661,"body_markdown":"btw using `ImmutableMap.of` gives me an `unchecked assignment` warning.","body":"btw using <code>ImmutableMap.of</code> gives me an <code>unchecked assignment</code> warning."},{"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"score":0,"creation_date":1517921113,"post_id":6802512,"comment_id":84283287,"body_markdown":"This cant be used when you have a variable inside.  You have make it final","body":"This cant be used when you have a variable inside.  You have make it final"},{"owner":{"account_id":5407878,"reputation":3375,"user_id":4305743,"display_name":"sudoz"},"score":0,"creation_date":1567397280,"post_id":6802512,"comment_id":101939567,"body_markdown":"But guava&#39;s immutableMap only support 5 key-value pairs most.","body":"But guava&#39;s immutableMap only support 5 key-value pairs most."},{"owner":{"account_id":13727319,"reputation":1969,"user_id":9905745,"display_name":"Yossarian42"},"score":0,"creation_date":1581529813,"post_id":6802512,"comment_id":106468658,"body_markdown":"Double curly initialization is creating an anonymous class, thus contains a reference to the outer class and will sometimes cause the outer class to exist even after it should be garbage collected. So it will cause a memory leak.","body":"Double curly initialization is creating an anonymous class, thus contains a reference to the outer class and will sometimes cause the outer class to exist even after it should be garbage collected. So it will cause a memory leak."},{"owner":{"account_id":3418861,"reputation":2258,"user_id":2867041,"display_name":"jox"},"score":0,"creation_date":1645615351,"post_id":6802512,"comment_id":125917553,"body_markdown":"Another warning: A HashMap create this way may result in the string `&quot;null&quot;` when trying to serialize it to JSON via `new Gson().toJson(h)`. (Side node: `getClass()` on a normal HashMap object will return `&quot;HashMap&quot;`. But on an object created like this it will be something like `&quot;Main$1&quot;` (an anonymous class as mentioned by others)).","body":"Another warning: A HashMap create this way may result in the string <code>&quot;null&quot;</code> when trying to serialize it to JSON via <code>new Gson().toJson(h)</code>. (Side node: <code>getClass()</code> on a normal HashMap object will return <code>&quot;HashMap&quot;</code>. But on an object created like this it will be something like <code>&quot;Main$1&quot;</code> (an anonymous class as mentioned by others))."}],"tags":[],"owner":{"account_id":378189,"reputation":14916,"user_id":730759,"accept_rate":86,"display_name":"gregory561"},"comment_count":13,"down_vote_count":15,"up_vote_count":1174,"is_accepted":false,"score":1159,"last_activity_date":1604437071,"creation_date":1311446732,"answer_id":6802512,"question_id":6802483,"body_markdown":"This is one way.\r\n      \r\n    Map&lt;String, String&gt; h = new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;a&quot;,&quot;b&quot;);\r\n    }};\r\n\r\nHowever, you should be careful and make sure that you understand the above code (it creates a new class that inherits from HashMap). Therefore, you should read more here:\r\nhttp://www.c2.com/cgi/wiki?DoubleBraceInitialization\r\n, or simply use Guava:\r\n\r\n    Map&lt;String, Integer&gt; left = ImmutableMap.of(&quot;a&quot;, 1, &quot;b&quot;, 2, &quot;c&quot;, 3);\r\n\r\n`ImmutableMap.of` works for up to 5 entries. Otherwise, use the builder: &lt;a href=&quot;https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableMap.java&quot;&gt;source&lt;/a&gt;.\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>This is one way.</p>\n<pre><code>Map&lt;String, String&gt; h = new HashMap&lt;String, String&gt;() {{\n    put(&quot;a&quot;,&quot;b&quot;);\n}};\n</code></pre>\n<p>However, you should be careful and make sure that you understand the above code (it creates a new class that inherits from HashMap). Therefore, you should read more here:\n<a href=\"http://www.c2.com/cgi/wiki?DoubleBraceInitialization\" rel=\"noreferrer\">http://www.c2.com/cgi/wiki?DoubleBraceInitialization</a>\n, or simply use Guava:</p>\n<pre><code>Map&lt;String, Integer&gt; left = ImmutableMap.of(&quot;a&quot;, 1, &quot;b&quot;, 2, &quot;c&quot;, 3);\n</code></pre>\n<p><code>ImmutableMap.of</code> works for up to 5 entries. Otherwise, use the builder: <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableMap.java\" rel=\"noreferrer\">source</a>.</p>\n"},{"comments":[{"owner":{"account_id":1431616,"reputation":1505,"user_id":1430206,"accept_rate":83,"display_name":"ooolala"},"score":0,"creation_date":1454130302,"post_id":6802520,"comment_id":57917764,"body_markdown":"Simple and to the point.  I think this with an extended commentary section would be the best answer.","body":"Simple and to the point.  I think this with an extended commentary section would be the best answer."},{"owner":{"account_id":3570412,"reputation":773,"user_id":2980873,"accept_rate":91,"display_name":"hello_its_me"},"score":0,"creation_date":1460298416,"post_id":6802520,"comment_id":60665738,"body_markdown":"Why doesn&#39;t this have more votes? Is it not better than the other answers? I looks a lot cleaner. Could someone explain to me, please? Because I might end up using this one. Thanks.","body":"Why doesn&#39;t this have more votes? Is it not better than the other answers? I looks a lot cleaner. Could someone explain to me, please? Because I might end up using this one. Thanks."},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":17,"creation_date":1465495527,"post_id":6802520,"comment_id":62937603,"body_markdown":"There are memory implications that should be noted though. https://blog.jooq.org/2014/12/08/dont-be-clever-the-double-curly-braces-anti-pattern/","body":"There are memory implications that should be noted though. <a href=\"https://blog.jooq.org/2014/12/08/dont-be-clever-the-double-curly-braces-anti-pattern/\" rel=\"nofollow noreferrer\">blog.jooq.org/2014/12/08/&hellip;</a>"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":1,"creation_date":1468311732,"post_id":6802520,"comment_id":64062047,"body_markdown":"@Amalgovinus Basically, by creating a new subclass, you are hard-coding the type arguments from `HashMap` into this subclass. This can only work if you actually provide them. (With a new (empty) HashMap, the type arguments are not relevant.)","body":"@Amalgovinus Basically, by creating a new subclass, you are hard-coding the type arguments from <code>HashMap</code> into this subclass. This can only work if you actually provide them. (With a new (empty) HashMap, the type arguments are not relevant.)"},{"owner":{"account_id":543097,"reputation":415,"user_id":245106,"accept_rate":100,"display_name":"udachny"},"score":2,"creation_date":1472112084,"post_id":6802520,"comment_id":65623892,"body_markdown":"I like the cleanliness of it, but it creates unnecessary anonymous class and has the problems described here:\n\nhttp://www.c2.com/cgi/wiki?DoubleBraceInitialization","body":"I like the cleanliness of it, but it creates unnecessary anonymous class and has the problems described here:  <a href=\"http://www.c2.com/cgi/wiki?DoubleBraceInitialization\" rel=\"nofollow noreferrer\">c2.com/cgi/wiki?DoubleBraceInitialization</a>"},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":1,"creation_date":1477950706,"post_id":6802520,"comment_id":67956820,"body_markdown":"@hello_its_me: Because Its same as http://stackoverflow.com/a/6802512/1386911 answer, just the formatting different. And in this case this extended formatting has no additional value on top of compact format for readability.","body":"@hello_its_me: Because Its same as <a href=\"http://stackoverflow.com/a/6802512/1386911\">stackoverflow.com/a/6802512/1386911</a> answer, just the formatting different. And in this case this extended formatting has no additional value on top of compact format for readability."},{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":0,"creation_date":1569742270,"post_id":6802520,"comment_id":102689633,"body_markdown":"Can anyone explain the synax here? The nested `{{}}` .","body":"Can anyone explain the synax here? The nested <code>{{}}</code> ."}],"tags":[],"owner":{"account_id":53892,"reputation":27585,"user_id":161161,"accept_rate":61,"display_name":"Shaggy Frog"},"comment_count":7,"down_vote_count":6,"up_vote_count":71,"is_accepted":false,"score":65,"last_activity_date":1311446826,"creation_date":1311446826,"answer_id":6802520,"question_id":6802483,"body_markdown":"    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;()\r\n    {\r\n        {\r\n            put(key1, value1);\r\n            put(key2, value2);\r\n        }\r\n    };\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;()\n{\n    {\n        put(key1, value1);\n        put(key2, value2);\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"comment_count":0,"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1658790219,"creation_date":1311446885,"answer_id":6802523,"question_id":6802483,"body_markdown":"There is no direct way to do this - As of 2021, Java has no Map literals (yet - I think they were proposed for Java 8, but didn&#39;t make it).\r\n\r\nSome people like this:\r\n\r\n\r\n    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;(){{\r\n           put(&quot;test&quot;,&quot;test&quot;); put(&quot;test&quot;,&quot;test&quot;);}};\r\n\r\nThis creates an anonymous subclass of HashMap, whose instance initializer puts these values. (By the way, a map can&#39;t contain twice the same value, your second put will overwrite the first one. I&#39;ll use different values for the next examples.)\r\n\r\nThe normal way would be this (for a local variable):\r\n\r\n    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\r\n    test.put(&quot;test&quot;,&quot;test&quot;);\r\n    test.put(&quot;test1&quot;,&quot;test2&quot;);\r\n\r\nIf your `test` map is an instance variable, put the initialization in a constructor or instance initializer:\r\n\r\n    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\r\n    {\r\n        test.put(&quot;test&quot;,&quot;test&quot;);\r\n        test.put(&quot;test1&quot;,&quot;test2&quot;);\r\n    }\r\n\r\nIf your `test` map is a class variable, put the initialization in a static initializer:\r\n\r\n    static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\r\n    static {\r\n        test.put(&quot;test&quot;,&quot;test&quot;);\r\n        test.put(&quot;test1&quot;,&quot;test2&quot;);\r\n    }\r\n\r\n\r\nIf you want your map to never change, you should after the initialization wrap your map by `Collections.unmodifiableMap(...)`. You can do this in a static initializer too:\r\n\r\n    static Map&lt;String,String&gt; test;\r\n    {\r\n        Map&lt;String,String&gt; temp = new HashMap&lt;String, String&gt;();\r\n        temp.put(&quot;test&quot;,&quot;test&quot;);\r\n        temp.put(&quot;test1&quot;,&quot;test2&quot;);\r\n        test = Collections.unmodifiableMap(temp);\r\n    }\r\n\r\n(I&#39;m not sure if you can now make `test` final ... try it out and report here.)\r\n\r\nSince Java 9, you also have the Map.of(...) and Map.ofEntries() syntax, as explained in [the answer from yankee](https://stackoverflow.com/a/6802502/600500).","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>There is no direct way to do this - As of 2021, Java has no Map literals (yet - I think they were proposed for Java 8, but didn't make it).</p>\n<p>Some people like this:</p>\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;(){{\n       put(&quot;test&quot;,&quot;test&quot;); put(&quot;test&quot;,&quot;test&quot;);}};\n</code></pre>\n<p>This creates an anonymous subclass of HashMap, whose instance initializer puts these values. (By the way, a map can't contain twice the same value, your second put will overwrite the first one. I'll use different values for the next examples.)</p>\n<p>The normal way would be this (for a local variable):</p>\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\ntest.put(&quot;test&quot;,&quot;test&quot;);\ntest.put(&quot;test1&quot;,&quot;test2&quot;);\n</code></pre>\n<p>If your <code>test</code> map is an instance variable, put the initialization in a constructor or instance initializer:</p>\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\n{\n    test.put(&quot;test&quot;,&quot;test&quot;);\n    test.put(&quot;test1&quot;,&quot;test2&quot;);\n}\n</code></pre>\n<p>If your <code>test</code> map is a class variable, put the initialization in a static initializer:</p>\n<pre><code>static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\nstatic {\n    test.put(&quot;test&quot;,&quot;test&quot;);\n    test.put(&quot;test1&quot;,&quot;test2&quot;);\n}\n</code></pre>\n<p>If you want your map to never change, you should after the initialization wrap your map by <code>Collections.unmodifiableMap(...)</code>. You can do this in a static initializer too:</p>\n<pre><code>static Map&lt;String,String&gt; test;\n{\n    Map&lt;String,String&gt; temp = new HashMap&lt;String, String&gt;();\n    temp.put(&quot;test&quot;,&quot;test&quot;);\n    temp.put(&quot;test1&quot;,&quot;test2&quot;);\n    test = Collections.unmodifiableMap(temp);\n}\n</code></pre>\n<p>(I'm not sure if you can now make <code>test</code> final ... try it out and report here.)</p>\n<p>Since Java 9, you also have the Map.of(...) and Map.ofEntries() syntax, as explained in <a href=\"https://stackoverflow.com/a/6802502/600500\">the answer from yankee</a>.</p>\n"},{"comments":[{"owner":{"account_id":220,"reputation":45093,"user_id":274,"accept_rate":78,"display_name":"Xetius"},"score":29,"creation_date":1381326659,"post_id":17374339,"comment_id":28535883,"body_markdown":"Also, guava has ImmutableMap.builder.put(&quot;k1&quot;,&quot;v1&quot;).put(&quot;k2&quot;,&quot;v2&quot;).build();","body":"Also, guava has ImmutableMap.builder.put(&quot;k1&quot;,&quot;v1&quot;).put(&quot;k2&quot;,&quot;v2&quot;).build();"},{"owner":{"account_id":136163,"reputation":408,"user_id":339490,"display_name":"Gewthen"},"score":21,"creation_date":1394132689,"post_id":17374339,"comment_id":33761671,"body_markdown":"ImmutableMap is not the same as a HashMap, as it will fail on null values, whereas map HashMap will not.","body":"ImmutableMap is not the same as a HashMap, as it will fail on null values, whereas map HashMap will not."},{"owner":{"account_id":2367632,"reputation":893,"user_id":2073032,"accept_rate":67,"display_name":"Thiago"},"score":4,"creation_date":1425933346,"post_id":17374339,"comment_id":46156306,"body_markdown":"Just to help others that might face this issue.\nYou have to type the builder to make it a Map&lt;String, String&gt;, like this: Map&lt;String,String&gt; test = ImmutableMap.&lt;String,String&gt;builder().put(&quot;k1&quot;, &quot;v1&quot;).put(&quot;k2&quot;, &quot;v2&quot;).build();","body":"Just to help others that might face this issue. You have to type the builder to make it a Map&lt;String, String&gt;, like this: Map&lt;String,String&gt; test = ImmutableMap.&lt;String,String&gt;builder().put(&quot;k1&quot;, &quot;v1&quot;).put(&quot;k2&quot;, &quot;v2&quot;).build();"}],"tags":[],"owner":{"account_id":169897,"reputation":6729,"user_id":396255,"display_name":"Jens Hoffmann"},"comment_count":3,"down_vote_count":2,"up_vote_count":372,"is_accepted":false,"score":370,"last_activity_date":1549437784,"creation_date":1372456990,"answer_id":17374339,"question_id":6802483,"body_markdown":"If you allow 3rd party libs, you can use [Guava][1]&#39;s [ImmutableMap][2] to achieve literal-like brevity:\r\n\r\n    Map&lt;String, String&gt; test = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;);\r\n\r\nThis works for up to [5 key/value pairs][3], otherwise you can use its [builder][4]:\r\n\r\n    Map&lt;String, String&gt; test = ImmutableMap.&lt;String, String&gt;builder()\r\n        .put(&quot;k1&quot;, &quot;v1&quot;)\r\n        .put(&quot;k2&quot;, &quot;v2&quot;)\r\n        ...\r\n        .build();\r\n&lt;br/&gt;\r\n\r\n - note that Guava&#39;s [ImmutableMap][2] implementation differs from Java&#39;s [HashMap][5] implementation (most notably it is immutable and does not permit null keys/values)\r\n - for more info, see Guava&#39;s user guide article on its [immutable collection types][6]\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html\r\n  [3]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#of-K-V-K-V-K-V-K-V-K-V-\r\n  [4]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#builder--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\r\n  [6]: https://github.com/google/guava/wiki/ImmutableCollectionsExplained","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>If you allow 3rd party libs, you can use <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>'s <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">ImmutableMap</a> to achieve literal-like brevity:</p>\n\n<pre><code>Map&lt;String, String&gt; test = ImmutableMap.of(\"k1\", \"v1\", \"k2\", \"v2\");\n</code></pre>\n\n<p>This works for up to <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#of-K-V-K-V-K-V-K-V-K-V-\" rel=\"noreferrer\">5 key/value pairs</a>, otherwise you can use its <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#builder--\" rel=\"noreferrer\">builder</a>:</p>\n\n<pre><code>Map&lt;String, String&gt; test = ImmutableMap.&lt;String, String&gt;builder()\n    .put(\"k1\", \"v1\")\n    .put(\"k2\", \"v2\")\n    ...\n    .build();\n</code></pre>\n\n<p><br/></p>\n\n<ul>\n<li>note that Guava's <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">ImmutableMap</a> implementation differs from Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap</a> implementation (most notably it is immutable and does not permit null keys/values)</li>\n<li>for more info, see Guava's user guide article on its <a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\" rel=\"noreferrer\">immutable collection types</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1536629891,"post_id":17474581,"comment_id":91482787,"body_markdown":"I wrote an answer inspired by yours: https://stackoverflow.com/questions/507602/how-can-i-initialise-a-static-map/52266947#52266947","body":"I wrote an answer inspired by yours: <a href=\"https://stackoverflow.com/questions/507602/how-can-i-initialise-a-static-map/52266947#52266947\" title=\"how can i initialise a static map\">stackoverflow.com/questions/507602/&hellip;</a>"},{"owner":{"account_id":2198326,"reputation":2976,"user_id":1943432,"accept_rate":9,"display_name":"Rolintocour"},"score":2,"creation_date":1540449666,"post_id":17474581,"comment_id":92871533,"body_markdown":"Another solution with Apache Utils that is never mentioned but is readable, using prior Java versions:         MapUtils.putAll(new HashMap&lt;String, String&gt;(), new Object[] {\n                &quot;My key&quot;, &quot;my value&quot;, ...","body":"Another solution with Apache Utils that is never mentioned but is readable, using prior Java versions:         MapUtils.putAll(new HashMap&lt;String, String&gt;(), new Object[] {                 &quot;My key&quot;, &quot;my value&quot;, ..."},{"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"score":0,"creation_date":1611943305,"post_id":17474581,"comment_id":116621470,"body_markdown":"An elegant, and easy-to-understand example!\nAnd the Apache Utils is also great.","body":"An elegant, and easy-to-understand example! And the Apache Utils is also great."}],"tags":[],"owner":{"account_id":335566,"reputation":659,"user_id":662728,"display_name":"Aerthel"},"comment_count":3,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1372954223,"creation_date":1372954223,"answer_id":17474581,"question_id":6802483,"body_markdown":"An alternative, using plain Java 7 classes and varargs: create a class `HashMapBuilder` with this method:\r\n    &lt;!-- language-all: java--&gt;\r\n\r\n    public static HashMap&lt;String, String&gt; build(String... data){\r\n\t\tHashMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tif(data.length % 2 != 0) \r\n\t\t\tthrow new IllegalArgumentException(&quot;Odd number of arguments&quot;);\t\t\r\n\t\t\r\n\t\tString key = null;\r\n\t\tInteger step = -1;\r\n\t\t\r\n\t\tfor(String value : data){\r\n\t\t\tstep++;\r\n\t\t\tswitch(step % 2){\r\n\t\t\tcase 0:\t\r\n\t\t\t\tif(value == null)\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;Null key value&quot;); \r\n\t\t\t\tkey = value;\r\n\t\t\t\tcontinue;\r\n\t\t\tcase 1:\t\t\t\t\r\n\t\t\t\tresult.put(key, value);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\r\nUse the method like this:\r\n\r\n    HashMap&lt;String,String&gt; data = HashMapBuilder.build(&quot;key1&quot;,&quot;value1&quot;,&quot;key2&quot;,&quot;value2&quot;);","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>An alternative, using plain Java 7 classes and varargs: create a class <code>HashMapBuilder</code> with this method:\n    </p>\n\n<pre><code>public static HashMap&lt;String, String&gt; build(String... data){\n    HashMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\n\n    if(data.length % 2 != 0) \n        throw new IllegalArgumentException(\"Odd number of arguments\");      \n\n    String key = null;\n    Integer step = -1;\n\n    for(String value : data){\n        step++;\n        switch(step % 2){\n        case 0: \n            if(value == null)\n                throw new IllegalArgumentException(\"Null key value\"); \n            key = value;\n            continue;\n        case 1:             \n            result.put(key, value);\n            break;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Use the method like this:</p>\n\n<pre><code>HashMap&lt;String,String&gt; data = HashMapBuilder.build(\"key1\",\"value1\",\"key2\",\"value2\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1692747211,"creation_date":1576549148,"answer_id":59366753,"question_id":6802483,"body_markdown":"# tl;dr\r\n\r\nUse `Map.of` methods in Java 9 and later.\r\n\r\n    Map&lt; String , String &gt; animalSounds =\r\n        Map.of(\r\n            &quot;dog&quot;  , &quot;bark&quot; ,   // key , value\r\n            &quot;cat&quot;  , &quot;meow&quot; ,   // key , value\r\n            &quot;bird&quot; , &quot;chirp&quot;    // key , value\r\n        )\r\n    ;\r\n\r\n\r\n# `Map.of` \r\n\r\nJava 9 added a series of [`Map.of`][1] static methods to do just what you want: **Instantiate an immutable `Map` using literal syntax**.\r\n\r\nThe map (a collection of entries) is immutable, so you cannot add or remove entries after instantiating. Also, the key and the value of each entry is immutable, cannot be changed. [See the Javadoc][2] for other rules, such as no NULLs allowed, no duplicate keys allowed, and the iteration order of mappings is arbitrary.\r\n\r\nLet&#39;s look at these methods, using some sample data for a map of day-of-week to a person who we expect will work on that day.\r\n\r\n    Person alice = new Person( &quot;Alice&quot; );\r\n    Person bob = new Person( &quot;Bob&quot; );\r\n    Person carol = new Person( &quot;Carol&quot; );\r\n\r\n## `Map.of()`\r\n\r\n[`Map.of`][1] creates an empty `Map`. Unmodifiable, so you cannot add entries. Here is an example of such a map, empty with no entries.\r\n\r\n    Map &lt; DayOfWeek, Person &gt; dailyWorkerEmpty = Map.of();\r\n\r\n&gt;dailyWorkerEmpty.toString(): {}\r\n\r\n## `Map.of(  )`\r\n\r\n`Map.of( k , v , k , v , )` are several methods that take 1 to 10 key-value pairs. Here is an example of two entries.\r\n\r\n    Map &lt; DayOfWeek, Person &gt; weekendWorker = \r\n            Map.of( \r\n                DayOfWeek.SATURDAY , alice ,     // key , value\r\n                DayOfWeek.SUNDAY , bob           // key , value\r\n            )\r\n    ;\r\n\r\n&gt;weekendWorker.toString(): {SUNDAY=Person{ name=&#39;Bob&#39; }, SATURDAY=Person{ name=&#39;Alice&#39; }}\r\n\r\n## `Map.ofEntries(  )`\r\n\r\n[`Map.ofEntries( Map.Entry ,  )`][3] takes any number of objects implementing the [`Map.Entry`][4] interface. Java bundles two classes implementing that interface, one mutable, the other immutable:     [`AbstractMap.SimpleEntry`][5], [`AbstractMap.SimpleImmutableEntry`][6]. But we need not specify a concrete class. We merely need to call [`Map.entry( k , v )`][7] method, pass our key and our value, and we get back an object of a some class implementing [`Map.Entry`][4] interface.\r\n\r\n    Map &lt; DayOfWeek, Person &gt; weekdayWorker = Map.ofEntries(\r\n            Map.entry( DayOfWeek.MONDAY , alice ) ,            // Call to `Map.entry` method returns an object implementing `Map.Entry`. \r\n            Map.entry( DayOfWeek.TUESDAY , bob ) ,\r\n            Map.entry( DayOfWeek.WEDNESDAY , bob ) ,\r\n            Map.entry( DayOfWeek.THURSDAY , carol ) ,\r\n            Map.entry( DayOfWeek.FRIDAY , carol )\r\n    );\r\n\r\n&gt;weekdayWorker.toString(): {WEDNESDAY=Person{ name=&#39;Bob&#39; }, TUESDAY=Person{ name=&#39;Bob&#39; }, THURSDAY=Person{ name=&#39;Carol&#39; }, FRIDAY=Person{ name=&#39;Carol&#39; }, MONDAY=Person{ name=&#39;Alice&#39; }}\r\n\r\n## `Map.copyOf`\r\n\r\n\r\nJava 10 added the method [`Map.copyOf`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)). Pass an existing map, get back an immutable copy of that map.  \r\n\r\nFor efficiency, if the passed map is already truly immutable, the `copyOf` method returns a reference to the original without manufacturing a new map.\r\n\r\n## About `Collections.unmodifiableMap`\r\n\r\nTip: Prefer `Map.copyOf` over [`Collections.unmodifiableMap`][8] if you need/expect a truly immutable map. \r\n\r\nThe `Collections` method produces a *view* onto the original map, a mere wrapper, not a true copy. The upside: Being a mere view has the benefit of conserving memory. The downside: Modifications to the original show through.\r\n\r\nIf the original map gets modified (`put`, `remove`, etc.), the supposedly-unmodifiable will actually show the modification. In contrast, the `Map.copyOf` does indeed produce a true copy of the passed map if not already truly immutable.\r\n\r\n```java\r\nrecord Person( String name ) { }\r\nPerson alice = new Person ( &quot;Alice&quot; );\r\nPerson bob = new Person ( &quot;Bob&quot; );\r\nMap &lt; DayOfWeek, Person &gt; weekendWorkerMutable = HashMap.newHashMap ( 2 );\r\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , bob );\r\nweekendWorkerMutable.put ( DayOfWeek.SUNDAY , bob );\r\nSystem.out.println ( &quot;weekendWorkerMutable = &quot; + weekendWorkerMutable );\r\n\r\nMap &lt; DayOfWeek, Person &gt; weekendWorkerSupposedlyUnmodifiable = Collections.unmodifiableMap ( weekendWorkerMutable );\r\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\r\nMap &lt; DayOfWeek, Person &gt; trueCopy = Map.copyOf ( weekendWorkerSupposedlyUnmodifiable );\r\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\r\n\r\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , alice );  // &lt;--- Modify the original.\r\n\r\nSystem.out.println ( &quot; ----- After mutating the original mutable map  ----- &quot; );\r\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\r\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\r\n```\r\n\r\nWhen run:\r\n\r\n - We see that the supposedly unmodifiable is indeed modifiable *indirectly*, by modifying the original map on which the unmodifiable map is a view. \r\n - In contrast, the `copyOf` method produces a true copy, showing Bob as working the entire weekend even after assigning Alice.\r\n\r\n```none\r\nweekendWorkerMutable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\r\nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\r\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\r\n ----- After mutating the original mutable map  ----- \r\nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Alice], SUNDAY=Person[name=Bob]}\r\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\r\n```\r\n\r\n## Notes\r\n\r\nNotice that the iterator order of maps produced via `Map.of` are *not* guaranteed. The entries have an arbitrary order. Do not write code based on the order seen, as the documentation warns the order is subject to change.\r\n\r\nNote that all of these `Map.of` methods return a [`Map`][9] of **an unspecified class**. The underlying concrete class may even vary from one version of Java to another. This anonymity enables Java to choose from various implementations, whatever optimally fits your particular data. For example, if your keys come from an [enum][10], Java might use an [`EnumMap`][11] under the covers.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#immutable\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.Entry.html\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleEntry.html\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\r\n  [7]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [10]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html","title":"How to directly initialize a HashMap (in a literal way)?","body":"<h1>tl;dr</h1>\n<p>Use <code>Map.of</code> methods in Java 9 and later.</p>\n<pre><code>Map&lt; String , String &gt; animalSounds =\n    Map.of(\n        &quot;dog&quot;  , &quot;bark&quot; ,   // key , value\n        &quot;cat&quot;  , &quot;meow&quot; ,   // key , value\n        &quot;bird&quot; , &quot;chirp&quot;    // key , value\n    )\n;\n</code></pre>\n<h1><code>Map.of</code></h1>\n<p>Java 9 added a series of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"noreferrer\"><code>Map.of</code></a> static methods to do just what you want: <strong>Instantiate an immutable <code>Map</code> using literal syntax</strong>.</p>\n<p>The map (a collection of entries) is immutable, so you cannot add or remove entries after instantiating. Also, the key and the value of each entry is immutable, cannot be changed. <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#immutable\" rel=\"noreferrer\">See the Javadoc</a> for other rules, such as no NULLs allowed, no duplicate keys allowed, and the iteration order of mappings is arbitrary.</p>\n<p>Let's look at these methods, using some sample data for a map of day-of-week to a person who we expect will work on that day.</p>\n<pre><code>Person alice = new Person( &quot;Alice&quot; );\nPerson bob = new Person( &quot;Bob&quot; );\nPerson carol = new Person( &quot;Carol&quot; );\n</code></pre>\n<h2><code>Map.of()</code></h2>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"noreferrer\"><code>Map.of</code></a> creates an empty <code>Map</code>. Unmodifiable, so you cannot add entries. Here is an example of such a map, empty with no entries.</p>\n<pre><code>Map &lt; DayOfWeek, Person &gt; dailyWorkerEmpty = Map.of();\n</code></pre>\n<blockquote>\n<p>dailyWorkerEmpty.toString(): {}</p>\n</blockquote>\n<h2><code>Map.of(  )</code></h2>\n<p><code>Map.of( k , v , k , v , )</code> are several methods that take 1 to 10 key-value pairs. Here is an example of two entries.</p>\n<pre><code>Map &lt; DayOfWeek, Person &gt; weekendWorker = \n        Map.of( \n            DayOfWeek.SATURDAY , alice ,     // key , value\n            DayOfWeek.SUNDAY , bob           // key , value\n        )\n;\n</code></pre>\n<blockquote>\n<p>weekendWorker.toString(): {SUNDAY=Person{ name='Bob' }, SATURDAY=Person{ name='Alice' }}</p>\n</blockquote>\n<h2><code>Map.ofEntries(  )</code></h2>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\" rel=\"noreferrer\"><code>Map.ofEntries( Map.Entry ,  )</code></a> takes any number of objects implementing the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a> interface. Java bundles two classes implementing that interface, one mutable, the other immutable:     <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleEntry</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleImmutableEntry</code></a>. But we need not specify a concrete class. We merely need to call <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"noreferrer\"><code>Map.entry( k , v )</code></a> method, pass our key and our value, and we get back an object of a some class implementing <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a> interface.</p>\n<pre><code>Map &lt; DayOfWeek, Person &gt; weekdayWorker = Map.ofEntries(\n        Map.entry( DayOfWeek.MONDAY , alice ) ,            // Call to `Map.entry` method returns an object implementing `Map.Entry`. \n        Map.entry( DayOfWeek.TUESDAY , bob ) ,\n        Map.entry( DayOfWeek.WEDNESDAY , bob ) ,\n        Map.entry( DayOfWeek.THURSDAY , carol ) ,\n        Map.entry( DayOfWeek.FRIDAY , carol )\n);\n</code></pre>\n<blockquote>\n<p>weekdayWorker.toString(): {WEDNESDAY=Person{ name='Bob' }, TUESDAY=Person{ name='Bob' }, THURSDAY=Person{ name='Carol' }, FRIDAY=Person{ name='Carol' }, MONDAY=Person{ name='Alice' }}</p>\n</blockquote>\n<h2><code>Map.copyOf</code></h2>\n<p>Java 10 added the method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)\" rel=\"noreferrer\"><code>Map.copyOf</code></a>. Pass an existing map, get back an immutable copy of that map.</p>\n<p>For efficiency, if the passed map is already truly immutable, the <code>copyOf</code> method returns a reference to the original without manufacturing a new map.</p>\n<h2>About <code>Collections.unmodifiableMap</code></h2>\n<p>Tip: Prefer <code>Map.copyOf</code> over <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)\" rel=\"noreferrer\"><code>Collections.unmodifiableMap</code></a> if you need/expect a truly immutable map.</p>\n<p>The <code>Collections</code> method produces a <em>view</em> onto the original map, a mere wrapper, not a true copy. The upside: Being a mere view has the benefit of conserving memory. The downside: Modifications to the original show through.</p>\n<p>If the original map gets modified (<code>put</code>, <code>remove</code>, etc.), the supposedly-unmodifiable will actually show the modification. In contrast, the <code>Map.copyOf</code> does indeed produce a true copy of the passed map if not already truly immutable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( String name ) { }\nPerson alice = new Person ( &quot;Alice&quot; );\nPerson bob = new Person ( &quot;Bob&quot; );\nMap &lt; DayOfWeek, Person &gt; weekendWorkerMutable = HashMap.newHashMap ( 2 );\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , bob );\nweekendWorkerMutable.put ( DayOfWeek.SUNDAY , bob );\nSystem.out.println ( &quot;weekendWorkerMutable = &quot; + weekendWorkerMutable );\n\nMap &lt; DayOfWeek, Person &gt; weekendWorkerSupposedlyUnmodifiable = Collections.unmodifiableMap ( weekendWorkerMutable );\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\nMap &lt; DayOfWeek, Person &gt; trueCopy = Map.copyOf ( weekendWorkerSupposedlyUnmodifiable );\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\n\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , alice );  // &lt;--- Modify the original.\n\nSystem.out.println ( &quot; ----- After mutating the original mutable map  ----- &quot; );\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\n</code></pre>\n<p>When run:</p>\n<ul>\n<li>We see that the supposedly unmodifiable is indeed modifiable <em>indirectly</em>, by modifying the original map on which the unmodifiable map is a view.</li>\n<li>In contrast, the <code>copyOf</code> method produces a true copy, showing Bob as working the entire weekend even after assigning Alice.</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>weekendWorkerMutable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\n ----- After mutating the original mutable map  ----- \nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Alice], SUNDAY=Person[name=Bob]}\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\n</code></pre>\n<h2>Notes</h2>\n<p>Notice that the iterator order of maps produced via <code>Map.of</code> are <em>not</em> guaranteed. The entries have an arbitrary order. Do not write code based on the order seen, as the documentation warns the order is subject to change.</p>\n<p>Note that all of these <code>Map.of</code> methods return a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> of <strong>an unspecified class</strong>. The underlying concrete class may even vary from one version of Java to another. This anonymity enables Java to choose from various implementations, whatever optimally fits your particular data. For example, if your keys come from an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">enum</a>, Java might use an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html\" rel=\"noreferrer\"><code>EnumMap</code></a> under the covers.</p>\n"},{"tags":[],"owner":{"account_id":17533267,"reputation":11,"user_id":12716906,"display_name":"NotNV6"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579780849,"creation_date":1579085830,"answer_id":59749962,"question_id":6802483,"body_markdown":"You could possibly make your own ``Map.of`` (which is only available in Java 9 and higher) method easily in 2 easy ways\r\n\r\n# Make it with a set amount of parameters\r\n\r\nExample\r\n```java\r\npublic &lt;K,V&gt; Map&lt;K,V&gt; mapOf(K k1, V v1, K k2, V v2 /* perhaps more parameters */) {\r\n    return new HashMap&lt;K, V&gt;() {{\r\n      put(k1, v1);\r\n      put(k2,  v2);\r\n      // etc...\r\n    }};\r\n}\r\n```\r\n\r\n# Make it using a List\r\nYou can also make this using a list, instead of making a lot of methods for a certain set of parameters.\r\n\r\nExample\r\n```java\r\npublic &lt;K, V&gt; Map&lt;K, V&gt; mapOf(List&lt;K&gt; keys, List&lt;V&gt; values) {\r\n   if(keys.size() != values.size()) {\r\n        throw new IndexOutOfBoundsException(&quot;amount of keys and values is not equal&quot;);\r\n    }\r\n\r\n    return new HashMap&lt;K, V&gt;() {{\r\n        IntStream.range(0, keys.size()).forEach(index -&gt; put(keys.get(index), values.get(index)));\r\n    }};\r\n}\r\n````\r\n\r\n**Note**\r\nIt is not recommended to use this for everything as this makes an anonymous class every time you use this.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>You could possibly make your own <code>Map.of</code> (which is only available in Java 9 and higher) method easily in 2 easy ways</p>\n\n<h1>Make it with a set amount of parameters</h1>\n\n<p>Example</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;K,V&gt; Map&lt;K,V&gt; mapOf(K k1, V v1, K k2, V v2 /* perhaps more parameters */) {\n    return new HashMap&lt;K, V&gt;() {{\n      put(k1, v1);\n      put(k2,  v2);\n      // etc...\n    }};\n}\n</code></pre>\n\n<h1>Make it using a List</h1>\n\n<p>You can also make this using a list, instead of making a lot of methods for a certain set of parameters.</p>\n\n<p>Example</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;K, V&gt; Map&lt;K, V&gt; mapOf(List&lt;K&gt; keys, List&lt;V&gt; values) {\n   if(keys.size() != values.size()) {\n        throw new IndexOutOfBoundsException(\"amount of keys and values is not equal\");\n    }\n\n    return new HashMap&lt;K, V&gt;() {{\n        IntStream.range(0, keys.size()).forEach(index -&gt; put(keys.get(index), values.get(index)));\n    }};\n}\n</code></pre>\n\n<p><strong>Note</strong>\nIt is not recommended to use this for everything as this makes an anonymous class every time you use this.</p>\n"},{"tags":[],"owner":{"account_id":1269357,"reputation":8769,"user_id":1226020,"accept_rate":41,"display_name":"JHH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581933204,"creation_date":1581932756,"answer_id":60259680,"question_id":6802483,"body_markdown":"Unfortunately, using varargs if the type of the keys and values are not the same is not very reasonable as you&#39;d have to use `Object...` and lose type safety completely. If you always want to create e.g. a `Map&lt;String, String&gt;`, of course a `toMap(String... args)` would be possible though, but not very pretty as it would be easy to mix up keys and values, and an odd number of arguments would be invalid.\r\n\r\nYou could create a sub-class of HashMap that has a chainable method like\r\n\r\n    public class ChainableMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n      public ChainableMap&lt;K, V&gt; set(K k, V v) {\r\n        put(k, v);\r\n        return this;\r\n      }\r\n    }\r\n\r\nand use it like `new ChainableMap&lt;String, Object&gt;().set(&quot;a&quot;, 1).set(&quot;b&quot;, &quot;foo&quot;)`\r\n\r\nAnother approach is to use the common builder pattern:\r\n\r\n```\r\npublic class MapBuilder&lt;K, V&gt; {\r\n  private Map&lt;K, V&gt; mMap = new HashMap&lt;&gt;();\r\n\r\n  public MapBuilder&lt;K, V&gt; put(K k, V v) {\r\n    mMap.put(k, v);\r\n    return this;\r\n  }\r\n\r\n  public Map&lt;K, V&gt; build() {\r\n    return mMap;\r\n  }\r\n}\r\n```\r\n\r\nand use it like `new MapBuilder&lt;String, Object&gt;().put(&quot;a&quot;, 1).put(&quot;b&quot;, &quot;foo&quot;).build();`\r\n\r\nHowever, the solution I&#39;ve used now and then utilizes varargs and the `Pair` class:\r\n\r\n```\r\npublic class Maps {\r\n  public static &lt;K, V&gt; Map&lt;K, V&gt; of(Pair&lt;K, V&gt;... pairs) {\r\n    Map&lt;K, V&gt; = new HashMap&lt;&gt;();\r\n\r\n    for (Pair&lt;K, V&gt; pair : pairs) {\r\n      map.put(pair.first, pair.second);\r\n    }\r\n\r\n    return map;\r\n  }\r\n}\r\n```    \r\n\r\n`Map&lt;String, Object&gt; map = Maps.of(Pair.create(&quot;a&quot;, 1), Pair.create(&quot;b&quot;, &quot;foo&quot;);`\r\n\r\nThe verbosity of `Pair.create()` bothers me a bit, but this works quite fine. If you don&#39;t mind static imports you could of course create a helper:\r\n\r\n```\r\npublic &lt;K, V&gt; Pair&lt;K, V&gt; p(K k, V v) {\r\n  return Pair.create(k, v);\r\n}\r\n```\r\n\r\n`Map&lt;String, Object&gt; map = Maps.of(p(&quot;a&quot;, 1), p(&quot;b&quot;, &quot;foo&quot;);`\r\n\r\n(Instead of `Pair` one could imagine using `Map.Entry`, but since it&#39;s an interface it requires an implementing class and/or a helper factory method. It&#39;s also not immutable, and contains other logic not useful for this task.)","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Unfortunately, using varargs if the type of the keys and values are not the same is not very reasonable as you'd have to use <code>Object...</code> and lose type safety completely. If you always want to create e.g. a <code>Map&lt;String, String&gt;</code>, of course a <code>toMap(String... args)</code> would be possible though, but not very pretty as it would be easy to mix up keys and values, and an odd number of arguments would be invalid.</p>\n\n<p>You could create a sub-class of HashMap that has a chainable method like</p>\n\n<pre><code>public class ChainableMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n  public ChainableMap&lt;K, V&gt; set(K k, V v) {\n    put(k, v);\n    return this;\n  }\n}\n</code></pre>\n\n<p>and use it like <code>new ChainableMap&lt;String, Object&gt;().set(\"a\", 1).set(\"b\", \"foo\")</code></p>\n\n<p>Another approach is to use the common builder pattern:</p>\n\n<pre><code>public class MapBuilder&lt;K, V&gt; {\n  private Map&lt;K, V&gt; mMap = new HashMap&lt;&gt;();\n\n  public MapBuilder&lt;K, V&gt; put(K k, V v) {\n    mMap.put(k, v);\n    return this;\n  }\n\n  public Map&lt;K, V&gt; build() {\n    return mMap;\n  }\n}\n</code></pre>\n\n<p>and use it like <code>new MapBuilder&lt;String, Object&gt;().put(\"a\", 1).put(\"b\", \"foo\").build();</code></p>\n\n<p>However, the solution I've used now and then utilizes varargs and the <code>Pair</code> class:</p>\n\n<pre><code>public class Maps {\n  public static &lt;K, V&gt; Map&lt;K, V&gt; of(Pair&lt;K, V&gt;... pairs) {\n    Map&lt;K, V&gt; = new HashMap&lt;&gt;();\n\n    for (Pair&lt;K, V&gt; pair : pairs) {\n      map.put(pair.first, pair.second);\n    }\n\n    return map;\n  }\n}\n</code></pre>\n\n<p><code>Map&lt;String, Object&gt; map = Maps.of(Pair.create(\"a\", 1), Pair.create(\"b\", \"foo\");</code></p>\n\n<p>The verbosity of <code>Pair.create()</code> bothers me a bit, but this works quite fine. If you don't mind static imports you could of course create a helper:</p>\n\n<pre><code>public &lt;K, V&gt; Pair&lt;K, V&gt; p(K k, V v) {\n  return Pair.create(k, v);\n}\n</code></pre>\n\n<p><code>Map&lt;String, Object&gt; map = Maps.of(p(\"a\", 1), p(\"b\", \"foo\");</code></p>\n\n<p>(Instead of <code>Pair</code> one could imagine using <code>Map.Entry</code>, but since it's an interface it requires an implementing class and/or a helper factory method. It's also not immutable, and contains other logic not useful for this task.)</p>\n"},{"tags":[],"owner":{"account_id":60136,"reputation":6403,"user_id":179744,"accept_rate":88,"display_name":"Robocide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583253612,"creation_date":1583253612,"answer_id":60511811,"question_id":6802483,"body_markdown":"You can use Streams In Java 8 (this is exmaple of Set):\r\n\r\n    @Test\r\n    public void whenInitializeUnmodifiableSetWithDoubleBrace_containsElements() {\r\n        Set&lt;String&gt; countries = Stream.of(&quot;India&quot;, &quot;USSR&quot;, &quot;USA&quot;)\r\n          .collect(collectingAndThen(toSet(), Collections::unmodifiableSet));\r\n      \r\n        assertTrue(countries.contains(&quot;India&quot;));\r\n    }\r\n\r\nRef: https://www.baeldung.com/java-double-brace-initialization\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>You can use Streams In Java 8 (this is exmaple of Set):</p>\n\n<pre><code>@Test\npublic void whenInitializeUnmodifiableSetWithDoubleBrace_containsElements() {\n    Set&lt;String&gt; countries = Stream.of(\"India\", \"USSR\", \"USA\")\n      .collect(collectingAndThen(toSet(), Collections::unmodifiableSet));\n\n    assertTrue(countries.contains(\"India\"));\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://www.baeldung.com/java-double-brace-initialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-double-brace-initialization</a></p>\n"},{"comments":[{"owner":{"account_id":8644915,"reputation":169,"user_id":6472404,"accept_rate":50,"display_name":"Tobias Grunwald"},"score":1,"creation_date":1624272853,"post_id":60932713,"comment_id":120304362,"body_markdown":"In case you are using apache commons, you could also use `Pair.of()` instead of `new SimpleEntry&lt;&gt;` and then `Pair::getKey` and `Pair::getValue`","body":"In case you are using apache commons, you could also use <code>Pair.of()</code> instead of <code>new SimpleEntry&lt;&gt;</code> and then <code>Pair::getKey</code> and <code>Pair::getValue</code>"}],"tags":[],"owner":{"account_id":4316093,"reputation":3757,"user_id":3525886,"accept_rate":75,"display_name":"Johnny Willer"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1585601652,"creation_date":1585578371,"answer_id":60932713,"question_id":6802483,"body_markdown":"**JAVA 8**\n\nIn plain java 8 you also have the possibility of using `Streams/Collectors` to do the job.\r\n\r\n    Map&lt;String, String&gt; myMap = Stream.of(\r\n             new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1&quot;),\r\n             new SimpleEntry&lt;&gt;(&quot;key2&quot;, &quot;value2&quot;),\r\n             new SimpleEntry&lt;&gt;(&quot;key3&quot;, &quot;value3&quot;))\r\n            .collect(toMap(SimpleEntry::getKey, SimpleEntry::getValue));\r\n\r\nThis has the advantage of not creating an Anonymous class.\r\n\r\nNote that the imports are:\r\n \r\n    import static java.util.stream.Collectors.toMap;\r\n    import java.util.AbstractMap.SimpleEntry;\r\n\r\nOf course, as noted in other answers, in java 9 onwards you have simpler ways of doing the same.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p><strong>JAVA 8</strong></p>\n\n<p>In plain java 8 you also have the possibility of using <code>Streams/Collectors</code> to do the job.</p>\n\n<pre><code>Map&lt;String, String&gt; myMap = Stream.of(\n         new SimpleEntry&lt;&gt;(\"key1\", \"value1\"),\n         new SimpleEntry&lt;&gt;(\"key2\", \"value2\"),\n         new SimpleEntry&lt;&gt;(\"key3\", \"value3\"))\n        .collect(toMap(SimpleEntry::getKey, SimpleEntry::getValue));\n</code></pre>\n\n<p>This has the advantage of not creating an Anonymous class.</p>\n\n<p>Note that the imports are:</p>\n\n<pre><code>import static java.util.stream.Collectors.toMap;\nimport java.util.AbstractMap.SimpleEntry;\n</code></pre>\n\n<p>Of course, as noted in other answers, in java 9 onwards you have simpler ways of doing the same.</p>\n"},{"tags":[],"owner":{"account_id":16428252,"reputation":11,"user_id":11867715,"display_name":"Balakrishna Kudikala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589049998,"creation_date":1589049998,"answer_id":61702012,"question_id":6802483,"body_markdown":"If you need to place only one key-value pair, you can use Collections.singletonMap(key, value);","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>If you need to place only one key-value pair, you can use Collections.singletonMap(key, value);</p>\n"},{"tags":[],"owner":{"account_id":16880224,"reputation":11,"user_id":12206542,"display_name":"Vishal Saraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592720196,"creation_date":1592709942,"answer_id":62494078,"question_id":6802483,"body_markdown":"**With Java 8 or less**\r\n\r\nYou can use static block to initialize a map with some values. Example :\r\n\r\n```java    \r\npublic static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;\r\n\r\nstatic {\r\n    test.put(&quot;test&quot;,&quot;test&quot;);\r\n    test.put(&quot;test1&quot;,&quot;test&quot;);\r\n}\r\n```\r\n\r\n**With Java 9 or more**\r\n\r\nYou can use Map.of() method to initialize a map with some values while declaring. Example :\r\n\r\n```java\r\npublic static Map&lt;String,String&gt; test = Map.of(&quot;test&quot;,&quot;test&quot;,&quot;test1&quot;,&quot;test&quot;);\r\n```\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p><strong>With Java 8 or less</strong></p>\n<p>You can use static block to initialize a map with some values. Example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;\n\nstatic {\n    test.put(&quot;test&quot;,&quot;test&quot;);\n    test.put(&quot;test1&quot;,&quot;test&quot;);\n}\n</code></pre>\n<p><strong>With Java 9 or more</strong></p>\n<p>You can use Map.of() method to initialize a map with some values while declaring. Example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String,String&gt; test = Map.of(&quot;test&quot;,&quot;test&quot;,&quot;test1&quot;,&quot;test&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17113429,"reputation":99,"user_id":12383616,"display_name":"Alan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597652620,"creation_date":1592710481,"answer_id":62494120,"question_id":6802483,"body_markdown":"You can create a method to initialize the map like in this example below:\r\n\r\n    Map&lt;String, Integer&gt; initializeMap()\r\n    {\r\n      Map&lt;String, Integer&gt; ret = new HashMap&lt;&gt;();\r\n  \r\n      //populate ret\r\n      ...\r\n  \r\n      return ret;\r\n    }\r\n\r\n    //call\r\n    Map&lt;String, Integer&gt; map = initializeMap();\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>You can create a method to initialize the map like in this example below:</p>\n<pre><code>Map&lt;String, Integer&gt; initializeMap()\n{\n  Map&lt;String, Integer&gt; ret = new HashMap&lt;&gt;();\n\n  //populate ret\n  ...\n\n  return ret;\n}\n\n//call\nMap&lt;String, Integer&gt; map = initializeMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20474879,"reputation":21,"user_id":15024439,"display_name":"Sakshi Aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610907198,"creation_date":1610905899,"answer_id":65764031,"question_id":6802483,"body_markdown":"We can use AbstractMap Class having SimpleEntry which allows the creation of immutable map\r\n    \r\n    Map&lt;String, String&gt; map5 = Stream.of(\r\n        new AbstractMap.SimpleEntry&lt;&gt;(&quot;Sakshi&quot;,&quot;java&quot;),\r\n        new AbstractMap.SimpleEntry&lt;&gt;(&quot;fine&quot;,&quot;python&quot;)\r\n        ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n        \r\n        System.out.println(map5.get(&quot;Sakshi&quot;));\r\n        map5.put(&quot;Shiva&quot;, &quot;Javascript&quot;);\r\n        System.out.println(map5.get(&quot;Shiva&quot;));// here we can add multiple entries.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>We can use AbstractMap Class having SimpleEntry which allows the creation of immutable map</p>\n<pre><code>Map&lt;String, String&gt; map5 = Stream.of(\n    new AbstractMap.SimpleEntry&lt;&gt;(&quot;Sakshi&quot;,&quot;java&quot;),\n    new AbstractMap.SimpleEntry&lt;&gt;(&quot;fine&quot;,&quot;python&quot;)\n    ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    \n    System.out.println(map5.get(&quot;Sakshi&quot;));\n    map5.put(&quot;Shiva&quot;, &quot;Javascript&quot;);\n    System.out.println(map5.get(&quot;Shiva&quot;));// here we can add multiple entries.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"score":1,"creation_date":1650962765,"post_id":66237608,"comment_id":127242052,"body_markdown":"simpler to use `entry(...)` over `new SimpleEntry&lt;&gt;(...)` (import `java.util.Map.entry`)","body":"simpler to use <code>entry(...)</code> over <code>new SimpleEntry&lt;&gt;(...)</code> (import <code>java.util.Map.entry</code>)"}],"tags":[],"owner":{"account_id":15662438,"reputation":958,"user_id":11301085,"display_name":"BeardOverflow"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1645079328,"creation_date":1613547728,"answer_id":66237608,"question_id":6802483,"body_markdown":"I would like to give a brief warning to Johnny Willer&#39;s answer.\r\n\r\n`Collectors.toMap` relies on `Map.merge` and **does not expect null values**, so it will throw a `NullPointerException` as it was described in this bug report: https://bugs.openjdk.java.net/browse/JDK-8148463\r\n\r\nAlso, if a key appears several times, the default `Collectors.toMap` will throw an `IllegalStateException`.\r\n\r\nAn alternative way to get a map with null values using a builder syntax on Java 8 is writing a custom collector **backed by a HashMap** (because it does allow null values):\r\n```\r\nMap&lt;String, String&gt; myMap = Stream.of(\r\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1&quot;),\r\n         new SimpleEntry&lt;&gt;(&quot;key2&quot;, (String) null),\r\n         new SimpleEntry&lt;&gt;(&quot;key3&quot;, &quot;value3&quot;),\r\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1updated&quot;))\r\n        .collect(HashMap::new,\r\n                (map, entry) -&gt; map.put(entry.getKey(),\r\n                                        entry.getValue()),\r\n                HashMap::putAll);\r\n```","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>I would like to give a brief warning to Johnny Willer's answer.</p>\n<p><code>Collectors.toMap</code> relies on <code>Map.merge</code> and <strong>does not expect null values</strong>, so it will throw a <code>NullPointerException</code> as it was described in this bug report: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8148463\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8148463</a></p>\n<p>Also, if a key appears several times, the default <code>Collectors.toMap</code> will throw an <code>IllegalStateException</code>.</p>\n<p>An alternative way to get a map with null values using a builder syntax on Java 8 is writing a custom collector <strong>backed by a HashMap</strong> (because it does allow null values):</p>\n<pre><code>Map&lt;String, String&gt; myMap = Stream.of(\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1&quot;),\n         new SimpleEntry&lt;&gt;(&quot;key2&quot;, (String) null),\n         new SimpleEntry&lt;&gt;(&quot;key3&quot;, &quot;value3&quot;),\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1updated&quot;))\n        .collect(HashMap::new,\n                (map, entry) -&gt; map.put(entry.getKey(),\n                                        entry.getValue()),\n                HashMap::putAll);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5843610,"reputation":325,"user_id":4604360,"display_name":"nurb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615528703,"creation_date":1615436606,"answer_id":66576454,"question_id":6802483,"body_markdown":"Following code can do the trick in Java 8:\r\n\r\n    Map&lt;String, Integer&gt; map = Stream.of(new Object[][] { \r\n         { &quot;data1&quot;, 1 }, \r\n         { &quot;data2&quot;, 2 }, \r\n     }).collect(Collectors.toMap(data -&gt; (String) data[0], data -&gt; (Integer) data[1]));\r\n\r\n[credits][1]: \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-initialize-hashmap","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Following code can do the trick in Java 8:</p>\n<pre><code>Map&lt;String, Integer&gt; map = Stream.of(new Object[][] { \n     { &quot;data1&quot;, 1 }, \n     { &quot;data2&quot;, 2 }, \n }).collect(Collectors.toMap(data -&gt; (String) data[0], data -&gt; (Integer) data[1]));\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-initialize-hashmap\" rel=\"nofollow noreferrer\">credits</a>:</p>\n"},{"comments":[{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":0,"creation_date":1625244794,"post_id":67259000,"comment_id":120585115,"body_markdown":"Isn&#39;t this just a variant on the non-desirable old pre-Java9 method described in the most popular answer?","body":"Isn&#39;t this just a variant on the non-desirable old pre-Java9 method described in the most popular answer?"}],"tags":[],"owner":{"account_id":11366664,"reputation":386,"user_id":8333400,"display_name":"Milton Bertachini"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619391523,"creation_date":1619391523,"answer_id":67259000,"question_id":6802483,"body_markdown":"    \r\nSimple way to do this:\r\n\r\n\r\n\r\n    public static Map&lt;String, String&gt; mapWithValues(String...values) {\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tfor (int x = 0; x &lt; values.length; x = x+2) {\r\n\t\t\tmap.put(values[x], values[x+1]);\r\n\t\t}\r\n\t\t\r\n\t\treturn map;\r\n\t}","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Simple way to do this:</p>\n<pre><code>public static Map&lt;String, String&gt; mapWithValues(String...values) {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    \n    for (int x = 0; x &lt; values.length; x = x+2) {\n        map.put(values[x], values[x+1]);\n    }\n    \n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":981769,"reputation":282,"user_id":1001314,"display_name":"esotericpig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620837613,"creation_date":1620817436,"answer_id":67502386,"question_id":6802483,"body_markdown":"If it&#39;s an instance variable, then an instance initialization block is definitely the way to go, especially if you can&#39;t use `Map.of()` because you need a different type of map.\r\n\r\nBut if you&#39;re feeling frisky, you could use a Java 8 `Supplier` (not recommended).\r\n\r\n```java\r\nprivate final Map&lt;String,Runnable&gt; games = ((Supplier&lt;Map&lt;String,Runnable&gt;&gt;)() -&gt; {\r\n  Map&lt;String,Runnable&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n  map.put(&quot;solarus&quot;,this::playSolarus);\r\n  map.put(&quot;lichess&quot;,this::playLichess);\r\n\r\n  return map;\r\n}).get();\r\n```\r\n\r\nOr make your own functional interface (looks fine to me):\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface MapMaker&lt;M&gt; {\r\n  static &lt;M extends Map&lt;K,V&gt;,K,V&gt; M make(M map,MapMaker&lt;M&gt; maker) {\r\n    maker.build(map);\r\n    return map;\r\n  }\r\n\r\n  void build(M map);\r\n}\r\n\r\n// Can use LinkedHashMap!\r\nprivate final Map&lt;String,Runnable&gt; games = MapMaker.make(\r\n    new LinkedHashMap&lt;&gt;(),(map) -&gt; {\r\n      map.put(&quot;solarus&quot;,this::playSolarus);\r\n      map.put(&quot;lichess&quot;,this::playLichess);\r\n    });\r\n```","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>If it's an instance variable, then an instance initialization block is definitely the way to go, especially if you can't use <code>Map.of()</code> because you need a different type of map.</p>\n<p>But if you're feeling frisky, you could use a Java 8 <code>Supplier</code> (not recommended).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;String,Runnable&gt; games = ((Supplier&lt;Map&lt;String,Runnable&gt;&gt;)() -&gt; {\n  Map&lt;String,Runnable&gt; map = new LinkedHashMap&lt;&gt;();\n\n  map.put(&quot;solarus&quot;,this::playSolarus);\n  map.put(&quot;lichess&quot;,this::playLichess);\n\n  return map;\n}).get();\n</code></pre>\n<p>Or make your own functional interface (looks fine to me):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface MapMaker&lt;M&gt; {\n  static &lt;M extends Map&lt;K,V&gt;,K,V&gt; M make(M map,MapMaker&lt;M&gt; maker) {\n    maker.build(map);\n    return map;\n  }\n\n  void build(M map);\n}\n\n// Can use LinkedHashMap!\nprivate final Map&lt;String,Runnable&gt; games = MapMaker.make(\n    new LinkedHashMap&lt;&gt;(),(map) -&gt; {\n      map.put(&quot;solarus&quot;,this::playSolarus);\n      map.put(&quot;lichess&quot;,this::playLichess);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629963494,"creation_date":1629959649,"answer_id":68933592,"question_id":6802483,"body_markdown":"```Map.of()``` seems most universal and least limited. Here, it takes care of non object input values automaticaly :\r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt; certs = new ArrayList&lt;&gt;(){{ add( Map.of(\r\n\t&quot;TAG&quot;, \t\t\tObj1 // Object\r\n\t&quot;TAGGED_ID&quot;,\t1L //Long\r\n\t&quot;DEGREE&quot;,\t\t&quot;PARENT&quot; // String\r\n    &quot;DATE&quot;,         LocalDate.now() // LocalDate\r\n));}};\r\n```\r\n\r\nNote that maps created by static ```Map.of(..)``` constuctor don&#39;t allow neither keys nor values to be ```null ```.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p><code>Map.of()</code> seems most universal and least limited. Here, it takes care of non object input values automaticaly :</p>\n<pre><code>List&lt;Map&lt;String, Object&gt; certs = new ArrayList&lt;&gt;(){{ add( Map.of(\n    &quot;TAG&quot;,          Obj1 // Object\n    &quot;TAGGED_ID&quot;,    1L //Long\n    &quot;DEGREE&quot;,       &quot;PARENT&quot; // String\n    &quot;DATE&quot;,         LocalDate.now() // LocalDate\n));}};\n</code></pre>\n<p>Note that maps created by static <code>Map.of(..)</code> constuctor don't allow neither keys nor values to be <code>null </code>.</p>\n"},{"comments":[{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":0,"creation_date":1669860155,"post_id":69766425,"comment_id":131741292,"body_markdown":"Did you invent this yourself? Please don&#39;t. Shorter and better solutions already exist, i.e. at https://www.baeldung.com/java-initialize-hashmap and on this page.","body":"Did you invent this yourself? Please don&#39;t. Shorter and better solutions already exist, i.e. at <a href=\"https://www.baeldung.com/java-initialize-hashmap\" rel=\"nofollow noreferrer\">baeldung.com/java-initialize-hashmap</a> and on this page."}],"tags":[],"owner":{"account_id":23180671,"reputation":31,"user_id":17278537,"display_name":"Gerrit Schulz"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635502600,"creation_date":1635499139,"answer_id":69766425,"question_id":6802483,"body_markdown":"We use a simple utility class to initialize Maps in a fluent way:\r\n\r\n    Map&lt;String, String&gt; map = MapInit\r\n\t\t.init(&quot;key1&quot;, &quot;value1&quot;)\r\n\t\t.put(&quot;key2&quot;, &quot;value2&quot;)\r\n\t\t.put(&quot;key3&quot;, &quot;value3&quot;)\r\n\t\t.getMap();\r\n\r\nThe utility class isn&#39;t limited neither regarding the type of keys and values nor regarding the amount of entries nor regarding the type of the resulting Map.\r\n\r\nThe utility class looks like the following:\r\n\r\n    public class MapInit&lt;K, V, T extends Map&lt;K, V&gt;&gt; {\r\n\t\tprivate final T map;\r\n\t\r\n\t\r\n\t\tprivate MapInit(final T map) {\r\n\t\t\tthis.map = map;\r\n\t\t}\r\n\t\r\n\t\tpublic T getMap() {\r\n\t\t\treturn this.map;\r\n\t\t}\r\n\t\r\n\t\tpublic static &lt;K, V&gt; MapInit&lt;K, V, HashMap&lt;K, V&gt;&gt; init(final K key, final V value) {\r\n\t\t\treturn init(HashMap::new, key, value);\r\n\t\t}\r\n\t\r\n\t\tpublic static &lt;K, V, T extends Map&lt;K, V&gt;&gt; MapInit&lt;K, V, T&gt; init(final Supplier&lt;T&gt; mapSupplier, final K key, final V value) {\r\n\t\t\treturn new MapInit&lt;&gt;(mapSupplier.get()) //\r\n\t\t\t\t\t.put(key, value);\r\n\t\t}\r\n\t\r\n\t\tpublic MapInit&lt;K, V, T&gt; put(final K key, final V value) {\r\n\t\t\tthis.map.put(key, value);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>We use a simple utility class to initialize Maps in a fluent way:</p>\n<pre><code>Map&lt;String, String&gt; map = MapInit\n    .init(&quot;key1&quot;, &quot;value1&quot;)\n    .put(&quot;key2&quot;, &quot;value2&quot;)\n    .put(&quot;key3&quot;, &quot;value3&quot;)\n    .getMap();\n</code></pre>\n<p>The utility class isn't limited neither regarding the type of keys and values nor regarding the amount of entries nor regarding the type of the resulting Map.</p>\n<p>The utility class looks like the following:</p>\n<pre><code>public class MapInit&lt;K, V, T extends Map&lt;K, V&gt;&gt; {\n    private final T map;\n\n\n    private MapInit(final T map) {\n        this.map = map;\n    }\n\n    public T getMap() {\n        return this.map;\n    }\n\n    public static &lt;K, V&gt; MapInit&lt;K, V, HashMap&lt;K, V&gt;&gt; init(final K key, final V value) {\n        return init(HashMap::new, key, value);\n    }\n\n    public static &lt;K, V, T extends Map&lt;K, V&gt;&gt; MapInit&lt;K, V, T&gt; init(final Supplier&lt;T&gt; mapSupplier, final K key, final V value) {\n        return new MapInit&lt;&gt;(mapSupplier.get()) //\n                .put(key, value);\n    }\n\n    public MapInit&lt;K, V, T&gt; put(final K key, final V value) {\n        this.map.put(key, value);\n        return this;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1643745836,"creation_date":1643745323,"answer_id":70946743,"question_id":6802483,"body_markdown":"I found [a great article by baeldung][1] that lists several ways to do this in different Java versions.\r\n\r\nA couple of interesting ways that can be handy are\r\n\r\n**For any Java version**\r\n\r\n```\r\npublic static Map&lt;String, String&gt; articleMapOne;\r\nstatic {\r\n    articleMapOne = new HashMap&lt;&gt;();\r\n    articleMapOne.put(&quot;ar01&quot;, &quot;Intro to Map&quot;);\r\n    articleMapOne.put(&quot;ar02&quot;, &quot;Some article&quot;);\r\n}\r\n```\r\n \r\n**For Java 8 using streams**\r\n```\r\nMap&lt;String, String&gt; map = Stream.of(new String[][] {\r\n  { &quot;Hello&quot;, &quot;World&quot; }, \r\n  { &quot;John&quot;, &quot;Doe&quot; }, \r\n}).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\r\n```\r\n\r\n [1]: https://www.baeldung.com/java-initialize-hashmap","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>I found <a href=\"https://www.baeldung.com/java-initialize-hashmap\" rel=\"nofollow noreferrer\">a great article by baeldung</a> that lists several ways to do this in different Java versions.</p>\n<p>A couple of interesting ways that can be handy are</p>\n<p><strong>For any Java version</strong></p>\n<pre><code>public static Map&lt;String, String&gt; articleMapOne;\nstatic {\n    articleMapOne = new HashMap&lt;&gt;();\n    articleMapOne.put(&quot;ar01&quot;, &quot;Intro to Map&quot;);\n    articleMapOne.put(&quot;ar02&quot;, &quot;Some article&quot;);\n}\n</code></pre>\n<p><strong>For Java 8 using streams</strong></p>\n<pre><code>Map&lt;String, String&gt; map = Stream.of(new String[][] {\n  { &quot;Hello&quot;, &quot;World&quot; }, \n  { &quot;John&quot;, &quot;Doe&quot; }, \n}).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\n</code></pre>\n"}],"owner":{"account_id":317806,"reputation":16745,"user_id":634682,"accept_rate":85,"display_name":"jens"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885593,"favorite_count":0,"down_vote_count":5,"up_vote_count":1607,"accepted_answer_id":6802502,"answer_count":22,"score":1602,"last_activity_date":1692747211,"creation_date":1311446433,"question_id":6802483,"body_markdown":"Is there some way of initializing a Java HashMap like this?:\r\n\r\n    Map&lt;String,String&gt; test = \r\n        new HashMap&lt;String, String&gt;{&quot;test&quot;:&quot;test&quot;,&quot;test&quot;:&quot;test&quot;};\r\n\r\nWhat would be the correct syntax? I have not found anything regarding this. Is this possible? I am looking for the shortest/fastest way to put some &quot;final/static&quot; values in a map that never change and are known in advance when creating the Map.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Is there some way of initializing a Java HashMap like this?:</p>\n\n<pre><code>Map&lt;String,String&gt; test = \n    new HashMap&lt;String, String&gt;{\"test\":\"test\",\"test\":\"test\"};\n</code></pre>\n\n<p>What would be the correct syntax? I have not found anything regarding this. Is this possible? I am looking for the shortest/fastest way to put some \"final/static\" values in a map that never change and are known in advance when creating the Map.</p>\n"},{"tags":["java","memory","jvm","garbage-collection","micronaut"],"owner":{"account_id":8707851,"reputation":717,"user_id":6515166,"accept_rate":85,"display_name":"Mssm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692745380,"creation_date":1692745380,"question_id":76957307,"body_markdown":"I have a simple Micronaut microservice which support POST/GET/PUT and DELETE for a simple Contact entity. It operates with\r\n\r\n - MongoDB (Atlas)\r\n - Redis (Aiven)\r\n - ElasticSearch (https://www.elastic.co/)\r\n\r\nI&#39;ve created a Docker image of the microservice using this base image:\r\n\r\n    FROM alpine:latest\r\n    FROM openjdk:17-alpine\r\n    RUN apk --no-cache add curl\r\n    RUN apk --no-cache add bash\r\n\r\nAnd using the jib-maven-plugin:\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n         &lt;configuration&gt;\r\n              &lt;from&gt;\r\n                   &lt;image&gt;base-image-from-docker-hub&lt;/image&gt;\r\n              &lt;/from&gt;\r\n         &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe microservice is deployed and exposed successfully using an Ingress and K8S Nginx Ingress-Controller and the API is successfully functioning. \r\n\r\nHowever, there&#39;s a significant latency change, the first call takes 2.8s in average and the subsequent calls take less than half a second.\r\n\r\nI tried to run the microservice locally and analyzed the JVM Process using a Profiler and I noticed that the process starts with a Non-Heap memory of 68mb and when calling the POST endpoint for the first time, it increases to 120mb. I concluded that there are some classes loaded upon receiving the first request.\r\n\r\nIs there a way to instruct Micronaut to have a ready-to-operate service right after the startup (loading all necessary resources) ? \r\nI don&#39;t mind waiting a couple of seconds before the service is ready to process requests with the lowest possible latency even when receiving the very first request.\r\n\r\nI&#39;ve thought about a Fake API Call On-Statup which warmups the service, but can I ensure that the JVM won&#39;t GC the resources and bringing the service back to same point it was in the beginning if it doesn&#39;t receive any request for a certain period ?","title":"Load and keep Micronaut required resources on startup","body":"<p>I have a simple Micronaut microservice which support POST/GET/PUT and DELETE for a simple Contact entity. It operates with</p>\n<ul>\n<li>MongoDB (Atlas)</li>\n<li>Redis (Aiven)</li>\n<li>ElasticSearch (<a href=\"https://www.elastic.co/\" rel=\"nofollow noreferrer\">https://www.elastic.co/</a>)</li>\n</ul>\n<p>I've created a Docker image of the microservice using this base image:</p>\n<pre><code>FROM alpine:latest\nFROM openjdk:17-alpine\nRUN apk --no-cache add curl\nRUN apk --no-cache add bash\n</code></pre>\n<p>And using the jib-maven-plugin:</p>\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n     &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n          &lt;from&gt;\n               &lt;image&gt;base-image-from-docker-hub&lt;/image&gt;\n          &lt;/from&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The microservice is deployed and exposed successfully using an Ingress and K8S Nginx Ingress-Controller and the API is successfully functioning.</p>\n<p>However, there's a significant latency change, the first call takes 2.8s in average and the subsequent calls take less than half a second.</p>\n<p>I tried to run the microservice locally and analyzed the JVM Process using a Profiler and I noticed that the process starts with a Non-Heap memory of 68mb and when calling the POST endpoint for the first time, it increases to 120mb. I concluded that there are some classes loaded upon receiving the first request.</p>\n<p>Is there a way to instruct Micronaut to have a ready-to-operate service right after the startup (loading all necessary resources) ?\nI don't mind waiting a couple of seconds before the service is ready to process requests with the lowest possible latency even when receiving the very first request.</p>\n<p>I've thought about a Fake API Call On-Statup which warmups the service, but can I ensure that the JVM won't GC the resources and bringing the service back to same point it was in the beginning if it doesn't receive any request for a certain period ?</p>\n"},{"tags":["java","hibernate","orm","low-latency"],"answers":[{"tags":[],"owner":{"account_id":4979623,"reputation":3944,"user_id":4005008,"display_name":"przemek hertel"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1687490265,"creation_date":1420299628,"answer_id":27756507,"question_id":27755461,"body_markdown":"Generally, setting `batch size` to reasonable size and `order_insert`, `order_updates` to `true` can significantly improve performance.\r\n\r\nIn all my projects, I use this configuration as basis:\r\n\r\n    hibernate.jdbc.batch_size = 100\r\n    hibernate.order_inserts   = true \r\n    hibernate.order_updates   = true\r\n    hibernate.jdbc.fetch_size = 400\r\n\r\nBut, **yes** - there can be **memory impact** when using batching. But this depends on jdbc driver.\r\n\r\nFor example, Oracle JDBC driver creates internal buffers for each `PreparedStatement` and reuses these buffers. If you call simple update statement you set some parameters with `ps.setInt(1, ...)`, `ps.setString(2, ...)` etc, and Oracle converts this values to some byte representation and stores in buffer associated with this `PreparedStatement` and connection.\r\n\r\nHowever, when your `PreparedStatement` uses batch of size 100, this buffer will be 100 times larger. And if you have some connection pool with for exapmle 50 connections there can be 50 such big buffers. And if you have 100 different statements using batching all such buffers can have significant memory impact. When you enable batch size, it becomes global setting - Hibernate will use it for all insert/updates.\r\n\r\nHowever, I found that in all my projects performance gain was more important that this memory impact and that is why I use `batchsize=100` as my default.\r\n\r\nWith `order_inserts`, `order_updates`, I think that these are disabled by default, because these settings make sense only when batching is on. With batching set off, these ordering is simply overhead.\r\n\r\nYou can find more info in Oracle&#39;s white paper:\r\n\r\nhttp://www.oracle.com/technetwork/topics/memory.pdf\r\n\r\nin section *&quot;Statement Batching and Memory Use&quot;*.\r\n\r\n==== EDIT 2016.05.31 ====\r\n\r\nA word about `order_inserts` and `order_udpates` property.\r\nLet&#39;s say we have entities `A`, `B` and persist 6 objects this way:\r\n\r\n    session.save(A1);  // added to action queue\r\n    session.save(B1);  // added to action queue\r\n    session.save(A2);  // ...\r\n    session.save(B2);  // ...\r\n    session.save(A3);  // ...\r\n    session.save(B3);  // ...\r\n\r\nafter above execution:\r\n\r\n - these 6 objects has identifiers generated \r\n - these 6 objects are connected to session (StatefulPersistenceContext: entitiesByKey, entityEntries, etc. /Hib.v3/) \r\n - these 6 objects are added to ActionQueue in the same order: [A1, B1, A2, B2, A3, B3]\r\n\r\n\r\nNow, consider 2 cases:\r\n\r\n**case 1:** `order_inserts = false`\r\n\r\nduring flush phase, hibernate performs **6 insert** statements:\r\n\r\n    ActionQueue = [A1, B1, A2, B2, A3, B3]\r\n    insert into A - (A1)\r\n    insert into B - (B1)\r\n    insert into A - (A2)\r\n    insert into B - (B2)\r\n    insert into A - (A3)\r\n    insert into B - (B3)\r\n\r\n**case 2:** `order_inserts = true`, batching allowed\r\n\r\nnow, during flush phase, hibernate performs **2 batch insert** statements:\r\n\r\n    ActionQueue = [A1, A2, A3, B1, B2, B3]\r\n    insert into A -  (A1, A2, A3)\r\n    insert into B -  (B1, B2, B3)\r\n\r\n\r\nI investigated this for Hibernate v3, I think Hibernate v4 uses ActionQueue in the same way.\r\n","title":"Why is hibernate batching / order_inserts / order_updates disabled by default?","body":"<p>Generally, setting <code>batch size</code> to reasonable size and <code>order_insert</code>, <code>order_updates</code> to <code>true</code> can significantly improve performance.</p>\n<p>In all my projects, I use this configuration as basis:</p>\n<pre><code>hibernate.jdbc.batch_size = 100\nhibernate.order_inserts   = true \nhibernate.order_updates   = true\nhibernate.jdbc.fetch_size = 400\n</code></pre>\n<p>But, <strong>yes</strong> - there can be <strong>memory impact</strong> when using batching. But this depends on jdbc driver.</p>\n<p>For example, Oracle JDBC driver creates internal buffers for each <code>PreparedStatement</code> and reuses these buffers. If you call simple update statement you set some parameters with <code>ps.setInt(1, ...)</code>, <code>ps.setString(2, ...)</code> etc, and Oracle converts this values to some byte representation and stores in buffer associated with this <code>PreparedStatement</code> and connection.</p>\n<p>However, when your <code>PreparedStatement</code> uses batch of size 100, this buffer will be 100 times larger. And if you have some connection pool with for exapmle 50 connections there can be 50 such big buffers. And if you have 100 different statements using batching all such buffers can have significant memory impact. When you enable batch size, it becomes global setting - Hibernate will use it for all insert/updates.</p>\n<p>However, I found that in all my projects performance gain was more important that this memory impact and that is why I use <code>batchsize=100</code> as my default.</p>\n<p>With <code>order_inserts</code>, <code>order_updates</code>, I think that these are disabled by default, because these settings make sense only when batching is on. With batching set off, these ordering is simply overhead.</p>\n<p>You can find more info in Oracle's white paper:</p>\n<p><a href=\"http://www.oracle.com/technetwork/topics/memory.pdf\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/topics/memory.pdf</a></p>\n<p>in section <em>&quot;Statement Batching and Memory Use&quot;</em>.</p>\n<p>==== EDIT 2016.05.31 ====</p>\n<p>A word about <code>order_inserts</code> and <code>order_udpates</code> property.\nLet's say we have entities <code>A</code>, <code>B</code> and persist 6 objects this way:</p>\n<pre><code>session.save(A1);  // added to action queue\nsession.save(B1);  // added to action queue\nsession.save(A2);  // ...\nsession.save(B2);  // ...\nsession.save(A3);  // ...\nsession.save(B3);  // ...\n</code></pre>\n<p>after above execution:</p>\n<ul>\n<li>these 6 objects has identifiers generated</li>\n<li>these 6 objects are connected to session (StatefulPersistenceContext: entitiesByKey, entityEntries, etc. /Hib.v3/)</li>\n<li>these 6 objects are added to ActionQueue in the same order: [A1, B1, A2, B2, A3, B3]</li>\n</ul>\n<p>Now, consider 2 cases:</p>\n<p><strong>case 1:</strong> <code>order_inserts = false</code></p>\n<p>during flush phase, hibernate performs <strong>6 insert</strong> statements:</p>\n<pre><code>ActionQueue = [A1, B1, A2, B2, A3, B3]\ninsert into A - (A1)\ninsert into B - (B1)\ninsert into A - (A2)\ninsert into B - (B2)\ninsert into A - (A3)\ninsert into B - (B3)\n</code></pre>\n<p><strong>case 2:</strong> <code>order_inserts = true</code>, batching allowed</p>\n<p>now, during flush phase, hibernate performs <strong>2 batch insert</strong> statements:</p>\n<pre><code>ActionQueue = [A1, A2, A3, B1, B2, B3]\ninsert into A -  (A1, A2, A3)\ninsert into B -  (B1, B2, B3)\n</code></pre>\n<p>I investigated this for Hibernate v3, I think Hibernate v4 uses ActionQueue in the same way.</p>\n"},{"comments":[{"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"score":1,"creation_date":1624264431,"post_id":40388745,"comment_id":120301143,"body_markdown":"can you provide a replacement for the broken link ?","body":"can you provide a replacement for the broken link ?"}],"tags":[],"owner":{"account_id":465553,"reputation":4572,"user_id":869702,"accept_rate":40,"display_name":"Jason White"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692744474,"creation_date":1478116868,"answer_id":40388745,"question_id":27755461,"body_markdown":"The documentation here: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch\r\n\r\nsays there may be a performance penalty for using these properties.  I would assume this is the reason they are not set by default.","title":"Why is hibernate batching / order_inserts / order_updates disabled by default?","body":"<p>The documentation here: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch</a></p>\n<p>says there may be a performance penalty for using these properties.  I would assume this is the reason they are not set by default.</p>\n"}],"owner":{"account_id":5568846,"reputation":323,"user_id":4415010,"display_name":"fbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24784,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":27756507,"answer_count":2,"score":32,"last_activity_date":1692744474,"creation_date":1420292296,"question_id":27755461,"body_markdown":"Are there any reasons why hibernate batching / hibernate.order_updates / hibernate.order_inserts are disabled by default? Is there any disadvantage when you enable a batch size of 50? Same for the order_updates / order_inserts parameters. Is there a use case where you shouldn&#39;t enable these features? Are there any performance impacts when using these features?\r\n\r\nI can only see that these settings help a lot when I need to reduce my query count which is necessary especially in a cloud environment with high latencies between my application and database server.","title":"Why is hibernate batching / order_inserts / order_updates disabled by default?","body":"<p>Are there any reasons why hibernate batching / hibernate.order_updates / hibernate.order_inserts are disabled by default? Is there any disadvantage when you enable a batch size of 50? Same for the order_updates / order_inserts parameters. Is there a use case where you shouldn't enable these features? Are there any performance impacts when using these features?</p>\n<p>I can only see that these settings help a lot when I need to reduce my query count which is necessary especially in a cloud environment with high latencies between my application and database server.</p>\n"},{"tags":["java","cassandra","driver"],"answers":[{"tags":[],"owner":{"account_id":467882,"reputation":8742,"user_id":873530,"display_name":"doanduyhai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453331721,"creation_date":1453331721,"answer_id":34912483,"question_id":34912159,"body_markdown":"&gt; It looks they put enum, codecs and DAO model in the same file\r\n\r\n It&#39;s just a code example. In a real project those 3 code blocs are put it different files\r\n\r\n When you create the `Cluster` object, you can register a codec registry (create one with `new CodecRegistry`). This codec registry will be in charge of converting **non-native** types (like Java enums) into supported CQL Java types. \r\n\r\n By registering `new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)` for example, you can use the enum `Foo` in any Java bean (even inside collections like list&amp;lt;Foo&amp;gt;) and the object mapper will autodetect that there is a codec to convert the enum `Foo` into a CQL integer","title":"Cassandra Java driver 3 EnumNameCodec","body":"<blockquote>\n  <p>It looks they put enum, codecs and DAO model in the same file</p>\n</blockquote>\n\n<p>It's just a code example. In a real project those 3 code blocs are put it different files</p>\n\n<p>When you create the <code>Cluster</code> object, you can register a codec registry (create one with <code>new CodecRegistry</code>). This codec registry will be in charge of converting <strong>non-native</strong> types (like Java enums) into supported CQL Java types. </p>\n\n<p>By registering <code>new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)</code> for example, you can use the enum <code>Foo</code> in any Java bean (even inside collections like list&lt;Foo&gt;) and the object mapper will autodetect that there is a codec to convert the enum <code>Foo</code> into a CQL integer</p>\n"},{"comments":[{"owner":{"account_id":5266311,"reputation":49,"user_id":4206152,"display_name":"Gwenael Cholet"},"score":0,"creation_date":1453371286,"post_id":34919575,"comment_id":57575575,"body_markdown":"I have try it and also to store the   &quot;CodecRegistry.DEFAULT_INSTANCE\n    .register(new EnumOrdinalCodec&lt;myEnum&gt;(myEnum.class))&quot;   directly in static within the emum. Both provide that result when trying to store data:  Codec not found for requested operation: [varchar &lt;-&gt; com.path.path.common.pojo.myEnum]","body":"I have try it and also to store the   &quot;CodecRegistry.DEFAULT_INSTANCE     .register(new EnumOrdinalCodec&lt;myEnum&gt;(myEnum.class))&quot;   directly in static within the emum. Both provide that result when trying to store data:  Codec not found for requested operation: [varchar &lt;-&gt; com.path.path.common.pojo.myEnum]"},{"owner":{"account_id":5266311,"reputation":49,"user_id":4206152,"display_name":"Gwenael Cholet"},"score":0,"creation_date":1453383591,"post_id":34919575,"comment_id":57584052,"body_markdown":"Sorry looked like I missed an import. What Doanduyhai describes works. Thanks for your help.","body":"Sorry looked like I missed an import. What Doanduyhai describes works. Thanks for your help."}],"tags":[],"owner":{"account_id":467882,"reputation":8742,"user_id":873530,"display_name":"doanduyhai"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453367885,"creation_date":1453367885,"answer_id":34919575,"question_id":34912159,"body_markdown":"Example of code to register a custom codec (taken from the driver doc):\r\n\r\n\r\n    Cluster cluster = Cluster.builder()..... ;  //Create the cluster singleton somewhere\r\n    \r\n    // Create the enum codec\r\n    EnumOrdinalCodec&lt;Foo&gt; myEnumCodec = new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)\r\n    \r\n    // Retrieve the codec registry from the cluster configuration\r\n    // IF you didn&#39;t configure any codec registry, a default empty codec registry\r\n    // will be returned\r\n    CodecRegistry myCodecRegistry = cluster.getConfiguration().getCodecRegistry();\r\n    \r\n    // Register your codec here\r\n    myCodecRegistry.register(myEnumCodec);","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>Example of code to register a custom codec (taken from the driver doc):</p>\n\n<pre><code>Cluster cluster = Cluster.builder()..... ;  //Create the cluster singleton somewhere\n\n// Create the enum codec\nEnumOrdinalCodec&lt;Foo&gt; myEnumCodec = new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)\n\n// Retrieve the codec registry from the cluster configuration\n// IF you didn't configure any codec registry, a default empty codec registry\n// will be returned\nCodecRegistry myCodecRegistry = cluster.getConfiguration().getCodecRegistry();\n\n// Register your codec here\nmyCodecRegistry.register(myEnumCodec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8277050,"reputation":1350,"user_id":6222876,"display_name":"Sergey Okatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554365054,"creation_date":1554365054,"answer_id":55510807,"question_id":34912159,"body_markdown":"In order to avoid registration of all your codecs in cluster object and localize their usage only in DAO models I would propose the following way (kotlin):\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    class MyEnumCodec: EnumNameCodec&lt;MyEnum&gt;(MyEnum::class.java)\r\n\r\n    data class MyData(\r\n\r\n        @ClusteringColumn(0)\r\n        var id: String,\r\n\r\n        @Column(name = &quot;my_enum&quot;, codec = MyEnumCodec::class)\r\n        var myEnum: MyEnum? = null\r\n    )","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>In order to avoid registration of all your codecs in cluster object and localize their usage only in DAO models I would propose the following way (kotlin):</p>\n\n<pre><code>class MyEnumCodec: EnumNameCodec&lt;MyEnum&gt;(MyEnum::class.java)\n\ndata class MyData(\n\n    @ClusteringColumn(0)\n    var id: String,\n\n    @Column(name = \"my_enum\", codec = MyEnumCodec::class)\n    var myEnum: MyEnum? = null\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4357910,"reputation":1,"user_id":3555939,"display_name":"pashnyov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692744359,"creation_date":1692454215,"answer_id":76935518,"question_id":34912159,"body_markdown":"I&#39;ve registered type codec for enum `EnumNameCodec` like this in quarkus app:\r\n\r\n```\r\n@ApplicationScoped\r\npublic class AppLifecycleBeanCodecRegistration {\r\n\r\n  @Inject\r\n  CqlSession session;\r\n\r\n  // to check db before start (CassandraClientStarter) - quarkus.cassandra.init.eager-init=true\r\n  void onStart(@Observes @Priority(Priorities.AUTHORIZATION - 10) StartupEvent ev) {\r\n    TypeCodec&lt;User.Role&gt; myEnumCodec = new EnumNameCodec&lt;&gt;(User.Role.class);\r\n\r\n    MutableCodecRegistry registry = (MutableCodecRegistry) session.getContext().getCodecRegistry();\r\n    registry.register(myEnumCodec);\r\n  }\r\n}\r\n```","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>I've registered type codec for enum <code>EnumNameCodec</code> like this in quarkus app:</p>\n<pre><code>@ApplicationScoped\npublic class AppLifecycleBeanCodecRegistration {\n\n  @Inject\n  CqlSession session;\n\n  // to check db before start (CassandraClientStarter) - quarkus.cassandra.init.eager-init=true\n  void onStart(@Observes @Priority(Priorities.AUTHORIZATION - 10) StartupEvent ev) {\n    TypeCodec&lt;User.Role&gt; myEnumCodec = new EnumNameCodec&lt;&gt;(User.Role.class);\n\n    MutableCodecRegistry registry = (MutableCodecRegistry) session.getContext().getCodecRegistry();\n    registry.register(myEnumCodec);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5266311,"reputation":49,"user_id":4206152,"display_name":"Gwenael Cholet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692744359,"creation_date":1453330170,"question_id":34912159,"body_markdown":"I am migrating from Cassandra 2.1 to v3 and so using new Java Driver v3.\r\nA change has been made about @Enumerated(EnumType.STRING) or ORDINAL which has been swapped by driver-extras module EnumOrdinalCodec and EnumNameCodec.\r\n\r\nIn my project I have it:\r\n\r\n    @Column(name = &quot;myColumn&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private myEnum         currentMyEnum         ;\r\n\r\nI look up for some example about how to use them but did not really understand how they work.\r\nThe main info I found was that example:\r\n\r\n    enum Foo {...}\r\n    enum Bar {...}\r\n\r\n    // register the appropriate codecs\r\n    CodecRegistry.DEFAULT_INSTANCE\r\n        .register(new EnumOrdinalCodec&lt;Foo&gt;(Foo.class))\r\n        .register(new EnumNameCodec&lt;Bar&gt;(Bar.class))\r\n\r\n    // the following mappings are handled out-of-the-box\r\n    @Table\r\n    public class MyPojo {\r\n        private Foo foo;\r\n        private List&lt;Bar&gt; bars;\r\n        ...\r\n    }\r\n\r\nWhich is not clear to me. It looks they put enum, codecs and DAO model in the same file. Within my project the enum and DAO model are in file different and when I try to put the &quot;CodecRegistry.DEFAULT_INSTANCE.register(new EnumOrdinalCodec&lt;myEnum&gt;(myEnum.class))&quot; in etheir the enum or DAO file I get error from IDE Eclipse.\r\n\r\nIf some one could help me about how to chnage @Enumerated(EnumType.STRING) to use EnumNameCodec thanks in advance.","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>I am migrating from Cassandra 2.1 to v3 and so using new Java Driver v3.\nA change has been made about @Enumerated(EnumType.STRING) or ORDINAL which has been swapped by driver-extras module EnumOrdinalCodec and EnumNameCodec.</p>\n\n<p>In my project I have it:</p>\n\n<pre><code>@Column(name = \"myColumn\")\n    @Enumerated(EnumType.STRING)\n    private myEnum         currentMyEnum         ;\n</code></pre>\n\n<p>I look up for some example about how to use them but did not really understand how they work.\nThe main info I found was that example:</p>\n\n<pre><code>enum Foo {...}\nenum Bar {...}\n\n// register the appropriate codecs\nCodecRegistry.DEFAULT_INSTANCE\n    .register(new EnumOrdinalCodec&lt;Foo&gt;(Foo.class))\n    .register(new EnumNameCodec&lt;Bar&gt;(Bar.class))\n\n// the following mappings are handled out-of-the-box\n@Table\npublic class MyPojo {\n    private Foo foo;\n    private List&lt;Bar&gt; bars;\n    ...\n}\n</code></pre>\n\n<p>Which is not clear to me. It looks they put enum, codecs and DAO model in the same file. Within my project the enum and DAO model are in file different and when I try to put the \"CodecRegistry.DEFAULT_INSTANCE.register(new EnumOrdinalCodec(myEnum.class))\" in etheir the enum or DAO file I get error from IDE Eclipse.</p>\n\n<p>If some one could help me about how to chnage @Enumerated(EnumType.STRING) to use EnumNameCodec thanks in advance.</p>\n"},{"tags":["java","angular","spring-boot","jwt","cors"],"comments":[{"owner":{"account_id":2654026,"reputation":4829,"user_id":2295103,"display_name":"MikeOne"},"score":0,"creation_date":1692716716,"post_id":76954507,"comment_id":135660757,"body_markdown":"The preflight IS probably your issue - or at least part of it. Can your server handle an OPTIONS request and does it reply with a non-error response? Also, do you need credentials? If not, disable that cors rule as it will make stuff a lot stricter.","body":"The preflight IS probably your issue - or at least part of it. Can your server handle an OPTIONS request and does it reply with a non-error response? Also, do you need credentials? If not, disable that cors rule as it will make stuff a lot stricter."},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1692717217,"post_id":76954507,"comment_id":135660887,"body_markdown":"Also when I started Local my app then I don&#39;t have this problem. Since it had with Attempt 1 Works. If I use setAllowedMethods(Arrays.asList(&quot;*&quot;)); then options should work too. Or not?","body":"Also when I started Local my app then I don&#39;t have this problem. Since it had with Attempt 1 Works. If I use setAllowedMethods(Arrays.asList(&quot;*&quot;)); then options should work too. Or not?"},{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1692725555,"post_id":76954507,"comment_id":135662667,"body_markdown":"What is your deployment architecture ? And why your front end and back end are being served on two different domains ?","body":"What is your deployment architecture ? And why your front end and back end are being served on two different domains ?"},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1692728906,"post_id":76954507,"comment_id":135663407,"body_markdown":"So I put my apps in Docker containers and deployed them in Azure Kubernetes. I currently have 2 domains because my frontend couldn&#39;t communicate with the backend at all in the beginning. Only after the change did it work.","body":"So I put my apps in Docker containers and deployed them in Azure Kubernetes. I currently have 2 domains because my frontend couldn&#39;t communicate with the backend at all in the beginning. Only after the change did it work."},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1692732279,"post_id":76954507,"comment_id":135664061,"body_markdown":"No! Never ever reflect arbitrary origins while also allowing credentialed access. This is wildly insecure!","body":"No! Never ever reflect arbitrary origins while also allowing credentialed access. This is wildly insecure!"}],"answers":[{"comments":[{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1692728784,"post_id":76955504,"comment_id":135663373,"body_markdown":"So I applied your changes, but unfortunately the same error comes up. I stupidly did not check that Azure did not properly pull my Docker images. Therefore I can start all my attempts again o.O","body":"So I applied your changes, but unfortunately the same error comes up. I stupidly did not check that Azure did not properly pull my Docker images. Therefore I can start all my attempts again o.O"},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1692732227,"post_id":76955504,"comment_id":135664051,"body_markdown":"No! This CORS configuration (reflecting arbitrary origins while allowing credentialed access) is wildly insecure!","body":"No! This CORS configuration (reflecting arbitrary origins while allowing credentialed access) is wildly insecure!"}],"tags":[],"owner":{"account_id":4954355,"reputation":276,"user_id":3987412,"display_name":"Abhinav Ganguly"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692724967,"creation_date":1692724264,"answer_id":76955504,"question_id":76954507,"body_markdown":"So the solution to your problem lies sorting out your code from &#39;**Attempt 4**&#39; i.e. your CORS filter.\r\n Looking from that piece of code, you are using `doFilterInternal` method, which is from **Class [OncePerRequestFilter][1]**. \r\n\r\nWhile this method is identical to `doFilter`, it has one big difference, it has same contract as for `doFilter`, but **guaranteed to be just invoked once per request within a single request thread**.\r\n\r\nAnd this is where the problem resides, you just need to use `doFilter` from `javax.servlet.Filter` class.\r\n\r\n\r\nSo the final look of your CORS filter class shall be something like below:\r\n\r\n```\r\npackage your.own.project.package.filter;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n\r\n@Component\r\n@Slf4j\r\npublic class CORSFilter implements Filter {\r\n\r\n\r\n\r\n    public CORSFilter() {\r\n        log.info(&quot;*************Initialising a CORS FILTER*************&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n        String headerOrigin = request.getHeader(&quot;Origin&quot;);\r\n        if (headerOrigin != null) {\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, headerOrigin);\r\n        }\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        //Note the `Authorization` header in this list below, \r\n        // this is important to allow JWT &#39;Autorization Bearer` token headers \r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me, Authorization&quot;);\r\n        \r\n        //Then the rest of your your Auth stuff as ususal\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n        \r\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwt);\r\n\r\n        if(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            var isTokenValid = tokenRepository.findByToken(jwt)\r\n                                                .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\r\n                                                .orElse(false);\r\n            if(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n\r\n\r\nAlso, please note, in the list of headers in `Access-Control-Allow-Headers` i&#39;ve added `Authorization` header. If you don&#39;t have this, you&#39;ll get HTTP 400 Request, for as the `Authorization` header is not allowed by server.\r\n\r\nAlso, as better technical practice, i&#39;ll advice you to keep the CORS filter clean of Authentication processing.\r\n\r\nIdeally, you should create your own dedicated custom Auth security filter class extending [AbstractAuthenticationProcessingFilter][2] class, and doing the stuffs you are doing above in overridden [attemptAuthentication][3] and\r\n[successfulAuthentication][4] method respectively.\r\n\r\nI hope this sorts out your issue.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#attemptAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)\r\n  [4]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#successfulAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,jakarta.servlet.FilterChain,org.springframework.security.core.Authentication)","title":"How do I bypass the Cors policy in my Spring Boot app after deployment?","body":"<p>So the solution to your problem lies sorting out your code from '<strong>Attempt 4</strong>' i.e. your CORS filter.\nLooking from that piece of code, you are using <code>doFilterInternal</code> method, which is from <strong>Class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html\" rel=\"nofollow noreferrer\">OncePerRequestFilter</a></strong>.</p>\n<p>While this method is identical to <code>doFilter</code>, it has one big difference, it has same contract as for <code>doFilter</code>, but <strong>guaranteed to be just invoked once per request within a single request thread</strong>.</p>\n<p>And this is where the problem resides, you just need to use <code>doFilter</code> from <code>javax.servlet.Filter</code> class.</p>\n<p>So the final look of your CORS filter class shall be something like below:</p>\n<pre><code>package your.own.project.package.filter;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n\n@Component\n@Slf4j\npublic class CORSFilter implements Filter {\n\n\n\n    public CORSFilter() {\n        log.info(&quot;*************Initialising a CORS FILTER*************&quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        String headerOrigin = request.getHeader(&quot;Origin&quot;);\n        if (headerOrigin != null) {\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, headerOrigin);\n        }\n\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        //Note the `Authorization` header in this list below, \n        // this is important to allow JWT 'Autorization Bearer` token headers \n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me, Authorization&quot;);\n        \n        //Then the rest of your your Auth stuff as ususal\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        \n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            chain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n\n        if(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            var isTokenValid = tokenRepository.findByToken(jwt)\n                                                .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\n                                                .orElse(false);\n            if(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>Also, please note, in the list of headers in <code>Access-Control-Allow-Headers</code> i've added <code>Authorization</code> header. If you don't have this, you'll get HTTP 400 Request, for as the <code>Authorization</code> header is not allowed by server.</p>\n<p>Also, as better technical practice, i'll advice you to keep the CORS filter clean of Authentication processing.</p>\n<p>Ideally, you should create your own dedicated custom Auth security filter class extending <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html\" rel=\"nofollow noreferrer\">AbstractAuthenticationProcessingFilter</a> class, and doing the stuffs you are doing above in overridden <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#attemptAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)\" rel=\"nofollow noreferrer\">attemptAuthentication</a> and\n<a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#successfulAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,jakarta.servlet.FilterChain,org.springframework.security.core.Authentication)\" rel=\"nofollow noreferrer\">successfulAuthentication</a> method respectively.</p>\n<p>I hope this sorts out your issue.</p>\n"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692743448,"creation_date":1692715888,"question_id":76954507,"body_markdown":"I have created a small website that I would like to provide. I use Spring Boot 3 as backend and Angular 15 as frontend. Now I have like many the problem that my frontend can&#39;t communicate with my backend because of Cors. I have looked at many sites on the internet and tried to solve the problem myself but unfortunately without success (https://rajendraprasadpadma.medium.com/what-the-cors-ft-spring-boot-spring-security-562f24d705c9 , https://stackoverflow.com/questions/51719889/spring-boot-cors-issue).\r\n\r\nHere you can see my attempts: \r\n\r\nAttempt 1: Adding a Bean in my Security Config\r\n```\r\n\t   @Bean\r\n\t    CorsConfigurationSource corsConfigurationSource() {\r\n\t        CorsConfiguration configuration = new CorsConfiguration();\r\n\t        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n\t        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n\t        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n\t        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\t        return source;\r\n\t    }\r\n```\r\nAttempt 2: Adding another bean in my Security Config\r\n```\r\n \t@Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        //the below three lines will add the relevant CORS response headers\r\n        configuration.addAllowedOrigin(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nAttempt 3: Adding @CrossOrigin to each of my controller class\r\n```\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/productcategory&quot;)\r\n@CrossOrigin\r\npublic class ProductCategoryController {\r\n\r\n\t@Autowired\r\n\tProductCategoryService productCategoryService;\r\n\t\r\n\t@GetMapping\r\n\tpublic ResponseEntity&lt;List&lt;ProductCategory&gt;&gt; get(){\r\n\t\treturn ResponseEntity.ok(productCategoryService.getAll());\r\n\t}\r\n\t@PostMapping\r\n\tpublic ResponseEntity&lt;String&gt; post(){\r\n\t\treturn ResponseEntity.ok(&quot;POST: Hello Management&quot;);\r\n\t}\r\n\t@PutMapping\r\n\tpublic ResponseEntity&lt;String&gt; put(){\r\n\t\treturn ResponseEntity.ok(&quot;PUT: Hello Management&quot;);\r\n\t}\r\n\t@DeleteMapping\r\n\tpublic ResponseEntity&lt;String&gt; delete(){\r\n\t\treturn ResponseEntity.ok(&quot;DELETE: Hello Management&quot;);\r\n\t}\r\n\r\n```\r\nAttempt 4: Adding the Cors property to my FilterChain\r\n```\r\n\t@Override\r\n\tprotected void doFilterInternal(@NonNull HttpServletRequest request, \r\n\t\t\t\t\t\t\t\t\t@NonNull HttpServletResponse response, \r\n\t\t\t\t\t\t\t\t\t@NonNull FilterChain filterChain) throws ServletException, IOException {\r\n\t\t\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\r\n\t    response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\t    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n\t    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\t    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me&quot;);\r\n\t\t\r\n\t\tfinal String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tfinal String jwt;\r\n\t\tfinal String userEmail;\r\n\t\t\r\n\t\tif(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\tfilterChain.doFilter(request, response);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tjwt = authHeader.substring(7);\r\n\t\tuserEmail = jwtService.extractUsername(jwt);\r\n\r\n\t\tif(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\t\t\tUserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n\t\t\tvar isTokenValid = tokenRepository.findByToken(jwt)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\r\n\t\t\t\t\t\t\t\t\t\t\t\t.orElse(false);\r\n\t\t\tif(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\r\n\t\t\t\tUsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tauthToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authToken);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n```\r\nTo this is to say what I use as authentication and authorization a JWT token.\r\n\r\nIn my Angular app, I have an HttpIntercept:\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpResponse,\r\n  HttpErrorResponse\r\n} from &#39;@angular/common/http&#39;;\r\nimport { Observable, throwError } from &#39;rxjs&#39;;\r\nimport { catchError } from &#39;rxjs/operators&#39;;\r\n\r\n@Injectable()\r\nexport class RequestInterceptorInterceptor implements HttpInterceptor {\r\n\r\n  constructor() {}\r\n\r\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\r\n    if (request.method !== &#39;OPTIONS&#39;) {\r\n      const jwtString = localStorage.getItem(&#39;jwt&#39;);\r\n      const jwtToken = jwtString ? JSON.parse(jwtString)?.jwt as string : &#39;&#39;;\r\n      const authorizationHeader = `Bearer ${jwtToken}`;\r\n      request = request.clone({ headers: request.headers.set(&#39;Authorization&#39;, authorizationHeader)});\r\n    }\r\n\r\n    return next.handle(request).pipe(\r\n      catchError((error: HttpErrorResponse) =&gt; {\r\n        // Hier kannst du den Fehler abfangen und entsprechende Aktionen ausf&#252;hren\r\n        if (error.status === 0 &amp;&amp; error.statusText === &#39;Unknown Error&#39;) {\r\n          console.log(&#39;Es ist ein CORS-Fehler aufgetreten&#39;);\r\n          // Weitere Aktionen ausf&#252;hren ...\r\n        }\r\n\r\n        // Wirf den Fehler weiter, um ihn an den Aufrufer weiterzugeben\r\n        return throwError(error);\r\n      })\r\n    );\r\n  }\r\n}\r\n```\r\nHere are my error logs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eoggz.png\r\n\r\nWhat amazes me is that I can&#39;t even get through the preflight with my attempts.\r\n\r\nDoes anyone have any idea what I&#39;m doing wrong or what I can still try. So that back- and frontend communicate with each other?\r\n\r\nThanks in advance","title":"How do I bypass the Cors policy in my Spring Boot app after deployment?","body":"<p>I have created a small website that I would like to provide. I use Spring Boot 3 as backend and Angular 15 as frontend. Now I have like many the problem that my frontend can't communicate with my backend because of Cors. I have looked at many sites on the internet and tried to solve the problem myself but unfortunately without success (<a href=\"https://rajendraprasadpadma.medium.com/what-the-cors-ft-spring-boot-spring-security-562f24d705c9\" rel=\"nofollow noreferrer\">https://rajendraprasadpadma.medium.com/what-the-cors-ft-spring-boot-spring-security-562f24d705c9</a> , <a href=\"https://stackoverflow.com/questions/51719889/spring-boot-cors-issue\">Spring Boot : CORS Issue</a>).</p>\n<p>Here you can see my attempts:</p>\n<p>Attempt 1: Adding a Bean in my Security Config</p>\n<pre><code>       @Bean\n        CorsConfigurationSource corsConfigurationSource() {\n            CorsConfiguration configuration = new CorsConfiguration();\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n            configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n            configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n            return source;\n        }\n</code></pre>\n<p>Attempt 2: Adding another bean in my Security Config</p>\n<pre><code>    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowCredentials(true);\n        //the below three lines will add the relevant CORS response headers\n        configuration.addAllowedOrigin(&quot;*&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>Attempt 3: Adding @CrossOrigin to each of my controller class</p>\n<pre><code>import org.springframework.web.bind.annotation.CrossOrigin;\n\n@RestController\n@RequestMapping(&quot;/api/v1/productcategory&quot;)\n@CrossOrigin\npublic class ProductCategoryController {\n\n    @Autowired\n    ProductCategoryService productCategoryService;\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;ProductCategory&gt;&gt; get(){\n        return ResponseEntity.ok(productCategoryService.getAll());\n    }\n    @PostMapping\n    public ResponseEntity&lt;String&gt; post(){\n        return ResponseEntity.ok(&quot;POST: Hello Management&quot;);\n    }\n    @PutMapping\n    public ResponseEntity&lt;String&gt; put(){\n        return ResponseEntity.ok(&quot;PUT: Hello Management&quot;);\n    }\n    @DeleteMapping\n    public ResponseEntity&lt;String&gt; delete(){\n        return ResponseEntity.ok(&quot;DELETE: Hello Management&quot;);\n    }\n\n</code></pre>\n<p>Attempt 4: Adding the Cors property to my FilterChain</p>\n<pre><code>    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, \n                                    @NonNull HttpServletResponse response, \n                                    @NonNull FilterChain filterChain) throws ServletException, IOException {\n        \n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me&quot;);\n        \n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        \n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n\n        if(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            var isTokenValid = tokenRepository.findByToken(jwt)\n                                                .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\n                                                .orElse(false);\n            if(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n</code></pre>\n<p>To this is to say what I use as authentication and authorization a JWT token.</p>\n<p>In my Angular app, I have an HttpIntercept:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse,\n  HttpErrorResponse\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class RequestInterceptorInterceptor implements HttpInterceptor {\n\n  constructor() {}\n\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\n    if (request.method !== 'OPTIONS') {\n      const jwtString = localStorage.getItem('jwt');\n      const jwtToken = jwtString ? JSON.parse(jwtString)?.jwt as string : '';\n      const authorizationHeader = `Bearer ${jwtToken}`;\n      request = request.clone({ headers: request.headers.set('Authorization', authorizationHeader)});\n    }\n\n    return next.handle(request).pipe(\n      catchError((error: HttpErrorResponse) =&gt; {\n        // Hier kannst du den Fehler abfangen und entsprechende Aktionen ausfhren\n        if (error.status === 0 &amp;&amp; error.statusText === 'Unknown Error') {\n          console.log('Es ist ein CORS-Fehler aufgetreten');\n          // Weitere Aktionen ausfhren ...\n        }\n\n        // Wirf den Fehler weiter, um ihn an den Aufrufer weiterzugeben\n        return throwError(error);\n      })\n    );\n  }\n}\n</code></pre>\n<p>Here are my error logs:</p>\n<p><a href=\"https://i.stack.imgur.com/eoggz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoggz.png\" alt=\"enter image description here\" /></a></p>\n<p>What amazes me is that I can't even get through the preflight with my attempts.</p>\n<p>Does anyone have any idea what I'm doing wrong or what I can still try. So that back- and frontend communicate with each other?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","multipart","vert.x"],"answers":[{"comments":[{"owner":{"account_id":4082464,"reputation":119,"user_id":3352615,"accept_rate":23,"display_name":"user3352615"},"score":0,"creation_date":1472579362,"post_id":39220926,"comment_id":65805121,"body_markdown":"Thanks for the help . I am able to upload the file and change the directory but now how can i add the constraint that my file size should not be more than 5MB. If it is more than 5 MB it should not store the file in directory.","body":"Thanks for the help . I am able to upload the file and change the directory but now how can i add the constraint that my file size should not be more than 5MB. If it is more than 5 MB it should not store the file in directory."},{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":1,"creation_date":1472583925,"post_id":39220926,"comment_id":65807502,"body_markdown":"Use .setBodyLimit() for that","body":"Use .setBodyLimit() for that"},{"owner":{"account_id":4082464,"reputation":119,"user_id":3352615,"accept_rate":23,"display_name":"user3352615"},"score":0,"creation_date":1472840750,"post_id":39220926,"comment_id":65931306,"body_markdown":"When I am uploading the file .This method fileUpload.uploadedFileName(); is giving me the full path with complete location For Example:C:\\Users\\\\fileToBeStored\\baf1005d-d000-4e8f-b590-f97805b3969c   . I want instead of full directory path it should return me baf1005d-d000-4e8f-b590-f97805b3969c . How can i do that ?","body":"When I am uploading the file .This method fileUpload.uploadedFileName(); is giving me the full path with complete location For Example:C:\\Users\\\\fileToBeStored\\baf1005d-d000-4e8f-b590-f97&zwnj;&#8203;805b3969c   . I want instead of full directory path it should return me baf1005d-d000-4e8f-b590-f97805b3969c . How can i do that ?"},{"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"score":0,"creation_date":1473070761,"post_id":39220926,"comment_id":65988344,"body_markdown":"You can always create a `java.io.File` object from the string and extract what you need.","body":"You can always create a <code>java.io.File</code> object from the string and extract what you need."},{"owner":{"account_id":4082464,"reputation":119,"user_id":3352615,"accept_rate":23,"display_name":"user3352615"},"score":0,"creation_date":1473362888,"post_id":39220926,"comment_id":66123548,"body_markdown":"Now lets say if i am doing multiple fie upload it should skip the file to store in physical loaction  if size of file is greater than 5 MB .                                                     if  (fileUpload.size()&gt;5000000){\n\t\t\t\terrorMsg=&quot;File is greater than 5MB .&quot;+size;\t\n\t\t\t\tdeleteFileUploads(); or skip that particular file\n\t\t\t}","body":"Now lets say if i am doing multiple fie upload it should skip the file to store in physical loaction  if size of file is greater than 5 MB .                                                     if  (fileUpload.size()&gt;5000000){ \t\t\t\terrorMsg=&quot;File is greater than 5MB .&quot;+size;\t \t\t\t\tdeleteFileUploads(); or skip that particular file \t\t\t}"},{"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"score":0,"creation_date":1473426443,"post_id":39220926,"comment_id":66148861,"body_markdown":"If you want to skip storing you need to define the max allowed input size for the whole request as @AlexeySoshin said. When you&#39;re iterating the fileUploads list the files have already been stored in the tmp folder so if they are greater than you would like you need to just delete them.","body":"If you want to skip storing you need to define the max allowed input size for the whole request as @AlexeySoshin said. When you&#39;re iterating the fileUploads list the files have already been stored in the tmp folder so if they are greater than you would like you need to just delete them."},{"owner":{"account_id":3881727,"reputation":2201,"user_id":3214029,"accept_rate":37,"display_name":"RaiBnod"},"score":0,"creation_date":1536257405,"post_id":39220926,"comment_id":91369220,"body_markdown":"On the scenario of multiple files uploading, how can we detect which file is of which key? We need to know the exact uploaded file path with the help of its key and should be stored on the DB.","body":"On the scenario of multiple files uploading, how can we detect which file is of which key? We need to know the exact uploaded file path with the help of its key and should be stored on the DB."},{"owner":{"account_id":1142291,"reputation":109,"user_id":1125833,"accept_rate":29,"display_name":"Anshul"},"score":0,"creation_date":1663871409,"post_id":39220926,"comment_id":130347421,"body_markdown":"I am trying to OCTET_STREAM with vertx pipeTo method https://stackoverflow.com/questions/73812830/incorrect-zip-file-being-created-in-vertx-3-x-from-a-http-request.\nHow can we use the above example for non multipart request data ?","body":"I am trying to OCTET_STREAM with vertx pipeTo method <a href=\"https://stackoverflow.com/questions/73812830/incorrect-zip-file-being-created-in-vertx-3-x-from-a-http-request\" title=\"incorrect zip file being created in vertx 3 x from a http request\">stackoverflow.com/questions/73812830/&hellip;</a>. How can we use the above example for non multipart request data ?"}],"tags":[],"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"comment_count":8,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1472540796,"creation_date":1472540796,"answer_id":39220926,"question_id":39216822,"body_markdown":"Here is the same but in vert.x:\r\n\r\n    Router router = Router.router(vertx);\r\n\r\n    // Enable multipart form data parsing\r\n    router.post(&quot;/upload&quot;).handler(BodyHandler.create()\r\n      .setUploadsDirectory(FILE_LOCATION));\r\n\r\n    // handle the form\r\n    router.post(&quot;/upload&quot;).handler(ctx -&gt; {\r\n      // in your example you only handle 1 file upload, here you can handle\r\n      // any number of uploads\r\n      for (FileUpload f : ctx.fileUploads()) {\r\n        // do whatever you need to do with the file (it is already saved\r\n        // on the directory you wanted...\r\n        System.out.println(&quot;Filename: &quot; + f.fileName());\r\n        System.out.println(&quot;Size: &quot; + f.size());\r\n      }\r\n\r\n      ctx.response().end();\r\n    });\r\n\r\nFor more examples you can always see the [vertx-examples][1] repo.\r\n\r\n\r\n  [1]: https://github.com/vert-x3/vertx-examples","title":"Writing a post API for Multi Part File Upload using Vertx.io framework","body":"<p>Here is the same but in vert.x:</p>\n\n<pre><code>Router router = Router.router(vertx);\n\n// Enable multipart form data parsing\nrouter.post(\"/upload\").handler(BodyHandler.create()\n  .setUploadsDirectory(FILE_LOCATION));\n\n// handle the form\nrouter.post(\"/upload\").handler(ctx -&gt; {\n  // in your example you only handle 1 file upload, here you can handle\n  // any number of uploads\n  for (FileUpload f : ctx.fileUploads()) {\n    // do whatever you need to do with the file (it is already saved\n    // on the directory you wanted...\n    System.out.println(\"Filename: \" + f.fileName());\n    System.out.println(\"Size: \" + f.size());\n  }\n\n  ctx.response().end();\n});\n</code></pre>\n\n<p>For more examples you can always see the <a href=\"https://github.com/vert-x3/vertx-examples\" rel=\"noreferrer\">vertx-examples</a> repo.</p>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692743374,"creation_date":1692743374,"answer_id":76957191,"question_id":39216822,"body_markdown":"For 99.9% of use cases, Paulo Lopes&#39; answer is the absolutely correct one.\r\n\r\nThe main gotcha for it, is that the uploaded file is stored in temporary space on the file system - you have to make sure there&#39;s enough space available for all the files users will upload; you have to make sure you put a proper limit on the max upload size so attackers can&#39;t DoS you; you have to handle the file and delete it when its done.\r\n\r\nIf all of this worries you and you are willing to put in the extra work, here&#39;s how to get a Vert.x `ReadStream` of an upload - which you can then read from and push the data somewhere that makes sense, without incurring the storage and IO associated with using `RoutingContext.fileUploads()`:\r\n\r\n#### Important Note First\r\n\r\nIf you don&#39;t want `BodyHandler` to consume the uploads and save them to local files - do not let it handle the uploads. There are three main ways to do it:\r\n1. Don&#39;t set a body handler on the routes you want to handle uploads on (or any parent route).\r\n2. Create your body handler with no file upload support, using `BodyHandler.create(false)`.\r\n3. Set up the body handler in a route ordered after the route where you are going to handle the uploads. This is the most problematic as the body handler will break the request processing if it is called after the request has already ended streaming, and there isn&#39;t even an error (as of Vert.x 4.4.4 - the next version [has this fixed, and will issue an error](https://github.com/vert-x3/vertx-web/pull/2439)). To use this method you have to wrangle the request by pausing the request reading, and then either you handle the upload and resume request reading yourself - or you need to let the body handler resume the request automatically as needed.\r\n\r\nHere I will demonstrate option 3.\r\n\r\n```java\r\nRouter router = Router.router(vertx);\r\n\r\n// Pause the request reading so we can register for handling the body later\r\nrouter.route(&quot;/*&quot;).handler(ctx -&gt; { ctx.request().pause(); ctx.next(); });\r\n\r\n// handle the upload\r\nrouter.post(&quot;/upload&quot;).handler(ctx -&gt; {\r\n  ctx.request().setExpectMultipart(true) // this sets up the upload handlers\r\n    .uploadHandler(upload -&gt; { // register our upload handler\r\n      // this handler will be called once for each file found in the request\r\n      var filename = upload.filename();\r\n      var contentType = upload.contentType();\r\n      consumeUpload(upload.pipe()); // upload is a ReadStream, so read it\r\n    })\r\n    .endHandler(__ -&gt; {\r\n      // somehow verify that all uploads were consumed successfully\r\n      // (or figure out the correct error response)\r\n      ctx.response().end(); // do something more meaningful here\r\n    })\r\n    .resume(); // after we have setup our handlers, resume the request\r\n});\r\n\r\n// have a body handler to handle all the other routes\r\n// it will resume the request automatically so the body will be available\r\n// for outher routes\r\nrouter.route(&quot;/*&quot;).handler(BodyHandler.create());\r\n\r\n// ... what ever else routes you have\r\n```\r\n","title":"Writing a post API for Multi Part File Upload using Vertx.io framework","body":"<p>For 99.9% of use cases, Paulo Lopes' answer is the absolutely correct one.</p>\n<p>The main gotcha for it, is that the uploaded file is stored in temporary space on the file system - you have to make sure there's enough space available for all the files users will upload; you have to make sure you put a proper limit on the max upload size so attackers can't DoS you; you have to handle the file and delete it when its done.</p>\n<p>If all of this worries you and you are willing to put in the extra work, here's how to get a Vert.x <code>ReadStream</code> of an upload - which you can then read from and push the data somewhere that makes sense, without incurring the storage and IO associated with using <code>RoutingContext.fileUploads()</code>:</p>\n<h4>Important Note First</h4>\n<p>If you don't want <code>BodyHandler</code> to consume the uploads and save them to local files - do not let it handle the uploads. There are three main ways to do it:</p>\n<ol>\n<li>Don't set a body handler on the routes you want to handle uploads on (or any parent route).</li>\n<li>Create your body handler with no file upload support, using <code>BodyHandler.create(false)</code>.</li>\n<li>Set up the body handler in a route ordered after the route where you are going to handle the uploads. This is the most problematic as the body handler will break the request processing if it is called after the request has already ended streaming, and there isn't even an error (as of Vert.x 4.4.4 - the next version <a href=\"https://github.com/vert-x3/vertx-web/pull/2439\" rel=\"nofollow noreferrer\">has this fixed, and will issue an error</a>). To use this method you have to wrangle the request by pausing the request reading, and then either you handle the upload and resume request reading yourself - or you need to let the body handler resume the request automatically as needed.</li>\n</ol>\n<p>Here I will demonstrate option 3.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Router router = Router.router(vertx);\n\n// Pause the request reading so we can register for handling the body later\nrouter.route(&quot;/*&quot;).handler(ctx -&gt; { ctx.request().pause(); ctx.next(); });\n\n// handle the upload\nrouter.post(&quot;/upload&quot;).handler(ctx -&gt; {\n  ctx.request().setExpectMultipart(true) // this sets up the upload handlers\n    .uploadHandler(upload -&gt; { // register our upload handler\n      // this handler will be called once for each file found in the request\n      var filename = upload.filename();\n      var contentType = upload.contentType();\n      consumeUpload(upload.pipe()); // upload is a ReadStream, so read it\n    })\n    .endHandler(__ -&gt; {\n      // somehow verify that all uploads were consumed successfully\n      // (or figure out the correct error response)\n      ctx.response().end(); // do something more meaningful here\n    })\n    .resume(); // after we have setup our handlers, resume the request\n});\n\n// have a body handler to handle all the other routes\n// it will resume the request automatically so the body will be available\n// for outher routes\nrouter.route(&quot;/*&quot;).handler(BodyHandler.create());\n\n// ... what ever else routes you have\n</code></pre>\n"}],"owner":{"account_id":4082464,"reputation":119,"user_id":3352615,"accept_rate":23,"display_name":"user3352615"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692743374,"creation_date":1472514379,"question_id":39216822,"body_markdown":"I am writing the code for multipart file upload using the vertx.io .\r\n\r\nIn Spring boot my code is as follows. I want to write similar in vertex.io \r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, headers=(&quot;content-type=multipart/*&quot;) ,method = RequestMethod.POST)\r\n\tpublic ImportExportResponse upload(@RequestParam(&quot;file&quot;) MultipartFile inputFile){\r\n\t\tlog.info(&quot; upload service method starts  &quot;);\r\n\t\tImportExportResponse response = new ImportExportResponse();\r\n\t\tFileOutputStream fileOutputStream=null;\r\n\t\ttry{\r\n\t\t\tFile outputFile = new File(FILE_LOCATION+inputFile.getOriginalFilename());\r\n\t\t\tfileOutputStream = new FileOutputStream(outputFile);\r\n\t\t\tfileOutputStream.write(inputFile.getBytes());\t\r\n\t\t\tfileOutputStream.close();\r\n\t\t\t\r\n\t\t\tresponse.setStatus(ImportExportConstants.ResponseStatus.SUCCESS.name());\r\n\t\t\tresponse.setErrorMessage(EMPTY);\r\n\t\t\t\r\n\t\t}catch (Exception e) {\r\n\t\t\tlog.error(&quot;Exception while upload the file . &quot;+e.getMessage());\r\n\t\t\tresponse.setStatus(ImportExportConstants.ResponseStatus.ERROR.name());\r\n\t\t\tresponse.setErrorMessage(errorMap.get(SYSTEM_ERROR_CODE));\t\t\t\r\n\t\t}\r\n\t\tlog.info(&quot; upload service method ends. file is copied to a temp folder &quot;);\r\n\t\treturn response;\r\n\t}\r\n\t","title":"Writing a post API for Multi Part File Upload using Vertx.io framework","body":"<p>I am writing the code for multipart file upload using the vertx.io .</p>\n\n<p>In Spring boot my code is as follows. I want to write similar in vertex.io </p>\n\n<pre><code>@RequestMapping(value = \"/upload\", headers=(\"content-type=multipart/*\") ,method = RequestMethod.POST)\npublic ImportExportResponse upload(@RequestParam(\"file\") MultipartFile inputFile){\n    log.info(\" upload service method starts  \");\n    ImportExportResponse response = new ImportExportResponse();\n    FileOutputStream fileOutputStream=null;\n    try{\n        File outputFile = new File(FILE_LOCATION+inputFile.getOriginalFilename());\n        fileOutputStream = new FileOutputStream(outputFile);\n        fileOutputStream.write(inputFile.getBytes());   \n        fileOutputStream.close();\n\n        response.setStatus(ImportExportConstants.ResponseStatus.SUCCESS.name());\n        response.setErrorMessage(EMPTY);\n\n    }catch (Exception e) {\n        log.error(\"Exception while upload the file . \"+e.getMessage());\n        response.setStatus(ImportExportConstants.ResponseStatus.ERROR.name());\n        response.setErrorMessage(errorMap.get(SYSTEM_ERROR_CODE));          \n    }\n    log.info(\" upload service method ends. file is copied to a temp folder \");\n    return response;\n}\n</code></pre>\n"},{"tags":["java","data-structures","collections"],"comments":[{"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1246291559,"post_id":1059114,"comment_id":870882,"body_markdown":"&quot;Counting the list items&quot; seems misleading","body":"&quot;Counting the list items&quot; seems misleading"}],"answers":[{"tags":[],"owner":{"account_id":31797,"reputation":6335,"user_id":87627,"accept_rate":65,"display_name":"Jim Evans"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246291660,"creation_date":1246291660,"answer_id":1059130,"question_id":1059114,"body_markdown":"Where is the data comming from? If a db - you can do this very easily in the query on the backend with group by.","title":"Counting the number of occurrences of each item in a list","body":"<p>Where is the data comming from? If a db - you can do this very easily in the query on the backend with group by.</p>\n"},{"comments":[{"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"score":0,"creation_date":1246292124,"post_id":1059131,"comment_id":870930,"body_markdown":"A small information...I can&#39;t use Generics as I have to use Java 1.4","body":"A small information...I can&#39;t use Generics as I have to use Java 1.4"}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1246292620,"creation_date":1246291668,"answer_id":1059131,"question_id":1059114,"body_markdown":"Yes, I would use a `Map&lt;String, Integer&gt;`. I would wrap the `add` in something like this:\r\n\r\n    private static void incrementValue(Map&lt;String, Integer&gt; counters, String toAdd) {\r\n        Integer currValue = counters.get(toAdd);\r\n        if (currValue == null)\r\n            counters.put(toAdd, 1);\r\n        else\r\n            counters.put(toAdd, currValue+1);\r\n    }\r\n\r\nOr without generics:\r\n\r\n    private static void incrementValue(Map counters, String toAdd) {\r\n        Integer currValue = (Integer) counters.get(toAdd);\r\n        if (currValue == null)\r\n            counters.put(toAdd, 1);\r\n        else\r\n            counters.put(toAdd, currValue+1);\r\n    }","title":"Counting the number of occurrences of each item in a list","body":"<p>Yes, I would use a <code>Map&lt;String, Integer&gt;</code>. I would wrap the <code>add</code> in something like this:</p>\n\n<pre><code>private static void incrementValue(Map&lt;String, Integer&gt; counters, String toAdd) {\n    Integer currValue = counters.get(toAdd);\n    if (currValue == null)\n        counters.put(toAdd, 1);\n    else\n        counters.put(toAdd, currValue+1);\n}\n</code></pre>\n\n<p>Or without generics:</p>\n\n<pre><code>private static void incrementValue(Map counters, String toAdd) {\n    Integer currValue = (Integer) counters.get(toAdd);\n    if (currValue == null)\n        counters.put(toAdd, 1);\n    else\n        counters.put(toAdd, currValue+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246291686,"creation_date":1246291686,"answer_id":1059133,"question_id":1059114,"body_markdown":"A map seems the way to go. Direct access :)\r\n\r\nKey: Element\r\nvalue: number of ocurrences, or a list with indexes of the element in the list.","title":"Counting the number of occurrences of each item in a list","body":"<p>A map seems the way to go. Direct access :)</p>\n\n<p>Key: Element\nvalue: number of ocurrences, or a list with indexes of the element in the list.</p>\n"},{"tags":[],"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246291766,"creation_date":1246291766,"answer_id":1059138,"question_id":1059114,"body_markdown":"Besides the solutions that have been posted the first thing that comes to my mind is to make a table &quot;code - value&quot; and encode the list using codes. It would be very space efficient.","title":"Counting the number of occurrences of each item in a list","body":"<p>Besides the solutions that have been posted the first thing that comes to my mind is to make a table \"code - value\" and encode the list using codes. It would be very space efficient.</p>\n"},{"comments":[{"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"score":0,"creation_date":1246292458,"post_id":1059159,"comment_id":870956,"body_markdown":"thats great but how to get the count ?","body":"thats great but how to get the count ?"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1246292607,"post_id":1059159,"comment_id":870967,"body_markdown":"Note that Google Collections requires Java 5, though. Other than that, this is even easier to do than my answer.","body":"Note that Google Collections requires Java 5, though. Other than that, this is even easier to do than my answer."},{"owner":{"account_id":26360,"reputation":17149,"user_id":68524,"accept_rate":71,"display_name":"pjp"},"score":0,"creation_date":1246292778,"post_id":1059159,"comment_id":870982,"body_markdown":"You can get the count by interating over the entrySet().\n\nIf you want to stream the count out you could extend the implementation to notify a listener when the count changes.","body":"You can get the count by interating over the entrySet().  If you want to stream the count out you could extend the implementation to notify a listener when the count changes."}],"tags":[],"owner":{"account_id":26360,"reputation":17149,"user_id":68524,"accept_rate":71,"display_name":"pjp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246291998,"creation_date":1246291998,"answer_id":1059159,"question_id":1059114,"body_markdown":"The most natural structure for this is a Bag aka a Multiset.\r\n\r\nA bag is essentially a function from Object to Count.\r\n\r\nGoogle collections has a Multiset however you could easily build your own using a HashMap.\r\n\r\nhttp://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multiset.html","title":"Counting the number of occurrences of each item in a list","body":"<p>The most natural structure for this is a Bag aka a Multiset.</p>\n\n<p>A bag is essentially a function from Object to Count.</p>\n\n<p>Google collections has a Multiset however you could easily build your own using a HashMap.</p>\n\n<p><a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multiset.html\" rel=\"nofollow noreferrer\">http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multiset.html</a></p>\n"},{"comments":[{"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"score":0,"creation_date":1246293710,"post_id":1059262,"comment_id":871063,"body_markdown":"thats brilliant...I would like to vote for you but I am yet to get reputation...Thanks for the response","body":"thats brilliant...I would like to vote for you but I am yet to get reputation...Thanks for the response"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1246293753,"post_id":1059262,"comment_id":871068,"body_markdown":"+1, and this should be the accepted answer. The only possible reason not to do this is a fear of external libraries (which I have myself).","body":"+1, and this should be the accepted answer. The only possible reason not to do this is a fear of external libraries (which I have myself)."}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379939270,"creation_date":1246293459,"answer_id":1059262,"question_id":1059114,"body_markdown":"Since it was mentioned by the questioner that generics could not be used, as the target platform was Java 1.4, one could use the [Apache Commons Collections][1] which doesn&#39;t use generics.\r\n\r\nThe [answer by pjp][2] mentions that a Bag can be used.\r\n\r\nIt turns out, the Apache Commons Collections has a [`Bag`][3] which has a [`getCount`][4] method which will return the count of a certain object that was added to the `Bag`.\r\n\r\nThe following is an example that [`add`][5]s some `Integer` objects to a [`HashBag`][6], and counts how many of each `Integer` object that the `Bag` contains:\r\n\r\n    Bag b = new HashBag();\r\n    \r\n    b.add(Integer.valueOf(1));\r\n    b.add(Integer.valueOf(2));\r\n    b.add(Integer.valueOf(2));\r\n    b.add(Integer.valueOf(3));\r\n    \t\t\r\n    System.out.println(&quot;Count for 1: &quot; + b.getCount(Integer.valueOf(1)));\r\n    System.out.println(&quot;Count for 2: &quot; + b.getCount(Integer.valueOf(2)));\r\n    System.out.println(&quot;Count for 3: &quot; + b.getCount(Integer.valueOf(3)));\r\n\r\nThe results were:\r\n\r\n&lt;pre&gt;\r\nCount for 1: 1\r\nCount for 2: 2\r\nCount for 3: 1\r\n&lt;/pre&gt;\r\n\r\n(I should add a disclaimer that this code was actually compiled and run on Java 6, but I believe I&#39;ve only used features which were present from the pre-Java 5 days.)\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/\r\n  [2]: https://stackoverflow.com/questions/1059114/counting-the-list-items/1059159#1059159\r\n  [3]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html\r\n  [4]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#getCount(java.lang.Object)\r\n  [5]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#add(java.lang.Object)\r\n  [6]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bag/HashBag.html","title":"Counting the number of occurrences of each item in a list","body":"<p>Since it was mentioned by the questioner that generics could not be used, as the target platform was Java 1.4, one could use the <a href=\"http://commons.apache.org/collections/\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> which doesn't use generics.</p>\n\n<p>The <a href=\"https://stackoverflow.com/questions/1059114/counting-the-list-items/1059159#1059159\">answer by pjp</a> mentions that a Bag can be used.</p>\n\n<p>It turns out, the Apache Commons Collections has a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html\" rel=\"nofollow noreferrer\"><code>Bag</code></a> which has a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#getCount(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>getCount</code></a> method which will return the count of a certain object that was added to the <code>Bag</code>.</p>\n\n<p>The following is an example that <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#add(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>add</code></a>s some <code>Integer</code> objects to a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bag/HashBag.html\" rel=\"nofollow noreferrer\"><code>HashBag</code></a>, and counts how many of each <code>Integer</code> object that the <code>Bag</code> contains:</p>\n\n<pre><code>Bag b = new HashBag();\n\nb.add(Integer.valueOf(1));\nb.add(Integer.valueOf(2));\nb.add(Integer.valueOf(2));\nb.add(Integer.valueOf(3));\n\nSystem.out.println(\"Count for 1: \" + b.getCount(Integer.valueOf(1)));\nSystem.out.println(\"Count for 2: \" + b.getCount(Integer.valueOf(2)));\nSystem.out.println(\"Count for 3: \" + b.getCount(Integer.valueOf(3)));\n</code></pre>\n\n<p>The results were:</p>\n\n<pre>\nCount for 1: 1\nCount for 2: 2\nCount for 3: 1\n</pre>\n\n<p>(I should add a disclaimer that this code was actually compiled and run on Java 6, but I believe I've only used features which were present from the pre-Java 5 days.)</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692742455,"creation_date":1692742070,"answer_id":76957114,"question_id":1059114,"body_markdown":"You may use [`Map.getOrDefault`][1] for that, which is available since Java 8. As simple as that:\r\n```\r\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (String s : List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;)) {\r\n  map.put(s, map.getOrDefault(s, 0) + 1);\r\n}\r\n```\r\n- The `getOrDefault` method returns the value to which the specified key `s` is mapped, or `0` if this map contains no mapping for the key `s`.\r\n- The returned value is then incremented by `1`.\r\n- The key-value pair is added to the map.\r\n\r\nOr, using Java 8 streams - a combination of [`groupingBy`][2] and [`counting`][3] collectors:\r\n```\r\nMap&lt;String, Long&gt; map =\r\n    List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;).stream()\r\n        .collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--","title":"Counting the number of occurrences of each item in a list","body":"<p>You may use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>Map.getOrDefault</code></a> for that, which is available since Java 8. As simple as that:</p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n\nfor (String s : List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;)) {\n  map.put(s, map.getOrDefault(s, 0) + 1);\n}\n</code></pre>\n<ul>\n<li>The <code>getOrDefault</code> method returns the value to which the specified key <code>s</code> is mapped, or <code>0</code> if this map contains no mapping for the key <code>s</code>.</li>\n<li>The returned value is then incremented by <code>1</code>.</li>\n<li>The key-value pair is added to the map.</li>\n</ul>\n<p>Or, using Java 8 streams - a combination of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>groupingBy</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--\" rel=\"nofollow noreferrer\"><code>counting</code></a> collectors:</p>\n<pre><code>Map&lt;String, Long&gt; map =\n    List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;).stream()\n        .collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()));\n</code></pre>\n"}],"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4729,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":1059131,"answer_count":7,"score":6,"last_activity_date":1692742455,"creation_date":1246291437,"question_id":1059114,"body_markdown":" I have a streaming input which has repeated values. I can use any data structure but I have to count the number of occurence of each element. Suppose I have a list of mobile phone suppliers like the following:\r\n&lt;pre&gt;\r\nApple\r\nNokia\r\nSamsung\r\nApple\r\nLG\r\nNokia\r\nHTC\r\nAndroid\r\nApple\r\nNokia\r\nNokia\r\nApple\r\nSamsung\r\n&lt;/pre&gt;\r\nI have to build any data structure preferably a map with details like\r\n&lt;pre&gt;\r\nApple,4\r\nNokia,4\r\nSamsung,2\r\nLG,1\r\nAndroid,1\r\n&lt;/pre&gt;\r\nI am not sure whether this is optimal. Is there a better solution than this?  \r\nIn fact I have yet to write the above as a code. So better code will also help.\r\n","title":"Counting the number of occurrences of each item in a list","body":"<p>I have a streaming input which has repeated values. I can use any data structure but I have to count the number of occurence of each element. Suppose I have a list of mobile phone suppliers like the following:</p>\n\n<pre>\nApple\nNokia\nSamsung\nApple\nLG\nNokia\nHTC\nAndroid\nApple\nNokia\nNokia\nApple\nSamsung\n</pre>\n\n<p>I have to build any data structure preferably a map with details like</p>\n\n<pre>\nApple,4\nNokia,4\nSamsung,2\nLG,1\nAndroid,1\n</pre>\n\n<p>I am not sure whether this is optimal. Is there a better solution than this?<br>\nIn fact I have yet to write the above as a code. So better code will also help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":3,"creation_date":1692688260,"post_id":76950815,"comment_id":135654173,"body_markdown":"You don&#39;t need to use streams for that.","body":"You don&#39;t need to use streams for that."},{"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"score":0,"creation_date":1692688458,"post_id":76950815,"comment_id":135654207,"body_markdown":"boolean evenNumber = y.stream().allMatch(n -&gt; n % 2 == 0); getting all even number.","body":"boolean evenNumber = y.stream().allMatch(n -&gt; n % 2 == 0); getting all even number."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":8,"creation_date":1692688501,"post_id":76950815,"comment_id":135654219,"body_markdown":"@RahulRokade that&#39;s completely irrelevant to this question.","body":"@RahulRokade that&#39;s completely irrelevant to this question."}],"answers":[{"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692689552,"creation_date":1692688632,"answer_id":76950916,"question_id":76950815,"body_markdown":"You can go with something like this:\r\n```java\r\npublic static boolean hasConsecutiveDays(List&lt;Integer&gt; hoursList, int consecutiveDays) {\r\n        return IntStream.range(0, hoursList.size() - consecutiveDays + 1)\r\n                .anyMatch(startIndex -&gt; hoursList.subList(startIndex, startIndex + consecutiveDays)\r\n                        .stream()\r\n                        .allMatch(hours -&gt; hours &gt; 0));\r\n```\r\nbut it will not be efficient due to creating additional sublists, so If you dont have to, I would stick to using for loop instead","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>You can go with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean hasConsecutiveDays(List&lt;Integer&gt; hoursList, int consecutiveDays) {\n        return IntStream.range(0, hoursList.size() - consecutiveDays + 1)\n                .anyMatch(startIndex -&gt; hoursList.subList(startIndex, startIndex + consecutiveDays)\n                        .stream()\n                        .allMatch(hours -&gt; hours &gt; 0));\n</code></pre>\n<p>but it will not be efficient due to creating additional sublists, so If you dont have to, I would stick to using for loop instead</p>\n"},{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692688996,"creation_date":1692688996,"answer_id":76950963,"question_id":76950815,"body_markdown":"Something like this should resolve it\r\n\r\n    public static boolean checkConsecutiveDays(int[] row, int cons) {\r\n      int counter = 0;\r\n      for ( int day : row ) {\r\n        if ( day == 0 ) counter = 0; // invalid day? reset\r\n        else counter += 1;\r\n        if ( counter == cons ) return true; // if counter equal to cons -&gt; return true\r\n       }\r\n       return false; // the cons value was never reached\r\n    }","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>Something like this should resolve it</p>\n<pre><code>public static boolean checkConsecutiveDays(int[] row, int cons) {\n  int counter = 0;\n  for ( int day : row ) {\n    if ( day == 0 ) counter = 0; // invalid day? reset\n    else counter += 1;\n    if ( counter == cons ) return true; // if counter equal to cons -&gt; return true\n   }\n   return false; // the cons value was never reached\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1692689661,"post_id":76950994,"comment_id":135654464,"body_markdown":"It works but it&#39;s highly inefficient compared to Stultuske&#39;s answer.","body":"It works but it&#39;s highly inefficient compared to Stultuske&#39;s answer."},{"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"score":0,"creation_date":1692689962,"post_id":76950994,"comment_id":135654540,"body_markdown":"@Olivier maybe, however OP asked for solution using Stream API","body":"@Olivier maybe, however OP asked for solution using Stream API"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1692690311,"post_id":76950994,"comment_id":135654605,"body_markdown":"@Olivier and it is not *highly* inefficient. Sure, it does not return early, but it still is O(n).","body":"@Olivier and it is not <i>highly</i> inefficient. Sure, it does not return early, but it still is O(n)."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1692705014,"post_id":76950994,"comment_id":135657687,"body_markdown":"You don&#39;t really need the `count &gt;= 6` inside the reducer: it doesn&#39;t matter if your count exceeds 6, and it doesn&#39;t help you to stop early.","body":"You don&#39;t really need the <code>count &gt;= 6</code> inside the reducer: it doesn&#39;t matter if your count exceeds 6, and it doesn&#39;t help you to stop early."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1692705084,"post_id":76950994,"comment_id":135657706,"body_markdown":"@AndyTurner I do, otherwise I have the same issue as the downvoted deleted answer: it would only count the very last run of non zero numbers. It is not to prevent exceeding the 6, it is to prevent the reset to 0.","body":"@AndyTurner I do, otherwise I have the same issue as the downvoted deleted answer: it would only count the very last run of non zero numbers. It is not to prevent exceeding the 6, it is to prevent the reset to 0."}],"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692691467,"creation_date":1692689245,"answer_id":76950994,"question_id":76950815,"body_markdown":"A version using `reduce` might look like\r\n\r\n    Arrays.asList(0,3,...,1,0).stream().reduce(0, \r\n        (count, number) -&gt; count &gt;= 6 ? count : (number &gt; 0 ? count + 1 : 0)\r\n    ) &gt;= 6\r\n\r\nWe iterate through the numbers and start with a `count` of 0 - we increment the `count` if the current `number` is larger than 0, otherwise we reset the `count` to 0. If the `count` is already larger than 6 then we do not care anymore about further checking against 0 or incrementing the `count`, this is where a more performant solution should return early. ","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>A version using <code>reduce</code> might look like</p>\n<pre><code>Arrays.asList(0,3,...,1,0).stream().reduce(0, \n    (count, number) -&gt; count &gt;= 6 ? count : (number &gt; 0 ? count + 1 : 0)\n) &gt;= 6\n</code></pre>\n<p>We iterate through the numbers and start with a <code>count</code> of 0 - we increment the <code>count</code> if the current <code>number</code> is larger than 0, otherwise we reset the <code>count</code> to 0. If the <code>count</code> is already larger than 6 then we do not care anymore about further checking against 0 or incrementing the <code>count</code>, this is where a more performant solution should return early.</p>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692689912,"creation_date":1692689912,"answer_id":76951054,"question_id":76950815,"body_markdown":"You can also precompute indices of zeros and check if exists distance greater than 6, assuming sentinel zeros at the beginning and at the end.\r\n\r\n```java\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7); //true\r\n\t\t//List&lt;Integer&gt; y = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0); //false\r\n\t\tList&lt;Integer&gt; z = new ArrayList&lt;&gt;(); // indices of zeros and sentinels\r\n\t\tz.add(-1);\r\n\t\tIntStream.range(0, y.size()).filter(i -&gt; y.get(i) == 0).forEach(z::add);\r\n\t\tz.add(y.size());\r\n\t\tSystem.out.println(z);\r\n\t\tboolean result = IntStream.range(0, z.size() - 1).anyMatch(i -&gt; z.get(i + 1) - z.get(i) &gt; 6);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n```\r\n","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>You can also precompute indices of zeros and check if exists distance greater than 6, assuming sentinel zeros at the beginning and at the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        List&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7); //true\n        //List&lt;Integer&gt; y = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0); //false\n        List&lt;Integer&gt; z = new ArrayList&lt;&gt;(); // indices of zeros and sentinels\n        z.add(-1);\n        IntStream.range(0, y.size()).filter(i -&gt; y.get(i) == 0).forEach(z::add);\n        z.add(y.size());\n        System.out.println(z);\n        boolean result = IntStream.range(0, z.size() - 1).anyMatch(i -&gt; z.get(i + 1) - z.get(i) &gt; 6);\n        System.out.println(result);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692691541,"creation_date":1692691541,"answer_id":76951268,"question_id":76950815,"body_markdown":"So there is a way to do this using the Stream API.\r\n\r\n    BinaryOperator&lt;Integer&gt; accumulator = (counter, item) -&gt; {\r\n        if (item &gt; 0) {\r\n            // if the item is greater than 0, the counter is incremented\r\n            return counter + 1;\r\n        } else if (counter &gt;= 6) {\r\n            // since it is not possible to abort the reduce function\r\n            // after six consecutive elements greater than 0 have been found,\r\n            // this extra check is required to store the counter\r\n            return counter;\r\n        } else {\r\n            // otherwise the counter is discarded\r\n            return 0;\r\n        }\r\n    };\r\n    \r\n    List&lt;Integer&gt; x = Arrays.asList(0, 0, 0, 6, 0, 7, 9, 0, 0, 8, 9, 0, 1, 0);\r\n    List&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\r\n    \r\n    int xr = x.stream().reduce(0, accumulator); // 0\r\n    int yr = y.stream().reduce(0, accumulator); // 8\r\n\r\n    print(xr &gt;= 6); // false\r\n    print(yr &gt;= 6); // true","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>So there is a way to do this using the Stream API.</p>\n<pre><code>BinaryOperator&lt;Integer&gt; accumulator = (counter, item) -&gt; {\n    if (item &gt; 0) {\n        // if the item is greater than 0, the counter is incremented\n        return counter + 1;\n    } else if (counter &gt;= 6) {\n        // since it is not possible to abort the reduce function\n        // after six consecutive elements greater than 0 have been found,\n        // this extra check is required to store the counter\n        return counter;\n    } else {\n        // otherwise the counter is discarded\n        return 0;\n    }\n};\n\nList&lt;Integer&gt; x = Arrays.asList(0, 0, 0, 6, 0, 7, 9, 0, 0, 8, 9, 0, 1, 0);\nList&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\n\nint xr = x.stream().reduce(0, accumulator); // 0\nint yr = y.stream().reduce(0, accumulator); // 8\n\nprint(xr &gt;= 6); // false\nprint(yr &gt;= 6); // true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1692692231,"post_id":76951296,"comment_id":135654977,"body_markdown":"why would you need an array for this? if you want to opt for something like this, why not opt for an AtomicInteger or similar?","body":"why would you need an array for this? if you want to opt for something like this, why not opt for an AtomicInteger or similar?"},{"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"score":0,"creation_date":1692692503,"post_id":76951296,"comment_id":135655031,"body_markdown":"ya we can, modified it now. thanks","body":"ya we can, modified it now. thanks"}],"tags":[],"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692692481,"creation_date":1692691781,"answer_id":76951296,"question_id":76950815,"body_markdown":"\r\n\r\n    List&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\r\n    AtomicInteger k = new AtomicInteger();\r\n    boolean res = y.stream().anyMatch(g -&gt; {\r\n            if(k.get() == 6){\r\n                return true;\r\n            }\r\n            k.set(g &gt; 0 ? k.get() + 1 : 0);\r\n            return false;\r\n        });\r\n    System.out.println(res);","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<pre><code>List&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\nAtomicInteger k = new AtomicInteger();\nboolean res = y.stream().anyMatch(g -&gt; {\n        if(k.get() == 6){\n            return true;\n        }\n        k.set(g &gt; 0 ? k.get() + 1 : 0);\n        return false;\n    });\nSystem.out.println(res);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5049407,"reputation":525,"user_id":4054438,"display_name":"R&#233;mi"},"score":0,"creation_date":1692877622,"post_id":76957130,"comment_id":135685199,"body_markdown":"A similar answer was already published for this topic. You have to take a look at the others answers before published your.","body":"A similar answer was already published for this topic. You have to take a look at the others answers before published your."}],"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692742436,"creation_date":1692742387,"answer_id":76957130,"question_id":76950815,"body_markdown":"Try this out, the code below has a simple, from scratch logic, but it should solve the problem:\r\n\r\n    ```\r\n        public static boolean notZero_n_times (List&lt;Integer&gt; l) {\r\n\r\n        int count = 0;\r\n\r\n        for (int i = 0; i &lt; l.size(); i++) {\r\n\r\n            if (l.get(i) == 0) {\r\n                count = 0;\r\n            } else {\r\n                count ++;\r\n            }\r\n\r\n            if (count == 6) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n    ```","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>Try this out, the code below has a simple, from scratch logic, but it should solve the problem:</p>\n<pre><code>```\n    public static boolean notZero_n_times (List&lt;Integer&gt; l) {\n\n    int count = 0;\n\n    for (int i = 0; i &lt; l.size(); i++) {\n\n        if (l.get(i) == 0) {\n            count = 0;\n        } else {\n            count ++;\n        }\n\n        if (count == 6) {\n            return true;\n        }\n    }\n\n    return false;\n}\n```\n</code></pre>\n"}],"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":7,"score":1,"last_activity_date":1692742436,"creation_date":1692687760,"question_id":76950815,"body_markdown":"Say I want to return true if given a list of integers (will say employee hours for the day) is greater than 0 6 times in a row. This would mean that the employee has worked at least 6 days in a row. How would I go about implementing this with Java code? I have tried something using the allMatch() stream function but my logic is failing. Any help would be appreciated.  \r\n\r\n    List&lt;Integer&gt; x = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0) -&gt; false because there is not a number greater than 0 six times in a row\r\n    \r\n    List&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7) -&gt; true because there is a number greater than 0 six times in a row\r\n\r\nI have tried something like this but I get confused when capturing the other numbers in the list for comparision.\r\n\r\n    boolean z = y.stream().allMatch(num -&gt; num &gt; 0);\r\n\r\n\r\n","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>Say I want to return true if given a list of integers (will say employee hours for the day) is greater than 0 6 times in a row. This would mean that the employee has worked at least 6 days in a row. How would I go about implementing this with Java code? I have tried something using the allMatch() stream function but my logic is failing. Any help would be appreciated.</p>\n<pre><code>List&lt;Integer&gt; x = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0) -&gt; false because there is not a number greater than 0 six times in a row\n\nList&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7) -&gt; true because there is a number greater than 0 six times in a row\n</code></pre>\n<p>I have tried something like this but I get confused when capturing the other numbers in the list for comparision.</p>\n<pre><code>boolean z = y.stream().allMatch(num -&gt; num &gt; 0);\n</code></pre>\n"},{"tags":["java","eclipse","maven","svn","tortoisesvn"],"answers":[{"comments":[{"owner":{"account_id":1780819,"reputation":117,"user_id":1623627,"accept_rate":60,"display_name":"user1623627"},"score":0,"creation_date":1410965876,"post_id":25857326,"comment_id":40526227,"body_markdown":"I tried the settings.xml method. I encrypted the password using mvn -emp and mvn -ep. It is detecting the username. So I used mvn scm:checkin -Dmessage=&quot;&quot; and did not mention the username and password. It was detecting the username, but still giving the same error.","body":"I tried the settings.xml method. I encrypted the password using mvn -emp and mvn -ep. It is detecting the username. So I used mvn scm:checkin -Dmessage=&quot;&quot; and did not mention the username and password. It was detecting the username, but still giving the same error."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1410973532,"post_id":25857326,"comment_id":40530818,"body_markdown":"Did you use the top block I showed, or the bottom one?  In your situation I would try the bottom one.  Also, did you remember to create the ~/.m2/settings-security.xml file containing your encrypted master password?  I&#39;ve helped several people who have missed that step for some reason, even though it is clearly there in the [Maven docs](http://maven.apache.org/guides/mini/guide-encryption.html).","body":"Did you use the top block I showed, or the bottom one?  In your situation I would try the bottom one.  Also, did you remember to create the ~/.m2/settings-security.xml file containing your encrypted master password?  I&#39;ve helped several people who have missed that step for some reason, even though it is clearly there in the <a href=\"http://maven.apache.org/guides/mini/guide-encryption.html\" rel=\"nofollow noreferrer\">Maven docs</a>."},{"owner":{"account_id":1780819,"reputation":117,"user_id":1623627,"accept_rate":60,"display_name":"user1623627"},"score":0,"creation_date":1410980629,"post_id":25857326,"comment_id":40534389,"body_markdown":"I used the bottom one. I created the settings-security.xml and placed it in ~/.m2/settings-security.xml. It did not work. It is giving the same errors.","body":"I used the bottom one. I created the settings-security.xml and placed it in ~/.m2/settings-security.xml. It did not work. It is giving the same errors."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1410985934,"post_id":25857326,"comment_id":40537076,"body_markdown":"Are you using the most current version of the maven release plugin?  If not, please update and try it again.","body":"Are you using the most current version of the maven release plugin?  If not, please update and try it again."}],"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410817148,"creation_date":1410817148,"answer_id":25857326,"question_id":25856735,"body_markdown":"The only place I&#39;ve seen this documented is in the [Maven release plugin FAQ]().  You may add a `server` entry to your POM, then configure the project to use it.  \r\n\r\n    &lt;!-- Project POM, or a corporate parent --&gt;\r\n    &lt;properties&gt;\r\n      &lt;project.scm.id&gt;my-scm-server&lt;project.scm.id&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;!-- User&#39;s settings.xml file --&gt;\r\n    &lt;server&gt;\r\n        &lt;id&gt;my-scm-server&lt;/id&gt;\r\n        &lt;username&gt;username&lt;/username&gt;\r\n        &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\r\n    &lt;/server&gt;\r\n\r\nI can&#39;t find the reference for this (maybe I looked at the source code), but once upon a time I discovered that if you set the ID to the Subversion host, then the server info will be located by many plugins, including release and scm.  It would look like this:\r\n\r\n    &lt;!-- Project POM, or a corporate parent --&gt;\r\n    &lt;properties&gt;\r\n      &lt;project.scm.id&gt;your.subversion.host&lt;project.scm.id&gt;  &lt;!-- note, no scm:svn part --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;!-- User&#39;s settings.xml file --&gt;\r\n    &lt;server&gt;\r\n        &lt;id&gt;your.subversion.host&lt;/id&gt;\r\n        &lt;username&gt;username&lt;/username&gt;\r\n        &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\r\n    &lt;/server&gt;\r\n","title":"Maven svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option","body":"<p>The only place I've seen this documented is in the Maven release plugin FAQ.  You may add a <code>server</code> entry to your POM, then configure the project to use it.  </p>\n\n<pre><code>&lt;!-- Project POM, or a corporate parent --&gt;\n&lt;properties&gt;\n  &lt;project.scm.id&gt;my-scm-server&lt;project.scm.id&gt;\n&lt;/properties&gt;\n\n&lt;!-- User's settings.xml file --&gt;\n&lt;server&gt;\n    &lt;id&gt;my-scm-server&lt;/id&gt;\n    &lt;username&gt;username&lt;/username&gt;\n    &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\n&lt;/server&gt;\n</code></pre>\n\n<p>I can't find the reference for this (maybe I looked at the source code), but once upon a time I discovered that if you set the ID to the Subversion host, then the server info will be located by many plugins, including release and scm.  It would look like this:</p>\n\n<pre><code>&lt;!-- Project POM, or a corporate parent --&gt;\n&lt;properties&gt;\n  &lt;project.scm.id&gt;your.subversion.host&lt;project.scm.id&gt;  &lt;!-- note, no scm:svn part --&gt;\n&lt;/properties&gt;\n\n&lt;!-- User's settings.xml file --&gt;\n&lt;server&gt;\n    &lt;id&gt;your.subversion.host&lt;/id&gt;\n    &lt;username&gt;username&lt;/username&gt;\n    &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4910819,"reputation":395,"user_id":3956172,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427372065,"creation_date":1427372065,"answer_id":29278183,"question_id":25856735,"body_markdown":"Subversion really changes from 1.6.x to 1.8.x. This problem may be due to that (especially using Windows + Active Directory).\r\n\r\nIf invoking maven from eclipse it then tries to access the SVN not using Subclipse. Assume that you even use an external Maven installation. This external installation does not know your Eclipse / Subclipse and thus calls SVN available on your platform (depending on Windows path variable). This SVN for does not know of your Eclipse and hence has to get the credentials from somewhere else (for example %USER%\\AppData\\Roaming\\Subversion\\auth). Unfortunately at this point something seems to have been broken with the maven-release-plugin since SVN protocol version 1.6.\r\n\r\nCurrently no best solution is known and it is unclear what exactly causes the maven-release-plugin to fail. The best work around maybe to provide the credentials in the Eclipse Run configuration (JRE tab, then argument Dusername=... -Dpassword=...).\r\n\r\nI would recommend not to store the credentials somewhere where they might be accidentally exploited to others.","title":"Maven svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option","body":"<p>Subversion really changes from 1.6.x to 1.8.x. This problem may be due to that (especially using Windows + Active Directory).</p>\n\n<p>If invoking maven from eclipse it then tries to access the SVN not using Subclipse. Assume that you even use an external Maven installation. This external installation does not know your Eclipse / Subclipse and thus calls SVN available on your platform (depending on Windows path variable). This SVN for does not know of your Eclipse and hence has to get the credentials from somewhere else (for example %USER%\\AppData\\Roaming\\Subversion\\auth). Unfortunately at this point something seems to have been broken with the maven-release-plugin since SVN protocol version 1.6.</p>\n\n<p>Currently no best solution is known and it is unclear what exactly causes the maven-release-plugin to fail. The best work around maybe to provide the credentials in the Eclipse Run configuration (JRE tab, then argument Dusername=... -Dpassword=...).</p>\n\n<p>I would recommend not to store the credentials somewhere where they might be accidentally exploited to others.</p>\n"}],"owner":{"account_id":1780819,"reputation":117,"user_id":1623627,"accept_rate":60,"display_name":"user1623627"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14452,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1692741790,"creation_date":1410814462,"question_id":25856735,"body_markdown":"When I try to do a `mvn release: perform`, I get this error \r\n\r\n    [ERROR] Provider message:\r\n    [ERROR] The svn command failed.\r\n    [ERROR] Command output:\r\n    [ERROR] svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option\r\n    svn: E215004: Commit failed (details follow):\r\n    svn: E215004: No more credentials or we tried too many times.\r\n    Authentication failed\r\n    svn: E215004: Additional errors:\r\n    svn: E215004: No more credentials or we tried too many times.\r\n    Authentication failed\r\n\r\n\r\nSo I thought something maybe wrong with my pom. So I tried doing \r\n\r\n    mvn scm:checkin -Dmessage=&quot;relase&quot; -Dusername=&lt;username&gt; -Dpassword=&lt;password&gt;.\r\n\r\nI have the scm related section in pom in this manner:\r\n\r\n    &lt;scm&gt;\r\n      &lt;url&gt;url&lt;/url&gt; \r\n      &lt;connection&gt;scm:svn:url&lt;/connection&gt; \r\n      &lt;developerConnection&gt;scm:svn:url&lt;/developerConnection&gt;\r\n     \r\n      &lt;/scm&gt;\r\n\r\nBut I still get the same error. \r\n\r\nI have subclipse installed in eclipse. I have collabnet and tortoise SVN installed on my machine. All are 1.8.1 version. When I try to checkin directly from eclipse using Team--&gt; Commit, I am able to commit using the same credentials. Also I am able to commit using the same credentials from TortoiseSVN. But using the same credentials I am not able to release perform or scm checkin from maven. I saw some links which talk about ${user.home}\\.scm\\svn-settings.xml where we can configure interactive svn. But I do not see it on my machine. I do not see the .scm folder itself. Am I doing anything wrong here?\r\n\r\nThese are software that I installed in eclipse\r\n\r\nCollabnet merge client -4.0.2\r\nSubclipse- 1.10.4\r\nSubclipse client adapter -1.10.1\r\nSubversion JavaHL native library adapter- 1.8.8.1\r\n","title":"Maven svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option","body":"<p>When I try to do a <code>mvn release: perform</code>, I get this error </p>\n\n<pre><code>[ERROR] Provider message:\n[ERROR] The svn command failed.\n[ERROR] Command output:\n[ERROR] svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option\nsvn: E215004: Commit failed (details follow):\nsvn: E215004: No more credentials or we tried too many times.\nAuthentication failed\nsvn: E215004: Additional errors:\nsvn: E215004: No more credentials or we tried too many times.\nAuthentication failed\n</code></pre>\n\n<p>So I thought something maybe wrong with my pom. So I tried doing </p>\n\n<pre><code>mvn scm:checkin -Dmessage=\"relase\" -Dusername=&lt;username&gt; -Dpassword=&lt;password&gt;.\n</code></pre>\n\n<p>I have the scm related section in pom in this manner:</p>\n\n<pre><code>&lt;scm&gt;\n  &lt;url&gt;url&lt;/url&gt; \n  &lt;connection&gt;scm:svn:url&lt;/connection&gt; \n  &lt;developerConnection&gt;scm:svn:url&lt;/developerConnection&gt;\n\n  &lt;/scm&gt;\n</code></pre>\n\n<p>But I still get the same error. </p>\n\n<p>I have subclipse installed in eclipse. I have collabnet and tortoise SVN installed on my machine. All are 1.8.1 version. When I try to checkin directly from eclipse using Team--> Commit, I am able to commit using the same credentials. Also I am able to commit using the same credentials from TortoiseSVN. But using the same credentials I am not able to release perform or scm checkin from maven. I saw some links which talk about ${user.home}.scm\\svn-settings.xml where we can configure interactive svn. But I do not see it on my machine. I do not see the .scm folder itself. Am I doing anything wrong here?</p>\n\n<p>These are software that I installed in eclipse</p>\n\n<p>Collabnet merge client -4.0.2\nSubclipse- 1.10.4\nSubclipse client adapter -1.10.1\nSubversion JavaHL native library adapter- 1.8.8.1</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":208332,"reputation":51998,"user_id":458741,"accept_rate":67,"display_name":"Ben"},"score":0,"creation_date":1386163905,"post_id":20375222,"comment_id":30422391,"body_markdown":"Do you have permissions to access the file?","body":"Do you have permissions to access the file?"},{"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"score":0,"creation_date":1386164698,"post_id":20375222,"comment_id":30422853,"body_markdown":"Yes I have, but how can i Check that ?","body":"Yes I have, but how can i Check that ?"},{"owner":{"account_id":208332,"reputation":51998,"user_id":458741,"accept_rate":67,"display_name":"Ben"},"score":0,"creation_date":1386164992,"post_id":20375222,"comment_id":30423030,"body_markdown":"If you&#39;re on windows right-click on the file then click properties.","body":"If you&#39;re on windows right-click on the file then click properties."},{"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"score":0,"creation_date":1386165171,"post_id":20375222,"comment_id":30423118,"body_markdown":"I have all the permission, I verified...","body":"I have all the permission, I verified..."}],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386166575,"creation_date":1386166031,"answer_id":20377517,"question_id":20375222,"body_markdown":"The first script is being created and executed in the current working directory, so it will always exist (assuming you have permission to create there). The second is expected to be in the current working directory as well. The question is, then, what is the current working directory?\r\n\r\nIt looks like you&#39;re expecting it to be `C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/`, and if you run the `.bat` manually there it works OK (from what you&#39;ve said); so when you call it from Java it must be somewhere else. That will either be whatever the working directory was when your JVM launched, or your home directory, I think - not quite sure.\r\n\r\nYou need to specify the correct directory, either hard-coded into the script, or passed as another parameter. You may then want to `cd` to that in your script so the `DIR_REPORT.sql` is created in the same, known, place; otherwise you can use it create the full path to `PACKAGE_SCRIPTv2.sql`.","title":"SP2-0310: unable to open file .sql","body":"<p>The first script is being created and executed in the current working directory, so it will always exist (assuming you have permission to create there). The second is expected to be in the current working directory as well. The question is, then, what is the current working directory?</p>\n\n<p>It looks like you're expecting it to be <code>C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/</code>, and if you run the <code>.bat</code> manually there it works OK (from what you've said); so when you call it from Java it must be somewhere else. That will either be whatever the working directory was when your JVM launched, or your home directory, I think - not quite sure.</p>\n\n<p>You need to specify the correct directory, either hard-coded into the script, or passed as another parameter. You may then want to <code>cd</code> to that in your script so the <code>DIR_REPORT.sql</code> is created in the same, known, place; otherwise you can use it create the full path to <code>PACKAGE_SCRIPTv2.sql</code>.</p>\n"},{"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1386322103,"post_id":20399425,"comment_id":30498950,"body_markdown":"Don&#39;t the reason... what, that it started working, or that it was looking in that directory in the first place? As I said in my answer, it looks like the working directory from when the JVM launched; maybe you have a shortcut to launch NetBeans that sets that working area, or you were in that directory when you launched the project. It might change depending on how you launch though, so it&#39;ll be safer to tell the script where to look, won&#39;t it?","body":"Don&#39;t the reason... what, that it started working, or that it was looking in that directory in the first place? As I said in my answer, it looks like the working directory from when the JVM launched; maybe you have a shortcut to launch NetBeans that sets that working area, or you were in that directory when you launched the project. It might change depending on how you launch though, so it&#39;ll be safer to tell the script where to look, won&#39;t it?"}],"tags":[],"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386244738,"creation_date":1386244738,"answer_id":20399425,"question_id":20375222,"body_markdown":"yeah the problem is path defined in statement contains all the files but while execution the script is going only till :\r\n\r\n&quot;C:/Users/sony/Documents/NetBeansProjects/CodeReview&quot;\r\n\r\nThis is what was displayed in cmd, so I have placed the file into this directory and it started working...don&#39;t know the reason.\r\n\r\nTIP: when you find such kind of issue please look at the error message properly as it will tell you where the script is looking when it got failed, so just place the file at that location and will work...\r\n\r\nEnjoy \\m/","title":"SP2-0310: unable to open file .sql","body":"<p>yeah the problem is path defined in statement contains all the files but while execution the script is going only till :</p>\n\n<p>\"C:/Users/sony/Documents/NetBeansProjects/CodeReview\"</p>\n\n<p>This is what was displayed in cmd, so I have placed the file into this directory and it started working...don't know the reason.</p>\n\n<p>TIP: when you find such kind of issue please look at the error message properly as it will tell you where the script is looking when it got failed, so just place the file at that location and will work...</p>\n\n<p>Enjoy \\m/</p>\n"}],"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692741790,"creation_date":1386159619,"question_id":20375222,"body_markdown":"I am calling batch file from my java program which in result execute some .sql files.\r\nthe batch script is below:\r\n\r\n    set part1= CREATE OR REPLACE DIRECTORY REPORT AS &#39;\r\n    set total=%part1%%4&#39;;\r\n    echo %total% &gt; DIR_REPORT.sql\r\n    echo exit; &gt;&gt;DIR_REPORT.sql\r\n    sqlplus %1/%2@%3 @./DIR_REPORT.sql\r\n    sqlplus %1/%2@%3 @./PACKAGE_SCRIPTv2.sql\r\n\r\nand my java code is :\r\n\r\n    Runtime run = Runtime.getRuntime();\r\n    System.out.println(&quot;Start Running the batch file&quot;);\r\n    Process p = run.exec(new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;, &quot;start&quot;, &quot;C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/install.bat&quot;,i,j,m,l});\r\n    System.out.println(&quot;Completed&quot;);\r\n\r\nit is giving error:\r\n\r\n    SP2-0310: unable to open file\r\n\r\nThe first file generated using the batch (DIR_REPORT) is being executed but my PACKAGE_SCRIPTv2.sql is not being executed but raises error, please help me what to do.\r\n\r\nalthough when a run batch file mannualy from cmd everything works fine...","title":"SP2-0310: unable to open file .sql","body":"<p>I am calling batch file from my java program which in result execute some .sql files.\nthe batch script is below:</p>\n\n<pre><code>set part1= CREATE OR REPLACE DIRECTORY REPORT AS '\nset total=%part1%%4';\necho %total% &gt; DIR_REPORT.sql\necho exit; &gt;&gt;DIR_REPORT.sql\nsqlplus %1/%2@%3 @./DIR_REPORT.sql\nsqlplus %1/%2@%3 @./PACKAGE_SCRIPTv2.sql\n</code></pre>\n\n<p>and my java code is :</p>\n\n<pre><code>Runtime run = Runtime.getRuntime();\nSystem.out.println(\"Start Running the batch file\");\nProcess p = run.exec(new String[]{\"cmd.exe\",\"/c\", \"start\", \"C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/install.bat\",i,j,m,l});\nSystem.out.println(\"Completed\");\n</code></pre>\n\n<p>it is giving error:</p>\n\n<pre><code>SP2-0310: unable to open file\n</code></pre>\n\n<p>The first file generated using the batch (DIR_REPORT) is being executed but my PACKAGE_SCRIPTv2.sql is not being executed but raises error, please help me what to do.</p>\n\n<p>although when a run batch file mannualy from cmd everything works fine...</p>\n"},{"tags":["java","intellij-idea","jepp"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1624025461,"post_id":68034602,"comment_id":120252513,"body_markdown":"How do you run the app in IDE? Please add this information. In Run/Debug Configuration there are **VM Options** field where you need to add the `-Djava.library.path` option. You do not need to add it in the IDE .vmoptions file.","body":"How do you run the app in IDE? Please add this information. In Run/Debug Configuration there are <b>VM Options</b> field where you need to add the <code>-Djava.library.path</code> option. You do not need to add it in the IDE .vmoptions file."},{"owner":{"account_id":1638376,"reputation":1661,"user_id":1511294,"accept_rate":52,"display_name":"Ayan Biswas"},"score":0,"creation_date":1624027159,"post_id":68034602,"comment_id":120253267,"body_markdown":"Thanks for pointing out the issue with VM options , but even after specifying it I am getting an error","body":"Thanks for pointing out the issue with VM options , but even after specifying it I am getting an error"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1624533792,"post_id":68034602,"comment_id":120388060,"body_markdown":"For the 1st error: `Library not loaded: @rpath/libpython3.8.dylib` try to specify the `LD_LIBRARY_PATH` into **Environment variables** box in IDE run configuration and make sure the path you set - contains needed library. See also https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath","body":"For the 1st error: <code>Library not loaded: @rpath&#47;libpython3.8.dylib</code> try to specify the <code>LD_LIBRARY_PATH</code> into <b>Environment variables</b> box in IDE run configuration and make sure the path you set - contains needed library. See also <a href=\"https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath\" rel=\"nofollow noreferrer\">github.com/ninia/jep/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29278566,"reputation":1,"user_id":22431739,"display_name":"Jeanette Clark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692741749,"creation_date":1692741749,"answer_id":76957094,"question_id":68034602,"body_markdown":"If it helps the original poster, or anyone else who comes across this post:\r\n\r\nIf you have followed all of the advice [here](https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath) and still get the `UnsatisfiedLinkError`, make sure your python `jep` install is the same version as the version listed in your pom.xml","title":"UnsatisfiedLinkError ,while using JEP","body":"<p>If it helps the original poster, or anyone else who comes across this post:</p>\n<p>If you have followed all of the advice <a href=\"https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath\" rel=\"nofollow noreferrer\">here</a> and still get the <code>UnsatisfiedLinkError</code>, make sure your python <code>jep</code> install is the same version as the version listed in your pom.xml</p>\n"}],"owner":{"account_id":1638376,"reputation":1661,"user_id":1511294,"accept_rate":52,"display_name":"Ayan Biswas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692741749,"creation_date":1624016791,"question_id":68034602,"body_markdown":"I am trying to use JEP to communicate with a python module from Java.\r\nI am using intellij on MacOS catalina\r\nI have done the following\r\n1. Used pip to install JEP, installation directory is `/Applications/anaconda3/lib/python3.8/site-packages/jep/`\r\n2. Add the path as an environment variable in .zshrc file\r\n\r\n    export LD_LIBRARY_PATH=&#39;/Applications/anaconda3/lib/python3.8/site-packages/jep/&#39;\r\n3. Added the path in jvm params like this\r\n[![enter image description here][1]][1]\r\n\r\n4. I am getting the error(from intellij) in this line\r\n`Jep jep = new Jep();`\r\n\r\n\r\n   **The error that I am getting is this** \r\n \r\n\r\n    `Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib:dlopen(/Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib, \r\n1): Library not loaded: @rpath/libpython3.8.dylib`\r\n\r\n   \r\n\r\n 5. If I package the code in jar ,and run it as java -jar somejar.jar\r\nIt gives an error \r\n\r\n    `Error: Unable to initialize main class Application\r\n    Caused by: java.lang.NoClassDefFoundError: jep/JepException`\r\n \r\n 6.My build.gradle file looks like this \r\n\r\n    dependencies {\r\n        // https://mvnrepository.com/artifact/black.ninia/jep\r\n        implementation group: &#39;black.ninia&#39;, name: &#39;jep&#39;, version: &#39;3.8.2&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VOWEr.png","title":"UnsatisfiedLinkError ,while using JEP","body":"<p>I am trying to use JEP to communicate with a python module from Java.\nI am using intellij on MacOS catalina\nI have done the following</p>\n<ol>\n<li><p>Used pip to install JEP, installation directory is <code>/Applications/anaconda3/lib/python3.8/site-packages/jep/</code></p>\n</li>\n<li><p>Add the path as an environment variable in .zshrc file</p>\n<p>export LD_LIBRARY_PATH='/Applications/anaconda3/lib/python3.8/site-packages/jep/'</p>\n</li>\n<li><p>Added the path in jvm params like this\n<a href=\"https://i.stack.imgur.com/VOWEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOWEr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>I am getting the error(from intellij) in this line\n<code>Jep jep = new Jep();</code></p>\n<p><strong>The error that I am getting is this</strong></p>\n<p><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib:dlopen(/Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib,  1): Library not loaded: @rpath/libpython3.8.dylib</code></p>\n</li>\n<li><p>If I package the code in jar ,and run it as java -jar somejar.jar\nIt gives an error</p>\n<p><code>Error: Unable to initialize main class Application Caused by: java.lang.NoClassDefFoundError: jep/JepException</code></p>\n</li>\n</ol>\n<p>6.My build.gradle file looks like this</p>\n<pre><code>dependencies {\n    // https://mvnrepository.com/artifact/black.ninia/jep\n    implementation group: 'black.ninia', name: 'jep', version: '3.8.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7947498,"reputation":106,"user_id":5999496,"display_name":"Flavio Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692740538,"creation_date":1692740538,"answer_id":76957002,"question_id":76626097,"body_markdown":"I had the same problem and fixed it changing the folders name to eliminate the space on it. As in your case: &quot;D:\\androd test&quot; to &quot;D:\\androd_test&quot;\r\n","title":"How to fix CXX1429] error when building with ndkBuild","body":"<p>I had the same problem and fixed it changing the folders name to eliminate the space on it. As in your case: &quot;D:\\androd test&quot; to &quot;D:\\androd_test&quot;</p>\n"}],"owner":{"account_id":28960332,"reputation":3,"user_id":22182943,"display_name":"NHUT BUI DUY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76957002,"answer_count":1,"score":0,"last_activity_date":1692740538,"creation_date":1688625363,"question_id":76626097,"body_markdown":"How to fix [CXX1429] error when building with ndkBuild using D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk: Android NDK: Your APP_BUILD_SCRIPT points to an unknown file: D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk    \r\n...\r\nD:/sdk/ndk/25.1.8937393/build/../build/core/add-application.mk:88: *** Android NDK: Aborting...    .  Stop.\r\n\r\n\r\nsource : https://github.com/LGLTeam/Android-Mod-Menu/releases/tag/3.2\r\n[Imahes error](https://i.stack.imgur.com/hgYT4.png)","title":"How to fix CXX1429] error when building with ndkBuild","body":"<p>How to fix [CXX1429] error when building with ndkBuild using D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk: Android NDK: Your APP_BUILD_SCRIPT points to an unknown file: D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk<br />\n...\nD:/sdk/ndk/25.1.8937393/build/../build/core/add-application.mk:88: *** Android NDK: Aborting...    .  Stop.</p>\n<p>source : <a href=\"https://github.com/LGLTeam/Android-Mod-Menu/releases/tag/3.2\" rel=\"nofollow noreferrer\">https://github.com/LGLTeam/Android-Mod-Menu/releases/tag/3.2</a>\n<a href=\"https://i.stack.imgur.com/hgYT4.png\" rel=\"nofollow noreferrer\">Imahes error</a></p>\n"},{"tags":["java","x86","volatile","jvm-hotspot","memory-barriers"],"answers":[{"comments":[{"owner":{"account_id":7654063,"reputation":42255,"user_id":5801661,"display_name":"Margaret Bloom"},"score":1,"creation_date":1578749206,"post_id":59692369,"comment_id":105544631,"body_markdown":"I believe your answer is 100% correct. Java &quot;works&quot; in terms of sync-with relationship and the two threads don&#39;t sync on anything in the first place. The OP may just have thought of a barrier as &quot;push data to other CPUs&quot;, which seems to be a common pitfall.","body":"I believe your answer is 100% correct. Java &quot;works&quot; in terms of sync-with relationship and the two threads don&#39;t sync on anything in the first place. The OP may just have thought of a barrier as &quot;push data to other CPUs&quot;, which seems to be a common pitfall."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1578770892,"post_id":59692369,"comment_id":105550325,"body_markdown":"@MargaretBloom: thanks, updated my answer with an explanation in those terms of why a read loop that has no possible synchronization points is a problem.  If you could give it a look to check that I didn&#39;t make any wrong assumption or misleading statements, that would be great.","body":"@MargaretBloom: thanks, updated my answer with an explanation in those terms of why a read loop that has no possible synchronization points is a problem.  If you could give it a look to check that I didn&#39;t make any wrong assumption or misleading statements, that would be great."},{"owner":{"account_id":7654063,"reputation":42255,"user_id":5801661,"display_name":"Margaret Bloom"},"score":1,"creation_date":1578775803,"post_id":59692369,"comment_id":105551347,"body_markdown":"It seems fine to me. One could probably pin down the exact line the Java spec but I don&#39;t see the point as it&#39;s a lot of work. You correctly spotted the main issue and there no need for more technical details, in my opinion.","body":"It seems fine to me. One could probably pin down the exact line the Java spec but I don&#39;t see the point as it&#39;s a lot of work. You correctly spotted the main issue and there no need for more technical details, in my opinion."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1578922750,"post_id":59692369,"comment_id":105586043,"body_markdown":"Addendum and corrections: of course, the effect of `unsafe.[]Fence()` is entirely unspecified, as even the existence of this implementation specific class `Unsafe` is not mentioned in the spec. With Java&#160;9s introduction of `VarHandle`, we have an official API for fences in Java for the first time, however, it has been forgotten to hand out an actual specification (especially regarding the interaction with other Java constructs), the doc vaguely points to similarities to C and C++.","body":"Addendum and corrections: of course, the effect of <code>unsafe.[]Fence()</code> is entirely unspecified, as even the existence of this implementation specific class <code>Unsafe</code> is not mentioned in the spec. With Java 9s introduction of <code>VarHandle</code>, we have an official API for fences in Java for the first time, however, it has been forgotten to hand out an actual specification (especially regarding the interaction with other Java constructs), the doc vaguely points to similarities to C and C++."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1578922939,"post_id":59692369,"comment_id":105586154,"body_markdown":"The statement `t.flag = false;` is not a mandatory side effect (there is no such thing in Java), but since the thread terminates after that, it has the effect of a barrier already. In terms of Javas specification, there is a *happens-before* relationship between the threads end and every other thread detecting the threads end, which would guaranty the visibility of what the thread did. While not guaranteed, a thread looping with the right fence will eventually notice the terminated threads effects, even when not reading the threads running state.","body":"The statement <code>t.flag = false;</code> is not a mandatory side effect (there is no such thing in Java), but since the thread terminates after that, it has the effect of a barrier already. In terms of Javas specification, there is a <i>happens-before</i> relationship between the threads end and every other thread detecting the threads end, which would guaranty the visibility of what the thread did. While not guaranteed, a thread looping with the right fence will eventually notice the terminated threads effects, even when not reading the threads running state."}],"tags":[],"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692739582,"creation_date":1578726218,"answer_id":59692369,"question_id":59692233,"body_markdown":"**It&#39;s not the runtime effect of the fence that matters, it&#39;s the compile-time effect of forcing the compiler to reload stuff.**\r\n\r\n**Your `t1` loop contains no `volatile` reads or anything else that could synchronize-with another thread, so there&#39;s no guarantee it will *ever* notice any changes to any variables.**  i.e. when JITing into asm, the compiler can make a loop that loads the value into a register once, instead of reloading it from memory every time.  This is the kind of optimization you always want the compiler to be able to do for non-shared data, which is why the language has rules that let it do this when there&#39;s no possible synchronization.\r\n\r\n\r\nAnd then of course the condition can get hoisted out of the loop.  So with no barriers or anything, **your reader loop can JIT into asm that implements this logic**:\r\n\r\n\r\n```\r\nif(t.flag) {\r\n   for(;;){}  // infinite loop\r\n}\r\n```\r\n\r\nBesides ordering, the other part of Java `volatile` is the assumption that other threads may change it asynchronously, so multiple reads can&#39;t be assumed to give the same value.\r\n\r\n\r\nBut `unsafe.loadFence();` makes the JVM reload `t.flag` from (cache-coherent) memory every iteration.  I don&#39;t know if this is required by the Java spec or merely an implementation detail that makes it happen to work.\r\n\r\nIf this was C++ with a non-`atomic` variable (which would be undefined behaviour in C++), you&#39;d see exactly the same effect in a compiler like GCC. `_mm_lfence` would also be a compile-time full-barrier as well as emitting a useless `lfence` instruction, effectively telling the compiler that all memory might have changed and thus needs to be reloaded.  So it can&#39;t reorder loads across it, or hoist them out of loops.\r\n\r\nBTW, I wouldn&#39;t be so sure that `unsafe.loadFence()` even JITs to an `lfence` instruction on x86.  It *is* useless for memory ordering (except for very obscure stuff like fencing NT loads from WC memory, e.g. copying from video RAM, which the JVM can assume isn&#39;t happening), so a JVM JITing for x86 could just treat it as a compile-time barrier.  Just like what C++ compilers do for `std::atomic_thread_fence(std::memory_order_acquire);` - block compile time reordering of loads across the barrier, but emit no asm instructions because the asm memory of the host running the JVM is already strong enough.\r\n\r\n----\r\n\r\n**In thread 2, `unsafe.fullFence();` is I think useless**.  It just makes *that* thread wait until earlier stores become globally visible, before any later loads/stores can happen.  `t.flag = false;` is a visible side effect that can&#39;t be optimized away so it definitely happens in the JITed asm whether there&#39;s a barrier following it or not, even though it&#39;s not `volatile`.  And it can&#39;t be delayed or merged with something else because there&#39;s nothing else in the same thread.\r\n\r\nAsm stores always become visible to other threads, the only question is whether the current thread waits for its store buffer to drain or not before doing more stuff (especially loads) in this thread.  i.e. prevent all reordering, including StoreLoad.  Java `volatile` does that, like C++ `memory_order_seq_cst` (by using a full barrier after every store), but without a barrier it&#39;s still a store like C++ `memory_order_relaxed`.  (Or when JITing x86 asm, loads/stores are actually as strong as acquire/release.)\r\n\r\nCaches are coherent, and the store buffer always drains itself (committing to L1d cache) as fast as it can to make room for more stores to execute.\r\n\r\n----\r\n\r\nCaveat: I don&#39;t know a lot of Java, and I don&#39;t know exactly how unsafe / undefined it is to assign a non-`volatile` in one thread and read it in another with no synchronization.  Based on the behaviour you&#39;re seeing, it sounds exactly like what you&#39;d see in C++ for the same thing with non-`atomic` variables (with optimization enabled, like HotSpot always does)\r\n\r\n(Based on @Margaret&#39;s comment, I updated with some guesswork about how I assume Java synchronization works.  If I mis-stated anything, please edit or comment.)\r\n\r\nIn C++ data races on non-`atomic` vars are always Undefined Behaviour, but of course when compiling for real ISAs (which don&#39;t do hardware race-prevention) the results are sometimes what people wanted.\r\n\r\n---\r\n\r\nPS: **just using barriers to force a compiler to re-read a value isn&#39;t safe in general**: it could choose to re-read the value multiple times even if the source copies it to a local variable.  So  the same tmp var might seem to be both true and false in one execution.  At least that&#39;s true in C and C++ because data races are undefined behaviour in those languages; see  [Who&#39;s afraid of a big bad optimizing compiler?][1] on LWN about this and other problems you&#39;d run into if you just use barriers and plain (non-`volatile`) variables.  Again, I don&#39;t know if that&#39;s a possible problem in Java or if the language spec would forbid a JVM from inventing loads after `int tmp = shared_plain_int;` if `tmp` is used multiple times across function calls.\r\n\r\n\r\n  [1]: https://lwn.net/Articles/793253/","title":"Why does Unsafe.fullFence() not ensuring visibility in my example?","body":"<p><strong>It's not the runtime effect of the fence that matters, it's the compile-time effect of forcing the compiler to reload stuff.</strong></p>\n<p><strong>Your <code>t1</code> loop contains no <code>volatile</code> reads or anything else that could synchronize-with another thread, so there's no guarantee it will <em>ever</em> notice any changes to any variables.</strong>  i.e. when JITing into asm, the compiler can make a loop that loads the value into a register once, instead of reloading it from memory every time.  This is the kind of optimization you always want the compiler to be able to do for non-shared data, which is why the language has rules that let it do this when there's no possible synchronization.</p>\n<p>And then of course the condition can get hoisted out of the loop.  So with no barriers or anything, <strong>your reader loop can JIT into asm that implements this logic</strong>:</p>\n<pre><code>if(t.flag) {\n   for(;;){}  // infinite loop\n}\n</code></pre>\n<p>Besides ordering, the other part of Java <code>volatile</code> is the assumption that other threads may change it asynchronously, so multiple reads can't be assumed to give the same value.</p>\n<p>But <code>unsafe.loadFence();</code> makes the JVM reload <code>t.flag</code> from (cache-coherent) memory every iteration.  I don't know if this is required by the Java spec or merely an implementation detail that makes it happen to work.</p>\n<p>If this was C++ with a non-<code>atomic</code> variable (which would be undefined behaviour in C++), you'd see exactly the same effect in a compiler like GCC. <code>_mm_lfence</code> would also be a compile-time full-barrier as well as emitting a useless <code>lfence</code> instruction, effectively telling the compiler that all memory might have changed and thus needs to be reloaded.  So it can't reorder loads across it, or hoist them out of loops.</p>\n<p>BTW, I wouldn't be so sure that <code>unsafe.loadFence()</code> even JITs to an <code>lfence</code> instruction on x86.  It <em>is</em> useless for memory ordering (except for very obscure stuff like fencing NT loads from WC memory, e.g. copying from video RAM, which the JVM can assume isn't happening), so a JVM JITing for x86 could just treat it as a compile-time barrier.  Just like what C++ compilers do for <code>std::atomic_thread_fence(std::memory_order_acquire);</code> - block compile time reordering of loads across the barrier, but emit no asm instructions because the asm memory of the host running the JVM is already strong enough.</p>\n<hr />\n<p><strong>In thread 2, <code>unsafe.fullFence();</code> is I think useless</strong>.  It just makes <em>that</em> thread wait until earlier stores become globally visible, before any later loads/stores can happen.  <code>t.flag = false;</code> is a visible side effect that can't be optimized away so it definitely happens in the JITed asm whether there's a barrier following it or not, even though it's not <code>volatile</code>.  And it can't be delayed or merged with something else because there's nothing else in the same thread.</p>\n<p>Asm stores always become visible to other threads, the only question is whether the current thread waits for its store buffer to drain or not before doing more stuff (especially loads) in this thread.  i.e. prevent all reordering, including StoreLoad.  Java <code>volatile</code> does that, like C++ <code>memory_order_seq_cst</code> (by using a full barrier after every store), but without a barrier it's still a store like C++ <code>memory_order_relaxed</code>.  (Or when JITing x86 asm, loads/stores are actually as strong as acquire/release.)</p>\n<p>Caches are coherent, and the store buffer always drains itself (committing to L1d cache) as fast as it can to make room for more stores to execute.</p>\n<hr />\n<p>Caveat: I don't know a lot of Java, and I don't know exactly how unsafe / undefined it is to assign a non-<code>volatile</code> in one thread and read it in another with no synchronization.  Based on the behaviour you're seeing, it sounds exactly like what you'd see in C++ for the same thing with non-<code>atomic</code> variables (with optimization enabled, like HotSpot always does)</p>\n<p>(Based on @Margaret's comment, I updated with some guesswork about how I assume Java synchronization works.  If I mis-stated anything, please edit or comment.)</p>\n<p>In C++ data races on non-<code>atomic</code> vars are always Undefined Behaviour, but of course when compiling for real ISAs (which don't do hardware race-prevention) the results are sometimes what people wanted.</p>\n<hr />\n<p>PS: <strong>just using barriers to force a compiler to re-read a value isn't safe in general</strong>: it could choose to re-read the value multiple times even if the source copies it to a local variable.  So  the same tmp var might seem to be both true and false in one execution.  At least that's true in C and C++ because data races are undefined behaviour in those languages; see  <a href=\"https://lwn.net/Articles/793253/\" rel=\"nofollow noreferrer\">Who's afraid of a big bad optimizing compiler?</a> on LWN about this and other problems you'd run into if you just use barriers and plain (non-<code>volatile</code>) variables.  Again, I don't know if that's a possible problem in Java or if the language spec would forbid a JVM from inventing loads after <code>int tmp = shared_plain_int;</code> if <code>tmp</code> is used multiple times across function calls.</p>\n"},{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692737639,"creation_date":1692737639,"answer_id":76956812,"question_id":59692233,"body_markdown":"Not attempting to dispute in-depth, low-level, ASM- and JIT-geared accepted answer, given by @Peter Cordes, I&#39;d like to come with Java-only explanations of the behavior the OP described. \r\nIf the OP wants to emulate `volatile` features for his `private boolean flag` field, then according to Alexey Shipilev&#39;s blog [On The Fence With Dependencies][1], the code is missing `LoadLoad` and `LoadStore` on loading the volatile-hopeful field `flag`:\r\n\r\n&gt; The second part of that is the volatile load:\r\n&gt; \r\n\r\n    int t = x; // volatile load \r\n    [LoadLoad] \r\n    [LoadStore] \r\n    &lt;other ops&gt;\r\n\r\n(`x` variable in the blog plays a role of `flag` field in the question&#39;s code). \r\n\r\nSo, according to the blog, there is no wonder that `flag` field in the question&#39;s code does not render the `volatile` behavior.\r\n\r\nThen the blog goes on, explaining the implementation of the barrier instructions on  various hardware, but, I think, @Peter Cordes discussed this side of the story in great details.\r\n\r\nObviously, this answer is slightly &quot;formal&quot; against the spirit of the question, answer, and comments, but hopefully it can shed some light on the issue.  \r\n\r\n  [1]: https://shipilev.net/blog/2014/on-the-fence-with-dependencies/","title":"Why does Unsafe.fullFence() not ensuring visibility in my example?","body":"<p>Not attempting to dispute in-depth, low-level, ASM- and JIT-geared accepted answer, given by @Peter Cordes, I'd like to come with Java-only explanations of the behavior the OP described.\nIf the OP wants to emulate <code>volatile</code> features for his <code>private boolean flag</code> field, then according to Alexey Shipilev's blog <a href=\"https://shipilev.net/blog/2014/on-the-fence-with-dependencies/\" rel=\"nofollow noreferrer\">On The Fence With Dependencies</a>, the code is missing <code>LoadLoad</code> and <code>LoadStore</code> on loading the volatile-hopeful field <code>flag</code>:</p>\n<blockquote>\n<p>The second part of that is the volatile load:</p>\n</blockquote>\n<pre><code>int t = x; // volatile load \n[LoadLoad] \n[LoadStore] \n&lt;other ops&gt;\n</code></pre>\n<p>(<code>x</code> variable in the blog plays a role of <code>flag</code> field in the question's code).</p>\n<p>So, according to the blog, there is no wonder that <code>flag</code> field in the question's code does not render the <code>volatile</code> behavior.</p>\n<p>Then the blog goes on, explaining the implementation of the barrier instructions on  various hardware, but, I think, @Peter Cordes discussed this side of the story in great details.</p>\n<p>Obviously, this answer is slightly &quot;formal&quot; against the spirit of the question, answer, and comments, but hopefully it can shed some light on the issue.</p>\n"}],"owner":{"account_id":16253110,"reputation":45,"user_id":11736484,"display_name":"DavisZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59692369,"answer_count":2,"score":2,"last_activity_date":1692739582,"creation_date":1578724434,"question_id":59692233,"body_markdown":"I am trying to dive deep into `volatile` keyword in Java and setup 2 testing environments. I believe both of them are with x86_64 and use hotspot.\r\n\r\n```\r\nJava version: 1.8.0_232\r\nCPU: AMD Ryzen 7 8Core\r\n\r\nJava version: 1.8.0_231\r\nCPU: Intel I7\r\n```\r\n\r\nCode is here:\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\nimport sun.misc.Unsafe;\r\n\r\npublic class Test {\r\n\r\n  private boolean flag = true; //left non-volatile intentionally\r\n  private volatile int dummyVolatile = 1;\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    Test t = new Test();\r\n    Field f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n    f.setAccessible(true);\r\n    Unsafe unsafe = (Unsafe) f.get(null);\r\n\r\n    Thread t1 = new Thread(() -&gt; {\r\n        while (t.flag) {\r\n          //int b = t.someValue;\r\n          //unsafe.loadFence();\r\n          //unsafe.storeFence();\r\n          //unsafe.fullFence();\r\n        }\r\n        System.out.println(&quot;Finished!&quot;);\r\n      });\r\n\r\n    Thread t2 = new Thread(() -&gt; {\r\n        t.flag = false;\r\n        unsafe.fullFence();\r\n      });\r\n\r\n    t1.start();\r\n    Thread.sleep(1000);\r\n    t2.start();\r\n    t1.join();\r\n  }\r\n}\r\n```\r\n\r\n&quot;Finished!&quot; is never printed which does not make sense to me. I am expecting the `fullFence` in thread 2 makes the `flag = false` globally visible. \r\n&lt;p&gt;\r\nFrom my research, Hotspot uses `lock/mfence` to implement `fullFence` on x86. And according to [Intel&#39;s instruction-set reference manual entry for mfence][1]\r\n\r\n&gt; This serializing operation guarantees that every load and store instruction that precedes the MFENCE instruction in program order becomes globally visible before any load or store instruction that follows the MFENCE instruction.\r\n\r\n&lt;p&gt;\r\nEven &quot;worse&quot;, if I comment out `fullFence` in thread 2 and un-comment any one of the `xxxFence` in thread 1, the code prints out &quot;Finished!&quot; This makes even less sense, because at least [`lfence` is &quot;useless&quot;/no-op in x86][2].\r\n&lt;p&gt;\r\nMaybe my source of information contains inaccuracy or i am misunderstanding something. Please help, thanks!\r\n\r\n  [1]: https://www.felixcloutier.com/x86/mfence\r\n  [2]: https://stackoverflow.com/questions/20316124/does-it-make-any-sense-to-use-the-lfence-instruction-on-x86-x86-64-processors","title":"Why does Unsafe.fullFence() not ensuring visibility in my example?","body":"<p>I am trying to dive deep into <code>volatile</code> keyword in Java and setup 2 testing environments. I believe both of them are with x86_64 and use hotspot.</p>\n\n<pre><code>Java version: 1.8.0_232\nCPU: AMD Ryzen 7 8Core\n\nJava version: 1.8.0_231\nCPU: Intel I7\n</code></pre>\n\n<p>Code is here:</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport sun.misc.Unsafe;\n\npublic class Test {\n\n  private boolean flag = true; //left non-volatile intentionally\n  private volatile int dummyVolatile = 1;\n\n  public static void main(String[] args) throws Exception {\n    Test t = new Test();\n    Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n    f.setAccessible(true);\n    Unsafe unsafe = (Unsafe) f.get(null);\n\n    Thread t1 = new Thread(() -&gt; {\n        while (t.flag) {\n          //int b = t.someValue;\n          //unsafe.loadFence();\n          //unsafe.storeFence();\n          //unsafe.fullFence();\n        }\n        System.out.println(\"Finished!\");\n      });\n\n    Thread t2 = new Thread(() -&gt; {\n        t.flag = false;\n        unsafe.fullFence();\n      });\n\n    t1.start();\n    Thread.sleep(1000);\n    t2.start();\n    t1.join();\n  }\n}\n</code></pre>\n\n<p>\"Finished!\" is never printed which does not make sense to me. I am expecting the <code>fullFence</code> in thread 2 makes the <code>flag = false</code> globally visible. \n<p>\nFrom my research, Hotspot uses <code>lock/mfence</code> to implement <code>fullFence</code> on x86. And according to <a href=\"https://www.felixcloutier.com/x86/mfence\" rel=\"nofollow noreferrer\">Intel's instruction-set reference manual entry for mfence</a></p>\n\n<blockquote>\n  <p>This serializing operation guarantees that every load and store instruction that precedes the MFENCE instruction in program order becomes globally visible before any load or store instruction that follows the MFENCE instruction.</p>\n</blockquote>\n\n<p><p>\nEven \"worse\", if I comment out <code>fullFence</code> in thread 2 and un-comment any one of the <code>xxxFence</code> in thread 1, the code prints out \"Finished!\" This makes even less sense, because at least <a href=\"https://stackoverflow.com/questions/20316124/does-it-make-any-sense-to-use-the-lfence-instruction-on-x86-x86-64-processors\"><code>lfence</code> is \"useless\"/no-op in x86</a>.\n<p>\nMaybe my source of information contains inaccuracy or i am misunderstanding something. Please help, thanks!</p>\n"},{"tags":["java","jakarta-ee","glassfish","payara"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692748967,"post_id":76956931,"comment_id":135666050,"body_markdown":"I would start by fixing the problem identified in your first line, the warning: *might see unexpected results or exceptions*","body":"I would start by fixing the problem identified in your first line, the warning: <i>might see unexpected results or exceptions</i>"},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1694295920,"post_id":76956931,"comment_id":135873351,"body_markdown":"On which Java version you run Payara? How did you configure it? Did you upgrade your Payara domain configuration from an older version?","body":"On which Java version you run Payara? How did you configure it? Did you upgrade your Payara domain configuration from an older version?"}],"owner":{"account_id":4157818,"reputation":1427,"user_id":4233030,"accept_rate":62,"display_name":"Python_user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692739308,"creation_date":1692739308,"question_id":76956931,"body_markdown":"I am getting following exception while deploying my JakartaEE app to Payara-6 Community server:\r\n\r\n    [2023-08-23T02:44:31.487+0530] [] [WARNING] [] [jakarta.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1692738871487] [levelValue: 900] You are running the product on an unsupported JDK version and might see unexpected results or exceptions.\r\n    \r\n    [2023-08-23T02:45:01.199+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901199] [levelValue: 900] [[\r\n    [2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\r\n    [2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\r\n    [2023-08-23T02:45:22.521+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922521] [levelValue: 900] [[\r\n      Value of maxPoolSize Given, -1, was outside the bounds, default value of 32 will be used - PLEASE UPDATE YOUR VALUE]]\r\n    \r\n    [2023-08-23T02:45:22.522+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922522] [levelValue: 900] [[\r\n      Value of steadyPoolSize Given, -1, was outside the bounds, default value of 8 will be used - PLEASE UPDATE YOUR VALUE]]\r\n    \r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper$PackageContext.&lt;init&gt;(Wrapper.java:477)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment._clear(Wrapper.java:693)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment.&lt;init&gt;(Wrapper.java:688)\r\n    \tat java.base/java.lang.ThreadLocal$SuppliedThreadLocal.initialValue(ThreadLocal.java:305)\r\n    \tat java.base/java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:195)\r\n    \tat java.base/java.lang.ThreadLocal.get(ThreadLocal.java:172)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper.env(Wrapper.java:886)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper._clear(Wrapper.java:1142)\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:242)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:286)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:104)\r\n\r\nThat&#39;s it. No other info! I am unable to make head or tail out of this. Please help in debugging the cause.","title":"JakartaEE: Exception while trying to deploy application to Payara-6","body":"<p>I am getting following exception while deploying my JakartaEE app to Payara-6 Community server:</p>\n<pre><code>[2023-08-23T02:44:31.487+0530] [] [WARNING] [] [jakarta.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1692738871487] [levelValue: 900] You are running the product on an unsupported JDK version and might see unexpected results or exceptions.\n\n[2023-08-23T02:45:01.199+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901199] [levelValue: 900] [[\n[2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\n[2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\n[2023-08-23T02:45:22.521+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922521] [levelValue: 900] [[\n  Value of maxPoolSize Given, -1, was outside the bounds, default value of 32 will be used - PLEASE UPDATE YOUR VALUE]]\n\n[2023-08-23T02:45:22.522+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922522] [levelValue: 900] [[\n  Value of steadyPoolSize Given, -1, was outside the bounds, default value of 8 will be used - PLEASE UPDATE YOUR VALUE]]\n\njava.lang.ExceptionInInitializerError\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper$PackageContext.&lt;init&gt;(Wrapper.java:477)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment._clear(Wrapper.java:693)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment.&lt;init&gt;(Wrapper.java:688)\n    at java.base/java.lang.ThreadLocal$SuppliedThreadLocal.initialValue(ThreadLocal.java:305)\n    at java.base/java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:195)\n    at java.base/java.lang.ThreadLocal.get(ThreadLocal.java:172)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper.env(Wrapper.java:886)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper._clear(Wrapper.java:1142)\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:242)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:286)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:104)\n</code></pre>\n<p>That's it. No other info! I am unable to make head or tail out of this. Please help in debugging the cause.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5919747,"reputation":3519,"user_id":4657385,"accept_rate":12,"display_name":"Sabyasachi"},"score":1,"creation_date":1561451998,"post_id":56748402,"comment_id":100057869,"body_markdown":"Check this link..https://stackoverflow.com/a/38858040/4657385","body":"Check this link..<a href=\"https://stackoverflow.com/a/38858040/4657385\">stackoverflow.com/a/38858040/4657385</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1608981596,"post_id":56748402,"comment_id":115722745,"body_markdown":"Use File provider to open the files..","body":"Use File provider to open the files.."}],"answers":[{"comments":[{"owner":{"account_id":15781380,"reputation":11,"user_id":11387654,"display_name":"Ahmed Alnubani"},"score":0,"creation_date":1561447564,"post_id":56748620,"comment_id":100055637,"body_markdown":"When added that @Vishal Bhut","body":"When added that @Vishal Bhut"},{"owner":{"account_id":15781380,"reputation":11,"user_id":11387654,"display_name":"Ahmed Alnubani"},"score":0,"creation_date":1561448093,"post_id":56748620,"comment_id":100055889,"body_markdown":"Tack screen shoot for activity and save as pdf file @Zun","body":"Tack screen shoot for activity and save as pdf file @Zun"},{"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"score":0,"creation_date":1561448133,"post_id":56748620,"comment_id":100055906,"body_markdown":"Not you, I meant to ask @vishal","body":"Not you, I meant to ask @vishal"}],"tags":[],"owner":{"account_id":11013382,"reputation":112,"user_id":8089931,"display_name":"Vishal Bhut"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561446674,"creation_date":1561446674,"answer_id":56748620,"question_id":56748402,"body_markdown":"\r\n\r\n    StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder(); \r\n    \r\n    StrictMode.setVmPolicy(builder.build());","title":"How to fix android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through Intent.getData()","body":"<pre><code>StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder(); \n\nStrictMode.setVmPolicy(builder.build());\n</code></pre>\n"}],"owner":{"account_id":15781380,"reputation":11,"user_id":11387654,"display_name":"Ahmed Alnubani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692739078,"creation_date":1561445823,"question_id":56748402,"body_markdown":"This is my code:\r\n\r\n    private void createPdf() {\r\n\r\n        File docsFolder = new File(Environment.getExternalStorageDirectory() + &quot;/Documents&quot;);\r\n        File pdfFile = new File(docsFolder.getAbsolutePath(), &quot;SM.pdf&quot;);\r\n        try {\r\n            OutputStream output = new FileOutputStream(pdfFile);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            document.writeTo(new FileOutputStream(pdfFile));enter code here\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        // close the document\r\n        document.close();\r\n        Toast.makeText(this, &quot;PDF is created!!!&quot;, Toast.LENGTH_SHORT).show()\r\n       // openGeneratedPDF();\r\n    }\r\n\r\nlogout:\r\n&gt;android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through `Intent.getData()`","title":"How to fix android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through Intent.getData()","body":"<p>This is my code:</p>\n\n<pre><code>private void createPdf() {\n\n    File docsFolder = new File(Environment.getExternalStorageDirectory() + \"/Documents\");\n    File pdfFile = new File(docsFolder.getAbsolutePath(), \"SM.pdf\");\n    try {\n        OutputStream output = new FileOutputStream(pdfFile);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    try {\n        document.writeTo(new FileOutputStream(pdfFile));enter code here\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    // close the document\n    document.close();\n    Toast.makeText(this, \"PDF is created!!!\", Toast.LENGTH_SHORT).show()\n   // openGeneratedPDF();\n}\n</code></pre>\n\n<p>logout:</p>\n\n<blockquote>\n  <p>android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through <code>Intent.getData()</code></p>\n</blockquote>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692739502,"post_id":76956907,"comment_id":135665149,"body_markdown":"Quite confusing. Firstly, you do know that javaw.exe is nothing to do with webapps *per se* but just for executing java apps? Nothing is *installed* when you double click a jar. It will simply be run (usually) by javaw.exe. Now, that app *might* create a web server that you can access via your browser. Now your app *might* also be able to be packaged, if a webapp, as a war file. Two different things","body":"Quite confusing. Firstly, you do know that javaw.exe is nothing to do with webapps <i>per se</i> but just for executing java apps? Nothing is <i>installed</i> when you double click a jar. It will simply be run (usually) by javaw.exe. Now, that app <i>might</i> create a web server that you can access via your browser. Now your app <i>might</i> also be able to be packaged, if a webapp, as a war file. Two different things"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692739839,"post_id":76956907,"comment_id":135665191,"body_markdown":"@g00se Sorry if confusing. Feel free to ask anything needed to clarify. It is a REST API. When deploying it generating a jar it works. When double clicking the jar it starts javaw.exe process. But instead of jar I need to deploy it using war (for other reasons). But that is not working. When I upload it using Tomcat manager and try to open the same link in the browser I get a 404 error. The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should.","body":"@g00se Sorry if confusing. Feel free to ask anything needed to clarify. It is a REST API. When deploying it generating a jar it works. When double clicking the jar it starts javaw.exe process. But instead of jar I need to deploy it using war (for other reasons). But that is not working. When I upload it using Tomcat manager and try to open the same link in the browser I get a 404 error. The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692740091,"post_id":76956907,"comment_id":135665214,"body_markdown":"A war is an entirely different beast. How are you building your war?","body":"A war is an entirely different beast. How are you building your war?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692740254,"post_id":76956907,"comment_id":135665232,"body_markdown":"Both the war and jar I&#39;m building in Spring Tool Suite. In STS &gt; right click projet name &gt; Run As &gt; Maven Build &gt; In Goals type: clean package -DskipTests &gt; Run.  The only difference is that change pom.xml to either one in &lt;packaging&gt;war&lt;/packaging&gt;","body":"Both the war and jar I&#39;m building in Spring Tool Suite. In STS &gt; right click projet name &gt; Run As &gt; Maven Build &gt; In Goals type: clean package -DskipTests &gt; Run.  The only difference is that change pom.xml to either one in &lt;packaging&gt;war&lt;/packaging&gt;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692740664,"post_id":76956907,"comment_id":135665267,"body_markdown":"There could be many reasons for the 404. What does the Tomcat log say *when you deploy*? *The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should.* Again, javaw has nothing to do with webapps (normally)","body":"There could be many reasons for the 404. What does the Tomcat log say <i>when you deploy</i>? <i>The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should.</i> Again, javaw has nothing to do with webapps (normally)"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692740922,"post_id":76956907,"comment_id":135665294,"body_markdown":"There are no error in the catalina logs. ```org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\webapps\\myapp.war] has finished in [7,724] ms```","body":"There are no error in the catalina logs. <code>org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\webapps\\myapp.war] has finished in [7,724] ms</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692741013,"post_id":76956907,"comment_id":135665305,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255006/discussion-between-g00se-and-jkfe).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255006/discussion-between-g00se-and-jkfe\">continue this discussion in chat</a>."},{"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"score":0,"creation_date":1692741853,"post_id":76956907,"comment_id":135665398,"body_markdown":"In your main class with the `@SpringBootApplication` annotation, did you extend from `SpringBootServletInitializer` ? If not that might be your problem. Packaging in a Jar file will create and initialize beans automatically and if you want to use a war file you need to tell to bind the beans from the application context to the tomcat.","body":"In your main class with the <code>@SpringBootApplication</code> annotation, did you extend from <code>SpringBootServletInitializer</code> ? If not that might be your problem. Packaging in a Jar file will create and initialize beans automatically and if you want to use a war file you need to tell to bind the beans from the application context to the tomcat."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692744620,"post_id":76956907,"comment_id":135665669,"body_markdown":"@Tavo Sanchez Just need to add ```extends SpringBootServletInitializer``` to ```public class MyApp extends SpringBootServletInitializer``` or need anything else like overriding a method? I tried just adding the ```extends``` and had no effect.","body":"@Tavo Sanchez Just need to add <code>extends SpringBootServletInitializer</code> to <code>public class MyApp extends SpringBootServletInitializer</code> or need anything else like overriding a method? I tried just adding the <code>extends</code> and had no effect."},{"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"score":0,"creation_date":1692807460,"post_id":76956907,"comment_id":135675453,"body_markdown":"You need to override the configure method. Here is the spring [documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment.war) for reference","body":"You need to override the configure method. Here is the spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment.war\" rel=\"nofollow noreferrer\">documentation</a> for reference"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692811055,"post_id":76956907,"comment_id":135676122,"body_markdown":"@Tavo Sanchez I did as informed in the documentation you shared. Still not working.","body":"@Tavo Sanchez I did as informed in the documentation you shared. Still not working."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692813925,"post_id":76956907,"comment_id":135676619,"body_markdown":"I tested on Tomcat to version 9.0.76 and it worked. For some reason it does not work on v 10.1.12.","body":"I tested on Tomcat to version 9.0.76 and it worked. For some reason it does not work on v 10.1.12."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1692871111,"post_id":76956907,"comment_id":135683916,"body_markdown":"Might be a path issue. Did you set a context path in your application.properties (or yaml)? If not, I guess the `/myapp` part of the URL comes from a Controller/RestController. In that case, on Tomcat, the URL should be `http://localhost:8080/myapp/myapp`","body":"Might be a path issue. Did you set a context path in your application.properties (or yaml)? If not, I guess the <code>&#47;myapp</code> part of the URL comes from a Controller/RestController. In that case, on Tomcat, the URL should be <code>http:&#47;&#47;localhost:8080&#47;myapp&#47;myapp</code>"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692881406,"post_id":76956907,"comment_id":135686084,"body_markdown":"@grekier Yes, I did. Also had already tried to access the path you suggested.","body":"@grekier Yes, I did. Also had already tried to access the path you suggested."}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692739017,"creation_date":1692739017,"question_id":76956907,"body_markdown":"I&#39;m getting a 404 error when trying to access application deployed with Tomcat Manager.\r\n\r\nIt&#39;s a Spring Boot Java app.\r\n\r\nThis is how I&#39;m doing:\r\n1. Open http://localhost:8080/manager/html\r\n2. Select myfile.war in &quot;war file to deploy&quot; and click &quot;deploy&quot;\r\n3. The application successfully deploys. It becomes listed in the list of applications. I can click to Stop and Start it just fine.\r\n4. Then I click the application link in the list to open it in the browser\r\nIt goes to \r\nhttp://localhost:8080/myapp\r\nBut it gives a 404 error\r\n\r\nNo error in the Catalina logs. \r\n\r\nThe interesting part is:\r\n- If instead of creating a .war I create a .jar, stop tomcat and double click the jar, it installs it and the application executes correctly when going to the same link: http://localhost:8080/myapp.\r\n- When I double-click the jar it creates a javaw.exe process in Windows Task Manager. But when I stop that, start Tomcat and deploy the application using Tomcat manager, this javaw.exe process never starts. So I&#39;m thinking that could be the reason. \r\n\r\nIn both cases using the same file name. Just changing the extension:\r\n\r\nmyapp.jar and myapp.war\r\n\r\nEnvironment Variables:\r\n\r\nJAVA_HOME: C:\\Program Files\\RedHat\\java-11-openjdk-11.0.19-1\r\n\r\nPath: %JAVA_HOME%\\bin\r\n\r\nTomcat version is 10.1.12\r\n\r\nSpring boot 2.7.13\r\n","title":"Getting a 404 error deploying war. No error deploying jar","body":"<p>I'm getting a 404 error when trying to access application deployed with Tomcat Manager.</p>\n<p>It's a Spring Boot Java app.</p>\n<p>This is how I'm doing:</p>\n<ol>\n<li>Open http://localhost:8080/manager/html</li>\n<li>Select myfile.war in &quot;war file to deploy&quot; and click &quot;deploy&quot;</li>\n<li>The application successfully deploys. It becomes listed in the list of applications. I can click to Stop and Start it just fine.</li>\n<li>Then I click the application link in the list to open it in the browser\nIt goes to\nhttp://localhost:8080/myapp\nBut it gives a 404 error</li>\n</ol>\n<p>No error in the Catalina logs.</p>\n<p>The interesting part is:</p>\n<ul>\n<li>If instead of creating a .war I create a .jar, stop tomcat and double click the jar, it installs it and the application executes correctly when going to the same link: http://localhost:8080/myapp.</li>\n<li>When I double-click the jar it creates a javaw.exe process in Windows Task Manager. But when I stop that, start Tomcat and deploy the application using Tomcat manager, this javaw.exe process never starts. So I'm thinking that could be the reason.</li>\n</ul>\n<p>In both cases using the same file name. Just changing the extension:</p>\n<p>myapp.jar and myapp.war</p>\n<p>Environment Variables:</p>\n<p>JAVA_HOME: C:\\Program Files\\RedHat\\java-11-openjdk-11.0.19-1</p>\n<p>Path: %JAVA_HOME%\\bin</p>\n<p>Tomcat version is 10.1.12</p>\n<p>Spring boot 2.7.13</p>\n"},{"tags":["java","spring-mvc","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":24576308,"reputation":63,"user_id":18482083,"display_name":"karthi_chellaiah"},"score":0,"creation_date":1648542343,"post_id":63627462,"comment_id":126643989,"body_markdown":"Please can someone help me with a solution for this issue.\nhttps://stackoverflow.com/questions/71658452/migrating-springfox-to-springdoc-openapi-ui-issue-with-annotations","body":"Please can someone help me with a solution for this issue. <a href=\"https://stackoverflow.com/questions/71658452/migrating-springfox-to-springdoc-openapi-ui-issue-with-annotations\" title=\"migrating springfox to springdoc openapi ui issue with annotations\">stackoverflow.com/questions/71658452/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3831593,"reputation":812,"user_id":3177021,"accept_rate":50,"display_name":"EmeraldTablet"},"score":1,"creation_date":1680082550,"post_id":63668460,"comment_id":133835393,"body_markdown":"It only works without the explicit imports","body":"It only works without the explicit imports"}],"tags":[],"owner":{"account_id":1151396,"reputation":4281,"user_id":1133021,"accept_rate":70,"display_name":"brianbro"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662466294,"creation_date":1598867173,"answer_id":63668460,"question_id":63627462,"body_markdown":"Your question has been also answered here:\r\n- https://github.com/springdoc/springdoc-openapi/issues/841\r\n\r\nAs mentioned, you just had to put your Beans definition inside a dedicated configuration class, and add it to the springdoc-openapi Beans imports, so that the same mechanism loads the Beans.\r\n\r\nThis is the correct beans configuration:\r\n\r\n\t@Configuration\r\n\tpublic class GroupsConfiguration {\r\n\r\n\t\t@Bean\r\n\t\tpublic GroupedOpenApi publicApi() {\r\n\t\t\treturn GroupedOpenApi.builder().group(&quot;user&quot;).pathsToExclude(&quot;/api/v2/**&quot;).pathsToMatch(&quot;/api/v1/**&quot;).build();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic GroupedOpenApi adminApi() {\r\n\t\t\treturn GroupedOpenApi.builder().group(&quot;admin&quot;).pathsToExclude(&quot;/api/v1/**&quot;).pathsToMatch(&quot;/api/v2/**&quot;).build();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic OpenAPI customOpenAPI() {\r\n\t\t\treturn new OpenAPI().components(new Components()).info(new Info().title(&quot;Spring MVC REST API&quot;)\r\n\t\t\t\t\t.contact(new Contact().name(&quot;Rasika Kaluwalgoda&quot;)).version(&quot;1.0.0&quot;));\r\n\t\t}\r\n\r\n\t}\r\n\r\nAnd the springdoc-openapi imports **together** with the GroupsConfiguration :\r\n\r\n\t@Configuration\r\n\t@Import({ org.springdoc.core.SpringDocConfigProperties.class,\r\n\t\t\torg.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\r\n\t\t\torg.springdoc.core.SpringDocConfiguration.class, org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\r\n\t\t\tSwaggerUiConfigParameters.class, SwaggerUiOAuthProperties.class,\r\n\t\t\torg.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\r\n\t\t\torg.springdoc.webmvc.ui.SwaggerConfig.class, GroupsConfiguration.class,\r\n\t\t\torg.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\r\n\tpublic class SwaggerConfig {\r\n\r\n\t}\r\n","title":"Swagger OpenAPI 3.0 - Springdoc - GroupedOpenApi not working in Spring MVC","body":"<p>Your question has been also answered here:</p>\n<ul>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/841\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/841</a></li>\n</ul>\n<p>As mentioned, you just had to put your Beans definition inside a dedicated configuration class, and add it to the springdoc-openapi Beans imports, so that the same mechanism loads the Beans.</p>\n<p>This is the correct beans configuration:</p>\n<pre><code>@Configuration\npublic class GroupsConfiguration {\n\n    @Bean\n    public GroupedOpenApi publicApi() {\n        return GroupedOpenApi.builder().group(&quot;user&quot;).pathsToExclude(&quot;/api/v2/**&quot;).pathsToMatch(&quot;/api/v1/**&quot;).build();\n    }\n\n    @Bean\n    public GroupedOpenApi adminApi() {\n        return GroupedOpenApi.builder().group(&quot;admin&quot;).pathsToExclude(&quot;/api/v1/**&quot;).pathsToMatch(&quot;/api/v2/**&quot;).build();\n    }\n\n    @Bean\n    public OpenAPI customOpenAPI() {\n        return new OpenAPI().components(new Components()).info(new Info().title(&quot;Spring MVC REST API&quot;)\n                .contact(new Contact().name(&quot;Rasika Kaluwalgoda&quot;)).version(&quot;1.0.0&quot;));\n    }\n\n}\n</code></pre>\n<p>And the springdoc-openapi imports <strong>together</strong> with the GroupsConfiguration :</p>\n<pre><code>@Configuration\n@Import({ org.springdoc.core.SpringDocConfigProperties.class,\n        org.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\n        org.springdoc.core.SpringDocConfiguration.class, org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\n        SwaggerUiConfigParameters.class, SwaggerUiOAuthProperties.class,\n        org.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\n        org.springdoc.webmvc.ui.SwaggerConfig.class, GroupsConfiguration.class,\n        org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\npublic class SwaggerConfig {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6600231,"reputation":672,"user_id":5098772,"display_name":"Victor1125"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692738907,"creation_date":1692738907,"answer_id":76956897,"question_id":63627462,"body_markdown":"I configured some similar one time ago. In my case each api version was in separate package, so I define also `packageToScan` like below:\r\n\r\n    @Bean\r\n    public GroupedOpenApi publicApi1() {\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;user&quot;)\r\n                .pathsToExclude(&quot;/api/v2/**&quot;)\r\n                .pathsToMatch(&quot;/api/v1/**&quot;)\r\n                .packagesToScan(&quot;com.my.app.v1&quot;)\r\n                .build();\r\n    }\r\n\r\nMoreover I needed to create bean of `WebMvcConfigurer` (I just extended configuration class) and configure `PathMatchConfigurer`:\r\n\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n        configurer\r\n                .addPathPrefix(&quot;api/v1&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\r\n                .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v1&quot;)))\r\n                .addPathPrefix(&quot;api/v2&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\r\n                .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v2&quot;)));\r\n    }\r\n\r\n","title":"Swagger OpenAPI 3.0 - Springdoc - GroupedOpenApi not working in Spring MVC","body":"<p>I configured some similar one time ago. In my case each api version was in separate package, so I define also <code>packageToScan</code> like below:</p>\n<pre><code>@Bean\npublic GroupedOpenApi publicApi1() {\n    return GroupedOpenApi.builder()\n            .group(&quot;user&quot;)\n            .pathsToExclude(&quot;/api/v2/**&quot;)\n            .pathsToMatch(&quot;/api/v1/**&quot;)\n            .packagesToScan(&quot;com.my.app.v1&quot;)\n            .build();\n}\n</code></pre>\n<p>Moreover I needed to create bean of <code>WebMvcConfigurer</code> (I just extended configuration class) and configure <code>PathMatchConfigurer</code>:</p>\n<pre><code>    public void configurePathMatch(PathMatchConfigurer configurer) {\n    configurer\n            .addPathPrefix(&quot;api/v1&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\n            .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v1&quot;)))\n            .addPathPrefix(&quot;api/v2&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\n            .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v2&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":981035,"reputation":260,"user_id":1000749,"display_name":"onlykalu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20963,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":63668460,"answer_count":2,"score":8,"last_activity_date":1692738907,"creation_date":1598588828,"question_id":63627462,"body_markdown":"My Application is Sping MVC not boot.\r\n\r\nI&#39;m using springdoc-openapi-ui 1.4.4\r\n\r\nalso, I added the following imports to one of my @configuration class;\r\n\r\n```@Import({ \r\n\torg.springdoc.core.SpringDocConfigProperties.class, org.springdoc.core.SpringDocConfiguration.class, \r\n\torg.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\r\n\torg.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\r\n\torg.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\r\n\torg.springdoc.webmvc.ui.SwaggerConfig.class, org.springdoc.core.CacheOrGroupedOpenApiCondition.class,\r\n\torg.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\r\n```\r\nand implement the beans as below\r\n\r\n```\r\n@Bean\r\npublic GroupedOpenApi publicApi() {\r\n    return GroupedOpenApi.builder()\r\n            .group(&quot;user&quot;)\r\n            .pathsToExclude(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\r\n            .pathsToMatch(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\r\n            .build();\r\n}\r\n@Bean\r\npublic GroupedOpenApi adminApi() {\r\n    return GroupedOpenApi.builder()\r\n            .group(&quot;admin&quot;)\r\n            .pathsToExclude(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\r\n            .pathsToMatch(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic OpenAPI customOpenAPI() {\r\n    return new OpenAPI()\r\n        .components(new Components())\r\n        .info(new Info()\r\n        \t.title(&quot;titleI&quot;)\r\n        \t.version(&quot;1.0.0&quot;));\r\n}\r\n\r\n```\r\nBut when I try `http://localhost:8080/MyApp/v3/api-docs/user`\r\n\r\ngives me 404.\r\n\r\nbut I get all the APIs listed in `http://localhost:8080/MyApp/v3/api-docs`\r\n\r\nAlso it comes in `http://www.onlykalu.com:81/MyApp/swagger-ui/index.html?configUrl=/MyApp/v3/api-docs/swagger-config`\r\n\r\nalso without definition drop down.\r\n\r\nif I add\r\n```\r\nspringdoc.group-configs[0].group=user\r\nspringdoc.group-configs[1].group=admin\r\n```\r\n\r\nto application.properties then I get\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5SbZV.png\r\n\r\nWhat I&#39;m doing wrong?\r\n\r\nDo I need to import any other class to get group functionality work?\r\n\r\nThanks","title":"Swagger OpenAPI 3.0 - Springdoc - GroupedOpenApi not working in Spring MVC","body":"<p>My Application is Sping MVC not boot.</p>\n<p>I'm using springdoc-openapi-ui 1.4.4</p>\n<p>also, I added the following imports to one of my @configuration class;</p>\n<pre><code>    org.springdoc.core.SpringDocConfigProperties.class, org.springdoc.core.SpringDocConfiguration.class, \n    org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\n    org.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\n    org.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\n    org.springdoc.webmvc.ui.SwaggerConfig.class, org.springdoc.core.CacheOrGroupedOpenApiCondition.class,\n    org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\n</code></pre>\n<p>and implement the beans as below</p>\n<pre><code>@Bean\npublic GroupedOpenApi publicApi() {\n    return GroupedOpenApi.builder()\n            .group(&quot;user&quot;)\n            .pathsToExclude(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\n            .pathsToMatch(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\n            .build();\n}\n@Bean\npublic GroupedOpenApi adminApi() {\n    return GroupedOpenApi.builder()\n            .group(&quot;admin&quot;)\n            .pathsToExclude(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\n            .pathsToMatch(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\n            .build();\n}\n\n@Bean\npublic OpenAPI customOpenAPI() {\n    return new OpenAPI()\n        .components(new Components())\n        .info(new Info()\n            .title(&quot;titleI&quot;)\n            .version(&quot;1.0.0&quot;));\n}\n\n</code></pre>\n<p>But when I try <code>http://localhost:8080/MyApp/v3/api-docs/user</code></p>\n<p>gives me 404.</p>\n<p>but I get all the APIs listed in <code>http://localhost:8080/MyApp/v3/api-docs</code></p>\n<p>Also it comes in <code>http://www.onlykalu.com:81/MyApp/swagger-ui/index.html?configUrl=/MyApp/v3/api-docs/swagger-config</code></p>\n<p>also without definition drop down.</p>\n<p>if I add</p>\n<pre><code>springdoc.group-configs[0].group=user\nspringdoc.group-configs[1].group=admin\n</code></pre>\n<p>to application.properties then I get</p>\n<p><a href=\"https://i.stack.imgur.com/5SbZV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5SbZV.png\" alt=\"enter image description here\" /></a></p>\n<p>What I'm doing wrong?</p>\n<p>Do I need to import any other class to get group functionality work?</p>\n<p>Thanks</p>\n"},{"tags":["java","autocloseable"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1692738718,"creation_date":1692735391,"answer_id":76956620,"question_id":76956580,"body_markdown":"An object _must_ be a [`java.lang.AutoCloseable`][1] in order to use it as a resource in a _try-with-resources_ statement. But you can remove the `throws` clause from your implementation if it doesn&#39;t throw a checked exception.\r\n\r\nFor instance, if you have:\r\n\r\n```java\r\npublic class MyResource implements AutoCloseable {\r\n\r\n    @Override\r\n    public void close() {\r\n        // perform cleanup\r\n    }\r\n}\r\n```\r\n\r\nThen the following will compile:\r\n\r\n```java\r\npublic void foo() {\r\n    try (MyResource res = new MyResource()) {\r\n        // use &#39;res&#39;\r\n    }\r\n}\r\n```\r\n\r\nWithout needing a `catch` block.\r\n\r\nIf you want, you can abstract this out into an [interface][2].\r\n\r\n```java\r\npublic interface MyCloseable extends AutoCloseable {\r\n\r\n    @Override\r\n    void close();\r\n}\r\n```\r\n\r\nNote you can instead make the exception more specific if needed. The [`java.io.Closeable`][3] interface inherits from `AutoCloseable` but changes the exception type to [`IOException`][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [2]: https://en.wikipedia.org/wiki/Interface_(Java)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/IOException.html","title":"Is there AutoCloseable like class that doesn&#39;t throw Exception","body":"<p>An object <em>must</em> be a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"noreferrer\"><code>java.lang.AutoCloseable</code></a> in order to use it as a resource in a <em>try-with-resources</em> statement. But you can remove the <code>throws</code> clause from your implementation if it doesn't throw a checked exception.</p>\n<p>For instance, if you have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyResource implements AutoCloseable {\n\n    @Override\n    public void close() {\n        // perform cleanup\n    }\n}\n</code></pre>\n<p>Then the following will compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo() {\n    try (MyResource res = new MyResource()) {\n        // use 'res'\n    }\n}\n</code></pre>\n<p>Without needing a <code>catch</code> block.</p>\n<p>If you want, you can abstract this out into an <a href=\"https://en.wikipedia.org/wiki/Interface_(Java)\" rel=\"noreferrer\">interface</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyCloseable extends AutoCloseable {\n\n    @Override\n    void close();\n}\n</code></pre>\n<p>Note you can instead make the exception more specific if needed. The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\" rel=\"noreferrer\"><code>java.io.Closeable</code></a> interface inherits from <code>AutoCloseable</code> but changes the exception type to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/IOException.html\" rel=\"noreferrer\"><code>IOException</code></a>.</p>\n"}],"owner":{"account_id":3892977,"reputation":995,"user_id":3222702,"accept_rate":5,"display_name":"Hanna Khalil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1692800416,"answer_count":1,"score":0,"last_activity_date":1692738718,"creation_date":1692734975,"question_id":76956580,"body_markdown":"Does any major Java library offer a `AutoCloseable` like interface for which close method doesn&#39;t throw exception?\r\nMy close implementation is very simple and I&#39;d like to avoid the boilerplate of catching the exception","title":"Is there AutoCloseable like class that doesn&#39;t throw Exception","body":"<p>Does any major Java library offer a <code>AutoCloseable</code> like interface for which close method doesn't throw exception?\nMy close implementation is very simple and I'd like to avoid the boilerplate of catching the exception</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692738414,"creation_date":1692724384,"answer_id":76955519,"question_id":76955457,"body_markdown":"[Program to an interface, not an implementation.](https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface)\r\n\r\nIn other words, change the type of the field in your entity (and also in your DTO) to the [interface][1] [`Set&lt;Booking&gt;`][2] instead of the specific implementation type [`HashSet&lt;Booking&gt;`][3]:\r\n\r\n    @OneToMany\r\n    private Set&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Interface_(Java)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html","title":"Can not set java.util.HashSet field to org.hibernate.collection.spi.PersistentSet","body":"<p><a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">Program to an interface, not an implementation.</a></p>\n<p>In other words, change the type of the field in your entity (and also in your DTO) to the <a href=\"https://en.wikipedia.org/wiki/Interface_(Java)\" rel=\"nofollow noreferrer\">interface</a> <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set&lt;Booking&gt;</code></a> instead of the specific implementation type <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet&lt;Booking&gt;</code></a>:</p>\n<pre><code>@OneToMany\nprivate Set&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":24636095,"reputation":23,"user_id":20575574,"display_name":"FelipeGodoy96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76955519,"answer_count":1,"score":0,"last_activity_date":1692738414,"creation_date":1692723837,"question_id":76955457,"body_markdown":"I am having an issue with my API that I am not finding the solution. \r\n\r\nMy entities\r\nHousing\r\n```\r\n// imports...\r\n\r\n@Entity\r\npublic class Housing implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String title;\r\n    @Column(columnDefinition = &quot;TEXT&quot;)\r\n    private String description;\r\n    private Double rating;\r\n\r\n    private Double dailyCost;\r\n\r\n    private String address;\r\n\r\n    private int capacity;\r\n\r\n    @OneToMany\r\n//    @JoinColumn(name = &quot;booking_id&quot;)\r\n    private HashSet&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    private Category category;\r\n\r\n    // to implement &quot;facilities&quot;\r\n    //@OneToMany\r\n    //private Facility facilities = new HashSet&lt;&gt;();\r\n\r\n    public Housing() {\r\n    }\r\n\r\n\r\n    public Housing(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;Booking&gt; bookings, Category category) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.rating = rating;\r\n        this.dailyCost = dailyCost;\r\n        this.address = address;\r\n        this.capacity = capacity;\r\n        this.bookings = bookings;\r\n        this.category = category;\r\n    }\r\n\r\n //autogenerated getters and setters...\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Housing housing = (Housing) o;\r\n        return Objects.equals(id, housing.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBooking\r\n```\r\n// imports...\r\n\r\n@Entity\r\npublic class Booking implements Serializable {\r\n\r\n    private final static Long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String status;\r\n\r\n    @OneToOne\r\n//    @JoinColumn(name = &quot;housing_id&quot;)\r\n    private Housing housing;\r\n\r\n    private LocalDate checkIn;\r\n\r\n    private LocalDate checkOut;\r\n\r\n    private int numberOfGuests;\r\n\r\n    @ManyToOne\r\n//    @JoinColumn(name = &quot;client_id&quot;)\r\n    private Client client;\r\n\r\n     //autogenerated getters and setters...\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Booking booking = (Booking) o;\r\n        return Objects.equals(id, booking.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also have a DTO layer, so...\r\n\r\nHousingDTO\r\n\r\n```\r\n// imports...\r\n\r\npublic class HousingDTO implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    private Long id;\r\n\r\n    //Name of the Hotel, Apartment, etc.\r\n    private String name;\r\n\r\n    // Title of the housing, example: King Room, Double Suite, Door 245, etc.\r\n    private String title;\r\n    private String description;\r\n    private Double rating;\r\n\r\n    private Double dailyCost;\r\n\r\n    private String address;\r\n\r\n    private int capacity;\r\n\r\n    private HashSet&lt;BookingDTO&gt; bookings = new HashSet&lt;&gt;();\r\n\r\n\r\n    public HousingDTO() {\r\n    }\r\n\r\n\r\n    public HousingDTO(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;BookingDTO&gt; bookings) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.rating = rating;\r\n        this.dailyCost = dailyCost;\r\n        this.address = address;\r\n        this.capacity = capacity;\r\n        this.bookings = bookings;\r\n    }\r\n\r\n    public HousingDTO(Housing housing) {\r\n        id = housing.getId();\r\n        name = housing.getName();\r\n        title = housing.getTitle();\r\n        description = housing.getDescription();\r\n        rating = housing.getRating();\r\n        dailyCost = housing.getDailyCost();\r\n        address = housing.getAddress();\r\n        capacity = housing.getCapacity();\r\n        housing.getBookings().forEach(booking -&gt; this.bookings.add(new BookingDTO (booking)));\r\n    }\r\n\r\n     //autogenerated getters and setters...\r\n}\r\n\r\n```\r\n\r\nBookingDTO \r\n\r\n\r\n```\r\n// imports...\r\n\r\npublic class BookingDTO implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    private Long id;\r\n\r\n    private String status;\r\n\r\n    private Housing housing;\r\n\r\n    private LocalDate checkIn;\r\n\r\n    private LocalDate checkOut;\r\n\r\n    private int numberOfGuests;\r\n\r\n    private Client client;\r\n\r\n    //autogenerated getters and setters...\r\n\r\n    public BookingDTO() {\r\n    }\r\n\r\n    public BookingDTO(Long id, String status, Housing housing, LocalDate checkIn, LocalDate checkOut, int numberOfGuests, Client client) {\r\n        this.id = id;\r\n        this.status = status;\r\n        this.housing = housing;\r\n        this.checkIn = checkIn;\r\n        this.checkOut = checkOut;\r\n        this.numberOfGuests = numberOfGuests;\r\n        this.client = client;\r\n    }\r\n\r\n    public BookingDTO(Booking booking) {\r\n        id = booking.getId();\r\n        status = booking.getStatus();\r\n        housing = booking.getHousing();\r\n        checkIn = booking.getCheckIn();\r\n        checkOut = booking.getCheckOut();\r\n        numberOfGuests = booking.getNumberOfGuests();\r\n        client = booking.getClient();\r\n    }\r\n}\r\n\r\n```\r\n\r\nServices\r\n\r\nHousingService\r\n\r\n```\r\n// imports...\r\n@Service\r\npublic class HousingService {\r\n\r\n    @Autowired\r\n    private HousingRepository repository;\r\n\r\n    @Autowired\r\n    private BookingRepository bookingRepository;\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    public List&lt;HousingDTO&gt; findAllHousings() {\r\n        List&lt;Housing&gt; list = repository.findAll();\r\n        return list.stream().map(housing -&gt; new ModelMapper().map(housing,HousingDTO.class)).collect(Collectors.toList());\r\n    }\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    public Optional&lt;HousingDTO&gt; findHousingById(Long id) {\r\n        // Obtaining Housing Optional by its ID.\r\n        Optional&lt;Housing&gt; housing = repository.findById(id);\r\n        // If it couldn&#39;t find, throw an Exception\r\n        if (housing.isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; could not be found.&quot;);\r\n        }\r\n        // Convert the found Optional into a DTO.\r\n        HousingDTO dto = new ModelMapper().map(housing.get(), HousingDTO.class);\r\n        // Creating and returning an Optional of DTO.\r\n        return Optional.of(dto);\r\n    }\r\n\r\n\r\n\r\n    public HousingDTO addHousing (HousingDTO housingDto) {\r\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\r\n        repository.save(housing);\r\n        return new HousingDTO(housing);\r\n    }\r\n\r\n    public void removeHousing (Long id) {\r\n        if (findHousingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n        repository.deleteById(id);\r\n    }\r\n\r\n\r\n    public HousingDTO updateHousing (Long id, HousingDTO housingDto) {\r\n        if (findHousingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n\r\n        housingDto.setId(id);\r\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\r\n        housing = repository.save(housing);\r\n        return new HousingDTO(housing);\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nBookingService\r\n\r\n```\r\n// imports...\r\n@Service\r\npublic class BookingService {\r\n\r\n    @Autowired\r\n    private BookingRepository repository;\r\n\r\n    @Transactional(readOnly = true)\r\n    public List&lt;BookingDTO&gt; findAllBookings() {\r\n        List&lt;Booking&gt; list = repository.findAll();\r\n        return list.stream().map(booking -&gt; new ModelMapper().map(booking,BookingDTO.class)).collect(Collectors.toList());\r\n    }\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    public Optional&lt;BookingDTO&gt; findBookingById(Long id) {\r\n        // Obtaining Booking Optional by its ID.\r\n        Optional&lt;Booking&gt; booking = repository.findById(id);\r\n        // If it couldn&#39;t find, throw an Exception\r\n        if (booking.isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; could not be found.&quot;);\r\n        }\r\n        // Convert the found Optional into a DTO.\r\n        BookingDTO dto = new ModelMapper().map(booking.get(), BookingDTO.class);\r\n        // Creating and returning an Optional of DTO.\r\n        return Optional.of(dto);\r\n    }\r\n\r\n\r\n\r\n    public BookingDTO addBooking (BookingDTO bookingDto) {\r\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\r\n        repository.save(booking);\r\n        return new BookingDTO(booking);\r\n    }\r\n\r\n\r\n    public void removeBooking (Long id) {\r\n        if (findBookingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n        repository.deleteById(id);\r\n    }\r\n\r\n\r\n    public BookingDTO updateBooking (Long id, BookingDTO bookingDto) {\r\n        if (findBookingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n\r\n        bookingDto.setId(id);\r\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\r\n        booking = repository.save(booking);\r\n        return new BookingDTO(booking);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAnd controllers\r\n\r\nBookingController\r\n\r\n```\r\n// imports...\r\n@RestController\r\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\r\n@RequestMapping(&quot;/bookings&quot;)\r\npublic class BookingController {\r\n\r\n    @Autowired\r\n    private BookingService service;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;BookingDTO&gt;&gt; getAllBookings() {\r\n        List&lt;BookingDTO&gt; bookings = service.findAllBookings();\r\n        return new ResponseEntity&lt;&gt;(bookings, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;BookingDTO&gt;&gt; getBookingById (Long id) {\r\n        Optional&lt;BookingDTO&gt; bookingDto = service.findBookingById(id);\r\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;BookingDTO&gt; createBooking (@RequestBody BookingDTO bookingDto) {\r\n        bookingDto = service.addBooking(bookingDto);\r\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.CREATED);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; destroyBooking (@PathVariable Long id) {\r\n        service.removeBooking(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;BookingDTO&gt; refreshBooking (@PathVariable Long id, @RequestBody BookingDTO bookingDto) {\r\n        bookingDto = service.updateBooking(id, bookingDto);\r\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHousingController\r\n\r\n```\r\n// imports...\r\n@RestController\r\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\r\n@RequestMapping(&quot;/housing&quot;)\r\npublic class HousingController {\r\n\r\n    @Autowired\r\n    private HousingService service;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;HousingDTO&gt;&gt; getAllHousings() {\r\n        List&lt;HousingDTO&gt; housings = service.findAllHousings();\r\n        return new ResponseEntity&lt;&gt;(housings, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;HousingDTO&gt;&gt; getHousingById (Long id) {\r\n        Optional&lt;HousingDTO&gt; housingDto = service.findHousingById(id);\r\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;HousingDTO&gt; createHousing (@RequestBody HousingDTO housingDto) {\r\n        housingDto = service.addHousing(housingDto);\r\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.CREATED);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; destroyHousing (@PathVariable Long id) {\r\n        service.removeHousing(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;HousingDTO&gt; refreshHousing (@PathVariable Long id, @RequestBody HousingDTO housingDto) {\r\n        housingDto = service.updateHousing(id, housingDto);\r\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThe error I am getting occurs when trying to fetch all housings with Postman\r\n\r\n```\r\nHibernate: select h1_0.id,h1_0.address,h1_0.capacity,h1_0.category_id,h1_0.daily_cost,h1_0.description,h1_0.name,h1_0.rating,h1_0.title from housing h1_0\r\nHibernate: select c1_0.id,c1_0.name from category c1_0 where c1_0.id=?\r\n2023-08-22T17:46:00.165+01:00 ERROR 19948 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [org.hibernate.collection.spi.PersistentSet] : `br.com.bookinghubgodoynetworks.api.model.Housing.bookings` (setter)] with root cause\r\n\r\njava.lang.IllegalArgumentException: Can not set java.util.HashSet field br.com.bookinghubgodoynetworks.api.model.Housing.bookings to org.hibernate.collection.spi.PersistentSet\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:799) ~[na:na]\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:55) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4187) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:844) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:804) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:790) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:111) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:199) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:382) ~[spring-data-jpa-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:95) ~[spring-data-jpa-3.1.1.jar:3.1.1]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy122.findAll(Unknown Source) ~[na:na]\r\n\tat br.com.bookinghubgodoynetworks.api.service.HousingService.findAllHousings(HousingService.java:28) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat br.com.bookinghubgodoynetworks.api.service.HousingService$$SpringCGLIB$$0.findAllHousings(&lt;generated&gt;) ~[classes/:na]\r\n\tat br.com.bookinghubgodoynetworks.api.controller.HousingController.getAllHousings(HousingController.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-\r\n...........\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI don&#39;t know what to do, I am guessing that it might be due to the modelmapper(?)","title":"Can not set java.util.HashSet field to org.hibernate.collection.spi.PersistentSet","body":"<p>I am having an issue with my API that I am not finding the solution.</p>\n<p>My entities\nHousing</p>\n<pre><code>// imports...\n\n@Entity\npublic class Housing implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String title;\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private String description;\n    private Double rating;\n\n    private Double dailyCost;\n\n    private String address;\n\n    private int capacity;\n\n    @OneToMany\n//    @JoinColumn(name = &quot;booking_id&quot;)\n    private HashSet&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    private Category category;\n\n    // to implement &quot;facilities&quot;\n    //@OneToMany\n    //private Facility facilities = new HashSet&lt;&gt;();\n\n    public Housing() {\n    }\n\n\n    public Housing(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;Booking&gt; bookings, Category category) {\n        this.id = id;\n        this.name = name;\n        this.title = title;\n        this.description = description;\n        this.rating = rating;\n        this.dailyCost = dailyCost;\n        this.address = address;\n        this.capacity = capacity;\n        this.bookings = bookings;\n        this.category = category;\n    }\n\n //autogenerated getters and setters...\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Housing housing = (Housing) o;\n        return Objects.equals(id, housing.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n\n</code></pre>\n<p>Booking</p>\n<pre><code>// imports...\n\n@Entity\npublic class Booking implements Serializable {\n\n    private final static Long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String status;\n\n    @OneToOne\n//    @JoinColumn(name = &quot;housing_id&quot;)\n    private Housing housing;\n\n    private LocalDate checkIn;\n\n    private LocalDate checkOut;\n\n    private int numberOfGuests;\n\n    @ManyToOne\n//    @JoinColumn(name = &quot;client_id&quot;)\n    private Client client;\n\n     //autogenerated getters and setters...\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Booking booking = (Booking) o;\n        return Objects.equals(id, booking.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n\n</code></pre>\n<p>I also have a DTO layer, so...</p>\n<p>HousingDTO</p>\n<pre><code>// imports...\n\npublic class HousingDTO implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    private Long id;\n\n    //Name of the Hotel, Apartment, etc.\n    private String name;\n\n    // Title of the housing, example: King Room, Double Suite, Door 245, etc.\n    private String title;\n    private String description;\n    private Double rating;\n\n    private Double dailyCost;\n\n    private String address;\n\n    private int capacity;\n\n    private HashSet&lt;BookingDTO&gt; bookings = new HashSet&lt;&gt;();\n\n\n    public HousingDTO() {\n    }\n\n\n    public HousingDTO(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;BookingDTO&gt; bookings) {\n        this.id = id;\n        this.name = name;\n        this.title = title;\n        this.description = description;\n        this.rating = rating;\n        this.dailyCost = dailyCost;\n        this.address = address;\n        this.capacity = capacity;\n        this.bookings = bookings;\n    }\n\n    public HousingDTO(Housing housing) {\n        id = housing.getId();\n        name = housing.getName();\n        title = housing.getTitle();\n        description = housing.getDescription();\n        rating = housing.getRating();\n        dailyCost = housing.getDailyCost();\n        address = housing.getAddress();\n        capacity = housing.getCapacity();\n        housing.getBookings().forEach(booking -&gt; this.bookings.add(new BookingDTO (booking)));\n    }\n\n     //autogenerated getters and setters...\n}\n\n</code></pre>\n<p>BookingDTO</p>\n<pre><code>// imports...\n\npublic class BookingDTO implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    private Long id;\n\n    private String status;\n\n    private Housing housing;\n\n    private LocalDate checkIn;\n\n    private LocalDate checkOut;\n\n    private int numberOfGuests;\n\n    private Client client;\n\n    //autogenerated getters and setters...\n\n    public BookingDTO() {\n    }\n\n    public BookingDTO(Long id, String status, Housing housing, LocalDate checkIn, LocalDate checkOut, int numberOfGuests, Client client) {\n        this.id = id;\n        this.status = status;\n        this.housing = housing;\n        this.checkIn = checkIn;\n        this.checkOut = checkOut;\n        this.numberOfGuests = numberOfGuests;\n        this.client = client;\n    }\n\n    public BookingDTO(Booking booking) {\n        id = booking.getId();\n        status = booking.getStatus();\n        housing = booking.getHousing();\n        checkIn = booking.getCheckIn();\n        checkOut = booking.getCheckOut();\n        numberOfGuests = booking.getNumberOfGuests();\n        client = booking.getClient();\n    }\n}\n\n</code></pre>\n<p>Services</p>\n<p>HousingService</p>\n<pre><code>// imports...\n@Service\npublic class HousingService {\n\n    @Autowired\n    private HousingRepository repository;\n\n    @Autowired\n    private BookingRepository bookingRepository;\n\n\n    @Transactional(readOnly = true)\n    public List&lt;HousingDTO&gt; findAllHousings() {\n        List&lt;Housing&gt; list = repository.findAll();\n        return list.stream().map(housing -&gt; new ModelMapper().map(housing,HousingDTO.class)).collect(Collectors.toList());\n    }\n\n\n    @Transactional(readOnly = true)\n    public Optional&lt;HousingDTO&gt; findHousingById(Long id) {\n        // Obtaining Housing Optional by its ID.\n        Optional&lt;Housing&gt; housing = repository.findById(id);\n        // If it couldn't find, throw an Exception\n        if (housing.isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; could not be found.&quot;);\n        }\n        // Convert the found Optional into a DTO.\n        HousingDTO dto = new ModelMapper().map(housing.get(), HousingDTO.class);\n        // Creating and returning an Optional of DTO.\n        return Optional.of(dto);\n    }\n\n\n\n    public HousingDTO addHousing (HousingDTO housingDto) {\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\n        repository.save(housing);\n        return new HousingDTO(housing);\n    }\n\n    public void removeHousing (Long id) {\n        if (findHousingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\n        }\n        repository.deleteById(id);\n    }\n\n\n    public HousingDTO updateHousing (Long id, HousingDTO housingDto) {\n        if (findHousingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\n        }\n\n        housingDto.setId(id);\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\n        housing = repository.save(housing);\n        return new HousingDTO(housing);\n    }\n}\n\n\n\n</code></pre>\n<p>BookingService</p>\n<pre><code>// imports...\n@Service\npublic class BookingService {\n\n    @Autowired\n    private BookingRepository repository;\n\n    @Transactional(readOnly = true)\n    public List&lt;BookingDTO&gt; findAllBookings() {\n        List&lt;Booking&gt; list = repository.findAll();\n        return list.stream().map(booking -&gt; new ModelMapper().map(booking,BookingDTO.class)).collect(Collectors.toList());\n    }\n\n\n    @Transactional(readOnly = true)\n    public Optional&lt;BookingDTO&gt; findBookingById(Long id) {\n        // Obtaining Booking Optional by its ID.\n        Optional&lt;Booking&gt; booking = repository.findById(id);\n        // If it couldn't find, throw an Exception\n        if (booking.isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; could not be found.&quot;);\n        }\n        // Convert the found Optional into a DTO.\n        BookingDTO dto = new ModelMapper().map(booking.get(), BookingDTO.class);\n        // Creating and returning an Optional of DTO.\n        return Optional.of(dto);\n    }\n\n\n\n    public BookingDTO addBooking (BookingDTO bookingDto) {\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\n        repository.save(booking);\n        return new BookingDTO(booking);\n    }\n\n\n    public void removeBooking (Long id) {\n        if (findBookingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\n        }\n        repository.deleteById(id);\n    }\n\n\n    public BookingDTO updateBooking (Long id, BookingDTO bookingDto) {\n        if (findBookingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\n        }\n\n        bookingDto.setId(id);\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\n        booking = repository.save(booking);\n        return new BookingDTO(booking);\n    }\n}\n\n</code></pre>\n<p>And controllers</p>\n<p>BookingController</p>\n<pre><code>// imports...\n@RestController\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\n@RequestMapping(&quot;/bookings&quot;)\npublic class BookingController {\n\n    @Autowired\n    private BookingService service;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;BookingDTO&gt;&gt; getAllBookings() {\n        List&lt;BookingDTO&gt; bookings = service.findAllBookings();\n        return new ResponseEntity&lt;&gt;(bookings, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;BookingDTO&gt;&gt; getBookingById (Long id) {\n        Optional&lt;BookingDTO&gt; bookingDto = service.findBookingById(id);\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;BookingDTO&gt; createBooking (@RequestBody BookingDTO bookingDto) {\n        bookingDto = service.addBooking(bookingDto);\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.CREATED);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; destroyBooking (@PathVariable Long id) {\n        service.removeBooking(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;BookingDTO&gt; refreshBooking (@PathVariable Long id, @RequestBody BookingDTO bookingDto) {\n        bookingDto = service.updateBooking(id, bookingDto);\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p>HousingController</p>\n<pre><code>// imports...\n@RestController\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\n@RequestMapping(&quot;/housing&quot;)\npublic class HousingController {\n\n    @Autowired\n    private HousingService service;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;HousingDTO&gt;&gt; getAllHousings() {\n        List&lt;HousingDTO&gt; housings = service.findAllHousings();\n        return new ResponseEntity&lt;&gt;(housings, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;HousingDTO&gt;&gt; getHousingById (Long id) {\n        Optional&lt;HousingDTO&gt; housingDto = service.findHousingById(id);\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;HousingDTO&gt; createHousing (@RequestBody HousingDTO housingDto) {\n        housingDto = service.addHousing(housingDto);\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.CREATED);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; destroyHousing (@PathVariable Long id) {\n        service.removeHousing(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;HousingDTO&gt; refreshHousing (@PathVariable Long id, @RequestBody HousingDTO housingDto) {\n        housingDto = service.updateHousing(id, housingDto);\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\n    }\n\n\n}\n\n</code></pre>\n<p>The error I am getting occurs when trying to fetch all housings with Postman</p>\n<pre><code>Hibernate: select h1_0.id,h1_0.address,h1_0.capacity,h1_0.category_id,h1_0.daily_cost,h1_0.description,h1_0.name,h1_0.rating,h1_0.title from housing h1_0\nHibernate: select c1_0.id,c1_0.name from category c1_0 where c1_0.id=?\n2023-08-22T17:46:00.165+01:00 ERROR 19948 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [org.hibernate.collection.spi.PersistentSet] : `br.com.bookinghubgodoynetworks.api.model.Housing.bookings` (setter)] with root cause\n\njava.lang.IllegalArgumentException: Can not set java.util.HashSet field br.com.bookinghubgodoynetworks.api.model.Housing.bookings to org.hibernate.collection.spi.PersistentSet\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\n    at java.base/java.lang.reflect.Field.set(Field.java:799) ~[na:na]\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:55) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4187) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:844) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:804) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:790) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:111) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:199) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:382) ~[spring-data-jpa-3.1.1.jar:3.1.1]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:95) ~[spring-data-jpa-3.1.1.jar:3.1.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.10.jar:6.0.10]\n    at jdk.proxy4/jdk.proxy4.$Proxy122.findAll(Unknown Source) ~[na:na]\n    at br.com.bookinghubgodoynetworks.api.service.HousingService.findAllHousings(HousingService.java:28) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\n    at br.com.bookinghubgodoynetworks.api.service.HousingService$$SpringCGLIB$$0.findAllHousings(&lt;generated&gt;) ~[classes/:na]\n    at br.com.bookinghubgodoynetworks.api.controller.HousingController.getAllHousings(HousingController.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-\n...........\n\n</code></pre>\n<p>I don't know what to do, I am guessing that it might be due to the modelmapper(?)</p>\n"},{"tags":["java","arrays","vector"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1403771657,"post_id":24425293,"comment_id":37790341,"body_markdown":"Vector is obsolete - you should use ArrayList instead.","body":"Vector is obsolete - you should use ArrayList instead."}],"answers":[{"tags":[],"owner":{"account_id":1206050,"reputation":113,"user_id":1175689,"accept_rate":25,"display_name":"jmac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403769935,"creation_date":1403769935,"answer_id":24425408,"question_id":24425293,"body_markdown":"If you just need to know the longest word, why not store the longest word so far from the user input in a variable? You do not need a vector.","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>If you just need to know the longest word, why not store the longest word so far from the user input in a variable? You do not need a vector.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403769967,"creation_date":1403769967,"answer_id":24425417,"question_id":24425293,"body_markdown":"Your question is confusing, but I think this\r\n\r\n    while (userInput.hasNext())\r\n    {\r\n      v.add(userInput.next());\r\n      System.out.println(userInput.next());\r\n      System.out.println(v.get(0));\r\n    }\r\n\r\nIs intended to be more like,\r\n\r\n    while (userInput.hasNext())\r\n    {\r\n      String line = userInput.next();\r\n      line = (line != null) ? line.trim() : &quot;&quot;;\r\n      v.add(line);\r\n      // System.out.println(userInput.next());\r\n      // System.out.println(v.get(0));\r\n      System.out.printf(&quot;&#39;%s&#39; is %d letters long%n&quot;, line, line.length());\r\n    }\r\n\r\nAnd based on your question, that should be enough to get you started.","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>Your question is confusing, but I think this</p>\n\n<pre><code>while (userInput.hasNext())\n{\n  v.add(userInput.next());\n  System.out.println(userInput.next());\n  System.out.println(v.get(0));\n}\n</code></pre>\n\n<p>Is intended to be more like,</p>\n\n<pre><code>while (userInput.hasNext())\n{\n  String line = userInput.next();\n  line = (line != null) ? line.trim() : \"\";\n  v.add(line);\n  // System.out.println(userInput.next());\n  // System.out.println(v.get(0));\n  System.out.printf(\"'%s' is %d letters long%n\", line, line.length());\n}\n</code></pre>\n\n<p>And based on your question, that should be enough to get you started.</p>\n"},{"comments":[{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403771257,"post_id":24425565,"comment_id":37790124,"body_markdown":"hey hi thanks for helping me with this but i tried it doesn&#39;t work right after keying in the words. :)","body":"hey hi thanks for helping me with this but i tried it doesn&#39;t work right after keying in the words. :)"},{"owner":{"account_id":4607503,"reputation":4309,"user_id":3736555,"display_name":"4aRk Kn1gh7"},"score":0,"creation_date":1403773624,"post_id":24425565,"comment_id":37791423,"body_markdown":"how are you testing it? i tested the code and have also provided the output.","body":"how are you testing it? i tested the code and have also provided the output."},{"owner":{"account_id":4607503,"reputation":4309,"user_id":3736555,"display_name":"4aRk Kn1gh7"},"score":0,"creation_date":1403775642,"post_id":24425565,"comment_id":37792563,"body_markdown":"this code is written for ten words, i.e. it asks the user to enter 10 words. You can change the value of the variable numOfWords to your desired value.","body":"this code is written for ten words, i.e. it asks the user to enter 10 words. You can change the value of the variable numOfWords to your desired value."}],"tags":[],"owner":{"account_id":4607503,"reputation":4309,"user_id":3736555,"display_name":"4aRk Kn1gh7"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403776006,"creation_date":1403770507,"answer_id":24425565,"question_id":24425293,"body_markdown":"Here is the simplest way of doing this. No need to store the words in a vector.   \r\n\r\n     import java.util.*;\r\n        \r\n    class LongestWord2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner userInput = new Scanner(System.in);\r\n    \r\n    \t\tString longestWord = &quot;&quot;;\r\n    \t\tString temp = &quot;&quot;;\r\n    \t\tint longestWordLength = 0;\r\n    \t\tint numOfWords = 10; // num of words to ask from user\r\n                System.out.println(&quot;Please enter &quot; + numOfWords + &quot; words&quot;);\r\n    \t\tfor (int i = 0; i&lt;numOfWords ; i++) { // loop for taking words as input\r\n    \t\t\ttemp = userInput.next();\r\n    \t\t\tif(temp.length() &gt; longestWordLength){\r\n    \t\t\t\tlongestWordLength = temp.length();\r\n    \t\t\t\tlongestWord = temp;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Longest Word = &quot; + longestWord);\r\n    \t\tSystem.out.println(&quot;Longest Word Length = &quot; + longestWordLength);\r\n    \t\tuserInput.close();\r\n    \t}\r\n    }\r\n\r\nSample Output:\r\n\r\n    Please enter 10 words\r\n    a\r\n    ab\r\n    abc\r\n    abcd\r\n    abcde\r\n    abcdef\r\n    abcdefg\r\n    abcdefgh\r\n    abcdefghi\r\n    abcdefghij\r\n    Longest Word = abcdefghij\r\n    Longest Word Length = 10","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>Here is the simplest way of doing this. No need to store the words in a vector.   </p>\n\n<pre><code> import java.util.*;\n\nclass LongestWord2 {\n    public static void main(String[] args) {\n        Scanner userInput = new Scanner(System.in);\n\n        String longestWord = \"\";\n        String temp = \"\";\n        int longestWordLength = 0;\n        int numOfWords = 10; // num of words to ask from user\n            System.out.println(\"Please enter \" + numOfWords + \" words\");\n        for (int i = 0; i&lt;numOfWords ; i++) { // loop for taking words as input\n            temp = userInput.next();\n            if(temp.length() &gt; longestWordLength){\n                longestWordLength = temp.length();\n                longestWord = temp;\n            }\n        }\n        System.out.println(\"Longest Word = \" + longestWord);\n        System.out.println(\"Longest Word Length = \" + longestWordLength);\n        userInput.close();\n    }\n}\n</code></pre>\n\n<p>Sample Output:</p>\n\n<pre><code>Please enter 10 words\na\nab\nabc\nabcd\nabcde\nabcdef\nabcdefg\nabcdefgh\nabcdefghi\nabcdefghij\nLongest Word = abcdefghij\nLongest Word Length = 10\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403770973,"post_id":24425617,"comment_id":37789988,"body_markdown":"hey thanks Rod! however, the compilation leaves me with....\n\nPlease enter your words\none two three four thousand\n\nLongest Word: one length: 3\nLongest Word: one length: 3\nLongest Word: three length: 5\nLongest Word: three length: 5\nLongest Word: thousand length: 8","body":"hey thanks Rod! however, the compilation leaves me with....  Please enter your words one two three four thousand  Longest Word: one length: 3 Longest Word: one length: 3 Longest Word: three length: 5 Longest Word: three length: 5 Longest Word: thousand length: 8"},{"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"score":0,"creation_date":1403771140,"post_id":24425617,"comment_id":37790051,"body_markdown":"@alan_ogz83 updated above see edit","body":"@alan_ogz83 updated above see edit"},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403771449,"post_id":24425617,"comment_id":37790234,"body_markdown":":) it actually calculates the total length of all the words lol.","body":":) it actually calculates the total length of all the words lol."},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403771950,"post_id":24425617,"comment_id":37790514,"body_markdown":"is there any way where we can calculate individual tokens? thanks!","body":"is there any way where we can calculate individual tokens? thanks!"},{"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"score":0,"creation_date":1403771994,"post_id":24425617,"comment_id":37790541,"body_markdown":"@alan_ogz83 you want to displace all the data??","body":"@alan_ogz83 you want to displace all the data??"},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403772187,"post_id":24425617,"comment_id":37790628,"body_markdown":"erm the requirements for this tutorial work is like the previous one but just that this time round the user can input any number of words and regardless of the number of words, the application will pinpoint the longest word between them and display the word itself as well as the length of it.","body":"erm the requirements for this tutorial work is like the previous one but just that this time round the user can input any number of words and regardless of the number of words, the application will pinpoint the longest word between them and display the word itself as well as the length of it."},{"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"score":0,"creation_date":1403772320,"post_id":24425617,"comment_id":37790699,"body_markdown":"@alan_ogz83 from what i understand you want to print each time the words that was saved? and also the longest word","body":"@alan_ogz83 from what i understand you want to print each time the words that was saved? and also the longest word"},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403772395,"post_id":24425617,"comment_id":37790734,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/56328/discussion-between-alan-ogz83-and-rod-algonquin).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/56328/discussion-between-alan-ogz83-and-rod-algonquin\">continue this discussion in chat</a>."},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1404035406,"post_id":24425617,"comment_id":37881315,"body_markdown":"hey hi mate, I have a new question relating to do while loop. if you are free, would you mind advising me on it? thanks again mate. http://stackoverflow.com/questions/24474905/java-se-do-while-loop-issues","body":"hey hi mate, I have a new question relating to do while loop. if you are free, would you mind advising me on it? thanks again mate. <a href=\"http://stackoverflow.com/questions/24474905/java-se-do-while-loop-issues\" title=\"java se do while loop issues\">stackoverflow.com/questions/24474905/&hellip;</a>"}],"tags":[],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1403771134,"creation_date":1403770682,"answer_id":24425617,"question_id":24425293,"body_markdown":"If you want to continue getting response from your scanner and keep checking for longest name then you can use the one that I implement in your last question with some changes.\r\n\r\n**sample:**\r\n\r\n    System.out.println(&quot;Please enter your words&quot;);\r\n\t\tScanner userInput = new Scanner(System.in);\r\n\r\n\t\tVector&lt;String&gt; v = new Vector&lt;String&gt;();\r\n        String longest = &quot;&quot;;\r\n\t\tlongest = userInput.nextLine(); //get the first array of words for checking\r\n\t\tv.add(longest);\r\n\r\n\t\twhile (true) {\r\n\t\t\t\r\n\t\t    for(String s : v) //iterate to all the array of words\r\n\t\t    {\r\n\t\t        if(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\r\n\t\t            longest = s; //if the current word is longer then make it the longest word\r\n\t\t    }\r\n\t\t    System.out.println(&quot;Longest Word: &quot; + longest + &quot; lenght: &quot; + longest.length());\r\n\r\n\t\t\tv.add(userInput.nextLine());\r\n\t\t}","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>If you want to continue getting response from your scanner and keep checking for longest name then you can use the one that I implement in your last question with some changes.</p>\n\n<p><strong>sample:</strong></p>\n\n<pre><code>System.out.println(\"Please enter your words\");\n    Scanner userInput = new Scanner(System.in);\n\n    Vector&lt;String&gt; v = new Vector&lt;String&gt;();\n    String longest = \"\";\n    longest = userInput.nextLine(); //get the first array of words for checking\n    v.add(longest);\n\n    while (true) {\n\n        for(String s : v) //iterate to all the array of words\n        {\n            if(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\n                longest = s; //if the current word is longer then make it the longest word\n        }\n        System.out.println(\"Longest Word: \" + longest + \" lenght: \" + longest.length());\n\n        v.add(userInput.nextLine());\n    }\n</code></pre>\n"}],"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1403791276,"accepted_answer_id":24425617,"answer_count":4,"score":-1,"last_activity_date":1692736624,"creation_date":1403769559,"question_id":24425293,"body_markdown":"I am doing some programming for my Java school work. Yesterday I posted [a question which is quite similar to this one](https://stackoverflow.com/questions/24401478/java-se-array-help-needed-please) regarding arrays and I managed to get it solved.\r\n\r\nThis time round, I am required to prompt the user to enter a series of words regarding of the number and from there the application will determine the longest word of all and print to console stating the longest word as well as the length of it.\r\n\r\nAlthough, we weren&#39;t given any hint on how to go about it but I thought that by using vector could be the only solution. As for now, I only manage to print to console no matter how many words the user input but I have no idea how to be able to add each individual to the vector and compare them regarding their length.\r\n\r\nI am a total beginner in programming.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.*;\r\n    \r\n    class LongestWord2 {\r\n        public static void main(String [] args) {\t\t\t\t\r\n            System.out.println(&quot;Please enter your words&quot;);\r\n            Scanner userInput = new Scanner(System.in);\r\n           \r\n            Vector &lt;String&gt; v = new Vector &lt;String&gt;();\r\n\t    \r\n            while (userInput.hasNext()) {\r\n                v.add(userInput.next());\r\n                System.out.println(userInput.next());\r\n                System.out.println(v.get(0));\r\n            }   \r\n        }\r\n    }","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>I am doing some programming for my Java school work. Yesterday I posted <a href=\"https://stackoverflow.com/questions/24401478/java-se-array-help-needed-please\">a question which is quite similar to this one</a> regarding arrays and I managed to get it solved.</p>\n<p>This time round, I am required to prompt the user to enter a series of words regarding of the number and from there the application will determine the longest word of all and print to console stating the longest word as well as the length of it.</p>\n<p>Although, we weren't given any hint on how to go about it but I thought that by using vector could be the only solution. As for now, I only manage to print to console no matter how many words the user input but I have no idea how to be able to add each individual to the vector and compare them regarding their length.</p>\n<p>I am a total beginner in programming.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass LongestWord2 {\n    public static void main(String [] args) {               \n        System.out.println(&quot;Please enter your words&quot;);\n        Scanner userInput = new Scanner(System.in);\n       \n        Vector &lt;String&gt; v = new Vector &lt;String&gt;();\n    \n        while (userInput.hasNext()) {\n            v.add(userInput.next());\n            System.out.println(userInput.next());\n            System.out.println(v.get(0));\n        }   \n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1403677332,"post_id":24401478,"comment_id":37745315,"body_markdown":"You don&#39;t need to sort just to find the longest word nor do you need to store all words in memory. Read them one by one and only store the up to now longest word.","body":"You don&#39;t need to sort just to find the longest word nor do you need to store all words in memory. Read them one by one and only store the up to now longest word."},{"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"score":1,"creation_date":1403677347,"post_id":24401478,"comment_id":37745320,"body_markdown":"You are doing good, just think a little more and you should be able to code it yourself !","body":"You are doing good, just think a little more and you should be able to code it yourself !"}],"answers":[{"comments":[{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403678162,"post_id":24401572,"comment_id":37745721,"body_markdown":"Hey hi Rod, thanks for your help but I still couldn&#39;t get it. this part where you said for(String s : wordCount), when i compile, it says required string found int, incompatible types. thanks!","body":"Hey hi Rod, thanks for your help but I still couldn&#39;t get it. this part where you said for(String s : wordCount), when i compile, it says required string found int, incompatible types. thanks!"},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403678913,"post_id":24401572,"comment_id":37746128,"body_markdown":"thanks Rod but it still couldn&#39;t compile. right now it still says incompatible types required string found int but it states at the area where you typed wordCount[0] = fWord.length(); onwards. :)","body":"thanks Rod but it still couldn&#39;t compile. right now it still says incompatible types required string found int but it states at the area where you typed wordCount[0] = fWord.length(); onwards. :)"},{"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"score":0,"creation_date":1403678981,"post_id":24401572,"comment_id":37746165,"body_markdown":"@alan_ogz83 editted just remove the lenght() see above","body":"@alan_ogz83 editted just remove the lenght() see above"},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403679215,"post_id":24401572,"comment_id":37746301,"body_markdown":"oh thanks so much Rod, so far for the for loop it seems a bit too complex for me to understand but i will go research about it. once again, thanks for your patience and help. ;)","body":"oh thanks so much Rod, so far for the for loop it seems a bit too complex for me to understand but i will go research about it. once again, thanks for your patience and help. ;)"},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403679397,"post_id":24401572,"comment_id":37746396,"body_markdown":"yeah mate it helps a lot. did i do the correct thing? I clicked on the up arrow as well as the tick?","body":"yeah mate it helps a lot. did i do the correct thing? I clicked on the up arrow as well as the tick?"},{"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"score":0,"creation_date":1403769660,"post_id":24401572,"comment_id":37789281,"body_markdown":"hey hi Rod, I have another question relating to this school work and was wondering if you can advise me on that? Thanks so much again! :) http://stackoverflow.com/questions/24425293/java-se-vector-array-help-please","body":"hey hi Rod, I have another question relating to this school work and was wondering if you can advise me on that? Thanks so much again! :) <a href=\"http://stackoverflow.com/questions/24425293/java-se-vector-array-help-please\" title=\"java se vector array help please\">stackoverflow.com/questions/24425293/&hellip;</a>"}],"tags":[],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1403678971,"creation_date":1403677325,"answer_id":24401572,"question_id":24401478,"body_markdown":"You need to add all the string to array and iterate all of them.\r\n\r\n\r\n**sample:**\r\n\r\n        String [] wordCount = new String[5];\r\n\r\n        wordCount[0] = fWord;\r\n        wordCount[1] = sWord;\r\n        wordCount[2] = tWord;\r\n        wordCount[3] = fhWord;\r\n        wordCount[4] = ffWord;\r\n\r\n    \tString longest = &quot;&quot;;\r\n\r\n        longest = wordCount[0]; //get the first array of words for checking\r\n\r\n    \tfor(String s : wordCount) //iterate to all the array of words\r\n    \t{\r\n    \t\tif(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\r\n    \t\t\tlongest = s; //if the current word is longer then make it the longest word\r\n    \t}\r\n        \r\n    \tSystem.out.println(&quot;Longest Word: &quot; + longest + &quot; lenght: &quot; + longest.length());\r\n\r\n**result:**\r\n\r\n    Please enter your five words\r\n    12345\r\n    1234\r\n    123\r\n    12\r\n    1\r\n    123451234123121\r\n    Longest Word: 12345 lenght: 5","title":"How to determine the longest word in a Java SE array?","body":"<p>You need to add all the string to array and iterate all of them.</p>\n\n<p><strong>sample:</strong></p>\n\n<pre><code>    String [] wordCount = new String[5];\n\n    wordCount[0] = fWord;\n    wordCount[1] = sWord;\n    wordCount[2] = tWord;\n    wordCount[3] = fhWord;\n    wordCount[4] = ffWord;\n\n    String longest = \"\";\n\n    longest = wordCount[0]; //get the first array of words for checking\n\n    for(String s : wordCount) //iterate to all the array of words\n    {\n        if(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\n            longest = s; //if the current word is longer then make it the longest word\n    }\n\n    System.out.println(\"Longest Word: \" + longest + \" lenght: \" + longest.length());\n</code></pre>\n\n<p><strong>result:</strong></p>\n\n<pre><code>Please enter your five words\n12345\n1234\n123\n12\n1\n123451234123121\nLongest Word: 12345 lenght: 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403677999,"creation_date":1403677367,"answer_id":24401581,"question_id":24401478,"body_markdown":"You need to store all words into array and get the maximum value after sort according to its length.\r\n\r\n     String[] words = ....//Store all words into this array.\r\n      \r\n     Arrays.sort(words, new Comparator&lt;String&gt;() {\r\n\r\n             @Override\r\n             public int compare(String o1, String o2) {\r\n                 return o2.length() - o1.length();\r\n             }\r\n         });\r\n\r\n     System.out.println(words[0]);\r\n\r\nor, if you use java-8 than you will get the result more easily,\r\n\r\n    String longWord=\r\n           Arrays.stream(words).max((o1, o2)-&gt;o1.length()-o2.length()).get();\r\n\r\n     ","title":"How to determine the longest word in a Java SE array?","body":"<p>You need to store all words into array and get the maximum value after sort according to its length.</p>\n\n<pre><code> String[] words = ....//Store all words into this array.\n\n Arrays.sort(words, new Comparator&lt;String&gt;() {\n\n         @Override\n         public int compare(String o1, String o2) {\n             return o2.length() - o1.length();\n         }\n     });\n\n System.out.println(words[0]);\n</code></pre>\n\n<p>or, if you use java-8 than you will get the result more easily,</p>\n\n<pre><code>String longWord=\n       Arrays.stream(words).max((o1, o2)-&gt;o1.length()-o2.length()).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403677411,"creation_date":1403677411,"answer_id":24401595,"question_id":24401478,"body_markdown":"Instead of putting lengths into an array, you should put all the words in an array and then loop them using for/while and check length of each string comparing with the previous one to record the max length string. \r\n\r\nOr another way may be to read strings using loop and you can perform same logic of comparing lengths without using additional array.","title":"How to determine the longest word in a Java SE array?","body":"<p>Instead of putting lengths into an array, you should put all the words in an array and then loop them using for/while and check length of each string comparing with the previous one to record the max length string. </p>\n\n<p>Or another way may be to read strings using loop and you can perform same logic of comparing lengths without using additional array.</p>\n"}],"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24401572,"answer_count":3,"score":0,"last_activity_date":1692736418,"creation_date":1403676963,"question_id":24401478,"body_markdown":"I need some help here with my Java school work. We were told to prompt the user for five words and from there determine the longest word of them and print to console the longest word as well as the number of characters in it.\r\n\r\nRight now, I only manage to sort them out using the arrays by displaying the longest number of characters but I&#39;m not sure how to display the word itself. I&#39;m a total beginner in programming and my progress is still just in the basics. What can I try next?\r\n\r\n\r\n        import java.util.Scanner;\r\n        import java.util.Arrays;\r\n\r\n        class LongestWord\r\n        {\r\n\tpublic static void main(String [] args)\r\n\t{\t\t\r\n\t\tScanner theInput = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please enter your five words&quot;);\r\n\t\t\r\n\t\tString fWord = theInput.next();\r\n\t\tString sWord = theInput.next();\r\n\t\tString tWord = theInput.next();\r\n\t\tString fhWord = theInput.next();\r\n\t\tString ffWord = theInput.next();\r\n\t\t\r\n\t\tSystem.out.println(fWord + sWord + tWord + fhWord + ffWord);\r\n\t\t\r\n\t\tint [] wordCount = new int[5];\r\n\t\t\r\n\t\twordCount[0] = fWord.length();\r\n\t\twordCount[1] = sWord.length();\r\n\t\twordCount[2] = tWord.length();\r\n\t\twordCount[3] = fhWord.length();\r\n\t\twordCount[4] = ffWord.length();\r\n\t\t\r\n\t\tArrays.sort(wordCount);\r\n\t\t\r\n\t\tSystem.out.println(wordCount[4]);\r\n\t\t\r\n\r\n\t}\r\n        }","title":"How to determine the longest word in a Java SE array?","body":"<p>I need some help here with my Java school work. We were told to prompt the user for five words and from there determine the longest word of them and print to console the longest word as well as the number of characters in it.</p>\n<p>Right now, I only manage to sort them out using the arrays by displaying the longest number of characters but I'm not sure how to display the word itself. I'm a total beginner in programming and my progress is still just in the basics. What can I try next?</p>\n<pre><code>    import java.util.Scanner;\n    import java.util.Arrays;\n\n    class LongestWord\n    {\npublic static void main(String [] args)\n{       \n    Scanner theInput = new Scanner(System.in);\n    System.out.println(&quot;Please enter your five words&quot;);\n    \n    String fWord = theInput.next();\n    String sWord = theInput.next();\n    String tWord = theInput.next();\n    String fhWord = theInput.next();\n    String ffWord = theInput.next();\n    \n    System.out.println(fWord + sWord + tWord + fhWord + ffWord);\n    \n    int [] wordCount = new int[5];\n    \n    wordCount[0] = fWord.length();\n    wordCount[1] = sWord.length();\n    wordCount[2] = tWord.length();\n    wordCount[3] = fhWord.length();\n    wordCount[4] = ffWord.length();\n    \n    Arrays.sort(wordCount);\n    \n    System.out.println(wordCount[4]);\n    \n\n}\n    }\n</code></pre>\n"},{"tags":["java","c++","java-native-interface","project-panama"],"answers":[{"comments":[{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":0,"creation_date":1692744838,"post_id":76956672,"comment_id":135665691,"body_markdown":"I will check this out.  Hopefully it can do a block copy of an entire scan line at a time when it gets to draw time :)","body":"I will check this out.  Hopefully it can do a block copy of an entire scan line at a time when it gets to draw time :)"},{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":0,"creation_date":1693015766,"post_id":76956672,"comment_id":135708158,"body_markdown":"So far the only way I managed to do this is by using the sun.awt.image.ByteInterleavedRaster. which is the only one one can assign an externally allocated byte[]/DataBufferByte to as a buffer and also have it efficiently do the graphics2D.draw(image). efficiently into.","body":"So far the only way I managed to do this is by using the sun.awt.image.ByteInterleavedRaster. which is the only one one can assign an externally allocated byte[]/DataBufferByte to as a buffer and also have it efficiently do the graphics2D.draw(image). efficiently into."}],"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692736047,"creation_date":1692736047,"answer_id":76956672,"question_id":76956397,"body_markdown":"The backing store for a `Raster` object is a `DataBuffer`, which is an interface you can implement yourself. If you use a `DirectByteBuffer` you can effectively share a memory region between Java and the native world.","title":"Is there an efficent way to share java Image/Raster pixel memory between Java and native code using Panama or JNI or (?)","body":"<p>The backing store for a <code>Raster</code> object is a <code>DataBuffer</code>, which is an interface you can implement yourself. If you use a <code>DirectByteBuffer</code> you can effectively share a memory region between Java and the native world.</p>\n"}],"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":1,"score":1,"last_activity_date":1692736047,"creation_date":1692732993,"question_id":76956397,"body_markdown":"I have a C++ library that does image processing on rectangular arrays of pixels.\r\nI want to pass the output C++ pixels to java so they can most effciently be &quot;drawn&quot; into a java.awt.Graphics2 instance for a canvas as an Image/Raster/(?) object( yeah not the best way but it is a legacy app ) \r\n\r\nI am looking for the best way to do this for performance, as the image can be &quot;animated&quot; and updates need to be reasonable. \r\n\r\n\r\n\r\n ","title":"Is there an efficent way to share java Image/Raster pixel memory between Java and native code using Panama or JNI or (?)","body":"<p>I have a C++ library that does image processing on rectangular arrays of pixels.\nI want to pass the output C++ pixels to java so they can most effciently be &quot;drawn&quot; into a java.awt.Graphics2 instance for a canvas as an Image/Raster/(?) object( yeah not the best way but it is a legacy app )</p>\n<p>I am looking for the best way to do this for performance, as the image can be &quot;animated&quot; and updates need to be reasonable.</p>\n"},{"tags":["java","logging","log4j","log4j2","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692735962,"creation_date":1692735962,"answer_id":76956667,"question_id":76937088,"body_markdown":"Log4j Core can mask your messages only if a library actually uses it as logging backend.\r\n\r\nJersey uses `java.util.logging` as logging API (cf. [source code](https://github.com/kleben/jersey/blob/master/core-common/src/main/java/org/glassfish/jersey/filter/LoggingFilter.java)), which is the most difficult to redirect to a non standard logging backend.\r\n\r\nIn order to do so, you need to set the `java.util.logging.manager` Java system property to a different [`LogManager`](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/LogManager.html), before any logging starts, which usually means on the command line.\r\n\r\nIn order to do it in an Apache Storm distribution you need to:\r\n * add [`log4j-jul`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jul) to the application classpath (`lib` subfolder of the distribution),\r\n * add a `storm-env.sh` file in the `conf` directory of the distribution with content:\r\n   ```lang-sh\r\n   export JAR_JVM_OPTS=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;\r\n   ```","title":"Control the logging done by a dependency in Java","body":"<p>Log4j Core can mask your messages only if a library actually uses it as logging backend.</p>\n<p>Jersey uses <code>java.util.logging</code> as logging API (cf. <a href=\"https://github.com/kleben/jersey/blob/master/core-common/src/main/java/org/glassfish/jersey/filter/LoggingFilter.java\" rel=\"nofollow noreferrer\">source code</a>), which is the most difficult to redirect to a non standard logging backend.</p>\n<p>In order to do so, you need to set the <code>java.util.logging.manager</code> Java system property to a different <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/LogManager.html\" rel=\"nofollow noreferrer\"><code>LogManager</code></a>, before any logging starts, which usually means on the command line.</p>\n<p>In order to do it in an Apache Storm distribution you need to:</p>\n<ul>\n<li>add <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jul\" rel=\"nofollow noreferrer\"><code>log4j-jul</code></a> to the application classpath (<code>lib</code> subfolder of the distribution),</li>\n<li>add a <code>storm-env.sh</code> file in the <code>conf</code> directory of the distribution with content:\n<pre class=\"lang-sh prettyprint-override\"><code>export JAR_JVM_OPTS=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":17307521,"reputation":29,"user_id":12535921,"display_name":"rohit sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692735962,"creation_date":1692480280,"question_id":76937088,"body_markdown":"I have an application based on Apache Storm 2.3. The application also have jersey dependencies such as \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.29&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThere is also 1 library dependency(let&#39;s call it A) which also inherently calls the jersey client.\r\n\r\nProblem Statement:\r\nI am able to control the logging done by my application, such as masking the sensitive token. However, the masking settings done in log4j2.xml are not getting applied to the calls made by A and the sensitive info is getting printed in logs.\r\n\r\nOn debugging, it was getting printed by LoggingFeature class in jersey-common-2.29.jar. Something like:\r\n\r\n\r\n* org.glassfish.jersey.logging.LoggingInterceptor log\r\nINFO: 1 * Sending client request on thread ...*\r\n\r\n\r\nHow can I mask the token printed by the calls made by this library.\r\n\r\nThe complete flow is:\r\n\r\nI call utility function of library A(pass the token and other info as parameter) -&gt; Library A makes the http call -&gt; token gets printed. \r\n\r\nI tried multiple masking techniques such as described here:\r\nhttps://alesaudate.medium.com/masking-sensitive-data-in-log4j-2-the-simplest-way-possible-2c2e74c17f2d or https://facingissuesonit.com/log4j2-how-to-mask-logs-personal-confidential-spi-information/.\r\n\r\nP.S -&gt; I can&#39;t change the logging library, as it might affect the current logging.","title":"Control the logging done by a dependency in Java","body":"<p>I have an application based on Apache Storm 2.3. The application also have jersey dependencies such as</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n        &lt;version&gt;2.29&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>There is also 1 library dependency(let's call it A) which also inherently calls the jersey client.</p>\n<p>Problem Statement:\nI am able to control the logging done by my application, such as masking the sensitive token. However, the masking settings done in log4j2.xml are not getting applied to the calls made by A and the sensitive info is getting printed in logs.</p>\n<p>On debugging, it was getting printed by LoggingFeature class in jersey-common-2.29.jar. Something like:</p>\n<ul>\n<li>org.glassfish.jersey.logging.LoggingInterceptor log\nINFO: 1 * Sending client request on thread ...*</li>\n</ul>\n<p>How can I mask the token printed by the calls made by this library.</p>\n<p>The complete flow is:</p>\n<p>I call utility function of library A(pass the token and other info as parameter) -&gt; Library A makes the http call -&gt; token gets printed.</p>\n<p>I tried multiple masking techniques such as described here:\n<a href=\"https://alesaudate.medium.com/masking-sensitive-data-in-log4j-2-the-simplest-way-possible-2c2e74c17f2d\" rel=\"nofollow noreferrer\">https://alesaudate.medium.com/masking-sensitive-data-in-log4j-2-the-simplest-way-possible-2c2e74c17f2d</a> or <a href=\"https://facingissuesonit.com/log4j2-how-to-mask-logs-personal-confidential-spi-information/\" rel=\"nofollow noreferrer\">https://facingissuesonit.com/log4j2-how-to-mask-logs-personal-confidential-spi-information/</a>.</p>\n<p>P.S -&gt; I can't change the logging library, as it might affect the current logging.</p>\n"},{"tags":["java","twitter","twitter-api-v2"],"answers":[{"tags":[],"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692735303,"creation_date":1692735303,"answer_id":76956613,"question_id":76955477,"body_markdown":"I found the answer by posting in a Twitter Developer support forum. The API only supports 280 max characters per tweet.","title":"Twitter (X) API returns &quot;Your Tweet text is too long&quot; for Blue Account","body":"<p>I found the answer by posting in a Twitter Developer support forum. The API only supports 280 max characters per tweet.</p>\n"}],"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692735303,"creation_date":1692724010,"question_id":76955477,"body_markdown":"I am using twitter api java client lib to post a tweet larger than 250 chars (only 2600 or so), to a Twitter (X) blue account. I get a 400 error with message &#39;Your Tweet text is too long&#39;. I am able to post the same long tweet through the web interface. Are there different limits between the api and web interface? ","title":"Twitter (X) API returns &quot;Your Tweet text is too long&quot; for Blue Account","body":"<p>I am using twitter api java client lib to post a tweet larger than 250 chars (only 2600 or so), to a Twitter (X) blue account. I get a 400 error with message 'Your Tweet text is too long'. I am able to post the same long tweet through the web interface. Are there different limits between the api and web interface?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692722405,"post_id":76955277,"comment_id":135662028,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692722996,"post_id":76955277,"comment_id":135662158,"body_markdown":"And please take the [tour] and read [ask].","body":"And please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1692724461,"post_id":76955277,"comment_id":135662469,"body_markdown":"*How* did you get to this state? You haven&#39;t included steps to reproduce and answer where you went wrong.","body":"<i>How</i> did you get to this state? You haven&#39;t included steps to reproduce and answer where you went wrong."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692727674,"post_id":76955277,"comment_id":135663128,"body_markdown":"I must be blind (or drunk): both images seems to be the same code; and both are neither `main.java` nor `second.java` - and the class named `scnd` is declared to be in `package scnd` but is not in the correct location, that is, not in folder named `scnd` (same name as the `package`) - it is actually listed (on left lower pane) as being in the `(deault package)`, aka no `package`","body":"I must be blind (or drunk): both images seems to be the same code; and both are neither <code>main.java</code> nor <code>second.java</code> - and the class named <code>scnd</code> is declared to be in <code>package scnd</code> but is not in the correct location, that is, not in folder named <code>scnd</code> (same name as the <code>package</code>) - it is actually listed (on left lower pane) as being in the <code>(deault package)</code>, aka no <code>package</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692728103,"post_id":76955277,"comment_id":135663216,"body_markdown":"BTW be warned that Eclipse often has problems finding the `main` method in a non-public class, as in posted image (:-/), if such is really needed, that is, the class not being declared `public`, you must create the Run Configuration by *hand* (or mouse: menu Run -&gt; Run Configurations...)","body":"BTW be warned that Eclipse often has problems finding the <code>main</code> method in a non-public class, as in posted image (:-/), if such is really needed, that is, the class not being declared <code>public</code>, you must create the Run Configuration by <i>hand</i> (or mouse: menu Run -&gt; Run Configurations...)"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692735560,"post_id":76955277,"comment_id":135664596,"body_markdown":"@user16320675, I believe _maina_ is _&quot;main&quot;_, and _scnd_ is _&quot;second&quot;_.","body":"@user16320675, I believe <i>maina</i> is <i>&quot;main&quot;</i>, and <i>scnd</i> is <i>&quot;second&quot;</i>."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1692785164,"post_id":76955277,"comment_id":135670544,"body_markdown":"@user16320675 you are not drunk it is the same file!","body":"@user16320675 you are not drunk it is the same file!"}],"answers":[{"tags":[],"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692724455,"creation_date":1692724455,"answer_id":76955532,"question_id":76955277,"body_markdown":"your scnd.java file are under the default package not under the scnd package so move it to the scnd package next to the maina.java file \r\n\r\nor \r\n\r\nremove the package scnd; statement from the scnd.java file\r\n\r\n\r\nnotice\r\n\r\nthe convention rule that you use camel case for your class which you did not \r\n\r\n","title":"trying to create main.java and second.java , not able to create","body":"<p>your scnd.java file are under the default package not under the scnd package so move it to the scnd package next to the maina.java file</p>\n<p>or</p>\n<p>remove the package scnd; statement from the scnd.java file</p>\n<p>notice</p>\n<p>the convention rule that you use camel case for your class which you did not</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692735293,"creation_date":1692735293,"answer_id":76956610,"question_id":76955277,"body_markdown":"&gt; _&quot;... i created a two files in same pakage ...&quot;_\r\n\r\nYou&#39;re misunderstanding the _package_.&amp;nbsp; There is only 1 file in the _scnd_ package.\r\n\r\nHere is the _Java_ tutorial on _packages_.  \r\n_[Creating and Using Packages (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Packages)](https://docs.oracle.com/javase/tutorial/java/package/packages.html)_.\r\n\r\nTo clarify, you have a project named _scnd_, a package named _scnd_, and also a file named _scnd.java_.\r\n\r\nSo, the file _scnd.java_, is within the _scnd_ project, and not the _scnd_ package.  \r\nAs you can see in your screenshot, it says _&quot;(default package)&quot;_ above _scnd.java_.\r\n\r\nYour other file, _maina.java_, is correctly within the _scnd_ package.\r\n\r\nMy suggestion would be to move the _scnd.java_ file to the _scnd_ package.  \r\nOr, you could try removing the _package scnd_ declaration from the _scnd.java_ file.","title":"trying to create main.java and second.java , not able to create","body":"<blockquote>\n<p><em>&quot;... i created a two files in same pakage ...&quot;</em></p>\n</blockquote>\n<p>You're misunderstanding the <em>package</em>. There is only 1 file in the <em>scnd</em> package.</p>\n<p>Here is the <em>Java</em> tutorial on <em>packages</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/package/packages.html\" rel=\"nofollow noreferrer\">Creating and Using Packages (The Java Tutorials &gt; Learning the Java Language &gt; Packages)</a></em>.</p>\n<p>To clarify, you have a project named <em>scnd</em>, a package named <em>scnd</em>, and also a file named <em>scnd.java</em>.</p>\n<p>So, the file <em>scnd.java</em>, is within the <em>scnd</em> project, and not the <em>scnd</em> package.<br />\nAs you can see in your screenshot, it says <em>&quot;(default package)&quot;</em> above <em>scnd.java</em>.</p>\n<p>Your other file, <em>maina.java</em>, is correctly within the <em>scnd</em> package.</p>\n<p>My suggestion would be to move the <em>scnd.java</em> file to the <em>scnd</em> package.<br />\nOr, you could try removing the <em>package scnd</em> declaration from the <em>scnd.java</em> file.</p>\n"}],"owner":{"account_id":29276988,"reputation":9,"user_id":22430531,"display_name":"rajeev shankar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1692735293,"creation_date":1692722214,"question_id":76955277,"body_markdown":"[enter image description here](https://i.stack.imgur.com/diSoc.png)\r\nmain java file is created and not able to compile them will add scond.java in other page\r\n\r\n[enter image description here](https://i.stack.imgur.com/NQQUP.png)\r\nsecond.java i tried to create , please help, please post screen shots if possible, \r\ni created a two files in same pakage , one is main.java where the variable is present and one more is second.java where the method is pulling varible to the secon file , but as shown in image no able to compile the code , please let me know where am i doing wrong.","title":"trying to create main.java and second.java , not able to create","body":"<p><a href=\"https://i.stack.imgur.com/diSoc.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nmain java file is created and not able to compile them will add scond.java in other page</p>\n<p><a href=\"https://i.stack.imgur.com/NQQUP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nsecond.java i tried to create , please help, please post screen shots if possible,\ni created a two files in same pakage , one is main.java where the variable is present and one more is second.java where the method is pulling varible to the secon file , but as shown in image no able to compile the code , please let me know where am i doing wrong.</p>\n"},{"tags":["java","derby"],"comments":[{"owner":{"account_id":4511992,"reputation":1527,"user_id":3667825,"accept_rate":70,"display_name":"Manas Pratim Chamuah"},"score":0,"creation_date":1430312593,"post_id":21186997,"comment_id":48009888,"body_markdown":"Did you resolved it?i m facing the same problem,please give some insight","body":"Did you resolved it?i m facing the same problem,please give some insight"},{"owner":{"account_id":1581224,"reputation":1369,"user_id":1466580,"accept_rate":89,"display_name":"pshemek"},"score":0,"creation_date":1430388538,"post_id":21186997,"comment_id":48049673,"body_markdown":"adding a library should resolve it. Check Meziane answer below.","body":"adding a library should resolve it. Check Meziane answer below."}],"answers":[{"tags":[],"owner":{"account_id":2305556,"reputation":1376,"user_id":2024913,"accept_rate":63,"display_name":"petur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389965017,"creation_date":1389965017,"answer_id":21187150,"question_id":21186997,"body_markdown":"Says the JDBC driver is not found. Have you included it in your library?","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>Says the JDBC driver is not found. Have you included it in your library?</p>\n"},{"comments":[{"owner":{"account_id":19493,"reputation":1392,"user_id":45745,"accept_rate":82,"display_name":"alepuzio"},"score":0,"creation_date":1389969504,"post_id":21187179,"comment_id":31902675,"body_markdown":"He can too the load a class of Derby package, for example: Class.forName(org.apache.derby.drda.NetworkServerControl.class) : if this instruction does&#39;nt exception , then the package is correctly present in the general classpat.","body":"He can too the load a class of Derby package, for example: Class.forName(org.apache.derby.drda.NetworkServerControl.cla&zwnj;&#8203;ss) : if this instruction does&#39;nt exception , then the package is correctly present in the general classpat."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692734234,"creation_date":1389965081,"answer_id":21187179,"question_id":21186997,"body_markdown":"You need a derby driver installer in the application server for this to work.  It is not enough to include it in your application itself.\r\n\r\nThe simplest way to do so for the Java distributions at the time the question was asked, as I believe Derby is included in the JDK, is to tell JBoss to use the JDK instead of the default JRE. ","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>You need a derby driver installer in the application server for this to work.  It is not enough to include it in your application itself.</p>\n<p>The simplest way to do so for the Java distributions at the time the question was asked, as I believe Derby is included in the JDK, is to tell JBoss to use the JDK instead of the default JRE.</p>\n"},{"tags":[],"owner":{"account_id":1913049,"reputation":4957,"user_id":1726308,"accept_rate":80,"display_name":"Mario Kutlev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390054983,"creation_date":1390054983,"answer_id":21205353,"question_id":21186997,"body_markdown":"You must copy derbyclient.jar in your Tomcat server&#39;s lib folder.\r\n\r\nSee [this](https://stackoverflow.com/a/8263229/1726308) answer.","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>You must copy derbyclient.jar in your Tomcat server's lib folder.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/8263229/1726308\">this</a> answer.</p>\n"},{"comments":[{"owner":{"account_id":4758278,"reputation":56,"user_id":3846425,"display_name":"Meziane"},"score":0,"creation_date":1405538056,"post_id":24788813,"comment_id":38472075,"body_markdown":"&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n    &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\n    &lt;version&gt;10.10.1.1&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;","body":"&lt;dependency&gt;     &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;     &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;     &lt;version&gt;10.10.1.1&lt;/version&gt;     &lt;type&gt;jar&lt;/type&gt; &lt;/dependency&gt;"},{"owner":{"account_id":4157818,"reputation":1427,"user_id":4233030,"accept_rate":62,"display_name":"Python_user"},"score":0,"creation_date":1698056521,"post_id":24788813,"comment_id":136352396,"body_markdown":"Note: As of derby 10.15.1.3, we also need to include derbytools.jar. See https://stackoverflow.com/questions/57216394/where-is-org-apache-derby-jdbc-clientdriver-for-version-10-15-1-3 for reference","body":"Note: As of derby 10.15.1.3, we also need to include derbytools.jar. See <a href=\"https://stackoverflow.com/questions/57216394/where-is-org-apache-derby-jdbc-clientdriver-for-version-10-15-1-3\" title=\"where is org apache derby jdbc clientdriver for version 10 15 1 3\">stackoverflow.com/questions/57216394/&hellip;</a> for reference"}],"tags":[],"owner":{"account_id":4758278,"reputation":56,"user_id":3846425,"display_name":"Meziane"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1405538418,"creation_date":1405537974,"answer_id":24788813,"question_id":21186997,"body_markdown":"You need just to use derbyclient instead of derby as artifactId:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n        &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\r\n        &lt;version&gt;10.10.1.1&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt; \r\n    &lt;/dependency&gt;\r\n\r\n......","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>You need just to use derbyclient instead of derby as artifactId:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n    &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\n    &lt;version&gt;10.10.1.1&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>......</p>\n"}],"owner":{"account_id":1581224,"reputation":1369,"user_id":1466580,"accept_rate":89,"display_name":"pshemek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24788813,"answer_count":4,"score":1,"last_activity_date":1692734234,"creation_date":1389964574,"question_id":21186997,"body_markdown":"Trying to connect to derby data base, and I get a below mentioned error:\r\n\r\n\r\n\tJan 17, 2014 2:05:36 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\r\n\tINFO: HV000001: Hibernate Validator 5.0.0.Final\r\n\t[EL Info]: 2014-01-17 14:05:36.35--ServerSession(989603483)--EclipseLink, version: Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5\r\n\t[EL Severe]: ejb: 2014-01-17 14:05:36.36--ServerSession(989603483)--Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\r\n\tException in thread &quot;main&quot; javax.persistence.PersistenceException: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:766)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:204)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:182)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:527)\r\n\t\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:140)\r\n\t\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:177)\r\n\t\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\t\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n\t\tat com.mycompany.managingpersistanceobjects.App.main(App.java:20)\r\n\tCaused by: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\r\n\t\tat org.eclipse.persistence.exceptions.DatabaseException.configurationErrorClassNotFound(DatabaseException.java:89)\r\n\t\tat org.eclipse.persistence.sessions.DefaultConnector.loadDriverClass(DefaultConnector.java:267)\r\n\t\tat org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:85)\r\n\t\tat org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\r\n\t\tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:204)\r\n\t\tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:741)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:239)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:685)\r\n\t\t... 8 more\r\n\t------------------------------------------------------------------------\r\n\tBUILD FAILURE\r\n\t------------------------------------------------------------------------\r\n\tTotal time: 1.590s\r\n\tFinished at: Fri Jan 17 14:05:36 CET 2014\r\n\tFinal Memory: 5M/121M\r\n\t------------------------------------------------------------------------\r\n\tFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) on project ManagingPersistanceObjects: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n\r\n\tTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\tRe-run Maven using the -X switch to enable full debug logging.\r\n\r\n\tFor more information about the errors and possible solutions, please read the following articles:\r\n\t[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nHere is a main class:\r\n\r\n    public class App {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tCustomer customer = new Customer(&quot;Anthony&quot;, &quot;Balla&quot;, &quot;tballa@mail.com&quot;);\r\n\t\t\tAddress address = new Address(&quot;Rirherdon RD&quot;, &quot;London&quot;, &quot;8QE&quot;, &quot;UK&quot;);\r\n\t\t\tcustomer.setAddress(address);\r\n\r\n\t\t\tEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;chapter06PU&quot;);\r\n\t\t\tEntityManager em = emf.createEntityManager();\r\n\t\t\tEntityTransaction et = em.getTransaction();\r\n\r\n\t\t\tet.begin();\r\n\t\t\tem.persist(customer);\r\n\t\t\tet.commit();\r\n\t\t\tem.close();\r\n\t\t\temf.close();\r\n\r\n\t\t}\r\n\t}\r\n\r\nHere is Persistence Unit:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n\t  &lt;persistence-unit name=&quot;chapter06PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby://localhost:1527/chapter06PU;create=true&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;app&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;app&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n\t\t&lt;/properties&gt;\r\n\t  &lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\nThe data base running:\r\n\r\n\tFri Jan 17 10:37:31 CET 2014 : Security manager installed using the Basic server\r\n\t security policy.\r\n\tFri Jan 17 10:37:31 CET 2014 : Apache Derby Network Server - 10.10.1.1 - (145826\r\n\t8) started and ready to accept connections on port 1527\r\n\r\nand I believe I have the dependency to the client in POM:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;10.10.1.1&lt;/version&gt;\r\n\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nCan you advice?\r\n\r\n\r\n","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>Trying to connect to derby data base, and I get a below mentioned error:</p>\n\n<pre><code>Jan 17, 2014 2:05:36 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\nINFO: HV000001: Hibernate Validator 5.0.0.Final\n[EL Info]: 2014-01-17 14:05:36.35--ServerSession(989603483)--EclipseLink, version: Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5\n[EL Severe]: ejb: 2014-01-17 14:05:36.36--ServerSession(989603483)--Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\nException in thread \"main\" javax.persistence.PersistenceException: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:766)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:204)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:182)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:527)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:140)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:177)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n    at com.mycompany.managingpersistanceobjects.App.main(App.java:20)\nCaused by: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\n    at org.eclipse.persistence.exceptions.DatabaseException.configurationErrorClassNotFound(DatabaseException.java:89)\n    at org.eclipse.persistence.sessions.DefaultConnector.loadDriverClass(DefaultConnector.java:267)\n    at org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:85)\n    at org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:204)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:741)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:239)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:685)\n    ... 8 more\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time: 1.590s\nFinished at: Fri Jan 17 14:05:36 CET 2014\nFinal Memory: 5M/121M\n------------------------------------------------------------------------\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) on project ManagingPersistanceObjects: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>Here is a main class:</p>\n\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        Customer customer = new Customer(\"Anthony\", \"Balla\", \"tballa@mail.com\");\n        Address address = new Address(\"Rirherdon RD\", \"London\", \"8QE\", \"UK\");\n        customer.setAddress(address);\n\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(\"chapter06PU\");\n        EntityManager em = emf.createEntityManager();\n        EntityTransaction et = em.getTransaction();\n\n        et.begin();\n        em.persist(customer);\n        et.commit();\n        em.close();\n        emf.close();\n\n    }\n}\n</code></pre>\n\n<p>Here is Persistence Unit:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n  &lt;persistence-unit name=\"chapter06PU\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;properties&gt;\n      &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:derby://localhost:1527/chapter06PU;create=true\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.password\" value=\"app\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.apache.derby.jdbc.ClientDriver\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.user\" value=\"app\"/&gt;\n      &lt;property name=\"javax.persistence.schema-generation.database.action\" value=\"drop-and-create\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>The data base running:</p>\n\n<pre><code>Fri Jan 17 10:37:31 CET 2014 : Security manager installed using the Basic server\n security policy.\nFri Jan 17 10:37:31 CET 2014 : Apache Derby Network Server - 10.10.1.1 - (145826\n8) started and ready to accept connections on port 1527\n</code></pre>\n\n<p>and I believe I have the dependency to the client in POM:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n    &lt;artifactId&gt;derby&lt;/artifactId&gt;\n    &lt;version&gt;10.10.1.1&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can you advice?</p>\n"},{"tags":["java","log4j","apache-flink","log4j2"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692741245,"post_id":76956510,"comment_id":135665335,"body_markdown":"The most likely cause is that when running on Flink, a different version of Log4J is being used (at runtime) than what you have compiled it with. You are using version 2.20.0 when compiling but for some reason when you&#39;re running it, a different version is used.","body":"The most likely cause is that when running on Flink, a different version of Log4J is being used (at runtime) than what you have compiled it with. You are using version 2.20.0 when compiling but for some reason when you&#39;re running it, a different version is used."}],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692734098,"creation_date":1692734098,"question_id":76956510,"body_markdown":"When I submit my jar to Flink for execution, I get the following error:\r\n```\r\nCaused by: java.lang.NoSuchMethodError: &#39;void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)&#39;\r\n```\r\n\r\nI checked other answers and I&#39;m using the same version of Log4j according to my `mvn dependency:tree`:\r\n```\r\n$ mvn dependency:tree | grep log4j                                                                                                                                                 \r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\r\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n```\r\n\r\nWhat could be the cause of this error and how do I fix it?\r\n\r\nPS: The code works fine when running locally. It only produces the error when submitting to Flink","title":"Java error NoSuchMethodError: PropertiesUtil.addPropertySource","body":"<p>When I submit my jar to Flink for execution, I get the following error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)'\n</code></pre>\n<p>I checked other answers and I'm using the same version of Log4j according to my <code>mvn dependency:tree</code>:</p>\n<pre><code>$ mvn dependency:tree | grep log4j                                                                                                                                                 \n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n</code></pre>\n<p>What could be the cause of this error and how do I fix it?</p>\n<p>PS: The code works fine when running locally. It only produces the error when submitting to Flink</p>\n"},{"tags":["java","spring","maven","dependencies","classnotfoundexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692736260,"post_id":76956489,"comment_id":135664704,"body_markdown":"How are you running it?","body":"How are you running it?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692741462,"post_id":76956489,"comment_id":135665353,"body_markdown":"Why are you setting the scope to `system` and specifying a `systemPath` value? The standard way is to install the jars in your local Maven repo by compiling with `mvn clean install`, and then you don&#39;t need to use `system` scope when depending on them. It probably fails because the jar files cannot be found in the right place at runtime. See [Maven Dependency Scopes](https://www.baeldung.com/maven-dependency-scopes).","body":"Why are you setting the scope to <code>system</code> and specifying a <code>systemPath</code> value? The standard way is to install the jars in your local Maven repo by compiling with <code>mvn clean install</code>, and then you don&#39;t need to use <code>system</code> scope when depending on them. It probably fails because the jar files cannot be found in the right place at runtime. See <a href=\"https://www.baeldung.com/maven-dependency-scopes\" rel=\"nofollow noreferrer\">Maven Dependency Scopes</a>."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1692741610,"post_id":76956489,"comment_id":135665368,"body_markdown":"I believe @g00se is eluding to the issue.  When you use systemPath, those jars are not packaged with your application jar.  Show us the command line that you&#39;re using to start it, you probably just need to ensure that those jars are added to the classpath.","body":"I believe @g00se is eluding to the issue.  When you use systemPath, those jars are not packaged with your application jar.  Show us the command line that you&#39;re using to start it, you probably just need to ensure that those jars are added to the classpath."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692776352,"post_id":76956489,"comment_id":135668882,"body_markdown":"Spring Boot (or rather maven) doesn&#39;t include the system scoped dependencies into your jar. This is by design as they are to be added as external dependencies (that is the point of system scoped dependencies). To include add `includeSystemScope` as property to your `spring-boot-maven-plugin` and set it to `true`. See https://stackoverflow.com/a/43822161/2696260 and https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-image-no-fork-parameters-details-includeSystemScope","body":"Spring Boot (or rather maven) doesn&#39;t include the system scoped dependencies into your jar. This is by design as they are to be added as external dependencies (that is the point of system scoped dependencies). To include add <code>includeSystemScope</code> as property to your <code>spring-boot-maven-plugin</code> and set it to <code>true</code>. See <a href=\"https://stackoverflow.com/a/43822161/2696260\">stackoverflow.com/a/43822161/2696260</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-image-no-fork-parameters-details-includeSystemScope\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"}],"owner":{"account_id":7732618,"reputation":336,"user_id":5859299,"display_name":"Austin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692776495,"answer_count":0,"score":0,"last_activity_date":1692734030,"creation_date":1692733867,"question_id":76956489,"body_markdown":"I have a SpringBoot project being build with maven. I have 2 local libraries I am using but only 1 works and I can&#39;t figure out why the other doesn&#39;t work. I have both jars included as dependencies in my pom.xml file and have verified that the jars are indeed where I expect them to be:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.runner&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;librunnermax&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/../librunnermax/build/lib/librunnermax.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.runner&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;librunnermin&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;systemPath&gt;${project.basedir}/../librunnermin/build/lib/librunnermin.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nThe relevant code in these libraries is:\r\n\r\nLibrunnermax.Max\r\n```\r\npackage com.runner.max;\r\n\r\npublic class Max {\r\n  public static final int MAX = 4;\r\n}\r\n```\r\n\r\nLibrunnermin.Min\r\n```\r\npackage com.runner.min;\r\n\r\npublic class Min {\r\n  public static final int MIN = 0;\r\n}\r\n```\r\n\r\nThe spring controller I am using is this:\r\n```\r\npackage com.runner.limits_api;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport com.runner.min.Min;\r\nimport com.runner.max.Max;\r\n\r\n@RestController\r\npublic class LimitController\r\n{\r\n\t@GetMapping(&quot;/library&quot;)\r\n\tpublic int library()\r\n\t{\r\n\t\treturn Max.MAX;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/library2&quot;)\r\n\tpublic int library2()\r\n\t{\r\n\t\treturn Min.MIN;\r\n\t}\r\n}\r\n```\r\n\r\nThis all builds sucessfully. I get a limits_api.jar file (which does not list the min/max dependencies in the text of the jar). limits_api.jar is copied to my exec/ dir and the dependencies are copied to my lib/ dir.\r\n```\r\nproject/\r\n    src/\r\n        limits_api/\r\n        librunnermax/\r\n        librunnermin/\r\n    lib/\r\n    exec/\r\n```\r\n\r\nWhen I run it, I can hit the /library endpoint and get the max value. When I hit the /library2 endpoint I get the ClassNotFoundException because Min class cannot be found. No error is thrown when I run the import statements. Why can Max be found but Min cant?","title":"Java import works, but ClassNotFoundException when calling class","body":"<p>I have a SpringBoot project being build with maven. I have 2 local libraries I am using but only 1 works and I can't figure out why the other doesn't work. I have both jars included as dependencies in my pom.xml file and have verified that the jars are indeed where I expect them to be:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.runner&lt;/groupId&gt;\n            &lt;artifactId&gt;librunnermax&lt;/artifactId&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;systemPath&gt;${project.basedir}/../librunnermax/build/lib/librunnermax.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.runner&lt;/groupId&gt;\n            &lt;artifactId&gt;librunnermin&lt;/artifactId&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;systemPath&gt;${project.basedir}/../librunnermin/build/lib/librunnermin.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>The relevant code in these libraries is:</p>\n<p>Librunnermax.Max</p>\n<pre><code>package com.runner.max;\n\npublic class Max {\n  public static final int MAX = 4;\n}\n</code></pre>\n<p>Librunnermin.Min</p>\n<pre><code>package com.runner.min;\n\npublic class Min {\n  public static final int MIN = 0;\n}\n</code></pre>\n<p>The spring controller I am using is this:</p>\n<pre><code>package com.runner.limits_api;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport com.runner.min.Min;\nimport com.runner.max.Max;\n\n@RestController\npublic class LimitController\n{\n    @GetMapping(&quot;/library&quot;)\n    public int library()\n    {\n        return Max.MAX;\n    }\n\n    @GetMapping(&quot;/library2&quot;)\n    public int library2()\n    {\n        return Min.MIN;\n    }\n}\n</code></pre>\n<p>This all builds sucessfully. I get a limits_api.jar file (which does not list the min/max dependencies in the text of the jar). limits_api.jar is copied to my exec/ dir and the dependencies are copied to my lib/ dir.</p>\n<pre><code>project/\n    src/\n        limits_api/\n        librunnermax/\n        librunnermin/\n    lib/\n    exec/\n</code></pre>\n<p>When I run it, I can hit the /library endpoint and get the max value. When I hit the /library2 endpoint I get the ClassNotFoundException because Min class cannot be found. No error is thrown when I run the import statements. Why can Max be found but Min cant?</p>\n"},{"tags":["java","eclipse","plugins","pde"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1647934047,"post_id":71567908,"comment_id":126489366,"body_markdown":"Does the customized Eclipse (an RCP) actually use the org.eclipse.ui.xxxx plugins, or is it just an &quot;e4&quot; RCP using just the core e4 APIs? For an e4 RCP you can&#39;t use any org.eclipse.ui.xxx extension points or APIs.","body":"Does the customized Eclipse (an RCP) actually use the org.eclipse.ui.xxxx plugins, or is it just an &quot;e4&quot; RCP using just the core e4 APIs? For an e4 RCP you can&#39;t use any org.eclipse.ui.xxx extension points or APIs."},{"owner":{"account_id":23631461,"reputation":21,"user_id":17663122,"display_name":"Bj&#246;rn Beuck"},"score":0,"creation_date":1647942161,"post_id":71567908,"comment_id":126492079,"body_markdown":"Hi greg-449,\n\nI can see in the RCP target plugins like org.eclipse.ui.(workbench, views, navigator, ide, forms, editors, console) in the loaded plugins. I am confused about the different behaviors between debugging (witch is working (eclipse shows some errors while starting, if I run it as target)\n\nAfter your question, I have created a simple OSGI plugin and set a breakpoint in the start(BundleContext) method. It will not hit. After that I thing it is an Eclipse plugin","body":"Hi greg-449,  I can see in the RCP target plugins like org.eclipse.ui.(workbench, views, navigator, ide, forms, editors, console) in the loaded plugins. I am confused about the different behaviors between debugging (witch is working (eclipse shows some errors while starting, if I run it as target)  After your question, I have created a simple OSGI plugin and set a breakpoint in the start(BundleContext) method. It will not hit. After that I thing it is an Eclipse plugin"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1647943731,"post_id":71567908,"comment_id":126492668,"body_markdown":"Plugins are not started until they are needed so the `start` method will not be called unless Eclipse has some reason to start the plugin. That is part of the reason the earlyStartup exists. Diagnosing problems like this is very hard in a Stack Overflow question as it needs lots of information about the setup.","body":"Plugins are not started until they are needed so the <code>start</code> method will not be called unless Eclipse has some reason to start the plugin. That is part of the reason the earlyStartup exists. Diagnosing problems like this is very hard in a Stack Overflow question as it needs lots of information about the setup."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1648285954,"post_id":71567908,"comment_id":126589613,"body_markdown":"Consider moving your solution section to a self-answer below. You can tick/check it too if you wish.","body":"Consider moving your solution section to a self-answer below. You can tick/check it too if you wish."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692733482,"creation_date":1692733482,"answer_id":76956449,"question_id":71567908,"body_markdown":"&gt; I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.\r\n\r\nCheck if Eclipse 4.29 (Q3 2023) could help:\r\n\r\n&gt; ## [Support for mixed Products](https://eclipse.dev/eclipse/news/4.29/pde.php#mixed-products)\r\n&gt;\r\n&gt; The PDE Product Editor now supports mixed products, which consist of both Plug-ins and Feature.\r\n&gt;\r\n&gt;  On the `Overview` page of the Product, just select\r\n&gt;  `The product configuration is based on: plug-ins and feature`\r\n&gt;  and you can add Plug-ins and Features to the Product in the `Contents` page of the editor.\r\n&gt; \r\n&gt;  You can launch mixed products as usual from the IDE via shortcuts in the `Overview` page.\r\n&gt;  Tycho supports building mixed products since version 3.0.0.\r\n&gt;\r\n&gt; [![https://eclipse.dev/eclipse/news/4.29/images/mixed-products.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3FfbY.png","title":"Eclipse PDE plugin is not load in target Platform, debugging works","body":"<blockquote>\n<p>I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.</p>\n</blockquote>\n<p>Check if Eclipse 4.29 (Q3 2023) could help:</p>\n<blockquote>\n<h2><a href=\"https://eclipse.dev/eclipse/news/4.29/pde.php#mixed-products\" rel=\"nofollow noreferrer\">Support for mixed Products</a></h2>\n<p>The PDE Product Editor now supports mixed products, which consist of both Plug-ins and Feature.</p>\n<p>On the <code>Overview</code> page of the Product, just select\n<code>The product configuration is based on: plug-ins and feature</code>\nand you can add Plug-ins and Features to the Product in the <code>Contents</code> page of the editor.</p>\n<p>You can launch mixed products as usual from the IDE via shortcuts in the <code>Overview</code> page.\nTycho supports building mixed products since version 3.0.0.</p>\n<p><a href=\"https://i.stack.imgur.com/3FfbY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3FfbY.png\" alt=\"https://eclipse.dev/eclipse/news/4.29/images/mixed-products.png\" /></a></p>\n</blockquote>\n"}],"owner":{"account_id":23631461,"reputation":21,"user_id":17663122,"display_name":"Bj&#246;rn Beuck"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692733482,"creation_date":1647931688,"question_id":71567908,"body_markdown":"I try to make my first plugin for Eclipse. To do it, I have defined a Target Platform and has created a small hello world Plugin. It has the Extension Point org.eclipse.ui.startup. When I run the Plugin in debug mode, the target will load and prints a message to the console. All ok.\r\n\r\nIf I export the same plugin as a &quot;Deployable plug-ins and fragments&quot; directly to the plugin directory of the target and start the target standalone, the plugin will not load. Also check in the Help menu / About / installation Details do not show the plugin.\r\n\r\nI make a retry with a standard Eclipse version, it will load the plugin. It is listed in the installation details.\r\n\r\nI don&#39;t have any idea, why it will not load in the target. \r\nThe target eclipse is customized eclipse. It works only as framework for the application. I don&#39;t know the exact wording for it. It has his own Menu items and views. The starter exe is not named eclipse.exe. It is renamed to &lt;aplication&gt;.exe also the corresponding config ini.\r\n\r\nThe ini content is:\r\n```\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.5.700.v20200207-2156.jar\r\n--launcher.library\r\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1100.v20190907-0426\r\n-data\r\n@noDefault\r\n-vmargs\r\n-Xms40m\r\n-Xmx1024m\r\n-Declipse.p2.unsignedPolicy=allow\r\n```\r\nI started the target also with the -clean option, to reload the plugin cache. No change.\r\n\r\nThe code is:\r\n\r\nplugin.xml\r\n``` \r\n&lt;plugin&gt;\r\n   &lt;extension\r\n         point=&quot;org.eclipse.ui.startup&quot;&gt;\r\n         &lt;startup class=&quot;com.ing.logging.plugin.startup&quot;/&gt;\r\n   &lt;/extension&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nstartup.java\r\n```\r\npackage com.ing.logging.plugin;\r\n\r\nimport org.eclipse.ui.IStartup;\r\n\r\npublic class startup implements IStartup {\r\n\r\n\t@Override\r\n\tpublic void earlyStartup() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;EsoRemote ESR Labs 2022&quot;);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nThe Activator class is completely generated by eclipse.\r\n\r\nHow I can make work the plugin in the target?\r\n\r\nFinal solution\r\n---\r\n\r\nAfter many tries, I found a way. I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.\r\n\r\nIn the Export wizard on &quot;Install into host. Repository&quot; the local path to the created rep. \r\n\r\nThis repository can added in the RCP application under Help / &quot;Install new software&quot;. Now the plugin can installed to the target. That its on the end.\r\n","title":"Eclipse PDE plugin is not load in target Platform, debugging works","body":"<p>I try to make my first plugin for Eclipse. To do it, I have defined a Target Platform and has created a small hello world Plugin. It has the Extension Point org.eclipse.ui.startup. When I run the Plugin in debug mode, the target will load and prints a message to the console. All ok.</p>\n<p>If I export the same plugin as a &quot;Deployable plug-ins and fragments&quot; directly to the plugin directory of the target and start the target standalone, the plugin will not load. Also check in the Help menu / About / installation Details do not show the plugin.</p>\n<p>I make a retry with a standard Eclipse version, it will load the plugin. It is listed in the installation details.</p>\n<p>I don't have any idea, why it will not load in the target.\nThe target eclipse is customized eclipse. It works only as framework for the application. I don't know the exact wording for it. It has his own Menu items and views. The starter exe is not named eclipse.exe. It is renamed to .exe also the corresponding config ini.</p>\n<p>The ini content is:</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.700.v20200207-2156.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1100.v20190907-0426\n-data\n@noDefault\n-vmargs\n-Xms40m\n-Xmx1024m\n-Declipse.p2.unsignedPolicy=allow\n</code></pre>\n<p>I started the target also with the -clean option, to reload the plugin cache. No change.</p>\n<p>The code is:</p>\n<p>plugin.xml</p>\n<pre><code>&lt;plugin&gt;\n   &lt;extension\n         point=&quot;org.eclipse.ui.startup&quot;&gt;\n         &lt;startup class=&quot;com.ing.logging.plugin.startup&quot;/&gt;\n   &lt;/extension&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>startup.java</p>\n<pre><code>package com.ing.logging.plugin;\n\nimport org.eclipse.ui.IStartup;\n\npublic class startup implements IStartup {\n\n    @Override\n    public void earlyStartup() {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;EsoRemote ESR Labs 2022&quot;);\n        \n    }\n}\n</code></pre>\n<p>The Activator class is completely generated by eclipse.</p>\n<p>How I can make work the plugin in the target?</p>\n<h2>Final solution</h2>\n<p>After many tries, I found a way. I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.</p>\n<p>In the Export wizard on &quot;Install into host. Repository&quot; the local path to the created rep.</p>\n<p>This repository can added in the RCP application under Help / &quot;Install new software&quot;. Now the plugin can installed to the target. That its on the end.</p>\n"},{"tags":["java","javafx","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":7088485,"reputation":500,"user_id":5424535,"display_name":"Chrimle"},"score":0,"creation_date":1701375913,"post_id":76956447,"comment_id":136771306,"body_markdown":"`Platform.startup(() -&gt; {})` was all that was needed in my case. For multiple test cases only requiring this setup, it is not possible to place it in `@BeforeEach`, due to `IllegalStateException: Toolkit already initialized`. Instead, place the setup in a `@BeforeAll`.","body":"<code>Platform.startup(() -&gt; {})</code> was all that was needed in my case. For multiple test cases only requiring this setup, it is not possible to place it in <code>@BeforeEach</code>, due to <code>IllegalStateException: Toolkit already initialized</code>. Instead, place the setup in a <code>@BeforeAll</code>."},{"owner":{"account_id":7088485,"reputation":500,"user_id":5424535,"display_name":"Chrimle"},"score":0,"creation_date":1701377587,"post_id":76956447,"comment_id":136771578,"body_markdown":"Turns out that this will fail in environments where a display is not available (such as CI/CD pipeline), encountering: `java.lang.UnsupportedOperationException: Unable to open DISPLAY`.","body":"Turns out that this will fail in environments where a display is not available (such as CI/CD pipeline), encountering: <code>java.lang.UnsupportedOperationException: Unable to open DISPLAY</code>."}],"tags":[],"owner":{"account_id":19442007,"reputation":36,"user_id":14220227,"display_name":"Tejumola Mann"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692733466,"creation_date":1692733466,"answer_id":76956447,"question_id":64229857,"body_markdown":"I hope my answer helps after it&#39;s been a long time since you asked this question but it can help someone out there.\r\nIt would have helped if you shared the output from your tests, error or not, but I was in your shoes a while ago. First, you need to understand how the platforms JavaFX, Mockito, and JUnit work. They are frameworks and unique in how they execute within the Java virtual machine. Any artifact that belongs to the domain of JavaFX will require JavaFX&#39;s runtime before they work the way you intend them to. This is why the main class (the class where the main method is contained) must subclass JavaFX&#39;s Application class and override its &quot;start&quot; method. When your application runs java knows to look for this method and your application runs within the domain of JavaFX, allowing all JavaFX&#39;s artifacts to execute as implemented in your code. In other words, a thread specific to JavaFX will be started and this is where your application will be executed, away from the main thread.\r\nSecond, when you run your tests with Junit you are not required to create a main class and its main method. Junit&#39;s framework does this for you behind the scenes and executes your tests. Junit is not aware of JavaFX so your tests should fail, and throw IllegalStateException because the JavaFX thread hasn&#39;t been started. Junit does not do that automatically. JavaFX&#39;s main thread needs to be started and all JavaFX code needs to run on that thread.\r\nIn my situation, I needed to test some business logic in my JavaFX application and these are the parts of the application that don&#39;t require JavaFX artifacts.  I had one of them like so\r\n\r\n    @Override\r\n        public void onVendRequest(VendRequestVendronEvent event) {\r\n            // The paying amount entered by the customer on Vendron&#39;s sale UI is passed over to the application&#39;s GUI\r\n            CardPaymentController.setPayingAmount(event.getRequiredPrice());\r\n    \r\n            // Show the GUI (there&#39;s a lag of about two to three seconds)\r\n            Platform.runLater(() -&gt; super.stage.show());\r\n            this.socketPayLogger.info(&quot;Showing GUI&quot;);\r\n    \r\n            // More code below\r\n        }\r\nWell, you see the part that calls the GUI to be displayed, that&#39;s JavaFX code. This method runs on a separate thread because I employed concurrency in my application, and when I needed to call JavaFX code (like updating GUI components) from a thread that is not the main JavaFX thread I had to wrap my statements in a Runnable, hand it over to the &quot;runLater&quot; method and it safely executes them on the JavaFX&#39;s thread. Read about it [here][1]. Testing this method as said earlier will throw an IllegalStateException when JavaFx&#39;s thread is not running. So to bring JavaFX framework into my test I had to add the line below in my tests.\r\n\r\n    Platform.startup(runnable);\r\n\r\nYou just have to simply place your tests in the runnable object and call that line in your test method. This brings over the JavaFX framework into your tests and its artifacts are executed as they should all the while Junit is not compromised in any way. You can read up about the class in the JavaFX 17 docs [here][2].\r\nHere&#39;s the test that worked for me\r\n\r\n    @Test\r\n    void testOnVendRequest(){\r\n        Runnable runnable = () -&gt; {\r\n            try {\r\n                n6DeviceConnection.createSerialConnection();\r\n                assertTrue(n6DeviceConnection.isConnected());\r\n                 Optional&lt;VendronSocketMessage&gt; optional = controller.create(&quot;External PC Plugin;Vend Request;add_on_variable=&amp;required_price=200#&quot;);\r\n    \r\n                if (optional.isPresent()){\r\n                    VendronEvent vendronEvent = vendronEventFactory.createVendronEvent(optional.get(), new Object());\r\n                    posPay.onVendRequest((VendRequestVendronEvent) vendronEvent);\r\n                }\r\n            } catch (SerialPortException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    \r\n        Platform.startup(runnable);\r\n        while (true){\r\n            if (posPay.isPaymentTransactionComplete()){\r\n                String string = posPay.getFinishedTransactionReport();\r\n                assertInstanceOf(String.class, string);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nJUnit will call the JavaFX framework allowing smooth execution of your tests. So, always remember that all JavaFx artifacts should be executed or called on the JavaFX&#39;s thread and not any other thread. Calling `Platform.startup(runnable);` will ensure JavaFX&#39;s main thread is started or make your main class the subclass of [Application][3] and if you must execute any JavaFX from a thread that&#39;s not the JavaFX thread use `Platform.runLater(Runnable runnable)`\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\r\n  [2]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html","title":"How to mock JavaFX controls with mockito?","body":"<p>I hope my answer helps after it's been a long time since you asked this question but it can help someone out there.\nIt would have helped if you shared the output from your tests, error or not, but I was in your shoes a while ago. First, you need to understand how the platforms JavaFX, Mockito, and JUnit work. They are frameworks and unique in how they execute within the Java virtual machine. Any artifact that belongs to the domain of JavaFX will require JavaFX's runtime before they work the way you intend them to. This is why the main class (the class where the main method is contained) must subclass JavaFX's Application class and override its &quot;start&quot; method. When your application runs java knows to look for this method and your application runs within the domain of JavaFX, allowing all JavaFX's artifacts to execute as implemented in your code. In other words, a thread specific to JavaFX will be started and this is where your application will be executed, away from the main thread.\nSecond, when you run your tests with Junit you are not required to create a main class and its main method. Junit's framework does this for you behind the scenes and executes your tests. Junit is not aware of JavaFX so your tests should fail, and throw IllegalStateException because the JavaFX thread hasn't been started. Junit does not do that automatically. JavaFX's main thread needs to be started and all JavaFX code needs to run on that thread.\nIn my situation, I needed to test some business logic in my JavaFX application and these are the parts of the application that don't require JavaFX artifacts.  I had one of them like so</p>\n<pre><code>@Override\n    public void onVendRequest(VendRequestVendronEvent event) {\n        // The paying amount entered by the customer on Vendron's sale UI is passed over to the application's GUI\n        CardPaymentController.setPayingAmount(event.getRequiredPrice());\n\n        // Show the GUI (there's a lag of about two to three seconds)\n        Platform.runLater(() -&gt; super.stage.show());\n        this.socketPayLogger.info(&quot;Showing GUI&quot;);\n\n        // More code below\n    }\n</code></pre>\n<p>Well, you see the part that calls the GUI to be displayed, that's JavaFX code. This method runs on a separate thread because I employed concurrency in my application, and when I needed to call JavaFX code (like updating GUI components) from a thread that is not the main JavaFX thread I had to wrap my statements in a Runnable, hand it over to the &quot;runLater&quot; method and it safely executes them on the JavaFX's thread. Read about it <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">here</a>. Testing this method as said earlier will throw an IllegalStateException when JavaFx's thread is not running. So to bring JavaFX framework into my test I had to add the line below in my tests.</p>\n<pre><code>Platform.startup(runnable);\n</code></pre>\n<p>You just have to simply place your tests in the runnable object and call that line in your test method. This brings over the JavaFX framework into your tests and its artifacts are executed as they should all the while Junit is not compromised in any way. You can read up about the class in the JavaFX 17 docs <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\" rel=\"nofollow noreferrer\">here</a>.\nHere's the test that worked for me</p>\n<pre><code>@Test\nvoid testOnVendRequest(){\n    Runnable runnable = () -&gt; {\n        try {\n            n6DeviceConnection.createSerialConnection();\n            assertTrue(n6DeviceConnection.isConnected());\n             Optional&lt;VendronSocketMessage&gt; optional = controller.create(&quot;External PC Plugin;Vend Request;add_on_variable=&amp;required_price=200#&quot;);\n\n            if (optional.isPresent()){\n                VendronEvent vendronEvent = vendronEventFactory.createVendronEvent(optional.get(), new Object());\n                posPay.onVendRequest((VendRequestVendronEvent) vendronEvent);\n            }\n        } catch (SerialPortException e) {\n            throw new RuntimeException(e);\n        }\n    };\n\n    Platform.startup(runnable);\n    while (true){\n        if (posPay.isPaymentTransactionComplete()){\n            String string = posPay.getFinishedTransactionReport();\n            assertInstanceOf(String.class, string);\n            break;\n        }\n    }\n}\n</code></pre>\n<p>JUnit will call the JavaFX framework allowing smooth execution of your tests. So, always remember that all JavaFx artifacts should be executed or called on the JavaFX's thread and not any other thread. Calling <code>Platform.startup(runnable);</code> will ensure JavaFX's main thread is started or make your main class the subclass of <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">Application</a> and if you must execute any JavaFX from a thread that's not the JavaFX thread use <code>Platform.runLater(Runnable runnable)</code></p>\n"}],"owner":{"account_id":7952120,"reputation":31,"user_id":6002671,"display_name":"Fossa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692733466,"creation_date":1602001080,"question_id":64229857,"body_markdown":"I am currently working on a simple JavaFX MVC/MVP to test if I could get any unit tests for JavaFX working. My goal is to test a JavaFX dialog or control in a unit test. To make my unit tests as independent as possible from any JavaFX calls I want to try to mock any JavaFX calls. But unfortunately I am struggling to get it working properly. I also don&#39;t want to work with TestFX because of the lack of proper documentation.\r\n\r\nUntil now I am still a bit new to unit testing in Java, but I do have experience in writing unit tests in c++ (google test/mock)\r\n\r\nSpecs:\r\n- JDK 8\r\n- Mockito 3.5.13\r\n- JUnit 4.12\r\n- Hamcrest 1.3\r\n\r\nWhat do I have until now?\r\n\r\nI have created a View class which is responsible for updating the dialog, for registering the actions for a button and for showing the dialog.\r\n```\r\npublic class View {\r\n    \r\n    private Stage stage;\r\n    private Label label;\r\n    private Button button;\r\n\r\n    public View(Stage stage, Label label, Button button) {\r\n        this.stage = stage;\r\n        this.label = label;\r\n        this.button = button;\r\n    }\r\n\r\n    public void updateLabel(int count) {\r\n        label.setText(&quot;Countdown: &quot; + count);\r\n    }\r\n\r\n    public void ShowStage() {\r\n        //button.setText(&quot;Count&quot;);\r\n        //stage.setScene(new Scene(new VBox(label, button)));\r\n        stage.show();\r\n    }\r\n\r\n    public void RegisterButtonAction(EventHandler&lt;ActionEvent&gt; value) {\r\n        button.setOnAction(value);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAdditionally I also have a Unit test for the view, in which I have three tests: \r\n- for the constructor\r\n- for updating a label\r\n- for showing the dialog\r\nFor this unit test I already have a JavaFX threading rule (see https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization), which is responsible for starting a JavaFX thread. For the button, the label and the stage I created mocks with mockito, they are injected via the constructor (fast hack for testing).\r\nAs I created mocks, I expected that the calls to JavaFX are mocked, but it seems that there is still something missing.\r\n```\r\npublic class ViewTest {\r\n    \r\n    @org.junit.Rule\r\n    public JavaFXThreadingRule rule = new JavaFXThreadingRule();\r\n    \r\n    private Stage m_stageMock;\r\n    private Label m_labelMock;\r\n    private Button m_buttonMock;\r\n    \r\n    private View m_testee;\r\n    \r\n    @Before\r\n    public void SetUp() throws InterruptedException {\r\n        m_stageMock = mock(Stage.class);\r\n        m_labelMock = mock(Label.class);\r\n        m_buttonMock = mock(Button.class);\r\n        m_testee = new View(m_stageMock, m_labelMock, m_buttonMock);\r\n    }\r\n    \r\n    @After\r\n    public void TearDown(){\r\n        m_testee = null;\r\n        m_stageMock = null;\r\n        m_labelMock = null;\r\n        m_buttonMock = null;\r\n    }\r\n    \r\n    @Test\r\n    public void Constructor_HappyPath_NoCrash() {\r\n        \r\n    }\r\n    \r\n    @Test\r\n    public void UpdateLabel_IntegerGiven_PrintNumber() {\r\n        int count = 8;\r\n        doNothing().when(m_labelMock).setText(&quot;Countdown: &quot; + count);\r\n        m_testee.updateLabel(count);\r\n    }\r\n    \r\n    @Test\r\n    public void ShowStage_HappyPath_ShowsWindowWithButtonAndLabel() {\r\n        VBox vbox = new VBox();\r\n        Scene scene = new Scene(vbox);\r\n        //doNothing().when(m_buttonMock).setText(&quot;Count&quot;);\r\n        //doNothing().when(m_stageMock).setScene(any(Scene.class));\r\n        doNothing().when(m_stageMock).show();\r\n        m_testee.ShowStage();\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nWhat additional things have I tried so far?\r\n- I tried to set mockito in such a way that it is capable to mock final function/classes.\r\n- I tried to implement a custom mock maker based on https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization.\r\n\r\nMaybe someone has a solution or an example for me, or I am just missing something small.\r\nI would be very grateful if I could get any help.\r\n\r\nAll the best\r\n\r\nFossa","title":"How to mock JavaFX controls with mockito?","body":"<p>I am currently working on a simple JavaFX MVC/MVP to test if I could get any unit tests for JavaFX working. My goal is to test a JavaFX dialog or control in a unit test. To make my unit tests as independent as possible from any JavaFX calls I want to try to mock any JavaFX calls. But unfortunately I am struggling to get it working properly. I also don't want to work with TestFX because of the lack of proper documentation.</p>\n<p>Until now I am still a bit new to unit testing in Java, but I do have experience in writing unit tests in c++ (google test/mock)</p>\n<p>Specs:</p>\n<ul>\n<li>JDK 8</li>\n<li>Mockito 3.5.13</li>\n<li>JUnit 4.12</li>\n<li>Hamcrest 1.3</li>\n</ul>\n<p>What do I have until now?</p>\n<p>I have created a View class which is responsible for updating the dialog, for registering the actions for a button and for showing the dialog.</p>\n<pre><code>public class View {\n    \n    private Stage stage;\n    private Label label;\n    private Button button;\n\n    public View(Stage stage, Label label, Button button) {\n        this.stage = stage;\n        this.label = label;\n        this.button = button;\n    }\n\n    public void updateLabel(int count) {\n        label.setText(&quot;Countdown: &quot; + count);\n    }\n\n    public void ShowStage() {\n        //button.setText(&quot;Count&quot;);\n        //stage.setScene(new Scene(new VBox(label, button)));\n        stage.show();\n    }\n\n    public void RegisterButtonAction(EventHandler&lt;ActionEvent&gt; value) {\n        button.setOnAction(value);\n    }\n    \n}\n</code></pre>\n<p>Additionally I also have a Unit test for the view, in which I have three tests:</p>\n<ul>\n<li>for the constructor</li>\n<li>for updating a label</li>\n<li>for showing the dialog\nFor this unit test I already have a JavaFX threading rule (see <a href=\"https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization\">How do you mock a JavaFX toolkit initialization?</a>), which is responsible for starting a JavaFX thread. For the button, the label and the stage I created mocks with mockito, they are injected via the constructor (fast hack for testing).\nAs I created mocks, I expected that the calls to JavaFX are mocked, but it seems that there is still something missing.</li>\n</ul>\n<pre><code>public class ViewTest {\n    \n    @org.junit.Rule\n    public JavaFXThreadingRule rule = new JavaFXThreadingRule();\n    \n    private Stage m_stageMock;\n    private Label m_labelMock;\n    private Button m_buttonMock;\n    \n    private View m_testee;\n    \n    @Before\n    public void SetUp() throws InterruptedException {\n        m_stageMock = mock(Stage.class);\n        m_labelMock = mock(Label.class);\n        m_buttonMock = mock(Button.class);\n        m_testee = new View(m_stageMock, m_labelMock, m_buttonMock);\n    }\n    \n    @After\n    public void TearDown(){\n        m_testee = null;\n        m_stageMock = null;\n        m_labelMock = null;\n        m_buttonMock = null;\n    }\n    \n    @Test\n    public void Constructor_HappyPath_NoCrash() {\n        \n    }\n    \n    @Test\n    public void UpdateLabel_IntegerGiven_PrintNumber() {\n        int count = 8;\n        doNothing().when(m_labelMock).setText(&quot;Countdown: &quot; + count);\n        m_testee.updateLabel(count);\n    }\n    \n    @Test\n    public void ShowStage_HappyPath_ShowsWindowWithButtonAndLabel() {\n        VBox vbox = new VBox();\n        Scene scene = new Scene(vbox);\n        //doNothing().when(m_buttonMock).setText(&quot;Count&quot;);\n        //doNothing().when(m_stageMock).setScene(any(Scene.class));\n        doNothing().when(m_stageMock).show();\n        m_testee.ShowStage();\n    }\n    \n}\n\n</code></pre>\n<p>What additional things have I tried so far?</p>\n<ul>\n<li>I tried to set mockito in such a way that it is capable to mock final function/classes.</li>\n<li>I tried to implement a custom mock maker based on <a href=\"https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization\">How do you mock a JavaFX toolkit initialization?</a>.</li>\n</ul>\n<p>Maybe someone has a solution or an example for me, or I am just missing something small.\nI would be very grateful if I could get any help.</p>\n<p>All the best</p>\n<p>Fossa</p>\n"},{"tags":["java","eclipse","jface"],"answers":[{"comments":[{"owner":{"account_id":40190,"reputation":18652,"user_id":116388,"accept_rate":96,"display_name":"Manuel Selva"},"score":0,"creation_date":1244532893,"post_id":968656,"comment_id":777017,"body_markdown":"Just what I was looking for (bad googling for me ;o) )\n\nThanks.\n\nManu","body":"Just what I was looking for (bad googling for me ;o) )  Thanks.  Manu"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1244533341,"post_id":968656,"comment_id":777045,"body_markdown":"@Manuel: You are welcome. I am learning about wizards thanks to you ;)","body":"@Manuel: You are welcome. I am learning about wizards thanks to you ;)"}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1692733309,"creation_date":1244532622,"answer_id":968656,"question_id":968534,"body_markdown":"This [thread][1] suggests:\r\n\r\n&gt; In your wizard page, use the inherited `setVisible()` method that is called automatically before your page is shown :\r\n\r\n\r\n    public void setVisible(boolean visible) {\r\n       super.setVisible(visible);\r\n       // Set the initial field focus\r\n       if (visible) {\r\n          field.postSetFocusOnDialogField(getShell().getDisplay());\r\n       }\r\n    }\r\n\r\nThe postSetFocusOnDialogField method contains :\r\n\r\n\t/**\r\n\t * Posts &lt;code&gt;setFocus&lt;/code&gt; to the display event queue.\r\n\t */\r\n\tpublic void postSetFocusOnDialogField(Display display) {\r\n\t\tif (display != null) {\r\n\t\t\tdisplay.asyncExec(\r\n\t\t\t\tnew Runnable() {\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tsetFocus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\r\n----\r\n\r\nNote that with [Eclipse 4.29 (Q3 2023)](https://eclipse.dev/eclipse/news/4.29/platform_isv.php#setfocus-no-longer-activates-shell)\r\n\r\n&gt; ## Control.setFocus() no longer activates its Shell\r\n&gt; \r\n&gt; Previously calling Control.setFocus() also activated its\r\n&gt;  Shell. This behavior was never documented and was never\r\n&gt;  explained why it existed. But it caused problems: setting focus\r\n&gt;  to a control in a background Shell caused the Shell to jump on user.\r\n&gt; \r\n&gt;  Now setting focus just sets focus, even if the Shell is in the background.\r\n&gt;  To also bring Shell to front, explicitly call `Shell.setActive()`.\r\n&gt; \r\n&gt;  This change can be disabled using a Java property.  \r\n&gt;  For Example, add this VM argument in `eclipse.ini` or on\r\n&gt;  the command line after `-vmargs:`\r\n&gt;\r\n&gt;       -Dorg.eclipse.swt.internal.activateShellOnForceFocus=true\r\n&gt;\r\n&gt;  Note: this property is only added temporarily and will be removed later.\r\n&gt; \r\n&gt;  See [SWT Issue 450](https://github.com/eclipse-platform/eclipse.platform.swt/issues/450)\r\n\r\n\r\n  [1]: http://dev.eclipse.org/newslists/news.eclipse.platform.rcp/msg14855.html","title":"Eclipse JFace&#39;s Wizards (Again ...)","body":"<p>This <a href=\"http://dev.eclipse.org/newslists/news.eclipse.platform.rcp/msg14855.html\" rel=\"nofollow noreferrer\">thread</a> suggests:</p>\n<blockquote>\n<p>In your wizard page, use the inherited <code>setVisible()</code> method that is called automatically before your page is shown :</p>\n</blockquote>\n<pre><code>public void setVisible(boolean visible) {\n   super.setVisible(visible);\n   // Set the initial field focus\n   if (visible) {\n      field.postSetFocusOnDialogField(getShell().getDisplay());\n   }\n}\n</code></pre>\n<p>The postSetFocusOnDialogField method contains :</p>\n<pre><code>/**\n * Posts &lt;code&gt;setFocus&lt;/code&gt; to the display event queue.\n */\npublic void postSetFocusOnDialogField(Display display) {\n    if (display != null) {\n        display.asyncExec(\n            new Runnable() {\n                public void run() {\n                    setFocus();\n                }\n            }\n        );\n    }\n}\n</code></pre>\n<hr />\n<p>Note that with <a href=\"https://eclipse.dev/eclipse/news/4.29/platform_isv.php#setfocus-no-longer-activates-shell\" rel=\"nofollow noreferrer\">Eclipse 4.29 (Q3 2023)</a></p>\n<blockquote>\n<h2>Control.setFocus() no longer activates its Shell</h2>\n<p>Previously calling Control.setFocus() also activated its\nShell. This behavior was never documented and was never\nexplained why it existed. But it caused problems: setting focus\nto a control in a background Shell caused the Shell to jump on user.</p>\n<p>Now setting focus just sets focus, even if the Shell is in the background.\nTo also bring Shell to front, explicitly call <code>Shell.setActive()</code>.</p>\n<p>This change can be disabled using a Java property.<br />\nFor Example, add this VM argument in <code>eclipse.ini</code> or on\nthe command line after <code>-vmargs:</code></p>\n<pre><code>  -Dorg.eclipse.swt.internal.activateShellOnForceFocus=true\n</code></pre>\n<p>Note: this property is only added temporarily and will be removed later.</p>\n<p>See <a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/issues/450\" rel=\"nofollow noreferrer\">SWT Issue 450</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299170182,"creation_date":1299170182,"answer_id":5183637,"question_id":968534,"body_markdown":"VonC&#39;s answer works great, I personally found it to be a little easier to work with like this though:\r\n\r\n\t@Override\r\n\tpublic void setVisible(boolean visible) {\r\n\t\tsuper.setVisible(visible);\r\n\t\tif (visible) {\r\n\t\t\tControl control = getControl();\r\n\t\t\tif (!control.setFocus()) {\r\n\t\t\t\tpostSetFocus(control);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void postSetFocus(final Control control) {\r\n\t\tDisplay display = control.getDisplay();\r\n\t\tif (display != null) {\r\n\t\t\tdisplay.asyncExec(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tcontrol.setFocus();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}","title":"Eclipse JFace&#39;s Wizards (Again ...)","body":"<p>VonC's answer works great, I personally found it to be a little easier to work with like this though:</p>\n\n<pre><code>@Override\npublic void setVisible(boolean visible) {\n    super.setVisible(visible);\n    if (visible) {\n        Control control = getControl();\n        if (!control.setFocus()) {\n            postSetFocus(control);\n        }\n    }\n}\n\nprivate void postSetFocus(final Control control) {\n    Display display = control.getDisplay();\n    if (display != null) {\n        display.asyncExec(new Runnable() {\n            @Override\n            public void run() {\n                control.setFocus();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":40190,"reputation":18652,"user_id":116388,"accept_rate":96,"display_name":"Manuel Selva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":968656,"answer_count":2,"score":4,"last_activity_date":1692733309,"creation_date":1244530292,"question_id":968534,"body_markdown":"Now that I [am able to set the content of my second wizard&#39;s page depending][1] on the first page selection, I am looking for a way to give the focus to my 2nd page&#39;s content when the user clicks the next button on the first page.\r\n\r\nBy default, when the user click the next button, the focus is given to the button composite (next, back or finish button depending on the wizard configuration)\r\n\r\nThe only way I found to give focus to my page&#39;s content is the following one:\r\n\r\n    public class FilterWizardDialog extends WizardDialog {\r\n    \r\n        public FilterWizardDialog(Shell parentShell, IWizard newWizard) {\r\n            super(parentShell, newWizard);\r\n        }\r\n    \r\n        @Override\r\n        protected void nextPressed() {\r\n            super.nextPressed();\r\n            getContents().setFocus();\r\n        }\r\n    }\r\n\r\nTo me it&#39;s a little bit &quot;boring and heavy&quot; to have to override the WizardDialog class in order to implement this behavior. More over, the WizardDialog javadoc says: \r\n\r\n&gt; Clients may subclass &lt;code&gt;WizardDialog&lt;/code&gt;, although this is rarely required.\r\n\r\n\r\nWhat do you think about this solution ? Is there any easier and cleaner solution to do that job ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/954443/eclipse-jfaces-wizards","title":"Eclipse JFace&#39;s Wizards (Again ...)","body":"<p>Now that I <a href=\"https://stackoverflow.com/questions/954443/eclipse-jfaces-wizards\">am able to set the content of my second wizard's page depending</a> on the first page selection, I am looking for a way to give the focus to my 2nd page's content when the user clicks the next button on the first page.</p>\n\n<p>By default, when the user click the next button, the focus is given to the button composite (next, back or finish button depending on the wizard configuration)</p>\n\n<p>The only way I found to give focus to my page's content is the following one:</p>\n\n<pre><code>public class FilterWizardDialog extends WizardDialog {\n\n    public FilterWizardDialog(Shell parentShell, IWizard newWizard) {\n        super(parentShell, newWizard);\n    }\n\n    @Override\n    protected void nextPressed() {\n        super.nextPressed();\n        getContents().setFocus();\n    }\n}\n</code></pre>\n\n<p>To me it's a little bit \"boring and heavy\" to have to override the WizardDialog class in order to implement this behavior. More over, the WizardDialog javadoc says: </p>\n\n<blockquote>\n  <p>Clients may subclass <code>WizardDialog</code>, although this is rarely required.</p>\n</blockquote>\n\n<p>What do you think about this solution ? Is there any easier and cleaner solution to do that job ?</p>\n"},{"tags":["java","java-native-interface","cocos2d-x"],"answers":[{"comments":[{"owner":{"account_id":1313553,"reputation":61,"user_id":1261010,"accept_rate":20,"display_name":"Himansh Kathuria"},"score":0,"creation_date":1403491891,"post_id":24357248,"comment_id":37663117,"body_markdown":"Thanks for your reply.I am trying to call a non-static function in a Java class from C++ class through JNI.Please suggest an alternative solution.Thanks.","body":"Thanks for your reply.I am trying to call a non-static function in a Java class from C++ class through JNI.Please suggest an alternative solution.Thanks."},{"owner":{"account_id":292893,"reputation":441,"user_id":595926,"accept_rate":100,"display_name":"sfridman"},"score":0,"creation_date":1403495451,"post_id":24357248,"comment_id":37663876,"body_markdown":"Well, you succeeded in calling a non-static Java function from C++. That&#39;s not the problem. The problem is that you are not interacting with the Android framework correctly. But there&#39;s no way to suggest a better way without knowing - at a higher level - what it is you&#39;re trying to accomplish","body":"Well, you succeeded in calling a non-static Java function from C++. That&#39;s not the problem. The problem is that you are not interacting with the Android framework correctly. But there&#39;s no way to suggest a better way without knowing - at a higher level - what it is you&#39;re trying to accomplish"},{"owner":{"account_id":1313553,"reputation":61,"user_id":1261010,"accept_rate":20,"display_name":"Himansh Kathuria"},"score":0,"creation_date":1403502226,"post_id":24357248,"comment_id":37665729,"body_markdown":"I am trying to post user&#39;s score on facebook in cocos2d-x.I am using Hellofacebook android sample provided by facebook.Now if I make the onClickPostStatusUpdate method static then I would have to make all methods in the sample STATIC because they are linked with each other.Also, it shows some other error on the keyword &quot;this&quot; and getString.Please help.Thanks","body":"I am trying to post user&#39;s score on facebook in cocos2d-x.I am using Hellofacebook android sample provided by facebook.Now if I make the onClickPostStatusUpdate method static then I would have to make all methods in the sample STATIC because they are linked with each other.Also, it shows some other error on the keyword &quot;this&quot; and getString.Please help.Thanks"},{"owner":{"account_id":292893,"reputation":441,"user_id":595926,"accept_rate":100,"display_name":"sfridman"},"score":0,"creation_date":1403571751,"post_id":24357248,"comment_id":37698815,"body_markdown":"Seems like what you want to do is call a Java API from C++. It looks like the HelloFacebook sample app isn&#39;t quite designed for that. You won&#39;t be able to reuse the code as is and will have to write something on your own. You can either call the Facebook API directly in C++ or implement your own `onClickPostStatusUpdate` etc methods and call *those* from C++ (probably implemented as static methods)","body":"Seems like what you want to do is call a Java API from C++. It looks like the HelloFacebook sample app isn&#39;t quite designed for that. You won&#39;t be able to reuse the code as is and will have to write something on your own. You can either call the Facebook API directly in C++ or implement your own <code>onClickPostStatusUpdate</code> etc methods and call <i>those</i> from C++ (probably implemented as static methods)"},{"owner":{"account_id":1313553,"reputation":61,"user_id":1261010,"accept_rate":20,"display_name":"Himansh Kathuria"},"score":0,"creation_date":1403587530,"post_id":24357248,"comment_id":37702477,"body_markdown":"I have done it by making all java required methods static.Thanks for your help.","body":"I have done it by making all java required methods static.Thanks for your help."}],"tags":[],"owner":{"account_id":292893,"reputation":441,"user_id":595926,"accept_rate":100,"display_name":"sfridman"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1403485775,"creation_date":1403485775,"answer_id":24357248,"question_id":24352392,"body_markdown":"The line:\r\n\r\n    jobject object = env-&gt;NewObject(mClass, constructor);\r\n\r\nattempts to instantiate an Activity. In general, you aren&#39;t supposed to instantiate Activities by hand, but are meant to create them using designated Android APIs, e.g. `Context.startActivity`.\r\n\r\nBy circumventing the API, you&#39;ve gotten yourself in a situation where you create an Activity in a thread which does not support the creation of an Activity.\r\n\r\nThat&#39;s the cause of the error. But also: you probably want to rethink the code as a whole. Not sure what you&#39;re trying to do, but it doesn&#39;t seem like the pattern you&#39;re using is the right one.","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>The line:</p>\n\n<pre><code>jobject object = env-&gt;NewObject(mClass, constructor);\n</code></pre>\n\n<p>attempts to instantiate an Activity. In general, you aren't supposed to instantiate Activities by hand, but are meant to create them using designated Android APIs, e.g. <code>Context.startActivity</code>.</p>\n\n<p>By circumventing the API, you've gotten yourself in a situation where you create an Activity in a thread which does not support the creation of an Activity.</p>\n\n<p>That's the cause of the error. But also: you probably want to rethink the code as a whole. Not sure what you're trying to do, but it doesn't seem like the pattern you're using is the right one.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692876457,"post_id":76956361,"comment_id":135684954,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76956361/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27805916,"reputation":1,"user_id":21229330,"display_name":"KsaNL"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692732665,"creation_date":1692732665,"answer_id":76956361,"question_id":24352392,"body_markdown":"I&#39;m coding native project and found this as well, I think it&#39;s interface missing","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>I'm coding native project and found this as well, I think it's interface missing</p>\n"}],"owner":{"account_id":1313553,"reputation":61,"user_id":1261010,"accept_rate":20,"display_name":"Himansh Kathuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24357248,"answer_count":2,"score":0,"last_activity_date":1692732665,"creation_date":1403448507,"question_id":24352392,"body_markdown":"I am getting an exception when I am trying to call a non-static method in a java class from JNI.The exception I am getting is:\r\n\r\nCan&#39;t create handler inside thread that has not called Looper.prepare()\r\n\r\nHere is my JNI calling code:\r\n    \r\n    jclass mClass = env-&gt;FindClass(&quot;com/secrethq/match3/Match3Activity&quot;);\r\n\r\n    jmethodID constructor = env-&gt;GetMethodID( mClass, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n\tCCLog(&quot;jClass Located?&quot;);\r\n\r\n    jobject object = env-&gt;NewObject(mClass, constructor);\r\n    mid = env-&gt;GetMethodID(mClass, &quot;onClickPostStatusUpdate&quot;, &quot;(I)V&quot;);\r\n\r\n    \r\n\tCCLog(&quot;mID: %d&quot;, mid);\r\n\r\n\tif (mid!=0)\r\n    env-&gt;CallVoidMethod(mClass, mid, object, score);\r\n\t\t\t//-----------------------------------------------------------\r\n\tCCLog(&quot;Finish&quot;);\r\n\tif(isAttached)\r\n\t\tjvm-&gt;DetachCurrentThread();\r\n\r\n\r\nand this is my method in java class:\r\n    \r\n    private void onClickPostStatusUpdate(int score) {\r\n    \tSystem.out.println(&quot;Match3Activity.onClickPostStatusUpdate()&quot;);\r\n        performPublish(PendingAction.POST_STATUS_UPDATE, canPresentShareDialog);\r\n    }\r\n\r\n\r\n\r\nHere is the Logcat output:\r\n\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.os.Handler.&lt;init&gt;(Handler.java:121)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.app.Activity.&lt;init&gt;(Activity.java:772)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat org.cocos2dx.lib.Cocos2dxActivity.&lt;init&gt;(Cocos2dxActivity.java:37)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat com.secrethq.match3.Match3Activity.&lt;init&gt;(Match3Activity.java:45)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat org.cocos2dx.lib.Cocos2dxRenderer.nativeTouchesEnd(Native Method)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat    org.cocos2dx.lib.Cocos2dxRenderer.handleActionUp(Cocos2dxRenderer.java:129)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat     org.cocos2dx.lib.Cocos2dxGLSurfaceView$9.run(Cocos2dxGLSurfaceView.java:258)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1462) \r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)\r\n","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>I am getting an exception when I am trying to call a non-static method in a java class from JNI.The exception I am getting is:</p>\n\n<p>Can't create handler inside thread that has not called Looper.prepare()</p>\n\n<p>Here is my JNI calling code:</p>\n\n<pre><code>jclass mClass = env-&gt;FindClass(\"com/secrethq/match3/Match3Activity\");\n\njmethodID constructor = env-&gt;GetMethodID( mClass, \"&lt;init&gt;\", \"()V\");\nCCLog(\"jClass Located?\");\n\njobject object = env-&gt;NewObject(mClass, constructor);\nmid = env-&gt;GetMethodID(mClass, \"onClickPostStatusUpdate\", \"(I)V\");\n\n\nCCLog(\"mID: %d\", mid);\n\nif (mid!=0)\nenv-&gt;CallVoidMethod(mClass, mid, object, score);\n        //-----------------------------------------------------------\nCCLog(\"Finish\");\nif(isAttached)\n    jvm-&gt;DetachCurrentThread();\n</code></pre>\n\n<p>and this is my method in java class:</p>\n\n<pre><code>private void onClickPostStatusUpdate(int score) {\n    System.out.println(\"Match3Activity.onClickPostStatusUpdate()\");\n    performPublish(PendingAction.POST_STATUS_UPDATE, canPresentShareDialog);\n}\n</code></pre>\n\n<p>Here is the Logcat output:</p>\n\n<pre><code>06-22 20:20:39.342: E/AndroidRuntime(14899): java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.os.Handler.&lt;init&gt;(Handler.java:121)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.app.Activity.&lt;init&gt;(Activity.java:772)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at org.cocos2dx.lib.Cocos2dxActivity.&lt;init&gt;(Cocos2dxActivity.java:37)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at com.secrethq.match3.Match3Activity.&lt;init&gt;(Match3Activity.java:45)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at org.cocos2dx.lib.Cocos2dxRenderer.nativeTouchesEnd(Native Method)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at    org.cocos2dx.lib.Cocos2dxRenderer.handleActionUp(Cocos2dxRenderer.java:129)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at     org.cocos2dx.lib.Cocos2dxGLSurfaceView$9.run(Cocos2dxGLSurfaceView.java:258)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1462) \n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)\n</code></pre>\n"},{"tags":["java","css","javafx","hover","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692722025,"post_id":76954424,"comment_id":135661942,"body_markdown":"Your logic for changing a scene does not change a scene, it just creates a new scene and does not set it on a stage.  If you want debugging help, you should provide a [mcve].","body":"Your logic for changing a scene does not change a scene, it just creates a new scene and does not set it on a stage.  If you want debugging help, you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692729601,"post_id":76954424,"comment_id":135663545,"body_markdown":"FontAwesome hasn&#39;t been updated in five years.  You are probably better off using a maintained modern alternative such as Ikonli.","body":"FontAwesome hasn&#39;t been updated in five years.  You are probably better off using a maintained modern alternative such as Ikonli."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692732525,"creation_date":1692732525,"answer_id":76956348,"question_id":76954424,"body_markdown":"I can&#39;t reproduce this (JavaFX 20.0.2).\r\n\r\n`fx-fill` is not an inherited style.  You can&#39;t set it on a parent and expect it to apply to the descendants of the parent. (This statement is just a FYI, you aren&#39;t doing that in your question).\r\n\r\nLooking at the font awesome code (because I don&#39;t know where the documentation for it is), the `FontAwesomeIconView` is a child of `Text`, so `-fx-fill` can apply to it.  The font awesome code also sets a style class on the icons of `glyph-icon`.  Also, `:hover` is a generic psuedoclass that can apply to any node.\r\n\r\nIf you want to set the color on hover of all of the font awesome icons in a container you can use this:\r\n\r\n    .container .glyph-icon:hover {\r\n        -fx-fill: red;\r\n    }\r\n\r\nTo have different hover colors for individual glyphs, then you can instead set it on the individual glyphs, using `!important` to override previous fill styling if necessary.\r\n\r\n    .gear-icon:hover {\r\n        -fx-fill: green !important;\r\n    }\r\n\r\n\r\nExample output on hovering over some icons using a [modified version of the code from this answer][1].\r\n\r\n[![hover][2]][2] [![gear][3]][3]\r\n\r\n*fonts.css*\r\n\r\n    .container .glyph-icon:hover {\r\n        -fx-fill: red;\r\n    }\r\n    \r\n    .gear-icon:hover {\r\n        -fx-fill: green !important;\r\n    }\r\n\r\n*fonts.fxml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    \r\n    &lt;HBox styleClass=&quot;container&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;MUSIC&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;GEAR&quot; size=&quot;1.5em&quot; styleClass=&quot;gear-icon&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;FILE&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;DASHBOARD&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;HEART&quot; size=&quot;1.5em&quot; /&gt;\r\n        &lt;/children&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n        &lt;/padding&gt;\r\n    &lt;/HBox&gt;\r\n\r\n*FontApplication.java*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class FontApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(FontApplication.class.getResource(&quot;fonts.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            scene.getStylesheets().add(Objects.requireNonNull(FontApplication.class.getResource(&quot;fonts.css&quot;)).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71322228/javafx-project-error-caused-by-com-sun-javafx-fxml-propertynotfoundexception/71328527#71328527\r\n  [2]: https://i.stack.imgur.com/FZrOb.png\r\n  [3]: https://i.stack.imgur.com/xPpok.png","title":":hover not working JavaFX CSS for FontAwesomeIconView","body":"<p>I can't reproduce this (JavaFX 20.0.2).</p>\n<p><code>fx-fill</code> is not an inherited style.  You can't set it on a parent and expect it to apply to the descendants of the parent. (This statement is just a FYI, you aren't doing that in your question).</p>\n<p>Looking at the font awesome code (because I don't know where the documentation for it is), the <code>FontAwesomeIconView</code> is a child of <code>Text</code>, so <code>-fx-fill</code> can apply to it.  The font awesome code also sets a style class on the icons of <code>glyph-icon</code>.  Also, <code>:hover</code> is a generic psuedoclass that can apply to any node.</p>\n<p>If you want to set the color on hover of all of the font awesome icons in a container you can use this:</p>\n<pre><code>.container .glyph-icon:hover {\n    -fx-fill: red;\n}\n</code></pre>\n<p>To have different hover colors for individual glyphs, then you can instead set it on the individual glyphs, using <code>!important</code> to override previous fill styling if necessary.</p>\n<pre><code>.gear-icon:hover {\n    -fx-fill: green !important;\n}\n</code></pre>\n<p>Example output on hovering over some icons using a <a href=\"https://stackoverflow.com/questions/71322228/javafx-project-error-caused-by-com-sun-javafx-fxml-propertynotfoundexception/71328527#71328527\">modified version of the code from this answer</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/FZrOb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FZrOb.png\" alt=\"hover\" /></a> <a href=\"https://i.stack.imgur.com/xPpok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPpok.png\" alt=\"gear\" /></a></p>\n<p><em>fonts.css</em></p>\n<pre><code>.container .glyph-icon:hover {\n    -fx-fill: red;\n}\n\n.gear-icon:hover {\n    -fx-fill: green !important;\n}\n</code></pre>\n<p><em>fonts.fxml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n\n&lt;HBox styleClass=&quot;container&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;children&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;MUSIC&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;GEAR&quot; size=&quot;1.5em&quot; styleClass=&quot;gear-icon&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;FILE&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;DASHBOARD&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;HEART&quot; size=&quot;1.5em&quot; /&gt;\n    &lt;/children&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n    &lt;/padding&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p><em>FontApplication.java</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class FontApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(FontApplication.class.getResource(&quot;fonts.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        scene.getStylesheets().add(Objects.requireNonNull(FontApplication.class.getResource(&quot;fonts.css&quot;)).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18684477,"reputation":93,"user_id":13620315,"display_name":"Tymo Tymo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692732525,"creation_date":1692715350,"question_id":76954424,"body_markdown":"I&#39;ve got a problem where the :hover CSS option is not working properly.\r\nThis is the CSS:\r\n```\r\n.body:hover {\r\n    -fx-background-color: #b8fffd;\r\n}\r\n\r\n.exitIcon:hover {\r\n    -fx-fill: gray;\r\n}\r\n```\r\nThe body hover works fine but .exitIcon does not.\r\nIn case I misspelled the className I also tried to use the FontAwesomeIconView selector but it still didn&#39;t work. \r\n\r\nHere is the FXML code:\r\n```\r\n&lt;AnchorPane prefHeight=&quot;800.0&quot; prefWidth=&quot;1000.0&quot; styleClass=&quot;body&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.main.captainscompass.controllers.LightSignalsController&quot;&gt;\r\n   &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;200.0&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;FontAwesomeIconView glyphName=&quot;ARROW_LEFT&quot; size=&quot;50&quot; styleClass=&quot;exitIcon&quot;&gt;\r\n         &lt;cursor&gt;\r\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\r\n         &lt;/cursor&gt;\r\n      &lt;/FontAwesomeIconView&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;Label text=&quot;Light Signals Quiz&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;30.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alig`nment=&quot;CENTER_RIGHT&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;Image url=&quot;@assets/sailboaticon.png&quot; /&gt;\r\n      &lt;/ImageView&gt;\r\n   &lt;/HBox&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n\r\nSo I definitely didn&#39;t misspell the class name nor the file name since .body is actually working.\r\nAnd if I remove &quot;:hover&quot; the style is applied as expected.\r\nI really don&#39;t have a clue what&#39;s going on here as for every single other usage of :hover it works.\r\n\r\nNOTE: This is not my main scene. I changed it using this logic: \r\n\r\n    FXMLLoader loader = new FXMLLoader(App.class.getResource(LIGHT_SIGNALS_FXML));\r\n            stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n            Scene scene = new Scene(loader.load(), 1000, 800);\r\n\r\nAnd in this scene NO events work not even something like onKeyPressed. But I still don&#39;t know what caused it.","title":":hover not working JavaFX CSS for FontAwesomeIconView","body":"<p>I've got a problem where the :hover CSS option is not working properly.\nThis is the CSS:</p>\n<pre><code>.body:hover {\n    -fx-background-color: #b8fffd;\n}\n\n.exitIcon:hover {\n    -fx-fill: gray;\n}\n</code></pre>\n<p>The body hover works fine but .exitIcon does not.\nIn case I misspelled the className I also tried to use the FontAwesomeIconView selector but it still didn't work.</p>\n<p>Here is the FXML code:</p>\n<pre><code>&lt;AnchorPane prefHeight=&quot;800.0&quot; prefWidth=&quot;1000.0&quot; styleClass=&quot;body&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.main.captainscompass.controllers.LightSignalsController&quot;&gt;\n   &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;200.0&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;FontAwesomeIconView glyphName=&quot;ARROW_LEFT&quot; size=&quot;50&quot; styleClass=&quot;exitIcon&quot;&gt;\n         &lt;cursor&gt;\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\n         &lt;/cursor&gt;\n      &lt;/FontAwesomeIconView&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;Label text=&quot;Light Signals Quiz&quot; textAlignment=&quot;CENTER&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;30.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alig`nment=&quot;CENTER_RIGHT&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;Image url=&quot;@assets/sailboaticon.png&quot; /&gt;\n      &lt;/ImageView&gt;\n   &lt;/HBox&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>So I definitely didn't misspell the class name nor the file name since .body is actually working.\nAnd if I remove &quot;:hover&quot; the style is applied as expected.\nI really don't have a clue what's going on here as for every single other usage of :hover it works.</p>\n<p>NOTE: This is not my main scene. I changed it using this logic:</p>\n<pre><code>FXMLLoader loader = new FXMLLoader(App.class.getResource(LIGHT_SIGNALS_FXML));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        Scene scene = new Scene(loader.load(), 1000, 800);\n</code></pre>\n<p>And in this scene NO events work not even something like onKeyPressed. But I still don't know what caused it.</p>\n"},{"tags":["java","azure","azure-cosmosdb","gremlin","azure-cosmosdb-gremlinapi"],"comments":[{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1684347867,"post_id":76275061,"comment_id":134506748,"body_markdown":"It&#39;s not really clear what you&#39;re asking, but Cosmos DB&#39;s Gremlin API is accessed in the same manner as any other gremlin-based graph database (e.g. same SDKs). Also, you linked a few different help articles, but nobody should need to visit/read those to understand your question. What&#39;s your specific issue? Please edit to clarify.","body":"It&#39;s not really clear what you&#39;re asking, but Cosmos DB&#39;s Gremlin API is accessed in the same manner as any other gremlin-based graph database (e.g. same SDKs). Also, you linked a few different help articles, but nobody should need to visit/read those to understand your question. What&#39;s your specific issue? Please edit to clarify."},{"owner":{"account_id":10461273,"reputation":23,"user_id":13906900,"display_name":"omarghoche"},"score":0,"creation_date":1684416306,"post_id":76275061,"comment_id":134516544,"body_markdown":"sorry @DavidMakogon if I wasn&#39;t clear ... Stephen answered down there ... which seems to be: no solution! :-(","body":"sorry @DavidMakogon if I wasn&#39;t clear ... Stephen answered down there ... which seems to be: no solution! :-("}],"answers":[{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684353051,"creation_date":1684353051,"answer_id":76275727,"question_id":76275061,"body_markdown":"I believe you are asking how to send Gremlin bytecode queries to CosmosDB, but are finding that you can only send strings-based queries. If that is correct, note that CosmosDB does not currently support bytecode based requests, so you are in fact limited to strings. CosmosDB has a long open issue about this [here](https://github.com/Azure/azure-cosmos-dotnet-v2/issues/439).","title":"How to connect to Azure Cosmos DB Gremlin API via embedded code","body":"<p>I believe you are asking how to send Gremlin bytecode queries to CosmosDB, but are finding that you can only send strings-based queries. If that is correct, note that CosmosDB does not currently support bytecode based requests, so you are in fact limited to strings. CosmosDB has a long open issue about this <a href=\"https://github.com/Azure/azure-cosmos-dotnet-v2/issues/439\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":10461273,"reputation":23,"user_id":13906900,"display_name":"omarghoche"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76275727,"answer_count":1,"score":-1,"last_activity_date":1692731998,"creation_date":1684347090,"question_id":76275061,"body_markdown":"For now we are using the very simplified and not near reality approach that Azure officially lets one play: https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java.\r\n\r\nBut we need to use gremlin in a scriptive manner ... like this:\r\n\r\n`g.V().has()...`\r\n\r\n... not as a string script query that is then submited:\r\n\r\n```java\r\nstatic final String gremlinQueries[] = new String[] {\r\n            &quot;g.addV(&#39;person&#39;).property(&#39;id&#39;, &#39;thomas&#39;).as(&#39;tom&#39;),\r\n            &quot;g.addV(&#39;person&#39;).property(&#39;id&#39;, &#39;mary&#39;).as(&#39;may&#39;),\r\n            &quot;g.addE(&#39;friends&#39;).from(&#39;tom&#39;).to(&#39;may&#39;)&quot; };\r\n\r\n(...)\r\n\r\nfor (String query : gremlinQueries) {\r\n\r\n   ResultSet results = client.submit(query);\r\n}\r\n\r\nfor (Result result : resultList) {\r\n   result.toString()\r\n}\r\n```\r\n\r\nI already tried to use Tinkerpop Documentation guides:\r\n\r\nhttps://tinkerpop.apache.org/docs/current/reference/#gremlin-java\r\nhttps://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin\r\n","title":"How to connect to Azure Cosmos DB Gremlin API via embedded code","body":"<p>For now we are using the very simplified and not near reality approach that Azure officially lets one play: <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java</a>.</p>\n<p>But we need to use gremlin in a scriptive manner ... like this:</p>\n<p><code>g.V().has()...</code></p>\n<p>... not as a string script query that is then submited:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final String gremlinQueries[] = new String[] {\n            &quot;g.addV('person').property('id', 'thomas').as('tom'),\n            &quot;g.addV('person').property('id', 'mary').as('may'),\n            &quot;g.addE('friends').from('tom').to('may')&quot; };\n\n(...)\n\nfor (String query : gremlinQueries) {\n\n   ResultSet results = client.submit(query);\n}\n\nfor (Result result : resultList) {\n   result.toString()\n}\n</code></pre>\n<p>I already tried to use Tinkerpop Documentation guides:</p>\n<p><a href=\"https://tinkerpop.apache.org/docs/current/reference/#gremlin-java\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#gremlin-java</a>\n<a href=\"https://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1692732676,"post_id":76956184,"comment_id":135664138,"body_markdown":"If code looks like that it can&#39;t be non-blocking because it needs to return a result once the method call finishes or the code could not continue. The code can&#39;t jump away to anything else in the meantime while in that line. You&#39;ll need to supply a disconnected piece of code to a callback that runs once the task is done. For AsyncTask that would be done by overriding the post execute method `protected void onPostExecute(String s) { .. }`. Or you overhaul that code, use a nice http library and kotlin coroutines, AsyncTask is deprecated and I wouldn&#39;t use HttpURLConnection unless forced to","body":"If code looks like that it can&#39;t be non-blocking because it needs to return a result once the method call finishes or the code could not continue. The code can&#39;t jump away to anything else in the meantime while in that line. You&#39;ll need to supply a disconnected piece of code to a callback that runs once the task is done. For AsyncTask that would be done by overriding the post execute method <code>protected void onPostExecute(String s) { .. }</code>. Or you overhaul that code, use a nice http library and kotlin coroutines, AsyncTask is deprecated and I wouldn&#39;t use HttpURLConnection unless forced to"}],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692731708,"creation_date":1692731708,"answer_id":76956282,"question_id":76956184,"body_markdown":"The `AsyncTask` has method  [`onPostExecute`][1]. It&#39;s exactly what you wants as it runs on the UI thread after the main logic of the AsyncTask completed:\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask#onPostExecute(Result)","title":"Waiting for a background network task to finish and return the response to mainActivity without blocking the UI","body":"<p>The <code>AsyncTask</code> has method  <a href=\"https://developer.android.com/reference/android/os/AsyncTask#onPostExecute(Result)\" rel=\"nofollow noreferrer\"><code>onPostExecute</code></a>. It's exactly what you wants as it runs on the UI thread after the main logic of the AsyncTask completed:</p>\n"}],"owner":{"account_id":4186277,"reputation":3,"user_id":3429974,"display_name":"user3429974"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692731708,"creation_date":1692730740,"question_id":76956184,"body_markdown":"Currently I have an async task that contacts a REST api endpoint and gets the result from it.\r\nThe issue is that by using get() the UI thread is blocked, I would like to avoid this, how do I achieve it.\r\n\r\nHere&#39;s the code I&#39;m using\r\n\r\n```\r\n    public static class checkStatus extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        public String doInBackground(String... strings) {\r\n            String response = null;\r\n            String token = strings[0];\r\n            String id = strings[1];\r\n            String pass = strings[2];\r\n            String guid = strings[3];\r\n\r\n            try {\r\n                String url = &quot;http://teststatus.com/checkStatus&quot;;\r\n                URL apiUrl = new URL(url);\r\n                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setDoOutput(true);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n                connection.setRequestProperty(&quot;id&quot;, id);\r\n\r\n                JSONObject object = new JSONObject();\r\n                object.put(&quot;id&quot;, id);\r\n                object.put(&quot;pass&quot;, pass);\r\n                object.put(&quot;guid&quot;, guid);\r\n\r\n\r\n                byte[] out = String.valueOf(object).getBytes(StandardCharsets.UTF_8);\r\n                OutputStream stream = connection.getOutputStream();\r\n                stream.write(out);\r\n\r\n                int status = connection.getResponseCode();\r\n                if (status == 200 || status == 202) {\r\n                    InputStream inputStream = new BufferedInputStream(connection.getInputStream());\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    String line;\r\n                    while ((line = bufferedReader.readLine()) != null) {\r\n                        stringBuilder.append(line).append(&quot;\\n&quot;);\r\n                    }\r\n                    response = stringBuilder.toString();\r\n\r\n                }\r\n                if (status != 200) {\r\n                    response = connection.getResponseMessage();\r\n                }\r\n\r\n            } catch (IOException | JSONException e) {\r\n                return null;\r\n            }\r\n\r\n            return response;\r\n        }\r\n    }\r\n```\r\n\r\nand I call it in another activity like this\r\n\r\n```\r\nstatuses.checkStatus checkStatus = new statuses.checkStatus();\r\nString result = checkStatus.execute(token, id, pass, guid).get();\r\n```\r\n\r\nHow would I best achieve it ? I need the in checkStatus to finish before the application continues to the next part of the code, but I don&#39;t want it to block the UI. How do I write some kind of a loop to check whether the checkStatus has returned a result without it blocking the UI thread ? It doesn&#39;t have to be an async task, tried making an executor, still have to use get in order to get the result.","title":"Waiting for a background network task to finish and return the response to mainActivity without blocking the UI","body":"<p>Currently I have an async task that contacts a REST api endpoint and gets the result from it.\nThe issue is that by using get() the UI thread is blocked, I would like to avoid this, how do I achieve it.</p>\n<p>Here's the code I'm using</p>\n<pre><code>    public static class checkStatus extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        public String doInBackground(String... strings) {\n            String response = null;\n            String token = strings[0];\n            String id = strings[1];\n            String pass = strings[2];\n            String guid = strings[3];\n\n            try {\n                String url = &quot;http://teststatus.com/checkStatus&quot;;\n                URL apiUrl = new URL(url);\n                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\n                connection.setRequestMethod(&quot;POST&quot;);\n                connection.setDoOutput(true);\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n                connection.setRequestProperty(&quot;id&quot;, id);\n\n                JSONObject object = new JSONObject();\n                object.put(&quot;id&quot;, id);\n                object.put(&quot;pass&quot;, pass);\n                object.put(&quot;guid&quot;, guid);\n\n\n                byte[] out = String.valueOf(object).getBytes(StandardCharsets.UTF_8);\n                OutputStream stream = connection.getOutputStream();\n                stream.write(out);\n\n                int status = connection.getResponseCode();\n                if (status == 200 || status == 202) {\n                    InputStream inputStream = new BufferedInputStream(connection.getInputStream());\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                    StringBuilder stringBuilder = new StringBuilder();\n                    String line;\n                    while ((line = bufferedReader.readLine()) != null) {\n                        stringBuilder.append(line).append(&quot;\\n&quot;);\n                    }\n                    response = stringBuilder.toString();\n\n                }\n                if (status != 200) {\n                    response = connection.getResponseMessage();\n                }\n\n            } catch (IOException | JSONException e) {\n                return null;\n            }\n\n            return response;\n        }\n    }\n</code></pre>\n<p>and I call it in another activity like this</p>\n<pre><code>statuses.checkStatus checkStatus = new statuses.checkStatus();\nString result = checkStatus.execute(token, id, pass, guid).get();\n</code></pre>\n<p>How would I best achieve it ? I need the in checkStatus to finish before the application continues to the next part of the code, but I don't want it to block the UI. How do I write some kind of a loop to check whether the checkStatus has returned a result without it blocking the UI thread ? It doesn't have to be an async task, tried making an executor, still have to use get in order to get the result.</p>\n"},{"tags":["java","spring","http","http-headers","httpresponse"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1503303832,"post_id":45792318,"comment_id":78542378,"body_markdown":"The `ResponseEntity` is immutable you would have to create a new one.","body":"The <code>ResponseEntity</code> is immutable you would have to create a new one."}],"answers":[{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599979789,"creation_date":1599979789,"answer_id":63868001,"question_id":45792318,"body_markdown":"\r\n\r\nHere is what I suggest you to implement:\r\n\r\n    @GetMapping(value = &quot;/get-products-detail/&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\r\n        public ResponseEntity&lt;Object&gt; getProductsDetail(@RequestParam Long userToken, @RequestParam Long productId) {\r\n            try {\r\n                return ResponseEntity.ok().body(digitoonContentService.getProductsDetails(userToken, productId));\r\n            } catch (InvalidTokenException e) {\r\n                logger.info(&quot;token is null or invalid&quot;, e);\r\n                MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\r\n                headers.add(&quot;invalid_token&quot;, &quot;true&quot;);\r\n                ErrorDTO errorDTO = new ErrorDTO(HttpStatus.UNAUTHORIZED, HttpStatus.UNAUTHORIZED.value(), e.getMessage());\r\n                return new ResponseEntity&lt;Object&gt;(errorDTO, headers, HttpStatus.UNAUTHORIZED);\r\n            }\r\n\r\n","title":"Add a new Header to Spring ResponseEntity","body":"<p>Here is what I suggest you to implement:</p>\n<pre><code>@GetMapping(value = &quot;/get-products-detail/&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\n    public ResponseEntity&lt;Object&gt; getProductsDetail(@RequestParam Long userToken, @RequestParam Long productId) {\n        try {\n            return ResponseEntity.ok().body(digitoonContentService.getProductsDetails(userToken, productId));\n        } catch (InvalidTokenException e) {\n            logger.info(&quot;token is null or invalid&quot;, e);\n            MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\n            headers.add(&quot;invalid_token&quot;, &quot;true&quot;);\n            ErrorDTO errorDTO = new ErrorDTO(HttpStatus.UNAUTHORIZED, HttpStatus.UNAUTHORIZED.value(), e.getMessage());\n            return new ResponseEntity&lt;Object&gt;(errorDTO, headers, HttpStatus.UNAUTHORIZED);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1402990,"reputation":172,"user_id":1331413,"display_name":"acacio.martins"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621945030,"creation_date":1621944730,"answer_id":67687653,"question_id":45792318,"body_markdown":"You need create a now one.\r\n\r\n```\r\n   final HttpHeaders responseHeaders = new HttpHeaders();\r\n   responseHeaders.set(headerName, headerValue);\r\n   final ResponseEntity&lt;&gt; response = new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.FORBIDDEN);\r\n```","title":"Add a new Header to Spring ResponseEntity","body":"<p>You need create a now one.</p>\n<pre><code>   final HttpHeaders responseHeaders = new HttpHeaders();\n   responseHeaders.set(headerName, headerValue);\n   final ResponseEntity&lt;&gt; response = new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.FORBIDDEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648728662,"creation_date":1648728662,"answer_id":71692234,"question_id":45792318,"body_markdown":"ResponseEntity.getHeaders() returns you the immutable object and hence if you attempt to update it you get `java.lang.UnsupportedOperationException`\r\n\r\nSo, you have to create a new copy of headers and populated the existing headers and add the new required headers on top of it. And finally attach the headers to the ResponseEntity.\r\n\r\n   \r\n\r\n     //create a new headers object.\r\n        HttpHeaders headers = new HttpHeaders();\r\n        //add all existing headers in new headers\r\n         headers.addAll(response.getHeaders()); \r\n        //add the new required header\r\n        headers.add(&quot;newheader&quot;,&quot;newvalue&quot;); \r\n        //add the headers to the responseEntity along with yourBody object\r\n        ResponseEntity.status(HttpStatus.OK).headers(headers).body(yourBody);","title":"Add a new Header to Spring ResponseEntity","body":"<p>ResponseEntity.getHeaders() returns you the immutable object and hence if you attempt to update it you get <code>java.lang.UnsupportedOperationException</code></p>\n<p>So, you have to create a new copy of headers and populated the existing headers and add the new required headers on top of it. And finally attach the headers to the ResponseEntity.</p>\n<pre><code> //create a new headers object.\n    HttpHeaders headers = new HttpHeaders();\n    //add all existing headers in new headers\n     headers.addAll(response.getHeaders()); \n    //add the new required header\n    headers.add(&quot;newheader&quot;,&quot;newvalue&quot;); \n    //add the headers to the responseEntity along with yourBody object\n    ResponseEntity.status(HttpStatus.OK).headers(headers).body(yourBody);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692731182,"creation_date":1692731182,"answer_id":76956230,"question_id":45792318,"body_markdown":"You have to create a copy of your `ResponseEntity`. Unfortunately `HttpHeaders` are read-only. But there is a helpful method that &quot;converts&quot; (it makes a copy if HttpHeaders is read-only) read-only `HttpHeaders` into writeable `HttpHeaders`. `HttpHeaders.writableHttpHeaders(HttpHeaders headers)`\r\n\r\n```java\r\npublic &lt;T&gt; ResponseEntity&lt;T&gt; addCustomHeader(ResponseEntity&lt;T&gt; response, String headerName, String headerValue) {\r\n  HttpHeaders headers = HttpHeaders.writableHttpHeaders(response.getHeaders());\r\n  headers.add(headerName, headerValue);\r\n  return new ResponseEntity&lt;&gt;(response.getBody(), headers, response.getStatusCode());\r\n}\r\n\r\n```","title":"Add a new Header to Spring ResponseEntity","body":"<p>You have to create a copy of your <code>ResponseEntity</code>. Unfortunately <code>HttpHeaders</code> are read-only. But there is a helpful method that &quot;converts&quot; (it makes a copy if HttpHeaders is read-only) read-only <code>HttpHeaders</code> into writeable <code>HttpHeaders</code>. <code>HttpHeaders.writableHttpHeaders(HttpHeaders headers)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; ResponseEntity&lt;T&gt; addCustomHeader(ResponseEntity&lt;T&gt; response, String headerName, String headerValue) {\n  HttpHeaders headers = HttpHeaders.writableHttpHeaders(response.getHeaders());\n  headers.add(headerName, headerValue);\n  return new ResponseEntity&lt;&gt;(response.getBody(), headers, response.getStatusCode());\n}\n\n</code></pre>\n"}],"owner":{"account_id":4990575,"reputation":482,"user_id":4012934,"accept_rate":54,"display_name":"Nosairat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5775,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1692731182,"creation_date":1503303626,"question_id":45792318,"body_markdown":"How can I add a new header to an   **org.springframework.http.ResponseEntity** object ?\r\n\r\nHere is my code:\r\n\r\n    public void addCustomHeader(ResponseEntity response,String headerName,String headerValue)\r\n    {\r\n\t  response.getHeaders().add(headerName, headerValue);\r\n    }\r\n\r\nwhen I try the above code, I get \r\n\r\n&gt; java.lang.UnsupportedOperationException","title":"Add a new Header to Spring ResponseEntity","body":"<p>How can I add a new header to an   <strong>org.springframework.http.ResponseEntity</strong> object ?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public void addCustomHeader(ResponseEntity response,String headerName,String headerValue)\n{\n  response.getHeaders().add(headerName, headerValue);\n}\n</code></pre>\n\n<p>when I try the above code, I get </p>\n\n<blockquote>\n  <p>java.lang.UnsupportedOperationException</p>\n</blockquote>\n"},{"tags":["java","file-io","ubuntu-14.04"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1479356951,"post_id":40646726,"comment_id":68525041,"body_markdown":"Can you print the exact error message","body":"Can you print the exact error message"},{"owner":{"account_id":1100075,"reputation":652,"user_id":1092688,"display_name":"Eric M."},"score":0,"creation_date":1479356991,"post_id":40646726,"comment_id":68525051,"body_markdown":"Does your application have permission to write to the target directory?","body":"Does your application have permission to write to the target directory?"},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1479357153,"post_id":40646726,"comment_id":68525095,"body_markdown":"@ScaryWombat pls see the edit.","body":"@ScaryWombat pls see the edit."},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1479357214,"post_id":40646726,"comment_id":68525110,"body_markdown":"@EricM. it does and was working properly. In face if i try to create a file - touch test - in the terminal it fails as well saying &quot; touch: cannot touch test: No space left on device&quot;.","body":"@EricM. it does and was working properly. In face if i try to create a file - touch test - in the terminal it fails as well saying &quot; touch: cannot touch test: No space left on device&quot;."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1479358503,"post_id":40646726,"comment_id":68525487,"body_markdown":"So, wouldn&#39;t it be right to say that this problem is not related to programming in Java? Sounds like this question should be asked on superuser.com as it&#39;s not about programming but about using Unix systems.","body":"So, wouldn&#39;t it be right to say that this problem is not related to programming in Java? Sounds like this question should be asked on superuser.com as it&#39;s not about programming but about using Unix systems."},{"owner":{"account_id":9624388,"reputation":84,"user_id":7144466,"display_name":"TDWebDev"},"score":0,"creation_date":1479358618,"post_id":40646726,"comment_id":68525520,"body_markdown":"You said it was working before. Do you remember what you might have done, run some app or command, or notice something else happened before it stopped working? If you cant even touch a file then its something in the file system not Java related.","body":"You said it was working before. Do you remember what you might have done, run some app or command, or notice something else happened before it stopped working? If you cant even touch a file then its something in the file system not Java related."},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1479359699,"post_id":40646726,"comment_id":68525829,"body_markdown":"I haven&#39;t done anything just kept running my code until it threw the exception. Maybe I should ask there..","body":"I haven&#39;t done anything just kept running my code until it threw the exception. Maybe I should ask there.."},{"owner":{"account_id":344313,"reputation":102,"user_id":676559,"display_name":"sattu"},"score":0,"creation_date":1553189684,"post_id":40646726,"comment_id":97302193,"body_markdown":"@samsamara were you able to find the cause and solution?","body":"@samsamara were you able to find the cause and solution?"},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1553395208,"post_id":40646726,"comment_id":97367414,"body_markdown":"@sattu I haven&#39;t :( this could be a serious bug wih JVM I guess.","body":"@sattu I haven&#39;t :( this could be a serious bug wih JVM I guess."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1604400075,"post_id":40646726,"comment_id":114330123,"body_markdown":"It isn&#39;t plausibly a bug in the JVM.  The file system full error is returned by the OS.  The JVM just reports what the OS is telling it.  I suspect that there is something funky about the media device or the file system mounted on &quot;/media/sam/Sam&quot;.  I concur with Erwin - this is really a `SuperUser` or `Unix` problem.  It isn&#39;t a programming problem.","body":"It isn&#39;t plausibly a bug in the JVM.  The file system full error is returned by the OS.  The JVM just reports what the OS is telling it.  I suspect that there is something funky about the media device or the file system mounted on &quot;/media/sam/Sam&quot;.  I concur with Erwin - this is really a <code>SuperUser</code> or <code>Unix</code> problem.  It isn&#39;t a programming problem."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679651363,"post_id":40646726,"comment_id":133762906,"body_markdown":"Linux filesystems often reserve a certain percentage of their capacity for the root user (to avoid situations where a full system breaks down and not even root can log in to fix it). It seems like your disk has less than 10% disk space left, so you might be running into this (especially since you can&#39;t create files outside of Java either). That value [can be changed](https://unix.stackexchange.com/questions/7950/reserved-space-for-root-on-a-filesystem-why) and if your disk is not used as a system partition, you might not need that feature at all.","body":"Linux filesystems often reserve a certain percentage of their capacity for the root user (to avoid situations where a full system breaks down and not even root can log in to fix it). It seems like your disk has less than 10% disk space left, so you might be running into this (especially since you can&#39;t create files outside of Java either). That value <a href=\"https://unix.stackexchange.com/questions/7950/reserved-space-for-root-on-a-filesystem-why\">can be changed</a> and if your disk is not used as a system partition, you might not need that feature at all."},{"owner":{"account_id":3080106,"reputation":546,"user_id":2608529,"display_name":"mahesh nanayakkara"},"score":0,"creation_date":1680190173,"post_id":40646726,"comment_id":133859532,"body_markdown":"share us your linux distro and arch,  just run &#39;uname -a&#39;.  there are logs under /var/log you can diagnose this neatly.","body":"share us your linux distro and arch,  just run &#39;uname -a&#39;.  there are logs under /var/log you can diagnose this neatly."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1604400112,"post_id":64661059,"comment_id":114330145,"body_markdown":"What you are describing is clearly a different problem.","body":"What you are describing is clearly a different problem."}],"tags":[],"owner":{"account_id":2693900,"reputation":4029,"user_id":2326492,"accept_rate":75,"display_name":"Bohne"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1604399487,"creation_date":1604399487,"answer_id":64661059,"question_id":40646726,"body_markdown":"In my case the Java Process was operating with a temp-directory, using default java.io.tmpdir (in my case /tmp).\r\n\r\nI was expecting it to work in another partition. So maybe changing the default works:\r\n\r\n    -Djava.io.tmpdir=/media/sam/Sam/tmp","title":"Java &quot;No space left on device&quot; but there is enough space on disk?","body":"<p>In my case the Java Process was operating with a temp-directory, using default java.io.tmpdir (in my case /tmp).</p>\n<p>I was expecting it to work in another partition. So maybe changing the default works:</p>\n<pre><code>-Djava.io.tmpdir=/media/sam/Sam/tmp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27897349,"reputation":3,"user_id":21302357,"display_name":"Anika Sharma"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679646216,"creation_date":1679646216,"answer_id":75831379,"question_id":40646726,"body_markdown":"It looks like the issue might be related to inode usage. The filesystem is using 62% of its inodes and the directory where you are trying to write also has a high percentage of inodes in use - 22090147 of 35769712. You may need to free up some inode space in order to write the files. You can do this by deleting some existing files, moving them to another directory, or using a tool such as &quot;tune2fs&quot; to manually increase the number of inodes available on the filesystem.","title":"Java &quot;No space left on device&quot; but there is enough space on disk?","body":"<p>It looks like the issue might be related to inode usage. The filesystem is using 62% of its inodes and the directory where you are trying to write also has a high percentage of inodes in use - 22090147 of 35769712. You may need to free up some inode space in order to write the files. You can do this by deleting some existing files, moving them to another directory, or using a tool such as &quot;tune2fs&quot; to manually increase the number of inodes available on the filesystem.</p>\n"}],"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14487,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1692730824,"creation_date":1479356848,"question_id":40646726,"body_markdown":"I&#39;m trying to write files to the file system in a java programme but it fails with an exception throwing &#39;No space left on device&#39; when df -h (and df -i) says otherwise. \r\n\r\nHere is the output of df -h: \r\n\r\n    Filesystem      Size  Used Avail Use% Mounted on\r\n    udev            5.9G  4.0K  5.9G   1% /dev\r\n    tmpfs           1.2G  1.4M  1.2G   1% /run\r\n    /dev/sda5       156G  139G  9.1G  94% /\r\n    none            4.0K     0  4.0K   0% /sys/fs/cgroup\r\n    none            5.0M     0  5.0M   0% /run/lock\r\n    none            5.9G  105M  5.8G   2% /run/shm\r\n    none            100M   28K  100M   1% /run/user\r\n    /dev/sda2       105G  102G  2.7G  98% /media/sam/System \r\n    /dev/sda3       176G  163G   14G  93% /media/sam/Sam //where I&#39;m trying to write\r\n\r\nand here is the output of df -i: \r\n\r\n    Filesystem       Inodes    IUsed    IFree IUse% Mounted on\r\n    udev            1523763      552  1523211    1% /dev\r\n    tmpfs           1526458      584  1525874    1% /run\r\n    /dev/sda5      10362880  4750381  5612499   46% /\r\n    none            1526458        2  1526456    1% /sys/fs/cgroup\r\n    none            1526458        3  1526455    1% /run/lock\r\n    none            1526458      191  1526267    1% /run/shm\r\n    none            1526458       26  1526432    1% /run/user\r\n    /dev/sda2       3832820  1045155  2787665   28% /media/sam/System \r\n    /dev/sda3      35769712 22090147 13679565   62% /media/sam/Sam //where I&#39;m trying to write\r\n\r\n I am trying to write files to /media/sam/Sam/. I have tried restarting my machine, unmounting and mounting again but no luck. Also in Java if I create a new file object inside /media/sam/Sam and print the usage information, it prints 0 as below:\r\n\r\n    File tweetFile = new File( &quot;/media/sam/Sam/&quot; + &quot;test&quot;  + &quot;.txt&quot; );\r\n    System.out.println( tweetFile.getTotalSpace()  ); // prints 0\r\n    System.out.println( tweetFile.getFreeSpace()/1000000000 ); // prints 0\r\n    System.out.println( tweetFile.getUsableSpace()/1000000000 ); // prints 0\r\n\r\nAny help is really appreciated as I&#39;m trying to fix this for the whole day and getting really frustrated. \r\n\r\n**EDIT**\r\nHere is the exact message thrown:\r\n\r\n    Exception: java.io.IOException: No space left on device\r\n    java.io.IOException: No space left on device\r\n    \tat java.io.UnixFileSystem.createFileExclusively(Native Method)\r\n    \tat java.io.File.createNewFile(File.java:1006)\r\n    \tat utils.FileUtil.writeToFile(FileUtil.java:64)\r\n    \tat experiments.usinglists.tagbasedeval.ToindexTweetsForAUser.main(ToindexTweetsForAUser.java:36)","title":"Java &quot;No space left on device&quot; but there is enough space on disk?","body":"<p>I'm trying to write files to the file system in a java programme but it fails with an exception throwing 'No space left on device' when df -h (and df -i) says otherwise. </p>\n\n<p>Here is the output of df -h: </p>\n\n<pre><code>Filesystem      Size  Used Avail Use% Mounted on\nudev            5.9G  4.0K  5.9G   1% /dev\ntmpfs           1.2G  1.4M  1.2G   1% /run\n/dev/sda5       156G  139G  9.1G  94% /\nnone            4.0K     0  4.0K   0% /sys/fs/cgroup\nnone            5.0M     0  5.0M   0% /run/lock\nnone            5.9G  105M  5.8G   2% /run/shm\nnone            100M   28K  100M   1% /run/user\n/dev/sda2       105G  102G  2.7G  98% /media/sam/System \n/dev/sda3       176G  163G   14G  93% /media/sam/Sam //where I'm trying to write\n</code></pre>\n\n<p>and here is the output of df -i: </p>\n\n<pre><code>Filesystem       Inodes    IUsed    IFree IUse% Mounted on\nudev            1523763      552  1523211    1% /dev\ntmpfs           1526458      584  1525874    1% /run\n/dev/sda5      10362880  4750381  5612499   46% /\nnone            1526458        2  1526456    1% /sys/fs/cgroup\nnone            1526458        3  1526455    1% /run/lock\nnone            1526458      191  1526267    1% /run/shm\nnone            1526458       26  1526432    1% /run/user\n/dev/sda2       3832820  1045155  2787665   28% /media/sam/System \n/dev/sda3      35769712 22090147 13679565   62% /media/sam/Sam //where I'm trying to write\n</code></pre>\n\n<p>I am trying to write files to /media/sam/Sam/. I have tried restarting my machine, unmounting and mounting again but no luck. Also in Java if I create a new file object inside /media/sam/Sam and print the usage information, it prints 0 as below:</p>\n\n<pre><code>File tweetFile = new File( \"/media/sam/Sam/\" + \"test\"  + \".txt\" );\nSystem.out.println( tweetFile.getTotalSpace()  ); // prints 0\nSystem.out.println( tweetFile.getFreeSpace()/1000000000 ); // prints 0\nSystem.out.println( tweetFile.getUsableSpace()/1000000000 ); // prints 0\n</code></pre>\n\n<p>Any help is really appreciated as I'm trying to fix this for the whole day and getting really frustrated. </p>\n\n<p><strong>EDIT</strong>\nHere is the exact message thrown:</p>\n\n<pre><code>Exception: java.io.IOException: No space left on device\njava.io.IOException: No space left on device\n    at java.io.UnixFileSystem.createFileExclusively(Native Method)\n    at java.io.File.createNewFile(File.java:1006)\n    at utils.FileUtil.writeToFile(FileUtil.java:64)\n    at experiments.usinglists.tagbasedeval.ToindexTweetsForAUser.main(ToindexTweetsForAUser.java:36)\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","augmented-reality"],"owner":{"account_id":2197588,"reputation":11547,"user_id":1942868,"accept_rate":80,"display_name":"whitebear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692730507,"creation_date":1692730507,"question_id":76956160,"body_markdown":"I have this `No virtual method` error when using `ArCore` via flutter plugin [arcore_flutter_plugin][1] \r\n\r\n\r\n    java.lang.NoSuchMethodError: No virtual method acquireEnvironmentalHdrCubeMap()[Lcom/google/ar/core/ArImage; in class Lcom/google/ar/core/LightEstimate; or its super classes (declaration of &#39;com.google.ar.core.LightEstimate&#39; appears in /data/app/~~ICg-b27T7FDh1Fo0i1vyuQ==/com.example.arcore_test-Lsft1_3lhOxQyuP98Q0oTA==/base.apk)\r\n\r\nThis function&#39;s article is [here][2] , I guess this function is supposed is belonging to `com.google.ar:core`, however cant be called somehow?\r\n\r\nI am using `1.37.0` and change this to `1.33.0`, but in vain.\r\n\r\nin AndroidManifest.xml\r\n\r\n    dependencies {\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &#39;com.google.ar:core:1.37.0&#39;\r\n\r\nWhat this error means? , how can I solves?\r\n\r\n\r\n  [1]: https://pub.dev/packages/\r\n  [2]: https://developers.google.com/ar/reference/java/com/google/ar/core/LightEstimate\r\n","title":"java.lang.NoSuchMethodError: No virtual method acquireEnvironmentalHdrCubeMap()","body":"<p>I have this <code>No virtual method</code> error when using <code>ArCore</code> via flutter plugin <a href=\"https://pub.dev/packages/\" rel=\"nofollow noreferrer\">arcore_flutter_plugin</a></p>\n<pre><code>java.lang.NoSuchMethodError: No virtual method acquireEnvironmentalHdrCubeMap()[Lcom/google/ar/core/ArImage; in class Lcom/google/ar/core/LightEstimate; or its super classes (declaration of 'com.google.ar.core.LightEstimate' appears in /data/app/~~ICg-b27T7FDh1Fo0i1vyuQ==/com.example.arcore_test-Lsft1_3lhOxQyuP98Q0oTA==/base.apk)\n</code></pre>\n<p>This function's article is <a href=\"https://developers.google.com/ar/reference/java/com/google/ar/core/LightEstimate\" rel=\"nofollow noreferrer\">here</a> , I guess this function is supposed is belonging to <code>com.google.ar:core</code>, however cant be called somehow?</p>\n<p>I am using <code>1.37.0</code> and change this to <code>1.33.0</code>, but in vain.</p>\n<p>in AndroidManifest.xml</p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.google.ar:core:1.37.0'\n</code></pre>\n<p>What this error means? , how can I solves?</p>\n"},{"tags":["java","eclipse","gtk","swt"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1692738235,"post_id":76956123,"comment_id":135664954,"body_markdown":"Does this Eclipse based application have a plugin  (or more precisely, a fragment in the `plugins` folder) with the name `org.eclipse.swt.gtk.linux.x86_64_*.jar`? If yes, which `.so` files does the JAR contain?","body":"Does this Eclipse based application have a plugin  (or more precisely, a fragment in the <code>plugins</code> folder) with the name <code>org.eclipse.swt.gtk.linux.x86_64_*.jar</code>? If yes, which <code>.so</code> files does the JAR contain?"},{"owner":{"account_id":13559602,"reputation":163,"user_id":9781834,"display_name":"Alex"},"score":0,"creation_date":1692803536,"post_id":76956123,"comment_id":135674596,"body_markdown":"@howlger It does, here goes:\n\nwebkitextensions4944r26/libswt-webkit2extension-gtk-4944r26.so\nlibswt-atk-gtk-4944r26.so\nlibswt-awt-gtk-4944r26.so\nlibswt-cairo-gtk-4944r26.so\nlibswt-glx-gtk-4944r26.so\nlibswt-gtk-4944r26.so\nlibswt-pi3-gtk-4944r26.so\nlibswt-webkit-gtk-4944r26.so","body":"@howlger It does, here goes:  webkitextensions4944r26/libswt-webkit2extension-gtk-4944r26.&zwnj;&#8203;so libswt-atk-gtk-4944r26.so libswt-awt-gtk-4944r26.so libswt-cairo-gtk-4944r26.so libswt-glx-gtk-4944r26.so libswt-gtk-4944r26.so libswt-pi3-gtk-4944r26.so libswt-webkit-gtk-4944r26.so"}],"owner":{"account_id":13559602,"reputation":163,"user_id":9781834,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692730085,"creation_date":1692730085,"question_id":76956123,"body_markdown":"I am attempting to run an application based on Eclipse, and I am unable to due to errors when attempting to access `libswt-pi4.so`, `libswt-pi4-gtk.so` and `libswt-pi4-gtk-4944r26.so`. Slight aside, I will not be going into detail regarding the application due to a NDA, but I believe it shouldn&#39;t be a problem, as the issue seems to stem from the eclipse base. I am on Linux Mint 21.2.\r\n\r\nThe error (very slightly redacted) is as follows:\r\n```log\r\n!SESSION 2023-08-17 18:27:08.326 -----------------------------------------------\r\neclipse.buildId=unknown\r\njava.version=11.0.15\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\r\nCommand-line arguments:  -os linux -ws gtk -arch x86_64\r\n\r\n!ENTRY org.eclipse.osgi 4 0 2023-08-17 18:27:10.417\r\n!MESSAGE Application error\r\n!STACK 1\r\njava.lang.UnsatisfiedLinkError: Could not load SWT library. Reasons:\r\n\tno swt-pi4-gtk-4944r26 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n\tno swt-pi4-gtk in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n\tno swt-pi4 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\r\n\tCan&#39;t load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk-4944r26.so\r\n\tCan&#39;t load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk.so\r\n\tCan&#39;t load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4.so\r\n\r\n\tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:348)\r\n\tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:257)\r\n\tat org.eclipse.swt.internal.gtk.OS.&lt;clinit&gt;(OS.java:96)\r\n\tat org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:209)\r\n\tat org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:155)\r\n\tat org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:165)\r\n\tat org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:726)\r\n\tat org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:168)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.createDisplay(IDEApplication.java:182)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:125)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1435)\r\n\r\n```\r\n\r\nBrowsing for similar issues, I found posts suggesting I install `libswt-gtk-4-java` and `libswt-gtk-4-java`, which I have. This has not solved the issue. After this, [another post][1] suggested creating links from `/usr/lib/jni/libswt-*` to `~/.swt/lib/linux/x86_64/` (which is indeed where the error claims the files are not), but a quick look at the original folder shows the required libraries are not there either:\r\n\r\n```sh\r\nalexandre:/usr/lib/jni$ l\r\nlibswt-atk-gtk-4944r26.so  libswt-awt-gtk-4944r26.so  libswt-gtk-4944r26.so  libswt-pi3-gtk-4944r26.so\r\n```\r\n\r\n`~/.swt/lib/linux/x86_64/` has a single file by default, which is `libswt-pi3-gtk-4944r26.so`.\r\n\r\nAny clue as to which packages I may be missing? Thank you for your time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10165693/eclipse-cannot-load-swt-libraries","title":"&quot;Could not load SWT library&quot; error - no swt-pi4* in in java.library.path","body":"<p>I am attempting to run an application based on Eclipse, and I am unable to due to errors when attempting to access <code>libswt-pi4.so</code>, <code>libswt-pi4-gtk.so</code> and <code>libswt-pi4-gtk-4944r26.so</code>. Slight aside, I will not be going into detail regarding the application due to a NDA, but I believe it shouldn't be a problem, as the issue seems to stem from the eclipse base. I am on Linux Mint 21.2.</p>\n<p>The error (very slightly redacted) is as follows:</p>\n<pre><code>!SESSION 2023-08-17 18:27:08.326 -----------------------------------------------\neclipse.buildId=unknown\njava.version=11.0.15\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\nCommand-line arguments:  -os linux -ws gtk -arch x86_64\n\n!ENTRY org.eclipse.osgi 4 0 2023-08-17 18:27:10.417\n!MESSAGE Application error\n!STACK 1\njava.lang.UnsatisfiedLinkError: Could not load SWT library. Reasons:\n    no swt-pi4-gtk-4944r26 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    no swt-pi4-gtk in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    no swt-pi4 in java.library.path: [&lt;REDACTED&gt;, ., /usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]\n    Can't load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk-4944r26.so\n    Can't load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4-gtk.so\n    Can't load library: /home/alexandre/.swt/lib/linux/x86_64/libswt-pi4.so\n\n    at org.eclipse.swt.internal.Library.loadLibrary(Library.java:348)\n    at org.eclipse.swt.internal.Library.loadLibrary(Library.java:257)\n    at org.eclipse.swt.internal.gtk.OS.&lt;clinit&gt;(OS.java:96)\n    at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:209)\n    at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:155)\n    at org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:165)\n    at org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:726)\n    at org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:168)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.createDisplay(IDEApplication.java:182)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:125)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1435)\n\n</code></pre>\n<p>Browsing for similar issues, I found posts suggesting I install <code>libswt-gtk-4-java</code> and <code>libswt-gtk-4-java</code>, which I have. This has not solved the issue. After this, <a href=\"https://stackoverflow.com/questions/10165693/eclipse-cannot-load-swt-libraries\">another post</a> suggested creating links from <code>/usr/lib/jni/libswt-*</code> to <code>~/.swt/lib/linux/x86_64/</code> (which is indeed where the error claims the files are not), but a quick look at the original folder shows the required libraries are not there either:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>alexandre:/usr/lib/jni$ l\nlibswt-atk-gtk-4944r26.so  libswt-awt-gtk-4944r26.so  libswt-gtk-4944r26.so  libswt-pi3-gtk-4944r26.so\n</code></pre>\n<p><code>~/.swt/lib/linux/x86_64/</code> has a single file by default, which is <code>libswt-pi3-gtk-4944r26.so</code>.</p>\n<p>Any clue as to which packages I may be missing? Thank you for your time.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":3,"creation_date":1692733111,"post_id":76955920,"comment_id":135664224,"body_markdown":"Use _[Matcher#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#matches())_ instead of _[Matcher#find](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find())_, and at that rate just use _[String#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String))_.","body":"Use <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\">Matcher#matches</a></i> instead of <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">Matcher#find</a></i>, and at that rate just use <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches</a></i>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692798669,"post_id":76955920,"comment_id":135673381,"body_markdown":"The Matcher class has many methods.  If you had printed out `matcher.start()`, your issue would have been clear.  And reading the documentation of Matcher also would have helped you.","body":"The Matcher class has many methods.  If you had printed out <code>matcher.start()</code>, your issue would have been clear.  And reading the documentation of Matcher also would have helped you."}],"answers":[{"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1692728976,"post_id":76955958,"comment_id":135663419,"body_markdown":"This would match inputs consisting _only_ of letters, not just starting with letters.","body":"This would match inputs consisting <i>only</i> of letters, not just starting with letters."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1692729133,"creation_date":1692728639,"answer_id":76955958,"question_id":76955920,"body_markdown":"`matcher.find()` finds matches *within* the input; in your case it matches `A`.\r\n\r\nYou want:\r\n\r\n    &quot;1A&quot;.matches(&quot;[a-zA-Z].*&quot;)\r\n\r\n[String#matches()][1] must match the *entire* String to return `true` (so no need for `^` at the start), and the regex requires that the first character be a letter (the remaining characters, if any, can be anything).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)","title":"Why 1A matches &quot;[a-zA-Z]+&quot; Regex in Java?","body":"<p><code>matcher.find()</code> finds matches <em>within</em> the input; in your case it matches <code>A</code>.</p>\n<p>You want:</p>\n<pre><code>&quot;1A&quot;.matches(&quot;[a-zA-Z].*&quot;)\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches()</a> must match the <em>entire</em> String to return <code>true</code> (so no need for <code>^</code> at the start), and the regex requires that the first character be a letter (the remaining characters, if any, can be anything).</p>\n"},{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692753568,"post_id":76955980,"comment_id":135666371,"body_markdown":"I&#39;d like to note that you&#39;re correct, except for the addition of the _[a-zA-Z]*_.  Since they&#39;re looking to assert that the first character is a letter, just use _^[a-zA-Z]_.","body":"I&#39;d like to note that you&#39;re correct, except for the addition of the <i>[a-zA-Z]*</i>.  Since they&#39;re looking to assert that the first character is a letter, just use <i>^[a-zA-Z]</i>."}],"tags":[],"owner":{"account_id":29277669,"reputation":11,"user_id":22431051,"display_name":"chethan kailashnath"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1692728868,"creation_date":1692728868,"answer_id":76955980,"question_id":76955920,"body_markdown":"The given RegEx **[a-zA-Z]+** matches a character irrespective of its position in the string. Here 1A is also a match.\r\n\r\nIf you want to match words starting with a letter use &quot;^&quot; at the beginning of the regex. &quot;**^**&quot; is identify starting of the string.\r\n\r\nand to match zero or more letters you can use [a-zA-Z]*, your final regEx looks like this.\r\n\r\nexp - **&quot;^[a-zA-Z][a-zA-Z]*&quot;**","title":"Why 1A matches &quot;[a-zA-Z]+&quot; Regex in Java?","body":"<p>The given RegEx <strong>[a-zA-Z]+</strong> matches a character irrespective of its position in the string. Here 1A is also a match.</p>\n<p>If you want to match words starting with a letter use &quot;^&quot; at the beginning of the regex. &quot;<strong>^</strong>&quot; is identify starting of the string.</p>\n<p>and to match zero or more letters you can use [a-zA-Z]*, your final regEx looks like this.</p>\n<p>exp - <strong>&quot;^[a-zA-Z][a-zA-Z]*&quot;</strong></p>\n"}],"owner":{"account_id":27697360,"reputation":5,"user_id":21142762,"display_name":"Armando"},"comment_count":2,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1692728993,"answer_count":2,"score":-3,"last_activity_date":1692729133,"creation_date":1692728284,"question_id":76955920,"body_markdown":"I have the folowing code in Java \r\n\r\n```\r\n Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(&quot;1A&quot;);\r\n    boolean matchFound = matcher.find();\r\n    if(matchFound) {\r\n      System.out.println(&quot;Match found&quot;);\r\n    } else {\r\n      System.out.println(&quot;Match not found&quot;);\r\n    }\r\n```\r\n\r\nThe result of that says that **1A** match the regex **&quot;[a-zA-Z]+&quot;**. \r\n\r\nI only need to **accept words starting with a letter.**\r\n\r\nI did the same in question.","title":"Why 1A matches &quot;[a-zA-Z]+&quot; Regex in Java?","body":"<p>I have the folowing code in Java</p>\n<pre><code> Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(&quot;1A&quot;);\n    boolean matchFound = matcher.find();\n    if(matchFound) {\n      System.out.println(&quot;Match found&quot;);\n    } else {\n      System.out.println(&quot;Match not found&quot;);\n    }\n</code></pre>\n<p>The result of that says that <strong>1A</strong> match the regex <strong>&quot;[a-zA-Z]+&quot;</strong>.</p>\n<p>I only need to <strong>accept words starting with a letter.</strong></p>\n<p>I did the same in question.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1692727419,"post_id":76955787,"comment_id":135663071,"body_markdown":"The parameter you passed to `getEmployeeLocationByQuery` is _highly suggestive_ that you are writing code which is SQL injectable (not using prepared statements, concatening input directly into the query string). This is a **security issue**, one which you should correct ASAP if this is public-facing software.","body":"The parameter you passed to <code>getEmployeeLocationByQuery</code> is <i>highly suggestive</i> that you are writing code which is SQL injectable (not using prepared statements, concatening input directly into the query string). This is a <b>security issue</b>, one which you should correct ASAP if this is public-facing software."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1692727542,"post_id":76955787,"comment_id":135663108,"body_markdown":"That all said, the problem is you have a `List&lt;EmployeeLocation&gt;`, which you&#39;ve assigned to a `List&lt;String&gt;`. This might be caused by some oddness in the method signature of `getEmployeeLocationByQuery` (e.g. a `&lt;T&gt; List&lt;T&gt;` return, or some weird casting), but overall in doing this you&#39;ve doomed your first access from the list to throw that CCE. So use the correct type of list for your variable, and the correct type of element for your `for` loop.","body":"That all said, the problem is you have a <code>List&lt;EmployeeLocation&gt;</code>, which you&#39;ve assigned to a <code>List&lt;String&gt;</code>. This might be caused by some oddness in the method signature of <code>getEmployeeLocationByQuery</code> (e.g. a <code>&lt;T&gt; List&lt;T&gt;</code> return, or some weird casting), but overall in doing this you&#39;ve doomed your first access from the list to throw that CCE. So use the correct type of list for your variable, and the correct type of element for your <code>for</code> loop."}],"answers":[{"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692728366,"post_id":76955895,"comment_id":135663271,"body_markdown":"Thanks. No error this time after changing that. `[INFO] Inside Loop\n[INFO]EmployeeLocation [id=83, name=firstname, description=tetetyet, comment=, locationId=6]\n[INFO] Inside Loop\n[INFO]EmployeeLocation [id=84, name=secondname, description=test, comment=, locationId=6]` But how do I retrieve `id` variable from there?","body":"Thanks. No error this time after changing that. <code>[INFO] Inside Loop [INFO]EmployeeLocation [id=83, name=firstname, description=tetetyet, comment=, locationId=6] [INFO] Inside Loop [INFO]EmployeeLocation [id=84, name=secondname, description=test, comment=, locationId=6]</code> But how do I retrieve <code>id</code> variable from there?"},{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1692728444,"post_id":76955895,"comment_id":135663292,"body_markdown":"I have to assume your `EmployeeLocation` class has a getter method for `id`?","body":"I have to assume your <code>EmployeeLocation</code> class has a getter method for <code>id</code>?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692728724,"post_id":76955895,"comment_id":135663359,"body_markdown":"Yes. `location.getId()` works. Thanks very much.","body":"Yes. <code>location.getId()</code> works. Thanks very much."}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692727998,"creation_date":1692727998,"answer_id":76955895,"question_id":76955787,"body_markdown":"For printing the list directly, you&#39;re getting away with an incorrect usage of generics.  You are assigning your results to a `List&lt;String&gt;`.  The only way this could compile is if `getEmployeeLocationByQuery` is returning a `List&lt;String&gt;`, a raw `List`, or as suggested by a comment above, a `List&lt;T&gt;`.\r\n\r\nBecause the last part of the code has the `ClassCastException`, it looks like that method is returning a different kind of list than the type of the variable `locationList`.  You may be getting an unchecked assignment warning when compiling because of this if it&#39;s returning a raw `List`.\r\n\r\nThe first part of the code passes the `List` to [the overload of `System.out.println` that takes an `Object`][1].  Then it uses [`String.valueOf`][2], which yields your output as expected.  Because the specific type of `String` wasn&#39;t needed, an implicit cast was not inserted here attempting to cast your `List` to a `String`, so no error occurred.\r\n\r\nHowever, with your foreach loop, an implicit cast to the specific type is inserted by the compiler, resulting in your `ClassCastException`.  The [JLS, Section 14.14.2][3], gives the equivalent code for an enhanced for loop, showing the inserted cast:\r\n\r\n```\r\nfor (I #i = Expression.iterator(); #i.hasNext(); ) {\r\n    {VariableModifier} T Identifier = (TargetType) #i.next();\r\n    Statement\r\n}\r\n```\r\n\r\nUse the proper type parameter for the `List`, and the proper type for the foreach loop:\r\n\r\n    // Change List&lt;String&gt; to List&lt;EmployeeLocation&gt; here.\r\n    List&lt;EmployeeLocation&gt; locationList = getEmployeeLocationByQuery(&quot;name LIKE&#39;&quot;+searchName+&quot;%&#39;&quot;);\r\n    System.out.println(&quot;print location&quot;);\r\n    System.out.println(locationList);\r\n\r\n    // Change loop variable type to EmployeeLocation, name it better.\r\n    for (EmployeeLocation location : locationList) {\r\n        System.out.println(&quot;Inside Loop&quot;);\r\n        System.out.println(location);\r\n    }\r\n\r\nAs an aside, as suggested in a comment above, you need to fix your [SQL injection vulnerability][4].\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object)\r\n[2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)\r\n[3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.14.2\r\n[4]: https://stackoverflow.com/questions/25024894/sql-injection-vulnerability-thru-preparedstatement","title":"loop over the object returned by the class to get the id","body":"<p>For printing the list directly, you're getting away with an incorrect usage of generics.  You are assigning your results to a <code>List&lt;String&gt;</code>.  The only way this could compile is if <code>getEmployeeLocationByQuery</code> is returning a <code>List&lt;String&gt;</code>, a raw <code>List</code>, or as suggested by a comment above, a <code>List&lt;T&gt;</code>.</p>\n<p>Because the last part of the code has the <code>ClassCastException</code>, it looks like that method is returning a different kind of list than the type of the variable <code>locationList</code>.  You may be getting an unchecked assignment warning when compiling because of this if it's returning a raw <code>List</code>.</p>\n<p>The first part of the code passes the <code>List</code> to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object)\" rel=\"nofollow noreferrer\">the overload of <code>System.out.println</code> that takes an <code>Object</code></a>.  Then it uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>String.valueOf</code></a>, which yields your output as expected.  Because the specific type of <code>String</code> wasn't needed, an implicit cast was not inserted here attempting to cast your <code>List</code> to a <code>String</code>, so no error occurred.</p>\n<p>However, with your foreach loop, an implicit cast to the specific type is inserted by the compiler, resulting in your <code>ClassCastException</code>.  The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.14.2\" rel=\"nofollow noreferrer\">JLS, Section 14.14.2</a>, gives the equivalent code for an enhanced for loop, showing the inserted cast:</p>\n<pre><code>for (I #i = Expression.iterator(); #i.hasNext(); ) {\n    {VariableModifier} T Identifier = (TargetType) #i.next();\n    Statement\n}\n</code></pre>\n<p>Use the proper type parameter for the <code>List</code>, and the proper type for the foreach loop:</p>\n<pre><code>// Change List&lt;String&gt; to List&lt;EmployeeLocation&gt; here.\nList&lt;EmployeeLocation&gt; locationList = getEmployeeLocationByQuery(&quot;name LIKE'&quot;+searchName+&quot;%'&quot;);\nSystem.out.println(&quot;print location&quot;);\nSystem.out.println(locationList);\n\n// Change loop variable type to EmployeeLocation, name it better.\nfor (EmployeeLocation location : locationList) {\n    System.out.println(&quot;Inside Loop&quot;);\n    System.out.println(location);\n}\n</code></pre>\n<p>As an aside, as suggested in a comment above, you need to fix your <a href=\"https://stackoverflow.com/questions/25024894/sql-injection-vulnerability-thru-preparedstatement\">SQL injection vulnerability</a>.</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76955895,"answer_count":1,"score":0,"last_activity_date":1692727998,"creation_date":1692726895,"question_id":76955787,"body_markdown":"I have the following code and running into some issues:\r\n\r\n\r\n    List&lt;String&gt; locationList = locmgr.getEmployeeLocationByQuery(&quot;name LIKE&#39;&quot;+searchName+&quot;%&#39;&quot;);\r\n    System.out.println(&quot;print location&quot;);\r\n    System.out.println(locationList);\r\n    \r\n    for (String list : locationList) {\r\n    System.out.println(&quot;Inside Loop&quot;);\r\n    System.out.println(list);\r\n    }\r\n\r\nThe print statements above the for loop are printing the following:\r\n\r\n    [INFO]  print location\r\n    [INFO]  [EmployeeLocation [id=83, name=firstname, description=tetetyet, comment=, locationId=6], EmployeeLocation [id=84, name=secondname, description=test, comment=, locationId=6]\r\n\r\nThe output that got printed out above is coming from the toString method that I&#39;ve inside the EmployeeLocation class.\r\n\r\nHowever, I believe as soon as it goes to the for loop, I get the following error. \r\n\r\n    [INFO]  java.lang.ClassCastException: class com.pending.model.EmployeeLocation cannot be cast \r\n    to class java.lang.String (com.pending.model.EmployeeLocation is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @7fae4d4a;\r\n     java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nEmployeeLocation is a class and it has getters and setters for id, name, description, comment and locationId. I want loop over the above EmployeeLocation object and get the id (83 and 84 respectively ) inside the loop.\r\n\r\nHow should I go about it?\r\n","title":"loop over the object returned by the class to get the id","body":"<p>I have the following code and running into some issues:</p>\n<pre><code>List&lt;String&gt; locationList = locmgr.getEmployeeLocationByQuery(&quot;name LIKE'&quot;+searchName+&quot;%'&quot;);\nSystem.out.println(&quot;print location&quot;);\nSystem.out.println(locationList);\n\nfor (String list : locationList) {\nSystem.out.println(&quot;Inside Loop&quot;);\nSystem.out.println(list);\n}\n</code></pre>\n<p>The print statements above the for loop are printing the following:</p>\n<pre><code>[INFO]  print location\n[INFO]  [EmployeeLocation [id=83, name=firstname, description=tetetyet, comment=, locationId=6], EmployeeLocation [id=84, name=secondname, description=test, comment=, locationId=6]\n</code></pre>\n<p>The output that got printed out above is coming from the toString method that I've inside the EmployeeLocation class.</p>\n<p>However, I believe as soon as it goes to the for loop, I get the following error.</p>\n<pre><code>[INFO]  java.lang.ClassCastException: class com.pending.model.EmployeeLocation cannot be cast \nto class java.lang.String (com.pending.model.EmployeeLocation is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @7fae4d4a;\n java.lang.String is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>EmployeeLocation is a class and it has getters and setters for id, name, description, comment and locationId. I want loop over the above EmployeeLocation object and get the id (83 and 84 respectively ) inside the loop.</p>\n<p>How should I go about it?</p>\n"},{"tags":["java","quarkus","junit5","rest-assured","jacoco"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1692726484,"post_id":76955653,"comment_id":135662866,"body_markdown":"Maybe if you simplified the logic?  For example (assuming you handle negative values correctly first) then you don&#39;t need to say &quot;&gt;= 31&quot; if the preceding cases have already handled all possibilities up to and including 30.","body":"Maybe if you simplified the logic?  For example (assuming you handle negative values correctly first) then you don&#39;t need to say &quot;&gt;= 31&quot; if the preceding cases have already handled all possibilities up to and including 30."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1692726963,"post_id":76955653,"comment_id":135662977,"body_markdown":"The last else branch was never activated by the test. Add at least one negative number to test input.","body":"The last else branch was never activated by the test. Add at least one negative number to test input."},{"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"score":0,"creation_date":1692727015,"post_id":76955653,"comment_id":135662985,"body_markdown":"Thanks @zforgo I added a negative number. Now its good.","body":"Thanks @zforgo I added a negative number. Now its good."}],"answers":[{"tags":[],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692727819,"creation_date":1692726967,"answer_id":76955795,"question_id":76955653,"body_markdown":"In @ValueSource I added a negative value -1. Now JaCoCo can able to cover all the branches \r\n\r\n    @ParameterizedTest\r\n    @ValueSource(doubles = {-1, 1, 0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\r\n            35.212, 45.677 })\r\n    public void testMitoKm(double miles) {...}\r\n\r\nAfter add -1 in valuesource jacoco can able to cover all the else if conditions.","title":"Jacoco branch coverage unable to cover else if statement","body":"<p>In @ValueSource I added a negative value -1. Now JaCoCo can able to cover all the branches</p>\n<pre><code>@ParameterizedTest\n@ValueSource(doubles = {-1, 1, 0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\n        35.212, 45.677 })\npublic void testMitoKm(double miles) {...}\n</code></pre>\n<p>After add -1 in valuesource jacoco can able to cover all the else if conditions.</p>\n"}],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692727819,"creation_date":1692725645,"question_id":76955653,"body_markdown":"I have written a rest API in quarkus to convert miles to kilometer.\r\n\r\n```java\r\n@GET\r\n@Path(&quot;/miles-to-kilometers&quot;)\r\npublic Response milesToKilometers(@QueryParam(&quot;value&quot;) double miles) {\r\n    double kilometers = miles * 1.60934;\r\n    String answer = String.format(&quot;Kilometers: %.3f&quot;, kilometers);\r\n\r\n    int roundedKms = (int) Math.floor(kilometers);\r\n\r\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\r\n        answer = answer.concat(&quot; is below 10&quot;);\r\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\r\n        answer = answer.concat(&quot; is below 20&quot;);\r\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\r\n        answer = answer.concat(&quot; is below 30&quot;);\r\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\r\n        answer = answer.concat(&quot; is below 40&quot;);\r\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\r\n        answer = answer.concat(&quot; is below 50&quot;);\r\n    } else if (roundedKms &gt;= 51) {\r\n        answer = answer.concat(&quot; more than 50&quot;);\r\n    }\r\n\r\n    return Response.ok(payload, MediaType.TEXT_PLAIN).build();\r\n}\r\n```\r\n\r\nFor the above code snippet, I&#39;ve written a test case using junit\r\n\r\n```java\r\n@ParameterizedTest\r\n@ValueSource(doubles = { 1, 0, 5.0, 15.0, 25.0, 35.0, 45.0, 55.0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\r\n        35.212, 45.677 })\r\npublic void testMitoKm(double miles) {\r\n    String url = String.format(&quot;/miles-to-kilometers=%.2f&quot;, miles);\r\n    given()\r\n        .when().get(url)\r\n        .then()\r\n        .statusCode(200)\r\n        .body(containsString(&quot;Kilometers: &quot;))\r\n        .body(containsString(getExpectedMessageForMiles(miles)));\r\n}\r\n\r\nprivate String getExpectedMessageForMiles(double miles) {\r\n    double kilometers = miles * 1.60934;\r\n    int roundedKms = (int) Math.floor(kilometers);\r\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\r\n        return &quot; is below 10&quot;;\r\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\r\n        return &quot; is below 20&quot;;\r\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\r\n        return &quot; is below 30&quot;;\r\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\r\n        return &quot; is below 40&quot;;\r\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\r\n        return &quot; unbelievable&quot;;\r\n    } else if (roundedKms &gt;= 51) {\r\n        return &quot; is below 50&quot;;\r\n    } else {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe if and else if branches are still not covered by the Jacoco.\r\nDisplaying that 1/4 branches are not covered.\r\nGiving yellow warning lines over the else if statements.\r\nHow to cover all the branches for this given snippet in jacoco ?","title":"Jacoco branch coverage unable to cover else if statement","body":"<p>I have written a rest API in quarkus to convert miles to kilometer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Path(&quot;/miles-to-kilometers&quot;)\npublic Response milesToKilometers(@QueryParam(&quot;value&quot;) double miles) {\n    double kilometers = miles * 1.60934;\n    String answer = String.format(&quot;Kilometers: %.3f&quot;, kilometers);\n\n    int roundedKms = (int) Math.floor(kilometers);\n\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\n        answer = answer.concat(&quot; is below 10&quot;);\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\n        answer = answer.concat(&quot; is below 20&quot;);\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\n        answer = answer.concat(&quot; is below 30&quot;);\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\n        answer = answer.concat(&quot; is below 40&quot;);\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\n        answer = answer.concat(&quot; is below 50&quot;);\n    } else if (roundedKms &gt;= 51) {\n        answer = answer.concat(&quot; more than 50&quot;);\n    }\n\n    return Response.ok(payload, MediaType.TEXT_PLAIN).build();\n}\n</code></pre>\n<p>For the above code snippet, I've written a test case using junit</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@ValueSource(doubles = { 1, 0, 5.0, 15.0, 25.0, 35.0, 45.0, 55.0, 2.688, 5.645, 11.789, 15.678, 20.678, 28.211,\n        35.212, 45.677 })\npublic void testMitoKm(double miles) {\n    String url = String.format(&quot;/miles-to-kilometers=%.2f&quot;, miles);\n    given()\n        .when().get(url)\n        .then()\n        .statusCode(200)\n        .body(containsString(&quot;Kilometers: &quot;))\n        .body(containsString(getExpectedMessageForMiles(miles)));\n}\n\nprivate String getExpectedMessageForMiles(double miles) {\n    double kilometers = miles * 1.60934;\n    int roundedKms = (int) Math.floor(kilometers);\n    if (roundedKms &gt;= 0 &amp;&amp; roundedKms &lt;= 10) {\n        return &quot; is below 10&quot;;\n    } else if (roundedKms &gt;= 11 &amp;&amp; roundedKms &lt;= 20) {\n        return &quot; is below 20&quot;;\n    } else if (roundedKms &gt;= 21 &amp;&amp; roundedKms &lt;= 30) {\n        return &quot; is below 30&quot;;\n    } else if (roundedKms &gt;= 31 &amp;&amp; roundedKms &lt;= 40) {\n        return &quot; is below 40&quot;;\n    } else if (roundedKms &gt;= 41 &amp;&amp; roundedKms &lt;= 50) {\n        return &quot; unbelievable&quot;;\n    } else if (roundedKms &gt;= 51) {\n        return &quot; is below 50&quot;;\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>The if and else if branches are still not covered by the Jacoco.\nDisplaying that 1/4 branches are not covered.\nGiving yellow warning lines over the else if statements.\nHow to cover all the branches for this given snippet in jacoco ?</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1692726805,"post_id":76955755,"comment_id":135662944,"body_markdown":"What do you mean by &quot;memory of caller function&quot;?","body":"What do you mean by &quot;memory of caller function&quot;?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692726819,"post_id":76955755,"comment_id":135662947,"body_markdown":"What do you mean by the memory of the caller function?","body":"What do you mean by the memory of the caller function?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692726916,"post_id":76955755,"comment_id":135662969,"body_markdown":"What do you mean by the *memory of the caller function*?","body":"What do you mean by the <i>memory of the caller function</i>?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1692727840,"post_id":76955755,"comment_id":135663167,"body_markdown":"Pulling out a variable never makes any difference to the concerns you&#39;re describing.","body":"Pulling out a variable never makes any difference to the concerns you&#39;re describing."},{"owner":{"account_id":1355771,"reputation":1302,"user_id":1294193,"display_name":"Rex Charles"},"score":1,"creation_date":1692730957,"post_id":76955755,"comment_id":135663802,"body_markdown":"It may be good to understand the different types of memory in Java. These include Heap, Stack, Code and Static. In general, the params of funcB would be evaluated to stack of funcA. Here are some good resources for understanding memory allocation in java -&gt; https://www.guru99.com/java-stack-heap.html","body":"It may be good to understand the different types of memory in Java. These include Heap, Stack, Code and Static. In general, the params of funcB would be evaluated to stack of funcA. Here are some good resources for understanding memory allocation in java -&gt; <a href=\"https://www.guru99.com/java-stack-heap.html\" rel=\"nofollow noreferrer\">guru99.com/java-stack-heap.html</a>"},{"owner":{"account_id":1355771,"reputation":1302,"user_id":1294193,"display_name":"Rex Charles"},"score":0,"creation_date":1692731362,"post_id":76955755,"comment_id":135663875,"body_markdown":"**Correction...evaluated to the same frame in the stack of funcB.","body":"**Correction...evaluated to the same frame in the stack of funcB."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692731879,"post_id":76955755,"comment_id":135663976,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1692733856,"post_id":76955755,"comment_id":135664344,"body_markdown":"You should only be using a variable if you need to re-use the value.","body":"You should only be using a variable if you need to re-use the value."}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1692740966,"post_id":76955851,"comment_id":135665302,"body_markdown":"Java is always pass by value. But, for Objects, the value is a copy of the reference. See https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value/49330809","body":"Java is always pass by value. But, for Objects, the value is a copy of the reference. See <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value/49330809\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692727541,"creation_date":1692727541,"answer_id":76955851,"question_id":76955755,"body_markdown":"It doesn&#39;t make sense to talk about &#39;memory of the caller&#39; in Java. All the object instances reside in the same shared memory pool called Heap in the Java Virtual Machine. Memory does not belong to a specific method in Java. By the way, just to be clear on the terminology, `funcA` and `funcA` are most likely methods of some Class rather than functions.\r\n\r\nWith respect to assigning to a variable, you have to understand that in Java there are two ways of passing arguments:\r\n* Primitive types are passed by value always\r\n* Objects are passed by reference always\r\n\r\nAssigning an object to a variable is just assigning a reference to the same object. You should assign to a variable only if it makes the code more clear, not because of memory concerns. ","title":"Is the argument that I pass to a function stored in the caller function&#39;s memory?","body":"<p>It doesn't make sense to talk about 'memory of the caller' in Java. All the object instances reside in the same shared memory pool called Heap in the Java Virtual Machine. Memory does not belong to a specific method in Java. By the way, just to be clear on the terminology, <code>funcA</code> and <code>funcA</code> are most likely methods of some Class rather than functions.</p>\n<p>With respect to assigning to a variable, you have to understand that in Java there are two ways of passing arguments:</p>\n<ul>\n<li>Primitive types are passed by value always</li>\n<li>Objects are passed by reference always</li>\n</ul>\n<p>Assigning an object to a variable is just assigning a reference to the same object. You should assign to a variable only if it makes the code more clear, not because of memory concerns.</p>\n"}],"owner":{"account_id":11919160,"reputation":17,"user_id":9816155,"display_name":"Mayank"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692727541,"creation_date":1692726668,"question_id":76955755,"body_markdown":"When I call a function are the parameters used to call stored in the memory of caller function?\r\n\r\n\r\nIf I make a call to funcA like below, will the evaluated value of funcB(params) stored inside the memory of main(). Is storing the value of funcB(params) in a variable and then passing it to funcA more efficient?\r\n\r\n```\r\nmain() {\r\n\r\nfuncA(funcB(params))\r\n\r\n}\r\n```","title":"Is the argument that I pass to a function stored in the caller function&#39;s memory?","body":"<p>When I call a function are the parameters used to call stored in the memory of caller function?</p>\n<p>If I make a call to funcA like below, will the evaluated value of funcB(params) stored inside the memory of main(). Is storing the value of funcB(params) in a variable and then passing it to funcA more efficient?</p>\n<pre><code>main() {\n\nfuncA(funcB(params))\n\n}\n</code></pre>\n"},{"tags":["java","docker-compose","dockerfile","musl"],"comments":[{"owner":{"account_id":20873967,"reputation":394,"user_id":15333232,"display_name":"joe1531"},"score":0,"creation_date":1677591313,"post_id":72034504,"comment_id":133364987,"body_markdown":"Do you mind posting how you fixed it ? I&#39;m having the same error with my alpine DinD image","body":"Do you mind posting how you fixed it ? I&#39;m having the same error with my alpine DinD image"}],"answers":[{"tags":[],"owner":{"account_id":6003647,"reputation":51,"user_id":4716187,"display_name":"Rohit Tandon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657725279,"creation_date":1657725279,"answer_id":72968652,"question_id":72034504,"body_markdown":"It seems azul/zulu-openjdk-alpine:11 doesn&#39;t have arm64 image needed to run on Apple silicon architecture. \r\n\r\nTry updating to jdk 17 image with arm64 support https://hub.docker.com/r/azul/zulu-openjdk-alpine/","title":"qemu-x86_64: Could not open &#39;/lib/ld-musl-x86_64.so.1&#39;: No such file or directory","body":"<p>It seems azul/zulu-openjdk-alpine:11 doesn't have arm64 image needed to run on Apple silicon architecture.</p>\n<p>Try updating to jdk 17 image with arm64 support <a href=\"https://hub.docker.com/r/azul/zulu-openjdk-alpine/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/azul/zulu-openjdk-alpine/</a></p>\n"}],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13289,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1692727229,"creation_date":1651088891,"question_id":72034504,"body_markdown":"Has anyone come across this error when trying to execute a `docker-compose up` command.\r\n\r\nI have tried to resolve it by looking at other articles that touch on something similar but I am having no success. \r\n\r\nI am trying to run my spring boot app using a docker-compose file and I keep getting this error:\r\n\r\n    qemu-x86_64: Could not open &#39;/lib/ld-musl-x86_64.so.1&#39;: No such file or directory\r\n\r\nI have tried to fix it by following the advice I read online but nothing has worked.\r\n\r\nI have tried:\r\n\r\nAfter reading this post: https://github.com/nodejs/help/issues/3239\r\nadding the following\r\n \r\n\r\n    platform: linux/amd64\r\n\r\nto my docker-compose file but it doesn&#39;t make a difference\r\n\r\nand tried `FROM --platform=linux/amd64` in front of my Dockerfile\r\n\r\nWhen I read this I tried to install `musl` as well but failed to execute the `make` command\r\n\r\n    curl https://musl.libc.org/releases/musl-1.2.2.tar.gz -o musl-1.2.2.tar.gz\r\n    tar -xvf musl-1.2.2.tar.gz\r\n    cd musl-1.2.2\r\n    ./configure\r\n    make \r\n    make install\r\n\r\nMy Docker file looks like this \r\n\r\n    \r\n\r\n    FROM azul/zulu-openjdk-alpine:11 as packager\r\n    \r\n    RUN { \\\r\n            java --version ; \\\r\n            echo &quot;jlink version:&quot; &amp;&amp; \\\r\n            jlink --version ; \\\r\n        }\r\n    \r\n    ENV JAVA_MINIMAL=/opt/jre\r\n    \r\n    # build modules distribution\r\n    RUN jlink \\\r\n        --verbose \\\r\n        --add-modules \\\r\n            java.base,java.sql,java.naming,java.desktop,java.management,java.security.jgss,java.instrument \\\r\n            # java.naming - javax/naming/NamingException\r\n            # java.desktop - java/beans/PropertyEditorSupport\r\n            # java.management - javax/management/MBeanServer\r\n            # java.security.jgss - org/ietf/jgss/GSSException\r\n            # java.instrument - java/lang/instrument/IllegalClassFormatException\r\n        --compress 2 \\\r\n        --strip-debug \\\r\n        --no-header-files \\\r\n        --no-man-pages \\\r\n        --output &quot;$JAVA_MINIMAL&quot;\r\n    \r\n    # Second stage, add only our minimal &quot;JRE&quot; distr and our app\r\n    FROM alpine\r\n    \r\n    ENV JAVA_MINIMAL=/opt/jre\r\n    ENV PATH=&quot;$PATH:$JAVA_MINIMAL/bin&quot;\r\n    \r\n    COPY --from=packager &quot;$JAVA_MINIMAL&quot; &quot;$JAVA_MINIMAL&quot;\r\n    COPY &quot;build/libs/company-coordinator-app-0.0.1-SNAPSHOT.jar&quot; &quot;/company-coordinator-app.jar&quot;\r\n    \r\n    EXPOSE 8080\r\n    CMD [ &quot;-jar&quot;, &quot;/company-coordinator-app.jar&quot; ]\r\n    ENTRYPOINT [ &quot;java&quot; ]\r\n\r\nand my docker-compose.yml file looks like this\r\n\r\n        version: &#39;2&#39;\r\n    services:\r\n      company-coordinator-app:\r\n        container_name: &#39;company-coordinator-app&#39;\r\n        build:\r\n            context: /Users/ciaran/cmkdev/company-coordinator-project/company-coordinator-app\r\n            dockerfile: Dockerfile\r\n        image: springio/gs-spring-boot-docker\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n\r\n**I am running this off an M1 mbp**\r\n\r\nI read this post on here in an attempt to build my Dockerfile correctly as I needed to use Java 11.\r\n\r\nhttps://stackoverflow.com/questions/53669151/java-11-application-as-lightweight-docker-image/53669152#53669152\r\n\r\nIf anyone has any insights here it would be greatly appreciated.","title":"qemu-x86_64: Could not open &#39;/lib/ld-musl-x86_64.so.1&#39;: No such file or directory","body":"<p>Has anyone come across this error when trying to execute a <code>docker-compose up</code> command.</p>\n<p>I have tried to resolve it by looking at other articles that touch on something similar but I am having no success.</p>\n<p>I am trying to run my spring boot app using a docker-compose file and I keep getting this error:</p>\n<pre><code>qemu-x86_64: Could not open '/lib/ld-musl-x86_64.so.1': No such file or directory\n</code></pre>\n<p>I have tried to fix it by following the advice I read online but nothing has worked.</p>\n<p>I have tried:</p>\n<p>After reading this post: <a href=\"https://github.com/nodejs/help/issues/3239\" rel=\"noreferrer\">https://github.com/nodejs/help/issues/3239</a>\nadding the following</p>\n<pre><code>platform: linux/amd64\n</code></pre>\n<p>to my docker-compose file but it doesn't make a difference</p>\n<p>and tried <code>FROM --platform=linux/amd64</code> in front of my Dockerfile</p>\n<p>When I read this I tried to install <code>musl</code> as well but failed to execute the <code>make</code> command</p>\n<pre><code>curl https://musl.libc.org/releases/musl-1.2.2.tar.gz -o musl-1.2.2.tar.gz\ntar -xvf musl-1.2.2.tar.gz\ncd musl-1.2.2\n./configure\nmake \nmake install\n</code></pre>\n<p>My Docker file looks like this</p>\n<pre><code>FROM azul/zulu-openjdk-alpine:11 as packager\n\nRUN { \\\n        java --version ; \\\n        echo &quot;jlink version:&quot; &amp;&amp; \\\n        jlink --version ; \\\n    }\n\nENV JAVA_MINIMAL=/opt/jre\n\n# build modules distribution\nRUN jlink \\\n    --verbose \\\n    --add-modules \\\n        java.base,java.sql,java.naming,java.desktop,java.management,java.security.jgss,java.instrument \\\n        # java.naming - javax/naming/NamingException\n        # java.desktop - java/beans/PropertyEditorSupport\n        # java.management - javax/management/MBeanServer\n        # java.security.jgss - org/ietf/jgss/GSSException\n        # java.instrument - java/lang/instrument/IllegalClassFormatException\n    --compress 2 \\\n    --strip-debug \\\n    --no-header-files \\\n    --no-man-pages \\\n    --output &quot;$JAVA_MINIMAL&quot;\n\n# Second stage, add only our minimal &quot;JRE&quot; distr and our app\nFROM alpine\n\nENV JAVA_MINIMAL=/opt/jre\nENV PATH=&quot;$PATH:$JAVA_MINIMAL/bin&quot;\n\nCOPY --from=packager &quot;$JAVA_MINIMAL&quot; &quot;$JAVA_MINIMAL&quot;\nCOPY &quot;build/libs/company-coordinator-app-0.0.1-SNAPSHOT.jar&quot; &quot;/company-coordinator-app.jar&quot;\n\nEXPOSE 8080\nCMD [ &quot;-jar&quot;, &quot;/company-coordinator-app.jar&quot; ]\nENTRYPOINT [ &quot;java&quot; ]\n</code></pre>\n<p>and my docker-compose.yml file looks like this</p>\n<pre><code>    version: '2'\nservices:\n  company-coordinator-app:\n    container_name: 'company-coordinator-app'\n    build:\n        context: /Users/ciaran/cmkdev/company-coordinator-project/company-coordinator-app\n        dockerfile: Dockerfile\n    image: springio/gs-spring-boot-docker\n    ports:\n      - &quot;8080:8080&quot;\n</code></pre>\n<p><strong>I am running this off an M1 mbp</strong></p>\n<p>I read this post on here in an attempt to build my Dockerfile correctly as I needed to use Java 11.</p>\n<p><a href=\"https://stackoverflow.com/questions/53669151/java-11-application-as-lightweight-docker-image/53669152#53669152\">Java 11 application as lightweight docker image</a></p>\n<p>If anyone has any insights here it would be greatly appreciated.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692737032,"post_id":76955762,"comment_id":135664791,"body_markdown":"`+ &#39;&amp;bull;&#39; +` works for me","body":"<code>+ &#39;&amp;bull;&#39; +</code> works for me"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692799072,"post_id":76955762,"comment_id":135673503,"body_markdown":"If you place `&amp;bull;` *outside* of your `h2` element, in regular markup, does it render correctly?","body":"If you place <code>&amp;bull;</code> <i>outside</i> of your <code>h2</code> element, in regular markup, does it render correctly?"}],"owner":{"account_id":24739253,"reputation":25,"user_id":18626207,"display_name":"kyleryan1291"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692726726,"creation_date":1692726726,"question_id":76955762,"body_markdown":"I&#39;m having an issue trying to display the bullet symbol on my template with Thymeleaf. Instead of the bullet symbol appearing, a ? is shown in its place.\r\n\r\nI&#39;ve tried:\r\n\r\n - Using HTML codes such as `&amp;#8226; &amp;#x2022; &amp;bull;`\r\n - Using Unicode\r\n - Having Java create the symbol and adding it to the template\r\n - Using `th:text` and `th:utext`\r\n\r\nAll my attempts failed. There has to be a way to have Thymeleaf render it\r\n\r\n```\r\n&lt;h2 class=&quot;dates&quot; th:utext=&quot;${month} + &#39; &#39; + ${dateOne} + &#39; &#39; + ${dateTwo} + ${bullet} + ${dateThree} + &#39;, &#39; + ${year}&quot;&gt;&lt;/h2&gt;\r\n```","title":"Thymeleaf cannot render bullet symbol","body":"<p>I'm having an issue trying to display the bullet symbol on my template with Thymeleaf. Instead of the bullet symbol appearing, a ? is shown in its place.</p>\n<p>I've tried:</p>\n<ul>\n<li>Using HTML codes such as <code>&amp;#8226; &amp;#x2022; &amp;bull;</code></li>\n<li>Using Unicode</li>\n<li>Having Java create the symbol and adding it to the template</li>\n<li>Using <code>th:text</code> and <code>th:utext</code></li>\n</ul>\n<p>All my attempts failed. There has to be a way to have Thymeleaf render it</p>\n<pre><code>&lt;h2 class=&quot;dates&quot; th:utext=&quot;${month} + ' ' + ${dateOne} + ' ' + ${dateTwo} + ${bullet} + ${dateThree} + ', ' + ${year}&quot;&gt;&lt;/h2&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":13439704,"reputation":320,"user_id":9697205,"display_name":"Abhi"},"score":0,"creation_date":1564999936,"post_id":57356354,"comment_id":101199808,"body_markdown":"block() operation, stops and waits. Won&#39;t it defeat the purpose of non-blocking code?","body":"block() operation, stops and waits. Won&#39;t it defeat the purpose of non-blocking code?"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1565000463,"post_id":57356354,"comment_id":101200093,"body_markdown":"I have updated my answer (`post` call) which is fire &amp; forget model.","body":"I have updated my answer (<code>post</code> call) which is fire &amp; forget model."},{"owner":{"account_id":13439704,"reputation":320,"user_id":9697205,"display_name":"Abhi"},"score":0,"creation_date":1565000806,"post_id":57356354,"comment_id":101200298,"body_markdown":"I want to get the response body as String","body":"I want to get the response body as String"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1565001676,"post_id":57356354,"comment_id":101200709,"body_markdown":"Again I have updated the answer. You can convert the response using google Gson library. Also If you want to read the response, you have to wait for the response.","body":"Again I have updated the answer. You can convert the response using google Gson library. Also If you want to read the response, you have to wait for the response."},{"owner":{"account_id":13439704,"reputation":320,"user_id":9697205,"display_name":"Abhi"},"score":0,"creation_date":1565002406,"post_id":57356354,"comment_id":101201057,"body_markdown":"Thanks, Just for a clarification .To read the response and perform parsing on it later, like given above in my present project. Is using block() the only way?","body":"Thanks, Just for a clarification .To read the response and perform parsing on it later, like given above in my present project. Is using block() the only way?"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1565003803,"post_id":57356354,"comment_id":101201791,"body_markdown":"There may or mayn&#39;t be an option. As for as I know that&#39;s the only way. Thanks.","body":"There may or mayn&#39;t be an option. As for as I know that&#39;s the only way. Thanks."},{"owner":{"account_id":434554,"reputation":734,"user_id":820594,"display_name":"Captain"},"score":1,"creation_date":1565013510,"post_id":57356354,"comment_id":101207192,"body_markdown":"There is never a valid reason to use `.block()` with WebClient. If you are needing to use it there is a bigger architectural issue with your application.","body":"There is never a valid reason to use <code>.block()</code> with WebClient. If you are needing to use it there is a bigger architectural issue with your application."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":3,"creation_date":1565032418,"post_id":57356354,"comment_id":101215829,"body_markdown":"_&#39;There is never a valid reason to use .block() with WebClient.&#39;_\nThat&#39;s a harsh statement. If you&#39;d like to adopt reactive programming slowly, step-by-step it could make sense to start with WebClient and blocking it. It does no harm in a synchronous, blocking system.\nAlso, check out RestTemplate API docs: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\nRestTemplate is deprecated and WebClient is the replacement (even in blocking systems).","body":"<i>&#39;There is never a valid reason to use .block() with WebClient.&#39;</i> That&#39;s a harsh statement. If you&#39;d like to adopt reactive programming slowly, step-by-step it could make sense to start with WebClient and blocking it. It does no harm in a synchronous, blocking system. Also, check out RestTemplate API docs: <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a> RestTemplate is deprecated and WebClient is the replacement (even in blocking systems)."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1565036823,"post_id":57356354,"comment_id":101217569,"body_markdown":"@PaulWillems in a non reactive application there is full reason to use block due to the fact that a non reactive application runs with tomcat as the underlying server implementation that will assign one thread to each request and you dont get the same performance benefits as using jetty.","body":"@PaulWillems in a non reactive application there is full reason to use block due to the fact that a non reactive application runs with tomcat as the underlying server implementation that will assign one thread to each request and you dont get the same performance benefits as using jetty."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1565036989,"post_id":57356354,"comment_id":101217638,"body_markdown":"you have no reason to use Gson, weblicnt uses per default Jackson as the underlying serializer/deserializer so you could `responseSpec.bodyToMono(String.class).block()` just more overhead to indroduce an additional serializer/deserializer. And it is also bad practice to call `new` Gson on each call.","body":"you have no reason to use Gson, weblicnt uses per default Jackson as the underlying serializer/deserializer so you could <code>responseSpec.bodyToMono(String.class).block()</code> just more overhead to indroduce an additional serializer/deserializer. And it is also bad practice to call <code>new</code> Gson on each call."}],"tags":[],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"comment_count":10,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1565001519,"creation_date":1564999557,"answer_id":57356354,"question_id":57355725,"body_markdown":"The first step is to build `WebClient` object with the baseUrl; \r\n\r\n```\r\nWebClient webClient = WebClient.builder()\r\n\t.baseUrl(&quot;http://localhost:8080/api&quot;) //baseUrl\r\n\t.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n\t.build();\r\n```\r\n\r\nThen choose the method and append the path along with the request variables or body payload.\r\n```\r\nResponseSpec responseSpec = webClient\r\n\t.get()\r\n\t.uri(uriBuilder -&gt; uriBuilder.path(&quot;/findById&quot;) //additional path\r\n\t\t.queryParam(&quot;id&quot;, id).build())\r\n\t.retrieve()\r\n\t.onStatus(HttpStatus::is4xxClientError, response -&gt; Mono.error(new CustomRuntimeException(&quot;Error&quot;)));\r\n```\r\n\r\nWait for the response with `block()` function of `bodyToMono`. If you want response as String, you can convert it using google&#39;s gson library.\r\n```\r\nObject response = responseSpec.bodyToMono(Object.class).block();\r\nGson gson = new Gson();\r\nString str = gson.toJson(response);\r\n```\r\n\r\nIf you don&#39;t want to need to know the status of the api call, you can do like following.\r\n```\r\nwebClient\r\n\t.post()\r\n\t.uri(uri -&gt; uri.path(&quot;/save&quot;).build())\r\n\t.body( BodyInserters.fromObject(payload) )\r\n\t.exchange().subscribe();\r\n```","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>The first step is to build <code>WebClient</code> object with the baseUrl; </p>\n\n<pre><code>WebClient webClient = WebClient.builder()\n    .baseUrl(\"http://localhost:8080/api\") //baseUrl\n    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n    .build();\n</code></pre>\n\n<p>Then choose the method and append the path along with the request variables or body payload.</p>\n\n<pre><code>ResponseSpec responseSpec = webClient\n    .get()\n    .uri(uriBuilder -&gt; uriBuilder.path(\"/findById\") //additional path\n        .queryParam(\"id\", id).build())\n    .retrieve()\n    .onStatus(HttpStatus::is4xxClientError, response -&gt; Mono.error(new CustomRuntimeException(\"Error\")));\n</code></pre>\n\n<p>Wait for the response with <code>block()</code> function of <code>bodyToMono</code>. If you want response as String, you can convert it using google's gson library.</p>\n\n<pre><code>Object response = responseSpec.bodyToMono(Object.class).block();\nGson gson = new Gson();\nString str = gson.toJson(response);\n</code></pre>\n\n<p>If you don't want to need to know the status of the api call, you can do like following.</p>\n\n<pre><code>webClient\n    .post()\n    .uri(uri -&gt; uri.path(\"/save\").build())\n    .body( BodyInserters.fromObject(payload) )\n    .exchange().subscribe();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13439704,"reputation":320,"user_id":9697205,"display_name":"Abhi"},"score":1,"creation_date":1565011984,"post_id":57359092,"comment_id":101206284,"body_markdown":"Thanks . But In all the examples that I went through, response is returned from controller itself and there is no need for further\nprocessing of data before passing it to the controller. But in my case I need to transform the obtained response from the third party before passing it to\ncontroller. i am confused on how can I achieve it without blocking code","body":"Thanks . But In all the examples that I went through, response is returned from controller itself and there is no need for further processing of data before passing it to the controller. But in my case I need to transform the obtained response from the third party before passing it to controller. i am confused on how can I achieve it without blocking code"},{"owner":{"account_id":434554,"reputation":734,"user_id":820594,"display_name":"Captain"},"score":0,"creation_date":1565012510,"post_id":57359092,"comment_id":101206626,"body_markdown":"@Abhi That is precisely what I was trying to demonstrate with `.map(transformer::transform)`. This is where you would do the transformation. I will update the example a little to make it clearer.","body":"@Abhi That is precisely what I was trying to demonstrate with <code>.map(transformer::transform)</code>. This is where you would do the transformation. I will update the example a little to make it clearer."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":5,"creation_date":1565037062,"post_id":57359092,"comment_id":101217676,"body_markdown":"This is flat out wrong. What you gain is a future proof client. Spring has officially said that they will deprecate `RestTemplate` in the future due to its blocking nature. So there is a lot to benefit from using `WebClient` over `RestTemplate`","body":"This is flat out wrong. What you gain is a future proof client. Spring has officially said that they will deprecate <code>RestTemplate</code> in the future due to its blocking nature. So there is a lot to benefit from using <code>WebClient</code> over <code>RestTemplate</code>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1565038690,"post_id":57359092,"comment_id":101218253,"body_markdown":"the question has code that returns a concrete value from its RequestMapping so it is safe to say it is a non-reactive application we are dealing with and your answer only applies to reactive applications.","body":"the question has code that returns a concrete value from its RequestMapping so it is safe to say it is a non-reactive application we are dealing with and your answer only applies to reactive applications."},{"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"score":4,"creation_date":1619552134,"post_id":57359092,"comment_id":118938812,"body_markdown":"Downvoted because \n\n`The first thing to understand is if you are needing to call .block() you might as well stick with RestTemplate, using WebClient will gain you nothing.`\n\nRestTemplate is deprecated so using WebClient with blocking calls will at least gain you access to a non-deprecated API.","body":"Downvoted because   <code>The first thing to understand is if you are needing to call .block() you might as well stick with RestTemplate, using WebClient will gain you nothing.</code>  RestTemplate is deprecated so using WebClient with blocking calls will at least gain you access to a non-deprecated API."}],"tags":[],"owner":{"account_id":434554,"reputation":734,"user_id":820594,"display_name":"Captain"},"comment_count":5,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1565013354,"creation_date":1565009911,"answer_id":57359092,"question_id":57355725,"body_markdown":"The first thing to understand is if you are needing to call `.block()` you might as well stick with `RestTemplate`, using WebClient will gain you nothing.\r\n\r\nYou need to start thinking in reactive terms if you want to gain from using WebClient. A reactive process is really just a sequence of steps, the input of each step being the output of the step before it. When a request comes in, your code creates the sequence of steps and returns immediately releasing the http thread. The framework then uses a pool of worker threads to execute each step when the input from the previous step becomes available.\r\n\r\nThe benefit is a huge gain in capacity to accept competing requests at the small cost of having to rethink the way you write code. Your application will only need a very small pool of http threads and another very small pool of worker threads.\r\n\r\nWhen your controller method is returning a `Mono` or `Flux`, you have got it right and there will be no need to call `block()`.\r\n\r\nSomething like this in it&#39;s simplest form:\r\n\r\n    @GetMapping(value = &quot;endpoint&quot;, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    @ResponseBody\r\n    @ResponseStatus(OK)\r\n    public Mono&lt;String&gt; controllerMethod() {\r\n\r\n        final UriComponentsBuilder builder =\r\n                UriComponentsBuilder.fromHttpUrl(&quot;http://base.url/&quot; + &quot;endpoint&quot;)\r\n                        .queryParam(&quot;param1&quot;, &quot;value&quot;);\r\n\r\n        return webClient\r\n                .get()\r\n                .uri(builder.build().encode().toUri())\r\n                .accept(APPLICATION_JSON_UTF8)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retry(4)\r\n                .doOnError(e -&gt; LOG.error(&quot;Boom!&quot;, e))\r\n                .map(s -&gt; {\r\n\r\n                    // This is your transformation step. \r\n                    // Map is synchronous so will run in the thread that processed the response. \r\n                    // Alternatively use flatMap (asynchronous) if the step will be long running. \r\n                    // For example, if it needs to make a call out to the database to do the transformation.\r\n\r\n                    return s.toLowerCase();\r\n                });\r\n    }\r\n\r\nMoving to thinking in reactive is a pretty big paradigm shift, but well worth the effort. Hang in there, it&#39;s really not that difficult once you can wrap your head around having no blocking code at all in your entire application. Build the steps and return them. Then let the framework manage the executions of the steps.\r\n\r\nHappy to provide more guidance if any of this is not clear.\r\n\r\nRemember to have fun :)","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>The first thing to understand is if you are needing to call <code>.block()</code> you might as well stick with <code>RestTemplate</code>, using WebClient will gain you nothing.</p>\n\n<p>You need to start thinking in reactive terms if you want to gain from using WebClient. A reactive process is really just a sequence of steps, the input of each step being the output of the step before it. When a request comes in, your code creates the sequence of steps and returns immediately releasing the http thread. The framework then uses a pool of worker threads to execute each step when the input from the previous step becomes available.</p>\n\n<p>The benefit is a huge gain in capacity to accept competing requests at the small cost of having to rethink the way you write code. Your application will only need a very small pool of http threads and another very small pool of worker threads.</p>\n\n<p>When your controller method is returning a <code>Mono</code> or <code>Flux</code>, you have got it right and there will be no need to call <code>block()</code>.</p>\n\n<p>Something like this in it's simplest form:</p>\n\n<pre><code>@GetMapping(value = \"endpoint\", produces = MediaType.TEXT_PLAIN_VALUE)\n@ResponseBody\n@ResponseStatus(OK)\npublic Mono&lt;String&gt; controllerMethod() {\n\n    final UriComponentsBuilder builder =\n            UriComponentsBuilder.fromHttpUrl(\"http://base.url/\" + \"endpoint\")\n                    .queryParam(\"param1\", \"value\");\n\n    return webClient\n            .get()\n            .uri(builder.build().encode().toUri())\n            .accept(APPLICATION_JSON_UTF8)\n            .retrieve()\n            .bodyToMono(String.class)\n            .retry(4)\n            .doOnError(e -&gt; LOG.error(\"Boom!\", e))\n            .map(s -&gt; {\n\n                // This is your transformation step. \n                // Map is synchronous so will run in the thread that processed the response. \n                // Alternatively use flatMap (asynchronous) if the step will be long running. \n                // For example, if it needs to make a call out to the database to do the transformation.\n\n                return s.toLowerCase();\n            });\n}\n</code></pre>\n\n<p>Moving to thinking in reactive is a pretty big paradigm shift, but well worth the effort. Hang in there, it's really not that difficult once you can wrap your head around having no blocking code at all in your entire application. Build the steps and return them. Then let the framework manage the executions of the steps.</p>\n\n<p>Happy to provide more guidance if any of this is not clear.</p>\n\n<p>Remember to have fun :)</p>\n"},{"comments":[{"owner":{"account_id":5474396,"reputation":181,"user_id":4458609,"display_name":"Soupy"},"score":1,"creation_date":1607962492,"post_id":57365926,"comment_id":115430031,"body_markdown":"If you want to get async calls without doing reactive programming, you can use the `toFuture()` method on `Mono` and `Flux` objects.","body":"If you want to get async calls without doing reactive programming, you can use the <code>toFuture()</code> method on <code>Mono</code> and <code>Flux</code> objects."},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1648152319,"post_id":57365926,"comment_id":126559014,"body_markdown":"Agree with @Scoupy: the question asks for non-blocking asynchronous calls, whereas in the example `block()` is called, which, per definition, blocks the reactive flow until the response is received. The example is good only if what you want to do is replace `RestTemplate` with `WebClient`.","body":"Agree with @Scoupy: the question asks for non-blocking asynchronous calls, whereas in the example <code>block()</code> is called, which, per definition, blocks the reactive flow until the response is received. The example is good only if what you want to do is replace <code>RestTemplate</code> with <code>WebClient</code>."}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":2,"down_vote_count":5,"up_vote_count":46,"is_accepted":true,"score":41,"last_activity_date":1648160472,"creation_date":1565038164,"answer_id":57365926,"question_id":57355725,"body_markdown":"Due to the fact that there are lot of misconception, so here I&#39;m going to clear up some things.\r\n\r\nSpring has officially stated that `RestTemplate` is in `maintenence mode` so if you can, use `WebClient` if you want to be as future proof as possible.\r\n\r\nas stated in the [RestTemplate API][1]\r\n\r\n&gt; **NOTE**: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the `org.springframework.web.reactive.client.WebClient` which has a more modern API and supports sync, async, and streaming scenarios.\r\n\r\n**Non reactive application**\r\n\r\nIf your application is a non-reactive application (not returning fluxes or monos to the calling clients) what you have to do is to use `block()` if you need the value. You can of course use `Mono` or `Flux` internally in your application but in the end you must call `block()` to get the concrete value that you need to return to the calling client.\r\n\r\nNon reactive applications use for instance `tomcat`, `undertow` as the underlying server implementation, which follows the servlet specification so it will assign 1 thread per request so you will not gain the performance gains you get with a reactive application. \r\n\r\n**Reactive application**\r\n\r\nIf you on the other hand you have a reactive application you should never under any circumstances ever call `block()` in your application. Blocking is exactly what it says, it will block a thread and block that threads execution until it can move on, this is bad in a reactive world.\r\n\r\nYou should also not call `subscribe` in your application **unless your application is the final consumer of the response**. For instance, if you are calling an api to get data and write into a database that your application is connected to. Your backend application is the final consumer. If an external client is calling your backend (for instance an react, angular app, mobile client, etc. etc.) the external client is the final consumer, and is the one subscribing. Not you.\r\n\r\nUnderlying default server implementation here is a `netty` server which is a non servlet, event based server that will **not** assign one thread to each request, the server itself is thread agnostic and any thread available will handle anything at any time during any request.\r\n\r\nThe [webflux documentation][2] clearly states that both servlet 3.1+ supported servers tomcat and jetty can be used with webflux as well as non-serlet servers netty and undertow.\r\n\r\n**How do i know what application i have?**\r\n\r\nSpring states that if you have both `spring-web` and `spring-webflux` on the classpath, the application will favor `spring-web` and per default start up a non-reactive application with an underlying tomcat server.\r\n\r\nThis behaviour can manually be overridden if needed as spring states.\r\n\r\n&gt; Adding both `spring-boot-starter-web` and `spring-boot-starter-webflux` modules in your application results in Spring Boot auto-configuring Spring MVC, not WebFlux. This behavior has been chosen because many Spring developers add `spring-boot-starter-webflux` to their Spring MVC application to use the reactive WebClient. You can still enforce your choice by setting the chosen application type to `SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)`.\r\n\r\n[The Spring WebFlux Framework][3]\r\n\r\n**So how to implement WebClient in accordance to code provided by the question?**\r\n\r\n    @Retryable(maxAttempts = 4,\r\n           value = java.net.ConnectException.class,\r\n           backoff = @Backoff(delay = 3000, multiplier = 2))\r\n    public Mono&lt;String&gt; getResponse(String url) {\r\n        return webClient.get()\r\n                .uri(url)\r\n                .exchange()\r\n                .flatMap(response -&gt; response.toEntity(String.class));\r\n    }\r\n\r\nI would say this is the easiest and the most less intrusive implementation. You of course need to build a proper webclient in maybe a `@Bean` and autowire it into its class.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-server-choice\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-webflux","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>Due to the fact that there are lot of misconception, so here I'm going to clear up some things.</p>\n<p>Spring has officially stated that <code>RestTemplate</code> is in <code>maintenence mode</code> so if you can, use <code>WebClient</code> if you want to be as future proof as possible.</p>\n<p>as stated in the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">RestTemplate API</a></p>\n<blockquote>\n<p><strong>NOTE</strong>: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the <code>org.springframework.web.reactive.client.WebClient</code> which has a more modern API and supports sync, async, and streaming scenarios.</p>\n</blockquote>\n<p><strong>Non reactive application</strong></p>\n<p>If your application is a non-reactive application (not returning fluxes or monos to the calling clients) what you have to do is to use <code>block()</code> if you need the value. You can of course use <code>Mono</code> or <code>Flux</code> internally in your application but in the end you must call <code>block()</code> to get the concrete value that you need to return to the calling client.</p>\n<p>Non reactive applications use for instance <code>tomcat</code>, <code>undertow</code> as the underlying server implementation, which follows the servlet specification so it will assign 1 thread per request so you will not gain the performance gains you get with a reactive application.</p>\n<p><strong>Reactive application</strong></p>\n<p>If you on the other hand you have a reactive application you should never under any circumstances ever call <code>block()</code> in your application. Blocking is exactly what it says, it will block a thread and block that threads execution until it can move on, this is bad in a reactive world.</p>\n<p>You should also not call <code>subscribe</code> in your application <strong>unless your application is the final consumer of the response</strong>. For instance, if you are calling an api to get data and write into a database that your application is connected to. Your backend application is the final consumer. If an external client is calling your backend (for instance an react, angular app, mobile client, etc. etc.) the external client is the final consumer, and is the one subscribing. Not you.</p>\n<p>Underlying default server implementation here is a <code>netty</code> server which is a non servlet, event based server that will <strong>not</strong> assign one thread to each request, the server itself is thread agnostic and any thread available will handle anything at any time during any request.</p>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-server-choice\" rel=\"noreferrer\">webflux documentation</a> clearly states that both servlet 3.1+ supported servers tomcat and jetty can be used with webflux as well as non-serlet servers netty and undertow.</p>\n<p><strong>How do i know what application i have?</strong></p>\n<p>Spring states that if you have both <code>spring-web</code> and <code>spring-webflux</code> on the classpath, the application will favor <code>spring-web</code> and per default start up a non-reactive application with an underlying tomcat server.</p>\n<p>This behaviour can manually be overridden if needed as spring states.</p>\n<blockquote>\n<p>Adding both <code>spring-boot-starter-web</code> and <code>spring-boot-starter-webflux</code> modules in your application results in Spring Boot auto-configuring Spring MVC, not WebFlux. This behavior has been chosen because many Spring developers add <code>spring-boot-starter-webflux</code> to their Spring MVC application to use the reactive WebClient. You can still enforce your choice by setting the chosen application type to <code>SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)</code>.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-webflux\" rel=\"noreferrer\">The Spring WebFlux Framework</a></p>\n<p><strong>So how to implement WebClient in accordance to code provided by the question?</strong></p>\n<pre><code>@Retryable(maxAttempts = 4,\n       value = java.net.ConnectException.class,\n       backoff = @Backoff(delay = 3000, multiplier = 2))\npublic Mono&lt;String&gt; getResponse(String url) {\n    return webClient.get()\n            .uri(url)\n            .exchange()\n            .flatMap(response -&gt; response.toEntity(String.class));\n}\n</code></pre>\n<p>I would say this is the easiest and the most less intrusive implementation. You of course need to build a proper webclient in maybe a <code>@Bean</code> and autowire it into its class.</p>\n"}],"owner":{"account_id":13439704,"reputation":320,"user_id":9697205,"display_name":"Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30125,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":57365926,"answer_count":3,"score":13,"last_activity_date":1692726281,"creation_date":1564997355,"question_id":57355725,"body_markdown":"I have a springboot project which uses Springboot Resttemplate. We have moved to springboot 2.0.1 from 1.5.3 and we are trying to make\r\nthe rest calls from it  asynchronous by using WebClient. We used to process the string received using Resttemplate as given below. But WebClient returns only\r\ndata in Mono or Flux. How can I get the data as String. Already tried block() method , but it does asynchronous calls. \r\n\r\n```java\r\n@Retryable(maxAttempts = 4, value = java.net.ConnectException.class,\r\n           backoff = @Backoff(delay = 3000, multiplier = 2))\r\npublic Mono&lt;String&gt; getResponse(String url) {\r\n    return webClient.get().uri(urlForCurrent).accept(APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .bodyToMono(String.class);\r\n}\r\n```\r\n\r\nPresent Data flow with RestTemplate\r\n\r\n1. Controller receives the client call\r\n2. provider gets the data in String format \r\n3. Provider processes the String \r\n4. Data is given to controller\r\n\r\n\r\nController.java\r\n```java\r\n@RequestMapping(value = traffic/, method = RequestMethod.GET,\r\n                produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic String getTraffic(@RequestParam(&quot;place&quot;) String location) throws InterruptedException, ExecutionException {\r\n    String trafficJSON = Provider.getTrafficJSON(location)\r\n    return trafficJSON;\r\n}\r\n```\r\nProvider.java\r\n```\r\npublic String getTrafficJSON(String location) {\r\n    String url = ----;\r\n    \r\n    ResponseEntity&lt;String&gt; response = dataFetcher.getResponse(url);\r\n       \r\n    /// RESPONSEBODY IS READ AS STRING AND IT NEEDS TO BE PROCESSED\r\n    if (null != response {\r\n        return parser.transformJSON(response.getBody(), params);\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\nDataFetcher.java\r\n\r\n```java\r\n@Retryable(maxAttempts = 4,\r\n           value = java.net.ConnectException.class,\r\n           backoff = @Backoff(delay = 3000, multiplier = 2))\r\npublic ResponseEntity&lt;String&gt; getResponse(String url) {\r\n    /* ----------------------- */\r\n    return getRestTemplate().getForEntity(urlForCurrent, String.class);\r\n}\r\n```","title":"Springboot : How to use WebClient instead of RestTemplate for Performing Non blocking and Asynchronous calls","body":"<p>I have a springboot project which uses Springboot Resttemplate. We have moved to springboot 2.0.1 from 1.5.3 and we are trying to make\nthe rest calls from it  asynchronous by using WebClient. We used to process the string received using Resttemplate as given below. But WebClient returns only\ndata in Mono or Flux. How can I get the data as String. Already tried block() method , but it does asynchronous calls. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Retryable(maxAttempts = 4, value = java.net.ConnectException.class,\n           backoff = @Backoff(delay = 3000, multiplier = 2))\npublic Mono&lt;String&gt; getResponse(String url) {\n    return webClient.get().uri(urlForCurrent).accept(APPLICATION_JSON)\n                    .retrieve()\n                    .bodyToMono(String.class);\n}\n</code></pre>\n\n<p>Present Data flow with RestTemplate</p>\n\n<ol>\n<li>Controller receives the client call</li>\n<li>provider gets the data in String format </li>\n<li>Provider processes the String </li>\n<li>Data is given to controller</li>\n</ol>\n\n<p>Controller.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = traffic/, method = RequestMethod.GET,\n                produces = MediaType.APPLICATION_JSON_VALUE)\npublic String getTraffic(@RequestParam(\"place\") String location) throws InterruptedException, ExecutionException {\n    String trafficJSON = Provider.getTrafficJSON(location)\n    return trafficJSON;\n}\n</code></pre>\n\n<p>Provider.java</p>\n\n<pre><code>public String getTrafficJSON(String location) {\n    String url = ----;\n\n    ResponseEntity&lt;String&gt; response = dataFetcher.getResponse(url);\n\n    /// RESPONSEBODY IS READ AS STRING AND IT NEEDS TO BE PROCESSED\n    if (null != response {\n        return parser.transformJSON(response.getBody(), params);\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>DataFetcher.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Retryable(maxAttempts = 4,\n           value = java.net.ConnectException.class,\n           backoff = @Backoff(delay = 3000, multiplier = 2))\npublic ResponseEntity&lt;String&gt; getResponse(String url) {\n    /* ----------------------- */\n    return getRestTemplate().getForEntity(urlForCurrent, String.class);\n}\n</code></pre>\n"},{"tags":["java","mocking","jmockit"],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692725647,"creation_date":1692725647,"question_id":76955654,"body_markdown":"For example:\r\n```\r\nclass JMockItTest {\r\n    @Injectable Foo foo;\r\n    @Test void test() {\r\n        new Expectations() {{\r\n            foo.nonVoidMethod();\r\n            result = &quot;a&quot;;\r\n            result = &quot;b&quot;;\r\n            result = &quot;c&quot;;\r\n        }};\r\n        assertEquals(&quot;a&quot;, foo.nonVoidMethod());\r\n        assertEquals(&quot;b&quot;, foo.nonVoidMethod());\r\n        assertEquals(&quot;c&quot;, foo.nonVoidMethod());\r\n    }\r\n}\r\n```\r\n\r\nThis example will tell JMockIt to return `&quot;a&quot;` then `&quot;b&quot;` then `&quot;c&quot;` for each of the 3 invocations of `nonVoidMethod()`... but how does this work?  It&#39;s not possible to override operators like `=` in Java, so how does simply assigning `result = x` multiple times tell JMockIt what to return?","title":"How does JMockIt work under the hood with multiple expectations?","body":"<p>For example:</p>\n<pre><code>class JMockItTest {\n    @Injectable Foo foo;\n    @Test void test() {\n        new Expectations() {{\n            foo.nonVoidMethod();\n            result = &quot;a&quot;;\n            result = &quot;b&quot;;\n            result = &quot;c&quot;;\n        }};\n        assertEquals(&quot;a&quot;, foo.nonVoidMethod());\n        assertEquals(&quot;b&quot;, foo.nonVoidMethod());\n        assertEquals(&quot;c&quot;, foo.nonVoidMethod());\n    }\n}\n</code></pre>\n<p>This example will tell JMockIt to return <code>&quot;a&quot;</code> then <code>&quot;b&quot;</code> then <code>&quot;c&quot;</code> for each of the 3 invocations of <code>nonVoidMethod()</code>... but how does this work?  It's not possible to override operators like <code>=</code> in Java, so how does simply assigning <code>result = x</code> multiple times tell JMockIt what to return?</p>\n"},{"tags":["java","servlets","servlet-filters"],"owner":{"account_id":271875,"reputation":7649,"user_id":562644,"accept_rate":95,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692725394,"creation_date":1692725394,"question_id":76955628,"body_markdown":"By default a Servlet Filter asyncSupported boolean is false, but it appears to cause no harm to simply set it to true, at least for a simple filter that sets the request and response character encoding.  However, if you happen to NOT change the default you can run into issues as async servlets then won&#39;t work.  Is there a scenario where enabling async support would be harmful.  Why isn&#39;t the default true / why is there even an option?  Is the filter expected to call HttpServletRequest.startAsync() if asyncSupported = true?  Can a filter handle both async and sync modes of operation?  In a simple character encoding filter is the response character encoding being set correctly when in async mode:\r\n\r\n```\r\n@WebFilter(filterName = &quot;CharacterEncodingFilter&quot;, urlPatterns = {&quot;/*&quot;}, dispatcherTypes = {DispatcherType.REQUEST}, asyncSupported = true)\r\npublic class CharacterEncodingFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n            FilterChain chain)\r\n            throws IOException, ServletException {\r\n        request.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```","title":"When should Java Servlet 3.0 Filter asyncSupported be false?","body":"<p>By default a Servlet Filter asyncSupported boolean is false, but it appears to cause no harm to simply set it to true, at least for a simple filter that sets the request and response character encoding.  However, if you happen to NOT change the default you can run into issues as async servlets then won't work.  Is there a scenario where enabling async support would be harmful.  Why isn't the default true / why is there even an option?  Is the filter expected to call HttpServletRequest.startAsync() if asyncSupported = true?  Can a filter handle both async and sync modes of operation?  In a simple character encoding filter is the response character encoding being set correctly when in async mode:</p>\n<pre><code>@WebFilter(filterName = &quot;CharacterEncodingFilter&quot;, urlPatterns = {&quot;/*&quot;}, dispatcherTypes = {DispatcherType.REQUEST}, asyncSupported = true)\npublic class CharacterEncodingFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain)\n            throws IOException, ServletException {\n        request.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"score":0,"creation_date":1692019616,"post_id":76870864,"comment_id":135565184,"body_markdown":"What do you mean by &quot;volatile&quot;?\n\nAlso, list equality means that both lists contain the same items in the same order. Why should the list of items ordered be equal to the list of items sent/received? I think they should contain all items the same number of times, but the order should not matter.","body":"What do you mean by &quot;volatile&quot;?  Also, list equality means that both lists contain the same items in the same order. Why should the list of items ordered be equal to the list of items sent/received? I think they should contain all items the same number of times, but the order should not matter."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692020532,"post_id":76870864,"comment_id":135565395,"body_markdown":"1) I removed the &quot;volatile&quot;.  2) You&#39;re right, they dont need to have the same order.","body":"1) I removed the &quot;volatile&quot;.  2) You&#39;re right, they dont need to have the same order."}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691690501,"post_id":76871439,"comment_id":135529135,"body_markdown":"I think I expressed myself poorly. I improved the question!","body":"I think I expressed myself poorly. I improved the question!"}],"tags":[],"owner":{"account_id":10352774,"reputation":46,"user_id":7635710,"display_name":"gryxon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691617205,"creation_date":1691617205,"answer_id":76871439,"question_id":76870864,"body_markdown":"I think your problem isn&#39;t well defined. I will try to specify it in this way that your solution is correct.\r\n\r\nThere are two lists which represent ordered things and sent things. Missing objects can happen only in one list. The assumption of missing objects is important because otherwise your solution is incorrect.\r\n\r\nYour solution can be improved using (Hash)Set data structure. removeAll method from ArrayList has quadratic time complexity, for HashSet it is linear (on average).\r\n\r\nIf your list can contain duplicates you would need to handle it when using HashSet ( for example by adding to objects some unique identifier ).\r\n\r\n","title":"Get the items difference between two lists in Java","body":"<p>I think your problem isn't well defined. I will try to specify it in this way that your solution is correct.</p>\n<p>There are two lists which represent ordered things and sent things. Missing objects can happen only in one list. The assumption of missing objects is important because otherwise your solution is incorrect.</p>\n<p>Your solution can be improved using (Hash)Set data structure. removeAll method from ArrayList has quadratic time complexity, for HashSet it is linear (on average).</p>\n<p>If your list can contain duplicates you would need to handle it when using HashSet ( for example by adding to objects some unique identifier ).</p>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":2,"creation_date":1692036347,"post_id":76899938,"comment_id":135568643,"body_markdown":"First, thanks for the help. Second, what if the 2 lists have the same size but diferent items?","body":"First, thanks for the help. Second, what if the 2 lists have the same size but diferent items?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1692051648,"post_id":76899938,"comment_id":135570799,"body_markdown":"@DiegoBorba is correct, your solution is fundamentally broken because 2 lists could have the same size, but different elements","body":"@DiegoBorba is correct, your solution is fundamentally broken because 2 lists could have the same size, but different elements"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1692091126,"post_id":76899938,"comment_id":135574569,"body_markdown":"@DiegoBorba then I would use a `Set`, so that order and duplication does not matter, and check if they are equals. If the elements are `String`, fine, if they are objects you have to make sure their `equals` method is correctly implemented. Same for the `removeAll` too anyways","body":"@DiegoBorba then I would use a <code>Set</code>, so that order and duplication does not matter, and check if they are equals. If the elements are <code>String</code>, fine, if they are objects you have to make sure their <code>equals</code> method is correctly implemented. Same for the <code>removeAll</code> too anyways"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1692104043,"post_id":76899938,"comment_id":135576933,"body_markdown":"@Bentaye That&#39;s at least a workable solution, but that is not what your answer currently says. Fix your answer, because right now, as it is written, it is plain wrong.","body":"@Bentaye That&#39;s at least a workable solution, but that is not what your answer currently says. Fix your answer, because right now, as it is written, it is plain wrong."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692468048,"post_id":76899938,"comment_id":135628556,"body_markdown":"@Bentaye I see the update. Now what you are saying matches your answer.","body":"@Bentaye I see the update. Now what you are saying matches your answer."}],"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692193356,"creation_date":1692024148,"answer_id":76899938,"question_id":76870864,"body_markdown":"Generally speaking I think it is the correct approach, you need to subtract one from the other. \r\nI can only think of slight improvements here and there:\r\n- when `&quot;No difference&quot;` you can return the `String` directly, no need for the `StringBuilder`. Also returning directly removes one level of nesting (no `else`)\r\n- The `Stream` joining collector allows to set a prefix and a suffix so you et the `&quot;` around the items for free.\r\n- You can factor the formatting of `&quot;x item(s) missing in list: &quot;X&quot;, &quot;Y&quot;`\r\n\r\n```java\r\nprivate static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sent) {\r\n    if (new HashSet&lt;&gt;(order).equals(new HashSet&lt;&gt;(sent))) {\r\n        return &quot;No difference&quot;;\r\n    }\r\n\r\n    StringBuilder output = new StringBuilder();\r\n\r\n    List&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\r\n    auxOrder.removeAll(sent);\r\n    if (!auxOrder.isEmpty()) {\r\n        output.append(format(auxOrder, &quot;sent&quot;));\r\n    }\r\n\r\n    List&lt;String&gt; auxSent = new ArrayList&lt;&gt;(sent);\r\n    auxSent.removeAll(order);\r\n    if (!auxSent.isEmpty()) {\r\n        output.append(auxOrder.isEmpty() ? &quot;&quot; : &quot; &amp; &quot;);\r\n        output.append(format(auxSent, &quot;order&quot;));\r\n    }\r\n\r\n    return output.toString();\r\n}\r\n\r\nprivate static String format(List&lt;String&gt; missing, String listName) {\r\n    return &quot;%s item(s) missing from %s : %s&quot;.formatted(\r\n            missing.size(),\r\n            listName,\r\n            missing.stream().collect(Collectors.joining(&quot;\\&quot;, \\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;))\r\n    );\r\n}\r\n```\r\n\r\nIf they are big lists and the `removeAll` is costly, you can improve performance by checking the size of the lists beforehand and only do the `removeAll` if the first list is longer than the second","title":"Get the items difference between two lists in Java","body":"<p>Generally speaking I think it is the correct approach, you need to subtract one from the other.\nI can only think of slight improvements here and there:</p>\n<ul>\n<li>when <code>&quot;No difference&quot;</code> you can return the <code>String</code> directly, no need for the <code>StringBuilder</code>. Also returning directly removes one level of nesting (no <code>else</code>)</li>\n<li>The <code>Stream</code> joining collector allows to set a prefix and a suffix so you et the <code>&quot;</code> around the items for free.</li>\n<li>You can factor the formatting of <code>&quot;x item(s) missing in list: &quot;X&quot;, &quot;Y&quot;</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sent) {\n    if (new HashSet&lt;&gt;(order).equals(new HashSet&lt;&gt;(sent))) {\n        return &quot;No difference&quot;;\n    }\n\n    StringBuilder output = new StringBuilder();\n\n    List&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\n    auxOrder.removeAll(sent);\n    if (!auxOrder.isEmpty()) {\n        output.append(format(auxOrder, &quot;sent&quot;));\n    }\n\n    List&lt;String&gt; auxSent = new ArrayList&lt;&gt;(sent);\n    auxSent.removeAll(order);\n    if (!auxSent.isEmpty()) {\n        output.append(auxOrder.isEmpty() ? &quot;&quot; : &quot; &amp; &quot;);\n        output.append(format(auxSent, &quot;order&quot;));\n    }\n\n    return output.toString();\n}\n\nprivate static String format(List&lt;String&gt; missing, String listName) {\n    return &quot;%s item(s) missing from %s : %s&quot;.formatted(\n            missing.size(),\n            listName,\n            missing.stream().collect(Collectors.joining(&quot;\\&quot;, \\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;))\n    );\n}\n</code></pre>\n<p>If they are big lists and the <code>removeAll</code> is costly, you can improve performance by checking the size of the lists beforehand and only do the <code>removeAll</code> if the first list is longer than the second</p>\n"},{"comments":[{"owner":{"account_id":2266207,"reputation":622,"user_id":1994816,"display_name":"Rohit Rokde"},"score":0,"creation_date":1692305520,"post_id":76903391,"comment_id":135609138,"body_markdown":"Seems like a great answer","body":"Seems like a great answer"}],"tags":[],"owner":{"account_id":29194810,"reputation":21,"user_id":22366166,"display_name":"Daniel Salmun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692072331,"creation_date":1692072331,"answer_id":76903391,"question_id":76870864,"body_markdown":"First, it&#39;s not clear enough if there are duplicates or not. Secondly, if you don&#39;t care about order then don&#39;t use the list equals() method as it will fail in many cases where both lists contains the same items but in different order. \r\n\r\nBesides that, the algorithm should work but it could be optimized. I believe the main problem is that using the removeAll() method between a list of size n and a list of size m has a worst time complexity of O(n*m) (quadratic) when you could actually achieve a time complexity of O(n+m) (lineal). If you don&#39;t care about duplicates you could slightly modify your solution to use HashSet to achieve this goal in the following way:\r\n\r\n    // If duplicates are irrelevant\r\n\tprivate static String getDifference(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n\t\tSet&lt;String&gt; orderedSet = new HashSet&lt;&gt;(ordered);\r\n\t\tSet&lt;String&gt; sentSet = new HashSet&lt;&gt;(sent);\r\n\t\tif (orderedSet.equals(sentSet)) {\r\n\t\t\treturn &quot;No difference&quot;;\r\n\t\t} else {\r\n\t\t\tStringBuilder output = new StringBuilder();\r\n\t\t\torderedSet.removeAll(sent);\r\n\r\n\t\t\tif (!orderedSet.isEmpty()) {\r\n\t\t\t\toutput.append(orderedSet.size()).append(&quot; item(s) missing in sent: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, orderedSet)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tsentSet.removeAll(ordered);\r\n\r\n\t\t\tif (!sentSet.isEmpty()) {\r\n\t\t\t\tif (output.length() &gt; 0) {\r\n\t\t\t\t\toutput.append(&quot; &amp; &quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutput.append(sentSet.size()).append(&quot; item(s) missing in ordered: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, sentSet)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\r\n\t\t\treturn output.toString();\r\n\t\t}\r\n\t}\r\n\r\nIf you care about duplicates then you aren&#39;t actually comparing Lists but [Multisets][1]. For a Multiset implementation you could use the [Guava][2] library. A possible implementation with Multisets looks like this:\r\n\r\n    // If duplicates are relevant, with Guava\r\n\tprivate static String getDifferenceWithDuplicates(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n\t\tMultiset&lt;String&gt; orderedSet = HashMultiset.&lt;String&gt;create(ordered);\r\n\t\tMultiset&lt;String&gt; sentSet = HashMultiset.&lt;String&gt;create(sent);\r\n\t\tif (orderedSet.equals(sentSet)) {\r\n\t\t\treturn &quot;No difference&quot;;\r\n\t\t} else {\r\n\t\t\tStringBuilder output = new StringBuilder();\r\n\r\n\t\t\tfor (String item : Sets.union(orderedSet.elementSet(), sentSet.elementSet())) {\r\n\t\t\t\tint orderedCount = orderedSet.count(item);\r\n\t\t\t\tint sentCount = sentSet.count(item);\r\n\r\n\t\t\t\tif (orderedCount != sentCount) {\r\n\t\t\t\t\tif (output.length() &gt; 0) {\r\n\t\t\t\t\t\toutput.append(&quot; &amp; &quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutput.append(Math.abs(orderedCount - sentCount)).append(&quot; item(s) missing in &quot;);\r\n\t\t\t\t\toutput.append(orderedCount &gt; sentCount ? &quot;sent&quot; : &quot;ordered&quot;).append(&quot;: &quot;);\r\n\t\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(item).append(&quot;\\&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn output.toString();\r\n\t\t}\r\n\t}\r\nIf for some reason you can&#39;t use Guava, then you can implement the same behavior of a HashMultiset using a HashMap of type Map&lt;String, Integer&gt; where the key is the item and the value is the amount of appearances in the original list (this is an exercise for the reader).\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Multiset\r\n  [2]: https://github.com/google/guava","title":"Get the items difference between two lists in Java","body":"<p>First, it's not clear enough if there are duplicates or not. Secondly, if you don't care about order then don't use the list equals() method as it will fail in many cases where both lists contains the same items but in different order.</p>\n<p>Besides that, the algorithm should work but it could be optimized. I believe the main problem is that using the removeAll() method between a list of size n and a list of size m has a worst time complexity of O(n*m) (quadratic) when you could actually achieve a time complexity of O(n+m) (lineal). If you don't care about duplicates you could slightly modify your solution to use HashSet to achieve this goal in the following way:</p>\n<pre><code>// If duplicates are irrelevant\nprivate static String getDifference(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n    Set&lt;String&gt; orderedSet = new HashSet&lt;&gt;(ordered);\n    Set&lt;String&gt; sentSet = new HashSet&lt;&gt;(sent);\n    if (orderedSet.equals(sentSet)) {\n        return &quot;No difference&quot;;\n    } else {\n        StringBuilder output = new StringBuilder();\n        orderedSet.removeAll(sent);\n\n        if (!orderedSet.isEmpty()) {\n            output.append(orderedSet.size()).append(&quot; item(s) missing in sent: &quot;);\n            output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, orderedSet)).append(&quot;\\&quot;&quot;);\n        }\n\n        sentSet.removeAll(ordered);\n\n        if (!sentSet.isEmpty()) {\n            if (output.length() &gt; 0) {\n                output.append(&quot; &amp; &quot;);\n            }\n\n            output.append(sentSet.size()).append(&quot; item(s) missing in ordered: &quot;);\n            output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, sentSet)).append(&quot;\\&quot;&quot;);\n        }\n\n        return output.toString();\n    }\n}\n</code></pre>\n<p>If you care about duplicates then you aren't actually comparing Lists but <a href=\"https://en.wikipedia.org/wiki/Multiset\" rel=\"nofollow noreferrer\">Multisets</a>. For a Multiset implementation you could use the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> library. A possible implementation with Multisets looks like this:</p>\n<pre><code>// If duplicates are relevant, with Guava\nprivate static String getDifferenceWithDuplicates(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n    Multiset&lt;String&gt; orderedSet = HashMultiset.&lt;String&gt;create(ordered);\n    Multiset&lt;String&gt; sentSet = HashMultiset.&lt;String&gt;create(sent);\n    if (orderedSet.equals(sentSet)) {\n        return &quot;No difference&quot;;\n    } else {\n        StringBuilder output = new StringBuilder();\n\n        for (String item : Sets.union(orderedSet.elementSet(), sentSet.elementSet())) {\n            int orderedCount = orderedSet.count(item);\n            int sentCount = sentSet.count(item);\n\n            if (orderedCount != sentCount) {\n                if (output.length() &gt; 0) {\n                    output.append(&quot; &amp; &quot;);\n                }\n\n                output.append(Math.abs(orderedCount - sentCount)).append(&quot; item(s) missing in &quot;);\n                output.append(orderedCount &gt; sentCount ? &quot;sent&quot; : &quot;ordered&quot;).append(&quot;: &quot;);\n                output.append(&quot;\\&quot;&quot;).append(item).append(&quot;\\&quot;&quot;);\n            }\n        }\n        return output.toString();\n    }\n}\n</code></pre>\n<p>If for some reason you can't use Guava, then you can implement the same behavior of a HashMultiset using a HashMap of type Map&lt;String, Integer&gt; where the key is the item and the value is the amount of appearances in the original list (this is an exercise for the reader).</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692113705,"creation_date":1692075723,"answer_id":76903540,"question_id":76870864,"body_markdown":"Your solution is pretty good, but there&#39;s a little room for improvement.\r\n\r\nFirst off, you used `.equals()`. Most of the time, this is wise, but doing `.equals()` will iterate through both lists until it finds the first difference. This is bad because, you don&#39;t just want to know if the 2 lists are different, but you also want to know ***what those differences are***. That means that, after you have iterated through these lists once just to confirm that there is a difference, finding those differences will require you to iterate through both lists ***again***, which slows down your solution considerably.\r\n\r\nInstead, I am going to do an optimistic `==` check here, just to handle the chance that someone passed in the same list. I&#39;m also adding null checks by using [`Objects.requireNonNull(object, message)`][1]. I&#39;m also removing your else clause by just returning early instead.\r\n\r\nNone of the above changes are really necessary, but will eliminate the easy edge cases. Feel free to leave them out if you feel it is unnecessary or complicates the solution needlessly.\r\n\r\n(***Speaking of complexity, once Valhalla comes out, this `==` might not be a good idea anymore. I can&#39;t predict the future of what will and won&#39;t be good advice for features that haven&#39;t come out yet, but putting this note for future readers working in a post-Valhalla world***).\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1== list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\t//in progress\r\n\r\n}\r\n```\r\n\r\nNext, let&#39;s find a quick way to find the missing elements in both. I don&#39;t want to make any destructive changes to either list passed in. Plus, Java has some lists that are [`Unmodifiable Lists`][2]. In general, it is safer to just make a copy of what you are given and go from there.\r\n\r\nPlease note though, if it is part of your contract that you are allowed to make destructive changes to the incoming lists, then ***not*** making a copy would be more efficient. Regardless, I will make a copy to be safe. Let&#39;s do that now.\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1 == list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\tfinal List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\r\n\tfinal List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\r\n\r\n\t//in progress\r\n\r\n}\r\n```\r\n\r\nOk, now that we have created our copies, let&#39;s remove the elements that are common to both lists. To do that, we will make use of the [`List.removeAll()`][3] method.\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1 == list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\tfinal List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\r\n\tfinal List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\r\n\r\n\t//Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\r\n\tcopy1.removeAll(list2);\r\n\tcopy2.removeAll(list1);\r\n\r\n\t//in progress\r\n\r\n}\r\n```\r\n\r\nOk, we found the differences now. All that is left to do is to return the results. I will go ahead and do some basic formatting, since that seemed important to you.\r\n\r\n```java\r\nprivate static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\r\n{\r\n\r\n\tObjects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\r\n\tObjects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\r\n\r\n\tif (list1 == list2)\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t} \r\n\r\n\tfinal List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\r\n\tfinal List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\r\n\r\n\t//Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\r\n\tcopy1.removeAll(list2);\r\n\tcopy2.removeAll(list1);\r\n\r\n\tif (copy1.isEmpty() &amp;&amp; copy2.isEmpty())\r\n\t{\r\n\t\treturn &quot;No difference&quot;;\r\n\t}\r\n\telse if (copy1.isEmpty())\r\n\t{\r\n\t\treturn &quot;items missing in parameter 1 = &quot; + copy2.toString();\r\n\t}\r\n\telse if (copy2.isEmpty())\r\n\t{\r\n\t\treturn &quot;items missing in parameter 2 = &quot; + copy1.toString();\r\n\t}\r\n\telse\r\n\t{\r\n\t\treturn &quot;items missing in parameter 1 = &quot; + copy2.toString() + &quot; and items missing in parameter 2 = &quot; + copy1.toString();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThat should solve your question. Here are some sample outputs.\r\n\r\n```java\r\nfinal List&lt;String&gt; list1 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\nfinal List&lt;String&gt; list2 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;E&quot;);\r\nfinal List&lt;String&gt; list3 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\ngetDifference(list1, list1) // &quot;No difference&quot;\r\ngetDifference(list1, list2) // &quot;items missing in parameter 1 = [E] and items missing in parameter 2 = [D]&quot;\r\ngetDifference(list1, list3) // &quot;items missing in parameter 2 = [D]&quot;\r\ngetDifference(list2, list1) // &quot;items missing in parameter 1 = [D] and items missing in parameter 2 = [E]&quot;\r\ngetDifference(list2, list2) // &quot;No difference&quot;\r\ngetDifference(list2, list3) // &quot;items missing in parameter 2 = [E]&quot;\r\ngetDifference(list3, list1) // &quot;items missing in parameter 1 = [D]&quot;\r\ngetDifference(list3, list2) // &quot;items missing in parameter 1 = [E]&quot;\r\ngetDifference(list3, list3) // &quot;No difference&quot;\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [3]:https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)","title":"Get the items difference between two lists in Java","body":"<p>Your solution is pretty good, but there's a little room for improvement.</p>\n<p>First off, you used <code>.equals()</code>. Most of the time, this is wise, but doing <code>.equals()</code> will iterate through both lists until it finds the first difference. This is bad because, you don't just want to know if the 2 lists are different, but you also want to know <em><strong>what those differences are</strong></em>. That means that, after you have iterated through these lists once just to confirm that there is a difference, finding those differences will require you to iterate through both lists <em><strong>again</strong></em>, which slows down your solution considerably.</p>\n<p>Instead, I am going to do an optimistic <code>==</code> check here, just to handle the chance that someone passed in the same list. I'm also adding null checks by using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Objects.requireNonNull(object, message)</code></a>. I'm also removing your else clause by just returning early instead.</p>\n<p>None of the above changes are really necessary, but will eliminate the easy edge cases. Feel free to leave them out if you feel it is unnecessary or complicates the solution needlessly.</p>\n<p>(<em><strong>Speaking of complexity, once Valhalla comes out, this <code>==</code> might not be a good idea anymore. I can't predict the future of what will and won't be good advice for features that haven't come out yet, but putting this note for future readers working in a post-Valhalla world</strong></em>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1== list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    //in progress\n\n}\n</code></pre>\n<p>Next, let's find a quick way to find the missing elements in both. I don't want to make any destructive changes to either list passed in. Plus, Java has some lists that are <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\"><code>Unmodifiable Lists</code></a>. In general, it is safer to just make a copy of what you are given and go from there.</p>\n<p>Please note though, if it is part of your contract that you are allowed to make destructive changes to the incoming lists, then <em><strong>not</strong></em> making a copy would be more efficient. Regardless, I will make a copy to be safe. Let's do that now.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1 == list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    final List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\n    final List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\n\n    //in progress\n\n}\n</code></pre>\n<p>Ok, now that we have created our copies, let's remove the elements that are common to both lists. To do that, we will make use of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List.removeAll()</code></a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1 == list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    final List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\n    final List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\n\n    //Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\n    copy1.removeAll(list2);\n    copy2.removeAll(list1);\n\n    //in progress\n\n}\n</code></pre>\n<p>Ok, we found the differences now. All that is left to do is to return the results. I will go ahead and do some basic formatting, since that seemed important to you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getDifference(final List&lt;String&gt; list1, final List&lt;String&gt; list2)\n{\n\n    Objects.requireNonNull(list1, &quot;list1 cannot be null&quot;);\n    Objects.requireNonNull(list2, &quot;list2 cannot be null&quot;);\n\n    if (list1 == list2)\n    {\n        return &quot;No difference&quot;;\n    } \n\n    final List&lt;String&gt; copy1 = new ArrayList&lt;&gt;(list1);\n    final List&lt;String&gt; copy2 = new ArrayList&lt;&gt;(list2);\n\n    //Yes, we are removing the OTHER SOURCE LIST from the COPY LIST\n    copy1.removeAll(list2);\n    copy2.removeAll(list1);\n\n    if (copy1.isEmpty() &amp;&amp; copy2.isEmpty())\n    {\n        return &quot;No difference&quot;;\n    }\n    else if (copy1.isEmpty())\n    {\n        return &quot;items missing in parameter 1 = &quot; + copy2.toString();\n    }\n    else if (copy2.isEmpty())\n    {\n        return &quot;items missing in parameter 2 = &quot; + copy1.toString();\n    }\n    else\n    {\n        return &quot;items missing in parameter 1 = &quot; + copy2.toString() + &quot; and items missing in parameter 2 = &quot; + copy1.toString();\n    }\n\n}\n</code></pre>\n<p>That should solve your question. Here are some sample outputs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; list1 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\nfinal List&lt;String&gt; list2 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;E&quot;);\nfinal List&lt;String&gt; list3 = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\ngetDifference(list1, list1) // &quot;No difference&quot;\ngetDifference(list1, list2) // &quot;items missing in parameter 1 = [E] and items missing in parameter 2 = [D]&quot;\ngetDifference(list1, list3) // &quot;items missing in parameter 2 = [D]&quot;\ngetDifference(list2, list1) // &quot;items missing in parameter 1 = [D] and items missing in parameter 2 = [E]&quot;\ngetDifference(list2, list2) // &quot;No difference&quot;\ngetDifference(list2, list3) // &quot;items missing in parameter 2 = [E]&quot;\ngetDifference(list3, list1) // &quot;items missing in parameter 1 = [D]&quot;\ngetDifference(list3, list2) // &quot;items missing in parameter 1 = [E]&quot;\ngetDifference(list3, list3) // &quot;No difference&quot;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692370185,"creation_date":1692370185,"answer_id":76930400,"question_id":76870864,"body_markdown":"Below code iterates both lists while updating two, separate lists that contain differences. I think the advantage is that you iterate both lists once only. However, for the algorithm to work, both lists must be sorted (in ascending order). If you have a precondition whereby both lists are always sorted, then no need to perform the sort. Such a precondition would exist if, for example, both lists contained results of database queries because each query could have an [ORDER BY clause][1].\r\n\r\nMore explanations after the code.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; diffs(List&lt;String&gt; lst1, List&lt;String&gt; lst2) {\r\n        // For algorithm to work, both lists must be sorted.\r\n        Collections.sort(lst1);\r\n        Collections.sort(lst2);\r\n        int ndx1 = 0;\r\n        int ndx2 = 0;\r\n        int size1 = lst1.size();\r\n        int size2 = lst2.size();\r\n        List&lt;String&gt; diffs1 = new ArrayList&lt;&gt;(size1); // strings in &#39;lst1&#39; only\r\n        List&lt;String&gt; diffs2 = new ArrayList&lt;&gt;(size2); // strings in &#39;lst2&#39; only\r\n\r\n        // Get first element in each list. Consider empty lists also.\r\n        String str1 = size1 == 0 ? &quot;&quot; : lst1.get(ndx1);\r\n        String str2 = size2 == 0 ? &quot;&quot; : lst2.get(ndx2);\r\n\r\n        while (ndx1 &lt; size1) {\r\n            int difference = str1.compareTo(str2);\r\n            // Always increment index of lower string\r\n            if (difference &gt; 0) {\r\n                diffs2.add(str2);\r\n                ndx2++;\r\n                if (ndx2 &lt; size2) {\r\n                    str2 = lst2.get(ndx2);\r\n                }\r\n                else {\r\n                    // if reach last element of &#39;lst2&#39; add remaining elements of &#39;lst1&#39;\r\n                    while (ndx1 &lt; size1) {\r\n                        diffs1.add(lst1.get(ndx1++));\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            else if (difference &lt; 0) {\r\n                diffs1.add(str1);\r\n                ndx1++;\r\n                if (ndx1 &lt; size1) {\r\n                    str1 = lst1.get(ndx1);\r\n                }\r\n            }\r\n            else {\r\n                // strings are equal, increment both indexes\r\n                ndx1++;\r\n                if (ndx1 &lt; size1) {\r\n                    str1 = lst1.get(ndx1);\r\n                }\r\n                ndx2++;\r\n                if (ndx2 &lt; size2) {\r\n                    str2 = lst2.get(ndx2);\r\n                }\r\n                else {\r\n                    // if reach last element of &#39;lst2&#39; add remaining elements of &#39;lst1&#39;\r\n                    while (ndx1 &lt; size1) {\r\n                        diffs1.add(lst1.get(ndx1++));\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // add remaining elements of &#39;lst2&#39;\r\n        while (ndx2 &lt; size2) {\r\n            diffs2.add(lst2.get(ndx2++));\r\n        }\r\n        return List.of(diffs1, diffs2);\r\n    }\r\n\r\n    private static void test(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n        List&lt;List&lt;String&gt;&gt; diffs = diffs(ordered, sent);\r\n        List&lt;String&gt; diffs0 = diffs.get(0);\r\n        List&lt;String&gt; diffs1 = diffs.get(1);\r\n        int count0 = diffs0.size();\r\n        int count1 = diffs1.size();\r\n        if (count0 == 0  &amp;&amp;  count1 == 0) {\r\n            System.out.println(&quot;No differences.&quot;);\r\n        }\r\n        else {\r\n            if (count1 &gt; 0) {\r\n                System.out.println(&quot;Missing in &#39;ordered&#39;: &quot; + diffs1);\r\n            }\r\n            if (count0 &gt; 0) {\r\n                System.out.println(&quot;Missing in &#39;sent&#39;: &quot; + diffs0);\r\n            }\r\n        }\r\n        System.out.println(&quot;====================================================================&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)));\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)), new ArrayList&lt;&gt;(List.of(&quot;B&quot;, &quot;C&quot;)));\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\r\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\r\n    }\r\n}\r\n```\r\nNote that method [of][2] (in interface `java.util.List`) was added in JDK 9. It creates an immutable list which means that the lists cannot be sorted. Hence I wrap each list in an `ArrayList` which creates a mutable list which can then be sorted.\r\n\r\nBasically the algorithm works as follows (assuming that both lists are sorted).\r\n1. Get first element of both lists.\r\n2. Compare them.\r\n3. If they are not equal, add the lower one to its differences list and get the next element in the list containing the lower one.\r\n4. If they are equal, add nothing to either of the differences list and get the next element of both lists.\r\n5. Once you have iterated all the elements of one list, add any remaining elements of the other list to its differences list.\r\n6. First differences list contains all elements in first list that are not in second list and vice-versa.\r\n\r\nHere is the output I got when I ran the above code:\r\n```none\r\nNo differences.\r\n====================================================================\r\nMissing in &#39;sent&#39;: [A]\r\n====================================================================\r\nMissing in &#39;ordered&#39;: [B, C]\r\n====================================================================\r\nMissing in &#39;ordered&#39;: [B, C]\r\nMissing in &#39;sent&#39;: [F]\r\n====================================================================\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/sql/sql_orderby.asp\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-","title":"Get the items difference between two lists in Java","body":"<p>Below code iterates both lists while updating two, separate lists that contain differences. I think the advantage is that you iterate both lists once only. However, for the algorithm to work, both lists must be sorted (in ascending order). If you have a precondition whereby both lists are always sorted, then no need to perform the sort. Such a precondition would exist if, for example, both lists contained results of database queries because each query could have an <a href=\"https://www.w3schools.com/sql/sql_orderby.asp\" rel=\"nofollow noreferrer\">ORDER BY clause</a>.</p>\n<p>More explanations after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Main {\n\n    private static List&lt;List&lt;String&gt;&gt; diffs(List&lt;String&gt; lst1, List&lt;String&gt; lst2) {\n        // For algorithm to work, both lists must be sorted.\n        Collections.sort(lst1);\n        Collections.sort(lst2);\n        int ndx1 = 0;\n        int ndx2 = 0;\n        int size1 = lst1.size();\n        int size2 = lst2.size();\n        List&lt;String&gt; diffs1 = new ArrayList&lt;&gt;(size1); // strings in 'lst1' only\n        List&lt;String&gt; diffs2 = new ArrayList&lt;&gt;(size2); // strings in 'lst2' only\n\n        // Get first element in each list. Consider empty lists also.\n        String str1 = size1 == 0 ? &quot;&quot; : lst1.get(ndx1);\n        String str2 = size2 == 0 ? &quot;&quot; : lst2.get(ndx2);\n\n        while (ndx1 &lt; size1) {\n            int difference = str1.compareTo(str2);\n            // Always increment index of lower string\n            if (difference &gt; 0) {\n                diffs2.add(str2);\n                ndx2++;\n                if (ndx2 &lt; size2) {\n                    str2 = lst2.get(ndx2);\n                }\n                else {\n                    // if reach last element of 'lst2' add remaining elements of 'lst1'\n                    while (ndx1 &lt; size1) {\n                        diffs1.add(lst1.get(ndx1++));\n                    }\n                    break;\n                }\n            }\n            else if (difference &lt; 0) {\n                diffs1.add(str1);\n                ndx1++;\n                if (ndx1 &lt; size1) {\n                    str1 = lst1.get(ndx1);\n                }\n            }\n            else {\n                // strings are equal, increment both indexes\n                ndx1++;\n                if (ndx1 &lt; size1) {\n                    str1 = lst1.get(ndx1);\n                }\n                ndx2++;\n                if (ndx2 &lt; size2) {\n                    str2 = lst2.get(ndx2);\n                }\n                else {\n                    // if reach last element of 'lst2' add remaining elements of 'lst1'\n                    while (ndx1 &lt; size1) {\n                        diffs1.add(lst1.get(ndx1++));\n                    }\n                    break;\n                }\n            }\n        }\n        // add remaining elements of 'lst2'\n        while (ndx2 &lt; size2) {\n            diffs2.add(lst2.get(ndx2++));\n        }\n        return List.of(diffs1, diffs2);\n    }\n\n    private static void test(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n        List&lt;List&lt;String&gt;&gt; diffs = diffs(ordered, sent);\n        List&lt;String&gt; diffs0 = diffs.get(0);\n        List&lt;String&gt; diffs1 = diffs.get(1);\n        int count0 = diffs0.size();\n        int count1 = diffs1.size();\n        if (count0 == 0  &amp;&amp;  count1 == 0) {\n            System.out.println(&quot;No differences.&quot;);\n        }\n        else {\n            if (count1 &gt; 0) {\n                System.out.println(&quot;Missing in 'ordered': &quot; + diffs1);\n            }\n            if (count0 &gt; 0) {\n                System.out.println(&quot;Missing in 'sent': &quot; + diffs0);\n            }\n        }\n        System.out.println(&quot;====================================================================&quot;);\n    }\n\n    public static void main(String[] args) {\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;)));\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)), new ArrayList&lt;&gt;(List.of(&quot;B&quot;, &quot;C&quot;)));\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\n        test(new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;)), new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)));\n    }\n}\n</code></pre>\n<p>Note that method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\" rel=\"nofollow noreferrer\">of</a> (in interface <code>java.util.List</code>) was added in JDK 9. It creates an immutable list which means that the lists cannot be sorted. Hence I wrap each list in an <code>ArrayList</code> which creates a mutable list which can then be sorted.</p>\n<p>Basically the algorithm works as follows (assuming that both lists are sorted).</p>\n<ol>\n<li>Get first element of both lists.</li>\n<li>Compare them.</li>\n<li>If they are not equal, add the lower one to its differences list and get the next element in the list containing the lower one.</li>\n<li>If they are equal, add nothing to either of the differences list and get the next element of both lists.</li>\n<li>Once you have iterated all the elements of one list, add any remaining elements of the other list to its differences list.</li>\n<li>First differences list contains all elements in first list that are not in second list and vice-versa.</li>\n</ol>\n<p>Here is the output I got when I ran the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>No differences.\n====================================================================\nMissing in 'sent': [A]\n====================================================================\nMissing in 'ordered': [B, C]\n====================================================================\nMissing in 'ordered': [B, C]\nMissing in 'sent': [F]\n====================================================================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376857,"reputation":1599,"user_id":1309503,"display_name":"divyang4481"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692443101,"creation_date":1692443101,"answer_id":76934767,"question_id":76870864,"body_markdown":"User set to find mismatch\r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.lang.String;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class Main {\r\n    \r\n      \r\n    \r\n        public static void main(String[] args) {\r\n            \r\n             // Case 1\r\n            List&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n            List&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n    \r\n            // No difference\r\n            System.out.println(&quot;Case 1: &quot; + getMissingItemsDescription(order1, sended1));\r\n    \r\n            // Case 2\r\n            List&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\r\n            List&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\r\n    \r\n            // &quot;1 item(s) missing in sended: A&quot;\r\n            System.out.println(&quot;Case 2: &quot; + getMissingItemsDescription(order2, sended2));\r\n    \r\n            // Case 3\r\n            List&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\r\n            List&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n    \r\n            // &quot;2 item(s) missing in order: B, C&quot;\r\n            System.out.println(&quot;Case 3: &quot; + getMissingItemsDescription(order3, sended3));\r\n    \r\n            // Case 4\r\n            List&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\r\n            List&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n    \r\n            // 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\r\n            System.out.println(&quot;Case 4: &quot; + getMissingItemsDescription(order4, sended4));\r\n    \r\n    \r\n        }\r\n    \r\n          public static &lt;T&gt; String getMissingItemsDescription(List&lt;T&gt; order, List&lt;T&gt; sent) {\r\n            Set&lt;T&gt; orderSet = new HashSet&lt;&gt;(order);\r\n            Set&lt;T&gt; sentSet = new HashSet&lt;&gt;(sent);\r\n            \r\n            Set&lt;T&gt; missingInOrder = new HashSet&lt;&gt;(orderSet);\r\n            missingInOrder.removeAll(sentSet);\r\n            \r\n            Set&lt;T&gt; missingInSent = new HashSet&lt;&gt;(sentSet);\r\n            missingInSent.removeAll(orderSet);\r\n    \r\n            StringBuilder description = new StringBuilder();\r\n            \r\n            if (!missingInOrder.isEmpty()) {\r\n                description.append(&quot;Missing in order: &quot;).append(missingInOrder).append(&quot;\\n&quot;);\r\n            }\r\n            \r\n            if (!missingInSent.isEmpty()) {\r\n                description.append(&quot;Missing in sent: &quot;).append(missingInSent);\r\n            }\r\n            \r\n            if (description.length() == 0) {\r\n                description.append(&quot;No missing items found&quot;);\r\n            }\r\n    \r\n            return description.toString();\r\n        }\r\n    }\r\n\r\n","title":"Get the items difference between two lists in Java","body":"<p>User set to find mismatch</p>\n<pre><code>import java.util.Collections;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.lang.String;\nimport java.util.*;\n\n\n\npublic class Main {\n\n  \n\n    public static void main(String[] args) {\n        \n         // Case 1\n        List&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n        List&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n\n        // No difference\n        System.out.println(&quot;Case 1: &quot; + getMissingItemsDescription(order1, sended1));\n\n        // Case 2\n        List&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\n        List&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\n\n        // &quot;1 item(s) missing in sended: A&quot;\n        System.out.println(&quot;Case 2: &quot; + getMissingItemsDescription(order2, sended2));\n\n        // Case 3\n        List&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\n        List&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // &quot;2 item(s) missing in order: B, C&quot;\n        System.out.println(&quot;Case 3: &quot; + getMissingItemsDescription(order3, sended3));\n\n        // Case 4\n        List&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\n        List&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\n        System.out.println(&quot;Case 4: &quot; + getMissingItemsDescription(order4, sended4));\n\n\n    }\n\n      public static &lt;T&gt; String getMissingItemsDescription(List&lt;T&gt; order, List&lt;T&gt; sent) {\n        Set&lt;T&gt; orderSet = new HashSet&lt;&gt;(order);\n        Set&lt;T&gt; sentSet = new HashSet&lt;&gt;(sent);\n        \n        Set&lt;T&gt; missingInOrder = new HashSet&lt;&gt;(orderSet);\n        missingInOrder.removeAll(sentSet);\n        \n        Set&lt;T&gt; missingInSent = new HashSet&lt;&gt;(sentSet);\n        missingInSent.removeAll(orderSet);\n\n        StringBuilder description = new StringBuilder();\n        \n        if (!missingInOrder.isEmpty()) {\n            description.append(&quot;Missing in order: &quot;).append(missingInOrder).append(&quot;\\n&quot;);\n        }\n        \n        if (!missingInSent.isEmpty()) {\n            description.append(&quot;Missing in sent: &quot;).append(missingInSent);\n        }\n        \n        if (description.length() == 0) {\n            description.append(&quot;No missing items found&quot;);\n        }\n\n        return description.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692464301,"creation_date":1692464301,"answer_id":76936203,"question_id":76870864,"body_markdown":"You could use Java 8 Streams:\r\n\r\n    public static String differences(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\r\n        //look for ordered items missing in sent\r\n        List&lt;String&gt; orderedButNotSent = ordered.stream()\r\n            .filter(el -&gt; sent.stream().noneMatch(el::equals))\r\n            .collect(Collectors.toList());\r\n\r\n        //look for sent items missing in ordered\r\n        List&lt;String&gt; sentButNotOrdered = sent.stream()\r\n            .filter(el -&gt; ordered.stream().noneMatch(el::equals))\r\n            .collect(Collectors.toList());\r\n\r\n        //build report\r\n        StringBuilder report = new StringBuilder();\r\n        report.append(&quot;orderedButNotSent: &quot; + orderedButNotSent + &quot;\\n&quot;)\r\n              .append(&quot;sentButNotOrdered: &quot; + sentButNotOrdered + &quot;\\n&quot;);\r\n\r\n        //return report\r\n        return report.toString();\r\n    }\r\n    public static void main(String args[]) {\r\n        List&lt;String&gt; ordered = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\r\n        List&lt;String&gt; sent = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n        \r\n        String differences = differences(ordered,sent);\r\n        //=&gt; orderedButNotSent: [F]\r\n        //=&gt; sentButNotOrdered: [B, C]\r\n    }","title":"Get the items difference between two lists in Java","body":"<p>You could use Java 8 Streams:</p>\n<pre><code>public static String differences(List&lt;String&gt; ordered, List&lt;String&gt; sent) {\n    //look for ordered items missing in sent\n    List&lt;String&gt; orderedButNotSent = ordered.stream()\n        .filter(el -&gt; sent.stream().noneMatch(el::equals))\n        .collect(Collectors.toList());\n\n    //look for sent items missing in ordered\n    List&lt;String&gt; sentButNotOrdered = sent.stream()\n        .filter(el -&gt; ordered.stream().noneMatch(el::equals))\n        .collect(Collectors.toList());\n\n    //build report\n    StringBuilder report = new StringBuilder();\n    report.append(&quot;orderedButNotSent: &quot; + orderedButNotSent + &quot;\\n&quot;)\n          .append(&quot;sentButNotOrdered: &quot; + sentButNotOrdered + &quot;\\n&quot;);\n\n    //return report\n    return report.toString();\n}\npublic static void main(String args[]) {\n    List&lt;String&gt; ordered = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\n    List&lt;String&gt; sent = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n    \n    String differences = differences(ordered,sent);\n    //=&gt; orderedButNotSent: [F]\n    //=&gt; sentButNotOrdered: [B, C]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692471049,"creation_date":1692471049,"answer_id":76936612,"question_id":76870864,"body_markdown":"**Using Java 8 streams:**\r\n\r\n**Logic Here:**\r\n\r\n&gt; I have used the java 8 `stream` operation to get the difference\r\n&gt; between two given lists and created a output message using\r\n&gt; `StringBuilder` as mentioned in the problem statement.\r\n\r\n**Code:**\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            // Case 1\r\n            List&lt;String&gt; order1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\r\n            List&lt;String&gt; sended1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\r\n            System.out.println(&quot;Case 1: &quot; + getMissingItems(order1,sended1));\r\n    \r\n            // Case 2\r\n            List&lt;String&gt; order2 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n            List&lt;String&gt; sended2 = Arrays.asList(&quot;B&quot;, &quot;C&quot;);\r\n            System.out.println(&quot;Case 2: &quot; + getMissingItems(order2,sended2));\r\n    \r\n            // Case 3\r\n            List&lt;String&gt; order3 = Arrays.asList(&quot;A&quot;, &quot;D&quot;);\r\n            List&lt;String&gt; sended3 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n            System.out.println(&quot;Case 3: &quot; + getMissingItems(order3,sended3));\r\n    \r\n            // Case 4\r\n            List&lt;String&gt; order4 = Arrays.asList(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;);\r\n            List&lt;String&gt; sended4 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n            System.out.println(&quot;Case 4: &quot; + getMissingItems(order4,sended4));\r\n        }\r\n    \r\n        private static String getMissingItems(List&lt;String&gt; order, \r\n                                              List&lt;String&gt; sended){\r\n            StringBuilder sb = new StringBuilder();\r\n            List&lt;String&gt; missingInOrder = getMissingInList(order, sended);\r\n            createMessage(sb, missingInOrder,&quot; item(s) missing in order: &quot;);\r\n            List&lt;String&gt; missingInSended = getMissingInList(sended, order);\r\n            if(!missingInOrder.isEmpty() &amp;&amp; !missingInSended.isEmpty()){\r\n                sb.append(&quot; &amp;&amp; &quot;);\r\n            }\r\n            createMessage(sb, missingInSended,&quot; item(s) missing in sended: &quot;);\r\n            return sb.isEmpty() ? &quot;No difference&quot;:sb.toString();\r\n        }\r\n    \r\n        private static void createMessage(StringBuilder sb, \r\n                                          List&lt;String&gt; diffInList,\r\n                                          String msg) {\r\n            if(!diffInList.isEmpty()){\r\n                sb.append(diffInList.size())\r\n                  .append(msg)\r\n                  .append(String.join(&quot;,&quot;, diffInList));\r\n            }\r\n        }\r\n    \r\n        private static List&lt;String&gt; getMissingInList(List&lt;String&gt; list1, \r\n                                                     List&lt;String&gt; list2) {\r\n            return list2.stream()\r\n                        .filter(e -&gt; !list1.contains(e))\r\n                        .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Case 1: No difference\r\n    Case 2: 1 item(s) missing in sended: A\r\n    Case 3: 2 item(s) missing in order: B,C\r\n    Case 4: 2 item(s) missing in order: B,C &amp;&amp; 1 item(s) missing in sended:F","title":"Get the items difference between two lists in Java","body":"<p><strong>Using Java 8 streams:</strong></p>\n<p><strong>Logic Here:</strong></p>\n<blockquote>\n<p>I have used the java 8 <code>stream</code> operation to get the difference\nbetween two given lists and created a output message using\n<code>StringBuilder</code> as mentioned in the problem statement.</p>\n</blockquote>\n<p><strong>Code:</strong></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        // Case 1\n        List&lt;String&gt; order1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\n        List&lt;String&gt; sended1 = Arrays.asList(&quot;A&quot;, &quot;B&quot;);\n        System.out.println(&quot;Case 1: &quot; + getMissingItems(order1,sended1));\n\n        // Case 2\n        List&lt;String&gt; order2 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n        List&lt;String&gt; sended2 = Arrays.asList(&quot;B&quot;, &quot;C&quot;);\n        System.out.println(&quot;Case 2: &quot; + getMissingItems(order2,sended2));\n\n        // Case 3\n        List&lt;String&gt; order3 = Arrays.asList(&quot;A&quot;, &quot;D&quot;);\n        List&lt;String&gt; sended3 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\n        System.out.println(&quot;Case 3: &quot; + getMissingItems(order3,sended3));\n\n        // Case 4\n        List&lt;String&gt; order4 = Arrays.asList(&quot;A&quot;, &quot;D&quot;, &quot;F&quot;);\n        List&lt;String&gt; sended4 = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\n        System.out.println(&quot;Case 4: &quot; + getMissingItems(order4,sended4));\n    }\n\n    private static String getMissingItems(List&lt;String&gt; order, \n                                          List&lt;String&gt; sended){\n        StringBuilder sb = new StringBuilder();\n        List&lt;String&gt; missingInOrder = getMissingInList(order, sended);\n        createMessage(sb, missingInOrder,&quot; item(s) missing in order: &quot;);\n        List&lt;String&gt; missingInSended = getMissingInList(sended, order);\n        if(!missingInOrder.isEmpty() &amp;&amp; !missingInSended.isEmpty()){\n            sb.append(&quot; &amp;&amp; &quot;);\n        }\n        createMessage(sb, missingInSended,&quot; item(s) missing in sended: &quot;);\n        return sb.isEmpty() ? &quot;No difference&quot;:sb.toString();\n    }\n\n    private static void createMessage(StringBuilder sb, \n                                      List&lt;String&gt; diffInList,\n                                      String msg) {\n        if(!diffInList.isEmpty()){\n            sb.append(diffInList.size())\n              .append(msg)\n              .append(String.join(&quot;,&quot;, diffInList));\n        }\n    }\n\n    private static List&lt;String&gt; getMissingInList(List&lt;String&gt; list1, \n                                                 List&lt;String&gt; list2) {\n        return list2.stream()\n                    .filter(e -&gt; !list1.contains(e))\n                    .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Case 1: No difference\nCase 2: 1 item(s) missing in sended: A\nCase 3: 2 item(s) missing in order: B,C\nCase 4: 2 item(s) missing in order: B,C &amp;&amp; 1 item(s) missing in sended:F\n</code></pre>\n"}],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76936612,"answer_count":8,"score":2,"last_activity_date":1692725271,"creation_date":1691610665,"question_id":76870864,"body_markdown":"I&#39;m trying to get the items difference between two lists, but, **sometimes one list is bigger than other, sometimes one is smaller and sometimes they are equal**. Also, **missing objects can happen in both lists**.\r\n\r\nI found good solutions to get the difference between two lists, like [How can I return the difference between two lists?](https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists), but no one considers 2 lists.\r\n\r\nI saw [Find common and different elements between two list in java](https://stackoverflow.com/questions/43181154/find-common-and-different-elements-between-two-list-in-java) too, but it isn&#39;t exactly what I&#39;m asking.\r\n\r\nI elaborate one example to illustrate what I want to do.\r\n\r\nConsider one list of ordered items, and one list of sent items. They must be equal because client must receive the items that he ordered.\r\n\r\nSo I did this way:\r\n\r\n```java\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Case 1\r\n\t\tList&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n\t\tList&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\r\n\r\n\t\t// No difference\r\n\t\tSystem.out.println(&quot;Case 1: &quot; + getDifference(order1, sended1));\r\n\r\n\t\t// Case 2\r\n\t\tList&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\r\n\t\tList&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\r\n\r\n\t\t// &quot;1 item(s) missing in sended: A&quot;\r\n\t\tSystem.out.println(&quot;Case 2: &quot; + getDifference(order2, sended2));\r\n\r\n\t\t// Case 3\r\n\t\tList&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\r\n\t\tList&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n\r\n\t\t// &quot;2 item(s) missing in order: B, C&quot;\r\n\t\tSystem.out.println(&quot;Case 3: &quot; + getDifference(order3, sended3));\r\n\r\n\t\t// Case 4\r\n\t\tList&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\r\n\t\tList&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\r\n\r\n\t\t// 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\r\n\t\tSystem.out.println(&quot;Case 4: &quot; + getDifference(order4, sended4));\r\n\t}\r\n\r\n\tprivate static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sended) {\r\n\t\tStringBuilder output = new StringBuilder();\r\n\r\n\t\tif (order.equals(sended)) {\r\n\t\t\toutput.append(&quot;No difference&quot;);\r\n\r\n\t\t} else {\r\n\t\t\tList&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\r\n\t\t\tauxOrder.removeAll(sended);\r\n\r\n\t\t\tif (auxOrder.size() &gt; 0) {\r\n\t\t\t\toutput.append(auxOrder.size()).append(&quot; item(s) missing in sended: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxOrder)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;String&gt; auxSended = new ArrayList&lt;&gt;(sended);\r\n\t\t\tauxSended.removeAll(order);\r\n\r\n\t\t\tif (auxSended.size() &gt; 0) {\r\n\t\t\t\tif (output.length() &gt; 0) {\r\n\t\t\t\t\toutput.append(&quot; &amp; &quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutput.append(auxSended.size()).append(&quot; item(s) missing in order: &quot;);\r\n\t\t\t\toutput.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxSended)).append(&quot;\\&quot;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output.toString();\r\n\t}\r\n}\r\n```\r\nIt works, but I&#39;m not sure that it is the best way to do it, so I ask for your help!","title":"Get the items difference between two lists in Java","body":"<p>I'm trying to get the items difference between two lists, but, <strong>sometimes one list is bigger than other, sometimes one is smaller and sometimes they are equal</strong>. Also, <strong>missing objects can happen in both lists</strong>.</p>\n<p>I found good solutions to get the difference between two lists, like <a href=\"https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists\">How can I return the difference between two lists?</a>, but no one considers 2 lists.</p>\n<p>I saw <a href=\"https://stackoverflow.com/questions/43181154/find-common-and-different-elements-between-two-list-in-java\">Find common and different elements between two list in java</a> too, but it isn't exactly what I'm asking.</p>\n<p>I elaborate one example to illustrate what I want to do.</p>\n<p>Consider one list of ordered items, and one list of sent items. They must be equal because client must receive the items that he ordered.</p>\n<p>So I did this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // Case 1\n        List&lt;String&gt; order1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n        List&lt;String&gt; sended1 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot; });\n\n        // No difference\n        System.out.println(&quot;Case 1: &quot; + getDifference(order1, sended1));\n\n        // Case 2\n        List&lt;String&gt; order2 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\n        List&lt;String&gt; sended2 = Arrays.asList(new String[] { &quot;B&quot;, &quot;C&quot; });\n\n        // &quot;1 item(s) missing in sended: A&quot;\n        System.out.println(&quot;Case 2: &quot; + getDifference(order2, sended2));\n\n        // Case 3\n        List&lt;String&gt; order3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot; });\n        List&lt;String&gt; sended3 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // &quot;2 item(s) missing in order: B, C&quot;\n        System.out.println(&quot;Case 3: &quot; + getDifference(order3, sended3));\n\n        // Case 4\n        List&lt;String&gt; order4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;D&quot;, &quot;F&quot; });\n        List&lt;String&gt; sended4 = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; });\n\n        // 1 item(s) missing in sended: &quot;F&quot; &amp; 2 item(s) missing in order: &quot;B&quot;, &quot;C&quot;\n        System.out.println(&quot;Case 4: &quot; + getDifference(order4, sended4));\n    }\n\n    private static String getDifference(List&lt;String&gt; order, List&lt;String&gt; sended) {\n        StringBuilder output = new StringBuilder();\n\n        if (order.equals(sended)) {\n            output.append(&quot;No difference&quot;);\n\n        } else {\n            List&lt;String&gt; auxOrder = new ArrayList&lt;&gt;(order);\n            auxOrder.removeAll(sended);\n\n            if (auxOrder.size() &gt; 0) {\n                output.append(auxOrder.size()).append(&quot; item(s) missing in sended: &quot;);\n                output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxOrder)).append(&quot;\\&quot;&quot;);\n            }\n\n            List&lt;String&gt; auxSended = new ArrayList&lt;&gt;(sended);\n            auxSended.removeAll(order);\n\n            if (auxSended.size() &gt; 0) {\n                if (output.length() &gt; 0) {\n                    output.append(&quot; &amp; &quot;);\n                }\n\n                output.append(auxSended.size()).append(&quot; item(s) missing in order: &quot;);\n                output.append(&quot;\\&quot;&quot;).append(String.join(&quot;\\&quot;, \\&quot;&quot;, auxSended)).append(&quot;\\&quot;&quot;);\n            }\n        }\n        return output.toString();\n    }\n}\n</code></pre>\n<p>It works, but I'm not sure that it is the best way to do it, so I ask for your help!</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","spring-boot"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1463514572,"post_id":37285016,"comment_id":62095073,"body_markdown":"By setting up [spring-boot-starter-security](https://spring.io/guides/gs/securing-web/).","body":"By setting up <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">spring-boot-starter-security</a>."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1463515108,"post_id":37285016,"comment_id":62095340,"body_markdown":"You need to authenticate = you want to have authentication? Because there is no authentication nor username &amp; password in spring-boot-starter-tomcat/-web. If you see some, it&#39;s probably a different application on :8080","body":"You need to authenticate = you want to have authentication? Because there is no authentication nor username &amp; password in spring-boot-starter-tomcat/-web. If you see some, it&#39;s probably a different application on :8080"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1463515121,"post_id":37285016,"comment_id":62095347,"body_markdown":"And it&#39;s printed on the console at launch.","body":"And it&#39;s printed on the console at launch."}],"answers":[{"comments":[{"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"score":28,"creation_date":1469094984,"post_id":37288790,"comment_id":64401230,"body_markdown":"If you fine tune your logging configuration, ensure that the `org.springframework.boot.autoconfigure.security` category is set to log INFO messages, otherwise the default password will not be printed.","body":"If you fine tune your logging configuration, ensure that the <code>org.springframework.boot.autoconfigure.security</code> category is set to log INFO messages, otherwise the default password will not be printed."},{"owner":{"account_id":48047,"reputation":585,"user_id":142534,"display_name":"Sachin Sharma"},"score":1,"creation_date":1509002595,"post_id":37288790,"comment_id":80843348,"body_markdown":"beautiful. everything defaulted to something. double edged sword.","body":"beautiful. everything defaulted to something. double edged sword."},{"owner":{"account_id":2921611,"reputation":8851,"user_id":2503722,"accept_rate":57,"display_name":"Amir"},"score":2,"creation_date":1534594671,"post_id":37288790,"comment_id":90767243,"body_markdown":"for my case (spring boot vs:2.0.4) console is &quot;Using generated security password: eb7a9e02-b9cc-484d-9dec-a295b96d94ee&quot;","body":"for my case (spring boot vs:2.0.4) console is &quot;Using generated security password: eb7a9e02-b9cc-484d-9dec-a295b96d94ee&quot;"},{"owner":{"account_id":11376470,"reputation":375,"user_id":8340633,"display_name":"Dmitriy Ryabin"},"score":0,"creation_date":1575922199,"post_id":37288790,"comment_id":104721283,"body_markdown":"This was just the case for me too.  I was just about to start asking question about it.","body":"This was just the case for me too.  I was just about to start asking question about it."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1595687618,"post_id":37288790,"comment_id":111563980,"body_markdown":"@Marcel I have added the spring security in class path, and can see the generated password, But when I use in basic auth via postman as username as user and password as generated password. I am getting unauthorised.","body":"@Marcel I have added the spring security in class path, and can see the generated password, But when I use in basic auth via postman as username as user and password as generated password. I am getting unauthorised."},{"owner":{"account_id":4166829,"reputation":131,"user_id":3415630,"display_name":"JassJava"},"score":0,"creation_date":1598957090,"post_id":37288790,"comment_id":112618138,"body_markdown":"I am facing the same issue that @Lokesh Pandey is facing . I am using postman and used the generated password and username as user in basic authentication. but its not working.","body":"I am facing the same issue that @Lokesh Pandey is facing . I am using postman and used the generated password and username as user in basic authentication. but its not working."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1598976626,"post_id":37288790,"comment_id":112627934,"body_markdown":"@JassJava that&#39;s because of the spring security. I know why that issue is happening. I will recommend you to go through this incredible article which will give you enough insight on spring security https://www.marcobehler.com/guides/spring-security","body":"@JassJava that&#39;s because of the spring security. I know why that issue is happening. I will recommend you to go through this incredible article which will give you enough insight on spring security <a href=\"https://www.marcobehler.com/guides/spring-security\" rel=\"nofollow noreferrer\">marcobehler.com/guides/spring-security</a>"},{"owner":{"account_id":4166829,"reputation":131,"user_id":3415630,"display_name":"JassJava"},"score":0,"creation_date":1599106406,"post_id":37288790,"comment_id":112671895,"body_markdown":"@LokeshPandey I understand that&#39;s because of Spring Security, also the automatically generated password which is being printed on console, I am using the same. Still postman says 401 UnAuthorized. Should I need to have my own username password implementation. I mean what if I do not want to do that, I only need to use the default password that spring generated. Simple as that it should have been, but it doesn&#39;t seem to.","body":"@LokeshPandey I understand that&#39;s because of Spring Security, also the automatically generated password which is being printed on console, I am using the same. Still postman says 401 UnAuthorized. Should I need to have my own username password implementation. I mean what if I do not want to do that, I only need to use the default password that spring generated. Simple as that it should have been, but it doesn&#39;t seem to."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1599118800,"post_id":37288790,"comment_id":112675839,"body_markdown":"@JassJava that&#39;s the hashed password.","body":"@JassJava that&#39;s the hashed password."},{"owner":{"account_id":4166829,"reputation":131,"user_id":3415630,"display_name":"JassJava"},"score":0,"creation_date":1599473497,"post_id":37288790,"comment_id":112776145,"body_markdown":"So which means there is no way I could decode this password and use it in postman.","body":"So which means there is no way I could decode this password and use it in postman."},{"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"score":0,"creation_date":1610952258,"post_id":37288790,"comment_id":116284635,"body_markdown":"The _Spring Boot secured example_ github project linked above does not exist anymore. It has been moved seemingly to [spring-projects/spring-security-samples](https://github.com/spring-projects/spring-security-samples).","body":"The <i>Spring Boot secured example</i> github project linked above does not exist anymore. It has been moved seemingly to <a href=\"https://github.com/spring-projects/spring-security-samples\" rel=\"nofollow noreferrer\">spring-projects/spring-security-samples</a>."}],"tags":[],"owner":{"account_id":5892563,"reputation":4311,"user_id":4638693,"display_name":"Marcel Dias"},"comment_count":11,"down_vote_count":0,"up_vote_count":377,"is_accepted":true,"score":377,"last_activity_date":1472849638,"creation_date":1463535394,"answer_id":37288790,"question_id":37285016,"body_markdown":"I think that you have Spring Security on your class path and then spring security is automatically configured with a default user and generated password\r\n\r\nPlease look into your pom.xml file for:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIf you have that in your pom than you should have a log console message like this:\r\n\r\n`Using default security password: ce6c3d39-8f20-4a41-8e01-803166bb99b6`\r\n\r\nAnd in the browser prompt you will import the user `user` and the password printed in the console.\r\n\r\nOr if you want to configure spring security you can take a look at [Spring Boot secured example](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-secure)\r\n\r\nIt is explained in the Spring Boot *Reference documentation* in the [Security][1] section, it indicates:\r\n\r\n    The default AuthenticationManager has a single user (user username and random password, printed at `INFO` level when the application starts up)\r\n    \r\n    Using default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>I think that you have Spring Security on your class path and then spring security is automatically configured with a default user and generated password</p>\n\n<p>Please look into your pom.xml file for:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you have that in your pom than you should have a log console message like this:</p>\n\n<p><code>Using default security password: ce6c3d39-8f20-4a41-8e01-803166bb99b6</code></p>\n\n<p>And in the browser prompt you will import the user <code>user</code> and the password printed in the console.</p>\n\n<p>Or if you want to configure spring security you can take a look at <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-secure\">Spring Boot secured example</a></p>\n\n<p>It is explained in the Spring Boot <em>Reference documentation</em> in the <a href=\"http://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security\">Security</a> section, it indicates:</p>\n\n<pre><code>The default AuthenticationManager has a single user (user username and random password, printed at `INFO` level when the application starts up)\n\nUsing default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"score":0,"creation_date":1554646757,"post_id":46606542,"comment_id":97820023,"body_markdown":"i just added spring.security.user.name=&lt;&gt;\nspring.security.user.password=&lt;&gt; to the application.properties file. I did not do anything else. Still it worked.","body":"i just added spring.security.user.name=&lt;&gt; spring.security.user.password=&lt;&gt; to the application.properties file. I did not do anything else. Still it worked."},{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":0,"creation_date":1573555663,"post_id":46606542,"comment_id":103911640,"body_markdown":"You have your property name wrong in the xml example\nIt&#39;s spring.security.user.password=xxx\nNot sure about the XML formatting either as we use .yml files","body":"You have your property name wrong in the xml example It&#39;s spring.security.user.password=xxx Not sure about the XML formatting either as we use .yml files"},{"owner":{"account_id":4497262,"reputation":961,"user_id":3656774,"display_name":"Martin van Wingerden"},"score":0,"creation_date":1576094865,"post_id":46606542,"comment_id":104791296,"body_markdown":"When using the `inMemoryAuthentication` you rather prefix your password with {noop} when you receive the error: `There is no PasswordEncoder mapped for the id null`","body":"When using the <code>inMemoryAuthentication</code> you rather prefix your password with {noop} when you receive the error: <code>There is no PasswordEncoder mapped for the id null</code>"},{"owner":{"account_id":4722111,"reputation":269,"user_id":3819708,"accept_rate":100,"display_name":"apss1943"},"score":0,"creation_date":1587298631,"post_id":46606542,"comment_id":108450571,"body_markdown":"add this in SecurityConfig class\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n\nIt can fix There is no PasswordEncoder mapped for the id null","body":"add this in SecurityConfig class      @Bean     public PasswordEncoder passwordEncoder() {         return NoOpPasswordEncoder.getInstance();     }  It can fix There is no PasswordEncoder mapped for the id null"}],"tags":[],"owner":{"account_id":4448063,"reputation":2887,"user_id":3620833,"accept_rate":67,"display_name":"Vino"},"comment_count":4,"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1525779107,"creation_date":1507295488,"answer_id":46606542,"question_id":37285016,"body_markdown":"If `spring-security` jars are added in classpath and also if it is `spring-boot` application all http endpoints will be secured by default security configuration class `SecurityAutoConfiguration` \r\n\r\nThis causes a browser pop-up to ask for credentials.\r\n\r\nThe password changes for each application restarts and can be found in console.\r\n\r\n\r\n    Using default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\r\n\r\n\r\nTo add your own layer of application security in front of the defaults,\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                .inMemoryAuthentication()\r\n                    .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\r\n        }\r\n    }\r\n\r\nor if you just want to change password you could override default with,\r\n\r\n  **application.xml**\r\n\r\nsecurity.user.password=new_password\r\n\r\nor\r\n\r\n  **application.properties**\r\n\r\n    spring.security.user.name=&lt;&gt;\r\n    spring.security.user.password=&lt;&gt;","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>If <code>spring-security</code> jars are added in classpath and also if it is <code>spring-boot</code> application all http endpoints will be secured by default security configuration class <code>SecurityAutoConfiguration</code> </p>\n\n<p>This causes a browser pop-up to ask for credentials.</p>\n\n<p>The password changes for each application restarts and can be found in console.</p>\n\n<pre><code>Using default security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35\n</code></pre>\n\n<p>To add your own layer of application security in front of the defaults,</p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n                .withUser(\"user\").password(\"password\").roles(\"USER\");\n    }\n}\n</code></pre>\n\n<p>or if you just want to change password you could override default with,</p>\n\n<p><strong>application.xml</strong></p>\n\n<p>security.user.password=new_password</p>\n\n<p>or</p>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>spring.security.user.name=&lt;&gt;\nspring.security.user.password=&lt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1526287793,"creation_date":1511854058,"answer_id":47526134,"question_id":37285016,"body_markdown":"**You can also ask the user for the credentials and set them dynamically once the server starts (very effective when you need to publish the solution on a customer environment):**\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n\t    private static final Logger log = LogManager.getLogger();\r\n\t    \r\n        @Autowired\r\n\t    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t    log.info(&quot;Setting in-memory security using the user input...&quot;);\r\n\r\n\t\t    Scanner scanner = new Scanner(System.in);\r\n\t\t    String inputUser = null;\r\n\t\t    String inputPassword = null;\r\n\t\t    System.out.println(&quot;\\nPlease set the admin credentials for this web application&quot;);\r\n            while (true) {\r\n        \t    System.out.print(&quot;user: &quot;);\r\n                inputUser = scanner.nextLine();\r\n                System.out.print(&quot;password: &quot;);\r\n                inputPassword = scanner.nextLine();\r\n                System.out.print(&quot;confirm password: &quot;);\r\n                String inputPasswordConfirm = scanner.nextLine();\r\n          \r\n                if (inputUser.isEmpty()) {\r\n            \t    System.out.println(&quot;Error: user must be set - please try again&quot;);\r\n                } else if (inputPassword.isEmpty()) {\r\n                \tSystem.out.println(&quot;Error: password must be set - please try again&quot;);\r\n                } else if (!inputPassword.equals(inputPasswordConfirm)) {\r\n                \tSystem.out.println(&quot;Error: password and password confirm do not match - please try again&quot;);\r\n                } else {\r\n            \t    log.info(&quot;Setting the in-memory security using the provided credentials...&quot;);\r\n            \t    break;\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n            scanner.close();\r\n        \r\n            if (inputUser != null &amp;&amp; inputPassword != null) {\r\n        \t     auth.inMemoryAuthentication()\r\n        \t        .withUser(inputUser)\r\n        \t        .password(inputPassword)\r\n        \t        .roles(&quot;USER&quot;);\r\n            }\r\n\t    }\r\n    }\r\n\r\n**(May 2018) An update - this will work on spring boot 2.x:**\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n\t    private static final Logger log = LogManager.getLogger();\r\n\t\r\n\t    @Override\r\n\t    protected void configure(HttpSecurity http) throws Exception {\r\n\t\t    // Note: \r\n\t\t    // Use this to enable the tomcat basic authentication (tomcat popup rather than spring login page)\r\n\t\t    // Note that the CSRf token is disabled for all requests\r\n\t\t    log.info(&quot;Disabling CSRF, enabling basic authentication...&quot;);\r\n\t\t    http\r\n\t\t    .authorizeRequests()\r\n\t\t\t    .antMatchers(&quot;/**&quot;).authenticated() // These urls are allowed by any authenticated user\r\n\t\t    .and()\r\n\t\t\t    .httpBasic();\r\n\t\t    http.csrf().disable();\r\n\t    }\r\n\t\r\n\t    @Bean\r\n\t    public UserDetailsService userDetailsService() {\r\n\t        log.info(&quot;Setting in-memory security using the user input...&quot;);\r\n    \r\n\t\t    String username = null;\r\n\t\t    String password = null;\r\n\t\t\r\n\t\t    System.out.println(&quot;\\nPlease set the admin credentials for this web application (will be required when browsing to the web application)&quot;);\r\n\t\t    Console console = System.console();\r\n    \t\r\n\t\t    // Read the credentials from the user console: \r\n\t\t    // Note: \r\n\t\t    // Console supports password masking, but is not supported in IDEs such as eclipse; \r\n\t\t    // thus if in IDE (where console == null) use scanner instead:\r\n\t\t    if (console == null) {\r\n\t\t\t    // Use scanner:\r\n\t\t\t    Scanner scanner = new Scanner(System.in);\r\n\t\t\t    while (true) {\r\n\t        \t    System.out.print(&quot;Username: &quot;);\r\n\t        \t    username = scanner.nextLine();\r\n\t                System.out.print(&quot;Password: &quot;);\r\n\t                password = scanner.nextLine();\r\n\t                System.out.print(&quot;Confirm Password: &quot;);\r\n\t                String inputPasswordConfirm = scanner.nextLine();\r\n\t          \r\n\t                if (username.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: user must be set - please try again&quot;);\r\n\t                } else if (password.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: password must be set - please try again&quot;);\r\n\t                } else if (!password.equals(inputPasswordConfirm)) {\r\n\t            \t    System.out.println(&quot;Error: password and password confirm do not match - please try again&quot;);\r\n\t                } else {\r\n\t            \t    log.info(&quot;Setting the in-memory security using the provided credentials...&quot;);\r\n\t            \t    break;\r\n\t                }\r\n\t                System.out.println(&quot;&quot;);\r\n\t            }\r\n\t            scanner.close();\r\n\t\t    } else {\r\n\t\t\t    // Use Console\r\n\t\t\t    while (true) {\r\n\t        \t    username = console.readLine(&quot;Username: &quot;);\r\n\t        \t    char[] passwordChars = console.readPassword(&quot;Password: &quot;);\r\n\t        \t    password = String.valueOf(passwordChars);\r\n\t                char[] passwordConfirmChars = console.readPassword(&quot;Confirm Password: &quot;);\r\n\t                String passwordConfirm = String.valueOf(passwordConfirmChars);\r\n\t            \r\n\t                if (username.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: Username must be set - please try again&quot;);\r\n\t                } else if (password.isEmpty()) {\r\n\t            \t    System.out.println(&quot;Error: Password must be set - please try again&quot;);\r\n\t                } else if (!password.equals(passwordConfirm)) {\r\n\t            \t    System.out.println(&quot;Error: Password and Password Confirm do not match - please try again&quot;);\r\n\t                } else {\r\n\t            \t    log.info(&quot;Setting the in-memory security using the provided credentials...&quot;);\r\n\t            \t    break;\r\n\t                }\r\n\t                System.out.println(&quot;&quot;);\r\n\t            }\r\n\t\t    }\r\n\t\t\r\n\t\t    // Set the inMemoryAuthentication object with the given credentials:\r\n\t\t    InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n\t        if (username != null &amp;&amp; password != null) {\r\n\t\t\t    String encodedPassword = passwordEncoder().encode(password);\r\n                manager.createUser(User.withUsername(username).password(encodedPassword).roles(&quot;USER&quot;).build());\r\n\t\t    }\r\n\t        return manager;\r\n\t    }\r\n\t    \r\n\t    @Bean\r\n\t    public PasswordEncoder passwordEncoder() {\r\n\t        return new BCryptPasswordEncoder();\r\n\t    }\r\n    }\r\n\t\r\n\t","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p><strong>You can also ask the user for the credentials and set them dynamically once the server starts (very effective when you need to publish the solution on a customer environment):</strong></p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    private static final Logger log = LogManager.getLogger();\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        log.info(\"Setting in-memory security using the user input...\");\n\n        Scanner scanner = new Scanner(System.in);\n        String inputUser = null;\n        String inputPassword = null;\n        System.out.println(\"\\nPlease set the admin credentials for this web application\");\n        while (true) {\n            System.out.print(\"user: \");\n            inputUser = scanner.nextLine();\n            System.out.print(\"password: \");\n            inputPassword = scanner.nextLine();\n            System.out.print(\"confirm password: \");\n            String inputPasswordConfirm = scanner.nextLine();\n\n            if (inputUser.isEmpty()) {\n                System.out.println(\"Error: user must be set - please try again\");\n            } else if (inputPassword.isEmpty()) {\n                System.out.println(\"Error: password must be set - please try again\");\n            } else if (!inputPassword.equals(inputPasswordConfirm)) {\n                System.out.println(\"Error: password and password confirm do not match - please try again\");\n            } else {\n                log.info(\"Setting the in-memory security using the provided credentials...\");\n                break;\n            }\n            System.out.println(\"\");\n        }\n        scanner.close();\n\n        if (inputUser != null &amp;&amp; inputPassword != null) {\n             auth.inMemoryAuthentication()\n                .withUser(inputUser)\n                .password(inputPassword)\n                .roles(\"USER\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>(May 2018) An update - this will work on spring boot 2.x:</strong></p>\n\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final Logger log = LogManager.getLogger();\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // Note: \n        // Use this to enable the tomcat basic authentication (tomcat popup rather than spring login page)\n        // Note that the CSRf token is disabled for all requests\n        log.info(\"Disabling CSRF, enabling basic authentication...\");\n        http\n        .authorizeRequests()\n            .antMatchers(\"/**\").authenticated() // These urls are allowed by any authenticated user\n        .and()\n            .httpBasic();\n        http.csrf().disable();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        log.info(\"Setting in-memory security using the user input...\");\n\n        String username = null;\n        String password = null;\n\n        System.out.println(\"\\nPlease set the admin credentials for this web application (will be required when browsing to the web application)\");\n        Console console = System.console();\n\n        // Read the credentials from the user console: \n        // Note: \n        // Console supports password masking, but is not supported in IDEs such as eclipse; \n        // thus if in IDE (where console == null) use scanner instead:\n        if (console == null) {\n            // Use scanner:\n            Scanner scanner = new Scanner(System.in);\n            while (true) {\n                System.out.print(\"Username: \");\n                username = scanner.nextLine();\n                System.out.print(\"Password: \");\n                password = scanner.nextLine();\n                System.out.print(\"Confirm Password: \");\n                String inputPasswordConfirm = scanner.nextLine();\n\n                if (username.isEmpty()) {\n                    System.out.println(\"Error: user must be set - please try again\");\n                } else if (password.isEmpty()) {\n                    System.out.println(\"Error: password must be set - please try again\");\n                } else if (!password.equals(inputPasswordConfirm)) {\n                    System.out.println(\"Error: password and password confirm do not match - please try again\");\n                } else {\n                    log.info(\"Setting the in-memory security using the provided credentials...\");\n                    break;\n                }\n                System.out.println(\"\");\n            }\n            scanner.close();\n        } else {\n            // Use Console\n            while (true) {\n                username = console.readLine(\"Username: \");\n                char[] passwordChars = console.readPassword(\"Password: \");\n                password = String.valueOf(passwordChars);\n                char[] passwordConfirmChars = console.readPassword(\"Confirm Password: \");\n                String passwordConfirm = String.valueOf(passwordConfirmChars);\n\n                if (username.isEmpty()) {\n                    System.out.println(\"Error: Username must be set - please try again\");\n                } else if (password.isEmpty()) {\n                    System.out.println(\"Error: Password must be set - please try again\");\n                } else if (!password.equals(passwordConfirm)) {\n                    System.out.println(\"Error: Password and Password Confirm do not match - please try again\");\n                } else {\n                    log.info(\"Setting the in-memory security using the provided credentials...\");\n                    break;\n                }\n                System.out.println(\"\");\n            }\n        }\n\n        // Set the inMemoryAuthentication object with the given credentials:\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n        if (username != null &amp;&amp; password != null) {\n            String encodedPassword = passwordEncoder().encode(password);\n            manager.createUser(User.withUsername(username).password(encodedPassword).roles(\"USER\").build());\n        }\n        return manager;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1362142,"reputation":691,"user_id":1299301,"display_name":"gdecaso"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1524939815,"creation_date":1524939815,"answer_id":50079755,"question_id":37285016,"body_markdown":"If you can&#39;t find the password based on other answers that point to a default one, the log message wording in recent versions changed to\r\n\r\n    Using generated security password: &lt;some UUID&gt;\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>If you can't find the password based on other answers that point to a default one, the log message wording in recent versions changed to</p>\n\n<pre><code>Using generated security password: &lt;some UUID&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1554444386,"creation_date":1554444386,"answer_id":55529157,"question_id":37285016,"body_markdown":"Addition to accepted answer -\r\n\r\nIf password not seen in logs, enable &quot;org.springframework.boot.autoconfigure.security&quot; logs.\r\n\r\n&gt; If you fine-tune your logging configuration, ensure that the\r\n&gt; org.springframework.boot.autoconfigure.security category is set to log\r\n&gt; INFO messages, otherwise the default password will not be printed.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>Addition to accepted answer -</p>\n\n<p>If password not seen in logs, enable \"org.springframework.boot.autoconfigure.security\" logs.</p>\n\n<blockquote>\n  <p>If you fine-tune your logging configuration, ensure that the\n  org.springframework.boot.autoconfigure.security category is set to log\n  INFO messages, otherwise the default password will not be printed.</p>\n</blockquote>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-security</a></p>\n"},{"tags":[],"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1563623826,"creation_date":1563623826,"answer_id":57124466,"question_id":37285016,"body_markdown":"When overriding\r\n```\r\nspring.security.user.name=\r\nspring.security.user.password=\r\n```\r\nin **application.properties**, you don&#39;t need `&quot;` around `&quot;username&quot;`, just use `username`. Another point, instead of storing *raw password*, encrypt it with **bcrypt/scrypt** and store it like \r\n```\r\nspring.security.user.password={bcrypt}encryptedPassword\r\n```\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>When overriding</p>\n\n<pre><code>spring.security.user.name=\nspring.security.user.password=\n</code></pre>\n\n<p>in <strong>application.properties</strong>, you don't need <code>\"</code> around <code>\"username\"</code>, just use <code>username</code>. Another point, instead of storing <em>raw password</em>, encrypt it with <strong>bcrypt/scrypt</strong> and store it like </p>\n\n<pre><code>spring.security.user.password={bcrypt}encryptedPassword\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7361010,"reputation":185,"user_id":5604291,"display_name":"VicXj"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1577376882,"creation_date":1577376882,"answer_id":59490838,"question_id":37285016,"body_markdown":"When I started learning Spring Security, then I overrided the method **userDetailsService()** as in below code snippet:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class ApplicationSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;/index&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .httpBasic();\r\n        }\r\n        \r\n        @Override\r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n        \tList&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\r\n        \tusers.add(User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;nimda&quot;).roles(&quot;USER&quot;,&quot;ADMIN&quot;).build());\r\n        \tusers.add(User.withDefaultPasswordEncoder().username(&quot;Spring&quot;).password(&quot;Security&quot;).roles(&quot;USER&quot;).build());\r\n        \treturn new InMemoryUserDetailsManager(users);\r\n        }\r\n    }\r\n\r\nSo we can log in to the application using the above-mentioned creds. (e.g. admin/nimda)\r\n\r\n**Note: This we should not use in production.**\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>When I started learning Spring Security, then I overrided the method <strong>userDetailsService()</strong> as in below code snippet:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfiguration extends WebSecurityConfigurerAdapter{\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\"/\", \"/index\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic();\n    }\n\n    @Override\n    @Bean\n    public UserDetailsService userDetailsService() {\n        List&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\n        users.add(User.withDefaultPasswordEncoder().username(\"admin\").password(\"nimda\").roles(\"USER\",\"ADMIN\").build());\n        users.add(User.withDefaultPasswordEncoder().username(\"Spring\").password(\"Security\").roles(\"USER\").build());\n        return new InMemoryUserDetailsManager(users);\n    }\n}\n</code></pre>\n\n<p>So we can log in to the application using the above-mentioned creds. (e.g. admin/nimda)</p>\n\n<p><strong>Note: This we should not use in production.</strong></p>\n"},{"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1584452747,"creation_date":1584452747,"answer_id":60723681,"question_id":37285016,"body_markdown":"Try to take username and password from below code snipet in your project and login and hope this will work.\r\n\r\n    @Override\r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            List&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\r\n            users.add(User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;admin&quot;).roles(&quot;USER&quot;,&quot;ADMIN&quot;).build());\r\n            users.add(User.withDefaultPasswordEncoder().username(&quot;spring&quot;).password(&quot;spring&quot;).roles(&quot;USER&quot;).build());\r\n            return new UserDetailsManager(users);\r\n        }","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>Try to take username and password from below code snipet in your project and login and hope this will work.</p>\n\n<pre><code>@Override\n    @Bean\n    public UserDetailsService userDetailsService() {\n        List&lt;UserDetails&gt; users= new ArrayList&lt;UserDetails&gt;();\n        users.add(User.withDefaultPasswordEncoder().username(\"admin\").password(\"admin\").roles(\"USER\",\"ADMIN\").build());\n        users.add(User.withDefaultPasswordEncoder().username(\"spring\").password(\"spring\").roles(\"USER\").build());\n        return new UserDetailsManager(users);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14368925,"reputation":206,"user_id":10379192,"display_name":"ARMEL FOPA"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1610196954,"creation_date":1610196954,"answer_id":65642868,"question_id":37285016,"body_markdown":"For a start simply add the following to your application.properties file\r\n\r\n    spring.security.user.name=user\r\n    spring.security.user.password=pass\r\n\r\nNB: with no double quote\r\n\r\nRun your application and enter the credentials (user, pass)\r\n\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>For a start simply add the following to your application.properties file</p>\n<pre><code>spring.security.user.name=user\nspring.security.user.password=pass\n</code></pre>\n<p>NB: with no double quote</p>\n<p>Run your application and enter the credentials (user, pass)</p>\n"},{"tags":[],"owner":{"account_id":6083109,"reputation":2563,"user_id":4748172,"display_name":"Ryan H."},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653106338,"creation_date":1653106338,"answer_id":72326599,"question_id":37285016,"body_markdown":"As of Spring Security version 5.7.1, the default username is `user` and the password is randomly generated and displayed in the console (e.g. `8e557245-73e2-4286-969a-ff57fe326336`).\r\n\r\nPlease see the documentation for further details:\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/getting-started.html\r\n","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>As of Spring Security version 5.7.1, the default username is <code>user</code> and the password is randomly generated and displayed in the console (e.g. <code>8e557245-73e2-4286-969a-ff57fe326336</code>).</p>\n<p>Please see the documentation for further details:</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/getting-started.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/getting-started.html</a></p>\n"},{"tags":[],"owner":{"account_id":16241816,"reputation":41,"user_id":11727924,"display_name":"Nazia Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692725228,"creation_date":1692717098,"answer_id":76954694,"question_id":37285016,"body_markdown":"Ref- [Spring Boot 3 + Spring Security 6 Default username password generation in depth][1]&lt;br&gt;\r\nWhen we start the spring boot application which has spring security dependency \r\nas follows-\r\n\r\n           &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\nThen **UserDetailsServiceAutoConfiguration** creates a custom Spring Security User class with default username user and generated password. This Spring Security User class is then provided to InMemoryUserDetailsManager. \r\n[![enter image description here][2]][2]\r\nIf the user creates its own UserDetailsService bean, then the UserDetailsServiceAutoConfiguration gets automatically disabled. In this case we pass the new created user to be used by the InMemoryUserDetailsManager.&lt;br&gt;\r\nWith the new **Spring Boot 3 + Spring Security 6** configuration the code snippet for this is\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n    \r\n    \t@Bean\r\n    \tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.formLogin();\r\n    \t\thttp.authorizeHttpRequests().anyRequest().authenticated();\r\n    \t\treturn http.build();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tUserDetailsService userDetailsService() {\r\n    \t\tInMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\r\n    \t\tUserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\r\n    \t\tuserDetailsService.createUser(user);\r\n    \t\treturn userDetailsService;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://www.javainuse.com/boot3/sec/3\r\n  [2]: https://i.stack.imgur.com/jnNzW.png","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>Ref- <a href=\"https://www.javainuse.com/boot3/sec/3\" rel=\"nofollow noreferrer\">Spring Boot 3 + Spring Security 6 Default username password generation in depth</a><br>\nWhen we start the spring boot application which has spring security dependency\nas follows-</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Then <strong>UserDetailsServiceAutoConfiguration</strong> creates a custom Spring Security User class with default username user and generated password. This Spring Security User class is then provided to InMemoryUserDetailsManager.\n<a href=\"https://i.stack.imgur.com/jnNzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jnNzW.png\" alt=\"enter image description here\" /></a>\nIf the user creates its own UserDetailsService bean, then the UserDetailsServiceAutoConfiguration gets automatically disabled. In this case we pass the new created user to be used by the InMemoryUserDetailsManager.<br>\nWith the new <strong>Spring Boot 3 + Spring Security 6</strong> configuration the code snippet for this is</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.formLogin();\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        return http.build();\n    }\n    \n    @Bean\n    UserDetailsService userDetailsService() {\n        InMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\n        UserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\n        userDetailsService.createUser(user);\n        return userDetailsService;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8372605,"reputation":3511,"user_id":6287214,"accept_rate":62,"display_name":"Gustavo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312846,"favorite_count":0,"down_vote_count":1,"up_vote_count":193,"accepted_answer_id":37288790,"answer_count":11,"score":192,"last_activity_date":1692725228,"creation_date":1463514361,"question_id":37285016,"body_markdown":"When I deploy my Spring application via Spring Boot and access `localhost:8080` I have to authenticate, but what is the username and password or how can I set it?  I tried to add this to my `tomcat-users` file but it didn&#39;t work: \r\n\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    \t&lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui&quot;/&gt;\r\n\r\nThis is the starting point of the application:\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n    }\r\n\r\nAnd this is the Tomcat dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow do I authenticate on `localhost:8080`?","title":"What is username and password when starting Spring Boot with Tomcat?","body":"<p>When I deploy my Spring application via Spring Boot and access <code>localhost:8080</code> I have to authenticate, but what is the username and password or how can I set it?  I tried to add this to my <code>tomcat-users</code> file but it didn't work: </p>\n\n<pre><code>&lt;role rolename=\"manager-gui\"/&gt;\n    &lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui\"/&gt;\n</code></pre>\n\n<p>This is the starting point of the application:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n}\n</code></pre>\n\n<p>And this is the Tomcat dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>How do I authenticate on <code>localhost:8080</code>?</p>\n"},{"tags":["java","finance","apache-commons","yield"],"owner":{"account_id":20535289,"reputation":1,"user_id":15071537,"display_name":"whyt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692725206,"creation_date":1692725206,"question_id":76955612,"body_markdown":"I have this error when calculating the yield to maturity of coupon based bonds, I have all the templates that I need and tested them, no problem in there, but when I tried to run it gave me an error:\r\n\r\n&gt; Exception in thread &quot;main&quot; org.apache.commons.math3.exception.NoBracketingException: function values at endpoints do not have different signs, endpoints: \\[0, 0.9\\], values: \\[4.5, 19.138\\]\r\n&gt; at org.apache.commons.math3.analysis.solvers.BrentSolver.doSolve(BrentSolver.java:132)\r\n&gt; at org.apache.commons.math3.analysis.solvers.BaseAbstractUnivariateSolver.solve(BaseAbstractUnivariateSolver.java:199)\r\n&gt; at Pack1.YTM.calculateYTM(YTM.java:54)\r\n&gt; at Pack1.YTM.calculateYTMForAllSeries(YTM.java:60)\r\n&gt; at Pack1.MainApp.main(MainApp.java:21)\r\n\r\nTried to change bounds and initialGuess but it still don&#39;t work, does it have any logic issue that I missed?\r\n\r\n```\r\nUnivariateFunction function = new UnivariateFunction() {\r\n            @Override\r\n            public double value(double r) {\r\n                double sum = 0.0;\r\n                for (double j = 1; j &lt;= maturity * frequency; j++) {\r\n                    sum += (CouponPayment / frequency) / Math.pow(1 + r / frequency, j);\r\n                }\r\n                sum += FaceValue / Math.pow(1 + r / frequency, maturity * frequency);\r\n                return Price - sum;\r\n            }\r\n        };\r\n        \r\n        UnivariateSolver solver = new BrentSolver();\r\n        double lowerBound = 0.0; // Lower bound\r\n        double upperBound = 0.9; // Upper bound\r\n        double initialGuess = 0.01; // Initial guess\r\n\r\n        double ytm = solver.solve(1000, function, lowerBound, upperBound, initialGuess);\r\n        return ytm; // yield\r\n    }\r\n```","title":"Yield to Maturity using BrentSolver","body":"<p>I have this error when calculating the yield to maturity of coupon based bonds, I have all the templates that I need and tested them, no problem in there, but when I tried to run it gave me an error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.apache.commons.math3.exception.NoBracketingException: function values at endpoints do not have different signs, endpoints: [0, 0.9], values: [4.5, 19.138]\nat org.apache.commons.math3.analysis.solvers.BrentSolver.doSolve(BrentSolver.java:132)\nat org.apache.commons.math3.analysis.solvers.BaseAbstractUnivariateSolver.solve(BaseAbstractUnivariateSolver.java:199)\nat Pack1.YTM.calculateYTM(YTM.java:54)\nat Pack1.YTM.calculateYTMForAllSeries(YTM.java:60)\nat Pack1.MainApp.main(MainApp.java:21)</p>\n</blockquote>\n<p>Tried to change bounds and initialGuess but it still don't work, does it have any logic issue that I missed?</p>\n<pre><code>UnivariateFunction function = new UnivariateFunction() {\n            @Override\n            public double value(double r) {\n                double sum = 0.0;\n                for (double j = 1; j &lt;= maturity * frequency; j++) {\n                    sum += (CouponPayment / frequency) / Math.pow(1 + r / frequency, j);\n                }\n                sum += FaceValue / Math.pow(1 + r / frequency, maturity * frequency);\n                return Price - sum;\n            }\n        };\n        \n        UnivariateSolver solver = new BrentSolver();\n        double lowerBound = 0.0; // Lower bound\n        double upperBound = 0.9; // Upper bound\n        double initialGuess = 0.01; // Initial guess\n\n        double ytm = solver.solve(1000, function, lowerBound, upperBound, initialGuess);\n        return ytm; // yield\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1502148320,"post_id":45556821,"comment_id":78074128,"body_markdown":"suppose this [post](https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat) may be helpful and have a solution for what you are expecting.","body":"suppose this <a href=\"https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat\">post</a> may be helpful and have a solution for what you are expecting."},{"owner":{"account_id":322487,"reputation":7497,"user_id":641914,"accept_rate":88,"display_name":"Graham"},"score":1,"creation_date":1502152871,"post_id":45556821,"comment_id":78075059,"body_markdown":"Possible duplicate of [What is username and password when starting Spring Boot with Tomcat?](https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat\">What is username and password when starting Spring Boot with Tomcat?</a>"}],"answers":[{"comments":[{"owner":{"account_id":11504541,"reputation":91,"user_id":8431235,"display_name":"ahmedmess"},"score":0,"creation_date":1502147866,"post_id":45556859,"comment_id":78074036,"body_markdown":"JULY 03, 2013 old documentation :&#39;(","body":"JULY 03, 2013 old documentation :&#39;("},{"owner":{"account_id":5858283,"reputation":4931,"user_id":4614870,"display_name":"Brian"},"score":0,"creation_date":1502148433,"post_id":45556859,"comment_id":78074145,"body_markdown":"I just did this with 1.5.6 successully.","body":"I just did this with 1.5.6 successully."}],"tags":[],"owner":{"account_id":5858283,"reputation":4931,"user_id":4614870,"display_name":"Brian"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1502148420,"creation_date":1502146690,"answer_id":45556859,"question_id":45556821,"body_markdown":"This is [straight from the docs][1]:\r\n\r\nCreate a configuration class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class HelloWebSecurityConfiguration\r\n       extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Autowired\r\n      public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n        auth\r\n          .inMemoryAuthentication()\r\n            .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\r\n      }\r\n    }\r\n\r\n[Newer Docs][2]\r\n\r\nThis is slightly different, but the effect would be the same:\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Bean\r\n    \tpublic UserDetailsService userDetailsService() throws Exception {\r\n    \t\tInMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n    \t\tmanager.createUser(User.withUsername(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;).build());\r\n    \t\treturn manager;\r\n    \t}\r\n    }\r\n\r\n[1]:https://spring.io/blog/2013/07/03/spring-security-java-config-preview-web-security/#websecurityconfigureradapter\r\n[2]:https://docs.spring.io/spring-security/site/docs/current/reference/html/jc.html#hello-web-security-java-configuration","title":"Spring Security: How to change default user and password?","body":"<p>This is <a href=\"https://spring.io/blog/2013/07/03/spring-security-java-config-preview-web-security/#websecurityconfigureradapter\" rel=\"noreferrer\">straight from the docs</a>:</p>\n\n<p>Create a configuration class:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class HelloWebSecurityConfiguration\n   extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder auth) {\n    auth\n      .inMemoryAuthentication()\n        .withUser(\"user\").password(\"password\").roles(\"USER\");\n  }\n}\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/jc.html#hello-web-security-java-configuration\" rel=\"noreferrer\">Newer Docs</a></p>\n\n<p>This is slightly different, but the effect would be the same:</p>\n\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public UserDetailsService userDetailsService() throws Exception {\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n        manager.createUser(User.withUsername(\"user\").password(\"password\").roles(\"USER\").build());\n        return manager;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":2,"creation_date":1578154271,"post_id":45557186,"comment_id":105350075,"body_markdown":"This is not working when using `Spring Boot 2.2.2.RELEASE` and Security dependency, we need to implement `configure(...)` and extend `WebSecurityConfigurerAdapter`","body":"This is not working when using <code>Spring Boot 2.2.2.RELEASE</code> and Security dependency, we need to implement <code>configure(...)</code> and extend <code>WebSecurityConfigurerAdapter</code>"}],"tags":[],"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1690675671,"creation_date":1502149362,"answer_id":45557186,"question_id":45556821,"body_markdown":"This can be easly done in your `application.properties` file:\r\n\r\n    spring.security.user.name=user # Default user name.\r\n    spring.security.user.password= # Password\r\n    spring.security.user.roles=    # A comma separated list of roles\r\n\r\nCovered at the [Common Application Properties - Security Properties](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.security) documentation.","title":"Spring Security: How to change default user and password?","body":"<p>This can be easly done in your <code>application.properties</code> file:</p>\n<pre><code>spring.security.user.name=user # Default user name.\nspring.security.user.password= # Password\nspring.security.user.roles=    # A comma separated list of roles\n</code></pre>\n<p>Covered at the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.security\" rel=\"nofollow noreferrer\">Common Application Properties - Security Properties</a> documentation.</p>\n"},{"tags":[],"owner":{"account_id":14063539,"reputation":61,"user_id":10158955,"display_name":"Santosh G P"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533021639,"creation_date":1533021639,"answer_id":51607591,"question_id":45556821,"body_markdown":"    #add these lines in application.properties\r\n        spring.security.user.name=username\r\n        spring.security.user.password=password","title":"Spring Security: How to change default user and password?","body":"<pre><code>#add these lines in application.properties\n    spring.security.user.name=username\n    spring.security.user.password=password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14428194,"reputation":9,"user_id":10422260,"display_name":"sonal dadarya"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538028686,"creation_date":1538027410,"answer_id":52530234,"question_id":45556821,"body_markdown":"Add below properties in `application.properties` \r\n\r\n    spring.security.user.name= user_name\r\n    spring.security.user.password= user_password\r\n\r\nwhere &quot;`user_name`&quot; will be the user and &quot;`user_password`&quot; will be the password.","title":"Spring Security: How to change default user and password?","body":"<p>Add below properties in <code>application.properties</code> </p>\n\n<pre><code>spring.security.user.name= user_name\nspring.security.user.password= user_password\n</code></pre>\n\n<p>where \"<code>user_name</code>\" will be the user and \"<code>user_password</code>\" will be the password.</p>\n"},{"tags":[],"owner":{"account_id":3295825,"reputation":2301,"user_id":2773112,"accept_rate":50,"display_name":"nkalra0123"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568208379,"creation_date":1568208379,"answer_id":57890291,"question_id":45556821,"body_markdown":"These will not work with old version of spring boot, I was using 1.5.11.RELEASE and these properties were not working, After moving to 2.1.8.RELEASE, these properties work fine. \r\n\r\ncheck your pom.xml\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n\r\n    spring.security.user.name=username\r\n    spring.security.user.password=password","title":"Spring Security: How to change default user and password?","body":"<p>These will not work with old version of spring boot, I was using 1.5.11.RELEASE and these properties were not working, After moving to 2.1.8.RELEASE, these properties work fine. </p>\n\n<p>check your pom.xml</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\nspring.security.user.name=username\nspring.security.user.password=password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672809216,"creation_date":1672809216,"answer_id":75001199,"question_id":45556821,"body_markdown":"Set these 2 properties in your application.yml &lt;br/&gt;\r\n```\r\nspring.security.user.name=user_name\r\nspring.security.user.password=user_password\r\n```\r\n&lt;b&gt; Now how does this work &lt;br/&gt; &lt;/b&gt;\r\nIf you search for ```SecurityProperties.java``` inside this class you will see that these 2 properties have default value as \r\n```\r\nString user = user;\r\nString password = UUID.randomUUID().toString();\r\n```\r\nWhich are default credential for spring security\r\nSo we are basically override the default by setting those properties manually","title":"Spring Security: How to change default user and password?","body":"<p>Set these 2 properties in your application.yml <br/></p>\n<pre><code>spring.security.user.name=user_name\nspring.security.user.password=user_password\n</code></pre>\n<p><b> Now how does this work <br/> </b>\nIf you search for <code>SecurityProperties.java</code> inside this class you will see that these 2 properties have default value as</p>\n<pre><code>String user = user;\nString password = UUID.randomUUID().toString();\n</code></pre>\n<p>Which are default credential for spring security\nSo we are basically override the default by setting those properties manually</p>\n"},{"tags":[],"owner":{"account_id":16241816,"reputation":41,"user_id":11727924,"display_name":"Nazia Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692725193,"creation_date":1692691899,"answer_id":76951311,"question_id":45556821,"body_markdown":"Ref-[Spring Boot 3 + Security - Change Default Password (Set Custom Credentials)][1]&lt;br&gt;\r\nWith **Spring Boot 3 and Spring Security 6**, the configuration to have a custom username and password will be as follows-\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n    \r\n    \t@Bean\r\n    \tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.formLogin();\r\n    \t\thttp.authorizeHttpRequests().anyRequest().authenticated();\r\n    \t\treturn http.build();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tUserDetailsService userDetailsService() {\r\n    \t\tInMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\r\n    \t\tUserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\r\n    \t\tuserDetailsService.createUser(user);\r\n    \t\treturn userDetailsService;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.javainuse.com/boot3/sec/3","title":"Spring Security: How to change default user and password?","body":"<p>Ref-<a href=\"https://www.javainuse.com/boot3/sec/3\" rel=\"nofollow noreferrer\">Spring Boot 3 + Security - Change Default Password (Set Custom Credentials)</a><br>\nWith <strong>Spring Boot 3 and Spring Security 6</strong>, the configuration to have a custom username and password will be as follows-</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.formLogin();\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        return http.build();\n    }\n    \n    @Bean\n    UserDetailsService userDetailsService() {\n        InMemoryUserDetailsManager userDetailsService = new InMemoryUserDetailsManager();\n        UserDetails user = User.withUsername(&quot;javainuse&quot;).password(&quot;javainuse&quot;).authorities(&quot;read&quot;).build();\n        userDetailsService.createUser(user);\n        return userDetailsService;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11504541,"reputation":91,"user_id":8431235,"display_name":"ahmedmess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22099,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1692725193,"creation_date":1502146448,"question_id":45556821,"body_markdown":"I have Spring Security in my pom.xml, and Spring Security is automatically configured with a default user and generated password:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow do I change the default user and password?","title":"Spring Security: How to change default user and password?","body":"<p>I have Spring Security in my pom.xml, and Spring Security is automatically configured with a default user and generated password:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>How do I change the default user and password?</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1692717933,"post_id":76954329,"comment_id":135661054,"body_markdown":"I think it would help to turn antialiasing on.","body":"I think it would help to turn antialiasing on."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692724873,"creation_date":1692724177,"answer_id":76955489,"question_id":76954329,"body_markdown":"Using antialiasing can help smoothen out the edges for you, and you should get something looking like this -&gt;\r\n\r\n[![][1]][1]\r\n\r\nHere&#39;s what you need to do -&gt;\r\n```\r\n...\r\nGraphics2D g2 = (Graphics2D) g;\r\nInsets b = progressBar.getInsets(); // Border insets\r\nint barRectWidth = progressBar.getWidth() - b.right - b.left;\r\nint barRectHeight = progressBar.getHeight() - b.top - b.bottom;\r\n            \r\nRenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\ng2.setRenderingHints(hints);\r\n\r\ng2.setColor(progressBar.getBackground());\r\nShape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\r\ng2.fill(shapeBg);\r\n...\r\n```\r\nFor more details check out [Controlling Rendering Quality][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpaTu.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html","title":"How do i fix uneveness of RoundRectangle2d?","body":"<p>Using antialiasing can help smoothen out the edges for you, and you should get something looking like this -&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/NpaTu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpaTu.png\" alt=\"\" /></a></p>\n<p>Here's what you need to do -&gt;</p>\n<pre><code>...\nGraphics2D g2 = (Graphics2D) g;\nInsets b = progressBar.getInsets(); // Border insets\nint barRectWidth = progressBar.getWidth() - b.right - b.left;\nint barRectHeight = progressBar.getHeight() - b.top - b.bottom;\n            \nRenderingHints hints = new RenderingHints(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\ng2.setRenderingHints(hints);\n\ng2.setColor(progressBar.getBackground());\nShape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\ng2.fill(shapeBg);\n...\n</code></pre>\n<p>For more details check out <a href=\"https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html\" rel=\"nofollow noreferrer\">Controlling Rendering Quality</a></p>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692724873,"creation_date":1692714737,"question_id":76954329,"body_markdown":"I have a this piece of code to add a rounded JProgressBar to a JPanel:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.basic.BasicProgressBarUI;\r\n    import java.awt.*;\r\n    import java.awt.geom.RoundRectangle2D;\r\n\r\n    public class RoundedProgressBar extends JProgressBar {\r\n        public RoundedProgressBar() {\r\n            setOpaque(false); // Make the progress bar transparent\r\n            setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 0)); // Add padding\r\n            setUI(new RoundedProgressBarUI());\r\n        }\r\n\r\n        private class RoundedProgressBarUI extends BasicProgressBarUI {\r\n            @Override\r\n            protected void paintDeterminate(Graphics g, JComponent c) {\r\n                int arcWidth = 10;\r\n                int arcHeight = 10;\r\n\r\n                Graphics2D g2 = (Graphics2D) g;\r\n                Insets b = progressBar.getInsets(); // Border insets\r\n                int barRectWidth = progressBar.getWidth() - b.right - b.left;\r\n                int barRectHeight = progressBar.getHeight() - b.top - b.bottom;\r\n\r\n                // Fill the progress bar background with the background color\r\n                g2.setColor(progressBar.getBackground());\r\n                Shape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\r\n                g2.fill(shapeBg);\r\n\r\n                // Fill the progress bar with the progress color\r\n                int amountFull = getAmountFull(b, barRectWidth, barRectHeight);\r\n                g2.setColor(progressBar.getForeground());\r\n                Shape shape = new RoundRectangle2D.Double(0, 0, amountFull, barRectHeight, arcWidth, arcHeight);\r\n                g2.fill(shape);\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see from the image below it looks ok, but I can clearly see that the right side of the RoundRecangle is different from the left side. Any tips on how to fix it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xy1vU.png","title":"How do i fix uneveness of RoundRectangle2d?","body":"<p>I have a this piece of code to add a rounded JProgressBar to a JPanel:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.plaf.basic.BasicProgressBarUI;\nimport java.awt.*;\nimport java.awt.geom.RoundRectangle2D;\n\npublic class RoundedProgressBar extends JProgressBar {\n    public RoundedProgressBar() {\n        setOpaque(false); // Make the progress bar transparent\n        setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 0)); // Add padding\n        setUI(new RoundedProgressBarUI());\n    }\n\n    private class RoundedProgressBarUI extends BasicProgressBarUI {\n        @Override\n        protected void paintDeterminate(Graphics g, JComponent c) {\n            int arcWidth = 10;\n            int arcHeight = 10;\n\n            Graphics2D g2 = (Graphics2D) g;\n            Insets b = progressBar.getInsets(); // Border insets\n            int barRectWidth = progressBar.getWidth() - b.right - b.left;\n            int barRectHeight = progressBar.getHeight() - b.top - b.bottom;\n\n            // Fill the progress bar background with the background color\n            g2.setColor(progressBar.getBackground());\n            Shape shapeBg = new RoundRectangle2D.Double(0, 0, barRectWidth, barRectHeight, arcWidth, arcHeight);\n            g2.fill(shapeBg);\n\n            // Fill the progress bar with the progress color\n            int amountFull = getAmountFull(b, barRectWidth, barRectHeight);\n            g2.setColor(progressBar.getForeground());\n            Shape shape = new RoundRectangle2D.Double(0, 0, amountFull, barRectHeight, arcWidth, arcHeight);\n            g2.fill(shape);\n        }\n    }\n}\n</code></pre>\n<p>As you can see from the image below it looks ok, but I can clearly see that the right side of the RoundRecangle is different from the left side. Any tips on how to fix it?</p>\n<p><a href=\"https://i.stack.imgur.com/Xy1vU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xy1vU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","yaml","quarkus","open-telemetry","open-telemetry-collector"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692724681,"creation_date":1692724681,"answer_id":76955553,"question_id":76845868,"body_markdown":"Quarkus does not yet supports OpenTelemetry logging. Not sure why you are mixing logs and traces in this question.\r\n\r\nIn relation to traces, the config you are setting there is the equivalent to: `quarkus.opentelemetry.tracer.sampler=off`\r\n... And it will effectively disable all traces. \r\n\r\nSee: https://quarkus.io/version/2.13/guides/opentelemetry#sampler\r\n","title":"Quarkus opentelemetry sampler","body":"<p>Quarkus does not yet supports OpenTelemetry logging. Not sure why you are mixing logs and traces in this question.</p>\n<p>In relation to traces, the config you are setting there is the equivalent to: <code>quarkus.opentelemetry.tracer.sampler=off</code>\n... And it will effectively disable all traces.</p>\n<p>See: <a href=\"https://quarkus.io/version/2.13/guides/opentelemetry#sampler\" rel=\"nofollow noreferrer\">https://quarkus.io/version/2.13/guides/opentelemetry#sampler</a></p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692724681,"creation_date":1691324446,"question_id":76845868,"body_markdown":"I have the quarkus (v 2.13.x) opentelemetry working for our services. However, i am trying to provide a way to disable sending logs to the collector at the service level. I want to be able to drop sending the logs but still have the service participate in the trace/context propagation. The only runtime option i came across for this with Quarkus 2.13.x is the sampler. When i try the below sampler in the application.properties, it works.\r\n\r\n    quarkus.opentelemetry.tracer.sampler=ratio\r\n    quarkus.opentelemetry.tracer.sampler.ratio=0\r\n\r\nHowever, when i try to define this in the application.yaml for runtime updates it doesn&#39;t work - it throws exception processing the yaml so doesn&#39;t even run. I have defined it as \r\n\r\n    quarkus:\r\n      opentelemetry:\r\n        tracer:\r\n          sampler:\r\n            ~: ratio\r\n            ratio: 0\r\n\r\nwhat&#39;s weird is i can change the configmap at run time to provide this setting and it works. I am not sure why i am not able to define this NULL parameter setting in the application.yaml.\r\n\r\nAny thoughts?\r\n\r\nThank you in advance!","title":"Quarkus opentelemetry sampler","body":"<p>I have the quarkus (v 2.13.x) opentelemetry working for our services. However, i am trying to provide a way to disable sending logs to the collector at the service level. I want to be able to drop sending the logs but still have the service participate in the trace/context propagation. The only runtime option i came across for this with Quarkus 2.13.x is the sampler. When i try the below sampler in the application.properties, it works.</p>\n<pre><code>quarkus.opentelemetry.tracer.sampler=ratio\nquarkus.opentelemetry.tracer.sampler.ratio=0\n</code></pre>\n<p>However, when i try to define this in the application.yaml for runtime updates it doesn't work - it throws exception processing the yaml so doesn't even run. I have defined it as</p>\n<pre><code>quarkus:\n  opentelemetry:\n    tracer:\n      sampler:\n        ~: ratio\n        ratio: 0\n</code></pre>\n<p>what's weird is i can change the configmap at run time to provide this setting and it works. I am not sure why i am not able to define this NULL parameter setting in the application.yaml.</p>\n<p>Any thoughts?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","json","junit","jackson"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1678339733,"post_id":75680691,"comment_id":133514119,"body_markdown":"What does `isn&#39;t computeFunction able to write to the file` really mean? Please add error messages, logs, etc. which provided during tests.","body":"What does <code>isn&#39;t computeFunction able to write to the file</code> really mean? Please add error messages, logs, etc. which provided during tests."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678346672,"post_id":75680691,"comment_id":133515323,"body_markdown":"Design for testability. For testability I would factor out a method for generating the JSON and returning it as a string from the method that you have. Testing JSON generation should not be bad, for example by parsing back. Writing to a file usually works, so I would be comfortable deferring that test to the integration test.","body":"Design for testability. For testability I would factor out a method for generating the JSON and returning it as a string from the method that you have. Testing JSON generation should not be bad, for example by parsing back. Writing to a file usually works, so I would be comfortable deferring that test to the integration test."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1678354798,"post_id":75680691,"comment_id":133517370,"body_markdown":"My guess is that the problem is here: `new File(pathToOutput + &quot;x1.json&quot;)`. Try `new File(pathToOutput, &quot;x1.json&quot;)`","body":"My guess is that the problem is here: <code>new File(pathToOutput + &quot;x1.json&quot;)</code>. Try <code>new File(pathToOutput, &quot;x1.json&quot;)</code>"},{"owner":{"account_id":26613123,"reputation":51,"user_id":20233015,"display_name":"amagro"},"score":0,"creation_date":1678374753,"post_id":75680691,"comment_id":133523475,"body_markdown":"@1615903 You are right, this was a mistake on stackexchange. I am passing the path to the function as a string.","body":"@1615903 You are right, this was a mistake on stackexchange. I am passing the path to the function as a string."},{"owner":{"account_id":26613123,"reputation":51,"user_id":20233015,"display_name":"amagro"},"score":0,"creation_date":1678376204,"post_id":75680691,"comment_id":133523967,"body_markdown":"@OleV.V. The main goal of this test is to verify the results of the computations, not check that the json file has been generated properly. computeFunction is intentionally void; Can you explain how I would parse that back, or how that would help me verify the results? The functions seems to be having trouble creating and writing to the file in the first place.","body":"@OleV.V. The main goal of this test is to verify the results of the computations, not check that the json file has been generated properly. computeFunction is intentionally void; Can you explain how I would parse that back, or how that would help me verify the results? The functions seems to be having trouble creating and writing to the file in the first place."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678467533,"post_id":75680691,"comment_id":133544328,"body_markdown":"Did you understand the concept of a unit test the way I did? Its a test of the smallest units of your code (hence the name). I would definitely test the results of computations *before* encoding/serializing them into JSON.","body":"Did you understand the concept of a unit test the way I did? Its a test of the smallest units of your code (hence the name). I would definitely test the results of computations <i>before</i> encoding/serializing them into JSON."}],"owner":{"account_id":26613123,"reputation":51,"user_id":20233015,"display_name":"amagro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692723319,"creation_date":1678339099,"question_id":75680691,"body_markdown":"I need to write a unit test for a function that reads in a yaml of inputs and writes out a json file of results, but am finding that the function is unable to write to the file when called from junit. I know my function is working correctly outside of junit tests.\r\n\r\nI have narrowed down the problem to the fact that the file is not being written at all. My function looks something like this, and uses Jackson to write to a json file:\r\n\r\n`\r\n```\r\npublic void computeFunction(Object input, String pathToOutput) {\r\n  doSomething(input);\r\n  String outputFile = pathToOutput + &quot;/x1.json&quot;;\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  mapper.writeValue(new File(outputFile), x1);\r\n}\r\n```\r\n`\r\n\r\nAnd my test currently looks something like this. \r\n\r\n```\r\n@Rule\r\npublic TemporaryFolder folder = new TemporaryFolder()\r\n@Test\r\npublic void TestFunction() throws Exception {\r\n  File pathToOutput = folder.newFolder(&quot;results&quot;);\r\n  String x1 = &quot;input&quot;;\r\n  Object input = new Object(x1)\r\n  computeFunction(input, pathToOutput.getAbsolutePath());\r\n  ObjectMapper mapper = newObjectMapper();\r\n  List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\r\n  assertEquals(val1, output.getValOne());\r\n  assertEquals(val2, output.getValTwo());\r\n}\r\n```\r\n\r\nWhy isn&#39;t computeFunction able to write to the file during the junit test?\r\n\r\nEdit --\r\n\r\nI am getting an error at the line   \r\n\r\n    List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\r\n\r\nexception:\r\n\r\n    java.io.FileNotFoundException: /tmp/junitxxxxx/results/x1.json\r\n\r\n\r\n","title":"How to write a junit test to check that a json file is written correctly","body":"<p>I need to write a unit test for a function that reads in a yaml of inputs and writes out a json file of results, but am finding that the function is unable to write to the file when called from junit. I know my function is working correctly outside of junit tests.</p>\n<p>I have narrowed down the problem to the fact that the file is not being written at all. My function looks something like this, and uses Jackson to write to a json file:</p>\n<p>`</p>\n<pre><code>public void computeFunction(Object input, String pathToOutput) {\n  doSomething(input);\n  String outputFile = pathToOutput + &quot;/x1.json&quot;;\n  ObjectMapper mapper = new ObjectMapper();\n  mapper.writeValue(new File(outputFile), x1);\n}\n</code></pre>\n<p>`</p>\n<p>And my test currently looks something like this.</p>\n<pre><code>@Rule\npublic TemporaryFolder folder = new TemporaryFolder()\n@Test\npublic void TestFunction() throws Exception {\n  File pathToOutput = folder.newFolder(&quot;results&quot;);\n  String x1 = &quot;input&quot;;\n  Object input = new Object(x1)\n  computeFunction(input, pathToOutput.getAbsolutePath());\n  ObjectMapper mapper = newObjectMapper();\n  List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\n  assertEquals(val1, output.getValOne());\n  assertEquals(val2, output.getValTwo());\n}\n</code></pre>\n<p>Why isn't computeFunction able to write to the file during the junit test?</p>\n<p>Edit --</p>\n<p>I am getting an error at the line</p>\n<pre><code>List&lt;Object&gt; output = mapper.readValue(new File(pathToOutput + &quot;x1.json&quot;), new TypeReference&lt;List&lt;Object&gt;&gt;(){});\n</code></pre>\n<p>exception:</p>\n<pre><code>java.io.FileNotFoundException: /tmp/junitxxxxx/results/x1.json\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","okta","okta-api"],"comments":[{"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1692724612,"post_id":76954643,"comment_id":135662503,"body_markdown":"I wrote a tutorial about Spring Boot and SAML with Okta and Auth0. Maybe it&#39;ll help? https://developer.okta.com/blog/2022/08/05/spring-boot-saml","body":"I wrote a tutorial about Spring Boot and SAML with Okta and Auth0. Maybe it&#39;ll help? <a href=\"https://developer.okta.com/blog/2022/08/05/spring-boot-saml\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2022/08/05/spring-boot-saml</a>"},{"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"score":0,"creation_date":1692785670,"post_id":76954643,"comment_id":135670618,"body_markdown":"Hi @MattRaible, I already went through your tutorial guide and without &#39;relyingPartyRegistrationRepository&#39; it throws  &quot;Factory method &#39;relyingPartyRegistrationRepository&#39; threw exception with message: java.net.ConnectException: Connection timed out: connect&quot; and after adding it, it again goes into infinite loop.","body":"Hi @MattRaible, I already went through your tutorial guide and without &#39;relyingPartyRegistrationRepository&#39; it throws  &quot;Factory method &#39;relyingPartyRegistrationRepository&#39; threw exception with message: java.net.ConnectException: Connection timed out: connect&quot; and after adding it, it again goes into infinite loop."},{"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1692792269,"post_id":76954643,"comment_id":135671913,"body_markdown":"Are you behind a firewall or proxy that&#39;s preventing an outbound connection?","body":"Are you behind a firewall or proxy that&#39;s preventing an outbound connection?"},{"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"score":0,"creation_date":1692793255,"post_id":76954643,"comment_id":135672118,"body_markdown":"@MattRaible, I don&#39;t think so because we are able to send request to Okta Idp and receiving samlResponse(which we can see in samlTracer and HttpServletRequest).","body":"@MattRaible, I don&#39;t think so because we are able to send request to Okta Idp and receiving samlResponse(which we can see in samlTracer and HttpServletRequest)."},{"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"score":0,"creation_date":1693830457,"post_id":76954643,"comment_id":135807845,"body_markdown":"Any update on above issue or any input required from my side?","body":"Any update on above issue or any input required from my side?"}],"owner":{"account_id":29276160,"reputation":1,"user_id":22429848,"display_name":"Alok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692722752,"creation_date":1692716760,"question_id":76954643,"body_markdown":"I am configuring OKTA SAML 2.0 authentication with Spring boot application(v3.1.0) and ending up with infinite loop.\r\nHere is my config code:\r\n   \r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\tRelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(this.repository());\r\n\r\n\tSaml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\r\n\r\n\tOpenSaml4AuthenticationProvider samlProvider = new OpenSaml4AuthenticationProvider();\r\n\tsamlProvider.setAssertionValidator(OpenSaml4AuthenticationProvider.createDefaultAssertionValidator());\r\n\tsamlProvider.setResponseValidator(OpenSaml4AuthenticationProvider.createDefaultResponseValidator());\r\n\t\r\n\tProviderManager providerManager = new ProviderManager(samlProvider);\r\n\thttp.csrf(csrf -&gt; csrf.disable());\r\n\thttp.saml2Login(saml2 -&gt; {\r\n\t\tsaml2.authenticationManager(providerManager);\r\n\t}).addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class).authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/responseFromSAML&quot;).permitAll().requestMatchers(&quot;/favicon.ico&quot;).permitAll().anyRequest().authenticated());\r\n\t\r\n\thttp.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.ALWAYS));\r\n\thttp.securityContext((securityContext) -&gt; securityContext.securityContextRepository(new HttpSessionSecurityContextRepository()));\r\n\treturn http.build();\r\n}\r\n\r\n@Bean\r\nRelyingPartyRegistrationRepository repository() {\r\n\tRelyingPartyRegistration registration = RelyingPartyRegistration\r\n\t\t\t.withRegistrationId(&quot;regID&quot;).assertionConsumerServiceLocation(&quot;https://sp-url/sso/saml&quot;)\r\n\t\t\t.assertingPartyDetails(party -&gt; party.entityId(&quot;http://www.okta.com/regID&quot;).singleSignOnServiceLocation(&quot;https://sp-url/sso/saml&quot;)\r\n\t\t\t.singleSignOnServiceBinding(Saml2MessageBinding.POST).wantAuthnRequestsSigned(false)\r\n\t\t\t.signingAlgorithms((sign) -&gt; sign.add(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256)))\r\n\t\t\t.build();\r\n\treturn new InMemoryRelyingPartyRegistrationRepository(registration);\r\n}\r\n```\r\n\r\n#### Controller:\r\n```java\r\n@RequestMapping(&quot;responseFromSAML&quot;)\r\npublic String home(@AuthenticationPrincipal Saml2AuthenticatedPrincipal principal, Model model) {\r\n\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\tSystem.out.println(&quot;authentication: &quot; + authentication);\r\n\tSystem.out.println(&quot;principal: &quot; + principal);\r\n\treturn &quot;home&quot;;\r\n}\r\n```\r\n\r\nResponse from OKTA SAML: `we are receiving samlResponse(which we can see in samlTracer)`\r\n\r\nCan anyone please help?\r\n\r\n I tried to print &#39;principle&#39; which is coming as null and `SecurityContextHolder.getContext().getAuthentication()` is giving &#39;anonymous&#39; ","title":"spring boot(3.1.0) with OKTA SAML authentication enters into infinite loop","body":"<p>I am configuring OKTA SAML 2.0 authentication with Spring boot application(v3.1.0) and ending up with infinite loop.\nHere is my config code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n    RelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(this.repository());\n\n    Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\n\n    OpenSaml4AuthenticationProvider samlProvider = new OpenSaml4AuthenticationProvider();\n    samlProvider.setAssertionValidator(OpenSaml4AuthenticationProvider.createDefaultAssertionValidator());\n    samlProvider.setResponseValidator(OpenSaml4AuthenticationProvider.createDefaultResponseValidator());\n    \n    ProviderManager providerManager = new ProviderManager(samlProvider);\n    http.csrf(csrf -&gt; csrf.disable());\n    http.saml2Login(saml2 -&gt; {\n        saml2.authenticationManager(providerManager);\n    }).addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class).authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/responseFromSAML&quot;).permitAll().requestMatchers(&quot;/favicon.ico&quot;).permitAll().anyRequest().authenticated());\n    \n    http.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.ALWAYS));\n    http.securityContext((securityContext) -&gt; securityContext.securityContextRepository(new HttpSessionSecurityContextRepository()));\n    return http.build();\n}\n\n@Bean\nRelyingPartyRegistrationRepository repository() {\n    RelyingPartyRegistration registration = RelyingPartyRegistration\n            .withRegistrationId(&quot;regID&quot;).assertionConsumerServiceLocation(&quot;https://sp-url/sso/saml&quot;)\n            .assertingPartyDetails(party -&gt; party.entityId(&quot;http://www.okta.com/regID&quot;).singleSignOnServiceLocation(&quot;https://sp-url/sso/saml&quot;)\n            .singleSignOnServiceBinding(Saml2MessageBinding.POST).wantAuthnRequestsSigned(false)\n            .signingAlgorithms((sign) -&gt; sign.add(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256)))\n            .build();\n    return new InMemoryRelyingPartyRegistrationRepository(registration);\n}\n</code></pre>\n<h4>Controller:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;responseFromSAML&quot;)\npublic String home(@AuthenticationPrincipal Saml2AuthenticatedPrincipal principal, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    System.out.println(&quot;authentication: &quot; + authentication);\n    System.out.println(&quot;principal: &quot; + principal);\n    return &quot;home&quot;;\n}\n</code></pre>\n<p>Response from OKTA SAML: <code>we are receiving samlResponse(which we can see in samlTracer)</code></p>\n<p>Can anyone please help?</p>\n<p>I tried to print 'principle' which is coming as null and <code>SecurityContextHolder.getContext().getAuthentication()</code> is giving 'anonymous'</p>\n"},{"tags":["java","cluster-computing","ignite","splitbrain"],"owner":{"account_id":1460538,"reputation":4277,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692722729,"creation_date":1692722729,"question_id":76955339,"body_markdown":"I have a simple Ignite cluster with two nodes. It is a Java API based in-memory cluster and only uses `IgniteCache`s that are `REPLICATED` and `SYNC`, nothing fancy.\r\n\r\nI&#39;m trying to see how I can handle a potential split-brain case when there is a long gc or network hiccup. Luckily the specific cache data can be potentially thrown away, if needed, in order for a node to rejoin the cluster, so there is no issue with divergent state here. What I&#39;m looking for is for the Ignite API that will trigger an Ignite node restart when communication between nodes is re-established. Note that I&#39;m using the Java API so no `control.sh` scripts are available.\r\n\r\nThe solution seems to be relatively simple i.e. when a segmentation occurs, all nodes try to re-establish communication with one another and when they succeed all nodes except from the coordinator node restart in order to join the coordinator cluster. If the coordinator is down a new coordinator is elected/automatically chosen. Is there an API or interfaces I can implement to handle this case?\r\n\r\nSimilar products like [NCache][1] or [Hazelcast][2] seem to provide facilities to handle this so I&#39;m guessing Apache Ignite has something similar.\r\n\r\n\r\n  [1]: https://www.alachisoft.com/resources/docs/ncache/admin-guide/split-brain.html#:~:text=When%20a%20Split%2DBrain%20occurs%2C%20the%20cluster%20nodes%20in%20the,which%20is%20by%20default%20disabled.\r\n  [2]: https://docs.hazelcast.com/imdg/4.2/network-partitioning/split-brain-recovery","title":"Apache Ignite utilities for handling split brain","body":"<p>I have a simple Ignite cluster with two nodes. It is a Java API based in-memory cluster and only uses <code>IgniteCache</code>s that are <code>REPLICATED</code> and <code>SYNC</code>, nothing fancy.</p>\n<p>I'm trying to see how I can handle a potential split-brain case when there is a long gc or network hiccup. Luckily the specific cache data can be potentially thrown away, if needed, in order for a node to rejoin the cluster, so there is no issue with divergent state here. What I'm looking for is for the Ignite API that will trigger an Ignite node restart when communication between nodes is re-established. Note that I'm using the Java API so no <code>control.sh</code> scripts are available.</p>\n<p>The solution seems to be relatively simple i.e. when a segmentation occurs, all nodes try to re-establish communication with one another and when they succeed all nodes except from the coordinator node restart in order to join the coordinator cluster. If the coordinator is down a new coordinator is elected/automatically chosen. Is there an API or interfaces I can implement to handle this case?</p>\n<p>Similar products like <a href=\"https://www.alachisoft.com/resources/docs/ncache/admin-guide/split-brain.html#:%7E:text=When%20a%20Split%2DBrain%20occurs%2C%20the%20cluster%20nodes%20in%20the,which%20is%20by%20default%20disabled.\" rel=\"nofollow noreferrer\">NCache</a> or <a href=\"https://docs.hazelcast.com/imdg/4.2/network-partitioning/split-brain-recovery\" rel=\"nofollow noreferrer\">Hazelcast</a> seem to provide facilities to handle this so I'm guessing Apache Ignite has something similar.</p>\n"},{"tags":["java","swagger","openapi","swagger-3.0"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1680644952,"post_id":75933900,"comment_id":133932854,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have instead of screenshots as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others. Currently that pattern is not as you really want, I think.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have instead of screenshots as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Currently that pattern is not as you really want, I think."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680710174,"post_id":75933900,"comment_id":133945331,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28216779,"reputation":11,"user_id":21568177,"display_name":"Borsoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692722266,"creation_date":1680642883,"question_id":75933900,"body_markdown":"It is possible to add a pattern to a header parameter? I am putting patterns to some fields in an JAVA application using swagger OpenAPI in the YAML file. In the body fields, i was able to put some patterns with no problem at all. I also tried to find any help or guide to add a pattern in a header parameter but I didn&#39;t found it. It is possible to do this with swagger OpenAPI?\r\n\r\n      MeuHeader:\r\n      name: meuHeader\r\n      in: header\r\n      description: Header.\r\n      schema:\r\n        type: string\r\n        pattern: &#39;^[\\d]{1,50}$&#39;\r\n\r\n\r\nThe image above shows how I tried to add the pattern to the header parameter, but any string is been accepted in it. The strange fact is that in the swagger editor the pattern seems to work just fine, can someone know what the problem could be?","title":"Add a pattern in a header parameter - Swagger OpenAPI","body":"<p>It is possible to add a pattern to a header parameter? I am putting patterns to some fields in an JAVA application using swagger OpenAPI in the YAML file. In the body fields, i was able to put some patterns with no problem at all. I also tried to find any help or guide to add a pattern in a header parameter but I didn't found it. It is possible to do this with swagger OpenAPI?</p>\n<pre><code>  MeuHeader:\n  name: meuHeader\n  in: header\n  description: Header.\n  schema:\n    type: string\n    pattern: '^[\\d]{1,50}$'\n</code></pre>\n<p>The image above shows how I tried to add the pattern to the header parameter, but any string is been accepted in it. The strange fact is that in the swagger editor the pattern seems to work just fine, can someone know what the problem could be?</p>\n"},{"tags":["java","inheritance","record"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":4,"creation_date":1645006832,"post_id":71139939,"comment_id":125753794,"body_markdown":"read about immutability pattern. One of the requirements is nonextendability - and records are immutable classes.","body":"read about immutability pattern. One of the requirements is nonextendability - and records are immutable classes."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645006940,"post_id":71139939,"comment_id":125753835,"body_markdown":"Does this answer your question? [Is there any way of using Records with inheritance?](https://stackoverflow.com/questions/63605794/is-there-any-way-of-using-records-with-inheritance)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63605794/is-there-any-way-of-using-records-with-inheritance\">Is there any way of using Records with inheritance?</a>"},{"owner":{"account_id":6297580,"reputation":597,"user_id":4893259,"display_name":"NieMaszNic"},"score":0,"creation_date":1645007743,"post_id":71139939,"comment_id":125754129,"body_markdown":"If in one situation the record has this data and in the other one it doesn&#39;t maybe they are two different records with some shared properties, that can also be grouped","body":"If in one situation the record has this data and in the other one it doesn&#39;t maybe they are two different records with some shared properties, that can also be grouped"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1647341232,"post_id":71139939,"comment_id":126341411,"body_markdown":"Its always the same answer, for decades. Prefer composition over inheritance.","body":"Its always the same answer, for decades. Prefer composition over inheritance."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1692721928,"post_id":71139939,"comment_id":135661929,"body_markdown":"The short answer: we *could* support record-to-record inheritance, and we explored this in the design phase.  We did not pursue this because the incremental complexity and incremental benefit seemed out of line (you allude to some of this with &quot;messy and hard to control&quot;).  It is not impossible, but not a priority for now.  We may return to this in the future.","body":"The short answer: we <i>could</i> support record-to-record inheritance, and we explored this in the design phase.  We did not pursue this because the incremental complexity and incremental benefit seemed out of line (you allude to some of this with &quot;messy and hard to control&quot;).  It is not impossible, but not a priority for now.  We may return to this in the future."}],"answers":[{"comments":[{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1692721826,"post_id":71139995,"comment_id":135661907,"body_markdown":"I think you are confusing records for value types.  The reason to restrict inheritance for value types is because layout polymorphism interferes with flattening, but that&#39;s not exactly what&#39;s going on with records.","body":"I think you are confusing records for value types.  The reason to restrict inheritance for value types is because layout polymorphism interferes with flattening, but that&#39;s not exactly what&#39;s going on with records."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1645006927,"creation_date":1645006927,"answer_id":71139995,"question_id":71139939,"body_markdown":"See the corresponding [JEP][1]:\r\n\r\n&gt; Records are implicitly final, and cannot be abstract. These restrictions emphasize that the API of a record is defined solely by its state description, and cannot be enhanced later by another class or record.\r\n\r\n&gt; The components of a record are implicitly final. This restriction embodies an immutable by default policy that is widely applicable for data aggregates.\r\n\r\nThe point is that *reducing* the realm of usage patterns, the compiler/JVM can do the sort of optimisations that the record concept is about.\r\n\r\nMeaning: if you allow for subclassing, the runtime will have to deal with polymorphism. Which is *not* the intention behind records.\r\n\r\n  [1]: https://openjdk.java.net/jeps/359","title":"Why Java records do not support inheritance?","body":"<p>See the corresponding <a href=\"https://openjdk.java.net/jeps/359\" rel=\"noreferrer\">JEP</a>:</p>\n<blockquote>\n<p>Records are implicitly final, and cannot be abstract. These restrictions emphasize that the API of a record is defined solely by its state description, and cannot be enhanced later by another class or record.</p>\n</blockquote>\n<blockquote>\n<p>The components of a record are implicitly final. This restriction embodies an immutable by default policy that is widely applicable for data aggregates.</p>\n</blockquote>\n<p>The point is that <em>reducing</em> the realm of usage patterns, the compiler/JVM can do the sort of optimisations that the record concept is about.</p>\n<p>Meaning: if you allow for subclassing, the runtime will have to deal with polymorphism. Which is <em>not</em> the intention behind records.</p>\n"},{"tags":[],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692721508,"creation_date":1692721508,"answer_id":76955215,"question_id":71139939,"body_markdown":"This may not directly answer your question but your use-case can actually be implemented using a combination of records and interfaces, eg:\r\n\r\n```java\r\npublic interface Base {\r\n   String prop1();\r\n}\r\npublic interface Extended extends Base {\r\n   String prop2();\r\n}\r\nrecord BaseR(String prop1) implements Base { }\r\nrecord ExtendedR(String prop1, String prop2) implements Extended { }\r\n```\r\nYou&#39;d code your &quot;client&quot; against the interfaces, which is an OO best practice anyway.  If you feel unhappy about duplicating `prop1` (and presumably other properties) in both records, you could use a single record with an overloaded constructor, as follows:\r\n```java\r\nrecord Record(String prop1, String prop2) implements Extended { \r\n\tRecord(String prop1) {\r\n\t\tthis(prop1, null);\r\n\t}\r\n}\r\n```\r\nThis allows constructing instances reasonably cleanly:\r\n```java\r\nBase base = new Record(&quot;prop1&quot;);\r\nExtended ext  = new Record(&quot;prop1&quot;, &quot;prop2&quot;);\r\n```\r\n\r\nSince your client is coded against `Base` and `Extended` (it knows nothing about `Record`), there&#39;s no risk of it accessing unsupported properties.","title":"Why Java records do not support inheritance?","body":"<p>This may not directly answer your question but your use-case can actually be implemented using a combination of records and interfaces, eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Base {\n   String prop1();\n}\npublic interface Extended extends Base {\n   String prop2();\n}\nrecord BaseR(String prop1) implements Base { }\nrecord ExtendedR(String prop1, String prop2) implements Extended { }\n</code></pre>\n<p>You'd code your &quot;client&quot; against the interfaces, which is an OO best practice anyway.  If you feel unhappy about duplicating <code>prop1</code> (and presumably other properties) in both records, you could use a single record with an overloaded constructor, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Record(String prop1, String prop2) implements Extended { \n    Record(String prop1) {\n        this(prop1, null);\n    }\n}\n</code></pre>\n<p>This allows constructing instances reasonably cleanly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Base base = new Record(&quot;prop1&quot;);\nExtended ext  = new Record(&quot;prop1&quot;, &quot;prop2&quot;);\n</code></pre>\n<p>Since your client is coded against <code>Base</code> and <code>Extended</code> (it knows nothing about <code>Record</code>), there's no risk of it accessing unsupported properties.</p>\n"}],"owner":{"account_id":15594266,"reputation":377,"user_id":11482572,"display_name":"quikq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4156,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":71139995,"answer_count":2,"score":8,"last_activity_date":1692721508,"creation_date":1645006693,"question_id":71139939,"body_markdown":"Today I hit a wall, when I was about to add new functionality to the app. I had a record with data, but I needed some extra values. Adding this to the record would not make sense, becouse for most cases they will not be used and would be nulls, so I thought inheritance, which made perfect sense in this situation. But there is a problem , becouse Java records do not support inheritance, so I ended up with rewriting record to ugly POJO class with final values and getters.\r\n\r\nSo my question is basictly - why no inheritance. I understand there is not multiple inheritance becouse it&#39;s messy and hard to control on some point, but we also have final classes that cannot be inherited, why couldn&#39;t w e have records and final records? ","title":"Why Java records do not support inheritance?","body":"<p>Today I hit a wall, when I was about to add new functionality to the app. I had a record with data, but I needed some extra values. Adding this to the record would not make sense, becouse for most cases they will not be used and would be nulls, so I thought inheritance, which made perfect sense in this situation. But there is a problem , becouse Java records do not support inheritance, so I ended up with rewriting record to ugly POJO class with final values and getters.</p>\n<p>So my question is basictly - why no inheritance. I understand there is not multiple inheritance becouse it's messy and hard to control on some point, but we also have final classes that cannot be inherited, why couldn't w e have records and final records?</p>\n"},{"tags":["java","jakarta-ee","concurrency","ejb","payara"],"answers":[{"tags":[],"owner":{"account_id":1058549,"reputation":8394,"user_id":1060686,"accept_rate":84,"display_name":"NotGaeL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692697491,"creation_date":1692697491,"answer_id":76952037,"question_id":76951892,"body_markdown":"Apparently there&#39;s this nice Payara [cdi-event-bus-notifier][1] we could set up to collect metrics on hogging &amp; stuck threads, which we could then set alerts on:\r\n\r\nhttps://blog.payara.fish/the-health-check-service-in-depth-payara-server\r\n\r\nThis would satisfy the needs for our use case even better than setting a default access timeout (e.g. we could even enable it on production, eventually). \r\n\r\nNevertheless it would be nice to know if there is a possibility to set a default access timeout (which, for example, could allow us to more conveniently look at the server logs rather than the metrics when working on a local dev deployment).\r\n\r\n\r\n  [1]: https://docs.payara.fish/community/docs/Technical%20Documentation/Payara%20Server%20Documentation/Logging%20and%20Monitoring/Notification%20Service/Overview.html#cdi-event-bus-notifier","title":"How to break on / watch for EJB deadlocks in Payara?","body":"<p>Apparently there's this nice Payara <a href=\"https://docs.payara.fish/community/docs/Technical%20Documentation/Payara%20Server%20Documentation/Logging%20and%20Monitoring/Notification%20Service/Overview.html#cdi-event-bus-notifier\" rel=\"nofollow noreferrer\">cdi-event-bus-notifier</a> we could set up to collect metrics on hogging &amp; stuck threads, which we could then set alerts on:</p>\n<p><a href=\"https://blog.payara.fish/the-health-check-service-in-depth-payara-server\" rel=\"nofollow noreferrer\">https://blog.payara.fish/the-health-check-service-in-depth-payara-server</a></p>\n<p>This would satisfy the needs for our use case even better than setting a default access timeout (e.g. we could even enable it on production, eventually).</p>\n<p>Nevertheless it would be nice to know if there is a possibility to set a default access timeout (which, for example, could allow us to more conveniently look at the server logs rather than the metrics when working on a local dev deployment).</p>\n"}],"owner":{"account_id":1058549,"reputation":8394,"user_id":1060686,"accept_rate":84,"display_name":"NotGaeL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76952037,"answer_count":1,"score":1,"last_activity_date":1692721336,"creation_date":1692696245,"question_id":76951892,"body_markdown":"As established by the [EJB spec][1], the access timeout for an EJB locked for access on concurrency management can be set via `@AccessTimeout` annotation.\r\n\r\nWithout this annotation specifying otherwise, the timeout in Payara for accessing a locked EJB is infinite.\r\n\r\nThis is pretty inconvenient because it generates no stack or log traces whatsoever on the application server log during a deadlock. It just hangs the dependent services, making them unresponsive.\r\n\r\nOur team wants to modify this default in our development server, to have the beans throw a `jakarta.ejb.ConcurrentAccessException` every time a bean or bean method is locked for access for a longer time than it should.\r\n\r\nI know from working with JBoss/Wildfly back in the day that this should be possible via [application server configuration][2]. We have not been able to find related documentation to do this for Payara/Glassfish asadmin, though.\r\n\r\nIs there a way to set a default concurrent EJB access timeout on Payara? If not, what would be a viable alternative to easily identify deadlocks as they happen in our development server?\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/enterprise-beans/4.0/jakarta-enterprise-beans-spec-core-4.0#concurrent-access-timeouts\r\n  [2]: https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/6/html/administration_and_configuration_guide/set_default_session_bean_access_timeout_values1","title":"How to break on / watch for EJB deadlocks in Payara?","body":"<p>As established by the <a href=\"https://jakarta.ee/specifications/enterprise-beans/4.0/jakarta-enterprise-beans-spec-core-4.0#concurrent-access-timeouts\" rel=\"nofollow noreferrer\">EJB spec</a>, the access timeout for an EJB locked for access on concurrency management can be set via <code>@AccessTimeout</code> annotation.</p>\n<p>Without this annotation specifying otherwise, the timeout in Payara for accessing a locked EJB is infinite.</p>\n<p>This is pretty inconvenient because it generates no stack or log traces whatsoever on the application server log during a deadlock. It just hangs the dependent services, making them unresponsive.</p>\n<p>Our team wants to modify this default in our development server, to have the beans throw a <code>jakarta.ejb.ConcurrentAccessException</code> every time a bean or bean method is locked for access for a longer time than it should.</p>\n<p>I know from working with JBoss/Wildfly back in the day that this should be possible via <a href=\"https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/6/html/administration_and_configuration_guide/set_default_session_bean_access_timeout_values1\" rel=\"nofollow noreferrer\">application server configuration</a>. We have not been able to find related documentation to do this for Payara/Glassfish asadmin, though.</p>\n<p>Is there a way to set a default concurrent EJB access timeout on Payara? If not, what would be a viable alternative to easily identify deadlocks as they happen in our development server?</p>\n"},{"tags":["java","swing","layout-manager"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692719369,"post_id":76954673,"comment_id":135661401,"body_markdown":"1) There is no need for the &quot;mainPanel&quot;. The content pane of the frame is a JPanel with a Border layout. 2) Don&#39;t create a separate panel for each component. I would use a panel with a GridBagLayout. Add the label and button to the panel on two separate rows. Then just add this panel to the CENTER of the content pane. By default the components will be centered horizontally and vertically. Read the Swing tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more information and examples.","body":"1) There is no need for the &quot;mainPanel&quot;. The content pane of the frame is a JPanel with a Border layout. 2) Don&#39;t create a separate panel for each component. I would use a panel with a GridBagLayout. Add the label and button to the panel on two separate rows. Then just add this panel to the CENTER of the content pane. By default the components will be centered horizontally and vertically. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more information and examples."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692721298,"creation_date":1692721298,"answer_id":76955199,"question_id":76954673,"body_markdown":"I&#39;d be inclined to do something like this. `BoxLayout` is your friend if you want things to be stacked. Also, you can use a `GridBagLayout` in a &#39;shorthand` way to get things centred in a container:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.border.*;\r\nimport java.awt.*;\r\n\r\npublic class MyFrame extends JFrame {\r\n\r\n    public MyFrame() {\r\n        // panel for label\r\n        JPanel basePanell = new JPanel();\r\n        basePanell.setLayout(new BoxLayout(basePanell, BoxLayout.Y_AXIS));\r\n\r\n        // label for the intro\r\n        JLabel introLabel = new JLabel();\r\n        introLabel.setText(&quot;Welcome User&quot;);\r\n        introLabel.setForeground(new Color(129, 245, 71));\r\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\r\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        basePanell.add(introLabel);\r\n\r\n        // JButton\r\n        JButton button = new JButton(&quot;click&quot;);\r\n        button.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        basePanell.add(button);\r\n\r\n        // Improve appearance\r\n        basePanell.setBorder(new EmptyBorder(10, 10, 10, 10));\r\n\r\n        // Stunt to centre the base panel\r\n        getContentPane().setLayout(new GridBagLayout());\r\n        getContentPane().add(basePanell);\r\n\r\n        setSize(500, 500);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setTitle(&quot;encrypt your message&quot;);\r\n        // getContentPane().setBackground(new Color(0x151414)); // the gui bg is\r\n        // determined by the pane\r\n        getContentPane().setBackground(new Color(0xAAAAAA)); // the gui bg is determined by the pane\r\n        setResizable(false);\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            EventQueue.invokeAndWait(() -&gt; {\r\n                MyFrame f = new MyFrame();\r\n                f.setSize(500, 500);\r\n                f.setVisible(true);\r\n            });\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How can I position the JLabel and JButton in the center of the gui window in java","body":"<p>I'd be inclined to do something like this. <code>BoxLayout</code> is your friend if you want things to be stacked. Also, you can use a <code>GridBagLayout</code> in a 'shorthand` way to get things centred in a container:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.*;\nimport java.awt.*;\n\npublic class MyFrame extends JFrame {\n\n    public MyFrame() {\n        // panel for label\n        JPanel basePanell = new JPanel();\n        basePanell.setLayout(new BoxLayout(basePanell, BoxLayout.Y_AXIS));\n\n        // label for the intro\n        JLabel introLabel = new JLabel();\n        introLabel.setText(&quot;Welcome User&quot;);\n        introLabel.setForeground(new Color(129, 245, 71));\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\n        basePanell.add(introLabel);\n\n        // JButton\n        JButton button = new JButton(&quot;click&quot;);\n        button.setAlignmentX(Component.CENTER_ALIGNMENT);\n        basePanell.add(button);\n\n        // Improve appearance\n        basePanell.setBorder(new EmptyBorder(10, 10, 10, 10));\n\n        // Stunt to centre the base panel\n        getContentPane().setLayout(new GridBagLayout());\n        getContentPane().add(basePanell);\n\n        setSize(500, 500);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setTitle(&quot;encrypt your message&quot;);\n        // getContentPane().setBackground(new Color(0x151414)); // the gui bg is\n        // determined by the pane\n        getContentPane().setBackground(new Color(0xAAAAAA)); // the gui bg is determined by the pane\n        setResizable(false);\n\n    }\n\n    public static void main(String[] args) {\n        try {\n            EventQueue.invokeAndWait(() -&gt; {\n                MyFrame f = new MyFrame();\n                f.setSize(500, 500);\n                f.setVisible(true);\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27610823,"reputation":5,"user_id":21073979,"display_name":"eybisea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692721298,"creation_date":1692716945,"question_id":76954673,"body_markdown":"I am practicing GUI in java. I am currently struggling with the placement of the elements. I want the JLabel to be in the center middle of the gui window and the button to be right below the JLabel. I wanna preface that I am a beginner in Java so I may have some lapses so I would appreciate some help/ tips as well!\r\n\r\nI tried different layout manager(BoxLayout, GridLayout, BorderLayout, and FlowLayout) but neither of them worked. So far, FlowLayout was the closest but whenever I run the code the JLabel is placed on top and is seemingly cut off while the button is at the very bottom of the gui window.\r\n \r\nhere&#39;s a preview of my code: \r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\npublic class MyFrame extends JFrame {\r\n\r\n    public MyFrame(){\r\n        //panel for label\r\n        JPanel labelPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n\r\n        //label for the intro\r\n        JLabel introLabel = new JLabel();\r\n        introLabel.setText(&quot;Welcome User&quot;);\r\n        introLabel.setForeground(new Color(129, 245, 71));\r\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\r\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        labelPanel.add(introLabel);\r\n\r\n        // panel for button\r\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n\r\n        //JButton\r\n        JButton button = new JButton(&quot;click&quot;);\r\n        button.setFocusable(false);\r\n        buttonPanel.add(button);\r\n\r\n        //main content panel\r\n        JPanel mainPanel = new JPanel(new BorderLayout());\r\n        mainPanel.add(labelPanel, BorderLayout.CENTER);\r\n        mainPanel.add(buttonPanel, BorderLayout.SOUTH);\r\n\r\n        //set content of the pane\r\n        this.setContentPane(mainPanel);\r\n\r\n        //frame constructor\r\n        this.setSize(500, 500);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setTitle(&quot;encrypt your message&quot;);\r\n        this.getContentPane().setBackground(new Color(0x151414)); // the gui bg is determined by the pane\r\n        this.setResizable(false);\r\n\r\n        //layout manager\r\n        this.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How can I position the JLabel and JButton in the center of the gui window in java","body":"<p>I am practicing GUI in java. I am currently struggling with the placement of the elements. I want the JLabel to be in the center middle of the gui window and the button to be right below the JLabel. I wanna preface that I am a beginner in Java so I may have some lapses so I would appreciate some help/ tips as well!</p>\n<p>I tried different layout manager(BoxLayout, GridLayout, BorderLayout, and FlowLayout) but neither of them worked. So far, FlowLayout was the closest but whenever I run the code the JLabel is placed on top and is seemingly cut off while the button is at the very bottom of the gui window.</p>\n<p>here's a preview of my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\npublic class MyFrame extends JFrame {\n\n    public MyFrame(){\n        //panel for label\n        JPanel labelPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n\n        //label for the intro\n        JLabel introLabel = new JLabel();\n        introLabel.setText(&quot;Welcome User&quot;);\n        introLabel.setForeground(new Color(129, 245, 71));\n        introLabel.setFont(new Font(&quot;Digital-7&quot;, Font.PLAIN, 24));\n        introLabel.setAlignmentX(Component.CENTER_ALIGNMENT);\n        labelPanel.add(introLabel);\n\n        // panel for button\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n\n        //JButton\n        JButton button = new JButton(&quot;click&quot;);\n        button.setFocusable(false);\n        buttonPanel.add(button);\n\n        //main content panel\n        JPanel mainPanel = new JPanel(new BorderLayout());\n        mainPanel.add(labelPanel, BorderLayout.CENTER);\n        mainPanel.add(buttonPanel, BorderLayout.SOUTH);\n\n        //set content of the pane\n        this.setContentPane(mainPanel);\n\n        //frame constructor\n        this.setSize(500, 500);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setTitle(&quot;encrypt your message&quot;);\n        this.getContentPane().setBackground(new Color(0x151414)); // the gui bg is determined by the pane\n        this.setResizable(false);\n\n        //layout manager\n        this.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx","tableview"],"answers":[{"comments":[{"owner":{"account_id":1310010,"reputation":83,"user_id":1258189,"display_name":"jdbethun"},"score":1,"creation_date":1549398952,"post_id":41558157,"comment_id":95886372,"body_markdown":"I had some JPA entity objects that I couldn&#39;t simply change to IntegerProperty, StringProperty, etc so the sorting was simply not working. Putting a table.refresh()  on the &quot;On Sort&quot; event did the trick. Much thanks.","body":"I had some JPA entity objects that I couldn&#39;t simply change to IntegerProperty, StringProperty, etc so the sorting was simply not working. Putting a table.refresh()  on the &quot;On Sort&quot; event did the trick. Much thanks."}],"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1484001822,"creation_date":1484001468,"answer_id":41558157,"question_id":41557957,"body_markdown":"Since the only way for `PropertyValueFactory` to retrieve the value is using the getter, changes of a property cannot be observed and therefore the update only happens, when the item is associated with a new `TableRow`.\r\n\r\nStarting with JavaFX 8u60 you can simply call the `refresh` method of `TableView`, which will force an update to be executed.\r\n\r\n---\r\nHowever the usual way of doing this is by providing access to a property object containing the property value, e.g.\r\n\r\nIn `PreferencesSet` \r\n\r\n\r\n    private final IntegerProperty plast = new SimpleIntegerProperty(); \r\n\r\n    public void setPlast(int plast) {\r\n        this.plast.set(plast);\r\n    }\r\n    \r\n    public int getPlast() {\r\n        return plast.get();\r\n    }\r\n    \r\n    // this method will be used by the PropertyValueFactory\r\n    // and returns a Property which notifies TableView of changes\r\n    public IntegerProperty plastProperty() {\r\n        return plast;\r\n    }\r\n\r\nThere are other property types for the other data types, see [`javafx.beans.property` package](https://docs.oracle.com/javase/8/javafx/api/javafx/beans/property/package-summary.html)","title":"JavaFX TableView not updating immediately","body":"<p>Since the only way for <code>PropertyValueFactory</code> to retrieve the value is using the getter, changes of a property cannot be observed and therefore the update only happens, when the item is associated with a new <code>TableRow</code>.</p>\n\n<p>Starting with JavaFX 8u60 you can simply call the <code>refresh</code> method of <code>TableView</code>, which will force an update to be executed.</p>\n\n<hr>\n\n<p>However the usual way of doing this is by providing access to a property object containing the property value, e.g.</p>\n\n<p>In <code>PreferencesSet</code> </p>\n\n<pre><code>private final IntegerProperty plast = new SimpleIntegerProperty(); \n\npublic void setPlast(int plast) {\n    this.plast.set(plast);\n}\n\npublic int getPlast() {\n    return plast.get();\n}\n\n// this method will be used by the PropertyValueFactory\n// and returns a Property which notifies TableView of changes\npublic IntegerProperty plastProperty() {\n    return plast;\n}\n</code></pre>\n\n<p>There are other property types for the other data types, see <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/beans/property/package-summary.html\" rel=\"noreferrer\"><code>javafx.beans.property</code> package</a></p>\n"},{"tags":[],"owner":{"account_id":26991848,"reputation":62,"user_id":20554626,"display_name":"sammy medawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692721265,"creation_date":1692721265,"answer_id":76955193,"question_id":41557957,"body_markdown":"For anyone still struggling with this, try this piece of code: \r\n\r\n    for (int columnIndex = 0; columnIndex &lt; tvModifications.getColumns().size(); columnIndex++) {\r\n                TableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = (TableColumn&lt;ObservableList&lt;String&gt;, String&gt;) tvModifications.getColumns().get(columnIndex);\r\n                final int colIndex = columnIndex;\r\n                column.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().get(colIndex)));\r\n            }\r\n\r\nDo this after setting the items. This will set the value of each cell individually since for some reason JavaFX differentiates between cell values and the items of the table view! So even if you tableView items are correct (known via debugging), you still need to update the cell values.","title":"JavaFX TableView not updating immediately","body":"<p>For anyone still struggling with this, try this piece of code:</p>\n<pre><code>for (int columnIndex = 0; columnIndex &lt; tvModifications.getColumns().size(); columnIndex++) {\n            TableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = (TableColumn&lt;ObservableList&lt;String&gt;, String&gt;) tvModifications.getColumns().get(columnIndex);\n            final int colIndex = columnIndex;\n            column.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().get(colIndex)));\n        }\n</code></pre>\n<p>Do this after setting the items. This will set the value of each cell individually since for some reason JavaFX differentiates between cell values and the items of the table view! So even if you tableView items are correct (known via debugging), you still need to update the cell values.</p>\n"}],"owner":{"account_id":6461301,"reputation":23,"user_id":5005017,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41558157,"answer_count":2,"score":2,"last_activity_date":1692721265,"creation_date":1484000521,"question_id":41557957,"body_markdown":"I have an issue with JavaFX `TableView` UI update. After I change the observable object, it does not update the UI of `TableView`. But if I perform a magical ritual of pulling `TableView`&#39;s scroll bar down and up again - it seems to redraw the table and update items in it.\r\nThrough debugging I&#39;ve ensured, that the PreferencesSet ArrayList and object are updated correctly.\r\n\r\n[Here&#39;s gif demonstration of what is happening][1]\r\n\r\nThis is my first time asking a question here, so I could have left out some important info. Feel free to ask me for it. Thank you in advance.\r\n\r\nHere&#39;s code (I have left out unrelated stuff):\r\n\r\nControllerClass:\r\n\r\n    public class TestSomethingController implements Initializable {\r\n\r\n    public TableView&lt;PreferenceValues.PreferencesSet&gt; preferencesTable;\r\n    public TableColumn mdColumn;\r\n    public TableColumn typeColumn;\r\n    public TableColumn tradeColumn;\r\n    public TableColumn plastColumn;\r\n    public TableColumn capColumn;\r\n    public TableColumn multColumn;\r\n    public TableColumn sizeColumn;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        setNorthPanel();\r\n        setTableColumns();\r\n        fillAllInfo();\r\n    }\r\n\r\n    private void setTableColumns() {\r\n        mdColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, MarketDirection&gt;(&quot;md&quot;));\r\n        typeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, UserOfferType&gt;(&quot;type&quot;));\r\n        tradeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Boolean&gt;(&quot;trade&quot;));\r\n        plastColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(&quot;plast&quot;));\r\n        capColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(&quot;cap&quot;));\r\n        multColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(&quot;mult&quot;));\r\n        sizeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(&quot;size&quot;));\r\n    }      \r\n    private void fillAllInfo() {\r\n         preferencesTable.setItems(FXCollections.observableArrayList(CurrentSession.currentUser.getPreferencesList()));\r\n        fillNorthPanel();\r\n    }\r\n    public void applyClicked(ActionEvent actionEvent) {\r\n        applyNorthPanelChanges();\r\n    }\r\n    private void applyNorthPanelChanges() {\r\n        PreferenceValues.PreferencesSet preferencesSet = CurrentSession.currentUser.getPreferencesSet(dirChoiceBox.getSelectionModel().getSelectedItem(), offerTypeChoiceBox.getSelectionModel().getSelectedItem());\r\n        preferencesSet.setTrade(tradeCheckBox.isSelected());\r\n        preferencesSet.setPlast(plastSpinner.getValue());\r\n        preferencesSet.setCap(capRateSpinner.getValue());\r\n        preferencesSet.setMult(multSpinner.getValue());\r\n        preferencesSet.setSize(sizeSpinner.getValue());\r\n        preferencesSet.savePreferences();\r\n    }\r\n\r\nUser class:\r\n\r\n    public class User {\r\n\r\n    private PreferenceValues preferenceValues;\r\n\r\n\r\n    public PreferenceValues.PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\r\n        return preferenceValues.getPreferencesSet(md, userOfferType);\r\n    }\r\n\r\n    public ArrayList&lt;PreferenceValues.PreferencesSet&gt; getPreferencesList() {\r\n        return preferenceValues.getPreferencesList();\r\n    }\r\n    }\r\n\r\nPreferenceValues class:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.TreeMap;\r\n    import java.util.prefs.BackingStoreException;\r\n    import java.util.prefs.Preferences;\r\n\r\n    public class PreferenceValues {\r\n    private Preferences preferences;\r\n    private ArrayList&lt;PreferencesSet&gt; preferencesList;\r\n    private TreeMap&lt;String, PreferencesSet&gt; preferencesMap;\r\n\r\n    public PreferenceValues(User user) {\r\n        preferencesList = new ArrayList&lt;&gt;();\r\n        preferencesMap = new TreeMap&lt;&gt;();\r\n        preferences = Preferences.userRoot().node(&quot;prefexample&quot; + user.getwmId());\r\n        for (MarketDirection md : MarketDirection.values()) {\r\n            for (UserOfferType userOfferType : UserOfferType.values()) {\r\n                if (userOfferType != UserOfferType.UNDEF) {\r\n                    PreferencesSet preferencesSet = new PreferencesSet(md, userOfferType, preferences);\r\n                    preferencesList.add(preferencesSet);\r\n                    preferencesMap.put(md.toString() + userOfferType.toString(), preferencesSet);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected ArrayList&lt;PreferencesSet&gt; getPreferencesList() {\r\n        return preferencesList;\r\n    }\r\n\r\n    private String getMapKey(MarketDirection md, UserOfferType userOfferType) {\r\n        return md.toString() + userOfferType.toString();\r\n    }\r\n\r\n    protected PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\r\n        return preferencesMap.get(getMapKey(md, userOfferType));\r\n    }\r\n\r\n    public void clear() throws BackingStoreException {\r\n        preferences.clear();\r\n    }\r\n\r\n\r\n    public class PreferencesSet {\r\n    Preferences preferences;\r\n\r\n    private MarketDirection md;\r\n    private UserOfferType type;\r\n    private boolean trade;\r\n    private int plast;\r\n    private double cap;\r\n    private double mult;\r\n    private int size;\r\n\r\n\r\n    public PreferencesSet(MarketDirection md, UserOfferType type, Preferences preferences) {\r\n        this.md = md;\r\n        this.type = type;\r\n        this.preferences = preferences;\r\n        trade = preferences.node(md.toString()).node(type.toString()).getBoolean(&quot;trade&quot;, false);\r\n        plast = preferences.node(md.toString()).node(type.toString()).getInt(&quot;plast&quot;, 222);\r\n        cap = preferences.node(md.toString()).node(type.toString()).getDouble(&quot;cap&quot;, 333);\r\n        mult = preferences.node(md.toString()).node(type.toString()).getDouble(&quot;mult&quot;, 1);\r\n        size = preferences.node(md.toString()).node(type.toString()).getInt(&quot;size&quot;, 15000);\r\n    }\r\n\r\n    public void savePreferences() {\r\n        preferences.node(md.toString()).node(type.toString()).putBoolean(&quot;trade&quot;, trade);\r\n        preferences.node(md.toString()).node(type.toString()).putInt(&quot;plast&quot;, plast);\r\n        preferences.node(md.toString()).node(type.toString()).putDouble(&quot;cap&quot;, cap);\r\n        preferences.node(md.toString()).node(type.toString()).putDouble(&quot;mult&quot;, mult);\r\n        preferences.node(md.toString()).node(type.toString()).putInt(&quot;size&quot;, size);\r\n    }\r\n\r\n    public MarketDirection getMd() {\r\n        return md;\r\n    }\r\n\r\n    public UserOfferType getType() {\r\n        return type;\r\n    }\r\n\r\n    public boolean isTrade() {\r\n        return trade;\r\n    }\r\n\r\n    public int getPlast() {\r\n        return plast;\r\n    }\r\n\r\n    public double getCap() {\r\n        return cap;\r\n    }\r\n\r\n    public double getMult() {\r\n        return mult;\r\n    }\r\n\r\n    public int getSize() {\r\n        return size;\r\n    }\r\n\r\n    public void setTrade(boolean trade) {\r\n        this.trade = trade;\r\n    }\r\n\r\n    public void setPlast(int plast) {\r\n        this.plast = plast;\r\n    }\r\n\r\n    public void setCap(double cap) {\r\n        this.cap = cap;\r\n    }\r\n\r\n    public void setMult(double mult) {\r\n        this.mult = mult;\r\n    }\r\n\r\n    public void setSize(int size) {\r\n        this.size = size;\r\n    }\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DnefC.gif","title":"JavaFX TableView not updating immediately","body":"<p>I have an issue with JavaFX <code>TableView</code> UI update. After I change the observable object, it does not update the UI of <code>TableView</code>. But if I perform a magical ritual of pulling <code>TableView</code>'s scroll bar down and up again - it seems to redraw the table and update items in it.\nThrough debugging I've ensured, that the PreferencesSet ArrayList and object are updated correctly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DnefC.gif\" rel=\"nofollow noreferrer\">Here's gif demonstration of what is happening</a></p>\n\n<p>This is my first time asking a question here, so I could have left out some important info. Feel free to ask me for it. Thank you in advance.</p>\n\n<p>Here's code (I have left out unrelated stuff):</p>\n\n<p>ControllerClass:</p>\n\n<pre><code>public class TestSomethingController implements Initializable {\n\npublic TableView&lt;PreferenceValues.PreferencesSet&gt; preferencesTable;\npublic TableColumn mdColumn;\npublic TableColumn typeColumn;\npublic TableColumn tradeColumn;\npublic TableColumn plastColumn;\npublic TableColumn capColumn;\npublic TableColumn multColumn;\npublic TableColumn sizeColumn;\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    setNorthPanel();\n    setTableColumns();\n    fillAllInfo();\n}\n\nprivate void setTableColumns() {\n    mdColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, MarketDirection&gt;(\"md\"));\n    typeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, UserOfferType&gt;(\"type\"));\n    tradeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Boolean&gt;(\"trade\"));\n    plastColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(\"plast\"));\n    capColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(\"cap\"));\n    multColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Double&gt;(\"mult\"));\n    sizeColumn.setCellValueFactory(new PropertyValueFactory&lt;PreferenceValues.PreferencesSet, Long&gt;(\"size\"));\n}      \nprivate void fillAllInfo() {\n     preferencesTable.setItems(FXCollections.observableArrayList(CurrentSession.currentUser.getPreferencesList()));\n    fillNorthPanel();\n}\npublic void applyClicked(ActionEvent actionEvent) {\n    applyNorthPanelChanges();\n}\nprivate void applyNorthPanelChanges() {\n    PreferenceValues.PreferencesSet preferencesSet = CurrentSession.currentUser.getPreferencesSet(dirChoiceBox.getSelectionModel().getSelectedItem(), offerTypeChoiceBox.getSelectionModel().getSelectedItem());\n    preferencesSet.setTrade(tradeCheckBox.isSelected());\n    preferencesSet.setPlast(plastSpinner.getValue());\n    preferencesSet.setCap(capRateSpinner.getValue());\n    preferencesSet.setMult(multSpinner.getValue());\n    preferencesSet.setSize(sizeSpinner.getValue());\n    preferencesSet.savePreferences();\n}\n</code></pre>\n\n<p>User class:</p>\n\n<pre><code>public class User {\n\nprivate PreferenceValues preferenceValues;\n\n\npublic PreferenceValues.PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\n    return preferenceValues.getPreferencesSet(md, userOfferType);\n}\n\npublic ArrayList&lt;PreferenceValues.PreferencesSet&gt; getPreferencesList() {\n    return preferenceValues.getPreferencesList();\n}\n}\n</code></pre>\n\n<p>PreferenceValues class:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.TreeMap;\nimport java.util.prefs.BackingStoreException;\nimport java.util.prefs.Preferences;\n\npublic class PreferenceValues {\nprivate Preferences preferences;\nprivate ArrayList&lt;PreferencesSet&gt; preferencesList;\nprivate TreeMap&lt;String, PreferencesSet&gt; preferencesMap;\n\npublic PreferenceValues(User user) {\n    preferencesList = new ArrayList&lt;&gt;();\n    preferencesMap = new TreeMap&lt;&gt;();\n    preferences = Preferences.userRoot().node(\"prefexample\" + user.getwmId());\n    for (MarketDirection md : MarketDirection.values()) {\n        for (UserOfferType userOfferType : UserOfferType.values()) {\n            if (userOfferType != UserOfferType.UNDEF) {\n                PreferencesSet preferencesSet = new PreferencesSet(md, userOfferType, preferences);\n                preferencesList.add(preferencesSet);\n                preferencesMap.put(md.toString() + userOfferType.toString(), preferencesSet);\n            }\n        }\n    }\n}\n\nprotected ArrayList&lt;PreferencesSet&gt; getPreferencesList() {\n    return preferencesList;\n}\n\nprivate String getMapKey(MarketDirection md, UserOfferType userOfferType) {\n    return md.toString() + userOfferType.toString();\n}\n\nprotected PreferencesSet getPreferencesSet(MarketDirection md, UserOfferType userOfferType) {\n    return preferencesMap.get(getMapKey(md, userOfferType));\n}\n\npublic void clear() throws BackingStoreException {\n    preferences.clear();\n}\n\n\npublic class PreferencesSet {\nPreferences preferences;\n\nprivate MarketDirection md;\nprivate UserOfferType type;\nprivate boolean trade;\nprivate int plast;\nprivate double cap;\nprivate double mult;\nprivate int size;\n\n\npublic PreferencesSet(MarketDirection md, UserOfferType type, Preferences preferences) {\n    this.md = md;\n    this.type = type;\n    this.preferences = preferences;\n    trade = preferences.node(md.toString()).node(type.toString()).getBoolean(\"trade\", false);\n    plast = preferences.node(md.toString()).node(type.toString()).getInt(\"plast\", 222);\n    cap = preferences.node(md.toString()).node(type.toString()).getDouble(\"cap\", 333);\n    mult = preferences.node(md.toString()).node(type.toString()).getDouble(\"mult\", 1);\n    size = preferences.node(md.toString()).node(type.toString()).getInt(\"size\", 15000);\n}\n\npublic void savePreferences() {\n    preferences.node(md.toString()).node(type.toString()).putBoolean(\"trade\", trade);\n    preferences.node(md.toString()).node(type.toString()).putInt(\"plast\", plast);\n    preferences.node(md.toString()).node(type.toString()).putDouble(\"cap\", cap);\n    preferences.node(md.toString()).node(type.toString()).putDouble(\"mult\", mult);\n    preferences.node(md.toString()).node(type.toString()).putInt(\"size\", size);\n}\n\npublic MarketDirection getMd() {\n    return md;\n}\n\npublic UserOfferType getType() {\n    return type;\n}\n\npublic boolean isTrade() {\n    return trade;\n}\n\npublic int getPlast() {\n    return plast;\n}\n\npublic double getCap() {\n    return cap;\n}\n\npublic double getMult() {\n    return mult;\n}\n\npublic int getSize() {\n    return size;\n}\n\npublic void setTrade(boolean trade) {\n    this.trade = trade;\n}\n\npublic void setPlast(int plast) {\n    this.plast = plast;\n}\n\npublic void setCap(double cap) {\n    this.cap = cap;\n}\n\npublic void setMult(double mult) {\n    this.mult = mult;\n}\n\npublic void setSize(int size) {\n    this.size = size;\n}\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2834545,"reputation":2174,"user_id":2435402,"accept_rate":56,"display_name":"em_"},"score":0,"creation_date":1692722158,"post_id":76955143,"comment_id":135661965,"body_markdown":"They&#39;ve revamped the entire SDK surface objects and overall subscriptions/purchaes paradigms, this is largely considered a painful update - definitely take your time. I would recommend targeting v6 as v5 will likely be deprecated and sunsetted soon. Either way, they do provide a lot of documentation https://developer.android.com/google/play/billing/migrate-gpblv6#5-or-6","body":"They&#39;ve revamped the entire SDK surface objects and overall subscriptions/purchaes paradigms, this is largely considered a painful update - definitely take your time. I would recommend targeting v6 as v5 will likely be deprecated and sunsetted soon. Either way, they do provide a lot of documentation <a href=\"https://developer.android.com/google/play/billing/migrate-gpblv6#5-or-6\" rel=\"nofollow noreferrer\">developer.android.com/google/play/billing/migrate-gpblv6#5-o&zwnj;&#8203;r-6</a>"}],"owner":{"account_id":13895912,"reputation":23,"user_id":10032787,"display_name":"Mehmet Aslan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692721203,"creation_date":1692720814,"question_id":76955143,"body_markdown":"I&#39;m using BillingClient 3 and now I need to upgrade to 5. I am getting an error in the line of code I shared below. How can I solve the problem?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/COspc.png)](https://i.stack.imgur.com/COspc.png)\r\n\r\n    @Override\r\n    public void onPurchasesUpdated(BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\r\n        //if item newly purchased\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\r\n            handlePurchases(purchases);\r\n        }\r\n        //if item already purchased then check and reflect changes\r\n        else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\r\n            Purchase.PurchasesResult queryAlreadyPurchasesResult = mBillingClient.queryPurchases(SUBS);\r\n            List&lt;Purchase&gt; alreadyPurchases = queryAlreadyPurchasesResult.getPurchasesList();\r\n            if(alreadyPurchases!=null){\r\n                handlePurchases(alreadyPurchases);\r\n\r\n            }\r\n        }\r\n        //if purchase cancelled\r\n        else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\r\n        }\r\n        // Handle any other error msgs\r\n        else {\r\n            //Toast.makeText(getApplicationContext(),&quot;Error &quot;+billingResult.getDebugMessage(),Toast.LENGTH_SHORT).show();\r\n        }\r\n    }`","title":"Upgrade BillingClient 3 to 5","body":"<p>I'm using BillingClient 3 and now I need to upgrade to 5. I am getting an error in the line of code I shared below. How can I solve the problem?</p>\n<p><a href=\"https://i.stack.imgur.com/COspc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/COspc.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@Override\npublic void onPurchasesUpdated(BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\n    //if item newly purchased\n    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\n        handlePurchases(purchases);\n    }\n    //if item already purchased then check and reflect changes\n    else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\n        Purchase.PurchasesResult queryAlreadyPurchasesResult = mBillingClient.queryPurchases(SUBS);\n        List&lt;Purchase&gt; alreadyPurchases = queryAlreadyPurchasesResult.getPurchasesList();\n        if(alreadyPurchases!=null){\n            handlePurchases(alreadyPurchases);\n\n        }\n    }\n    //if purchase cancelled\n    else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\n    }\n    // Handle any other error msgs\n    else {\n        //Toast.makeText(getApplicationContext(),&quot;Error &quot;+billingResult.getDebugMessage(),Toast.LENGTH_SHORT).show();\n    }\n}`\n</code></pre>\n"},{"tags":["java","active-directory","ldap","unboundid"],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692720675,"creation_date":1692717205,"question_id":76954711,"body_markdown":"I have following snippet\r\n\r\n    val entry = ldapConnectionPool.getEntry(groupNn, SearchRequest.ALL_USER_ATTRIBUTES, &quot;PrimaryGroupToken&quot;)\r\n    val primaryGroupToken = entry.getAttributeValue(&quot;PrimaryGroupToken&quot;)\r\n\r\nprimaryGroupToken is equal `550` after execution\r\n\r\nThen I want to find the same entry by `PrimaryGroupToken` \r\n\r\n\r\n    ldapConnectionPool.searchForEntry(SearchRequest(dn, SearchScope.SUB, &quot;PrimaryGroupToken=$primaryGroupToken&quot;))\r\n\r\nbut it returns `null`. Is there way to find entry by `PrimaryGroupToken`  ?\r\n\r\n","title":"How to search by PrimaryGroupToken in Ldap?","body":"<p>I have following snippet</p>\n<pre><code>val entry = ldapConnectionPool.getEntry(groupNn, SearchRequest.ALL_USER_ATTRIBUTES, &quot;PrimaryGroupToken&quot;)\nval primaryGroupToken = entry.getAttributeValue(&quot;PrimaryGroupToken&quot;)\n</code></pre>\n<p>primaryGroupToken is equal <code>550</code> after execution</p>\n<p>Then I want to find the same entry by <code>PrimaryGroupToken</code></p>\n<pre><code>ldapConnectionPool.searchForEntry(SearchRequest(dn, SearchScope.SUB, &quot;PrimaryGroupToken=$primaryGroupToken&quot;))\n</code></pre>\n<p>but it returns <code>null</code>. Is there way to find entry by <code>PrimaryGroupToken</code>  ?</p>\n"},{"tags":["java","networking","admin"],"comments":[{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1323265307,"post_id":8416222,"comment_id":10396050,"body_markdown":"How are you getting this exception? And what operating system are you using? We can&#39;t guess here.","body":"How are you getting this exception? And what operating system are you using? We can&#39;t guess here."},{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":7,"creation_date":1323265377,"post_id":8416222,"comment_id":10396064,"body_markdown":"Try `netstat -a`","body":"Try <code>netstat -a</code>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1512164221,"post_id":8416222,"comment_id":82162388,"body_markdown":"Please consider accepting my answer below if it was helpful","body":"Please consider accepting my answer below if it was helpful"}],"answers":[{"tags":[],"owner":{"account_id":88371,"reputation":5024,"user_id":244461,"accept_rate":100,"display_name":"RHT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323265452,"creation_date":1323265452,"answer_id":8416278,"question_id":8416222,"body_markdown":"Either terminate the process which is using port 8083 or configure your application to run on another port. Smart applications try to use an alternative port automatically.","title":"java.lang.Exception: Port 8083 already in use","body":"<p>Either terminate the process which is using port 8083 or configure your application to run on another port. Smart applications try to use an alternative port automatically.</p>\n"},{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1323266114,"post_id":8416286,"comment_id":10396280,"body_markdown":"On what OS does `netstat -a` show you the processes that have the port open?","body":"On what OS does <code>netstat -a</code> show you the processes that have the port open?"},{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":2,"creation_date":1323266374,"post_id":8416286,"comment_id":10396364,"body_markdown":"@Gray I think there is a -p flag that you could use to show the name of the process","body":"@Gray I think there is a -p flag that you could use to show the name of the process"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1323266559,"post_id":8416286,"comment_id":10396437,"body_markdown":"Did not know that.  That works under Linux but not MacOSX nor OpenBSD.  Make sure you edit your answer to include the -p.","body":"Did not know that.  That works under Linux but not MacOSX nor OpenBSD.  Make sure you edit your answer to include the -p."},{"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"score":0,"creation_date":1323274108,"post_id":8416286,"comment_id":10399358,"body_markdown":"The -p flag for windows allows the protocol to be specified. I&#39;ll have to login to a linux machine to check the usage there","body":"The -p flag for windows allows the protocol to be specified. I&#39;ll have to login to a linux machine to check the usage there"}],"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1323274056,"creation_date":1323265488,"answer_id":8416286,"question_id":8416222,"body_markdown":"The exception is thrown because you are trying to bind to a port that is already in use by another process.\r\n\r\nUsing `netstat -a` from the command line will show you a list of open ports and the process that&#39;s using them. Than you can kill it.\r\n\r\nUpdate:\r\n\r\nOn Windows you can use `netstat -ao` to list all the in use ports along with the Process ID that owns the connection.\r\n\r\nOn Linux you can use `netstat -p` to list the process id/program name.\r\n\r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<p>The exception is thrown because you are trying to bind to a port that is already in use by another process.</p>\n\n<p>Using <code>netstat -a</code> from the command line will show you a list of open ports and the process that's using them. Than you can kill it.</p>\n\n<p>Update:</p>\n\n<p>On Windows you can use <code>netstat -ao</code> to list all the in use ports along with the Process ID that owns the connection.</p>\n\n<p>On Linux you can use <code>netstat -p</code> to list the process id/program name.</p>\n"},{"tags":[],"owner":{"account_id":472669,"reputation":9843,"user_id":881272,"accept_rate":67,"display_name":"Angelo Fuchs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324790042,"creation_date":1323265493,"answer_id":8416289,"question_id":8416222,"body_markdown":"The exception means: there is already a open Port &#39;8083&#39;. You solve it by either stopping that service or by using a different port yourself.\r\n\r\nI would guess that your own service is already running when you try to start it, so stop the old instance before starting the new one.\r\n\r\n(I know Tomcat runs on 8080 and sometimes people change that to 8083, but its impossible for anyone to know what service runs on your machine using that port.)\r\n\r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<p>The exception means: there is already a open Port '8083'. You solve it by either stopping that service or by using a different port yourself.</p>\n\n<p>I would guess that your own service is already running when you try to start it, so stop the old instance before starting the new one.</p>\n\n<p>(I know Tomcat runs on 8080 and sometimes people change that to 8083, but its impossible for anyone to know what service runs on your machine using that port.)</p>\n"},{"tags":[],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323265610,"creation_date":1323265610,"answer_id":8416323,"question_id":8416222,"body_markdown":"If you are starting a server for deploying your application it may happen that any other process or application is using that port. Outlook, Skype or other applications do it sometimes at my job. Use a program like [CPorts][1] for kill that connection and restart your server.\r\n\r\n\r\n  [1]: http://www.nirsoft.net/utils/cports.html","title":"java.lang.Exception: Port 8083 already in use","body":"<p>If you are starting a server for deploying your application it may happen that any other process or application is using that port. Outlook, Skype or other applications do it sometimes at my job. Use a program like <a href=\"http://www.nirsoft.net/utils/cports.html\" rel=\"nofollow\">CPorts</a> for kill that connection and restart your server.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1512164268,"creation_date":1323266089,"answer_id":8416424,"question_id":8416222,"body_markdown":"&gt; java.lang.Exception: Port 8083 already in use.\r\n\r\nThe error means that another application already has that port bound so that you can&#39;t use it.  Typically it means that a server is running (or is exiting) but still has the specific port open.  Often this error is given when you are trying to shutdown one server and bring up the new version but the first server isn&#39;t total down when the new one is started.  You need to find the server in question and you may have to kill it using `kill -9` or something.\r\n\r\nA good tool to find out which application has the port open is `lsof`.  This should work under most Unixes (Linux) and MacOSX at least.\r\n\r\n    lsof -i :8083\r\n\r\n`lsof` is for LiSting the Open Files on a system but the `-i` option is for internet addresses:\r\n\r\n    -i [i]   This option selects the listing of files any of whose Internet\r\n             address matches the address specified in i.\r\n            [46][protocol][@hostname|hostaddr][:service|port]\r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<blockquote>\n  <p>java.lang.Exception: Port 8083 already in use.</p>\n</blockquote>\n\n<p>The error means that another application already has that port bound so that you can't use it.  Typically it means that a server is running (or is exiting) but still has the specific port open.  Often this error is given when you are trying to shutdown one server and bring up the new version but the first server isn't total down when the new one is started.  You need to find the server in question and you may have to kill it using <code>kill -9</code> or something.</p>\n\n<p>A good tool to find out which application has the port open is <code>lsof</code>.  This should work under most Unixes (Linux) and MacOSX at least.</p>\n\n<pre><code>lsof -i :8083\n</code></pre>\n\n<p><code>lsof</code> is for LiSting the Open Files on a system but the <code>-i</code> option is for internet addresses:</p>\n\n<pre><code>-i [i]   This option selects the listing of files any of whose Internet\n         address matches the address specified in i.\n        [46][protocol][@hostname|hostaddr][:service|port]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76110,"reputation":4784,"user_id":218119,"display_name":"Benxamin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1363036952,"creation_date":1363036952,"answer_id":15348915,"question_id":8416222,"body_markdown":"I get this with JBoss server every once in a while. It&#39;s not intuitive that you would need to restart Java, but the above methods didn&#39;t work.  \r\n\r\nFor **Mac OS X**:\r\n\r\nSLOW\r\n\r\n 1. Open Activity Monitor.\r\n 2. Filter by &quot;java&quot;\r\n 3. Quit any processes (usually just one). \r\n 4. Restart your server. \r\n\r\nFAST\r\n\r\n`ps aux | grep &#39;java&#39;` to list the current Java processes and their IDs. \r\n\r\n`kill -9 process_id_goes_here`","title":"java.lang.Exception: Port 8083 already in use","body":"<p>I get this with JBoss server every once in a while. It's not intuitive that you would need to restart Java, but the above methods didn't work.  </p>\n\n<p>For <strong>Mac OS X</strong>:</p>\n\n<p>SLOW</p>\n\n<ol>\n<li>Open Activity Monitor.</li>\n<li>Filter by \"java\"</li>\n<li>Quit any processes (usually just one). </li>\n<li>Restart your server. </li>\n</ol>\n\n<p>FAST</p>\n\n<p><code>ps aux | grep 'java'</code> to list the current Java processes and their IDs. </p>\n\n<p><code>kill -9 process_id_goes_here</code></p>\n"},{"tags":[],"owner":{"account_id":2567258,"reputation":153,"user_id":2226964,"display_name":"The Tomahawk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389438580,"creation_date":1389438580,"answer_id":21061524,"question_id":8416222,"body_markdown":"There is another possibility: you may be trying to bind to the wrong IP address -- JBoss will report this as being unable to bind to the port.\r\n\r\nCheck your -b option against your run.sh and ensure that it is either 0.0.0.0 or the IP or hostname of the server.&lt;br&gt;\r\n- If it&#39;s 0.0.0.0, then the problem is that the port is in use.&lt;br&gt;\r\n- If it&#39;s the IP, verify that it is the correct ip using /sbin/ifconfig (or ipconfig on Windows)&lt;br&gt;\r\n- If it&#39;s the hostname, then run&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;telnet hostname_here&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;and verify that the IP address that is resolves to is the correct IP address.\r\n\r\nI had this exact issue and I found that someone had put the wrong IP address in the /etc/hosts file.  Once I fixed the file, JBoss started fine.","title":"java.lang.Exception: Port 8083 already in use","body":"<p>There is another possibility: you may be trying to bind to the wrong IP address -- JBoss will report this as being unable to bind to the port.</p>\n\n<p>Check your -b option against your run.sh and ensure that it is either 0.0.0.0 or the IP or hostname of the server.<br>\n- If it's 0.0.0.0, then the problem is that the port is in use.<br>\n- If it's the IP, verify that it is the correct ip using /sbin/ifconfig (or ipconfig on Windows)<br>\n- If it's the hostname, then run<br>\n&nbsp;&nbsp;telnet hostname_here<br>\n&nbsp;&nbsp;and verify that the IP address that is resolves to is the correct IP address.</p>\n\n<p>I had this exact issue and I found that someone had put the wrong IP address in the /etc/hosts file.  Once I fixed the file, JBoss started fine.</p>\n"},{"tags":[],"owner":{"account_id":5259242,"reputation":81,"user_id":4201196,"display_name":"abinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423209381,"creation_date":1423200575,"answer_id":28359141,"question_id":8416222,"body_markdown":"In Eclipse, if you got this error, it means there are one or two Eclipse instances using the same port.\r\n\r\nThe solution is go to your operating system&#39;s process manager and kill the \r\nEclipse and java processes.","title":"java.lang.Exception: Port 8083 already in use","body":"<p>In Eclipse, if you got this error, it means there are one or two Eclipse instances using the same port.</p>\n\n<p>The solution is go to your operating system's process manager and kill the \nEclipse and java processes.</p>\n"},{"tags":[],"owner":{"account_id":2189427,"reputation":630,"user_id":1936955,"accept_rate":43,"display_name":"Noor Syed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428525370,"creation_date":1428525370,"answer_id":29524865,"question_id":8416222,"body_markdown":"Make sure the ports are different on two JBOSS instances in the file conf/bindingservices.beans/META-INF/bindings-jboss-beans.xml\r\n\r\nThere are around 10 ports to change\r\n                                                                                            \r\n","title":"java.lang.Exception: Port 8083 already in use","body":"<p>Make sure the ports are different on two JBOSS instances in the file conf/bindingservices.beans/META-INF/bindings-jboss-beans.xml</p>\n\n<p>There are around 10 ports to change</p>\n"},{"tags":[],"owner":{"account_id":29256396,"reputation":11,"user_id":22414504,"display_name":"Adil ALTUN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692720603,"creation_date":1692719573,"answer_id":76955009,"question_id":8416222,"body_markdown":"If you are using windows operating system, you can follow these commands in command prompt: \r\n\r\n - *netstat -ano | findstr :8083*\r\n\r\n[response of the ***netstat -ano | findstr :8083*** command][1]\r\n\r\nAfter typing the command, we reach the listening number (in this example listening number: 3680). \r\n\r\nAfter reaching this number, We can write this command:\r\n\r\n - *taskkill /PID 3680 /F*\r\n\r\n[response of the ***taskkill /PID 3680 /F*** command][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NO1Fz.png\r\n  [2]: https://i.stack.imgur.com/J2H7V.png","title":"java.lang.Exception: Port 8083 already in use","body":"<p>If you are using windows operating system, you can follow these commands in command prompt:</p>\n<ul>\n<li><em>netstat -ano | findstr :8083</em></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/NO1Fz.png\" rel=\"nofollow noreferrer\">response of the <em><strong>netstat -ano | findstr :8083</strong></em> command</a></p>\n<p>After typing the command, we reach the listening number (in this example listening number: 3680).</p>\n<p>After reaching this number, We can write this command:</p>\n<ul>\n<li><em>taskkill /PID 3680 /F</em></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/J2H7V.png\" rel=\"nofollow noreferrer\">response of the <em><strong>taskkill /PID 3680 /F</strong></em> command</a></p>\n"}],"owner":{"account_id":938159,"reputation":1423,"user_id":966709,"accept_rate":44,"display_name":"S Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29898,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":8416424,"answer_count":10,"score":10,"last_activity_date":1692720603,"creation_date":1323265226,"question_id":8416222,"body_markdown":"I am getting exception on console which is:\r\n        \r\n    java.lang.Exception: Port 8083 already in use.\r\n\r\nHow to resolve this exception? If I will get which service is using 8083 port then I can stop that service and in this way I can get over this problem.\r\n\r\nThanks for your help!","title":"java.lang.Exception: Port 8083 already in use","body":"<p>I am getting exception on console which is:</p>\n\n<pre><code>java.lang.Exception: Port 8083 already in use.\n</code></pre>\n\n<p>How to resolve this exception? If I will get which service is using 8083 port then I can stop that service and in this way I can get over this problem.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692717315,"post_id":76954664,"comment_id":135660904,"body_markdown":"Can you post your whole DTO class?","body":"Can you post your whole DTO class?"},{"owner":{"account_id":29276397,"reputation":9,"user_id":22430038,"display_name":"Phu"},"score":0,"creation_date":1692718562,"post_id":76954664,"comment_id":135661211,"body_markdown":"It&#39;s whole my DTO","body":"It&#39;s whole my DTO"}],"owner":{"account_id":29276397,"reputation":9,"user_id":22430038,"display_name":"Phu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692719874,"creation_date":1692716895,"question_id":76954664,"body_markdown":"I have a class\r\n\r\n```\r\n@Entity\r\npublic class Group {\r\n  @Id\r\n  private long id;\r\n  @Column\r\n  private String uuid;\r\n  @Column@Type(JsonType.class) \r\n  private Info info;\r\n}\r\n```\r\n\r\n```\r\npublic record Info(String name, String email, String age) {}\r\n```\r\n\r\nI have a DTO\r\n```\r\npublic record InfoDto(String uuid, Info info) {}\r\n```\r\n\r\nI use query \r\n```\r\n@Query(value = &quot;SELECT new com.example.InfoDto(g.uuid, g.info) FROM Group g&quot;)\r\nList&lt;InfoDto&gt; findInfoDto();\r\n```\r\n\r\nIt return error *Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection*\r\n\r\nPlease help me solve this problem. Many thanks\r\n\r\nI change record to class and add contructor, it stll error","title":"Cannot map json type to DTO spring data jpa","body":"<p>I have a class</p>\n<pre><code>@Entity\npublic class Group {\n  @Id\n  private long id;\n  @Column\n  private String uuid;\n  @Column@Type(JsonType.class) \n  private Info info;\n}\n</code></pre>\n<pre><code>public record Info(String name, String email, String age) {}\n</code></pre>\n<p>I have a DTO</p>\n<pre><code>public record InfoDto(String uuid, Info info) {}\n</code></pre>\n<p>I use query</p>\n<pre><code>@Query(value = &quot;SELECT new com.example.InfoDto(g.uuid, g.info) FROM Group g&quot;)\nList&lt;InfoDto&gt; findInfoDto();\n</code></pre>\n<p>It return error <em>Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection</em></p>\n<p>Please help me solve this problem. Many thanks</p>\n<p>I change record to class and add contructor, it stll error</p>\n"},{"tags":["java","jvm","java-memory-model","jls"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690671627,"post_id":76795737,"comment_id":135386515,"body_markdown":"The order you gave is not possible. A constructor call is a synchronous process. Thus, `T1` does not have the possibility to set a reference to the (partially initialized) object so `T2` can read it.","body":"The order you gave is not possible. A constructor call is a synchronous process. Thus, <code>T1</code> does not have the possibility to set a reference to the (partially initialized) object so <code>T2</code> can read it."},{"owner":{"account_id":974397,"reputation":2803,"user_id":996142,"accept_rate":29,"display_name":"user996142"},"score":0,"creation_date":1690671991,"post_id":76795737,"comment_id":135386552,"body_markdown":"Thank you, @Turing85 . Which JLS section says this? I only see guarantees about final fields","body":"Thank you, @Turing85 . Which JLS section says this? I only see guarantees about final fields"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690672542,"post_id":76795737,"comment_id":135386590,"body_markdown":"I do not fully understand the question. If `T1` wants to share some object with `T2`, it needs to write that object&#39;s reference to a shared variable. This means an assignment, e.g. `sharedVariable = new Foo();`. This guarantees that the `Foo`-object is fully constructed before its reference is assigned to `sharedVariable`.","body":"I do not fully understand the question. If <code>T1</code> wants to share some object with <code>T2</code>, it needs to write that object&#39;s reference to a shared variable. This means an assignment, e.g. <code>sharedVariable = new Foo();</code>. This guarantees that the <code>Foo</code>-object is fully constructed before its reference is assigned to <code>sharedVariable</code>."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":2,"creation_date":1690672834,"post_id":76795737,"comment_id":135386601,"body_markdown":"How do you pass a link to the object from T1 to T2? For example, if it is a volatile field, then write and read to it would create a happens-before relationship according to JVM that guarantees visibility of all previous changes including adding foo","body":"How do you pass a link to the object from T1 to T2? For example, if it is a volatile field, then write and read to it would create a happens-before relationship according to JVM that guarantees visibility of all previous changes including adding foo"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690674374,"post_id":76795737,"comment_id":135386720,"body_markdown":"I&#39;m with gdomo.  `myList` doesn&#39;t matter here.  We must know how you pass the reference to `MyClass` to T2 or we can&#39;t say if it&#39;s safe or not.  You need to show us that code.  *Assuming* T2 has a reference, then yes it can call `add()` safely (that&#39;s because the field is `final`).  However the call to `add()` may not be visible to any *other* thread in the system (including T1) because it is unsynchronized.","body":"I&#39;m with gdomo.  <code>myList</code> doesn&#39;t matter here.  We must know how you pass the reference to <code>MyClass</code> to T2 or we can&#39;t say if it&#39;s safe or not.  You need to show us that code.  <i>Assuming</i> T2 has a reference, then yes it can call <code>add()</code> safely (that&#39;s because the field is <code>final</code>).  However the call to <code>add()</code> may not be visible to any <i>other</i> thread in the system (including T1) because it is unsynchronized."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692708259,"post_id":76795786,"comment_id":135658498,"body_markdown":"Why do you keep the wrong section at the end? Its easy for readers to miss the smaller clarifying section. Besides that, the entire Q&amp;A is dubious The extra guarantees for `final` fields are only relevant if the object is incorrectly exchanged between the threads. But if we assume that the two threads are not using correct synchronization, we can not assume the `add` call to work properly, as it is a mutation after the construction requiring a correct external synchronization, as `ArrayList` is not thread safe. So in either case, correct use or not, the `final` field guarantees are irrelevant","body":"Why do you keep the wrong section at the end? Its easy for readers to miss the smaller clarifying section. Besides that, the entire Q&amp;A is dubious The extra guarantees for <code>final</code> fields are only relevant if the object is incorrectly exchanged between the threads. But if we assume that the two threads are not using correct synchronization, we can not assume the <code>add</code> call to work properly, as it is a mutation after the construction requiring a correct external synchronization, as <code>ArrayList</code> is not thread safe. So in either case, correct use or not, the <code>final</code> field guarantees are irrelevant"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692717194,"post_id":76795786,"comment_id":135660881,"body_markdown":"@Holger Do you think the answer would be improved if I just delete `Hold On!` and everything that follows?","body":"@Holger Do you think the answer would be improved if I just delete <code>Hold On!</code> and everything that follows?"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692719850,"creation_date":1690672999,"answer_id":76795786,"question_id":76795737,"body_markdown":"Your thinking is incorrect. It&#39;s a sensible line of thought, but, this section of the JMM ([JMM &#167;17.5](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5)):\r\n\r\n&gt; It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nDisagrees with the analysis. So, assuming you adhere to the rules set forth in that section of the JMM, which is:\r\n\r\n_Do not let the `this` ref escape from the constructor. e.g. if the constructor does `someStaticField = this;` or `someOtherThing.hereYouGo(this);`, any code that uses that `this` reference does not get the guarantee._\r\n\r\nThen not only are the direct values safe (as in, for primitives, the value, and for objects, the reference (i.e. the pointer)), but so are that object&#39;s fields / that array&#39;s slots. &quot;safe&quot; here means: Any code that refers to it (other than via the above exception where you don&#39;t get this safety) cannot observe any of the `final` fields in a state as it was before the constructor _finishes_.\r\n\r\nHence, your snippet is well-formed.\r\n\r\nNote of course that the act of assigning the value of a constructor call is, itself, not covered by any of this. Hence:\r\n\r\n```\r\nclass Example {\r\n  MyObject c;\r\n\r\n  void codeInThread1() {\r\n    c = new MyObject();\r\n  }\r\n\r\n  void codeInThread2() {\r\n    System.out.println(c);\r\n  }\r\n}\r\n```\r\n\r\nMay result in thread 2 printing `null` (because `c` is observed as `null` by thread 2), _even if_ other effects the code has clearly indicates thread1 has progressed well past `c = new MyObject();`. The JMM does not guarantee that one thread&#39;s writes are observed by another thread unless a Happens-Before relationship is established.\r\n\r\nHowever, the JVM does guarantee no sheared writes for object refs and a certain consistency: There are only 2 things that can be observed by thread 2. EITHER `null`, OR a fully initialized object, i.e., no state as it was _before_ the constructor finished can be observed by thread 2.","title":"Is it safe to assume that everything happened in a constructor is visible to threads running methods after object initialization?","body":"<p>Your thinking is incorrect. It's a sensible line of thought, but, this section of the JMM (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">JMM 17.5</a>):</p>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>Disagrees with the analysis. So, assuming you adhere to the rules set forth in that section of the JMM, which is:</p>\n<p><em>Do not let the <code>this</code> ref escape from the constructor. e.g. if the constructor does <code>someStaticField = this;</code> or <code>someOtherThing.hereYouGo(this);</code>, any code that uses that <code>this</code> reference does not get the guarantee.</em></p>\n<p>Then not only are the direct values safe (as in, for primitives, the value, and for objects, the reference (i.e. the pointer)), but so are that object's fields / that array's slots. &quot;safe&quot; here means: Any code that refers to it (other than via the above exception where you don't get this safety) cannot observe any of the <code>final</code> fields in a state as it was before the constructor <em>finishes</em>.</p>\n<p>Hence, your snippet is well-formed.</p>\n<p>Note of course that the act of assigning the value of a constructor call is, itself, not covered by any of this. Hence:</p>\n<pre><code>class Example {\n  MyObject c;\n\n  void codeInThread1() {\n    c = new MyObject();\n  }\n\n  void codeInThread2() {\n    System.out.println(c);\n  }\n}\n</code></pre>\n<p>May result in thread 2 printing <code>null</code> (because <code>c</code> is observed as <code>null</code> by thread 2), <em>even if</em> other effects the code has clearly indicates thread1 has progressed well past <code>c = new MyObject();</code>. The JMM does not guarantee that one thread's writes are observed by another thread unless a Happens-Before relationship is established.</p>\n<p>However, the JVM does guarantee no sheared writes for object refs and a certain consistency: There are only 2 things that can be observed by thread 2. EITHER <code>null</code>, OR a fully initialized object, i.e., no state as it was <em>before</em> the constructor finished can be observed by thread 2.</p>\n"},{"tags":[],"owner":{"account_id":29122864,"reputation":31,"user_id":22309916,"display_name":"user22309916"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690728357,"creation_date":1690728357,"answer_id":76798258,"question_id":76795737,"body_markdown":"The &quot;Hold on!&quot; part of [the accepted answer](https://stackoverflow.com/a/76795786) requires correction.\r\n\r\nIt&#39;s assumed there that the inner state of the object, stored in a final field, is guaranteed by the JMM to be visible in other threads at least as up-to-date as it was _when the final field was assigned_ inside the constructor.\r\n\r\nBut actually, the JMM guarantees that the inner state will be as up-to-date as _at the end of the constructor_, where the final field was assigned.\r\n\r\nThe reason for the confusion is [the following sentence in the JLS](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1):\r\n&gt; It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nThe quote above can be interpreted both ways because it&#39;s a human-friendly text.  \r\nTo find out precisely what is guaranteed we need to look at the actual rules (which the quote above describes in a human-friendly way): [17.5.1. Semantics of final Fields](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1).  \r\nLet&#39;s apply these rules to our example (notice the names of the actions given in the comments).\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n\r\n  MyClass() {\r\n    myList.add(&quot;foo&quot;); // w (internal write, e.g. myList.size=1)\r\n    // f (freeze action which happens at the end of constructor)\r\n  }\r\n\r\n  void add(String data) {\r\n    myList.add(data); // r1 (read of final field &#39;o.myList&#39;) and r2 (internal read, e.g. myList.size))\r\n  }\r\n\r\n  static MyClass o;\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    var thread1 = new Thread(() -&gt; {\r\n      o = new MyClass(); // a (publication of the object in thread1)\r\n    });\r\n    var thread2 = new Thread(() -&gt; {\r\n      o.add(&quot;test&quot;); // r0 (read of the published object in thread2)\r\n    });\r\n    thread1.start();\r\n    thread2.start();\r\n    thread1.join();\r\n    thread2.join();\r\n  }\r\n}\r\n```\r\n\r\nWith this action names we can use the following rule from the JLS:\r\n&gt; Given a write _w_, a freeze _f_, an action _a_ (that is not a read of a `final` field), a read _r&lt;sub&gt;1&lt;/sub&gt;_ of the final field frozen by _f_, and a read _r&lt;sub&gt;2&lt;/sub&gt;_ such that _hb(w, f)_, _hb(f, a)_, _mc(a, r&lt;sub&gt;1&lt;/sub&gt;)_, and _dereferences(r&lt;sub&gt;1&lt;/sub&gt;, r&lt;sub&gt;2&lt;/sub&gt;)_, then when determining which values can be seen by _r&lt;sub&gt;2&lt;/sub&gt;_, we consider _hb(w, r&lt;sub&gt;2&lt;/sub&gt;)_. (This _happens-before_ ordering does not transitively close with other _happens-before_ orderings.)\r\n\r\nAs you can see, _w_ (the write `o.myList.size=1` inside `MyClass()` in thread1) _happens-before*_ _r2_ (the read of `o.myList.size` in thread2).  \r\nAs a result, the JMM guarantees that thread2 sees inner state of `o.myList` as it was at the end of the constructor in thread1.\r\n\r\nYou can apply the same logic to any other inner field (at any depth) of the `o.myList` object.\r\n\r\nFor more info about the JMM `final` guarantees I would recommend [this presentation by Vladimir Sitnikov](https://www.slideshare.net/VladimirSitnikv/final-field-semantics).\r\n\r\n---\r\n\r\nP.S. it&#39;s worth noting that _freeze_ happens at the end of the constructor that writes into the final field:\r\n&gt; Let _o_ be an object, and _c_ be a constructor for _o_ in which a `final` field _f_ is written. A _freeze_ action on `final` field _f_ of _o_ takes place when _c_ exits, either normally or abruptly.\r\n&gt; \r\n&gt; Note that if one constructor invokes another constructor, and the invoked constructor sets a `final` field, the freeze for the `final` field takes place at the end of the invoked constructor. \r\n\r\nthis means in the following example thread2 may see `myList` as empty, because `freeze` happens at the end of `private MyClass() {}` constructor:\r\n```java\r\npublic class MyClass {\r\n\r\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n\r\n  private MyClass() {}\r\n\r\n  // in thread1\r\n  MyClass(String str) {\r\n    this();\r\n    myList.add(str);\r\n  }\r\n\r\n  // in thread2\r\n  void add(String data) {\r\n    myList.add(data);\r\n  }\r\n}\r\n```\r\n\r\nFinally, those, who are curious about which of the object&#39;s constructors execute field initializers, should read [12.5. Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5).\r\n","title":"Is it safe to assume that everything happened in a constructor is visible to threads running methods after object initialization?","body":"<p>The &quot;Hold on!&quot; part of <a href=\"https://stackoverflow.com/a/76795786\">the accepted answer</a> requires correction.</p>\n<p>It's assumed there that the inner state of the object, stored in a final field, is guaranteed by the JMM to be visible in other threads at least as up-to-date as it was <em>when the final field was assigned</em> inside the constructor.</p>\n<p>But actually, the JMM guarantees that the inner state will be as up-to-date as <em>at the end of the constructor</em>, where the final field was assigned.</p>\n<p>The reason for the confusion is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1\" rel=\"nofollow noreferrer\">the following sentence in the JLS</a>:</p>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>The quote above can be interpreted both ways because it's a human-friendly text.<br />\nTo find out precisely what is guaranteed we need to look at the actual rules (which the quote above describes in a human-friendly way): <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5.1\" rel=\"nofollow noreferrer\">17.5.1. Semantics of final Fields</a>.<br />\nLet's apply these rules to our example (notice the names of the actions given in the comments).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n\n  MyClass() {\n    myList.add(&quot;foo&quot;); // w (internal write, e.g. myList.size=1)\n    // f (freeze action which happens at the end of constructor)\n  }\n\n  void add(String data) {\n    myList.add(data); // r1 (read of final field 'o.myList') and r2 (internal read, e.g. myList.size))\n  }\n\n  static MyClass o;\n\n  public static void main(String[] args) throws InterruptedException {\n    var thread1 = new Thread(() -&gt; {\n      o = new MyClass(); // a (publication of the object in thread1)\n    });\n    var thread2 = new Thread(() -&gt; {\n      o.add(&quot;test&quot;); // r0 (read of the published object in thread2)\n    });\n    thread1.start();\n    thread2.start();\n    thread1.join();\n    thread2.join();\n  }\n}\n</code></pre>\n<p>With this action names we can use the following rule from the JLS:</p>\n<blockquote>\n<p>Given a write <em>w</em>, a freeze <em>f</em>, an action <em>a</em> (that is not a read of a <code>final</code> field), a read <em>r<sub>1</sub></em> of the final field frozen by <em>f</em>, and a read <em>r<sub>2</sub></em> such that <em>hb(w, f)</em>, <em>hb(f, a)</em>, <em>mc(a, r<sub>1</sub>)</em>, and <em>dereferences(r<sub>1</sub>, r<sub>2</sub>)</em>, then when determining which values can be seen by <em>r<sub>2</sub></em>, we consider <em>hb(w, r<sub>2</sub>)</em>. (This <em>happens-before</em> ordering does not transitively close with other <em>happens-before</em> orderings.)</p>\n</blockquote>\n<p>As you can see, <em>w</em> (the write <code>o.myList.size=1</code> inside <code>MyClass()</code> in thread1) <em>happens-before*</em> <em>r2</em> (the read of <code>o.myList.size</code> in thread2).<br />\nAs a result, the JMM guarantees that thread2 sees inner state of <code>o.myList</code> as it was at the end of the constructor in thread1.</p>\n<p>You can apply the same logic to any other inner field (at any depth) of the <code>o.myList</code> object.</p>\n<p>For more info about the JMM <code>final</code> guarantees I would recommend <a href=\"https://www.slideshare.net/VladimirSitnikv/final-field-semantics\" rel=\"nofollow noreferrer\">this presentation by Vladimir Sitnikov</a>.</p>\n<hr />\n<p>P.S. it's worth noting that <em>freeze</em> happens at the end of the constructor that writes into the final field:</p>\n<blockquote>\n<p>Let <em>o</em> be an object, and <em>c</em> be a constructor for <em>o</em> in which a <code>final</code> field <em>f</em> is written. A <em>freeze</em> action on <code>final</code> field <em>f</em> of <em>o</em> takes place when <em>c</em> exits, either normally or abruptly.</p>\n<p>Note that if one constructor invokes another constructor, and the invoked constructor sets a <code>final</code> field, the freeze for the <code>final</code> field takes place at the end of the invoked constructor.</p>\n</blockquote>\n<p>this means in the following example thread2 may see <code>myList</code> as empty, because <code>freeze</code> happens at the end of <code>private MyClass() {}</code> constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n  final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n\n  private MyClass() {}\n\n  // in thread1\n  MyClass(String str) {\n    this();\n    myList.add(str);\n  }\n\n  // in thread2\n  void add(String data) {\n    myList.add(data);\n  }\n}\n</code></pre>\n<p>Finally, those, who are curious about which of the object's constructors execute field initializers, should read <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5. Creation of New Class Instances</a>.</p>\n"}],"owner":{"account_id":974397,"reputation":2803,"user_id":996142,"accept_rate":29,"display_name":"user996142"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76795786,"answer_count":2,"score":4,"last_activity_date":1692719850,"creation_date":1690671461,"question_id":76795737,"body_markdown":"Lets have the following class:\r\n```java\r\npublic class MyClass {\r\n  private final List&lt;String&gt; myList = new ArrayList&lt;&gt;(); //Not a thread-safe thing\r\n\r\n  // Called on thread 1\r\n  MyClass() {\r\n    myList.add(&quot;foo&quot;);\r\n  }\r\n\r\n  // Called on thread 2\r\n  void add(String data) {\r\n    myList.add(data);\r\n  }\r\n}\r\n```\r\nIs it well-formed or not?\r\n\r\nI was only able to find this:\r\n\r\n&gt; An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object&#39;s final fields.\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5\r\n\r\nThat means &quot;thread 2&quot; must see `ArrayList`, but may or may not see its content, right?\r\n\r\nIn other words, is it possible to have the following order:\r\n\r\nT1: Creates `MyClass` along with `ArrayList`\r\n\r\nT2: Accesses `ArrayList`\r\n\r\nT1: Adds &quot;foo&quot; to the list\r\n","title":"Is it safe to assume that everything happened in a constructor is visible to threads running methods after object initialization?","body":"<p>Lets have the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n  private final List&lt;String&gt; myList = new ArrayList&lt;&gt;(); //Not a thread-safe thing\n\n  // Called on thread 1\n  MyClass() {\n    myList.add(&quot;foo&quot;);\n  }\n\n  // Called on thread 2\n  void add(String data) {\n    myList.add(data);\n  }\n}\n</code></pre>\n<p>Is it well-formed or not?</p>\n<p>I was only able to find this:</p>\n<blockquote>\n<p>An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object's final fields.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5</a></p>\n<p>That means &quot;thread 2&quot; must see <code>ArrayList</code>, but may or may not see its content, right?</p>\n<p>In other words, is it possible to have the following order:</p>\n<p>T1: Creates <code>MyClass</code> along with <code>ArrayList</code></p>\n<p>T2: Accesses <code>ArrayList</code></p>\n<p>T1: Adds &quot;foo&quot; to the list</p>\n"},{"tags":["java","functional-programming","implicit"],"answers":[{"comments":[{"owner":{"account_id":3378504,"reputation":207,"user_id":2836136,"display_name":"cha"},"score":0,"creation_date":1692718703,"post_id":76954781,"comment_id":135661257,"body_markdown":"Thanks. That sounds like what I was looking for.So if an instance method of some class is referenced, e.g. TargetClass.someMethod(int arg1, String arg2), then the functional interface should have a method like &quot;apply(TargetClass inst, int arg1, String arg2), and invoking fxn.apply(inst, 3, &quot;a&quot;) will invoke inst.someMethod(3, &quot;a&quot;).","body":"Thanks. That sounds like what I was looking for.So if an instance method of some class is referenced, e.g. TargetClass.someMethod(int arg1, String arg2), then the functional interface should have a method like &quot;apply(TargetClass inst, int arg1, String arg2), and invoking fxn.apply(inst, 3, &quot;a&quot;) will invoke inst.someMethod(3, &quot;a&quot;)."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692717795,"creation_date":1692717795,"answer_id":76954781,"question_id":76954735,"body_markdown":"This is a pain to find in the Java Language Specification, but I think you&#39;re looking for [section 15.13.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.3), at least in version 8 of the spec, specifically the line\r\n\r\n&gt; If the compile-time declaration is an instance method, then the target reference is the first formal parameter of the invocation method. Otherwise, there is no target reference.","title":"Question about implicit class argument in Java method reference","body":"<p>This is a pain to find in the Java Language Specification, but I think you're looking for <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.3\" rel=\"nofollow noreferrer\">section 15.13.3</a>, at least in version 8 of the spec, specifically the line</p>\n<blockquote>\n<p>If the compile-time declaration is an instance method, then the target reference is the first formal parameter of the invocation method. Otherwise, there is no target reference.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3378504,"reputation":207,"user_id":2836136,"display_name":"cha"},"score":0,"creation_date":1692721918,"post_id":76955034,"comment_id":135661928,"body_markdown":"Thank you for the very detailed explanation. It really rounds out the rather terse explanation in the JLS. Your comment about partially binding the reference is especially helpful because in the code I&#39;ve dealt with, we happen to have had examples of that much more often than fully unbound method references, so they tended to obscure the fully unbound case slightly.","body":"Thank you for the very detailed explanation. It really rounds out the rather terse explanation in the JLS. Your comment about partially binding the reference is especially helpful because in the code I&#39;ve dealt with, we happen to have had examples of that much more often than fully unbound method references, so they tended to obscure the fully unbound case slightly."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692719820,"creation_date":1692719820,"answer_id":76955034,"question_id":76954735,"body_markdown":"As @LouisWasserman &#39;s answer mentions, it&#39;s &#167;15.13.3\r\n\r\nOne useful way to think about:\r\n\r\n```\r\nreceiver.method(arg1, arg2);\r\n```\r\n\r\nIs that there is no meaningful difference between that and:\r\n\r\n```\r\nTypeOfReceiver.method(receiver, arg1, arg2);\r\n```\r\n\r\n_Other than_ dynamic dispatch (where at compile time the expressions&#39; type is relevant, but at runtime, the actual object you find by following the reference, and if that is of a more specific type that has overridden the method, the overridden implementation is called - this is unique to instance methods, and not something static methods get).\r\n\r\nIn fact, at the JVM level it actually works that way, more or less, and you can even actually add it to a method definition! This is legal java:\r\n\r\n```\r\npublic class MyExample {\r\n  void instanceMethod(MyExample this, int param1) {\r\n  }\r\n}\r\n```\r\n\r\nThe `instanceMethod` is an instance method with 1 (!) parameter (param1). You invoke with: `new MyExample().instanceMethod(5)`. The `MyExample this` is completely ignored, but legal. It exists so you can put annotations on the &#39;receiver&#39;.\r\n\r\nWhen thinking about this hypothetical instance method, it really does have 2 parameters. The JVM implementation will push 2 things on the stack before invoking it: The `this` reference, and the `param1` value.\r\n\r\nThe same thinking applies for lambdas. Given __just__ &quot;Hey, I&#39;m talking about the instanceMethod as a method&quot;, then it really does have 2 parameters.\r\n\r\nJava does allow partly bound concepts, though - you can choose to provide half of the parameterlist (specifically, the `this` ref):\r\n\r\n```\r\nMyExample myEx = new MyExample();\r\nIntConsumer ic = myEx::instanceMethod;\r\nic.accept(5);\r\n```\r\n\r\nThat works - that final line is identical to calling `myEx.instanceMethod(5)`. The `myEx` reference is &#39;baked in&#39; to `ic`, so that&#39;s where that comes from, and the &#39;5&#39; is provided by calling `accept`.\r\n\r\nIn contrast:\r\n\r\n```\r\nMyExample myEx = new MyExample();\r\nBiConsumer&lt;MyExample, Integer&gt; tif = MyExample::instanceMethod;\r\ntif.accept(myEx, 5);\r\n```\r\n\r\n(There is no BiIntConsumer primitive variant so we have to resort to autoboxing to make this one work) - here our `tif` function has neither parameter pre-bound, so _both_ would need to be provided. After all, it is not possible to invoke `instanceMethod` without, well, an instance of `MyExample`. So how would `tif.accept(5)` work - what is `this` going to be within the context of the `instanceMethod` code?\r\n\r\nThus, my advice is - aside from reading the spec specifically about lambas, consider instead that __every non-static method in java__ has, as first parameter, `TypeThisIsIn this`, even if you don&#39;t write it. You _can_ write that if you want, the compiler will let you, even.\r\n","title":"Question about implicit class argument in Java method reference","body":"<p>As @LouisWasserman 's answer mentions, it's 15.13.3</p>\n<p>One useful way to think about:</p>\n<pre><code>receiver.method(arg1, arg2);\n</code></pre>\n<p>Is that there is no meaningful difference between that and:</p>\n<pre><code>TypeOfReceiver.method(receiver, arg1, arg2);\n</code></pre>\n<p><em>Other than</em> dynamic dispatch (where at compile time the expressions' type is relevant, but at runtime, the actual object you find by following the reference, and if that is of a more specific type that has overridden the method, the overridden implementation is called - this is unique to instance methods, and not something static methods get).</p>\n<p>In fact, at the JVM level it actually works that way, more or less, and you can even actually add it to a method definition! This is legal java:</p>\n<pre><code>public class MyExample {\n  void instanceMethod(MyExample this, int param1) {\n  }\n}\n</code></pre>\n<p>The <code>instanceMethod</code> is an instance method with 1 (!) parameter (param1). You invoke with: <code>new MyExample().instanceMethod(5)</code>. The <code>MyExample this</code> is completely ignored, but legal. It exists so you can put annotations on the 'receiver'.</p>\n<p>When thinking about this hypothetical instance method, it really does have 2 parameters. The JVM implementation will push 2 things on the stack before invoking it: The <code>this</code> reference, and the <code>param1</code> value.</p>\n<p>The same thinking applies for lambdas. Given <strong>just</strong> &quot;Hey, I'm talking about the instanceMethod as a method&quot;, then it really does have 2 parameters.</p>\n<p>Java does allow partly bound concepts, though - you can choose to provide half of the parameterlist (specifically, the <code>this</code> ref):</p>\n<pre><code>MyExample myEx = new MyExample();\nIntConsumer ic = myEx::instanceMethod;\nic.accept(5);\n</code></pre>\n<p>That works - that final line is identical to calling <code>myEx.instanceMethod(5)</code>. The <code>myEx</code> reference is 'baked in' to <code>ic</code>, so that's where that comes from, and the '5' is provided by calling <code>accept</code>.</p>\n<p>In contrast:</p>\n<pre><code>MyExample myEx = new MyExample();\nBiConsumer&lt;MyExample, Integer&gt; tif = MyExample::instanceMethod;\ntif.accept(myEx, 5);\n</code></pre>\n<p>(There is no BiIntConsumer primitive variant so we have to resort to autoboxing to make this one work) - here our <code>tif</code> function has neither parameter pre-bound, so <em>both</em> would need to be provided. After all, it is not possible to invoke <code>instanceMethod</code> without, well, an instance of <code>MyExample</code>. So how would <code>tif.accept(5)</code> work - what is <code>this</code> going to be within the context of the <code>instanceMethod</code> code?</p>\n<p>Thus, my advice is - aside from reading the spec specifically about lambas, consider instead that <strong>every non-static method in java</strong> has, as first parameter, <code>TypeThisIsIn this</code>, even if you don't write it. You <em>can</em> write that if you want, the compiler will let you, even.</p>\n"}],"owner":{"account_id":3378504,"reputation":207,"user_id":2836136,"display_name":"cha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76954781,"answer_count":2,"score":1,"last_activity_date":1692719820,"creation_date":1692717404,"question_id":76954735,"body_markdown":"In Java, the class portion of a method reference can become the first argument of the function. I&#39;ve seen lots of examples in working code. But I wondered where in the Java Language Specification this is spelled out? I&#39;m wondering because whenever I see code like this, it takes me a few minutes to figure out why there is an &quot;extra&quot; first argument. So I thought it would be helpful to read the actual rule. It does not seem to be mentioned in the sections on functional interfaces or method references.\r\n\r\nHere is an example.\r\n\r\n    import java.util.function.BiFunction;\r\n    \r\n    public class TestBiFunction\r\n    {\r\n        public static void main(String[] args) {\r\n            BiFunction&lt;A.B, Integer, Integer&gt; fx = A.B::dbl;\r\n            A.B b = new A.B();\r\n            int result = fx.apply(b, 3);\r\n            System.out.println(&quot;Result = &quot; + result);\r\n        }\r\n    \r\n        private static class A {\r\n            private static class B {\r\n                public int dbl(int x) {\r\n                    return 2 * x;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nSo, specifically what I wondered was, in the statement &quot;BiFunction&lt;A.B, Integer&gt; fx = A.B::dbl;&quot;, what language rule makes the &quot;A.B&quot; in &quot;A.B::dbl&quot; become the first argument to the BiFunction?","title":"Question about implicit class argument in Java method reference","body":"<p>In Java, the class portion of a method reference can become the first argument of the function. I've seen lots of examples in working code. But I wondered where in the Java Language Specification this is spelled out? I'm wondering because whenever I see code like this, it takes me a few minutes to figure out why there is an &quot;extra&quot; first argument. So I thought it would be helpful to read the actual rule. It does not seem to be mentioned in the sections on functional interfaces or method references.</p>\n<p>Here is an example.</p>\n<pre><code>import java.util.function.BiFunction;\n\npublic class TestBiFunction\n{\n    public static void main(String[] args) {\n        BiFunction&lt;A.B, Integer, Integer&gt; fx = A.B::dbl;\n        A.B b = new A.B();\n        int result = fx.apply(b, 3);\n        System.out.println(&quot;Result = &quot; + result);\n    }\n\n    private static class A {\n        private static class B {\n            public int dbl(int x) {\n                return 2 * x;\n            }\n        }\n    }\n}\n</code></pre>\n<p>So, specifically what I wondered was, in the statement &quot;BiFunction&lt;A.B, Integer&gt; fx = A.B::dbl;&quot;, what language rule makes the &quot;A.B&quot; in &quot;A.B::dbl&quot; become the first argument to the BiFunction?</p>\n"},{"tags":["java","maven","pom.xml","vmargs"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1475086361,"post_id":39750348,"comment_id":66805647,"body_markdown":"for what do you want to add the vmargs? Compiling, testing, running your application? With what maven goal do you do this? You should show more of your pom.","body":"for what do you want to add the vmargs? Compiling, testing, running your application? With what maven goal do you do this? You should show more of your pom."}],"answers":[{"tags":[],"owner":{"account_id":4500635,"reputation":3691,"user_id":3659226,"accept_rate":36,"display_name":"RITZ XAVI"},"comment_count":0,"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1686563182,"creation_date":1475074878,"answer_id":39751176,"question_id":39750348,"body_markdown":"You can do this in few different ways.\r\n\r\n**Using the Maven Compiler Plugin**  \r\nYou can use the `compilerArgs` property of the plugin to specify the Xmx, Xms, Xss VM arguments.  \r\nBelow is an example\r\n\r\n    &lt;project&gt;\r\n        [...]\r\n        &lt;build&gt;\r\n          [...]\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n               &lt;version&gt;3.10.1&lt;/version&gt;\r\n               &lt;configuration&gt;\r\n                 &lt;compilerArgs&gt;\r\n                      &lt;arg&gt;-Xmx512M&lt;/arg&gt;   // You can provide comma separated values if you have more than one\r\n                 &lt;/compilerArgs&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n           [...]\r\n        &lt;/build&gt;\r\n        [...]\r\n    &lt;/project&gt;\r\n\r\nRefer to the [Maven Compiler Plugin](https://maven.apache.org/components/plugins/maven-compiler-plugin/index.html) for more details.\r\n\r\n**Using the Maven Surefire Plugin**  \r\nYou can use the `argLine` property of the plugin to specify the Xmx, Xms, Xss VM arguments.  \r\nBelow is an example\r\n\r\n    &lt;/project&gt;    \r\n        [...]\r\n        &lt;build&gt;\r\n          [...]\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n               &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n               &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Xmx512M&lt;/argLine&gt;   // You can provide comma separated values if you have more than one\r\n               &lt;/configuration&gt;\r\n             &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n           [...]\r\n        &lt;/build&gt;\r\n        [...]\r\n    &lt;/project&gt;\r\nRefer to the [Maven Surefire Plugin](https://maven.apache.org/components/surefire/maven-surefire-plugin/) for more details.","title":"How to add VM args using pom.xml plugin","body":"<p>You can do this in few different ways.</p>\n<p><strong>Using the Maven Compiler Plugin</strong><br />\nYou can use the <code>compilerArgs</code> property of the plugin to specify the Xmx, Xms, Xss VM arguments.<br />\nBelow is an example</p>\n<pre><code>&lt;project&gt;\n    [...]\n    &lt;build&gt;\n      [...]\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.10.1&lt;/version&gt;\n           &lt;configuration&gt;\n             &lt;compilerArgs&gt;\n                  &lt;arg&gt;-Xmx512M&lt;/arg&gt;   // You can provide comma separated values if you have more than one\n             &lt;/compilerArgs&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n       &lt;/plugins&gt;\n       [...]\n    &lt;/build&gt;\n    [...]\n&lt;/project&gt;\n</code></pre>\n<p>Refer to the <a href=\"https://maven.apache.org/components/plugins/maven-compiler-plugin/index.html\" rel=\"nofollow noreferrer\">Maven Compiler Plugin</a> for more details.</p>\n<p><strong>Using the Maven Surefire Plugin</strong><br />\nYou can use the <code>argLine</code> property of the plugin to specify the Xmx, Xms, Xss VM arguments.<br />\nBelow is an example</p>\n<pre><code>&lt;/project&gt;    \n    [...]\n    &lt;build&gt;\n      [...]\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.0.0-M7&lt;/version&gt;\n           &lt;configuration&gt;\n                &lt;argLine&gt;-Xmx512M&lt;/argLine&gt;   // You can provide comma separated values if you have more than one\n           &lt;/configuration&gt;\n         &lt;/plugin&gt;\n       &lt;/plugins&gt;\n       [...]\n    &lt;/build&gt;\n    [...]\n&lt;/project&gt;\n</code></pre>\n<p>Refer to the <a href=\"https://maven.apache.org/components/surefire/maven-surefire-plugin/\" rel=\"nofollow noreferrer\">Maven Surefire Plugin</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692719113,"creation_date":1692719113,"answer_id":76954957,"question_id":39750348,"body_markdown":"**Can be done in POM file as follows :**\r\n\r\n      &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                        &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                        &lt;argLine&gt;\r\n                            --add-opens=java.base/java.lang=ALL-UNNAMED\r\n                            --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\r\n                            --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n                            --add-opens=java.base/java.io=ALL-UNNAMED\r\n                            --add-opens=java.base/java.net=ALL-UNNAMED\r\n                            --add-opens=java.base/java.nio=ALL-UNNAMED\r\n                            --add-opens=java.base/java.util=ALL-UNNAMED\r\n                            --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n                            --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.nio.cs=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.security.action=ALL-UNNAMED\r\n                            --add-opens=java.base/sun.util.calendar=ALL-UNNAMED\r\n                            --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED\r\n                            --add-exports java.base/sun.nio.ch=ALL-UNNAMED\r\n                        &lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;","title":"How to add VM args using pom.xml plugin","body":"<p><strong>Can be done in POM file as follows :</strong></p>\n<pre><code>  &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                    &lt;argLine&gt;\n                        --add-opens=java.base/java.lang=ALL-UNNAMED\n                        --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\n                        --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n                        --add-opens=java.base/java.io=ALL-UNNAMED\n                        --add-opens=java.base/java.net=ALL-UNNAMED\n                        --add-opens=java.base/java.nio=ALL-UNNAMED\n                        --add-opens=java.base/java.util=ALL-UNNAMED\n                        --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n                        --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\n                        --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n                        --add-opens=java.base/sun.nio.cs=ALL-UNNAMED\n                        --add-opens=java.base/sun.security.action=ALL-UNNAMED\n                        --add-opens=java.base/sun.util.calendar=ALL-UNNAMED\n                        --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED\n                        --add-exports java.base/sun.nio.ch=ALL-UNNAMED\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3518477,"reputation":399,"user_id":2941355,"accept_rate":60,"display_name":"Rahul sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56776,"favorite_count":0,"down_vote_count":2,"up_vote_count":19,"accepted_answer_id":39751176,"answer_count":2,"score":17,"last_activity_date":1692719113,"creation_date":1475072671,"question_id":39750348,"body_markdown":"I have tried below ways but nothing work... \r\ni am trying to access jmx remotely from server.\r\n\r\n      \t     &lt;jvmArgs&gt;\r\n             &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/jvmArg&gt;\r\n            &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArg&gt;\r\n              &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArg&gt;\r\n            &lt;/jvmArgs&gt;\r\n\r\n            &lt;!-- &lt;systemPropertyVariables&gt; \r\n\t\t\t\t\t                   &lt;com.sun.management.jmxremote.port&gt;9999&lt;/com.sun.management.jmxremote.port&gt; \r\n                           &lt;com.sun.management.jmxremote.authenticate&gt;false&lt;/com.sun.management.jmxremote.a uthenticate&gt; \r\n                         &lt;com.sun.management.jmxremote.ssl&gt;false&lt;/com.sun.management.jmxremote.ssl&gt; \r\n                     &lt;/systemPropertyVariables&gt; --&gt;\r\n\r\n                     &lt;!-- &lt;jvmArguments&gt; \r\n\t\t\t\t\t &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.port=9999&lt;/jvmArgument&gt; \r\n                     &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArgument&gt; \r\n                     &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArgument&gt; \r\n\t\t\t\t\t&lt;/jvmArguments&gt; --&gt;\r\n\r\n\r\nI also tried \r\n\r\n     &lt;options&gt;\r\n\t\t\t\t&lt;option&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/option&gt; \r\n                &lt;option&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/option&gt; \r\n\t\t\t\t&lt;option&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/option&gt; \r\n                &lt;/options&gt;","title":"How to add VM args using pom.xml plugin","body":"<p>I have tried below ways but nothing work... \ni am trying to access jmx remotely from server.</p>\n\n<pre><code>         &lt;jvmArgs&gt;\n         &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/jvmArg&gt;\n        &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArg&gt;\n          &lt;jvmArg&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArg&gt;\n        &lt;/jvmArgs&gt;\n\n        &lt;!-- &lt;systemPropertyVariables&gt; \n                                   &lt;com.sun.management.jmxremote.port&gt;9999&lt;/com.sun.management.jmxremote.port&gt; \n                       &lt;com.sun.management.jmxremote.authenticate&gt;false&lt;/com.sun.management.jmxremote.a uthenticate&gt; \n                     &lt;com.sun.management.jmxremote.ssl&gt;false&lt;/com.sun.management.jmxremote.ssl&gt; \n                 &lt;/systemPropertyVariables&gt; --&gt;\n\n                 &lt;!-- &lt;jvmArguments&gt; \n                 &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.port=9999&lt;/jvmArgument&gt; \n                 &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.authenticate=false&lt;/jvmArgument&gt; \n                 &lt;jvmArgument&gt;- Dcom.sun.management.jmxremote.ssl=false&lt;/jvmArgument&gt; \n                &lt;/jvmArguments&gt; --&gt;\n</code></pre>\n\n<p>I also tried </p>\n\n<pre><code> &lt;options&gt;\n            &lt;option&gt;-Dcom.sun.management.jmxremote.port=9999&lt;/option&gt; \n            &lt;option&gt;-Dcom.sun.management.jmxremote.authenticate=false&lt;/option&gt; \n            &lt;option&gt;-Dcom.sun.management.jmxremote.ssl=false&lt;/option&gt; \n            &lt;/options&gt;\n</code></pre>\n"},{"tags":["java","swing","jframe","repaint"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692589573,"post_id":76942250,"comment_id":135638951,"body_markdown":"Your `jFrameRefresh` creates a brand new set of controls every time it is called.  That can&#39;t really be what you intended.  The new controls will throw out the old set of controls (which are the ones you probably updated).","body":"Your <code>jFrameRefresh</code> creates a brand new set of controls every time it is called.  That can&#39;t really be what you intended.  The new controls will throw out the old set of controls (which are the ones you probably updated)."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692589672,"post_id":76942250,"comment_id":135638963,"body_markdown":"The first 99% of `jFrameRefresh` should be a separate function, `jFrameCreate`  The last 7 lines should be `jFrameRefresh`.","body":"The first 99% of <code>jFrameRefresh</code> should be a separate function, <code>jFrameCreate</code>  The last 7 lines should be <code>jFrameRefresh</code>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692590709,"post_id":76942250,"comment_id":135639020,"body_markdown":"`static` is not your friend and this is not how you should be using it.  Maybe, you should investigate the &quot;singleton&quot; pattern (if it&#39;s not done using an `enum` then it&#39;s probably wrong). It&#39;d also argue that `repaint` is irrelevant to what you&#39;re trying to do","body":"<code>static</code> is not your friend and this is not how you should be using it.  Maybe, you should investigate the &quot;singleton&quot; pattern (if it&#39;s not done using an <code>enum</code> then it&#39;s probably wrong). It&#39;d also argue that <code>repaint</code> is irrelevant to what you&#39;re trying to do"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1692590828,"post_id":76942250,"comment_id":135639028,"body_markdown":"You might also want to look into the concept of &quot;model-view-controller&quot; and &quot;dependency injection&quot;","body":"You might also want to look into the concept of &quot;model-view-controller&quot; and &quot;dependency injection&quot;"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692595296,"post_id":76942250,"comment_id":135639371,"body_markdown":"It appears that you want your app to display and modify the contents of your JSON file. Currently you are only using containers including `JPanel` and `JScrollPane`. What you probably need is a [JList](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html) or a [JTable](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) to display the contents of the JSON file.","body":"It appears that you want your app to display and modify the contents of your JSON file. Currently you are only using containers including <code>JPanel</code> and <code>JScrollPane</code>. What you probably need is a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">JList</a> or a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a> to display the contents of the JSON file."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1692662141,"post_id":76942250,"comment_id":135651552,"body_markdown":"I copied your code into my IDE.  It has 35 compilation errors because I have no idea what JSON jar you are using.  If you don&#39;t have the time to produce a [mre] that I can copy into my IDE and run, then I don&#39;t have time to figure out how to make your project work.    Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Study it.","body":"I copied your code into my IDE.  It has 35 compilation errors because I have no idea what JSON jar you are using.  If you don&#39;t have the time to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that I can copy into my IDE and run, then I don&#39;t have time to figure out how to make your project work.    Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Study it."}],"owner":{"account_id":29264714,"reputation":1,"user_id":22420751,"display_name":"ThrillerGriller"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692719003,"creation_date":1692588933,"question_id":76942250,"body_markdown":"I&#39;m working on a JFrame application to save data with many different panels, labels and buttons. I want it so whenever data is added, it should refresh the page. It doesn&#39;t seem to work though?\r\n\r\nHere is the repaint code:\r\n\r\n```\r\n//Refreshes mainFrame\r\n    if (startUp == true) {\r\n\tmainFrame.setVisible(true);\r\n\tstartUp = false;\r\n    } else {\r\n\tSystem.out.println(&quot;repaint&quot;);\r\n\tmainFrame.repaint();\r\n    }\r\n```\r\n\r\nHere&#39;s my full code:\r\n\r\n**UserInterface.java**\r\n\r\n```\r\npackage groupid;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.Image;\r\nimport java.awt.Toolkit;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.UnsupportedFlavorException;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ScrollPaneConstants;\r\nimport javax.swing.SwingUtilities;\r\n\r\nimport org.json.simple.JSONObject;\r\n\r\n\r\n\r\npublic class UserInterface {\r\n\tstatic Boolean startUp = true;\r\n\t\r\n\t//Sort Options - Different Ways to Short Data\r\n\tstatic String sortOptions[] = {&quot;A - Z&quot;,&quot;Z - A&quot;,&quot;Recently Created&quot;,&quot;Oldest Created&quot;,&quot;Recently Modified&quot;};\r\n\t\r\n\t//Main Frame Components\r\n\tstatic ImageIcon icon;\r\n\tstatic JFrame mainFrame;\r\n\tstatic JPanel mainPanel;\r\n\tstatic JScrollPane mainScrollPane;\r\n\t\r\n\t//Main Panel Components\r\n\tstatic JPanel rightPanel;\r\n\tstatic JPanel sidePanel;\r\n\t\r\n\t//Right Panel Components\r\n\tstatic JPanel topPanel;\r\n\tstatic JPanel searchPanel;\r\n\tstatic JLabel searchLabel;\r\n\tstatic JTextField searchBar;\r\n\tstatic JPanel sortPanel;\r\n\tstatic JLabel sortByLabel;\r\n\tstatic JPanel bottomPanel;\r\n\tstatic JPanel addButtonPanel;\r\n\tstatic JButton addButton;\r\n\t\r\n\tstatic JPanel flowPanel;\r\n\tstatic JPanel titlePanel;\r\n\tstatic JLabel titleLabel;\r\n\tstatic JTextArea valueLabel;\r\n\t\r\n\tstatic String clipboardString;\r\n\tstatic Boolean pasteBool;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tDatabase.startUp();\r\n\t\tUserInterface.jFrameRefresh();\r\n\t}\r\n\t\r\n\tpublic static void jFrameRefresh(){\r\n\t\tif (startUp == true) {\r\n\t\t\tmainFrame = new JFrame(); // Creates our main frame\r\n\t\tmainFrame.setSize(1600, 900);\r\n\t\tmainFrame.setTitle(&quot;ClippyBoards&quot;);\r\n\t\tmainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tmainFrame.setResizable(true);\r\n\t\tmainFrame.setFocusable(true);\r\n\t\tmainFrame.setLayout(new BorderLayout(10,0));\r\n\t\tmainFrame.addWindowListener(new WindowAdapter() { // Exits out of application\r\n\t\t\t@Override\r\n\t\t    public void windowClosing(WindowEvent e) {\r\n\t\t        Database.saveFile();\r\n\t\t        mainFrame.dispose();\r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t\t// Ctrl-V Ability\r\n\t\tmainFrame.addKeyListener(new KeyAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\tif(e.getKeyCode() == KeyEvent.VK_V &amp;&amp; (e.getModifiersEx() &amp; KeyEvent.CTRL_DOWN_MASK) != 0) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tclipboardString = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n\t\t\t\t\t} catch (UnsupportedFlavorException | IOException e1) {\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpasteBool = true;\r\n\t\t\t\t\tnew AddToClippyBoard();\r\n\t\t\t\t\tpasteBool = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\ticon = new ImageIcon(&quot;EggSMP.png&quot;);\r\n\t\tmainFrame.setIconImage(icon.getImage());\r\n\t\tmainFrame.getContentPane().setBackground(new Color(100,100,100));\r\n\t\t}\r\n\t\t\r\n\t\t// Right Panel - Panel that holds bottom panel and main panel\r\n\t\trightPanel = new JPanel(new BorderLayout(5,5));\r\n\t\trightPanel.setBackground(new Color(150,150,150));\r\n\t\trightPanel.setPreferredSize(new Dimension(1200,500));\r\n\t\tmainFrame.add(rightPanel,BorderLayout.CENTER);\r\n\t\t\r\n\t\tmainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER,20,20));\r\n\t\tmainPanel.setBackground(new Color(230,230,230));\r\n\t\tmainScrollPane = new JScrollPane(mainPanel);\r\n\t\tmainScrollPane.createVerticalScrollBar();\r\n\t\tmainScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tmainScrollPane.getVerticalScrollBar().setUnitIncrement(20);\r\n\t\trightPanel.add(mainScrollPane); // adds mainPanel, with scroll bar\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(Database.jsonArray.size());\r\n\t\t// Flow Panels - Shows all saved data\r\n\t\tloadClippy();\r\n\t\t\r\n\t\tif (valueLabel == null) {\r\n\t\t\tmainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(400+20)+50));\r\n\t\t} else {\r\n\t\t\tmainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(60 + (valueLabel.getLineCount()*18)+20)+50));\r\n\t\t}\r\n\t\t\r\n\t\t// Side Panel - Navigate and organize folders\r\n\t\tsidePanel = new JPanel(new FlowLayout());\r\n\t\tsidePanel.setPreferredSize(new Dimension(500,100));\r\n\t\tsidePanel.setBackground(new Color(220,228,232));\r\n\t\tmainFrame.add(sidePanel,BorderLayout.WEST);\r\n\t\t\r\n\t\t//Top Panel - Search Bar &amp; Sorting Options\r\n\t\ttopPanel = new JPanel(new BorderLayout());\r\n\t\ttopPanel.setPreferredSize(new Dimension(1000,50));\r\n\t\ttopPanel.setBackground(new Color(230,230,230));\r\n\t\trightPanel.add(topPanel,BorderLayout.NORTH);\r\n\t\t\r\n\t\t//Search Panel - Holds Search Bar\r\n\t\tsearchPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING,5,12));\r\n\t\tsearchPanel.setPreferredSize(new Dimension(500,50));\r\n\t\tsearchPanel.setBackground(new Color(230,230,230));\r\n\t\ttopPanel.add(searchPanel,BorderLayout.EAST);\r\n\t\t\r\n\t\t//Search Label\r\n\t\tsearchLabel = new JLabel();\r\n\t\tsearchLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\tsearchLabel.setText(&quot;Search:&quot;);\r\n\t\tsearchPanel.add(searchLabel);\r\n\t\t\r\n\t\t//Search Bar - Search for Items within\r\n\t\tsearchBar = new JTextField();\r\n\t\tsearchBar.setPreferredSize(new Dimension(250,30));\r\n\t\tsearchBar.setBackground(new Color(250,250,250));\r\n\t\tsearchBar.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\r\n\t\tsearchPanel.add(searchBar);\r\n\t\t\r\n\t\t//Sort Panel - Holds Sort Filter\r\n\t\tsortPanel = new JPanel(new FlowLayout(FlowLayout.LEADING,5,12));\r\n\t\tsortPanel.setPreferredSize(new Dimension(600,50));\r\n\t\tsortPanel.setBackground(new Color(230,230,230));\r\n\t\ttopPanel.add(sortPanel,BorderLayout.WEST);\r\n\t\t\r\n\t\t//Sort Label\r\n\t\ticon = new ImageIcon(new ImageIcon(&quot;SortBlack.png&quot;).getImage().getScaledInstance(30, 30, Image.SCALE_DEFAULT));\r\n\t\tsortByLabel = new JLabel();\r\n\t\tsortByLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\tsortByLabel.setText(&quot;Sort By:&quot;);\r\n\t\tsortByLabel.setIcon(icon);\r\n\t\tsortPanel.add(sortByLabel);\r\n\t\t\r\n\t\t//sort Filter - Sorts data by selected filter\r\n\t\tJComboBox&lt;String&gt; sortBy = new JComboBox&lt;String&gt;(sortOptions);\r\n\t\tsortBy.setPreferredSize(new Dimension(200,30));\r\n\t\tsortBy.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\r\n\t\tsortPanel.add(sortBy);\r\n\t\t\r\n\t\t// Bottom Panel - Undecided\r\n\t\tbottomPanel = new JPanel(new BorderLayout());\r\n\t\tbottomPanel.setPreferredSize(new Dimension(100,50));\r\n\t\tbottomPanel.setBackground(new Color(220,228,232));\r\n\t\trightPanel.add(bottomPanel,BorderLayout.SOUTH);\r\n\t\t\r\n\t\t\r\n\t\t// Button Panel - Holds Add Button\r\n\t\taddButtonPanel = new JPanel();\r\n\t\taddButtonPanel.setPreferredSize(new Dimension(50,50));\r\n\t\taddButtonPanel.setBackground(new Color(220,228,232));\r\n\t\tbottomPanel.add(addButtonPanel,BorderLayout.EAST);\r\n\t\t\r\n\t\t// Add Button - Will open window to import new info\r\n\t\taddButton = new JButton(&quot;+&quot;);\r\n\t\taddButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\taddButton.setAlignmentX(JPanel.CENTER_ALIGNMENT);\r\n\t\taddButton.setAlignmentY(JPanel.CENTER_ALIGNMENT);\r\n\t\taddButtonPanel.add(addButton);\r\n\t\taddButton.addActionListener(new ActionListener() {\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(e.getSource()==addButton) {\r\n\t\t\t\t\tpasteBool = false;\r\n\t\t\t\t\tnew AddToClippyBoard(); \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t});\r\n        \t\r\n                //Refreshes mainFrame\r\n\t\tif (startUp == true) {\r\n\t\t\tmainFrame.setVisible(true);\r\n\t\t\tstartUp = false;\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;repaint&quot;);\r\n\t\t\tmainFrame.repaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void loadClippy() {\r\n\t\tfor (int i = 0; i &lt; Database.jsonArray.size(); i++) {\r\n\t\t\tJSONObject tempObject = (JSONObject) Database.jsonArray.get(i);;\r\n\t\t\t\r\n\t\t\tflowPanel = new JPanel(new BorderLayout());\r\n\t\t\tflowPanel.setPreferredSize(new Dimension(1000,400));\r\n\t\t\tflowPanel.setBackground(new Color(220,220,220));\r\n\t\t\tmainPanel.add(flowPanel);\r\n\t\t\t\r\n\t\t\ttitlePanel = new JPanel(new BorderLayout());\r\n\t\t\ttitlePanel.setPreferredSize(new Dimension(1000,50));\r\n\t\t\ttitlePanel.setBackground(new Color(220,220,220));\r\n\t\t\tflowPanel.add(titlePanel,BorderLayout.NORTH);\r\n\t\t\t\r\n\t\t\ttitleLabel = new JLabel();\r\n\t\t\ttitleLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,25));\r\n\t\t\ttitleLabel.setText(tempObject.get(&quot;name&quot;).toString());\r\n\t\t\ttitlePanel.add(titleLabel);\r\n\t\t\t\r\n\t\t\tvalueLabel = new JTextArea();\r\n\t\t\tvalueLabel.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\t\t\tvalueLabel.setBackground(new Color(220,220,220));\r\n\t\t\tvalueLabel.setLineWrap(true);\r\n\t\t\tvalueLabel.setWrapStyleWord(true);\r\n\t\t\tvalueLabel.setEditable(false);\r\n\t\t\tvalueLabel.setText(tempObject.get(&quot;value&quot;).toString());\r\n\t\t\t\r\n\t\t\tflowPanel.setPreferredSize(new Dimension(1000,60 + (valueLabel.getLineCount()*18)));\r\n\t\t\tflowPanel.add(valueLabel);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void dispose() {\r\n\t\tmainFrame.dispose();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**Database.java**\r\n\r\n```\r\npackage groupid;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\n\r\npublic class Database {\r\n\t\r\n\tstatic String path = &quot;C:/Users/Edison Cai/Downloads/temp.json&quot;; //Path to saved file\r\n\tstatic JSONArray jsonArray = new JSONArray(); // Creates our JSONArray\r\n\t\r\n\tstatic SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\r\n\t// Imports or creates JSONArray to be used in the program\r\n\tpublic static void startUp() {\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\t\r\n\t\tif (new File(path).exists()) {\r\n\t\t\ttry {\r\n\t\t\t\tjsonArray = (JSONArray) parser.parse(new FileReader(path)); //Reads and parses file\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(jsonArray);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void addToDatabase(String name, String value) {\r\n\t\tJSONObject jsonObject = new JSONObject();\r\n\t\tjsonObject.put(&quot;name&quot;, name);\r\n\t\tjsonObject.put(&quot;value&quot;, value);\r\n\t\t\r\n\t\tString date = dateFormat.format(new Date()).toString();\r\n\t\tjsonObject.put(&quot;date&quot;, date);\r\n\t\t\r\n\t\tjsonArray.add(jsonObject);\r\n\t\tSystem.out.println(jsonArray);\r\n\t}\r\n\t\r\n\t//Saves JSONArray to computer\r\n\tpublic static void saveFile() {\r\n\t\ttry {\r\n\t\t\tFileWriter fileWriter = new FileWriter(path);\r\n\t\t\tfileWriter.write(jsonArray.toJSONString());\r\n\t\t\tfileWriter.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**AddToClippyBoard.java**\r\n\r\n```\r\npackage groupid;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ScrollPaneConstants;\r\n\r\npublic class AddToClippyBoard {\r\n\t\t\r\n\tJFrame addFrame = new JFrame();\r\n\t\r\n\tJPanel bottomPanel;\r\n\tJPanel topPanel;\r\n\t\r\n\tJTextArea valueTextArea;\r\n\tJTextField nameTextArea;\r\n\t\r\n\tJScrollPane valueScrollPane;\r\n\t\r\n\tJButton submitButton;\r\n\t\r\n\tString name;\r\n\tString value;\r\n\t\r\n\tAddToClippyBoard() {\r\n\t\t\r\n\t\tif (UserInterface.pasteBool == false) {\r\n\t\t\taddFrame.setSize(400, 600);\r\n\t\t\taddFrame.setTitle(&quot;Add to ClippyBoard&quot;);\r\n\t\t\taddFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE); // Exits out of application\r\n\t\t\taddFrame.setResizable(true);\r\n\t\t\taddFrame.setLayout(new BorderLayout());\r\n\t\t\taddFrame.setVisible(true);\r\n\t\t\t\r\n\t\t\ttopPanel = new JPanel();\r\n\t\t\ttopPanel.setPreferredSize(new Dimension(400,250));\r\n\t\t\ttopPanel.setBackground(new Color(230,230,230));\r\n\t\t\taddFrame.add(topPanel,BorderLayout.CENTER);\r\n\t\t\t\r\n\t\t\tbottomPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING));\r\n\t\t\tbottomPanel.setPreferredSize(new Dimension(400,50));\r\n\t\t\tbottomPanel.setBackground(new Color(220,228,232));\r\n\t\t\taddFrame.add(bottomPanel,BorderLayout.SOUTH);\r\n\t\t\t\r\n\t\t\tnameTextArea = new JTextField();\r\n\t\t\tnameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\r\n\t\t\tnameTextArea.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\t\ttopPanel.add(nameTextArea);\r\n\t\t\t\r\n\t\t\tvalueTextArea = new JTextArea();\r\n\t\t\tvalueTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,180));\r\n\t\t\tvalueTextArea.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,14));\r\n\t\t\tvalueTextArea.setLineWrap(true);\r\n\t\t\tvalueTextArea.setWrapStyleWord(true);\t\t\r\n\t\t\tvalueScrollPane = new JScrollPane(valueTextArea);\r\n\t\t\tvalueScrollPane.createVerticalScrollBar();\r\n\t\t\tvalueScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\tvalueScrollPane.getVerticalScrollBar().setUnitIncrement(20);\r\n\t\t\ttopPanel.add(valueScrollPane);\r\n\t\t\t\r\n\t\t\tsubmitButton = new JButton();\r\n\t\t\tsubmitButton.setPreferredSize(new Dimension(100,40));\r\n\t\t\tsubmitButton.setText(&quot;Submit&quot;);\r\n\t\t\tsubmitButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\r\n\t\t\tbottomPanel.add(submitButton);\r\n\t\t\tsubmitButton.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tif(e.getSource()==submitButton) {\r\n\t\t\t\t\t\tvalue = valueTextArea.getText();\r\n\t\t\t\t\t\tname = nameTextArea.getText();\r\n\t\r\n\t\t\t\t\t\tif (!value.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\tif (name.equals(&quot;&quot;)) {\r\n\t\t\t\t\t\t\t\tname = &quot;Untitled Clippy&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tDatabase.addToDatabase(name,value);\r\n\t\t\t\t\t\t\tUserInterface.mainFrame.removeAll();\r\n\t\t\t\t\t\t\taddFrame.dispose();\r\n\t\t\t\t\t\t\tUserInterface.jFrameRefresh();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\taddFrame.pack();\r\n\t\t\taddFrame.addComponentListener(new ComponentAdapter() {\r\n\t\t\t\tpublic void componentResized(ComponentEvent e) {\r\n\t\t\t\t\tnameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\r\n\t\t\t\t\tvalueScrollPane.setPreferredSize(new Dimension(addFrame.getWidth()-50,topPanel.getHeight()-nameTextArea.getHeight()-20));\r\n\t\t\t\t\taddFrame.repaint();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (UserInterface.pasteBool == true) {\r\n\t\t\tvalue = UserInterface.clipboardString;\r\n\t\t\tname = &quot;Untitled Clippy&quot;;\r\n\t\t\tDatabase.addToDatabase(name,value);\r\n\t\t\tUserInterface.mainFrame.removeAll();\r\n\t\t\tUserInterface.jFrameRefresh();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\nI have a system.out.println() function which will run, so I know that it that line does run. However, whenever it does, it doesn&#39;t seem to change the screen. I&#39;ve tried using validate, and some other weird SwingUtilites methods. Nothing seems to work.\r\n\r\nAny help would be greatly apprciated!","title":"{SOLVED} JFrame&#39;s repaint() functions doesn&#39;t seem to work?","body":"<p>I'm working on a JFrame application to save data with many different panels, labels and buttons. I want it so whenever data is added, it should refresh the page. It doesn't seem to work though?</p>\n<p>Here is the repaint code:</p>\n<pre><code>//Refreshes mainFrame\n    if (startUp == true) {\n    mainFrame.setVisible(true);\n    startUp = false;\n    } else {\n    System.out.println(&quot;repaint&quot;);\n    mainFrame.repaint();\n    }\n</code></pre>\n<p>Here's my full code:</p>\n<p><strong>UserInterface.java</strong></p>\n<pre><code>package groupid;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.Image;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.io.IOException;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ScrollPaneConstants;\nimport javax.swing.SwingUtilities;\n\nimport org.json.simple.JSONObject;\n\n\n\npublic class UserInterface {\n    static Boolean startUp = true;\n    \n    //Sort Options - Different Ways to Short Data\n    static String sortOptions[] = {&quot;A - Z&quot;,&quot;Z - A&quot;,&quot;Recently Created&quot;,&quot;Oldest Created&quot;,&quot;Recently Modified&quot;};\n    \n    //Main Frame Components\n    static ImageIcon icon;\n    static JFrame mainFrame;\n    static JPanel mainPanel;\n    static JScrollPane mainScrollPane;\n    \n    //Main Panel Components\n    static JPanel rightPanel;\n    static JPanel sidePanel;\n    \n    //Right Panel Components\n    static JPanel topPanel;\n    static JPanel searchPanel;\n    static JLabel searchLabel;\n    static JTextField searchBar;\n    static JPanel sortPanel;\n    static JLabel sortByLabel;\n    static JPanel bottomPanel;\n    static JPanel addButtonPanel;\n    static JButton addButton;\n    \n    static JPanel flowPanel;\n    static JPanel titlePanel;\n    static JLabel titleLabel;\n    static JTextArea valueLabel;\n    \n    static String clipboardString;\n    static Boolean pasteBool;\n    \n    public static void main(String[] args) {\n        Database.startUp();\n        UserInterface.jFrameRefresh();\n    }\n    \n    public static void jFrameRefresh(){\n        if (startUp == true) {\n            mainFrame = new JFrame(); // Creates our main frame\n        mainFrame.setSize(1600, 900);\n        mainFrame.setTitle(&quot;ClippyBoards&quot;);\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainFrame.setResizable(true);\n        mainFrame.setFocusable(true);\n        mainFrame.setLayout(new BorderLayout(10,0));\n        mainFrame.addWindowListener(new WindowAdapter() { // Exits out of application\n            @Override\n            public void windowClosing(WindowEvent e) {\n                Database.saveFile();\n                mainFrame.dispose();\n            }\n        });\n        \n        // Ctrl-V Ability\n        mainFrame.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n                if(e.getKeyCode() == KeyEvent.VK_V &amp;&amp; (e.getModifiersEx() &amp; KeyEvent.CTRL_DOWN_MASK) != 0) {\n                    try {\n                        clipboardString = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n                    } catch (UnsupportedFlavorException | IOException e1) {\n                        e1.printStackTrace();\n                    }\n                    pasteBool = true;\n                    new AddToClippyBoard();\n                    pasteBool = false;\n                }\n            }\n        });\n        \n        icon = new ImageIcon(&quot;EggSMP.png&quot;);\n        mainFrame.setIconImage(icon.getImage());\n        mainFrame.getContentPane().setBackground(new Color(100,100,100));\n        }\n        \n        // Right Panel - Panel that holds bottom panel and main panel\n        rightPanel = new JPanel(new BorderLayout(5,5));\n        rightPanel.setBackground(new Color(150,150,150));\n        rightPanel.setPreferredSize(new Dimension(1200,500));\n        mainFrame.add(rightPanel,BorderLayout.CENTER);\n        \n        mainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER,20,20));\n        mainPanel.setBackground(new Color(230,230,230));\n        mainScrollPane = new JScrollPane(mainPanel);\n        mainScrollPane.createVerticalScrollBar();\n        mainScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        mainScrollPane.getVerticalScrollBar().setUnitIncrement(20);\n        rightPanel.add(mainScrollPane); // adds mainPanel, with scroll bar\n        \n        \n        System.out.println(Database.jsonArray.size());\n        // Flow Panels - Shows all saved data\n        loadClippy();\n        \n        if (valueLabel == null) {\n            mainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(400+20)+50));\n        } else {\n            mainPanel.setPreferredSize(new Dimension(1000,Database.jsonArray.size()*(60 + (valueLabel.getLineCount()*18)+20)+50));\n        }\n        \n        // Side Panel - Navigate and organize folders\n        sidePanel = new JPanel(new FlowLayout());\n        sidePanel.setPreferredSize(new Dimension(500,100));\n        sidePanel.setBackground(new Color(220,228,232));\n        mainFrame.add(sidePanel,BorderLayout.WEST);\n        \n        //Top Panel - Search Bar &amp; Sorting Options\n        topPanel = new JPanel(new BorderLayout());\n        topPanel.setPreferredSize(new Dimension(1000,50));\n        topPanel.setBackground(new Color(230,230,230));\n        rightPanel.add(topPanel,BorderLayout.NORTH);\n        \n        //Search Panel - Holds Search Bar\n        searchPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING,5,12));\n        searchPanel.setPreferredSize(new Dimension(500,50));\n        searchPanel.setBackground(new Color(230,230,230));\n        topPanel.add(searchPanel,BorderLayout.EAST);\n        \n        //Search Label\n        searchLabel = new JLabel();\n        searchLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        searchLabel.setText(&quot;Search:&quot;);\n        searchPanel.add(searchLabel);\n        \n        //Search Bar - Search for Items within\n        searchBar = new JTextField();\n        searchBar.setPreferredSize(new Dimension(250,30));\n        searchBar.setBackground(new Color(250,250,250));\n        searchBar.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\n        searchPanel.add(searchBar);\n        \n        //Sort Panel - Holds Sort Filter\n        sortPanel = new JPanel(new FlowLayout(FlowLayout.LEADING,5,12));\n        sortPanel.setPreferredSize(new Dimension(600,50));\n        sortPanel.setBackground(new Color(230,230,230));\n        topPanel.add(sortPanel,BorderLayout.WEST);\n        \n        //Sort Label\n        icon = new ImageIcon(new ImageIcon(&quot;SortBlack.png&quot;).getImage().getScaledInstance(30, 30, Image.SCALE_DEFAULT));\n        sortByLabel = new JLabel();\n        sortByLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        sortByLabel.setText(&quot;Sort By:&quot;);\n        sortByLabel.setIcon(icon);\n        sortPanel.add(sortByLabel);\n        \n        //sort Filter - Sorts data by selected filter\n        JComboBox&lt;String&gt; sortBy = new JComboBox&lt;String&gt;(sortOptions);\n        sortBy.setPreferredSize(new Dimension(200,30));\n        sortBy.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\n        sortPanel.add(sortBy);\n        \n        // Bottom Panel - Undecided\n        bottomPanel = new JPanel(new BorderLayout());\n        bottomPanel.setPreferredSize(new Dimension(100,50));\n        bottomPanel.setBackground(new Color(220,228,232));\n        rightPanel.add(bottomPanel,BorderLayout.SOUTH);\n        \n        \n        // Button Panel - Holds Add Button\n        addButtonPanel = new JPanel();\n        addButtonPanel.setPreferredSize(new Dimension(50,50));\n        addButtonPanel.setBackground(new Color(220,228,232));\n        bottomPanel.add(addButtonPanel,BorderLayout.EAST);\n        \n        // Add Button - Will open window to import new info\n        addButton = new JButton(&quot;+&quot;);\n        addButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n        addButton.setAlignmentX(JPanel.CENTER_ALIGNMENT);\n        addButton.setAlignmentY(JPanel.CENTER_ALIGNMENT);\n        addButtonPanel.add(addButton);\n        addButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n                if(e.getSource()==addButton) {\n                    pasteBool = false;\n                    new AddToClippyBoard(); \n                }\n            }\n            });\n            \n                //Refreshes mainFrame\n        if (startUp == true) {\n            mainFrame.setVisible(true);\n            startUp = false;\n        } else {\n            System.out.println(&quot;repaint&quot;);\n            mainFrame.repaint();\n        }\n    }\n    \n    public static void loadClippy() {\n        for (int i = 0; i &lt; Database.jsonArray.size(); i++) {\n            JSONObject tempObject = (JSONObject) Database.jsonArray.get(i);;\n            \n            flowPanel = new JPanel(new BorderLayout());\n            flowPanel.setPreferredSize(new Dimension(1000,400));\n            flowPanel.setBackground(new Color(220,220,220));\n            mainPanel.add(flowPanel);\n            \n            titlePanel = new JPanel(new BorderLayout());\n            titlePanel.setPreferredSize(new Dimension(1000,50));\n            titlePanel.setBackground(new Color(220,220,220));\n            flowPanel.add(titlePanel,BorderLayout.NORTH);\n            \n            titleLabel = new JLabel();\n            titleLabel.setFont(new Font(&quot;Arial&quot;,Font.BOLD,25));\n            titleLabel.setText(tempObject.get(&quot;name&quot;).toString());\n            titlePanel.add(titleLabel);\n            \n            valueLabel = new JTextArea();\n            valueLabel.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n            valueLabel.setBackground(new Color(220,220,220));\n            valueLabel.setLineWrap(true);\n            valueLabel.setWrapStyleWord(true);\n            valueLabel.setEditable(false);\n            valueLabel.setText(tempObject.get(&quot;value&quot;).toString());\n            \n            flowPanel.setPreferredSize(new Dimension(1000,60 + (valueLabel.getLineCount()*18)));\n            flowPanel.add(valueLabel);\n        }\n    }\n    \n    public static void dispose() {\n        mainFrame.dispose();\n    }\n    \n}\n</code></pre>\n<p><strong>Database.java</strong></p>\n<pre><code>package groupid;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\n\n\npublic class Database {\n    \n    static String path = &quot;C:/Users/Edison Cai/Downloads/temp.json&quot;; //Path to saved file\n    static JSONArray jsonArray = new JSONArray(); // Creates our JSONArray\n    \n    static SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    \n    // Imports or creates JSONArray to be used in the program\n    public static void startUp() {\n        JSONParser parser = new JSONParser();\n        \n        if (new File(path).exists()) {\n            try {\n                jsonArray = (JSONArray) parser.parse(new FileReader(path)); //Reads and parses file\n                \n                System.out.println(jsonArray);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    \n    public static void addToDatabase(String name, String value) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;name&quot;, name);\n        jsonObject.put(&quot;value&quot;, value);\n        \n        String date = dateFormat.format(new Date()).toString();\n        jsonObject.put(&quot;date&quot;, date);\n        \n        jsonArray.add(jsonObject);\n        System.out.println(jsonArray);\n    }\n    \n    //Saves JSONArray to computer\n    public static void saveFile() {\n        try {\n            FileWriter fileWriter = new FileWriter(path);\n            fileWriter.write(jsonArray.toJSONString());\n            fileWriter.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p><strong>AddToClippyBoard.java</strong></p>\n<pre><code>package groupid;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ScrollPaneConstants;\n\npublic class AddToClippyBoard {\n        \n    JFrame addFrame = new JFrame();\n    \n    JPanel bottomPanel;\n    JPanel topPanel;\n    \n    JTextArea valueTextArea;\n    JTextField nameTextArea;\n    \n    JScrollPane valueScrollPane;\n    \n    JButton submitButton;\n    \n    String name;\n    String value;\n    \n    AddToClippyBoard() {\n        \n        if (UserInterface.pasteBool == false) {\n            addFrame.setSize(400, 600);\n            addFrame.setTitle(&quot;Add to ClippyBoard&quot;);\n            addFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE); // Exits out of application\n            addFrame.setResizable(true);\n            addFrame.setLayout(new BorderLayout());\n            addFrame.setVisible(true);\n            \n            topPanel = new JPanel();\n            topPanel.setPreferredSize(new Dimension(400,250));\n            topPanel.setBackground(new Color(230,230,230));\n            addFrame.add(topPanel,BorderLayout.CENTER);\n            \n            bottomPanel = new JPanel(new FlowLayout(FlowLayout.TRAILING));\n            bottomPanel.setPreferredSize(new Dimension(400,50));\n            bottomPanel.setBackground(new Color(220,228,232));\n            addFrame.add(bottomPanel,BorderLayout.SOUTH);\n            \n            nameTextArea = new JTextField();\n            nameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\n            nameTextArea.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n            topPanel.add(nameTextArea);\n            \n            valueTextArea = new JTextArea();\n            valueTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,180));\n            valueTextArea.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,14));\n            valueTextArea.setLineWrap(true);\n            valueTextArea.setWrapStyleWord(true);       \n            valueScrollPane = new JScrollPane(valueTextArea);\n            valueScrollPane.createVerticalScrollBar();\n            valueScrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n            valueScrollPane.getVerticalScrollBar().setUnitIncrement(20);\n            topPanel.add(valueScrollPane);\n            \n            submitButton = new JButton();\n            submitButton.setPreferredSize(new Dimension(100,40));\n            submitButton.setText(&quot;Submit&quot;);\n            submitButton.setFont(new Font(&quot;Arial&quot;,Font.BOLD,20));\n            bottomPanel.add(submitButton);\n            submitButton.addActionListener(new ActionListener() {\n                \n                public void actionPerformed(ActionEvent e) {\n                    if(e.getSource()==submitButton) {\n                        value = valueTextArea.getText();\n                        name = nameTextArea.getText();\n    \n                        if (!value.equals(&quot;&quot;)) {\n                            if (name.equals(&quot;&quot;)) {\n                                name = &quot;Untitled Clippy&quot;;\n                            }\n                            Database.addToDatabase(name,value);\n                            UserInterface.mainFrame.removeAll();\n                            addFrame.dispose();\n                            UserInterface.jFrameRefresh();\n                        } else {\n                            \n                        }\n                    }\n                }\n            });\n            \n            addFrame.pack();\n            addFrame.addComponentListener(new ComponentAdapter() {\n                public void componentResized(ComponentEvent e) {\n                    nameTextArea.setPreferredSize(new Dimension(addFrame.getWidth()-50,40));\n                    valueScrollPane.setPreferredSize(new Dimension(addFrame.getWidth()-50,topPanel.getHeight()-nameTextArea.getHeight()-20));\n                    addFrame.repaint();\n                }\n            });\n        } else if (UserInterface.pasteBool == true) {\n            value = UserInterface.clipboardString;\n            name = &quot;Untitled Clippy&quot;;\n            Database.addToDatabase(name,value);\n            UserInterface.mainFrame.removeAll();\n            UserInterface.jFrameRefresh();\n        }\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n<p>I have a system.out.println() function which will run, so I know that it that line does run. However, whenever it does, it doesn't seem to change the screen. I've tried using validate, and some other weird SwingUtilites methods. Nothing seems to work.</p>\n<p>Any help would be greatly apprciated!</p>\n"},{"tags":["java","spring-boot","maven","junit5","jacoco"],"comments":[{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692714578,"post_id":76954043,"comment_id":135660239,"body_markdown":"Which version of java are you using?","body":"Which version of java are you using?"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1692715576,"post_id":76954043,"comment_id":135660469,"body_markdown":"I am using java 11 in Intellij and Java_home is set to java 8.","body":"I am using java 11 in Intellij and Java_home is set to java 8."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692715858,"post_id":76954043,"comment_id":135660528,"body_markdown":"And maven version?","body":"And maven version?"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1692717926,"post_id":76954043,"comment_id":135661051,"body_markdown":"Maven 3.6.3 in IntelliJ","body":"Maven 3.6.3 in IntelliJ"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692719596,"post_id":76954043,"comment_id":135661448,"body_markdown":"First post the full pom file and also how you are calling Maven... apart from that the configuration for that project looks strange... also why using an old Maven version?  Also a lot of the given plugins are old...","body":"First post the full pom file and also how you are calling Maven... apart from that the configuration for that project looks strange... also why using an old Maven version?  Also a lot of the given plugins are old..."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692906711,"post_id":76954043,"comment_id":135691871,"body_markdown":"@Jeet Have you tried it with the below code?","body":"@Jeet Have you tried it with the below code?"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692718907,"creation_date":1692718907,"answer_id":76954924,"question_id":76954043,"body_markdown":"You can try by updating your existing plugin in `pom.xml` with the below code and it is working fine in my local with java 1.8 and maven version higher than 3.0 in a spring boot application.\r\n\r\n**Plugin for jacoco report:**\r\n\r\n                &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.8.6&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"How to solve Surefire &quot;tests are skipped&quot; and jacoco &quot;Skipping JaCoCo execution due to missing execution data file&quot;?","body":"<p>You can try by updating your existing plugin in <code>pom.xml</code> with the below code and it is working fine in my local with java 1.8 and maven version higher than 3.0 in a spring boot application.</p>\n<p><strong>Plugin for jacoco report:</strong></p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692718907,"creation_date":1692712652,"question_id":76954043,"body_markdown":"I wan to generate jacoco report but unfortunately maven is not running the tests and the report is not generated. when running mvn test the console shows the following -\r\n\r\n\r\n```\r\n--- jacoco-maven-plugin:0.8.8:prepare-agent (prepare-agent) @ xx ---\r\n[INFO] argLine set to -javaagent:C:\\\\xxx\\\\xx\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.8\\\\org.jacoco.agent-0.8.8-runtime.jar=destfile=C:\\\\xx\\\\xx\\\\git\\\\xx-xx\\\\target\\\\jacoco.exec\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ xx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 16 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ xx ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 33 source files to C:\\xx\\xx\\git\\xx-xx\\target\\classes\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ xx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 6 resources\r\n[INFO] Copying 20 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xx ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 16 source files to C:\\xx\\xx\\git\\xx-xx\\target\\test-classes\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xx ---\r\n[INFO] Tests are skipped.\r\n[INFO] \r\n[INFO] --- jacoco-maven-plugin:0.8.8:report (report) @ xx ---\r\n[INFO] Skipping JaCoCo execution due to missing execution data file.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  11.570 s\r\n[INFO] Finished at: 2023-08-22T15:42:57+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\nI did a lot of adjustments in the pom.xml but still no luck. I have commented a few dependencies and tried to execute the same. I am not sure what exactly is going wrong here. The commented dependencies are alredy tried. My pom.xml looks like -\r\n\r\n\r\n```\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--&lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0.1746&lt;/version&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;!--&lt;version&gt;3.0.0-M5&lt;/version&gt;--&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;/**/*Test&lt;/include&gt;\r\n                       &lt;!-- &lt;include&gt; **/*test/java/*&lt;/include&gt; --&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-test&lt;/id&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;false&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;!--&lt;configuration&gt;\r\n                   &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt;\r\n                    &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\r\n                &lt;/configuration&gt;--&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n        &lt;!--        &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*test/java/*&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/*test/resources/*&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;--&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;!-- &lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;report&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- &lt;execution&gt;\r\n                         &lt;id&gt;default-check&lt;/id&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;check&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                         &lt;configuration&gt;\r\n                             &lt;rules&gt;\r\n                                 &lt;rule&gt;\r\n                                     &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                     &lt;limits&gt;\r\n                                         &lt;limit&gt;\r\n                                             &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\r\n                                             &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                             &lt;minimum&gt;0.60&lt;/minimum&gt;\r\n                                         &lt;/limit&gt;\r\n                                     &lt;/limits&gt;\r\n                                 &lt;/rule&gt;\r\n                             &lt;/rules&gt;\r\n                         &lt;/configuration&gt;\r\n                    &lt;/execution&gt;--&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n```\r\nMost of the solutions that are provided in the stackoverflow are already tried and tested but so far no luck.","title":"How to solve Surefire &quot;tests are skipped&quot; and jacoco &quot;Skipping JaCoCo execution due to missing execution data file&quot;?","body":"<p>I wan to generate jacoco report but unfortunately maven is not running the tests and the report is not generated. when running mvn test the console shows the following -</p>\n<pre><code>--- jacoco-maven-plugin:0.8.8:prepare-agent (prepare-agent) @ xx ---\n[INFO] argLine set to -javaagent:C:\\\\xxx\\\\xx\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.8\\\\org.jacoco.agent-0.8.8-runtime.jar=destfile=C:\\\\xx\\\\xx\\\\git\\\\xx-xx\\\\target\\\\jacoco.exec\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ xx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 16 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ xx ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 33 source files to C:\\xx\\xx\\git\\xx-xx\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ xx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 6 resources\n[INFO] Copying 20 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xx ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 16 source files to C:\\xx\\xx\\git\\xx-xx\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xx ---\n[INFO] Tests are skipped.\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.8.8:report (report) @ xx ---\n[INFO] Skipping JaCoCo execution due to missing execution data file.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  11.570 s\n[INFO] Finished at: 2023-08-22T15:42:57+02:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n<p>I did a lot of adjustments in the pom.xml but still no luck. I have commented a few dependencies and tried to execute the same. I am not sure what exactly is going wrong here. The commented dependencies are alredy tried. My pom.xml looks like -</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0.1746&lt;/version&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;!--&lt;version&gt;3.0.0-M5&lt;/version&gt;--&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;/**/*Test&lt;/include&gt;\n                       &lt;!-- &lt;include&gt; **/*test/java/*&lt;/include&gt; --&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-test&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;!--&lt;configuration&gt;\n                   &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;-Xmx1024M ${argLine}&lt;/argLine&gt;\n                    &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\n                &lt;/configuration&gt;--&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n        &lt;!--        &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*test/java/*&lt;/exclude&gt;\n                        &lt;exclude&gt;**/*test/resources/*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;--&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;!-- &lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;report&lt;/goal&gt;\n                         &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- &lt;execution&gt;\n                         &lt;id&gt;default-check&lt;/id&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;check&lt;/goal&gt;\n                         &lt;/goals&gt;\n                         &lt;configuration&gt;\n                             &lt;rules&gt;\n                                 &lt;rule&gt;\n                                     &lt;element&gt;BUNDLE&lt;/element&gt;\n                                     &lt;limits&gt;\n                                         &lt;limit&gt;\n                                             &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\n                                             &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                             &lt;minimum&gt;0.60&lt;/minimum&gt;\n                                         &lt;/limit&gt;\n                                     &lt;/limits&gt;\n                                 &lt;/rule&gt;\n                             &lt;/rules&gt;\n                         &lt;/configuration&gt;\n                    &lt;/execution&gt;--&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n</code></pre>\n<p>Most of the solutions that are provided in the stackoverflow are already tried and tested but so far no luck.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":4,"creation_date":1431622507,"post_id":30242917,"comment_id":48586969,"body_markdown":"JDK 1.6 is no longer supported. Don&#39;t download it.","body":"JDK 1.6 is no longer supported. Don&#39;t download it."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1431622730,"post_id":30242917,"comment_id":48587113,"body_markdown":"I recommend you using the latest stable version of both Eclipse (Luna) and Java (8).","body":"I recommend you using the latest stable version of both Eclipse (Luna) and Java (8)."}],"answers":[{"comments":[{"owner":{"account_id":5981500,"reputation":1,"user_id":4700387,"display_name":"memo"},"score":0,"creation_date":1431875450,"post_id":30243065,"comment_id":48673743,"body_markdown":"IntelliJ IDEA is Excellent tool . It supports wide variety of differnet languages....so all of you can be try.","body":"IntelliJ IDEA is Excellent tool . It supports wide variety of differnet languages....so all of you can be try."}],"tags":[],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431623157,"creation_date":1431622810,"answer_id":30243065,"question_id":30242917,"body_markdown":"Just go with the latest JDK 1.8 and Eclipse Luna. JDK 1.6 is no longer supported, and 1.7 is pretty much dead as well. Java 8 is far more modern anyway with its new features (lambda expressions, JavaFX 8, new Date framework, etc) and you&#39;ll be more competent as a developer knowing those features.\r\n\r\nAlso, if you are interested in Apache Tomcat you can also check out [IntelliJ IDEA][1] instead of Eclipse. I understand it is much easier to do servlet development on. \r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/","title":"Which versions of Eclipse is compatible with which versions of java?","body":"<p>Just go with the latest JDK 1.8 and Eclipse Luna. JDK 1.6 is no longer supported, and 1.7 is pretty much dead as well. Java 8 is far more modern anyway with its new features (lambda expressions, JavaFX 8, new Date framework, etc) and you'll be more competent as a developer knowing those features.</p>\n\n<p>Also, if you are interested in Apache Tomcat you can also check out <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow\">IntelliJ IDEA</a> instead of Eclipse. I understand it is much easier to do servlet development on. </p>\n"}],"owner":{"account_id":5981500,"reputation":1,"user_id":4700387,"display_name":"memo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692718237,"creation_date":1431622386,"question_id":30242917,"body_markdown":"Basically I want to do java programming on my windows system having Windows SP3. Which version of java and Eclipse do I need to download?\r\n\r\n\r\nDoes JDK 1.6 (universal supporter) support all Eclipse and Apache tomcat???\r\n","title":"Which versions of Eclipse is compatible with which versions of java?","body":"<p>Basically I want to do java programming on my windows system having Windows SP3. Which version of java and Eclipse do I need to download?</p>\n\n<p>Does JDK 1.6 (universal supporter) support all Eclipse and Apache tomcat???</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692716997,"creation_date":1692716997,"answer_id":76954679,"question_id":76952218,"body_markdown":"You&#39;ll want to look at JPA tutorials on how bidirectional OneToMany and ManyToOne mappings work to help you out, but you should probably be using &#39;mappedby&#39; in your Rule-&gt;RuleUnitTest mapping:\r\n\r\n      @OneToMany(mappedBy=&quot;rule&quot;, fetch = FetchType.EAGER)\r\n      @Fetch(value = FetchMode.SUBSELECT)\r\n      private List&lt;RuleUnitTest&gt; unitTests;\r\n\r\nAlso note that when deserializing JSON data, you will need to ensure that both sides of this relationship are set - or more importantly, that every RuleUnitTest.rule reference is properly set, since that is the relationship that owns (and so controls) the foreign key column value.","title":"Java hibernate saving entity and child entity together","body":"<p>You'll want to look at JPA tutorials on how bidirectional OneToMany and ManyToOne mappings work to help you out, but you should probably be using 'mappedby' in your Rule-&gt;RuleUnitTest mapping:</p>\n<pre><code>  @OneToMany(mappedBy=&quot;rule&quot;, fetch = FetchType.EAGER)\n  @Fetch(value = FetchMode.SUBSELECT)\n  private List&lt;RuleUnitTest&gt; unitTests;\n</code></pre>\n<p>Also note that when deserializing JSON data, you will need to ensure that both sides of this relationship are set - or more importantly, that every RuleUnitTest.rule reference is properly set, since that is the relationship that owns (and so controls) the foreign key column value.</p>\n"}],"owner":{"account_id":13718869,"reputation":72,"user_id":9899366,"display_name":"liron29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76954679,"answer_count":1,"score":0,"last_activity_date":1692716997,"creation_date":1692698866,"question_id":76952218,"body_markdown":"I have a rule entity and a tests entity (related one-to-many), when creating a rule a ruleId is generated and i want to use the ruleId for the tests.\r\nEntities:\r\n\r\n```\r\npackage io.avalor.webserver.rule;\r\n\r\nimport com.vladmihalcea.hibernate.type.array.EnumArrayType;\r\nimport com.vladmihalcea.hibernate.type.array.ListArrayType;\r\nimport com.vladmihalcea.hibernate.type.json.JsonBinaryType;\r\nimport io.avalor.webserver.account.Account;\r\nimport io.avalor.webserver.customquery.CustomQuery;\r\nimport io.avalor.webserver.persistency.AbstractEntity;\r\nimport io.avalor.webserver.rule.ruletest.RuleTest;\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.*;\r\n\r\nimport javax.persistence.*;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table\r\n@SQLDelete(sql = &quot;UPDATE rule SET deleted = true WHERE rule_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n@TypeDef(name = &quot;list-array&quot;, typeClass = EnumArrayType.class, parameters = {@org.hibernate.annotations.Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)})\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\r\n@TypeDef(name = &quot;list&quot;, typeClass = ListArrayType.class)\r\n@Getter\r\n@Setter\r\npublic class Rule extends AbstractEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;rule_id&quot;)\r\n    private String id;\r\n\r\n    @Column\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    @JoinTable(\r\n            name = &quot;rule_unit_test&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;rule_id&quot;, updatable = false)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;test_id&quot;, updatable = false)}\r\n    )\r\n    private List&lt;RuleUnitTest&gt; unitTests;\r\n}\r\n\r\n```\r\n```\r\npackage io.avalor.webserver.rule.unittest;\r\n\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport io.avalor.webserver.persistency.AbstractEntity;\r\nimport io.avalor.webserver.rule.Rule;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.*;\r\n\r\nimport javax.persistence.*;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table\r\n@Where(clause = &quot;deleted=false&quot;)\r\n@SQLDelete(sql = &quot;UPDATE rule_unit_test SET deleted = true WHERE test_id=?&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class RuleUnitTest {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;test_id&quot;)\r\n    private String id;\r\n\r\n    @NotNull\r\n    @JoinColumn(name = &quot;rule_id&quot;, updatable = false)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Rule rule;\r\n\r\n    @Column\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotEmpty\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(name = &quot;test_data&quot;)\r\n    private List&lt;JsonNode&gt; testData;\r\n}\r\n\r\n\r\n```\r\n\r\nI have a rule service with the following methods:\r\n```\r\n  @Transactional\r\n    public RuleDto create(RuleDto ruleDto) {\r\n        Rule rule = ruleMapper.dtoToEntity(ruleDto);\r\n        Rule savedRule = ruleRepository.save(rule);\r\n\r\n        savedRule = saveUnitTestsIfExists(savedRule,ruleDto.getUnitTests());\r\n        // ruleRepository.save(savedRule);\r\n        return ruleMapper.entityToDto(savedRule);\r\n    }\r\n\r\n    private Rule saveUnitTestsIfExists(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\r\n        if (CollectionUtils.isNotEmpty(unitTestsDto)) {\r\n            return unitTestService.create(rule,unitTestsDto);\r\n        }\r\n        return rule;\r\n    }\r\n```\r\n\r\nAnd the following code in unittestService:\r\n```\r\n   public Rule create(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\r\n        List&lt;RuleUnitTestDto&gt; limitedRuleUnitTestDtos = unitTestsDto;\r\n\r\n        if (unitTestsDto.size() &gt; MAX_TESTS_PER_RULE) {\r\n            limitedRuleUnitTestDtos = unitTestsDto.subList(0, MAX_TESTS_PER_RULE);\r\n        }\r\n        List&lt;RuleUnitTest&gt; unitTests = ruleUnitTestMapper.buildBuildUnitTestFromUnitTest(rule, limitedRuleUnitTestDtos);\r\n\r\n\r\n        rule.setUnitTests(unitTestRepository.saveAll(unitTests));\r\n        return rule;\r\n    }\r\n\r\n```\r\n\r\nMapper:\r\n\r\n```\r\npackage io.avalor.webserver.rule;\r\n\r\n\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\r\nimport io.avalor.webserver.rule.unittest.RuleUnitTestDto;\r\nimport org.mapstruct.*;\r\n\r\nimport java.util.*;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic abstract class RuleMapper {\r\n\r\n\r\n    @Mapping(source = &quot;account.id&quot;, target = &quot;accountId&quot;)\r\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\r\n    public abstract RuleDto entityToDto(Rule rule);\r\n\r\n    @Mapping(target = &quot;account.id&quot;, source = &quot;accountId&quot;)\r\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\r\n    public abstract Rule dtoToEntity(RuleDto ruleDto);\r\n\r\n    @AfterMapping\r\n    public void setRuleProperties(@MappingTarget Rule rule, RuleDto ruleDto) {\r\n        if (rule.getId() != null) {\r\n            rule.setUnitTests(buildBuildUnitTestFromUnitTest(rule, ruleDto.getUnitTests()));\r\n        } else {\r\n            rule.setUnitTests(null);\r\n        }\r\n    }\r\n\r\n    @AfterMapping\r\n    public RuleDto enrichDto(@MappingTarget RuleDto ruleDto, Rule rule) {\r\n        if (rule.getUnitTests() != null) {\r\n            ruleDto.setUnitTests(rule.getUnitTests().stream().map(unitTest -&gt; {\r\n                RuleUnitTestDto unitTestDto = new RuleUnitTestDto();\r\n                unitTestDto.setId(unitTest.getId());\r\n                unitTestDto.setName(unitTest.getName());\r\n                unitTestDto.setTestData(unitTest.getTestData());\r\n                unitTestDto.setRuleId(rule.getId());\r\n                return unitTestDto;\r\n            }).toList());\r\n        }\r\n        return ruleDto;\r\n    }\r\n\r\n    public List&lt;RuleUnitTest&gt; buildBuildUnitTestFromUnitTest(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestDtos) {\r\n        if (unitTestDtos == null)\r\n            return Collections.emptyList();\r\n        List&lt;RuleUnitTest&gt; unitTestsList = new ArrayList&lt;&gt;();\r\n\r\n        for (RuleUnitTestDto unitTestDto : unitTestDtos) {\r\n            unitTestsList.add(new RuleUnitTest(null, rule, unitTestDto.getName(), unitTestDto.getTestData()));\r\n        }\r\n        return unitTestsList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to send the following body request:\r\n```\r\n{\r\n    &quot;name&quot;: &quot;rule1&quot;,\r\n    &quot;unitTests&quot;:[{\r\n        &quot;name&quot;:&quot;blah blah&quot;,\r\n        &quot;testData&quot;:[{&quot;a&quot;:&quot;b&quot;}]\r\n    }]\r\n}\r\n```\r\n\r\nWhen trying to save a rule and a unit test i get the following error (saying name and testData is null, which isn&#39;t true when debugging):\r\n\r\n```\r\n ERROR: null value in column &quot;name&quot; of relation &quot;rule_unit_test&quot; violates not-null constraint\r\n  Detail: Failing row contains (p0n9vr, 07rplw, null, null).\r\n```\r\n\r\nI really don&#39;t know why it happens, any ideas?","title":"Java hibernate saving entity and child entity together","body":"<p>I have a rule entity and a tests entity (related one-to-many), when creating a rule a ruleId is generated and i want to use the ruleId for the tests.\nEntities:</p>\n<pre><code>package io.avalor.webserver.rule;\n\nimport com.vladmihalcea.hibernate.type.array.EnumArrayType;\nimport com.vladmihalcea.hibernate.type.array.ListArrayType;\nimport com.vladmihalcea.hibernate.type.json.JsonBinaryType;\nimport io.avalor.webserver.account.Account;\nimport io.avalor.webserver.customquery.CustomQuery;\nimport io.avalor.webserver.persistency.AbstractEntity;\nimport io.avalor.webserver.rule.ruletest.RuleTest;\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.*;\n\nimport javax.persistence.*;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\nimport java.util.Set;\n\n@Entity\n@Table\n@SQLDelete(sql = &quot;UPDATE rule SET deleted = true WHERE rule_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n@TypeDef(name = &quot;list-array&quot;, typeClass = EnumArrayType.class, parameters = {@org.hibernate.annotations.Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)})\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\n@TypeDef(name = &quot;list&quot;, typeClass = ListArrayType.class)\n@Getter\n@Setter\npublic class Rule extends AbstractEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;rule_id&quot;)\n    private String id;\n\n    @Column\n    @NotBlank\n    private String name;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JoinTable(\n            name = &quot;rule_unit_test&quot;,\n            joinColumns = {@JoinColumn(name = &quot;rule_id&quot;, updatable = false)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;test_id&quot;, updatable = false)}\n    )\n    private List&lt;RuleUnitTest&gt; unitTests;\n}\n\n</code></pre>\n<pre><code>package io.avalor.webserver.rule.unittest;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport io.avalor.webserver.persistency.AbstractEntity;\nimport io.avalor.webserver.rule.Rule;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.annotations.*;\n\nimport javax.persistence.*;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\n\n@Entity\n@Table\n@Where(clause = &quot;deleted=false&quot;)\n@SQLDelete(sql = &quot;UPDATE rule_unit_test SET deleted = true WHERE test_id=?&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RuleUnitTest {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;test_id&quot;)\n    private String id;\n\n    @NotNull\n    @JoinColumn(name = &quot;rule_id&quot;, updatable = false)\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Rule rule;\n\n    @Column\n    @NotBlank\n    private String name;\n\n    @NotEmpty\n    @Type(type = &quot;json&quot;)\n    @Column(name = &quot;test_data&quot;)\n    private List&lt;JsonNode&gt; testData;\n}\n\n\n</code></pre>\n<p>I have a rule service with the following methods:</p>\n<pre><code>  @Transactional\n    public RuleDto create(RuleDto ruleDto) {\n        Rule rule = ruleMapper.dtoToEntity(ruleDto);\n        Rule savedRule = ruleRepository.save(rule);\n\n        savedRule = saveUnitTestsIfExists(savedRule,ruleDto.getUnitTests());\n        // ruleRepository.save(savedRule);\n        return ruleMapper.entityToDto(savedRule);\n    }\n\n    private Rule saveUnitTestsIfExists(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\n        if (CollectionUtils.isNotEmpty(unitTestsDto)) {\n            return unitTestService.create(rule,unitTestsDto);\n        }\n        return rule;\n    }\n</code></pre>\n<p>And the following code in unittestService:</p>\n<pre><code>   public Rule create(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestsDto) {\n        List&lt;RuleUnitTestDto&gt; limitedRuleUnitTestDtos = unitTestsDto;\n\n        if (unitTestsDto.size() &gt; MAX_TESTS_PER_RULE) {\n            limitedRuleUnitTestDtos = unitTestsDto.subList(0, MAX_TESTS_PER_RULE);\n        }\n        List&lt;RuleUnitTest&gt; unitTests = ruleUnitTestMapper.buildBuildUnitTestFromUnitTest(rule, limitedRuleUnitTestDtos);\n\n\n        rule.setUnitTests(unitTestRepository.saveAll(unitTests));\n        return rule;\n    }\n\n</code></pre>\n<p>Mapper:</p>\n<pre><code>package io.avalor.webserver.rule;\n\n\nimport io.avalor.webserver.rule.unittest.RuleUnitTest;\nimport io.avalor.webserver.rule.unittest.RuleUnitTestDto;\nimport org.mapstruct.*;\n\nimport java.util.*;\n\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic abstract class RuleMapper {\n\n\n    @Mapping(source = &quot;account.id&quot;, target = &quot;accountId&quot;)\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\n    public abstract RuleDto entityToDto(Rule rule);\n\n    @Mapping(target = &quot;account.id&quot;, source = &quot;accountId&quot;)\n    @Mapping(target = &quot;dataSourceTypes&quot;, ignore = true)\n    public abstract Rule dtoToEntity(RuleDto ruleDto);\n\n    @AfterMapping\n    public void setRuleProperties(@MappingTarget Rule rule, RuleDto ruleDto) {\n        if (rule.getId() != null) {\n            rule.setUnitTests(buildBuildUnitTestFromUnitTest(rule, ruleDto.getUnitTests()));\n        } else {\n            rule.setUnitTests(null);\n        }\n    }\n\n    @AfterMapping\n    public RuleDto enrichDto(@MappingTarget RuleDto ruleDto, Rule rule) {\n        if (rule.getUnitTests() != null) {\n            ruleDto.setUnitTests(rule.getUnitTests().stream().map(unitTest -&gt; {\n                RuleUnitTestDto unitTestDto = new RuleUnitTestDto();\n                unitTestDto.setId(unitTest.getId());\n                unitTestDto.setName(unitTest.getName());\n                unitTestDto.setTestData(unitTest.getTestData());\n                unitTestDto.setRuleId(rule.getId());\n                return unitTestDto;\n            }).toList());\n        }\n        return ruleDto;\n    }\n\n    public List&lt;RuleUnitTest&gt; buildBuildUnitTestFromUnitTest(Rule rule, List&lt;RuleUnitTestDto&gt; unitTestDtos) {\n        if (unitTestDtos == null)\n            return Collections.emptyList();\n        List&lt;RuleUnitTest&gt; unitTestsList = new ArrayList&lt;&gt;();\n\n        for (RuleUnitTestDto unitTestDto : unitTestDtos) {\n            unitTestsList.add(new RuleUnitTest(null, rule, unitTestDto.getName(), unitTestDto.getTestData()));\n        }\n        return unitTestsList;\n    }\n}\n\n</code></pre>\n<p>I'm trying to send the following body request:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;rule1&quot;,\n    &quot;unitTests&quot;:[{\n        &quot;name&quot;:&quot;blah blah&quot;,\n        &quot;testData&quot;:[{&quot;a&quot;:&quot;b&quot;}]\n    }]\n}\n</code></pre>\n<p>When trying to save a rule and a unit test i get the following error (saying name and testData is null, which isn't true when debugging):</p>\n<pre><code> ERROR: null value in column &quot;name&quot; of relation &quot;rule_unit_test&quot; violates not-null constraint\n  Detail: Failing row contains (p0n9vr, 07rplw, null, null).\n</code></pre>\n<p>I really don't know why it happens, any ideas?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"score":0,"creation_date":1691816351,"post_id":76886128,"comment_id":135545883,"body_markdown":"Thanks for the reply, i updated my question with having spark local as master with 4  threads(local[4]) with array it divides fine, but with csv file the tasks are not getting divided is there any config to change the size setting? can u please revisit my updated question with csv example","body":"Thanks for the reply, i updated my question with having spark local as master with 4  threads(local[4]) with array it divides fine, but with csv file the tasks are not getting divided is there any config to change the size setting? can u please revisit my updated question with csv example"},{"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"score":0,"creation_date":1691991361,"post_id":76886128,"comment_id":135560147,"body_markdown":"Hi Santhosh, I&#39;ve removed the various tags that seemingly had nothing to do with either the original question (UDF on Databricks with RDD over parallelized Seq/List) nor your last two changes.  I suggest you go through the various existing documentation and stack entries that explain how partitions work as it&#39;s clear you are missing the basics right now.  Your current question change isn&#39;t clear either, but it&#39;s likely you have a single csv file, which means, by default a single partition and a single thread.  As you are seemingly very new at Spark, I&#39;d also suggest using Datasets not RDD.","body":"Hi Santhosh, I&#39;ve removed the various tags that seemingly had nothing to do with either the original question (UDF on Databricks with RDD over parallelized Seq/List) nor your last two changes.  I suggest you go through the various existing documentation and stack entries that explain how partitions work as it&#39;s clear you are missing the basics right now.  Your current question change isn&#39;t clear either, but it&#39;s likely you have a single csv file, which means, by default a single partition and a single thread.  As you are seemingly very new at Spark, I&#39;d also suggest using Datasets not RDD."}],"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691780311,"creation_date":1691780311,"answer_id":76886128,"question_id":76885428,"body_markdown":"Your original code was probably enough to hint at whats happening.\r\n\r\n```java\r\npublic static void m1(int i){\r\nSystem.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\r\n}\r\n\r\n// then later in a method\r\nSparkSession spark = SparkSession.builder()\r\n        .appName(&quot;UDFExample&quot;)\r\n        .config(&quot;spark.master&quot;, &quot;local[*]&quot;)\r\n        .getOrCreate();\r\n\r\nList&lt;Integer&gt; ar = Arrays.asList(2,4,3,6,1,5);\r\nJavaRDD&lt;Integer&gt; outputRdd1 = JavaSparkContext.fromSparkContext(spark.sparkContext()).parallelize(ar).map(x -&gt; {\r\n    try {\r\n        m1(x);\r\n    } catch (Exception e) {\r\n        return x;\r\n    }\r\n    return x;\r\n});\r\n\r\noutputRdd1.collect().forEach( i -&gt; System.out.println(&quot;res was &quot;+i));\r\n\r\n```\r\n\r\non a box with enough cores will give:\r\n\r\n```\r\n===thread==Executor task launch worker for task 13.0 in stage 0.0 (TID 13)===value==1\r\n===thread==Executor task launch worker for task 15.0 in stage 0.0 (TID 15)===value==5\r\n===thread==Executor task launch worker for task 5.0 in stage 0.0 (TID 5)===value==4\r\n===thread==Executor task launch worker for task 7.0 in stage 0.0 (TID 7)===value==3\r\n===thread==Executor task launch worker for task 2.0 in stage 0.0 (TID 2)===value==2\r\n===thread==Executor task launch worker for task 10.0 in stage 0.0 (TID 10)===value==6\r\nres was 2\r\nres was 4\r\nres was 3\r\nres was 6\r\nres was 1\r\nres was 5\r\n```\r\n\r\nand a lot of task logging, that&#39;s on OSS 3.4.1.  If you are using the Databricks runtime (as per the tag) note it is not OSS and it&#39;s free to optimize how it sees fit, in this case, and the csv file one, it could simply chosen based on size to keep it on the driver node in a single thread and save you money.","title":"Scala 2.13 and Spark 3.2.1 is not running concurrently on executors","body":"<p>Your original code was probably enough to hint at whats happening.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void m1(int i){\nSystem.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\n}\n\n// then later in a method\nSparkSession spark = SparkSession.builder()\n        .appName(&quot;UDFExample&quot;)\n        .config(&quot;spark.master&quot;, &quot;local[*]&quot;)\n        .getOrCreate();\n\nList&lt;Integer&gt; ar = Arrays.asList(2,4,3,6,1,5);\nJavaRDD&lt;Integer&gt; outputRdd1 = JavaSparkContext.fromSparkContext(spark.sparkContext()).parallelize(ar).map(x -&gt; {\n    try {\n        m1(x);\n    } catch (Exception e) {\n        return x;\n    }\n    return x;\n});\n\noutputRdd1.collect().forEach( i -&gt; System.out.println(&quot;res was &quot;+i));\n\n</code></pre>\n<p>on a box with enough cores will give:</p>\n<pre><code>===thread==Executor task launch worker for task 13.0 in stage 0.0 (TID 13)===value==1\n===thread==Executor task launch worker for task 15.0 in stage 0.0 (TID 15)===value==5\n===thread==Executor task launch worker for task 5.0 in stage 0.0 (TID 5)===value==4\n===thread==Executor task launch worker for task 7.0 in stage 0.0 (TID 7)===value==3\n===thread==Executor task launch worker for task 2.0 in stage 0.0 (TID 2)===value==2\n===thread==Executor task launch worker for task 10.0 in stage 0.0 (TID 10)===value==6\nres was 2\nres was 4\nres was 3\nres was 6\nres was 1\nres was 5\n</code></pre>\n<p>and a lot of task logging, that's on OSS 3.4.1.  If you are using the Databricks runtime (as per the tag) note it is not OSS and it's free to optimize how it sees fit, in this case, and the csv file one, it could simply chosen based on size to keep it on the driver node in a single thread and save you money.</p>\n"}],"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692716920,"creation_date":1691772804,"question_id":76885428,"body_markdown":"Trying to do parallel processing of list using `scala 2.13` and `spark 3.2.1`.It seems to run in single task in `local` with spark master of 4 threads `local[4]`. May be missing something here. \r\n\r\nBelow is what I am trying and the libs related to `spark` and `scala`\r\n\r\ncreate a print method\r\n\r\n```java\r\npublic static void m1(String i){\r\n    System.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\r\n}\r\n```\r\n\r\n`spark` code to print using `rdd`\r\n\r\n```java\r\n final SparkSession sparkSession = SparkSession.builder()\r\n                    .appName(&quot;appName&quot;)\r\n                    .config(&quot;spark.sql.shuffle.partitions&quot;, 1500)\r\n                    .config(&quot;spark.debug.maxToStringFields&quot;, 1500)\r\n                    .config(&quot;spark.master&quot;, &quot;local[4]&quot;)\r\n                   .getOrCreate();\r\nDataset&lt;Row&gt; data = sparkSession.read().option(HEADER, TRUE).csv(&quot;path to csv&quot;);\r\nDataset&lt;Row&gt; lines = data.na().fill(&quot;&quot;);\r\n  \r\nJavaRDD&lt;Row&gt; oprdd = lines.javaRDD().map(x -&gt; {\r\n    try {\r\n        m1(x.mkString());\r\n    } catch (Exception e) {\r\n        return  x;\r\n    }\r\n    return x;\r\n});\r\n\r\noprdd.rdd().collect();\r\n```\r\n```\r\ncompile &#39;org.apache.spark:spark-core_2.13:3.2.1&#39;\r\ncompile &#39;org.apache.spark:spark-sql_2.13:3.2.1&#39;\r\n```\r\nBelow is output\r\n\r\n```\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==bcd\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==efg\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==hij\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==klm\r\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==nop\r\n\r\n```\r\n","title":"Scala 2.13 and Spark 3.2.1 is not running concurrently on executors","body":"<p>Trying to do parallel processing of list using <code>scala 2.13</code> and <code>spark 3.2.1</code>.It seems to run in single task in <code>local</code> with spark master of 4 threads <code>local[4]</code>. May be missing something here.</p>\n<p>Below is what I am trying and the libs related to <code>spark</code> and <code>scala</code></p>\n<p>create a print method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void m1(String i){\n    System.out.println(&quot;===thread==&quot;+Thread.currentThread().getName()+&quot;===value==&quot;+i);\n}\n</code></pre>\n<p><code>spark</code> code to print using <code>rdd</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> final SparkSession sparkSession = SparkSession.builder()\n                    .appName(&quot;appName&quot;)\n                    .config(&quot;spark.sql.shuffle.partitions&quot;, 1500)\n                    .config(&quot;spark.debug.maxToStringFields&quot;, 1500)\n                    .config(&quot;spark.master&quot;, &quot;local[4]&quot;)\n                   .getOrCreate();\nDataset&lt;Row&gt; data = sparkSession.read().option(HEADER, TRUE).csv(&quot;path to csv&quot;);\nDataset&lt;Row&gt; lines = data.na().fill(&quot;&quot;);\n  \nJavaRDD&lt;Row&gt; oprdd = lines.javaRDD().map(x -&gt; {\n    try {\n        m1(x.mkString());\n    } catch (Exception e) {\n        return  x;\n    }\n    return x;\n});\n\noprdd.rdd().collect();\n</code></pre>\n<pre><code>compile 'org.apache.spark:spark-core_2.13:3.2.1'\ncompile 'org.apache.spark:spark-sql_2.13:3.2.1'\n</code></pre>\n<p>Below is output</p>\n<pre><code>===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==bcd\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==efg\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==hij\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==klm\n===thread==Executor task launch worker for task 0.0 in stage 2.0 (TID 5)===value==nop\n\n</code></pre>\n"},{"tags":["java","encryption","jwt","jwe","jose4j"],"answers":[{"comments":[{"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"score":0,"creation_date":1692716735,"post_id":76948244,"comment_id":135660765,"body_markdown":"thank you, i ended up using slightly different code but tested this and it works also. thanks for the explanation too.","body":"thank you, i ended up using slightly different code but tested this and it works also. thanks for the explanation too."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692647076,"creation_date":1692646382,"answer_id":76948244,"question_id":76946962,"body_markdown":"[A128CBC-HS256][2] stands for [AES_128_CBC_HMAC_SHA_256][1]. This algorithm encrypts with AES-128 in CBC mode, authentication is done with HMAC/SHA256. A 32 bytes key is required as primary key (from which two secondary keys are derived: the first 16 bytes are used for authentication, the second for encryption).\r\n\r\nThe current Java code tries to import the key with `X509EncodedKeySpec`. This class is intended for importing a DER encoded SPKI key in the context of RSA, so it is completely wrong here. \r\n\r\nInstead, a possible Java implementation is: \r\n\r\n```java\r\nimport java.security.Key;\r\nimport java.util.Base64;\r\nimport org.jose4j.jwe.JsonWebEncryption;\r\nimport org.jose4j.jwt.JwtClaims;\r\nimport org.jose4j.keys.HmacKey;\r\n\r\n...\r\n \r\nString jwt = &quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..WhLXSXBUTRSERZuRTMBLrw.PqYS4ZoVHEnLA3nKyurYtO8oPRI9ncnd9gWftneUQmbdV1y8EaL3rBFYCxp1MFm7c5kZe4hx98uHpdAAkrznhmqiQ7Z2MGNlmp9aqZquo8dq1HJOUj-DoqSdsVGx7a1XoAR35bNW7rhru62zYMJfeA.-18U12AoCxO9NNOG6mHnNQ&quot;; // encrypted JWT\r\nbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;); // primary key\r\nKey key = new HmacKey(encoded); // import primary key\r\n\t\r\nJsonWebEncryption jwe = new JsonWebEncryption();\r\njwe.setKey(key);\r\njwe.setCompactSerialization(jwt);\r\nString payload = jwe.getPayload(); // decrypt\r\n\r\nJwtClaims claims = JwtClaims.parse(payload);\r\nString fooClaim = claims.getStringClaimValue(&quot;foo&quot;); // get foo claim\r\n\r\nSystem.out.println(payload);  // {&quot;foo&quot;:&quot;bar&quot;,&quot;iat&quot;:1692645846,&quot;iss&quot;:&quot;urn:example:issuer&quot;,&quot;aud&quot;:&quot;urn:example:audience&quot;,&quot;exp&quot;:1692653046}\r\nSystem.out.println(fooClaim); // bar\r\n```\r\n\r\nHere, the encrypted token (`jwt`) was created using the posted NodeJS code.\r\n\r\n[1]: https://www.rfc-editor.org/rfc/rfc7518#section-5.2.3\r\n[2]: https://www.rfc-editor.org/rfc/rfc7518#section-5.1","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-5.1\" rel=\"nofollow noreferrer\">A128CBC-HS256</a> stands for <a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-5.2.3\" rel=\"nofollow noreferrer\">AES_128_CBC_HMAC_SHA_256</a>. This algorithm encrypts with AES-128 in CBC mode, authentication is done with HMAC/SHA256. A 32 bytes key is required as primary key (from which two secondary keys are derived: the first 16 bytes are used for authentication, the second for encryption).</p>\n<p>The current Java code tries to import the key with <code>X509EncodedKeySpec</code>. This class is intended for importing a DER encoded SPKI key in the context of RSA, so it is completely wrong here.</p>\n<p>Instead, a possible Java implementation is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.Key;\nimport java.util.Base64;\nimport org.jose4j.jwe.JsonWebEncryption;\nimport org.jose4j.jwt.JwtClaims;\nimport org.jose4j.keys.HmacKey;\n\n...\n \nString jwt = &quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..WhLXSXBUTRSERZuRTMBLrw.PqYS4ZoVHEnLA3nKyurYtO8oPRI9ncnd9gWftneUQmbdV1y8EaL3rBFYCxp1MFm7c5kZe4hx98uHpdAAkrznhmqiQ7Z2MGNlmp9aqZquo8dq1HJOUj-DoqSdsVGx7a1XoAR35bNW7rhru62zYMJfeA.-18U12AoCxO9NNOG6mHnNQ&quot;; // encrypted JWT\nbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;); // primary key\nKey key = new HmacKey(encoded); // import primary key\n    \nJsonWebEncryption jwe = new JsonWebEncryption();\njwe.setKey(key);\njwe.setCompactSerialization(jwt);\nString payload = jwe.getPayload(); // decrypt\n\nJwtClaims claims = JwtClaims.parse(payload);\nString fooClaim = claims.getStringClaimValue(&quot;foo&quot;); // get foo claim\n\nSystem.out.println(payload);  // {&quot;foo&quot;:&quot;bar&quot;,&quot;iat&quot;:1692645846,&quot;iss&quot;:&quot;urn:example:issuer&quot;,&quot;aud&quot;:&quot;urn:example:audience&quot;,&quot;exp&quot;:1692653046}\nSystem.out.println(fooClaim); // bar\n</code></pre>\n<p>Here, the encrypted token (<code>jwt</code>) was created using the posted NodeJS code.</p>\n"},{"tags":[],"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692716830,"creation_date":1692716830,"answer_id":76954654,"question_id":76946962,"body_markdown":"For people in the future who view this, try either @Topaco &#39;s answer or the following code which I ended up using before the answer was posted\r\n\r\n```\r\n    private static JwtClaims decryptMessage(String msg) throws JoseException, InvalidJwtException {\r\n\r\n    \tbyte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\r\n\r\n    \tJsonWebEncryption receiverJwe = new JsonWebEncryption();\r\n\r\n    \tAlgorithmConstraints algConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, KeyManagementAlgorithmIdentifiers.DIRECT);\r\n    \treceiverJwe.setAlgorithmConstraints(algConstraints);\r\n    \tAlgorithmConstraints encConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, ContentEncryptionAlgorithmIdentifiers.AES_128_CBC_HMAC_SHA_256);\r\n    \treceiverJwe.setContentEncryptionAlgorithmConstraints(encConstraints);\r\n\r\n    \treceiverJwe.setCompactSerialization(msg);\r\n  \r\n    \tSecretKeySpec secretKeySpec = new SecretKeySpec(encoded, &quot;AES&quot;);\r\n\r\n    \treceiverJwe.setKey(secretKeySpec);\r\n\r\n    \treturn JwtClaims.parse(receiverJwe.getPayload());\r\n    }\r\n```","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p>For people in the future who view this, try either @Topaco 's answer or the following code which I ended up using before the answer was posted</p>\n<pre><code>    private static JwtClaims decryptMessage(String msg) throws JoseException, InvalidJwtException {\n\n        byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\n\n        JsonWebEncryption receiverJwe = new JsonWebEncryption();\n\n        AlgorithmConstraints algConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, KeyManagementAlgorithmIdentifiers.DIRECT);\n        receiverJwe.setAlgorithmConstraints(algConstraints);\n        AlgorithmConstraints encConstraints = new AlgorithmConstraints(ConstraintType.PERMIT, ContentEncryptionAlgorithmIdentifiers.AES_128_CBC_HMAC_SHA_256);\n        receiverJwe.setContentEncryptionAlgorithmConstraints(encConstraints);\n\n        receiverJwe.setCompactSerialization(msg);\n  \n        SecretKeySpec secretKeySpec = new SecretKeySpec(encoded, &quot;AES&quot;);\n\n        receiverJwe.setKey(secretKeySpec);\n\n        return JwtClaims.parse(receiverJwe.getPayload());\n    }\n</code></pre>\n"}],"owner":{"account_id":10312464,"reputation":382,"user_id":7607817,"accept_rate":75,"display_name":"stor314"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76948244,"answer_count":2,"score":0,"last_activity_date":1692716830,"creation_date":1692633600,"question_id":76946962,"body_markdown":"Feel kind of out of my depth here.\r\n\r\nI have a message that I&#39;m trying to encrypt on a react front end using a public key and the jose library. Then that message will be sent to the java back end and needs to be decrypted by the same public key so that the message can be read.\r\n\r\nOn the front end, this is my code:\r\n```\r\n  const secret = jose.base64url.decode(&#39;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&#39;);\r\n  const jwt = await new jose.EncryptJWT({ foo: &#39;bar&#39; })\r\n    .setProtectedHeader({ alg: &#39;dir&#39;, enc: &#39;A128CBC-HS256&#39; })\r\n    .setIssuedAt()\r\n    .setIssuer(&#39;urn:example:issuer&#39;)\r\n    .setAudience(&#39;urn:example:audience&#39;)\r\n    .setExpirationTime(&#39;2h&#39;)\r\n    .encrypt(secret);\r\n```\r\n\r\nAnd then this is my attempt at decrypting on the backend\r\n```\r\n         byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\r\n         \r\n         PublicKey pk = null;\r\n         \r\n          try {\r\n\t\t\tKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t          X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\r\n\t          pk = keyFactory.generatePublic(keySpec);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (InvalidKeySpecException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n          \r\n         \r\n         JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n        \t\t .setRequireExpirationTime()\r\n        \t\t .setVerificationKey(pk)\r\n        \t\t .build();\r\n         \r\n         try {\r\n\t\t\tJwtClaims jwtDecoded = jwtConsumer.processToClaims(forwardKey);\r\n\t\t\tSystem.out.println(jwtDecoded.getStringClaimValue(&quot;foo&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\nHowever Java doesn&#39;t seem to have the HS256 algorithm available when creating the PublicKey object using the keyfactory, but then I can&#39;t find any information on what algorithms to use for the encryption on the front end.\r\n\r\nDecrypting on the front end using the same secret works fine. But when trying to do the same thing in JAVA its like 20 more lines and I&#39;m not sure what those lines are supposed to be at all","title":"How to decrypt a JWE using JOSE4J using public key","body":"<p>Feel kind of out of my depth here.</p>\n<p>I have a message that I'm trying to encrypt on a react front end using a public key and the jose library. Then that message will be sent to the java back end and needs to be decrypted by the same public key so that the message can be read.</p>\n<p>On the front end, this is my code:</p>\n<pre><code>  const secret = jose.base64url.decode('zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI');\n  const jwt = await new jose.EncryptJWT({ foo: 'bar' })\n    .setProtectedHeader({ alg: 'dir', enc: 'A128CBC-HS256' })\n    .setIssuedAt()\n    .setIssuer('urn:example:issuer')\n    .setAudience('urn:example:audience')\n    .setExpirationTime('2h')\n    .encrypt(secret);\n</code></pre>\n<p>And then this is my attempt at decrypting on the backend</p>\n<pre><code>         byte[] encoded = Base64.getUrlDecoder().decode(&quot;zH4NRP1HMALxxCFnRZABFA7GOJtzUAgIj02alfL1lvI&quot;);\n         \n         PublicKey pk = null;\n         \n          try {\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n              X509EncodedKeySpec keySpec = new X509EncodedKeySpec(encoded);\n              pk = keyFactory.generatePublic(keySpec);\n            } catch (NoSuchAlgorithmException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (InvalidKeySpecException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n          \n         \n         JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n                 .setRequireExpirationTime()\n                 .setVerificationKey(pk)\n                 .build();\n         \n         try {\n            JwtClaims jwtDecoded = jwtConsumer.processToClaims(forwardKey);\n            System.out.println(jwtDecoded.getStringClaimValue(&quot;foo&quot;));\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n<p>However Java doesn't seem to have the HS256 algorithm available when creating the PublicKey object using the keyfactory, but then I can't find any information on what algorithms to use for the encryption on the front end.</p>\n<p>Decrypting on the front end using the same secret works fine. But when trying to do the same thing in JAVA its like 20 more lines and I'm not sure what those lines are supposed to be at all</p>\n"},{"tags":["java","google-cloud-firestore","google-cloud-dataflow","apache-beam"],"owner":{"account_id":8854411,"reputation":105,"user_id":6612592,"accept_rate":40,"display_name":"Virx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692716254,"creation_date":1692716254,"question_id":76954567,"body_markdown":"I have lots of devices that constantly send me data. I want to use dataflow to parse the data and save it to Firestore. I want to use FirestoreIO for saving. First problem I ran into was that I started to constantly get error\r\n\r\n    io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\r\nIt kinda makes sense since FirestoreIO is saving in batches and if there are multiple documents with same ID then you should get an error. So my next though was to group all device data with the same keys using GroupByKey PTransform. To do that I needed to create window before grouping. I want my window to collect all data during 1s period and then pass it all to GroupByKey step. My pipeline looks like this.\r\n\r\n```\r\nWindow&lt;KV&lt;String, Device&gt;&gt; windowing =\r\n                Window.&lt;KV&lt;String, Device&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\r\n                        .triggering(Repeatedly.forever(\r\n                                AfterProcessingTime.pastFirstElementInPane()\r\n                                        .plusDelayOf(Duration.standardSeconds(1))\r\n                                        .alignedTo(Duration.standardSeconds(1))))\r\n                        .withAllowedLateness(Duration.ZERO)\r\n                        .discardingFiredPanes();\r\n\r\nPCollectionList.of(subscription1).and(subscription2)\r\n                .apply(Flatten.pCollections())\r\n                .apply(&quot;Parse pubsub&quot;, ParDo.of(new PubsubMessageParser()))\r\n                .apply(&quot;Apply windowing&quot;, windowing)\r\n                .apply(&quot;Group message&quot;, GroupByKey.create())\r\n                .apply(&quot;FirestoreParser&quot;, ParDo.of(new FirestoreParser()))\r\n                .apply(FirestoreIO.v1().write().batchWrite().build());\r\n```\r\n\r\nI see from logs that FirestoreParses step is sometimes run more often than once per second for one specific key.\r\n```\r\nINFO 2023-08-22T14:07:45.146Z running FirestoreParser for key 111111 : batch size 5\r\nINFO 2023-08-22T14:07:45.192Z running FirestoreParser for key 111111 : batch size 2\r\nINFO 2023-08-22T14:07:46.283Z running FirestoreParser for key 111111 : batch size 4\r\n\r\nINFO 2023-08-22T14:07:48.150Z running FirestoreParser for key 111111 : batch size 6\r\nINFO 2023-08-22T14:07:48.194Z running FirestoreParser for key 111111 : batch size 2\r\nINFO 2023-08-22T14:07:49.271Z running FirestoreParser for key 111111 : batch size 5\r\n```\r\nBecause of that my dataflow still sometimes throws the `io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\r\n` exception. \r\n\r\nWhy is this happening? I guess the problem lies within window or its trigger. How can I fix it so that the FirestoreParser would actually run once per second for specific key?\r\n\r\n ","title":"Dataflow FixedWindow triggered more than once during allowed period","body":"<p>I have lots of devices that constantly send me data. I want to use dataflow to parse the data and save it to Firestore. I want to use FirestoreIO for saving. First problem I ran into was that I started to constantly get error</p>\n<pre><code>io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request\n</code></pre>\n<p>It kinda makes sense since FirestoreIO is saving in batches and if there are multiple documents with same ID then you should get an error. So my next though was to group all device data with the same keys using GroupByKey PTransform. To do that I needed to create window before grouping. I want my window to collect all data during 1s period and then pass it all to GroupByKey step. My pipeline looks like this.</p>\n<pre><code>Window&lt;KV&lt;String, Device&gt;&gt; windowing =\n                Window.&lt;KV&lt;String, Device&gt;&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\n                        .triggering(Repeatedly.forever(\n                                AfterProcessingTime.pastFirstElementInPane()\n                                        .plusDelayOf(Duration.standardSeconds(1))\n                                        .alignedTo(Duration.standardSeconds(1))))\n                        .withAllowedLateness(Duration.ZERO)\n                        .discardingFiredPanes();\n\nPCollectionList.of(subscription1).and(subscription2)\n                .apply(Flatten.pCollections())\n                .apply(&quot;Parse pubsub&quot;, ParDo.of(new PubsubMessageParser()))\n                .apply(&quot;Apply windowing&quot;, windowing)\n                .apply(&quot;Group message&quot;, GroupByKey.create())\n                .apply(&quot;FirestoreParser&quot;, ParDo.of(new FirestoreParser()))\n                .apply(FirestoreIO.v1().write().batchWrite().build());\n</code></pre>\n<p>I see from logs that FirestoreParses step is sometimes run more often than once per second for one specific key.</p>\n<pre><code>INFO 2023-08-22T14:07:45.146Z running FirestoreParser for key 111111 : batch size 5\nINFO 2023-08-22T14:07:45.192Z running FirestoreParser for key 111111 : batch size 2\nINFO 2023-08-22T14:07:46.283Z running FirestoreParser for key 111111 : batch size 4\n\nINFO 2023-08-22T14:07:48.150Z running FirestoreParser for key 111111 : batch size 6\nINFO 2023-08-22T14:07:48.194Z running FirestoreParser for key 111111 : batch size 2\nINFO 2023-08-22T14:07:49.271Z running FirestoreParser for key 111111 : batch size 5\n</code></pre>\n<p>Because of that my dataflow still sometimes throws the <code>io.grpc.StatusRuntimeException: INVALID_ARGUMENT: the same document cannot be written more than once in a single request </code> exception.</p>\n<p>Why is this happening? I guess the problem lies within window or its trigger. How can I fix it so that the FirestoreParser would actually run once per second for specific key?</p>\n"},{"tags":["java","spring-boot","annotation-processing","java-annotations"],"owner":{"account_id":29276246,"reputation":1,"user_id":22429913,"display_name":"Aymane Matrane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692715817,"creation_date":1692715817,"question_id":76954500,"body_markdown":"I just got into java annotation processing and I wanted to create an annotation that does a similar job to @Value.\r\nI already created the annotation and annotation processor.\r\nso is there a way to inject the value from the process method? or am i going in the wrong direction?\r\nhere is my annotation and processor\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomValue {\r\n    String value();\r\n}\r\n```\r\n\r\n\r\n```\r\nimport com.google.auto.service.AutoService;\r\nimport report.configurations.PropertyLoader;\r\n\r\nimport javax.annotation.processing.*;\r\nimport javax.lang.model.SourceVersion;\r\nimport javax.lang.model.element.Element;\r\nimport javax.lang.model.element.ElementKind;\r\nimport javax.lang.model.element.TypeElement;\r\nimport javax.lang.model.element.VariableElement;\r\nimport javax.tools.*;\r\nimport java.io.File;\r\nimport java.io.PrintWriter;\r\nimport java.io.Writer;\r\nimport java.util.Collections;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\r\n@AutoService(javax.annotation.processing.Processor.class)\r\npublic class  CustomValueProcessor extends AbstractProcessor {\r\n\r\n    private Messager messager;\r\n    private Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\r\n\r\n    @Override\r\n    public synchronized void init(ProcessingEnvironment processingEnv) {\r\n        super.init(processingEnv);\r\n        messager = processingEnv.getMessager();\r\n\r\n        // Retrieve the property name from options\r\n    }\r\n\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        for (TypeElement annotation : annotations) {\r\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\r\n                if (element.getKind() == ElementKind.FIELD) {\r\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\r\n                    String paramName = annotationValue.value();\r\n                    String newParaName = paramName.substring(2, paramName.length() - 1);\r\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + newParaName);\r\n\r\n                    String propertyValue = PropMap.get(newParaName);\r\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + propertyValue);\r\n\r\n                    if (element instanceof VariableElement) {\r\n                        VariableElement variableElement = (VariableElement) element;\r\n                        generateAndExecuteCode(variableElement, propertyValue);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void generateAndExecuteCode(VariableElement variableElement, String propertyValue) {\r\n        String fieldName = variableElement.getSimpleName().toString();\r\n        String setterMethodName = &quot;set&quot; + fieldName.substring(0, 1).toUpperCase() + fieldName.substring(1);\r\n\r\n        String setterCode = String.format(&quot;%s.%s(\\&quot;%s\\&quot;);&quot;, variableElement.getEnclosingElement(), setterMethodName, propertyValue);\r\n\r\n        try {\r\n            String generatedClassName = &quot;GeneratedCode&quot;;\r\n            String javaSourceCode = &quot;public class &quot; + generatedClassName + &quot; {\\n&quot;\r\n                    + &quot;    public static void run() {\\n&quot;\r\n                    + &quot;        &quot; + setterCode + &quot;\\n&quot;\r\n                    + &quot;    }\\n&quot;\r\n                    + &quot;}\\n&quot;;\r\n\r\n            // Obtain a Filer instance\r\n            Filer filer = processingEnv.getFiler();\r\n\r\n            JavaFileObject sourceFileObject = filer.createSourceFile(generatedClassName);\r\n            try (Writer writer = sourceFileObject.openWriter()) {\r\n                writer.write(javaSourceCode);\r\n            }\r\n\r\n            File sourceFile = new File(&quot;.&quot;, generatedClassName + &quot;.java&quot;);\r\n            try (PrintWriter writer = new PrintWriter(sourceFile)) {\r\n                writer.write(javaSourceCode);\r\n            }\r\n\r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\r\n            Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Collections.singletonList(sourceFile));\r\n            compiler.getTask(null, fileManager, null, null, null, compilationUnits).call();\r\n\r\n            // Load and execute the compiled class\r\n            Class&lt;?&gt; generatedClass = Class.forName(generatedClassName);\r\n            generatedClass.getMethod(&quot;run&quot;).invoke(null);\r\n\r\n            // Cleanup: Delete the temporary source file\r\n            sourceFile.delete();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI tried to generated a file to inject it at compile time but I suppose that`s not the right way to do it","title":"Trying to inject a certain value into a field with annotation without @Value","body":"<p>I just got into java annotation processing and I wanted to create an annotation that does a similar job to @Value.\nI already created the annotation and annotation processor.\nso is there a way to inject the value from the process method? or am i going in the wrong direction?\nhere is my annotation and processor</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomValue {\n    String value();\n}\n</code></pre>\n<pre><code>import com.google.auto.service.AutoService;\nimport report.configurations.PropertyLoader;\n\nimport javax.annotation.processing.*;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.Element;\nimport javax.lang.model.element.ElementKind;\nimport javax.lang.model.element.TypeElement;\nimport javax.lang.model.element.VariableElement;\nimport javax.tools.*;\nimport java.io.File;\nimport java.io.PrintWriter;\nimport java.io.Writer;\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.Set;\n\n@SupportedAnnotationTypes(&quot;report.annotations.CustomValue&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\n@AutoService(javax.annotation.processing.Processor.class)\npublic class  CustomValueProcessor extends AbstractProcessor {\n\n    private Messager messager;\n    private Map&lt;String, String&gt; PropMap = PropertyLoader.parsePropertiesFile();\n\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        super.init(processingEnv);\n        messager = processingEnv.getMessager();\n\n        // Retrieve the property name from options\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (TypeElement annotation : annotations) {\n            for (Element element : roundEnv.getElementsAnnotatedWith(annotation)) {\n                if (element.getKind() == ElementKind.FIELD) {\n                    CustomValue annotationValue = element.getAnnotation(CustomValue.class);\n                    String paramName = annotationValue.value();\n                    String newParaName = paramName.substring(2, paramName.length() - 1);\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + newParaName);\n\n                    String propertyValue = PropMap.get(newParaName);\n                    messager.printMessage(Diagnostic.Kind.NOTE, &quot;Injecting: &quot; + propertyValue);\n\n                    if (element instanceof VariableElement) {\n                        VariableElement variableElement = (VariableElement) element;\n                        generateAndExecuteCode(variableElement, propertyValue);\n                    }\n                }\n            }\n        }\n        return true;\n    }\n\n    private void generateAndExecuteCode(VariableElement variableElement, String propertyValue) {\n        String fieldName = variableElement.getSimpleName().toString();\n        String setterMethodName = &quot;set&quot; + fieldName.substring(0, 1).toUpperCase() + fieldName.substring(1);\n\n        String setterCode = String.format(&quot;%s.%s(\\&quot;%s\\&quot;);&quot;, variableElement.getEnclosingElement(), setterMethodName, propertyValue);\n\n        try {\n            String generatedClassName = &quot;GeneratedCode&quot;;\n            String javaSourceCode = &quot;public class &quot; + generatedClassName + &quot; {\\n&quot;\n                    + &quot;    public static void run() {\\n&quot;\n                    + &quot;        &quot; + setterCode + &quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;}\\n&quot;;\n\n            // Obtain a Filer instance\n            Filer filer = processingEnv.getFiler();\n\n            JavaFileObject sourceFileObject = filer.createSourceFile(generatedClassName);\n            try (Writer writer = sourceFileObject.openWriter()) {\n                writer.write(javaSourceCode);\n            }\n\n            File sourceFile = new File(&quot;.&quot;, generatedClassName + &quot;.java&quot;);\n            try (PrintWriter writer = new PrintWriter(sourceFile)) {\n                writer.write(javaSourceCode);\n            }\n\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\n            Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Collections.singletonList(sourceFile));\n            compiler.getTask(null, fileManager, null, null, null, compilationUnits).call();\n\n            // Load and execute the compiled class\n            Class&lt;?&gt; generatedClass = Class.forName(generatedClassName);\n            generatedClass.getMethod(&quot;run&quot;).invoke(null);\n\n            // Cleanup: Delete the temporary source file\n            sourceFile.delete();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>I tried to generated a file to inject it at compile time but I suppose that`s not the right way to do it</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692715957,"post_id":76954374,"comment_id":135660553,"body_markdown":"You should post the whole stacktrace. Moreover, the field name is first_name and not firstName.","body":"You should post the whole stacktrace. Moreover, the field name is first_name and not firstName."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692715536,"creation_date":1692715536,"answer_id":76954459,"question_id":76954374,"body_markdown":"The error message is correct because there is indeed no `name` field in your entity. You only have `first_name` and `last_name`. \r\n\r\nMoreover, you have not followed the java naming convention to name your entity fields.\r\n\r\nThe correct convention will be to rename them as:\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    \r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\nThen you can query by `firstName` and `lastName` as `findByFirstNameAndLastName(firstName, lastName, pageable)`.\r\n","title":"Java Spring pagination and filter","body":"<p>The error message is correct because there is indeed no <code>name</code> field in your entity. You only have <code>first_name</code> and <code>last_name</code>.</p>\n<p>Moreover, you have not followed the java naming convention to name your entity fields.</p>\n<p>The correct convention will be to rename them as:</p>\n<pre><code>@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n</code></pre>\n<p>Then you can query by <code>firstName</code> and <code>lastName</code> as <code>findByFirstNameAndLastName(firstName, lastName, pageable)</code>.</p>\n"}],"owner":{"account_id":29276012,"reputation":1,"user_id":22429723,"display_name":"ModeJP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692715536,"creation_date":1692714962,"question_id":76954374,"body_markdown":"I&#39;m working on a Spring Boot application where I need to implement filtering functionality for customer data. I&#39;ve set up a **CustomerRepository** with a custom method named **findByName** to handle the filtering based on specific criteria such as **first_name** and **last_name**. However, when I try to use this custom method in both my **CustomerService** and **CustomerController**, I&#39;m encountering an issue during application startup. The error message indicates that Spring Data JPA is unable to recognize the findByName method as a valid query method and it mentions a missing property that isn&#39;t present in my Customer entity.\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerController&#39;: Unsatisfied dependency expressed through field &#39;customerService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerService&#39;: Unsatisfied dependency expressed through field &#39;customerRepository&#39;\r\n\r\nCustomer.java:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;customers&quot;)\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n    \r\n    @Column(name = &quot;first_name&quot;)\r\n    private String first_name;\r\n    \r\n    @Column(name = &quot;last_name&quot;)\r\n    private String last_name;\r\n    \r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n    \r\n    \r\n    /** Getter and Setter **/\r\n}\r\n```\r\n\r\nCustomerRepository.java:\r\n```\r\n@Repository\r\npublic interface CustomerRepository extends PagingAndSortingRepository &lt;Customer, Integer&gt;{\r\n\r\n    Page&lt;Customer&gt; findByName(String firstName, String lastName, Pageable pageable);\r\n}\r\n```\r\n\r\nCustomerService.java:\r\n```\r\n@Service\r\npublic class CustomerService {\r\n\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n    \r\n    public Page&lt;Customer&gt; searchCustomers(String firstName, String lastName, Pageable pageable) {\r\n        return customerRepository.findByName(firstName, lastName, pageable);\r\n    }\r\n}\r\n```\r\n\r\nCustomerController.java:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/customers&quot;)\r\npublic class CustomerController {\r\n\r\n    @Autowired\r\n    private CustomerService customerService;\r\n    \r\n    @GetMapping(&quot;/pagination&quot;)\r\n    public Page&lt;Customer&gt; searchCustomers(\r\n    \t      @RequestParam(required = false) String firstName,\r\n            @RequestParam(required = false) String lastName,\r\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\r\n            @RequestParam(defaultValue = &quot;10&quot;) int pageSize)\r\n    {\r\n        Pageable pageable = PageRequest.of(page, pageSize);\r\n        return customerService.searchCustomers(firstName, lastName, pageable);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Java Spring pagination and filter","body":"<p>I'm working on a Spring Boot application where I need to implement filtering functionality for customer data. I've set up a <strong>CustomerRepository</strong> with a custom method named <strong>findByName</strong> to handle the filtering based on specific criteria such as <strong>first_name</strong> and <strong>last_name</strong>. However, when I try to use this custom method in both my <strong>CustomerService</strong> and <strong>CustomerController</strong>, I'm encountering an issue during application startup. The error message indicates that Spring Data JPA is unable to recognize the findByName method as a valid query method and it mentions a missing property that isn't present in my Customer entity.</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController': Unsatisfied dependency expressed through field 'customerService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService': Unsatisfied dependency expressed through field 'customerRepository'</p>\n</blockquote>\n<p>Customer.java:</p>\n<pre><code>@Entity\n@Table(name=&quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String first_name;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String last_name;\n    \n    @Column(name = &quot;age&quot;)\n    private Integer age;\n    \n    \n    /** Getter and Setter **/\n}\n</code></pre>\n<p>CustomerRepository.java:</p>\n<pre><code>@Repository\npublic interface CustomerRepository extends PagingAndSortingRepository &lt;Customer, Integer&gt;{\n\n    Page&lt;Customer&gt; findByName(String firstName, String lastName, Pageable pageable);\n}\n</code></pre>\n<p>CustomerService.java:</p>\n<pre><code>@Service\npublic class CustomerService {\n\n    @Autowired\n    private CustomerRepository customerRepository;\n    \n    public Page&lt;Customer&gt; searchCustomers(String firstName, String lastName, Pageable pageable) {\n        return customerRepository.findByName(firstName, lastName, pageable);\n    }\n}\n</code></pre>\n<p>CustomerController.java:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/customers&quot;)\npublic class CustomerController {\n\n    @Autowired\n    private CustomerService customerService;\n    \n    @GetMapping(&quot;/pagination&quot;)\n    public Page&lt;Customer&gt; searchCustomers(\n              @RequestParam(required = false) String firstName,\n            @RequestParam(required = false) String lastName,\n            @RequestParam(defaultValue = &quot;0&quot;) int page,\n            @RequestParam(defaultValue = &quot;10&quot;) int pageSize)\n    {\n        Pageable pageable = PageRequest.of(page, pageSize);\n        return customerService.searchCustomers(firstName, lastName, pageable);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","pdf","signature","biometrics","wacom"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1692719459,"post_id":76954455,"comment_id":135661425,"body_markdown":"As far as I know there is no common standard for integrating that data in a PDF. Some thoughts, though: To make any sense, those data need to be stored in a way that is cryptographically bound to the PDF in question. And it must be made sure that most of the data can only be read upon request of the authorities - if anyone could read them, anyone could copy them and store them as a signature of a different document. \nThere may be more requirements; as you mention legal purposes, there likely is a legal framework for those signatures enumerating requirements.","body":"As far as I know there is no common standard for integrating that data in a PDF. Some thoughts, though: To make any sense, those data need to be stored in a way that is cryptographically bound to the PDF in question. And it must be made sure that most of the data can only be read upon request of the authorities - if anyone could read them, anyone could copy them and store them as a signature of a different document.  There may be more requirements; as you mention legal purposes, there likely is a legal framework for those signatures enumerating requirements."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1692720017,"post_id":76954455,"comment_id":135661537,"body_markdown":"In [this answer](https://stackoverflow.com/a/17402565/1729265) I ten years ago superficially analyzed a PDF signature by xyzmo (now Namirial) that also stored a combined biometric/digital signature, so you might find the information there interesting. Unfortunately the links in that answer to the xyzmo web site don&#39;t work anymore.","body":"In <a href=\"https://stackoverflow.com/a/17402565/1729265\">this answer</a> I ten years ago superficially analyzed a PDF signature by xyzmo (now Namirial) that also stored a combined biometric/digital signature, so you might find the information there interesting. Unfortunately the links in that answer to the xyzmo web site don&#39;t work anymore."}],"owner":{"account_id":6921308,"reputation":21,"user_id":5313898,"display_name":"Alessandro Baroni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692715526,"creation_date":1692715526,"question_id":76954455,"body_markdown":"I need to implement Wacom tablet handwriting in my Java software and I&#39;m using the STU SDK for Linux.\r\n\r\nIn the samples that are present in the SDK it is shown how to acquire the PenData and transform them into an image but for legal purposes I am forced to also attach the biometric data (pressure, timing) together with the image of the signature in the PDF document.\r\n\r\nIs there a correct way or format to attach this biometric data in a PDF document?\r\n\r\nFor PDF document management in my software I use iTextPDF and Apache PDFBox.\r\n\r\nThank you","title":"Attach biometric data from Wacom STU SDK to a PDF document","body":"<p>I need to implement Wacom tablet handwriting in my Java software and I'm using the STU SDK for Linux.</p>\n<p>In the samples that are present in the SDK it is shown how to acquire the PenData and transform them into an image but for legal purposes I am forced to also attach the biometric data (pressure, timing) together with the image of the signature in the PDF document.</p>\n<p>Is there a correct way or format to attach this biometric data in a PDF document?</p>\n<p>For PDF document management in my software I use iTextPDF and Apache PDFBox.</p>\n<p>Thank you</p>\n"},{"tags":["java","css","selenium-webdriver","intellij-idea","salesforce"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1692715710,"post_id":76954453,"comment_id":135660495,"body_markdown":"Check if the desired elements are within an `IFRAME`, if yes, you need to switch into the `IFRAME` and then locate elements.","body":"Check if the desired elements are within an <code>IFRAME</code>, if yes, you need to switch into the <code>IFRAME</code> and then locate elements."}],"owner":{"account_id":29276268,"reputation":11,"user_id":22429933,"display_name":"Yonatanb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692715520,"creation_date":1692715520,"question_id":76954453,"body_markdown":"I&#39;m trying to automate some processes in Salesforce.\r\nI&#39;m using Java Selenium in IntelliJ.\r\n\r\nDuring the test, I try to find a list of elements and I want to choose one of them by using get(index).\r\nThe problem is that during the run/debug, I see that it returns size = 0, which indicates the list is empty.\r\nHowever, when I inspect the element I&#39;m trying to get *during the test* I see that the selector I&#39;ve used indeed find the list of elements. How is it possible? \r\nAs far as I know, it can&#39;t be a wait issue because I saw this during debugging.\r\n\r\nHere is the code:\r\n\r\n    public void changeOwner() {\r\n        waiting(5000);\r\n        List&lt;WebElement&gt; ownerBtns = driver.findElements(By.cssSelector(&quot;[title=&#39;Change Owner&#39;]     [type=&#39;button&#39;][part=&#39;button button-icon&#39;]&quot;));\r\n        System.out.println(&quot;The size of the list is &quot; + ownerBtns.size());\r\n        WebElement desiredOwnerBtn = ownerBtns.get(0);\r\n        click(desiredOwnerBtn);\r\n        click(changeOwnerBtn);\r\n        waiting(2000);\r\n        fillText(searchOwnerField, &quot;Yonatan Bashiri&quot;);\r\n        for (WebElement owner : listOfOwners) {\r\n            if (getText(owner).equals(&quot;Yonatan Bashiri&quot;)) {\r\n                click(owner);\r\n                break;\r\n            }\r\n        }\r\n        click(changeOwnerBtn);\r\n        waiting(2000);\r\n    }\r\nThe problematic list is ownerBtns\r\nIn the debugger is says ownerBtns = (ArrayList@6835) size = 0\r\nIf I put this selector: [title=&#39;Change Owner&#39;][type=&#39;button&#39;][part=&#39;button button-icon&#39;] in the devtools during the test I find 3 elements.\r\n\r\nThank you for the help\r\n\r\n","title":"Java Selenium- list of elements are empty but I see during the test that it&#39;s not","body":"<p>I'm trying to automate some processes in Salesforce.\nI'm using Java Selenium in IntelliJ.</p>\n<p>During the test, I try to find a list of elements and I want to choose one of them by using get(index).\nThe problem is that during the run/debug, I see that it returns size = 0, which indicates the list is empty.\nHowever, when I inspect the element I'm trying to get <em>during the test</em> I see that the selector I've used indeed find the list of elements. How is it possible?\nAs far as I know, it can't be a wait issue because I saw this during debugging.</p>\n<p>Here is the code:</p>\n<pre><code>public void changeOwner() {\n    waiting(5000);\n    List&lt;WebElement&gt; ownerBtns = driver.findElements(By.cssSelector(&quot;[title='Change Owner']     [type='button'][part='button button-icon']&quot;));\n    System.out.println(&quot;The size of the list is &quot; + ownerBtns.size());\n    WebElement desiredOwnerBtn = ownerBtns.get(0);\n    click(desiredOwnerBtn);\n    click(changeOwnerBtn);\n    waiting(2000);\n    fillText(searchOwnerField, &quot;Yonatan Bashiri&quot;);\n    for (WebElement owner : listOfOwners) {\n        if (getText(owner).equals(&quot;Yonatan Bashiri&quot;)) {\n            click(owner);\n            break;\n        }\n    }\n    click(changeOwnerBtn);\n    waiting(2000);\n}\n</code></pre>\n<p>The problematic list is ownerBtns\nIn the debugger is says ownerBtns = (ArrayList@6835) size = 0\nIf I put this selector: [title='Change Owner'][type='button'][part='button button-icon'] in the devtools during the test I find 3 elements.</p>\n<p>Thank you for the help</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9901,"page":233,"page_size":100}
