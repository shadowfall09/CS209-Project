{"items":[{"tags":["java","geometry","polygon"],"comments":[{"owner":{"account_id":4188528,"reputation":890,"user_id":3431636,"accept_rate":79,"display_name":"Seraf"},"score":0,"creation_date":1535720467,"post_id":8721406,"comment_id":91182682,"body_markdown":"You can use the Polygon and Point in the `java.awt` library: `new Polygon(x_coordinates, y_coordinates, coordinates.length).contains(new Point(x, y))` where `x_coordinates` and `y_coordinates` are of type `Array[Integer]`","body":"You can use the Polygon and Point in the <code>java.awt</code> library: <code>new Polygon(x_coordinates, y_coordinates, coordinates.length).contains(new Point(x, y))</code> where <code>x_coordinates</code> and <code>y_coordinates</code> are of type <code>Array[Integer]</code>"}],"answers":[{"tags":[],"owner":{"account_id":1132580,"reputation":25787,"user_id":1118321,"accept_rate":100,"display_name":"user1118321"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325645233,"creation_date":1325645233,"answer_id":8721443,"question_id":8721406,"body_markdown":"Check to see if it&#39;s on the same side of the 4 half-planes defined by the lines that contain the line segments that make up the sides of the quad.\r\n\r\n[Here](http://erich.realtimerendering.com/ptinpoly/) is a good explanation.","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>Check to see if it's on the same side of the 4 half-planes defined by the lines that contain the line segments that make up the sides of the quad.</p>\n\n<p><a href=\"http://erich.realtimerendering.com/ptinpoly/\" rel=\"nofollow\">Here</a> is a good explanation.</p>\n"},{"tags":[],"owner":{"account_id":974783,"reputation":4190,"user_id":996405,"accept_rate":43,"display_name":"Kavka"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1325646920,"creation_date":1325645311,"answer_id":8721452,"question_id":8721406,"body_markdown":"The `java.awt.Polygon` class has a number of `contains(...)` methods if you use [Polygon][1] objects to represent your polygon.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Polygon.html","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>The <code>java.awt.Polygon</code> class has a number of <code>contains(...)</code> methods if you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Polygon.html\">Polygon</a> objects to represent your polygon.</p>\n"},{"comments":[{"owner":{"account_id":4188528,"reputation":890,"user_id":3431636,"accept_rate":79,"display_name":"Seraf"},"score":0,"creation_date":1535641445,"post_id":8721483,"comment_id":91151028,"body_markdown":"Can you explain the `(points[i].y &gt; test.y) != (points[j].y &gt; test.y)` part?","body":"Can you explain the <code>(points[i].y &gt; test.y) != (points[j].y &gt; test.y)</code> part?"},{"owner":{"account_id":45510,"reputation":9296,"user_id":134176,"accept_rate":100,"display_name":"Dean Povey"},"score":1,"creation_date":1535777673,"post_id":8721483,"comment_id":91200933,"body_markdown":"It&#39;s making sure points[i].y and points[j].y are not on the same side of test.y","body":"It&#39;s making sure points[i].y and points[j].y are not on the same side of test.y"},{"owner":{"account_id":1092093,"reputation":4806,"user_id":1086511,"accept_rate":73,"display_name":"Rodrigo"},"score":0,"creation_date":1589774259,"post_id":8721483,"comment_id":109416709,"body_markdown":"Looks like this works for both convex and concave polygons? The OP is asking for convex polygons only, which should yield a faster algorithm.","body":"Looks like this works for both convex and concave polygons? The OP is asking for convex polygons only, which should yield a faster algorithm."},{"owner":{"account_id":45510,"reputation":9296,"user_id":134176,"accept_rate":100,"display_name":"Dean Povey"},"score":0,"creation_date":1590014101,"post_id":8721483,"comment_id":109524847,"body_markdown":"Yes, you are right. For a convex polygon you can compute the orientation of the point with each of the sides in anticlockwise order. It’s inside if the orientation is on the left for all of the sides (the orientation is positive/clockwise). Orientation can be computed according to: (y2 - y1)*(x3 - x2) - (y3 - y2)*(x2 - x1). If 0 the points are colinear, if positive then points are oriented clockwise, if negative counterclockwise.","body":"Yes, you are right. For a convex polygon you can compute the orientation of the point with each of the sides in anticlockwise order. It’s inside if the orientation is on the left for all of the sides (the orientation is positive/clockwise). Orientation can be computed according to: (y2 - y1)*(x3 - x2) - (y3 - y2)*(x2 - x1). If 0 the points are colinear, if positive then points are oriented clockwise, if negative counterclockwise."},{"owner":{"account_id":1986429,"reputation":198,"user_id":8954516,"display_name":"jpell"},"score":0,"creation_date":1613140828,"post_id":8721483,"comment_id":116991858,"body_markdown":"do the points have to be in order in array?","body":"do the points have to be in order in array?"}],"tags":[],"owner":{"account_id":45510,"reputation":9296,"user_id":134176,"accept_rate":100,"display_name":"Dean Povey"},"comment_count":5,"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1544753750,"creation_date":1325645638,"answer_id":8721483,"question_id":8721406,"body_markdown":"This page: [http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html](https://web.archive.org/web/20161108113341/https://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html) shows how to do this for any polygon.\r\n\r\nI have a Java implementation of this, but it is too big to post here in its entirety.  However, you should be able to work it out:\r\n\r\n    class Boundary {\r\n        private final Point[] points; // Points making up the boundary\r\n        ...\r\n\r\n\r\n        /**\r\n         * Return true if the given point is contained inside the boundary.\r\n         * See: http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\r\n         * @param test The point to check\r\n         * @return true if the point is inside the boundary, false otherwise\r\n         *\r\n         */\r\n        public boolean contains(Point test) {\r\n          int i;\r\n          int j;\r\n          boolean result = false;\r\n          for (i = 0, j = points.length - 1; i &lt; points.length; j = i++) {\r\n            if ((points[i].y &gt; test.y) != (points[j].y &gt; test.y) &amp;&amp;\r\n                (test.x &lt; (points[j].x - points[i].x) * (test.y - points[i].y) / (points[j].y-points[i].y) + points[i].x)) {\r\n              result = !result;\r\n             }\r\n          }\r\n          return result;\r\n        }\r\n    }\r\n\r\nAnd here is a sketch of the Point class\r\n\r\n    /**\r\n     * Two dimensional cartesian point.\r\n     */\r\n    public class Point {\r\n      public final double x;\r\n      public final double y;\r\n      ...\r\n    }\r\n","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>This page: <a href=\"https://web.archive.org/web/20161108113341/https://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\" rel=\"noreferrer\">http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html</a> shows how to do this for any polygon.</p>\n\n<p>I have a Java implementation of this, but it is too big to post here in its entirety.  However, you should be able to work it out:</p>\n\n<pre><code>class Boundary {\n    private final Point[] points; // Points making up the boundary\n    ...\n\n\n    /**\n     * Return true if the given point is contained inside the boundary.\n     * See: http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n     * @param test The point to check\n     * @return true if the point is inside the boundary, false otherwise\n     *\n     */\n    public boolean contains(Point test) {\n      int i;\n      int j;\n      boolean result = false;\n      for (i = 0, j = points.length - 1; i &lt; points.length; j = i++) {\n        if ((points[i].y &gt; test.y) != (points[j].y &gt; test.y) &amp;&amp;\n            (test.x &lt; (points[j].x - points[i].x) * (test.y - points[i].y) / (points[j].y-points[i].y) + points[i].x)) {\n          result = !result;\n         }\n      }\n      return result;\n    }\n}\n</code></pre>\n\n<p>And here is a sketch of the Point class</p>\n\n<pre><code>/**\n * Two dimensional cartesian point.\n */\npublic class Point {\n  public final double x;\n  public final double y;\n  ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":479763,"reputation":641,"user_id":892639,"display_name":"Jim"},"score":0,"creation_date":1325646934,"post_id":8721584,"comment_id":10858105,"body_markdown":"This is what Dean Povey&#39;s answer is doing, btw","body":"This is what Dean Povey&#39;s answer is doing, btw"}],"tags":[],"owner":{"account_id":479763,"reputation":641,"user_id":892639,"display_name":"Jim"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1325646754,"creation_date":1325646754,"answer_id":8721584,"question_id":8721406,"body_markdown":"Assuming that your point is at Y coordinate y, simply calculate the x positions where each\r\nof the polygon&#39;s (non-horizontal) lines cross y. Count the number of x positions that are\r\nless than the x position of your point. If the number of x positions is odd, your point is\r\ninside the polygon. Note: this works for all polygons, not just convex. Think of it this way:\r\ndraw a line from infinitely far away straight in to your point. When that line crosses a\r\npolygon line, it is now inside the polygon. Cross the line again, outside. Cross again,\r\ninside (and so forth). Hope this helps!\r\n","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>Assuming that your point is at Y coordinate y, simply calculate the x positions where each\nof the polygon's (non-horizontal) lines cross y. Count the number of x positions that are\nless than the x position of your point. If the number of x positions is odd, your point is\ninside the polygon. Note: this works for all polygons, not just convex. Think of it this way:\ndraw a line from infinitely far away straight in to your point. When that line crosses a\npolygon line, it is now inside the polygon. Cross the line again, outside. Cross again,\ninside (and so forth). Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":7659527,"reputation":958,"user_id":5805262,"accept_rate":100,"display_name":"Prikers"},"score":0,"creation_date":1702327886,"post_id":23223947,"comment_id":136880517,"body_markdown":"I have rarely seen such useful stack post. Very clear, concise and very valuable!","body":"I have rarely seen such useful stack post. Very clear, concise and very valuable!"}],"tags":[],"owner":{"account_id":1251810,"reputation":1043,"user_id":1212086,"display_name":"Nadav"},"comment_count":1,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1510407422,"creation_date":1398180898,"answer_id":23223947,"question_id":8721406,"body_markdown":"For those who would like to understand how the method written by Dean Povey above works, here is the explanation:\r\n&lt;p&gt;\r\nThe method looks at a &quot;ray&quot; that starts at the tested spot and extends to infinity to the right side of the X axis. For each polygon segment, it checks if the ray crosses it. If the total number of segment crossing is odd then the tested point is considered inside the polygon, otherwise - it is outside.\r\n&lt;p&gt;\r\nTo understand the way the crossing is calculated, consider the following figure:\r\n\r\n                v2\r\n                o\r\n               /\r\n              / c (intersection)\r\n    o--------x----------------------&gt; to infinity\r\n    t       /\r\n           /   \r\n          /\r\n         o\r\n         v1\r\n\r\nFor the intersection to occur, tested.y must be between the y values of the segment&#39;s vertices (v1 and v2). This is the first condition of the if statement in the method. If this is what happens, then the horizontal line must intersect the segment. It only remains to establish whether the intersection happens to the right of the\r\ntested point or to the left of it. This requires finding the x coordinate of the intersection point, which is:\r\n\r\n                  t.y - v1.y\r\n    c.x = v1.x + ----------- * (v2.x - v1.x)\r\n                 v2.y - v1.y\r\n\r\nAll that remains to be done is examining the subtleties:\r\n&lt;ul&gt;\r\n&lt;li&gt;If v1.y == v2.y then the ray goes along the segment and\r\ntherefore the segment has no influence on the outcome. Indeed, the first part\r\nof the if statement returns false in that case.\r\n&lt;li&gt;The code first multiplies and only then divides. This is done to support\r\nvery small differences between v1.x and v2.x, which\r\nmight lead to a zero after the division, due to rounding.\r\n&lt;li&gt;Finally, the problem of crossing exactly on a vertex should be\r\naddressed. Consider the following two cases:\r\n&lt;/ul&gt;\r\n\r\n             o                    o\r\n             |                     \\     o\r\n             | A1                C1 \\   /\r\n             |                       \\ / C2  \r\n    o--------x-----------x------------x--------&gt; to infinity\r\n            /           / \\\r\n        A2 /        B1 /   \\ B2\r\n          /           /     \\ \r\n         o           /       o\r\n                    o\r\n\r\nNow, to verify if it works, check for yourself what is returned for each\r\nof the 4 segments by the if condition in the method body.\r\nYou should find that the segments above the ray (A1, C1, C2) receive\r\na positive result, while those below it (A2, B1, B2) receive a negative\r\none. This means that the A vertex contributes an odd number (1) to the crossing\r\ncount, while B and C contribute an even number (0 and 2, respectively), which\r\nis exactly what is desired. A is indeed a real crossing of the polygon, while B\r\nand C are just two cases of &quot;fly-by&quot;.\r\n\r\n\r\n","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>For those who would like to understand how the method written by Dean Povey above works, here is the explanation:\n<p>\nThe method looks at a \"ray\" that starts at the tested spot and extends to infinity to the right side of the X axis. For each polygon segment, it checks if the ray crosses it. If the total number of segment crossing is odd then the tested point is considered inside the polygon, otherwise - it is outside.\n<p>\nTo understand the way the crossing is calculated, consider the following figure:</p>\n\n<pre><code>            v2\n            o\n           /\n          / c (intersection)\no--------x----------------------&gt; to infinity\nt       /\n       /   \n      /\n     o\n     v1\n</code></pre>\n\n<p>For the intersection to occur, tested.y must be between the y values of the segment's vertices (v1 and v2). This is the first condition of the if statement in the method. If this is what happens, then the horizontal line must intersect the segment. It only remains to establish whether the intersection happens to the right of the\ntested point or to the left of it. This requires finding the x coordinate of the intersection point, which is:</p>\n\n<pre><code>              t.y - v1.y\nc.x = v1.x + ----------- * (v2.x - v1.x)\n             v2.y - v1.y\n</code></pre>\n\n<p>All that remains to be done is examining the subtleties:</p>\n\n<ul>\n<li>If v1.y == v2.y then the ray goes along the segment and\ntherefore the segment has no influence on the outcome. Indeed, the first part\nof the if statement returns false in that case.\n<li>The code first multiplies and only then divides. This is done to support\nvery small differences between v1.x and v2.x, which\nmight lead to a zero after the division, due to rounding.\n<li>Finally, the problem of crossing exactly on a vertex should be\naddressed. Consider the following two cases:\n</ul>\n\n<pre><code>         o                    o\n         |                     \\     o\n         | A1                C1 \\   /\n         |                       \\ / C2  \no--------x-----------x------------x--------&gt; to infinity\n        /           / \\\n    A2 /        B1 /   \\ B2\n      /           /     \\ \n     o           /       o\n                o\n</code></pre>\n\n<p>Now, to verify if it works, check for yourself what is returned for each\nof the 4 segments by the if condition in the method body.\nYou should find that the segments above the ray (A1, C1, C2) receive\na positive result, while those below it (A2, B1, B2) receive a negative\none. This means that the A vertex contributes an odd number (1) to the crossing\ncount, while B and C contribute an even number (0 and 2, respectively), which\nis exactly what is desired. A is indeed a real crossing of the polygon, while B\nand C are just two cases of \"fly-by\".</p>\n"},{"tags":[],"owner":{"account_id":4398357,"reputation":5480,"user_id":3584765,"accept_rate":61,"display_name":"Eypros"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1474894460,"creation_date":1403525692,"answer_id":24365675,"question_id":8721406,"body_markdown":"Just to add a (simple) Java implementation of the original code in C from [code suggested by @Dean Povey][1] (I don&#39;t know why @Dean Povey is referring to a large implementation):\r\n\r\n    static boolean pnpoly(double[] vertx, double[] verty, double testx, double testy)\r\n    {\r\n    \tint nvert = vertx.length;\r\n    \tint i, j;\r\n    \tboolean c = false;\r\n    \tfor (i = 0, j = nvert-1; i &lt; nvert; j = i++) {\r\n    \t\tif ( ((verty[i]&gt;testy) != (verty[j]&gt;testy)) &amp;&amp;\r\n    \t\t\t\t(testx &lt; (vertx[j]-vertx[i]) * (testy-verty[i]) / (verty[j]-verty[i]) + vertx[i]) )\r\n    \t\t\tc = !c;\r\n    \t}\r\n    \treturn c;\r\n    }\t\r\n\r\nI did not change the case to comply with Java rule to show the minimal changes required. I have also tested it in simple cases and it works fine.\r\n\r\n\r\n  [1]: http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>Just to add a (simple) Java implementation of the original code in C from <a href=\"http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\" rel=\"nofollow\">code suggested by @Dean Povey</a> (I don't know why @Dean Povey is referring to a large implementation):</p>\n\n<pre><code>static boolean pnpoly(double[] vertx, double[] verty, double testx, double testy)\n{\n    int nvert = vertx.length;\n    int i, j;\n    boolean c = false;\n    for (i = 0, j = nvert-1; i &lt; nvert; j = i++) {\n        if ( ((verty[i]&gt;testy) != (verty[j]&gt;testy)) &amp;&amp;\n                (testx &lt; (vertx[j]-vertx[i]) * (testy-verty[i]) / (verty[j]-verty[i]) + vertx[i]) )\n            c = !c;\n    }\n    return c;\n}   \n</code></pre>\n\n<p>I did not change the case to comply with Java rule to show the minimal changes required. I have also tested it in simple cases and it works fine.</p>\n"},{"tags":[],"owner":{"account_id":5594012,"reputation":174,"user_id":5254694,"display_name":"Apoorva Ambhoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483713765,"creation_date":1483710290,"answer_id":41507078,"question_id":8721406,"body_markdown":"Say, x[] is the array of x points and y[] is the array of y points.&lt;br&gt;\r\nYou are meant to return 1 if the point exists in the polygon and 2 if not. where (planeX,planeY) is the point you need to check.\r\n\r\n    //check like this\r\n    return new Polygon(x,y,x.length).contains(planeX, planeY)?1:2;","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>Say, x[] is the array of x points and y[] is the array of y points.<br>\nYou are meant to return 1 if the point exists in the polygon and 2 if not. where (planeX,planeY) is the point you need to check.</p>\n\n<pre><code>//check like this\nreturn new Polygon(x,y,x.length).contains(planeX, planeY)?1:2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4188528,"reputation":890,"user_id":3431636,"accept_rate":79,"display_name":"Seraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535722011,"creation_date":1535722011,"answer_id":52116491,"question_id":8721406,"body_markdown":"Polygon&#39;s abscissas `x_array: Array[Integer]`\r\n\r\nPolygon&#39;s ordinates: `y_array: Array[Integer]`\r\n\r\nPoint: `x: Integer, y: Integer`\r\n\r\n    import java.awt.Polygon\r\n    import java.awt.Point\r\n    ...\r\n\r\n    final boolean isInPolygon = \r\n        new Polygon(x_array,y_array,x_array.length).contains(new Point(x, y));\r\n\r\nIn this example we create an object `java.awt.Polygon` and use the method contains to check if your coordinates are in the shape you designed.\r\n\r\nI use the object `java.awt.Point` to represent the coordinates to make the code elegant but that is optional, you can directly use `.contains(x, y)`","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>Polygon's abscissas <code>x_array: Array[Integer]</code></p>\n\n<p>Polygon's ordinates: <code>y_array: Array[Integer]</code></p>\n\n<p>Point: <code>x: Integer, y: Integer</code></p>\n\n<pre><code>import java.awt.Polygon\nimport java.awt.Point\n...\n\nfinal boolean isInPolygon = \n    new Polygon(x_array,y_array,x_array.length).contains(new Point(x, y));\n</code></pre>\n\n<p>In this example we create an object <code>java.awt.Polygon</code> and use the method contains to check if your coordinates are in the shape you designed.</p>\n\n<p>I use the object <code>java.awt.Point</code> to represent the coordinates to make the code elegant but that is optional, you can directly use <code>.contains(x, y)</code></p>\n"},{"tags":[],"owner":{"account_id":11368907,"reputation":4584,"user_id":8334991,"display_name":"Alexandre Fenyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686965304,"creation_date":1671541805,"answer_id":74863626,"question_id":8721406,"body_markdown":"Many answers are based on intersections. Here is a simple algorithm not based on intersections but only using vector products.\r\nThis method is less complex that methods based on intersections, but only works for convex polygons. Since the question is about convex polygons, this less complex method should be preferred.\r\n\r\nImagine that your convex polygon (P0, P1, ..., Pn), with (Pi-1, Pi) being its segments, is a needle clock and that the point C you want to check is inside the clock. The points (Pi) will either turn clockwise, or counterclockwise. Imagine a needle attached to C, that gives hours when turning clockwise. The vectors CP0→, CP1→, CP2→, CP...→, CPn→ all turn either clockwise, or counterclockwise. This means that the vector products CP0→⨯CP1→, CP1→⨯CP2→, CP2→⨯CP...→, CPn-1→⨯CPn→ and CPn→⨯CP0→ all have the same orientation. Since they are also colinear, their orientation is defined by the sign of their scalar product taken two by two.\r\nThis property only occurs when C is inside the polygon. Therefore, iif the signs of the scalar products of the vector products are constant, C is inside the polygon.\r\n\r\n","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>Many answers are based on intersections. Here is a simple algorithm not based on intersections but only using vector products.\nThis method is less complex that methods based on intersections, but only works for convex polygons. Since the question is about convex polygons, this less complex method should be preferred.</p>\n<p>Imagine that your convex polygon (P0, P1, ..., Pn), with (Pi-1, Pi) being its segments, is a needle clock and that the point C you want to check is inside the clock. The points (Pi) will either turn clockwise, or counterclockwise. Imagine a needle attached to C, that gives hours when turning clockwise. The vectors CP0→, CP1→, CP2→, CP...→, CPn→ all turn either clockwise, or counterclockwise. This means that the vector products CP0→⨯CP1→, CP1→⨯CP2→, CP2→⨯CP...→, CPn-1→⨯CPn→ and CPn→⨯CP0→ all have the same orientation. Since they are also colinear, their orientation is defined by the sign of their scalar product taken two by two.\nThis property only occurs when C is inside the polygon. Therefore, iif the signs of the scalar products of the vector products are constant, C is inside the polygon.</p>\n"}],"owner":{"account_id":109063,"reputation":13146,"user_id":289182,"accept_rate":86,"display_name":"NPike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64969,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":8721483,"answer_count":9,"score":39,"last_activity_date":1686965304,"creation_date":1325644883,"question_id":8721406,"body_markdown":"I have a convex polygon (typically just a rotated square), and I know all of 4 points.  How do I determine if a given point (yellow/green) is *inside* the polygon?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6uSYj.png\r\n\r\nEDIT:  For this particular project, I don&#39;t have access to all of the libraries of the JDK, such as AWT.","title":"How to determine if a point is inside a 2D convex polygon?","body":"<p>I have a convex polygon (typically just a rotated square), and I know all of 4 points.  How do I determine if a given point (yellow/green) is <em>inside</em> the polygon?</p>\n\n<p><img src=\"https://i.stack.imgur.com/6uSYj.png\" alt=\"enter image description here\"></p>\n\n<p>EDIT:  For this particular project, I don't have access to all of the libraries of the JDK, such as AWT.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1686958861,"post_id":76494044,"comment_id":134875049,"body_markdown":"How does the Bird class look?","body":"How does the Bird class look?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1686959484,"post_id":76494044,"comment_id":134875094,"body_markdown":"Add entity. Would you mind updating your answer (would also be great to see the dervied save method)","body":"Add entity. Would you mind updating your answer (would also be great to see the dervied save method)"},{"owner":{"account_id":27038179,"reputation":69,"user_id":20593455,"display_name":"Kaushal"},"score":0,"creation_date":1686959522,"post_id":76494044,"comment_id":134875099,"body_markdown":"Try to autowire this birdRepo that you are using in serviceimpl","body":"Try to autowire this birdRepo that you are using in serviceimpl"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1686962455,"post_id":76494044,"comment_id":134875295,"body_markdown":"Why can&#39;t you use the `Optional&lt;T&gt; findById(ID primaryKey);` provided from the CrudRepository?","body":"Why can&#39;t you use the <code>Optional&lt;T&gt; findById(ID primaryKey);</code> provided from the CrudRepository?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1686962571,"post_id":76494044,"comment_id":134875307,"body_markdown":"I guess the problem lies in that the query can not guarantee to return a Bird. You can unwrap the optional in your service layer by defaulting to null, if you really want to. (I&#39;d stick with the optional).","body":"I guess the problem lies in that the query can not guarantee to return a Bird. You can unwrap the optional in your service layer by defaulting to null, if you really want to. (I&#39;d stick with the optional)."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1686963150,"post_id":76494044,"comment_id":134875330,"body_markdown":"I am using Optional&lt;T&gt; findById(ID primaryKey); aren&#39;t I? Do I need to add the Crud repo or does it come with JPA?","body":"I am using Optional&lt;T&gt; findById(ID primaryKey); aren&#39;t I? Do I need to add the Crud repo or does it come with JPA?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686984543,"post_id":76494044,"comment_id":134876462,"body_markdown":"1. Bird entity must have a no-args constructor. 2. Remove the Bird findById method from BirdRepository and just use the auto-generated one in your service like: return birdRepository.findById(id).get()","body":"1. Bird entity must have a no-args constructor. 2. Remove the Bird findById method from BirdRepository and just use the auto-generated one in your service like: return birdRepository.findById(id).get()"}],"answers":[{"tags":[],"owner":{"account_id":20457602,"reputation":17,"user_id":15010903,"display_name":"Vishwas Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686958561,"creation_date":1686958561,"answer_id":76494105,"question_id":76494044,"body_markdown":"To resolve this issue, you can try the following steps:\r\n\r\n 1. Make sure the Bird entity class has a property named id of type Long and that it is annotated with the appropriate annotations, such as `@Id` and `@GeneratedValue`.\r\n 2. Verify that the Bird entity class is correctly mapped to the database table. Ensure that the table has a primary key column matching the id property of the Bird entity.\r\n\r\nTo properly find the error I need the `Bird.class` enitiy definition.","title":"Incompatible return type on derived query in JPA","body":"<p>To resolve this issue, you can try the following steps:</p>\n<ol>\n<li>Make sure the Bird entity class has a property named id of type Long and that it is annotated with the appropriate annotations, such as <code>@Id</code> and <code>@GeneratedValue</code>.</li>\n<li>Verify that the Bird entity class is correctly mapped to the database table. Ensure that the table has a primary key column matching the id property of the Bird entity.</li>\n</ol>\n<p>To properly find the error I need the <code>Bird.class</code> enitiy definition.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686959733,"creation_date":1686957274,"question_id":76494044,"body_markdown":"I have the following Spring project and trying to use the derived query to return one Bird by Id.\r\n\r\n**Bird**\r\n\r\n    @Entity\r\n    @Data\r\n    public class Bird {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n        @Column(unique = true)\r\n        @NotEmpty(message = &quot;Name must not be null or empty&quot;)\r\n        private String name;\r\n        @Enumerated(EnumType.STRING)\r\n        private Sex sex;\r\n    \r\n        // other stuff\r\n        }\r\n\r\n**BirdRepository**\r\n    \r\n    public interface BirdRepository extends JpaRepository&lt;Bird, Long&gt; {\r\n\r\n        Bird findById(Long Id);\r\n    }\r\n\r\n**BirdServiceImpl**\r\n\r\n    @Service\r\n    @Transactional\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class BirdServiceImpl implements BirdService {\r\n    \r\n        private final BirdRepository birdRepository;\r\n    \r\n        @Override\r\n        public Bird get(Long id) {\r\n            return birdRepository.findById(id);\r\n        }\r\n    }\r\n\r\n**BirdService**\r\n\r\n    public interface BirdService {\r\n\r\n    Bird get(Long id);\r\n    }\r\n\r\nThe error I get in the IDE is:\r\n    \r\n    `Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;birdRepository&#39; \r\n    defined in com.nz.eagle.repository.BirdRepository defined in @EnableJpaRepositories declared on\r\n    JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.nz.eagle.model.Bird   \r\n    com.nz.eagle.repository.BirdRepository.FindById(java.lang.Long)! Reason: Failed to create query for method public abstract com.nz.eagle.model.Bird     \r\n    com.nz.eagle.repository.BirdRepository.FindById(java.lang.Long)! No property &#39;findById&#39; found for type &#39;Bird&#39;!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.nz.eagle.model.Bird     \r\n    com.nz.eagle.repository.BirdRepository.FindById(java.lang.Long)! No property &#39;findById&#39; found for type &#39;Bird&#39;!`\r\n\r\n**Q:** What am I missing. I want to be able to use the derived Save and Get methods for one entity.\r\n","title":"Incompatible return type on derived query in JPA","body":"<p>I have the following Spring project and trying to use the derived query to return one Bird by Id.</p>\n<p><strong>Bird</strong></p>\n<pre><code>@Entity\n@Data\npublic class Bird {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n    @Column(unique = true)\n    @NotEmpty(message = &quot;Name must not be null or empty&quot;)\n    private String name;\n    @Enumerated(EnumType.STRING)\n    private Sex sex;\n\n    // other stuff\n    }\n</code></pre>\n<p><strong>BirdRepository</strong></p>\n<pre><code>public interface BirdRepository extends JpaRepository&lt;Bird, Long&gt; {\n\n    Bird findById(Long Id);\n}\n</code></pre>\n<p><strong>BirdServiceImpl</strong></p>\n<pre><code>@Service\n@Transactional\n@Slf4j\n@RequiredArgsConstructor\npublic class BirdServiceImpl implements BirdService {\n\n    private final BirdRepository birdRepository;\n\n    @Override\n    public Bird get(Long id) {\n        return birdRepository.findById(id);\n    }\n}\n</code></pre>\n<p><strong>BirdService</strong></p>\n<pre><code>public interface BirdService {\n\nBird get(Long id);\n}\n</code></pre>\n<p>The error I get in the IDE is:</p>\n<pre><code>`Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'birdRepository' \ndefined in com.nz.eagle.repository.BirdRepository defined in @EnableJpaRepositories declared on\nJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.nz.eagle.model.Bird   \ncom.nz.eagle.repository.BirdRepository.FindById(java.lang.Long)! Reason: Failed to create query for method public abstract com.nz.eagle.model.Bird     \ncom.nz.eagle.repository.BirdRepository.FindById(java.lang.Long)! No property 'findById' found for type 'Bird'!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.nz.eagle.model.Bird     \ncom.nz.eagle.repository.BirdRepository.FindById(java.lang.Long)! No property 'findById' found for type 'Bird'!`\n</code></pre>\n<p><strong>Q:</strong> What am I missing. I want to be able to use the derived Save and Get methods for one entity.</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"score":0,"creation_date":1686780063,"post_id":76477303,"comment_id":134848042,"body_markdown":"Did you check the timestamps of data written to BQ? whether they are within the expected window or not?","body":"Did you check the timestamps of data written to BQ? whether they are within the expected window or not?"},{"owner":{"account_id":2697635,"reputation":1299,"user_id":2329241,"accept_rate":67,"display_name":"Narendra Jaggi"},"score":0,"creation_date":1686796468,"post_id":76477303,"comment_id":134849599,"body_markdown":"I have eventTime coming from the producer and my job adding ingestion time. In BQ I can see only miliseconds difference between two. For eg eventTime is 2023-06-14T19:47:49.488Z then ingestionTime is 2023-06-14T19:47:49.891Z.\nMy expectation is for some records it should come around more than 1 min or higher","body":"I have eventTime coming from the producer and my job adding ingestion time. In BQ I can see only miliseconds difference between two. For eg eventTime is 2023-06-14T19:47:49.488Z then ingestionTime is 2023-06-14T19:47:49.891Z. My expectation is for some records it should come around more than 1 min or higher"},{"owner":{"account_id":1900300,"reputation":1162,"user_id":1716285,"accept_rate":8,"display_name":"Soliman"},"score":1,"creation_date":1686947351,"post_id":76477303,"comment_id":134873800,"body_markdown":"Can you share your window code? it will be helpful.","body":"Can you share your window code? it will be helpful."}],"answers":[{"tags":[],"owner":{"account_id":13185554,"reputation":534,"user_id":12022900,"display_name":"Joevanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686958244,"creation_date":1686958244,"answer_id":76494093,"question_id":76477303,"body_markdown":"&lt;p style=&quot;margin: 0;&quot;&gt;I think you were not able to set the proper triggers and used the default configuration which is event time. I believe you should use the After Processing Time trigger and set it to a minute like this code from the &lt;a href=&quot;https://beam.apache.org/documentation/programming-guide/#triggers&quot;&gt;official docs&lt;/a&gt;&lt;/p&gt;\r\n\r\n  \r\n\r\n    pcollection | WindowInto(\r\n        FixedWindows(1 * 60),\r\n        trigger=AfterProcessingTime(1 * 60),\r\n        accumulation_mode=AccumulationMode.DISCARDING)","title":"How to verify windowing is working in Apache Beam Dataflow","body":"I think you were not able to set the proper triggers and used the default configuration which is event time. I believe you should use the After Processing Time trigger and set it to a minute like this code from the <a href=\"https://beam.apache.org/documentation/programming-guide/#triggers\" rel=\"nofollow noreferrer\">official docs</a></p>\n<pre><code>pcollection | WindowInto(\n    FixedWindows(1 * 60),\n    trigger=AfterProcessingTime(1 * 60),\n    accumulation_mode=AccumulationMode.DISCARDING)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2927439,"reputation":992,"user_id":2508468,"accept_rate":50,"display_name":"vdolez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686958992,"creation_date":1686958992,"answer_id":76494120,"question_id":76477303,"body_markdown":"You can write your own [Test pipeline](https://beam.apache.org/documentation/pipelines/test-your-pipeline/#an-example-test-for-a-composite-transform) using something like:\r\n```java\r\nPipeline p = TestPipeline.create();\r\n```\r\n\r\nFor **testing unbounded pipelines**, there&#39;s a [blog post](https://beam.apache.org/blog/test-stream/) that explains how to do it, it may have change a bit since 2016, but you&#39;ll find some good resources to start.\r\n\r\nYour goal is to use `PAssert` to verify that tests are passing in the different `PCollection` triggered by your windows.\r\n\r\n```java\r\n// Only one value is emitted for the blue team\r\nPAssert.that(teamScores)\r\n       .inWindow(window)\r\n       .containsInAnyOrder(KV.of(&quot;blue&quot;, 18));\r\np.run();\r\n```","title":"How to verify windowing is working in Apache Beam Dataflow","body":"<p>You can write your own <a href=\"https://beam.apache.org/documentation/pipelines/test-your-pipeline/#an-example-test-for-a-composite-transform\" rel=\"nofollow noreferrer\">Test pipeline</a> using something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pipeline p = TestPipeline.create();\n</code></pre>\n<p>For <strong>testing unbounded pipelines</strong>, there's a <a href=\"https://beam.apache.org/blog/test-stream/\" rel=\"nofollow noreferrer\">blog post</a> that explains how to do it, it may have change a bit since 2016, but you'll find some good resources to start.</p>\n<p>Your goal is to use <code>PAssert</code> to verify that tests are passing in the different <code>PCollection</code> triggered by your windows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Only one value is emitted for the blue team\nPAssert.that(teamScores)\n       .inWindow(window)\n       .containsInAnyOrder(KV.of(&quot;blue&quot;, 18));\np.run();\n</code></pre>\n"}],"owner":{"account_id":2697635,"reputation":1299,"user_id":2329241,"accept_rate":67,"display_name":"Narendra Jaggi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686958992,"creation_date":1686774412,"question_id":76477303,"body_markdown":"I have **dataflow job using apache beam** fix window of 1 min. It consume messages from pub sub topic and sinks to BigQuery table. &lt;br&gt;\r\nEven after using windowing for 1 min , I can see messages are getting sinked to BQ as soon as those are published by consumer.&lt;br&gt;\r\nIs there way I can confirm that windowing is actually working? I have seen many examples but none of the article is mentioning about validations.","title":"How to verify windowing is working in Apache Beam Dataflow","body":"<p>I have <strong>dataflow job using apache beam</strong> fix window of 1 min. It consume messages from pub sub topic and sinks to BigQuery table. <br>\nEven after using windowing for 1 min , I can see messages are getting sinked to BQ as soon as those are published by consumer.<br>\nIs there way I can confirm that windowing is actually working? I have seen many examples but none of the article is mentioning about validations.</p>\n"},{"tags":["java","spring","validation","ip","spring-roo"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1360852563,"post_id":14877019,"comment_id":20858301,"body_markdown":"You need to build your own validator. Check [this page](http://www.javabeat.net/2011/04/the-bean-validation-api-in-spring-roo-framework/all/1/) for an example that validates the ISBN number","body":"You need to build your own validator. Check <a href=\"http://www.javabeat.net/2011/04/the-bean-validation-api-in-spring-roo-framework/all/1/\" rel=\"nofollow noreferrer\">this page</a> for an example that validates the ISBN number"}],"answers":[{"comments":[{"owner":{"account_id":1428292,"reputation":607,"user_id":1351285,"accept_rate":38,"display_name":"Peters_"},"score":0,"creation_date":1597324137,"post_id":14877174,"comment_id":112099935,"body_markdown":"Could you please explain why initialize method is empty?","body":"Could you please explain why initialize method is empty?"},{"owner":{"account_id":1086182,"reputation":3886,"user_id":1081849,"display_name":"sbk"},"score":0,"creation_date":1598399453,"post_id":14877174,"comment_id":112445088,"body_markdown":"You need that method to satisfy the contract of the ConstraintValidator interface, but if you don&#39;t need to actually initialize anything you can leave it empty.","body":"You need that method to satisfy the contract of the ConstraintValidator interface, but if you don&#39;t need to actually initialize anything you can leave it empty."}],"tags":[],"owner":{"account_id":1086182,"reputation":3886,"user_id":1081849,"display_name":"sbk"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1360853146,"creation_date":1360852565,"answer_id":14877174,"question_id":14877019,"body_markdown":"Definitely possible.  You will need to code a custom annotation and implementation class.  Not too much effort.  See here for background: http://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html_single/#validator-customconstraints\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE })\r\n    @Documented\r\n    @Constraint(validatedBy = IpAddressValidator.class)\r\n    public @interface IpAddress\r\n    {\r\n      String message() default &quot;{ipAddress.invalid}&quot;;\r\n      Class&lt;?&gt;[] groups() default {};\r\n      Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nand\r\n\r\n    public class IpAddressValidator implements ConstraintValidator&lt;IpAddress, Object&gt;\r\n    {\r\n      @Override\r\n      public void initialize(IpAddress constraintAnnotation)\r\n      {\r\n      }\r\n\r\n      @Override\r\n      public boolean isValid(Object value, ConstraintValidatorContext cvContext)\r\n      {\r\n        // logic here\r\n      }\r\n    }\r\n","title":"Spring IP address validation","body":"<p>Definitely possible.  You will need to code a custom annotation and implementation class.  Not too much effort.  See here for background: <a href=\"http://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html_single/#validator-customconstraints\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html_single/#validator-customconstraints</a></p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE })\n@Documented\n@Constraint(validatedBy = IpAddressValidator.class)\npublic @interface IpAddress\n{\n  String message() default \"{ipAddress.invalid}\";\n  Class&lt;?&gt;[] groups() default {};\n  Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class IpAddressValidator implements ConstraintValidator&lt;IpAddress, Object&gt;\n{\n  @Override\n  public void initialize(IpAddress constraintAnnotation)\n  {\n  }\n\n  @Override\n  public boolean isValid(Object value, ConstraintValidatorContext cvContext)\n  {\n    // logic here\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60076,"reputation":8249,"user_id":179573,"accept_rate":100,"display_name":"abalogh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360852592,"creation_date":1360852592,"answer_id":14877184,"question_id":14877019,"body_markdown":"Essentially you want to use JSR-303 annotations with a custom validator. See a full working example [here][1].\r\n\r\n\r\n  [1]: http://forum.springsource.org/showthread.php?90053-Custom-validator-together-with-JSR-303-annotation","title":"Spring IP address validation","body":"<p>Essentially you want to use JSR-303 annotations with a custom validator. See a full working example <a href=\"http://forum.springsource.org/showthread.php?90053-Custom-validator-together-with-JSR-303-annotation\" rel=\"nofollow\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1360853450,"post_id":14877281,"comment_id":20858853,"body_markdown":"The pattern can be easily extended... The point is that you do not write additional annotations and validators, when you can use regular expressions","body":"The pattern can be easily extended... The point is that you do not write additional annotations and validators, when you can use regular expressions"},{"owner":{"account_id":1558204,"reputation":421,"user_id":1448709,"accept_rate":80,"display_name":"mbs"},"score":2,"creation_date":1360855063,"post_id":14877281,"comment_id":20859835,"body_markdown":"But if a create an additional annotation I can use it several times and I have to extend it only in one place. Thanks for the regex I need it anyway for the validation.","body":"But if a create an additional annotation I can use it several times and I have to extend it only in one place. Thanks for the regex I need it anyway for the validation."},{"owner":{"account_id":144389,"reputation":2265,"user_id":353405,"display_name":"Lonre Wang"},"score":0,"creation_date":1369973841,"post_id":14877281,"comment_id":24299191,"body_markdown":"The regexp string literal needs to escape","body":"The regexp string literal needs to escape"}],"tags":[],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1504169028,"creation_date":1360852903,"answer_id":14877281,"question_id":14877019,"body_markdown":"You can use the JSR 303 Pattern validator, with an IP address regex:\r\n\r\n\r\n    @NotNull\r\n    @Pattern(regexp = &quot;^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$&quot;)\r\n    private String ip;\r\n\r\nedit: escape backslash","title":"Spring IP address validation","body":"<p>You can use the JSR 303 Pattern validator, with an IP address regex:</p>\n\n<pre><code>@NotNull\n@Pattern(regexp = \"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\")\nprivate String ip;\n</code></pre>\n\n<p>edit: escape backslash</p>\n"},{"tags":[],"owner":{"account_id":1807376,"reputation":1019,"user_id":1644214,"accept_rate":100,"display_name":"alvonellos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686958099,"creation_date":1686958099,"answer_id":76494083,"question_id":14877019,"body_markdown":"I know I&#39;m digging up an old answer but I wanted to add a few things here. that I think could help because I was personally unsatisfied by all these answers for a couple reasons. \r\n\r\n1). Doing a @Pattern above every IP like that is kinda ugly and it&#39;d be cool just to have a quick class to include. \r\n\r\n2). IPv4 is trivial. IPv6 is not. \r\n\r\nIf you&#39;re looking to do IPv6, read this: [https://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses][1]\r\n\r\n3). \r\nIf you want a simple IPv4 validator in one nice class, check out this code I hacked together and tested over on my own website. Works nicely.  \r\n\r\n    import jakarta.validation.Constraint;\r\n    import jakarta.validation.Payload;\r\n    import jakarta.validation.Valid;\r\n    import jakarta.validation.constraints.Pattern;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Pattern(regexp = ValidIPv4.IPV4_REGEX)\r\n    @Constraint(validatedBy = {})\r\n    @Target({ElementType.FIELD, ElementType.PARAMETER})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ValidIPv4 {\r\n        // JSR 303 Pattern Validator for IPv4\r\n        String IPV4_REGEX = &quot;^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$&quot;;\r\n    \r\n        String message() default &quot;must match &quot; + IPV4_REGEX;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nand of course a really nice unit test you can use: \r\n\r\n    import jakarta.validation.ConstraintViolation;\r\n    import jakarta.validation.Validation;\r\n    import jakarta.validation.Validator;\r\n    import jakarta.validation.ValidatorFactory;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import java.util.Set;\r\n    \r\n    import static org.testng.AssertJUnit.assertEquals;\r\n    \r\n    public class ValidIPv4Test {\r\n    \r\n        @Validated\r\n        private class MyClass {\r\n            @ValidIPv4\r\n            private String ipv4;\r\n    \r\n            public String getIpv4() {\r\n                return ipv4;\r\n            }\r\n    \r\n            public void setIpv4(String ipv4) {\r\n                this.ipv4 = ipv4;\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void testValidFormat() {\r\n            // Create a ValidatorFactory and Validator\r\n            ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\r\n            Validator validator = validatorFactory.getValidator();\r\n    \r\n            // Create an object with the field to validate\r\n            MyClass myClass = new MyClass();\r\n            myClass.setIpv4(&quot;127.0.0.1&quot;);\r\n    \r\n            // Perform validation\r\n            Set&lt;ConstraintViolation&lt;MyClass&gt;&gt; violations = validator.validate(myClass);\r\n    \r\n            // Assert that there are no validation violations\r\n            assertEquals(0, violations.size());\r\n        }\r\n    \r\n        @Test\r\n        public void testInvalidFormat() {\r\n            // Create a ValidatorFactory and Validator\r\n            ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\r\n            Validator validator = validatorFactory.getValidator();\r\n    \r\n            // Create an object with the field to validate\r\n            MyClass myClass = new MyClass();\r\n            myClass.setIpv4(&quot;827.0.0.1&quot;);\r\n    \r\n            // Perform validation\r\n            Set&lt;ConstraintViolation&lt;MyClass&gt;&gt; violations = validator.validate(myClass);\r\n    \r\n            // Assert that there is one validation violation\r\n            assertEquals(1, violations.size());\r\n    \r\n            // Assert that the violation is related to the field\r\n            ConstraintViolation&lt;MyClass&gt; violation = violations.iterator().next();\r\n            assertEquals(&quot;must match \\&quot;&quot; + ValidIPv4.IPV4_REGEX + &quot;\\&quot;&quot;, violation.getMessage());\r\n            assertEquals(&quot;ipv4&quot;, violation.getPropertyPath().toString());\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses","title":"Spring IP address validation","body":"<p>I know I'm digging up an old answer but I wanted to add a few things here. that I think could help because I was personally unsatisfied by all these answers for a couple reasons.</p>\n<p>1). Doing a @Pattern above every IP like that is kinda ugly and it'd be cool just to have a quick class to include.</p>\n<p>2). IPv4 is trivial. IPv6 is not.</p>\n<p>If you're looking to do IPv6, read this: <a href=\"https://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\">Regular expression that matches valid IPv6 addresses</a></p>\n<p>3).\nIf you want a simple IPv4 validator in one nice class, check out this code I hacked together and tested over on my own website. Works nicely.</p>\n<pre><code>import jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.Pattern;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Pattern(regexp = ValidIPv4.IPV4_REGEX)\n@Constraint(validatedBy = {})\n@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidIPv4 {\n    // JSR 303 Pattern Validator for IPv4\n    String IPV4_REGEX = &quot;^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$&quot;;\n\n    String message() default &quot;must match &quot; + IPV4_REGEX;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>and of course a really nice unit test you can use:</p>\n<pre><code>import jakarta.validation.ConstraintViolation;\nimport jakarta.validation.Validation;\nimport jakarta.validation.Validator;\nimport jakarta.validation.ValidatorFactory;\nimport org.springframework.validation.annotation.Validated;\nimport org.testng.annotations.Test;\n\nimport java.util.Set;\n\nimport static org.testng.AssertJUnit.assertEquals;\n\npublic class ValidIPv4Test {\n\n    @Validated\n    private class MyClass {\n        @ValidIPv4\n        private String ipv4;\n\n        public String getIpv4() {\n            return ipv4;\n        }\n\n        public void setIpv4(String ipv4) {\n            this.ipv4 = ipv4;\n        }\n    }\n\n    @Test\n    public void testValidFormat() {\n        // Create a ValidatorFactory and Validator\n        ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\n        Validator validator = validatorFactory.getValidator();\n\n        // Create an object with the field to validate\n        MyClass myClass = new MyClass();\n        myClass.setIpv4(&quot;127.0.0.1&quot;);\n\n        // Perform validation\n        Set&lt;ConstraintViolation&lt;MyClass&gt;&gt; violations = validator.validate(myClass);\n\n        // Assert that there are no validation violations\n        assertEquals(0, violations.size());\n    }\n\n    @Test\n    public void testInvalidFormat() {\n        // Create a ValidatorFactory and Validator\n        ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\n        Validator validator = validatorFactory.getValidator();\n\n        // Create an object with the field to validate\n        MyClass myClass = new MyClass();\n        myClass.setIpv4(&quot;827.0.0.1&quot;);\n\n        // Perform validation\n        Set&lt;ConstraintViolation&lt;MyClass&gt;&gt; violations = validator.validate(myClass);\n\n        // Assert that there is one validation violation\n        assertEquals(1, violations.size());\n\n        // Assert that the violation is related to the field\n        ConstraintViolation&lt;MyClass&gt; violation = violations.iterator().next();\n        assertEquals(&quot;must match \\&quot;&quot; + ValidIPv4.IPV4_REGEX + &quot;\\&quot;&quot;, violation.getMessage());\n        assertEquals(&quot;ipv4&quot;, violation.getPropertyPath().toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1558204,"reputation":421,"user_id":1448709,"accept_rate":80,"display_name":"mbs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12897,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":14877174,"answer_count":4,"score":10,"last_activity_date":1686958099,"creation_date":1360852087,"question_id":14877019,"body_markdown":"I&#39;m looking for a possiblity to validate IP addresses in my Spring roo project.\r\n\r\nMy entity looks like this\r\n\r\n    package com.ip.test.domain;\r\n\r\n    import javax.persistence.ManyToOne;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    import org.springframework.roo.addon.javabean.RooJavaBean;\r\n    import org.springframework.roo.addon.jpa.activerecord.RooJpaActiveRecord;\r\n    import org.springframework.roo.addon.tostring.RooToString;\r\n\r\n    @RooJavaBean\r\n    @RooToString\r\n    @RooJpaActiveRecord\r\n    public class IP {\r\n\r\n    @NotNull\r\n    @Size(min = 7, max = 15)\r\n    private String ip;\r\n\r\n    @ManyToOne\r\n    private Hoster Hoster;\r\n    }\r\n\r\nWith this setup it validates only if the string contains 7 to 15 characters, but not really if it&#39;s an IP address. \r\n\r\nSomething like\r\n\r\n    @validIpAddress\r\n    private String ip;\r\n\r\nwould be nice.\r\n\r\nAny idea if that&#39;s possible?","title":"Spring IP address validation","body":"<p>I'm looking for a possiblity to validate IP addresses in my Spring roo project.</p>\n\n<p>My entity looks like this</p>\n\n<pre><code>package com.ip.test.domain;\n\nimport javax.persistence.ManyToOne;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport org.springframework.roo.addon.javabean.RooJavaBean;\nimport org.springframework.roo.addon.jpa.activerecord.RooJpaActiveRecord;\nimport org.springframework.roo.addon.tostring.RooToString;\n\n@RooJavaBean\n@RooToString\n@RooJpaActiveRecord\npublic class IP {\n\n@NotNull\n@Size(min = 7, max = 15)\nprivate String ip;\n\n@ManyToOne\nprivate Hoster Hoster;\n}\n</code></pre>\n\n<p>With this setup it validates only if the string contains 7 to 15 characters, but not really if it's an IP address. </p>\n\n<p>Something like</p>\n\n<pre><code>@validIpAddress\nprivate String ip;\n</code></pre>\n\n<p>would be nice.</p>\n\n<p>Any idea if that's possible?</p>\n"},{"tags":["java","android","json","butterknife"],"owner":{"account_id":19288273,"reputation":3,"user_id":14098847,"display_name":"Tanmay Nandwana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686957630,"creation_date":1686957630,"question_id":76494061,"body_markdown":"I have an app and I don&#39;t need to show the subcategory rather than i want to show the items page directly in my app like when user click category it should open items page without show the subcategory and shows all data of that category. \r\nhere is my category code\r\n\r\n```\r\nimport static com.grocery.food.Activity.HomeActivity.homeActivity;\r\n\r\n\r\npublic class CategoryFragment extends Fragment implements CategoryAdp.RecyclerTouchListener, GetResult.MyListener {\r\n    // TODO: Rename parameter arguments, choose names that match\r\n\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n    @BindView(R.id.recycler_view)\r\n    RecyclerView recyclerView;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n    CategoryAdp adapter;\r\n    List&lt;CatItem&gt; categoryList;\r\n    Unbinder unbinder;\r\n    SessionManager sessionManager;\r\n    User user;\r\n\r\n    public CategoryFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static CategoryFragment newInstance(String param1, String param2) {\r\n        CategoryFragment fragment = new CategoryFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_category, container, false);\r\n        unbinder = ButterKnife.bind(this, view);\r\n        categoryList = new ArrayList&lt;&gt;();\r\n        sessionManager = new SessionManager(getActivity());\r\n        user = sessionManager.getUserDetails(&quot;&quot;);\r\n\r\n//        categoryList = (List&lt;CatItem&gt;) getArguments().getSerializable(&quot;arraylist&quot;);\r\n        ;\r\n\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), 3));\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n\r\n        getCategory();\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onClickItem(View v, int position) {\r\n        homeActivity.ShowMenu();\r\n        Bundle args = new Bundle();\r\n        args.putInt(&quot;id&quot;, position);\r\n        Fragment fragment = new SubCategoryFragment();\r\n        fragment.setArguments(args);\r\n        HomeActivity.getInstance().callFragment(fragment);\r\n    }\r\n\r\n    @Override\r\n    public void onLongClickItem(View v, int position) {\r\n\r\n    }\r\n\r\n    private void getCategory() {\r\n        HomeActivity.custPrograssbar.PrograssCreate(getActivity());\r\n        JSONObject jsonObject = new JSONObject();\r\n        try {\r\n            jsonObject.put(&quot;uid&quot;, user.getId());\r\n            JsonParser jsonParser = new JsonParser();\r\n            Call&lt;JsonObject&gt; call = APIClient.getInterface().getCat((JsonObject) jsonParser.parse(jsonObject.toString()));\r\n            GetResult getResult = new GetResult();\r\n            getResult.setMyListener(this);\r\n            getResult.callForLogin(call, &quot;1&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void callback(JsonObject result, String callNo) {\r\n        try {\r\n\r\n\r\n            HomeActivity.custPrograssbar.ClosePrograssBar();\r\n            if (callNo.equalsIgnoreCase(&quot;1&quot;) &amp;&amp; result.toString() != null) {\r\n                Gson gson = new Gson();\r\n                Category category = gson.fromJson(result.toString(), Category.class);\r\n                categoryList = category.getData();\r\n                adapter = new CategoryAdp(getActivity(), categoryList, this);\r\n                recyclerView.setAdapter(adapter);\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nnow when user clicks the category it should show only itemlist:\r\n```\r\npackage com.grocery.food.Fragment;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport com.grocery.food.Activity.HomeActivity;\r\nimport com.grocery.food.Adepter.SubCategoryAdp;\r\nimport com.grocery.food.Model.SubCategory;\r\nimport com.grocery.food.Model.SubcatItem;\r\nimport com.grocery.food.Model.User;\r\nimport com.grocery.food.R;\r\nimport com.grocery.food.Utils.SessionManager;\r\nimport com.grocery.food.retrofit.APIClient;\r\nimport com.grocery.food.retrofit.GetResult;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport butterknife.Unbinder;\r\nimport retrofit2.Call;\r\n\r\nimport static com.grocery.food.Activity.HomeActivity.homeActivity;\r\n\r\n\r\npublic class SubCategoryFragment extends Fragment implements GetResult.MyListener, SubCategoryAdp.RecyclerTouchListener {\r\n    // TODO: Rename parameter arguments, choose names that match\r\n\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n    @BindView(R.id.recycler_view)\r\n    RecyclerView recyclerView;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n    SubCategoryAdp adapter;\r\n    List&lt;SubcatItem&gt; categoryList;\r\n    Unbinder unbinder;\r\n    SessionManager sessionManager;\r\n    User user;\r\n    int CID = 0;\r\n\r\n    public SubCategoryFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static SubCategoryFragment newInstance(String param1, String param2) {\r\n        SubCategoryFragment fragment = new SubCategoryFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_subcategory, container, false);\r\n        unbinder = ButterKnife.bind(this, view);\r\n        Bundle b = getArguments();\r\n        CID = b.getInt(&quot;id&quot;);\r\n\r\n        categoryList = new ArrayList&lt;&gt;();\r\n        sessionManager = new SessionManager(getActivity());\r\n        user = sessionManager.getUserDetails(&quot;&quot;);\r\n\r\n\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), 3));\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n\r\n        getSubCategory();\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onClickItem(View v, int cid, int scid) {\r\n        homeActivity.ShowMenu();\r\n        Bundle args = new Bundle();\r\n        args.putInt(&quot;cid&quot;, cid);\r\n        args.putInt(&quot;scid&quot;, scid);\r\n        Fragment fragment = new ItemListFragment();\r\n        fragment.setArguments(args);\r\n        HomeActivity.getInstance().callFragment(fragment);\r\n    }\r\n\r\n    @Override\r\n    public void onLongClickItem(View v, int position) {\r\n\r\n    }\r\n\r\n    private void getSubCategory() {\r\n        HomeActivity.custPrograssbar.PrograssCreate(getActivity());\r\n        JSONObject jsonObject = new JSONObject();\r\n        try {\r\n            jsonObject.put(&quot;category_id&quot;, CID);\r\n            JsonParser jsonParser = new JsonParser();\r\n            Call&lt;JsonObject&gt; call = APIClient.getInterface().getSubcategory((JsonObject) jsonParser.parse(jsonObject.toString()));\r\n            GetResult getResult = new GetResult();\r\n            getResult.setMyListener(this);\r\n            getResult.callForLogin(call, &quot;1&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void callback(JsonObject result, String callNo) {\r\n        try {\r\n\r\n\r\n            HomeActivity.custPrograssbar.ClosePrograssBar();\r\n            if (callNo.equalsIgnoreCase(&quot;1&quot;) &amp;&amp; result.toString() != null) {\r\n                Gson gson = new Gson();\r\n                SubCategory category = gson.fromJson(result.toString(), SubCategory.class);\r\n                categoryList = category.getData();\r\n                adapter = new SubCategoryAdp(getActivity(), categoryList, this);\r\n                recyclerView.setAdapter(adapter);\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nnow here&#39;s my itelist code please have a look to it too..\r\n```\r\npackage com.grocery.food.Activity;\r\n\r\nimport android.database.Cursor;\r\nimport android.graphics.Paint;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.grocery.food.DataBase.DatabaseHelper;\r\nimport com.grocery.food.DataBase.MyCart;\r\nimport com.grocery.food.Model.Price;\r\nimport com.grocery.food.Model.ProductItem;\r\nimport com.grocery.food.R;\r\nimport com.grocery.food.Utils.SessionManager;\r\nimport com.grocery.food.retrofit.APIClient;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport butterknife.OnClick;\r\n\r\nimport static com.grocery.food.Fragment.ItemListFragment.itemListFragment;\r\nimport static com.grocery.food.Utils.SessionManager.CURRUNCY;\r\n\r\npublic class ItemDetailsActivity extends AppCompatActivity {\r\n\r\n\r\n    ProductItem productItem;\r\n    Price price;\r\n    @BindView(R.id.imgP)\r\n    ImageView imgP;\r\n    @BindView(R.id.img_back)\r\n    ImageView imgBack;\r\n    @BindView(R.id.img_cart)\r\n    ImageView imgCart;\r\n    @BindView(R.id.txt_tcount)\r\n    TextView txtTcount;\r\n    @BindView(R.id.lvl_cart)\r\n    RelativeLayout lvlCart;\r\n    @BindView(R.id.txt_title)\r\n    TextView txtTitle;\r\n    @BindView(R.id.txt_desc)\r\n    TextView txtDesc;\r\n    @BindView(R.id.lvl_pricelist)\r\n    LinearLayout lvlPricelist;\r\n    @BindView(R.id.btn_addtocart)\r\n    Button btnAddtocart;\r\n    ArrayList&lt;Price&gt; priceslist;\r\n    DatabaseHelper databaseHelper;\r\n    SessionManager sessionManager;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_item_details);\r\n        ButterKnife.bind(this);\r\n        sessionManager=new SessionManager(this);\r\n        databaseHelper = new DatabaseHelper(ItemDetailsActivity.this);\r\n        productItem = (ProductItem) getIntent().getParcelableExtra(&quot;MyClass&quot;);\r\n        priceslist = getIntent().getParcelableArrayListExtra(&quot;MyList&quot;);\r\n        if (productItem != null) {\r\n            txtTitle.setText(&quot;&quot; + productItem.getProductName());\r\n            txtDesc.setText(&quot;&quot; + productItem.getShortDesc());\r\n            Glide.with(this).load(APIClient.Base_URL + &quot;/&quot; + productItem.getProductImage()).thumbnail(Glide.with(this).load(R.drawable.ezgifresize)).into(imgP);\r\n            setJoinPlayrList(lvlPricelist, productItem, priceslist);\r\n            updateItem();\r\n        }\r\n    }\r\n\r\n    public void updateItem() {\r\n        Cursor res = databaseHelper.getAllData();\r\n        if (res.getCount() == 0) {\r\n            txtTcount.setText(&quot;0&quot;);\r\n\r\n        } else {\r\n            txtTcount.setText(&quot;&quot; + res.getCount());\r\n        }\r\n    }\r\n\r\n    @OnClick({R.id.img_back, R.id.lvl_cart, R.id.btn_addtocart})\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.img_back:\r\n                finish();\r\n                break;\r\n            case R.id.lvl_cart:\r\n                fragment();\r\n                break;\r\n            case R.id.btn_addtocart:\r\n                finish();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void setJoinPlayrList(LinearLayout lnrView, ProductItem datum, List&lt;Price&gt; priceList) {\r\n\r\n        lnrView.removeAllViews();\r\n        final int[] count = {0};\r\n        DatabaseHelper helper = new DatabaseHelper(lnrView.getContext());\r\n        if (priceList != null &amp;&amp; priceList.size() &gt; 0) {\r\n            for (int i = 0; i &lt; priceList.size(); i++) {\r\n                LayoutInflater inflater = LayoutInflater.from(this);\r\n\r\n                View view = inflater.inflate(R.layout.custome_prize, null);\r\n\r\n                TextView txt_price = view.findViewById(R.id.txt_price);\r\n                TextView txt_gram = view.findViewById(R.id.txt_gram);\r\n                TextView txt_offer = view.findViewById(R.id.txt_offer);\r\n                TextView txtcount = view.findViewById(R.id.txtcount);\r\n                LinearLayout img_mins = view.findViewById(R.id.img_mins);\r\n                LinearLayout img_plus = view.findViewById(R.id.img_plus);\r\n                MyCart myCart = new MyCart();\r\n                myCart.setPID(datum.getId());\r\n                myCart.setImage(datum.getProductImage());\r\n                myCart.setTitle(datum.getProductName());\r\n                myCart.setWeight(priceList.get(i).getProductType());\r\n                myCart.setCost(priceList.get(i).getProductPrice());\r\n                myCart.setDiscount(datum.getmDiscount());\r\n                int qrt = helper.getCard(myCart.getPID(), myCart.getCost());\r\n                if (qrt != -1) {\r\n                    count[0] = qrt;\r\n                    txtcount.setText(&quot;&quot; + count[0]);\r\n                    txtcount.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    txtcount.setVisibility(View.VISIBLE);\r\n                    img_mins.setVisibility(View.VISIBLE);\r\n                }\r\n                img_mins.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n\r\n                        count[0] = Integer.parseInt(txtcount.getText().toString());\r\n\r\n                        count[0] = count[0] - 1;\r\n                        if (count[0] &lt;= 0) {\r\n                            img_mins.setVisibility(View.VISIBLE);\r\n                            txtcount.setText(&quot;0&quot;);\r\n                            txtcount.setVisibility(View.VISIBLE);\r\n                            helper.deleteRData(myCart.getPID(), myCart.getCost());\r\n                        } else {\r\n                            txtcount.setVisibility(View.VISIBLE);\r\n                            txtcount.setText(&quot;&quot; + count[0]);\r\n                            myCart.setQty(String.valueOf(count[0]));\r\n                            Log.e(&quot;INsert&quot;, &quot;--&gt; &quot; + helper.insertData(myCart));\r\n                        }\r\n                        if (itemListFragment != null)\r\n                            itemListFragment.updateItem();\r\n                        updateItem();\r\n                    }\r\n                });\r\n\r\n                img_plus.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        txtcount.setVisibility(View.VISIBLE);\r\n                        img_mins.setVisibility(View.VISIBLE);\r\n                        count[0] = Integer.parseInt(txtcount.getText().toString());\r\n\r\n                        count[0] = count[0] + 1;\r\n                        txtcount.setText(&quot;&quot; + count[0]);\r\n                        myCart.setQty(String.valueOf(count[0]));\r\n                        Log.e(&quot;INsert&quot;, &quot;--&gt; &quot; + helper.insertData(myCart));\r\n                        if (itemListFragment != null)\r\n                            itemListFragment.updateItem();\r\n                        updateItem();\r\n                    }\r\n                });\r\n\r\n\r\n                txt_gram.setText(&quot;&quot; + priceList.get(i).getProductType());\r\n\r\n\r\n                if (datum.getmDiscount() &gt; 0) {\r\n                    double  res = (Double.parseDouble(priceList.get(i).getProductPrice()) / 100.0f)* datum.getmDiscount();\r\n                    res = Integer.parseInt(priceList.get(i).getProductPrice()) - res;\r\n                    txt_offer.setText(sessionManager.getStringData(CURRUNCY)+ priceList.get(i).getProductPrice());\r\n                    txt_offer.setPaintFlags(txt_offer.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                    txt_price.setText(sessionManager.getStringData(CURRUNCY)  + res);\r\n                } else {\r\n                    txt_offer.setVisibility(View.GONE);\r\n                    txt_price.setText(sessionManager.getStringData(CURRUNCY)  + priceList.get(i).getProductPrice());\r\n                }\r\n                lnrView.addView(view);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void fragment() {\r\n        SessionManager.ISCART = true;\r\n        finish();\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n","title":"Need to combine my category, subcategory, item in java for my android app","body":"<p>I have an app and I don't need to show the subcategory rather than i want to show the items page directly in my app like when user click category it should open items page without show the subcategory and shows all data of that category.\nhere is my category code</p>\n<pre><code>import static com.grocery.food.Activity.HomeActivity.homeActivity;\n\n\npublic class CategoryFragment extends Fragment implements CategoryAdp.RecyclerTouchListener, GetResult.MyListener {\n    // TODO: Rename parameter arguments, choose names that match\n\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n    @BindView(R.id.recycler_view)\n    RecyclerView recyclerView;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n    CategoryAdp adapter;\n    List&lt;CatItem&gt; categoryList;\n    Unbinder unbinder;\n    SessionManager sessionManager;\n    User user;\n\n    public CategoryFragment() {\n        // Required empty public constructor\n    }\n\n    // TODO: Rename and change types and number of parameters\n    public static CategoryFragment newInstance(String param1, String param2) {\n        CategoryFragment fragment = new CategoryFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_category, container, false);\n        unbinder = ButterKnife.bind(this, view);\n        categoryList = new ArrayList&lt;&gt;();\n        sessionManager = new SessionManager(getActivity());\n        user = sessionManager.getUserDetails(&quot;&quot;);\n\n//        categoryList = (List&lt;CatItem&gt;) getArguments().getSerializable(&quot;arraylist&quot;);\n        ;\n\n        recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), 3));\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n\n        getCategory();\n        return view;\n    }\n\n    @Override\n    public void onClickItem(View v, int position) {\n        homeActivity.ShowMenu();\n        Bundle args = new Bundle();\n        args.putInt(&quot;id&quot;, position);\n        Fragment fragment = new SubCategoryFragment();\n        fragment.setArguments(args);\n        HomeActivity.getInstance().callFragment(fragment);\n    }\n\n    @Override\n    public void onLongClickItem(View v, int position) {\n\n    }\n\n    private void getCategory() {\n        HomeActivity.custPrograssbar.PrograssCreate(getActivity());\n        JSONObject jsonObject = new JSONObject();\n        try {\n            jsonObject.put(&quot;uid&quot;, user.getId());\n            JsonParser jsonParser = new JsonParser();\n            Call&lt;JsonObject&gt; call = APIClient.getInterface().getCat((JsonObject) jsonParser.parse(jsonObject.toString()));\n            GetResult getResult = new GetResult();\n            getResult.setMyListener(this);\n            getResult.callForLogin(call, &quot;1&quot;);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    @Override\n    public void callback(JsonObject result, String callNo) {\n        try {\n\n\n            HomeActivity.custPrograssbar.ClosePrograssBar();\n            if (callNo.equalsIgnoreCase(&quot;1&quot;) &amp;&amp; result.toString() != null) {\n                Gson gson = new Gson();\n                Category category = gson.fromJson(result.toString(), Category.class);\n                categoryList = category.getData();\n                adapter = new CategoryAdp(getActivity(), categoryList, this);\n                recyclerView.setAdapter(adapter);\n            }\n        } catch (Exception e) {\n\n        }\n    }\n}\n</code></pre>\n<p>now when user clicks the category it should show only itemlist:</p>\n<pre><code>package com.grocery.food.Fragment;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.grocery.food.Activity.HomeActivity;\nimport com.grocery.food.Adepter.SubCategoryAdp;\nimport com.grocery.food.Model.SubCategory;\nimport com.grocery.food.Model.SubcatItem;\nimport com.grocery.food.Model.User;\nimport com.grocery.food.R;\nimport com.grocery.food.Utils.SessionManager;\nimport com.grocery.food.retrofit.APIClient;\nimport com.grocery.food.retrofit.GetResult;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.Unbinder;\nimport retrofit2.Call;\n\nimport static com.grocery.food.Activity.HomeActivity.homeActivity;\n\n\npublic class SubCategoryFragment extends Fragment implements GetResult.MyListener, SubCategoryAdp.RecyclerTouchListener {\n    // TODO: Rename parameter arguments, choose names that match\n\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n    @BindView(R.id.recycler_view)\n    RecyclerView recyclerView;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n    SubCategoryAdp adapter;\n    List&lt;SubcatItem&gt; categoryList;\n    Unbinder unbinder;\n    SessionManager sessionManager;\n    User user;\n    int CID = 0;\n\n    public SubCategoryFragment() {\n        // Required empty public constructor\n    }\n\n    // TODO: Rename and change types and number of parameters\n    public static SubCategoryFragment newInstance(String param1, String param2) {\n        SubCategoryFragment fragment = new SubCategoryFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_subcategory, container, false);\n        unbinder = ButterKnife.bind(this, view);\n        Bundle b = getArguments();\n        CID = b.getInt(&quot;id&quot;);\n\n        categoryList = new ArrayList&lt;&gt;();\n        sessionManager = new SessionManager(getActivity());\n        user = sessionManager.getUserDetails(&quot;&quot;);\n\n\n        recyclerView.setLayoutManager(new GridLayoutManager(getActivity(), 3));\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n\n        getSubCategory();\n        return view;\n    }\n\n    @Override\n    public void onClickItem(View v, int cid, int scid) {\n        homeActivity.ShowMenu();\n        Bundle args = new Bundle();\n        args.putInt(&quot;cid&quot;, cid);\n        args.putInt(&quot;scid&quot;, scid);\n        Fragment fragment = new ItemListFragment();\n        fragment.setArguments(args);\n        HomeActivity.getInstance().callFragment(fragment);\n    }\n\n    @Override\n    public void onLongClickItem(View v, int position) {\n\n    }\n\n    private void getSubCategory() {\n        HomeActivity.custPrograssbar.PrograssCreate(getActivity());\n        JSONObject jsonObject = new JSONObject();\n        try {\n            jsonObject.put(&quot;category_id&quot;, CID);\n            JsonParser jsonParser = new JsonParser();\n            Call&lt;JsonObject&gt; call = APIClient.getInterface().getSubcategory((JsonObject) jsonParser.parse(jsonObject.toString()));\n            GetResult getResult = new GetResult();\n            getResult.setMyListener(this);\n            getResult.callForLogin(call, &quot;1&quot;);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    @Override\n    public void callback(JsonObject result, String callNo) {\n        try {\n\n\n            HomeActivity.custPrograssbar.ClosePrograssBar();\n            if (callNo.equalsIgnoreCase(&quot;1&quot;) &amp;&amp; result.toString() != null) {\n                Gson gson = new Gson();\n                SubCategory category = gson.fromJson(result.toString(), SubCategory.class);\n                categoryList = category.getData();\n                adapter = new SubCategoryAdp(getActivity(), categoryList, this);\n                recyclerView.setAdapter(adapter);\n            }\n        } catch (Exception e) {\n\n        }\n    }\n}\n\n</code></pre>\n<p>now here's my itelist code please have a look to it too..</p>\n<pre><code>package com.grocery.food.Activity;\n\nimport android.database.Cursor;\nimport android.graphics.Paint;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.bumptech.glide.Glide;\nimport com.grocery.food.DataBase.DatabaseHelper;\nimport com.grocery.food.DataBase.MyCart;\nimport com.grocery.food.Model.Price;\nimport com.grocery.food.Model.ProductItem;\nimport com.grocery.food.R;\nimport com.grocery.food.Utils.SessionManager;\nimport com.grocery.food.retrofit.APIClient;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\n\nimport static com.grocery.food.Fragment.ItemListFragment.itemListFragment;\nimport static com.grocery.food.Utils.SessionManager.CURRUNCY;\n\npublic class ItemDetailsActivity extends AppCompatActivity {\n\n\n    ProductItem productItem;\n    Price price;\n    @BindView(R.id.imgP)\n    ImageView imgP;\n    @BindView(R.id.img_back)\n    ImageView imgBack;\n    @BindView(R.id.img_cart)\n    ImageView imgCart;\n    @BindView(R.id.txt_tcount)\n    TextView txtTcount;\n    @BindView(R.id.lvl_cart)\n    RelativeLayout lvlCart;\n    @BindView(R.id.txt_title)\n    TextView txtTitle;\n    @BindView(R.id.txt_desc)\n    TextView txtDesc;\n    @BindView(R.id.lvl_pricelist)\n    LinearLayout lvlPricelist;\n    @BindView(R.id.btn_addtocart)\n    Button btnAddtocart;\n    ArrayList&lt;Price&gt; priceslist;\n    DatabaseHelper databaseHelper;\n    SessionManager sessionManager;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_item_details);\n        ButterKnife.bind(this);\n        sessionManager=new SessionManager(this);\n        databaseHelper = new DatabaseHelper(ItemDetailsActivity.this);\n        productItem = (ProductItem) getIntent().getParcelableExtra(&quot;MyClass&quot;);\n        priceslist = getIntent().getParcelableArrayListExtra(&quot;MyList&quot;);\n        if (productItem != null) {\n            txtTitle.setText(&quot;&quot; + productItem.getProductName());\n            txtDesc.setText(&quot;&quot; + productItem.getShortDesc());\n            Glide.with(this).load(APIClient.Base_URL + &quot;/&quot; + productItem.getProductImage()).thumbnail(Glide.with(this).load(R.drawable.ezgifresize)).into(imgP);\n            setJoinPlayrList(lvlPricelist, productItem, priceslist);\n            updateItem();\n        }\n    }\n\n    public void updateItem() {\n        Cursor res = databaseHelper.getAllData();\n        if (res.getCount() == 0) {\n            txtTcount.setText(&quot;0&quot;);\n\n        } else {\n            txtTcount.setText(&quot;&quot; + res.getCount());\n        }\n    }\n\n    @OnClick({R.id.img_back, R.id.lvl_cart, R.id.btn_addtocart})\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.img_back:\n                finish();\n                break;\n            case R.id.lvl_cart:\n                fragment();\n                break;\n            case R.id.btn_addtocart:\n                finish();\n                break;\n        }\n    }\n\n    private void setJoinPlayrList(LinearLayout lnrView, ProductItem datum, List&lt;Price&gt; priceList) {\n\n        lnrView.removeAllViews();\n        final int[] count = {0};\n        DatabaseHelper helper = new DatabaseHelper(lnrView.getContext());\n        if (priceList != null &amp;&amp; priceList.size() &gt; 0) {\n            for (int i = 0; i &lt; priceList.size(); i++) {\n                LayoutInflater inflater = LayoutInflater.from(this);\n\n                View view = inflater.inflate(R.layout.custome_prize, null);\n\n                TextView txt_price = view.findViewById(R.id.txt_price);\n                TextView txt_gram = view.findViewById(R.id.txt_gram);\n                TextView txt_offer = view.findViewById(R.id.txt_offer);\n                TextView txtcount = view.findViewById(R.id.txtcount);\n                LinearLayout img_mins = view.findViewById(R.id.img_mins);\n                LinearLayout img_plus = view.findViewById(R.id.img_plus);\n                MyCart myCart = new MyCart();\n                myCart.setPID(datum.getId());\n                myCart.setImage(datum.getProductImage());\n                myCart.setTitle(datum.getProductName());\n                myCart.setWeight(priceList.get(i).getProductType());\n                myCart.setCost(priceList.get(i).getProductPrice());\n                myCart.setDiscount(datum.getmDiscount());\n                int qrt = helper.getCard(myCart.getPID(), myCart.getCost());\n                if (qrt != -1) {\n                    count[0] = qrt;\n                    txtcount.setText(&quot;&quot; + count[0]);\n                    txtcount.setVisibility(View.VISIBLE);\n                } else {\n                    txtcount.setVisibility(View.VISIBLE);\n                    img_mins.setVisibility(View.VISIBLE);\n                }\n                img_mins.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n\n                        count[0] = Integer.parseInt(txtcount.getText().toString());\n\n                        count[0] = count[0] - 1;\n                        if (count[0] &lt;= 0) {\n                            img_mins.setVisibility(View.VISIBLE);\n                            txtcount.setText(&quot;0&quot;);\n                            txtcount.setVisibility(View.VISIBLE);\n                            helper.deleteRData(myCart.getPID(), myCart.getCost());\n                        } else {\n                            txtcount.setVisibility(View.VISIBLE);\n                            txtcount.setText(&quot;&quot; + count[0]);\n                            myCart.setQty(String.valueOf(count[0]));\n                            Log.e(&quot;INsert&quot;, &quot;--&gt; &quot; + helper.insertData(myCart));\n                        }\n                        if (itemListFragment != null)\n                            itemListFragment.updateItem();\n                        updateItem();\n                    }\n                });\n\n                img_plus.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        txtcount.setVisibility(View.VISIBLE);\n                        img_mins.setVisibility(View.VISIBLE);\n                        count[0] = Integer.parseInt(txtcount.getText().toString());\n\n                        count[0] = count[0] + 1;\n                        txtcount.setText(&quot;&quot; + count[0]);\n                        myCart.setQty(String.valueOf(count[0]));\n                        Log.e(&quot;INsert&quot;, &quot;--&gt; &quot; + helper.insertData(myCart));\n                        if (itemListFragment != null)\n                            itemListFragment.updateItem();\n                        updateItem();\n                    }\n                });\n\n\n                txt_gram.setText(&quot;&quot; + priceList.get(i).getProductType());\n\n\n                if (datum.getmDiscount() &gt; 0) {\n                    double  res = (Double.parseDouble(priceList.get(i).getProductPrice()) / 100.0f)* datum.getmDiscount();\n                    res = Integer.parseInt(priceList.get(i).getProductPrice()) - res;\n                    txt_offer.setText(sessionManager.getStringData(CURRUNCY)+ priceList.get(i).getProductPrice());\n                    txt_offer.setPaintFlags(txt_offer.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);\n                    txt_price.setText(sessionManager.getStringData(CURRUNCY)  + res);\n                } else {\n                    txt_offer.setVisibility(View.GONE);\n                    txt_price.setText(sessionManager.getStringData(CURRUNCY)  + priceList.get(i).getProductPrice());\n                }\n                lnrView.addView(view);\n            }\n        }\n    }\n\n    public void fragment() {\n        SessionManager.ISCART = true;\n        finish();\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1686623529,"post_id":76461360,"comment_id":134821059,"body_markdown":"Change `System.out.println(&quot;Register Gagal&quot;);` to `e.printStackTrace();` &lt;- This will provide you with more useful information as to the reason for the exception (and it&#39;s actual source)","body":"Change <code>System.out.println(&quot;Register Gagal&quot;);</code> to <code>e.printStackTrace();</code> &lt;- This will provide you with more useful information as to the reason for the exception (and it&#39;s actual source)"}],"owner":{"account_id":26792610,"reputation":1,"user_id":20385789,"display_name":"zQynians"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686955507,"creation_date":1686623223,"question_id":76461360,"body_markdown":"private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        // Mengambil nilai jLabel36Text dari jFrame1\r\n    jLabel36Text = landingViews.jLabel36Text;\r\n    \r\n    // Mengatur nilai jLabel8 dengan jLabel36Text\r\n    jLabel18.setText(jLabel36Text);\r\n    jLabel19.setText(String.valueOf(jLabel32Text));\r\n    \r\n    //memanggil menu\r\n    jLabel3.setText(jLabel10Text);\r\n    jLabel5.setText(jLabel12Text);\r\n    jLabel7.setText(jLabel11Text);\r\n    jLabel9.setText(jLabel13Text);\r\n    \r\n    //memanggil jumlah\r\n    jLabel4.setText(&quot;&quot;+hitungan);\r\n    jLabel6.setText(&quot;&quot;+hitungan2);\r\n    jLabel8.setText(&quot;&quot;+hitungan3);\r\n    jLabel10.setText(&quot;&quot;+hitungan4);\r\n    \r\n    //memanggil harga\r\n    jLabel11.setText(&quot;&quot;+harga1);\r\n    jLabel12.setText(&quot;&quot;+harga2);\r\n    jLabel13.setText(&quot;&quot;+harga3);\r\n    jLabel14.setText(&quot;&quot;+harga4);\r\n   \r\n    \r\n    \r\n    try {\r\n            String id = &quot;&quot;;\r\n            String namaMenu = this.jLabel10Text;\r\n            double harga = this.harga1;\r\n            int jumlah =this.hitungan;\r\n            double subtotal = this.harga1;\r\n            \r\n            \r\n            if (namaMenu.isEmpty()) {\r\n                JOptionPane.showMessageDialog(null, &quot;Data tidak boleh kosong&quot;);\r\n                this.requestFocus();\r\n            }\r\n             else {\r\n                cont.addMenu(id, namaMenu, harga, jumlah, subtotal);\r\n                this.dispose();\r\n                JOptionPane.showMessageDialog(null, &quot;Menu telah terinput&quot;);\r\n                landingViews logView = new landingViews();\r\n                logView.show();\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Register Gagal&quot;);\r\n        }\r\ni expecting this netbeans code button send the data on cont.addMenu(id, namaMenu, harga, jumlah, subtotal); \r\nto myPHPAdmin. but it cant`your text`","title":"Why output always get to &#39;catch&#39;?","body":"<p>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {<br />\n// TODO add your handling code here:\n// Mengambil nilai jLabel36Text dari jFrame1\njLabel36Text = landingViews.jLabel36Text;</p>\n<pre><code>// Mengatur nilai jLabel8 dengan jLabel36Text\njLabel18.setText(jLabel36Text);\njLabel19.setText(String.valueOf(jLabel32Text));\n\n//memanggil menu\njLabel3.setText(jLabel10Text);\njLabel5.setText(jLabel12Text);\njLabel7.setText(jLabel11Text);\njLabel9.setText(jLabel13Text);\n\n//memanggil jumlah\njLabel4.setText(&quot;&quot;+hitungan);\njLabel6.setText(&quot;&quot;+hitungan2);\njLabel8.setText(&quot;&quot;+hitungan3);\njLabel10.setText(&quot;&quot;+hitungan4);\n\n//memanggil harga\njLabel11.setText(&quot;&quot;+harga1);\njLabel12.setText(&quot;&quot;+harga2);\njLabel13.setText(&quot;&quot;+harga3);\njLabel14.setText(&quot;&quot;+harga4);\n\n\n\ntry {\n        String id = &quot;&quot;;\n        String namaMenu = this.jLabel10Text;\n        double harga = this.harga1;\n        int jumlah =this.hitungan;\n        double subtotal = this.harga1;\n        \n        \n        if (namaMenu.isEmpty()) {\n            JOptionPane.showMessageDialog(null, &quot;Data tidak boleh kosong&quot;);\n            this.requestFocus();\n        }\n         else {\n            cont.addMenu(id, namaMenu, harga, jumlah, subtotal);\n            this.dispose();\n            JOptionPane.showMessageDialog(null, &quot;Menu telah terinput&quot;);\n            landingViews logView = new landingViews();\n            logView.show();\n        }\n    } catch (Exception e) {\n        System.out.println(&quot;Register Gagal&quot;);\n    }\n</code></pre>\n<p>i expecting this netbeans code button send the data on cont.addMenu(id, namaMenu, harga, jumlah, subtotal);\nto myPHPAdmin. but it cant<code>your text</code></p>\n"},{"tags":["java","android","xml","android-layout"],"answers":[{"comments":[{"owner":{"account_id":28836858,"reputation":1,"user_id":22086063,"display_name":"Ayush Shrivastav"},"score":0,"creation_date":1686988289,"post_id":76493895,"comment_id":134876743,"body_markdown":"Thanks for your help but if there is not styles folder, How can I add custom styles and over ride the previous styles...Are we supposed to define the styles ourselves?","body":"Thanks for your help but if there is not styles folder, How can I add custom styles and over ride the previous styles...Are we supposed to define the styles ourselves?"}],"tags":[],"owner":{"account_id":22198154,"reputation":41,"user_id":16439243,"display_name":"Abdelrahman Esam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686954238,"creation_date":1686954238,"answer_id":76493895,"question_id":76493718,"body_markdown":"well by defualt there is no styles.xml file .... you have the themes.xml file only and you should create the styles file by your self ...right click and new android resource file and create it ","title":"I am unable to find the styles file in the Values folder in Android development","body":"<p>well by defualt there is no styles.xml file .... you have the themes.xml file only and you should create the styles file by your self ...right click and new android resource file and create it</p>\n"}],"owner":{"account_id":28836858,"reputation":1,"user_id":22086063,"display_name":"Ayush Shrivastav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686954238,"creation_date":1686951577,"question_id":76493718,"body_markdown":"I am new to Android Development and cannot find the styles file in the Values folder. Am I misunderstanding something? Is there another way to style buttons since I cannot override pre-defined styles? Please help me find any alternative solutions to this problem and any suggestions for how to proceed as a beginner?","title":"I am unable to find the styles file in the Values folder in Android development","body":"<p>I am new to Android Development and cannot find the styles file in the Values folder. Am I misunderstanding something? Is there another way to style buttons since I cannot override pre-defined styles? Please help me find any alternative solutions to this problem and any suggestions for how to proceed as a beginner?</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1684797553,"post_id":76308882,"comment_id":134566477,"body_markdown":"For a reason I don&#39;t yet understand, the mocked objects in the RateService are not the ones you configure in your test.","body":"For a reason I don&#39;t yet understand, the mocked objects in the RateService are not the ones you configure in your test."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1684798905,"post_id":76308882,"comment_id":134566589,"body_markdown":"@SebPerp I have no idea why resttemplate returns null. I hope you can help me.","body":"@SebPerp I have no idea why resttemplate returns null. I hope you can help me."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684819048,"post_id":76308882,"comment_id":134568370,"body_markdown":"Did you try to stub like this?\n when(restTemplate.exchange(anyString(), eq(HttpMethod.GET), any(HttpEntity.class), eq(RateResponse.class)))\n                .thenReturn(responseEntity); (Could be that you are stubbing the wrong method)","body":"Did you try to stub like this?  when(restTemplate.exchange(anyString(), eq(HttpMethod.GET), any(HttpEntity.class), eq(RateResponse.class)))                 .thenReturn(responseEntity); (Could be that you are stubbing the wrong method)"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1684824130,"post_id":76308882,"comment_id":134569175,"body_markdown":"@Feelfree I tried to change the matchers of the method, the issue is not the stubbing. Stubbing done in the test class is not &quot;passed&quot; to the RateService as the objects are different. If you inject &quot;manually&quot; the mocks in the service, stubbing works.","body":"@Feelfree I tried to change the matchers of the method, the issue is not the stubbing. Stubbing done in the test class is not &quot;passed&quot; to the RateService as the objects are different. If you inject &quot;manually&quot; the mocks in the service, stubbing works."}],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1684870667,"creation_date":1684798973,"answer_id":76310493,"question_id":76308882,"body_markdown":"I missed the fact that BaseServiceTest is a SpringBootTest. I think you got problems because your original code tries to use, at the same time, Mockito injection and Spring injection.\r\n\r\nA clean solution if you want a SpringBootTest is to :\r\n\r\n1. Create a @Configuration class dedicated to your tests, that will create mocked spring beans :\r\n\r\n```\r\n    @Profile(&quot;test&quot;)\r\n    @Configuration\r\n    public class TestConfiguration {\r\n\r\n        @Bean\r\n        @Primary\r\n        public RateRepository mockRateRepository() {\r\n            return mock(RateRepository.class);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAnd just let Spring inject the services and repository that you use into your test :\r\n\r\n```\r\nclass RateServiceTest extends BaseServiceTest {\r\n\r\n    @Autowired\r\n    private RateRepository rateRepository;\r\n\r\n    @Autowired\r\n    private RateService rateService;\r\n\r\n    @Test\r\n    void testCalculateRate() {\r\n\r\n        // Mocked data\r\n        EnumCurrency base = EnumCurrency.EUR;\r\n        List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\r\n        LocalDate date = LocalDate.of(2023, 5, 22);\r\n\r\n        // Mocked rate entity\r\n        RateEntity mockedRateEntity = new RateEntity();\r\n        mockedRateEntity.setBase(base);\r\n        mockedRateEntity.setDate(date);\r\n        Map&lt;EnumCurrency, Double&gt; rates = new EnumMap&lt;&gt;(EnumCurrency.class);\r\n        rates.put(EnumCurrency.USD, 1.2);\r\n        rates.put(EnumCurrency.GBP, 0.9);\r\n        mockedRateEntity.setRates(rates);\r\n\r\n        // Mock repository behavior\r\n        when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\r\n\r\n        // Mock API response\r\n        RateResponse mockedRateResponse = RateResponse.builder()\r\n                .base(base)\r\n                .rates(rates)\r\n                .date(date)\r\n                .build();\r\n\r\n        // Create a mock response entity with the expected headers and body\r\n        ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\r\n                .body(mockedRateResponse);\r\n\r\n        // Call the method\r\n        RateDto result = rateService.calculateRate(base, targets, date);\r\n\r\n\r\n        // Verify the result\r\n        assertThat(result.getBase()).isEqualTo(base);\r\n        assertThat(result.getDate()).isEqualTo(date);\r\n        assertThat(result.getRates()).hasSize(2);\r\n        assertThat(result.getRates()).containsExactlyInAnyOrder(\r\n                new RateInfoDto(EnumCurrency.USD, 1.2),\r\n                new RateInfoDto(EnumCurrency.GBP, 0.9)\r\n        );\r\n\r\n        // Verify repository method was called\r\n        verify(rateRepository, times(1)).findOneByDate(date);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nYou now have multiple solutions for your problem.\r\n\r\n----------------------------------------\r\n\r\n**Old answer**\r\n\r\nI don&#39;t have a complete solution for you but I hope my analysis will help you.\r\n\r\n 1. Your first problem is not that restTemplate.exchange return null but that rateRepository.findOneByDate(date) does not return your mockedRateEntity. If your test was working fine, restTemplate would not be called, as it is called only when the rateRepository does not return an object. But you mocked it so as it returns one.\r\n\r\n2. I don&#39;t know why yet but, when debugging, we can see that the mocked restTemplate (@13398) and rateRepository(@13396) in your test class:\r\n\r\n[![in test][1]][1]\r\n\r\nare not the same mocked objects than the ones injected in the RestService class (restTemplate@17879 and rateRepository@17878) :\r\n\r\n[![in service][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nfvW7.png\r\n  [2]: https://i.stack.imgur.com/0YBrO.png\r\n\r\nI found a solution that is not totally satisfying (sorry) but that works :\r\n\r\n - Remove @InjectMocks there:\r\n```\r\n    @InjectMocks\r\n    private RateService rateService;\r\n```\r\n\r\n - instantiate yourself the RateService :\r\n```\r\n    rateService = new RateService(rateRepository, restTemplate);\r\n```\r\n\r\nYou&#39;ll also need to remove this part :\r\n\r\n```\r\n    when(restTemplate.exchange(\r\n                    anyString(),\r\n                    eq(HttpMethod.GET),\r\n                    any(HttpEntity.class),\r\n                    eq(RateResponse.class)\r\n    )).thenReturn(mockedResponseEntity);\r\n```\r\nbecause restTemplate won&#39;t be called if rateRepository returns a result.\r\n\r\nComplete test class that works with the solution I found is :\r\n\r\n```\r\npackage com.exchangeapi.currencyexchange.service;\r\n\r\nimport com.exchangeapi.currencyexchange.base.BaseServiceTest;\r\nimport com.exchangeapi.currencyexchange.dto.RateDto;\r\nimport com.exchangeapi.currencyexchange.dto.RateInfoDto;\r\nimport com.exchangeapi.currencyexchange.entity.RateEntity;\r\nimport com.exchangeapi.currencyexchange.entity.enums.EnumCurrency;\r\nimport com.exchangeapi.currencyexchange.payload.response.RateResponse;\r\nimport com.exchangeapi.currencyexchange.repository.RateRepository;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mock;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.*;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.mockito.Mockito.*;\r\n\r\n\r\nclass RateServiceTest extends BaseServiceTest {\r\n\r\n    @Mock\r\n    private RateRepository rateRepository;\r\n\r\n    @Mock\r\n    private RestTemplate restTemplate;\r\n\r\n    @Test\r\n    void testCalculateRate() {\r\n\r\n        // Mocked data\r\n        EnumCurrency base = EnumCurrency.EUR;\r\n        List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\r\n        LocalDate date = LocalDate.of(2023, 5, 22);\r\n\r\n        // Mocked rate entity\r\n        RateEntity mockedRateEntity = new RateEntity();\r\n        mockedRateEntity.setBase(base);\r\n        mockedRateEntity.setDate(date);\r\n        Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\r\n        rates.put(EnumCurrency.USD, 1.2);\r\n        rates.put(EnumCurrency.GBP, 0.9);\r\n        mockedRateEntity.setRates(rates);\r\n\r\n        // Mock repository behavior\r\n        when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\r\n\r\n        // Mock API response\r\n        RateResponse mockedRateResponse = RateResponse.builder()\r\n                .base(base)\r\n                .rates(rates)\r\n                .date(date)\r\n                .build();\r\n\r\n        // Create a mock response entity with the expected headers and body\r\n        ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\r\n                .body(mockedRateResponse);\r\n\r\n        // Mock RestTemplate behavior\r\n//        when(restTemplate.exchange(\r\n//                anyString(),\r\n//                eq(HttpMethod.GET),\r\n//                any(HttpEntity.class),\r\n//                eq(RateResponse.class)\r\n//        )).thenReturn(mockedResponseEntity);\r\n\r\n        RateService rateService = new RateService(rateRepository, restTemplate);\r\n\r\n        // Call the method\r\n        RateDto result = rateService.calculateRate(base, targets, date);\r\n\r\n\r\n        // Verify API call was made\r\n//        String expectedUrl = getExchangeUrl(date, base, targets);\r\n//        HttpHeaders expectedHeaders = new HttpHeaders();\r\n//        expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n//        HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\r\n\r\n\r\n        // Verify the result\r\n        assertThat(result.getBase()).isEqualTo(base);\r\n        assertThat(result.getDate()).isEqualTo(date);\r\n        assertThat(result.getRates()).hasSize(2);\r\n        assertThat(result.getRates()).containsExactlyInAnyOrder(\r\n                new RateInfoDto(EnumCurrency.USD, 1.2),\r\n                new RateInfoDto(EnumCurrency.GBP, 0.9)\r\n        );\r\n\r\n        // Verify repository method was called\r\n        verify(rateRepository, times(1)).findOneByDate(date);\r\n\r\n//        verify(restTemplate, times(1)).exchange(\r\n//                eq(expectedUrl),\r\n//                eq(HttpMethod.GET),\r\n//                eq(expectedHttpEntity),\r\n//                eq(RateResponse.class)\r\n//        );\r\n    }\r\n\r\n//    private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n//\r\n//        String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\r\n//        return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\r\n//    }\r\n}\r\n```\r\n\r\nI let the useless code commented to let you easily see what I changed / removed.\r\n\r\nGood luck !","title":"Spring Boot JUnit Test - Resttemplate returns null in ServiceTest (How to mock restTemplate exchange)","body":"<p>I missed the fact that BaseServiceTest is a SpringBootTest. I think you got problems because your original code tries to use, at the same time, Mockito injection and Spring injection.</p>\n<p>A clean solution if you want a SpringBootTest is to :</p>\n<ol>\n<li>Create a @Configuration class dedicated to your tests, that will create mocked spring beans :</li>\n</ol>\n<pre><code>    @Profile(&quot;test&quot;)\n    @Configuration\n    public class TestConfiguration {\n\n        @Bean\n        @Primary\n        public RateRepository mockRateRepository() {\n            return mock(RateRepository.class);\n        }\n\n    }\n</code></pre>\n<p>And just let Spring inject the services and repository that you use into your test :</p>\n<pre><code>class RateServiceTest extends BaseServiceTest {\n\n    @Autowired\n    private RateRepository rateRepository;\n\n    @Autowired\n    private RateService rateService;\n\n    @Test\n    void testCalculateRate() {\n\n        // Mocked data\n        EnumCurrency base = EnumCurrency.EUR;\n        List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n        LocalDate date = LocalDate.of(2023, 5, 22);\n\n        // Mocked rate entity\n        RateEntity mockedRateEntity = new RateEntity();\n        mockedRateEntity.setBase(base);\n        mockedRateEntity.setDate(date);\n        Map&lt;EnumCurrency, Double&gt; rates = new EnumMap&lt;&gt;(EnumCurrency.class);\n        rates.put(EnumCurrency.USD, 1.2);\n        rates.put(EnumCurrency.GBP, 0.9);\n        mockedRateEntity.setRates(rates);\n\n        // Mock repository behavior\n        when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n\n        // Mock API response\n        RateResponse mockedRateResponse = RateResponse.builder()\n                .base(base)\n                .rates(rates)\n                .date(date)\n                .build();\n\n        // Create a mock response entity with the expected headers and body\n        ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\n                .body(mockedRateResponse);\n\n        // Call the method\n        RateDto result = rateService.calculateRate(base, targets, date);\n\n\n        // Verify the result\n        assertThat(result.getBase()).isEqualTo(base);\n        assertThat(result.getDate()).isEqualTo(date);\n        assertThat(result.getRates()).hasSize(2);\n        assertThat(result.getRates()).containsExactlyInAnyOrder(\n                new RateInfoDto(EnumCurrency.USD, 1.2),\n                new RateInfoDto(EnumCurrency.GBP, 0.9)\n        );\n\n        // Verify repository method was called\n        verify(rateRepository, times(1)).findOneByDate(date);\n\n    }\n\n\n}\n</code></pre>\n<p>You now have multiple solutions for your problem.</p>\n<hr />\n<p><strong>Old answer</strong></p>\n<p>I don't have a complete solution for you but I hope my analysis will help you.</p>\n<ol>\n<li><p>Your first problem is not that restTemplate.exchange return null but that rateRepository.findOneByDate(date) does not return your mockedRateEntity. If your test was working fine, restTemplate would not be called, as it is called only when the rateRepository does not return an object. But you mocked it so as it returns one.</p>\n</li>\n<li><p>I don't know why yet but, when debugging, we can see that the mocked restTemplate (@13398) and rateRepository(@13396) in your test class:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nfvW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfvW7.png\" alt=\"in test\" /></a></p>\n<p>are not the same mocked objects than the ones injected in the RestService class (restTemplate@17879 and rateRepository@17878) :</p>\n<p><a href=\"https://i.stack.imgur.com/0YBrO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0YBrO.png\" alt=\"in service\" /></a></p>\n<p>I found a solution that is not totally satisfying (sorry) but that works :</p>\n<ul>\n<li>Remove @InjectMocks there:</li>\n</ul>\n<pre><code>    @InjectMocks\n    private RateService rateService;\n</code></pre>\n<ul>\n<li>instantiate yourself the RateService :</li>\n</ul>\n<pre><code>    rateService = new RateService(rateRepository, restTemplate);\n</code></pre>\n<p>You'll also need to remove this part :</p>\n<pre><code>    when(restTemplate.exchange(\n                    anyString(),\n                    eq(HttpMethod.GET),\n                    any(HttpEntity.class),\n                    eq(RateResponse.class)\n    )).thenReturn(mockedResponseEntity);\n</code></pre>\n<p>because restTemplate won't be called if rateRepository returns a result.</p>\n<p>Complete test class that works with the solution I found is :</p>\n<pre><code>package com.exchangeapi.currencyexchange.service;\n\nimport com.exchangeapi.currencyexchange.base.BaseServiceTest;\nimport com.exchangeapi.currencyexchange.dto.RateDto;\nimport com.exchangeapi.currencyexchange.dto.RateInfoDto;\nimport com.exchangeapi.currencyexchange.entity.RateEntity;\nimport com.exchangeapi.currencyexchange.entity.enums.EnumCurrency;\nimport com.exchangeapi.currencyexchange.payload.response.RateResponse;\nimport com.exchangeapi.currencyexchange.repository.RateRepository;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.time.LocalDate;\nimport java.util.*;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.Mockito.*;\n\n\nclass RateServiceTest extends BaseServiceTest {\n\n    @Mock\n    private RateRepository rateRepository;\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @Test\n    void testCalculateRate() {\n\n        // Mocked data\n        EnumCurrency base = EnumCurrency.EUR;\n        List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n        LocalDate date = LocalDate.of(2023, 5, 22);\n\n        // Mocked rate entity\n        RateEntity mockedRateEntity = new RateEntity();\n        mockedRateEntity.setBase(base);\n        mockedRateEntity.setDate(date);\n        Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n        rates.put(EnumCurrency.USD, 1.2);\n        rates.put(EnumCurrency.GBP, 0.9);\n        mockedRateEntity.setRates(rates);\n\n        // Mock repository behavior\n        when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n\n        // Mock API response\n        RateResponse mockedRateResponse = RateResponse.builder()\n                .base(base)\n                .rates(rates)\n                .date(date)\n                .build();\n\n        // Create a mock response entity with the expected headers and body\n        ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\n                .body(mockedRateResponse);\n\n        // Mock RestTemplate behavior\n//        when(restTemplate.exchange(\n//                anyString(),\n//                eq(HttpMethod.GET),\n//                any(HttpEntity.class),\n//                eq(RateResponse.class)\n//        )).thenReturn(mockedResponseEntity);\n\n        RateService rateService = new RateService(rateRepository, restTemplate);\n\n        // Call the method\n        RateDto result = rateService.calculateRate(base, targets, date);\n\n\n        // Verify API call was made\n//        String expectedUrl = getExchangeUrl(date, base, targets);\n//        HttpHeaders expectedHeaders = new HttpHeaders();\n//        expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n//        HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\n\n\n        // Verify the result\n        assertThat(result.getBase()).isEqualTo(base);\n        assertThat(result.getDate()).isEqualTo(date);\n        assertThat(result.getRates()).hasSize(2);\n        assertThat(result.getRates()).containsExactlyInAnyOrder(\n                new RateInfoDto(EnumCurrency.USD, 1.2),\n                new RateInfoDto(EnumCurrency.GBP, 0.9)\n        );\n\n        // Verify repository method was called\n        verify(rateRepository, times(1)).findOneByDate(date);\n\n//        verify(restTemplate, times(1)).exchange(\n//                eq(expectedUrl),\n//                eq(HttpMethod.GET),\n//                eq(expectedHttpEntity),\n//                eq(RateResponse.class)\n//        );\n    }\n\n//    private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n//\n//        String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n//        return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n//    }\n}\n</code></pre>\n<p>I let the useless code commented to let you easily see what I changed / removed.</p>\n<p>Good luck !</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686953722,"creation_date":1686953722,"answer_id":76493863,"question_id":76308882,"body_markdown":"Here is my answer shown below\r\n\r\nHere is the **BaseServiceTest** shown below\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;test&quot;)\r\n    public abstract class BaseServiceTest {\r\n    \r\n    }\r\n\r\nHere is the **RateServiceTest** shown below\r\n\r\n    class RateServiceTest extends BaseServiceTest {\r\n    \r\n    \r\n        @Mock\r\n        private RateRepository rateRepository;\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private RateService rateService;\r\n    \r\n    \r\n        @Test\r\n        void whenCalculateRate_butRateRepositoryFoundOne() {\r\n    \r\n            // Mocked data\r\n            EnumCurrency base = EnumCurrency.EUR;\r\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\r\n            LocalDate date = LocalDate.of(2023, 5, 22);\r\n    \r\n            // Mocked rate entity\r\n            RateEntity mockedRateEntity = new RateEntity();\r\n            mockedRateEntity.setBase(base);\r\n            mockedRateEntity.setDate(date);\r\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\r\n            rates.put(EnumCurrency.USD, 1.2);\r\n            rates.put(EnumCurrency.GBP, 0.9);\r\n            mockedRateEntity.setRates(rates);\r\n    \r\n            List&lt;RateInfoDto&gt; rateInfoList = targets.stream()\r\n                    .map(currency -&gt; new RateInfoDto(currency, rates.get(currency)))\r\n                    .collect(Collectors.toList());\r\n    \r\n            RateDto expected = RateDto.builder()\r\n                    .id(mockedRateEntity.getId())\r\n                    .base(mockedRateEntity.getBase())\r\n                    .date(mockedRateEntity.getDate())\r\n                    .rates(rateInfoList)\r\n                    .build();\r\n    \r\n            // Mock repository behavior\r\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\r\n    \r\n    \r\n            // Call the method\r\n            RateDto result = rateService.calculateRate(base, targets, date);\r\n    \r\n            // Verify the result\r\n            assertThat(result.getBase()).isEqualTo(expected.getBase());\r\n            assertThat(result.getDate()).isEqualTo(expected.getDate());\r\n            assertThat(result.getRates()).hasSize(2);\r\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\r\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\r\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\r\n            );\r\n    \r\n            // Verify repository method was called\r\n            verify(rateRepository, times(1)).findOneByDate(date);\r\n    \r\n            // The saveRatesFromApi method won&#39;t be run because the rateRepository.findOneByDate return the mockedRateEntity\r\n            verify(restTemplate, times(0)).exchange(\r\n                    anyString(),\r\n                    eq(HttpMethod.GET),\r\n                    any(HttpEntity.class),\r\n                    eq(RateResponse.class)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void whenCalculateRate_andRateRepositoryNotFound() {\r\n            // Mocked data\r\n            EnumCurrency base = EnumCurrency.EUR;\r\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\r\n            LocalDate date = LocalDate.of(2023, 5, 22);\r\n    \r\n            // Mocked rate entity\r\n            RateEntity mockedRateEntity = new RateEntity();\r\n            mockedRateEntity.setBase(base);\r\n            mockedRateEntity.setDate(date);\r\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\r\n            rates.put(EnumCurrency.USD, 1.2);\r\n            rates.put(EnumCurrency.GBP, 0.9);\r\n            mockedRateEntity.setRates(rates);\r\n    \r\n            List&lt;RateInfoDto&gt; rateInfoList = targets.stream()\r\n                    .map(currency -&gt; new RateInfoDto(currency, rates.get(currency)))\r\n                    .collect(Collectors.toList());\r\n    \r\n            RateDto expected = RateDto.builder()\r\n                    .id(mockedRateEntity.getId())\r\n                    .base(mockedRateEntity.getBase())\r\n                    .date(mockedRateEntity.getDate())\r\n                    .rates(rateInfoList)\r\n                    .build();\r\n    \r\n            // Mock API response\r\n            RateResponse mockedRateResponse = RateResponse.builder()\r\n                    .base(base)\r\n                    .rates(rates)\r\n                    .date(date)\r\n                    .build();\r\n    \r\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok().body(mockedRateResponse);\r\n    \r\n            // Mock repository behavior\r\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.empty()); // Return null to simulate repository not finding the entity\r\n    \r\n            when(restTemplate.exchange(\r\n                    anyString(),\r\n                    eq(HttpMethod.GET),\r\n                    any(HttpEntity.class),\r\n                    eq(RateResponse.class)\r\n            )).thenReturn(mockedResponseEntity);\r\n    \r\n            // Mock saveRatesFromApi behavior\r\n            when(rateRepository.save(any(RateEntity.class))).thenReturn(mockedRateEntity);\r\n    \r\n            // Call the method\r\n            RateDto result = rateService.calculateRate(base, targets, date);\r\n    \r\n            // Verify the result\r\n            assertThat(result.getBase()).isEqualTo(expected.getBase());\r\n            assertThat(result.getDate()).isEqualTo(expected.getDate());\r\n            assertThat(result.getRates()).hasSize(2);\r\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\r\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\r\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\r\n            );\r\n    \r\n            // Verify repository method was called\r\n            verify(rateRepository, times(1)).findOneByDate(date);\r\n            verify(rateRepository, times(1)).save(any(RateEntity.class));\r\n    \r\n            // Verify restTemplate.exchange was called\r\n            verify(restTemplate, times(1)).exchange(\r\n                    anyString(),\r\n                    eq(HttpMethod.GET),\r\n                    any(HttpEntity.class),\r\n                    eq(RateResponse.class)\r\n            );\r\n        }\r\n    \r\n    }","title":"Spring Boot JUnit Test - Resttemplate returns null in ServiceTest (How to mock restTemplate exchange)","body":"<p>Here is my answer shown below</p>\n<p>Here is the <strong>BaseServiceTest</strong> shown below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;test&quot;)\npublic abstract class BaseServiceTest {\n\n}\n</code></pre>\n<p>Here is the <strong>RateServiceTest</strong> shown below</p>\n<pre><code>class RateServiceTest extends BaseServiceTest {\n\n\n    @Mock\n    private RateRepository rateRepository;\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private RateService rateService;\n\n\n    @Test\n    void whenCalculateRate_butRateRepositoryFoundOne() {\n\n        // Mocked data\n        EnumCurrency base = EnumCurrency.EUR;\n        List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n        LocalDate date = LocalDate.of(2023, 5, 22);\n\n        // Mocked rate entity\n        RateEntity mockedRateEntity = new RateEntity();\n        mockedRateEntity.setBase(base);\n        mockedRateEntity.setDate(date);\n        Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n        rates.put(EnumCurrency.USD, 1.2);\n        rates.put(EnumCurrency.GBP, 0.9);\n        mockedRateEntity.setRates(rates);\n\n        List&lt;RateInfoDto&gt; rateInfoList = targets.stream()\n                .map(currency -&gt; new RateInfoDto(currency, rates.get(currency)))\n                .collect(Collectors.toList());\n\n        RateDto expected = RateDto.builder()\n                .id(mockedRateEntity.getId())\n                .base(mockedRateEntity.getBase())\n                .date(mockedRateEntity.getDate())\n                .rates(rateInfoList)\n                .build();\n\n        // Mock repository behavior\n        when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n\n\n        // Call the method\n        RateDto result = rateService.calculateRate(base, targets, date);\n\n        // Verify the result\n        assertThat(result.getBase()).isEqualTo(expected.getBase());\n        assertThat(result.getDate()).isEqualTo(expected.getDate());\n        assertThat(result.getRates()).hasSize(2);\n        assertThat(result.getRates()).containsExactlyInAnyOrder(\n                new RateInfoDto(EnumCurrency.USD, 1.2),\n                new RateInfoDto(EnumCurrency.GBP, 0.9)\n        );\n\n        // Verify repository method was called\n        verify(rateRepository, times(1)).findOneByDate(date);\n\n        // The saveRatesFromApi method won't be run because the rateRepository.findOneByDate return the mockedRateEntity\n        verify(restTemplate, times(0)).exchange(\n                anyString(),\n                eq(HttpMethod.GET),\n                any(HttpEntity.class),\n                eq(RateResponse.class)\n        );\n    }\n\n    @Test\n    void whenCalculateRate_andRateRepositoryNotFound() {\n        // Mocked data\n        EnumCurrency base = EnumCurrency.EUR;\n        List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n        LocalDate date = LocalDate.of(2023, 5, 22);\n\n        // Mocked rate entity\n        RateEntity mockedRateEntity = new RateEntity();\n        mockedRateEntity.setBase(base);\n        mockedRateEntity.setDate(date);\n        Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n        rates.put(EnumCurrency.USD, 1.2);\n        rates.put(EnumCurrency.GBP, 0.9);\n        mockedRateEntity.setRates(rates);\n\n        List&lt;RateInfoDto&gt; rateInfoList = targets.stream()\n                .map(currency -&gt; new RateInfoDto(currency, rates.get(currency)))\n                .collect(Collectors.toList());\n\n        RateDto expected = RateDto.builder()\n                .id(mockedRateEntity.getId())\n                .base(mockedRateEntity.getBase())\n                .date(mockedRateEntity.getDate())\n                .rates(rateInfoList)\n                .build();\n\n        // Mock API response\n        RateResponse mockedRateResponse = RateResponse.builder()\n                .base(base)\n                .rates(rates)\n                .date(date)\n                .build();\n\n        ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok().body(mockedRateResponse);\n\n        // Mock repository behavior\n        when(rateRepository.findOneByDate(date)).thenReturn(Optional.empty()); // Return null to simulate repository not finding the entity\n\n        when(restTemplate.exchange(\n                anyString(),\n                eq(HttpMethod.GET),\n                any(HttpEntity.class),\n                eq(RateResponse.class)\n        )).thenReturn(mockedResponseEntity);\n\n        // Mock saveRatesFromApi behavior\n        when(rateRepository.save(any(RateEntity.class))).thenReturn(mockedRateEntity);\n\n        // Call the method\n        RateDto result = rateService.calculateRate(base, targets, date);\n\n        // Verify the result\n        assertThat(result.getBase()).isEqualTo(expected.getBase());\n        assertThat(result.getDate()).isEqualTo(expected.getDate());\n        assertThat(result.getRates()).hasSize(2);\n        assertThat(result.getRates()).containsExactlyInAnyOrder(\n                new RateInfoDto(EnumCurrency.USD, 1.2),\n                new RateInfoDto(EnumCurrency.GBP, 0.9)\n        );\n\n        // Verify repository method was called\n        verify(rateRepository, times(1)).findOneByDate(date);\n        verify(rateRepository, times(1)).save(any(RateEntity.class));\n\n        // Verify restTemplate.exchange was called\n        verify(restTemplate, times(1)).exchange(\n                anyString(),\n                eq(HttpMethod.GET),\n                any(HttpEntity.class),\n                eq(RateResponse.class)\n        );\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76310493,"answer_count":2,"score":1,"last_activity_date":1686953722,"creation_date":1684779043,"question_id":76308882,"body_markdown":"I have a problem to write the JUnit Test with the usage of resttemplate.\r\n\r\nWhen I run the `testCalculateRate`, I got this error message shown below\r\n\r\n```java\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null \r\n``` \r\nI noticed that `ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);` returns `null`.\r\n\r\n\r\n\r\nNext, I debug the code\r\n\r\nHere is saveRatesFromApi method of RateService\r\n\r\n    private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n    \r\n            log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n            final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\r\n            String url = getExchangeUrl(rateDate, base, targets);\r\n    \r\n            ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);  ---&gt; ERROR LINE\r\n    \r\n            RateResponse rates = responseEntity.getBody();\r\n            RateEntity entity = convert(rates);\r\n            return rateRepository.save(entity);\r\n        }\r\n\r\nHere RateServiceTest shown below\r\n\r\n```java\r\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_API_KEY;\r\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_BASE_URL;\r\n    \r\n    class RateServiceTest extends BaseServiceTest {\r\n    \r\n        @Mock\r\n        private RateRepository rateRepository;\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private RateService rateService;\r\n    \r\n        @Test\r\n        void testCalculateRate() {\r\n    \r\n            // Initialize mocks\r\n            MockitoAnnotations.openMocks(this);\r\n    \r\n            // Mocked data\r\n            EnumCurrency base = EnumCurrency.EUR;\r\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\r\n            LocalDate date = LocalDate.of(2023, 5, 22);\r\n    \r\n            // Mocked rate entity\r\n            RateEntity mockedRateEntity = new RateEntity();\r\n            mockedRateEntity.setBase(base);\r\n            mockedRateEntity.setDate(date);\r\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\r\n            rates.put(EnumCurrency.USD, 1.2);\r\n            rates.put(EnumCurrency.GBP, 0.9);\r\n            mockedRateEntity.setRates(rates);\r\n    \r\n            // Mock repository behavior\r\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\r\n    \r\n            // Mock API response\r\n            RateResponse mockedRateResponse = RateResponse.builder()\r\n                    .base(base)\r\n                    .rates(rates)\r\n                    .date(date)\r\n                    .build();\r\n    \r\n            // Create a HttpHeaders object and set the &quot;apikey&quot; header\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n    \r\n            // Create a mock response entity with the expected headers and body\r\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\r\n                    .headers(headers)\r\n                    .body(mockedRateResponse);\r\n    \r\n            // Mock RestTemplate behavior\r\n            when(restTemplate.exchange(\r\n                    anyString(),\r\n                    eq(HttpMethod.GET),\r\n                    any(HttpEntity.class),\r\n                    eq(RateResponse.class)\r\n            )).thenReturn(mockedResponseEntity);\r\n    \r\n            // Call the method\r\n            RateDto result = rateService.calculateRate(base, targets, date);\r\n    \r\n            // Verify repository method was called\r\n            verify(rateRepository, times(1)).findOneByDate(date);\r\n    \r\n            // Verify API call was made\r\n            String expectedUrl = getExchangeUrl(date, base, targets);\r\n            HttpHeaders expectedHeaders = new HttpHeaders();\r\n            expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n            HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\r\n            verify(restTemplate, times(1)).exchange(\r\n                    eq(expectedUrl),\r\n                    eq(HttpMethod.GET),\r\n                    eq(expectedHttpEntity),\r\n                    eq(RateResponse.class)\r\n            );\r\n    \r\n            // Verify the result\r\n            assertThat(result.getBase()).isEqualTo(base);\r\n            assertThat(result.getDate()).isEqualTo(date);\r\n            assertThat(result.getRates()).hasSize(2);\r\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\r\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\r\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\r\n            );\r\n        }\r\n    \r\n        private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n    \r\n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\r\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\r\n        }\r\n    }\r\n```\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/currencyexchange","title":"Spring Boot JUnit Test - Resttemplate returns null in ServiceTest (How to mock restTemplate exchange)","body":"<p>I have a problem to write the JUnit Test with the usage of resttemplate.</p>\n<p>When I run the <code>testCalculateRate</code>, I got this error message shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null \n</code></pre>\n<p>I noticed that <code>ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);</code> returns <code>null</code>.</p>\n<p>Next, I debug the code</p>\n<p>Here is saveRatesFromApi method of RateService</p>\n<pre><code>private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n\n        log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\n        String url = getExchangeUrl(rateDate, base, targets);\n\n        ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);  ---&gt; ERROR LINE\n\n        RateResponse rates = responseEntity.getBody();\n        RateEntity entity = convert(rates);\n        return rateRepository.save(entity);\n    }\n</code></pre>\n<p>Here RateServiceTest shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_API_KEY;\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_BASE_URL;\n    \n    class RateServiceTest extends BaseServiceTest {\n    \n        @Mock\n        private RateRepository rateRepository;\n    \n        @Mock\n        private RestTemplate restTemplate;\n    \n        @InjectMocks\n        private RateService rateService;\n    \n        @Test\n        void testCalculateRate() {\n    \n            // Initialize mocks\n            MockitoAnnotations.openMocks(this);\n    \n            // Mocked data\n            EnumCurrency base = EnumCurrency.EUR;\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n            LocalDate date = LocalDate.of(2023, 5, 22);\n    \n            // Mocked rate entity\n            RateEntity mockedRateEntity = new RateEntity();\n            mockedRateEntity.setBase(base);\n            mockedRateEntity.setDate(date);\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n            rates.put(EnumCurrency.USD, 1.2);\n            rates.put(EnumCurrency.GBP, 0.9);\n            mockedRateEntity.setRates(rates);\n    \n            // Mock repository behavior\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n    \n            // Mock API response\n            RateResponse mockedRateResponse = RateResponse.builder()\n                    .base(base)\n                    .rates(rates)\n                    .date(date)\n                    .build();\n    \n            // Create a HttpHeaders object and set the &quot;apikey&quot; header\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n    \n            // Create a mock response entity with the expected headers and body\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\n                    .headers(headers)\n                    .body(mockedRateResponse);\n    \n            // Mock RestTemplate behavior\n            when(restTemplate.exchange(\n                    anyString(),\n                    eq(HttpMethod.GET),\n                    any(HttpEntity.class),\n                    eq(RateResponse.class)\n            )).thenReturn(mockedResponseEntity);\n    \n            // Call the method\n            RateDto result = rateService.calculateRate(base, targets, date);\n    \n            // Verify repository method was called\n            verify(rateRepository, times(1)).findOneByDate(date);\n    \n            // Verify API call was made\n            String expectedUrl = getExchangeUrl(date, base, targets);\n            HttpHeaders expectedHeaders = new HttpHeaders();\n            expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n            HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\n            verify(restTemplate, times(1)).exchange(\n                    eq(expectedUrl),\n                    eq(HttpMethod.GET),\n                    eq(expectedHttpEntity),\n                    eq(RateResponse.class)\n            );\n    \n            // Verify the result\n            assertThat(result.getBase()).isEqualTo(base);\n            assertThat(result.getDate()).isEqualTo(date);\n            assertThat(result.getRates()).hasSize(2);\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\n            );\n        }\n    \n        private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n    \n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n        }\n    }\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/currencyexchange\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","android","file","android-studio","explorer"],"answers":[{"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1599830878,"post_id":63847466,"comment_id":112904612,"body_markdown":"Thank you very much. This solution works, however something changed. I am making a PGP Tool and this InputStream contains a Public Key read from the file selected. The PGP library doesn&#39;t recognize it as a Public Key anymore if I create the InputStream with your way. However if I print it it looks the same, do you know why this happens?","body":"Thank you very much. This solution works, however something changed. I am making a PGP Tool and this InputStream contains a Public Key read from the file selected. The PGP library doesn&#39;t recognize it as a Public Key anymore if I create the InputStream with your way. However if I print it it looks the same, do you know why this happens?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1599830971,"post_id":63847466,"comment_id":112904654,"body_markdown":"Sorry, not a single idea.","body":"Sorry, not a single idea."},{"owner":{"account_id":4838224,"reputation":3812,"user_id":3904109,"accept_rate":71,"display_name":"DragonFire"},"score":0,"creation_date":1633260412,"post_id":63847466,"comment_id":122707457,"body_markdown":"How to handle data.getClipData() and data.getData() please share link of full example code thanks","body":"How to handle data.getClipData() and data.getData() please share link of full example code thanks"}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599828738,"creation_date":1599828738,"answer_id":63847466,"question_id":63847083,"body_markdown":"In onActivityResult() :\r\n\r\n    InputStream dataStream = getContentResolver().openInputStream(data.getData());\r\n\r\nThrow away that getPath() function.\r\n\r\nThis works for all uries.","title":"Error in Android Studio with File Chooser in Download Folder","body":"<p>In onActivityResult() :</p>\n<pre><code>InputStream dataStream = getContentResolver().openInputStream(data.getData());\n</code></pre>\n<p>Throw away that getPath() function.</p>\n<p>This works for all uries.</p>\n"},{"comments":[{"owner":{"account_id":10074006,"reputation":1651,"user_id":7777753,"accept_rate":64,"display_name":"Denny Kurniawan"},"score":1,"creation_date":1637204476,"post_id":67820214,"comment_id":123765885,"body_markdown":"Thank you. This works for me, don&#39;t forget to clean caches after using it.","body":"Thank you. This works for me, don&#39;t forget to clean caches after using it."},{"owner":{"account_id":13000947,"reputation":99,"user_id":9397088,"display_name":"Anjana Rodrigo"},"score":0,"creation_date":1637608317,"post_id":67820214,"comment_id":123867060,"body_markdown":"@DennyKurniawan thank you.","body":"@DennyKurniawan thank you."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":1,"creation_date":1696347658,"post_id":67820214,"comment_id":136139735,"body_markdown":"Thank you very much. This solution works, however something changed. I am making a PGP Tool and this InputStream contains a Public Key read from the file selected. The PGP library doesn&#39;t recognize it as a Public Key anymore if I create the InputStream with your way. However if I print it it looks the same, do you know why this happens?","body":"Thank you very much. This solution works, however something changed. I am making a PGP Tool and this InputStream contains a Public Key read from the file selected. The PGP library doesn&#39;t recognize it as a Public Key anymore if I create the InputStream with your way. However if I print it it looks the same, do you know why this happens?"}],"tags":[],"owner":{"account_id":13000947,"reputation":99,"user_id":9397088,"display_name":"Anjana Rodrigo"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1622718026,"creation_date":1622718026,"answer_id":67820214,"question_id":63847083,"body_markdown":"\r\n\r\nThe only problem is getting the path of the download directory or msf and NumberFormat exception, Try this one. It worked for me correctly\r\n\r\n    package com.example.bookingmelbourne;\r\n    import android.content.ContentUris;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Environment;\r\n    import android.provider.DocumentsContract;\r\n    import android.provider.MediaStore;\r\n    import android.provider.OpenableColumns;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.annotation.WorkerThread;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    public class FileUtils {\r\n        private static final String TAG = &quot;FileUtils&quot;;\r\n    @WorkerThread\r\n    @Nullable\r\n    public static String getReadablePathFromUri(Context context, Uri uri) {\r\n    \r\n        String path = null;\r\n        if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            path = uri.getPath();\r\n        }\r\n    \r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.KITKAT) {\r\n            path = getPath(context, uri);\r\n        }\r\n    \r\n        if (TextUtils.isEmpty(path)) {\r\n            return path;\r\n        }\r\n    \r\n        Log.d(TAG, &quot;get path from uri: &quot; + path);\r\n        if (!isReadablePath(path)) {\r\n            int index = path.lastIndexOf(&quot;/&quot;);\r\n            String name = path.substring(index + 1);\r\n            String dstPath = context.getCacheDir().getAbsolutePath() + File.separator + name;\r\n            if (copyFile(context, uri, dstPath)) {\r\n                path = dstPath;\r\n                Log.d(TAG, &quot;copy file success: &quot; + path);\r\n            } else {\r\n                Log.d(TAG, &quot;copy file fail!&quot;);\r\n            } \r\n        }\r\n        return path;\r\n    }\r\n    \r\n    public static String getPath(final Context context, final Uri uri) {\r\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\r\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\r\n            if (isExternalStorageDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                Log.d(&quot;External Storage&quot;, docId);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n    \r\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\r\n                }\r\n            } else if (isDownloadsDocument(uri)) {\r\n    \r\n                String dstPath = context.getCacheDir().getAbsolutePath() + File.separator + getFileName(context,uri);\r\n    \r\n                 if (copyFile(context, uri, dstPath)) {\r\n                    Log.d(TAG, &quot;copy file success: &quot; + dstPath);\r\n                    return dstPath;\r\n    \r\n                } else {\r\n                    Log.d(TAG, &quot;copy file fail!&quot;);\r\n                }\r\n    \r\n    \r\n            } else if (isMediaDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n    \r\n                Uri contentUri = null;\r\n                if (&quot;image&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;video&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;audio&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                }\r\n    \r\n                final String selection = &quot;_id=?&quot;;\r\n                final String[] selectionArgs = new String[]{split[1]};\r\n                return getDataColumn(context, contentUri, selection, selectionArgs);\r\n            }\r\n        } else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return getDataColumn(context, uri, null, null);\r\n        } else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return uri.getPath();\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    public static String getFileName(Context context, Uri uri) {\r\n    \r\n        Cursor cursor = context.getContentResolver().query(uri,null,null,null,null);\r\n        int nameindex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\r\n        cursor.moveToFirst();\r\n    \r\n        return  cursor.getString(nameindex);\r\n    }\r\n    \r\n    \r\n    private static String getDataColumn(Context context, Uri uri, String selection,\r\n                                        String[] selectionArgs) {\r\n        Cursor cursor = null;\r\n        final String column = &quot;_data&quot;;\r\n        final String[] projection = {column};\r\n    \r\n        try {\r\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\r\n                    null);\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                final int column_index = cursor.getColumnIndexOrThrow(column);\r\n                return cursor.getString(column_index);\r\n            }\r\n        } finally {\r\n            if (cursor != null)\r\n                cursor.close();\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private static boolean isExternalStorageDocument(Uri uri) {\r\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n    \r\n    private static boolean isDownloadsDocument(Uri uri) {\r\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n    \r\n    private static boolean isMediaDocument(Uri uri) {\r\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n    \r\n    private static boolean isReadablePath(@Nullable String path) {\r\n        if (TextUtils.isEmpty(path)) {\r\n            return false;\r\n        }\r\n        boolean isLocalPath;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            if (!TextUtils.isEmpty(path)) {\r\n                File localFile = new File(path);\r\n                isLocalPath = localFile.exists() &amp;&amp; localFile.canRead();\r\n            } else {\r\n                isLocalPath = false;\r\n            }\r\n        } else {\r\n            isLocalPath = path.startsWith(File.separator);\r\n        }\r\n        return isLocalPath;\r\n    }\r\n    \r\n    private static boolean copyFile(Context context, Uri uri, String dstPath) {\r\n        InputStream inputStream = null;\r\n        OutputStream outputStream = null;\r\n        try {\r\n            inputStream = context.getContentResolver().openInputStream(uri);\r\n            outputStream = new FileOutputStream(dstPath);\r\n    \r\n            byte[] buff = new byte[100 * 1024];\r\n            int len;\r\n            while ((len = inputStream.read(buff)) != -1) {\r\n                outputStream.write(buff, 0, len);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        } finally {\r\n            if (inputStream != null) {\r\n                try {\r\n                    inputStream.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            if (outputStream != null) {\r\n                try {\r\n                    outputStream.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n      }\r\n\r\nAfter that, you can call this method passing context and uri objects\r\n\r\n  \r\n\r\n     String realPath = FileUtils.getReadablePathFromUri(context,uri)\r\n\r\n","title":"Error in Android Studio with File Chooser in Download Folder","body":"<p>The only problem is getting the path of the download directory or msf and NumberFormat exception, Try this one. It worked for me correctly</p>\n<pre><code>package com.example.bookingmelbourne;\nimport android.content.ContentUris;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.provider.DocumentsContract;\nimport android.provider.MediaStore;\nimport android.provider.OpenableColumns;\nimport android.text.TextUtils;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\nimport androidx.annotation.WorkerThread;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class FileUtils {\n    private static final String TAG = &quot;FileUtils&quot;;\n@WorkerThread\n@Nullable\npublic static String getReadablePathFromUri(Context context, Uri uri) {\n\n    String path = null;\n    if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n        path = uri.getPath();\n    }\n\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.KITKAT) {\n        path = getPath(context, uri);\n    }\n\n    if (TextUtils.isEmpty(path)) {\n        return path;\n    }\n\n    Log.d(TAG, &quot;get path from uri: &quot; + path);\n    if (!isReadablePath(path)) {\n        int index = path.lastIndexOf(&quot;/&quot;);\n        String name = path.substring(index + 1);\n        String dstPath = context.getCacheDir().getAbsolutePath() + File.separator + name;\n        if (copyFile(context, uri, dstPath)) {\n            path = dstPath;\n            Log.d(TAG, &quot;copy file success: &quot; + path);\n        } else {\n            Log.d(TAG, &quot;copy file fail!&quot;);\n        } \n    }\n    return path;\n}\n\npublic static String getPath(final Context context, final Uri uri) {\n    final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\n    if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\n        if (isExternalStorageDocument(uri)) {\n            final String docId = DocumentsContract.getDocumentId(uri);\n            Log.d(&quot;External Storage&quot;, docId);\n            final String[] split = docId.split(&quot;:&quot;);\n            final String type = split[0];\n\n            if (&quot;primary&quot;.equalsIgnoreCase(type)) {\n                return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\n            }\n        } else if (isDownloadsDocument(uri)) {\n\n            String dstPath = context.getCacheDir().getAbsolutePath() + File.separator + getFileName(context,uri);\n\n             if (copyFile(context, uri, dstPath)) {\n                Log.d(TAG, &quot;copy file success: &quot; + dstPath);\n                return dstPath;\n\n            } else {\n                Log.d(TAG, &quot;copy file fail!&quot;);\n            }\n\n\n        } else if (isMediaDocument(uri)) {\n            final String docId = DocumentsContract.getDocumentId(uri);\n            final String[] split = docId.split(&quot;:&quot;);\n            final String type = split[0];\n\n            Uri contentUri = null;\n            if (&quot;image&quot;.equals(type)) {\n                contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n            } else if (&quot;video&quot;.equals(type)) {\n                contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n            } else if (&quot;audio&quot;.equals(type)) {\n                contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n            }\n\n            final String selection = &quot;_id=?&quot;;\n            final String[] selectionArgs = new String[]{split[1]};\n            return getDataColumn(context, contentUri, selection, selectionArgs);\n        }\n    } else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\n        return getDataColumn(context, uri, null, null);\n    } else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n        return uri.getPath();\n    }\n    return null;\n}\n\npublic static String getFileName(Context context, Uri uri) {\n\n    Cursor cursor = context.getContentResolver().query(uri,null,null,null,null);\n    int nameindex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\n    cursor.moveToFirst();\n\n    return  cursor.getString(nameindex);\n}\n\n\nprivate static String getDataColumn(Context context, Uri uri, String selection,\n                                    String[] selectionArgs) {\n    Cursor cursor = null;\n    final String column = &quot;_data&quot;;\n    final String[] projection = {column};\n\n    try {\n        cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\n                null);\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            final int column_index = cursor.getColumnIndexOrThrow(column);\n            return cursor.getString(column_index);\n        }\n    } finally {\n        if (cursor != null)\n            cursor.close();\n    }\n    return null;\n}\n\nprivate static boolean isExternalStorageDocument(Uri uri) {\n    return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\n}\n\nprivate static boolean isDownloadsDocument(Uri uri) {\n    return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\n}\n\nprivate static boolean isMediaDocument(Uri uri) {\n    return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\n}\n\nprivate static boolean isReadablePath(@Nullable String path) {\n    if (TextUtils.isEmpty(path)) {\n        return false;\n    }\n    boolean isLocalPath;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        if (!TextUtils.isEmpty(path)) {\n            File localFile = new File(path);\n            isLocalPath = localFile.exists() &amp;&amp; localFile.canRead();\n        } else {\n            isLocalPath = false;\n        }\n    } else {\n        isLocalPath = path.startsWith(File.separator);\n    }\n    return isLocalPath;\n}\n\nprivate static boolean copyFile(Context context, Uri uri, String dstPath) {\n    InputStream inputStream = null;\n    OutputStream outputStream = null;\n    try {\n        inputStream = context.getContentResolver().openInputStream(uri);\n        outputStream = new FileOutputStream(dstPath);\n\n        byte[] buff = new byte[100 * 1024];\n        int len;\n        while ((len = inputStream.read(buff)) != -1) {\n            outputStream.write(buff, 0, len);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    } finally {\n        if (inputStream != null) {\n            try {\n                inputStream.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        if (outputStream != null) {\n            try {\n                outputStream.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    return true;\n}\n\n  }\n</code></pre>\n<p>After that, you can call this method passing context and uri objects</p>\n<pre><code> String realPath = FileUtils.getReadablePathFromUri(context,uri)\n</code></pre>\n"}],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2317,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1686953445,"creation_date":1599827194,"question_id":63847083,"body_markdown":"**My Problem**\r\n\r\nI am currently developing an Android application with Android Studio.\r\nTo choose a file the user clicks on a button, the explorer opens and he can select a file.\r\nFor this process I used a helper class called FileChooser.Java. This whole system functions very well as long as the user doesn&#39;t select a file from the Download folder.\r\n\r\nIf the users tries to select a file from the Download folder this happens:\r\n\r\n*NumberFormatException: for input string: &quot;msf:80123&quot;*\r\n\r\nThe URL the FileChooser returns:\r\n *content://com.android.providers.downloads.documents/document/msf:80662*\r\n\r\nThis is because the helper class expects a long type. Removing the msf: and adding the ID to the end doesn&#39;t work either. It seems like Android adds this msf: tag to everything in the Download folder.\r\n\r\nI am looking for a valid solution to call files from the Download folder too.\r\n\r\n**The Call**\r\n```\r\nUri selectedFile = data.getData();\r\nInputStream dataStream = new FileInputStream(FileChooser.getPath(getContext(), selectedFile));\r\n```\r\n**Exception Call in FileChooser Class**\r\n\r\n```\r\n final Uri contentUri = ContentUris.withAppendedId(\r\n       Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\r\n```\r\n\r\n**Helper Class FileChooser**\r\n```\r\npackage com.example.dsvconverter.helper;\r\n\r\nimport android.content.ContentUris;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Environment;\r\nimport android.provider.DocumentsContract;\r\nimport android.provider.MediaStore;\r\n\r\n\r\npublic class FileChooser {\r\n\r\n    /**\r\n     * Get a file path from a Uri. This will get the the path for Storage Access\r\n     * Framework Documents, as well as the _data field for the MediaStore and\r\n     * other file-based ContentProviders.\r\n     *\r\n     * @param context The context.\r\n     * @param uri The Uri to query.\r\n     * @author paulburke\r\n     */\r\n    public static String getPath(final Context context, final Uri uri) {\r\n\r\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\r\n\r\n        // DocumentProvider\r\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\r\n            // ExternalStorageProvider\r\n            if (isExternalStorageDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n\r\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\r\n                }\r\n\r\n                // TODO handle non-primary volumes\r\n            }\r\n            // DownloadsProvider\r\n            else if (isDownloadsDocument(uri)) {\r\n\r\n                final String id = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = id.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n\r\n                final Uri contentUri = ContentUris.withAppendedId(\r\n                        Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\r\n\r\n                return getDataColumn(context, contentUri, null, null);\r\n            }\r\n            // MediaProvider\r\n            else if (isMediaDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n\r\n                Uri contentUri = null;\r\n                if (&quot;image&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;video&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;audio&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                }\r\n\r\n                final String selection = &quot;_id=?&quot;;\r\n                final String[] selectionArgs = new String[] {\r\n                        split[1]\r\n                };\r\n\r\n                return getDataColumn(context, contentUri, selection, selectionArgs);\r\n            }\r\n        }\r\n        // MediaStore (and general)\r\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return getDataColumn(context, uri, null, null);\r\n        }\r\n        // File\r\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return uri.getPath();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Get the value of the data column for this Uri. This is useful for\r\n     * MediaStore Uris, and other file-based ContentProviders.\r\n     *\r\n     * @param context The context.\r\n     * @param uri The Uri to query.\r\n     * @param selection (Optional) Filter used in the query.\r\n     * @param selectionArgs (Optional) Selection arguments used in the query.\r\n     * @return The value of the _data column, which is typically a file path.\r\n     */\r\n    public static String getDataColumn(Context context, Uri uri, String selection,\r\n                                       String[] selectionArgs) {\r\n\r\n        Cursor cursor = null;\r\n        final String column = &quot;_data&quot;;\r\n        final String[] projection = {\r\n                column\r\n        };\r\n\r\n        try {\r\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\r\n                    null);\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                final int column_index = cursor.getColumnIndexOrThrow(column);\r\n                return cursor.getString(column_index);\r\n            }\r\n        } finally {\r\n            if (cursor != null)\r\n                cursor.close();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is ExternalStorageProvider.\r\n     */\r\n    public static boolean isExternalStorageDocument(Uri uri) {\r\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is DownloadsProvider.\r\n     */\r\n    public static boolean isDownloadsDocument(Uri uri) {\r\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is MediaProvider.\r\n     */\r\n    public static boolean isMediaDocument(Uri uri) {\r\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n}\r\n```\r\n\r\n**Update:**\r\nThe code provided by @blackapps worked, however now I have a new problem.\r\n\r\n**Blackapps Code:**\r\n\r\n    InputStream dataStream = getContentResolver().openInputStream(data.getData());\r\n\r\nThis solution works, however something is different now. I am making a **PGP Tool** and this `InputStream` contains a **Public Key** read from the file selected. The **PGP Library** doesn&#39;t recognize it as a **Public Key** anymore if I create the `InputStream` with your way. However if I print it into the console, it looks correct and same.\r\n\r\n**Question:**\r\n\r\nWhy does @Blackapps solution work, but the library doesn&#39;t recognize it as a Public Key anymore, even if the printed string is 1:1 same?","title":"Error in Android Studio with File Chooser in Download Folder","body":"<p><strong>My Problem</strong></p>\n<p>I am currently developing an Android application with Android Studio.\nTo choose a file the user clicks on a button, the explorer opens and he can select a file.\nFor this process I used a helper class called FileChooser.Java. This whole system functions very well as long as the user doesn't select a file from the Download folder.</p>\n<p>If the users tries to select a file from the Download folder this happens:</p>\n<p><em>NumberFormatException: for input string: &quot;msf:80123&quot;</em></p>\n<p>The URL the FileChooser returns:\n<em>content://com.android.providers.downloads.documents/document/msf:80662</em></p>\n<p>This is because the helper class expects a long type. Removing the msf: and adding the ID to the end doesn't work either. It seems like Android adds this msf: tag to everything in the Download folder.</p>\n<p>I am looking for a valid solution to call files from the Download folder too.</p>\n<p><strong>The Call</strong></p>\n<pre><code>Uri selectedFile = data.getData();\nInputStream dataStream = new FileInputStream(FileChooser.getPath(getContext(), selectedFile));\n</code></pre>\n<p><strong>Exception Call in FileChooser Class</strong></p>\n<pre><code> final Uri contentUri = ContentUris.withAppendedId(\n       Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\n</code></pre>\n<p><strong>Helper Class FileChooser</strong></p>\n<pre><code>package com.example.dsvconverter.helper;\n\nimport android.content.ContentUris;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.provider.DocumentsContract;\nimport android.provider.MediaStore;\n\n\npublic class FileChooser {\n\n    /**\n     * Get a file path from a Uri. This will get the the path for Storage Access\n     * Framework Documents, as well as the _data field for the MediaStore and\n     * other file-based ContentProviders.\n     *\n     * @param context The context.\n     * @param uri The Uri to query.\n     * @author paulburke\n     */\n    public static String getPath(final Context context, final Uri uri) {\n\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\n\n        // DocumentProvider\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\n            // ExternalStorageProvider\n            if (isExternalStorageDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\n                }\n\n                // TODO handle non-primary volumes\n            }\n            // DownloadsProvider\n            else if (isDownloadsDocument(uri)) {\n\n                final String id = DocumentsContract.getDocumentId(uri);\n                final String[] split = id.split(&quot;:&quot;);\n                final String type = split[0];\n\n                final Uri contentUri = ContentUris.withAppendedId(\n                        Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\n\n                return getDataColumn(context, contentUri, null, null);\n            }\n            // MediaProvider\n            else if (isMediaDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                Uri contentUri = null;\n                if (&quot;image&quot;.equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;video&quot;.equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;audio&quot;.equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n\n                final String selection = &quot;_id=?&quot;;\n                final String[] selectionArgs = new String[] {\n                        split[1]\n                };\n\n                return getDataColumn(context, contentUri, selection, selectionArgs);\n            }\n        }\n        // MediaStore (and general)\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\n            return getDataColumn(context, uri, null, null);\n        }\n        // File\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        }\n\n        return null;\n    }\n\n    /**\n     * Get the value of the data column for this Uri. This is useful for\n     * MediaStore Uris, and other file-based ContentProviders.\n     *\n     * @param context The context.\n     * @param uri The Uri to query.\n     * @param selection (Optional) Filter used in the query.\n     * @param selectionArgs (Optional) Selection arguments used in the query.\n     * @return The value of the _data column, which is typically a file path.\n     */\n    public static String getDataColumn(Context context, Uri uri, String selection,\n                                       String[] selectionArgs) {\n\n        Cursor cursor = null;\n        final String column = &quot;_data&quot;;\n        final String[] projection = {\n                column\n        };\n\n        try {\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\n                    null);\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                final int column_index = cursor.getColumnIndexOrThrow(column);\n                return cursor.getString(column_index);\n            }\n        } finally {\n            if (cursor != null)\n                cursor.close();\n        }\n        return null;\n    }\n\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is ExternalStorageProvider.\n     */\n    public static boolean isExternalStorageDocument(Uri uri) {\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is DownloadsProvider.\n     */\n    public static boolean isDownloadsDocument(Uri uri) {\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is MediaProvider.\n     */\n    public static boolean isMediaDocument(Uri uri) {\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\n    }\n}\n</code></pre>\n<p><strong>Update:</strong>\nThe code provided by @blackapps worked, however now I have a new problem.</p>\n<p><strong>Blackapps Code:</strong></p>\n<pre><code>InputStream dataStream = getContentResolver().openInputStream(data.getData());\n</code></pre>\n<p>This solution works, however something is different now. I am making a <strong>PGP Tool</strong> and this <code>InputStream</code> contains a <strong>Public Key</strong> read from the file selected. The <strong>PGP Library</strong> doesn't recognize it as a <strong>Public Key</strong> anymore if I create the <code>InputStream</code> with your way. However if I print it into the console, it looks correct and same.</p>\n<p><strong>Question:</strong></p>\n<p>Why does @Blackapps solution work, but the library doesn't recognize it as a Public Key anymore, even if the printed string is 1:1 same?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":1,"creation_date":1633324986,"post_id":69428278,"comment_id":122719636,"body_markdown":"Can you post your app-level `build.gradle` code here","body":"Can you post your app-level <code>build.gradle</code> code here"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1633328806,"post_id":69428278,"comment_id":122720450,"body_markdown":"This might help you: https://stackoverflow.com/a/69069742/2462531","body":"This might help you: <a href=\"https://stackoverflow.com/a/69069742/2462531\">stackoverflow.com/a/69069742/2462531</a>"}],"answers":[{"tags":[],"owner":{"account_id":14750547,"reputation":326,"user_id":10652763,"display_name":"Payam Monsef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633340291,"creation_date":1633340291,"answer_id":69433838,"question_id":69428278,"body_markdown":"It&#39;s probably caused by room library as it happened to me before.\r\nUsually android studio gives more info about what&#39;s causing the error, you can check the build log and click on the parent error and it will give a hint to fix the problem.\r\n\r\nIf you are using Room please share your dao and entities so we can help.\r\n\r\nIt can be caused by many reasons but you can get more info about it by look into the parent error of &quot;Execution failed for task &#39;:app:kaptDebugKotlin&#39;.&quot;\r\n\r\nsometimes you have to scroll top to see the real failing build error\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rIW8p.png","title":"Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt;","body":"<p>It's probably caused by room library as it happened to me before.\nUsually android studio gives more info about what's causing the error, you can check the build log and click on the parent error and it will give a hint to fix the problem.</p>\n<p>If you are using Room please share your dao and entities so we can help.</p>\n<p>It can be caused by many reasons but you can get more info about it by look into the parent error of &quot;Execution failed for task ':app:kaptDebugKotlin'.&quot;</p>\n<p>sometimes you have to scroll top to see the real failing build error</p>\n<p><a href=\"https://i.stack.imgur.com/rIW8p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rIW8p.png\" alt=\"\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1726685,"reputation":12687,"user_id":1581185,"accept_rate":57,"display_name":"Sagar Maiyad"},"score":0,"creation_date":1647452093,"post_id":69532642,"comment_id":126377122,"body_markdown":"Getting same. Any solution?","body":"Getting same. Any solution?"},{"owner":{"account_id":7537150,"reputation":83,"user_id":5723053,"display_name":"Volodymyr Zakharov"},"score":0,"creation_date":1653987824,"post_id":69532642,"comment_id":127978517,"body_markdown":"It seems that I might have finally found an answer. I removed the apply plugin: &#39;kotlin-kapt&#39; line and replaced all the kapt lines with annotationProcessor This somehow bypasses the problem. I&#39;ll wait to accept my own answer for a few days so I have time to keep testing.\n\nUpdate So after adding the apply plugin: &#39;kotlin-kapt&#39; line again (for data-binding) it just works now. It seems that I had to replace the kapt lines with annotationProcessor to fix it","body":"It seems that I might have finally found an answer. I removed the apply plugin: &#39;kotlin-kapt&#39; line and replaced all the kapt lines with annotationProcessor This somehow bypasses the problem. I&#39;ll wait to accept my own answer for a few days so I have time to keep testing.  Update So after adding the apply plugin: &#39;kotlin-kapt&#39; line again (for data-binding) it just works now. It seems that I had to replace the kapt lines with annotationProcessor to fix it"}],"tags":[],"owner":{"account_id":1835910,"reputation":91,"user_id":1666320,"display_name":"ROM"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633987613,"creation_date":1633987613,"answer_id":69532642,"question_id":69428278,"body_markdown":"Getting the same on the Apple M1 chip. Works on my intel. Very frustrating","title":"Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt;","body":"<p>Getting the same on the Apple M1 chip. Works on my intel. Very frustrating</p>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637697873,"creation_date":1637697873,"answer_id":70087163,"question_id":69428278,"body_markdown":"I faced the same problem.\r\n\r\nI was using `kapt` annotation processor. Replacing with `annotationProcessor` solved my issue.\r\n\r\nSee [here][1] for details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63034316/14313644","title":"Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt;","body":"<p>I faced the same problem.</p>\n<p>I was using <code>kapt</code> annotation processor. Replacing with <code>annotationProcessor</code> solved my issue.</p>\n<p>See <a href=\"https://stackoverflow.com/a/63034316/14313644\">here</a> for details.</p>\n"},{"comments":[{"owner":{"account_id":11401059,"reputation":164,"user_id":8358000,"display_name":"Douglas Cunha"},"score":0,"creation_date":1654179452,"post_id":71289322,"comment_id":128033761,"body_markdown":"That was the trick for me! Thanks, Gayatri!","body":"That was the trick for me! Thanks, Gayatri!"},{"owner":{"account_id":13279018,"reputation":51,"user_id":9587362,"display_name":"Joules007"},"score":0,"creation_date":1695210117,"post_id":71289322,"comment_id":135993066,"body_markdown":"This worked well.","body":"This worked well."}],"tags":[],"owner":{"account_id":6378774,"reputation":836,"user_id":4948924,"display_name":"Gayatri Patel"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646005152,"creation_date":1646005152,"answer_id":71289322,"question_id":69428278,"body_markdown":"I had same error I was using below code\r\n\r\n    implementation &quot;android.arch.persistence.room:runtime:1.1.1&quot;\r\n    kapt &quot;android.arch.persistence.room:compiler:1.1.1&quot;\r\n\r\nI solved using dependency as below\r\n\r\n    def room_version = &quot;2.4.1&quot;\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n    ","title":"Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt;","body":"<p>I had same error I was using below code</p>\n<pre><code>implementation &quot;android.arch.persistence.room:runtime:1.1.1&quot;\nkapt &quot;android.arch.persistence.room:compiler:1.1.1&quot;\n</code></pre>\n<p>I solved using dependency as below</p>\n<pre><code>def room_version = &quot;2.4.1&quot;\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\nimplementation &quot;androidx.room:room-ktx:$room_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28083116,"reputation":1,"user_id":21453862,"display_name":"Adewale Stephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686953142,"creation_date":1686953142,"answer_id":76493816,"question_id":69428278,"body_markdown":"this may look like a complex error but I sorted it out by replacing &quot;kapt&quot; with &quot;annotationProcessor&quot; in the build.gradle dependencies ","title":"Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt;","body":"<p>this may look like a complex error but I sorted it out by replacing &quot;kapt&quot; with &quot;annotationProcessor&quot; in the build.gradle dependencies</p>\n"}],"owner":{"account_id":13279018,"reputation":51,"user_id":9587362,"display_name":"Joules007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6575,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71289322,"answer_count":5,"score":5,"last_activity_date":1686953142,"creation_date":1633289830,"question_id":69428278,"body_markdown":"Getting this error when making a build on Android Studio\r\n\r\n\r\nExecution failed for task &#39;:app:kaptDebugKotlin&#39;.\r\n&gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\r\n   &gt; java.lang.reflect.InvocationTargetException (no error message)\r\n","title":"Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt;","body":"<p>Getting this error when making a build on Android Studio</p>\n<p>Execution failed for task ':app:kaptDebugKotlin'.</p>\n<blockquote>\n<p>A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\njava.lang.reflect.InvocationTargetException (no error message)</p>\n</blockquote>\n"},{"tags":["java","maven","jar","processbuilder"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686951491,"post_id":76493643,"comment_id":134874357,"body_markdown":"I do not believe that your operation system is able to run executables that are inside a JAR file.","body":"I do not believe that your operation system is able to run executables that are inside a JAR file."},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1686951716,"post_id":76493643,"comment_id":134874382,"body_markdown":"It is, I&#39;d assumed processbuilder automatically means a cmd instance, turns out I had to specify I wanted a cmd","body":"It is, I&#39;d assumed processbuilder automatically means a cmd instance, turns out I had to specify I wanted a cmd"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686951853,"post_id":76493643,"comment_id":134874399,"body_markdown":"&quot;*It is*&quot;? you&#39;re saying that your OP sys is able to run EXE files inside a JAR file?","body":"&quot;<i>It is</i>&quot;? you&#39;re saying that your OP sys is able to run EXE files inside a JAR file?"},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1686951973,"post_id":76493643,"comment_id":134874415,"body_markdown":"no, the java code runs that","body":"no, the java code runs that"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686952140,"post_id":76493643,"comment_id":134874432,"body_markdown":"but from documentation of `ProcessBuilder`, the provided command is &quot;*the specified operating system program and arguments*&quot; and I do not believe that an EXE inside a JAR is considered a &quot;system program&quot; (usually, for Windows, such executables are found by searching the directories listed on the `PATH` variable or the path given with the command - AFAIK neither accepts a path to inside a JAR) - the EXE will have to be extracted to the file system to be executed","body":"but from documentation of <code>ProcessBuilder</code>, the provided command is &quot;<i>the specified operating system program and arguments</i>&quot; and I do not believe that an EXE inside a JAR is considered a &quot;system program&quot; (usually, for Windows, such executables are found by searching the directories listed on the <code>PATH</code> variable or the path given with the command - AFAIK neither accepts a path to inside a JAR) - the EXE will have to be extracted to the file system to be executed"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686952482,"post_id":76493643,"comment_id":134874478,"body_markdown":"&quot;java code runs that&quot; - not directly; it delegates to the operating system, similar to having the command and its arguments typed on the systems CLI  (aka Command Prompt for Windows)","body":"&quot;java code runs that&quot; - not directly; it delegates to the operating system, similar to having the command and its arguments typed on the systems CLI  (aka Command Prompt for Windows)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686965256,"post_id":76493643,"comment_id":134875451,"body_markdown":"An “embedded resource” is an entry inside a zip file. You can’t “run” executables that are contained in zip files, they first need to be extracted. You should also not be referencing “src” in you code, it won’t exist once your app is packaged","body":"An “embedded resource” is an entry inside a zip file. You can’t “run” executables that are contained in zip files, they first need to be extracted. You should also not be referencing “src” in you code, it won’t exist once your app is packaged"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686989158,"post_id":76493643,"comment_id":134876820,"body_markdown":"*(I removed src/main/resources before building...)* Don&#39;t do that. That&#39;s essential to Maven&#39;s packaging process. Anything in there will end up in the right place at the root of the jar. So you can address that as `getResourceAsStream(&quot;/foo.exe&quot;)` for extraction. I suggest `java.io.tmpdir`","body":"<i>(I removed src/main/resources before building...)</i> Don&#39;t do that. That&#39;s essential to Maven&#39;s packaging process. Anything in there will end up in the right place at the root of the jar. So you can address that as <code>getResourceAsStream(&quot;&#47;foo.exe&quot;)</code> for extraction. I suggest <code>java.io.tmpdir</code>"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1686954506,"post_id":76493736,"comment_id":134874711,"body_markdown":"The problem is that you&#39;ve got a situation where you *cannot* execute the app in your jar. You need to extract that resource somewhere first and *then* run it with `ProcessBuilder`","body":"The problem is that you&#39;ve got a situation where you <i>cannot</i> execute the app in your jar. You need to extract that resource somewhere first and <i>then</i> run it with <code>ProcessBuilder</code>"},{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":1,"creation_date":1687008313,"post_id":76493736,"comment_id":134878704,"body_markdown":"Please specify how you ran the cmd","body":"Please specify how you ran the cmd"}],"tags":[],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686951754,"creation_date":1686951754,"answer_id":76493736,"question_id":76493643,"body_markdown":"Turns out I need to specify I need to run a cmd, I assumed ProcessBuilder automatically meant a cmd instance","title":"jar executable can&#39;t find binary which is included in jar","body":"<p>Turns out I need to specify I need to run a cmd, I assumed ProcessBuilder automatically meant a cmd instance</p>\n"}],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686951754,"creation_date":1686950568,"question_id":76493643,"body_markdown":"I&#39;m running a cmd tool from a java app with ```ProcessBuilder```, it&#39;s located in ```src/main/resources/external/name-of-tool/name-of-tool.exe```. When I build jar with maven and try to run it I get an IOException with message ```CreateProcess error=2, The system cannot find the file specified```. I checked jar file and the ```.exe``` is right there in ```external/name-of-tool``` folder. In the code, I&#39;m using a string for how I&#39;d normally run a cmd tool, and it works fine in the IDE (I removed ```src/main/resources``` before building, assuming a relative path from &quot;root&quot; of the jar would work, so just ```external/name-of-tool/name-of-tool.exe, but I tried both ways). What am I doing wrong?","title":"jar executable can&#39;t find binary which is included in jar","body":"<p>I'm running a cmd tool from a java app with <code>ProcessBuilder</code>, it's located in <code>src/main/resources/external/name-of-tool/name-of-tool.exe</code>. When I build jar with maven and try to run it I get an IOException with message <code>CreateProcess error=2, The system cannot find the file specified</code>. I checked jar file and the <code>.exe</code> is right there in <code>external/name-of-tool</code> folder. In the code, I'm using a string for how I'd normally run a cmd tool, and it works fine in the IDE (I removed <code>src/main/resources</code> before building, assuming a relative path from &quot;root&quot; of the jar would work, so just ```external/name-of-tool/name-of-tool.exe, but I tried both ways). What am I doing wrong?</p>\n"},{"tags":["java","recursion","data-structures","binary-search-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1686948490,"post_id":76493058,"comment_id":134873956,"body_markdown":"No that is not possible.","body":"No that is not possible."},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1686983010,"post_id":76493058,"comment_id":134876359,"body_markdown":"thanks @trincot","body":"thanks @trincot"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1687073458,"post_id":76493058,"comment_id":134883955,"body_markdown":"You can make do with one iterator traversing the other tree, or a recursive procedure using extended state, whether using parameter passing or instance member access. (say, min and max to enlist)","body":"You can make do with one iterator traversing the other tree, or a recursive procedure using extended state, whether using parameter passing or instance member access. (say, min and max to enlist)"}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686951542,"creation_date":1686951542,"answer_id":76493715,"question_id":76493058,"body_markdown":"You cannot recurse over the two trees simultaneously here as you need to traverse the two trees independently (each time you return from a recursive call you effectively move back up *both* trees). The simplest solution I can see is to use a stack-based solution, albeit with two stacks:\r\n\r\n    public static List&lt;Integer&gt; getAllElements(TreeNode root1, TreeNode root2) {\r\n        final List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n\r\n        final Deque&lt;TreeNode&gt; stack1 = new ArrayDeque&lt;&gt;();\r\n        final Deque&lt;TreeNode&gt; stack2 = new ArrayDeque&lt;&gt;();\r\n\r\n        TreeNode node1 = root1;\r\n        TreeNode node2 = root2;\r\n\r\n        while (node1 != null || !stack1.isEmpty() || node2 != null || !stack2.isEmpty()) {\r\n            while (node1 != null) {\r\n                stack1.push(node1);\r\n                node1 = node1.left;\r\n            }\r\n\r\n            while (node2 != null) {\r\n                stack2.push(node2);\r\n                node2 = node2.left;\r\n            }\r\n\r\n            if (stack2.isEmpty() || (!stack1.isEmpty() &amp;&amp; stack1.peek().val &lt;= stack2.peek().val)) {\r\n                node1 = stack1.pop();\r\n                l.add(node1.val);\r\n                node1 = node1.right;\r\n            } else {\r\n                node2 = stack2.pop();\r\n                l.add(node2.val);\r\n                node2 = node2.right;\r\n            }\r\n        }\r\n\r\n        return l;\r\n    }\r\n","title":"Print elements in sorted order from 2 given BSTs","body":"<p>You cannot recurse over the two trees simultaneously here as you need to traverse the two trees independently (each time you return from a recursive call you effectively move back up <em>both</em> trees). The simplest solution I can see is to use a stack-based solution, albeit with two stacks:</p>\n<pre><code>public static List&lt;Integer&gt; getAllElements(TreeNode root1, TreeNode root2) {\n    final List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n\n    final Deque&lt;TreeNode&gt; stack1 = new ArrayDeque&lt;&gt;();\n    final Deque&lt;TreeNode&gt; stack2 = new ArrayDeque&lt;&gt;();\n\n    TreeNode node1 = root1;\n    TreeNode node2 = root2;\n\n    while (node1 != null || !stack1.isEmpty() || node2 != null || !stack2.isEmpty()) {\n        while (node1 != null) {\n            stack1.push(node1);\n            node1 = node1.left;\n        }\n\n        while (node2 != null) {\n            stack2.push(node2);\n            node2 = node2.left;\n        }\n\n        if (stack2.isEmpty() || (!stack1.isEmpty() &amp;&amp; stack1.peek().val &lt;= stack2.peek().val)) {\n            node1 = stack1.pop();\n            l.add(node1.val);\n            node1 = node1.right;\n        } else {\n            node2 = stack2.pop();\n            l.add(node2.val);\n            node2 = node2.right;\n        }\n    }\n\n    return l;\n}\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686951542,"creation_date":1686943363,"question_id":76493058,"body_markdown":"This problem is given at [LeetCode][1]\r\nIt states that given 2 BSTs, return a Java List of type `Integer` that has elements in ascending order.\r\nThere are 2 ways I can think of it can be solved\r\n1. Do inorder traversal of each BST and add elements of both traversal into a common `List` and then sort it.\r\n2. Implement a `BST` iterator. Use simple merge technique by instantiating over the 2 trees and moving the iterators. I am pasting my solution for this approach that works(for completeness sake only)\r\n\r\n```\r\n/**\r\n * Definition for a binary tree node.\r\n * public class TreeNode {\r\n *     int val;\r\n *     TreeNode left;\r\n *     TreeNode right;\r\n *     TreeNode() {}\r\n *     TreeNode(int val) { this.val = val; }\r\n *     TreeNode(int val, TreeNode left, TreeNode right) {\r\n *         this.val = val;\r\n *         this.left = left;\r\n *         this.right = right;\r\n *     }\r\n * }\r\n */\r\n\r\nclass MyIterator {\r\n    TreeNode root;\r\n    TreeNode iteratorPtr;\r\n    Stack&lt;TreeNode&gt; s;\r\n\r\n    public void pushToStack(TreeNode node) {\r\n        while(node!=null) {\r\n            s.push(node);\r\n            node = node.left;\r\n        }\r\n    }\r\n\r\n    public boolean hasNext() {\r\n        return s.size()&gt;0;\r\n    }\r\n\r\n    public int peek() {\r\n        return s.peek().val;\r\n    }\r\n\r\n    public int getNext() {\r\n        var retVal = s.pop();\r\n        if(retVal.right!=null) {\r\n            pushToStack(retVal.right);\r\n        }\r\n        return retVal.val;\r\n    }\r\n\r\n    public MyIterator(TreeNode root) {\r\n        s = new Stack&lt;&gt;();\r\n        this.root = root;\r\n        pushToStack(root);\r\n    }\r\n}\r\n\r\nclass Solution {\r\n    public List&lt;Integer&gt; getAllElements(TreeNode root1, TreeNode root2) {\r\n        var iterator1 = new MyIterator(root1);\r\n        var iterator2 = new MyIterator(root2);\r\n\r\n        List&lt;Integer&gt; lst = new ArrayList&lt;&gt;();\r\n        while(iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\r\n            if(iterator1.peek()&lt;iterator2.peek()) {\r\n                lst.add(iterator1.getNext());\r\n            } else {\r\n                lst.add(iterator2.getNext());\r\n            }\r\n        }\r\n        while(iterator1.hasNext()) {\r\n                lst.add(iterator1.getNext());\r\n        }\r\n        while(iterator2.hasNext()) {\r\n                lst.add(iterator2.getNext());\r\n        }\r\n        return lst;\r\n    }\r\n}\r\n```\r\n\r\n**How do I solve this using recursion that recurses over both Trees and the method is intelligent enough to increment the right inorder pointers in single recursion manipulating both pointers?** \r\nBasically say a method like `recurse(TreeNode root1, TreeNode root2, List&lt;Integer&gt; lst)`. This method must be able to compare the 2 values, then decide how to recurse. But I am not sure how to come up with it. Because with single tree, the we rely on recursion to give us the benefit of stack that can achieve inorder of a single tree\r\n\r\n\r\n\r\n  [1]: https://leetcode.com/problems/all-elements-in-two-binary-search-trees/description/","title":"Print elements in sorted order from 2 given BSTs","body":"<p>This problem is given at <a href=\"https://leetcode.com/problems/all-elements-in-two-binary-search-trees/description/\" rel=\"nofollow noreferrer\">LeetCode</a>\nIt states that given 2 BSTs, return a Java List of type <code>Integer</code> that has elements in ascending order.\nThere are 2 ways I can think of it can be solved</p>\n<ol>\n<li>Do inorder traversal of each BST and add elements of both traversal into a common <code>List</code> and then sort it.</li>\n<li>Implement a <code>BST</code> iterator. Use simple merge technique by instantiating over the 2 trees and moving the iterators. I am pasting my solution for this approach that works(for completeness sake only)</li>\n</ol>\n<pre><code>/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\n\nclass MyIterator {\n    TreeNode root;\n    TreeNode iteratorPtr;\n    Stack&lt;TreeNode&gt; s;\n\n    public void pushToStack(TreeNode node) {\n        while(node!=null) {\n            s.push(node);\n            node = node.left;\n        }\n    }\n\n    public boolean hasNext() {\n        return s.size()&gt;0;\n    }\n\n    public int peek() {\n        return s.peek().val;\n    }\n\n    public int getNext() {\n        var retVal = s.pop();\n        if(retVal.right!=null) {\n            pushToStack(retVal.right);\n        }\n        return retVal.val;\n    }\n\n    public MyIterator(TreeNode root) {\n        s = new Stack&lt;&gt;();\n        this.root = root;\n        pushToStack(root);\n    }\n}\n\nclass Solution {\n    public List&lt;Integer&gt; getAllElements(TreeNode root1, TreeNode root2) {\n        var iterator1 = new MyIterator(root1);\n        var iterator2 = new MyIterator(root2);\n\n        List&lt;Integer&gt; lst = new ArrayList&lt;&gt;();\n        while(iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\n            if(iterator1.peek()&lt;iterator2.peek()) {\n                lst.add(iterator1.getNext());\n            } else {\n                lst.add(iterator2.getNext());\n            }\n        }\n        while(iterator1.hasNext()) {\n                lst.add(iterator1.getNext());\n        }\n        while(iterator2.hasNext()) {\n                lst.add(iterator2.getNext());\n        }\n        return lst;\n    }\n}\n</code></pre>\n<p><strong>How do I solve this using recursion that recurses over both Trees and the method is intelligent enough to increment the right inorder pointers in single recursion manipulating both pointers?</strong>\nBasically say a method like <code>recurse(TreeNode root1, TreeNode root2, List&lt;Integer&gt; lst)</code>. This method must be able to compare the 2 values, then decide how to recurse. But I am not sure how to come up with it. Because with single tree, the we rely on recursion to give us the benefit of stack that can achieve inorder of a single tree</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686951043,"creation_date":1686951043,"answer_id":76493681,"question_id":76492486,"body_markdown":"I haven&#39;t tried running your code at all, but from first glance it looks like you&#39;re not calling up the filter chain after setting the security context&#39;s authentication within JwtAuthenticationFilter (although you do if there is no authorization header).\r\n\r\nTry adjusting this:\r\n\r\n```\r\n...\r\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(email);\r\n            if (jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authenticationToken\r\n                        = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                authenticationToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n            }\r\n        }\r\n```\r\n\r\nto call the next filter in the chain:\r\n\r\n```\r\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(email);\r\n            if (jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authenticationToken\r\n                        = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                authenticationToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n            }\r\n        }\r\n        // causes the next filter in the chain to be invoked\r\n        filterChain.doFilter(request, response);\r\n```\r\n\r\nHere is the comment in the header of FilterChain for the `doFilter` method:\r\n\r\n```\r\n    /**\r\n     * Causes the next filter in the chain to be invoked, or if the calling\r\n     * filter is the last filter in the chain, causes the resource at the end of\r\n     * the chain to be invoked.\r\n     *\r\n     * @param request\r\n     *            the request to pass along the chain.\r\n     * @param response\r\n     *            the response to pass along the chain.\r\n     *\r\n     * @throws IOException if an I/O error occurs during the processing of the\r\n     *                     request\r\n     * @throws ServletException if the processing fails for any other reason\r\n     */\r\n    public void doFilter(ServletRequest request, ServletResponse response)\r\n            throws IOException, ServletException;\r\n```\r\n\r\n","title":"After implementing Spring security Authentication my app doesn&#39;t return correct bodies just empty 200 HTTP responses","body":"<p>I haven't tried running your code at all, but from first glance it looks like you're not calling up the filter chain after setting the security context's authentication within JwtAuthenticationFilter (although you do if there is no authorization header).</p>\n<p>Try adjusting this:</p>\n<pre><code>...\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = userDetailsService.loadUserByUsername(email);\n            if (jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authenticationToken\n                        = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                authenticationToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n</code></pre>\n<p>to call the next filter in the chain:</p>\n<pre><code>        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = userDetailsService.loadUserByUsername(email);\n            if (jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authenticationToken\n                        = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                authenticationToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n        // causes the next filter in the chain to be invoked\n        filterChain.doFilter(request, response);\n</code></pre>\n<p>Here is the comment in the header of FilterChain for the <code>doFilter</code> method:</p>\n<pre><code>    /**\n     * Causes the next filter in the chain to be invoked, or if the calling\n     * filter is the last filter in the chain, causes the resource at the end of\n     * the chain to be invoked.\n     *\n     * @param request\n     *            the request to pass along the chain.\n     * @param response\n     *            the response to pass along the chain.\n     *\n     * @throws IOException if an I/O error occurs during the processing of the\n     *                     request\n     * @throws ServletException if the processing fails for any other reason\n     */\n    public void doFilter(ServletRequest request, ServletResponse response)\n            throws IOException, ServletException;\n</code></pre>\n"}],"owner":{"account_id":18018246,"reputation":35,"user_id":13096209,"display_name":"sBeran23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76493681,"answer_count":1,"score":2,"last_activity_date":1686951043,"creation_date":1686937189,"question_id":76492486,"body_markdown":"I have implemented some easy method to authenticate users in springboot which returns jwt and validates users but the app stopped giving responses with actual bodies and started sending empty 200 responses any clue why this might be? According to the debugger the program never ends up on the Request I was trying to call but authorization with the jwt  is always succesfull\r\n\r\nmy classes\r\n\r\n**JWTService**\r\n\r\n```java\r\n@Service\r\npublic class JwtService {\r\nprivate static final String SECRET_KEY = &quot;32bitkey&quot;;\r\npublic String extractEmail(String token) {\r\nreturn exctractClaim(token, Claims::getSubject);\r\n}\r\n\r\n    public &lt;T&gt; T exctractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n    \r\n    public String generateToken(\r\n            UserDetails userDetails) {\r\n        return generateToken(Map.of(), userDetails);\r\n    }\r\n    public String generateToken(\r\n            Map&lt;String, Object&gt; extraClaims,\r\n            UserDetails userDetails) {\r\n        return Jwts\r\n                .builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\r\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n    \r\n    public boolean isTokenValid(String token, UserDetails userDetails) {\r\n        final String email = extractEmail(token);\r\n        return email.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\r\n    }\r\n    \r\n    public boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n    \r\n    private Date extractExpiration(String token) {\r\n       return exctractClaim(token, Claims::getExpiration);\r\n    }\r\n    \r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSigningKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n    private Key getSigningKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n```\r\n\r\n**Security filter chain**\r\n\r\n```java\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity security) throws Exception {\r\n        security\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(\r\n                        &quot;/fixture/getFixturesBySportAndDate&quot;,\r\n                        &quot;/user/register&quot;,\r\n                        &quot;/user/authenticate&quot;,\r\n                        &quot;/league/getLeaguesByFixturePlayedAtDateInSport&quot;,\r\n                        &quot;/team/fillTeamsHockey&quot;,\r\n                        &quot;/fixture/fillFixturesHockey&quot;,\r\n                        &quot;/fixture/fillFixturesBasketball&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthetificationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return security.build();\r\n    }\r\n```\r\n\r\n**JwtAuthFilter**\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthetificationFilter extends OncePerRequestFilter {\r\n    private final JwtService jwtService;\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String email;\r\n        if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authorizationHeader.substring(7);\r\n        email = jwtService.extractEmail(jwt);\r\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(email);\r\n            if (jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authenticationToken\r\n                        = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                authenticationToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n**Application Config**\r\n\r\n```java\r\n@Configuration @RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; userRepository.findByEmail(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n        };\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService());\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration cfg) throws Exception {\r\n         return cfg.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n       return new BCryptPasswordEncoder();\r\n    }\r\n```\r\n\r\n**Example request**\r\n\r\n```java\r\n    @GetMapping(value = &quot;/getUserInfo&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserInfo(HttpServletRequest request){\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        String email = authentication.getName();\r\n        User user = userRepository.findByEmail(email).get();\r\n        return ResponseEntity.ok(user);\r\n    }\r\n```\r\n\r\nI tried changing basically everything and debugging the info but couldn&#39;t get it done because it just gave me the answer that the request never executes","title":"After implementing Spring security Authentication my app doesn&#39;t return correct bodies just empty 200 HTTP responses","body":"<p>I have implemented some easy method to authenticate users in springboot which returns jwt and validates users but the app stopped giving responses with actual bodies and started sending empty 200 responses any clue why this might be? According to the debugger the program never ends up on the Request I was trying to call but authorization with the jwt  is always succesfull</p>\n<p>my classes</p>\n<p><strong>JWTService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class JwtService {\nprivate static final String SECRET_KEY = &quot;32bitkey&quot;;\npublic String extractEmail(String token) {\nreturn exctractClaim(token, Claims::getSubject);\n}\n\n    public &lt;T&gt; T exctractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n    \n    public String generateToken(\n            UserDetails userDetails) {\n        return generateToken(Map.of(), userDetails);\n    }\n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetails userDetails) {\n        return Jwts\n                .builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n    \n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        final String email = extractEmail(token);\n        return email.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\n    }\n    \n    public boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n    \n    private Date extractExpiration(String token) {\n       return exctractClaim(token, Claims::getExpiration);\n    }\n    \n    private Claims extractAllClaims(String token) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSigningKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n    private Key getSigningKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n</code></pre>\n<p><strong>Security filter chain</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity security) throws Exception {\n        security\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(\n                        &quot;/fixture/getFixturesBySportAndDate&quot;,\n                        &quot;/user/register&quot;,\n                        &quot;/user/authenticate&quot;,\n                        &quot;/league/getLeaguesByFixturePlayedAtDateInSport&quot;,\n                        &quot;/team/fillTeamsHockey&quot;,\n                        &quot;/fixture/fillFixturesHockey&quot;,\n                        &quot;/fixture/fillFixturesBasketball&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthetificationFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return security.build();\n    }\n</code></pre>\n<p><strong>JwtAuthFilter</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthetificationFilter extends OncePerRequestFilter {\n    private final JwtService jwtService;\n    @Autowired\n    private UserDetailsService userDetailsService;\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String email;\n        if (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authorizationHeader.substring(7);\n        email = jwtService.extractEmail(jwt);\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = userDetailsService.loadUserByUsername(email);\n            if (jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authenticationToken\n                        = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                authenticationToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n    }\n</code></pre>\n<p><strong>Application Config</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration @RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final UserRepository userRepository;\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userRepository.findByEmail(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        };\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration cfg) throws Exception {\n         return cfg.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n       return new BCryptPasswordEncoder();\n    }\n</code></pre>\n<p><strong>Example request</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/getUserInfo&quot;)\n    public ResponseEntity&lt;User&gt; getUserInfo(HttpServletRequest request){\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        String email = authentication.getName();\n        User user = userRepository.findByEmail(email).get();\n        return ResponseEntity.ok(user);\n    }\n</code></pre>\n<p>I tried changing basically everything and debugging the info but couldn't get it done because it just gave me the answer that the request never executes</p>\n"},{"tags":["java","cookies","jax-rs"],"comments":[{"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"score":0,"creation_date":1407679499,"post_id":25225901,"comment_id":39299245,"body_markdown":"Can you provide an example of what you tried and what didn&#39;t work?","body":"Can you provide an example of what you tried and what didn&#39;t work?"}],"answers":[{"tags":[],"owner":{"account_id":1324097,"reputation":1459,"user_id":1269314,"accept_rate":29,"display_name":"julius_am"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1407734946,"creation_date":1407734946,"answer_id":25236357,"question_id":25225901,"body_markdown":"To attach the cookie to all requests the domain and path should be:\r\ndomain = &quot;&quot;;\r\npath = &quot;/&quot;\r\n\r\nSo the cookie creation will look as follows:\r\n\r\n    NewCookie(&quot;cookie-name&quot;, &quot;cookie-value&quot;, &quot;/&quot;, &quot;&quot;, &quot;comment&quot;, 100, false);\r\n\r\n","title":"Cookie domain and path with jax-rs","body":"<p>To attach the cookie to all requests the domain and path should be:\ndomain = \"\";\npath = \"/\"</p>\n\n<p>So the cookie creation will look as follows:</p>\n\n<pre><code>NewCookie(\"cookie-name\", \"cookie-value\", \"/\", \"\", \"comment\", 100, false);\n</code></pre>\n"}],"owner":{"account_id":1324097,"reputation":1459,"user_id":1269314,"accept_rate":29,"display_name":"julius_am"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3567,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":25236357,"answer_count":1,"score":8,"last_activity_date":1686950146,"creation_date":1407649246,"question_id":25225901,"body_markdown":"I&#39;m using jax-rs and trying to add a cookie to my response.\r\nThe problem is that when adding a cookie the following way:\r\n\r\n    new NewCookie(&quot;cookie-name&quot;, &quot;cookie-value&quot;);\r\n\r\nthe cookie is being attached only to the requests of the same path.\r\nFor example, if I add the cookie in the request &quot;/myapp/users/login&quot;, I don&#39;t see that cookie when calling other requests. I think the explanation to this is that, for some reason, the path of the cookie is &quot;/myapp/users&quot; so when calling &quot;myapp/someotherpath&quot; the cookie is not being attached.\r\n\r\nI tried using another constructor of NewCookie where I can set domain and path but couldn&#39;t make it work, can some one give me an example of setting domain and path that will attach the cookie to all requests? isn&#39;t this supposed to be the default behavior anyway?","title":"Cookie domain and path with jax-rs","body":"<p>I'm using jax-rs and trying to add a cookie to my response.\nThe problem is that when adding a cookie the following way:</p>\n\n<pre><code>new NewCookie(\"cookie-name\", \"cookie-value\");\n</code></pre>\n\n<p>the cookie is being attached only to the requests of the same path.\nFor example, if I add the cookie in the request \"/myapp/users/login\", I don't see that cookie when calling other requests. I think the explanation to this is that, for some reason, the path of the cookie is \"/myapp/users\" so when calling \"myapp/someotherpath\" the cookie is not being attached.</p>\n\n<p>I tried using another constructor of NewCookie where I can set domain and path but couldn't make it work, can some one give me an example of setting domain and path that will attach the cookie to all requests? isn't this supposed to be the default behavior anyway?</p>\n"},{"tags":["java","encoding","outputstream"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1548704831,"post_id":54408436,"comment_id":95629268,"body_markdown":"Do you use Visual Studio Code for your Java file, or do you use it to view your `temp.txt`, or both?","body":"Do you use Visual Studio Code for your Java file, or do you use it to view your <code>temp.txt</code>, or both?"},{"owner":{"account_id":6302036,"reputation":71,"user_id":4896353,"accept_rate":0,"display_name":"bennes"},"score":0,"creation_date":1548749539,"post_id":54408436,"comment_id":95642823,"body_markdown":"only for java file","body":"only for java file"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1548750318,"post_id":54408436,"comment_id":95643168,"body_markdown":"There lies the problem: your source code file is not encoded as UTF-8. You should grab a decent IDE or text editor and set the file&#39;s charset to UTF-8.","body":"There lies the problem: your source code file is not encoded as UTF-8. You should grab a decent IDE or text editor and set the file&#39;s charset to UTF-8."},{"owner":{"account_id":6302036,"reputation":71,"user_id":4896353,"accept_rate":0,"display_name":"bennes"},"score":0,"creation_date":1548753952,"post_id":54408436,"comment_id":95645086,"body_markdown":"oh, I like VS Code :( Probably there will be an option how to encode source code file in UTF-8, no?","body":"oh, I like VS Code :( Probably there will be an option how to encode source code file in UTF-8, no?"},{"owner":{"account_id":6302036,"reputation":71,"user_id":4896353,"accept_rate":0,"display_name":"bennes"},"score":0,"creation_date":1548755364,"post_id":54408436,"comment_id":95645955,"body_markdown":"even there is in the bottom right pane the possibility to change encoding in VS code, but obiously it doesn`t help","body":"even there is in the bottom right pane the possibility to change encoding in VS code, but obiously it doesn`t help"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1548775440,"post_id":54408436,"comment_id":95658795,"body_markdown":"With which application are you *viewing* the file?","body":"With which application are you <i>viewing</i> the file?"},{"owner":{"account_id":6302036,"reputation":71,"user_id":4896353,"accept_rate":0,"display_name":"bennes"},"score":0,"creation_date":1548777791,"post_id":54408436,"comment_id":95660289,"body_markdown":"I think VS Code is not the problem. I tried to run java code only through cmd, and still the encoding problem. Application I tried to save as txt and csv, to open the file I used notepad, sublime and excel. Each try with the same incorrect result.","body":"I think VS Code is not the problem. I tried to run java code only through cmd, and still the encoding problem. Application I tried to save as txt and csv, to open the file I used notepad, sublime and excel. Each try with the same incorrect result."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1548784665,"post_id":54408436,"comment_id":95664063,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/187509/discussion-between-mc-emperor-and-bennes).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/187509/discussion-between-mc-emperor-and-bennes\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"score":1,"creation_date":1548705437,"post_id":54408999,"comment_id":95629555,"body_markdown":"I would say you should use `StandardCharsets` rather than `String charsetName` to prevent a possible `UnsupportedEncodingException`.","body":"I would say you should use <code>StandardCharsets</code> rather than <code>String charsetName</code> to prevent a possible <code>UnsupportedEncodingException</code>."},{"owner":{"account_id":6302036,"reputation":71,"user_id":4896353,"accept_rate":0,"display_name":"bennes"},"score":0,"creation_date":1548779979,"post_id":54408999,"comment_id":95661625,"body_markdown":"This didn`t help. I got unmappable character problem, which was possible to solve defining system variable JAVA_TOOL_OPTIONS with value: -Dfile.encoding=UTF8. Like this I am able to see special characters.","body":"This didn`t help. I got unmappable character problem, which was possible to solve defining system variable JAVA_TOOL_OPTIONS with value: -Dfile.encoding=UTF8. Like this I am able to see special characters."},{"owner":{"account_id":6302036,"reputation":71,"user_id":4896353,"accept_rate":0,"display_name":"bennes"},"score":0,"creation_date":1548781005,"post_id":54408999,"comment_id":95662244,"body_markdown":"hm but only within cmd its working. Running in VS Code provides the data with the same problem for csv file, for txt it`s working. So probably some setting in excel.","body":"hm but only within cmd its working. Running in VS Code provides the data with the same problem for csv file, for txt it`s working. So probably some setting in excel."}],"tags":[],"owner":{"account_id":3098373,"reputation":135,"user_id":2623124,"display_name":"linoskoczek"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552943279,"creation_date":1548703846,"answer_id":54408999,"question_id":54408436,"body_markdown":"Your code is correct. You probably already have a file named _temp.txt_, and therefore Java writes text to the existing file (replacing previous content). What can be a problem is an encoding, that you already have set in your file. \r\n\r\nIn other words, you can&#39;t (or at least shouldn&#39;t) write UTF-8 text to the file with for example WINDOWS-1250 encoding or you would get an exact result as you have described.\r\n\r\nIf you didn&#39;t have this file, Java would automatically create a file with UTF-8 encoding. \r\n\r\n**Possible solutions:**\r\n\r\n 1. Change encoding of your current file (usually you can open it in any text editor, use _Save as_ and then specify encoding as _UTF-8_.\r\n 2. Remove this file and Java will create it automatically with proper encoding.\r\n\r\n___\r\nBy the way, you should use `StandardCharsets` class instead of using `String charsetName` in order to avoid UnsupportedEncodingException:\r\n\r\n    new OutputStreamWriter(new FileOutputStream(&quot;temp.txt&quot;), StandardCharsets.UTF_8)\r\n\r\n","title":"java utf8 encoding outputstream not working","body":"<p>Your code is correct. You probably already have a file named <em>temp.txt</em>, and therefore Java writes text to the existing file (replacing previous content). What can be a problem is an encoding, that you already have set in your file. </p>\n\n<p>In other words, you can't (or at least shouldn't) write UTF-8 text to the file with for example WINDOWS-1250 encoding or you would get an exact result as you have described.</p>\n\n<p>If you didn't have this file, Java would automatically create a file with UTF-8 encoding. </p>\n\n<p><strong>Possible solutions:</strong></p>\n\n<ol>\n<li>Change encoding of your current file (usually you can open it in any text editor, use <em>Save as</em> and then specify encoding as <em>UTF-8</em>.</li>\n<li>Remove this file and Java will create it automatically with proper encoding.</li>\n</ol>\n\n<hr>\n\n<p>By the way, you should use <code>StandardCharsets</code> class instead of using <code>String charsetName</code> in order to avoid UnsupportedEncodingException:</p>\n\n<pre><code>new OutputStreamWriter(new FileOutputStream(\"temp.txt\"), StandardCharsets.UTF_8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1833103,"reputation":697,"user_id":1664043,"accept_rate":46,"display_name":"user1664043"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611173255,"creation_date":1611173255,"answer_id":65816875,"question_id":54408436,"body_markdown":"When you say &quot;I see special characters not showing properly&quot;, where are you seeing them?\r\n\r\nWhat you say/show next *looks* like the string, utf-8 encoded (i.e. the accented a&#39;s are each represented by 2 chars, in what appears to be the appropriate encoding).\r\n\r\nWhat I would expect the issue to be is that the java code is not outputting a BOM at the beginning of the file, leaving the interpretation of utf-8 sequences up to the discretion of the reader.","title":"java utf8 encoding outputstream not working","body":"<p>When you say &quot;I see special characters not showing properly&quot;, where are you seeing them?</p>\n<p>What you say/show next <em>looks</em> like the string, utf-8 encoded (i.e. the accented a's are each represented by 2 chars, in what appears to be the appropriate encoding).</p>\n<p>What I would expect the issue to be is that the java code is not outputting a BOM at the beginning of the file, leaving the interpretation of utf-8 sequences up to the discretion of the reader.</p>\n"}],"owner":{"account_id":6302036,"reputation":71,"user_id":4896353,"accept_rate":0,"display_name":"bennes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686949515,"creation_date":1548701354,"question_id":54408436,"body_markdown":"I need to write a program which is able to write UTF-8 data into a file.\r\n\r\nI found out examples on the internet, however, I am not able to progress to desired result.\r\n\r\nCode:\r\n\r\n    import java.io.BufferedWriter;\r\n    import java.io.FileOutputStream;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.Writer;\r\n     \r\n    public class UTF8WriterDemo {\r\n     \r\n        public static void main(String[] args) {\r\n            Writer out = null;\r\n            try {\r\n                out = new BufferedWriter(\r\n                        new OutputStreamWriter(new FileOutputStream(&quot;c://java//temp.txt&quot;), &quot;UTF-8&quot;));\r\n     \r\n     \r\n                String text = &quot;This tex&#225;&#225;t will be added to File !!&quot;;\r\n     \r\n                out.write(text);\r\n                out.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n     \r\n        }\r\n     \r\n    }\r\n     \r\n     \r\n\r\n\r\nEverything run succesfully, but at the end I see special characters not showing properly: \r\nThis tex&#195;&#161;&#195;&#161;t will be added to File !!\r\n\r\n\r\nI tried several examples from the internet with the same result.\r\n\r\nI use Visual Studio code.\r\n\r\nWhere could be the problem please?\r\n\r\n\r\nThank you","title":"java utf8 encoding outputstream not working","body":"<p>I need to write a program which is able to write UTF-8 data into a file.</p>\n\n<p>I found out examples on the internet, however, I am not able to progress to desired result.</p>\n\n<p>Code:</p>\n\n<pre><code>import java.io.BufferedWriter;\nimport java.io.FileOutputStream;\nimport java.io.OutputStreamWriter;\nimport java.io.Writer;\n\npublic class UTF8WriterDemo {\n\n    public static void main(String[] args) {\n        Writer out = null;\n        try {\n            out = new BufferedWriter(\n                    new OutputStreamWriter(new FileOutputStream(\"c://java//temp.txt\"), \"UTF-8\"));\n\n\n            String text = \"This texáát will be added to File !!\";\n\n            out.write(text);\n            out.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Everything run succesfully, but at the end I see special characters not showing properly: \nThis texÃ¡Ã¡t will be added to File !!</p>\n\n<p>I tried several examples from the internet with the same result.</p>\n\n<p>I use Visual Studio code.</p>\n\n<p>Where could be the problem please?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","apache-arrow"],"answers":[{"tags":[],"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662579363,"creation_date":1662579363,"answer_id":73640686,"question_id":73640434,"body_markdown":"What you most commonly would want to do is to create a TransferPair object for each Vector in the source VectorSchemaRoot, to transfer its buffers to new vectors in the second one. \r\n\r\nIn this case what you have, though, is not really a &quot;copy&quot; as the data is passed from one VSR to another, rather than copied. A typical use-case for this approach is using VectorSchemaRoots in a pipeline where they process data sequentially. \r\n\r\nIf you could say a bit more about what you&#39;re trying to accomplish I might be able to provide a better answer. \r\n\r\n","title":"Java Apache Arrow Copy data from one VectorSchemaRoot to another","body":"<p>What you most commonly would want to do is to create a TransferPair object for each Vector in the source VectorSchemaRoot, to transfer its buffers to new vectors in the second one.</p>\n<p>In this case what you have, though, is not really a &quot;copy&quot; as the data is passed from one VSR to another, rather than copied. A typical use-case for this approach is using VectorSchemaRoots in a pipeline where they process data sequentially.</p>\n<p>If you could say a bit more about what you're trying to accomplish I might be able to provide a better answer.</p>\n"},{"tags":[],"owner":{"account_id":3992512,"reputation":1270,"user_id":3290958,"display_name":"dehumanizer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686948348,"creation_date":1686948348,"answer_id":76493463,"question_id":73640434,"body_markdown":"This is how I implemented it. Make sure you close the `originalRoot`, otherwise you&#39;ll get a memory leak exception. Also, `getAllocator()` creates a child allocator from `RootAllocator`, i.e. don&#39;t create a new root — you&#39;ll get another exception there must be the same shared root.\r\n\r\n```\r\n  private VectorSchemaRoot cloneRoot(VectorSchemaRoot originalRoot) {\r\n    VectorSchemaRoot theRoot = VectorSchemaRoot.create(originalRoot.getSchema(), getAllocator());\r\n    VectorLoader loader = new VectorLoader(theRoot);\r\n    VectorUnloader unloader = new VectorUnloader(originalRoot);\r\n    try (ArrowRecordBatch recordBatch = unloader.getRecordBatch()) {\r\n      loader.load(recordBatch);\r\n    }\r\n    return theRoot;\r\n  }\r\n```","title":"Java Apache Arrow Copy data from one VectorSchemaRoot to another","body":"<p>This is how I implemented it. Make sure you close the <code>originalRoot</code>, otherwise you'll get a memory leak exception. Also, <code>getAllocator()</code> creates a child allocator from <code>RootAllocator</code>, i.e. don't create a new root — you'll get another exception there must be the same shared root.</p>\n<pre><code>  private VectorSchemaRoot cloneRoot(VectorSchemaRoot originalRoot) {\n    VectorSchemaRoot theRoot = VectorSchemaRoot.create(originalRoot.getSchema(), getAllocator());\n    VectorLoader loader = new VectorLoader(theRoot);\n    VectorUnloader unloader = new VectorUnloader(originalRoot);\n    try (ArrowRecordBatch recordBatch = unloader.getRecordBatch()) {\n      loader.load(recordBatch);\n    }\n    return theRoot;\n  }\n</code></pre>\n"}],"owner":{"account_id":3737085,"reputation":8822,"user_id":3107798,"accept_rate":50,"display_name":"jjbskir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686948348,"creation_date":1662577819,"question_id":73640434,"body_markdown":"If I have a `VectorSchemaRoot` that already contains data using the the [Java Apache Arrow][1] library, how would I go about copying that data to another `VectorSchemaRoot`?\r\n\r\n\r\n  [1]: https://arrow.apache.org/docs/java/index.html","title":"Java Apache Arrow Copy data from one VectorSchemaRoot to another","body":"<p>If I have a <code>VectorSchemaRoot</code> that already contains data using the the <a href=\"https://arrow.apache.org/docs/java/index.html\" rel=\"nofollow noreferrer\">Java Apache Arrow</a> library, how would I go about copying that data to another <code>VectorSchemaRoot</code>?</p>\n"},{"tags":["java","kubernetes","google-kubernetes-engine"],"comments":[{"owner":{"account_id":7248598,"reputation":11598,"user_id":5529712,"display_name":"Gari Singh"},"score":0,"creation_date":1686987184,"post_id":76493448,"comment_id":134876667,"body_markdown":"GKE won&#39;t upgrade the control plane and the node pools within the same 24 hour period.  So the node pool should be upgraded to 1.25 soon (or you can manually update as well).\n\nAs for the DD agent, do you have any more details on why the pod can&#39;t be scheduled?  Maybe the event log for the pod has some details?  `kubectl describe pod ...`","body":"GKE won&#39;t upgrade the control plane and the node pools within the same 24 hour period.  So the node pool should be upgraded to 1.25 soon (or you can manually update as well).  As for the DD agent, do you have any more details on why the pod can&#39;t be scheduled?  Maybe the event log for the pod has some details?  <code>kubectl describe pod ...</code>"}],"owner":{"account_id":185507,"reputation":511,"user_id":422268,"accept_rate":73,"display_name":"Tony Giaccone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686948146,"creation_date":1686948146,"question_id":76493448,"body_markdown":"We have an java app that&#39;s running in GKE, and it was using v1.23 which is about to EOL so we&#39;re trying to upgrade to a newer version. We upgraded to v1.24 and everything was good. So I choose to let google upgrade to v1.25 and now we have a problem. \r\n\r\nthe pool is configured with version 1.24.12-gke 1000 and an image type of Ubuntu with containerd \r\n\r\nThe nodes in the cluster view all show green ready. \r\n\r\nBut we&#39;re getting an error message: \r\n\r\n**Problem**\r\n\r\nYour cluster has 1 unschedulable pod\r\n\r\n**Details** Unschedulable pods\r\n\r\ndatadog-agent-v52f4\r\n\r\nI recognize that this is an old version of the datadog java agent, and I am guessing that I need to upgrade this as well.  But this is just my WAG about the problem and I haven&#39;t been able to find any information about what versions of the datadog agent work with which versions of GKE. \r\n\r\nAlso there&#39;s conflicting information displayed with regard to the cluster vs the Node pool. The cluster seems to be at 1.25.8-gke.500\tbut the pool is still at 1.24.12-gke.1000\r\n\r\n\r\nAny suggestions about how to resolve my problem?","title":"GKE cluster has unschedulable pods datadog-agent-v52f4","body":"<p>We have an java app that's running in GKE, and it was using v1.23 which is about to EOL so we're trying to upgrade to a newer version. We upgraded to v1.24 and everything was good. So I choose to let google upgrade to v1.25 and now we have a problem.</p>\n<p>the pool is configured with version 1.24.12-gke 1000 and an image type of Ubuntu with containerd</p>\n<p>The nodes in the cluster view all show green ready.</p>\n<p>But we're getting an error message:</p>\n<p><strong>Problem</strong></p>\n<p>Your cluster has 1 unschedulable pod</p>\n<p><strong>Details</strong> Unschedulable pods</p>\n<p>datadog-agent-v52f4</p>\n<p>I recognize that this is an old version of the datadog java agent, and I am guessing that I need to upgrade this as well.  But this is just my WAG about the problem and I haven't been able to find any information about what versions of the datadog agent work with which versions of GKE.</p>\n<p>Also there's conflicting information displayed with regard to the cluster vs the Node pool. The cluster seems to be at 1.25.8-gke.500   but the pool is still at 1.24.12-gke.1000</p>\n<p>Any suggestions about how to resolve my problem?</p>\n"},{"tags":["java","eclipse","configuration","oomph"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686950791,"post_id":76493378,"comment_id":134874275,"body_markdown":"Do a web search without the `-D` prefix: see [`oomph.update.url`](https://www.eclipse.org/forums/index.php?t=msg&amp;th=1109150&amp;goto=1845142&amp;#msg_1845142) and [`oomph.redirection.index.redirection`](https://github.com/a-langer/eclipse-oomph-console#settings). The `eclipse.ini` will be updated as well and is not recommended to be edited.","body":"Do a web search without the <code>-D</code> prefix: see <a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;th=1109150&amp;goto=1845142&amp;#msg_1845142\" rel=\"nofollow noreferrer\"><code>oomph.update.url</code></a> and <a href=\"https://github.com/a-langer/eclipse-oomph-console#settings\" rel=\"nofollow noreferrer\"><code>oomph.redirection.index.redirection</code></a>. The <code>eclipse.ini</code> will be updated as well and is not recommended to be edited."}],"owner":{"account_id":300494,"reputation":13934,"user_id":607655,"accept_rate":81,"display_name":"Meng Lu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686947239,"creation_date":1686947239,"question_id":76493378,"body_markdown":"I&#39;ve recently upgraded my Eclipse to 2023-06. Then I examined my eclipse.ini which has been used for more than a year and multiple updated versions of Eclipse. I found two lines of oomph configuration:\r\n```\r\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\r\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n```\r\n\r\nI probably previously copied them from somewhere but no longer remember why. So, questions:\r\n\r\n1. What do they do? Or how do they make things different from the default behavior? \r\n2. Are they still necessary or useful for the newest version of Eclipse, i.e. 2023-06?\r\n3. In genera where can one find documentation and usage of these configuration parameters?\r\n","title":"Explicit configuration for Eclipse Ooomph in eclipse.ini useful?","body":"<p>I've recently upgraded my Eclipse to 2023-06. Then I examined my eclipse.ini which has been used for more than a year and multiple updated versions of Eclipse. I found two lines of oomph configuration:</p>\n<pre><code>-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n</code></pre>\n<p>I probably previously copied them from somewhere but no longer remember why. So, questions:</p>\n<ol>\n<li>What do they do? Or how do they make things different from the default behavior?</li>\n<li>Are they still necessary or useful for the newest version of Eclipse, i.e. 2023-06?</li>\n<li>In genera where can one find documentation and usage of these configuration parameters?</li>\n</ol>\n"},{"tags":["java","drop-down-menu","command-line-interface"],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686946511,"creation_date":1686946511,"question_id":76493321,"body_markdown":"I would like to use a select element in a Java CLI, similar to this example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZRSn.png\r\n\r\nthat I stole from https://github.com/go-survey/survey\r\n\r\nI found plenty of information about how you could do it in Go, but I did not find something useful for Java except the library https://github.com/mabe02/lanterna which is not really what I am looking for because I tries to create a whole GUI in a shell, and does not support powershell or cmd on Windows.\r\n\r\nCan anyone tell me how to do this?","title":"Select UI element in Java CLI","body":"<p>I would like to use a select element in a Java CLI, similar to this example:</p>\n<p><a href=\"https://i.stack.imgur.com/JZRSn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZRSn.png\" alt=\"enter image description here\" /></a></p>\n<p>that I stole from <a href=\"https://github.com/go-survey/survey\" rel=\"nofollow noreferrer\">https://github.com/go-survey/survey</a></p>\n<p>I found plenty of information about how you could do it in Go, but I did not find something useful for Java except the library <a href=\"https://github.com/mabe02/lanterna\" rel=\"nofollow noreferrer\">https://github.com/mabe02/lanterna</a> which is not really what I am looking for because I tries to create a whole GUI in a shell, and does not support powershell or cmd on Windows.</p>\n<p>Can anyone tell me how to do this?</p>\n"},{"tags":["java","spring","filter","spring-security"],"answers":[{"tags":[],"owner":{"account_id":28830456,"reputation":21,"user_id":22081027,"display_name":"Ammolite"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686946345,"creation_date":1686946345,"answer_id":76493305,"question_id":76490569,"body_markdown":"The problem was solved like this: UserDetailsService uses a request to the repository, looking for a user by email. Spring was passing the decrypted email correctly, but adding a line break.\r\n\r\nSo far I&#39;ve replaced this:\r\n\r\n    repo.findByEmail(email.replaceAll(&quot;\\n&quot;,&quot;&quot;)\r\n\r\nAfter that, the user became located, the session was confirmed. I&#39;ll see where the line wrapping came from and, if anything, I&#39;ll supplement the answer.","title":"Remember-me in Spring Security doesn&#39;t work","body":"<p>The problem was solved like this: UserDetailsService uses a request to the repository, looking for a user by email. Spring was passing the decrypted email correctly, but adding a line break.</p>\n<p>So far I've replaced this:</p>\n<pre><code>repo.findByEmail(email.replaceAll(&quot;\\n&quot;,&quot;&quot;)\n</code></pre>\n<p>After that, the user became located, the session was confirmed. I'll see where the line wrapping came from and, if anything, I'll supplement the answer.</p>\n"}],"owner":{"account_id":28830456,"reputation":21,"user_id":22081027,"display_name":"Ammolite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76493305,"answer_count":1,"score":1,"last_activity_date":1686946345,"creation_date":1686921314,"question_id":76490569,"body_markdown":"Faced the following problem: when you try to delete the JSESSIONID or restart the browser, the next request to the server resets the remember-me Cookie and does not confirm the session.\r\n\r\n```\r\nhttp\r\n            .authenticationManager(authManager(http))\r\n            .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/auth/sendCode&quot;, &quot;/login&quot;).permitAll()\r\n            .requestMatchers(&quot;/api/*&quot;).hasAuthority(&quot;USER&quot;)\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .exceptionHandling()\r\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n            .and()\r\n            .formLogin().passwordParameter(&quot;code&quot;).usernameParameter(&quot;email&quot;)\r\n            .successHandler((request, response, authentication) -&gt; {\r\n                response.setStatus(HttpServletResponse.SC_OK);\r\n            }).failureHandler((request, response, exception) -&gt; response.setStatus(HttpServletResponse.SC_UNAUTHORIZED))\r\n            .permitAll()\r\n            .and()\r\n            .logout()\r\n            .logoutSuccessUrl(&quot;/&quot;)\r\n            .deleteCookies(&quot;JSESSIONID&quot;)\r\n            .and()\r\n            .rememberMe()        .tokenRepository(persistentTokenRepository())\r\n.userDetailsService(userDetailsService())\r\n            .alwaysRemember(true)\r\n            .tokenValiditySeconds(24*60*60*14)\r\n            .key(&quot;Mykey&quot;);\r\n    return http.build();\r\n\r\n    @Bean\r\npublic PersistentTokenRepository persistentTokenRepository(){\r\n    JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\r\n    tokenRepository.setDataSource(dataSource);\r\n    return tokenRepository;\r\n}\r\n```\r\n\r\nWhen requested from any of the authorized user paths, a 401 is returned from exceptionHandling(). There are two Set-Cookies in a row in the response headers:\r\n\r\n\r\n    Set-Cookie: remember-me=; Max-Age=0; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Path=/\r\n\r\n    Set-Cookie: remember-me=aFRLMWhLYkhmNzVLMWh6M2I0b2ZYQSUzRCUzRDo2Snd1ZWFkcTFZRGlzZXp4RjAwRHlBJTNEJTNE; Max-Age=1209600; Expires=Thu, 29-Jun-2023 23:40:17 GMT; Path=/; HttpOnly\r\n\r\n\r\nThere is a table in the database and every time a new remember-me token is created:\r\n[persistent table](https://i.stack.imgur.com/F8TO2.png)\r\n\r\n\r\nIt is necessary that the cookie is not reset and works all the time tokenValiditySeconds. Please, tell me what could be the problem?","title":"Remember-me in Spring Security doesn&#39;t work","body":"<p>Faced the following problem: when you try to delete the JSESSIONID or restart the browser, the next request to the server resets the remember-me Cookie and does not confirm the session.</p>\n<pre><code>http\n            .authenticationManager(authManager(http))\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/auth/sendCode&quot;, &quot;/login&quot;).permitAll()\n            .requestMatchers(&quot;/api/*&quot;).hasAuthority(&quot;USER&quot;)\n            .anyRequest()\n            .authenticated()\n            .and()\n            .exceptionHandling()\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n            .and()\n            .formLogin().passwordParameter(&quot;code&quot;).usernameParameter(&quot;email&quot;)\n            .successHandler((request, response, authentication) -&gt; {\n                response.setStatus(HttpServletResponse.SC_OK);\n            }).failureHandler((request, response, exception) -&gt; response.setStatus(HttpServletResponse.SC_UNAUTHORIZED))\n            .permitAll()\n            .and()\n            .logout()\n            .logoutSuccessUrl(&quot;/&quot;)\n            .deleteCookies(&quot;JSESSIONID&quot;)\n            .and()\n            .rememberMe()        .tokenRepository(persistentTokenRepository())\n.userDetailsService(userDetailsService())\n            .alwaysRemember(true)\n            .tokenValiditySeconds(24*60*60*14)\n            .key(&quot;Mykey&quot;);\n    return http.build();\n\n    @Bean\npublic PersistentTokenRepository persistentTokenRepository(){\n    JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\n    tokenRepository.setDataSource(dataSource);\n    return tokenRepository;\n}\n</code></pre>\n<p>When requested from any of the authorized user paths, a 401 is returned from exceptionHandling(). There are two Set-Cookies in a row in the response headers:</p>\n<pre><code>Set-Cookie: remember-me=; Max-Age=0; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Path=/\n\nSet-Cookie: remember-me=aFRLMWhLYkhmNzVLMWh6M2I0b2ZYQSUzRCUzRDo2Snd1ZWFkcTFZRGlzZXp4RjAwRHlBJTNEJTNE; Max-Age=1209600; Expires=Thu, 29-Jun-2023 23:40:17 GMT; Path=/; HttpOnly\n</code></pre>\n<p>There is a table in the database and every time a new remember-me token is created:\n<a href=\"https://i.stack.imgur.com/F8TO2.png\" rel=\"nofollow noreferrer\">persistent table</a></p>\n<p>It is necessary that the cookie is not reset and works all the time tokenValiditySeconds. Please, tell me what could be the problem?</p>\n"},{"tags":["java","remedy"],"answers":[{"comments":[{"owner":{"account_id":11270861,"reputation":349,"user_id":8266370,"display_name":"Dusayanta Prasad"},"score":0,"creation_date":1581918943,"post_id":60242767,"comment_id":106583610,"body_markdown":"please let me know what the last line `server.endBulkEntryTransaction(Constants.AR_BULK_ENTRY_ACTION_SEND)`  is doing and what is the meaning of the arguments within this menthod.","body":"please let me know what the last line <code>server.endBulkEntryTransaction(Constants.AR_BULK_ENTRY_ACTIO&zwnj;&#8203;N_SEND)</code>  is doing and what is the meaning of the arguments within this menthod."},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1581929959,"post_id":60242767,"comment_id":106587495,"body_markdown":"This is basically the commit. if you do not call `server.beginBulkEntryTransaction();` each call to `server.createEntry(formName, entry);` will commit the entry and the program will wait for the result. `server.endBulkEntryTransaction()` is the same as &#180;commit&#180; in SQL","body":"This is basically the commit. if you do not call <code>server.beginBulkEntryTransaction();</code> each call to <code>server.createEntry(formName, entry);</code> will commit the entry and the program will wait for the result. <code>server.endBulkEntryTransaction()</code> is the same as &#180;commit&#180; in SQL"}],"tags":[],"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581930132,"creation_date":1581798051,"answer_id":60242767,"question_id":60090160,"body_markdown":"The API provides this. Look in the `ARServerUser` javadoc:\r\n\r\nIt is used like this:\r\n\r\n    //connect to AR server\r\n    ARServerUser server = new ARServerUser();\r\n    server.setServer(&quot;localhost&quot;);\r\n    server.setUser(&quot;Demo&quot;);\r\n    server.setPassword(&quot;&quot;);\r\n    // begin bulk transaction\r\n    server.beginBulkEntryTransaction();\r\n    //create and submit Entry Objects\r\n    \r\n    for(int x = 0; x &lt; 10; x++){\r\n      try {\r\n\t\t\tEntry entry = new Entry();\r\n\t\t\tentry.put(Constants.AR_CORE_SUBMITTER, new Value(submitter));\r\n\t\t    entry.put(Constants.AR_CORE_STATUS,new Value(status, DataType.ENUM));\r\n   \t\t\tentry.put(Constants.AR_CORE_SHORT_DESCRIPTION, new Value(shortDesc));\r\n\t\t\tentryIdOut = server.createEntry(formName, entry);\r\n\t\t} catch (ARException e) {\r\n\t\t\tARExceptionHandler(e, &quot;Cannot create the entry.&quot; );\r\n\t\t}\r\n    }\r\n    //Commit Bulk transaction: all entries are saved to Remedy\r\n     List&lt;BulkEntryReturn&gt;  bulkIds = server.endBulkEntryTransaction(Constants.AR_BULK_ENTRY_ACTION_SEND);\r\n     //bulkIds now contains all the entry Ids for your committed entries\r\n    \r\n\r\nNote that the code above has some uninitialized variables, so will not run as is (and may throw an `ARBulkException`)","title":"Is there any way to create multiple records at once in BMC Remedy using Java?","body":"<p>The API provides this. Look in the <code>ARServerUser</code> javadoc:</p>\n\n<p>It is used like this:</p>\n\n<pre><code>//connect to AR server\nARServerUser server = new ARServerUser();\nserver.setServer(\"localhost\");\nserver.setUser(\"Demo\");\nserver.setPassword(\"\");\n// begin bulk transaction\nserver.beginBulkEntryTransaction();\n//create and submit Entry Objects\n\nfor(int x = 0; x &lt; 10; x++){\n  try {\n        Entry entry = new Entry();\n        entry.put(Constants.AR_CORE_SUBMITTER, new Value(submitter));\n        entry.put(Constants.AR_CORE_STATUS,new Value(status, DataType.ENUM));\n        entry.put(Constants.AR_CORE_SHORT_DESCRIPTION, new Value(shortDesc));\n        entryIdOut = server.createEntry(formName, entry);\n    } catch (ARException e) {\n        ARExceptionHandler(e, \"Cannot create the entry.\" );\n    }\n}\n//Commit Bulk transaction: all entries are saved to Remedy\n List&lt;BulkEntryReturn&gt;  bulkIds = server.endBulkEntryTransaction(Constants.AR_BULK_ENTRY_ACTION_SEND);\n //bulkIds now contains all the entry Ids for your committed entries\n</code></pre>\n\n<p>Note that the code above has some uninitialized variables, so will not run as is (and may throw an <code>ARBulkException</code>)</p>\n"}],"owner":{"account_id":11270861,"reputation":349,"user_id":8266370,"display_name":"Dusayanta Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60242767,"answer_count":1,"score":1,"last_activity_date":1686945492,"creation_date":1580976037,"question_id":60090160,"body_markdown":"Is it good to get the ARServerUser context once and call the setEntry method multiple times in the loop or, is there any better way to do this?","title":"Is there any way to create multiple records at once in BMC Remedy using Java?","body":"<p>Is it good to get the ARServerUser context once and call the setEntry method multiple times in the loop or, is there any better way to do this?</p>\n"},{"tags":["java","neo4j","spring-data","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":13001928,"reputation":46,"user_id":9397755,"display_name":"Jennifer Reif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686945191,"creation_date":1686945191,"answer_id":76493216,"question_id":76427799,"body_markdown":"If I understand correctly, I did something similar with the Java version data where we have child deltas of different types. A colleague showed me how to create an abstract Delta class that several other classes extended. The overridden toString method should give you the type of the subclass coming back. https://github.com/JMHReif/sdn-jdk-versions/blob/gerrits-playground/src/main/java/com/jmhreif/sdnjdkversions/domain/Delta.java","title":"How to hydrate a spring data neo4j entity with a field that is defined as a List of interaces?","body":"<p>If I understand correctly, I did something similar with the Java version data where we have child deltas of different types. A colleague showed me how to create an abstract Delta class that several other classes extended. The overridden toString method should give you the type of the subclass coming back. <a href=\"https://github.com/JMHReif/sdn-jdk-versions/blob/gerrits-playground/src/main/java/com/jmhreif/sdnjdkversions/domain/Delta.java\" rel=\"nofollow noreferrer\">https://github.com/JMHReif/sdn-jdk-versions/blob/gerrits-playground/src/main/java/com/jmhreif/sdnjdkversions/domain/Delta.java</a></p>\n"}],"owner":{"account_id":23790128,"reputation":31,"user_id":17801653,"display_name":"Hunter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686945191,"creation_date":1686182470,"question_id":76427799,"body_markdown":"If my Entity has a field which is a Collection of interface types how can I tell spring data to hydrate each item in the collection based on the correct concrete type? Is there some way I can make a custom mapping which makes spring instantiate a Song class for example if there is some data returned from neo4j that uniquely identifies the record as a Song class (the Song class implements MusicItem)? My musicItems collection below should have multiple entries all with concrete types of MusicItem.\r\n\r\nEntity\r\n```\r\npublic class Dater implements CSVFormat{\r\n\r\n\t@Id\r\n\tprivate String userId;\r\n\r\n\t@Relationship(type = &quot;LISTENS_TO&quot;)\r\n\tprivate Set&lt;MusicItem&gt; musicItems = new HashSet&lt;&gt;();\r\n```\r\nMusicItem interface of music that Dater has listened to\r\n```\r\npublic interface MusicItem{\r\n\r\n\tString getName();\r\n\tMusicItemType getType();\r\n\r\n}\r\n```\r\n\r\nExample implementation of MusicItem I want to instantiate when it is returned from db\r\n```\r\npublic class Song implements MusicItem{\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\r\n}\r\n```\r\nRepository query\r\n```\r\npublic interface DaterRepository extends Neo4jRepository&lt;Dater,String&gt;{\r\n\r\n\t@Query(&quot;MATCH (user:Dater { userId: $userId })-[:LISTENS_TO]-&gt;(musicItems)&lt;-[mr:LISTENS_TO]-(matches:Dater) &quot;\r\n\t\t\t+ &quot;where id(user) &lt;&gt; id(matches) &quot;\r\n\t\t\t+ &quot;RETURN matches, collect(mr), collect(musicItems) &quot;)\r\n\tList&lt;Dater&gt; getMatches(String userId);\r\n```\r\nExample data in db\r\n```\r\n{\r\n  &quot;identity&quot;: 2912,\r\n  &quot;labels&quot;: [\r\n    &quot;MusicItem&quot;,\r\n    &quot;Song&quot;\r\n  ],\r\n  &quot;properties&quot;: {\r\n&quot;name&quot;: &quot;Youth&quot;,\r\n&quot;isrc&quot;: &quot;QM6P41904468&quot;,\r\n&quot;smallImageUrl&quot;: &quot;https://is4-ssl.mzstatic.com/image/thumb/Music123/v4/3e/29/f8/3e29f87e-239e-d85d-f30e-b93689e863ec/194491036614.jpg/75x75bb.jpg&quot;,\r\n&quot;mediumImageUrl&quot;: &quot;https://is4-ssl.mzstatic.com/image/thumb/Music123/v4/3e/29/f8/3e29f87e-239e-d85d-f30e-b93689e863ec/194491036614.jpg/320x320bb.jpg&quot;,\r\n&quot;largeImageUrl&quot;: &quot;https://is4-ssl.mzstatic.com/image/thumb/Music123/v4/3e/29/f8/3e29f87e-239e-d85d-f30e-b93689e863ec/194491036614.jpg/640x640bb.jpg&quot;\r\n  }\r\n}","title":"How to hydrate a spring data neo4j entity with a field that is defined as a List of interaces?","body":"<p>If my Entity has a field which is a Collection of interface types how can I tell spring data to hydrate each item in the collection based on the correct concrete type? Is there some way I can make a custom mapping which makes spring instantiate a Song class for example if there is some data returned from neo4j that uniquely identifies the record as a Song class (the Song class implements MusicItem)? My musicItems collection below should have multiple entries all with concrete types of MusicItem.</p>\n<p>Entity</p>\n<pre><code>public class Dater implements CSVFormat{\n\n    @Id\n    private String userId;\n\n    @Relationship(type = &quot;LISTENS_TO&quot;)\n    private Set&lt;MusicItem&gt; musicItems = new HashSet&lt;&gt;();\n</code></pre>\n<p>MusicItem interface of music that Dater has listened to</p>\n<pre><code>public interface MusicItem{\n\n    String getName();\n    MusicItemType getType();\n\n}\n</code></pre>\n<p>Example implementation of MusicItem I want to instantiate when it is returned from db</p>\n<pre><code>public class Song implements MusicItem{\n    @Id\n    @GeneratedValue\n    private Long id;\n\n}\n</code></pre>\n<p>Repository query</p>\n<pre><code>public interface DaterRepository extends Neo4jRepository&lt;Dater,String&gt;{\n\n    @Query(&quot;MATCH (user:Dater { userId: $userId })-[:LISTENS_TO]-&gt;(musicItems)&lt;-[mr:LISTENS_TO]-(matches:Dater) &quot;\n            + &quot;where id(user) &lt;&gt; id(matches) &quot;\n            + &quot;RETURN matches, collect(mr), collect(musicItems) &quot;)\n    List&lt;Dater&gt; getMatches(String userId);\n</code></pre>\n<p>Example data in db</p>\n<pre><code>{\n  &quot;identity&quot;: 2912,\n  &quot;labels&quot;: [\n    &quot;MusicItem&quot;,\n    &quot;Song&quot;\n  ],\n  &quot;properties&quot;: {\n&quot;name&quot;: &quot;Youth&quot;,\n&quot;isrc&quot;: &quot;QM6P41904468&quot;,\n&quot;smallImageUrl&quot;: &quot;https://is4-ssl.mzstatic.com/image/thumb/Music123/v4/3e/29/f8/3e29f87e-239e-d85d-f30e-b93689e863ec/194491036614.jpg/75x75bb.jpg&quot;,\n&quot;mediumImageUrl&quot;: &quot;https://is4-ssl.mzstatic.com/image/thumb/Music123/v4/3e/29/f8/3e29f87e-239e-d85d-f30e-b93689e863ec/194491036614.jpg/320x320bb.jpg&quot;,\n&quot;largeImageUrl&quot;: &quot;https://is4-ssl.mzstatic.com/image/thumb/Music123/v4/3e/29/f8/3e29f87e-239e-d85d-f30e-b93689e863ec/194491036614.jpg/640x640bb.jpg&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","logic"],"answers":[{"tags":[],"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686945176,"creation_date":1686945176,"answer_id":76493214,"question_id":76409379,"body_markdown":"The task is basically to find the common tail of two strings and print the number of characters of both strings that are not part of the common tail.\r\nThis is the code we are talking about.\r\n```java-lang\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tString a=br.readLine();\r\n\t\tString b=br.readLine();\r\n\t\tchar [] arrA = a.toCharArray();\r\n\t\tchar [] arrB = b.toCharArray();\r\n\t\tlong count =0;\r\n\t\tif(arrA.length&gt;arrB.length) count = arrA.length-arrB.length;\r\n\t\telse count = arrB.length-arrA.length;\r\n```\r\n`count` is the difference in length of both strings. The beginning of the longer string cannot be part of the common tail.\r\nBut this `for` loop is wrong:\r\n```java-lang\r\n\t\tfor(int i=0;i&lt;Math.min(arrA.length,arrB.length);i++) {\r\n\t\t\tif(arrA[arrA.length-1-i]!=arrB[arrB.length-1-i]) count=count+2;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(count);\r\n```\r\nYou iterate backwards and idle as long as the characters of both strings match. However, once they differ, you must add them, regardless of whether they match again or not. Consider\r\n```java-lang\r\nABA\r\nACA\r\n```\r\nThis version will print 2 instead of the correct 4, because it counts `B` and `C`, but not the first two `A`. You could fix it like this\r\n```java-lang\r\n        boolean commonTail = true;\r\n        for(int i=0;i&lt;Math.min(arrA.length,arrB.length);i++) {\r\n            if(arrA[arrA.length-1-i]!=arrB[arrB.length-1-i])\r\n                commonTail = false;\r\n            if(!commonTail)\r\n                count=count+2;\r\n        }\r\n        System.out.println(count);\r\n```","title":"Counting equal elements characters in java","body":"<p>The task is basically to find the common tail of two strings and print the number of characters of both strings that are not part of the common tail.\nThis is the code we are talking about.</p>\n<pre><code>        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String a=br.readLine();\n        String b=br.readLine();\n        char [] arrA = a.toCharArray();\n        char [] arrB = b.toCharArray();\n        long count =0;\n        if(arrA.length&gt;arrB.length) count = arrA.length-arrB.length;\n        else count = arrB.length-arrA.length;\n</code></pre>\n<p><code>count</code> is the difference in length of both strings. The beginning of the longer string cannot be part of the common tail.\nBut this <code>for</code> loop is wrong:</p>\n<pre><code>        for(int i=0;i&lt;Math.min(arrA.length,arrB.length);i++) {\n            if(arrA[arrA.length-1-i]!=arrB[arrB.length-1-i]) count=count+2;\n        }\n        \n        System.out.println(count);\n</code></pre>\n<p>You iterate backwards and idle as long as the characters of both strings match. However, once they differ, you must add them, regardless of whether they match again or not. Consider</p>\n<pre><code>ABA\nACA\n</code></pre>\n<p>This version will print 2 instead of the correct 4, because it counts <code>B</code> and <code>C</code>, but not the first two <code>A</code>. You could fix it like this</p>\n<pre><code>        boolean commonTail = true;\n        for(int i=0;i&lt;Math.min(arrA.length,arrB.length);i++) {\n            if(arrA[arrA.length-1-i]!=arrB[arrB.length-1-i])\n                commonTail = false;\n            if(!commonTail)\n                count=count+2;\n        }\n        System.out.println(count);\n</code></pre>\n"}],"owner":{"account_id":11373766,"reputation":101,"user_id":11910952,"display_name":"Drigy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76493214,"answer_count":1,"score":0,"last_activity_date":1686945176,"creation_date":1685992313,"question_id":76409379,"body_markdown":"I&#39;m doing some exercises on codeforces and learning java. And i came across this deviation in solution results. When i test them in my console they work as intended but only one works on codeforces judge.\r\nThere&#39;s this code(that can pass the tests, in java): https://codeforces.com/contest/1005/submission/208626855 \r\n\r\nAnd this one, that can&#39;t pass test 6 and probably many others: https://codeforces.com/contest/1005/submission/208624411 \r\n\r\nTest 6 is something like, input:\r\n\r\n-string a:&quot;aaaaaaaaaaaaa&quot;... 399991 times\r\n       \r\n-string b:&quot;&quot;\r\n\r\nOutput: mine(in codeforces is 5) and real one is 399991.\r\n\r\nI don&#39;t know what differences are happening and don&#39;t know where can I ask this besides here, thank you for the help.","title":"Counting equal elements characters in java","body":"<p>I'm doing some exercises on codeforces and learning java. And i came across this deviation in solution results. When i test them in my console they work as intended but only one works on codeforces judge.\nThere's this code(that can pass the tests, in java): <a href=\"https://codeforces.com/contest/1005/submission/208626855\" rel=\"nofollow noreferrer\">https://codeforces.com/contest/1005/submission/208626855</a></p>\n<p>And this one, that can't pass test 6 and probably many others: <a href=\"https://codeforces.com/contest/1005/submission/208624411\" rel=\"nofollow noreferrer\">https://codeforces.com/contest/1005/submission/208624411</a></p>\n<p>Test 6 is something like, input:</p>\n<p>-string a:&quot;aaaaaaaaaaaaa&quot;... 399991 times</p>\n<p>-string b:&quot;&quot;</p>\n<p>Output: mine(in codeforces is 5) and real one is 399991.</p>\n<p>I don't know what differences are happening and don't know where can I ask this besides here, thank you for the help.</p>\n"},{"tags":["java","javafx","jdbc"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1686759244,"post_id":76475516,"comment_id":134844322,"body_markdown":"What implementation of `Executor` is used for `exec`?","body":"What implementation of <code>Executor</code> is used for <code>exec</code>?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1686762479,"post_id":76475516,"comment_id":134844992,"body_markdown":"And how are you handling connections? Are you using a single connection, or a connection pool?","body":"And how are you handling connections? Are you using a single connection, or a connection pool?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1686766611,"post_id":76475516,"comment_id":134845811,"body_markdown":"(It sounds like you are already submitting these on different threads, but using the same connection. MySQL will only allocate one server-side thread per connection, so the second call will not be able to retrieve data until the first call completes. Also note that even with multiple connections, if tables are locked then even other connections can be blocked by the first connection.)","body":"(It sounds like you are already submitting these on different threads, but using the same connection. MySQL will only allocate one server-side thread per connection, so the second call will not be able to retrieve data until the first call completes. Also note that even with multiple connections, if tables are locked then even other connections can be blocked by the first connection.)"},{"owner":{"account_id":18455933,"reputation":311,"user_id":13444713,"display_name":"Abderaouf Boucenna"},"score":0,"creation_date":1686771155,"post_id":76475516,"comment_id":134846562,"body_markdown":"@James_D i dont know if Im understanding you correctly, but this is how I implemented `exec` :  ```exec = Executors.newCachedThreadPool(runnable -&gt; {\n            Thread t = new Thread(runnable);\n            t.setDaemon(true);\n            return t;\n        });```","body":"@James_D i dont know if Im understanding you correctly, but this is how I implemented <code>exec</code> :  <code>exec = Executors.newCachedThreadPool(runnable -&gt; {             Thread t = new Thread(runnable);             t.setDaemon(true);             return t;         });</code>"},{"owner":{"account_id":18455933,"reputation":311,"user_id":13444713,"display_name":"Abderaouf Boucenna"},"score":0,"creation_date":1686771403,"post_id":76475516,"comment_id":134846602,"body_markdown":"@James_D for the connection im using a single connection, there is a class called DataHandler where all the requests to the database are made, and the instance of this class is shared across all the controllers. From your last comment, I guess what I am trying to achieve is impossible since im using the same connection, and even a connection pool can&#39;t fix the issue.","body":"@James_D for the connection im using a single connection, there is a class called DataHandler where all the requests to the database are made, and the instance of this class is shared across all the controllers. From your last comment, I guess what I am trying to achieve is impossible since im using the same connection, and even a connection pool can&#39;t fix the issue."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1686772206,"post_id":76475516,"comment_id":134846745,"body_markdown":"*&quot;for the connection im using a single connection&quot;* This is the problem. *&quot;even a connection pool can&#39;t fix the issue&quot;*. No, this is not necessarily correct. If you use a connection pool, then each request will have its own connection, and MySQL will assign a thread for each connection. As long as the database calls don&#39;t require transactional locking (e.g. if you&#39;re only reading data), they should be able to proceed in parallel.","body":"<i>&quot;for the connection im using a single connection&quot;</i> This is the problem. <i>&quot;even a connection pool can&#39;t fix the issue&quot;</i>. No, this is not necessarily correct. If you use a connection pool, then each request will have its own connection, and MySQL will assign a thread for each connection. As long as the database calls don&#39;t require transactional locking (e.g. if you&#39;re only reading data), they should be able to proceed in parallel."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1686772320,"post_id":76475516,"comment_id":134846774,"body_markdown":"All you need to do is modify the `DataHandler` class so it uses a connection pool instead of a single connection. Since you have factored the database access into a separate class (which is good practice for exactly this kind of reason) it should be a fairly simple modification.","body":"All you need to do is modify the <code>DataHandler</code> class so it uses a connection pool instead of a single connection. Since you have factored the database access into a separate class (which is good practice for exactly this kind of reason) it should be a fairly simple modification."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1686812097,"post_id":76475516,"comment_id":134851231,"body_markdown":"Here&#39;s a [tutorial](https://www.baeldung.com/hikaricp) on how to add the Hikari connection pool to your application, in case that might help you.  Hikari is the same connection pool that Spring uses.  But if you don&#39;t need all of the other stuff and complexity in Spring and you already have a working app based on simple JDBC connections, just adding Hikari to your app by following the linked tutorial should be pretty straight-forward.","body":"Here&#39;s a <a href=\"https://www.baeldung.com/hikaricp\" rel=\"nofollow noreferrer\">tutorial</a> on how to add the Hikari connection pool to your application, in case that might help you.  Hikari is the same connection pool that Spring uses.  But if you don&#39;t need all of the other stuff and complexity in Spring and you already have a working app based on simple JDBC connections, just adding Hikari to your app by following the linked tutorial should be pretty straight-forward."},{"owner":{"account_id":18455933,"reputation":311,"user_id":13444713,"display_name":"Abderaouf Boucenna"},"score":2,"creation_date":1686869791,"post_id":76475516,"comment_id":134861563,"body_markdown":"After some research and tests, I came with a solution but Im not sure if this is how it is supposed to be coded: i changed the `DataHandler` class a bit and used Hikari as suggested by @jewelsea, I removed the `Connection conn` static variable, created a datasource and used `try (Connection conn = datasource.getConnection()) {}` before *EACH* call to the database (`datasource` is a `HikariDataSource`), I got the result I wanted but i dont know if my code is now optimal.","body":"After some research and tests, I came with a solution but Im not sure if this is how it is supposed to be coded: i changed the <code>DataHandler</code> class a bit and used Hikari as suggested by @jewelsea, I removed the <code>Connection conn</code> static variable, created a datasource and used <code>try (Connection conn = datasource.getConnection()) {}</code> before <i>EACH</i> call to the database (<code>datasource</code> is a <code>HikariDataSource</code>), I got the result I wanted but i dont know if my code is now optimal."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1686872961,"post_id":76475516,"comment_id":134861827,"body_markdown":"@AbderaoufBoucenna you can [self answer](https://stackoverflow.com/help/self-answer).  If you provide enough detail in the answer it will likely be reviewed and feedback provided (unless it is all OK, in which case it will just be upvoted).  If you are using Hikari correctly (sounds like you are), the solution will be pretty optimal.","body":"@AbderaoufBoucenna you can <a href=\"https://stackoverflow.com/help/self-answer\">self answer</a>.  If you provide enough detail in the answer it will likely be reviewed and feedback provided (unless it is all OK, in which case it will just be upvoted).  If you are using Hikari correctly (sounds like you are), the solution will be pretty optimal."}],"answers":[{"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1686776988,"creation_date":1686776988,"answer_id":76477557,"question_id":76475516,"body_markdown":"By using a thread pool executor the tasks will be executed on a separate thread.\r\n\r\n    private ExecutorService exec = Executors.newFixedThreadPool(n); \r\n    //n the number of threads\r\n\r\n    loadingHbox.setVisible(true);\r\n\r\n       Task&lt;Void&gt; task = new Task&lt;&gt;() {\r\n           @Override\r\n           protected Void call() {\r\n               if (!searchString.isBlank()) {\r\n                   MHHistoriqueTable.setItems(db.getProduitsVendusParPeriode(dateDebut, dateFin, MHEspeceCheck.isSelected(), MHDebitCheck.isSelected(), searchString));\r\n                   MHHNbreResultatsText.setText(MHHistoriqueTable.getItems().size() + &quot; vente(s)&quot;);\r\n               }\r\n               return null;\r\n           }\r\n       };\r\n\r\n    exec.submit(task);\r\n\r\nMake sure to shutdown the task aswell.\r\n\r\n","title":"Execute multiple database calls through different threads all at once","body":"<p>By using a thread pool executor the tasks will be executed on a separate thread.</p>\n<pre><code>private ExecutorService exec = Executors.newFixedThreadPool(n); \n//n the number of threads\n\nloadingHbox.setVisible(true);\n\n   Task&lt;Void&gt; task = new Task&lt;&gt;() {\n       @Override\n       protected Void call() {\n           if (!searchString.isBlank()) {\n               MHHistoriqueTable.setItems(db.getProduitsVendusParPeriode(dateDebut, dateFin, MHEspeceCheck.isSelected(), MHDebitCheck.isSelected(), searchString));\n               MHHNbreResultatsText.setText(MHHistoriqueTable.getItems().size() + &quot; vente(s)&quot;);\n           }\n           return null;\n       }\n   };\n\nexec.submit(task);\n</code></pre>\n<p>Make sure to shutdown the task aswell.</p>\n"},{"tags":[],"owner":{"account_id":18455933,"reputation":311,"user_id":13444713,"display_name":"Abderaouf Boucenna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686944783,"creation_date":1686944783,"answer_id":76493177,"question_id":76475516,"body_markdown":"## UPDATE ##\r\nAs suggested by @jewelsea in the comments, I implemented HikariCP to my DAO to use a connection pool.\r\nThis is how my DAO looked before :\r\n```\r\npublic class DataHandler {\r\n    private static DataHandler handler = null;\r\n    private static Connection conn = null;\r\n    private static Statement stmt = null;\r\n    private boolean connected = false;\r\n\r\n    private DataHandler() {\r\n        dbConnection(&quot;localhost:3306&quot;);\r\n\r\n        if (getConnection() == null) {\r\n            connected = false;\r\n            return;\r\n        }\r\n    }\r\n\r\n    private void dbConnection(String ipPort) {\r\n        try {\r\n            String dbUrl = &quot;jdbc:mysql://&quot; + ipPort + &quot;/database?serverTimezone=UTC&quot;;\r\n\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).getDeclaredConstructor().newInstance();\r\n            conn = DriverManager.getConnection(dbUrl, &quot;user&quot;, &quot;password&quot;);\r\n\r\n            connected = true;\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | SQLException | NoSuchMethodException | InvocationTargetException ex) {\r\n            connected = false;\r\n        }\r\n    }\r\n\r\n    public static DataHandler getInstance() {\r\n        if (handler == null) handler = new DataHandler();\r\n\r\n        return handler;\r\n    }\r\n\r\n    public Connection getConnection() {\r\n        return DataHandler.conn;\r\n    }\r\n\r\n    public boolean isConnected() {\r\n        return connected;\r\n    }\r\n\r\n    // To retrieve data or to do any call to the database, the functions looked like this\r\n    public void loadAdherents() {\r\n        try {\r\n            adherents.clear();\r\n\r\n            String sql = &quot;SELECT * FROM ADHERENTS ORDER BY nom_prenom&quot;;\r\n            ResultSet rs = getConnection().createStatement().executeQuery(sql);\r\n\r\n            while (rs.next()) {\r\n                /* DATA FETCHING */\r\n            }\r\n\r\n            rs.close();\r\n        } catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI was using a ___single connection___ `Connection conn` to make any call to the database, which was highly likely the &quot;issue&quot; with my program.\r\n\r\nAfter implementing HikariCP, my DAO became like this (pay attention to the try-catch when retrieving data) :\r\n```\r\npublic class DataHandler {\r\n    private static DataHandler handler = null;\r\n    private static HikariDataSource dataSource = null;\r\n    private static Statement stmt = null;\r\n    private boolean connected = false;\r\n\r\n    private DataHandler() {\r\n        dbConnection(&quot;localhost:3306&quot;);\r\n\r\n        if (getDataSource() == null) {\r\n            connected = false;\r\n            return;\r\n        }\r\n    }\r\n\r\n    private void dbConnection(String ipPort) {\r\n        String dbUrl = &quot;jdbc:mysql://&quot; + ipPort + &quot;/database?serverTimezone=UTC&quot;;\r\n\r\n        HikariConfig config = new HikariConfig();\r\n\r\n        config.setJdbcUrl(dbUrl);\r\n        config.setUsername(&quot;user&quot;);\r\n        config.setPassword(&quot;password&quot;);\r\n        config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\r\n        config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\r\n        config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\r\n        config.addDataSourceProperty(&quot;useServerPrepStmts&quot;, &quot;true&quot;);\r\n        config.addDataSourceProperty(&quot;useLocalSessionState&quot;, &quot;true&quot;);\r\n        config.addDataSourceProperty(&quot;rewriteBatchedStatements&quot;, &quot;true&quot;);\r\n        config.addDataSourceProperty(&quot;cacheResultSetMetadata&quot;, &quot;true&quot;);\r\n        config.addDataSourceProperty(&quot;elideSetAutoCommits&quot;, &quot;true&quot;);\r\n        config.addDataSourceProperty(&quot;maintainTimeStats&quot;, &quot;false&quot;);\r\n        config.setMaximumPoolSize(30);\r\n        config.setAutoCommit(true);\r\n\r\n        try {\r\n            dataSource = new HikariDataSource(config);\r\n            connected = true;\r\n        } catch (HikariPool.PoolInitializationException e) {\r\n            connected = false;\r\n        }\r\n    }\r\n\r\n    public static DataHandler getInstance() {\r\n        if (handler == null) handler = new DataHandler();\r\n\r\n        return handler;\r\n    }\r\n\r\n    public static HikariDataSource getDataSource() {\r\n        return dataSource;\r\n    }\r\n\r\n    public Connection getConnection() {\r\n        try {\r\n            return getDataSource().getConnection();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public boolean isConnected() {\r\n        return connected;\r\n    }\r\n\r\n    // I had to add Connection conn = getConnection() in every try-catch to get a connection\r\n    // from the connection pool\r\n    // and the try-catch block automatically closes the connection once its done\r\n    public void loadAdherents() {\r\n        try (Connection conn = getConnection()) {\r\n            adherents.clear();\r\n\r\n            String sql = &quot;SELECT * FROM ADHERENTS ORDER BY nom_prenom&quot;;\r\n            ResultSet rs = conn.createStatement().executeQuery(sql);\r\n\r\n            while (rs.next()) {\r\n                /* FETCHING DATA */\r\n            }\r\n\r\n            rs.close();\r\n        } catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBefore every call to the database, I added `try (Connection conn = getConnection())` to use a connection from the connection pool.","title":"Execute multiple database calls through different threads all at once","body":"<h2>UPDATE</h2>\n<p>As suggested by @jewelsea in the comments, I implemented HikariCP to my DAO to use a connection pool.\nThis is how my DAO looked before :</p>\n<pre><code>public class DataHandler {\n    private static DataHandler handler = null;\n    private static Connection conn = null;\n    private static Statement stmt = null;\n    private boolean connected = false;\n\n    private DataHandler() {\n        dbConnection(&quot;localhost:3306&quot;);\n\n        if (getConnection() == null) {\n            connected = false;\n            return;\n        }\n    }\n\n    private void dbConnection(String ipPort) {\n        try {\n            String dbUrl = &quot;jdbc:mysql://&quot; + ipPort + &quot;/database?serverTimezone=UTC&quot;;\n\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).getDeclaredConstructor().newInstance();\n            conn = DriverManager.getConnection(dbUrl, &quot;user&quot;, &quot;password&quot;);\n\n            connected = true;\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | SQLException | NoSuchMethodException | InvocationTargetException ex) {\n            connected = false;\n        }\n    }\n\n    public static DataHandler getInstance() {\n        if (handler == null) handler = new DataHandler();\n\n        return handler;\n    }\n\n    public Connection getConnection() {\n        return DataHandler.conn;\n    }\n\n    public boolean isConnected() {\n        return connected;\n    }\n\n    // To retrieve data or to do any call to the database, the functions looked like this\n    public void loadAdherents() {\n        try {\n            adherents.clear();\n\n            String sql = &quot;SELECT * FROM ADHERENTS ORDER BY nom_prenom&quot;;\n            ResultSet rs = getConnection().createStatement().executeQuery(sql);\n\n            while (rs.next()) {\n                /* DATA FETCHING */\n            }\n\n            rs.close();\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I was using a <em><strong>single connection</strong></em> <code>Connection conn</code> to make any call to the database, which was highly likely the &quot;issue&quot; with my program.</p>\n<p>After implementing HikariCP, my DAO became like this (pay attention to the try-catch when retrieving data) :</p>\n<pre><code>public class DataHandler {\n    private static DataHandler handler = null;\n    private static HikariDataSource dataSource = null;\n    private static Statement stmt = null;\n    private boolean connected = false;\n\n    private DataHandler() {\n        dbConnection(&quot;localhost:3306&quot;);\n\n        if (getDataSource() == null) {\n            connected = false;\n            return;\n        }\n    }\n\n    private void dbConnection(String ipPort) {\n        String dbUrl = &quot;jdbc:mysql://&quot; + ipPort + &quot;/database?serverTimezone=UTC&quot;;\n\n        HikariConfig config = new HikariConfig();\n\n        config.setJdbcUrl(dbUrl);\n        config.setUsername(&quot;user&quot;);\n        config.setPassword(&quot;password&quot;);\n        config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\n        config.addDataSourceProperty(&quot;useServerPrepStmts&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;useLocalSessionState&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;rewriteBatchedStatements&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;cacheResultSetMetadata&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;elideSetAutoCommits&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;maintainTimeStats&quot;, &quot;false&quot;);\n        config.setMaximumPoolSize(30);\n        config.setAutoCommit(true);\n\n        try {\n            dataSource = new HikariDataSource(config);\n            connected = true;\n        } catch (HikariPool.PoolInitializationException e) {\n            connected = false;\n        }\n    }\n\n    public static DataHandler getInstance() {\n        if (handler == null) handler = new DataHandler();\n\n        return handler;\n    }\n\n    public static HikariDataSource getDataSource() {\n        return dataSource;\n    }\n\n    public Connection getConnection() {\n        try {\n            return getDataSource().getConnection();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public boolean isConnected() {\n        return connected;\n    }\n\n    // I had to add Connection conn = getConnection() in every try-catch to get a connection\n    // from the connection pool\n    // and the try-catch block automatically closes the connection once its done\n    public void loadAdherents() {\n        try (Connection conn = getConnection()) {\n            adherents.clear();\n\n            String sql = &quot;SELECT * FROM ADHERENTS ORDER BY nom_prenom&quot;;\n            ResultSet rs = conn.createStatement().executeQuery(sql);\n\n            while (rs.next()) {\n                /* FETCHING DATA */\n            }\n\n            rs.close();\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Before every call to the database, I added <code>try (Connection conn = getConnection())</code> to use a connection from the connection pool.</p>\n"}],"owner":{"account_id":18455933,"reputation":311,"user_id":13444713,"display_name":"Abderaouf Boucenna"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686944783,"creation_date":1686758641,"question_id":76475516,"body_markdown":"After successfully executing database calls in the background using `Task` to not freeze the UI, I noticed using the state of the tasks that only one database call at a time can be possible. The UI does not freeze but the results are a bit delayed if a call takes a lot of time.\r\n\r\nFor example, when these calls are executing seperately, I have **CALL 1** that takes ~7 seconds to retrieve data, and **CALL 2** is pretty instant and takes 550ms to retrieve data. But when I call **CALL 1** then **CALL 2** just after it, **CALL 2** does not retrieve data until **CALL 1** is done: **CALL 2** states indicates *RUNNING* until **CALL 1** states indicates *SUCCEEDED*.\r\n\r\nIs there a way to make multiple calls at the same time through different threads without one blocking the other ?\r\n\r\nHere is a sample of the code I use to make a call (**CALL 1**) to the database :\r\n ```\r\nprivate void loadHistoriqueVentesData() {\r\n    LocalDate dateDebut = MHDateDebutField.getValue();\r\n    LocalDate dateFin = MHDateFinField.getValue();\r\n    String searchString = MHSearchField.getText().trim();\r\n\r\n    if (dateDebut == null || dateFin == null)\r\n        return;\r\n\r\n    if (!MHEspeceCheck.isSelected() &amp;&amp; !MHDebitCheck.isSelected())\r\n        return;\r\n    \r\n\r\n    loadingHbox.setVisible(true);\r\n\r\n    Task&lt;Void&gt; task = new Task&lt;&gt;() {\r\n        @Override\r\n        protected Void call() {\r\n            if (!searchString.isBlank()) {\r\n                MHHistoriqueTable.setItems(db.getProduitsVendusParPeriode(dateDebut, dateFin, MHEspeceCheck.isSelected(), MHDebitCheck.isSelected(), searchString));\r\n                MHHNbreResultatsText.setText(MHHistoriqueTable.getItems().size() + &quot; vente(s)&quot;);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n\r\n    //stateProperty for Task:\r\n    task.stateProperty().addListener((observable, oldValue, newState) -&gt; {\r\n        System.out.println(newState);\r\n        if (newState == Worker.State.SUCCEEDED) {\r\n            loadingHbox.setVisible(false);\r\n        }\r\n    });\r\n    exec.execute(task);\r\n}\r\n\r\n\r\npublic ObservableList&lt;ProduitVendu&gt; getProduitsVendusParPeriode(LocalDate dateDebut, LocalDate dateFin, boolean isEspece, boolean isDebit, String nomSearch) {\r\n    try {\r\n        ObservableList&lt;ProduitVendu&gt; result = FXCollections.observableArrayList();\r\n\r\n        String sql = &quot;SELECT id_produit_vendu, PV.numero_bon, reference, designation, quantite, prix_vendu, benefice, date_vente, heure_vente FROM PRODUITS_VENDUS PV, HISTORIQUE_VENTES HV WHERE designation LIKE ? AND PV.numero_bon=HV.numero_bon AND HV.date_vente BETWEEN ? AND ?&quot;;\r\n        if (isEspece &amp;&amp; !isDebit)\r\n            sql = sql + &quot; AND HV.numero_bon NOT IN (SELECT AC.numero_bon FROM adherents_conso AC UNION SELECT PC.numero_bon FROM personnel_conso PC)&quot;;\r\n        if (!isEspece &amp;&amp; isDebit)\r\n            sql = sql + &quot; AND HV.numero_bon IN (SELECT AC.numero_bon FROM adherents_conso AC UNION SELECT PC.numero_bon FROM personnel_conso PC)&quot;;\r\n        sql = sql + &quot; ORDER BY PV.numero_bon DESC&quot;;\r\n\r\n        PreparedStatement prepare = getConnection().prepareStatement(sql);\r\n        prepare.setString(1, &quot;%&quot; + nomSearch + &quot;%&quot;);\r\n        prepare.setString(2, dateDebut.toString());\r\n        prepare.setString(3, dateFin.toString());\r\n\r\n        ResultSet rs = prepare.executeQuery();\r\n\r\n        while (rs.next()) {\r\n            int idProduitVendu = rs.getInt(&quot;id_produit_vendu&quot;);\r\n            int numeroBon = rs.getInt(&quot;numero_bon&quot;);\r\n            int reference = rs.getInt(&quot;reference&quot;);\r\n            String designation = rs.getString(&quot;designation&quot;);\r\n            int quantite = rs.getInt(&quot;quantite&quot;);\r\n            double prixVendu = rs.getDouble(&quot;prix_vendu&quot;);\r\n            double benefice = rs.getDouble(&quot;benefice&quot;);\r\n            LocalDate dateVente = rs.getDate(&quot;date_vente&quot;).toLocalDate();\r\n            LocalTime heureVente = rs.getTime(&quot;heure_vente&quot;).toLocalTime();\r\n\r\n            result.add(new ProduitVendu(idProduitVendu, numeroBon, reference, designation, quantite, prixVendu, benefice, dateVente, heureVente));\r\n        }\r\n        rs.close();\r\n\r\n        return result;\r\n    } catch (SQLException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n    return null;\r\n}\r\n ```\r\nP.S.: `exec` is a `java.util.concurrent.Executor` and im using MySQL for database.","title":"Execute multiple database calls through different threads all at once","body":"<p>After successfully executing database calls in the background using <code>Task</code> to not freeze the UI, I noticed using the state of the tasks that only one database call at a time can be possible. The UI does not freeze but the results are a bit delayed if a call takes a lot of time.</p>\n<p>For example, when these calls are executing seperately, I have <strong>CALL 1</strong> that takes ~7 seconds to retrieve data, and <strong>CALL 2</strong> is pretty instant and takes 550ms to retrieve data. But when I call <strong>CALL 1</strong> then <strong>CALL 2</strong> just after it, <strong>CALL 2</strong> does not retrieve data until <strong>CALL 1</strong> is done: <strong>CALL 2</strong> states indicates <em>RUNNING</em> until <strong>CALL 1</strong> states indicates <em>SUCCEEDED</em>.</p>\n<p>Is there a way to make multiple calls at the same time through different threads without one blocking the other ?</p>\n<p>Here is a sample of the code I use to make a call (<strong>CALL 1</strong>) to the database :</p>\n<pre><code>private void loadHistoriqueVentesData() {\n   LocalDate dateDebut = MHDateDebutField.getValue();\n   LocalDate dateFin = MHDateFinField.getValue();\n   String searchString = MHSearchField.getText().trim();\n\n   if (dateDebut == null || dateFin == null)\n       return;\n\n   if (!MHEspeceCheck.isSelected() &amp;&amp; !MHDebitCheck.isSelected())\n       return;\n   \n\n   loadingHbox.setVisible(true);\n\n   Task&lt;Void&gt; task = new Task&lt;&gt;() {\n       @Override\n       protected Void call() {\n           if (!searchString.isBlank()) {\n               MHHistoriqueTable.setItems(db.getProduitsVendusParPeriode(dateDebut, dateFin, MHEspeceCheck.isSelected(), MHDebitCheck.isSelected(), searchString));\n               MHHNbreResultatsText.setText(MHHistoriqueTable.getItems().size() + &quot; vente(s)&quot;);\n           }\n           return null;\n       }\n   };\n\n   //stateProperty for Task:\n   task.stateProperty().addListener((observable, oldValue, newState) -&gt; {\n       System.out.println(newState);\n       if (newState == Worker.State.SUCCEEDED) {\n           loadingHbox.setVisible(false);\n       }\n   });\n   exec.execute(task);\n}\n\n\npublic ObservableList&lt;ProduitVendu&gt; getProduitsVendusParPeriode(LocalDate dateDebut, LocalDate dateFin, boolean isEspece, boolean isDebit, String nomSearch) {\n   try {\n       ObservableList&lt;ProduitVendu&gt; result = FXCollections.observableArrayList();\n\n       String sql = &quot;SELECT id_produit_vendu, PV.numero_bon, reference, designation, quantite, prix_vendu, benefice, date_vente, heure_vente FROM PRODUITS_VENDUS PV, HISTORIQUE_VENTES HV WHERE designation LIKE ? AND PV.numero_bon=HV.numero_bon AND HV.date_vente BETWEEN ? AND ?&quot;;\n       if (isEspece &amp;&amp; !isDebit)\n           sql = sql + &quot; AND HV.numero_bon NOT IN (SELECT AC.numero_bon FROM adherents_conso AC UNION SELECT PC.numero_bon FROM personnel_conso PC)&quot;;\n       if (!isEspece &amp;&amp; isDebit)\n           sql = sql + &quot; AND HV.numero_bon IN (SELECT AC.numero_bon FROM adherents_conso AC UNION SELECT PC.numero_bon FROM personnel_conso PC)&quot;;\n       sql = sql + &quot; ORDER BY PV.numero_bon DESC&quot;;\n\n       PreparedStatement prepare = getConnection().prepareStatement(sql);\n       prepare.setString(1, &quot;%&quot; + nomSearch + &quot;%&quot;);\n       prepare.setString(2, dateDebut.toString());\n       prepare.setString(3, dateFin.toString());\n\n       ResultSet rs = prepare.executeQuery();\n\n       while (rs.next()) {\n           int idProduitVendu = rs.getInt(&quot;id_produit_vendu&quot;);\n           int numeroBon = rs.getInt(&quot;numero_bon&quot;);\n           int reference = rs.getInt(&quot;reference&quot;);\n           String designation = rs.getString(&quot;designation&quot;);\n           int quantite = rs.getInt(&quot;quantite&quot;);\n           double prixVendu = rs.getDouble(&quot;prix_vendu&quot;);\n           double benefice = rs.getDouble(&quot;benefice&quot;);\n           LocalDate dateVente = rs.getDate(&quot;date_vente&quot;).toLocalDate();\n           LocalTime heureVente = rs.getTime(&quot;heure_vente&quot;).toLocalTime();\n\n           result.add(new ProduitVendu(idProduitVendu, numeroBon, reference, designation, quantite, prixVendu, benefice, dateVente, heureVente));\n       }\n       rs.close();\n\n       return result;\n   } catch (SQLException ex) {\n       ex.printStackTrace();\n   }\n   return null;\n}\n</code></pre>\n<p>P.S.: <code>exec</code> is a <code>java.util.concurrent.Executor</code> and im using MySQL for database.</p>\n"},{"tags":["java","encryption","end-to-end-encryption","signal-protocol"],"answers":[{"tags":[],"owner":{"account_id":87653,"reputation":122580,"user_id":242933,"accept_rate":53,"display_name":"ma11hew28"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598384394,"creation_date":1598380964,"answer_id":63585220,"question_id":63581119,"body_markdown":"After reviewing the source code of [Signal Android][1], I think Alice is supposed to also send Bob the type (as plaintext) of the ciphertext message.\r\n\r\nIn the class [`SignalServiceCipher`][2]:\r\n\r\n- The instance method [`encrypt(SignalProtocolAddress, Optional&lt;UnidentifiedAccess&gt;, byte[])`][3] returns an instance of [`OutgoingPushMessage`][4] with its `type` property set to that of the ciphertext message and its `body` property set to the Base64 encoded serialized ciphertext message.\r\n\r\n- The instance method [`decrypt(SignalServiceEnvelope, byte[])`][5] gets the type of the ciphertext message from its first argument, which is an instance of [SignalServiceEnvelope][6].\r\n\r\n\r\n  [1]: https://github.com/signalapp/Signal-Android\r\n  [2]: https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/crypto/SignalServiceCipher.java\r\n  [3]: https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/crypto/SignalServiceCipher.java#L78\r\n  [4]: https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/internal/push/OutgoingPushMessage.java\r\n  [5]: https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/crypto/SignalServiceCipher.java#L156\r\n  [6]: https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/messages/SignalServiceEnvelope.java","title":"How to get the type of a serialized ciphertext message?","body":"<p>After reviewing the source code of <a href=\"https://github.com/signalapp/Signal-Android\" rel=\"nofollow noreferrer\">Signal Android</a>, I think Alice is supposed to also send Bob the type (as plaintext) of the ciphertext message.</p>\n<p>In the class <a href=\"https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/crypto/SignalServiceCipher.java\" rel=\"nofollow noreferrer\"><code>SignalServiceCipher</code></a>:</p>\n<ul>\n<li><p>The instance method <a href=\"https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/crypto/SignalServiceCipher.java#L78\" rel=\"nofollow noreferrer\"><code>encrypt(SignalProtocolAddress, Optional&lt;UnidentifiedAccess&gt;, byte[])</code></a> returns an instance of <a href=\"https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/internal/push/OutgoingPushMessage.java\" rel=\"nofollow noreferrer\"><code>OutgoingPushMessage</code></a> with its <code>type</code> property set to that of the ciphertext message and its <code>body</code> property set to the Base64 encoded serialized ciphertext message.</p>\n</li>\n<li><p>The instance method <a href=\"https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/crypto/SignalServiceCipher.java#L156\" rel=\"nofollow noreferrer\"><code>decrypt(SignalServiceEnvelope, byte[])</code></a> gets the type of the ciphertext message from its first argument, which is an instance of <a href=\"https://github.com/signalapp/Signal-Android/blob/master/libsignal/service/src/main/java/org/whispersystems/signalservice/api/messages/SignalServiceEnvelope.java\" rel=\"nofollow noreferrer\">SignalServiceEnvelope</a>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10817783,"reputation":1038,"user_id":7956161,"display_name":"Muhammad Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630354399,"creation_date":1630354399,"answer_id":68989828,"question_id":63581119,"body_markdown":"1 - Alice generate identityKeyPair(Long Term), signedPreKey(Medium Term) &amp; Ephemeral PreKeys &amp; save those keys into storage in base64.\r\ne.g \r\n \r\n    public static String generateIdentityKeyPair() {\r\n        IdentityKeyPair identityKeyPair = KeyHelper.generateIdentityKeyPair();\r\n        return encodeToBase64(identityKeyPair.serialize());\r\n    }\r\n2 - Send\r\n\r\n - List of PreKey Id &amp; Public key to server in Serialized format\r\n - Signed PreKey Id, signedPreKeyPublicKey, signedPreKeyRecordSignature\r\n - Public Key of IdentityKeyPair \r\n - Registration Id\r\n\r\nFor Encryption and Decryption you first have to make to encrypted session\r\n\r\n \r\n\r\n    private void initSessionFromPreKey() throws UntrustedIdentityException, InvalidKeyException {\r\n            InMemorySignalProtocolStore protocolStore = new InMemorySignalProtocolStore(localUser.getIdentityKeyPair(), localUser.getRegistrationId());\r\n            protocolStore.storePreKey(localUser.getPreKeys().get(0).getId(), localUser.getPreKeys().get(0));\r\n            protocolStore.storeSignedPreKey(localUser.getSignedPreKey().getId(), localUser.getSignedPreKey());\r\n            this.protocolStore = protocolStore;\r\n    \r\n    \r\n            //Session\r\n            SessionBuilder sessionBuilder = new SessionBuilder(protocolStore, remoteUser.getSignalProtocolAddress());\r\n            PreKeyBundle preKeyBundle = new PreKeyBundle(\r\n                    remoteUser.getRegistrationId(),\r\n                    remoteUser.getSignalProtocolAddress().getDeviceId(),\r\n                    remoteUser.getPreKeyId(),\r\n                    remoteUser.getPreKeyPublicKey(),\r\n                    remoteUser.getSignedPreKeyId(),\r\n                    remoteUser.getSignedPreKeyPublicKey(),\r\n                    remoteUser.getSignedPreKeySignature(),\r\n                    remoteUser.getIdentityKeyPairPublicKey()\r\n            );\r\n    \r\n            sessionBuilder.process(preKeyBundle);\r\n            mSessionCipher = new SessionCipher(protocolStore, protocolAddress);\r\n        }\r\n\r\n \r\nEncryption &amp; Decryption \r\n\r\n    public String encrypt(String message) throws InvalidVersionException, InvalidMessageException, UntrustedIdentityException, InvalidKeyException {\r\n            createSession(Operation.ENCRYPT);\r\n            CiphertextMessage ciphertextMessage = mSessionCipher.encrypt(message.getBytes());\r\n            PreKeySignalMessage preKeySignalMessage = new PreKeySignalMessage(ciphertextMessage.serialize());\r\n            return KeyUtils.encodeToBase64(preKeySignalMessage.serialize());\r\n        }\r\n    \r\n        public String decrypt(String message) throws InvalidVersionException, InvalidMessageException, InvalidKeyException, DuplicateMessageException, InvalidKeyIdException, UntrustedIdentityException, LegacyMessageException {\r\n            createSession(Operation.DECRYPT);\r\n            byte[] bytes = KeyUtils.decodeToByteArray(message);\r\n            byte[] decryptedMessage = mSessionCipher.decrypt(new PreKeySignalMessage(bytes));\r\n            return new String(decryptedMessage, StandardCharsets.UTF_8);\r\n        }\r\n\r\n\r\nYou can also look other source code which are available on github\r\nhttps://github.com/lvijay/DemoSignal\r\n\r\nhttps://github.com/signalapp/libsignal-protocol-java/pull/21/commits/3496ed996359f6d3d8ee52dcecb8f8b0d45b3cbc (The Library author is using is wrapper of signal protocol you can change wrapper library to signal protocol)\r\n","title":"How to get the type of a serialized ciphertext message?","body":"<p>1 - Alice generate identityKeyPair(Long Term), signedPreKey(Medium Term) &amp; Ephemeral PreKeys &amp; save those keys into storage in base64.\ne.g</p>\n<pre><code>public static String generateIdentityKeyPair() {\n    IdentityKeyPair identityKeyPair = KeyHelper.generateIdentityKeyPair();\n    return encodeToBase64(identityKeyPair.serialize());\n}\n</code></pre>\n<p>2 - Send</p>\n<ul>\n<li>List of PreKey Id &amp; Public key to server in Serialized format</li>\n<li>Signed PreKey Id, signedPreKeyPublicKey, signedPreKeyRecordSignature</li>\n<li>Public Key of IdentityKeyPair</li>\n<li>Registration Id</li>\n</ul>\n<p>For Encryption and Decryption you first have to make to encrypted session</p>\n<pre><code>private void initSessionFromPreKey() throws UntrustedIdentityException, InvalidKeyException {\n        InMemorySignalProtocolStore protocolStore = new InMemorySignalProtocolStore(localUser.getIdentityKeyPair(), localUser.getRegistrationId());\n        protocolStore.storePreKey(localUser.getPreKeys().get(0).getId(), localUser.getPreKeys().get(0));\n        protocolStore.storeSignedPreKey(localUser.getSignedPreKey().getId(), localUser.getSignedPreKey());\n        this.protocolStore = protocolStore;\n\n\n        //Session\n        SessionBuilder sessionBuilder = new SessionBuilder(protocolStore, remoteUser.getSignalProtocolAddress());\n        PreKeyBundle preKeyBundle = new PreKeyBundle(\n                remoteUser.getRegistrationId(),\n                remoteUser.getSignalProtocolAddress().getDeviceId(),\n                remoteUser.getPreKeyId(),\n                remoteUser.getPreKeyPublicKey(),\n                remoteUser.getSignedPreKeyId(),\n                remoteUser.getSignedPreKeyPublicKey(),\n                remoteUser.getSignedPreKeySignature(),\n                remoteUser.getIdentityKeyPairPublicKey()\n        );\n\n        sessionBuilder.process(preKeyBundle);\n        mSessionCipher = new SessionCipher(protocolStore, protocolAddress);\n    }\n</code></pre>\n<p>Encryption &amp; Decryption</p>\n<pre><code>public String encrypt(String message) throws InvalidVersionException, InvalidMessageException, UntrustedIdentityException, InvalidKeyException {\n        createSession(Operation.ENCRYPT);\n        CiphertextMessage ciphertextMessage = mSessionCipher.encrypt(message.getBytes());\n        PreKeySignalMessage preKeySignalMessage = new PreKeySignalMessage(ciphertextMessage.serialize());\n        return KeyUtils.encodeToBase64(preKeySignalMessage.serialize());\n    }\n\n    public String decrypt(String message) throws InvalidVersionException, InvalidMessageException, InvalidKeyException, DuplicateMessageException, InvalidKeyIdException, UntrustedIdentityException, LegacyMessageException {\n        createSession(Operation.DECRYPT);\n        byte[] bytes = KeyUtils.decodeToByteArray(message);\n        byte[] decryptedMessage = mSessionCipher.decrypt(new PreKeySignalMessage(bytes));\n        return new String(decryptedMessage, StandardCharsets.UTF_8);\n    }\n</code></pre>\n<p>You can also look other source code which are available on github\n<a href=\"https://github.com/lvijay/DemoSignal\" rel=\"nofollow noreferrer\">https://github.com/lvijay/DemoSignal</a></p>\n<p><a href=\"https://github.com/signalapp/libsignal-protocol-java/pull/21/commits/3496ed996359f6d3d8ee52dcecb8f8b0d45b3cbc\" rel=\"nofollow noreferrer\">https://github.com/signalapp/libsignal-protocol-java/pull/21/commits/3496ed996359f6d3d8ee52dcecb8f8b0d45b3cbc</a> (The Library author is using is wrapper of signal protocol you can change wrapper library to signal protocol)</p>\n"}],"owner":{"account_id":87653,"reputation":122580,"user_id":242933,"accept_rate":53,"display_name":"ma11hew28"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686944503,"creation_date":1598365819,"question_id":63581119,"body_markdown":"I&#39;m using [libsignal-protocol-java][1] according to [Signal&#39;s Documentation][2] to implement end-to-end encryption in a messaging app.\r\n\r\nLet&#39;s say Alice sends Bob a (pairwise) serialized ciphertext message. How does Bob know how to deserialize it? Doesn&#39;t he first need to know the type of the ciphertext message? My understanding is that a pairwise ciphertext message could either be a signal message (`WHISPER_TYPE`) or a pre key signal message (`PREKEY_TYPE`). So how does Bob know which type it is?\r\n\r\nIs Alice supposed to also send Bob the type (as plaintext) of the ciphertext message?\r\n\r\nOr is there another way that Bob could detect the type? For example, is Bob supposed to try to deserialize it as if it&#39;s a signal message, and if that fails, then try to deserialize it as if it&#39;s a pre key signal message?\r\n\r\n\r\n  [1]: https://github.com/signalapp/libsignal-protocol-java\r\n  [2]: https://signal.org/docs/","title":"How to get the type of a serialized ciphertext message?","body":"<p>I'm using <a href=\"https://github.com/signalapp/libsignal-protocol-java\" rel=\"nofollow noreferrer\">libsignal-protocol-java</a> according to <a href=\"https://signal.org/docs/\" rel=\"nofollow noreferrer\">Signal's Documentation</a> to implement end-to-end encryption in a messaging app.</p>\n<p>Let's say Alice sends Bob a (pairwise) serialized ciphertext message. How does Bob know how to deserialize it? Doesn't he first need to know the type of the ciphertext message? My understanding is that a pairwise ciphertext message could either be a signal message (<code>WHISPER_TYPE</code>) or a pre key signal message (<code>PREKEY_TYPE</code>). So how does Bob know which type it is?</p>\n<p>Is Alice supposed to also send Bob the type (as plaintext) of the ciphertext message?</p>\n<p>Or is there another way that Bob could detect the type? For example, is Bob supposed to try to deserialize it as if it's a signal message, and if that fails, then try to deserialize it as if it's a pre key signal message?</p>\n"},{"tags":["java","flutter","dart","ecdh"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1686931408,"post_id":76490559,"comment_id":134871120,"body_markdown":"The public keys have different formats: uncompressed on the Dart side, DER encoded X.509/SPKI on the Java side. You need to align the formats. E.g. the Dart package `basic_utils` supports the import/export of X.509/SPKI keys.","body":"The public keys have different formats: uncompressed on the Dart side, DER encoded X.509/SPKI on the Java side. You need to align the formats. E.g. the Dart package <code>basic_utils</code> supports the import/export of X.509/SPKI keys."},{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":0,"creation_date":1686940619,"post_id":76490559,"comment_id":134872760,"body_markdown":"currently uncompressed  ```publicKey.Q!.getEncoded(false)```","body":"currently uncompressed  <code>publicKey.Q!.getEncoded(false)</code>"},{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":0,"creation_date":1686940712,"post_id":76490559,"comment_id":134872780,"body_markdown":"can you give me example code ? \npointycastle documentation has not any description about this !","body":"can you give me example code ?  pointycastle documentation has not any description about this !"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1686944235,"post_id":76490559,"comment_id":134873365,"body_markdown":"See my answer, there I give for the Dart and the Java side an example for the key export, import and generation of the shared secret.","body":"See my answer, there I give for the Dart and the Java side an example for the key export, import and generation of the shared secret."}],"answers":[{"comments":[{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":0,"creation_date":1686949359,"post_id":76493112,"comment_id":134874085,"body_markdown":"great answer , thank you .","body":"great answer , thank you ."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686943977,"creation_date":1686943977,"answer_id":76493112,"question_id":76490559,"body_markdown":"Both sides use different key formats: `getPublicKey()` in the Dart code returns the public key in raw, uncompressed format. `convertByteArrayToPublicKey()` in the Java code requires the key in X.509/SPKI format, ASN.1/DER encoded.\r\n\r\nThe different formats are the reason for your problem. The fix is to use identical formats. The adaptation can be done on the Dart side (export in X.509/SPKI format), on the Java side (import of a raw, uncompressed key) or via a key conversion tool.\r\n\r\nIn the following the adaption is done on the Dart side. For import/export of keys e.g. the Dart package [*basic_utils*][1] can be used. The following solution is based on the code you posted.\r\n\r\n&lt;h3&gt;Part 1: Key export&lt;/h3&gt;\r\n\r\nKey (generation via `init()` and) export can be implemented on the Dart side as follows: \r\n\r\n```dart\r\nimport &#39;package:basic_utils/basic_utils.dart&#39;;\r\nimport &#39;package:pointycastle/export.dart&#39;;\r\n...\r\nvar ecdh = EcdhHandler.init();\r\nvar x509pemFromDart = CryptoUtils.encodeEcPublicKeyToPem(ecdh.publicKey);\r\nvar sec1pemFromDart = CryptoUtils.encodeEcPrivateKeyToPem(ecdh.privateKey);\r\n...\r\nclass EcdhHandler {  \r\n  ...  \r\n  ECPublicKey get publicKey {\r\n    return _keyPair.publicKey as ECPublicKey;\r\n  }\r\n  ECPrivateKey get privateKey {\r\n    return _keyPair.privateKey as ECPrivateKey;\r\n  }\r\n  EcdhHandler.init() {\r\n    _domainParameters = ECDomainParameters(ECCurve_prime256v1().domainName);\r\n    ...\r\n```\r\n\r\nHere the following has to be considered:\r\n- Instead of `ECCurve_secp256r1()`, `ECCurve_prime256v1()` must be used, since *basic_utils* does not accept the former (error message: *ObjectIdentifier secp256r1 is not supported yet*). Note that both identifiers name the same curve: *prime256v1* aka *NIST P-256* are aliases of *secp256r1*.\r\n- In addition to the public key, the private key is also exported to make it easier to separate key generation and key agreement in this test. \r\n- The public key is exported in X.509/SPKI format, PEM encoded, the private key in SEC1 format, PEM encoded (the SEC1 format is chosen because it is supported by *basic_utils*).\r\n\r\nKey (generation and) export on the Java side can be implemented as follows:\r\n\r\n```java\r\nKeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\nECGenParameterSpec secp256r1 = new ECGenParameterSpec(&quot;secp256r1&quot;);\r\nkpg.initialize(secp256r1);\r\nKeyPair kp = kpg.generateKeyPair();\r\nString x509DerFromJava = Base64.getEncoder().encodeToString(kp.getPublic().getEncoded());\r\nString pkcs8DerFromJava = Base64.getEncoder().encodeToString(kp.getPrivate().getEncoded());\r\n```\r\n\r\nThe public key is exported in X.509/SPKI format, DER encoded, the private key in PKCS#8 format, DER encoded (the PKCS#8 format was chosen because it is supported by JCA/JCE by default). \r\n\r\n------------\r\n\r\n&lt;h3&gt;Part 2: Key import and key agreement&lt;/h3&gt;\r\n\r\nKey import and key agreement on the Dart side can be implemented as follows (the keys used here were generated with the code from the first part):\r\n\r\n```dart\r\nvar x509DerFromJava = base64.decode(&quot;MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEXcXjAIwp17z2hHuKe+yd1xD6VnX8cFjmaibxeMnTVNQCilTaW+M2WkcAdNTDVJSGA9EYNpfJgHrw1G8055Ml4w==&quot;);\r\nvar sec1pemFromDart = &quot;&quot;&quot;-----BEGIN EC PRIVATE KEY-----\r\nMHcCAQEEIGW/gmCOh3bWEKFhuX+bbHpMmfP7YKQA7KS6Ddfqx658oAoGCCqGSM49\r\nAwEHoUQDQgAE7ux8syhN5jc7IOQDQgjr7Lgc9QiY2lD9O+3vA9ly+HaxD5H9Ihy6\r\nAM5ATMlZurtxz4V9FrOie+Nmhydu8TnMow==\r\n-----END EC PRIVATE KEY-----&quot;&quot;&quot;;\r\nvar x509FromJava = CryptoUtils.ecPublicKeyFromDerBytes(x509DerFromJava);\r\nvar sec1FromDart = CryptoUtils.ecPrivateKeyFromPem(sec1pemFromDart);\r\n\r\nvar agreement = ECDHBasicAgreement();\r\nagreement.init(sec1FromDart);\r\nvar sharedSecret = agreement.calculateAgreement(x509FromJava);\r\nprint(sharedSecret.toRadixString(16)); // f50ba48e19b4c3ddf35f23d24c27b335ef3f3fe61bc5a52d069262e83e653f6a\r\n```\r\n\r\nand on the Java side: Here the public key must be converted from PEM to DER. This is relatively simple: header, footer and line breaks have to be removed and the rest has to be Base64 decoded. Alternatively, BouncyCastle can be used to import the PEM key *directly*:\r\n\r\n```java\r\nString x509PemFromDart = &quot;&quot;&quot;\r\n-----BEGIN PUBLIC KEY-----\r\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE7ux8syhN5jc7IOQDQgjr7Lgc9QiY\r\n2lD9O+3vA9ly+HaxD5H9Ihy6AM5ATMlZurtxz4V9FrOie+Nmhydu8TnMow==\r\n-----END PUBLIC KEY-----&quot;&quot;&quot;;\r\nbyte[] x509DerFromDart = Base64.getDecoder().decode(x509PemFromDart.replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;\\n&quot; , &quot;&quot;));\r\nPublicKey x509FromDart = convertByteArrayToPublicKey(x509DerFromDart);\r\nbyte[] pkcs8DerFromJava = Base64.getDecoder().decode(&quot;MEECAQAwEwYHKoZIzj0CAQYIKoZIzj0DAQcEJzAlAgEBBCCl52mYjL52FtHM0s3J+9BHReocDl4Dmo0hoAHr9LxVqA==&quot;);\r\nPrivateKey pkcs8FromJava = KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(new PKCS8EncodedKeySpec(pkcs8DerFromJava));\r\n\r\nKeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;);\r\nkeyAgreement.init(pkcs8FromJava);\r\nkeyAgreement.doPhase(x509FromDart, true);\r\nbyte[] sharedSecret = keyAgreement.generateSecret();\r\nSystem.out.println(HexFormat.of().formatHex(sharedSecret)); // f50ba48e19b4c3ddf35f23d24c27b335ef3f3fe61bc5a52d069262e83e653f6a\r\n```\r\n\r\nTest result: On both sides the same shared secret is generated!\r\n\r\n[1]: https://pub.dev/packages/basic_utils","title":"ECDH Compatible between Dart pointycastle and Java 17","body":"<p>Both sides use different key formats: <code>getPublicKey()</code> in the Dart code returns the public key in raw, uncompressed format. <code>convertByteArrayToPublicKey()</code> in the Java code requires the key in X.509/SPKI format, ASN.1/DER encoded.</p>\n<p>The different formats are the reason for your problem. The fix is to use identical formats. The adaptation can be done on the Dart side (export in X.509/SPKI format), on the Java side (import of a raw, uncompressed key) or via a key conversion tool.</p>\n<p>In the following the adaption is done on the Dart side. For import/export of keys e.g. the Dart package <a href=\"https://pub.dev/packages/basic_utils\" rel=\"nofollow noreferrer\"><em>basic_utils</em></a> can be used. The following solution is based on the code you posted.</p>\n<h3>Part 1: Key export</h3>\n<p>Key (generation via <code>init()</code> and) export can be implemented on the Dart side as follows:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:basic_utils/basic_utils.dart';\nimport 'package:pointycastle/export.dart';\n...\nvar ecdh = EcdhHandler.init();\nvar x509pemFromDart = CryptoUtils.encodeEcPublicKeyToPem(ecdh.publicKey);\nvar sec1pemFromDart = CryptoUtils.encodeEcPrivateKeyToPem(ecdh.privateKey);\n...\nclass EcdhHandler {  \n  ...  \n  ECPublicKey get publicKey {\n    return _keyPair.publicKey as ECPublicKey;\n  }\n  ECPrivateKey get privateKey {\n    return _keyPair.privateKey as ECPrivateKey;\n  }\n  EcdhHandler.init() {\n    _domainParameters = ECDomainParameters(ECCurve_prime256v1().domainName);\n    ...\n</code></pre>\n<p>Here the following has to be considered:</p>\n<ul>\n<li>Instead of <code>ECCurve_secp256r1()</code>, <code>ECCurve_prime256v1()</code> must be used, since <em>basic_utils</em> does not accept the former (error message: <em>ObjectIdentifier secp256r1 is not supported yet</em>). Note that both identifiers name the same curve: <em>prime256v1</em> aka <em>NIST P-256</em> are aliases of <em>secp256r1</em>.</li>\n<li>In addition to the public key, the private key is also exported to make it easier to separate key generation and key agreement in this test.</li>\n<li>The public key is exported in X.509/SPKI format, PEM encoded, the private key in SEC1 format, PEM encoded (the SEC1 format is chosen because it is supported by <em>basic_utils</em>).</li>\n</ul>\n<p>Key (generation and) export on the Java side can be implemented as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;);\nECGenParameterSpec secp256r1 = new ECGenParameterSpec(&quot;secp256r1&quot;);\nkpg.initialize(secp256r1);\nKeyPair kp = kpg.generateKeyPair();\nString x509DerFromJava = Base64.getEncoder().encodeToString(kp.getPublic().getEncoded());\nString pkcs8DerFromJava = Base64.getEncoder().encodeToString(kp.getPrivate().getEncoded());\n</code></pre>\n<p>The public key is exported in X.509/SPKI format, DER encoded, the private key in PKCS#8 format, DER encoded (the PKCS#8 format was chosen because it is supported by JCA/JCE by default).</p>\n<hr />\n<h3>Part 2: Key import and key agreement</h3>\n<p>Key import and key agreement on the Dart side can be implemented as follows (the keys used here were generated with the code from the first part):</p>\n<pre class=\"lang-dart prettyprint-override\"><code>var x509DerFromJava = base64.decode(&quot;MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEXcXjAIwp17z2hHuKe+yd1xD6VnX8cFjmaibxeMnTVNQCilTaW+M2WkcAdNTDVJSGA9EYNpfJgHrw1G8055Ml4w==&quot;);\nvar sec1pemFromDart = &quot;&quot;&quot;-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIGW/gmCOh3bWEKFhuX+bbHpMmfP7YKQA7KS6Ddfqx658oAoGCCqGSM49\nAwEHoUQDQgAE7ux8syhN5jc7IOQDQgjr7Lgc9QiY2lD9O+3vA9ly+HaxD5H9Ihy6\nAM5ATMlZurtxz4V9FrOie+Nmhydu8TnMow==\n-----END EC PRIVATE KEY-----&quot;&quot;&quot;;\nvar x509FromJava = CryptoUtils.ecPublicKeyFromDerBytes(x509DerFromJava);\nvar sec1FromDart = CryptoUtils.ecPrivateKeyFromPem(sec1pemFromDart);\n\nvar agreement = ECDHBasicAgreement();\nagreement.init(sec1FromDart);\nvar sharedSecret = agreement.calculateAgreement(x509FromJava);\nprint(sharedSecret.toRadixString(16)); // f50ba48e19b4c3ddf35f23d24c27b335ef3f3fe61bc5a52d069262e83e653f6a\n</code></pre>\n<p>and on the Java side: Here the public key must be converted from PEM to DER. This is relatively simple: header, footer and line breaks have to be removed and the rest has to be Base64 decoded. Alternatively, BouncyCastle can be used to import the PEM key <em>directly</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String x509PemFromDart = &quot;&quot;&quot;\n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE7ux8syhN5jc7IOQDQgjr7Lgc9QiY\n2lD9O+3vA9ly+HaxD5H9Ihy6AM5ATMlZurtxz4V9FrOie+Nmhydu8TnMow==\n-----END PUBLIC KEY-----&quot;&quot;&quot;;\nbyte[] x509DerFromDart = Base64.getDecoder().decode(x509PemFromDart.replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;\\n&quot; , &quot;&quot;));\nPublicKey x509FromDart = convertByteArrayToPublicKey(x509DerFromDart);\nbyte[] pkcs8DerFromJava = Base64.getDecoder().decode(&quot;MEECAQAwEwYHKoZIzj0CAQYIKoZIzj0DAQcEJzAlAgEBBCCl52mYjL52FtHM0s3J+9BHReocDl4Dmo0hoAHr9LxVqA==&quot;);\nPrivateKey pkcs8FromJava = KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(new PKCS8EncodedKeySpec(pkcs8DerFromJava));\n\nKeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;);\nkeyAgreement.init(pkcs8FromJava);\nkeyAgreement.doPhase(x509FromDart, true);\nbyte[] sharedSecret = keyAgreement.generateSecret();\nSystem.out.println(HexFormat.of().formatHex(sharedSecret)); // f50ba48e19b4c3ddf35f23d24c27b335ef3f3fe61bc5a52d069262e83e653f6a\n</code></pre>\n<p>Test result: On both sides the same shared secret is generated!</p>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76493112,"answer_count":1,"score":1,"last_activity_date":1686943977,"creation_date":1686921246,"question_id":76490559,"body_markdown":"I want to communicate between dart and java with ECDH (secp256r1 algorithm) .     \r\nthis is my Dart Code :    \r\n```\r\nimport &#39;dart:convert&#39;;\r\nimport &#39;dart:math&#39;;\r\nimport &#39;dart:typed_data&#39;;\r\nimport &#39;package:pointycastle/export.dart&#39;;\r\n\r\nclass EcdhHandler {\r\n  late final AsymmetricKeyPair _keyPair;\r\n  late final ECDomainParameters _domainParameters;\r\n\r\n  EcdhHandler.init() {\r\n    _domainParameters = ECDomainParameters(ECCurve_secp256r1().domainName);\r\n    var ecParams = ECKeyGeneratorParameters(_domainParameters);\r\n    var params = ParametersWithRandom&lt;ECKeyGeneratorParameters&gt;(ecParams, getSecureRandom());\r\n\r\n    var keyGenerator = ECKeyGenerator();\r\n    keyGenerator.init(params);\r\n    _keyPair = keyGenerator.generateKeyPair();\r\n  }\r\n\r\n  Uint8List getPublicKey() {\r\n    var publicKey = _keyPair.publicKey as ECPublicKey;\r\n    var publicPoint = publicKey.Q!.getEncoded(false);\r\n    return publicPoint;\r\n  }\r\n\r\n  ECPublicKey bytesToPublicKey(Uint8List bytes) {\r\n    var domainParams = (_keyPair.publicKey as ECPublicKey).parameters;\r\n    var curve = domainParams!.curve;\r\n    var point = curve.decodePoint(bytes);\r\n    return ECPublicKey(point, domainParams);\r\n  }\r\n\r\n  BigInt makeSharedSecret(ECPublicKey remotePublicKey) {\r\n    var agreement = ECDHBasicAgreement();\r\n    var privateKey = _keyPair.privateKey as ECPrivateKey;\r\n    agreement.init(privateKey);\r\n    return agreement.calculateAgreement(remotePublicKey);\r\n  }\r\n  SecureRandom getSecureRandom() {\r\n    var secureRandom = FortunaRandom();\r\n    var random = Random.secure();\r\n    List&lt;int&gt; seeds = [];\r\n    for (int i = 0; i &lt; 32; i++) {\r\n      seeds.add(random.nextInt(255));\r\n    }\r\n    secureRandom.seed(KeyParameter(Uint8List.fromList(seeds)));\r\n    return secureRandom;\r\n  }\r\n\r\n}\r\n```    \r\n\r\nand this Java code : \r\n```\r\nimport javax.crypto.KeyAgreement;\r\nimport java.security.*;\r\nimport java.security.spec.ECGenParameterSpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.Arrays;\r\n\r\npublic class ECDHHandler {\r\n    private PublicKey publicKey;\r\n    private KeyAgreement keyAgreement;\r\n    private byte[] sharedSecret;\r\n\r\n    public ECDHHandler() {\r\n        makeKeyExchangeParams();\r\n    }\r\n\r\n    private void makeKeyExchangeParams() {\r\n        try {\r\n            KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n            ECGenParameterSpec secp256r1 = new ECGenParameterSpec(&quot;secp256r1&quot;);\r\n            kpg.initialize(secp256r1);\r\n            KeyPair kp = kpg.generateKeyPair();\r\n            keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;);\r\n            keyAgreement.init(kp.getPrivate());\r\n            publicKey = kp.getPublic();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void initializeSharedSecret(PublicKey publickey) {\r\n        try {\r\n            keyAgreement.doPhase(publickey, true);\r\n            sharedSecret = keyAgreement.generateSecret();\r\n        } catch (InvalidKeyException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public PublicKey convertByteArrayToPublicKey(byte[] bytes) {\r\n        try {\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n            X509EncodedKeySpec pkSpec = new X509EncodedKeySpec(bytes);\r\n            return kf.generatePublic(pkSpec);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n``` \r\n\r\nI generate public key with pointycastle on dart application and send that to Java .     \r\n**My problem :**       \r\nmethod ```convertByteArrayToPublicKey``` on java can not parse byte codes to ecdh public key !      \r\n \r\nI always receive :     \r\n```\r\njava.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: DerInputStream.getLength(): lengthTag=20, too big.\r\n```     \r\n\r\n```\r\npointycastle: ^3.7.3 \r\n\r\nDart SDK version: 3.0.2 (stable) (Tue May 23 08:26:58 2023 +0000) on &quot;linux_x64&quot;\r\n\r\njava version &quot;17.0.4&quot; 2022-07-19 LTS\r\nJava(TM) SE Runtime Environment GraalVM EE 22.2.0 (build 17.0.4+11-LTS-jvmci-22.2-b05)\r\nJava HotSpot(TM) 64-Bit Server VM GraalVM EE 22.2.0 (build 17.0.4+11-LTS-jvmci-22.2-b05, mixed mode, sharing)\r\n```","title":"ECDH Compatible between Dart pointycastle and Java 17","body":"<p>I want to communicate between dart and java with ECDH (secp256r1 algorithm) .<br />\nthis is my Dart Code :</p>\n<pre><code>import 'dart:convert';\nimport 'dart:math';\nimport 'dart:typed_data';\nimport 'package:pointycastle/export.dart';\n\nclass EcdhHandler {\n  late final AsymmetricKeyPair _keyPair;\n  late final ECDomainParameters _domainParameters;\n\n  EcdhHandler.init() {\n    _domainParameters = ECDomainParameters(ECCurve_secp256r1().domainName);\n    var ecParams = ECKeyGeneratorParameters(_domainParameters);\n    var params = ParametersWithRandom&lt;ECKeyGeneratorParameters&gt;(ecParams, getSecureRandom());\n\n    var keyGenerator = ECKeyGenerator();\n    keyGenerator.init(params);\n    _keyPair = keyGenerator.generateKeyPair();\n  }\n\n  Uint8List getPublicKey() {\n    var publicKey = _keyPair.publicKey as ECPublicKey;\n    var publicPoint = publicKey.Q!.getEncoded(false);\n    return publicPoint;\n  }\n\n  ECPublicKey bytesToPublicKey(Uint8List bytes) {\n    var domainParams = (_keyPair.publicKey as ECPublicKey).parameters;\n    var curve = domainParams!.curve;\n    var point = curve.decodePoint(bytes);\n    return ECPublicKey(point, domainParams);\n  }\n\n  BigInt makeSharedSecret(ECPublicKey remotePublicKey) {\n    var agreement = ECDHBasicAgreement();\n    var privateKey = _keyPair.privateKey as ECPrivateKey;\n    agreement.init(privateKey);\n    return agreement.calculateAgreement(remotePublicKey);\n  }\n  SecureRandom getSecureRandom() {\n    var secureRandom = FortunaRandom();\n    var random = Random.secure();\n    List&lt;int&gt; seeds = [];\n    for (int i = 0; i &lt; 32; i++) {\n      seeds.add(random.nextInt(255));\n    }\n    secureRandom.seed(KeyParameter(Uint8List.fromList(seeds)));\n    return secureRandom;\n  }\n\n}\n</code></pre>\n<p>and this Java code :</p>\n<pre><code>import javax.crypto.KeyAgreement;\nimport java.security.*;\nimport java.security.spec.ECGenParameterSpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.Arrays;\n\npublic class ECDHHandler {\n    private PublicKey publicKey;\n    private KeyAgreement keyAgreement;\n    private byte[] sharedSecret;\n\n    public ECDHHandler() {\n        makeKeyExchangeParams();\n    }\n\n    private void makeKeyExchangeParams() {\n        try {\n            KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;);\n            ECGenParameterSpec secp256r1 = new ECGenParameterSpec(&quot;secp256r1&quot;);\n            kpg.initialize(secp256r1);\n            KeyPair kp = kpg.generateKeyPair();\n            keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;);\n            keyAgreement.init(kp.getPrivate());\n            publicKey = kp.getPublic();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void initializeSharedSecret(PublicKey publickey) {\n        try {\n            keyAgreement.doPhase(publickey, true);\n            sharedSecret = keyAgreement.generateSecret();\n        } catch (InvalidKeyException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public PublicKey convertByteArrayToPublicKey(byte[] bytes) {\n        try {\n            KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n            X509EncodedKeySpec pkSpec = new X509EncodedKeySpec(bytes);\n            return kf.generatePublic(pkSpec);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I generate public key with pointycastle on dart application and send that to Java .<br />\n<strong>My problem :</strong><br />\nmethod <code>convertByteArrayToPublicKey</code> on java can not parse byte codes to ecdh public key !</p>\n<p>I always receive :</p>\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: DerInputStream.getLength(): lengthTag=20, too big.\n</code></pre>\n<pre><code>pointycastle: ^3.7.3 \n\nDart SDK version: 3.0.2 (stable) (Tue May 23 08:26:58 2023 +0000) on &quot;linux_x64&quot;\n\njava version &quot;17.0.4&quot; 2022-07-19 LTS\nJava(TM) SE Runtime Environment GraalVM EE 22.2.0 (build 17.0.4+11-LTS-jvmci-22.2-b05)\nJava HotSpot(TM) 64-Bit Server VM GraalVM EE 22.2.0 (build 17.0.4+11-LTS-jvmci-22.2-b05, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","aws-lambda","amazon-ecs","aws-java-sdk"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1687624193,"post_id":76418424,"comment_id":134964133,"body_markdown":"Similar behavior with pure nodejs lamda function. It takes aprox 4 min. The task always is completed but sometimes the return answer never reaches the target","body":"Similar behavior with pure nodejs lamda function. It takes aprox 4 min. The task always is completed but sometimes the return answer never reaches the target"}],"answers":[{"tags":[],"owner":{"account_id":10066486,"reputation":725,"user_id":7441537,"display_name":"Andr&#233; Machado"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686943814,"creation_date":1686925238,"answer_id":76491090,"question_id":76418424,"body_markdown":"There is not a lot of information in the question to give you a proper answer. \r\n\r\nFrom what I understood from your question you are executing a lambda and sometimes it completes and other times it times out. If this is in fact the case it most likely isn&#39;t a connectivity problem, so the problem should be the lambda design/performance. \r\n\r\nA quick thing I would try first - if you didn’t yet - would be to increase the Lambda available memory (I think the default is 128MB). Increasing the available memory can significantly increase your Lambda performance. [[Source]](https://aws.amazon.com/blogs/compute/operating-lambda-performance-optimization-part-2/)\r\n\r\nA couple of other tips that might be useful for you to debug your problem:\r\n\r\n 1. **Review Lambda Design/Performance**: Examine the code and execution\r\n    logic of your Lambda function to ensure it is optimized for\r\n    performance. Look for any potential bottlenecks or long-running\r\n    operations that could be causing the function to exceed the timeout\r\n    limit. Also make sure you take advantage of [execution environment reuse](https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html#function-code) whenever \r\n    possible.\r\n    \r\n 2. **Check for Dependencies or External API Calls**: If your Lambda\r\n    function relies on other AWS services or external APIs, verify if\r\n    any of these dependencies are causing delays or timeouts. Monitor\r\n    the logs of the Lambda function to identify any potential issues\r\n    with these external interactions.\r\n    \r\n 3. **Analyse Lambda Function Logs**: Enable detailed logging within your\r\n    Lambda function and review the logs to gain insights into its\r\n    execution behaviour. Look for any error messages, warnings, or\r\n    performance-related information that could help diagnose the hanging\r\n    behaviour.\r\n    \r\n 4. **Check AWS Service Limits**: Confirm that you have not exceeded any\r\n    [service limits](https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html) for AWS Lambda that could be affecting the\r\n    behaviour. For example, check if you have reached the maximum\r\n    concurrent executions.\r\n    \r\n 5. **Consider Alternative Solutions**: If your workload requires longer\r\n    processing times beyond the 15-minute limit imposed by Lambda,\r\n    consider alternative AWS services such as another ECS task or even EC2 to handle those workloads. These services offer more control \r\n    over the computing\r\n    environment and allow for longer execution times.\r\n\r\nHowever, for a better understanding of what exactly might be happenning it would be useful if you could share the code (or the part of the code that you think has problems). If the code is proprietary a pseudo-code version or an explanation may also be useful.","title":"AWS lambda invoke sometimes hangs indefinitely when executed via ECS","body":"<p>There is not a lot of information in the question to give you a proper answer.</p>\n<p>From what I understood from your question you are executing a lambda and sometimes it completes and other times it times out. If this is in fact the case it most likely isn't a connectivity problem, so the problem should be the lambda design/performance.</p>\n<p>A quick thing I would try first - if you didn’t yet - would be to increase the Lambda available memory (I think the default is 128MB). Increasing the available memory can significantly increase your Lambda performance. <a href=\"https://aws.amazon.com/blogs/compute/operating-lambda-performance-optimization-part-2/\" rel=\"nofollow noreferrer\">[Source]</a></p>\n<p>A couple of other tips that might be useful for you to debug your problem:</p>\n<ol>\n<li><p><strong>Review Lambda Design/Performance</strong>: Examine the code and execution\nlogic of your Lambda function to ensure it is optimized for\nperformance. Look for any potential bottlenecks or long-running\noperations that could be causing the function to exceed the timeout\nlimit. Also make sure you take advantage of <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html#function-code\" rel=\"nofollow noreferrer\">execution environment reuse</a> whenever\npossible.</p>\n</li>\n<li><p><strong>Check for Dependencies or External API Calls</strong>: If your Lambda\nfunction relies on other AWS services or external APIs, verify if\nany of these dependencies are causing delays or timeouts. Monitor\nthe logs of the Lambda function to identify any potential issues\nwith these external interactions.</p>\n</li>\n<li><p><strong>Analyse Lambda Function Logs</strong>: Enable detailed logging within your\nLambda function and review the logs to gain insights into its\nexecution behaviour. Look for any error messages, warnings, or\nperformance-related information that could help diagnose the hanging\nbehaviour.</p>\n</li>\n<li><p><strong>Check AWS Service Limits</strong>: Confirm that you have not exceeded any\n<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html\" rel=\"nofollow noreferrer\">service limits</a> for AWS Lambda that could be affecting the\nbehaviour. For example, check if you have reached the maximum\nconcurrent executions.</p>\n</li>\n<li><p><strong>Consider Alternative Solutions</strong>: If your workload requires longer\nprocessing times beyond the 15-minute limit imposed by Lambda,\nconsider alternative AWS services such as another ECS task or even EC2 to handle those workloads. These services offer more control\nover the computing\nenvironment and allow for longer execution times.</p>\n</li>\n</ol>\n<p>However, for a better understanding of what exactly might be happenning it would be useful if you could share the code (or the part of the code that you think has problems). If the code is proprietary a pseudo-code version or an explanation may also be useful.</p>\n"}],"owner":{"account_id":6200839,"reputation":476,"user_id":4830695,"accept_rate":82,"display_name":"fyodorfranz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1686943814,"creation_date":1686085235,"question_id":76418424,"body_markdown":"I have an spring boot app which is invoking lambda functions via aws-java-sdk-lambda like so:\r\n\r\n    import com.amazonaws.services.lambda.AWSLambda;\r\n    ...\r\n    \r\n    InvokeResult result = awsLambda.invoke(invokeRequest);\r\n\r\nNow when I&#39;m running this from my local machine, this works fine: it invokes the function and then returns a response when it completes. Sometimes, the lambda function times out, and in that scenario, I get a response indicating this. \r\n\r\nI also have this app deployed in an ECS task, and I&#39;ve noticed that, in that context, if the lambda function doesn&#39;t take more than 10 mins to complete, I get a response just as expected. However, if it takes much longer than that or if it ultimately times out after 15 mins, the invoke method hangs indefinitely in the ECS task (whereas locally I always get a response back after 15 mins at the latest - indicating a timeout). \r\n\r\nIn order to address this I&#39;ve tried adjusting the ClientConfiguration so that it times out after 16 mins, however, this solution won&#39;t work since sometimes the lambda function completes after about 10 mins and the invoke method still hangs indefinitely in the ECS task  (though, again, this never happens for me when running the app locally). \r\n\r\nI considered whether this could be permission related, however, that doesn&#39;t seem likely. The task has &quot;lambda:InvokeFunction&quot; and &quot;lambda:GetFunction&quot; permissions and does behave as expected when the lambda function completes in under 10 mins. Is there anything else I should try to prevent the invocation from hanging?\r\n\r\n","title":"AWS lambda invoke sometimes hangs indefinitely when executed via ECS","body":"<p>I have an spring boot app which is invoking lambda functions via aws-java-sdk-lambda like so:</p>\n<pre><code>import com.amazonaws.services.lambda.AWSLambda;\n...\n\nInvokeResult result = awsLambda.invoke(invokeRequest);\n</code></pre>\n<p>Now when I'm running this from my local machine, this works fine: it invokes the function and then returns a response when it completes. Sometimes, the lambda function times out, and in that scenario, I get a response indicating this.</p>\n<p>I also have this app deployed in an ECS task, and I've noticed that, in that context, if the lambda function doesn't take more than 10 mins to complete, I get a response just as expected. However, if it takes much longer than that or if it ultimately times out after 15 mins, the invoke method hangs indefinitely in the ECS task (whereas locally I always get a response back after 15 mins at the latest - indicating a timeout).</p>\n<p>In order to address this I've tried adjusting the ClientConfiguration so that it times out after 16 mins, however, this solution won't work since sometimes the lambda function completes after about 10 mins and the invoke method still hangs indefinitely in the ECS task  (though, again, this never happens for me when running the app locally).</p>\n<p>I considered whether this could be permission related, however, that doesn't seem likely. The task has &quot;lambda:InvokeFunction&quot; and &quot;lambda:GetFunction&quot; permissions and does behave as expected when the lambda function completes in under 10 mins. Is there anything else I should try to prevent the invocation from hanging?</p>\n"},{"tags":["java","date","localdate","yearmonth"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1684125811,"post_id":76250521,"comment_id":134465383,"body_markdown":"I am sorry, I can’t follow. I think I need a representative assortment of example inputs with desired outputs.","body":"I am sorry, I can’t follow. I think I need a representative assortment of example inputs with desired outputs."},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1684132630,"post_id":76250521,"comment_id":134466164,"body_markdown":"@OleV.V. The start date and end date are inputs the expected outputs are `startDateGeneration` and `endDateGeneration`","body":"@OleV.V. The start date and end date are inputs the expected outputs are <code>startDateGeneration</code> and <code>endDateGeneration</code>"},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1684133334,"post_id":76250521,"comment_id":134466267,"body_markdown":"@OleV.V. Let me know if this helps or would you need more details","body":"@OleV.V. Let me know if this helps or would you need more details"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684175111,"post_id":76250521,"comment_id":134475833,"body_markdown":"I am still far from understanding it all. So these are guesses, and you must deem whether they are right or not: 1. If start_month &gt; end_month, the row spans New Year. In this case a date is in the range if monthOfDate &lt;= end_month || monthOfDate &gt;= start_month. In the opposite case, not crossing New Year, the condition is monthOfDate &gt;= start_month &amp;&amp; monthOfDate &lt;= end_month. 2. Similarly if advance_start_month &gt; discount_start_month, then the “advance” period (whatever that is) starts the year before, so subtract 1 from the year.","body":"I am still far from understanding it all. So these are guesses, and you must deem whether they are right or not: 1. If start_month &gt; end_month, the row spans New Year. In this case a date is in the range if monthOfDate &lt;= end_month || monthOfDate &gt;= start_month. In the opposite case, not crossing New Year, the condition is monthOfDate &gt;= start_month &amp;&amp; monthOfDate &lt;= end_month. 2. Similarly if advance_start_month &gt; discount_start_month, then the “advance” period (whatever that is) starts the year before, so subtract 1 from the year."},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1684210018,"post_id":76250521,"comment_id":134480227,"body_markdown":"@OleV.V. 1. Your first condition should be `&amp;&amp;` 2. the advance_start_month will always be less than the discount_start_month","body":"@OleV.V. 1. Your first condition should be <code>&amp;&amp;</code> 2. the advance_start_month will always be less than the discount_start_month"},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1684211468,"post_id":76250521,"comment_id":134480336,"body_markdown":"@OleV.V. I have edited the question and added more details with date examples, describing how the flow is . This should help you else let me know how I can help in further understanding.","body":"@OleV.V. I have edited the question and added more details with date examples, describing how the flow is . This should help you else let me know how I can help in further understanding."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684217151,"post_id":76250521,"comment_id":134480977,"body_markdown":"1. I put `||` (or) there on purpose. If the date is 2023-12-19, discount_start_month is 12 and end month 1, then if I do 12 &lt;= 1 &amp;&amp; 12 &gt;= 12, then it will never be true even thought the date is within the interval from December through January. With `||` it will be true for dates in December and January and no other dates.  2. In the FEB_MAR row discount_start_month is 2 and advance_start_month is 12. And 12 is not less than 2. I think this was why you asked that question to begin with? I am sorry, I am about to give up on helping you.","body":"1. I put <code>||</code> (or) there on purpose. If the date is 2023-12-19, discount_start_month is 12 and end month 1, then if I do 12 &lt;= 1 &amp;&amp; 12 &gt;= 12, then it will never be true even thought the date is within the interval from December through January. With <code>||</code> it will be true for dates in December and January and no other dates.  2. In the FEB_MAR row discount_start_month is 2 and advance_start_month is 12. And 12 is not less than 2. I think this was why you asked that question to begin with? I am sorry, I am about to give up on helping you."},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1684220295,"post_id":76250521,"comment_id":134481514,"body_markdown":"@OleV.V. ` I think this was why you asked that question to begin with?`  the current logic is handled for Dececmber month what if the month was 10 or 11 in the `discount_start_month`. `I am sorry, I am about to give up on helping you.` Oops ! Is this a complex question or you are having trouble to understand it ?","body":"@OleV.V. ` I think this was why you asked that question to begin with?`  the current logic is handled for Dececmber month what if the month was 10 or 11 in the <code>discount_start_month</code>. <code>I am sorry, I am about to give up on helping you.</code> Oops ! Is this a complex question or you are having trouble to understand it ?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684230071,"post_id":76250521,"comment_id":134483793,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253674/discussion-between-ole-v-v-and-oldcode).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253674/discussion-between-ole-v-v-and-oldcode\">continue this discussion in chat</a>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684968836,"post_id":76250521,"comment_id":134596849,"body_markdown":"@oldcode, I&#39;ll give this a try.  I was planning on just creating my own objects and using `Calendar` for comparison, if needed.  Any objections?","body":"@oldcode, I&#39;ll give this a try.  I was planning on just creating my own objects and using <code>Calendar</code> for comparison, if needed.  Any objections?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684974134,"post_id":76250521,"comment_id":134597381,"body_markdown":"@oldcode, for `isInRange`, there is a `discountDate` parameter.  What is this value?  I thought the input was a start and end date.","body":"@oldcode, for <code>isInRange</code>, there is a <code>discountDate</code> parameter.  What is this value?  I thought the input was a start and end date."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684974419,"post_id":76250521,"comment_id":134597413,"body_markdown":"@oldcode, and finally, your &quot;expected output&quot; data has, for example, and start and end date of 2023-08-01 and 2023-10-01.  The discount start and end dates appear to only extend for 1 month, how would this match any of the data-sets?","body":"@oldcode, and finally, your &quot;expected output&quot; data has, for example, and start and end date of 2023-08-01 and 2023-10-01.  The discount start and end dates appear to only extend for 1 month, how would this match any of the data-sets?"},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1685015102,"post_id":76250521,"comment_id":134603405,"body_markdown":"@Reilas  For SeasonId `101` , the `advance_start_month` for `2023-08-01` is `06` from above table as shown in screenshot and the advance_end_month for `2023-10-01` is `11`","body":"@Reilas  For SeasonId <code>101</code> , the <code>advance_start_month</code> for <code>2023-08-01</code> is <code>06</code> from above table as shown in screenshot and the advance_end_month for <code>2023-10-01</code> is <code>11</code>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1685356040,"post_id":76250521,"comment_id":134644722,"body_markdown":"It is probably pretty easy to implement the logic you need. However, I cannot help but wonder why anyone would shoot themselves in their own feet like this, making a simple matter complicated. Why don&#39;t you use actual dates instead of strange combinations of months and &quot;seasons&quot; for designating the beginnings and ends of discount periods? Did somebody decide that this would not be complicated enough and then make it harder on purpose?","body":"It is probably pretty easy to implement the logic you need. However, I cannot help but wonder why anyone would shoot themselves in their own feet like this, making a simple matter complicated. Why don&#39;t you use actual dates instead of strange combinations of months and &quot;seasons&quot; for designating the beginnings and ends of discount periods? Did somebody decide that this would not be complicated enough and then make it harder on purpose?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1685356199,"post_id":76250521,"comment_id":134644752,"body_markdown":"Besides, you never explained how seasons translate to years and what the advance dates actually mean. It seems like the advance start month is always two months prior to the discount start and the advance end always identical to the discount end. Therefore, you can automatically calculate them. Who designs such a system? A masochist maybe - no offence meant.","body":"Besides, you never explained how seasons translate to years and what the advance dates actually mean. It seems like the advance start month is always two months prior to the discount start and the advance end always identical to the discount end. Therefore, you can automatically calculate them. Who designs such a system? A masochist maybe - no offence meant."},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1685621793,"post_id":76250521,"comment_id":134687610,"body_markdown":"@kriegaex - You cannot use the actual dates an actual date might lie anywhere between the range, the problem is to detect the `advance_start_month` and the valid year for it. Lets say if the season id is `101` and the actual date could lie anywhere between April and May you would have to pick up this info from database and then simply subtract the month from `advance_start_month`.","body":"@kriegaex - You cannot use the actual dates an actual date might lie anywhere between the range, the problem is to detect the <code>advance_start_month</code> and the valid year for it. Lets say if the season id is <code>101</code> and the actual date could lie anywhere between April and May you would have to pick up this info from database and then simply subtract the month from <code>advance_start_month</code>."},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1685621923,"post_id":76250521,"comment_id":134687633,"body_markdown":"@kriegaex -`Therefore, you can automatically calculate them` , not always I have given here some limited examples here. `Besides, you never explained how seasons translate to years` you cannot store year info as storing year info would make it invalid for next year. That is why you have to explicitly derive the year from the months ? Wouldn&#39;t it be dumb to store the year info when the table could have the same data for years and years ?","body":"@kriegaex -<code>Therefore, you can automatically calculate them</code> , not always I have given here some limited examples here. <code>Besides, you never explained how seasons translate to years</code> you cannot store year info as storing year info would make it invalid for next year. That is why you have to explicitly derive the year from the months ? Wouldn&#39;t it be dumb to store the year info when the table could have the same data for years and years ?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1685625031,"post_id":76250521,"comment_id":134688460,"body_markdown":"No, it would not be dumb. Storing exact dates for each period would unburden you from  calculating dates with a complex algorithm. This premature optimisation to try and store as little info as possible in the DBMS probably neither saves any significant amount of storage space nor does it yield any performance gain. Furthermore, you would be more flexible in the future. What if for some reason business comes up with the idea to have a special Xmas discount from 05-Dec to 10-Jan? If you simply store dates, you can do that. If you assume that forever it will be full months, you cannot.","body":"No, it would not be dumb. Storing exact dates for each period would unburden you from  calculating dates with a complex algorithm. This premature optimisation to try and store as little info as possible in the DBMS probably neither saves any significant amount of storage space nor does it yield any performance gain. Furthermore, you would be more flexible in the future. What if for some reason business comes up with the idea to have a special Xmas discount from 05-Dec to 10-Jan? If you simply store dates, you can do that. If you assume that forever it will be full months, you cannot."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1685625168,"post_id":76250521,"comment_id":134688502,"body_markdown":"What actually is &quot;dumb&quot; (I mean suboptimal) - pardon my French, I am just using your own words - is the current design. You are trying to solve a home-grown problem you would not even have if you would simply store dates. This is not unlike masturbation - being busy, playing with yourself. &#128521; No disrespect, I am just trying to make a point and be very clear. Ever heard about the KISS principle?","body":"What actually is &quot;dumb&quot; (I mean suboptimal) - pardon my French, I am just using your own words - is the current design. You are trying to solve a home-grown problem you would not even have if you would simply store dates. This is not unlike masturbation - being busy, playing with yourself. 😉 No disrespect, I am just trying to make a point and be very clear. Ever heard about the KISS principle?"},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1685715541,"post_id":76250521,"comment_id":134704277,"body_markdown":"@kriegaex you are not trying to understand the point my friend, we cannot store the dates only months can be stored, how can you even think of storing the full date with the years, the logic should work for any year not only the ones that is stored. This month info is like a configuration and it set for years and years. Why would anyone store the dates and then modify the year logic in Database every year to make the logic working ?","body":"@kriegaex you are not trying to understand the point my friend, we cannot store the dates only months can be stored, how can you even think of storing the full date with the years, the logic should work for any year not only the ones that is stored. This month info is like a configuration and it set for years and years. Why would anyone store the dates and then modify the year logic in Database every year to make the logic working ?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1685721494,"post_id":76250521,"comment_id":134705574,"body_markdown":"If you only explain a small part of the story, how am I supposed to know more than you tell? Your statement that I am not _trying_ to understand is false, otherwise why would I bother commenting? I cannot read your mind, and your specification is incomplete. SO is not a discussion forum, but a Q/A platform. Just look at the sheer number of comments your question has provoked. Ideally it should just be a question and an answer. Anyway, this is a waste of time. I am out of here, good luck.","body":"If you only explain a small part of the story, how am I supposed to know more than you tell? Your statement that I am not <i>trying</i> to understand is false, otherwise why would I bother commenting? I cannot read your mind, and your specification is incomplete. SO is not a discussion forum, but a Q/A platform. Just look at the sheer number of comments your question has provoked. Ideally it should just be a question and an answer. Anyway, this is a waste of time. I am out of here, good luck."},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1685805586,"post_id":76250521,"comment_id":134714020,"body_markdown":"@kriegaex `If you only explain a small part of the story, how am I supposed to know more than you tell? ` I posted a question with all details, deleted it as I got comments feedback was to shorten the question, I argued and explained making it short will not do any good, so had to delete the question and posted a new one with only core logic you can take a look here as you have enough rep to view deleted question[actual question](https://stackoverflow.com/questions/76248877/comparing-months-without-years-data-for-all-date-usecases)","body":"@kriegaex <code>If you only explain a small part of the story, how am I supposed to know more than you tell? </code> I posted a question with all details, deleted it as I got comments feedback was to shorten the question, I argued and explained making it short will not do any good, so had to delete the question and posted a new one with only core logic you can take a look here as you have enough rep to view deleted question<a href=\"https://stackoverflow.com/questions/76248877/comparing-months-without-years-data-for-all-date-usecases\">actual question</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1686472480,"post_id":76250521,"comment_id":134800837,"body_markdown":"Maybe next time, just ask a clear, concise question with some code and link the question to a GitHub repository with a full, minimal sample project reproducing your situation. Next to nobody feels inclined to copy many code snippets into their IDEs, then noticing that some small part or a build configuration is missing. Like others said here and over in the other question before, it is kind of difficult to find out what the actual question is. Again, good luck to you.","body":"Maybe next time, just ask a clear, concise question with some code and link the question to a GitHub repository with a full, minimal sample project reproducing your situation. Next to nobody feels inclined to copy many code snippets into their IDEs, then noticing that some small part or a build configuration is missing. Like others said here and over in the other question before, it is kind of difficult to find out what the actual question is. Again, good luck to you."},{"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"score":0,"creation_date":1686943482,"post_id":76250521,"comment_id":134873247,"body_markdown":"@kriegaex I have removed lot of verbose information. Please let me know if you can read through it and understand ?","body":"@kriegaex I have removed lot of verbose information. Please let me know if you can read through it and understand ?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685423704,"post_id":76360118,"comment_id":134653465,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76360118/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27530879,"reputation":3,"user_id":21009407,"display_name":"1 1"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685391578,"creation_date":1685391517,"answer_id":76360118,"question_id":76250521,"body_markdown":"    private static boolean isInRange(\r\n        LocalDate discountDate, Integer fromMonth, Integer toMonth) {\r\n      int discountYear = discountDate.getYear();\r\n    \r\n      if (fromMonth &gt; toMonth) {\r\n        if (discountDate.getMonthValue() == Constants.DEC_MONTH) {\r\n          toMonth += 12;\r\n        } else if (discountDate.getMonthValue() == Constants.JAN_MONTH) {\r\n          fromMonth -= 12;\r\n        }\r\n      }\r\n    \r\n      return discountDate.getMonthValue() &gt;= fromMonth &amp;&amp; discountDate.getMonthValue() &lt;= toMonth;\r\n    }\r\nand \r\n\r\n    int startYear = fromDate.getYear();\r\n    int endYear = toDate.getYear();\r\n    int advanceStartMonth = fromDateSeasonMap.get(Constants.ADVANCE_START_MONTH);\r\n    int advanceEndMonth = toDateSeasonMap.get(Constants.ADVANCE_END_MONTH);\r\n    \r\n    if (advanceStartMonth &gt;= Constants.OCT_MONTH &amp;&amp; advanceStartMonth &lt;= Constants.DEC_MONTH &amp;&amp; startYear == endYear) {\r\n      startYear -= 1;\r\n    }\r\n    \r\n    if (advanceEndMonth &gt;= Constants.OCT_MONTH &amp;&amp; advanceEndMonth &lt;= Constants.DEC_MONTH &amp;&amp; startYear == endYear) {\r\n      endYear -= 1;\r\n    }\r\n    \r\n    if (advanceEndMonth &lt; advanceStartMonth) {\r\n      if (toDate.getMonthValue() == Constants.DEC_MONTH) {\r\n        endYear += 1;\r\n      }\r\n    }\r\n    \r\n    LocalDate startDateGeneration = fromDate.withMonth(advanceStartMonth).withYear(startYear);\r\n    LocalDate endDateGeneration = toDate.withMonth(advanceEndMonth).withYear(endYear);\r\n    \r\n    // Adjust the end day of the month for endDateGeneration\r\n    int lastDayOfMonth = YearMonth.of(endYear, advanceEndMonth).lengthOfMonth();\r\n    endDateGeneration = endDateGeneration.withDayOfMonth(lastDayOfMonth);\r\n\r\nHope that helps, the question isn&#39;t very clear, but this could help you.\r\n","title":"Querying dates within months using only numerical values months","body":"<pre><code>private static boolean isInRange(\n    LocalDate discountDate, Integer fromMonth, Integer toMonth) {\n  int discountYear = discountDate.getYear();\n\n  if (fromMonth &gt; toMonth) {\n    if (discountDate.getMonthValue() == Constants.DEC_MONTH) {\n      toMonth += 12;\n    } else if (discountDate.getMonthValue() == Constants.JAN_MONTH) {\n      fromMonth -= 12;\n    }\n  }\n\n  return discountDate.getMonthValue() &gt;= fromMonth &amp;&amp; discountDate.getMonthValue() &lt;= toMonth;\n}\n</code></pre>\n<p>and</p>\n<pre><code>int startYear = fromDate.getYear();\nint endYear = toDate.getYear();\nint advanceStartMonth = fromDateSeasonMap.get(Constants.ADVANCE_START_MONTH);\nint advanceEndMonth = toDateSeasonMap.get(Constants.ADVANCE_END_MONTH);\n\nif (advanceStartMonth &gt;= Constants.OCT_MONTH &amp;&amp; advanceStartMonth &lt;= Constants.DEC_MONTH &amp;&amp; startYear == endYear) {\n  startYear -= 1;\n}\n\nif (advanceEndMonth &gt;= Constants.OCT_MONTH &amp;&amp; advanceEndMonth &lt;= Constants.DEC_MONTH &amp;&amp; startYear == endYear) {\n  endYear -= 1;\n}\n\nif (advanceEndMonth &lt; advanceStartMonth) {\n  if (toDate.getMonthValue() == Constants.DEC_MONTH) {\n    endYear += 1;\n  }\n}\n\nLocalDate startDateGeneration = fromDate.withMonth(advanceStartMonth).withYear(startYear);\nLocalDate endDateGeneration = toDate.withMonth(advanceEndMonth).withYear(endYear);\n\n// Adjust the end day of the month for endDateGeneration\nint lastDayOfMonth = YearMonth.of(endYear, advanceEndMonth).lengthOfMonth();\nendDateGeneration = endDateGeneration.withDayOfMonth(lastDayOfMonth);\n</code></pre>\n<p>Hope that helps, the question isn't very clear, but this could help you.</p>\n"},{"tags":[],"owner":{"account_id":25838667,"reputation":322,"user_id":19574650,"display_name":"I.sh."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685397706,"creation_date":1685397706,"answer_id":76360533,"question_id":76250521,"body_markdown":"To handle the logic for `isInRange` when the start month is greater than the end month, you can modify the logic as follows:\r\n\r\n```java\r\nprivate static boolean isInRange(LocalDate discountDate, Integer fromMonth, Integer toMonth) {\r\n    int discountYear = discountDate.getYear();\r\n    int discountMonth = discountDate.getMonthValue();\r\n\r\n    if (fromMonth &lt;= toMonth) {\r\n        return discountMonth &gt;= fromMonth &amp;&amp; discountMonth &lt;= toMonth;\r\n    } else {\r\n        if (discountMonth &gt;= fromMonth || discountMonth &lt;= toMonth) {\r\n            return true;\r\n        } else {\r\n            if (discountMonth == Constants.JAN_MONTH &amp;&amp; toMonth == Constants.DEC_MONTH) {\r\n                return true;\r\n            }\r\n            if (discountMonth == Constants.DEC_MONTH &amp;&amp; fromMonth == Constants.JAN_MONTH) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n```\r\n\r\nThis logic handles the case when the start month is greater than the end month by considering the special cases of December (12) and January (1).\r\n\r\nTo handle the year generation logic based on the dataset, you can use the following approach:\r\n\r\n1. Get the start year from the `fromDate` object.\r\n2. Get the end year from the `toDate` object.\r\n3. Retrieve the `advance_start_month` and `advance_end_month` from the dataset.\r\n4. Check if the `advance_start_month` falls between October (10) and December (12) inclusive, and the start year is the same as the end year. If true, decrement the start year by 1.\r\n5. Check if the `advance_end_month` is less than the `advance_start_month`. If true, check if the `toDate` month is December (12) and increment the end year by 1.\r\n\r\nHere&#39;s an example implementation of the year generation logic:\r\n\r\n```java\r\nint startYear = fromDate.getYear();\r\nint endYear = toDate.getYear();\r\n\r\n// Get the advance_start_month from the DB iterating object of the start date\r\nint advanceStartMonth = ...; // Retrieve the value from the dataset\r\n\r\nif (advanceStartMonth &gt;= Constants.OCT_MONTH &amp;&amp; advanceStartMonth &lt;= Constants.DEC_MONTH &amp;&amp; startYear == endYear) {\r\n    startYear = startYear - 1;\r\n}\r\n\r\n// Get the advance_start_month and advance_end_month from the DB iterating object of the end date\r\nint advanceEndMonth = ...; // Retrieve the value from the dataset\r\n\r\nif (advanceEndMonth &lt; advanceStartMonth) {\r\n    if (toDate.getMonthValue() == Constants.DEC_MONTH) {\r\n        endYear = endYear + 1;\r\n    }\r\n}\r\n```\r\n\r\nBy following this approach, you can generate the correct start and end years for the `startDateGeneration` and `endDateGeneration` objects.\r\n\r\nPlease note that you need to retrieve the corresponding values from the dataset for `advance_start_month` and `advance_end_month` as mentioned in the code comments.\r\n\r\nI hope I&#39;ve understand the question correctly, it was hard to follow.","title":"Querying dates within months using only numerical values months","body":"<p>To handle the logic for <code>isInRange</code> when the start month is greater than the end month, you can modify the logic as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isInRange(LocalDate discountDate, Integer fromMonth, Integer toMonth) {\n    int discountYear = discountDate.getYear();\n    int discountMonth = discountDate.getMonthValue();\n\n    if (fromMonth &lt;= toMonth) {\n        return discountMonth &gt;= fromMonth &amp;&amp; discountMonth &lt;= toMonth;\n    } else {\n        if (discountMonth &gt;= fromMonth || discountMonth &lt;= toMonth) {\n            return true;\n        } else {\n            if (discountMonth == Constants.JAN_MONTH &amp;&amp; toMonth == Constants.DEC_MONTH) {\n                return true;\n            }\n            if (discountMonth == Constants.DEC_MONTH &amp;&amp; fromMonth == Constants.JAN_MONTH) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n<p>This logic handles the case when the start month is greater than the end month by considering the special cases of December (12) and January (1).</p>\n<p>To handle the year generation logic based on the dataset, you can use the following approach:</p>\n<ol>\n<li>Get the start year from the <code>fromDate</code> object.</li>\n<li>Get the end year from the <code>toDate</code> object.</li>\n<li>Retrieve the <code>advance_start_month</code> and <code>advance_end_month</code> from the dataset.</li>\n<li>Check if the <code>advance_start_month</code> falls between October (10) and December (12) inclusive, and the start year is the same as the end year. If true, decrement the start year by 1.</li>\n<li>Check if the <code>advance_end_month</code> is less than the <code>advance_start_month</code>. If true, check if the <code>toDate</code> month is December (12) and increment the end year by 1.</li>\n</ol>\n<p>Here's an example implementation of the year generation logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int startYear = fromDate.getYear();\nint endYear = toDate.getYear();\n\n// Get the advance_start_month from the DB iterating object of the start date\nint advanceStartMonth = ...; // Retrieve the value from the dataset\n\nif (advanceStartMonth &gt;= Constants.OCT_MONTH &amp;&amp; advanceStartMonth &lt;= Constants.DEC_MONTH &amp;&amp; startYear == endYear) {\n    startYear = startYear - 1;\n}\n\n// Get the advance_start_month and advance_end_month from the DB iterating object of the end date\nint advanceEndMonth = ...; // Retrieve the value from the dataset\n\nif (advanceEndMonth &lt; advanceStartMonth) {\n    if (toDate.getMonthValue() == Constants.DEC_MONTH) {\n        endYear = endYear + 1;\n    }\n}\n</code></pre>\n<p>By following this approach, you can generate the correct start and end years for the <code>startDateGeneration</code> and <code>endDateGeneration</code> objects.</p>\n<p>Please note that you need to retrieve the corresponding values from the dataset for <code>advance_start_month</code> and <code>advance_end_month</code> as mentioned in the code comments.</p>\n<p>I hope I've understand the question correctly, it was hard to follow.</p>\n"}],"owner":{"account_id":5635559,"reputation":1669,"user_id":4706252,"accept_rate":67,"display_name":"oldcode"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686943436,"creation_date":1684117518,"question_id":76250521,"body_markdown":"I have 2 date values and a set of rows which have a range defined as `discount_start_month` and `discount_end_month`. The current situation is that I only have month information as below, there is no year data to compare the input 2 dates values with these months.\r\n\r\n\r\nThe goal is to take the date and see in between which range of months they fall into. At any given point of time they may fall into any of `discount_code` \r\n\r\nFor Eg: A date 01 January 2022 would come under `DEC_JAN` row.\r\nA date 01 December 2021 would still come uder `DEC_JAN` row\r\n\r\n**Problem:**\r\n\r\n1. The problem statement is without year information how would you check in which range do the input dates lie ?\r\n2. Once I figure out (1), I need to generate 2 dates with the values `advance_start_month` and `advance_end_month`, so for the above it would be ,\r\n\r\n2 dates would be named as `startDateGeneration` and `endDateGeneration`\r\n\r\n`startDateGeneration` would be generated from the `discount_code`&#39;s `advance_start_month`,\r\n\r\n\r\nconsidering example 01 January 2022, the `startDateGeneration` would be generated from `DEC_JAN`&#39;s `advance_start_month` and `advance_end_month`\r\n\r\n\r\nday -&gt; first day of the month of October (from `advance_start_month`)\r\n\r\nMonth -&gt; October\r\n\r\nYear -&gt; Previous year \r\n\r\n\r\n`startDateGeneration` would be 01 October 2021\r\n\r\n\r\nSame for `endDateGeneration`, we would use the `advance_end_month`\r\nso it would be 01 January 2022\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInputs are **start date** and **end date**.\r\n\r\n\r\nCode to find the dates in range by iterating over the above dataset.\r\n\r\n\r\n    private static boolean isInRange(\r\n          LocalDate discountDate, Integer fromMonth, Integer toMonth) {\r\n        YearMonth fromMonthDiscount = YearMonth.of(discountDate.getYear(), fromMonth);\r\n        YearMonth toMonthDiscount = YearMonth.of(discountDate.getYear(), toMonth);\r\n        YearMonth yearMonthDiscountDate =\r\n            YearMonth.of(discountDate.getYear(), discountDate.getMonthValue());\r\n    \r\n        if (fromMonth &gt; toMonth) {\r\n          if (discountDate.getMonthValue() == Constants.DEC_MONTH) {\r\n            toMonthDiscount = YearMonth.of(discountDate.getYear() + 1, toMonth);\r\n          } else if (discountDate.getMonthValue() == Constants.JAN_MONTH) {\r\n            fromMonthDiscount = YearMonth.of(discountDate.getYear() - 1, fromMonth);\r\n          }\r\n        }\r\n    \r\n        return (yearMonthDiscountDate.isAfter(fromMonthDiscount)\r\n                || yearMonthDiscountDate.equals(fromMonthDiscount))\r\n            &amp;&amp; (yearMonthDiscountDate.isBefore(toMonthDiscount)\r\n                || yearMonthDiscountDate.equals(toMonthDiscount));\r\n      }\r\n   \r\n\r\n\r\nLogic to find the problem statement (2) part,\r\n\r\n\r\n     int startYear = fromDate.getYear();\r\n        int endYear = toDate.getYear();\r\n        \r\n        // Get the advance_start_month from the DB iterating object of the start date\r\n        int advanceStartMonth = ....\r\n        \r\n        if(advanceStartMonth &gt;= Constants.OCT_MONTH &amp;&amp;\r\n            advanceStartMonth &lt;= Constants.DEC_MONTH &amp;&amp;\r\n            startYear == endYear) {\r\n            startYear = startYear - 1;\r\n        }\r\n        \r\n        // Get the advance_start_month and advance_end_month from the DB iterating object of the end date  \r\n        int discountResultStartMonth = //.......\r\n            int discountResultEndMonth = //........\r\n        \r\n            if (discountResultStartMonth &gt; discountResultEndMonth) {\r\n                if (toDate.getMonthValue() == Constants.DEC_MONTH) {\r\n                    endYear = endYear + 1;\r\n                }\r\n            }\r\n\r\n\r\nLogic for forming the dates to generate a range out of these,\r\n\r\n`fromDateSeasonMap` -&gt; Dataset for 1 row from the above dataset(for start date)\r\n`toDateSeasonMap` -&gt; Dataset for 1 row from the above dataset(for end date)\r\n\r\n    LocalDate startDateGeneration =\r\n              fromDate\r\n                  .withMonth((Integer) fromDateSeasonMap.get(Constants.ADVANCE_START_MONTH))\r\n                  .withYear(startYear);\r\n          LocalDate endDateGeneration =\r\n              toDate\r\n                  .withMonth((Integer) toDateSeasonMap.get(Constants.ADVANCE_END_MONTH))\r\n                  .withYear(endYear)\r\n                  .withDayOfMonth(\r\n                      YearMonth.of(endYear, (Integer) toDateSeasonMap.get(Constants.ADVANCE_END_MONTH))\r\n                          .atEndOfMonth()\r\n                          .getDayOfMonth());\r\n\r\nNotes:\r\n\r\n1. At any given point of time there would be no overlapping months in the dataset.\r\n2. Only Months numerical data is present.\r\n3. There would be no values greater than 12 as there are only 12 months in a year.\r\n\r\n\r\nExpected Input and output\r\n\r\n    Begin Input\r\n    Start Date: 2023-08-01\r\n    End Date: 2023-10-01\r\n    startDateGeneration: 2023-06-01\r\n    endDateGeneration: 2023-11-30\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-09-01\r\n    End Date: 2023-12-01\r\n    startDateGeneration: 2023-07-01\r\n    endDateGeneration: 2024-01-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-01-30\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-11-30\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-01-30\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-11-30\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2022-10-30\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-08-30\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2022-08-30\r\n    End Date: 2022-10-01\r\n    startDateGeneration: 2022-06-30\r\n    endDateGeneration: 2022-12-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2022-08-30\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-06-30\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-04-30\r\n    End Date: 2023-07-01\r\n    startDateGeneration: 2023-02-28\r\n    endDateGeneration: 2023-07-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-06-30\r\n    End Date: 2023-07-01\r\n    startDateGeneration: 2023-04-30\r\n    endDateGeneration: 2023-07-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-08-30\r\n    End Date: 2023-10-01\r\n    startDateGeneration: 2023-06-30\r\n    endDateGeneration: 2023-12-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-10-30\r\n    End Date: 2024-01-01\r\n    startDateGeneration: 2023-08-30\r\n    endDateGeneration: 2024-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2022-12-30\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-10-30\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-01-30\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-10-30\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2022-10-01\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-07-01\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2022-12-01\r\n    End Date: 2023-02-01\r\n    startDateGeneration: 2022-10-01\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-02-01\r\n    End Date: 2023-04-01\r\n    startDateGeneration: 2022-12-01\r\n    endDateGeneration: 2023-05-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-02-01\r\n    End Date: 2023-03-01\r\n    startDateGeneration: 2022-12-01\r\n    endDateGeneration: 2023-03-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-04-30\r\n    End Date: 2023-06-01\r\n    startDateGeneration: 2023-02-28\r\n    endDateGeneration: 2023-07-31\r\n    ===================================\r\n    Begin Input\r\n    Start Date: 2023-06-30\r\n    End Date: 2023-08-01\r\n    startDateGeneration: 2023-04-30\r\n    endDateGeneration: 2023-08-31\r\n    ===================================\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uO4nG.png\r\n  [2]: https://i.stack.imgur.com/z5c1i.png\r\n","title":"Querying dates within months using only numerical values months","body":"<p>I have 2 date values and a set of rows which have a range defined as <code>discount_start_month</code> and <code>discount_end_month</code>. The current situation is that I only have month information as below, there is no year data to compare the input 2 dates values with these months.</p>\n<p>The goal is to take the date and see in between which range of months they fall into. At any given point of time they may fall into any of <code>discount_code</code></p>\n<p>For Eg: A date 01 January 2022 would come under <code>DEC_JAN</code> row.\nA date 01 December 2021 would still come uder <code>DEC_JAN</code> row</p>\n<p><strong>Problem:</strong></p>\n<ol>\n<li>The problem statement is without year information how would you check in which range do the input dates lie ?</li>\n<li>Once I figure out (1), I need to generate 2 dates with the values <code>advance_start_month</code> and <code>advance_end_month</code>, so for the above it would be ,</li>\n</ol>\n<p>2 dates would be named as <code>startDateGeneration</code> and <code>endDateGeneration</code></p>\n<p><code>startDateGeneration</code> would be generated from the <code>discount_code</code>'s <code>advance_start_month</code>,</p>\n<p>considering example 01 January 2022, the <code>startDateGeneration</code> would be generated from <code>DEC_JAN</code>'s <code>advance_start_month</code> and <code>advance_end_month</code></p>\n<p>day -&gt; first day of the month of October (from <code>advance_start_month</code>)</p>\n<p>Month -&gt; October</p>\n<p>Year -&gt; Previous year</p>\n<p><code>startDateGeneration</code> would be 01 October 2021</p>\n<p>Same for <code>endDateGeneration</code>, we would use the <code>advance_end_month</code>\nso it would be 01 January 2022</p>\n<p><a href=\"https://i.stack.imgur.com/uO4nG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uO4nG.png\" alt=\"enter image description here\" /></a></p>\n<p>Inputs are <strong>start date</strong> and <strong>end date</strong>.</p>\n<p>Code to find the dates in range by iterating over the above dataset.</p>\n<pre><code>private static boolean isInRange(\n      LocalDate discountDate, Integer fromMonth, Integer toMonth) {\n    YearMonth fromMonthDiscount = YearMonth.of(discountDate.getYear(), fromMonth);\n    YearMonth toMonthDiscount = YearMonth.of(discountDate.getYear(), toMonth);\n    YearMonth yearMonthDiscountDate =\n        YearMonth.of(discountDate.getYear(), discountDate.getMonthValue());\n\n    if (fromMonth &gt; toMonth) {\n      if (discountDate.getMonthValue() == Constants.DEC_MONTH) {\n        toMonthDiscount = YearMonth.of(discountDate.getYear() + 1, toMonth);\n      } else if (discountDate.getMonthValue() == Constants.JAN_MONTH) {\n        fromMonthDiscount = YearMonth.of(discountDate.getYear() - 1, fromMonth);\n      }\n    }\n\n    return (yearMonthDiscountDate.isAfter(fromMonthDiscount)\n            || yearMonthDiscountDate.equals(fromMonthDiscount))\n        &amp;&amp; (yearMonthDiscountDate.isBefore(toMonthDiscount)\n            || yearMonthDiscountDate.equals(toMonthDiscount));\n  }\n</code></pre>\n<p>Logic to find the problem statement (2) part,</p>\n<pre><code> int startYear = fromDate.getYear();\n    int endYear = toDate.getYear();\n    \n    // Get the advance_start_month from the DB iterating object of the start date\n    int advanceStartMonth = ....\n    \n    if(advanceStartMonth &gt;= Constants.OCT_MONTH &amp;&amp;\n        advanceStartMonth &lt;= Constants.DEC_MONTH &amp;&amp;\n        startYear == endYear) {\n        startYear = startYear - 1;\n    }\n    \n    // Get the advance_start_month and advance_end_month from the DB iterating object of the end date  \n    int discountResultStartMonth = //.......\n        int discountResultEndMonth = //........\n    \n        if (discountResultStartMonth &gt; discountResultEndMonth) {\n            if (toDate.getMonthValue() == Constants.DEC_MONTH) {\n                endYear = endYear + 1;\n            }\n        }\n</code></pre>\n<p>Logic for forming the dates to generate a range out of these,</p>\n<p><code>fromDateSeasonMap</code> -&gt; Dataset for 1 row from the above dataset(for start date)\n<code>toDateSeasonMap</code> -&gt; Dataset for 1 row from the above dataset(for end date)</p>\n<pre><code>LocalDate startDateGeneration =\n          fromDate\n              .withMonth((Integer) fromDateSeasonMap.get(Constants.ADVANCE_START_MONTH))\n              .withYear(startYear);\n      LocalDate endDateGeneration =\n          toDate\n              .withMonth((Integer) toDateSeasonMap.get(Constants.ADVANCE_END_MONTH))\n              .withYear(endYear)\n              .withDayOfMonth(\n                  YearMonth.of(endYear, (Integer) toDateSeasonMap.get(Constants.ADVANCE_END_MONTH))\n                      .atEndOfMonth()\n                      .getDayOfMonth());\n</code></pre>\n<p>Notes:</p>\n<ol>\n<li>At any given point of time there would be no overlapping months in the dataset.</li>\n<li>Only Months numerical data is present.</li>\n<li>There would be no values greater than 12 as there are only 12 months in a year.</li>\n</ol>\n<p>Expected Input and output</p>\n<pre><code>Begin Input\nStart Date: 2023-08-01\nEnd Date: 2023-10-01\nstartDateGeneration: 2023-06-01\nendDateGeneration: 2023-11-30\n===================================\nBegin Input\nStart Date: 2023-09-01\nEnd Date: 2023-12-01\nstartDateGeneration: 2023-07-01\nendDateGeneration: 2024-01-31\n===================================\nBegin Input\nStart Date: 2023-01-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-11-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-01-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-11-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-10-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-08-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-08-30\nEnd Date: 2022-10-01\nstartDateGeneration: 2022-06-30\nendDateGeneration: 2022-12-31\n===================================\nBegin Input\nStart Date: 2022-08-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-06-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-04-30\nEnd Date: 2023-07-01\nstartDateGeneration: 2023-02-28\nendDateGeneration: 2023-07-31\n===================================\nBegin Input\nStart Date: 2023-06-30\nEnd Date: 2023-07-01\nstartDateGeneration: 2023-04-30\nendDateGeneration: 2023-07-31\n===================================\nBegin Input\nStart Date: 2023-08-30\nEnd Date: 2023-10-01\nstartDateGeneration: 2023-06-30\nendDateGeneration: 2023-12-31\n===================================\nBegin Input\nStart Date: 2023-10-30\nEnd Date: 2024-01-01\nstartDateGeneration: 2023-08-30\nendDateGeneration: 2024-03-31\n===================================\nBegin Input\nStart Date: 2022-12-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-10-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-01-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-10-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-10-01\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-07-01\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-12-01\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-10-01\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-02-01\nEnd Date: 2023-04-01\nstartDateGeneration: 2022-12-01\nendDateGeneration: 2023-05-31\n===================================\nBegin Input\nStart Date: 2023-02-01\nEnd Date: 2023-03-01\nstartDateGeneration: 2022-12-01\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-04-30\nEnd Date: 2023-06-01\nstartDateGeneration: 2023-02-28\nendDateGeneration: 2023-07-31\n===================================\nBegin Input\nStart Date: 2023-06-30\nEnd Date: 2023-08-01\nstartDateGeneration: 2023-04-30\nendDateGeneration: 2023-08-31\n===================================\n</code></pre>\n"},{"tags":["java","csv","date","datetime","timestamp"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686916632,"post_id":76489586,"comment_id":134867803,"body_markdown":"With which API?","body":"With which API?"},{"owner":{"account_id":3963817,"reputation":1269,"user_id":3270329,"accept_rate":80,"display_name":"KVK"},"score":0,"creation_date":1686916793,"post_id":76489586,"comment_id":134867847,"body_markdown":"@g00se with opencsv","body":"@g00se with opencsv"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686917333,"post_id":76489586,"comment_id":134867951,"body_markdown":"Version number please","body":"Version number please"},{"owner":{"account_id":3963817,"reputation":1269,"user_id":3270329,"accept_rate":80,"display_name":"KVK"},"score":0,"creation_date":1686917964,"post_id":76489586,"comment_id":134868083,"body_markdown":"@g00se 3.8 version","body":"@g00se 3.8 version"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686919140,"post_id":76489586,"comment_id":134868340,"body_markdown":"Shall look if I have time. You know you have a missing double quote above?","body":"Shall look if I have time. You know you have a missing double quote above?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686922197,"post_id":76489586,"comment_id":134869013,"body_markdown":"Fine for me with 5.7.1. It might be something else doing that to your data","body":"Fine for me with 5.7.1. It might be something else doing that to your data"}],"owner":{"account_id":3963817,"reputation":1269,"user_id":3270329,"accept_rate":80,"display_name":"KVK"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686943408,"creation_date":1686913661,"question_id":76489586,"body_markdown":"I am trying to write CSV file with SQL time stamp value with the below formate \r\n\r\n    @CsvDate(&quot;yyyy-MM-dd HH:mm:ss a&quot;)\r\n    private Timestamp inDate;\r\n\r\nBut while writing into CSV file which ever hours are less then 12, format automatically changed to **(m/dd/yyyy HH:mm:ss) ex 4/26/2023 10:14:52 AM)** \r\n\r\nIf date above 12 hrs format is happening correctly\r\n**Ex: 2023-04-22 14:14:52 PM** \r\n\r\nCan anyone help me to fix this issue\r\n","title":"CsvDate format issue","body":"<p>I am trying to write CSV file with SQL time stamp value with the below formate</p>\n<pre><code>@CsvDate(&quot;yyyy-MM-dd HH:mm:ss a&quot;)\nprivate Timestamp inDate;\n</code></pre>\n<p>But while writing into CSV file which ever hours are less then 12, format automatically changed to <strong>(m/dd/yyyy HH:mm:ss) ex 4/26/2023 10:14:52 AM)</strong></p>\n<p>If date above 12 hrs format is happening correctly\n<strong>Ex: 2023-04-22 14:14:52 PM</strong></p>\n<p>Can anyone help me to fix this issue</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1686115079,"post_id":76420034,"comment_id":134753054,"body_markdown":"Check your dependencies, maybe there is a chance that you have two versions of the same library, where should be this class that is producing error. So maybe when IDEA is compiling code it is taking version of lib without class, and maven is taking correct one","body":"Check your dependencies, maybe there is a chance that you have two versions of the same library, where should be this class that is producing error. So maybe when IDEA is compiling code it is taking version of lib without class, and maven is taking correct one"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1686117129,"post_id":76420034,"comment_id":134753240,"body_markdown":"`target.classes.com.udacity.webcrawler.IgnoredUrls` looks like you&#39;re confusing package structure with maven file layout.","body":"<code>target.classes.com.udacity.webcrawler.IgnoredUrls</code> looks like you&#39;re confusing package structure with maven file layout."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1686121383,"post_id":76420034,"comment_id":134753899,"body_markdown":"Please pull src code on Github and help me to check whether im wrong somewhere","body":"Please pull src code on Github and help me to check whether im wrong somewhere"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686152495,"post_id":76420034,"comment_id":134760866,"body_markdown":"I cloned your repo, ran `mvn test` (in Eclpse, embedded Maven 3.8.7) and got the same error an other class: `Caused by: java.lang.ClassNotFoundException: target.classes.com.udacity.webcrawler.json.ConfigurationLoader`: https://gist.github.com/gerib/7dc26411c1195ecfbcc4ff50ff3a7071.","body":"I cloned your repo, ran <code>mvn test</code> (in Eclpse, embedded Maven 3.8.7) and got the same error an other class: <code>Caused by: java.lang.ClassNotFoundException: target.classes.com.udacity.webcrawler.json.ConfigurationLoad&zwnj;&#8203;er</code>: <a href=\"https://gist.github.com/gerib/7dc26411c1195ecfbcc4ff50ff3a7071\" rel=\"nofollow noreferrer\">gist.github.com/gerib/7dc26411c1195ecfbcc4ff50ff3a7071</a>."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686152943,"post_id":76420034,"comment_id":134760959,"body_markdown":"If I run _JUnit Test_ on `ProfilerImplTest` in Eclipse everything&#39;s fine.","body":"If I run <i>JUnit Test</i> on <code>ProfilerImplTest</code> in Eclipse everything&#39;s fine."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686155939,"post_id":76420034,"comment_id":134761569,"body_markdown":"Can it be that the tests (functions) are not completely self-contained so that execution order matters? To rule that out I&#39;d try to use the same [`@Order(n)`](https://junit.org/junit5/docs/5.8.2/api/org.junit.jupiter.api/org/junit/jupiter/api/Order.html) as they are run in the IDE successfully.","body":"Can it be that the tests (functions) are not completely self-contained so that execution order matters? To rule that out I&#39;d try to use the same <a href=\"https://junit.org/junit5/docs/5.8.2/api/org.junit.jupiter.api/org/junit/jupiter/api/Order.html\" rel=\"nofollow noreferrer\"><code>@Order(n)</code></a> as they are run in the IDE successfully."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686160623,"post_id":76420034,"comment_id":134762531,"body_markdown":"I tried it. Order doesn&#39;t  matter. Since (as @AntonTokmakov above) I&#39;m also irritated by this `target.classes.com.udacity.webcrawler` package I ran `mvn test -X`: `[DEBUG] Configuring mojo &#39;org.apache.maven.plugins:maven-surefire-plugin:3.1.0:test&#39; with basic configurator`\\n`[DEBUG]   (f) classesDirectory = /home/geri/dev/so.eclipse.wksp/so-76420034-java-unit-test/target/classes` looks OK. Then I tried different versions of the Surefire plugin (3.1.2, 3.0.0, 2.22.2), to no avail. ...cont&#39;d...","body":"I tried it. Order doesn&#39;t  matter. Since (as @AntonTokmakov above) I&#39;m also irritated by this <code>target.classes.com.udacity.webcrawler</code> package I ran <code>mvn test -X</code>: <code>[DEBUG] Configuring mojo &#39;org.apache.maven.plugins:maven-surefire-plugin:3.1.0:test&#39; with basic configurator</code>\\n<code>[DEBUG]   (f) classesDirectory = &#47;home&#47;geri&#47;dev&#47;so.eclipse.wksp&#47;so-76420034-java-unit-test&#47;ta&zwnj;&#8203;rget&#47;classes</code> looks OK. Then I tried different versions of the Surefire plugin (3.1.2, 3.0.0, 2.22.2), to no avail. ...cont&#39;d..."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686163716,"post_id":76420034,"comment_id":134763055,"body_markdown":"Then I ran `mvn test -Dmaven.surefire.debug` in the shell with a conditional breakpoint in Eclipse at `WebCrawlerServiceLocator:55`: `info.getPackageName().startsWith(&quot;target&quot;)`...and....really, it came to `className: &quot;target.classes.com.udacity.webcrawler.json.ConfigurationLoader&quot;`. ...cont&#39;d...","body":"Then I ran <code>mvn test -Dmaven.surefire.debug</code> in the shell with a conditional breakpoint in Eclipse at <code>WebCrawlerServiceLocator:55</code>: <code>info.getPackageName().startsWith(&quot;target&quot;)</code>...and....really, it came to <code>className: &quot;target.classes.com.udacity.webcrawler.json.ConfigurationLoa&zwnj;&#8203;der&quot;</code>. ...cont&#39;d..."}],"answers":[{"comments":[{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":1,"creation_date":1686371304,"post_id":76426292,"comment_id":134793108,"body_markdown":"Thank you so much","body":"Thank you so much"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1686371324,"post_id":76426292,"comment_id":134793111,"body_markdown":"What is your github username/email?","body":"What is your github username/email?"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686376601,"post_id":76426292,"comment_id":134793404,"body_markdown":"@SoT The last link in my answer points to my GL page.","body":"@SoT The last link in my answer points to my GL page."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":1,"creation_date":1686400109,"post_id":76426292,"comment_id":134795246,"body_markdown":"I added you to my repo","body":"I added you to my repo"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686409906,"post_id":76426292,"comment_id":134796330,"body_markdown":"@SoT Did you give me write access to the repo, too? Because: https://imgur.com/VD2vB5Q.png.","body":"@SoT Did you give me write access to the repo, too? Because: <a href=\"https://imgur.com/VD2vB5Q.png\" rel=\"nofollow noreferrer\">imgur.com/VD2vB5Q.png</a>."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":1,"creation_date":1686496044,"post_id":76426292,"comment_id":134803289,"body_markdown":"You have to accept my invitation first (check your email)","body":"You have to accept my invitation first (check your email)"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686501417,"post_id":76426292,"comment_id":134803922,"body_markdown":"@SoT There&#39;s a link &quot;[accept or decline](https://github.com/anaconda875/udacity-webcrawler/invitations)&quot; in the e-mail but I do not see anything like _accept invitation_ when following it....and: https://imgur.com/jnVSa6s.png.","body":"@SoT There&#39;s a link &quot;<a href=\"https://github.com/anaconda875/udacity-webcrawler/invitations\" rel=\"nofollow noreferrer\">accept or decline</a>&quot; in the e-mail but I do not see anything like <i>accept invitation</i> when following it....and: <a href=\"https://imgur.com/jnVSa6s.png\" rel=\"nofollow noreferrer\">imgur.com/jnVSa6s.png</a>."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":1,"creation_date":1686555715,"post_id":76426292,"comment_id":134808900,"body_markdown":"Thank you so much for your effort. It&#39;s so appreciable. Let me do the rest","body":"Thank you so much for your effort. It&#39;s so appreciable. Let me do the rest"}],"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686942164,"creation_date":1686164122,"answer_id":76426292,"question_id":76420034,"body_markdown":"After the actions in the comments to the question I:\r\n\r\n* added `.peek(System.out::println)` prior to (line 52) `filter(classInfo -&gt; ...)` in `WebCrawlerServiceLocator`,\r\n* ran `mvn test -Dmaven.surefire.debug &gt; mvn-test.out` and\r\n* on line 5617 therein there was `target.classes.com.udacity.webcrawler.json.ConfigurationLoader` followed by the error mentioned in the question and its comments:\r\n\r\n````\r\n...\r\ntarget.classes.com.udacity.webcrawler.json.ConfigurationLoader\r\n[ERROR] Tests run: 8, Failures: 0, Errors: 8, Skipped: 0, Time elapsed: 0.84 s &lt;&lt;&lt; FAILURE! - in com.udacity.webcrawler.profiler.ProfilerImplTest\r\n[ERROR] delegateHasNoMethodsAnnotated  Time elapsed: 0.008 s  &lt;&lt;&lt; ERROR!\r\njava.lang.ExceptionInInitializerError\r\n\tat com.udacity.webcrawler.service.ServiceLocator.webCrawlerLocator(ServiceLocator.java:13)\r\n\tat com.udacity.webcrawler.profiler.ProfilerImpl.&lt;init&gt;(ProfilerImpl.java:34)\r\n\tat com.udacity.webcrawler.profiler.ProfilerImplTest.&lt;init&gt;(ProfilerImplTest.java:27)\r\n    ...\r\n````\r\n\r\nSo, apparently [`ImmutableSet&lt;ClassInfo&gt; com.google.common.reflect.ClassPath.getAllClasses()`][gac] takes Maven&#39;s `${project.basedir}` as class path entry. The problem is:\r\n\r\n* that you can&#39;t simply strip `target/classes/` from `packageName` in `map(info -&gt; { ... })` since [`ClassPath.ClassInfo`][cpci-doc] has no setters\r\n* and it has a constructor [`ClassInfo(File file, String resourceName, ClassLoader loader)`][cpci-src] but with default (package) access only.\r\n\r\nAnyway, [`ClassPath`&#39;s javadoc][cp] mentions at the very beginning:\r\n\r\n&gt; ## Prefer [ClassGraph][cg] over `ClassPath`\r\n\r\n### UPDATE\r\n\r\nOut of curiosity I implemented the usage of _ClassGraph_ (which perhaps is even more performant since it has `classInfo.hasAnnotation(...)` which lets you keep only those `ClassInfo`s you&#39;re interested in before they are transformed into `Class`es in `map(...)` ):\r\n\r\n#### POM\r\n```\r\n\t\t...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.160&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t...\r\n```\r\n### `WebCrawlerServiceLocator`\r\n```\r\n...\r\nimport static java.lang.System.out;\r\n...\r\nimport io.github.classgraph.ClassGraph;\r\n...\r\nprivate static final Class&lt;? extends Annotation&gt; WRAPPED = Wrapped.class;\r\n...\r\n\t@Override\r\n\tpublic Collection&lt;Class&lt;?&gt;&gt; locateService() {\r\n\r\n\t\ttry {\r\n\t\t\treturn new HashSet&lt;&gt;( ClassPath.from( ClassLoader.getSystemClassLoader() ).getAllClasses().stream()\r\n\t\t\t\t\t.filter( classInfo -&gt; !classInfo.getName().equals( &quot;module-info&quot; ) || !classInfo.getName().equals( &quot;package-info&quot; ) )\r\n\t\t\t\t\t//.peek( out::println )\r\n\t\t\t\t\t.map( classInfo -&gt; {\r\n\t\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\t\t//if ( classInfo.getName().contains( &quot;com.udacity&quot; ) )\r\n\t\t\t\t\t\t\t//\tout.printf( &quot;--&gt; name: %s%n--&gt; cp: %s%n%n&quot;,\r\n\t\t\t\t\t\t\t//\t\tclassInfo.getName(), System.getProperty( &quot;java.class.path&quot; ) );\r\n\r\n\t\t\t\t\t\t\treturn classInfo.load();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch ( Error | Exception e ) {\r\n\t\t\t\t\t\t\tout.printf( &quot;--&gt; %s --&gt; return null%n&quot;, e );\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} ) // map(...)\r\n\t\t\t\t\t//.peek( out::println )\r\n\t\t\t\t\t.filter( Objects::nonNull )\r\n\t\t\t\t\t.filter( clazz -&gt; clazz.isAnnotationPresent( WRAPPED ) )\r\n\t\t\t\t\t.toList() ); // HashSet&lt;&gt;(...)\r\n\t\t}\r\n\t\tcatch ( IOException e ) {\r\n\t\t\tout.printf( &quot;--&gt; %s%n--&gt; return empty list%n&quot;, e );\r\n\t\t\treturn Collections.emptyList();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Collection&lt;Class&lt;?&gt;&gt; locateService2() {\r\n\r\n\t\ttry {\r\n\t\t\treturn new HashSet&lt;Class&lt;?&gt;&gt;(\r\n\t\t\t\t\tnew ClassGraph().enableAllInfo().scan().getAllClasses().stream()\r\n\t\t\t\t\t\t\t.filter( classInfo -&gt; !classInfo.getName().equals( &quot;module-info&quot; ) || !classInfo.getName().equals( &quot;package-info&quot; ) )\r\n\t\t\t\t\t\t\t//.peek( out::println )\r\n\t\t\t\t\t\t\t.filter( classInfo -&gt; classInfo.hasAnnotation( WRAPPED ) )\r\n\t\t\t\t\t\t\t.map( classInfo -&gt; {\r\n\t\t\t\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\t\t\t\t//if ( classInfo.getName().contains( &quot;com.udacity&quot; ) )\r\n\t\t\t\t\t\t\t\t\t//\tout.printf( &quot;--&gt; name: %s%n--&gt; cp: %s%n%n&quot;,\r\n\t\t\t\t\t\t\t\t\t//\t\tclassInfo.getName(), System.getProperty( &quot;java.class.path&quot; ) );\r\n\r\n\t\t\t\t\t\t\t\t\treturn classInfo.loadClass();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcatch ( Error | Exception e ) {\r\n\t\t\t\t\t\t\t\t\tout.printf( &quot;--&gt; %s --&gt; return null%n&quot;, e );\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} ) // map(...\r\n\t\t\t\t\t\t\t//.peek( out::println )\r\n\t\t\t\t\t\t\t.filter( Objects::nonNull )\r\n\t\t\t\t\t\t\t.toList() ); // HashSet&lt;&gt;(...)\r\n\t\t}\r\n\t\t// with IOException compile error: &quot;Unreachable catch block for IOException. This exception is never thrown from the try statement body&quot;\r\n\t\tcatch ( /*IO*/ Exception e ) {\r\n\t\t\tout.printf( &quot;--&gt; %s%n--&gt; return empty list%n&quot;, e );\r\n\t\t\treturn Collections.emptyList();\r\n\t\t}\r\n\t}\r\n...\r\n```\r\nBTW, with the `INSTANCE` and `getInstance()` members this class looks like intended to be a Singleton at first sight. But it isn&#39;t. Since there&#39;s `return new WebCrawlerServiceLocator( true );` in `getInstance()`. That might confuse readers/users of this class (without any Javadoc in addition). I&#39;d complain about that in a code review, about both.\r\n\r\n### `WebCrawlerServiceLocatorTest`\r\n```\r\npackage com.udacity.webcrawler.service;\r\n\r\nimport static java.lang.System.out;\r\nimport static org.junit.Assert.assertFalse;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.util.Collection;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic final class WebCrawlerServiceLocatorTest {\r\n\r\n\tprivate static final int CLASS_COUNT = 3;\r\n\r\n\t@Test\r\n\tpublic void locateServiceWithTest_NotEmpty() {\r\n\r\n\t\tServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( true );\r\n\t\tCollection&lt;Class&lt;?&gt;&gt; classes = locator.locateService();\r\n\t\tout.printf( &quot;### locateService(): classes collection contains %d classes: %s %n&quot;,\r\n\t\t\t\tclasses.size(), classes.toString() );\r\n\t\tassertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\r\n\t\tassertEquals( CLASS_COUNT, classes.size() );\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void locateServiceWithoutTest_NotEmpty() {\r\n\r\n\t\tServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( false );\r\n\t\tCollection&lt;Class&lt;?&gt;&gt; classes = locator.locateService();\r\n\t\tout.printf( &quot;### locateService(): classes collection contains %d classes: %s %n&quot;,\r\n\t\t\t\tclasses.size(), classes.toString() );\r\n\t\tassertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\r\n\t\tassertEquals( CLASS_COUNT, classes.size() );\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void locateServiceWithTest2_NotEmpty() {\r\n\r\n\t\t//ServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( true ); // compile error\r\n\t\t// ServiceLocator has no locateService2(), hence using the following for the time being:\r\n\t\tWebCrawlerServiceLocator locator = (WebCrawlerServiceLocator) WebCrawlerServiceLocator.getInstance( true );\r\n\r\n\t\tCollection&lt;Class&lt;?&gt;&gt; classes = locator.locateService2();\r\n\t\tout.printf( &quot;### locateService2(): classes collection contains %d classes: %s %n&quot;,\r\n\t\t\t\tclasses.size(), classes.toString() );\r\n\t\tassertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void locateServiceWithoutTest2_NotEmpty() {\r\n\r\n\t\t//ServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( false ); // compile error\r\n\t\t// , ServiceLocator has no locateService2(), hence using the following for the time being:\r\n\t\tWebCrawlerServiceLocator locator = (WebCrawlerServiceLocator) WebCrawlerServiceLocator.getInstance( false );\r\n\r\n\t\tCollection&lt;Class&lt;?&gt;&gt; classes = locator.locateService2();\r\n\t\tout.printf( &quot;### locateService2(): classes collection contains %d classes: %s %n&quot;,\r\n\t\t\t\tclasses.size(), classes.toString() );\r\n\t\tassertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\r\n\t}\r\n\r\n}\r\n```\r\n### `mvn test`\r\n```\r\n...\r\n[INFO] --- surefire:3.1.2:test (default-test) @ udacity-webcrawler ---\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n[INFO]\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running com.udacity.webcrawler.json.ConfigurationLoaderTest\r\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.191 s -- in com.udacity.webcrawler.json.ConfigurationLoaderTest\r\n[INFO] Running com.udacity.webcrawler.json.CrawlResultWriterTest\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 s -- in com.udacity.webcrawler.json.CrawlResultWriterTest\r\n[INFO] Running com.udacity.webcrawler.parser.PageParserImplTest\r\n[ERROR] Tests run: 2, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.093 s &lt;&lt;&lt; FAILURE! -- in com.udacity.webcrawler.parser.PageParserImplTest\r\n...\r\n[INFO] Running com.udacity.webcrawler.profiler.ProfilerImplTest\r\n[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.906 s -- in com.udacity.webcrawler.profiler.ProfilerImplTest\r\n[INFO] Running com.udacity.webcrawler.service.WebCrawlerServiceLocatorTest\r\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.724 s -- in com.udacity.webcrawler.service.WebCrawlerServiceLocatorTest\r\n[INFO] Running com.udacity.webcrawler.WordCountsTest\r\n[ERROR] Tests run: 2, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.011 s &lt;&lt;&lt; FAILURE! -- in com.udacity.webcrawler.WordCountsTest\r\n...\r\n[INFO] Running com.udacity.webcrawler.ParallelWebCrawlerTest\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.067 s -- in com.udacity.webcrawler.ParallelWebCrawlerTest\r\n[INFO] Running com.udacity.webcrawler.SequentialWebCrawlerTest\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 s -- in com.udacity.webcrawler.SequentialWebCrawlerTest\r\n[INFO] Running com.udacity.webcrawler.WebCrawlerTest\r\n[ERROR] Tests run: 22, Failures: 14, Errors: 0, Skipped: 0, Time elapsed: 0.221 s &lt;&lt;&lt; FAILURE! -- in com.udacity.webcrawler.WebCrawlerTest\r\n...\r\n[ERROR] Tests run: 53, Failures: 18, Errors: 0, Skipped: 0\r\n...\r\n```\r\n\r\nSo, the tests run, at least. They &quot;just&quot; fail due to failing assertions.\r\n\r\nAnd, BTW, I&#39;d not introduce an extra `/src/test/data` dir. I&#39;d use `/src/test/resources` because that&#39;s what it is for – Convention over Configuration. Such you can use `AnyTest.class.getClassLoader().getResource(&quot;path-relative-to-resources-dir/file.name&quot;)` in your tests and avoid having to define `&lt;testDataDir&gt;` in your POM and, more important, to define `-DtestDataDir=...` as VM argument when running unit tests from within your IDE. And you can use [resource filtering][filter] (which is string interpolation, in fact), a powerful feature.\r\n\r\nIf you grant me [access on GitHub][gerib] I can push a branch with all the changes.\r\n\r\n## UPDATE\r\n\r\nThe original `webCrawlerServiceLocator.locateService()` works now, too. I think that&#39;s because I declared only the following for JUnit in the POM:\r\n```\r\n\t...\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.9.3&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t...\r\n\t&lt;dependencies&gt;\r\n\t\t...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t...\r\n```\r\n\r\nSo, it seems that incompatibilities between JUnit dependencies (in a certain version) and Maven&#39;s Surefire plugin (in a certain version) might have caused the original issue.\r\n\r\n[gac]: https://guava.dev/releases/snapshot/api/docs/com/google/common/reflect/ClassPath.html#getAllClasses()\r\n[cpci-doc]: https://guava.dev/releases/snapshot/api/docs/com/google/common/reflect/ClassPath.ClassInfo.html\r\n[cpci-src]: https://github.com/google/guava/blob/master/guava/src/com/google/common/reflect/ClassPath.java#L303\r\n[cg]: https://github.com/classgraph/classgraph/wiki\r\n[cp]: https://guava.dev/releases/snapshot/api/docs/com/google/common/reflect/ClassPath.html\r\n[gerib]: https://github.com/gerib\r\n[filter]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"Java unit test run successfully on Intellij but fail on maven","body":"<p>After the actions in the comments to the question I:</p>\n<ul>\n<li>added <code>.peek(System.out::println)</code> prior to (line 52) <code>filter(classInfo -&gt; ...)</code> in <code>WebCrawlerServiceLocator</code>,</li>\n<li>ran <code>mvn test -Dmaven.surefire.debug &gt; mvn-test.out</code> and</li>\n<li>on line 5617 therein there was <code>target.classes.com.udacity.webcrawler.json.ConfigurationLoader</code> followed by the error mentioned in the question and its comments:</li>\n</ul>\n<pre><code>...\ntarget.classes.com.udacity.webcrawler.json.ConfigurationLoader\n[ERROR] Tests run: 8, Failures: 0, Errors: 8, Skipped: 0, Time elapsed: 0.84 s &lt;&lt;&lt; FAILURE! - in com.udacity.webcrawler.profiler.ProfilerImplTest\n[ERROR] delegateHasNoMethodsAnnotated  Time elapsed: 0.008 s  &lt;&lt;&lt; ERROR!\njava.lang.ExceptionInInitializerError\n    at com.udacity.webcrawler.service.ServiceLocator.webCrawlerLocator(ServiceLocator.java:13)\n    at com.udacity.webcrawler.profiler.ProfilerImpl.&lt;init&gt;(ProfilerImpl.java:34)\n    at com.udacity.webcrawler.profiler.ProfilerImplTest.&lt;init&gt;(ProfilerImplTest.java:27)\n    ...\n</code></pre>\n<p>So, apparently <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/reflect/ClassPath.html#getAllClasses()\" rel=\"nofollow noreferrer\"><code>ImmutableSet&lt;ClassInfo&gt; com.google.common.reflect.ClassPath.getAllClasses()</code></a> takes Maven's <code>${project.basedir}</code> as class path entry. The problem is:</p>\n<ul>\n<li>that you can't simply strip <code>target/classes/</code> from <code>packageName</code> in <code>map(info -&gt; { ... })</code> since <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/reflect/ClassPath.ClassInfo.html\" rel=\"nofollow noreferrer\"><code>ClassPath.ClassInfo</code></a> has no setters</li>\n<li>and it has a constructor <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/reflect/ClassPath.java#L303\" rel=\"nofollow noreferrer\"><code>ClassInfo(File file, String resourceName, ClassLoader loader)</code></a> but with default (package) access only.</li>\n</ul>\n<p>Anyway, <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/reflect/ClassPath.html\" rel=\"nofollow noreferrer\"><code>ClassPath</code>'s javadoc</a> mentions at the very beginning:</p>\n<blockquote>\n<h2>Prefer <a href=\"https://github.com/classgraph/classgraph/wiki\" rel=\"nofollow noreferrer\">ClassGraph</a> over <code>ClassPath</code></h2>\n</blockquote>\n<h3>UPDATE</h3>\n<p>Out of curiosity I implemented the usage of <em>ClassGraph</em> (which perhaps is even more performant since it has <code>classInfo.hasAnnotation(...)</code> which lets you keep only those <code>ClassInfo</code>s you're interested in before they are transformed into <code>Class</code>es in <code>map(...)</code> ):</p>\n<h4>POM</h4>\n<pre><code>        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n            &lt;version&gt;4.8.160&lt;/version&gt;\n        &lt;/dependency&gt;\n        ...\n</code></pre>\n<h3><code>WebCrawlerServiceLocator</code></h3>\n<pre><code>...\nimport static java.lang.System.out;\n...\nimport io.github.classgraph.ClassGraph;\n...\nprivate static final Class&lt;? extends Annotation&gt; WRAPPED = Wrapped.class;\n...\n    @Override\n    public Collection&lt;Class&lt;?&gt;&gt; locateService() {\n\n        try {\n            return new HashSet&lt;&gt;( ClassPath.from( ClassLoader.getSystemClassLoader() ).getAllClasses().stream()\n                    .filter( classInfo -&gt; !classInfo.getName().equals( &quot;module-info&quot; ) || !classInfo.getName().equals( &quot;package-info&quot; ) )\n                    //.peek( out::println )\n                    .map( classInfo -&gt; {\n                        try {\n\n                            //if ( classInfo.getName().contains( &quot;com.udacity&quot; ) )\n                            //  out.printf( &quot;--&gt; name: %s%n--&gt; cp: %s%n%n&quot;,\n                            //      classInfo.getName(), System.getProperty( &quot;java.class.path&quot; ) );\n\n                            return classInfo.load();\n                        }\n                        catch ( Error | Exception e ) {\n                            out.printf( &quot;--&gt; %s --&gt; return null%n&quot;, e );\n                            return null;\n                        }\n                    } ) // map(...)\n                    //.peek( out::println )\n                    .filter( Objects::nonNull )\n                    .filter( clazz -&gt; clazz.isAnnotationPresent( WRAPPED ) )\n                    .toList() ); // HashSet&lt;&gt;(...)\n        }\n        catch ( IOException e ) {\n            out.printf( &quot;--&gt; %s%n--&gt; return empty list%n&quot;, e );\n            return Collections.emptyList();\n        }\n    }\n\n    public Collection&lt;Class&lt;?&gt;&gt; locateService2() {\n\n        try {\n            return new HashSet&lt;Class&lt;?&gt;&gt;(\n                    new ClassGraph().enableAllInfo().scan().getAllClasses().stream()\n                            .filter( classInfo -&gt; !classInfo.getName().equals( &quot;module-info&quot; ) || !classInfo.getName().equals( &quot;package-info&quot; ) )\n                            //.peek( out::println )\n                            .filter( classInfo -&gt; classInfo.hasAnnotation( WRAPPED ) )\n                            .map( classInfo -&gt; {\n                                try {\n\n                                    //if ( classInfo.getName().contains( &quot;com.udacity&quot; ) )\n                                    //  out.printf( &quot;--&gt; name: %s%n--&gt; cp: %s%n%n&quot;,\n                                    //      classInfo.getName(), System.getProperty( &quot;java.class.path&quot; ) );\n\n                                    return classInfo.loadClass();\n                                }\n                                catch ( Error | Exception e ) {\n                                    out.printf( &quot;--&gt; %s --&gt; return null%n&quot;, e );\n                                    return null;\n                                }\n                            } ) // map(...\n                            //.peek( out::println )\n                            .filter( Objects::nonNull )\n                            .toList() ); // HashSet&lt;&gt;(...)\n        }\n        // with IOException compile error: &quot;Unreachable catch block for IOException. This exception is never thrown from the try statement body&quot;\n        catch ( /*IO*/ Exception e ) {\n            out.printf( &quot;--&gt; %s%n--&gt; return empty list%n&quot;, e );\n            return Collections.emptyList();\n        }\n    }\n...\n</code></pre>\n<p>BTW, with the <code>INSTANCE</code> and <code>getInstance()</code> members this class looks like intended to be a Singleton at first sight. But it isn't. Since there's <code>return new WebCrawlerServiceLocator( true );</code> in <code>getInstance()</code>. That might confuse readers/users of this class (without any Javadoc in addition). I'd complain about that in a code review, about both.</p>\n<h3><code>WebCrawlerServiceLocatorTest</code></h3>\n<pre><code>package com.udacity.webcrawler.service;\n\nimport static java.lang.System.out;\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.util.Collection;\n\nimport org.junit.jupiter.api.Test;\n\npublic final class WebCrawlerServiceLocatorTest {\n\n    private static final int CLASS_COUNT = 3;\n\n    @Test\n    public void locateServiceWithTest_NotEmpty() {\n\n        ServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( true );\n        Collection&lt;Class&lt;?&gt;&gt; classes = locator.locateService();\n        out.printf( &quot;### locateService(): classes collection contains %d classes: %s %n&quot;,\n                classes.size(), classes.toString() );\n        assertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\n        assertEquals( CLASS_COUNT, classes.size() );\n    }\n\n    @Test\n    public void locateServiceWithoutTest_NotEmpty() {\n\n        ServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( false );\n        Collection&lt;Class&lt;?&gt;&gt; classes = locator.locateService();\n        out.printf( &quot;### locateService(): classes collection contains %d classes: %s %n&quot;,\n                classes.size(), classes.toString() );\n        assertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\n        assertEquals( CLASS_COUNT, classes.size() );\n    }\n\n    @Test\n    public void locateServiceWithTest2_NotEmpty() {\n\n        //ServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( true ); // compile error\n        // ServiceLocator has no locateService2(), hence using the following for the time being:\n        WebCrawlerServiceLocator locator = (WebCrawlerServiceLocator) WebCrawlerServiceLocator.getInstance( true );\n\n        Collection&lt;Class&lt;?&gt;&gt; classes = locator.locateService2();\n        out.printf( &quot;### locateService2(): classes collection contains %d classes: %s %n&quot;,\n                classes.size(), classes.toString() );\n        assertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\n    }\n\n    @Test\n    public void locateServiceWithoutTest2_NotEmpty() {\n\n        //ServiceLocator&lt;Class&lt;?&gt;&gt; locator = WebCrawlerServiceLocator.getInstance( false ); // compile error\n        // , ServiceLocator has no locateService2(), hence using the following for the time being:\n        WebCrawlerServiceLocator locator = (WebCrawlerServiceLocator) WebCrawlerServiceLocator.getInstance( false );\n\n        Collection&lt;Class&lt;?&gt;&gt; classes = locator.locateService2();\n        out.printf( &quot;### locateService2(): classes collection contains %d classes: %s %n&quot;,\n                classes.size(), classes.toString() );\n        assertFalse( &quot;classes collection is empty&quot;, classes.isEmpty() );\n    }\n\n}\n</code></pre>\n<h3><code>mvn test</code></h3>\n<pre><code>...\n[INFO] --- surefire:3.1.2:test (default-test) @ udacity-webcrawler ---\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running com.udacity.webcrawler.json.ConfigurationLoaderTest\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.191 s -- in com.udacity.webcrawler.json.ConfigurationLoaderTest\n[INFO] Running com.udacity.webcrawler.json.CrawlResultWriterTest\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 s -- in com.udacity.webcrawler.json.CrawlResultWriterTest\n[INFO] Running com.udacity.webcrawler.parser.PageParserImplTest\n[ERROR] Tests run: 2, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.093 s &lt;&lt;&lt; FAILURE! -- in com.udacity.webcrawler.parser.PageParserImplTest\n...\n[INFO] Running com.udacity.webcrawler.profiler.ProfilerImplTest\n[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.906 s -- in com.udacity.webcrawler.profiler.ProfilerImplTest\n[INFO] Running com.udacity.webcrawler.service.WebCrawlerServiceLocatorTest\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.724 s -- in com.udacity.webcrawler.service.WebCrawlerServiceLocatorTest\n[INFO] Running com.udacity.webcrawler.WordCountsTest\n[ERROR] Tests run: 2, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.011 s &lt;&lt;&lt; FAILURE! -- in com.udacity.webcrawler.WordCountsTest\n...\n[INFO] Running com.udacity.webcrawler.ParallelWebCrawlerTest\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.067 s -- in com.udacity.webcrawler.ParallelWebCrawlerTest\n[INFO] Running com.udacity.webcrawler.SequentialWebCrawlerTest\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 s -- in com.udacity.webcrawler.SequentialWebCrawlerTest\n[INFO] Running com.udacity.webcrawler.WebCrawlerTest\n[ERROR] Tests run: 22, Failures: 14, Errors: 0, Skipped: 0, Time elapsed: 0.221 s &lt;&lt;&lt; FAILURE! -- in com.udacity.webcrawler.WebCrawlerTest\n...\n[ERROR] Tests run: 53, Failures: 18, Errors: 0, Skipped: 0\n...\n</code></pre>\n<p>So, the tests run, at least. They &quot;just&quot; fail due to failing assertions.</p>\n<p>And, BTW, I'd not introduce an extra <code>/src/test/data</code> dir. I'd use <code>/src/test/resources</code> because that's what it is for – Convention over Configuration. Such you can use <code>AnyTest.class.getClassLoader().getResource(&quot;path-relative-to-resources-dir/file.name&quot;)</code> in your tests and avoid having to define <code>&lt;testDataDir&gt;</code> in your POM and, more important, to define <code>-DtestDataDir=...</code> as VM argument when running unit tests from within your IDE. And you can use <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">resource filtering</a> (which is string interpolation, in fact), a powerful feature.</p>\n<p>If you grant me <a href=\"https://github.com/gerib\" rel=\"nofollow noreferrer\">access on GitHub</a> I can push a branch with all the changes.</p>\n<h2>UPDATE</h2>\n<p>The original <code>webCrawlerServiceLocator.locateService()</code> works now, too. I think that's because I declared only the following for JUnit in the POM:</p>\n<pre><code>    ...\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.9.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    ...\n    &lt;dependencies&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    ...\n</code></pre>\n<p>So, it seems that incompatibilities between JUnit dependencies (in a certain version) and Maven's Surefire plugin (in a certain version) might have caused the original issue.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76426292,"answer_count":1,"score":2,"last_activity_date":1686942164,"creation_date":1686114393,"question_id":76420034,"body_markdown":"I am facing an issue that the unit test cases pass on IntelliJ but fail on `mvn test` command. I think the problem is about java 17 but I&#39;m not sure. Src code can be found [here][1]\r\n\r\nMaven version (with jdk 17):\r\n\r\n    Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n    Maven home: D:\\Apps\\maven-3.6.3\\bin\\..\r\n    Java version: 17.0.1, vendor: Oracle Corporation, runtime: D:\\Program Files\\jdk17\\app\r\n    Default locale: en_US, platform encoding: Cp1258\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\npom.xml:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.inject/guice --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n            &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Test Dependencies --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.truth/truth --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.truth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;truth&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;\r\n                                        com.udacity.webcrawler.main.WebCrawlerMain\r\n                                    &lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;testDataDir&lt;/name&gt;\r\n                            &lt;value&gt;${project.basedir}/src/test/data&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;crawlerImplementations&lt;/name&gt;\r\n                            &lt;value&gt;\r\n                                com.udacity.webcrawler.SequentialWebCrawler\r\n                                com.udacity.webcrawler.ParallelWebCrawler\r\n                            &lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/systemProperties&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.8.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nHere is the code:\r\n    \r\n    public final class ProfilerImplTest {\r\n        private final FakeClock clock = new FakeClock();\r\n        private final Profiler profiler = new ProfilerImpl(clock, true);\r\n        private final ProfiledInterfaceImpl delegate = new ProfiledInterfaceImpl(clock);\r\n    \r\n        @Test\r\n        public void delegateHasNoMethodsAnnotated() {\r\n            assertThrows(\r\n                    IllegalArgumentException.class,\r\n                    () -&gt; profiler.wrap(NonProfiledInterface.class, new NonProfiledInterfaceImpl()),\r\n                    &quot;Profiler.wrap() should throw an IllegalArgumentException if the wrapped interface does &quot; +\r\n                            &quot;not contain a @Profiled method.&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testToString() {\r\n            ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\r\n    \r\n            assertWithMessage(&quot;The proxy should delegate toString() calls to the wrapped object.&quot;)\r\n                    .that(proxy.toString())\r\n                    .isEqualTo(delegate.toString());\r\n        }\r\n    \r\n        @Test\r\n        public void testHashCode() {\r\n            ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\r\n    \r\n            assertWithMessage(&quot;The proxy should delegate hashCode() calls to the wrapped object.&quot;)\r\n                    .that(proxy.hashCode())\r\n                    .isEqualTo(delegate.hashCode());\r\n        }\r\n    \r\n        @Test\r\n        public void testEquals() {\r\n            ProfiledInterface proxy1 = profiler.wrap(ProfiledInterface.class, delegate);\r\n            ProfiledInterface proxy2 = profiler.wrap(ProfiledInterface.class, delegate);\r\n    \r\n            assertThat(proxy1).isNotSameInstanceAs(delegate);\r\n            assertThat(proxy1).isEqualTo(delegate);\r\n            assertThat(delegate).isEqualTo(proxy1);\r\n    \r\n            assertWithMessage(&quot;Each call to Profiler.wrap() should create a new proxy object.&quot;)\r\n                    .that(proxy1)\r\n                    .isNotSameInstanceAs(proxy2);\r\n            assertWithMessage(&quot;Two proxies should be equal if their wrapped objects are equal&quot;)\r\n                    .that(proxy1)\r\n                    .isEqualTo(proxy2);\r\n            assertWithMessage(&quot;Two proxies should be equal if their wrapped objects are equal&quot;)\r\n                    .that(proxy2)\r\n                    .isEqualTo(proxy1);\r\n        }\r\n    \r\n        @Test\r\n        public void testNonObjectEquals() {\r\n            ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\r\n    \r\n            assertWithMessage(&quot;Incorrect equals() method was called&quot;)\r\n                    .that(proxy.equals(&quot;foo&quot;, &quot;bar&quot;))\r\n                    .isFalse();\r\n    \r\n            assertThat(delegate.wasFakeEqualsCalled()).isTrue();\r\n        }\r\n    \r\n        @Test\r\n        public void testBasicProfiling() throws Exception {\r\n            ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\r\n    \r\n            Instant beforeInvocation = clock.instant();\r\n    \r\n            assertWithMessage(&quot;The intercepted method did not forward the return value correctly&quot;)\r\n                    .that(proxy.profiled())\r\n                    .isEqualTo(&quot;profiled&quot;);\r\n            Instant afterInvocation = clock.instant();\r\n            assertWithMessage(&quot;Expected time to advance from invocation.&quot;)\r\n                    .that(beforeInvocation)\r\n                    .isLessThan(afterInvocation);\r\n    \r\n            // Run the method again a few more times to aggregate some data.\r\n            proxy.profiled();\r\n            proxy.profiled();\r\n    \r\n            CloseableStringWriter writer = new CloseableStringWriter();\r\n            profiler.writeData(writer);\r\n            assertWithMessage(&quot;Streams should usually be closed in the same scope where they were created&quot;)\r\n                    .that(writer.isClosed())\r\n                    .isFalse();\r\n            String written = writer.toString();\r\n            assertWithMessage(&quot;The profile data was not written or is incorrect&quot;)\r\n                    .that(written)\r\n                    .contains(\r\n                            &quot;com.udacity.webcrawler.profiler.ProfilerImplTest$ProfiledInterfaceImpl#profiled&quot;);\r\n            assertThat(written).contains(&quot;0m 3s 0ms&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testDeclaredExceptionHandling() throws Exception {\r\n            ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\r\n    \r\n            Instant beforeInvocation = clock.instant();\r\n            Throwable expected = assertThrows(\r\n                    Throwable.class,\r\n                    () -&gt; proxy.throwSomething(new Throwable(&quot;expected exception&quot;)),\r\n                    &quot;The method interceptor should forward exceptions thrown by the wrapped object&quot;);\r\n            assertWithMessage(&quot;The proxy threw a different exception than was thrown by the wrapped object&quot;)\r\n                    .that(expected)\r\n                    .hasMessageThat()\r\n                    .isEqualTo(&quot;expected exception&quot;);\r\n    \r\n            Instant afterInvocation = clock.instant();\r\n            assertWithMessage(&quot;Expected time to advance from invocation.&quot;)\r\n                    .that(beforeInvocation)\r\n                    .isLessThan(afterInvocation);\r\n    \r\n            CloseableStringWriter writer = new CloseableStringWriter();\r\n            profiler.writeData(writer);\r\n            assertWithMessage(&quot;Streams should usually be closed in the same scope where they were created&quot;)\r\n                    .that(writer.isClosed())\r\n                    .isFalse();\r\n            String written = writer.toString();\r\n            assertWithMessage(&quot;Profile data should still be recorded if an exception was thrown.&quot;)\r\n                    .that(written)\r\n                    .contains(&quot;com.udacity.webcrawler.profiler.ProfilerImplTest$ProfiledInterfaceImpl&quot;);\r\n            assertThat(written).contains(&quot;0m 1s 0ms&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testServiceLoader() throws Exception {\r\n            Field metadataField = ProfilerImpl.class.getDeclaredField(&quot;serviceMetadata&quot;);\r\n            metadataField.setAccessible(true);\r\n            Profiler trueProfiler = new ProfilerImpl(clock, true);\r\n            Profiler falseProfiler = new ProfilerImpl(clock, false);\r\n    \r\n            assertEquals(2, ((Map&lt;Class&lt;?&gt;, ServiceMetadata&lt;?&gt;&gt;) metadataField.get(falseProfiler)).size());\r\n            assertEquals(3, ((Map&lt;Class&lt;?&gt;, ServiceMetadata&lt;?&gt;&gt;) metadataField.get(trueProfiler)).size());\r\n        }\r\n    \r\n        /**\r\n         * A test interface that does not have any {@link Profiled} methods.\r\n         */\r\n        private interface NonProfiledInterface {\r\n        }\r\n    \r\n        /**\r\n         * Concrete implementation of {@link NonProfiledInterface}.\r\n         */\r\n        private static final class NonProfiledInterfaceImpl implements NonProfiledInterface {\r\n        }\r\n    \r\n        /**\r\n         * A test interface that has a method annotated with {@link Profiled}.\r\n         */\r\n        private interface ProfiledInterface {\r\n            @Profiled\r\n            String profiled();\r\n    \r\n            @Profiled\r\n            void throwSomething(Throwable throwable) throws Throwable;\r\n    \r\n            boolean equals(String foo, String bar);\r\n        }\r\n    \r\n        /**\r\n         * Concrete implementation of {@link ProfiledInterface}.\r\n         */\r\n        @Wrapped\r\n        private static final class ProfiledInterfaceImpl implements ProfiledInterface {\r\n            private final FakeClock fakeClock;\r\n            private boolean wasFakeEqualsCalled = false;\r\n    \r\n            ProfiledInterfaceImpl(FakeClock fakeClock) {\r\n                this.fakeClock = Objects.requireNonNull(fakeClock);\r\n            }\r\n    \r\n            @Override\r\n            public String profiled() {\r\n                fakeClock.tick(Duration.ofSeconds(1));\r\n                return &quot;profiled&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public void throwSomething(Throwable throwable) throws Throwable {\r\n                fakeClock.tick(Duration.ofSeconds(1));\r\n                throw throwable;\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object other) {\r\n                // All instances of ProfiledInterface are equal to one another.\r\n                return (other instanceof ProfiledInterface);\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(String foo, String bar) {\r\n                Objects.requireNonNull(foo);\r\n                Objects.requireNonNull(bar);\r\n                wasFakeEqualsCalled = true;\r\n                return false;\r\n            }\r\n    \r\n            public boolean wasFakeEqualsCalled() {\r\n                return wasFakeEqualsCalled;\r\n            }\r\n        }\r\n    }\r\n\r\nException was thrown at the line `private final Profiler profiler = new ProfilerImpl(clock, true);` and I don&#39;t know why. Please check the below code:\r\n    \r\n    /**\r\n     * Concrete implementation of the {@link Profiler}.\r\n     */\r\n    final class ProfilerImpl implements Profiler {\r\n        private final Map&lt;Class&lt;?&gt;, ServiceMetadata&lt;?&gt;&gt; serviceMetadata;\r\n        private final Clock clock;\r\n        private final ProfilingState state = new ProfilingState();\r\n        private final ZonedDateTime startTime;\r\n    \r\n        @Inject\r\n        ProfilerImpl(Clock clock, boolean includeTest) {\r\n            this.clock = Objects.requireNonNull(clock);\r\n            this.startTime = ZonedDateTime.now(clock);\r\n            ServiceLocator&lt;Class&lt;?&gt;&gt; serviceLocator = ServiceLocator.webCrawlerLocator(includeTest);\r\n            serviceMetadata = serviceLocator.parse(serviceLocator.locateService());\r\n        }\r\n    \r\n        private ServiceMetadata&lt;?&gt; profiledClass(Class&lt;?&gt; klass) {\r\n            for (Class&lt;?&gt; clazz : serviceMetadata.keySet()) {\r\n                if (klass.isAssignableFrom(clazz)) {\r\n                    return serviceMetadata.get(clazz);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T&gt; T wrap(Class&lt;T&gt; klass, T delegate) {\r\n            Objects.requireNonNull(klass);\r\n    \r\n            ServiceMetadata&lt;?&gt; profiledClass = profiledClass(klass);\r\n            if (profiledClass == null) {\r\n                throw new IllegalArgumentException(klass.getName() + &quot;doesn&#39;t have profiled methods.&quot;);\r\n            }\r\n    \r\n            ProfilingMethodInterceptor interceptor = new ProfilingMethodInterceptor(clock, delegate, state, startTime, profiledClass);\r\n    \r\n            Object proxy = Proxy.newProxyInstance(\r\n                    ProfilerImpl.class.getClassLoader(),\r\n                    new Class[]{klass},\r\n                    interceptor\r\n            );\r\n    \r\n            return (T) proxy;\r\n        }\r\n    \r\n        @Override\r\n        public void writeData(Path path) {\r\n            Objects.requireNonNull(path);\r\n    \r\n            try (Writer writer = Files.newBufferedWriter(path, StandardOpenOption.CREATE, StandardOpenOption.APPEND)) {\r\n                writeData(writer);\r\n                writer.flush();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void writeData(Writer writer) throws IOException {\r\n            writer.write(&quot;Run at &quot; + RFC_1123_DATE_TIME.format(startTime));\r\n            writer.write(System.lineSeparator());\r\n            state.write(writer);\r\n            writer.write(System.lineSeparator());\r\n        }\r\n    }\r\n\r\nStack trace:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: target.classes.com.udacity.webcrawler.IgnoredUrls\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n            at com.google.common.reflect.ClassPath$ClassInfo.load(ClassPath.java:360)\r\n            ... 88 more\r\n\r\n\r\nPlease help\r\n\r\n\r\n  [1]: https://github.com/anaconda875/udacity-webcrawler\r\n","title":"Java unit test run successfully on Intellij but fail on maven","body":"<p>I am facing an issue that the unit test cases pass on IntelliJ but fail on <code>mvn test</code> command. I think the problem is about java 17 but I'm not sure. Src code can be found <a href=\"https://github.com/anaconda875/udacity-webcrawler\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Maven version (with jdk 17):</p>\n<pre><code>Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: D:\\Apps\\maven-3.6.3\\bin\\..\nJava version: 17.0.1, vendor: Oracle Corporation, runtime: D:\\Program Files\\jdk17\\app\nDefault locale: en_US, platform encoding: Cp1258\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.inject/guice --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;guice&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.14.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Test Dependencies --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.truth/truth --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.truth&lt;/groupId&gt;\n        &lt;artifactId&gt;truth&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;\n                                    com.udacity.webcrawler.main.WebCrawlerMain\n                                &lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                        &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;systemProperties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;testDataDir&lt;/name&gt;\n                        &lt;value&gt;${project.basedir}/src/test/data&lt;/value&gt;\n                    &lt;/property&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;crawlerImplementations&lt;/name&gt;\n                        &lt;value&gt;\n                            com.udacity.webcrawler.SequentialWebCrawler\n                            com.udacity.webcrawler.ParallelWebCrawler\n                        &lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/systemProperties&gt;\n            &lt;/configuration&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;version&gt;5.8.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>public final class ProfilerImplTest {\n    private final FakeClock clock = new FakeClock();\n    private final Profiler profiler = new ProfilerImpl(clock, true);\n    private final ProfiledInterfaceImpl delegate = new ProfiledInterfaceImpl(clock);\n\n    @Test\n    public void delegateHasNoMethodsAnnotated() {\n        assertThrows(\n                IllegalArgumentException.class,\n                () -&gt; profiler.wrap(NonProfiledInterface.class, new NonProfiledInterfaceImpl()),\n                &quot;Profiler.wrap() should throw an IllegalArgumentException if the wrapped interface does &quot; +\n                        &quot;not contain a @Profiled method.&quot;);\n    }\n\n    @Test\n    public void testToString() {\n        ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\n\n        assertWithMessage(&quot;The proxy should delegate toString() calls to the wrapped object.&quot;)\n                .that(proxy.toString())\n                .isEqualTo(delegate.toString());\n    }\n\n    @Test\n    public void testHashCode() {\n        ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\n\n        assertWithMessage(&quot;The proxy should delegate hashCode() calls to the wrapped object.&quot;)\n                .that(proxy.hashCode())\n                .isEqualTo(delegate.hashCode());\n    }\n\n    @Test\n    public void testEquals() {\n        ProfiledInterface proxy1 = profiler.wrap(ProfiledInterface.class, delegate);\n        ProfiledInterface proxy2 = profiler.wrap(ProfiledInterface.class, delegate);\n\n        assertThat(proxy1).isNotSameInstanceAs(delegate);\n        assertThat(proxy1).isEqualTo(delegate);\n        assertThat(delegate).isEqualTo(proxy1);\n\n        assertWithMessage(&quot;Each call to Profiler.wrap() should create a new proxy object.&quot;)\n                .that(proxy1)\n                .isNotSameInstanceAs(proxy2);\n        assertWithMessage(&quot;Two proxies should be equal if their wrapped objects are equal&quot;)\n                .that(proxy1)\n                .isEqualTo(proxy2);\n        assertWithMessage(&quot;Two proxies should be equal if their wrapped objects are equal&quot;)\n                .that(proxy2)\n                .isEqualTo(proxy1);\n    }\n\n    @Test\n    public void testNonObjectEquals() {\n        ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\n\n        assertWithMessage(&quot;Incorrect equals() method was called&quot;)\n                .that(proxy.equals(&quot;foo&quot;, &quot;bar&quot;))\n                .isFalse();\n\n        assertThat(delegate.wasFakeEqualsCalled()).isTrue();\n    }\n\n    @Test\n    public void testBasicProfiling() throws Exception {\n        ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\n\n        Instant beforeInvocation = clock.instant();\n\n        assertWithMessage(&quot;The intercepted method did not forward the return value correctly&quot;)\n                .that(proxy.profiled())\n                .isEqualTo(&quot;profiled&quot;);\n        Instant afterInvocation = clock.instant();\n        assertWithMessage(&quot;Expected time to advance from invocation.&quot;)\n                .that(beforeInvocation)\n                .isLessThan(afterInvocation);\n\n        // Run the method again a few more times to aggregate some data.\n        proxy.profiled();\n        proxy.profiled();\n\n        CloseableStringWriter writer = new CloseableStringWriter();\n        profiler.writeData(writer);\n        assertWithMessage(&quot;Streams should usually be closed in the same scope where they were created&quot;)\n                .that(writer.isClosed())\n                .isFalse();\n        String written = writer.toString();\n        assertWithMessage(&quot;The profile data was not written or is incorrect&quot;)\n                .that(written)\n                .contains(\n                        &quot;com.udacity.webcrawler.profiler.ProfilerImplTest$ProfiledInterfaceImpl#profiled&quot;);\n        assertThat(written).contains(&quot;0m 3s 0ms&quot;);\n    }\n\n    @Test\n    public void testDeclaredExceptionHandling() throws Exception {\n        ProfiledInterface proxy = profiler.wrap(ProfiledInterface.class, delegate);\n\n        Instant beforeInvocation = clock.instant();\n        Throwable expected = assertThrows(\n                Throwable.class,\n                () -&gt; proxy.throwSomething(new Throwable(&quot;expected exception&quot;)),\n                &quot;The method interceptor should forward exceptions thrown by the wrapped object&quot;);\n        assertWithMessage(&quot;The proxy threw a different exception than was thrown by the wrapped object&quot;)\n                .that(expected)\n                .hasMessageThat()\n                .isEqualTo(&quot;expected exception&quot;);\n\n        Instant afterInvocation = clock.instant();\n        assertWithMessage(&quot;Expected time to advance from invocation.&quot;)\n                .that(beforeInvocation)\n                .isLessThan(afterInvocation);\n\n        CloseableStringWriter writer = new CloseableStringWriter();\n        profiler.writeData(writer);\n        assertWithMessage(&quot;Streams should usually be closed in the same scope where they were created&quot;)\n                .that(writer.isClosed())\n                .isFalse();\n        String written = writer.toString();\n        assertWithMessage(&quot;Profile data should still be recorded if an exception was thrown.&quot;)\n                .that(written)\n                .contains(&quot;com.udacity.webcrawler.profiler.ProfilerImplTest$ProfiledInterfaceImpl&quot;);\n        assertThat(written).contains(&quot;0m 1s 0ms&quot;);\n    }\n\n    @Test\n    public void testServiceLoader() throws Exception {\n        Field metadataField = ProfilerImpl.class.getDeclaredField(&quot;serviceMetadata&quot;);\n        metadataField.setAccessible(true);\n        Profiler trueProfiler = new ProfilerImpl(clock, true);\n        Profiler falseProfiler = new ProfilerImpl(clock, false);\n\n        assertEquals(2, ((Map&lt;Class&lt;?&gt;, ServiceMetadata&lt;?&gt;&gt;) metadataField.get(falseProfiler)).size());\n        assertEquals(3, ((Map&lt;Class&lt;?&gt;, ServiceMetadata&lt;?&gt;&gt;) metadataField.get(trueProfiler)).size());\n    }\n\n    /**\n     * A test interface that does not have any {@link Profiled} methods.\n     */\n    private interface NonProfiledInterface {\n    }\n\n    /**\n     * Concrete implementation of {@link NonProfiledInterface}.\n     */\n    private static final class NonProfiledInterfaceImpl implements NonProfiledInterface {\n    }\n\n    /**\n     * A test interface that has a method annotated with {@link Profiled}.\n     */\n    private interface ProfiledInterface {\n        @Profiled\n        String profiled();\n\n        @Profiled\n        void throwSomething(Throwable throwable) throws Throwable;\n\n        boolean equals(String foo, String bar);\n    }\n\n    /**\n     * Concrete implementation of {@link ProfiledInterface}.\n     */\n    @Wrapped\n    private static final class ProfiledInterfaceImpl implements ProfiledInterface {\n        private final FakeClock fakeClock;\n        private boolean wasFakeEqualsCalled = false;\n\n        ProfiledInterfaceImpl(FakeClock fakeClock) {\n            this.fakeClock = Objects.requireNonNull(fakeClock);\n        }\n\n        @Override\n        public String profiled() {\n            fakeClock.tick(Duration.ofSeconds(1));\n            return &quot;profiled&quot;;\n        }\n\n        @Override\n        public void throwSomething(Throwable throwable) throws Throwable {\n            fakeClock.tick(Duration.ofSeconds(1));\n            throw throwable;\n        }\n\n        @Override\n        public boolean equals(Object other) {\n            // All instances of ProfiledInterface are equal to one another.\n            return (other instanceof ProfiledInterface);\n        }\n\n        @Override\n        public boolean equals(String foo, String bar) {\n            Objects.requireNonNull(foo);\n            Objects.requireNonNull(bar);\n            wasFakeEqualsCalled = true;\n            return false;\n        }\n\n        public boolean wasFakeEqualsCalled() {\n            return wasFakeEqualsCalled;\n        }\n    }\n}\n</code></pre>\n<p>Exception was thrown at the line <code>private final Profiler profiler = new ProfilerImpl(clock, true);</code> and I don't know why. Please check the below code:</p>\n<pre><code>/**\n * Concrete implementation of the {@link Profiler}.\n */\nfinal class ProfilerImpl implements Profiler {\n    private final Map&lt;Class&lt;?&gt;, ServiceMetadata&lt;?&gt;&gt; serviceMetadata;\n    private final Clock clock;\n    private final ProfilingState state = new ProfilingState();\n    private final ZonedDateTime startTime;\n\n    @Inject\n    ProfilerImpl(Clock clock, boolean includeTest) {\n        this.clock = Objects.requireNonNull(clock);\n        this.startTime = ZonedDateTime.now(clock);\n        ServiceLocator&lt;Class&lt;?&gt;&gt; serviceLocator = ServiceLocator.webCrawlerLocator(includeTest);\n        serviceMetadata = serviceLocator.parse(serviceLocator.locateService());\n    }\n\n    private ServiceMetadata&lt;?&gt; profiledClass(Class&lt;?&gt; klass) {\n        for (Class&lt;?&gt; clazz : serviceMetadata.keySet()) {\n            if (klass.isAssignableFrom(clazz)) {\n                return serviceMetadata.get(clazz);\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public &lt;T&gt; T wrap(Class&lt;T&gt; klass, T delegate) {\n        Objects.requireNonNull(klass);\n\n        ServiceMetadata&lt;?&gt; profiledClass = profiledClass(klass);\n        if (profiledClass == null) {\n            throw new IllegalArgumentException(klass.getName() + &quot;doesn't have profiled methods.&quot;);\n        }\n\n        ProfilingMethodInterceptor interceptor = new ProfilingMethodInterceptor(clock, delegate, state, startTime, profiledClass);\n\n        Object proxy = Proxy.newProxyInstance(\n                ProfilerImpl.class.getClassLoader(),\n                new Class[]{klass},\n                interceptor\n        );\n\n        return (T) proxy;\n    }\n\n    @Override\n    public void writeData(Path path) {\n        Objects.requireNonNull(path);\n\n        try (Writer writer = Files.newBufferedWriter(path, StandardOpenOption.CREATE, StandardOpenOption.APPEND)) {\n            writeData(writer);\n            writer.flush();\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    @Override\n    public void writeData(Writer writer) throws IOException {\n        writer.write(&quot;Run at &quot; + RFC_1123_DATE_TIME.format(startTime));\n        writer.write(System.lineSeparator());\n        state.write(writer);\n        writer.write(System.lineSeparator());\n    }\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: target.classes.com.udacity.webcrawler.IgnoredUrls\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at com.google.common.reflect.ClassPath$ClassInfo.load(ClassPath.java:360)\n        ... 88 more\n</code></pre>\n<p>Please help</p>\n"},{"tags":["java","dockerfile","graalvm"],"answers":[{"comments":[{"owner":{"account_id":15305214,"reputation":659,"user_id":11042217,"display_name":"ARINDAM BANERJEE"},"score":0,"creation_date":1569842955,"post_id":58163326,"comment_id":102715456,"body_markdown":"It&#39;s not clear, could you please tell me what I have to do? Here I mentioned the app.jar to make a binary and KnativeSpringGkeApplication is the entry point - the main class which will launch the spring boot application.","body":"It&#39;s not clear, could you please tell me what I have to do? Here I mentioned the app.jar to make a binary and KnativeSpringGkeApplication is the entry point - the main class which will launch the spring boot application."},{"owner":{"account_id":15305214,"reputation":659,"user_id":11042217,"display_name":"ARINDAM BANERJEE"},"score":1,"creation_date":1570095882,"post_id":58163326,"comment_id":102809015,"body_markdown":"I tried, it throws following error: \n\nStep 14/20 : RUN native-image --no-server -cp app.jar com.arindam.knative.gke.KnativeSpringGkeApplication\n ---&gt; Running in 7655d13daf7e\n[com.arindam.knative.gke.knativespringgkeapplication:17]    classlist:  20,719.07 ms\nError: Main entry point class &#39;com.arindam.knative.gke.KnativeSpringGkeApplication&#39; not found.\nError: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\nError: Image build request failed with exit status 1\nThe command &#39;/bin/sh -c native-image --no-server -cp app.jar  returned a non-zero code: 1","body":"I tried, it throws following error:   Step 14/20 : RUN native-image --no-server -cp app.jar com.arindam.knative.gke.KnativeSpringGkeApplication  ---&gt; Running in 7655d13daf7e [com.arindam.knative.gke.knativespringgkeapplication:17]    classlist:  20,719.07 ms Error: Main entry point class &#39;com.arindam.knative.gke.KnativeSpringGkeApplication&#39; not found. Error: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception Error: Image build request failed with exit status 1 The command &#39;/bin/sh -c native-image --no-server -cp app.jar  returned a non-zero code: 1"},{"owner":{"account_id":497130,"reputation":1166,"user_id":1885085,"display_name":"Gilles D."},"score":1,"creation_date":1588422092,"post_id":58163326,"comment_id":108891642,"body_markdown":"The first step would be to get your app working without native-image. Once that works, try replacing `java` with `native-image`.\nDoes `app.jar` contain the entry-point class (`com.arindam.knative.gke.KnativeSpringGkeApplication`)?","body":"The first step would be to get your app working without native-image. Once that works, try replacing <code>java</code> with <code>native-image</code>. Does <code>app.jar</code> contain the entry-point class (<code>com.arindam.knative.gke.KnativeSpringGkeApplication</code>)?"}],"tags":[],"owner":{"account_id":497130,"reputation":1166,"user_id":1885085,"display_name":"Gilles D."},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569828547,"creation_date":1569828547,"answer_id":58163326,"question_id":58137906,"body_markdown":"Your command line for `native-image` contains `-cp -jar app.jar`. This is interpreted as `-jar` is the classpath and `app.jar` is the main class.\r\n\r\nI think you wanted `native-image --no-server -cp app.jar com.arindam.knative.gke.KnativeSpringGkeApplication`.","title":"build docker image using graalvm Error: Main entry point class &#39;app.jar&#39; not found com.oracle.svm.core.util.UserError$UserException","body":"<p>Your command line for <code>native-image</code> contains <code>-cp -jar app.jar</code>. This is interpreted as <code>-jar</code> is the classpath and <code>app.jar</code> is the main class.</p>\n\n<p>I think you wanted <code>native-image --no-server -cp app.jar com.arindam.knative.gke.KnativeSpringGkeApplication</code>.</p>\n"},{"tags":[],"owner":{"account_id":50156,"reputation":427,"user_id":149493,"display_name":"Raja Nagendra Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622973141,"creation_date":1622973141,"answer_id":67857812,"question_id":58137906,"body_markdown":"If HW.class to be compiled, say \r\n\r\n    native-image HW\r\n\r\nnot \r\n\r\n    native-image HW.class\r\n","title":"build docker image using graalvm Error: Main entry point class &#39;app.jar&#39; not found com.oracle.svm.core.util.UserError$UserException","body":"<p>If HW.class to be compiled, say</p>\n<pre><code>native-image HW\n</code></pre>\n<p>not</p>\n<pre><code>native-image HW.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686942021,"creation_date":1686942021,"answer_id":76492931,"question_id":58137906,"body_markdown":"I encountered a similar issue with a basic &quot;Hello World&quot; program. The problem arose because I initially compiled the Java file using Corretto Java 17 and then attempted to build a native image of that class using the command `native-image Hello`.\r\n\r\nHowever, I resolved the issue by removing the existing class file and recompiling it using the GraalVM JDK. Afterward, when I executed the same command, it started working as expected.","title":"build docker image using graalvm Error: Main entry point class &#39;app.jar&#39; not found com.oracle.svm.core.util.UserError$UserException","body":"<p>I encountered a similar issue with a basic &quot;Hello World&quot; program. The problem arose because I initially compiled the Java file using Corretto Java 17 and then attempted to build a native image of that class using the command <code>native-image Hello</code>.</p>\n<p>However, I resolved the issue by removing the existing class file and recompiling it using the GraalVM JDK. Afterward, when I executed the same command, it started working as expected.</p>\n"}],"owner":{"account_id":15305214,"reputation":659,"user_id":11042217,"display_name":"ARINDAM BANERJEE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4913,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1686942021,"creation_date":1569599823,"question_id":58137906,"body_markdown":"I am trying to build my Docker image using graalvm-ce but it fails showing error as:\r\n\r\nAs per oracle blog post I have mentioned the Java class also as a starting point but still it fails.\r\n\r\n```\r\nError: Main entry point class &#39;app.jar&#39; not found.\r\ncom.oracle.svm.core.util.UserError$UserException: Main entry point class &#39;app.jar&#39; not found.\r\n        at com.oracle.svm.core.util.UserError.abort(UserError.java:65)\r\n        at com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:260)\r\n        at com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:448)\r\n        at com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:113)\r\nError: Image build request failed with exit status 1\r\n```\r\n\r\nHere is my Dockerfile:\r\n\r\n```\r\n#Multi stage docker file\r\n\r\nFROM maven:3.6.1-jdk-8 AS build\r\n\r\nENV APP_HOME=/root/dev/app/\r\n\r\nCOPY src $APP_HOME/src\r\n\r\nCOPY pom.xml $APP_HOME/\r\n\r\nRUN mvn -f $APP_HOME/pom.xml clean package -DskipTests\r\n\r\n\r\n\r\nFROM oracle/graalvm-ce:19.2.0 AS build-aot\r\n\r\nRUN ln -s /opt/graalvm-ce-19.2.0 /opt/graalvm\r\nENV GRAALVM_HOME=/opt/graalvm\r\nENV JAVA_HOME=/opt/graalvm\r\nENV PATH=${GRAALVM_HOME}/bin:${PATH}\r\nRUN gu install native-image\r\nCOPY --from=build /root/dev/app/target/knative-spring-gke-1.0.jar /app.jar\r\nRUN native-image --no-server -cp -jar app.jar com.arindam.knative.gke.KnativeSpringGkeApplication\r\n#ENTRYPOINT [&quot;./app&quot;]\r\n\r\nFROM frolvlad/alpine-glibc\r\nEXPOSE 8080\r\nCOPY --from=build-aot /app .\r\nENTRYPOINT [&quot;./app&quot;]\r\n```\r\n\r\nAny idea? Thanks in advance.\r\n\r\n\r\n","title":"build docker image using graalvm Error: Main entry point class &#39;app.jar&#39; not found com.oracle.svm.core.util.UserError$UserException","body":"<p>I am trying to build my Docker image using graalvm-ce but it fails showing error as:</p>\n\n<p>As per oracle blog post I have mentioned the Java class also as a starting point but still it fails.</p>\n\n<pre><code>Error: Main entry point class 'app.jar' not found.\ncom.oracle.svm.core.util.UserError$UserException: Main entry point class 'app.jar' not found.\n        at com.oracle.svm.core.util.UserError.abort(UserError.java:65)\n        at com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:260)\n        at com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:448)\n        at com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:113)\nError: Image build request failed with exit status 1\n</code></pre>\n\n<p>Here is my Dockerfile:</p>\n\n<pre><code>#Multi stage docker file\n\nFROM maven:3.6.1-jdk-8 AS build\n\nENV APP_HOME=/root/dev/app/\n\nCOPY src $APP_HOME/src\n\nCOPY pom.xml $APP_HOME/\n\nRUN mvn -f $APP_HOME/pom.xml clean package -DskipTests\n\n\n\nFROM oracle/graalvm-ce:19.2.0 AS build-aot\n\nRUN ln -s /opt/graalvm-ce-19.2.0 /opt/graalvm\nENV GRAALVM_HOME=/opt/graalvm\nENV JAVA_HOME=/opt/graalvm\nENV PATH=${GRAALVM_HOME}/bin:${PATH}\nRUN gu install native-image\nCOPY --from=build /root/dev/app/target/knative-spring-gke-1.0.jar /app.jar\nRUN native-image --no-server -cp -jar app.jar com.arindam.knative.gke.KnativeSpringGkeApplication\n#ENTRYPOINT [\"./app\"]\n\nFROM frolvlad/alpine-glibc\nEXPOSE 8080\nCOPY --from=build-aot /app .\nENTRYPOINT [\"./app\"]\n</code></pre>\n\n<p>Any idea? Thanks in advance.</p>\n"},{"tags":["java","android","android-studio","android-4.4-kitkat"],"answers":[{"comments":[{"owner":{"account_id":14950171,"reputation":129,"user_id":10794112,"display_name":"lukeey"},"score":0,"creation_date":1592577362,"post_id":62467046,"comment_id":110483780,"body_markdown":"Thanks, but developer didn&#39;t made his job at all. I tried, but can&#39;t find those .so files and also i took .apk from SDK which i received by developer, and still same problem.","body":"Thanks, but developer didn&#39;t made his job at all. I tried, but can&#39;t find those .so files and also i took .apk from SDK which i received by developer, and still same problem."},{"owner":{"account_id":14950171,"reputation":129,"user_id":10794112,"display_name":"lukeey"},"score":0,"creation_date":1592577385,"post_id":62467046,"comment_id":110483791,"body_markdown":"Is there any option to create event handler for that scanner ? It&#39;s integrated barcode scanner in mobile device","body":"Is there any option to create event handler for that scanner ? It&#39;s integrated barcode scanner in mobile device"},{"owner":{"account_id":14950171,"reputation":129,"user_id":10794112,"display_name":"lukeey"},"score":0,"creation_date":1593145571,"post_id":62467046,"comment_id":110683097,"body_markdown":"Yes, they have own sdk, but this is the error I’m getting while running the app.","body":"Yes, they have own sdk, but this is the error I’m getting while running the app."}],"tags":[],"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592670698,"creation_date":1592558141,"answer_id":62467046,"question_id":62466477,"body_markdown":"You are most likely missing another .so file. Ensure that all .so files are in the same directory.\r\n\r\nThe following may help to identify referenced .so files:\r\nhttps://unix.stackexchange.com/questions/120015/how-to-find-out-the-dynamic-libraries-executables-loads-when-run\r\n\r\n\r\n----------\r\n\r\nUpdate:\r\n\r\nI&#39;m not aware of any android API for this type of hardware. According to https://kcosit.com/kcosit-v720-p1496437.html your device contains most likely a OEM version of the SE4710 barcode scanner, manufactured by Motorola. It seems that there exists an SDK from Motorola but I could only find the corresponding  [documenation][1]. It is most likely used as base for SDKs provided by OEM licensors. One of such an SDK is available here: https://developer.zebra.com/community/tools\r\n\r\nMaybe you are lucky and you can use this SDK also for your device. If it should \r\n also be compatible with your device you would of course also need to check license of the SDK - I haven&#39;t found any info yet. Maybe you are able to find a source for the original SDK from Motorolla or an other SDK from an OEM licensor.\r\n\r\n\r\n  [1]: https://help.famoco.com/downloads/SWDecodeAndroid_IG.pdf","title":"dlopen failed: cannot locate symbol &quot;_ZN7android10VectorImpl19reservedVectorImpl1Ev&quot;","body":"<p>You are most likely missing another .so file. Ensure that all .so files are in the same directory.</p>\n<p>The following may help to identify referenced .so files:\n<a href=\"https://unix.stackexchange.com/questions/120015/how-to-find-out-the-dynamic-libraries-executables-loads-when-run\">https://unix.stackexchange.com/questions/120015/how-to-find-out-the-dynamic-libraries-executables-loads-when-run</a></p>\n<hr />\n<p>Update:</p>\n<p>I'm not aware of any android API for this type of hardware. According to <a href=\"https://kcosit.com/kcosit-v720-p1496437.html\" rel=\"nofollow noreferrer\">https://kcosit.com/kcosit-v720-p1496437.html</a> your device contains most likely a OEM version of the SE4710 barcode scanner, manufactured by Motorola. It seems that there exists an SDK from Motorola but I could only find the corresponding  <a href=\"https://help.famoco.com/downloads/SWDecodeAndroid_IG.pdf\" rel=\"nofollow noreferrer\">documenation</a>. It is most likely used as base for SDKs provided by OEM licensors. One of such an SDK is available here: <a href=\"https://developer.zebra.com/community/tools\" rel=\"nofollow noreferrer\">https://developer.zebra.com/community/tools</a></p>\n<p>Maybe you are lucky and you can use this SDK also for your device. If it should\nalso be compatible with your device you would of course also need to check license of the SDK - I haven't found any info yet. Maybe you are able to find a source for the original SDK from Motorolla or an other SDK from an OEM licensor.</p>\n"}],"owner":{"account_id":14950171,"reputation":129,"user_id":10794112,"display_name":"lukeey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686940965,"creation_date":1592555983,"question_id":62466477,"body_markdown":"I need help, cause I&#39;m stucked for 2 days from now and i can&#39;t find anything.\r\nI bought device: Kcosit V720 on aliexpress and they send me library with it, but it&#39;s so hard to get it work correctly.\r\n\r\nWhile I was trying to load library, i had to download libcamera_client.so, because libbarcodereader.so needed it, so i don&#39;t know if it is compatible, but now, I&#39;m receiving another error. Any ideas how to fix it ?:\r\n\r\n    2020-06-19 09:29:33.056 7239-7239/com.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.myapplication, PID: 7239\r\n    java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol &quot;_ZN7android10VectorImpl19reservedVectorImpl1Ev&quot; referenced by &quot;/data/app/com.myapplication-1/lib/arm/libbarcodereader.so&quot;...\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:977)\r\n        at java.lang.System.loadLibrary(System.java:1530)\r\n        at com.myapplication.MainActivity.&lt;clinit&gt;(MainActivity.java:12)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1078)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2616)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2789)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:203)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6251)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1063)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:924)","title":"dlopen failed: cannot locate symbol &quot;_ZN7android10VectorImpl19reservedVectorImpl1Ev&quot;","body":"<p>I need help, cause I'm stucked for 2 days from now and i can't find anything.\nI bought device: Kcosit V720 on aliexpress and they send me library with it, but it's so hard to get it work correctly.</p>\n<p>While I was trying to load library, i had to download libcamera_client.so, because libbarcodereader.so needed it, so i don't know if it is compatible, but now, I'm receiving another error. Any ideas how to fix it ?:</p>\n<pre><code>2020-06-19 09:29:33.056 7239-7239/com.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.myapplication, PID: 7239\njava.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol &quot;_ZN7android10VectorImpl19reservedVectorImpl1Ev&quot; referenced by &quot;/data/app/com.myapplication-1/lib/arm/libbarcodereader.so&quot;...\n    at java.lang.Runtime.loadLibrary0(Runtime.java:977)\n    at java.lang.System.loadLibrary(System.java:1530)\n    at com.myapplication.MainActivity.&lt;clinit&gt;(MainActivity.java:12)\n    at java.lang.Class.newInstance(Native Method)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1078)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2616)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2789)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527)\n    at android.os.Handler.dispatchMessage(Handler.java:110)\n    at android.os.Looper.loop(Looper.java:203)\n    at android.app.ActivityThread.main(ActivityThread.java:6251)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1063)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:924)\n</code></pre>\n"},{"tags":["java","amazon-web-services","exception","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":16233358,"reputation":11,"user_id":13894221,"display_name":"Luciana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686940876,"creation_date":1686940876,"answer_id":76492838,"question_id":76443214,"body_markdown":"So, after some time I finally understood that I was just not reading the documentation correctly, the OAuthFlow is being set automatically as &quot;client_credentials&quot;, which doesn&#39;t support these scopes for some reason. After I set the OAuthFlow to &quot;code&quot; it started working.\r\n\r\nIn case anyone comes across this in the future and uses it as reference, I also had to set OAuthFlowsUserPoolClient to &quot;true&quot; and add the scope &quot;openid&quot; to be able to use &quot;profile&quot; and &quot;email&quot;. It ended up like this:\r\n\r\n`````\r\n  CreateUserPoolClientRequest req = new CreateUserPoolClientRequest();\r\n    \t\t\r\n  req.withSupportedIdentityProviders(&quot;COGNITO&quot;);\r\n  req.withAllowedOAuthFlows(&quot;code&quot;);\r\n  req.setAllowedOAuthFlowsUserPoolClient(true);\r\n  req.withAllowedOAuthScopes(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;); \r\n\r\n  req.withLogoutURLs(&quot;https://&quot;+ appName +&quot;.com&quot;);\r\n  req.withCallbackURLs(&quot;https://&quot;+ appName +&quot;.com&quot;);\r\n  req.setDefaultRedirectURI(&quot;https://&quot;+ appName +&quot;.com&quot;);\r\n\r\n  req.setUserPoolId(userPoolId);\r\n  req.setClientName(appName);\r\n  req.setGenerateSecret(true);     \t\t\r\n  \r\n  CreateUserPoolClientResult result = idProviderClient.createUserPoolClient(req);\r\n`````\r\n\r\nThe exception itself was coming from the &quot;client_credentials&quot; being set as default, though.","title":"Why am I receiving InvalidOAuthFlowException when I&#39;m not setting an OAuthFlow in Cognito API?","body":"<p>So, after some time I finally understood that I was just not reading the documentation correctly, the OAuthFlow is being set automatically as &quot;client_credentials&quot;, which doesn't support these scopes for some reason. After I set the OAuthFlow to &quot;code&quot; it started working.</p>\n<p>In case anyone comes across this in the future and uses it as reference, I also had to set OAuthFlowsUserPoolClient to &quot;true&quot; and add the scope &quot;openid&quot; to be able to use &quot;profile&quot; and &quot;email&quot;. It ended up like this:</p>\n<pre><code>  CreateUserPoolClientRequest req = new CreateUserPoolClientRequest();\n            \n  req.withSupportedIdentityProviders(&quot;COGNITO&quot;);\n  req.withAllowedOAuthFlows(&quot;code&quot;);\n  req.setAllowedOAuthFlowsUserPoolClient(true);\n  req.withAllowedOAuthScopes(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;); \n\n  req.withLogoutURLs(&quot;https://&quot;+ appName +&quot;.com&quot;);\n  req.withCallbackURLs(&quot;https://&quot;+ appName +&quot;.com&quot;);\n  req.setDefaultRedirectURI(&quot;https://&quot;+ appName +&quot;.com&quot;);\n\n  req.setUserPoolId(userPoolId);\n  req.setClientName(appName);\n  req.setGenerateSecret(true);          \n  \n  CreateUserPoolClientResult result = idProviderClient.createUserPoolClient(req);\n</code></pre>\n<p>The exception itself was coming from the &quot;client_credentials&quot; being set as default, though.</p>\n"}],"owner":{"account_id":16233358,"reputation":11,"user_id":13894221,"display_name":"Luciana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76492838,"answer_count":1,"score":0,"last_activity_date":1686940876,"creation_date":1686339342,"question_id":76443214,"body_markdown":"I&#39;m trying to write a java function to integrate with the Cognito API but I&#39;m getting this exception:\r\n\r\n&gt; 09/06/2023 16:02:26  com.amazonaws.services.cognitoidp.model.InvalidOAuthFlowException: profile is not supported with client_credentials flow (Service: AWSCognitoIdentityProvider; Status Code: 400; Error Code: InvalidOAuthFlowException; Request ID: ID)\r\n\r\n\r\nThis is the function I have written, though:\r\n\r\n\r\n```\r\n    \t\tCreateUserPoolClientRequest req = new CreateUserPoolClientRequest();\r\n    \t\t\r\n    \t\treq.setUserPoolId(userPoolId);\r\n    \t\treq.setClientName(appName);\r\n    \t\t\r\n    \t\tList&lt;String&gt; scopes = new ArrayList&lt;String&gt;();\r\n    \t\tscopes.add(&quot;profile&quot;);\r\n    \t\tscopes.add(&quot;email&quot;);\r\n    \t\t\r\n    \t\treq.setAllowedOAuthScopes(scopes); \r\n    \t\t\r\n    \t\tCreateUserPoolClientResult result = idProviderClient.createUserPoolClient(req);\r\n```\r\n\r\nAs you can see, I have not set Allowed OAuth Flow, only Allowed OAuth Scopes. Going by this documentation [here](https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_CreateUserPoolClient.html), AllowedOAuthFlow is not required, so I don&#39;t see where this exception is coming from.\r\n\r\nIf I don&#39;t set the AllowedOAuthScopes the function is successful, but I want to set them. What do I do?","title":"Why am I receiving InvalidOAuthFlowException when I&#39;m not setting an OAuthFlow in Cognito API?","body":"<p>I'm trying to write a java function to integrate with the Cognito API but I'm getting this exception:</p>\n<blockquote>\n<p>09/06/2023 16:02:26  com.amazonaws.services.cognitoidp.model.InvalidOAuthFlowException: profile is not supported with client_credentials flow (Service: AWSCognitoIdentityProvider; Status Code: 400; Error Code: InvalidOAuthFlowException; Request ID: ID)</p>\n</blockquote>\n<p>This is the function I have written, though:</p>\n<pre><code>            CreateUserPoolClientRequest req = new CreateUserPoolClientRequest();\n            \n            req.setUserPoolId(userPoolId);\n            req.setClientName(appName);\n            \n            List&lt;String&gt; scopes = new ArrayList&lt;String&gt;();\n            scopes.add(&quot;profile&quot;);\n            scopes.add(&quot;email&quot;);\n            \n            req.setAllowedOAuthScopes(scopes); \n            \n            CreateUserPoolClientResult result = idProviderClient.createUserPoolClient(req);\n</code></pre>\n<p>As you can see, I have not set Allowed OAuth Flow, only Allowed OAuth Scopes. Going by this documentation <a href=\"https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_CreateUserPoolClient.html\" rel=\"nofollow noreferrer\">here</a>, AllowedOAuthFlow is not required, so I don't see where this exception is coming from.</p>\n<p>If I don't set the AllowedOAuthScopes the function is successful, but I want to set them. What do I do?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686871735,"post_id":76486061,"comment_id":134861724,"body_markdown":"Please be more specific about what is not working.","body":"Please be more specific about what is not working."},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":1,"creation_date":1686875590,"post_id":76486061,"comment_id":134862059,"body_markdown":"JSONObject expect the string to be the JSON string, not a path to a file. Maybe this link may help https://stackoverflow.com/a/20090084/9520479","body":"JSONObject expect the string to be the JSON string, not a path to a file. Maybe this link may help <a href=\"https://stackoverflow.com/a/20090084/9520479\">stackoverflow.com/a/20090084/9520479</a>"},{"owner":{"account_id":12279151,"reputation":15,"user_id":8961360,"display_name":"Tiana"},"score":0,"creation_date":1686878281,"post_id":76486061,"comment_id":134862286,"body_markdown":"Tried the stuff in the link, but when it tries to run the inputStream it crashes with an IOException","body":"Tried the stuff in the link, but when it tries to run the inputStream it crashes with an IOException"},{"owner":{"account_id":12279151,"reputation":15,"user_id":8961360,"display_name":"Tiana"},"score":0,"creation_date":1686881242,"post_id":76486061,"comment_id":134862498,"body_markdown":"Okay, figured out that my method being static was screwing with the parsing. That&#39;s fixed, but it still won&#39;t map onto an object giving me a com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 2 column 2 path $[0] error","body":"Okay, figured out that my method being static was screwing with the parsing. That&#39;s fixed, but it still won&#39;t map onto an object giving me a com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 2 column 2 path $[0] error"}],"answers":[{"tags":[],"owner":{"account_id":12279151,"reputation":15,"user_id":8961360,"display_name":"Tiana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686940632,"creation_date":1686940632,"answer_id":76492820,"question_id":76486061,"body_markdown":"Alright I figured out my issues. First, I needed to make my method non-static, which allowed me to read the JSON file through an InputStream. Then I needed to use an array (but not a list... for some reason?) to map all the json data to objects. At the end my code looked like this:\r\n\r\n     private String deserializeItem() throws IOException, JSONException {\r\n        String itemText = &quot;&quot;;\r\n        Gson gson = new Gson();\r\n        InputStream is = getAssets().open(&quot;JSONFile.json&quot;);\r\n        String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\r\n        Item[] items = gson.fromJson(jsonTxt, Item[].class);\r\n        List&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\r\n\r\n        //Eliminates objects with null and empty item names\r\n        for (int i=0; i&lt;items.length; i++)\r\n        {\r\n            if (items[i].getItemName() == null) {continue;}\r\n            else if (items[i].getItemName().equals(&quot;&quot;)) {continue;}\r\n            else {itemList.add(items[i]);}\r\n        }\r\n\r\nThis let me parse the JSON file into objects and remove all null and empty values in it.","title":"How to parse a JSON file in android while skipping items with null values","body":"<p>Alright I figured out my issues. First, I needed to make my method non-static, which allowed me to read the JSON file through an InputStream. Then I needed to use an array (but not a list... for some reason?) to map all the json data to objects. At the end my code looked like this:</p>\n<pre><code> private String deserializeItem() throws IOException, JSONException {\n    String itemText = &quot;&quot;;\n    Gson gson = new Gson();\n    InputStream is = getAssets().open(&quot;JSONFile.json&quot;);\n    String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\n    Item[] items = gson.fromJson(jsonTxt, Item[].class);\n    List&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\n\n    //Eliminates objects with null and empty item names\n    for (int i=0; i&lt;items.length; i++)\n    {\n        if (items[i].getItemName() == null) {continue;}\n        else if (items[i].getItemName().equals(&quot;&quot;)) {continue;}\n        else {itemList.add(items[i]);}\n    }\n</code></pre>\n<p>This let me parse the JSON file into objects and remove all null and empty values in it.</p>\n"}],"owner":{"account_id":12279151,"reputation":15,"user_id":8961360,"display_name":"Tiana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686940632,"creation_date":1686871299,"question_id":76486061,"body_markdown":"Part of my JSON file: \r\n```\r\n[\r\n{&quot;id&quot;: 755, &quot;listId&quot;: 2, &quot;name&quot;: &quot;&quot;},\r\n{&quot;id&quot;: 203, &quot;listId&quot;: 2, &quot;name&quot;: &quot;&quot;},\r\n{&quot;id&quot;: 684, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 684&quot;},\r\n{&quot;id&quot;: 276, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 276&quot;},\r\n{&quot;id&quot;: 736, &quot;listId&quot;: 3, &quot;name&quot;: null},\r\n{&quot;id&quot;: 926, &quot;listId&quot;: 4, &quot;name&quot;: null},\r\n{&quot;id&quot;: 808, &quot;listId&quot;: 4, &quot;name&quot;: &quot;Item 808&quot;}]\r\n```\r\n\r\nI want to parse the JSON file into Item objects while skipping over the null values. However I&#39;m getting an error now from gson\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\r\n&gt; Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 2 column 2 path $[0]\r\n\r\n\r\n```\r\nprivate String deserializeItem() throws IOException, JSONException {\r\n        String itemText = &quot;&quot;;\r\n        //Item item = new Item();\r\n        Gson gson = new Gson();\r\n\r\n        InputStream is = getAssets().open(&quot;JSONFile.json&quot;);\r\n        String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\r\n        //Map map = gson.fromJson(jsonTxt, Map.class);\r\n        //Map&lt;String,Item&gt; map = new HashMap&lt;String, Item&gt;();\r\n        //map = (Map&lt;String,Item&gt;) gson.fromJson(jsonTxt, map.getClass());\r\n        //List&lt;Item&gt; itemList = Arrays.asList(gson.fromJson(jsonTxt, Item[].class));\r\n        //Item item = gson.fromJson(jsonTxt, Item.class);\r\n        JsonElement json = gson.fromJson(new FileReader(&quot;fetchJSONFile.json&quot;), JsonElement.class);\r\n        String result = gson.toJson(json);\r\n\r\n        System.out.println(jsonTxt);\r\n        //JSONObject json = new JSONObject(jsonTxt);\r\n        //String a = json.getString(&quot;1000&quot;);\r\n        //System.out.println(a);\r\n\r\n        return itemText;\r\n```\r\nCommented out portions are my various attempts to get this to work. It reads the file now without crashing, but does not parse to an object.\r\n","title":"How to parse a JSON file in android while skipping items with null values","body":"<p>Part of my JSON file:</p>\n<pre><code>[\n{&quot;id&quot;: 755, &quot;listId&quot;: 2, &quot;name&quot;: &quot;&quot;},\n{&quot;id&quot;: 203, &quot;listId&quot;: 2, &quot;name&quot;: &quot;&quot;},\n{&quot;id&quot;: 684, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 684&quot;},\n{&quot;id&quot;: 276, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 276&quot;},\n{&quot;id&quot;: 736, &quot;listId&quot;: 3, &quot;name&quot;: null},\n{&quot;id&quot;: 926, &quot;listId&quot;: 4, &quot;name&quot;: null},\n{&quot;id&quot;: 808, &quot;listId&quot;: 4, &quot;name&quot;: &quot;Item 808&quot;}]\n</code></pre>\n<p>I want to parse the JSON file into Item objects while skipping over the null values. However I'm getting an error now from gson</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\nExpected BEGIN_ARRAY but was BEGIN_OBJECT at line 2 column 2 path $[0]</p>\n</blockquote>\n<pre><code>private String deserializeItem() throws IOException, JSONException {\n        String itemText = &quot;&quot;;\n        //Item item = new Item();\n        Gson gson = new Gson();\n\n        InputStream is = getAssets().open(&quot;JSONFile.json&quot;);\n        String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\n        //Map map = gson.fromJson(jsonTxt, Map.class);\n        //Map&lt;String,Item&gt; map = new HashMap&lt;String, Item&gt;();\n        //map = (Map&lt;String,Item&gt;) gson.fromJson(jsonTxt, map.getClass());\n        //List&lt;Item&gt; itemList = Arrays.asList(gson.fromJson(jsonTxt, Item[].class));\n        //Item item = gson.fromJson(jsonTxt, Item.class);\n        JsonElement json = gson.fromJson(new FileReader(&quot;fetchJSONFile.json&quot;), JsonElement.class);\n        String result = gson.toJson(json);\n\n        System.out.println(jsonTxt);\n        //JSONObject json = new JSONObject(jsonTxt);\n        //String a = json.getString(&quot;1000&quot;);\n        //System.out.println(a);\n\n        return itemText;\n</code></pre>\n<p>Commented out portions are my various attempts to get this to work. It reads the file now without crashing, but does not parse to an object.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15226980,"reputation":64,"user_id":10987272,"display_name":"Enol Garc&#237;a Gonz&#225;lez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686937765,"creation_date":1686937765,"answer_id":76492555,"question_id":76115129,"body_markdown":"You need to add another dependency on the pom.xml file for the language that you are going to process. In your case, for java, you nedd to add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;de.jplag&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDo not remove your current dependency, you will need both.","title":"Cannot resolve de.jplag.java.Language(), trying to use the JPlag API","body":"<p>You need to add another dependency on the pom.xml file for the language that you are going to process. In your case, for java, you nedd to add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.jplag&lt;/groupId&gt;\n    &lt;artifactId&gt;java&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Do not remove your current dependency, you will need both.</p>\n"}],"owner":{"account_id":20142342,"reputation":13,"user_id":14771760,"display_name":"authorized_bot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686937765,"creation_date":1682543565,"question_id":76115129,"body_markdown":"I&#39;m trying to learn how to use the API but keep running into this error, all I did was copy paste the example code\r\n\r\n\r\n\r\n\r\n\r\n```\r\nLanguage language = new de.jplag.java.Language();\r\n        Set&lt;File&gt; submissionDirectories = Set.of(new File(&quot;/path/to/rootDir&quot;));\r\n        File baseCode = new File(&quot;/path/to/baseCode&quot;);\r\n        JPlagOptions options = new JPlagOptions(language, submissionDirectories, Set.of()).withBaseCodeSubmissionDirectory(baseCode);\r\n\r\n        JPlag jplag = new JPlag(options);\r\n        try {\r\n            JPlagResult result = jplag.run();\r\n\r\n            // Optional\r\n            ReportObjectFactory reportObjectFactory = new ReportObjectFactory();\r\n            reportObjectFactory.createAndSaveReport(result, &quot;/path/to/output&quot;);\r\n        } catch (ExitException e) {\r\n            // error handling here\r\n        }\r\n```\r\nThis is the version I&#39;m using\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;de.jplag&lt;/\r\n    &lt;artifactId&gt;jplag&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;  \r\n```","title":"Cannot resolve de.jplag.java.Language(), trying to use the JPlag API","body":"<p>I'm trying to learn how to use the API but keep running into this error, all I did was copy paste the example code</p>\n<pre><code>Language language = new de.jplag.java.Language();\n        Set&lt;File&gt; submissionDirectories = Set.of(new File(&quot;/path/to/rootDir&quot;));\n        File baseCode = new File(&quot;/path/to/baseCode&quot;);\n        JPlagOptions options = new JPlagOptions(language, submissionDirectories, Set.of()).withBaseCodeSubmissionDirectory(baseCode);\n\n        JPlag jplag = new JPlag(options);\n        try {\n            JPlagResult result = jplag.run();\n\n            // Optional\n            ReportObjectFactory reportObjectFactory = new ReportObjectFactory();\n            reportObjectFactory.createAndSaveReport(result, &quot;/path/to/output&quot;);\n        } catch (ExitException e) {\n            // error handling here\n        }\n</code></pre>\n<p>This is the version I'm using</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.jplag&lt;/\n    &lt;artifactId&gt;jplag&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n"},{"tags":["java","import","text-to-speech","importerror","freetts"],"owner":{"account_id":27855384,"reputation":1,"user_id":21268996,"display_name":"sams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686937235,"creation_date":1686506590,"question_id":76451828,"body_markdown":"I tried to make a tts code but i faild at the very beginning. The .jars are downloaded and in my lib, but i can`t import them into my code. it only shows: &quot;The package com.sun.speech is not accessible&quot;\r\nDid that happen to anyone else and does anyone know how to resolve this?\r\n\r\nIdk if this helps, but im using eclipse, i have a module-info.java and i added: &quot;requires jdk.httpserver;&quot;\r\nbut that doesnt help\r\n\r\nimport com.sun.speech.freetts.Voice;  \r\nimport com.sun.speech.freetts.VoiceManager;\r\n\r\nand thats where i failed, the first 2 lines of code. I never had a problem with importing stuff and it also works if i imoprt other things in the same class","title":"Java FreeTTS: The package com.sun.speech is not accessible","body":"<p>I tried to make a tts code but i faild at the very beginning. The .jars are downloaded and in my lib, but i can`t import them into my code. it only shows: &quot;The package com.sun.speech is not accessible&quot;\nDid that happen to anyone else and does anyone know how to resolve this?</p>\n<p>Idk if this helps, but im using eclipse, i have a module-info.java and i added: &quot;requires jdk.httpserver;&quot;\nbut that doesnt help</p>\n<p>import com.sun.speech.freetts.Voice;<br />\nimport com.sun.speech.freetts.VoiceManager;</p>\n<p>and thats where i failed, the first 2 lines of code. I never had a problem with importing stuff and it also works if i imoprt other things in the same class</p>\n"},{"tags":["java","class","import","package"],"answers":[{"comments":[{"owner":{"account_id":4433743,"reputation":2585,"user_id":3610183,"accept_rate":87,"display_name":"rainman"},"score":0,"creation_date":1431791962,"post_id":30277669,"comment_id":48653946,"body_markdown":"both classes are located in a folder named finanza and when i compile as you indicated it compile correctly even when i delete or comment the import finanza.Valuta; line, and of course it would be easier to use an IDE but i want to learn how to compile and generate jar and javadoc from the command line.","body":"both classes are located in a folder named finanza and when i compile as you indicated it compile correctly even when i delete or comment the import finanza.Valuta; line, and of course it would be easier to use an IDE but i want to learn how to compile and generate jar and javadoc from the command line."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1431791264,"creation_date":1431791264,"answer_id":30277669,"question_id":30277632,"body_markdown":"I strongly suspect the problem is in how you&#39;re compiling.\r\n\r\nBoth `ConvertiEuro.java` and `Valuta.java` should be in a directory called `finanza`, and you should ideally compile from the *parent* directory, so that all the compiler knows where to find other code in the same package. It would *expect* to find a source file in a `finanza` directory under the one you&#39;re currently in, for a package called `finanza`.\r\n\r\nIt&#39;s simplest just to compile all the files at the same time though:\r\n\r\n    javac finanza/*.java\r\n\r\n... or better yet, use an IDE which will manage this sort of things for you.","title":"A java class can&#39;t find an other in the same package","body":"<p>I strongly suspect the problem is in how you're compiling.</p>\n\n<p>Both <code>ConvertiEuro.java</code> and <code>Valuta.java</code> should be in a directory called <code>finanza</code>, and you should ideally compile from the <em>parent</em> directory, so that all the compiler knows where to find other code in the same package. It would <em>expect</em> to find a source file in a <code>finanza</code> directory under the one you're currently in, for a package called <code>finanza</code>.</p>\n\n<p>It's simplest just to compile all the files at the same time though:</p>\n\n<pre><code>javac finanza/*.java\n</code></pre>\n\n<p>... or better yet, use an IDE which will manage this sort of things for you.</p>\n"}],"owner":{"account_id":4433743,"reputation":2585,"user_id":3610183,"accept_rate":87,"display_name":"rainman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30277669,"answer_count":1,"score":0,"last_activity_date":1686937105,"creation_date":1431791057,"question_id":30277632,"body_markdown":"I am implementing a java program in ubuntu without an IDE that converts a currency to €, i have 2 classes ConvertiEuro and Valuta both in the same directory (package) called finanza, the class ConvertiEuro uses the class Valuta, when i try to compile Valuta.java it compiles correctly but when i compile ConvertiEuro.java I get an error saying &quot;ConvertiEuro.java:3: error: cannot find symbol&quot; I don&#39;t know why here is the code\r\n\r\n      package finanza;\r\n\r\n       public class Valuta {\r\n\r\n         private String nomeValuta;\r\n         private double totValuta;\r\n\r\n\r\n\r\n        public Valuta(String nomeVal, double totVal) {\r\n\r\n                 nomeValuta = nomeVal;\r\n                 totValuta = totVal;\r\n       }\r\n\r\n           public String getNomeValuta() {\r\n\r\n              return nomeValuta;    \r\n           }\r\n\r\n            public double getTotValuta() {\r\n              return totValuta;     \r\n       }\r\n\r\n\r\n  }\r\n\r\n   \r\n\r\n    package finanza;\r\n\r\n     import finanza.Valuta;\r\n\r\n     public class ConvertiEuro {\r\n\r\n\r\n    private int valuteGestibili;\r\n    private int cont = 0;\r\n    private Valuta [] valutas;\r\n\r\n\r\n\r\n    public ConvertiEuro(int valuteGest) {\r\n\r\n        this.valuteGestibili = valuteGest;\r\n        this.valutas = new Valuta [this.valuteGestibili];\r\n\r\n\r\n    }\r\n    public boolean impostaValuta(Valuta val){\r\n\r\n\r\n        if(cont&lt;valuteGestibili) {\r\n            this.valutas[cont] = val;\r\n            cont ++;\r\n            return true; \r\n\r\n        }\r\n        else {\r\n            return false;\r\n        }   \r\n\r\n    }\r\n\r\n    }\r\n\r\nand this how I compile: javac ConvertiEuro.java","title":"A java class can&#39;t find an other in the same package","body":"<p>I am implementing a java program in ubuntu without an IDE that converts a currency to €, i have 2 classes ConvertiEuro and Valuta both in the same directory (package) called finanza, the class ConvertiEuro uses the class Valuta, when i try to compile Valuta.java it compiles correctly but when i compile ConvertiEuro.java I get an error saying \"ConvertiEuro.java:3: error: cannot find symbol\" I don't know why here is the code</p>\n\n<pre><code>  package finanza;\n\n   public class Valuta {\n\n     private String nomeValuta;\n     private double totValuta;\n\n\n\n    public Valuta(String nomeVal, double totVal) {\n\n             nomeValuta = nomeVal;\n             totValuta = totVal;\n   }\n\n       public String getNomeValuta() {\n\n          return nomeValuta;    \n       }\n\n        public double getTotValuta() {\n          return totValuta;     \n   }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>package finanza;\n\n import finanza.Valuta;\n\n public class ConvertiEuro {\n\n\nprivate int valuteGestibili;\nprivate int cont = 0;\nprivate Valuta [] valutas;\n\n\n\npublic ConvertiEuro(int valuteGest) {\n\n    this.valuteGestibili = valuteGest;\n    this.valutas = new Valuta [this.valuteGestibili];\n\n\n}\npublic boolean impostaValuta(Valuta val){\n\n\n    if(cont&lt;valuteGestibili) {\n        this.valutas[cont] = val;\n        cont ++;\n        return true; \n\n    }\n    else {\n        return false;\n    }   \n\n}\n\n}\n</code></pre>\n\n<p>and this how I compile: javac ConvertiEuro.java</p>\n"},{"tags":["java","spring-boot","file"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1686924827,"post_id":76490972,"comment_id":134869675,"body_markdown":"What&#39;s not working? You can&#39;t find any file in the folder? Is it working locally but not when packaged? Do you get an error? In addition, I don&#39;t think you can get a Bean from a void method. I never checked because it makes no sense. If you want something to run at startup, check CommandLineRunner","body":"What&#39;s not working? You can&#39;t find any file in the folder? Is it working locally but not when packaged? Do you get an error? In addition, I don&#39;t think you can get a Bean from a void method. I never checked because it makes no sense. If you want something to run at startup, check CommandLineRunner"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1686925267,"post_id":76490972,"comment_id":134869795,"body_markdown":"@grekier question eddited and errors added. In addition, I&#39;m using `@Bean` just to get the method executed on the startup, I&#39;ll change it to `@PostConstruct` or something like that.","body":"@grekier question eddited and errors added. In addition, I&#39;m using <code>@Bean</code> just to get the method executed on the startup, I&#39;ll change it to <code>@PostConstruct</code> or something like that."}],"answers":[{"comments":[{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1686925310,"post_id":76491025,"comment_id":134869808,"body_markdown":"This example throws me `class path resource [client_cert] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app.jar!/BOOT-INF/classes!/client_cert` :/","body":"This example throws me <code>class path resource [client_cert] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:&#47;app.jar!&#47;BOOT-INF&#47;classes!&#47;client_cert</code> :/"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1686925580,"post_id":76491025,"comment_id":134869873,"body_markdown":"Updated. Try passing class of your Spring Boot application as the 2nd parameter. Alternatively you can use `@Value`","body":"Updated. Try passing class of your Spring Boot application as the 2nd parameter. Alternatively you can use <code>@Value</code>"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1686925899,"post_id":76491025,"comment_id":134869944,"body_markdown":"Same error :/. I tried both ClientSSLConfig.class and MainSpringBoot.class and got the same error.","body":"Same error :/. I tried both ClientSSLConfig.class and MainSpringBoot.class and got the same error."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1686926082,"post_id":76491025,"comment_id":134869981,"body_markdown":"And what about `@Value` or `ResourceLoader`?","body":"And what about <code>@Value</code> or <code>ResourceLoader</code>?"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686925801,"creation_date":1686924780,"answer_id":76491025,"question_id":76490972,"body_markdown":"I think you should rewrite your code as\r\n```java\r\n\r\n@Configuration\r\npublic class ClientSSLConfig {\r\n    @Value(&quot;classpath:/client_cert&quot;)\r\n    private Resource resource;\r\n    @Autowired\r\n    private ResourceLoader resourceLoader;\r\n\r\n    @Bean\r\n    public void getCertificates(){\r\n        try{\r\n            // Resource resource = new ClassPathResource(&quot;/client_cert&quot;, YourSpringBootApplication.class);\r\n            // Resource resource = resourceLoader.getResource(&quot;/client_cert&quot;);\r\n            File folder = resource.getFile();\r\n\r\n            for(File file : folder.listFiles()){\r\n                loadCerts(file);\r\n            }\r\n\r\n        } catch ( URISyntaxException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```","title":"How to read an entire folder from Resources - Java 8 Spring Boot","body":"<p>I think you should rewrite your code as</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class ClientSSLConfig {\n    @Value(&quot;classpath:/client_cert&quot;)\n    private Resource resource;\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @Bean\n    public void getCertificates(){\n        try{\n            // Resource resource = new ClassPathResource(&quot;/client_cert&quot;, YourSpringBootApplication.class);\n            // Resource resource = resourceLoader.getResource(&quot;/client_cert&quot;);\n            File folder = resource.getFile();\n\n            for(File file : folder.listFiles()){\n                loadCerts(file);\n            }\n\n        } catch ( URISyntaxException e) {\n            throw new RuntimeException(e);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1686933403,"post_id":76491243,"comment_id":134871519,"body_markdown":"Got similar error :(. `Caused by: java.io.FileNotFoundException: class path resource [client_cert] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app.jar!/BOOT-INF/classes!/client_cert` I","body":"Got similar error :(. <code>Caused by: java.io.FileNotFoundException: class path resource [client_cert] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:&#47;app.jar!&#47;BOOT-INF&#47;classes!&#47;client_cert</code> I"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1686935641,"post_id":76491243,"comment_id":134871995,"body_markdown":"@VitorNilson 1) Unpack your jar file (Rename it to zip and look at it.) Find out where your file is. 2) The code I specified looks for a file in the /src/main/resources/properties folder. for a file and returns it as a String. You will need to change my example.","body":"@VitorNilson 1) Unpack your jar file (Rename it to zip and look at it.) Find out where your file is. 2) The code I specified looks for a file in the /src/main/resources/properties folder. for a file and returns it as a String. You will need to change my example."}],"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686926438,"creation_date":1686926438,"answer_id":76491243,"question_id":76490972,"body_markdown":"This will allow you to read a file from a folder named properties in /resources. tweak to return the proper format.\r\nLook at https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html for usage of PathMatchingResourcePatternResolver. It can return back multiple files also. (In my case I just needed one.)\r\n\r\n\r\n    /**\r\n     * In Spring this will read a file from src/main/resources/properties folder\r\n     * @param fileName\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public static String readFileInProperties(String fileName) throws Exception\r\n    {\r\n    \tString retData = null;\r\n    \ttry {\r\n    \t    // Get all the files under this inner resource folder: properties\r\n    \t    String scannedPackage = &quot;properties/&quot; + fileName;;\r\n    \t    PathMatchingResourcePatternResolver scanner = new PathMatchingResourcePatternResolver();\r\n    \t    Resource[] resources = scanner.getResources(scannedPackage);\r\n    \r\n    \t    if (resources == null || resources.length == 0)\r\n    \t    {\r\n    \t        log.warn(&quot;Warning: could not find any resources in this scanned package: &quot; + scannedPackage);\r\n    \t    }\r\n    \t    else \r\n    \t    {\r\n    \t    \tif(resources.length != 1)\r\n    \t    \t{\r\n    \t    \t\tlog.error(&quot;More than one file : &quot; + scannedPackage);\r\n    \t    \t\tthrow new RuntimeException(&quot;More than one file : &quot; + scannedPackage);\r\n    \t    \t}\r\n    \t        for (Resource resource : resources) \r\n    \t        {\r\n    \t            log.info(resource.getFilename());\r\n    \t            try(InputStream is = resource.getInputStream())\r\n    \t            {\r\n    \t                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    \t                int nRead;\r\n    \t                byte[] data = new byte[1024];\r\n    \t                while ((nRead = is.read(data, 0, data.length)) != -1) \r\n    \t                {\r\n    \t                    buffer.write(data, 0, nRead);\r\n    \t                }\r\n    \r\n    \t                buffer.flush();\r\n    \t                byte[] byteArray = buffer.toByteArray();\r\n    \t                retData = new String(byteArray, StandardCharsets.UTF_8);\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \t} \r\n    \tcatch (Exception e) \r\n    \t{\r\n    \t    throw new Exception(&quot;Failed to read the resources folder: &quot; + e.getMessage(), e);\r\n    \t}\r\n    \treturn retData;\r\n    }","title":"How to read an entire folder from Resources - Java 8 Spring Boot","body":"<p>This will allow you to read a file from a folder named properties in /resources. tweak to return the proper format.\nLook at <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html</a> for usage of PathMatchingResourcePatternResolver. It can return back multiple files also. (In my case I just needed one.)</p>\n<pre><code>/**\n * In Spring this will read a file from src/main/resources/properties folder\n * @param fileName\n * @return\n * @throws Exception\n */\npublic static String readFileInProperties(String fileName) throws Exception\n{\n    String retData = null;\n    try {\n        // Get all the files under this inner resource folder: properties\n        String scannedPackage = &quot;properties/&quot; + fileName;;\n        PathMatchingResourcePatternResolver scanner = new PathMatchingResourcePatternResolver();\n        Resource[] resources = scanner.getResources(scannedPackage);\n\n        if (resources == null || resources.length == 0)\n        {\n            log.warn(&quot;Warning: could not find any resources in this scanned package: &quot; + scannedPackage);\n        }\n        else \n        {\n            if(resources.length != 1)\n            {\n                log.error(&quot;More than one file : &quot; + scannedPackage);\n                throw new RuntimeException(&quot;More than one file : &quot; + scannedPackage);\n            }\n            for (Resource resource : resources) \n            {\n                log.info(resource.getFilename());\n                try(InputStream is = resource.getInputStream())\n                {\n                    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n                    int nRead;\n                    byte[] data = new byte[1024];\n                    while ((nRead = is.read(data, 0, data.length)) != -1) \n                    {\n                        buffer.write(data, 0, nRead);\n                    }\n\n                    buffer.flush();\n                    byte[] byteArray = buffer.toByteArray();\n                    retData = new String(byteArray, StandardCharsets.UTF_8);\n                }\n            }\n        }\n    } \n    catch (Exception e) \n    {\n        throw new Exception(&quot;Failed to read the resources folder: &quot; + e.getMessage(), e);\n    }\n    return retData;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1686934030,"post_id":76491426,"comment_id":134871657,"body_markdown":"The `ResourceUtils.getFile(&quot;classpath:client_cert&quot;).toPath()` throws `class path resource [client_cert] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app.jar!/BOOT-INF/classes!/client_cert` :(","body":"The <code>ResourceUtils.getFile(&quot;classpath:client_cert&quot;).toPath()</code> throws <code>class path resource [client_cert] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:&#47;app.jar!&#47;BOOT-INF&#47;classes!&#47;client_cert</code> :("},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1686936966,"post_id":76491426,"comment_id":134872210,"body_markdown":"@VitorNilson yes, my mistake, ... updated my answer","body":"@VitorNilson yes, my mistake, ... updated my answer"}],"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686936963,"creation_date":1686927746,"answer_id":76491426,"question_id":76490972,"body_markdown":"\r\n- use a `PathMatchingResourcePatternResolver` (resolver)\r\n- filter out all *.cert* files via `resolver.getResources(&quot;client_cert/*.cert&quot;)`\r\n \r\nThis will load all the certificates at startup\r\n```java\r\n\r\n@Component\r\nclass ClientCertComponent {\r\n\r\n\t@EventListener\r\n\tpublic void loadCerts(ApplicationReadyEvent event) throws IOException {\r\n\t\tPathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n\t\tResource[] clientCerts = resolver.getResources(&quot;client_cert/*.cert&quot;);\r\n\t\tfor (Resource cert:clientCerts){\r\n\t\t\tloadCert(cert);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void loadCert(Resource cert){\r\n\t\t// load the client certificate\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How to read an entire folder from Resources - Java 8 Spring Boot","body":"<ul>\n<li>use a <code>PathMatchingResourcePatternResolver</code> (resolver)</li>\n<li>filter out all <em>.cert</em> files via <code>resolver.getResources(&quot;client_cert/*.cert&quot;)</code></li>\n</ul>\n<p>This will load all the certificates at startup</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\nclass ClientCertComponent {\n\n    @EventListener\n    public void loadCerts(ApplicationReadyEvent event) throws IOException {\n        PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n        Resource[] clientCerts = resolver.getResources(&quot;client_cert/*.cert&quot;);\n        for (Resource cert:clientCerts){\n            loadCert(cert);\n        }\n    }\n\n    public void loadCert(Resource cert){\n        // load the client certificate\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76491426,"answer_count":3,"score":1,"last_activity_date":1686936963,"creation_date":1686924377,"question_id":76490972,"body_markdown":"I have a Spring Boot project with Java 8.\r\n\r\nMy project has a requirement to add certificates to Java Keystore due to some peculiarities.\r\n\r\nI have created a folder inside resource folders where I&#39;ll put all the certificates:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy spring boot application is compiled in a .jar file. \r\n\r\nI&#39;m trying to read the whole `client_cert` folder, so I&#39;ll be able to iterate over each file in it.\r\n\r\nBut are hard to make out how to do it.\r\n\r\nThis is how I&#39;m currently doing this:\r\n\r\n```java\r\n\r\npackage my.app.config;\r\n\r\n/**imports*/\r\n\r\n@Configuration\r\npublic class ClientSSLConfig {\r\n\r\n    @Bean\r\n    public void getCertificates(){\r\n        try{\r\n            \r\n            File folder = new File(this.getClass().getResource(&quot;/client_cert&quot;).toURI());\r\n\r\n            for(File file : folder.listFiles()){\r\n                loadCerts(file);\r\n            }\r\n\r\n        } catch ( URISyntaxException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n.....\r\n\r\n```\r\n\r\nThis is not working. \r\n\r\nIt Throws `java.lang.IllegalArgumentException: URI is not hierarchical`.\r\n\r\nIf I try different, using `getFile()` instead of `toURI()`, it kinda works, but the `listFiles()` returns null:\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nI tried to use `getResourceAsStream()` but I end up stuck in the same problem.\r\n\r\nSo, what am I missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z6vgk.png\r\n  [2]: https://i.stack.imgur.com/e0T68.png\r\n  [3]: https://i.stack.imgur.com/ThGjx.png","title":"How to read an entire folder from Resources - Java 8 Spring Boot","body":"<p>I have a Spring Boot project with Java 8.</p>\n<p>My project has a requirement to add certificates to Java Keystore due to some peculiarities.</p>\n<p>I have created a folder inside resource folders where I'll put all the certificates:</p>\n<p><a href=\"https://i.stack.imgur.com/z6vgk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z6vgk.png\" alt=\"enter image description here\" /></a></p>\n<p>My spring boot application is compiled in a .jar file.</p>\n<p>I'm trying to read the whole <code>client_cert</code> folder, so I'll be able to iterate over each file in it.</p>\n<p>But are hard to make out how to do it.</p>\n<p>This is how I'm currently doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage my.app.config;\n\n/**imports*/\n\n@Configuration\npublic class ClientSSLConfig {\n\n    @Bean\n    public void getCertificates(){\n        try{\n            \n            File folder = new File(this.getClass().getResource(&quot;/client_cert&quot;).toURI());\n\n            for(File file : folder.listFiles()){\n                loadCerts(file);\n            }\n\n        } catch ( URISyntaxException e) {\n            throw new RuntimeException(e);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n.....\n\n</code></pre>\n<p>This is not working.</p>\n<p>It Throws <code>java.lang.IllegalArgumentException: URI is not hierarchical</code>.</p>\n<p>If I try different, using <code>getFile()</code> instead of <code>toURI()</code>, it kinda works, but the <code>listFiles()</code> returns null:</p>\n<p><a href=\"https://i.stack.imgur.com/e0T68.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0T68.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to use <code>getResourceAsStream()</code> but I end up stuck in the same problem.</p>\n<p>So, what am I missing?</p>\n"},{"tags":["java","rest","weblogic","primavera"],"answers":[{"comments":[{"owner":{"account_id":8021655,"reputation":77,"user_id":6050134,"accept_rate":75,"display_name":"Paul"},"score":0,"creation_date":1685980498,"post_id":76082233,"comment_id":134733504,"body_markdown":"@SknetAdmin - I am facing a similar problem accessing the spread service endpoints specifically ResourceAssignmentSpread to pull data but getting bad request. I am able to retrieve other service eg. Project, Activites..etc. I have also checked version which is 23.1.0. Have you any pointers on URL besides their documentation","body":"@SknetAdmin - I am facing a similar problem accessing the spread service endpoints specifically ResourceAssignmentSpread to pull data but getting bad request. I am able to retrieve other service eg. Project, Activites..etc. I have also checked version which is 23.1.0. Have you any pointers on URL besides their documentation"}],"tags":[],"owner":{"account_id":4375830,"reputation":51,"user_id":4360324,"display_name":"SkynetAdmin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682202789,"creation_date":1682202789,"answer_id":76082233,"question_id":75036531,"body_markdown":"Since I didn&#39;t get any response and I couldn&#39;t find any solution, I updated the Primavera environment to version 22.12. After this update, all endpoints are now available.","title":"Why does Primavera P6 EPPM REST API version 2112 not allow access to Spread REST Endpoints?","body":"<p>Since I didn't get any response and I couldn't find any solution, I updated the Primavera environment to version 22.12. After this update, all endpoints are now available.</p>\n"}],"owner":{"account_id":4375830,"reputation":51,"user_id":4360324,"display_name":"SkynetAdmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76082233,"answer_count":1,"score":0,"last_activity_date":1686936046,"creation_date":1673043014,"question_id":75036531,"body_markdown":"I&#39;m developing a Java application to extract data from Oracle Primavera P6 EPPM 2112 by using the P6 EPPM REST API.\r\n\r\nI installed Weblogic, Primavera P6 EPPM version 21.12 with P6 WebServices, Microsoft SQL Server and loaded project data provided by customer.\r\n\r\nEverything is working fine and my Java application can get Project, WBS and Activity data through P6 EPPM REST API, the problem is that I need to load spread information but **all Spread REST endpoints don&#39;t exists in my server**. These Spread endpoints are available in P6 WebServices (SOAP) but not in the REST API service.\r\n\r\nI searched on Oracle&#39;s P6 EPPM REST API website documentation and the Spread REST endpoints are available with all other endpoints:\r\n\r\n[P6 EPPM Rest API - Spread REST Endpoints](https://docs.oracle.com/cd/F37125_01/English/Integration_Documentation/rest_api/api-spread.html )\r\n\r\nI have read all available P6 EPPM 2112 related documentation and searched online for this issue without success. I also posted a question on Oracle Communities website but still without answer.\r\n\r\nIs there any additional configuration I must do in order to enable these Spread endpoints or are they only available in newer P6 EPPM versions?\r\n\r\nIn short, why Spread REST endpoints are not available on my P6 EPPM 2112 server?\r\n\r\nI installed the full P6 package on three different machines (2 Windows 10 desktop clients and 1 Windows Server machine) to see if I made a mistake in the installation process, but Spread REST endpoints are not available on any of these installations.","title":"Why does Primavera P6 EPPM REST API version 2112 not allow access to Spread REST Endpoints?","body":"<p>I'm developing a Java application to extract data from Oracle Primavera P6 EPPM 2112 by using the P6 EPPM REST API.</p>\n<p>I installed Weblogic, Primavera P6 EPPM version 21.12 with P6 WebServices, Microsoft SQL Server and loaded project data provided by customer.</p>\n<p>Everything is working fine and my Java application can get Project, WBS and Activity data through P6 EPPM REST API, the problem is that I need to load spread information but <strong>all Spread REST endpoints don't exists in my server</strong>. These Spread endpoints are available in P6 WebServices (SOAP) but not in the REST API service.</p>\n<p>I searched on Oracle's P6 EPPM REST API website documentation and the Spread REST endpoints are available with all other endpoints:</p>\n<p><a href=\"https://docs.oracle.com/cd/F37125_01/English/Integration_Documentation/rest_api/api-spread.html\" rel=\"nofollow noreferrer\">P6 EPPM Rest API - Spread REST Endpoints</a></p>\n<p>I have read all available P6 EPPM 2112 related documentation and searched online for this issue without success. I also posted a question on Oracle Communities website but still without answer.</p>\n<p>Is there any additional configuration I must do in order to enable these Spread endpoints or are they only available in newer P6 EPPM versions?</p>\n<p>In short, why Spread REST endpoints are not available on my P6 EPPM 2112 server?</p>\n<p>I installed the full P6 package on three different machines (2 Windows 10 desktop clients and 1 Windows Server machine) to see if I made a mistake in the installation process, but Spread REST endpoints are not available on any of these installations.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687050674,"post_id":76492192,"comment_id":134882807,"body_markdown":"Could we please get a [mcve]? Where does the jar live, how do you point the compiler to it / how do you build?","body":"Could we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Where does the jar live, how do you point the compiler to it / how do you build?"},{"owner":{"account_id":28835636,"reputation":1,"user_id":22085105,"display_name":"Yronusa 2000"},"score":0,"creation_date":1687169968,"post_id":76492192,"comment_id":134894608,"body_markdown":"I&#39;m simply creating a new IntellijIdea project, add a new library using Files | Project Structures | Libairies | Add a library\n\nMy librairies folder looks like a single file which contains the PATH of the .jar (the path is correct I checked). I then import the class from automatic completion import, Intellij does detect the package but doesn&#39;t compile.","body":"I&#39;m simply creating a new IntellijIdea project, add a new library using Files | Project Structures | Libairies | Add a library  My librairies folder looks like a single file which contains the PATH of the .jar (the path is correct I checked). I then import the class from automatic completion import, Intellij does detect the package but doesn&#39;t compile."}],"answers":[{"comments":[{"owner":{"account_id":28835636,"reputation":1,"user_id":22085105,"display_name":"Yronusa 2000"},"score":0,"creation_date":1686999999,"post_id":76492370,"comment_id":134877810,"body_markdown":"Should my project&#39;s lib directory be just a single .xm file named SafeNBT.xml (safeNBT is the name of the library) ?","body":"Should my project&#39;s lib directory be just a single .xm file named SafeNBT.xml (safeNBT is the name of the library) ?"},{"owner":{"account_id":25653278,"reputation":29,"user_id":19420200,"display_name":"peterdsp"},"score":0,"creation_date":1687157049,"post_id":76492370,"comment_id":134891977,"body_markdown":"In most cases, the lib directory of your project should not consist of just a single .xm file called SafeNBT.xml. Typically, the lib directory is used to store JAR files that are required by your project. A JAR file is a compressed archive that contains Java class files, resources, and other necessary files. If you only have one .xm file, a simple solution is to place it directly in the src/main/java directory of your project.","body":"In most cases, the lib directory of your project should not consist of just a single .xm file called SafeNBT.xml. Typically, the lib directory is used to store JAR files that are required by your project. A JAR file is a compressed archive that contains Java class files, resources, and other necessary files. If you only have one .xm file, a simple solution is to place it directly in the src/main/java directory of your project."},{"owner":{"account_id":28835636,"reputation":1,"user_id":22085105,"display_name":"Yronusa 2000"},"score":0,"creation_date":1687175342,"post_id":76492370,"comment_id":134895577,"body_markdown":"The .xm file has the correct path to the .jar though, shouldn&#39;t intellijIdea just import the jar project from that ?","body":"The .xm file has the correct path to the .jar though, shouldn&#39;t intellijIdea just import the jar project from that ?"}],"tags":[],"owner":{"account_id":25653278,"reputation":29,"user_id":19420200,"display_name":"peterdsp"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686935871,"creation_date":1686935871,"answer_id":76492370,"question_id":76492192,"body_markdown":"Oh, the dreaded &quot;package does not exist&quot; error when trying to import a JAR library into IntelliJ IDEA! Don&#39;t panic, we&#39;ve all been there. Let&#39;s tackle this together with a touch of humor. First, let&#39;s make sure that JAR library is not playing hide-and-seek with you. Check if it&#39;s in the right place, like your project&#39;s `lib` directory. Maybe it went on a little adventure and got lost somewhere else. Next, let&#39;s invite it to the party by adding it to your project&#39;s classpath. You know, it&#39;s like giving it a VIP pass to enter your code. Oh, and make sure the JAR library is compatible with your Java version, otherwise they won&#39;t be able to communicate properly. If things still don&#39;t work, let&#39;s try downloading the JAR library again. Maybe it just had a bad hair day and got a bit corrupted. And if all else fails, let&#39;s give it a fresh start with a new project and see if it behaves better there. And hey, don&#39;t be shy to reach out to the JAR library&#39;s author. Maybe they have some magical solution up their sleeve. Hang in there, we&#39;ll tame this &quot;package does not exist&quot; error in no time!","title":"IntellijIdea : &quot;package does not exist&quot; from imported jar library","body":"<p>Oh, the dreaded &quot;package does not exist&quot; error when trying to import a JAR library into IntelliJ IDEA! Don't panic, we've all been there. Let's tackle this together with a touch of humor. First, let's make sure that JAR library is not playing hide-and-seek with you. Check if it's in the right place, like your project's <code>lib</code> directory. Maybe it went on a little adventure and got lost somewhere else. Next, let's invite it to the party by adding it to your project's classpath. You know, it's like giving it a VIP pass to enter your code. Oh, and make sure the JAR library is compatible with your Java version, otherwise they won't be able to communicate properly. If things still don't work, let's try downloading the JAR library again. Maybe it just had a bad hair day and got a bit corrupted. And if all else fails, let's give it a fresh start with a new project and see if it behaves better there. And hey, don't be shy to reach out to the JAR library's author. Maybe they have some magical solution up their sleeve. Hang in there, we'll tame this &quot;package does not exist&quot; error in no time!</p>\n"}],"owner":{"account_id":28835636,"reputation":1,"user_id":22085105,"display_name":"Yronusa 2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686935871,"creation_date":1686934036,"question_id":76492192,"body_markdown":"Despite autocompleting working and no errors being shown, I can&#39;t used jar libraries imported in my IntellijIdea project, whatever the library or the project: compiling gives me a &quot;package xxx does not exist&quot;\r\n\r\nThe problem seems to be common but none of the solutions I finded on stack overflow or anywhere else worked (reinstalled intellijIdea, invalidate caches...). I ask again, maybe someone has a new magic solution.\r\n\r\nI&#39;m using the &quot;Minecraft development&quot; plugin (spigot API) and try to import another plugin as a dependency. IntellijIdea version: IntelliJ IDEA 2023.1.2 (Community Edition)\r\n","title":"IntellijIdea : &quot;package does not exist&quot; from imported jar library","body":"<p>Despite autocompleting working and no errors being shown, I can't used jar libraries imported in my IntellijIdea project, whatever the library or the project: compiling gives me a &quot;package xxx does not exist&quot;</p>\n<p>The problem seems to be common but none of the solutions I finded on stack overflow or anywhere else worked (reinstalled intellijIdea, invalidate caches...). I ask again, maybe someone has a new magic solution.</p>\n<p>I'm using the &quot;Minecraft development&quot; plugin (spigot API) and try to import another plugin as a dependency. IntellijIdea version: IntelliJ IDEA 2023.1.2 (Community Edition)</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1686938657,"post_id":76492352,"comment_id":134872486,"body_markdown":"Not something I know how to do, unfortunately. There are even some bugs related to this, like https://bugs.eclipse.org/bugs/show_bug.cgi?id=547052.","body":"Not something I know how to do, unfortunately. There are even some bugs related to this, like <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=547052\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=547052</a>."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1686944412,"post_id":76492352,"comment_id":134873406,"body_markdown":"You can turn off the save actions in &quot;Java &gt; Editor &gt; Save Actions&quot; in the Preferences.","body":"You can turn off the save actions in &quot;Java &gt; Editor &gt; Save Actions&quot; in the Preferences."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686949874,"post_id":76492352,"comment_id":134874144,"body_markdown":"@PetrJaneček Eclipse platform and JDT have moved to GitHub. [Make sure it has reported here, best with a pull request](https://github.com/eclipse-jdt/eclipse.jdt.ui/issues).","body":"@PetrJaneček Eclipse platform and JDT have moved to GitHub. <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.ui/issues\" rel=\"nofollow noreferrer\">Make sure it has reported here, best with a pull request</a>."},{"owner":{"account_id":4183692,"reputation":170,"user_id":3655454,"display_name":"feldentm"},"score":0,"creation_date":1687082874,"post_id":76492352,"comment_id":134884902,"body_markdown":"Turning off save actions is the only way I see to react to this, but it is not really a workaround as there can be actions in the save actions list that cannot be applied by hotkey, right? I mean the formatting itself isn&#39;t an issue. The entire code cleanup is.","body":"Turning off save actions is the only way I see to react to this, but it is not really a workaround as there can be actions in the save actions list that cannot be applied by hotkey, right? I mean the formatting itself isn&#39;t an issue. The entire code cleanup is."}],"owner":{"account_id":4183692,"reputation":170,"user_id":3655454,"display_name":"feldentm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686935738,"creation_date":1686935738,"question_id":76492352,"body_markdown":"Is there a way to configure Eclipse to prevent save actions on a file unless it is free of compile errors, or the entire project is error-free?\r\nSometimes you need to save a file because you reached the end of the work day or similar, but are not done with your edits. This can be especially annoying if the file is ill-formed wrt. braces or has issues inside lambdas because it may cause formatting or import organization to throw away larger parts of your imports or even break code after your edits.","title":"Prevent eclipse to perform save actions if code does not compile","body":"<p>Is there a way to configure Eclipse to prevent save actions on a file unless it is free of compile errors, or the entire project is error-free?\nSometimes you need to save a file because you reached the end of the work day or similar, but are not done with your edits. This can be especially annoying if the file is ill-formed wrt. braces or has issues inside lambdas because it may cause formatting or import organization to throw away larger parts of your imports or even break code after your edits.</p>\n"},{"tags":["java","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686935476,"post_id":76491649,"comment_id":134871956,"body_markdown":"please do not describe your code, post your code","body":"please do not describe your code, post your code"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1686935573,"post_id":76491649,"comment_id":134871979,"body_markdown":"I have just updated my question. Please recheck.","body":"I have just updated my question. Please recheck."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686937162,"post_id":76491649,"comment_id":134872251,"body_markdown":"Why are you not using the built in jwt features that come with spring security that are documented under the JWT chapter in the spring security documentation? What is the point of having a security framework if you dont intend to use it?","body":"Why are you not using the built in jwt features that come with spring security that are documented under the JWT chapter in the spring security documentation? What is the point of having a security framework if you dont intend to use it?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686937211,"post_id":76491649,"comment_id":134872266,"body_markdown":"Also read the architecture chapter in the spring security docs as it documents how exception handling is done","body":"Also read the architecture chapter in the spring security docs as it documents how exception handling is done"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686935548,"creation_date":1686929630,"question_id":76491649,"body_markdown":"I am working on a Spring Boot application and have following requirements-\r\n1. I have two entities (admin) and (company) with separate tables.  \r\n2. I want login endpoints for both the entities using Spring Security.\r\n\r\nWhat I did-  \r\nI created two Authentication providers (AdminAuthenticationProvider and CompanyAuthenticationProvider). I added them both to the authentication manager. The AuthenticationManager.authenticate method is used in the login methods. The AdminAuthenticationProvider uses data from admin table and CompanyAuthenticationProvider from company table.  \r\n**AdminAuthenticationProvider.java-**\r\n```\r\n@Component\r\npublic class AdminAuthenticationProvider implements AuthenticationProvider {\r\n\r\n   @Autowired\r\n   CustomAdminDetailsService adminDetailsService;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    //Authentication manager authenticate() method calls this method\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n      String username=String.valueOf(authentication.getPrincipal());\r\n      String password=String.valueOf(authentication.getCredentials());\r\n      \r\n      UserDetails adminDetails=adminDetailsService.loadUserByUsername(username);\r\n      if(adminDetails!=null){\r\n        if(passwordEncoder.matches(password, adminDetails.getPassword())){\r\n            //if the passwords match we can return authentication object (authenticated(true))\r\n            UsernamePasswordAuthenticationToken token=new UsernamePasswordAuthenticationToken(username, password,new ArrayList&lt;&gt;());\r\n            return token;\r\n        }\r\n      }\r\n\r\n      throw new BadCredentialsException(&quot;Wrong Credentials&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        //We will support UsernamePasswordAuthenticationToken type of Authentication token\r\n        //If the incoming authentication object is of this type then return true\r\n        return UsernamePasswordAuthenticationToken.class.equals(authentication);\r\n    }\r\n    \r\n}\r\n```\r\n**CompanyAuthenticationProvider.java-**\r\n```\r\n@Component\r\npublic class CompanyAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    private CustomCompanyDetailsService companyDetailsService;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    // Authentication manager authenticate() method calls this method\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = String.valueOf(authentication.getPrincipal());\r\n        String password = String.valueOf(authentication.getCredentials());\r\n\r\n        UserDetails companyDetails = companyDetailsService.loadUserByUsername(username);\r\n        if (companyDetails != null) {\r\n            if (passwordEncoder.matches(password, companyDetails.getPassword())) {\r\n                // if the passwords match we can return authentication object\r\n                // (authenticated(true))\r\n                UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password,\r\n                        new ArrayList&lt;&gt;());\r\n                return token;\r\n            }\r\n        }\r\n\r\n        throw new BadCredentialsException(&quot;Wrong Credentials&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        // We will support UsernamePasswordAuthenticationToken type of Authentication\r\n        // token\r\n        // If the incoming authentication object is of this type then return true\r\n        return UsernamePasswordAuthenticationToken.class.equals(authentication);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**SecurityConfig-**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableWebMvc \r\n@EnableMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfigs {\r\n    public static final String[] PUBLIC_URLS = {\r\n\r\n        //for admin\r\n           &quot;/admin/register&quot;,\r\n           &quot;/admin/login&quot;,\r\n\r\n        //for company\r\n        &quot;/company/login&quot;,\r\n\r\n        //email\r\n        &quot;/email/**&quot;\r\n\r\n    };\r\n\r\n    @Autowired\r\n    private AuthenticationEntryPoint unauthorizedHandler;\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    @Autowired\r\n    CompanyAuthenticationProvider companyAuthenticationProvider;\r\n\r\n    @Autowired\r\n    AdminAuthenticationProvider adminAuthenticationProvider;\r\n\r\n    \r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http,AuthenticationManager authenticationManager) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests() // authorize http requests\r\n                .requestMatchers(PUBLIC_URLS)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated() // authenticate\r\n                .and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(unauthorizedHandler)\r\n                .and()\r\n                .sessionManagement()\r\n                \r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(this.jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n        http.authenticationManager(authenticationManager);\r\n        return http.build();\r\n    }\r\n\r\n    \r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http\r\n                .getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder\r\n        // .authenticationProvider(companyAuthenticationProvider)\r\n        .authenticationProvider(adminAuthenticationProvider);\r\n\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint{\r\n   \r\n    @Autowired\r\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n    private HandlerExceptionResolver resolver;\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response,\r\n            AuthenticationException authException) throws IOException, ServletException {\r\n                resolver.resolveException(request, response, null, authException);\r\n    }\r\n    \r\n}\r\n```\r\nProblem-  \r\n1. In case of wrong username or password the authentication providers are invoked infinitely repeatedly. (Although I am throwing a BadCredentialsException in the authentication providers.)\r\n2. My second question is how can I intercept the BadCredentialsException in the providers to notify users of wrong username or password?\r\n\r\nPlease help!\r\n","title":"Custom authentication providers called infinitely: Spring Security","body":"<p>I am working on a Spring Boot application and have following requirements-</p>\n<ol>\n<li>I have two entities (admin) and (company) with separate tables.</li>\n<li>I want login endpoints for both the entities using Spring Security.</li>\n</ol>\n<p>What I did-<br />\nI created two Authentication providers (AdminAuthenticationProvider and CompanyAuthenticationProvider). I added them both to the authentication manager. The AuthenticationManager.authenticate method is used in the login methods. The AdminAuthenticationProvider uses data from admin table and CompanyAuthenticationProvider from company table.<br />\n<strong>AdminAuthenticationProvider.java-</strong></p>\n<pre><code>@Component\npublic class AdminAuthenticationProvider implements AuthenticationProvider {\n\n   @Autowired\n   CustomAdminDetailsService adminDetailsService;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    //Authentication manager authenticate() method calls this method\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n      String username=String.valueOf(authentication.getPrincipal());\n      String password=String.valueOf(authentication.getCredentials());\n      \n      UserDetails adminDetails=adminDetailsService.loadUserByUsername(username);\n      if(adminDetails!=null){\n        if(passwordEncoder.matches(password, adminDetails.getPassword())){\n            //if the passwords match we can return authentication object (authenticated(true))\n            UsernamePasswordAuthenticationToken token=new UsernamePasswordAuthenticationToken(username, password,new ArrayList&lt;&gt;());\n            return token;\n        }\n      }\n\n      throw new BadCredentialsException(&quot;Wrong Credentials&quot;);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        //We will support UsernamePasswordAuthenticationToken type of Authentication token\n        //If the incoming authentication object is of this type then return true\n        return UsernamePasswordAuthenticationToken.class.equals(authentication);\n    }\n    \n}\n</code></pre>\n<p><strong>CompanyAuthenticationProvider.java-</strong></p>\n<pre><code>@Component\npublic class CompanyAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    private CustomCompanyDetailsService companyDetailsService;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    // Authentication manager authenticate() method calls this method\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = String.valueOf(authentication.getPrincipal());\n        String password = String.valueOf(authentication.getCredentials());\n\n        UserDetails companyDetails = companyDetailsService.loadUserByUsername(username);\n        if (companyDetails != null) {\n            if (passwordEncoder.matches(password, companyDetails.getPassword())) {\n                // if the passwords match we can return authentication object\n                // (authenticated(true))\n                UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password,\n                        new ArrayList&lt;&gt;());\n                return token;\n            }\n        }\n\n        throw new BadCredentialsException(&quot;Wrong Credentials&quot;);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        // We will support UsernamePasswordAuthenticationToken type of Authentication\n        // token\n        // If the incoming authentication object is of this type then return true\n        return UsernamePasswordAuthenticationToken.class.equals(authentication);\n    }\n\n}\n</code></pre>\n<p><strong>SecurityConfig-</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableWebMvc \n@EnableMethodSecurity(prePostEnabled = true)\npublic class SecurityConfigs {\n    public static final String[] PUBLIC_URLS = {\n\n        //for admin\n           &quot;/admin/register&quot;,\n           &quot;/admin/login&quot;,\n\n        //for company\n        &quot;/company/login&quot;,\n\n        //email\n        &quot;/email/**&quot;\n\n    };\n\n    @Autowired\n    private AuthenticationEntryPoint unauthorizedHandler;\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n    @Autowired\n    CompanyAuthenticationProvider companyAuthenticationProvider;\n\n    @Autowired\n    AdminAuthenticationProvider adminAuthenticationProvider;\n\n    \n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http,AuthenticationManager authenticationManager) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests() // authorize http requests\n                .requestMatchers(PUBLIC_URLS)\n                .permitAll()\n                .anyRequest()\n                .authenticated() // authenticate\n                .and()\n                .exceptionHandling()\n                .authenticationEntryPoint(unauthorizedHandler)\n                .and()\n                .sessionManagement()\n                \n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(this.jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        http.authenticationManager(authenticationManager);\n        return http.build();\n    }\n\n    \n\n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder = http\n                .getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder\n        // .authenticationProvider(companyAuthenticationProvider)\n        .authenticationProvider(adminAuthenticationProvider);\n\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<pre><code>public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint{\n   \n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private HandlerExceptionResolver resolver;\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n            AuthenticationException authException) throws IOException, ServletException {\n                resolver.resolveException(request, response, null, authException);\n    }\n    \n}\n</code></pre>\n<p>Problem-</p>\n<ol>\n<li>In case of wrong username or password the authentication providers are invoked infinitely repeatedly. (Although I am throwing a BadCredentialsException in the authentication providers.)</li>\n<li>My second question is how can I intercept the BadCredentialsException in the providers to notify users of wrong username or password?</li>\n</ol>\n<p>Please help!</p>\n"},{"tags":["java","javacompiler"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686934297,"post_id":76492121,"comment_id":134871717,"body_markdown":"please include a [mre] in question (posted code works for me, after adding missing parts)","body":"please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in question (posted code works for me, after adding missing parts)"},{"owner":{"account_id":1208398,"reputation":1787,"user_id":1177418,"accept_rate":85,"display_name":"akagixxer"},"score":0,"creation_date":1686934793,"post_id":76492121,"comment_id":134871823,"body_markdown":"It also works for me depending on where I build the project.\nI believe its some difference in compilers OR environment.\nI can make it work; what I&#39;m really looking for is an explanation of why a Java compiler might choose to output bytecode that does this.","body":"It also works for me depending on where I build the project. I believe its some difference in compilers OR environment. I can make it work; what I&#39;m really looking for is an explanation of why a Java compiler might choose to output bytecode that does this."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1686935250,"post_id":76492121,"comment_id":134871920,"body_markdown":"Are you using different versions of `ClassB` during compile time and runtime? Compare your runtime classpath against your compile classpath configuration. (You can get the runtime classpath with `System.getProperty(&quot;java.class.path&quot;)`.)","body":"Are you using different versions of <code>ClassB</code> during compile time and runtime? Compare your runtime classpath against your compile classpath configuration. (You can get the runtime classpath with <code>System.getProperty(&quot;java.class.path&quot;)</code>.)"},{"owner":{"account_id":1208398,"reputation":1787,"user_id":1177418,"accept_rate":85,"display_name":"akagixxer"},"score":0,"creation_date":1686935349,"post_id":76492121,"comment_id":134871939,"body_markdown":"Good question.  No we are using Gradle to pull from a maven repo in Artifactory.\nThe jars/versions etc should be consistent.\nAlso, looking at the git commit history, the method call has never passed in boxed boolean.","body":"Good question.  No we are using Gradle to pull from a maven repo in Artifactory. The jars/versions etc should be consistent. Also, looking at the git commit history, the method call has never passed in boxed boolean."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1686965822,"post_id":76492121,"comment_id":134875481,"body_markdown":"Are you using any bytecode rewriting things like Lombok or annotation processors?","body":"Are you using any bytecode rewriting things like Lombok or annotation processors?"},{"owner":{"account_id":1208398,"reputation":1787,"user_id":1177418,"accept_rate":85,"display_name":"akagixxer"},"score":0,"creation_date":1687299527,"post_id":76492121,"comment_id":134916596,"body_markdown":"No bytecode rewriting processors are being used.","body":"No bytecode rewriting processors are being used."}],"owner":{"account_id":1208398,"reputation":1787,"user_id":1177418,"accept_rate":85,"display_name":"akagixxer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686934927,"creation_date":1686933502,"question_id":76492121,"body_markdown":"USING: `openjdk-11-jdk-headless=11.0.16+8-0ubuntu1~20.04`   \r\n\r\nI have `ClassB` with a `static` creation method in a library.\r\n\r\n    public ClassB\r\n    {\r\n      public static ClassB create(UUID id, boolean flag);\r\n    }\r\n\r\nIn another library I have `ClassA` calling the creation method like this:\r\n\r\n    // Note that &quot;false&quot; is passed in as a literal.\r\n    return ClassB.create(someId, false);\r\n\r\nI get `NoSuchMethodError` and it reports the signature called as `(java.util.UUID, java.lang.Boolean)`.\r\n\r\nWhen I decompile the `ClassA.class` file it gives me this:\r\n\r\n    // With CFR\r\n    ClassB getInputs(UUID id) {\r\n      return ClassB.create((UUID)id, (Boolean)false);\r\n    }\r\n    \r\n    // With Procyon\r\n    ClassB getInputs(final UUID id) {\r\n      return ClassB.create(id, Boolean.valueOf(false));\r\n    }\r\n\r\nBoth decompilers show that, when compiled, my method call ends up coercing the primitive `boolean` literal that I pass in to a boxed `Boolean` which makes all my calls blow up at runtime.\r\n\r\nDoes anyone know why this is happening?\r\n\r\n**NOTE:**   \r\nI have confirmed that I can fix this by declaring a variable:   \r\n`private static final boolean FLAG = false;`   \r\nbut I want to understand why this is happening.\r\n\r\n","title":"Java Compiler Incorrect Boxed Primitive Coercion","body":"<p>USING: <code>openjdk-11-jdk-headless=11.0.16+8-0ubuntu1~20.04</code></p>\n<p>I have <code>ClassB</code> with a <code>static</code> creation method in a library.</p>\n<pre><code>public ClassB\n{\n  public static ClassB create(UUID id, boolean flag);\n}\n</code></pre>\n<p>In another library I have <code>ClassA</code> calling the creation method like this:</p>\n<pre><code>// Note that &quot;false&quot; is passed in as a literal.\nreturn ClassB.create(someId, false);\n</code></pre>\n<p>I get <code>NoSuchMethodError</code> and it reports the signature called as <code>(java.util.UUID, java.lang.Boolean)</code>.</p>\n<p>When I decompile the <code>ClassA.class</code> file it gives me this:</p>\n<pre><code>// With CFR\nClassB getInputs(UUID id) {\n  return ClassB.create((UUID)id, (Boolean)false);\n}\n\n// With Procyon\nClassB getInputs(final UUID id) {\n  return ClassB.create(id, Boolean.valueOf(false));\n}\n</code></pre>\n<p>Both decompilers show that, when compiled, my method call ends up coercing the primitive <code>boolean</code> literal that I pass in to a boxed <code>Boolean</code> which makes all my calls blow up at runtime.</p>\n<p>Does anyone know why this is happening?</p>\n<p><strong>NOTE:</strong><br />\nI have confirmed that I can fix this by declaring a variable:<br />\n<code>private static final boolean FLAG = false;</code><br />\nbut I want to understand why this is happening.</p>\n"},{"tags":["java","spring","exception"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1686879037,"post_id":76486379,"comment_id":134862340,"body_markdown":"Try remove space between colon and parameter name like this `... WHERE p.id IN :users`.","body":"Try remove space between colon and parameter name like this <code>... WHERE p.id IN :users</code>."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1686879512,"post_id":76486379,"comment_id":134862367,"body_markdown":"Thanks so much! I was wondering what was wrong with my code.","body":"Thanks so much! I was wondering what was wrong with my code."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1686879546,"post_id":76486379,"comment_id":134862370,"body_markdown":"But could you explain why the code has to remove the space? seems like weird jargon to me.","body":"But could you explain why the code has to remove the space? seems like weird jargon to me."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1686912124,"post_id":76486379,"comment_id":134866961,"body_markdown":"It is not a jargon it is a standard. JPQL / SQL queries are just strings. Those have to be parsed somehow. Every word of that string can be a table / column name, a keyword (e.g. from, having, etc.) or a placeholder of a named parameter. Just think about you have a named parameter called `having` which is also an SQL keyword. And you have a query like: `FROM Post p WHERE p.id &gt; 100 and p.otherField = : having`. In this case `having` literal is a parameter name or a keyword? That&#39;s why you always have to specify exactly which is which. Hope it helps.","body":"It is not a jargon it is a standard. JPQL / SQL queries are just strings. Those have to be parsed somehow. Every word of that string can be a table / column name, a keyword (e.g. from, having, etc.) or a placeholder of a named parameter. Just think about you have a named parameter called <code>having</code> which is also an SQL keyword. And you have a query like: <code>FROM Post p WHERE p.id &gt; 100 and p.otherField = : having</code>. In this case <code>having</code> literal is a parameter name or a keyword? That&#39;s why you always have to specify exactly which is which. Hope it helps."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1686918469,"post_id":76486379,"comment_id":134868194,"body_markdown":"Got it. Thanks. I’ll have to read up on that","body":"Got it. Thanks. I’ll have to read up on that"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686944480,"post_id":76486379,"comment_id":134873418,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686934851,"creation_date":1686877650,"question_id":76486379,"body_markdown":"````\r\n@Query(&quot;SELECT p FROM Post p WHERE p.id IN : users ORDER BY p.createdAt DESC&quot;)\r\nList&lt;Post&gt; findAllPostByUserIds(@Param(&quot;users&quot;) List&lt;Integer&gt; userIds);\r\n````\r\n\r\nI&#39;m trying to solve a problem when I tried to post on my react app. The problem is on the backend. I&#39;m not sure what is the problem. I put the code snippet where the problem occurred. But feel free to ask me about what other code is needed to solve this issue.","title":"ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: Named parameter not bound : users]","body":"<pre><code>@Query(&quot;SELECT p FROM Post p WHERE p.id IN : users ORDER BY p.createdAt DESC&quot;)\nList&lt;Post&gt; findAllPostByUserIds(@Param(&quot;users&quot;) List&lt;Integer&gt; userIds);\n</code></pre>\n<p>I'm trying to solve a problem when I tried to post on my react app. The problem is on the backend. I'm not sure what is the problem. I put the code snippet where the problem occurred. But feel free to ask me about what other code is needed to solve this issue.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1589451925,"post_id":61793790,"comment_id":109302301,"body_markdown":"General &quot;how-to&quot; : you can solve many exceptions by looking at their cause (e.g. `Caused by` in your stack trace). Here, you will solve your `ServletException` by solving a `ClassNotFoundException` about SLF4J, which is a pretty actionnable error message.","body":"General &quot;how-to&quot; : you can solve many exceptions by looking at their cause (e.g. <code>Caused by</code> in your stack trace). Here, you will solve your <code>ServletException</code> by solving a <code>ClassNotFoundException</code> about SLF4J, which is a pretty actionnable error message."},{"owner":{"account_id":2395710,"reputation":4836,"user_id":2094548,"accept_rate":81,"display_name":"MJBZA"},"score":0,"creation_date":1589454404,"post_id":61793790,"comment_id":109303691,"body_markdown":"Sorry I was new to maven. I will check it.","body":"Sorry I was new to maven. I will check it."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1589462905,"post_id":61793790,"comment_id":109308483,"body_markdown":"Not an issue at all, just a trick, that will help you solve your issues faster, and (or) post a more accurate question and title here on SO if you can&#39;t :-) .","body":"Not an issue at all, just a trick, that will help you solve your issues faster, and (or) post a more accurate question and title here on SO if you can&#39;t :-) ."},{"owner":{"account_id":2395710,"reputation":4836,"user_id":2094548,"accept_rate":81,"display_name":"MJBZA"},"score":0,"creation_date":1589525154,"post_id":61793790,"comment_id":109334031,"body_markdown":"Dear @GPI I added pom.xml. If you check the file the `slf4j-api` is included in the `hcp` profile. It seems the error is somewhere else. if I run the app with `mvn spring-boot:run -P hcp` then I see the following error: `Unable to start ServletW\nebServerApplicationContext due to missing ServletWebServerFactory bean.` .","body":"Dear @GPI I added pom.xml. If you check the file the <code>slf4j-api</code> is included in the <code>hcp</code> profile. It seems the error is somewhere else. if I run the app with <code>mvn spring-boot:run -P hcp</code> then I see the following error: <code>Unable to start ServletW ebServerApplicationContext due to missing ServletWebServerFactory bean.</code> ."},{"owner":{"account_id":2395710,"reputation":4836,"user_id":2094548,"accept_rate":81,"display_name":"MJBZA"},"score":0,"creation_date":1589528806,"post_id":61793790,"comment_id":109335619,"body_markdown":"If I remove the `&lt;scope&gt;provided&lt;/scope&gt;` then application will be compiled but cannot be run as normal.","body":"If I remove the <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> then application will be compiled but cannot be run as normal."}],"answers":[{"comments":[{"owner":{"account_id":2395710,"reputation":4836,"user_id":2094548,"accept_rate":81,"display_name":"MJBZA"},"score":1,"creation_date":1589454531,"post_id":61794758,"comment_id":109303767,"body_markdown":"I will check it and let you know. All files are as original in GitHub repository. I only changed one place that I already mentioned.","body":"I will check it and let you know. All files are as original in GitHub repository. I only changed one place that I already mentioned."},{"owner":{"account_id":2395710,"reputation":4836,"user_id":2094548,"accept_rate":81,"display_name":"MJBZA"},"score":1,"creation_date":1589525284,"post_id":61794758,"comment_id":109334076,"body_markdown":"I added the pom.xml. if I run the app with `mvn spring-boot:run -P hcp` then I see the following error: `Unable to start ServletW ebServerApplicationContext due to missing ServletWebServerFactory bean`.","body":"I added the pom.xml. if I run the app with <code>mvn spring-boot:run -P hcp</code> then I see the following error: <code>Unable to start ServletW ebServerApplicationContext due to missing ServletWebServerFactory bean</code>."}],"tags":[],"owner":{"account_id":9303405,"reputation":9,"user_id":6908050,"display_name":"Shane aalam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589451194,"creation_date":1589451194,"answer_id":61794758,"question_id":61793790,"body_markdown":"I think you didn&#39;t let spring know about some bean class.\r\nLook at your xml or configuration file for `LoggerFactory`\r\nIn the exception stack above,\r\nit says `java.lang.ClassNotFoundException` occured.\r\nSpring can&#39;t find class files even if you have them in your java src package.\r\nIf my answer doesn&#39;t solve your problem,\r\nyou need to show your xml or source code to make sure what the problem is.","title":"How to solve “Failed to instantiate WebApplicationInitializer class”","body":"<p>I think you didn't let spring know about some bean class.\nLook at your xml or configuration file for <code>LoggerFactory</code>\nIn the exception stack above,\nit says <code>java.lang.ClassNotFoundException</code> occured.\nSpring can't find class files even if you have them in your java src package.\nIf my answer doesn't solve your problem,\nyou need to show your xml or source code to make sure what the problem is.</p>\n"},{"tags":[],"owner":{"account_id":2395710,"reputation":4836,"user_id":2094548,"accept_rate":81,"display_name":"MJBZA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1589798739,"creation_date":1589784260,"answer_id":61863818,"question_id":61793790,"body_markdown":"I changed the `pom.xml` and removed the profiles, then I could build the project with `mvn clean install` which will result a `war` file that I can deploy in Tomcat. \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.penninkhof&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;odata&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n\t\t&lt;cxf.version&gt;3.1.5&lt;/cxf.version&gt;\r\n\t\t&lt;olingo.version&gt;2.0.6&lt;/olingo.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;olingo-odata2-jpa-processor-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;olingo-odata2-jpa-processor-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;olingo-odata2-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;olingo-odata2-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;olingo-odata2-api-annotation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/webapp&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Releases&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**However when I deploy it in the Tomcat it can access the database for some hours and after some hours it cannot anymore fetch data from MySQL!**\r\n\r\nWhen we want to run the app inside the Eclipse with `Run on Server` option, it needs to access the app after a success run like this `http://localhost:9090/&lt;artifactName&gt;/` i.e. `http://localhost:9090/odata/` in this case!","title":"How to solve “Failed to instantiate WebApplicationInitializer class”","body":"<p>I changed the <code>pom.xml</code> and removed the profiles, then I could build the project with <code>mvn clean install</code> which will result a <code>war</code> file that I can deploy in Tomcat. </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.penninkhof&lt;/groupId&gt;\n    &lt;artifactId&gt;odata&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;cxf.version&gt;3.1.5&lt;/cxf.version&gt;\n        &lt;olingo.version&gt;2.0.6&lt;/olingo.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-jpa-processor-core&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-jpa-processor-api&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-api&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-core&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-api-annotation&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/webapp&lt;/directory&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>However when I deploy it in the Tomcat it can access the database for some hours and after some hours it cannot anymore fetch data from MySQL!</strong></p>\n\n<p>When we want to run the app inside the Eclipse with <code>Run on Server</code> option, it needs to access the app after a success run like this <code>http://localhost:9090/&lt;artifactName&gt;/</code> i.e. <code>http://localhost:9090/odata/</code> in this case!</p>\n"},{"tags":[],"owner":{"account_id":19093956,"reputation":51,"user_id":13943661,"display_name":"Gourav Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686934474,"creation_date":1686934474,"answer_id":76492229,"question_id":61793790,"body_markdown":"For someone still getting this type of error, it may be because of unavailability of NoArgs Constructor in your main SpringBootApplication. Because of this tomcat is not able to initialise the Servlet. Add a NoArgs constructor in your main class in case you have missed it. Hope this helps.","title":"How to solve “Failed to instantiate WebApplicationInitializer class”","body":"<p>For someone still getting this type of error, it may be because of unavailability of NoArgs Constructor in your main SpringBootApplication. Because of this tomcat is not able to initialise the Servlet. Add a NoArgs constructor in your main class in case you have missed it. Hope this helps.</p>\n"}],"owner":{"account_id":2395710,"reputation":4836,"user_id":2094548,"accept_rate":81,"display_name":"MJBZA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61863818,"answer_count":3,"score":0,"last_activity_date":1686934474,"creation_date":1589448255,"question_id":61793790,"body_markdown":"I found a good example for generating odata from MySQL at this [GitHub repository](https://github.com/jpenninkhof/odata-boilerplate)\r\n\r\nI can run the project by using the command `mvn spring-boot:run -P jar` inside the eclipse. The only part that I changed in comparison to the original code is my connection details to my local MySQL inside the `application.properties` file:\r\n\r\n```\r\n# WEB SERVER \r\nserver.port=9090\r\n\r\n# MYSQL DATA SOURCE\r\nspring.datasource.url = jdbc:mysql://localhost:3306/olingo\r\nspring.datasource.username = admin\r\nspring.datasource.password = 123456\r\nspring.datasource.testWhileIdle = true\r\nspring.datasource.validationQuery = SELECT 1\r\n\r\n# HANA (CLOUD) DB\r\n#spring.datasource.jndi-name = java:comp/env/jdbc/DefaultDB\r\n#spring.jpa.hibernate.ddl-auto = update\r\n#spring.datasource.testWhileIdle = true\r\n#spring.datasource.validationQuery = SELECT 1\r\n\r\n# HSQL DB\r\n#spring.datasource.platform=hsqldb\r\n\r\n# JPA / HIBERNATE\r\nspring.jpa.show-sql = false\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\n# AZURE \r\n#logging.path = D://home//LogFiles\r\n```\r\n\r\nAnd here is the `pom.xml`:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.penninkhof&lt;/groupId&gt;\r\n        &lt;artifactId&gt;odata&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;packaging&gt;${packaging.type}&lt;/packaging&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.7&lt;/java.version&gt;\r\n            &lt;cxf.version&gt;3.1.5&lt;/cxf.version&gt;\r\n    \t\t&lt;olingo.version&gt;2.0.6&lt;/olingo.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \r\n    \t\t&lt;!-- HANA Cloud Platform --&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;hcp&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;packaging.type&gt;war&lt;/packaging.type&gt;\r\n    \t\t        &lt;tomcat.version&gt;7.0.59&lt;/tomcat.version&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;!-- Some exclusions are necessary to make Spring Boot run on HCP. --&gt;\r\n    \t\t\t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t\t&lt;/exclusions&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;!-- Without this exclusions, the HCP runtime will not be so happy --&gt;\r\n    \t\t\t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t\t&lt;/exclusions&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;olingo-odata2-jpa-processor-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;olingo-odata2-jpa-processor-core&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;/dependencies&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \r\n    \t\t&lt;!-- Self-contained JAR --&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;jar&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;packaging.type&gt;jar&lt;/packaging.type&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;olingo-odata2-jpa-processor-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t\t&lt;/exclusions&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;olingo-odata2-jpa-processor-core&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t\t&lt;/exclusions&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t        &lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/webapp&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t        &lt;/plugins&gt;\r\n    \t\t    &lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \r\n    \t&lt;/profiles&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;olingo-odata2-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;olingo-odata2-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;olingo-odata2-api-annotation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${olingo.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n            &lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t            &lt;configuration&gt;\r\n    \t                &lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t                &lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t            &lt;/configuration&gt;\r\n    \t        &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-releases&lt;/id&gt;\r\n                &lt;name&gt;Spring Releases&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\nWhen I try to run the project as `Run on a Server` while I am using Tomcat 9 It will show the following error:\r\n\r\n&gt; SEVERE: Error during ServletContainerInitializer processing\r\n&gt; javax.servlet.ServletException: Failed to instantiate\r\n&gt; WebApplicationInitializer class \tat\r\n&gt; org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5140)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat java.util.concurrent.AbstractExecutorService.submit(Unknown\r\n&gt; Source) \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat java.util.concurrent.AbstractExecutorService.submit(Unknown\r\n&gt; Source) \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; java.lang.reflect.Method.invoke(Unknown Source) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474) Caused\r\n&gt; by: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory \tat\r\n&gt; com.penninkhof.odata.Application.&lt;clinit&gt;(Application.java:18) \tat\r\n&gt; sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n&gt; \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown\r\n&gt; Source) \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n&gt; \tat\r\n&gt; org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\r\n&gt; \t... 29 more Caused by: java.lang.ClassNotFoundException:\r\n&gt; org.slf4j.LoggerFactory \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1365)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1188)\r\n&gt; \t... 35 more\r\n\r\nI can build the project with `mvn clean install` but when I deploy the `war` file inside the Tomcat it cannot run the app. It seems the same issue is the source of the problem!\r\n\r\nAny help for solving this issue is appreciated. ","title":"How to solve “Failed to instantiate WebApplicationInitializer class”","body":"<p>I found a good example for generating odata from MySQL at this <a href=\"https://github.com/jpenninkhof/odata-boilerplate\" rel=\"nofollow noreferrer\">GitHub repository</a></p>\n\n<p>I can run the project by using the command <code>mvn spring-boot:run -P jar</code> inside the eclipse. The only part that I changed in comparison to the original code is my connection details to my local MySQL inside the <code>application.properties</code> file:</p>\n\n<pre><code># WEB SERVER \nserver.port=9090\n\n# MYSQL DATA SOURCE\nspring.datasource.url = jdbc:mysql://localhost:3306/olingo\nspring.datasource.username = admin\nspring.datasource.password = 123456\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\n\n# HANA (CLOUD) DB\n#spring.datasource.jndi-name = java:comp/env/jdbc/DefaultDB\n#spring.jpa.hibernate.ddl-auto = update\n#spring.datasource.testWhileIdle = true\n#spring.datasource.validationQuery = SELECT 1\n\n# HSQL DB\n#spring.datasource.platform=hsqldb\n\n# JPA / HIBERNATE\nspring.jpa.show-sql = false\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\n\n# AZURE \n#logging.path = D://home//LogFiles\n</code></pre>\n\n<p>And here is the <code>pom.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.penninkhof&lt;/groupId&gt;\n    &lt;artifactId&gt;odata&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;packaging&gt;${packaging.type}&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;cxf.version&gt;3.1.5&lt;/cxf.version&gt;\n        &lt;olingo.version&gt;2.0.6&lt;/olingo.version&gt;\n    &lt;/properties&gt;\n\n    &lt;profiles&gt;\n\n        &lt;!-- HANA Cloud Platform --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;hcp&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;packaging.type&gt;war&lt;/packaging.type&gt;\n                &lt;tomcat.version&gt;7.0.59&lt;/tomcat.version&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                    &lt;!-- Some exclusions are necessary to make Spring Boot run on HCP. --&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                        &lt;exclusion&gt;\n                            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                    &lt;!-- Without this exclusions, the HCP runtime will not be so happy --&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n                    &lt;artifactId&gt;olingo-odata2-jpa-processor-api&lt;/artifactId&gt;\n                    &lt;version&gt;${olingo.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n                    &lt;artifactId&gt;olingo-odata2-jpa-processor-core&lt;/artifactId&gt;\n                    &lt;version&gt;${olingo.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                    &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.1&lt;/version&gt;\n                    &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n\n        &lt;!-- Self-contained JAR --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;jar&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n                    &lt;artifactId&gt;olingo-odata2-jpa-processor-api&lt;/artifactId&gt;\n                    &lt;version&gt;${olingo.version}&lt;/version&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n                            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n                    &lt;artifactId&gt;olingo-odata2-jpa-processor-core&lt;/artifactId&gt;\n                    &lt;version&gt;${olingo.version}&lt;/version&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n                            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-resources&lt;/id&gt;\n                                &lt;phase&gt;validate&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                                    &lt;resources&gt;\n                                        &lt;resource&gt;\n                                            &lt;directory&gt;src/main/webapp&lt;/directory&gt;\n                                            &lt;filtering&gt;true&lt;/filtering&gt;\n                                        &lt;/resource&gt;\n                                    &lt;/resources&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-api&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-core&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.olingo&lt;/groupId&gt;\n            &lt;artifactId&gt;olingo-odata2-api-annotation&lt;/artifactId&gt;\n            &lt;version&gt;${olingo.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When I try to run the project as <code>Run on a Server</code> while I am using Tomcat 9 It will show the following error:</p>\n\n<blockquote>\n  <p>SEVERE: Error during ServletContainerInitializer processing\n  javax.servlet.ServletException: Failed to instantiate\n  WebApplicationInitializer class   at\n  org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5140)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown\n  Source)   at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at\n  org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown\n  Source)   at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at\n  org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at\n  org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)    at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)   at\n  java.lang.reflect.Method.invoke(Unknown Source)   at\n  org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)   at\n  org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474) Caused\n  by: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory   at\n  com.penninkhof.odata.Application.(Application.java:18)    at\n  sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown\n  Source)   at\n  sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown\n  Source)   at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at\n  org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\n    ... 29 more Caused by: java.lang.ClassNotFoundException:\n  org.slf4j.LoggerFactory   at\n  org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1365)\n    at\n  org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1188)\n    ... 35 more</p>\n</blockquote>\n\n<p>I can build the project with <code>mvn clean install</code> but when I deploy the <code>war</code> file inside the Tomcat it cannot run the app. It seems the same issue is the source of the problem!</p>\n\n<p>Any help for solving this issue is appreciated. </p>\n"},{"tags":["java","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1686920502,"post_id":76490302,"comment_id":134868622,"body_markdown":"What is cI id? I never heard of that","body":"What is cI id? I never heard of that"}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686934048,"creation_date":1686934048,"answer_id":76492197,"question_id":76490302,"body_markdown":"Gradle allows executing task based using an abbreviated task name: https://docs.gradle.org/current/userguide/command_line_interface.html#sec:name_abbreviation\r\n\r\n`./gradlew clean build` works because these are explicit tasks that are contributed to your project by the Gradle plugins you have applied.\r\n\r\n`./gradlew cI id` fails because there does not exist a task nor task abbreviation named of either.","title":"Gradle build failure with Task &#39;cI&#39; is ambiguous error for Spring Boot Application","body":"<p>Gradle allows executing task based using an abbreviated task name: <a href=\"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:name_abbreviation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/command_line_interface.html#sec:name_abbreviation</a></p>\n<p><code>./gradlew clean build</code> works because these are explicit tasks that are contributed to your project by the Gradle plugins you have applied.</p>\n<p><code>./gradlew cI id</code> fails because there does not exist a task nor task abbreviation named of either.</p>\n"}],"owner":{"account_id":7072948,"reputation":111,"user_id":5413963,"display_name":"Seeker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686934048,"creation_date":1686919149,"question_id":76490302,"body_markdown":"I&#39;m trying to build my spring boot project using &quot;gradle cI id&quot; command. Unfortunately, I&#39;m getting below error which I don&#39;t really understand.BTW, &quot;gradle clean build&quot; worked fine. Can someone help me to understand what it really means ?\r\n\r\n``` Task &#39;cI&#39; is ambiguous in root project &#39;life&#39;. Candidates are: &#39;compileJava&#39;, &#39;compileTestJava&#39;. ```\r\n\r\nCan someone help me to understand what does this error really means ? \r\n\r\nI&#39;m using Java 17, Gradle 8.1.1 .My build.gradle looks like this:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.nifty&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n","title":"Gradle build failure with Task &#39;cI&#39; is ambiguous error for Spring Boot Application","body":"<p>I'm trying to build my spring boot project using &quot;gradle cI id&quot; command. Unfortunately, I'm getting below error which I don't really understand.BTW, &quot;gradle clean build&quot; worked fine. Can someone help me to understand what it really means ?</p>\n<p><code>Task 'cI' is ambiguous in root project 'life'. Candidates are: 'compileJava', 'compileTestJava'.</code></p>\n<p>Can someone help me to understand what does this error really means ?</p>\n<p>I'm using Java 17, Gradle 8.1.1 .My build.gradle looks like this:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.nifty'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","wss4j"],"answers":[{"tags":[],"owner":{"account_id":6598513,"reputation":389,"user_id":5097510,"accept_rate":70,"display_name":"Asad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593439854,"creation_date":1593439854,"answer_id":62640013,"question_id":61320311,"body_markdown":"In the above code, I was adding security configurations for Username, password, and Signature together, instead, I have to keep them in separate arrays as follows.\r\n\r\n    @Bean\r\n\tpublic ExecuteStrategy executeStrategy(Jaxb2Marshaller jaxb2Marshaller) throws Exception {\r\n\t\tExecuteStrategy soapClient = new ExecuteStrategy();\r\n\t\tsoapClient.setDefaultUri(&quot;https://demo-servicesesb.datacredito.com.co/wss/DecisorWS/services/dummyService/MotorService&quot;);\r\n\t\tsoapClient.setMarshaller(jaxb2Marshaller);\r\n\t\tsoapClient.setUnmarshaller(jaxb2Marshaller);\r\n\r\n\t\tClientInterceptor[] interceptors = wss4jSecurityInterceptor();\r\n\t\tsoapClient.setInterceptors(interceptors);\r\n\r\n\t\treturn soapClient;\r\n\t}\r\n\r\nand \r\n\r\n    @Bean\r\n\tpublic Wss4jSecurityInterceptor[] wss4jSecurityInterceptor() throws Exception {\r\n\t\t// org.apache.xml.security.Init.init();\r\n\r\n\t\tWss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor();\r\n\t\twss4jSecurityInterceptor.setSecurementActions(&quot;UsernameToken&quot;);\r\n\r\n\t\t// Sign in the request\r\n\r\n\t\twss4jSecurityInterceptor.setSecurementUsername(&quot;dummyUser&quot;);\r\n\t\twss4jSecurityInterceptor.setSecurementPassword(&quot;dummyPassword&quot;);\r\n\t\t// wss4jSecurityInterceptor.setSecurementPassword(&quot;123456&quot;);\r\n\t\twss4jSecurityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\r\n\t\twss4jSecurityInterceptor.setSecurementUsernameTokenNonce(true);\r\n\t\twss4jSecurityInterceptor.setSecurementUsernameTokenCreated(true);\r\n\t\twss4jSecurityInterceptor.afterPropertiesSet();\r\n\r\n\t\tWss4jSecurityInterceptor wss4jSecurityInterceptor1 = new Wss4jSecurityInterceptor();\r\n\t\twss4jSecurityInterceptor1.setSecurementActions(&quot;Signature&quot;);\r\n\r\n\t\twss4jSecurityInterceptor1.setSecurementSignatureUser(&quot;1&quot;);\r\n\t\twss4jSecurityInterceptor1.setSecurementPassword(&quot;123456&quot;);\r\n\t\twss4jSecurityInterceptor1.setSecurementSignatureKeyIdentifier(&quot;DirectReference&quot;);\r\n\t\twss4jSecurityInterceptor1.setSecurementSignatureAlgorithm(WSConstants.RSA_SHA1);\r\n\t\twss4jSecurityInterceptor1.setSecurementSignatureDigestAlgorithm(WSConstants.SHA1);\r\n\t\twss4jSecurityInterceptor1.setSecurementTimeToLive(60);\r\n\t\twss4jSecurityInterceptor1.setTimestampPrecisionInMilliseconds(true);\r\n\t\t\r\n\t\twss4jSecurityInterceptor1.setSecurementSignatureCrypto(cryptoFactoryBean().getObject());\r\n\t\t\r\n\r\n\t\twss4jSecurityInterceptor1.afterPropertiesSet();\r\n\r\n\t\tWss4jSecurityInterceptor[] wss4jSecurityInterceptorArray = new Wss4jSecurityInterceptor[2];\r\n\t\twss4jSecurityInterceptorArray[0] = wss4jSecurityInterceptor;\r\n\t\twss4jSecurityInterceptorArray[1] = wss4jSecurityInterceptor1;\r\n\r\n\t\treturn wss4jSecurityInterceptorArray;\r\n\t}\r\n\r\nand \r\n\r\n    @Bean\r\n\tpublic CryptoFactoryBean cryptoFactoryBean() throws IOException {\r\n\t\t\r\n\t\tCryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.provider&quot;, &quot;org.apache.wss4j.common.crypto.Merlin&quot;);\r\n\t\tproperties.setProperty(&quot;org.apache.wss4j.crypto.merlin.keystore.alias&quot;, &quot;1&quot;);\r\n\t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.type&quot;, &quot;PKCS12&quot;);\r\n\t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;, &quot;123456&quot;);\r\n\t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.file&quot;,\r\n\t\t\t\t&quot;C:\\\\abc.p12&quot;);\r\n\t\tcryptoFactoryBean.setConfiguration(properties);\r\n\r\n\t\ttry {\r\n\t\t\tcryptoFactoryBean.afterPropertiesSet();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn cryptoFactoryBean;\r\n\t}\r\n\r\nKeeping the `wss4jSecurityInterceptor` as an array for username/password as separate and Signature as separate array, worked for me.","title":"Signing SOAP header using Wss4j in Spring throwing errors &quot;Caused by: java.security.UnrecoverableKeyException: Given final block not properly padded&quot;","body":"<p>In the above code, I was adding security configurations for Username, password, and Signature together, instead, I have to keep them in separate arrays as follows.</p>\n<pre><code>@Bean\npublic ExecuteStrategy executeStrategy(Jaxb2Marshaller jaxb2Marshaller) throws Exception {\n    ExecuteStrategy soapClient = new ExecuteStrategy();\n    soapClient.setDefaultUri(&quot;https://demo-servicesesb.datacredito.com.co/wss/DecisorWS/services/dummyService/MotorService&quot;);\n    soapClient.setMarshaller(jaxb2Marshaller);\n    soapClient.setUnmarshaller(jaxb2Marshaller);\n\n    ClientInterceptor[] interceptors = wss4jSecurityInterceptor();\n    soapClient.setInterceptors(interceptors);\n\n    return soapClient;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Bean\npublic Wss4jSecurityInterceptor[] wss4jSecurityInterceptor() throws Exception {\n    // org.apache.xml.security.Init.init();\n\n    Wss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor();\n    wss4jSecurityInterceptor.setSecurementActions(&quot;UsernameToken&quot;);\n\n    // Sign in the request\n\n    wss4jSecurityInterceptor.setSecurementUsername(&quot;dummyUser&quot;);\n    wss4jSecurityInterceptor.setSecurementPassword(&quot;dummyPassword&quot;);\n    // wss4jSecurityInterceptor.setSecurementPassword(&quot;123456&quot;);\n    wss4jSecurityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\n    wss4jSecurityInterceptor.setSecurementUsernameTokenNonce(true);\n    wss4jSecurityInterceptor.setSecurementUsernameTokenCreated(true);\n    wss4jSecurityInterceptor.afterPropertiesSet();\n\n    Wss4jSecurityInterceptor wss4jSecurityInterceptor1 = new Wss4jSecurityInterceptor();\n    wss4jSecurityInterceptor1.setSecurementActions(&quot;Signature&quot;);\n\n    wss4jSecurityInterceptor1.setSecurementSignatureUser(&quot;1&quot;);\n    wss4jSecurityInterceptor1.setSecurementPassword(&quot;123456&quot;);\n    wss4jSecurityInterceptor1.setSecurementSignatureKeyIdentifier(&quot;DirectReference&quot;);\n    wss4jSecurityInterceptor1.setSecurementSignatureAlgorithm(WSConstants.RSA_SHA1);\n    wss4jSecurityInterceptor1.setSecurementSignatureDigestAlgorithm(WSConstants.SHA1);\n    wss4jSecurityInterceptor1.setSecurementTimeToLive(60);\n    wss4jSecurityInterceptor1.setTimestampPrecisionInMilliseconds(true);\n    \n    wss4jSecurityInterceptor1.setSecurementSignatureCrypto(cryptoFactoryBean().getObject());\n    \n\n    wss4jSecurityInterceptor1.afterPropertiesSet();\n\n    Wss4jSecurityInterceptor[] wss4jSecurityInterceptorArray = new Wss4jSecurityInterceptor[2];\n    wss4jSecurityInterceptorArray[0] = wss4jSecurityInterceptor;\n    wss4jSecurityInterceptorArray[1] = wss4jSecurityInterceptor1;\n\n    return wss4jSecurityInterceptorArray;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Bean\npublic CryptoFactoryBean cryptoFactoryBean() throws IOException {\n    \n    CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\n    Properties properties = new Properties();\n    properties.setProperty(&quot;org.apache.ws.security.crypto.provider&quot;, &quot;org.apache.wss4j.common.crypto.Merlin&quot;);\n    properties.setProperty(&quot;org.apache.wss4j.crypto.merlin.keystore.alias&quot;, &quot;1&quot;);\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.type&quot;, &quot;PKCS12&quot;);\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;, &quot;123456&quot;);\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.file&quot;,\n            &quot;C:\\\\abc.p12&quot;);\n    cryptoFactoryBean.setConfiguration(properties);\n\n    try {\n        cryptoFactoryBean.afterPropertiesSet();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return cryptoFactoryBean;\n}\n</code></pre>\n<p>Keeping the <code>wss4jSecurityInterceptor</code> as an array for username/password as separate and Signature as separate array, worked for me.</p>\n"}],"owner":{"account_id":6598513,"reputation":389,"user_id":5097510,"accept_rate":70,"display_name":"Asad Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62640013,"answer_count":1,"score":0,"last_activity_date":1686933307,"creation_date":1587378672,"question_id":61320311,"body_markdown":"I am implementing a SOAP client using Spring Boot for the below configuration to connect with third party web server. Below is my WS-security outgoing configuration used with SOAPUI Client.\r\n[![enter image description here][1]][1]\r\n\r\nand timestamp and username configuration is as follows\r\n\r\n[![enter image description here][2]][2]\r\n\r\n I have written Wss4jSecurityInterceptor for the above configuration which is as follows.\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(Config.class);\r\n    \r\n    \t@Bean\r\n    \tpublic Jaxb2Marshaller marshaller() {\r\n    \t\tJaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n    \t\t// this is the package name specified in the &lt;generatePackage&gt; specified in\r\n    \t\t// pom.xml\r\n    \t\tmarshaller.setContextPath(&quot;co.yabx.bureau.wsdl&quot;);\r\n    \t\treturn marshaller;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ExecuteStrategy executeStrategy(Jaxb2Marshaller jaxb2Marshaller) throws Exception {\r\n    \t\tExecuteStrategy soapClient = new ExecuteStrategy();\r\n    \t\tsoapClient.setDefaultUri(&quot;https://demo-abc/dummy/url&quot;);\r\n    \t\tsoapClient.setMarshaller(jaxb2Marshaller);\r\n    \t\tsoapClient.setUnmarshaller(jaxb2Marshaller);\r\n    \t\tClientInterceptor[] interceptors = new ClientInterceptor[] { wss4jSecurityInterceptor() };\r\n    \t\tsoapClient.setInterceptors(interceptors);\r\n    \r\n    \t\treturn soapClient;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic CryptoFactoryBean cryptoFactoryBean() throws IOException {\r\n    \t\tCryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\r\n    \r\n    \t\tcryptoFactoryBean.setKeyStoreType(&quot;PKCS12&quot;);\r\n    \t\tcryptoFactoryBean.setKeyStorePassword(&quot;123456&quot;);\r\n    \t\tcryptoFactoryBean.setDefaultX509Alias(&quot;1&quot;);\r\n    \r\n    \t\tClassPathResource classPathResource = new ClassPathResource(&quot;\\\\jks\\\\exdemo.p12&quot;); //\r\n    \t\t// System.out.println(classPathResource.getURL());\r\n    \t\tcryptoFactoryBean.setKeyStoreLocation(classPathResource);\r\n      \t\t    \r\n    \t\treturn cryptoFactoryBean;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Wss4jSecurityInterceptor wss4jSecurityInterceptor() throws Exception {\r\n    \r\n    \t\tWss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor();\r\n    \t\twss4jSecurityInterceptor.setSecurementActions(&quot;UsernameToken Timestamp Signature&quot;);\r\n    \r\n    \t\t// Sign the request\r\n    \r\n    \twss4jSecurityInterceptor.setSecurementSignatureUser(&quot;alias&quot;); // alias vale used in above screenshot\r\n    \t\twss4jSecurityInterceptor.setSecurementUsername(&quot;pqr&quot;);\r\n    \t\twss4jSecurityInterceptor.setSecurementTimeToLive(60);\r\n    \t\twss4jSecurityInterceptor.setSecurementPassword(&quot;lmn*&quot;);\r\n    \t\twss4jSecurityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\r\n    \t\twss4jSecurityInterceptor.setSecurementUsernameTokenNonce(true);\r\n    \t\twss4jSecurityInterceptor.setSecurementUsernameTokenCreated(true);\r\n    \t\twss4jSecurityInterceptor.setSecurementSignatureCrypto(cryptoFactoryBean().getObject());\r\n    \r\n    \t\t// Encrypt the request\r\n    \r\n    \t\t// wss4jSecurityInterceptor.setSecurementEncryptionUser(&quot;server-public&quot;);\r\n    \t\twss4jSecurityInterceptor.setSecurementSignatureKeyIdentifier(&quot;DirectReference&quot;);\r\n    \t\twss4jSecurityInterceptor.setSecurementSignatureAlgorithm(WSConstants.RSA_SHA1);\r\n    \t\twss4jSecurityInterceptor.setSecurementSignatureDigestAlgorithm(WSConstants.SHA1);\r\n    \t\twss4jSecurityInterceptor.setSecurementMustUnderstand(true);\r\n    \t\t// wss4jSecurityInterceptor.setSecurementEncryptionUser(securementEncryptionUser);\r\n    \r\n    \t\twss4jSecurityInterceptor.setRemoveSecurityHeader(true);\r\n    \t\twss4jSecurityInterceptor.setSecurementEncryptionCrypto(cryptoFactoryBean().getObject());\r\n    \r\n    \t\treturn wss4jSecurityInterceptor;\r\n    \t}\r\n    \r\n    }\r\n\r\nAfter setting the whole configuration and running the application it is throwing error, which is as follows.\r\n\r\n    2020-04-20 15:45:21.826 ERROR 1172 --- [           main] o.a.wss4j.dom.message.WSSecSignature     : No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    \r\n    org.apache.wss4j.common.ext.WSSecurityException: No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    \tat org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:722) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\r\n    \tat org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:558) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \tat org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:166) [wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \tat org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:238) [wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \tat org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) [spring-ws-security-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:574) [spring-ws-security-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) [spring-ws-security-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:383) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:373) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat co.yabx.bureau.client.ExecuteStrategy.executeStrategy(ExecuteStrategy.java:18) [classes/:na]\r\n    \tat co.yabx.bureau.BureauSoapServiceApplication.main(BureauSoapServiceApplication.java:34) [classes/:na]\r\n    Caused by: java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) ~[na:1.8.0_171]\r\n    \tat java.security.KeyStore.getKey(Unknown Source) ~[na:1.8.0_171]\r\n    \tat org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:710) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\r\n    \t... 13 common frames omitted\r\n    Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n    \tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:991) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:399) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:431) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat javax.crypto.Cipher.doFinal(Cipher.java:2164) ~[na:1.8.0_171]\r\n    \t... 16 common frames omitted\r\n    \r\n    2020-04-20 15:45:21.827 ERROR 1172 --- [           main] o.s.w.s.s.w.Wss4jSecurityInterceptor     : Could not secure response: Error during Signature: ; nested exception is org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \r\n    Original Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    Original Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    Original Exception was java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n    \r\n    org.springframework.ws.soap.security.wss4j2.Wss4jSecuritySecurementException: Error during Signature: ; nested exception is org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \r\n    Original Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    Original Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    Original Exception was java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n    \tat org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:577) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:383) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:373) [spring-ws-core-3.0.8.RELEASE.jar:na]\r\n    \tat co.yabx.bureau.client.ExecuteStrategy.executeStrategy(ExecuteStrategy.java:18) [classes/:na]\r\n    \tat co.yabx.bureau.BureauSoapServiceApplication.main(BureauSoapServiceApplication.java:34) [classes/:na]\r\n    Caused by: org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \r\n    \tat org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:174) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \tat org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:238) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \tat org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\r\n    \tat org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:574) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\r\n    \t... 8 common frames omitted\r\n    Caused by: org.apache.wss4j.common.ext.WSSecurityException: No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    \tat org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:615) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \tat org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:166) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \t... 11 common frames omitted\r\n    Caused by: org.apache.wss4j.common.ext.WSSecurityException: No message with ID &quot;noPrivateKey&quot; found in resource bundle &quot;org/apache/xml/security/resource/xmlsecurity&quot;\r\n    \tat org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:722) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\r\n    \tat org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:558) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\r\n    \t... 12 common frames omitted\r\n    Caused by: java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) ~[na:1.8.0_171]\r\n    \tat java.security.KeyStore.getKey(Unknown Source) ~[na:1.8.0_171]\r\n    \tat org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:710) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\r\n    \t... 13 common frames omitted\r\n    Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n    \tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:991) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:399) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:431) ~[sunjce_provider.jar:1.8.0_171]\r\n    \tat javax.crypto.Cipher.doFinal(Cipher.java:2164) ~[na:1.8.0_171]\r\n    \t... 16 common frames omitted\r\n\r\n\r\nI also tried creating CrytpoFactoryBean using properties but still getting the same issue. Below is the property configuration I tried\r\n\r\n            Properties properties = new Properties();\r\n    \t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.provider&quot;, &quot;org.apache.wss4j.common.crypto.Merlin&quot;);\r\n    \t\tproperties.setProperty(&quot;org.apache.wss4j.crypto.merlin.keystore.alias&quot;, &quot;alias&quot;);\r\n    \t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.type&quot;, &quot;PKCS12&quot;);\r\n    \t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;, &quot;123456&quot;);\r\n    \t\tproperties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.file&quot;,\r\n    \t\t\t\t&quot;\\\\jks\\\\exdemo.p12&quot;);\r\n    \t\tcryptoFactoryBean.setConfiguration(properties);\r\n    \r\n    \t\ttry {\r\n    \t\t\tcryptoFactoryBean.afterPropertiesSet();\r\n    \t\t} catch (Exception e) { // TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\nI don&#39;t understand what mistakes am I doing. Anyhelp will be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/PaJRb.png\r\n  [2]: https://i.stack.imgur.com/n0mOQ.png","title":"Signing SOAP header using Wss4j in Spring throwing errors &quot;Caused by: java.security.UnrecoverableKeyException: Given final block not properly padded&quot;","body":"<p>I am implementing a SOAP client using Spring Boot for the below configuration to connect with third party web server. Below is my WS-security outgoing configuration used with SOAPUI Client.\n<a href=\"https://i.stack.imgur.com/PaJRb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PaJRb.png\" alt=\"enter image description here\"></a></p>\n\n<p>and timestamp and username configuration is as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/n0mOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0mOQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have written Wss4jSecurityInterceptor for the above configuration which is as follows.</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Config.class);\n\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        // this is the package name specified in the &lt;generatePackage&gt; specified in\n        // pom.xml\n        marshaller.setContextPath(\"co.yabx.bureau.wsdl\");\n        return marshaller;\n    }\n\n    @Bean\n    public ExecuteStrategy executeStrategy(Jaxb2Marshaller jaxb2Marshaller) throws Exception {\n        ExecuteStrategy soapClient = new ExecuteStrategy();\n        soapClient.setDefaultUri(\"https://demo-abc/dummy/url\");\n        soapClient.setMarshaller(jaxb2Marshaller);\n        soapClient.setUnmarshaller(jaxb2Marshaller);\n        ClientInterceptor[] interceptors = new ClientInterceptor[] { wss4jSecurityInterceptor() };\n        soapClient.setInterceptors(interceptors);\n\n        return soapClient;\n    }\n\n    @Bean\n    public CryptoFactoryBean cryptoFactoryBean() throws IOException {\n        CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\n\n        cryptoFactoryBean.setKeyStoreType(\"PKCS12\");\n        cryptoFactoryBean.setKeyStorePassword(\"123456\");\n        cryptoFactoryBean.setDefaultX509Alias(\"1\");\n\n        ClassPathResource classPathResource = new ClassPathResource(\"\\\\jks\\\\exdemo.p12\"); //\n        // System.out.println(classPathResource.getURL());\n        cryptoFactoryBean.setKeyStoreLocation(classPathResource);\n\n        return cryptoFactoryBean;\n    }\n\n    @Bean\n    public Wss4jSecurityInterceptor wss4jSecurityInterceptor() throws Exception {\n\n        Wss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor();\n        wss4jSecurityInterceptor.setSecurementActions(\"UsernameToken Timestamp Signature\");\n\n        // Sign the request\n\n    wss4jSecurityInterceptor.setSecurementSignatureUser(\"alias\"); // alias vale used in above screenshot\n        wss4jSecurityInterceptor.setSecurementUsername(\"pqr\");\n        wss4jSecurityInterceptor.setSecurementTimeToLive(60);\n        wss4jSecurityInterceptor.setSecurementPassword(\"lmn*\");\n        wss4jSecurityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\n        wss4jSecurityInterceptor.setSecurementUsernameTokenNonce(true);\n        wss4jSecurityInterceptor.setSecurementUsernameTokenCreated(true);\n        wss4jSecurityInterceptor.setSecurementSignatureCrypto(cryptoFactoryBean().getObject());\n\n        // Encrypt the request\n\n        // wss4jSecurityInterceptor.setSecurementEncryptionUser(\"server-public\");\n        wss4jSecurityInterceptor.setSecurementSignatureKeyIdentifier(\"DirectReference\");\n        wss4jSecurityInterceptor.setSecurementSignatureAlgorithm(WSConstants.RSA_SHA1);\n        wss4jSecurityInterceptor.setSecurementSignatureDigestAlgorithm(WSConstants.SHA1);\n        wss4jSecurityInterceptor.setSecurementMustUnderstand(true);\n        // wss4jSecurityInterceptor.setSecurementEncryptionUser(securementEncryptionUser);\n\n        wss4jSecurityInterceptor.setRemoveSecurityHeader(true);\n        wss4jSecurityInterceptor.setSecurementEncryptionCrypto(cryptoFactoryBean().getObject());\n\n        return wss4jSecurityInterceptor;\n    }\n\n}\n</code></pre>\n\n<p>After setting the whole configuration and running the application it is throwing error, which is as follows.</p>\n\n<pre><code>2020-04-20 15:45:21.826 ERROR 1172 --- [           main] o.a.wss4j.dom.message.WSSecSignature     : No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n\norg.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:722) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:558) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:166) [wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:238) [wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) [spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:574) [spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) [spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:383) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:373) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at co.yabx.bureau.client.ExecuteStrategy.executeStrategy(ExecuteStrategy.java:18) [classes/:na]\n    at co.yabx.bureau.BureauSoapServiceApplication.main(BureauSoapServiceApplication.java:34) [classes/:na]\nCaused by: java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) ~[na:1.8.0_171]\n    at java.security.KeyStore.getKey(Unknown Source) ~[na:1.8.0_171]\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:710) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    ... 13 common frames omitted\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:991) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:399) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:431) ~[sunjce_provider.jar:1.8.0_171]\n    at javax.crypto.Cipher.doFinal(Cipher.java:2164) ~[na:1.8.0_171]\n    ... 16 common frames omitted\n\n2020-04-20 15:45:21.827 ERROR 1172 --- [           main] o.s.w.s.s.w.Wss4jSecurityInterceptor     : Could not secure response: Error during Signature: ; nested exception is org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n\norg.springframework.ws.soap.security.wss4j2.Wss4jSecuritySecurementException: Error during Signature: ; nested exception is org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:577) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:383) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:373) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at co.yabx.bureau.client.ExecuteStrategy.executeStrategy(ExecuteStrategy.java:18) [classes/:na]\n    at co.yabx.bureau.BureauSoapServiceApplication.main(BureauSoapServiceApplication.java:34) [classes/:na]\nCaused by: org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \n    at org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:174) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:238) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:574) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    ... 8 common frames omitted\nCaused by: org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n    at org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:615) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:166) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    ... 11 common frames omitted\nCaused by: org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:722) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:558) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    ... 12 common frames omitted\nCaused by: java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) ~[na:1.8.0_171]\n    at java.security.KeyStore.getKey(Unknown Source) ~[na:1.8.0_171]\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:710) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    ... 13 common frames omitted\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:991) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:399) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:431) ~[sunjce_provider.jar:1.8.0_171]\n    at javax.crypto.Cipher.doFinal(Cipher.java:2164) ~[na:1.8.0_171]\n    ... 16 common frames omitted\n</code></pre>\n\n<p>I also tried creating CrytpoFactoryBean using properties but still getting the same issue. Below is the property configuration I tried</p>\n\n<pre><code>        Properties properties = new Properties();\n        properties.setProperty(\"org.apache.ws.security.crypto.provider\", \"org.apache.wss4j.common.crypto.Merlin\");\n        properties.setProperty(\"org.apache.wss4j.crypto.merlin.keystore.alias\", \"alias\");\n        properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.type\", \"PKCS12\");\n        properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.password\", \"123456\");\n        properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.file\",\n                \"\\\\jks\\\\exdemo.p12\");\n        cryptoFactoryBean.setConfiguration(properties);\n\n        try {\n            cryptoFactoryBean.afterPropertiesSet();\n        } catch (Exception e) { // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>I don't understand what mistakes am I doing. Anyhelp will be appreciated.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686932919,"post_id":76491968,"comment_id":134871431,"body_markdown":"`user.home` is your friend","body":"<code>user.home</code> is your friend"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686933502,"post_id":76492081,"comment_id":134871545,"body_markdown":"The problem with Class-Path in a manifest is that it&#39;s just an opaque and difficult to maintain version of supplying the same thing in a script, and subject to the same relativization problems","body":"The problem with Class-Path in a manifest is that it&#39;s just an opaque and difficult to maintain version of supplying the same thing in a script, and subject to the same relativization problems"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1686969655,"post_id":76492081,"comment_id":134875660,"body_markdown":"@G00se That is an entirely incorrect statement. Build tools maintain your dep chain and can fix the `Class-Path` entry in the manifest for you. In contrast to a script, where you either duplicate the work and separately maintain the full file names of all deps in a script __and__ in your build file - a nasty DRY violation (in that its error prone – hard to test, and very annoying) - or write a build tool plugin that does this for you.","body":"@G00se That is an entirely incorrect statement. Build tools maintain your dep chain and can fix the <code>Class-Path</code> entry in the manifest for you. In contrast to a script, where you either duplicate the work and separately maintain the full file names of all deps in a script <b>and</b> in your build file - a nasty DRY violation (in that its error prone – hard to test, and very annoying) - or write a build tool plugin that does this for you."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1686969724,"post_id":76492081,"comment_id":134875664,"body_markdown":"Furthermore, scripts aren&#39;t as universal as jars are: jars work the same way on all platforms (just double click them, or execute `java -jar thatjar.jar`) whereas scripts aren&#39;t that universal. `#!/bin/sh` doesn&#39;t work on windows, for example. There are fancy ways to craft scripts that work on all platforms by (ab)using `REM` and `#` but that&#39;s some bizarre hackery that, surely, you cannot possibly be recommending here.","body":"Furthermore, scripts aren&#39;t as universal as jars are: jars work the same way on all platforms (just double click them, or execute <code>java -jar thatjar.jar</code>) whereas scripts aren&#39;t that universal. <code>#!&#47;bin&#47;sh</code> doesn&#39;t work on windows, for example. There are fancy ways to craft scripts that work on all platforms by (ab)using <code>REM</code> and <code>#</code> but that&#39;s some bizarre hackery that, surely, you cannot possibly be recommending here."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686988511,"post_id":76492081,"comment_id":134876771,"body_markdown":"I wouldn&#39;t do either in reality. Unless a fat jar is unfeasibly large (rare), I would always supply one as otherwise it&#39;s just asking for the user to break something by moving a file","body":"I wouldn&#39;t do either in reality. Unless a fat jar is unfeasibly large (rare), I would always supply one as otherwise it&#39;s just asking for the user to break something by moving a file"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1687090589,"post_id":76492081,"comment_id":134885745,"body_markdown":"You think an app should hold up __when the user decides to just randomly modify / move its files around__? That&#39;s... an utterly ridiculous requirement.","body":"You think an app should hold up <b>when the user decides to just randomly modify / move its files around</b>? That&#39;s... an utterly ridiculous requirement."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686933101,"creation_date":1686933101,"answer_id":76492081,"question_id":76491968,"body_markdown":"&gt; Is there a standard folder location, applicable to both Windows and Linux, where .jar files can be found in a machine-independent manner?\r\n\r\njar files are executables. You might as well ask &#39;is there a standard folder location where applications are found&quot;. No, there is not. It&#39;s OS-specific.\r\n\r\n&gt; Alternatively, is there a standard way of defining dependencies, similar to Python&#39;s requirements.txt file, that allows for installation of command-line tools without hardcoding a specific folder that must be the same on each machine\r\n\r\nI don&#39;t know what `requirements.txt` is, but if a jar file has dependencies (it needs other jar files to operate), yes, there is - that jar file __itself__ should include in its manifest a classpath entry. That entry is space-separated and all paths are resolved relative to the dir the executable jar is in. The &#39;manifest&#39; is the same place you specify the main class. Looks like:\r\n\r\n```\r\n/my/appfolder/main.jar\r\n/my/appfolder/dep/guava.jar\r\n/my/appfolder/dep/jdbi.jar\r\n```\r\n\r\nwith in main.jar&#39;s `META-INF/MANIFEST.MF` file (jars are essentially just zips, use the `jar` or `zip` tool to look at em. Build tools build manifest files automatically; if you must do it by hand, the jar tools `-m` option is what you want to look at):\r\n\r\n```\r\nMain-Class: com.foo.MyMainClass\r\nClass-Path: dep/guava.jar dep/jdbi.jar\r\n```\r\n\r\nAt which point you can just doubleclick `main.jar` or run `java -jar /my/appfolder/main.jar` and those deps do not need to be on the classpath (indeed, the `CLASSPATH` environment variable is ignored, as is any `-classpath` option passed to the `java` command if you run `java -jar` - __only__ the classpath as listed in the manifest is considered). Of course, the jar file itself is on its own classpath, there is no need to list it separately in the `Class-Path` manifest entry.\r\n\r\nIf you have a jar file that doesn&#39;t have a proper classpath, fix the build script that made that jar file, as it is therefore broken.\r\n\r\nMost java build tools offer an alternative; the so-called &quot;fat jar&quot;, where __all__ dependencies are mixed together with the app&#39;s own class files, producing one giant jar file that contains everything needed to run the java application. Such a jar file does not need a `Class-Path` entry in its manifest, given that a jar file always includes itself on its own classpath if running as `java -jar`. The downside is that building a jar file nearly a GB large takes a lot of time and is very annoying to transfer into docker images or to other servers. I recommend against fatjarring; the class-path entry is a much better alternative.\r\n\r\nThe one thing you need to hardcode someplace is the location of that jar file. If you want a standard path that works &#39;everywhere&#39;, the argument you pass to `java -jar` accepts forward slashes even on windows (where they are interpreted as path separators just like backslash would be), and you can obviate the need for that entirely by first `cd`-ing to the right directory and then executing `java -jar myapp.jar`. Ensure the process that copies the jar file(s) to the host system does that in the user&#39;s home dir, and you can write a script that works anywhere, assuming that script&#39;s working dir is the user home dir. It simply needs to execute:\r\n\r\n```\r\njava -jar myapp/myapp.jar\r\n```\r\n\r\nwhich would work on all platforms.\r\n","title":"How to organize executable .jar-files","body":"<blockquote>\n<p>Is there a standard folder location, applicable to both Windows and Linux, where .jar files can be found in a machine-independent manner?</p>\n</blockquote>\n<p>jar files are executables. You might as well ask 'is there a standard folder location where applications are found&quot;. No, there is not. It's OS-specific.</p>\n<blockquote>\n<p>Alternatively, is there a standard way of defining dependencies, similar to Python's requirements.txt file, that allows for installation of command-line tools without hardcoding a specific folder that must be the same on each machine</p>\n</blockquote>\n<p>I don't know what <code>requirements.txt</code> is, but if a jar file has dependencies (it needs other jar files to operate), yes, there is - that jar file <strong>itself</strong> should include in its manifest a classpath entry. That entry is space-separated and all paths are resolved relative to the dir the executable jar is in. The 'manifest' is the same place you specify the main class. Looks like:</p>\n<pre><code>/my/appfolder/main.jar\n/my/appfolder/dep/guava.jar\n/my/appfolder/dep/jdbi.jar\n</code></pre>\n<p>with in main.jar's <code>META-INF/MANIFEST.MF</code> file (jars are essentially just zips, use the <code>jar</code> or <code>zip</code> tool to look at em. Build tools build manifest files automatically; if you must do it by hand, the jar tools <code>-m</code> option is what you want to look at):</p>\n<pre><code>Main-Class: com.foo.MyMainClass\nClass-Path: dep/guava.jar dep/jdbi.jar\n</code></pre>\n<p>At which point you can just doubleclick <code>main.jar</code> or run <code>java -jar /my/appfolder/main.jar</code> and those deps do not need to be on the classpath (indeed, the <code>CLASSPATH</code> environment variable is ignored, as is any <code>-classpath</code> option passed to the <code>java</code> command if you run <code>java -jar</code> - <strong>only</strong> the classpath as listed in the manifest is considered). Of course, the jar file itself is on its own classpath, there is no need to list it separately in the <code>Class-Path</code> manifest entry.</p>\n<p>If you have a jar file that doesn't have a proper classpath, fix the build script that made that jar file, as it is therefore broken.</p>\n<p>Most java build tools offer an alternative; the so-called &quot;fat jar&quot;, where <strong>all</strong> dependencies are mixed together with the app's own class files, producing one giant jar file that contains everything needed to run the java application. Such a jar file does not need a <code>Class-Path</code> entry in its manifest, given that a jar file always includes itself on its own classpath if running as <code>java -jar</code>. The downside is that building a jar file nearly a GB large takes a lot of time and is very annoying to transfer into docker images or to other servers. I recommend against fatjarring; the class-path entry is a much better alternative.</p>\n<p>The one thing you need to hardcode someplace is the location of that jar file. If you want a standard path that works 'everywhere', the argument you pass to <code>java -jar</code> accepts forward slashes even on windows (where they are interpreted as path separators just like backslash would be), and you can obviate the need for that entirely by first <code>cd</code>-ing to the right directory and then executing <code>java -jar myapp.jar</code>. Ensure the process that copies the jar file(s) to the host system does that in the user's home dir, and you can write a script that works anywhere, assuming that script's working dir is the user home dir. It simply needs to execute:</p>\n<pre><code>java -jar myapp/myapp.jar\n</code></pre>\n<p>which would work on all platforms.</p>\n"}],"owner":{"account_id":4840330,"reputation":1681,"user_id":3905529,"display_name":"anion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686933101,"creation_date":1686932099,"question_id":76491968,"body_markdown":"Situation:\r\n\r\nIn many repositories that are used by multiple users, there are scripts that require the execution of `.jar` files for automation. These repositories are not necessarily Java project repositories. Specifically, some scripts must execute something like `java -jar plantuml.jar &quot;{repositoryfolder}/reference/model.plantuml&quot; -tsvg` on the local machine of the user. It can be assumed that the `java` command is available on each machine.\r\n\r\nProblem:\r\n\r\nIs there a standard folder location, applicable to both Windows and Linux, where `.jar` files can be found in a machine-independent manner? Alternatively, is there a standard way of defining dependencies, similar to Python&#39;s `requirements.txt` file, that allows for installation of command-line tools without hardcoding a specific folder that must be the same on each machine, and without defining a special environment variable that must exist on each machine?","title":"How to organize executable .jar-files","body":"<p>Situation:</p>\n<p>In many repositories that are used by multiple users, there are scripts that require the execution of <code>.jar</code> files for automation. These repositories are not necessarily Java project repositories. Specifically, some scripts must execute something like <code>java -jar plantuml.jar &quot;{repositoryfolder}/reference/model.plantuml&quot; -tsvg</code> on the local machine of the user. It can be assumed that the <code>java</code> command is available on each machine.</p>\n<p>Problem:</p>\n<p>Is there a standard folder location, applicable to both Windows and Linux, where <code>.jar</code> files can be found in a machine-independent manner? Alternatively, is there a standard way of defining dependencies, similar to Python's <code>requirements.txt</code> file, that allows for installation of command-line tools without hardcoding a specific folder that must be the same on each machine, and without defining a special environment variable that must exist on each machine?</p>\n"},{"tags":["java","soap","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1578732694,"post_id":59668553,"comment_id":105541464,"body_markdown":"You clearly don&#39;t send the same HTTP request(s) as CURL, so please at least post the CURL so that people can tell you what you did differently in java.","body":"You clearly don&#39;t send the same HTTP request(s) as CURL, so please at least post the CURL so that people can tell you what you did differently in java."},{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1578755603,"post_id":59668553,"comment_id":105546245,"body_markdown":"Where is your curl? How do you authenticate? Seems like auth issue","body":"Where is your curl? How do you authenticate? Seems like auth issue"},{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":1,"creation_date":1578755680,"post_id":59668553,"comment_id":105546266,"body_markdown":"`&lt;text&gt;&lt;![CDATA[ See log trace with id: n/a` the most reliable debugging approach here would be to check what it suggests (PI trace), not to read tea leaves","body":"<code>&lt;text&gt;&lt;![CDATA[ See log trace with id: n&#47;a</code> the most reliable debugging approach here would be to check what it suggests (PI trace), not to read tea leaves"},{"owner":{"account_id":7612487,"reputation":462,"user_id":5772936,"accept_rate":100,"display_name":"DanieleO"},"score":0,"creation_date":1579607085,"post_id":59668553,"comment_id":105814816,"body_markdown":"Hello, thanks for the answer.\nIssue was that WSDL was not compliant to the XML Call.\n\nPI was under my governance, i was just sending request to it but did not have access.\n\nI close the Question.\n\nAlso .setContentType(&quot;application/xml&quot;); was needed on the java code.","body":"Hello, thanks for the answer. Issue was that WSDL was not compliant to the XML Call.  PI was under my governance, i was just sending request to it but did not have access.  I close the Question.  Also .setContentType(&quot;application/xml&quot;); was needed on the java code."},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1612427482,"post_id":59668553,"comment_id":116764792,"body_markdown":"@DanieleO If you solved your problem it is suggested to post solution as answer and then accept it later. Then question will be clearly marked as resolved.","body":"@DanieleO If you solved your problem it is suggested to post solution as answer and then accept it later. Then question will be clearly marked as resolved."}],"answers":[{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1637737461,"post_id":70080005,"comment_id":123903137,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/30412754)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/30412754\">From Review</a>"}],"tags":[],"owner":{"account_id":13865920,"reputation":19,"user_id":10010425,"display_name":"Kundan Thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637666588,"creation_date":1637666588,"answer_id":70080005,"question_id":59668553,"body_markdown":"you need to verify ,is there any special character in raw data .","title":"Calling SAP PI web service throws ADAPTER.JAVA_EXCEPTION","body":"<p>you need to verify ,is there any special character in raw data .</p>\n"}],"owner":{"account_id":7612487,"reputation":462,"user_id":5772936,"accept_rate":100,"display_name":"DanieleO"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5785,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686933049,"creation_date":1578588117,"question_id":59668553,"body_markdown":"I&#39;m making a Java SOAP call to a WS on SAP PI.\r\n\r\nTried with a curl and it worked well, getting a response.\r\n**Is there something to do more on Java that I miss?**\r\n\r\nTrying with the code below, I got the following response:\r\n\r\n    &lt;?xml version=&#39;1.0&#39;?&gt;\r\n    &lt;!-- see the documentation --&gt;\r\n    &lt;SOAP:Envelope xmlns:SOAP=&#39;http://schemas.xmlsoap.org/soap/envelope/&#39;&gt;\r\n      &lt;SOAP:Body&gt;\r\n        &lt;SOAP:Fault&gt;\r\n          &lt;faultcode&gt;SOAP:Server&lt;/faultcode&gt;\r\n          &lt;faultstring&gt;Server Error&lt;/faultstring&gt;\r\n          &lt;detail&gt;\r\n            &lt;s:SystemError xmlns:s=&#39;http://sap.com/xi/WebService/xi2.0&#39;&gt;\r\n              &lt;context&gt;XIAdapter&lt;/context&gt;\r\n              &lt;code&gt;ADAPTER.JAVA_EXCEPTION&lt;/code&gt;\r\n              &lt;text&gt;&lt;![CDATA[\r\n    See log trace with id: n/a\r\n              ]]&gt;&lt;/text&gt;\r\n            &lt;/s:SystemError&gt;\r\n          &lt;/detail&gt;\r\n        &lt;/SOAP:Fault&gt;\r\n      &lt;/SOAP:Body&gt;\r\n    &lt;/SOAP:Envelope&gt;\r\n\r\nHere&#39;s the Java code:\r\n\r\n    String body = &quot;body xml and validated &quot;;\r\n    \t\t\t\t\tStringEntity stringEntity = new StringEntity(body, &quot;UTF-8&quot;);\r\n    \t\t\tstringEntity.setChunked(true);\r\n    \t\t\tString soapAction = &quot;ActionOut&quot;;\r\n    \t\t\r\n    \t\t\tHttpPost httpPost = new HttpPost(&quot;http://x.x.x.x:50000/XISOAPAdapter/MessageServlet?senderParty=&amp;senderService=BSY_IBMMDM_T&amp;receiverParty=&amp;receiverService=&amp;interface=ActionOut&amp;interfaceNamespace=urn:yyyy.com:IBMMDM:AdobeForms&quot;);\r\n\r\n    \r\n    \t\t\tUsernamePasswordCredentials creds = new UsernamePasswordCredentials(&quot;usr&quot;, &quot;psw&quot;);\r\n    \t\t\thttpPost.addHeader(new BasicScheme().authenticate(creds, httpPost, null));\r\n    \t\t\thttpPost.setEntity(stringEntity);\r\n    \r\n    \t\t\thttpPost.addHeader(&quot;Accept&quot;, &quot;text/xml; charset=utf-8&quot;);\r\n    \t\t\thttpPost.addHeader(&quot;SOAPAction&quot;, soapAction);\r\n    \r\n    \t\t\t// Execute and get the response.\r\n    \t\t\tHttpClient httpClient = new DefaultHttpClient();\r\n    \r\n    \t\t\tHttpResponse response = httpClient.execute(httpPost);\r\n    \r\n    \t\t\tHttpEntity entity = response.getEntity();","title":"Calling SAP PI web service throws ADAPTER.JAVA_EXCEPTION","body":"<p>I'm making a Java SOAP call to a WS on SAP PI.</p>\n<p>Tried with a curl and it worked well, getting a response.\n<strong>Is there something to do more on Java that I miss?</strong></p>\n<p>Trying with the code below, I got the following response:</p>\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;!-- see the documentation --&gt;\n&lt;SOAP:Envelope xmlns:SOAP='http://schemas.xmlsoap.org/soap/envelope/'&gt;\n  &lt;SOAP:Body&gt;\n    &lt;SOAP:Fault&gt;\n      &lt;faultcode&gt;SOAP:Server&lt;/faultcode&gt;\n      &lt;faultstring&gt;Server Error&lt;/faultstring&gt;\n      &lt;detail&gt;\n        &lt;s:SystemError xmlns:s='http://sap.com/xi/WebService/xi2.0'&gt;\n          &lt;context&gt;XIAdapter&lt;/context&gt;\n          &lt;code&gt;ADAPTER.JAVA_EXCEPTION&lt;/code&gt;\n          &lt;text&gt;&lt;![CDATA[\nSee log trace with id: n/a\n          ]]&gt;&lt;/text&gt;\n        &lt;/s:SystemError&gt;\n      &lt;/detail&gt;\n    &lt;/SOAP:Fault&gt;\n  &lt;/SOAP:Body&gt;\n&lt;/SOAP:Envelope&gt;\n</code></pre>\n<p>Here's the Java code:</p>\n<pre><code>String body = &quot;body xml and validated &quot;;\n                    StringEntity stringEntity = new StringEntity(body, &quot;UTF-8&quot;);\n            stringEntity.setChunked(true);\n            String soapAction = &quot;ActionOut&quot;;\n        \n            HttpPost httpPost = new HttpPost(&quot;http://x.x.x.x:50000/XISOAPAdapter/MessageServlet?senderParty=&amp;senderService=BSY_IBMMDM_T&amp;receiverParty=&amp;receiverService=&amp;interface=ActionOut&amp;interfaceNamespace=urn:yyyy.com:IBMMDM:AdobeForms&quot;);\n\n\n            UsernamePasswordCredentials creds = new UsernamePasswordCredentials(&quot;usr&quot;, &quot;psw&quot;);\n            httpPost.addHeader(new BasicScheme().authenticate(creds, httpPost, null));\n            httpPost.setEntity(stringEntity);\n\n            httpPost.addHeader(&quot;Accept&quot;, &quot;text/xml; charset=utf-8&quot;);\n            httpPost.addHeader(&quot;SOAPAction&quot;, soapAction);\n\n            // Execute and get the response.\n            HttpClient httpClient = new DefaultHttpClient();\n\n            HttpResponse response = httpClient.execute(httpPost);\n\n            HttpEntity entity = response.getEntity();\n</code></pre>\n"},{"tags":["java","integration","sap-pi","sap-xi"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1581916985,"creation_date":1581916443,"answer_id":60256282,"question_id":60255998,"body_markdown":"Several things:\r\n\r\nDon&#39;t use `==` to compare strings for equality. Use the `equals()` method instead. The `==` checks if both objects point to the same memory location whereas the [String#equals()](https://www.tutorialspoint.com/java/java_string_equals.htm) method evaluates to the comparison of values in the objects.\r\n\r\nDon&#39;t initialize your String variables in this fashion: `String filename = new String(&quot;&quot;);`. This is a String Constructor Invocation. What you should be doing is: `String filename = &quot;&quot;;`.\r\n\r\nYou can&#39;t check to see if a particular variable contains one of multiple possibilities in this fashion:\r\n\r\n    if (orgid == &quot;G&quot; || &quot;ZG&quot; || &quot;S&quot;) {\r\n\r\nAs mentioned earlier you need to use the **[String#equals()](https://www.tutorialspoint.com/java/java_string_equals.htm)** method and to compare against other possibilities you need to compare each string to the variable, for example:\r\n\r\n    if (orgid.equals(&quot;G&quot;) || orgid.equals(&quot;ZG&quot;) || orgid.equals(&quot;S&quot;)) {\r\n\r\nIt&#39;s better to use **[switch](https://www.tutorialspoint.com/java/switch_statement_in_java.htm)** statement instead for something like this, for example:\r\n\r\n    /* Using the String#toUpperCase() method ensures that \r\n       we don&#39;t need to worry about what letter case happens\r\n       to be in orgid.    */\r\n    switch (orgid.toUpperCase()) {\r\n        case &quot;G&quot;:\r\n        case &quot;ZG&quot;:\r\n        case &quot;S&quot;:\r\n            filename = &quot;N_&quot; + df.format(date) + &quot;.txt&quot;;\r\n            break;\r\n        case &quot;L&quot;:\r\n            filename = &quot;D_&quot; + df.format(date) + &quot;.txt&quot;;\r\n            break;\r\n        case &quot;F&quot;:\r\n        case &quot;IV&quot;:\r\n            filename = &quot;F_&quot; + df.format(date) + &quot;.txt&quot;;\r\n            break;\r\n        default:\r\n            System.err.println(&quot;Can Not Establish A Proper File Name (missing prefix)!&quot;);\r\n            return;\r\n    }\r\n\r\n","title":"UDF for conditional generation of filename","body":"<p>Several things:</p>\n\n<p>Don't use <code>==</code> to compare strings for equality. Use the <code>equals()</code> method instead. The <code>==</code> checks if both objects point to the same memory location whereas the <a href=\"https://www.tutorialspoint.com/java/java_string_equals.htm\" rel=\"nofollow noreferrer\">String#equals()</a> method evaluates to the comparison of values in the objects.</p>\n\n<p>Don't initialize your String variables in this fashion: <code>String filename = new String(\"\");</code>. This is a String Constructor Invocation. What you should be doing is: <code>String filename = \"\";</code>.</p>\n\n<p>You can't check to see if a particular variable contains one of multiple possibilities in this fashion:</p>\n\n<pre><code>if (orgid == \"G\" || \"ZG\" || \"S\") {\n</code></pre>\n\n<p>As mentioned earlier you need to use the <strong><a href=\"https://www.tutorialspoint.com/java/java_string_equals.htm\" rel=\"nofollow noreferrer\">String#equals()</a></strong> method and to compare against other possibilities you need to compare each string to the variable, for example:</p>\n\n<pre><code>if (orgid.equals(\"G\") || orgid.equals(\"ZG\") || orgid.equals(\"S\")) {\n</code></pre>\n\n<p>It's better to use <strong><a href=\"https://www.tutorialspoint.com/java/switch_statement_in_java.htm\" rel=\"nofollow noreferrer\">switch</a></strong> statement instead for something like this, for example:</p>\n\n<pre><code>/* Using the String#toUpperCase() method ensures that \n   we don't need to worry about what letter case happens\n   to be in orgid.    */\nswitch (orgid.toUpperCase()) {\n    case \"G\":\n    case \"ZG\":\n    case \"S\":\n        filename = \"N_\" + df.format(date) + \".txt\";\n        break;\n    case \"L\":\n        filename = \"D_\" + df.format(date) + \".txt\";\n        break;\n    case \"F\":\n    case \"IV\":\n        filename = \"F_\" + df.format(date) + \".txt\";\n        break;\n    default:\n        System.err.println(\"Can Not Establish A Proper File Name (missing prefix)!\");\n        return;\n}\n</code></pre>\n"}],"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60256282,"answer_count":1,"score":0,"last_activity_date":1686933001,"creation_date":1581913953,"question_id":60255998,"body_markdown":"I want to pass the filename dynamically based on the condition. I have written the below code but the filename is not getting passed. I think there might be some issue in the if condition. \r\n\r\n    DynamicConfiguration conf = (DynamicConfiguration) container.getTransformationParameters().get(StreamTransformationConstants.DYNAMIC_CONFIGURATION);\r\n    DynamicConfigurationKey key = DynamicConfigurationKey.create(&quot;http://sap.com/xi/XI/System&quot;,&quot;FileName&quot;);\r\n    \r\n    //get current timestamp and reformat\r\n    Date date = new Date();\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\r\n    \r\n    //define filename\r\n    String filename = new String(&quot;&quot;);\r\n    if (orgid == &quot;G&quot;||&quot;ZG&quot;||&quot;S&quot;)\r\n    {\r\n    filename = &quot;N_&quot; + df.format(date) + &quot;.txt&quot;  ;\r\n    }\r\n    if (orgid == &quot;L&quot;)\r\n    {\r\n    filename = &quot;D_&quot; + df.format(date) + &quot;.txt&quot;  ;\r\n    }\r\n    \r\n    if (orgid == &quot;F&quot;||&quot;IV&quot;)\r\n    {\r\n    filename = &quot;F_&quot; + df.format(date) + &quot;.txt&quot;  ;\r\n    }\r\n    \r\n    \r\n    conf.put(key, filename);\r\n    \r\n    return filename;\r\n\r\nPlease let me know where I am getting wrong.","title":"UDF for conditional generation of filename","body":"<p>I want to pass the filename dynamically based on the condition. I have written the below code but the filename is not getting passed. I think there might be some issue in the if condition.</p>\n<pre><code>DynamicConfiguration conf = (DynamicConfiguration) container.getTransformationParameters().get(StreamTransformationConstants.DYNAMIC_CONFIGURATION);\nDynamicConfigurationKey key = DynamicConfigurationKey.create(&quot;http://sap.com/xi/XI/System&quot;,&quot;FileName&quot;);\n\n//get current timestamp and reformat\nDate date = new Date();\nDateFormat df = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\n\n//define filename\nString filename = new String(&quot;&quot;);\nif (orgid == &quot;G&quot;||&quot;ZG&quot;||&quot;S&quot;)\n{\nfilename = &quot;N_&quot; + df.format(date) + &quot;.txt&quot;  ;\n}\nif (orgid == &quot;L&quot;)\n{\nfilename = &quot;D_&quot; + df.format(date) + &quot;.txt&quot;  ;\n}\n\nif (orgid == &quot;F&quot;||&quot;IV&quot;)\n{\nfilename = &quot;F_&quot; + df.format(date) + &quot;.txt&quot;  ;\n}\n\n\nconf.put(key, filename);\n\nreturn filename;\n</code></pre>\n<p>Please let me know where I am getting wrong.</p>\n"},{"tags":["java","sap-pi"],"comments":[{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1593415887,"post_id":62632688,"comment_id":110762174,"body_markdown":"Why tags `javascript` and `php`?","body":"Why tags <code>javascript</code> and <code>php</code>?"}],"owner":{"account_id":18955962,"reputation":21,"user_id":13832546,"display_name":"Meghana H V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2027,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686932969,"creation_date":1593413532,"question_id":62632688,"body_markdown":"I am facing problem in UDF. Please help me out.\r\n\r\nFrom each context `E1EDL24` we need to take `POSNR` value and match it with the first another context `E1EDL37`/`E1EDL44` `POSNR` value.  If it matches make &#39;count&#39; as 1. Then check the next first context `E1EDL37`/`E1EDL44` `POSNR` value and if we get the match &#39;count&#39; will increase by 1 and so on.\r\nIf no matches &#39;count&#39; will be zero.\r\n\r\nI have tried writing UDF it is iterating only the number of times the input is given.\r\n\r\nUDF :\r\n\r\n    **int flag,count=0;\r\n    for(int i=0;i&lt;POSNR.length;i++)\r\n    {\r\n    flag=0;\r\n    for(int j=0;j&lt;POSNR1.length;j++)\r\n    {\r\n    if(POSNR[i].equals(POSNR1[j]))\r\n    {\r\n    result.addValue(&quot;1&quot;);\r\n    flag=1;\r\n    break;\r\n    }\r\n    }\r\n    if(flag==0)\r\n    result.addValue(&quot;0&quot;);\r\n    }**\r\n\r\n\r\n","title":"Need UDF to Compare two values of 2 different contexts and give the count based on successful comparison in SAP PI","body":"<p>I am facing problem in UDF. Please help me out.</p>\n<p>From each context <code>E1EDL24</code> we need to take <code>POSNR</code> value and match it with the first another context <code>E1EDL37</code>/<code>E1EDL44</code> <code>POSNR</code> value.  If it matches make 'count' as 1. Then check the next first context <code>E1EDL37</code>/<code>E1EDL44</code> <code>POSNR</code> value and if we get the match 'count' will increase by 1 and so on.\nIf no matches 'count' will be zero.</p>\n<p>I have tried writing UDF it is iterating only the number of times the input is given.</p>\n<p>UDF :</p>\n<pre><code>**int flag,count=0;\nfor(int i=0;i&lt;POSNR.length;i++)\n{\nflag=0;\nfor(int j=0;j&lt;POSNR1.length;j++)\n{\nif(POSNR[i].equals(POSNR1[j]))\n{\nresult.addValue(&quot;1&quot;);\nflag=1;\nbreak;\n}\n}\nif(flag==0)\nresult.addValue(&quot;0&quot;);\n}**\n</code></pre>\n"},{"tags":["java","set","contains","stringbuilder"],"answers":[{"comments":[{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1686813067,"post_id":76479535,"comment_id":134851454,"body_markdown":"@tresf not unfortunate, fortunate. And impossible to do otherwise as it&#39;s impossible to know in advance what something may be turned in the future.","body":"@tresf not unfortunate, fortunate. And impossible to do otherwise as it&#39;s impossible to know in advance what something may be turned in the future."},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1686819117,"post_id":76479535,"comment_id":134852639,"body_markdown":"also, by the way, removing the extra methods, and just running the simple 4 line code by itself in sequence, will not fail,  something with my for loop, dfs, array, and extra method, causes this, probably a memory reference issue too","body":"also, by the way, removing the extra methods, and just running the simple 4 line code by itself in sequence, will not fail,  something with my for loop, dfs, array, and extra method, causes this, probably a memory reference issue too"}],"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686811319,"creation_date":1686809012,"answer_id":76479535,"question_id":76479481,"body_markdown":"&gt; Does Java Set Contains() know how to check for existence of Stringbuilder?\r\n\r\nNo, [`Set.contains(Object o)`](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html) checks for the existence of an Object that equals.\r\n\r\nQuoting:\r\n\r\n&gt; Returns `true` if this set contains the specified element. More formally, returns `true` if and only if this set contains an element `e` such that `(o==null ? e==null : o.equals(e))`.\r\n\r\nThis means that a `StringBuilder` type will not satisfy the `.equals()` clause because it will call `String.equals()` and `StringBuilder` will not satisfy a true condition without explicitly calling `.toString()` first.\r\n\r\nThere are other cases in the Java language where `.toString()` is implicitly called, but the `.equals()` operator for `String` is not one of those cases.\r\n\r\n\r\n&gt; (comment) I was hoping it would match set type and give a warning if `String` type does not match with `StringBuilder`\r\n\r\nSome code editors -- such as IntelliJ -- will try to warn about this, see attached picture:\r\n\r\n&gt; [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uSCZF.png","title":"Does Java Set&lt;String&gt; contains() check for existence of StringBuilder?","body":"<blockquote>\n<p>Does Java Set Contains() know how to check for existence of Stringbuilder?</p>\n</blockquote>\n<p>No, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set.contains(Object o)</code></a> checks for the existence of an Object that equals.</p>\n<p>Quoting:</p>\n<blockquote>\n<p>Returns <code>true</code> if this set contains the specified element. More formally, returns <code>true</code> if and only if this set contains an element <code>e</code> such that <code>(o==null ? e==null : o.equals(e))</code>.</p>\n</blockquote>\n<p>This means that a <code>StringBuilder</code> type will not satisfy the <code>.equals()</code> clause because it will call <code>String.equals()</code> and <code>StringBuilder</code> will not satisfy a true condition without explicitly calling <code>.toString()</code> first.</p>\n<p>There are other cases in the Java language where <code>.toString()</code> is implicitly called, but the <code>.equals()</code> operator for <code>String</code> is not one of those cases.</p>\n<blockquote>\n<p>(comment) I was hoping it would match set type and give a warning if <code>String</code> type does not match with <code>StringBuilder</code></p>\n</blockquote>\n<p>Some code editors -- such as IntelliJ -- will try to warn about this, see attached picture:</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/uSCZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uSCZF.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1686926351,"post_id":76479972,"comment_id":134870035,"body_markdown":"Doesn&#39;t this answer assume `.equals()` is being called on `StringBuilder`, and not `String`?  Although this is valuable information, in regards to `Set&lt;String&gt;`, I do not believe it applies unless the example is modified to use `Set&lt;StringBuidler&gt;`.","body":"Doesn&#39;t this answer assume <code>.equals()</code> is being called on <code>StringBuilder</code>, and not <code>String</code>?  Although this is valuable information, in regards to <code>Set&lt;String&gt;</code>, I do not believe it applies unless the example is modified to use <code>Set&lt;StringBuidler&gt;</code>."}],"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686932748,"creation_date":1686813198,"answer_id":76479972,"question_id":76479481,"body_markdown":"`StringBuilder` and `StringBuffer` are mutable and so the `equals` and `hashcode` are not overridden in both. So when someone calls the `equals` method on these references it would internally use `==` for comparison, which means only the addresses will be checked and not the content.\r\n\r\n\tStringBuilder sb1 = new StringBuilder(&quot;ABC&quot;);\r\n\tStringBuilder sb2 = new StringBuilder(&quot;ABC&quot;);\r\n\t\r\n\tSystem.out.println(sb1.equals(sb2));\r\n\r\nEven though both are having the same value, the output will be `false` because both references are pointing to a different memory location. So the important and primary thing to understand is that the `equals` method in `StringBuilder` and `StringBuffer` will not check for content.\r\n\r\nIn the case of a `Set`, the `contains()` method would be internally using `equals` and `hashcode` to check for existence. Now, if the object is of type `StringBuilder` or `StringBuffer` the `equals` would compare the addresses of the contents in the Set and the argument of the `contains()` method.\r\n\r\nSo, when we get into your example at this line `currentResults.contains(currentString)` won&#39;t work as you expected, because the `Set` will be calling `equals` on the `currentString` which is a StringBuilder. It will be something like this\r\n\r\n    currentString.equals(someElementInSet)\r\n\r\nAnd definitely, both `currentString` and elements in the Set are in different memory locations and would return false.\r\n\r\nNow when you call `currentResults.contains(currentString.toString()))`, the value of `currentString` gets converted to a `String` type in which `equals` method checks for content rather than the memory location. So, in this case, if currentString is **00**, the `contains()` will return true.\r\n\r\n\r\n**Areas you can improve**\r\n\r\nDo the length check of `nums` at the beginning of the method, you don&#39;t have to run a loop if it is empty.","title":"Does Java Set&lt;String&gt; contains() check for existence of StringBuilder?","body":"<p><code>StringBuilder</code> and <code>StringBuffer</code> are mutable and so the <code>equals</code> and <code>hashcode</code> are not overridden in both. So when someone calls the <code>equals</code> method on these references it would internally use <code>==</code> for comparison, which means only the addresses will be checked and not the content.</p>\n<pre><code>StringBuilder sb1 = new StringBuilder(&quot;ABC&quot;);\nStringBuilder sb2 = new StringBuilder(&quot;ABC&quot;);\n\nSystem.out.println(sb1.equals(sb2));\n</code></pre>\n<p>Even though both are having the same value, the output will be <code>false</code> because both references are pointing to a different memory location. So the important and primary thing to understand is that the <code>equals</code> method in <code>StringBuilder</code> and <code>StringBuffer</code> will not check for content.</p>\n<p>In the case of a <code>Set</code>, the <code>contains()</code> method would be internally using <code>equals</code> and <code>hashcode</code> to check for existence. Now, if the object is of type <code>StringBuilder</code> or <code>StringBuffer</code> the <code>equals</code> would compare the addresses of the contents in the Set and the argument of the <code>contains()</code> method.</p>\n<p>So, when we get into your example at this line <code>currentResults.contains(currentString)</code> won't work as you expected, because the <code>Set</code> will be calling <code>equals</code> on the <code>currentString</code> which is a StringBuilder. It will be something like this</p>\n<pre><code>currentString.equals(someElementInSet)\n</code></pre>\n<p>And definitely, both <code>currentString</code> and elements in the Set are in different memory locations and would return false.</p>\n<p>Now when you call <code>currentResults.contains(currentString.toString()))</code>, the value of <code>currentString</code> gets converted to a <code>String</code> type in which <code>equals</code> method checks for content rather than the memory location. So, in this case, if currentString is <strong>00</strong>, the <code>contains()</code> will return true.</p>\n<p><strong>Areas you can improve</strong></p>\n<p>Do the length check of <code>nums</code> at the beginning of the method, you don't have to run a loop if it is empty.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686893465,"creation_date":1686893465,"answer_id":76487200,"question_id":76479481,"body_markdown":"Great question, as this is contrary to some framework methods which utilize the _Object_ parameter.  \r\nIn these cases, they are extrapolating the _StringBuilder_ through _String#valueOf_.\r\n\r\nThe difference is that the _Collections Framework_ is simply disseminating the object type, and not the content.\r\n\r\n&gt; _&quot;Does Java Set contains() know how to check for the existence of StringBuilder? ..._  \r\n&gt; \r\n&gt; ... Changing it to `!currentResults.contains(currentString.toString()))` will make it succeed. I am trying to understand reason behind this. ...&quot;\r\n\r\nYou&#39;re implying that _Set#contains_ should interpret the content of _StringBuilder_&amp;mdash;i.e., _currentString.toString()_.\r\n\r\nThis isn&#39;t the case.&amp;nbsp; It&#39;s just comparing the object type.\r\n\r\nHere is the code, ultimately executed by _HashSet#contains_.  \r\n_[GitHub &amp;ndash; jdk/src/java.base/share/classes/java/util/HashMap.java](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L573)_","title":"Does Java Set&lt;String&gt; contains() check for existence of StringBuilder?","body":"<p>Great question, as this is contrary to some framework methods which utilize the <em>Object</em> parameter.<br />\nIn these cases, they are extrapolating the <em>StringBuilder</em> through <em>String#valueOf</em>.</p>\n<p>The difference is that the <em>Collections Framework</em> is simply disseminating the object type, and not the content.</p>\n<blockquote>\n<p><em>&quot;Does Java Set contains() know how to check for the existence of StringBuilder? ...</em></p>\n<p>... Changing it to <code>!currentResults.contains(currentString.toString()))</code> will make it succeed. I am trying to understand reason behind this. ...&quot;</p>\n</blockquote>\n<p>You're implying that <em>Set#contains</em> should interpret the content of <em>StringBuilder</em>—i.e., <em>currentString.toString()</em>.</p>\n<p>This isn't the case.  It's just comparing the object type.</p>\n<p>Here is the code, ultimately executed by <em>HashSet#contains</em>.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L573\" rel=\"nofollow noreferrer\">GitHub – jdk/src/java.base/share/classes/java/util/HashMap.java</a></em></p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76479535,"answer_count":3,"score":2,"last_activity_date":1686932748,"creation_date":1686808487,"question_id":76479481,"body_markdown":"\r\nDoes Java Set&lt;String&gt; `contains()` know how to check for the existence of StringBuilder?\r\n\r\nI am running this problem in Leetcode. &quot;Find Unique Binary String&quot;. Note this Question is not about Solving the Leetcode, but understanding why an issue occurs. https://leetcode.com/problems/find-unique-binary-string/description/\r\n\r\n&gt; Given an array of strings nums containing n unique binary strings each\r\n&gt; of length n, return a binary string of length n that does not appear\r\n&gt; in nums. If there are multiple answers, you may return any of them.\r\n\r\n \r\n\r\nnums  = [&quot;00&quot;,&quot;01&quot;]\r\n\r\n**Code Output**\r\n&quot;00&quot;\r\n\r\n**Expected Answers Choice\r\n&quot;10&quot;**\r\n\r\n**Problem:**\r\n\r\nThis code fails at `!currentResults.contains(currentString)` where currentString is &quot;00&quot; ,when the number exists in the Set.\r\n\r\nChanging it to `!currentResults.contains(currentString.toString()))` will make it succeed. I am trying to understand reason behind this.\r\n\r\n\r\n\r\n**Code:**\r\n\r\n\r\n    List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n    Set&lt;String&gt; currentResults = new HashSet&lt;&gt;();\r\n    String finalString;\r\n    int numsLength;\r\n\r\n    public String findDifferentBinaryString(String[] nums) {\r\n        \r\n        for (String data: nums) {\r\n            currentResults.add(data);\r\n        }\r\n        if (nums.length == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n        numsLength = nums.length;\r\n        getDFS(nums, new StringBuilder(&quot;&quot;));\r\n        return finalString;\r\n    }\r\n\r\n    public void getDFS(String[] nums, StringBuilder currentString) {\r\n        if (finalString != null ) {\r\n            return;\r\n        }\r\n\r\n        if (currentString.length() == numsLength &amp;&amp; !currentResults.contains(currentString)) {\r\n            finalString = currentString.toString();\r\n            return;\r\n        }\r\n\r\n        if (currentString.length() == numsLength) return;\r\n\r\n        for (int i = 0; i &lt;= 1; i++) {\r\n            currentString.append(String.valueOf(i));\r\n            getDFS(nums,currentString);\r\n            currentString.deleteCharAt(currentString.length() - 1);\r\n        }\r\n    }","title":"Does Java Set&lt;String&gt; contains() check for existence of StringBuilder?","body":"<p>Does Java Set <code>contains()</code> know how to check for the existence of StringBuilder?</p>\n<p>I am running this problem in Leetcode. &quot;Find Unique Binary String&quot;. Note this Question is not about Solving the Leetcode, but understanding why an issue occurs. <a href=\"https://leetcode.com/problems/find-unique-binary-string/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/find-unique-binary-string/description/</a></p>\n<blockquote>\n<p>Given an array of strings nums containing n unique binary strings each\nof length n, return a binary string of length n that does not appear\nin nums. If there are multiple answers, you may return any of them.</p>\n</blockquote>\n<p>nums  = [&quot;00&quot;,&quot;01&quot;]</p>\n<p><strong>Code Output</strong>\n&quot;00&quot;</p>\n<p><strong>Expected Answers Choice\n&quot;10&quot;</strong></p>\n<p><strong>Problem:</strong></p>\n<p>This code fails at <code>!currentResults.contains(currentString)</code> where currentString is &quot;00&quot; ,when the number exists in the Set.</p>\n<p>Changing it to <code>!currentResults.contains(currentString.toString()))</code> will make it succeed. I am trying to understand reason behind this.</p>\n<p><strong>Code:</strong></p>\n<pre><code>List&lt;String&gt; results = new ArrayList&lt;&gt;();\nSet&lt;String&gt; currentResults = new HashSet&lt;&gt;();\nString finalString;\nint numsLength;\n\npublic String findDifferentBinaryString(String[] nums) {\n    \n    for (String data: nums) {\n        currentResults.add(data);\n    }\n    if (nums.length == 0) {\n        return &quot;&quot;;\n    }\n    numsLength = nums.length;\n    getDFS(nums, new StringBuilder(&quot;&quot;));\n    return finalString;\n}\n\npublic void getDFS(String[] nums, StringBuilder currentString) {\n    if (finalString != null ) {\n        return;\n    }\n\n    if (currentString.length() == numsLength &amp;&amp; !currentResults.contains(currentString)) {\n        finalString = currentString.toString();\n        return;\n    }\n\n    if (currentString.length() == numsLength) return;\n\n    for (int i = 0; i &lt;= 1; i++) {\n        currentString.append(String.valueOf(i));\n        getDFS(nums,currentString);\n        currentString.deleteCharAt(currentString.length() - 1);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","webview","sketchware"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686986043,"post_id":76492012,"comment_id":134876571,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76492012/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21195640,"reputation":108,"user_id":15587264,"display_name":"ANDROID PRIME"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686932555,"creation_date":1686932555,"answer_id":76492012,"question_id":76485925,"body_markdown":"Try to use:\r\n\r\n   ``` webview1.setWebViewClient(new WebViewClient() {\r\n\t    public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n\t\t        \r\n\t\t    }\r\n\t\r\n\t    public void onPageFinished(WebView view, String url) {\r\n\t\t        CookieSyncManager.getInstance().sync();\r\n\t\t    }\r\n});","title":"Sketchware Webview won&#39;t accept/work with cookies for user session","body":"<p>Try to use:</p>\n<pre><code>     public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n             \n         }\n \n     public void onPageFinished(WebView view, String url) {\n             CookieSyncManager.getInstance().sync();\n         }\n});\n</code></pre>\n"}],"owner":{"account_id":27689383,"reputation":1,"user_id":21136399,"display_name":"sikmah 66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686932555,"creation_date":1686868866,"question_id":76485925,"body_markdown":"I&#39;m using Sketchware 6.4 and the latest Android OS, and for the life of me I can&#39;t get cookies to work with Weview.\r\n\r\nI&#39;m showing a simple PHPBB forum site using Webview (webview1) and want the user session to remain logged in when the app is closed and reopened. I&#39;ve tried to set allow cookies and allow third party cookies to true prior to the URL being called to load, and nothing works.\r\n\r\nI&#39;ve tried using custom blocks from another Sketchware project and nothing works.\r\n\r\nCan someone help please! It&#39;s a super basic app that literally opens a screen with a full-screen webview, and loads a PHPBB URL. How do I configure the app so that the cookies for the user session are saved so the user stays logged in?\r\n\r\nThanks!\r\n\r\nI tried: \r\n\r\n```\r\n    CookieManager.getInstance().setAcceptCookie(true);\r\n```\r\n\r\nand\r\n\r\n```\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= 21) {   \r\n     CookieManager.getInstance().setAcceptThirdPartyCookies(mWebView, true);\r\n    } else {\r\n     CookieManager.getInstance().setAcceptCookie(true);\r\n    }\r\n```\r\n\r\nand the list goes on.","title":"Sketchware Webview won&#39;t accept/work with cookies for user session","body":"<p>I'm using Sketchware 6.4 and the latest Android OS, and for the life of me I can't get cookies to work with Weview.</p>\n<p>I'm showing a simple PHPBB forum site using Webview (webview1) and want the user session to remain logged in when the app is closed and reopened. I've tried to set allow cookies and allow third party cookies to true prior to the URL being called to load, and nothing works.</p>\n<p>I've tried using custom blocks from another Sketchware project and nothing works.</p>\n<p>Can someone help please! It's a super basic app that literally opens a screen with a full-screen webview, and loads a PHPBB URL. How do I configure the app so that the cookies for the user session are saved so the user stays logged in?</p>\n<p>Thanks!</p>\n<p>I tried:</p>\n<pre><code>    CookieManager.getInstance().setAcceptCookie(true);\n</code></pre>\n<p>and</p>\n<pre><code>    if (android.os.Build.VERSION.SDK_INT &gt;= 21) {   \n     CookieManager.getInstance().setAcceptThirdPartyCookies(mWebView, true);\n    } else {\n     CookieManager.getInstance().setAcceptCookie(true);\n    }\n</code></pre>\n<p>and the list goes on.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686929756,"post_id":76491289,"comment_id":134870769,"body_markdown":"I would do it with a class annotated with ConfigurationProperties annotation and a meaningful prefix. Similar to that used by Hibernate or Kafka. Your library should not care about profiles. Just document the properties needed and clients should set them accordingly.","body":"I would do it with a class annotated with ConfigurationProperties annotation and a meaningful prefix. Similar to that used by Hibernate or Kafka. Your library should not care about profiles. Just document the properties needed and clients should set them accordingly."},{"owner":{"account_id":12015092,"reputation":833,"user_id":11218205,"display_name":"Dr Phil"},"score":0,"creation_date":1686930765,"post_id":76491289,"comment_id":134871002,"body_markdown":"The problem is that we have quite a few properties for ENV. and they are repeated for every client. I would like to avoid this duplication.","body":"The problem is that we have quite a few properties for ENV. and they are repeated for every client. I would like to avoid this duplication."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686931595,"post_id":76491289,"comment_id":134871155,"body_markdown":"No duplication at all with the solution proposed above. Let me put an example together.","body":"No duplication at all with the solution proposed above. Let me put an example together."}],"answers":[{"comments":[{"owner":{"account_id":12015092,"reputation":833,"user_id":11218205,"display_name":"Dr Phil"},"score":0,"creation_date":1686948313,"post_id":76491984,"comment_id":134873935,"body_markdown":"it is nice to have a common prefix (in fact the properties already do have it ) but this approach doesn&#39;t solve the problem that every client has provide those properties for every profile. So if i have 5 properties and 10 clients i have a duplication of 4x5 = property values duplicated 10 times","body":"it is nice to have a common prefix (in fact the properties already do have it ) but this approach doesn&#39;t solve the problem that every client has provide those properties for every profile. So if i have 5 properties and 10 clients i have a duplication of 4x5 = property values duplicated 10 times"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686932228,"creation_date":1686932228,"answer_id":76491984,"question_id":76491289,"body_markdown":"I would implement it with a single class annotated with `@ConfigurationProperties` and a meaningful prefix. Similar to that used by Hibernate or Kafka. Your library should not care about profiles. Just document the properties needed and clients should set them accordingly.\r\n```\r\n@ConfigurationProperties(prefix = &quot;drphil.library&quot;) \r\n@ConfigurationPropertiesScan \r\npublic class DrPhilLibraryProperties { \r\n\r\n    private String accountUrl; \r\n    private String ourDbacountJdbc; \r\n\r\n    // standard getters and setters \r\n}\r\n```\r\nAnd client will set:\r\n```\r\n# in application-local.properties\r\ndrphil.library.account.url=localhost:9999/wiremock/accounts\r\ndrphil.library.our.dbaccount.jdbc=H2Db\r\n\r\n# in application-dev.properties\r\ndrphil.library.account.url=https:/dev.accounts.mycompany.com/\r\ndrphil.library.our.dbaccount.jdbc=jdbc:postgresql://db456.nonprod.db.mycompany.com/db15\r\n\r\n# ...\r\n```","title":"Spring Boot common library how to provide common profile-specific properties","body":"<p>I would implement it with a single class annotated with <code>@ConfigurationProperties</code> and a meaningful prefix. Similar to that used by Hibernate or Kafka. Your library should not care about profiles. Just document the properties needed and clients should set them accordingly.</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;drphil.library&quot;) \n@ConfigurationPropertiesScan \npublic class DrPhilLibraryProperties { \n\n    private String accountUrl; \n    private String ourDbacountJdbc; \n\n    // standard getters and setters \n}\n</code></pre>\n<p>And client will set:</p>\n<pre><code># in application-local.properties\ndrphil.library.account.url=localhost:9999/wiremock/accounts\ndrphil.library.our.dbaccount.jdbc=H2Db\n\n# in application-dev.properties\ndrphil.library.account.url=https:/dev.accounts.mycompany.com/\ndrphil.library.our.dbaccount.jdbc=jdbc:postgresql://db456.nonprod.db.mycompany.com/db15\n\n# ...\n</code></pre>\n"}],"owner":{"account_id":12015092,"reputation":833,"user_id":11218205,"display_name":"Dr Phil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686932228,"creation_date":1686926793,"question_id":76491289,"body_markdown":"Our team needs to create a shared library that calls collaborator services and processes them with a common logic. The library will require a list of properties, such as URLs and databases, which should be chosen based on the application profile being used. Since we want to avoid code duplication, we would prefer not to repeat the configuration in all client projects.\r\n\r\nthere could be cases where multiple profiles are active, causing the configuration to fail. We could use more-specific configurations or a custom property provider, but what would be the best approach?\r\n\r\n\r\nThe following code is an example of shared functionality and configuration:\r\n\r\n    @PropertySources({\r\n            @PropertySource(&quot;classpath:/library.default.properties&quot;),\r\n            @PropertySource(value = &quot;classpath:/library.config-${spring.profiles.active}.properties&quot;, ignoreResourceNotFound = true)\r\n    })\r\n    public class MyConfigurationFile {\r\n\r\n\r\nWe can use more-specific configurations or even some custom property provider but what would be the best or recommended approach. Our main goal is to avoid repeating the same configuration in all client projects and be able to share it within the library.\r\n\r\nHow can we do it following the best practices?\r\n\r\np.s\r\njust an example of the shared functionality and configuration (a bit artificial)\r\n\r\n*AccountMangeService* needs to call a couple rest endopints and do some DB lookup +validation\r\n\r\n    class AccountMangeService{\r\n       @Value(&quot;${account.url})\r\n       String accountUrl;\r\n       @Value(&quot;${our.dbaccount.jdbc})\r\n       String dbJdbc;\r\n    \r\n      isPrincipalAuthoreisedForAccoutn(Principal user, String account){\r\n         Data data=getAccountInfo(accountUrl,account);\r\n         return jdbcTempalae.select(somequrty,user.getName,account) \r\n      } \r\n    }\r\n\r\n\r\nproperties\r\n\r\n    #--local\r\n    account.url=localhost:9999/wiremock/accounts\r\n    our.dbaccount.jdbc=H2Db\r\n    \r\n    #--dev\r\n    account.url=https:/dev.accounts.mycompany.com/\r\n    our.dbaccount.jdbc=jdbc:postgresql://db456.nonprod.db.mycompany.com/db15\r\n    #--qa\r\n    account.url=https:/qa.accounts.mycompany.com/\r\n    our.dbaccount.jdbc=jdbc:postgresql://db123.nonprod.db.mycompany.com/db16","title":"Spring Boot common library how to provide common profile-specific properties","body":"<p>Our team needs to create a shared library that calls collaborator services and processes them with a common logic. The library will require a list of properties, such as URLs and databases, which should be chosen based on the application profile being used. Since we want to avoid code duplication, we would prefer not to repeat the configuration in all client projects.</p>\n<p>there could be cases where multiple profiles are active, causing the configuration to fail. We could use more-specific configurations or a custom property provider, but what would be the best approach?</p>\n<p>The following code is an example of shared functionality and configuration:</p>\n<pre><code>@PropertySources({\n        @PropertySource(&quot;classpath:/library.default.properties&quot;),\n        @PropertySource(value = &quot;classpath:/library.config-${spring.profiles.active}.properties&quot;, ignoreResourceNotFound = true)\n})\npublic class MyConfigurationFile {\n</code></pre>\n<p>We can use more-specific configurations or even some custom property provider but what would be the best or recommended approach. Our main goal is to avoid repeating the same configuration in all client projects and be able to share it within the library.</p>\n<p>How can we do it following the best practices?</p>\n<p>p.s\njust an example of the shared functionality and configuration (a bit artificial)</p>\n<p><em>AccountMangeService</em> needs to call a couple rest endopints and do some DB lookup +validation</p>\n<pre><code>class AccountMangeService{\n   @Value(&quot;${account.url})\n   String accountUrl;\n   @Value(&quot;${our.dbaccount.jdbc})\n   String dbJdbc;\n\n  isPrincipalAuthoreisedForAccoutn(Principal user, String account){\n     Data data=getAccountInfo(accountUrl,account);\n     return jdbcTempalae.select(somequrty,user.getName,account) \n  } \n}\n</code></pre>\n<p>properties</p>\n<pre><code>#--local\naccount.url=localhost:9999/wiremock/accounts\nour.dbaccount.jdbc=H2Db\n\n#--dev\naccount.url=https:/dev.accounts.mycompany.com/\nour.dbaccount.jdbc=jdbc:postgresql://db456.nonprod.db.mycompany.com/db15\n#--qa\naccount.url=https:/qa.accounts.mycompany.com/\nour.dbaccount.jdbc=jdbc:postgresql://db123.nonprod.db.mycompany.com/db16\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1686935762,"post_id":76491966,"comment_id":134872012,"body_markdown":"Hi add  `requires javafx.web;` to module-info","body":"Hi add  <code>requires javafx.web;</code> to module-info"},{"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"score":1,"creation_date":1686936061,"post_id":76491966,"comment_id":134872068,"body_markdown":"Oh, thx fixs it","body":"Oh, thx fixs it"}],"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686932080,"creation_date":1686932080,"question_id":76491966,"body_markdown":"I&#39;m trying to make own browser (exe file) using javaFX here is code:\r\n```java\r\npackage com.ccs.flowybrowser;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.web.WebEngine;\r\nimport javafx.scene.web.WebView;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.File;\r\nimport java.net.MalformedURLException;\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        // Создание WebView\r\n        WebView webView = new WebView();\r\n        WebEngine webEngine = webView.getEngine();\r\n\r\n        // Загрузка HTML-файла\r\n        // Загрузка HTML-файла из папки resources\r\n        String htmlFilePath = getClass().getResource(&quot;/index.html&quot;).toExternalForm();\r\n        webEngine.load(htmlFilePath);\r\n\r\n\r\n        // Создание сцены\r\n        Scene scene = new Scene(webView, 800, 600);\r\n\r\n        // Установка сцены на основную сцену\r\n        primaryStage.setScene(scene);\r\n\r\n        // Заголовок окна\r\n        primaryStage.setTitle(&quot;Мой Браузер&quot;);\r\n\r\n        // Отображение окна\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nWhen i launching code i have this error:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:893)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.UnsatisfiedLinkError: Can&#39;t load library: C:\\Users\\Ukraine\\.jdks\\corretto-1.8.0_372\\jre\\bin\\jfxwebkit.dll\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1820)\r\n\tat java.lang.Runtime.load0(Runtime.java:782)\r\n\tat java.lang.System.load(System.java:1100)\r\n\tat com.sun.glass.utils.NativeLibLoader.loadLibraryFullPath(NativeLibLoader.java:201)\r\n\tat com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:94)\r\n\tat com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:39)\r\n\tat com.sun.webkit.WebPage.lambda$static$0(WebPage.java:133)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.webkit.WebPage.&lt;clinit&gt;(WebPage.java:132)\r\n\tat javafx.scene.web.WebEngine.&lt;init&gt;(WebEngine.java:881)\r\n\tat javafx.scene.web.WebEngine.&lt;init&gt;(WebEngine.java:868)\r\n\tat javafx.scene.web.WebView.&lt;init&gt;(WebView.java:273)\r\n\tat com.ccs.flowybrowser.HelloApplication.start(HelloApplication.java:14)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$null$3(WinApplication.java:177)\r\n\t... 1 more\r\nException running application com.ccs.flowybrowser.HelloApplication\r\n```\r\nError is in this line:\r\n```\r\n        WebView webView = new WebView();\r\n```\r\nI think that i need to add new dependency - org.openjfx.javafx-web:17.0.2, but it doesn&#39;t help me. Here is pom.xml file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.ccs&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flowybrowser&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;flowybrowser&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.ccs.flowybrowser/com.ccs.flowybrowser.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nHere is my project structure:\r\n`\r\n- src\r\n   - main\r\n      - java\r\n         - com\r\n            - ccs\r\n               - flowybrowser\r\n                  - HelloApplication.java\r\n      - resources\r\n         - index.html\r\n`\r\n","title":"InvocationTargetException when running a javafx","body":"<p>I'm trying to make own browser (exe file) using javaFX here is code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ccs.flowybrowser;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\n\nimport java.io.File;\nimport java.net.MalformedURLException;\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        // Создание WebView\n        WebView webView = new WebView();\n        WebEngine webEngine = webView.getEngine();\n\n        // Загрузка HTML-файла\n        // Загрузка HTML-файла из папки resources\n        String htmlFilePath = getClass().getResource(&quot;/index.html&quot;).toExternalForm();\n        webEngine.load(htmlFilePath);\n\n\n        // Создание сцены\n        Scene scene = new Scene(webView, 800, 600);\n\n        // Установка сцены на основную сцену\n        primaryStage.setScene(scene);\n\n        // Заголовок окна\n        primaryStage.setTitle(&quot;Мой Браузер&quot;);\n\n        // Отображение окна\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>When i launching code i have this error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:893)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.UnsatisfiedLinkError: Can't load library: C:\\Users\\Ukraine\\.jdks\\corretto-1.8.0_372\\jre\\bin\\jfxwebkit.dll\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1820)\n    at java.lang.Runtime.load0(Runtime.java:782)\n    at java.lang.System.load(System.java:1100)\n    at com.sun.glass.utils.NativeLibLoader.loadLibraryFullPath(NativeLibLoader.java:201)\n    at com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:94)\n    at com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:39)\n    at com.sun.webkit.WebPage.lambda$static$0(WebPage.java:133)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.webkit.WebPage.&lt;clinit&gt;(WebPage.java:132)\n    at javafx.scene.web.WebEngine.&lt;init&gt;(WebEngine.java:881)\n    at javafx.scene.web.WebEngine.&lt;init&gt;(WebEngine.java:868)\n    at javafx.scene.web.WebView.&lt;init&gt;(WebView.java:273)\n    at com.ccs.flowybrowser.HelloApplication.start(HelloApplication.java:14)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$3(WinApplication.java:177)\n    ... 1 more\nException running application com.ccs.flowybrowser.HelloApplication\n</code></pre>\n<p>Error is in this line:</p>\n<pre><code>        WebView webView = new WebView();\n</code></pre>\n<p>I think that i need to add new dependency - org.openjfx.javafx-web:17.0.2, but it doesn't help me. Here is pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.ccs&lt;/groupId&gt;\n    &lt;artifactId&gt;flowybrowser&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;flowybrowser&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n                &lt;version&gt;17.0.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.ccs.flowybrowser/com.ccs.flowybrowser.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is my project structure:\n`</p>\n<ul>\n<li>src\n<ul>\n<li>main\n<ul>\n<li>java\n<ul>\n<li>com\n<ul>\n<li>ccs\n<ul>\n<li>flowybrowser\n<ul>\n<li>HelloApplication.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>resources\n<ul>\n<li>index.html\n`</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","swagger","springdoc","springdoc-openui"],"comments":[{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1652170209,"post_id":72174167,"comment_id":127534882,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) on how to improve the quality of your question. Then check the [help center](https://stackoverflow.com/help/on-topic) to see what questions you can ask.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then check the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a> to see what questions you can ask."}],"answers":[{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686931492,"creation_date":1686929859,"answer_id":76491681,"question_id":72174167,"body_markdown":"In Kotlin it can be done like this:\r\n```kotlin\r\n    @Schema(description = &quot;Your DTO&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    data class YourDTO(\r\n        @JsonProperty\r\n        @field:Schema(\r\n            description = &quot;Date&quot;,\r\n            type = &quot;date-time&quot;,\r\n            example = &quot;2023-12-30 09:00&quot;,\r\n            required = true\r\n        )\r\n        @NotNull\r\n        val date: LocalDateTime,\r\n        @field:Schema(description = &quot;Number&quot;)\r\n        @field:Size(max = 27)\r\n        val number_a: String?,\r\n        @field:Schema(\r\n            minimum = &quot;0&quot;,\r\n            maximum = Int.MAX_VALUE.toString(),\r\n            description = &quot;Count&quot;\r\n        )\r\n        val count: Int = 1,\r\n        @field:ArraySchema(\r\n            schema = Schema(\r\n                maxLength = 2147483646,\r\n                required = false\r\n            ),\r\n            arraySchema = Schema(\r\n                description = &quot;Comment&quot;,\r\n            ),\r\n            maxItems = Int.MAX_VALUE,\r\n        )\r\n        val comments: List&lt;String&gt;\r\n    )\r\n\r\n```","title":"Specifying maxItems for a List&lt;List&lt;Object&gt;&gt; using spring swagger.v3 ArraySchema annotation","body":"<p>In Kotlin it can be done like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Schema(description = &quot;Your DTO&quot;)\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    data class YourDTO(\n        @JsonProperty\n        @field:Schema(\n            description = &quot;Date&quot;,\n            type = &quot;date-time&quot;,\n            example = &quot;2023-12-30 09:00&quot;,\n            required = true\n        )\n        @NotNull\n        val date: LocalDateTime,\n        @field:Schema(description = &quot;Number&quot;)\n        @field:Size(max = 27)\n        val number_a: String?,\n        @field:Schema(\n            minimum = &quot;0&quot;,\n            maximum = Int.MAX_VALUE.toString(),\n            description = &quot;Count&quot;\n        )\n        val count: Int = 1,\n        @field:ArraySchema(\n            schema = Schema(\n                maxLength = 2147483646,\n                required = false\n            ),\n            arraySchema = Schema(\n                description = &quot;Comment&quot;,\n            ),\n            maxItems = Int.MAX_VALUE,\n        )\n        val comments: List&lt;String&gt;\n    )\n\n</code></pre>\n"}],"owner":{"account_id":25244147,"reputation":1,"user_id":19077618,"display_name":"KeshavBoh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686931492,"creation_date":1652108680,"question_id":72174167,"body_markdown":"We are facing an issue where we are unable to use any variant of @ArraySchema to specify the limit of maxItems for the properties such as - \r\n\r\n**List&lt;List&lt; obj &gt;&gt; test;**\r\n\r\n**List&lt;List&lt;List&lt; obj &gt;&gt;&gt;&gt; listOfTest;**\r\n\r\nJSON Validation error: \r\n\r\n*Semantic error at test.items\r\nArrays must have &#39;maxItems&#39; property defined*\r\n\r\n*Semantic error at listOfTest.items.items\r\nArrays must have &#39;maxItems&#39; property defined*\r\n\r\nTried following - \r\n\r\n**@ArraySchema(schema = @ArraySchema(schema =@Schema(description = &quot;test), maxItems =2))**\r\n\r\n**@ArraySchema(arraySchema = @ArraySchema(schema =@Schema(description = &quot;test), maxItems =2))**\r\n\r\n**@ArraySchema(arraySchema = @Schema(//with type property)**\r\n\r\nBut all the above flavors fail due to incompatibility error.\r\n\r\n*Incompatible Types : Found: ArraySchema, required: Schema*\r\n\r\nProject is using springdoc openapi version 1.6.5\r\n\r\nCan someone please specify how to resolve this issue?","title":"Specifying maxItems for a List&lt;List&lt;Object&gt;&gt; using spring swagger.v3 ArraySchema annotation","body":"<p>We are facing an issue where we are unable to use any variant of @ArraySchema to specify the limit of maxItems for the properties such as -</p>\n<p><strong>List&lt;List&lt; obj &gt;&gt; test;</strong></p>\n<p><strong>List&lt;List&lt;List&lt; obj &gt;&gt;&gt;&gt; listOfTest;</strong></p>\n<p>JSON Validation error:</p>\n<p><em>Semantic error at test.items\nArrays must have 'maxItems' property defined</em></p>\n<p><em>Semantic error at listOfTest.items.items\nArrays must have 'maxItems' property defined</em></p>\n<p>Tried following -</p>\n<p><strong>@ArraySchema(schema = @ArraySchema(schema =@Schema(description = &quot;test), maxItems =2))</strong></p>\n<p><strong>@ArraySchema(arraySchema = @ArraySchema(schema =@Schema(description = &quot;test), maxItems =2))</strong></p>\n<p><strong>@ArraySchema(arraySchema = @Schema(//with type property)</strong></p>\n<p>But all the above flavors fail due to incompatibility error.</p>\n<p><em>Incompatible Types : Found: ArraySchema, required: Schema</em></p>\n<p>Project is using springdoc openapi version 1.6.5</p>\n<p>Can someone please specify how to resolve this issue?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686736568,"post_id":76471526,"comment_id":134839063,"body_markdown":"Please show your dependencies.","body":"Please show your dependencies."},{"owner":{"account_id":9981700,"reputation":5432,"user_id":7384435,"accept_rate":72,"display_name":"dave0688"},"score":0,"creation_date":1686737928,"post_id":76471526,"comment_id":134839352,"body_markdown":"I just added them.","body":"I just added them."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686740942,"post_id":76471526,"comment_id":134839923,"body_markdown":"I don&#39;t see anything that could cause this, although there are some dependencies which I wonder why they are in there? As Spring Boot 3 is using Hibnernate 6 I&#39;m not sure the jackson one is right, the same for hazelcast, `jackson-datatype-jsr310` isn&#39;t needed anymore (and was already included by default). `HikariCP` is pulled in by default as well as the `context-propagation` (at least remove the version). Use `spring-boot-starter-validation` instead of single dependencies. Is this error in your own class or a Spring class? If it is your own, please include the class.","body":"I don&#39;t see anything that could cause this, although there are some dependencies which I wonder why they are in there? As Spring Boot 3 is using Hibnernate 6 I&#39;m not sure the jackson one is right, the same for hazelcast, <code>jackson-datatype-jsr310</code> isn&#39;t needed anymore (and was already included by default). <code>HikariCP</code> is pulled in by default as well as the <code>context-propagation</code> (at least remove the version). Use <code>spring-boot-starter-validation</code> instead of single dependencies. Is this error in your own class or a Spring class? If it is your own, please include the class."}],"owner":{"account_id":9981700,"reputation":5432,"user_id":7384435,"accept_rate":72,"display_name":"dave0688"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686931414,"creation_date":1686731208,"question_id":76471526,"body_markdown":"I just migrated my application to Spring Boot 3, and now I&#39;m getting the following error:\r\n&gt; [55,46] cannot access MacAlgorithm\r\n\r\nThe error comes from here:\r\n\r\n```java\r\nJwsHeader jwsHeader = JwsHeader.with(JWT_ALGORITHM).build();\r\n```\r\n\r\nwhere `JWT_ALGORITHM` is: \r\n\r\n```java\r\npublic static final MacAlgorithm JWT_ALGORITHM = MacAlgorithm.HS512;\r\n```\r\n\r\nAnd `MacAlgorithm` is imported from spring directly:\r\n\r\n```java\r\nimport org.springframework.security.oauth2.jose.jws.MacAlgorithm;\r\n```\r\n\r\n\r\nI am not sure why it cannot find it, and my IDE doesn&#39;t show me any error. On a side note, this is a jHipster Application.\r\n\r\nThese are my dependencies:\r\n```xml\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;tech.jhipster&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jhipster-framework&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-loader-tools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-data&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-hppc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast-hibernate53&lt;/artifactId&gt;\r\n            &lt;version&gt;${hazelcast-hibernate53.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${hazelcast-spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;archunit-junit5-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${archunit-junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Adding the engine dependency to the surefire-plugin unfortunately does not work in the current version. --&gt;\r\n            &lt;!-- https://www.archunit.org/userguide/html/000_Index.html#_junit_5 --&gt;\r\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${archunit-junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- fix https://github.com/reactor/BlockHound/issues/311 --&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;context-propagation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Java Spring Boot: cannot access MacAlgorithm","body":"<p>I just migrated my application to Spring Boot 3, and now I'm getting the following error:</p>\n<blockquote>\n<p>[55,46] cannot access MacAlgorithm</p>\n</blockquote>\n<p>The error comes from here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JwsHeader jwsHeader = JwsHeader.with(JWT_ALGORITHM).build();\n</code></pre>\n<p>where <code>JWT_ALGORITHM</code> is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final MacAlgorithm JWT_ALGORITHM = MacAlgorithm.HS512;\n</code></pre>\n<p>And <code>MacAlgorithm</code> is imported from spring directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.oauth2.jose.jws.MacAlgorithm;\n</code></pre>\n<p>I am not sure why it cannot find it, and my IDE doesn't show me any error. On a side note, this is a jHipster Application.</p>\n<p>These are my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;tech.jhipster&lt;/groupId&gt;\n            &lt;artifactId&gt;jhipster-framework&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-loader-tools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-data&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-hppc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n            &lt;artifactId&gt;hazelcast-hibernate53&lt;/artifactId&gt;\n            &lt;version&gt;${hazelcast-hibernate53.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n            &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\n            &lt;version&gt;${hazelcast-spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit-junit5-api&lt;/artifactId&gt;\n            &lt;version&gt;${archunit-junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;!-- Adding the engine dependency to the surefire-plugin unfortunately does not work in the current version. --&gt;\n            &lt;!-- https://www.archunit.org/userguide/html/000_Index.html#_junit_5 --&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\n            &lt;version&gt;${archunit-junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;!-- fix https://github.com/reactor/BlockHound/issues/311 --&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;context-propagation&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","class","arraylist"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686912345,"post_id":76489072,"comment_id":134867000,"body_markdown":"&quot;so I can call them more easily&quot; - what would be your &quot;hard&quot; way when this is not easy?\nAlso do you mean &quot;inherited&quot; class when you say &quot;extended&quot;, so do you refer to the `extends` keyword with &quot;extended&quot; ?","body":"&quot;so I can call them more easily&quot; - what would be your &quot;hard&quot; way when this is not easy? Also do you mean &quot;inherited&quot; class when you say &quot;extended&quot;, so do you refer to the <code>extends</code> keyword with &quot;extended&quot; ?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686912516,"post_id":76489072,"comment_id":134867032,"body_markdown":"Maybe it would help to understand the problem that you want to solve with the `ArrayList` when you add &quot;multiple extended classes&quot; (as you wrote in your question) to your code example.","body":"Maybe it would help to understand the problem that you want to solve with the <code>ArrayList</code> when you add &quot;multiple extended classes&quot; (as you wrote in your question) to your code example."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1686914035,"post_id":76489072,"comment_id":134867302,"body_markdown":"Each element in [`ArrayList`] `all` is an instance of `Parent` - even thought its actual type is `Child` - which means that it only knows about the methods in class `Parent`. In order to invoke methods in class `Child` you need to cast the element (in the `ArrayList`) to `Child`, i.e. `System.out.println(((Child) all.get(0)).checkB()); `","body":"Each element in [<code>ArrayList</code>] <code>all</code> is an instance of <code>Parent</code> - even thought its actual type is <code>Child</code> - which means that it only knows about the methods in class <code>Parent</code>. In order to invoke methods in class <code>Child</code> you need to cast the element (in the <code>ArrayList</code>) to <code>Child</code>, i.e. <code>System.out.println(((Child) all.get(0)).checkB()); </code>"}],"owner":{"account_id":28833229,"reputation":11,"user_id":22083200,"display_name":"iliCyanXili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686931383,"creation_date":1686909675,"question_id":76489072,"body_markdown":"In short, what I am trying to do is save multiple extended classes to an `ArrayList` so I can call them more easily.\r\n\r\nBut whenever I try to call a method from an extended class in an `ArrayList`, I get an error saying the parent class does not have the method that only the extended class has but none for the method that was inherited by the extended class.\r\n\r\nI think it may have to do with what type I gave the `ArrayList`.\r\n\r\nWould it be possible to call a method form an extended class in an `ArrayList` or would I need to use a different approach?\r\n\r\n``` lang-java\r\n// Parent Class\r\npublic class Parent {\r\n\tpublic char checkA() {\r\n\t\treturn &#39;Y&#39;;\r\n\t}\r\n}\r\n\r\n// Extended Class\r\npublic class Child extends Parent{\r\n\tpublic int checkB() {\r\n\t\treturn 5;\r\n\t}\r\n}\r\n\r\n// Display Class\r\nimport java.util.ArrayList;\r\npublic class Display{\r\n\tpublic static void main (String args[]){\r\n\t\tArrayList&lt;Parent&gt; all = new ArrayList&lt;Parent&gt;();\r\n\t\tChild c = new Child();\r\n\t\tall.add(c);\r\n\t\t\r\n\t\tSystem.out.println(all.get(0).checkA());\r\n\t\t\r\n\t\tSystem.out.println(all.get(0).checkB());\t\r\n\t}\r\n}\r\n```","title":"Calling Method from Extended Class in ArrayList [Java]","body":"<p>In short, what I am trying to do is save multiple extended classes to an <code>ArrayList</code> so I can call them more easily.</p>\n<p>But whenever I try to call a method from an extended class in an <code>ArrayList</code>, I get an error saying the parent class does not have the method that only the extended class has but none for the method that was inherited by the extended class.</p>\n<p>I think it may have to do with what type I gave the <code>ArrayList</code>.</p>\n<p>Would it be possible to call a method form an extended class in an <code>ArrayList</code> or would I need to use a different approach?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Parent Class\npublic class Parent {\n    public char checkA() {\n        return 'Y';\n    }\n}\n\n// Extended Class\npublic class Child extends Parent{\n    public int checkB() {\n        return 5;\n    }\n}\n\n// Display Class\nimport java.util.ArrayList;\npublic class Display{\n    public static void main (String args[]){\n        ArrayList&lt;Parent&gt; all = new ArrayList&lt;Parent&gt;();\n        Child c = new Child();\n        all.add(c);\n        \n        System.out.println(all.get(0).checkA());\n        \n        System.out.println(all.get(0).checkB());    \n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":2,"creation_date":1343371936,"post_id":11682468,"comment_id":15488469,"body_markdown":"As a beginner, it might be a good recomondation to use Java naming convention right from the start. This means use CamelCase for classes (start with an uppercase letter) and, camelCase for methods/members (start with a lowercase letter).","body":"As a beginner, it might be a good recomondation to use Java naming convention right from the start. This means use CamelCase for classes (start with an uppercase letter) and, camelCase for methods/members (start with a lowercase letter)."}],"answers":[{"comments":[{"owner":{"account_id":1639436,"reputation":3915,"user_id":1512179,"accept_rate":52,"display_name":"Aayush Mahajan"},"score":0,"creation_date":1343370460,"post_id":11682547,"comment_id":15488041,"body_markdown":"yes i have. this is the code:\n&lt;code&gt;\nimport java.util.Scanner;\nclass logicaloperators{\n\tpublic static void main(String args[]){\n\t\tScanner x = new Scanner(System.in);\n\t\tSystem.out.print(&quot;PLease enter boy&#39;s age here:&quot;);\n\t\tint boy = x.nextInt();\n\t\tSystem.out.print(&quot;Please enter girl&#39;s age here:&quot;);\n\t\tint girl = x.nextInt();\n\t\tif(boy&gt;21 &amp;&amp; girl&gt;18){\n\t\t\tSystem.out.print(&quot;you are now pronounced husband and wife.&quot;);\n\t\t}\n\t\telse{\n\t\t\tSystem.out.println(&quot;Please come back after the boy is 21 and the girl is 18.&quot;);\n\t\t}\n\t}\n}\n&lt;/code&gt;","body":"yes i have. this is the code: &lt;code&gt; import java.util.Scanner; class logicaloperators{ \tpublic static void main(String args[]){ \t\tScanner x = new Scanner(System.in); \t\tSystem.out.print(&quot;PLease enter boy&#39;s age here:&quot;); \t\tint boy = x.nextInt(); \t\tSystem.out.print(&quot;Please enter girl&#39;s age here:&quot;); \t\tint girl = x.nextInt(); \t\tif(boy&gt;21 &amp;&amp; girl&gt;18){ \t\t\tSystem.out.print(&quot;you are now pronounced husband and wife.&quot;); \t\t} \t\telse{ \t\t\tSystem.out.println(&quot;Please come back after the boy is 21 and the girl is 18.&quot;); \t\t} \t} } &lt;/code&gt;"},{"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"score":0,"creation_date":1343370803,"post_id":11682547,"comment_id":15488137,"body_markdown":"i got your problem... i have added it to my answer...and even here  `Keep the class name which contains your main() method, and the File name with which you save your file in Eclipse as SAME`","body":"i got your problem... i have added it to my answer...and even here  <code>Keep the class name which contains your main() method, and the File name with which you save your file in Eclipse as SAME</code>"},{"owner":{"account_id":1639436,"reputation":3915,"user_id":1512179,"accept_rate":52,"display_name":"Aayush Mahajan"},"score":0,"creation_date":1343370940,"post_id":11682547,"comment_id":15488169,"body_markdown":"thanks a ton! the class name and the file name were different. it works now! thankyou so much!","body":"thanks a ton! the class name and the file name were different. it works now! thankyou so much!"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1343371210,"post_id":11682547,"comment_id":15488242,"body_markdown":"@KumarVivekMitra: out of curiosity: why do you use bold that much? It looks like you&#39;re shouting.","body":"@KumarVivekMitra: out of curiosity: why do you use bold that much? It looks like you&#39;re shouting."},{"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"score":0,"creation_date":1343371910,"post_id":11682547,"comment_id":15488462,"body_markdown":"@Joachim Sauer Ohhh sorry if you got it wrong..... I just use it to make things easier to find...moreover i am unable to find any written rule in this site that where to use and not use bold.","body":"@Joachim Sauer Ohhh sorry if you got it wrong..... I just use it to make things easier to find...moreover i am unable to find any written rule in this site that where to use and not use bold."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1343372591,"post_id":11682547,"comment_id":15488645,"body_markdown":"@Kumar: it *is* certainly a personal choice, and I don&#39;t want to push my values on you. Personally I&#39;d prefer little use of bold and cursive text, so that the little parts that are emphasized actually *stand out*.","body":"@Kumar: it <i>is</i> certainly a personal choice, and I don&#39;t want to push my values on you. Personally I&#39;d prefer little use of bold and cursive text, so that the little parts that are emphasized actually <i>stand out</i>."},{"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"score":0,"creation_date":1343382303,"post_id":11682547,"comment_id":15492229,"body_markdown":"@Joachim Sauer Well thanks for this tip, i will try to implement it whenever possible...thanks once again","body":"@Joachim Sauer Well thanks for this tip, i will try to implement it whenever possible...thanks once again"}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1394823095,"creation_date":1343370370,"answer_id":11682547,"question_id":11682468,"body_markdown":"**1.** Please see that you have included the `main()` method in this class file.\r\n\r\n**2.** If you still have the probs then right click on this java file in the package explorer and select `Run`\r\n\r\n**3.**  Keep the class name which contains your main() method, and the File name with which\r\n      you save your file in Eclipse as SAME.\r\n\r\nIts `logicaloperators.java` NOT `logicaloperator.java`......You have missed the **&quot;s&quot;**\r\n\r\n**Eg:**\r\n         \r\n\r\n    class logicaloperators{\r\n    \r\n       \r\n          public static void main(String[] args){\r\n    \r\n       }\r\n     }\r\n\r\n  Save it as `logicaloperators.java`\r\n","title":"Eclipse is executing the wrong Java file","body":"<p><strong>1.</strong> Please see that you have included the <code>main()</code> method in this class file.</p>\n\n<p><strong>2.</strong> If you still have the probs then right click on this java file in the package explorer and select <code>Run</code></p>\n\n<p><strong>3.</strong>  Keep the class name which contains your main() method, and the File name with which\n      you save your file in Eclipse as SAME.</p>\n\n<p>Its <code>logicaloperators.java</code> NOT <code>logicaloperator.java</code>......You have missed the <strong>\"s\"</strong></p>\n\n<p><strong>Eg:</strong></p>\n\n<pre><code>class logicaloperators{\n\n\n      public static void main(String[] args){\n\n   }\n }\n</code></pre>\n\n<p>Save it as <code>logicaloperators.java</code></p>\n"},{"tags":[],"owner":{"account_id":1538832,"reputation":2242,"user_id":1434031,"accept_rate":29,"display_name":"Akhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343370707,"creation_date":1343370707,"answer_id":11682609,"question_id":11682468,"body_markdown":"If you want to run a particular java file which contains the main(String[] args) method.\r\n\r\n&gt; Right click on the file -&gt; RunAs - &gt; Java Application.\r\n\r\n","title":"Eclipse is executing the wrong Java file","body":"<p>If you want to run a particular java file which contains the main(String[] args) method.</p>\n\n<blockquote>\n  <p>Right click on the file -> RunAs - > Java Application.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1671572,"reputation":420,"user_id":1537949,"accept_rate":80,"display_name":"Christian Lendel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343373950,"creation_date":1343373950,"answer_id":11683236,"question_id":11682468,"body_markdown":"The answer has been posted before, but I highly recommend to work as clean as possible. The CamelCase for classes has just been mentioned, I personally wouldn&#180;t put all the classes in one package. Use more projects for it, or use different packages. If you ever want to do big project with Java, this is one of the most important things (not to mention, that you can work with protected stuff in different packages in one project). Also use the autogeneration for classes. You can prevent mistakes, like your did it just now, with it. Eclipse is a powerful tool, use it!\r\n\r\nBest regards","title":"Eclipse is executing the wrong Java file","body":"<p>The answer has been posted before, but I highly recommend to work as clean as possible. The CamelCase for classes has just been mentioned, I personally wouldn´t put all the classes in one package. Use more projects for it, or use different packages. If you ever want to do big project with Java, this is one of the most important things (not to mention, that you can work with protected stuff in different packages in one project). Also use the autogeneration for classes. You can prevent mistakes, like your did it just now, with it. Eclipse is a powerful tool, use it!</p>\n\n<p>Best regards</p>\n"},{"tags":[],"owner":{"account_id":5781963,"reputation":21,"user_id":4562301,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423808135,"creation_date":1423807715,"answer_id":28493534,"question_id":11682468,"body_markdown":"Check to see that your main() isn&#39;t capitalised.\r\n\r\nEclipse won&#39;t catch it, but if you run `public static void Main(String[] args)`, it will run the wrong program.","title":"Eclipse is executing the wrong Java file","body":"<p>Check to see that your main() isn't capitalised.</p>\n\n<p>Eclipse won't catch it, but if you run <code>public static void Main(String[] args)</code>, it will run the wrong program.</p>\n"},{"tags":[],"owner":{"account_id":10017837,"reputation":81,"user_id":7408487,"display_name":"farisfath25"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494528491,"creation_date":1494528491,"answer_id":43923427,"question_id":11682468,"body_markdown":"I recently had this kind of problem too, however finally I could find the culprit. Since as I saw, nobody had discussed about this thing, I will tell.\r\n\r\nI have checked things like the class name, main() method, but still the warning appear and said &quot;no main method found&quot;, something like that.\r\n\r\nI just overlooked that for the main() method, inside the bracket I forgot to include square brackets for the String, so my main method was\r\n`... main(String args)`\r\nwhere you can see that I missed that square brackets.\r\n\r\nTherefore after that I fix that into `... main (String[] args)` and that ended my problem.","title":"Eclipse is executing the wrong Java file","body":"<p>I recently had this kind of problem too, however finally I could find the culprit. Since as I saw, nobody had discussed about this thing, I will tell.</p>\n\n<p>I have checked things like the class name, main() method, but still the warning appear and said \"no main method found\", something like that.</p>\n\n<p>I just overlooked that for the main() method, inside the bracket I forgot to include square brackets for the String, so my main method was\n<code>... main(String args)</code>\nwhere you can see that I missed that square brackets.</p>\n\n<p>Therefore after that I fix that into <code>... main (String[] args)</code> and that ended my problem.</p>\n"},{"tags":[],"owner":{"account_id":14704512,"reputation":1,"user_id":10619651,"display_name":"KIRAN KUMAR S"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541612274,"creation_date":1541610295,"answer_id":53194345,"question_id":11682468,"body_markdown":"The root cause is that you are using this method signature:\r\n\r\n    public static void main()\r\n    {\r\n        // ...\r\n    }\r\n\r\nYou need to change it to this, which works:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        // ...\r\n    }","title":"Eclipse is executing the wrong Java file","body":"<p>The root cause is that you are using this method signature:</p>\n\n<pre><code>public static void main()\n{\n    // ...\n}\n</code></pre>\n\n<p>You need to change it to this, which works:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14806291,"reputation":1,"user_id":10693166,"display_name":"Matija"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1542938062,"creation_date":1542925951,"answer_id":53438694,"question_id":11682468,"body_markdown":"I also found this bug on Eclipse.\r\n\r\nSimply if you have several classes with main methods in Eclipse and you try to run your latest application it sometimes runs the old code.\r\n\r\nAll public methods have correct signatures, it has nothing to do with missing arguments.\r\n\r\nThere are two solutions:\r\n\r\n1. Either try to put classes with main methods in different packages.\r\n2. Simply restart eclipse and rerun the app (this always works for me).","title":"Eclipse is executing the wrong Java file","body":"<p>I also found this bug on Eclipse.</p>\n\n<p>Simply if you have several classes with main methods in Eclipse and you try to run your latest application it sometimes runs the old code.</p>\n\n<p>All public methods have correct signatures, it has nothing to do with missing arguments.</p>\n\n<p>There are two solutions:</p>\n\n<ol>\n<li>Either try to put classes with main methods in different packages.</li>\n<li>Simply restart eclipse and rerun the app (this always works for me).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15327321,"reputation":1,"user_id":11058088,"display_name":"Twan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550081156,"creation_date":1550081156,"answer_id":54676712,"question_id":11682468,"body_markdown":"I had this same problem in Netbeans a while back. Your code is fine. You can just right-click somewhere in the file&#39;s window and select &quot;Run File&quot;. OR if you go to the &quot;Run&quot; tab in the taskbar you can &quot;Set the project configuration&quot;, &quot;Customize&quot; ....\r\nonce the project properties dialog box opens check your entry in the &quot;Main Class Field&quot; (it likely has the problematic class in there, replace it and enter the name of the class you want to run). However, you should probably just right-click so you don&#39;t have to do this everytime you create a new class in the package. ","title":"Eclipse is executing the wrong Java file","body":"<p>I had this same problem in Netbeans a while back. Your code is fine. You can just right-click somewhere in the file's window and select \"Run File\". OR if you go to the \"Run\" tab in the taskbar you can \"Set the project configuration\", \"Customize\" ....\nonce the project properties dialog box opens check your entry in the \"Main Class Field\" (it likely has the problematic class in there, replace it and enter the name of the class you want to run). However, you should probably just right-click so you don't have to do this everytime you create a new class in the package. </p>\n"},{"tags":[],"owner":{"account_id":14697258,"reputation":1,"user_id":10614313,"display_name":"Hosein Abdollahipoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571673652,"creation_date":1571673652,"answer_id":58490043,"question_id":11682468,"body_markdown":"You can see a small triangle near the Run&#39;s button in the Eclipse. If you click on that, you can see all of your projects are opening. Now if you can see`logicaloperator.java` in this list, you can click on it and then run your code, else you should check your `main()` method in `logicaloperator.java`.","title":"Eclipse is executing the wrong Java file","body":"<p>You can see a small triangle near the Run's button in the Eclipse. If you click on that, you can see all of your projects are opening. Now if you can see<code>logicaloperator.java</code> in this list, you can click on it and then run your code, else you should check your <code>main()</code> method in <code>logicaloperator.java</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user12869429"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581293757,"creation_date":1581293757,"answer_id":60142617,"question_id":11682468,"body_markdown":"I had the same prob.\r\njust make sure to have the main and all ure classes on public...\r\n","title":"Eclipse is executing the wrong Java file","body":"<p>I had the same prob.\njust make sure to have the main and all ure classes on public...</p>\n"},{"tags":[],"owner":{"account_id":18663254,"reputation":11,"user_id":13603920,"display_name":"Yaakov Whise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592858961,"creation_date":1592858961,"answer_id":62523269,"question_id":11682468,"body_markdown":"My solution : to save the file before running it.\r\nIf you want the file will be saved automatically you can configure that. go to the menu: Window-&gt;Preferences-&gt; General-&gt;Editors-&gt;Autosave ,  Check  the &#39;Enable autosave...&#39; , then put in  the text-box how many second till the auto saving. if you put 3, for example , then it will be saved 3 seconds after you finished the changes in the file.\r\n","title":"Eclipse is executing the wrong Java file","body":"<p>My solution : to save the file before running it.\nIf you want the file will be saved automatically you can configure that. go to the menu: Window-&gt;Preferences-&gt; General-&gt;Editors-&gt;Autosave ,  Check  the 'Enable autosave...' , then put in  the text-box how many second till the auto saving. if you put 3, for example , then it will be saved 3 seconds after you finished the changes in the file.</p>\n"},{"comments":[{"owner":{"account_id":4277788,"reputation":1707,"user_id":3498008,"accept_rate":67,"display_name":"Sleeper9"},"score":0,"creation_date":1618324143,"post_id":67073022,"comment_id":118563947,"body_markdown":"That&#39;s only valid for Maven or gradle projects.","body":"That&#39;s only valid for Maven or gradle projects."}],"tags":[],"owner":{"account_id":21237462,"reputation":1,"user_id":15621453,"display_name":"arun vs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618309269,"creation_date":1618309269,"answer_id":67073022,"question_id":11682468,"body_markdown":"I also faced the same issue, my code is also fine with class file and main method.i tried right click on my project-&gt;maven-&gt;update project. Select the project you want to update.\r\nClick on Force Update of Snapshots/Releases and press ok. After update my code worked correctly and did not printed my previous output.","title":"Eclipse is executing the wrong Java file","body":"<p>I also faced the same issue, my code is also fine with class file and main method.i tried right click on my project-&gt;maven-&gt;update project. Select the project you want to update.\nClick on Force Update of Snapshots/Releases and press ok. After update my code worked correctly and did not printed my previous output.</p>\n"},{"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1649505079,"post_id":71745895,"comment_id":126895631,"body_markdown":"this answers has already been given and is a duplicate.","body":"this answers has already been given and is a duplicate."}],"tags":[],"owner":{"account_id":22142921,"reputation":1,"user_id":16392702,"display_name":"Akhil S Babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649127856,"creation_date":1649127856,"answer_id":71745895,"question_id":11682468,"body_markdown":"I have a similar issue and it was executing the previous class. Only hours later I found out that the problem was in the main itself. I forgot to add &quot;String[] args&quot; in the main.","title":"Eclipse is executing the wrong Java file","body":"<p>I have a similar issue and it was executing the previous class. Only hours later I found out that the problem was in the main itself. I forgot to add &quot;String[] args&quot; in the main.</p>\n"},{"tags":[],"owner":{"account_id":20389251,"reputation":884,"user_id":14957517,"display_name":"Cyebukayire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651316176,"creation_date":1651316176,"answer_id":72067889,"question_id":11682468,"body_markdown":"I was facing the same error,\r\nI just found out that I was missing the keyword &quot;**static**&quot;\r\n\r\n***Before:***\r\n\r\n    public void main(String[] args) {\r\n    // ...\r\n    }\r\n\r\n***This worked for me:*** \r\n\r\n    public static void main(String[] args) {\r\n    // ...\r\n    }","title":"Eclipse is executing the wrong Java file","body":"<p>I was facing the same error,\nI just found out that I was missing the keyword &quot;<strong>static</strong>&quot;</p>\n<p><em><strong>Before:</strong></em></p>\n<pre><code>public void main(String[] args) {\n// ...\n}\n</code></pre>\n<p><em><strong>This worked for me:</strong></em></p>\n<pre><code>public static void main(String[] args) {\n// ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25725467,"reputation":34,"user_id":19481903,"display_name":"CrustyCrustecean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686193133,"creation_date":1686193133,"answer_id":76428327,"question_id":11682468,"body_markdown":"Make sure the file is saved. Make sure the main method is written correctly: `public static void main (String [] args)`.","title":"Eclipse is executing the wrong Java file","body":"<p>Make sure the file is saved. Make sure the main method is written correctly: <code>public static void main (String [] args)</code>.</p>\n"},{"tags":[],"owner":{"account_id":28831065,"reputation":1,"user_id":22081473,"display_name":"Rho Chalmers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686931113,"creation_date":1686883727,"answer_id":76486668,"question_id":11682468,"body_markdown":"I had a similar problem. Turns out it was a typo. I had written\r\n\r\n    public static void main(String args)\r\n\r\nwhen I should have written\r\n\r\npub`lic static void main(String[] args)`\r\n\r\nThe lack of `[ ]` braces meant Eclipse automatically sought out a class with a complete main method.\r\n","title":"Eclipse is executing the wrong Java file","body":"<p>I had a similar problem. Turns out it was a typo. I had written</p>\n<pre><code>public static void main(String args)\n</code></pre>\n<p>when I should have written</p>\n<p>pub<code>lic static void main(String[] args)</code></p>\n<p>The lack of <code>[ ]</code> braces meant Eclipse automatically sought out a class with a complete main method.</p>\n"}],"owner":{"account_id":1639436,"reputation":3915,"user_id":1512179,"accept_rate":52,"display_name":"Aayush Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58443,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":11682547,"answer_count":16,"score":8,"last_activity_date":1686931113,"creation_date":1343370065,"question_id":11682468,"body_markdown":"I am using Eclipse to write and test Java. I am a beginner so i don&#39;t know anything about Eclipse.\r\n\r\nThe problem occurs when I try to run the Java file I just wrote. Instead of executing the file that is opened, it executes the file that I have successfully ran before. I have a few files in the same default package. The package explorer shows that the location of my package is: Aayush &gt; src &gt; default package \r\n\r\nI want to run a file named `logicaloperator.java` but it runs `ifstatement.java` both are in the same default package and I use the 6th button on the toolbar to run it. When I hover over the run button it says : &quot;run ifstatement&quot; but it should be saying &quot;run logicaloperator&quot;.","title":"Eclipse is executing the wrong Java file","body":"<p>I am using Eclipse to write and test Java. I am a beginner so i don't know anything about Eclipse.</p>\n\n<p>The problem occurs when I try to run the Java file I just wrote. Instead of executing the file that is opened, it executes the file that I have successfully ran before. I have a few files in the same default package. The package explorer shows that the location of my package is: Aayush > src > default package </p>\n\n<p>I want to run a file named <code>logicaloperator.java</code> but it runs <code>ifstatement.java</code> both are in the same default package and I use the 6th button on the toolbar to run it. When I hover over the run button it says : \"run ifstatement\" but it should be saying \"run logicaloperator\".</p>\n"},{"tags":["java","spring","eclipse","spring-boot","wildfly"],"answers":[{"comments":[{"owner":{"account_id":1859498,"reputation":190,"user_id":1693232,"display_name":"Paulo Costa"},"score":0,"creation_date":1638382031,"post_id":69430646,"comment_id":124075471,"body_markdown":"Works for me, Thanks! I have added this line after my VM section on my eclipse.ini.","body":"Works for me, Thanks! I have added this line after my VM section on my eclipse.ini."}],"tags":[],"owner":{"account_id":261813,"reputation":101,"user_id":546253,"display_name":"Italo Siqueira Lima"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1633318595,"creation_date":1633318595,"answer_id":69430646,"question_id":69027688,"body_markdown":"I was having the same error when trying to start a Wildfly 19.1.0 container from Eclipse (2021-09). The container seemed to start successful, but this message was driving me crazy.\r\n\r\nAfter a while I came across this message on the Wildfly Google Groups, and this solved my problems!\r\n\r\n&gt; Adding  --add-opens=java.base/java.security=ALL-UNNAMED to eclipse.ini\r\n&gt; fixed the issue on my side\r\n\r\nThanks to the original author, Rahim Alizada, in https://groups.google.com/g/wildfly/c/_OuPrpsF2pY/m/xLt6u-IfBgAJ.\r\n\r\nThe option `--add-opens` opens up the informed modules (all types and members) at runtime, allowing *deep reflection* from the target modules (in this case, everyone else - *ALL-UNNAMED*).\r\n\r\nMore about this option in the [JEP 261][1].\r\n\r\nI tried running Eclipse with only Java 8 in my system, if I remember it well I got it working, but some modules on these newer Eclipse versions require Java 11 to load properly.\r\n\r\n  [1]: http://openjdk.java.net/jeps/261","title":"An internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;","body":"<p>I was having the same error when trying to start a Wildfly 19.1.0 container from Eclipse (2021-09). The container seemed to start successful, but this message was driving me crazy.</p>\n<p>After a while I came across this message on the Wildfly Google Groups, and this solved my problems!</p>\n<blockquote>\n<p>Adding  --add-opens=java.base/java.security=ALL-UNNAMED to eclipse.ini\nfixed the issue on my side</p>\n</blockquote>\n<p>Thanks to the original author, Rahim Alizada, in <a href=\"https://groups.google.com/g/wildfly/c/_OuPrpsF2pY/m/xLt6u-IfBgAJ\" rel=\"noreferrer\">https://groups.google.com/g/wildfly/c/_OuPrpsF2pY/m/xLt6u-IfBgAJ</a>.</p>\n<p>The option <code>--add-opens</code> opens up the informed modules (all types and members) at runtime, allowing <em>deep reflection</em> from the target modules (in this case, everyone else - <em>ALL-UNNAMED</em>).</p>\n<p>More about this option in the <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a>.</p>\n<p>I tried running Eclipse with only Java 8 in my system, if I remember it well I got it working, but some modules on these newer Eclipse versions require Java 11 to load properly.</p>\n"},{"tags":[],"owner":{"account_id":18066294,"reputation":21,"user_id":17551347,"display_name":"Amar Khelloufi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646739907,"creation_date":1646739907,"answer_id":71394502,"question_id":69027688,"body_markdown":"I came across this error during the deployment of wildfly 23 server in eclipse\r\n\r\nAn internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;. Could not initialize class org.wildfly.security.auth.client.DefaultAuthenticationContextProvider\r\n\r\nThis solved my issue too \r\nAdding `--add-opens=java.base/java.security=ALL-UNNAMED` to eclipse.ini ","title":"An internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;","body":"<p>I came across this error during the deployment of wildfly 23 server in eclipse</p>\n<p>An internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;. Could not initialize class org.wildfly.security.auth.client.DefaultAuthenticationContextProvider</p>\n<p>This solved my issue too\nAdding <code>--add-opens=java.base/java.security=ALL-UNNAMED</code> to eclipse.ini</p>\n"},{"tags":[],"owner":{"account_id":28825863,"reputation":11,"user_id":22077281,"display_name":"Roger Wegmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686931097,"creation_date":1686816869,"answer_id":76480435,"question_id":69027688,"body_markdown":"The newest **JBoss Tools** adds the line `--add-opens=java.base/java.security=ALL-UNNAMED` to `eclipse.ini` automatically.\r\n\r\nBut after installing the **JBoss Tools** in Eclipse, you have to **exit** and **start** **Eclipse** again - not only push the restart button after installing the **JBoss Tools**. \r\n\r\nOtherwise Eclipse won&#39;t read the modified `eclipse.ini` file.","title":"An internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;","body":"<p>The newest <strong>JBoss Tools</strong> adds the line <code>--add-opens=java.base/java.security=ALL-UNNAMED</code> to <code>eclipse.ini</code> automatically.</p>\n<p>But after installing the <strong>JBoss Tools</strong> in Eclipse, you have to <strong>exit</strong> and <strong>start</strong> <strong>Eclipse</strong> again - not only push the restart button after installing the <strong>JBoss Tools</strong>.</p>\n<p>Otherwise Eclipse won't read the modified <code>eclipse.ini</code> file.</p>\n"}],"owner":{"account_id":22636332,"reputation":51,"user_id":16813093,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5161,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1686931097,"creation_date":1630575276,"question_id":69027688,"body_markdown":"I&#39;m trying to connect to my http://localhost: 8080/spring-boot-test/ui, but unfortunately I fail because I have errors on Eclips. WildFly 23 theoretically worked, because I normally get their localhost\r\n\r\n```\r\nAn internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;.\r\nCould not initialize class org.wildfly.security.auth.client.DefaultAuthenticationContextProvider\r\n\r\nAn internal error occurred during: &quot;Checking Deployment Scanners for server&quot;.\r\nCould not initialize class org.wildfly.security.auth.client.DefaultAuthenticationContextProvider\r\n```\r\n\r\nWhen I try to redirect the directory in standalone.xml to a target with META-INF and WEB-INF, I come across two ERRORs\r\n\r\n```\r\nERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0011: The deployment scanner found a directory named META-INF that was not inside a directory whose name ends with .ear, .jar, .rar, .sar or .war. This is likely the result of unzipping an archive directly inside the C:\\Users\\adame\\eclipse-workspace\\spring-boot-test\\target directory, which is a user error. The META-INF directory will not be scanned for deployments, but it is possible that the scanner may find other files from the unzipped archive and attempt to deploy them, leading to errors.\r\nERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0011: The deployment scanner found a directory named WEB-INF that was not inside a directory whose name ends with .ear, .jar, .rar, .sar or .war. This is likely the result of unzipping an archive directly inside the C:\\Users\\adame\\eclipse-workspace\\spring-boot-test\\target\\ directory, which is a user error. The WEB-INF directory will not be scanned for deployments, but it is possible that the scanner may find other files from the unzipped archive and attempt to deploy them, leading to errors.\r\n```\r\n\r\nPom.xml\r\n```\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.adamkaim.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n      &lt;parent&gt;\r\n      \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      \t&lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n      \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;properties&gt;\r\n      \t&lt;java.version&gt;16&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n      \r\n      &lt;build&gt;\r\n      \t&lt;plugins&gt;\r\n      \t\t&lt;plugin&gt;\r\n      \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      \t\t\t&lt;configuration&gt;\r\n      \t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n      \t\t\t&lt;/configuration&gt;\r\n      \t\t&lt;/plugin&gt;\r\n      \t\t&lt;plugin&gt;\r\n      \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n      \t\t\t&lt;configuration&gt;\r\n      \t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n      \t\t\t&lt;/configuration&gt;\r\n      \t\t&lt;/plugin&gt;\r\n      \t&lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;/project&gt;\r\n```\r\n\r\nApp.java\r\n```\r\n    package com.adamkaim.spring;\r\n     \r\n     import org.springframework.boot.SpringApplication;\r\n     import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n     \r\n     @SpringBootApplication\r\n     public class App {\r\n         public static void main(String[] args) {\r\n     \r\n             SpringApplication.run(App.class, args);\r\n         }\r\n     }\r\n```\r\nAddress.java\r\n\r\n```\r\npackage com.adamkaim.spring;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Address {\r\n\r\n    private String address=&quot;Wall Street 34&quot;;\r\n\r\n    public String getAddress() {\r\n        return this.address;\r\n    }\r\n}\r\n```\r\n\r\nStudent.java\r\n\r\n```\r\npackage com.adamkaim.spring;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Student {\r\n\r\n    @Autowired\r\n    private Address address;\r\n\r\n    public String showInfo(){\r\n        return this.address.getAddress();\r\n    }\r\n}\r\n```\r\n\r\nMainView.java\r\n\r\n```\r\npackage com.adamkaim.spring;\r\n\r\nimport com.vaadin.annotations.Theme;\r\nimport com.vaadin.annotations.Title;\r\nimport com.vaadin.server.VaadinRequest;\r\nimport com.vaadin.spring.annotation.SpringUI;\r\nimport com.vaadin.ui.Button;\r\nimport com.vaadin.ui.Button.ClickEvent;\r\nimport com.vaadin.ui.Label;\r\nimport com.vaadin.ui.UI;\r\nimport com.vaadin.ui.VerticalLayout;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\n@SpringUI(path=&quot;/ui&quot;)\r\n@Title(&quot;Titlett&quot;)\r\n@Theme(&quot;valo&quot;)\r\npublic class MainView extends UI{\r\n\t\r\n\t@Override\r\n\tprotected void init(VaadinRequest request) {\r\n\t\tfinal VerticalLayout verticalLayout = new VerticalLayout();\r\n\t\t\r\n\t\tverticalLayout.addComponent(new Label(&quot;Welcome&quot;));\r\n\t\t\r\n\t\tButton button = new Button(&quot;Click me&quot;);\r\n\t\t\r\n\t\tverticalLayout.addComponent(button);\r\n\t\t\r\n\t\tbutton.addClickListener(new Button.ClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void buttonClick(ClickEvent event) {\r\n\t\t\t\tverticalLayout.addComponent(new Label(&quot;Button is clicked..&quot;));\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tsetContent(verticalLayout);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"An internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;","body":"<p>I'm trying to connect to my http://localhost: 8080/spring-boot-test/ui, but unfortunately I fail because I have errors on Eclips. WildFly 23 theoretically worked, because I normally get their localhost</p>\n<pre><code>An internal error occurred during: &quot;Updating Deployment Scanners for Server: WildFly 23&quot;.\nCould not initialize class org.wildfly.security.auth.client.DefaultAuthenticationContextProvider\n\nAn internal error occurred during: &quot;Checking Deployment Scanners for server&quot;.\nCould not initialize class org.wildfly.security.auth.client.DefaultAuthenticationContextProvider\n</code></pre>\n<p>When I try to redirect the directory in standalone.xml to a target with META-INF and WEB-INF, I come across two ERRORs</p>\n<pre><code>ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0011: The deployment scanner found a directory named META-INF that was not inside a directory whose name ends with .ear, .jar, .rar, .sar or .war. This is likely the result of unzipping an archive directly inside the C:\\Users\\adame\\eclipse-workspace\\spring-boot-test\\target directory, which is a user error. The META-INF directory will not be scanned for deployments, but it is possible that the scanner may find other files from the unzipped archive and attempt to deploy them, leading to errors.\nERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0011: The deployment scanner found a directory named WEB-INF that was not inside a directory whose name ends with .ear, .jar, .rar, .sar or .war. This is likely the result of unzipping an archive directly inside the C:\\Users\\adame\\eclipse-workspace\\spring-boot-test\\target\\ directory, which is a user error. The WEB-INF directory will not be scanned for deployments, but it is possible that the scanner may find other files from the unzipped archive and attempt to deploy them, leading to errors.\n</code></pre>\n<p>Pom.xml</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;com.adamkaim.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      \n      &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n      &lt;/parent&gt;\n      \n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n      \n      &lt;properties&gt;\n        &lt;java.version&gt;16&lt;/java.version&gt;\n      &lt;/properties&gt;\n      \n      &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>App.java</p>\n<pre><code>    package com.adamkaim.spring;\n     \n     import org.springframework.boot.SpringApplication;\n     import org.springframework.boot.autoconfigure.SpringBootApplication;\n     \n     @SpringBootApplication\n     public class App {\n         public static void main(String[] args) {\n     \n             SpringApplication.run(App.class, args);\n         }\n     }\n</code></pre>\n<p>Address.java</p>\n<pre><code>package com.adamkaim.spring;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Address {\n\n    private String address=&quot;Wall Street 34&quot;;\n\n    public String getAddress() {\n        return this.address;\n    }\n}\n</code></pre>\n<p>Student.java</p>\n<pre><code>package com.adamkaim.spring;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Student {\n\n    @Autowired\n    private Address address;\n\n    public String showInfo(){\n        return this.address.getAddress();\n    }\n}\n</code></pre>\n<p>MainView.java</p>\n<pre><code>package com.adamkaim.spring;\n\nimport com.vaadin.annotations.Theme;\nimport com.vaadin.annotations.Title;\nimport com.vaadin.server.VaadinRequest;\nimport com.vaadin.spring.annotation.SpringUI;\nimport com.vaadin.ui.Button;\nimport com.vaadin.ui.Button.ClickEvent;\nimport com.vaadin.ui.Label;\nimport com.vaadin.ui.UI;\nimport com.vaadin.ui.VerticalLayout;\n\n@SuppressWarnings(&quot;serial&quot;)\n@SpringUI(path=&quot;/ui&quot;)\n@Title(&quot;Titlett&quot;)\n@Theme(&quot;valo&quot;)\npublic class MainView extends UI{\n    \n    @Override\n    protected void init(VaadinRequest request) {\n        final VerticalLayout verticalLayout = new VerticalLayout();\n        \n        verticalLayout.addComponent(new Label(&quot;Welcome&quot;));\n        \n        Button button = new Button(&quot;Click me&quot;);\n        \n        verticalLayout.addComponent(button);\n        \n        button.addClickListener(new Button.ClickListener() {\n            \n            @Override\n            public void buttonClick(ClickEvent event) {\n                verticalLayout.addComponent(new Label(&quot;Button is clicked..&quot;));\n            }\n        });\n        \n        setContent(verticalLayout);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","temporal-workflow"],"answers":[{"tags":[],"owner":{"account_id":1833470,"reputation":6598,"user_id":1664318,"display_name":"Maxim Fateev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1595362629,"creation_date":1595362629,"answer_id":63022420,"question_id":63016083,"body_markdown":"Make sure that you are running the same version of the service as the Java SDK used by the samples requires. \r\n\r\nIt looks like the Samples README wasn&#39;t updated with the latest version. As of now (7/21/20) the v0.27.0 is the latest version. So tear down the currently running version of the service:\r\n\r\n    docker-compose down\r\n\r\nthen install the latest one:\r\n\r\n     curl -L https://github.com/temporalio/temporal/releases/download/v0.27.0/docker.tar.gz | tar -xz --strip-components 1 docker/docker-compose.yml\r\n     docker-compose up","title":"Error while running HelloActivity Sample Temporal Java program","body":"<p>Make sure that you are running the same version of the service as the Java SDK used by the samples requires.</p>\n<p>It looks like the Samples README wasn't updated with the latest version. As of now (7/21/20) the v0.27.0 is the latest version. So tear down the currently running version of the service:</p>\n<pre><code>docker-compose down\n</code></pre>\n<p>then install the latest one:</p>\n<pre><code> curl -L https://github.com/temporalio/temporal/releases/download/v0.27.0/docker.tar.gz | tar -xz --strip-components 1 docker/docker-compose.yml\n docker-compose up\n</code></pre>\n"}],"owner":{"account_id":19127299,"reputation":23,"user_id":13970007,"display_name":"Sudhan G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63022420,"answer_count":1,"score":1,"last_activity_date":1686930937,"creation_date":1595339622,"question_id":63016083,"body_markdown":"I&#39;m getting the following error when I run the temporal HelloActivity Java sample:\r\n\r\n```\r\n06:43:55.969 [main] INFO  io.temporal.internal.worker.Poller - start(): Poller{options=PollerOptions{maximumPollRateIntervalMilliseconds=1000, maximumPollRatePerSecond=0.0, pollBackoffCoefficient=2.0, pollBackoffInitialInterval=PT0.1S, pollBackoffMaximumInterval=PT1M, pollThreadCount=5, pollThreadNamePrefix=&#39;Host Local Workflow Poller&#39;}, identity=23af0cb3-09aa-4cbc-bca2-118cfa79dc96}\r\n06:43:57.291 [Activity Poller taskQueue=&quot;HelloActivity&quot;, namespace=&quot;default&quot;: 4] ERROR io.temporal.internal.worker.Poller - Failure in thread Activity Poller taskQueue=&quot;HelloActivity&quot;, namespace=&quot;default&quot;: 4\r\nio.grpc.StatusRuntimeException: UNIMPLEMENTED: unknown service temporal.api.workflowservice.v1.WorkflowService\r\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)\r\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)\r\n\tat io.temporal.api.workflowservice.v1.WorkflowServiceGrpc$WorkflowServiceBlockingStub.pollActivityTaskQueue(WorkflowServiceGrpc.java:2682)\r\n\tat io.temporal.internal.worker.ActivityPollTask.poll(ActivityPollTask.java:95)\r\n\tat io.temporal.internal.worker.ActivityPollTask.poll(ActivityPollTask.java:38)\r\n\tat io.temporal.internal.worker.Poller$PollExecutionTask.run(Poller.java:273)\r\n\tat io.temporal.internal.worker.Poller$PollLoopTask.run(Poller.java:242)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nAs pre-requisite, docker-compose up was executed and I have all 3 services temporalio/web, temporalio/auto-setup, and cassandra running.","title":"Error while running HelloActivity Sample Temporal Java program","body":"<p>I'm getting the following error when I run the temporal HelloActivity Java sample:</p>\n<pre><code>06:43:55.969 [main] INFO  io.temporal.internal.worker.Poller - start(): Poller{options=PollerOptions{maximumPollRateIntervalMilliseconds=1000, maximumPollRatePerSecond=0.0, pollBackoffCoefficient=2.0, pollBackoffInitialInterval=PT0.1S, pollBackoffMaximumInterval=PT1M, pollThreadCount=5, pollThreadNamePrefix='Host Local Workflow Poller'}, identity=23af0cb3-09aa-4cbc-bca2-118cfa79dc96}\n06:43:57.291 [Activity Poller taskQueue=&quot;HelloActivity&quot;, namespace=&quot;default&quot;: 4] ERROR io.temporal.internal.worker.Poller - Failure in thread Activity Poller taskQueue=&quot;HelloActivity&quot;, namespace=&quot;default&quot;: 4\nio.grpc.StatusRuntimeException: UNIMPLEMENTED: unknown service temporal.api.workflowservice.v1.WorkflowService\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)\n    at io.temporal.api.workflowservice.v1.WorkflowServiceGrpc$WorkflowServiceBlockingStub.pollActivityTaskQueue(WorkflowServiceGrpc.java:2682)\n    at io.temporal.internal.worker.ActivityPollTask.poll(ActivityPollTask.java:95)\n    at io.temporal.internal.worker.ActivityPollTask.poll(ActivityPollTask.java:38)\n    at io.temporal.internal.worker.Poller$PollExecutionTask.run(Poller.java:273)\n    at io.temporal.internal.worker.Poller$PollLoopTask.run(Poller.java:242)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>As pre-requisite, docker-compose up was executed and I have all 3 services temporalio/web, temporalio/auto-setup, and cassandra running.</p>\n"},{"tags":["java","git","jgit"],"comments":[{"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"score":1,"creation_date":1610694975,"post_id":65731005,"comment_id":116218178,"body_markdown":"Finally, this issue seems to be coming as Jgit trying to create a config file based on `XDG_CONFIG_HOME`. But in this case, it was not set in pod and default path is not accessible. Setting `XDG_CONFIG_HOME` to appropriate value resolves the issue.","body":"Finally, this issue seems to be coming as Jgit trying to create a config file based on <code>XDG_CONFIG_HOME</code>. But in this case, it was not set in pod and default path is not accessible. Setting <code>XDG_CONFIG_HOME</code> to appropriate value resolves the issue."},{"owner":{"account_id":31371,"reputation":47651,"user_id":86072,"accept_rate":81,"display_name":"LeGEC"},"score":1,"creation_date":1610704848,"post_id":65731005,"comment_id":116221977,"body_markdown":"Hi, since you found the answer to your issue, can you post it as an answer to your own question ?","body":"Hi, since you found the answer to your issue, can you post it as an answer to your own question ?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1686405407,"post_id":65731005,"comment_id":134795853,"body_markdown":"How can we turn off this behavior altogether? And how can we do it programmatically, using the API, without needing to use an environment variable? I&#39;ll open a bounty.","body":"How can we turn off this behavior altogether? And how can we do it programmatically, using the API, without needing to use an environment variable? I&#39;ll open a bounty."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1686690569,"post_id":65731005,"comment_id":134833473,"body_markdown":"I&#39;ve opened [JGit Bug 582064](https://bugs.eclipse.org/bugs/show_bug.cgi?id=582064) to try to get a better approach than setting an environment variable.","body":"I&#39;ve opened <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=582064\" rel=\"nofollow noreferrer\">JGit Bug 582064</a> to try to get a better approach than setting an environment variable."}],"answers":[{"comments":[{"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"score":0,"creation_date":1616764319,"post_id":65735434,"comment_id":118112152,"body_markdown":"what is appropriate path for XDG_CONFIG_HOME?","body":"what is appropriate path for XDG_CONFIG_HOME?"},{"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"score":0,"creation_date":1616829539,"post_id":65735434,"comment_id":118130608,"body_markdown":"`XDG_CONFIG_HOME` can be set to application specific path or else it will fall back to `$HOME/.config`","body":"<code>XDG_CONFIG_HOME</code> can be set to application specific path or else it will fall back to <code>$HOME&#47;.config</code>"},{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":1,"creation_date":1620375274,"post_id":65735434,"comment_id":119187343,"body_markdown":"The solution of this answer cured my pain in the context of a pure Tomcat deployment. Thx!","body":"The solution of this answer cured my pain in the context of a pure Tomcat deployment. Thx!"}],"tags":[],"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1610710715,"creation_date":1610710715,"answer_id":65735434,"question_id":65731005,"body_markdown":"   In this particular case Jgit is trying to create a configuration file at a path based on `XDG_CONFIG_HOME`. \r\n\r\n   If `XDG_CONFIG_HOME` is not set, it will be having default value `$HOME/.config`. This particular path is not accessible in my Kubernetes environment. \r\n\r\n   Changed `XDG_CONFIG_HOME` to point to appropriate path. Thus Jgit will be able to create configuration file.","title":"Jgit throws java.io.IOException: Creating directories for /.config/jgit failed","body":"<p>In this particular case Jgit is trying to create a configuration file at a path based on <code>XDG_CONFIG_HOME</code>.</p>\n<p>If <code>XDG_CONFIG_HOME</code> is not set, it will be having default value <code>$HOME/.config</code>. This particular path is not accessible in my Kubernetes environment.</p>\n<p>Changed <code>XDG_CONFIG_HOME</code> to point to appropriate path. Thus Jgit will be able to create configuration file.</p>\n"},{"tags":[],"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616765970,"creation_date":1616765970,"answer_id":66818045,"question_id":65731005,"body_markdown":"Setting XDG_CONFIG_HOME not worked for me.\r\nI am using windows machine and below thing worked for me.\r\n\r\nPass below environment variable in your program\r\n\r\n    HOMEDRIVE=C:;HOMEPATH=\\Users\\&lt;YourUserName&gt;\r\n\r\n","title":"Jgit throws java.io.IOException: Creating directories for /.config/jgit failed","body":"<p>Setting XDG_CONFIG_HOME not worked for me.\nI am using windows machine and below thing worked for me.</p>\n<p>Pass below environment variable in your program</p>\n<pre><code>HOMEDRIVE=C:;HOMEPATH=\\Users\\&lt;YourUserName&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1686691275,"post_id":76447082,"comment_id":134833571,"body_markdown":"`System.setProperty(&quot;XDG_CONFIG_HOME&quot;, &quot;/path/to/new/directory&quot;;)` (double-check the misplaced semicolon in your answer) doesn&#39;t set an environment variable—it sets a system property, which is a different thing.","body":"<code>System.setProperty(&quot;XDG_CONFIG_HOME&quot;, &quot;&#47;path&#47;to&#47;new&#47;directory&quot;;)</code> (double-check the misplaced semicolon in your answer) doesn&#39;t set an environment variable—it sets a system property, which is a different thing."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1686691597,"post_id":76447082,"comment_id":134833616,"body_markdown":"@GarretWilson True. I have removed the `System.setProperty` which would not be useful here. I will follow your JGit bug ticket.","body":"@GarretWilson True. I have removed the <code>System.setProperty</code> which would not be useful here. I will follow your JGit bug ticket."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1686930969,"post_id":76447082,"comment_id":134871033,"body_markdown":"@GarretWilson I have updated the answer with the latest from [your issue 582064](https://bugs.eclipse.org/bugs/show_bug.cgi?id=582064)","body":"@GarretWilson I have updated the answer with the latest from <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=582064\" rel=\"nofollow noreferrer\">your issue 582064</a>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1686932210,"post_id":76447082,"comment_id":134871278,"body_markdown":"If nothing else you get points for taking the time to document status updates (even if it was from my ticket) so I don&#39;t have to. &#128518; Thank you.","body":"If nothing else you get points for taking the time to document status updates (even if it was from my ticket) so I don&#39;t have to. 😆 Thank you."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686930935,"creation_date":1686414086,"answer_id":76447082,"question_id":65731005,"body_markdown":"&gt; JGit should not need to create a configuration file just to run.\r\n\r\nBut apparently, it does: `$HOME/.config/jgit/config`, which has caused issues in the past (for [IntelliJ](https://github.com/VirtusLab/git-machete-intellij-plugin/issues/1239) or, as recently as April 2023, [Eclipse](https://bugs.eclipse.org/bugs/show_bug.cgi?id=581772) )\r\n\r\n&gt; without needing to use an environment variable?\r\n\r\nThat seems problematic, unless, maybe, if you do implement a custom `FS` (File System) in JGit.\r\n\r\nSomething which would include subclassing the `FS` class in JGit to create your own custom file system.\r\n\r\n```java\r\npublic class CustomFS extends FS {\r\n    // Override methods as needed\r\n}\r\n```\r\n\r\nUsing said `CustomFS` when you create a `Repository` through a `FileRepositoryBuilder`, where you can specify your custom `FS`:\r\n\r\n```java\r\nFileRepositoryBuilder builder = new FileRepositoryBuilder();\r\nRepository repo = builder.setGitDir(new File(&quot;/path/to/repo&quot;))\r\n                         .setFS(new CustomFS())\r\n                         .build();\r\n```\r\n\r\nThis way, the repository will use your custom `FS`, which could prevent the creation of the configuration file in an inaccessible directory.\r\n\r\nBut that would work only if no restricted APIs are needed. \r\n\r\nUsing environment variable, though, you could change `HOME` or `XDG_CONFIG_HOME` in order to test an alternative location for `.config/jgit/config`.\r\n\r\n----\r\n\r\nFrom [Eclipse JGit issue 582064](https://bugs.eclipse.org/bugs/show_bug.cgi?id=582064), Thomas Wolf adds:\r\n\r\n&gt; The normal way in git is indeed environment variables.\r\n&gt;\r\n&gt; The usual way to get around this programmatically in JGit is to install a custom `SystemReader` that overrides some variables, or that provides custom system or global configs.\r\n&gt;\r\n&gt; Currently, JGit has a few inconsistencies that might make this hard for the home directory. We&#39;re slowly working on this.\r\n&gt;\r\n&gt; Part of it should be fixed in the change I pushed for [bug 436127](https://bugs.eclipse.org/bugs/show_bug.cgi?id=436127); this should enable one to have a custom `SystemReader` that returns custom values for `getProperty(&quot;user.home&quot;)` and `getenv(&quot;HOME&quot;)` to re-define it for JGit. (Or a custom value for `getenv(&quot;XDG_CONFIG_HOME&quot;)`.)   \r\nThere&#39;s also [bug 581875](https://bugs.eclipse.org/bugs/show_bug.cgi?id=581875) which is about the global (user) `git config` being in `$XDG_CONFIG_HOME`.\r\n&gt;\r\n&gt; As for running in a container where neither `$HOME` nor `$XDG_CONFIG_HOME` are defined, and there is no home directory: in a container setup it&#39;s really not hard to define either variable to point to an existing directory where JGit has write permissions\r\n\r\n\r\n\r\n","title":"Jgit throws java.io.IOException: Creating directories for /.config/jgit failed","body":"<blockquote>\n<p>JGit should not need to create a configuration file just to run.</p>\n</blockquote>\n<p>But apparently, it does: <code>$HOME/.config/jgit/config</code>, which has caused issues in the past (for <a href=\"https://github.com/VirtusLab/git-machete-intellij-plugin/issues/1239\" rel=\"nofollow noreferrer\">IntelliJ</a> or, as recently as April 2023, <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=581772\" rel=\"nofollow noreferrer\">Eclipse</a> )</p>\n<blockquote>\n<p>without needing to use an environment variable?</p>\n</blockquote>\n<p>That seems problematic, unless, maybe, if you do implement a custom <code>FS</code> (File System) in JGit.</p>\n<p>Something which would include subclassing the <code>FS</code> class in JGit to create your own custom file system.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomFS extends FS {\n    // Override methods as needed\n}\n</code></pre>\n<p>Using said <code>CustomFS</code> when you create a <code>Repository</code> through a <code>FileRepositoryBuilder</code>, where you can specify your custom <code>FS</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileRepositoryBuilder builder = new FileRepositoryBuilder();\nRepository repo = builder.setGitDir(new File(&quot;/path/to/repo&quot;))\n                         .setFS(new CustomFS())\n                         .build();\n</code></pre>\n<p>This way, the repository will use your custom <code>FS</code>, which could prevent the creation of the configuration file in an inaccessible directory.</p>\n<p>But that would work only if no restricted APIs are needed.</p>\n<p>Using environment variable, though, you could change <code>HOME</code> or <code>XDG_CONFIG_HOME</code> in order to test an alternative location for <code>.config/jgit/config</code>.</p>\n<hr />\n<p>From <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=582064\" rel=\"nofollow noreferrer\">Eclipse JGit issue 582064</a>, Thomas Wolf adds:</p>\n<blockquote>\n<p>The normal way in git is indeed environment variables.</p>\n<p>The usual way to get around this programmatically in JGit is to install a custom <code>SystemReader</code> that overrides some variables, or that provides custom system or global configs.</p>\n<p>Currently, JGit has a few inconsistencies that might make this hard for the home directory. We're slowly working on this.</p>\n<p>Part of it should be fixed in the change I pushed for <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=436127\" rel=\"nofollow noreferrer\">bug 436127</a>; this should enable one to have a custom <code>SystemReader</code> that returns custom values for <code>getProperty(&quot;user.home&quot;)</code> and <code>getenv(&quot;HOME&quot;)</code> to re-define it for JGit. (Or a custom value for <code>getenv(&quot;XDG_CONFIG_HOME&quot;)</code>.)<br />\nThere's also <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=581875\" rel=\"nofollow noreferrer\">bug 581875</a> which is about the global (user) <code>git config</code> being in <code>$XDG_CONFIG_HOME</code>.</p>\n<p>As for running in a container where neither <code>$HOME</code> nor <code>$XDG_CONFIG_HOME</code> are defined, and there is no home directory: in a container setup it's really not hard to define either variable to point to an existing directory where JGit has write permissions</p>\n</blockquote>\n"}],"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5384,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":65735434,"answer_count":3,"score":10,"last_activity_date":1686930935,"creation_date":1610688935,"question_id":65731005,"body_markdown":"Recently upgraded Jgit to 5.10.0.202012080955-r. After this, we are getting `IOException` after clone of a bare git repository. It doesn&#39;t seem to cause any visible functional impact so far, but its a cause of concern.\r\nThis issue is seen only in Kubernetes deployment not with Junit tests. \r\nIs it a known issue ? If yes, any workarounds or anything missing here ?\r\n\r\nThanks.\r\n\r\n```\r\n[36morg.eclipse.jgit.util.FS                [0;39m [2m:[0;39m Cannot save config file &#39;FileBasedConfig[/.config/jgit/config]&#39;\r\n\r\njava.io.IOException: Creating directories for /.config/jgit failed\r\n\tat org.eclipse.jgit.util.FileUtils.mkdirs(FileUtils.java:411) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\r\n\tat org.eclipse.jgit.internal.storage.file.LockFile.lock(LockFile.java:130) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\r\n\tat org.eclipse.jgit.storage.file.FileBasedConfig.save(FileBasedConfig.java:219) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\r\n\tat org.eclipse.jgit.util.FS$FileStoreAttributes.saveToConfig(FS.java:735) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\r\n\tat org.eclipse.jgit.util.FS$FileStoreAttributes.lambda$4(FS.java:424) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\r\n\tat org.eclipse.jgit.util.FS$FileStoreAttributes$$Lambda$1660/0x00000000f4008230.run(Unknown Source) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:836) ~[na:na]\r\n```","title":"Jgit throws java.io.IOException: Creating directories for /.config/jgit failed","body":"<p>Recently upgraded Jgit to 5.10.0.202012080955-r. After this, we are getting <code>IOException</code> after clone of a bare git repository. It doesn't seem to cause any visible functional impact so far, but its a cause of concern.\nThis issue is seen only in Kubernetes deployment not with Junit tests.\nIs it a known issue ? If yes, any workarounds or anything missing here ?</p>\n<p>Thanks.</p>\n<pre><code>[36morg.eclipse.jgit.util.FS                [0;39m [2m:[0;39m Cannot save config file 'FileBasedConfig[/.config/jgit/config]'\n\njava.io.IOException: Creating directories for /.config/jgit failed\n    at org.eclipse.jgit.util.FileUtils.mkdirs(FileUtils.java:411) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\n    at org.eclipse.jgit.internal.storage.file.LockFile.lock(LockFile.java:130) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\n    at org.eclipse.jgit.storage.file.FileBasedConfig.save(FileBasedConfig.java:219) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\n    at org.eclipse.jgit.util.FS$FileStoreAttributes.saveToConfig(FS.java:735) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\n    at org.eclipse.jgit.util.FS$FileStoreAttributes.lambda$4(FS.java:424) ~[org.eclipse.jgit-5.10.0.202012080955-r.jar!/:5.10.0.202012080955-r]\n    at org.eclipse.jgit.util.FS$FileStoreAttributes$$Lambda$1660/0x00000000f4008230.run(Unknown Source) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:836) ~[na:na]\n</code></pre>\n"},{"tags":["java","asynchronous","future","completable-future"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1686906948,"post_id":76488402,"comment_id":134865825,"body_markdown":"See https://stackoverflow.com/a/70724649/402428","body":"See <a href=\"https://stackoverflow.com/a/70724649/402428\">stackoverflow.com/a/70724649/402428</a>"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1686907887,"post_id":76488402,"comment_id":134866049,"body_markdown":"thanks, @michid will check out your answer, and new Holger answer below, appreciate it !","body":"thanks, @michid will check out your answer, and new Holger answer below, appreciate it !"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1686930800,"post_id":76488402,"comment_id":134871009,"body_markdown":"btw @michid we are doing this for performance speed reasons, if ServiceA finishes first and it has certain criteria, (we will not wait for serviceB to finish) we&#39;ll take the results. both services API should be called start at the same time. I will try and test this, appreciate it","body":"btw @michid we are doing this for performance speed reasons, if ServiceA finishes first and it has certain criteria, (we will not wait for serviceB to finish) we&#39;ll take the results. both services API should be called start at the same time. I will try and test this, appreciate it"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686931551,"post_id":76488810,"comment_id":134871147,"body_markdown":"Then, the first variant is what you want. It assumes that you start both operations first, like given in the question, creating `futureA` and `futureB`. Then, it will not wait for `futureB` if the criteria is met.","body":"Then, the first variant is what you want. It assumes that you start both operations first, like given in the question, creating <code>futureA</code> and <code>futureB</code>. Then, it will not wait for <code>futureB</code> if the criteria is met."},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1686933628,"post_id":76488810,"comment_id":134871577,"body_markdown":"thanks, one more question, if we are calling this in a method, and we definitely need the results of ServiceA to process,  can we call Service A synchronously (without a future)? and Service B in an asynchronous future,  that way we only call 2 threads,   vs 3 in the answer above (1 method, plus + 2 futures) ,is that correct in my understanding? can you write a third subset answer? appreciate it!","body":"thanks, one more question, if we are calling this in a method, and we definitely need the results of ServiceA to process,  can we call Service A synchronously (without a future)? and Service B in an asynchronous future,  that way we only call 2 threads,   vs 3 in the answer above (1 method, plus + 2 futures) ,is that correct in my understanding? can you write a third subset answer? appreciate it!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687161446,"post_id":76488810,"comment_id":134892735,"body_markdown":"If the code is as shown in the question, it should work without problems. Just keep in mind to commence the async operation first, before performing the synchronous one, `CompletableFuture&lt;B&gt; futureB = CompletableFuture.supplyAsync(() -&gt; serviceB.getAPI()); A a = serviceA .getAPI(); Final result = a.resultA.equals(&quot;G&quot;) || a.resultA.equals(&quot;H&quot;)? new Final(&quot;success&quot;): new Final(futureB.join().resultB == 1? &quot;fail&quot;: &quot;error&quot;);`","body":"If the code is as shown in the question, it should work without problems. Just keep in mind to commence the async operation first, before performing the synchronous one, <code>CompletableFuture&lt;B&gt; futureB = CompletableFuture.supplyAsync(() -&gt; serviceB.getAPI()); A a = serviceA .getAPI(); Final result = a.resultA.equals(&quot;G&quot;) || a.resultA.equals(&quot;H&quot;)? new Final(&quot;success&quot;): new Final(futureB.join().resultB == 1? &quot;fail&quot;: &quot;error&quot;);</code>"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686907692,"creation_date":1686907692,"answer_id":76488810,"question_id":76488402,"body_markdown":"Since you need the result of A in either case, to determine whether you need the result of B, you can simply chain the decision as a dependent operation on A:\r\n\r\n```java\r\nCompletableFuture&lt;Final&gt; result = futureA.thenCompose(a -&gt;\r\n    a.resultA.equals(&quot;G&quot;) || a.resultA.equals(&quot;H&quot;)?\r\n        CompletableFuture.completedFuture(new Final(&quot;success&quot;)):\r\n    futureB.thenApply(b -&gt; new Final(b.resultB == 1? &quot;fail&quot;: &quot;error&quot;)));\r\n```\r\n\r\nNote that when success is likely and the benefit of running A and B in parallel rather low, you may even decide to commence B only when necessary:\r\n\r\n```java\r\nCompletableFuture&lt;Final&gt; result = futureA.thenCompose(a -&gt;\r\n    a.resultA.equals(&quot;G&quot;) || a.resultA.equals(&quot;H&quot;)?\r\n        CompletableFuture.completedFuture(new Final(&quot;success&quot;)):\r\n        CompletableFuture.supplyAsync(\r\n            () -&gt; new Final(serviceB.getAPI().resultB == 1? &quot;fail&quot;: &quot;error&quot;)));\r\n```\r\n","title":"Java Return Future that gets executed first with a specific condition, or process both","body":"<p>Since you need the result of A in either case, to determine whether you need the result of B, you can simply chain the decision as a dependent operation on A:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Final&gt; result = futureA.thenCompose(a -&gt;\n    a.resultA.equals(&quot;G&quot;) || a.resultA.equals(&quot;H&quot;)?\n        CompletableFuture.completedFuture(new Final(&quot;success&quot;)):\n    futureB.thenApply(b -&gt; new Final(b.resultB == 1? &quot;fail&quot;: &quot;error&quot;)));\n</code></pre>\n<p>Note that when success is likely and the benefit of running A and B in parallel rather low, you may even decide to commence B only when necessary:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Final&gt; result = futureA.thenCompose(a -&gt;\n    a.resultA.equals(&quot;G&quot;) || a.resultA.equals(&quot;H&quot;)?\n        CompletableFuture.completedFuture(new Final(&quot;success&quot;)):\n        CompletableFuture.supplyAsync(\n            () -&gt; new Final(serviceB.getAPI().resultB == 1? &quot;fail&quot;: &quot;error&quot;)));\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76488810,"answer_count":1,"score":1,"last_activity_date":1686930866,"creation_date":1686904695,"question_id":76488402,"body_markdown":"I have two APIs that return two different Results classes. We combine these two results to get a finalClass.\r\n\r\nBasically, if these Apis are run at the Same time , \r\n\r\n1) if it receives Class A first with a certain result (G,H),  it doesn&#39;t matter what class B is (we will not wait for serviceAPI B), just return Final class from table below.\r\n\r\n2) If Class A does not have a certain result, we have to wait for combine both results (A &amp; B) to get Final class. \r\n\r\n\r\nI&#39;m trying to use these stackoverflow articles, to process this. I prefer not to mark them with an interface marker class (these are legacy objects), however open to it as second option.\r\n\r\nhttps://stackoverflow.com/questions/73401286/return-the-future-that-gets-executed-first-with-a-specific-condition-on-the-resp  \r\n\r\nhttps://stackoverflow.com/questions/36612224/in-java-how-do-i-process-completablefutures-and-get-the-first-desireable-result/\r\n\r\n\r\n\r\n    public class A {\r\n       public String resultA;\r\n    }\r\n    \r\n    public class B {\r\n       public int resultB;\r\n    }\r\n\r\n    public class Final {\r\n       public String resultFinal;\r\n    }\r\n\r\n    CompletableFuture&lt;A&gt; futureA = CompletableFuture.supplyAsync(() -&gt; serviceA.getAPI());\r\n    CompletableFuture&lt;B&gt; futureB = CompletableFuture.supplyAsync(() -&gt; serviceB.getAPI());\r\n\r\n    CompletableFuture.allOf(futureA,futureB).join(); \r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nopen to making both classes a marker interface\r\n\r\n\r\n    public class A implements MarkerResponse  {\r\n    public class B implements MarkerResponse  {\r\n\r\n    public interface MarkerResponse  {}\r\n\r\n[Marker interface][1]\r\n\r\nCurrently using Spring Boot with Java 8. Context: the real service dual apis can be variable 1-5 min, so trying to do performance improvement if possible.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.javatpoint.com/marker-interface-in-java\r\n  [2]: https://i.stack.imgur.com/LzyB9.png","title":"Java Return Future that gets executed first with a specific condition, or process both","body":"<p>I have two APIs that return two different Results classes. We combine these two results to get a finalClass.</p>\n<p>Basically, if these Apis are run at the Same time ,</p>\n<ol>\n<li><p>if it receives Class A first with a certain result (G,H),  it doesn't matter what class B is (we will not wait for serviceAPI B), just return Final class from table below.</p>\n</li>\n<li><p>If Class A does not have a certain result, we have to wait for combine both results (A &amp; B) to get Final class.</p>\n</li>\n</ol>\n<p>I'm trying to use these stackoverflow articles, to process this. I prefer not to mark them with an interface marker class (these are legacy objects), however open to it as second option.</p>\n<p><a href=\"https://stackoverflow.com/questions/73401286/return-the-future-that-gets-executed-first-with-a-specific-condition-on-the-resp\">Return the future that gets executed first with a specific condition on the response</a></p>\n<p><a href=\"https://stackoverflow.com/questions/36612224/in-java-how-do-i-process-completablefutures-and-get-the-first-desireable-result/\">In java, how do I process CompletableFutures and get the first desireable result that completes?</a></p>\n<pre><code>public class A {\n   public String resultA;\n}\n\npublic class B {\n   public int resultB;\n}\n\npublic class Final {\n   public String resultFinal;\n}\n\nCompletableFuture&lt;A&gt; futureA = CompletableFuture.supplyAsync(() -&gt; serviceA.getAPI());\nCompletableFuture&lt;B&gt; futureB = CompletableFuture.supplyAsync(() -&gt; serviceB.getAPI());\n\nCompletableFuture.allOf(futureA,futureB).join(); \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LzyB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LzyB9.png\" alt=\"enter image description here\" /></a></p>\n<p>open to making both classes a marker interface</p>\n<pre><code>public class A implements MarkerResponse  {\npublic class B implements MarkerResponse  {\n\npublic interface MarkerResponse  {}\n</code></pre>\n<p><a href=\"https://www.javatpoint.com/marker-interface-in-java\" rel=\"nofollow noreferrer\">Marker interface</a></p>\n<p>Currently using Spring Boot with Java 8. Context: the real service dual apis can be variable 1-5 min, so trying to do performance improvement if possible.</p>\n"},{"tags":["java","extjs","java-9","extjs6","extjs6.5"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1518624097,"post_id":48791083,"comment_id":84584676,"body_markdown":"I try something like this https://github.com/http-kit/http-kit/issues/356#issuecomment-340307541 But I found `/Users/donhuvy/bin/Sencha/Cmd/6.5.3.6/sencha.cfg`, but I don&#39;t know how to add JVM arguments.","body":"I try something like this <a href=\"https://github.com/http-kit/http-kit/issues/356#issuecomment-340307541\" rel=\"nofollow noreferrer\">github.com/http-kit/http-kit/issues/356#issuecomment-3403075&zwnj;&#8203;41</a> But I found <code>&#47;Users&#47;donhuvy&#47;bin&#47;Sencha&#47;Cmd&#47;6.5.3.6&#47;sencha.cfg</code>, but I don&#39;t know how to add JVM arguments."},{"owner":{"account_id":551931,"reputation":4661,"user_id":916937,"accept_rate":60,"display_name":"Dinkheller"},"score":0,"creation_date":1518649679,"post_id":48791083,"comment_id":84598022,"body_markdown":"should be sencha -sdk /Users/donhuvy/Documents/Setup/Softwar/development/ExtJS/ext-6.5.3 generate app accounting_vy ./vy_sencha --modern","body":"should be sencha -sdk /Users/donhuvy/Documents/Setup/Softwar/development/ExtJS/ext&zwnj;&#8203;-6.5.3 generate app accounting_vy ./vy_sencha --modern"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1518663914,"post_id":48791083,"comment_id":84601594,"body_markdown":"It not work. I release command `sencha -sdk /Users/donhuvy/Documents/Setup/Software\\ development/ExtJS/ext-6.5.3 generate app accounting_vy accounting_vy`. Error is the same","body":"It not work. I release command <code>sencha -sdk &#47;Users&#47;donhuvy&#47;Documents&#47;Setup&#47;Software\\ development&#47;ExtJS&#47;ext-6.5.3 generate app accounting_vy accounting_vy</code>. Error is the same"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1520177357,"creation_date":1520177357,"answer_id":49096989,"question_id":48791083,"body_markdown":"The JAXB APIs (include class `javax.xml.bind.DatatypeConverter`) now belong to Java EE APIs, and it is not existing in Java SE 9.\r\n\r\nSolution: Install JDK 8, set it is default.\r\n\r\nReference: http://openjdk.java.net/jeps/320","title":"Generate ExtJS 6.5 web app: [ERR] javax/xml/bind/DatatypeConverter","body":"<p>The JAXB APIs (include class <code>javax.xml.bind.DatatypeConverter</code>) now belong to Java EE APIs, and it is not existing in Java SE 9.</p>\n\n<p>Solution: Install JDK 8, set it is default.</p>\n\n<p>Reference: <a href=\"http://openjdk.java.net/jeps/320\" rel=\"nofollow noreferrer\">http://openjdk.java.net/jeps/320</a></p>\n"},{"tags":[],"owner":{"account_id":4099698,"reputation":9,"user_id":3365568,"display_name":"ProfWrightBSU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686930755,"creation_date":1686760815,"answer_id":76475803,"question_id":48791083,"body_markdown":"I just stumbled on this post and ran into this problem some time ago. Just in case someone needs it, the solution (for Cmd 6.5.3.6 at least) wasn&#39;t to set JDK 8 as the default. The solution is to go into the sencha file and uncomment `INSTALL4J_JAVA_HOME_OVERRIDE` and set it to the java 8 JDK like this:\r\n\r\n    INSTALL4J_JAVA_HOME_OVERRIDE=/usr/lib/jvm/java-1.8.0-openjdk","title":"Generate ExtJS 6.5 web app: [ERR] javax/xml/bind/DatatypeConverter","body":"<p>I just stumbled on this post and ran into this problem some time ago. Just in case someone needs it, the solution (for Cmd 6.5.3.6 at least) wasn't to set JDK 8 as the default. The solution is to go into the sencha file and uncomment <code>INSTALL4J_JAVA_HOME_OVERRIDE</code> and set it to the java 8 JDK like this:</p>\n<pre><code>INSTALL4J_JAVA_HOME_OVERRIDE=/usr/lib/jvm/java-1.8.0-openjdk\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2197,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49096989,"answer_count":2,"score":2,"last_activity_date":1686930755,"creation_date":1518623183,"question_id":48791083,"body_markdown":"I am using Java 9.0.4, Sencha ExtJS 6.5.3.6 trial, at directory Desktop, I run command\r\n\r\n    sencha -sdk /Users/donhuvy/Documents/Setup/Software\\ development/ExtJS/ext-6.5.3  generate app --ext --modern accounting_vy ./vy_sencha\r\n\r\nI see error\r\n\r\n    Sencha Cmd v6.5.3.6\r\n    [INF] Copying framework to /Users/donhuvy/Desktop/vy_sencha/ext\r\n    [ERR] javax/xml/bind/DatatypeConverter\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow to fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8P8QP.png","title":"Generate ExtJS 6.5 web app: [ERR] javax/xml/bind/DatatypeConverter","body":"<p>I am using Java 9.0.4, Sencha ExtJS 6.5.3.6 trial, at directory Desktop, I run command</p>\n\n<pre><code>sencha -sdk /Users/donhuvy/Documents/Setup/Software\\ development/ExtJS/ext-6.5.3  generate app --ext --modern accounting_vy ./vy_sencha\n</code></pre>\n\n<p>I see error</p>\n\n<pre><code>Sencha Cmd v6.5.3.6\n[INF] Copying framework to /Users/donhuvy/Desktop/vy_sencha/ext\n[ERR] javax/xml/bind/DatatypeConverter\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8P8QP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8P8QP.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to fix it?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1684420218,"post_id":76281764,"comment_id":134517470,"body_markdown":"I assume you mean spring boot 2.7/3.0.1?  spring 3.0.1 was released was released in 2010.","body":"I assume you mean spring boot 2.7/3.0.1?  spring 3.0.1 was released was released in 2010."},{"owner":{"account_id":28628455,"reputation":21,"user_id":21919979,"display_name":"abhijit dash"},"score":0,"creation_date":1684464568,"post_id":76281764,"comment_id":134524737,"body_markdown":"currently i am using springboot 3.0.1 in which i am getting this error","body":"currently i am using springboot 3.0.1 in which i am getting this error"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1684526261,"post_id":76281764,"comment_id":134535391,"body_markdown":"spring and spring boot are not the same thing.  Try turning on sql logging and see what&#39;s getting generated, you have a lot of indirection in there, it&#39;s not clear what&#39;s going on.","body":"spring and spring boot are not the same thing.  Try turning on sql logging and see what&#39;s getting generated, you have a lot of indirection in there, it&#39;s not clear what&#39;s going on."},{"owner":{"account_id":28628455,"reputation":21,"user_id":21919979,"display_name":"abhijit dash"},"score":0,"creation_date":1684825629,"post_id":76281764,"comment_id":134569451,"body_markdown":"this is the pom.xml i am using","body":"this is the pom.xml i am using"}],"answers":[{"tags":[],"owner":{"account_id":11566574,"reputation":87,"user_id":8474661,"display_name":"Yasser Greyeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686930667,"creation_date":1686930667,"answer_id":76491798,"question_id":76281764,"body_markdown":"Check this other answer: https://stackoverflow.com/a/36109273\r\n\r\nI do not know what changed going into Spring Boot v3.0.1, but you can try attaching your `@SqlResultSetMapping` annotation to one of your `@Entity` classes in order to be detected.  I do not know why it used to work with `@MappedSuperclass` before and now it doesn&#39;t (maybe it&#39;s a bug?).\r\n\r\nIf you wanted to avoid using an entity, you can so something like:\r\n```java\r\n@SqlResultSetMapping(\r\n\t\tname = &quot;MessageDTO&quot;,\r\n\t\tclasses = @ConstructorResult(targetClass = MessageDTO.class, columns = {\r\n\t\t\t\t@ColumnResult(name = &quot;message_body&quot;, type = String.class),\r\n\t\t\t\t@ColumnResult(name = &quot;created_date&quot;, type = OffsetDateTime.class)\r\n\t\t})\r\n)\r\n@Embeddable\r\npublic static class SQLMappingConfigEntity {\r\n\t/* this dummy Embeddable class allows SqlResultSetMapping annotation to be picked up */\r\n}\r\n```\r\n\r\nIn this example, MessageDTO would be your DTO. It must have with a constructor will all arguments.","title":"Hibernate exception w.r.t mapping after migrating to 3.0.1","body":"<p>Check this other answer: <a href=\"https://stackoverflow.com/a/36109273\">https://stackoverflow.com/a/36109273</a></p>\n<p>I do not know what changed going into Spring Boot v3.0.1, but you can try attaching your <code>@SqlResultSetMapping</code> annotation to one of your <code>@Entity</code> classes in order to be detected.  I do not know why it used to work with <code>@MappedSuperclass</code> before and now it doesn't (maybe it's a bug?).</p>\n<p>If you wanted to avoid using an entity, you can so something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SqlResultSetMapping(\n        name = &quot;MessageDTO&quot;,\n        classes = @ConstructorResult(targetClass = MessageDTO.class, columns = {\n                @ColumnResult(name = &quot;message_body&quot;, type = String.class),\n                @ColumnResult(name = &quot;created_date&quot;, type = OffsetDateTime.class)\n        })\n)\n@Embeddable\npublic static class SQLMappingConfigEntity {\n    /* this dummy Embeddable class allows SqlResultSetMapping annotation to be picked up */\n}\n</code></pre>\n<p>In this example, MessageDTO would be your DTO. It must have with a constructor will all arguments.</p>\n"}],"owner":{"account_id":28628455,"reputation":21,"user_id":21919979,"display_name":"abhijit dash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686930667,"creation_date":1684419827,"question_id":76281764,"body_markdown":"Error facing..\r\n\r\n\r\n    2023-05-18T19:10:14.988+05:30 ERROR 18796 --- [nio-8082-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/cascca/bapi] threw exception [Request processing failed: jakarta.persistence.PersistenceException: Converting `org.hibernate.HibernateException` to JPA `PersistenceException` : Could not resolve specified result-set mapping name : herculesforecast] with root cause\r\n    \r\n    org.hibernate.HibernateException: Could not resolve specified result-set mapping name : herculesforecast\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:801) ~[hibernate-core-6.1.4.Final.jar:6.1.4.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:127) ~[hibernate-core-6.1.4.Final.jar:6.1.4.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.3.jar:6.0.3]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy152.createNativeQuery(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.3.jar:6.0.3]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy152.createNativeQuery(Unknown Source) ~[na:na]\r\n    \tat com.cargill.api.casc.service.jarvis.repository.JarvisRepo.getQueryResponse(JarvisRepo.java:66) ~[classes/:na]\r\n    \tat com.cargill.api.casc.service.jarvis.service.JarvisService.getResponse(JarvisService.java:94) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-6.0.8.jar:6.0.8]\r\n    \tat com.cargill.api.casc.service.jarvis.service.JarvisService$$SpringCGLIB$$0.getResponse(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.cargill.api.casc.service.jarvis.controller.MSController.getHerculesForecast(MSController.java:389) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\nCreating the native query:\r\n\r\n```\r\npackage com.cargill.api.casc.service.jarvis.repository;\r\n\r\nimport com.cargill.api.casc.service.jarvis.util.JarvisUtil;\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.Query;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n//@Primary\r\n@Component(&quot;jarvisrepo&quot;)\r\npublic class JarvisRepo {\r\n\r\n\t@Autowired\r\n\tprivate JarvisUtil jarvisUtil;\r\n\r\n\t@Autowired\r\n\t@Qualifier(value = &quot;mainEntityManager&quot;)\r\n\tprivate EntityManager em;\r\n\r\n\t@Value(&quot;#{${jarvis.whereClause.map}}&quot;)\r\n\tMap&lt;String, String&gt; whereClauseMap;\r\n\r\n\t@Value(&quot;#{${jarvis.table.map}}&quot;)\r\n\tMap&lt;String, String&gt; tableMap;\r\n\r\n\t@Value(&quot;#{${jarvis.query.map}}&quot;)\r\n\tMap&lt;String, String&gt; queryMap;\r\n\r\n\t@Value(&quot;#{${jarvis.orderBy.map}}&quot;)\r\n\tMap&lt;String, String&gt; orderByMap;\r\n\r\n\t@Value(&quot;#{${jarvis.groupBy.map}}&quot;)\r\n\tMap&lt;String, String&gt; groupByMap;\r\n\r\n\t@Value(&quot;#{${jarvis.custom.map}}&quot;)\r\n\tMap&lt;String, String&gt; customMap;\r\n\r\n\tprivate String getLimitOffsetQueryString() {\r\n\t\treturn &quot; limit :limit offset :offset&quot;;\r\n\t}\r\n\r\n\tpublic &lt;T&gt; List&lt;T&gt; getQueryResponse(Map&lt;String, Object&gt; paramMap, Integer limit, Integer offset, String baseTableName) {\r\n\r\n\t\tStringBuilder selectQuery = new StringBuilder();\r\n\t\tMap&lt;String, Object&gt; queryParamMap = new HashMap&lt;&gt;();\r\n\t\tStringBuilder whereQueryString = new StringBuilder();\r\n\t\tselectQuery.append(queryMap.get(baseTableName));\r\n\t\twhereQueryString = jarvisUtil.addWhereCaluse(paramMap, queryParamMap, whereQueryString, whereClauseMap);\r\n\t\tif(customMap.containsKey(baseTableName)) {\r\n\t\t\twhereQueryString.append(customMap.get(baseTableName));\r\n\t\t}\r\n\t\tif(groupByMap.containsKey(baseTableName)){\r\n\t\t\twhereQueryString.append(groupByMap.get(baseTableName));\r\n\t\t}\r\n\t\twhereQueryString.append(orderByMap.get(baseTableName)).append(getLimitOffsetQueryString());\r\n\t\tif (whereQueryString.length() &gt; 0) {\r\n\t\t\tselectQuery.append(&quot; WHERE &quot;);\r\n\t\t\tselectQuery.append(whereQueryString);\r\n\t\t}\r\n\t\tQuery query = em.createNativeQuery(selectQuery.toString(), baseTableName);\r\n\t\taddParamForOffsetLimit(queryParamMap, offset, limit);\r\n\t\tqueryParamMap.forEach((key, value) -&gt; {\r\n\t\t\tquery.setParameter(key, value);\r\n\t\t});\r\n\t\treturn query.getResultList();\r\n\t}\r\n\r\n\tpublic List&lt;Object[]&gt; getTableCount(Map&lt;String, Object&gt; paramMap,String table) {\r\n\t\tStringBuilder routeRateCount = new StringBuilder();\r\n\t\tMap&lt;String, Object&gt; queryParamMap = new HashMap&lt;&gt;();\r\n\t\tStringBuilder whereQueryString = new StringBuilder();\r\n\t\trouteRateCount.append(&quot;select Count(*)  from &quot;).append(tableMap.get(table));\r\n\t\twhereQueryString = jarvisUtil.addWhereCaluse(paramMap, queryParamMap, whereQueryString, whereClauseMap);\r\n\t\tif (whereQueryString.length() &gt; 0) {\r\n\t\t\trouteRateCount.append(&quot; WHERE &quot;);\r\n\t\t\trouteRateCount.append(whereQueryString);\r\n\t\t}\r\n\t\tif(customMap.containsKey(table)) {\r\n\t\t\trouteRateCount.append(customMap.get(table));\r\n\t\t}\r\n\t\tQuery query = em.createNativeQuery(routeRateCount.toString());\r\n\t\tqueryParamMap.forEach((key, value) -&gt; {\r\n\t\t\tquery.setParameter(key, value);\r\n\t\t});\r\n\t\treturn query.getResultList();\r\n\t}\r\n\r\n\r\n\tprivate Map&lt;String, Object&gt; addParamForOffsetLimit(Map&lt;String, Object&gt; map, Integer offset, Integer limit) {\r\n\t\tmap.put(&quot;limit&quot;, limit);\r\n\t\tmap.put(&quot;offset&quot;, offset);\r\n\t\treturn map;\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nAnnotation class:\r\n\r\n\r\n```\r\npackage com.cargill.api.casc.service.jarvis.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport jakarta.persistence.ColumnResult;\r\nimport jakarta.persistence.ConstructorResult;\r\nimport jakarta.persistence.MappedSuperclass;\r\nimport jakarta.persistence.SqlResultSetMapping;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@MappedSuperclass\r\n@SqlResultSetMapping(name = &quot;herculesforecast&quot;, classes = {\r\n        @ConstructorResult(targetClass = HerculesForecast.class, columns = {\r\n                @ColumnResult(name = &quot;source_system&quot;, type = String.class),\r\n                @ColumnResult(name = &quot;week&quot;, type = String.class),\r\n                @ColumnResult(name = &quot;cycle&quot;, type = String.class),\r\n                @ColumnResult(name = &quot;terminal&quot;, type = String.class),\r\n                @ColumnResult(name = &quot;corridor&quot;, type = String.class),\r\n                @ColumnResult(name = &quot;commodity&quot;, type = String.class),\r\n                @ColumnResult(name = &quot;forecast_year&quot;, type = Integer.class),\r\n                @ColumnResult(name = &quot;forecast_month&quot;, type = Integer.class),\r\n                @ColumnResult(name = &quot;first_day_of_month&quot;, type = String.class),\r\n                @ColumnResult(name = &quot;is_current_cycle&quot;, type = Integer.class),\r\n                @ColumnResult(name = &quot;capacity&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;budget_volume&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;sales_forecast&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;location_shipping_forecast&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;roll_previous_month&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;total_sold&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;total_sold_roll_in&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;shipped_in_month&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;sales_rolled_next_month&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;left_to_ship&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;unsold_allocated_capacity&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;unallocated_capacity&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;unshipped_capacity&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;previous_3_months_forecast&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;forecast_accuracy&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;total_unsold&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;total_projected_shipments&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;initial_inventory&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;total_inbounds&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;last_year_shipped_in_month&quot;, type = Double.class),\r\n                @ColumnResult(name = &quot;fiscal_year&quot;, type = String.class),\r\n\r\n        }) })\r\n\r\npublic class HerculesForecast {\r\n\r\n    @JsonProperty(&quot;source_system&quot;)\r\n    private String sourceSystem;\r\n\r\n\r\n    @JsonProperty(&quot;week&quot;)\r\n    private String week;\r\n\r\n    @JsonProperty(&quot;cycle&quot;)\r\n    private String cycle;\r\n\r\n    @JsonProperty(&quot;terminal&quot;)\r\n    private String terminal;\r\n\r\n    @JsonProperty(&quot;corridor&quot;)\r\n    private String corridor;\r\n\r\n    @JsonProperty(&quot;commodity&quot;)\r\n    private String commodity;\r\n\r\n    @JsonProperty(&quot;forecast_year&quot;)\r\n    private Integer forecastYear;\r\n\r\n    @JsonProperty(&quot;forecast_month&quot;)\r\n    private Integer forecastMonth;\r\n\r\n    @JsonProperty(&quot;first_day_of_month&quot;)\r\n    private String firstDayOfMonth;\r\n\r\n    @JsonProperty(&quot;is_current_cycle&quot;)\r\n    private Integer isCurrentCycle;\r\n\r\n    @JsonProperty(&quot;capacity&quot;)\r\n    private Double capacity;\r\n\r\n    @JsonProperty(&quot;budget_volume&quot;)\r\n    private Double budgetVolume;\r\n\r\n    @JsonProperty(&quot;sales_forecast&quot;)\r\n    private Double salesForecast;\r\n\r\n    @JsonProperty(&quot;location_shipping_forecast&quot;)\r\n    private Double locationShippingForecast;\r\n\r\n    @JsonProperty(&quot;roll_previous_month&quot;)\r\n    private Double rollPreviousMonth;\r\n\r\n    @JsonProperty(&quot;total_sold&quot;)\r\n    private Double totalSold;\r\n\r\n    @JsonProperty(&quot;total_sold_roll_in&quot;)\r\n    private Double totalSoldRollIn;\r\n\r\n    @JsonProperty(&quot;shipped_in_month&quot;)\r\n    private Double shippedInMonth;\r\n\r\n    @JsonProperty(&quot;sales_rolled_next_month&quot;)\r\n    private Double salesRolled_next_month;\r\n\r\n    @JsonProperty(&quot;left_to_ship&quot;)\r\n    private Double leftToShip;\r\n\r\n    @JsonProperty(&quot;unsold_allocated_capacity&quot;)\r\n    private Double unsoldAllocatedCapacity;\r\n\r\n    @JsonProperty(&quot;unallocated_capacity&quot;)\r\n    private Double unallocatedCapacity;\r\n\r\n    @JsonProperty(&quot;unshipped_capacity&quot;)\r\n    private Double unshippedCapacity;\r\n\r\n    @JsonProperty(&quot;previous_3_months_forecast&quot;)\r\n    private Double previous3MonthsForecast;\r\n\r\n    @JsonProperty(&quot;forecast_accuracy&quot;)\r\n    private Double forecastAccuracy;\r\n\r\n    @JsonProperty(&quot;total_unsold&quot;)\r\n    private Double totalUnsold;\r\n\r\n    @JsonProperty(&quot;total_projected_shipments&quot;)\r\n    private Double totalProjectedShipments;\r\n\r\n    @JsonProperty(&quot;initial_inventory&quot;)\r\n    private Double initialInventory;\r\n\r\n    @JsonProperty(&quot;total_inbounds&quot;)\r\n    private Double totalInbounds;\r\n\r\n    @JsonProperty(&quot;last_year_shipped_in_month&quot;)\r\n    private Double lastYearShippedInMonth;\r\n\r\n    @JsonProperty(&quot;fiscal_year&quot;)\r\n    private String fiscalYear;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nCan anybody tell me what am i doing wrong?\r\n\r\nI am receiving the data from the source and when i am trying to map using @SqlResultSetMapping, i am getting this Hibernate mapping error after migrating to 3.0.1.  Note: This was working in spring 2.7 .","title":"Hibernate exception w.r.t mapping after migrating to 3.0.1","body":"<p>Error facing..</p>\n<pre><code>2023-05-18T19:10:14.988+05:30 ERROR 18796 --- [nio-8082-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/cascca/bapi] threw exception [Request processing failed: jakarta.persistence.PersistenceException: Converting `org.hibernate.HibernateException` to JPA `PersistenceException` : Could not resolve specified result-set mapping name : herculesforecast] with root cause\n\norg.hibernate.HibernateException: Could not resolve specified result-set mapping name : herculesforecast\n    at org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:801) ~[hibernate-core-6.1.4.Final.jar:6.1.4.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:127) ~[hibernate-core-6.1.4.Final.jar:6.1.4.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.3.jar:6.0.3]\n    at jdk.proxy2/jdk.proxy2.$Proxy152.createNativeQuery(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.3.jar:6.0.3]\n    at jdk.proxy2/jdk.proxy2.$Proxy152.createNativeQuery(Unknown Source) ~[na:na]\n    at com.cargill.api.casc.service.jarvis.repository.JarvisRepo.getQueryResponse(JarvisRepo.java:66) ~[classes/:na]\n    at com.cargill.api.casc.service.jarvis.service.JarvisService.getResponse(JarvisService.java:94) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-6.0.8.jar:6.0.8]\n    at com.cargill.api.casc.service.jarvis.service.JarvisService$$SpringCGLIB$$0.getResponse(&lt;generated&gt;) ~[classes/:na]\n    at com.cargill.api.casc.service.jarvis.controller.MSController.getHerculesForecast(MSController.java:389) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Creating the native query:</p>\n<pre><code>package com.cargill.api.casc.service.jarvis.repository;\n\nimport com.cargill.api.casc.service.jarvis.util.JarvisUtil;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.Query;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n//@Primary\n@Component(&quot;jarvisrepo&quot;)\npublic class JarvisRepo {\n\n    @Autowired\n    private JarvisUtil jarvisUtil;\n\n    @Autowired\n    @Qualifier(value = &quot;mainEntityManager&quot;)\n    private EntityManager em;\n\n    @Value(&quot;#{${jarvis.whereClause.map}}&quot;)\n    Map&lt;String, String&gt; whereClauseMap;\n\n    @Value(&quot;#{${jarvis.table.map}}&quot;)\n    Map&lt;String, String&gt; tableMap;\n\n    @Value(&quot;#{${jarvis.query.map}}&quot;)\n    Map&lt;String, String&gt; queryMap;\n\n    @Value(&quot;#{${jarvis.orderBy.map}}&quot;)\n    Map&lt;String, String&gt; orderByMap;\n\n    @Value(&quot;#{${jarvis.groupBy.map}}&quot;)\n    Map&lt;String, String&gt; groupByMap;\n\n    @Value(&quot;#{${jarvis.custom.map}}&quot;)\n    Map&lt;String, String&gt; customMap;\n\n    private String getLimitOffsetQueryString() {\n        return &quot; limit :limit offset :offset&quot;;\n    }\n\n    public &lt;T&gt; List&lt;T&gt; getQueryResponse(Map&lt;String, Object&gt; paramMap, Integer limit, Integer offset, String baseTableName) {\n\n        StringBuilder selectQuery = new StringBuilder();\n        Map&lt;String, Object&gt; queryParamMap = new HashMap&lt;&gt;();\n        StringBuilder whereQueryString = new StringBuilder();\n        selectQuery.append(queryMap.get(baseTableName));\n        whereQueryString = jarvisUtil.addWhereCaluse(paramMap, queryParamMap, whereQueryString, whereClauseMap);\n        if(customMap.containsKey(baseTableName)) {\n            whereQueryString.append(customMap.get(baseTableName));\n        }\n        if(groupByMap.containsKey(baseTableName)){\n            whereQueryString.append(groupByMap.get(baseTableName));\n        }\n        whereQueryString.append(orderByMap.get(baseTableName)).append(getLimitOffsetQueryString());\n        if (whereQueryString.length() &gt; 0) {\n            selectQuery.append(&quot; WHERE &quot;);\n            selectQuery.append(whereQueryString);\n        }\n        Query query = em.createNativeQuery(selectQuery.toString(), baseTableName);\n        addParamForOffsetLimit(queryParamMap, offset, limit);\n        queryParamMap.forEach((key, value) -&gt; {\n            query.setParameter(key, value);\n        });\n        return query.getResultList();\n    }\n\n    public List&lt;Object[]&gt; getTableCount(Map&lt;String, Object&gt; paramMap,String table) {\n        StringBuilder routeRateCount = new StringBuilder();\n        Map&lt;String, Object&gt; queryParamMap = new HashMap&lt;&gt;();\n        StringBuilder whereQueryString = new StringBuilder();\n        routeRateCount.append(&quot;select Count(*)  from &quot;).append(tableMap.get(table));\n        whereQueryString = jarvisUtil.addWhereCaluse(paramMap, queryParamMap, whereQueryString, whereClauseMap);\n        if (whereQueryString.length() &gt; 0) {\n            routeRateCount.append(&quot; WHERE &quot;);\n            routeRateCount.append(whereQueryString);\n        }\n        if(customMap.containsKey(table)) {\n            routeRateCount.append(customMap.get(table));\n        }\n        Query query = em.createNativeQuery(routeRateCount.toString());\n        queryParamMap.forEach((key, value) -&gt; {\n            query.setParameter(key, value);\n        });\n        return query.getResultList();\n    }\n\n\n    private Map&lt;String, Object&gt; addParamForOffsetLimit(Map&lt;String, Object&gt; map, Integer offset, Integer limit) {\n        map.put(&quot;limit&quot;, limit);\n        map.put(&quot;offset&quot;, offset);\n        return map;\n    }\n\n\n}\n\n\n</code></pre>\n<p>Annotation class:</p>\n<pre><code>package com.cargill.api.casc.service.jarvis.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.persistence.ColumnResult;\nimport jakarta.persistence.ConstructorResult;\nimport jakarta.persistence.MappedSuperclass;\nimport jakarta.persistence.SqlResultSetMapping;\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@MappedSuperclass\n@SqlResultSetMapping(name = &quot;herculesforecast&quot;, classes = {\n        @ConstructorResult(targetClass = HerculesForecast.class, columns = {\n                @ColumnResult(name = &quot;source_system&quot;, type = String.class),\n                @ColumnResult(name = &quot;week&quot;, type = String.class),\n                @ColumnResult(name = &quot;cycle&quot;, type = String.class),\n                @ColumnResult(name = &quot;terminal&quot;, type = String.class),\n                @ColumnResult(name = &quot;corridor&quot;, type = String.class),\n                @ColumnResult(name = &quot;commodity&quot;, type = String.class),\n                @ColumnResult(name = &quot;forecast_year&quot;, type = Integer.class),\n                @ColumnResult(name = &quot;forecast_month&quot;, type = Integer.class),\n                @ColumnResult(name = &quot;first_day_of_month&quot;, type = String.class),\n                @ColumnResult(name = &quot;is_current_cycle&quot;, type = Integer.class),\n                @ColumnResult(name = &quot;capacity&quot;, type = Double.class),\n                @ColumnResult(name = &quot;budget_volume&quot;, type = Double.class),\n                @ColumnResult(name = &quot;sales_forecast&quot;, type = Double.class),\n                @ColumnResult(name = &quot;location_shipping_forecast&quot;, type = Double.class),\n                @ColumnResult(name = &quot;roll_previous_month&quot;, type = Double.class),\n                @ColumnResult(name = &quot;total_sold&quot;, type = Double.class),\n                @ColumnResult(name = &quot;total_sold_roll_in&quot;, type = Double.class),\n                @ColumnResult(name = &quot;shipped_in_month&quot;, type = Double.class),\n                @ColumnResult(name = &quot;sales_rolled_next_month&quot;, type = Double.class),\n                @ColumnResult(name = &quot;left_to_ship&quot;, type = Double.class),\n                @ColumnResult(name = &quot;unsold_allocated_capacity&quot;, type = Double.class),\n                @ColumnResult(name = &quot;unallocated_capacity&quot;, type = Double.class),\n                @ColumnResult(name = &quot;unshipped_capacity&quot;, type = Double.class),\n                @ColumnResult(name = &quot;previous_3_months_forecast&quot;, type = Double.class),\n                @ColumnResult(name = &quot;forecast_accuracy&quot;, type = Double.class),\n                @ColumnResult(name = &quot;total_unsold&quot;, type = Double.class),\n                @ColumnResult(name = &quot;total_projected_shipments&quot;, type = Double.class),\n                @ColumnResult(name = &quot;initial_inventory&quot;, type = Double.class),\n                @ColumnResult(name = &quot;total_inbounds&quot;, type = Double.class),\n                @ColumnResult(name = &quot;last_year_shipped_in_month&quot;, type = Double.class),\n                @ColumnResult(name = &quot;fiscal_year&quot;, type = String.class),\n\n        }) })\n\npublic class HerculesForecast {\n\n    @JsonProperty(&quot;source_system&quot;)\n    private String sourceSystem;\n\n\n    @JsonProperty(&quot;week&quot;)\n    private String week;\n\n    @JsonProperty(&quot;cycle&quot;)\n    private String cycle;\n\n    @JsonProperty(&quot;terminal&quot;)\n    private String terminal;\n\n    @JsonProperty(&quot;corridor&quot;)\n    private String corridor;\n\n    @JsonProperty(&quot;commodity&quot;)\n    private String commodity;\n\n    @JsonProperty(&quot;forecast_year&quot;)\n    private Integer forecastYear;\n\n    @JsonProperty(&quot;forecast_month&quot;)\n    private Integer forecastMonth;\n\n    @JsonProperty(&quot;first_day_of_month&quot;)\n    private String firstDayOfMonth;\n\n    @JsonProperty(&quot;is_current_cycle&quot;)\n    private Integer isCurrentCycle;\n\n    @JsonProperty(&quot;capacity&quot;)\n    private Double capacity;\n\n    @JsonProperty(&quot;budget_volume&quot;)\n    private Double budgetVolume;\n\n    @JsonProperty(&quot;sales_forecast&quot;)\n    private Double salesForecast;\n\n    @JsonProperty(&quot;location_shipping_forecast&quot;)\n    private Double locationShippingForecast;\n\n    @JsonProperty(&quot;roll_previous_month&quot;)\n    private Double rollPreviousMonth;\n\n    @JsonProperty(&quot;total_sold&quot;)\n    private Double totalSold;\n\n    @JsonProperty(&quot;total_sold_roll_in&quot;)\n    private Double totalSoldRollIn;\n\n    @JsonProperty(&quot;shipped_in_month&quot;)\n    private Double shippedInMonth;\n\n    @JsonProperty(&quot;sales_rolled_next_month&quot;)\n    private Double salesRolled_next_month;\n\n    @JsonProperty(&quot;left_to_ship&quot;)\n    private Double leftToShip;\n\n    @JsonProperty(&quot;unsold_allocated_capacity&quot;)\n    private Double unsoldAllocatedCapacity;\n\n    @JsonProperty(&quot;unallocated_capacity&quot;)\n    private Double unallocatedCapacity;\n\n    @JsonProperty(&quot;unshipped_capacity&quot;)\n    private Double unshippedCapacity;\n\n    @JsonProperty(&quot;previous_3_months_forecast&quot;)\n    private Double previous3MonthsForecast;\n\n    @JsonProperty(&quot;forecast_accuracy&quot;)\n    private Double forecastAccuracy;\n\n    @JsonProperty(&quot;total_unsold&quot;)\n    private Double totalUnsold;\n\n    @JsonProperty(&quot;total_projected_shipments&quot;)\n    private Double totalProjectedShipments;\n\n    @JsonProperty(&quot;initial_inventory&quot;)\n    private Double initialInventory;\n\n    @JsonProperty(&quot;total_inbounds&quot;)\n    private Double totalInbounds;\n\n    @JsonProperty(&quot;last_year_shipped_in_month&quot;)\n    private Double lastYearShippedInMonth;\n\n    @JsonProperty(&quot;fiscal_year&quot;)\n    private String fiscalYear;\n\n\n}\n\n</code></pre>\n<p>Can anybody tell me what am i doing wrong?</p>\n<p>I am receiving the data from the source and when i am trying to map using @SqlResultSetMapping, i am getting this Hibernate mapping error after migrating to 3.0.1.  Note: This was working in spring 2.7 .</p>\n"},{"tags":["java","intellij-idea","uml","class-diagram"],"answers":[{"comments":[{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":4,"creation_date":1474343445,"post_id":8942902,"comment_id":66480525,"body_markdown":"Does this mean there&#39;s no plugins available for community version to generate class diagram, now and in the future?","body":"Does this mean there&#39;s no plugins available for community version to generate class diagram, now and in the future?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1474416598,"post_id":8942902,"comment_id":66519469,"body_markdown":"@BruceSun not at the moment","body":"@BruceSun not at the moment"},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":5,"creation_date":1482354217,"post_id":8942902,"comment_id":69745006,"body_markdown":"@CrazyCoder How do you use this to view a UML diagram for a class and it&#39;s edges, .. i am thinking find my nodes, dept 3 ... or all ... right now its pretty useless. it only shows class hiearchies, not what object it uses, and what those object in turn uses. This uml plugin is not useful.","body":"@CrazyCoder How do you use this to view a UML diagram for a class and it&#39;s edges, .. i am thinking find my nodes, dept 3 ... or all ... right now its pretty useless. it only shows class hiearchies, not what object it uses, and what those object in turn uses. This uml plugin is not useful."},{"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"score":0,"creation_date":1533316204,"post_id":8942902,"comment_id":90317729,"body_markdown":"Link down :-( could you fix it please?","body":"Link down :-( could you fix it please?"},{"owner":{"account_id":1008298,"reputation":1777,"user_id":1021423,"accept_rate":78,"display_name":"gfytd"},"score":0,"creation_date":1677294325,"post_id":8942902,"comment_id":133314865,"body_markdown":"Upvote for the &#39;Note&#39; part.","body":"Upvote for the &#39;Note&#39; part."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":5,"down_vote_count":1,"up_vote_count":197,"is_accepted":true,"score":196,"last_activity_date":1610693291,"creation_date":1327069781,"answer_id":8942902,"question_id":8942751,"body_markdown":"Use `Diagrams` | `Show Diagram...` from the context menu of a package. Invoking it on the project root will show module dependencies diagram.\r\n\r\nIf you need multiple packages, you can drag &amp; drop them to the already opened diagram for the first package and press &lt;kbd&gt;e&lt;/kbd&gt; to expand it.\r\n\r\n  [1]: http://www.screenr.com/JSas\r\n\r\n**Note**: This feature is available in the Ultimate Edition, not the free Community Edition.","title":"Use IntelliJ to generate class diagram","body":"<p>Use <code>Diagrams</code> | <code>Show Diagram...</code> from the context menu of a package. Invoking it on the project root will show module dependencies diagram.</p>\n<p>If you need multiple packages, you can drag &amp; drop them to the already opened diagram for the first package and press <kbd>e</kbd> to expand it.</p>\n<p><strong>Note</strong>: This feature is available in the Ultimate Edition, not the free Community Edition.</p>\n"},{"tags":[],"owner":{"account_id":1186336,"reputation":237,"user_id":1160223,"display_name":"Mark van Venrooij"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1415955261,"creation_date":1327069882,"answer_id":8942921,"question_id":8942751,"body_markdown":"Try &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;U&lt;/kbd&gt;\r\n\r\nAlso check if the UML plugin is activated (settings -&gt; plugin, settings can be opened by &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;","title":"Use IntelliJ to generate class diagram","body":"<p>Try <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>U</kbd></p>\n\n<p>Also check if the UML plugin is activated (settings -> plugin, settings can be opened by <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd></p>\n"},{"comments":[{"owner":{"account_id":1928886,"reputation":1297,"user_id":1738733,"accept_rate":89,"display_name":"Ectoras"},"score":3,"creation_date":1452700940,"post_id":26926334,"comment_id":57287550,"body_markdown":"Hi guys, I am using Intellij 15.0.2 and I want to view class diagram of my project, however I can not see the selection Diagrams/Show Diagram when I right click in a package or a class. Can anyone help me?","body":"Hi guys, I am using Intellij 15.0.2 and I want to view class diagram of my project, however I can not see the selection Diagrams/Show Diagram when I right click in a package or a class. Can anyone help me?"},{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":4,"creation_date":1452728344,"post_id":26926334,"comment_id":57303267,"body_markdown":"@Ectoras , I suppose that you use Community Edition, not Ultimate. It is not available for Community Edition (see the P.S.: added in the post). I tested it in IntelliJ IDEA 15.0.2 Ultimate and it worked.","body":"@Ectoras , I suppose that you use Community Edition, not Ultimate. It is not available for Community Edition (see the P.S.: added in the post). I tested it in IntelliJ IDEA 15.0.2 Ultimate and it worked."}],"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"comment_count":2,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1525778256,"creation_date":1415955854,"answer_id":26926334,"question_id":8942751,"body_markdown":"**IntelliJ IDEA 14+**\r\n\r\n* Show diagram popup\r\n\r\n **Right click on a type/class/package &gt; Diagrams &gt; Show Diagram Popup...**  \r\n or \r\n &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;U&lt;/kbd&gt;\r\n\r\n* Show diagram (opens a new tab) \r\n\r\n **Right click on a type/class/package &gt; Diagrams &gt; Show Diagram...**  \r\n or \r\n &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;U&lt;/kbd&gt;\r\n\r\n ![right click Diagrams Show Diagram][1]\r\n\r\nBy default, you see only the classes/interfaces names. If you want to see more details, go to **File &gt; Settings... &gt; Tools &gt; Diagrams** and check what you want (E.g.: Fields, Methods, etc.)\r\n\r\n---\r\n\r\n**P.S.:** You need IntelliJ IDEA Ultimate, because this feature is not supported in Community Edition. If you go to File &gt; Settings... &gt; Plugins, you can see that there is not UML Support plugin in Community Edition.\r\n\r\n  [1]: http://i.stack.imgur.com/CjNLu.png","title":"Use IntelliJ to generate class diagram","body":"<p><strong>IntelliJ IDEA 14+</strong></p>\n\n<ul>\n<li><p>Show diagram popup</p>\n\n<p><strong>Right click on a type/class/package > Diagrams > Show Diagram Popup...</strong><br>\nor \n<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>U</kbd></p></li>\n<li><p>Show diagram (opens a new tab) </p>\n\n<p><strong>Right click on a type/class/package > Diagrams > Show Diagram...</strong><br>\nor \n<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>U</kbd></p>\n\n<p><img src=\"https://i.stack.imgur.com/CjNLu.png\" alt=\"right click Diagrams Show Diagram\"></p></li>\n</ul>\n\n<p>By default, you see only the classes/interfaces names. If you want to see more details, go to <strong>File > Settings... > Tools > Diagrams</strong> and check what you want (E.g.: Fields, Methods, etc.)</p>\n\n<hr>\n\n<p><strong>P.S.:</strong> You need IntelliJ IDEA Ultimate, because this feature is not supported in Community Edition. If you go to File > Settings... > Plugins, you can see that there is not UML Support plugin in Community Edition.</p>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":2,"creation_date":1570540902,"post_id":40304182,"comment_id":102939162,"body_markdown":"`Code Iris` just stops my project to launch. Community version 2019.1.","body":"<code>Code Iris</code> just stops my project to launch. Community version 2019.1."},{"owner":{"account_id":6637184,"reputation":7560,"user_id":5124009,"accept_rate":100,"display_name":"Kas Elvirov"},"score":0,"creation_date":1570556109,"post_id":40304182,"comment_id":102947069,"body_markdown":"@WesternGun i&#39;m not surprised man. This tool with 3 stars rating...","body":"@WesternGun i&#39;m not surprised man. This tool with 3 stars rating..."},{"owner":{"account_id":12412825,"reputation":91,"user_id":9044051,"display_name":"subject-q"},"score":0,"creation_date":1593406902,"post_id":40304182,"comment_id":110758972,"body_markdown":"I installed PlantUML plugin, but do not know how to get started and use it. Please add that also","body":"I installed PlantUML plugin, but do not know how to get started and use it. Please add that also"},{"owner":{"account_id":2663773,"reputation":483,"user_id":2302822,"accept_rate":25,"display_name":"Dwarakesh Pallagolla"},"score":0,"creation_date":1600591379,"post_id":40304182,"comment_id":113131151,"body_markdown":"looks like PlantUML is used to create class diagrams? I did not see any use case/instructions online where it can be used to generate class diagrams automatically.","body":"looks like PlantUML is used to create class diagrams? I did not see any use case/instructions online where it can be used to generate class diagrams automatically."}],"tags":[],"owner":{"account_id":6637184,"reputation":7560,"user_id":5124009,"accept_rate":100,"display_name":"Kas Elvirov"},"comment_count":4,"down_vote_count":1,"up_vote_count":66,"is_accepted":false,"score":65,"last_activity_date":1477654360,"creation_date":1477654360,"answer_id":40304182,"question_id":8942751,"body_markdown":"You can install one of the free pugins - [Code Iris][1].\r\n[![enter image description here][2]][2]\r\n\r\n&lt;br&gt;\r\n\r\n[PlantUML][3]&lt;br&gt;\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nOther tools of this type in the IntelliJ IDEA are paid.\r\n&lt;hr&gt;\r\nI chose a more powerful alternative: &lt;br&gt;\r\nIn Netbeans - [easyUML][5]&lt;br&gt;\r\nIn Eclipse - [ObjectAid][6], [Papyrus][7], [Eclipse Modeling Tools][8]\r\n\r\n[![enter image description here][9]][9]\r\n\r\n&lt;br&gt;\r\nI hope it will help you.\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7324?pr=idea\r\n  [2]: http://i.stack.imgur.com/GYGWR.png\r\n  [3]: http://plantuml.com/\r\n  [4]: http://i.stack.imgur.com/LuayD.png\r\n  [5]: http://plugins.netbeans.org/plugin/55435/easyuml\r\n  [6]: http://www.objectaid.com/\r\n  [7]: https://eclipse.org/papyrus/\r\n  [8]: http://www.eclipse.org/downloads/packages/eclipse-modeling-tools/lunasr1a\r\n  [9]: http://i.stack.imgur.com/AW0vK.png","title":"Use IntelliJ to generate class diagram","body":"<p>You can install one of the free pugins - <a href=\"https://plugins.jetbrains.com/plugin/7324?pr=idea\" rel=\"noreferrer\">Code Iris</a>.\n<a href=\"https://i.stack.imgur.com/GYGWR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GYGWR.png\" alt=\"enter image description here\"></a></p>\n\n<p><br></p>\n\n<p><a href=\"http://plantuml.com/\" rel=\"noreferrer\">PlantUML</a><br></p>\n\n<p><a href=\"https://i.stack.imgur.com/LuayD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LuayD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Other tools of this type in the IntelliJ IDEA are paid.\n<hr>\nI chose a more powerful alternative: <br>\nIn Netbeans - <a href=\"http://plugins.netbeans.org/plugin/55435/easyuml\" rel=\"noreferrer\">easyUML</a><br>\nIn Eclipse - <a href=\"http://www.objectaid.com/\" rel=\"noreferrer\">ObjectAid</a>, <a href=\"https://eclipse.org/papyrus/\" rel=\"noreferrer\">Papyrus</a>, <a href=\"http://www.eclipse.org/downloads/packages/eclipse-modeling-tools/lunasr1a\" rel=\"noreferrer\">Eclipse Modeling Tools</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/AW0vK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AW0vK.png\" alt=\"enter image description here\"></a></p>\n\n<p><br>\nI hope it will help you.</p>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":2,"creation_date":1570543456,"post_id":55166275,"comment_id":102940709,"body_markdown":"...which needs PlantUML plugin to visualize the diagram. With Community version 2019.1 it works, after installing Graphviz and adding `bin` to PATH. Windows 10. But, it only renders relationship in each package, not in the whole projects, thing that I expected, but thanks anyway.","body":"...which needs PlantUML plugin to visualize the diagram. With Community version 2019.1 it works, after installing Graphviz and adding <code>bin</code> to PATH. Windows 10. But, it only renders relationship in each package, not in the whole projects, thing that I expected, but thanks anyway."},{"owner":{"account_id":1274104,"reputation":129,"user_id":1229709,"accept_rate":0,"display_name":"alen"},"score":0,"creation_date":1651211006,"post_id":55166275,"comment_id":127314407,"body_markdown":"sketch It is an amazing tool :》thanks","body":"sketch It is an amazing tool :》thanks"},{"owner":{"account_id":13973752,"reputation":98,"user_id":10091625,"display_name":"Shubham"},"score":0,"creation_date":1697024037,"post_id":55166275,"comment_id":136226739,"body_markdown":"@alen, I tried using Sketch It, but the plugin throws an error. How did you get it working?","body":"@alen, I tried using Sketch It, but the plugin throws an error. How did you get it working?"}],"tags":[],"owner":{"account_id":3144321,"reputation":181,"user_id":2659100,"display_name":"Rohit Bansod"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1552577093,"creation_date":1552577093,"answer_id":55166275,"question_id":8942751,"body_markdown":"Use Intellij plugin [Sketch It!][1].\r\n\r\n\r\n[![Class Diagram generated with Sketch It! plugin][2]][2]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10387-sketch-it-\r\n  [2]: https://i.stack.imgur.com/QG17l.jpg","title":"Use IntelliJ to generate class diagram","body":"<p>Use Intellij plugin <a href=\"https://plugins.jetbrains.com/plugin/10387-sketch-it-\" rel=\"noreferrer\">Sketch It!</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QG17l.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QG17l.jpg\" alt=\"Class Diagram generated with Sketch It! plugin\"></a></p>\n"},{"tags":[],"owner":{"account_id":6931275,"reputation":830,"user_id":5320704,"display_name":"Zhi Yuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571658412,"creation_date":1571658412,"answer_id":58485669,"question_id":8942751,"body_markdown":"Now there is an official way to add &quot;**[PlantUML integration][1]**&quot; plugin to your JetBrains product.\r\n\r\nInstallation steps please refer:\r\nhttps://stackoverflow.com/a/53387418/5320704\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7017-plantuml-integration","title":"Use IntelliJ to generate class diagram","body":"<p>Now there is an official way to add \"<strong><a href=\"https://plugins.jetbrains.com/plugin/7017-plantuml-integration\" rel=\"nofollow noreferrer\">PlantUML integration</a></strong>\" plugin to your JetBrains product.</p>\n\n<p>Installation steps please refer:\n<a href=\"https://stackoverflow.com/a/53387418/5320704\">https://stackoverflow.com/a/53387418/5320704</a></p>\n"},{"tags":[],"owner":{"account_id":27307863,"reputation":1,"user_id":20823532,"display_name":"Halil AKG&#220;N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686930521,"creation_date":1686930521,"answer_id":76491784,"question_id":8942751,"body_markdown":"this plugin is really good: [Sketch It!.][1]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10387-sketch-it-","title":"Use IntelliJ to generate class diagram","body":"<p>this plugin is really good: <a href=\"https://plugins.jetbrains.com/plugin/10387-sketch-it-\" rel=\"nofollow noreferrer\">Sketch It!.</a></p>\n"}],"owner":{"account_id":558012,"reputation":6340,"user_id":920599,"accept_rate":58,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287236,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":8942902,"answer_count":7,"score":144,"last_activity_date":1686930521,"creation_date":1327069155,"question_id":8942751,"body_markdown":"How do I get IntelliJ 10.5 (on the Mac) to generate a class diagram showing all of the classes in my project?  I&#39;m sure I&#39;m overlooking something obvious, but I can only get the &quot;Show Diagram&quot; feature to show one class at a time.  (I also figured out how to add additional classes, but again, only one at a time.)\r\n","title":"Use IntelliJ to generate class diagram","body":"<p>How do I get IntelliJ 10.5 (on the Mac) to generate a class diagram showing all of the classes in my project?  I'm sure I'm overlooking something obvious, but I can only get the \"Show Diagram\" feature to show one class at a time.  (I also figured out how to add additional classes, but again, only one at a time.)</p>\n"},{"tags":["java","temporal-workflow"],"comments":[{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1669756266,"post_id":74617704,"comment_id":131714301,"body_markdown":"Which version of Java are you using in command line? Can you please provide the complete output of `java -version`","body":"Which version of Java are you using in command line? Can you please provide the complete output of <code>java -version</code>"},{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1669756472,"post_id":74617704,"comment_id":131714352,"body_markdown":"Also, how do you specify your Temporal server host to your worker configuration? That&#39;s probably in RefundStatusSyncSaga.java... Could it be that your code expect an environment variable that is set in your IDE but not in your command line?","body":"Also, how do you specify your Temporal server host to your worker configuration? That&#39;s probably in RefundStatusSyncSaga.java... Could it be that your code expect an environment variable that is set in your IDE but not in your command line?"},{"owner":{"account_id":4622527,"reputation":371,"user_id":3747182,"accept_rate":25,"display_name":"user3747182"},"score":0,"creation_date":1669790709,"post_id":74617704,"comment_id":131720480,"body_markdown":"@James - Thanks for your reply. I have put the code snippet for &#39;RefundStatusSyncSaga&#39; and also pushed the full code to git for your reference.","body":"@James - Thanks for your reply. I have put the code snippet for &#39;RefundStatusSyncSaga&#39; and also pushed the full code to git for your reference."}],"answers":[{"tags":[],"owner":{"account_id":15136255,"reputation":11,"user_id":10922681,"display_name":"Xing Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669810599,"creation_date":1669797542,"answer_id":74624894,"question_id":74617704,"body_markdown":"I also come across this and I dig into the jar debugging. I found that in this check `public static InetSocketAddress checkAddress(SocketAddress sa)`, the SocketAddress will become `/xxx:443`(my original addr is xxx:443). Then the validation check failed... I still don&#39;t know how to solve it. \r\n\r\n**update**: one solution could be found here https://community.temporal.io/t/unable-to-run-temporal-workflow-from-jar/6607","title":"Unable to run temporal workflow from terminal","body":"<p>I also come across this and I dig into the jar debugging. I found that in this check <code>public static InetSocketAddress checkAddress(SocketAddress sa)</code>, the SocketAddress will become <code>/xxx:443</code>(my original addr is xxx:443). Then the validation check failed... I still don't know how to solve it.</p>\n<p><strong>update</strong>: one solution could be found here <a href=\"https://community.temporal.io/t/unable-to-run-temporal-workflow-from-jar/6607\" rel=\"nofollow noreferrer\">https://community.temporal.io/t/unable-to-run-temporal-workflow-from-jar/6607</a></p>\n"}],"owner":{"account_id":4622527,"reputation":371,"user_id":3747182,"accept_rate":25,"display_name":"user3747182"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686930520,"creation_date":1669741719,"question_id":74617704,"body_markdown":"I am using temporal for running workflows.  I have created a jar with my app. and running the below cmd from terminal `java -jar build/libs/app-0.0.1-SNAPSHOT.jar`\r\n\r\nGetting the below error when trying to run the above cmd:-\r\n\r\n    Exception in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNKNOWN\r\n            at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\n            at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\n            at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\n            at io.temporal.api.workflowservice.v1.WorkflowServiceGrpc$WorkflowServiceBlockingStub.getSystemInfo(WorkflowServiceGrpc.java:4139)\r\n            at io.temporal.serviceclient.SystemInfoInterceptor.getServerCapabilitiesOrThrow(SystemInfoInterceptor.java:95)\r\n            at io.temporal.serviceclient.ChannelManager.lambda$getServerCapabilities$3(ChannelManager.java:330)\r\n            at io.temporal.internal.retryer.GrpcRetryer.retryWithResult(GrpcRetryer.java:60)\r\n            at io.temporal.serviceclient.ChannelManager.connect(ChannelManager.java:297)\r\n            at io.temporal.serviceclient.WorkflowServiceStubsImpl.connect(WorkflowServiceStubsImpl.java:161)\r\n            at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n            at io.temporal.internal.WorkflowThreadMarker.lambda$protectFromWorkflowThread$1(WorkflowThreadMarker.java:83)\r\n            at jdk.proxy1/jdk.proxy1.$Proxy0.connect(Unknown Source)\r\n            at io.temporal.worker.WorkerFactory.start(WorkerFactory.java:210)\r\n            at com.hok.furlenco.workflow.refundStatusSync.RefundStatusSyncSaga.createWorkFlow(RefundStatusSyncSaga.java:41)\r\n            at com.hok.furlenco.workflow.refundStatusSync.RefundStatusSyncSaga.main(RefundStatusSyncSaga.java:17)\r\n    Caused by: java.nio.channels.UnsupportedAddressTypeException\r\n            at java.base/sun.nio.ch.Net.checkAddress(Net.java:146)\r\n            at java.base/sun.nio.ch.Net.checkAddress(Net.java:157)\r\n            at java.base/sun.nio.ch.SocketChannelImpl.checkRemote(SocketChannelImpl.java:816)\r\n            at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:839)\r\n            at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91)\r\n            at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n            at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88)\r\n            at io.grpc.netty.shaded.io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:322)\r\n            at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248)\r\n            at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n            at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\r\n            at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n            at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n            at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nThe app works fine when trying to run it from IDE:-\r\nThe temporal server is running as a docker container in my local:-\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n**\r\n\r\n - RefundStatusSyncSaga.java\r\n\r\n**\r\n\r\n    / gRPC stubs wrapper that talks to the local docker instance of temporal service.\r\n        WorkflowServiceStubs service = WorkflowServiceStubs.newLocalServiceStubs();\r\n        // client that can be used to start and signal workflows\r\n        WorkflowClient client = WorkflowClient.newInstance(service);\r\n    \r\n        // worker factory that can be used to create workers for specific task queues\r\n        WorkerFactory factory = WorkerFactory.newInstance(client);\r\n    \r\n        // Worker that listens on a task queue and hosts both workflow and activity implementations.\r\n        Worker worker = factory.newWorker(TASK_QUEUE);\r\n    \r\n        // Workflows are stateful. So you need a type to create instances.\r\n        worker.registerWorkflowImplementationTypes(RefundSyncWorkflowImpl.class);\r\n    \r\n        // Activities are stateless and thread safe. So a shared instance is used.\r\n        RefundStatusActivities tripBookingActivities = new RefundStatusActivitiesImpl();\r\n        worker.registerActivitiesImplementations(tripBookingActivities);\r\n    \r\n        // Start all workers created by this factory.\r\n        factory.start();\r\n        System.out.println(&quot;Worker started for task queue: &quot; + TASK_QUEUE);\r\n    \r\n        // now we can start running instances of our saga - its state will be persisted\r\n        WorkflowOptions options = WorkflowOptions.newBuilder().setTaskQueue(TASK_QUEUE)\r\n                .setWorkflowId(&quot;1&quot;)\r\n                .setWorkflowIdReusePolicy( WorkflowIdReusePolicy.WORKFLOW_ID_REUSE_POLICY_REJECT_DUPLICATE)\r\n                .setCronSchedule(&quot;* * * * *&quot;)\r\n                .build();\r\n        RefundSyncWorkflow refundSyncWorkflow = client.newWorkflowStub(RefundSyncWorkflow.class, options);\r\n        refundSyncWorkflow.syncRefundStatus();\r\n\r\nThe complete code can be seen here -&gt; [https://github.com/iftekharkhan09/temporal-sample][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ddIM.png\r\n  [2]: https://github.com/iftekharkhan09/temporal-sample","title":"Unable to run temporal workflow from terminal","body":"<p>I am using temporal for running workflows.  I have created a jar with my app. and running the below cmd from terminal <code>java -jar build/libs/app-0.0.1-SNAPSHOT.jar</code></p>\n<p>Getting the below error when trying to run the above cmd:-</p>\n<pre><code>Exception in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNKNOWN\n        at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\n        at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\n        at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\n        at io.temporal.api.workflowservice.v1.WorkflowServiceGrpc$WorkflowServiceBlockingStub.getSystemInfo(WorkflowServiceGrpc.java:4139)\n        at io.temporal.serviceclient.SystemInfoInterceptor.getServerCapabilitiesOrThrow(SystemInfoInterceptor.java:95)\n        at io.temporal.serviceclient.ChannelManager.lambda$getServerCapabilities$3(ChannelManager.java:330)\n        at io.temporal.internal.retryer.GrpcRetryer.retryWithResult(GrpcRetryer.java:60)\n        at io.temporal.serviceclient.ChannelManager.connect(ChannelManager.java:297)\n        at io.temporal.serviceclient.WorkflowServiceStubsImpl.connect(WorkflowServiceStubsImpl.java:161)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at io.temporal.internal.WorkflowThreadMarker.lambda$protectFromWorkflowThread$1(WorkflowThreadMarker.java:83)\n        at jdk.proxy1/jdk.proxy1.$Proxy0.connect(Unknown Source)\n        at io.temporal.worker.WorkerFactory.start(WorkerFactory.java:210)\n        at com.hok.furlenco.workflow.refundStatusSync.RefundStatusSyncSaga.createWorkFlow(RefundStatusSyncSaga.java:41)\n        at com.hok.furlenco.workflow.refundStatusSync.RefundStatusSyncSaga.main(RefundStatusSyncSaga.java:17)\nCaused by: java.nio.channels.UnsupportedAddressTypeException\n        at java.base/sun.nio.ch.Net.checkAddress(Net.java:146)\n        at java.base/sun.nio.ch.Net.checkAddress(Net.java:157)\n        at java.base/sun.nio.ch.SocketChannelImpl.checkRemote(SocketChannelImpl.java:816)\n        at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:839)\n        at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91)\n        at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n        at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88)\n        at io.grpc.netty.shaded.io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:322)\n        at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248)\n        at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\n        at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\n        at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The app works fine when trying to run it from IDE:-\nThe temporal server is running as a docker container in my local:-</p>\n<p><a href=\"https://i.stack.imgur.com/6ddIM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ddIM.png\" alt=\"enter image description here\" /></a></p>\n<p>**</p>\n<ul>\n<li>RefundStatusSyncSaga.java</li>\n</ul>\n<p>**</p>\n<pre><code>/ gRPC stubs wrapper that talks to the local docker instance of temporal service.\n    WorkflowServiceStubs service = WorkflowServiceStubs.newLocalServiceStubs();\n    // client that can be used to start and signal workflows\n    WorkflowClient client = WorkflowClient.newInstance(service);\n\n    // worker factory that can be used to create workers for specific task queues\n    WorkerFactory factory = WorkerFactory.newInstance(client);\n\n    // Worker that listens on a task queue and hosts both workflow and activity implementations.\n    Worker worker = factory.newWorker(TASK_QUEUE);\n\n    // Workflows are stateful. So you need a type to create instances.\n    worker.registerWorkflowImplementationTypes(RefundSyncWorkflowImpl.class);\n\n    // Activities are stateless and thread safe. So a shared instance is used.\n    RefundStatusActivities tripBookingActivities = new RefundStatusActivitiesImpl();\n    worker.registerActivitiesImplementations(tripBookingActivities);\n\n    // Start all workers created by this factory.\n    factory.start();\n    System.out.println(&quot;Worker started for task queue: &quot; + TASK_QUEUE);\n\n    // now we can start running instances of our saga - its state will be persisted\n    WorkflowOptions options = WorkflowOptions.newBuilder().setTaskQueue(TASK_QUEUE)\n            .setWorkflowId(&quot;1&quot;)\n            .setWorkflowIdReusePolicy( WorkflowIdReusePolicy.WORKFLOW_ID_REUSE_POLICY_REJECT_DUPLICATE)\n            .setCronSchedule(&quot;* * * * *&quot;)\n            .build();\n    RefundSyncWorkflow refundSyncWorkflow = client.newWorkflowStub(RefundSyncWorkflow.class, options);\n    refundSyncWorkflow.syncRefundStatus();\n</code></pre>\n<p>The complete code can be seen here -&gt; <a href=\"https://github.com/iftekharkhan09/temporal-sample\" rel=\"nofollow noreferrer\">https://github.com/iftekharkhan09/temporal-sample</a></p>\n"},{"tags":["java","operator-precedence"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686815959,"post_id":76480303,"comment_id":134852032,"body_markdown":"If poorly formatted code gives you an error you don&#39;t understand, the first step is to improve the formatting. That usually helps you in understanding the error.","body":"If poorly formatted code gives you an error you don&#39;t understand, the first step is to improve the formatting. That usually helps you in understanding the error."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686815995,"post_id":76480303,"comment_id":134852040,"body_markdown":"so, you get an error... why not reading the error message?","body":"so, you get an error... why not reading the error message?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686816251,"post_id":76480303,"comment_id":134852074,"body_markdown":"apply some spaces, and use &#39;;&#39; instead of &#39;:&#39; will solve quite a few of your problems I&#39;m guessing","body":"apply some spaces, and use &#39;;&#39; instead of &#39;:&#39; will solve quite a few of your problems I&#39;m guessing"},{"owner":{"account_id":25529655,"reputation":5,"user_id":19317935,"display_name":"Jayveer Mall"},"score":0,"creation_date":1686816707,"post_id":76480303,"comment_id":134852141,"body_markdown":"it is giving me the operator error which i am not able to understand.","body":"it is giving me the operator error which i am not able to understand."},{"owner":{"account_id":25529655,"reputation":5,"user_id":19317935,"display_name":"Jayveer Mall"},"score":0,"creation_date":1686816885,"post_id":76480303,"comment_id":134852174,"body_markdown":"@Stultuske now check","body":"@Stultuske now check"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686816962,"post_id":76480303,"comment_id":134852194,"body_markdown":"as I said before, add some spaces. try changing a--+++b into: a-- + ++b, for instance","body":"as I said before, add some spaces. try changing a--+++b into: a-- + ++b, for instance"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686888305,"post_id":76480303,"comment_id":134863012,"body_markdown":"Great question, this is an interesting topic.","body":"Great question, this is an interesting topic."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686817337,"creation_date":1686817337,"answer_id":76480495,"question_id":76480303,"body_markdown":"The &quot;problem&quot; occurs during tokenization (i.e. transforming the input into a sequence of tokens that the compiler then uses to analyze the code structure.)\r\n\r\nThe [JLS 3.2. Lexical Translations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.2) says:\r\n\r\n&gt; [...]\r\n&gt;\r\n&gt; 3. A translation of the stream of input characters and line terminators resulting from step 2 into a sequence of input elements (&#167;3.5) which, after white space (&#167;3.6) and comments (&#167;3.7) are discarded, comprise the tokens that are the terminal symbols of the syntactic grammar (&#167;2.3).\r\n&gt;\r\n&gt; The longest possible translation is used at each step, even if the result does not ultimately make a correct program while another lexical translation would. \r\n\r\nAnd that means that sequences like\r\n\r\n    a--+++b\r\n    a+++++b\r\n\r\nis transformed into tokens as if you had written\r\n\r\n    a -- ++ + b\r\n    a ++ ++ + b\r\n\r\nwhich then (due to operator precedence) forms\r\n\r\n    ((a--)++) + (b)\r\n    ((a++)++) + (b)\r\n\r\nBut `a--` and `a++` are values and you cannot apply a further `++` operator to a value.","title":"Which line(s) of the following code would give an error:","body":"<p>The &quot;problem&quot; occurs during tokenization (i.e. transforming the input into a sequence of tokens that the compiler then uses to analyze the code structure.)</p>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.2\" rel=\"nofollow noreferrer\">JLS 3.2. Lexical Translations</a> says:</p>\n<blockquote>\n<p>[...]</p>\n<ol start=\"3\">\n<li>A translation of the stream of input characters and line terminators resulting from step 2 into a sequence of input elements (§3.5) which, after white space (§3.6) and comments (§3.7) are discarded, comprise the tokens that are the terminal symbols of the syntactic grammar (§2.3).</li>\n</ol>\n<p>The longest possible translation is used at each step, even if the result does not ultimately make a correct program while another lexical translation would.</p>\n</blockquote>\n<p>And that means that sequences like</p>\n<pre><code>a--+++b\na+++++b\n</code></pre>\n<p>is transformed into tokens as if you had written</p>\n<pre><code>a -- ++ + b\na ++ ++ + b\n</code></pre>\n<p>which then (due to operator precedence) forms</p>\n<pre><code>((a--)++) + (b)\n((a++)++) + (b)\n</code></pre>\n<p>But <code>a--</code> and <code>a++</code> are values and you cannot apply a further <code>++</code> operator to a value.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686888243,"creation_date":1686886991,"answer_id":76486839,"question_id":76480303,"body_markdown":"For reference, your lines are being interpreted as follows.\r\n\r\n```java\r\nSystem.out.println(a++ + --b);//line 1\r\nSystem.out.println(a--++ + b);//line 2\r\nSystem.out.println(a++ - ++b);//line 3\r\nSystem.out.println(a++++ + b);//line 4\r\n```\r\n\r\nIt would appear the compiler is going to extrapolate in a left-to-right manner.\r\n\r\nEssentially, it can deduce the operators on lines 1 and 3, since ++ +, and ++ -, are logical sequences.  \r\nWhile, the operators on lines 2 and 4 prove illogical.\r\n\r\nIt&#39;s unsure where to place the +, either as an arithmetic operator, or towards _b_ as a unary operator.  \r\nThus, it stops and throws an error.\r\n\r\nIf you were to parse in a right-to-left manner, you&#39;d be able to resolve the statements.\r\n\r\n```none\r\na-- + ++b\r\na++ + ++b\r\n```\r\n\r\n","title":"Which line(s) of the following code would give an error:","body":"<p>For reference, your lines are being interpreted as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(a++ + --b);//line 1\nSystem.out.println(a--++ + b);//line 2\nSystem.out.println(a++ - ++b);//line 3\nSystem.out.println(a++++ + b);//line 4\n</code></pre>\n<p>It would appear the compiler is going to extrapolate in a left-to-right manner.</p>\n<p>Essentially, it can deduce the operators on lines 1 and 3, since ++ +, and ++ -, are logical sequences.<br />\nWhile, the operators on lines 2 and 4 prove illogical.</p>\n<p>It's unsure where to place the +, either as an arithmetic operator, or towards <em>b</em> as a unary operator.<br />\nThus, it stops and throws an error.</p>\n<p>If you were to parse in a right-to-left manner, you'd be able to resolve the statements.</p>\n<pre class=\"lang-none prettyprint-override\"><code>a-- + ++b\na++ + ++b\n</code></pre>\n"}],"owner":{"account_id":25529655,"reputation":5,"user_id":19317935,"display_name":"Jayveer Mall"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":2,"score":-6,"last_activity_date":1686930416,"creation_date":1686815896,"question_id":76480303,"body_markdown":"    public static void main (String[] args) {\r\n    \r\n    int a=10,b=20;\r\n    \r\n    System.out.println(a+++--b);//line 1\r\n    \r\n    System.out.println(a--+++b);//line 2\r\n    \r\n    System.out.println(a++-++b);//line 3\r\n    \r\n    System.out.println(a+++++b);//line 4\r\n    \r\n    }\r\n\r\nI am getting error for line 2 and line 4 but, i am not getting how.","title":"Which line(s) of the following code would give an error:","body":"<pre><code>public static void main (String[] args) {\n\nint a=10,b=20;\n\nSystem.out.println(a+++--b);//line 1\n\nSystem.out.println(a--+++b);//line 2\n\nSystem.out.println(a++-++b);//line 3\n\nSystem.out.println(a+++++b);//line 4\n\n}\n</code></pre>\n<p>I am getting error for line 2 and line 4 but, i am not getting how.</p>\n"},{"tags":["java","spring","spring-data"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1686910061,"post_id":76488985,"comment_id":134866519,"body_markdown":"I believe it&#39;s not possible with `Map` parameter. But it should be doable by combining your reflective approach to create examples and using the [Query by Example API](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example).  A guide about it - [Spring Data JPA Query by Example](https://www.baeldung.com/spring-data-query-by-example).","body":"I believe it&#39;s not possible with <code>Map</code> parameter. But it should be doable by combining your reflective approach to create examples and using the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"nofollow noreferrer\">Query by Example API</a>.  A guide about it - <a href=\"https://www.baeldung.com/spring-data-query-by-example\" rel=\"nofollow noreferrer\">Spring Data JPA Query by Example</a>."},{"owner":{"account_id":24891735,"reputation":103,"user_id":18763596,"display_name":"Iva_Only_Java"},"score":0,"creation_date":1686912393,"post_id":76488985,"comment_id":134867007,"body_markdown":"@Chaosfire thx. That&#39;s exactly what I need. Can I accept your answer?","body":"@Chaosfire thx. That&#39;s exactly what I need. Can I accept your answer?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1686930365,"post_id":76488985,"comment_id":134870914,"body_markdown":"I added it as an answer.","body":"I added it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686930297,"creation_date":1686930297,"answer_id":76491758,"question_id":76488985,"body_markdown":"You can&#39;t do that by providing `Map` parameter to a repository method, but it&#39;s possible by combining the reflective approach with spring&#39;s [Query By Example API][1]. Simplified example:\r\n```\r\npublic &lt;Entity&gt; Optional&lt;Entity&gt; findByFields(Map&lt;Field, Object&gt; allValues) throws IllegalAccessException {\r\n  Entity entity = create an instance;\r\n  for (Map.Entry&lt;Field, Object&gt; entry : allValues.entrySet()) {\r\n    //allow access to the field\r\n    entry.getKey().set(entity, entry.getValue());\r\n    //restore access to previous state\r\n  }\r\n  Example&lt;Entity&gt; example = Example.of(entity);\r\n  return queryByExampleExecutor.findOne(example);\r\n}\r\n```\r\nProbably helpful questions:\r\n\r\n 1. [Set field value with reflection][2]\r\n 2. [Spring Data JPA: Query by Example?][3]\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\r\n  [2]: https://stackoverflow.com/questions/24094871/set-field-value-with-reflection\r\n  [3]: https://stackoverflow.com/questions/27626825/spring-data-jpa-query-by-example","title":"Spring Data find entity by its fields with reflection","body":"<p>You can't do that by providing <code>Map</code> parameter to a repository method, but it's possible by combining the reflective approach with spring's <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"nofollow noreferrer\">Query By Example API</a>. Simplified example:</p>\n<pre><code>public &lt;Entity&gt; Optional&lt;Entity&gt; findByFields(Map&lt;Field, Object&gt; allValues) throws IllegalAccessException {\n  Entity entity = create an instance;\n  for (Map.Entry&lt;Field, Object&gt; entry : allValues.entrySet()) {\n    //allow access to the field\n    entry.getKey().set(entity, entry.getValue());\n    //restore access to previous state\n  }\n  Example&lt;Entity&gt; example = Example.of(entity);\n  return queryByExampleExecutor.findOne(example);\n}\n</code></pre>\n<p>Probably helpful questions:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/24094871/set-field-value-with-reflection\">Set field value with reflection</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27626825/spring-data-jpa-query-by-example\">Spring Data JPA: Query by Example?</a></li>\n</ol>\n"}],"owner":{"account_id":24891735,"reputation":103,"user_id":18763596,"display_name":"Iva_Only_Java"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76491758,"answer_count":1,"score":0,"last_activity_date":1686930297,"creation_date":1686909048,"question_id":76488985,"body_markdown":"Having a lot of duplicate code in a lot of service classes, I decided to move it to a base service class and then re-use it.\r\n\r\n    public class BaseService&lt;ENTITY, ID&gt; {\r\n\r\n    @Autowired\r\n    private BaseDao&lt;ENTITY, ID&gt; baseDao;\r\n\r\n    protected boolean isExist(ENTITY e) {\r\n        Map&lt;Field, Object&gt; allValues = ReflectUtils.getAllValues(e);\r\n        //...\r\n\r\n    }\r\n\r\n    }\r\n\r\n\r\nIn `isExist(ENTITY e)` method I&#39;d like to call a baseDao method to find an entity (at the runtime it has to know which exact entity) and pass `allValues` to it. Basically, I&#39;d like to know if it&#39;s possible to do smth like this with Spring Data:\r\n\r\n    public interface BaseDao&lt;ENTITY, ID&gt; extends JpaRepository&lt;ENTITY, ID&gt; {\r\n\r\n    Optional&lt;ENTITY&gt; findByFields(Map&lt;Field, Object&gt; allValues);\r\n    }","title":"Spring Data find entity by its fields with reflection","body":"<p>Having a lot of duplicate code in a lot of service classes, I decided to move it to a base service class and then re-use it.</p>\n<pre><code>public class BaseService&lt;ENTITY, ID&gt; {\n\n@Autowired\nprivate BaseDao&lt;ENTITY, ID&gt; baseDao;\n\nprotected boolean isExist(ENTITY e) {\n    Map&lt;Field, Object&gt; allValues = ReflectUtils.getAllValues(e);\n    //...\n\n}\n\n}\n</code></pre>\n<p>In <code>isExist(ENTITY e)</code> method I'd like to call a baseDao method to find an entity (at the runtime it has to know which exact entity) and pass <code>allValues</code> to it. Basically, I'd like to know if it's possible to do smth like this with Spring Data:</p>\n<pre><code>public interface BaseDao&lt;ENTITY, ID&gt; extends JpaRepository&lt;ENTITY, ID&gt; {\n\nOptional&lt;ENTITY&gt; findByFields(Map&lt;Field, Object&gt; allValues);\n}\n</code></pre>\n"},{"tags":["java","wav","midi","javax.sound.midi"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1686930907,"post_id":76491704,"comment_id":134871025,"body_markdown":"You could install `timidity` and `ffmpeg`, and call them as processes within Java. Command usage: [Convert midi to mp3](https://stackoverflow.com/questions/16295459/convert-midi-to-mp3)","body":"You could install <code>timidity</code> and <code>ffmpeg</code>, and call them as processes within Java. Command usage: <a href=\"https://stackoverflow.com/questions/16295459/convert-midi-to-mp3\">Convert midi to mp3</a>"},{"owner":{"account_id":1491436,"reputation":519,"user_id":1398440,"accept_rate":42,"display_name":"xgb84j"},"score":0,"creation_date":1686934900,"post_id":76491704,"comment_id":134871847,"body_markdown":"Thank you for your soltution! I am asking this question, because it would be weird if you cannot do something in Java anymore, that you could do 15 years ago and there was no replacement.","body":"Thank you for your soltution! I am asking this question, because it would be weird if you cannot do something in Java anymore, that you could do 15 years ago and there was no replacement."}],"owner":{"account_id":1491436,"reputation":519,"user_id":1398440,"accept_rate":42,"display_name":"xgb84j"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686930277,"creation_date":1686929960,"question_id":76491704,"body_markdown":"I have midi files I want to convert to an mp3 file programmatically with a custom soundbank.\r\n\r\nAs far as I can see the whole javax.sound package is only concerned with playback and the Soundbank loading classes are no longer part of the public interface.\r\n\r\nAm I overlooking something in the official javax.sound package? Or is there a better way to convert a midi file to an mp3 file using a custom soundbank?","title":"Converting a MIDI file to MP3 in Java","body":"<p>I have midi files I want to convert to an mp3 file programmatically with a custom soundbank.</p>\n<p>As far as I can see the whole javax.sound package is only concerned with playback and the Soundbank loading classes are no longer part of the public interface.</p>\n<p>Am I overlooking something in the official javax.sound package? Or is there a better way to convert a midi file to an mp3 file using a custom soundbank?</p>\n"},{"tags":["java","javadoc"],"answers":[{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1469690735,"post_id":38629578,"comment_id":64643450,"body_markdown":"Thanks... in fact I had come across this.  I tried it when running javadoc from the command line (not using Ant).  But in fact I couldn&#39;t get anywhere with using the command line either.  Ah... just seen your edit... thanks again... going to study it...","body":"Thanks... in fact I had come across this.  I tried it when running javadoc from the command line (not using Ant).  But in fact I couldn&#39;t get anywhere with using the command line either.  Ah... just seen your edit... thanks again... going to study it..."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1469691037,"post_id":38629578,"comment_id":64643653,"body_markdown":"tried running with this additionalparam... same results.  Can you possibly show the bit of your build file where you define excludedPackages?","body":"tried running with this additionalparam... same results.  Can you possibly show the bit of your build file where you define excludedPackages?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1469691276,"post_id":38629578,"comment_id":64643835,"body_markdown":"@mikerodent https://github.com/FirebirdSQL/jaybird/blob/master/build/init.xml#L198 Note that if the problem is external references, you might need to look at either the `classpath` elements (so you have dependencies on the classpath), or the `link` element (which in my case points to the JDK api docs).","body":"@mikerodent <a href=\"https://github.com/FirebirdSQL/jaybird/blob/master/build/init.xml#L198\" rel=\"nofollow noreferrer\">github.com/FirebirdSQL/jaybird/blob/master/build/init.xml#L1&zwnj;&#8203;98</a> Note that if the problem is external references, you might need to look at either the <code>classpath</code> elements (so you have dependencies on the classpath), or the <code>link</code> element (which in my case points to the JDK api docs)."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1470171350,"post_id":38629578,"comment_id":64836862,"body_markdown":"can I &quot;bump&quot; you on this?  If you could show how to generate the javadoc from the logback.qos.ch/download.html downloads (with source), without the  org.codehaus or javax.mail jars, I&#39;d be happy to award the 50 point bounty!","body":"can I &quot;bump&quot; you on this?  If you could show how to generate the javadoc from the logback.qos.ch/download.html downloads (with source), without the  org.codehaus or javax.mail jars, I&#39;d be happy to award the 50 point bounty!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1470380311,"post_id":38629578,"comment_id":64936627,"body_markdown":"@mikerodent Unfortunately I don&#39;t have time to do that.","body":"@mikerodent Unfortunately I don&#39;t have time to do that."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469690741,"creation_date":1469690395,"answer_id":38629578,"question_id":38621202,"body_markdown":"Java 8 introduced `doclint` which will treat certain problems as an error and not produce the documentation. It is possible to disable this by specifying the commandline option `-Xdoclint:none`.\r\n\r\nSee also: [Turning off doclint in JDK 8 Javadoc][1]\r\n\r\nEg in Ant you would need to do add a `additionalparam=&quot;-Xdoclint:none&quot;` attribute to the `javadoc` task. A (slightly modified) example from Jaybird:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;target name=&quot;javadocs&quot; depends=&quot;init,set-driver-sources&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build.docs}&quot;/&gt;\r\n        &lt;javadoc destdir=&quot;${build.docs}&quot;\r\n                 author=&quot;true&quot;\r\n                 version=&quot;true&quot;\r\n                 windowtitle=&quot;${Name} API&quot;\r\n                 doctitle=&quot;${Name}&quot;\r\n                 extdirs=&quot;${module.thirdparty}&quot;\r\n\r\n                 additionalparam=&quot;-Xdoclint:none&quot;\r\n\r\n                 excludepackagenames=&quot;${excludedPackages}&quot;\r\n                 bottom=&quot;Copyright &amp;#169; 2001-2015 Jaybird (Firebird JDBC/JCA) team. All rights reserved.&quot;&gt;\r\n            &lt;arg line=&quot;${java.module.arg}&quot;/&gt;\r\n            &lt;classpath refid=&quot;javac.driver.classpath&quot;/&gt;\r\n            &lt;sourcepath&gt;\r\n                &lt;pathelement path=&quot;${source.java}&quot;/&gt;\r\n                &lt;pathelement path=&quot;${source.jna-client}&quot;/&gt;\r\n            &lt;/sourcepath&gt;\r\n            &lt;sourcepath refid=&quot;source.java.openoffice&quot;/&gt;\r\n            &lt;sourcepath refid=&quot;source.java.additional&quot;/&gt;\r\n            &lt;link href=&quot;http://docs.oracle.com/javase/7/docs/api/&quot;/&gt;\r\n        &lt;/javadoc&gt;\r\n    &lt;/target&gt;\r\n\r\n\r\n  [1]: http://blog.joda.org/2014/02/turning-off-doclint-in-jdk-8-javadoc.html","title":"Ignore minor errors using javadoc","body":"<p>Java 8 introduced <code>doclint</code> which will treat certain problems as an error and not produce the documentation. It is possible to disable this by specifying the commandline option <code>-Xdoclint:none</code>.</p>\n\n<p>See also: <a href=\"http://blog.joda.org/2014/02/turning-off-doclint-in-jdk-8-javadoc.html\">Turning off doclint in JDK 8 Javadoc</a></p>\n\n<p>Eg in Ant you would need to do add a <code>additionalparam=\"-Xdoclint:none\"</code> attribute to the <code>javadoc</code> task. A (slightly modified) example from Jaybird:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target name=\"javadocs\" depends=\"init,set-driver-sources\"&gt;\n    &lt;mkdir dir=\"${build.docs}\"/&gt;\n    &lt;javadoc destdir=\"${build.docs}\"\n             author=\"true\"\n             version=\"true\"\n             windowtitle=\"${Name} API\"\n             doctitle=\"${Name}\"\n             extdirs=\"${module.thirdparty}\"\n\n             additionalparam=\"-Xdoclint:none\"\n\n             excludepackagenames=\"${excludedPackages}\"\n             bottom=\"Copyright &amp;#169; 2001-2015 Jaybird (Firebird JDBC/JCA) team. All rights reserved.\"&gt;\n        &lt;arg line=\"${java.module.arg}\"/&gt;\n        &lt;classpath refid=\"javac.driver.classpath\"/&gt;\n        &lt;sourcepath&gt;\n            &lt;pathelement path=\"${source.java}\"/&gt;\n            &lt;pathelement path=\"${source.jna-client}\"/&gt;\n        &lt;/sourcepath&gt;\n        &lt;sourcepath refid=\"source.java.openoffice\"/&gt;\n        &lt;sourcepath refid=\"source.java.additional\"/&gt;\n        &lt;link href=\"http://docs.oracle.com/javase/7/docs/api/\"/&gt;\n    &lt;/javadoc&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1470392621,"post_id":38778566,"comment_id":64943904,"body_markdown":"Thanks.  Tried it... no HTML or anything generated.  Only difference I can see is that I&#39;m using Ant 1.9.7!  Over the weekend I&#39;ll try to find time to use Ant 1.9.6... Could it be a mystifying Windoze permission thing?","body":"Thanks.  Tried it... no HTML or anything generated.  Only difference I can see is that I&#39;m using Ant 1.9.7!  Over the weekend I&#39;ll try to find time to use Ant 1.9.6... Could it be a mystifying Windoze permission thing?"}],"tags":[],"owner":{"account_id":215722,"reputation":806,"user_id":470525,"display_name":"Tony Pierce"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470466668,"creation_date":1470350886,"answer_id":38778566,"question_id":38621202,"body_markdown":"I simplified your build file a bit and built the javadoc successfully. Here&#39;s what I did:\r\n\r\n* Downloaded the logback zip\r\n* Expanded the sources jars inside into a `src` directory\r\n* Ran ant 1.9.6 under java 8 with this:\r\n\r\n    &lt;!-- language: xml --&gt;\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n        &lt;project name=&quot;document logback core&quot; default=&quot;doc&quot;&gt;\r\n            &lt;target name=&quot;doc&quot;&gt;\r\n                &lt;mkdir dir=&quot;javadoc&quot; /&gt;\r\n                &lt;javadoc destdir=&quot;javadoc&quot; sourcepath=&quot;src&quot; \r\n        \t        additionalparam=&quot;-Xdoclint:none&quot; /&gt;\r\n            &lt;/target&gt;\r\n        &lt;/project&gt;\r\n\r\nIt produced a lot of warnings, but created a `javadoc` directory filled with html.\r\n\r\nI removed `excludepackagenames` and dropped the `packagenames` element. In any case, `packagenames=&quot;main.*&quot;` prevents the javadoc generation because the only root packages in the jar are `ch` and `org`.","title":"Ignore minor errors using javadoc","body":"<p>I simplified your build file a bit and built the javadoc successfully. Here's what I did:</p>\n\n<ul>\n<li>Downloaded the logback zip</li>\n<li>Expanded the sources jars inside into a <code>src</code> directory</li>\n<li><p>Ran ant 1.9.6 under java 8 with this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;project name=\"document logback core\" default=\"doc\"&gt;\n    &lt;target name=\"doc\"&gt;\n        &lt;mkdir dir=\"javadoc\" /&gt;\n        &lt;javadoc destdir=\"javadoc\" sourcepath=\"src\" \n            additionalparam=\"-Xdoclint:none\" /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre></li>\n</ul>\n\n<p>It produced a lot of warnings, but created a <code>javadoc</code> directory filled with html.</p>\n\n<p>I removed <code>excludepackagenames</code> and dropped the <code>packagenames</code> element. In any case, <code>packagenames=\"main.*\"</code> prevents the javadoc generation because the only root packages in the jar are <code>ch</code> and <code>org</code>.</p>\n"},{"comments":[{"owner":{"account_id":3544472,"reputation":9851,"user_id":2960788,"accept_rate":68,"display_name":"Christopher"},"score":0,"creation_date":1630928177,"post_id":63683772,"comment_id":122080102,"body_markdown":"Thanks for the `--ignore-source-errors` option. :)","body":"Thanks for the <code>--ignore-source-errors</code> option. :)"},{"owner":{"account_id":954898,"reputation":1870,"user_id":980387,"display_name":"franmontiel"},"score":0,"creation_date":1637770465,"post_id":63683772,"comment_id":123916351,"body_markdown":"This worked with a Javadoc gradle task that was failing on Java 11 (and previously working with Java 8).\n\nMy problem was caused as I need to exclude the &quot;internal&quot; package from the documentation.\n\nWhy this option is undocumented is a mystery for me.","body":"This worked with a Javadoc gradle task that was failing on Java 11 (and previously working with Java 8).  My problem was caused as I need to exclude the &quot;internal&quot; package from the documentation.  Why this option is undocumented is a mystery for me."},{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1670630408,"post_id":63683772,"comment_id":131925250,"body_markdown":"@Marteng How would you declare this option in a Gradle task, exactly?","body":"@Marteng How would you declare this option in a Gradle task, exactly?"}],"tags":[],"owner":{"account_id":6761181,"reputation":1249,"user_id":5207900,"display_name":"Marteng"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1598947941,"creation_date":1598947941,"answer_id":63683772,"question_id":38621202,"body_markdown":"**Compile Errors With Custom Doclet with Java 9 or later**\r\n\r\nThe `-Xdoclint:none` is an option of the standard doclet which will not work for custom doclets. \r\n\r\nIf you have a custom doclet and don&#39;t care about compilation errors, you can pass the `--ignore-source-errors` option either to the `javadoc` command line tool or to `javax.tools.DocumentationTool.getTask(...)` if you invoke your doclet programmatically. \r\n\r\nThe `--ignore-source-errors` option is not documented. Maybe because it might be removed in future. The clean way is to add all required libraries to the classpath (via the `-classpath` option to actually resolve the compilation errors).","title":"Ignore minor errors using javadoc","body":"<p><strong>Compile Errors With Custom Doclet with Java 9 or later</strong></p>\n<p>The <code>-Xdoclint:none</code> is an option of the standard doclet which will not work for custom doclets.</p>\n<p>If you have a custom doclet and don't care about compilation errors, you can pass the <code>--ignore-source-errors</code> option either to the <code>javadoc</code> command line tool or to <code>javax.tools.DocumentationTool.getTask(...)</code> if you invoke your doclet programmatically.</p>\n<p>The <code>--ignore-source-errors</code> option is not documented. Maybe because it might be removed in future. The clean way is to add all required libraries to the classpath (via the <code>-classpath</code> option to actually resolve the compilation errors).</p>\n"},{"tags":[],"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686929856,"creation_date":1686929856,"answer_id":76491680,"question_id":38621202,"body_markdown":"Just in addition to the answers above, when using ANT: **1.10.13** with Java: **17.0.6**, my build would not complete due to javadoc errors.\r\nAdding **additionalparam** attribute to the javadoc task did not work, but using [arg][1] elements for each argument did:\r\n\r\n```lang-xml\r\n&lt;javadoc&gt;\r\n    &lt;arg value=&quot;--ignore-source-errors&quot;/&gt;\r\n    &lt;arg value=&quot;-Xdoclint:none&quot;/&gt;\r\n&lt;/javadoc&gt;\r\n```\r\n\r\n\r\nWith this javadoc HTML was still generated, and my build was successful.\r\n\r\n\r\n  [1]: https://ant.apache.org/manual/Tasks/javadoc.html","title":"Ignore minor errors using javadoc","body":"<p>Just in addition to the answers above, when using ANT: <strong>1.10.13</strong> with Java: <strong>17.0.6</strong>, my build would not complete due to javadoc errors.\nAdding <strong>additionalparam</strong> attribute to the javadoc task did not work, but using <a href=\"https://ant.apache.org/manual/Tasks/javadoc.html\" rel=\"nofollow noreferrer\">arg</a> elements for each argument did:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;javadoc&gt;\n    &lt;arg value=&quot;--ignore-source-errors&quot;/&gt;\n    &lt;arg value=&quot;-Xdoclint:none&quot;/&gt;\n&lt;/javadoc&gt;\n</code></pre>\n<p>With this javadoc HTML was still generated, and my build was successful.</p>\n"}],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15455,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"answer_count":4,"score":18,"last_activity_date":1686929856,"creation_date":1469646219,"question_id":38621202,"body_markdown":"I&#39;m trying to generate the documentation, using javadoc, from one or two downloaded jar files (with the source of course, after having extracted everything).\r\n\r\nBut using javadoc, even in an Ant file, I&#39;m being prevented from generating this because of silly things, specifically &quot;package XXX does not exist&quot; and &quot;cannot find symbol&quot;... I just want javadoc to put the text of these things (external references) in the html docs, but to document all the .java files it finds...\r\n\r\nNB for anyone interested this is the download page with the download files (containing source) from which I&#39;m trying to generate the API documentation: http://logback.qos.ch/download.html\r\n\r\nFollowing Mark Rotteveel&#39;s help, my Ant build file now looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;project name=&quot;document logback core&quot; default=&quot;doc&quot;&gt;\r\n    \t&lt;target name=&quot;doc&quot;&gt;\r\n    \t\t&lt;mkdir dir=&quot;javadoc&quot; /&gt;\r\n     \t\t&lt;property name=&quot;excludedPackages&quot;\r\n    \t\t\tvalue=&quot;org.codehaus.*,javax.mail.*&quot;/&gt;\r\n    \t\t&lt;javadoc destdir=&quot;javadoc&quot; sourcepath=&quot;src&quot; packagenames=&quot;main.*&quot; \r\n    \t\texcludepackagenames=&quot;${excludedPackages}&quot;\r\n    \t\tadditionalparam=&quot;-Xdoclint:none&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\n... but it still gives errors 1) about packages not being found, including &quot;org.codehaus.[xxx...]&quot; and &quot;javax.mail.[xxx...]&quot; and 2) about symbols not being found (although this may go away if I can solve the missing packages errors).\r\n\r\nNB the build is said to be successful, but I get complaints about no source files being found (where there are indeed commented .java files), and no html at all is generated under \\javadoc.\r\n\r\n***later, following Tony Pierce&#39;s success in generating these docs***\r\n\r\nInstalled Ant 1.9.6, changed path accordingly, checked to make sure this was the version being used... tried again.  Failed again.  This was the end of my output:\r\n\r\n&gt;   [javadoc]\r\n&gt; D:\\Desktop\\Downloads\\logback-1.1.7.tar\\logback-1.1.7\\logback-core\\src\\test\\java\\ch\\qos\\logback\\core\\appender\\ConsoleAppenderTest.java:32:\r\n&gt; error: package org.junit does not exist   &lt;br&gt;[javadoc] import static\r\n&gt; org.junit.Assert.assertEquals;   &lt;br&gt;[javadoc]_______________________^  \r\n&gt; &lt;br&gt;[javadoc] javadoc: error - No public or protected classes found to\r\n&gt; document.   &lt;br&gt;[javadoc] 1 error   &lt;br&gt;[javadoc] 100 warnings\r\n&gt; &lt;br&gt;\r\n&gt; &lt;br&gt;BUILD SUCCESSFUL Total time: 2 seconds\r\n\r\nIt does create the javadoc folder... but this is empty.\r\n\r\nNB about the above &quot;package does not exist&quot; error (there were many others): this one is particularly mystifying as I thought Ant somehow included junit by default (NB I am a complete newbie at Ant, just working through &quot;Ant in Action&quot;).\r\n\r\nBut... with the Ant `javac` task you can set `includeAntRuntime=&quot;true&quot;` ... according to this book that makes Ant&#39;s own `junit.jar` be included.  Unfortunately the `javadoc` task doesn&#39;t support this attribute.\r\n\r\n***later still***\r\n\r\nMy thinking was a bit muddled on this, to be honest: the simplest way I have found to compile javadocs from third-party source jars is just by extracting and then using the command line, typically: \r\n\r\n&gt; javadoc -d docs -Xmaxwarns 10 -Xmaxerrs 10 -Xdoclint:none -sourcepath\r\n&gt; . -subpackages ch.qos.logback.core\r\n\r\n... as for `javadoc` for one&#39;s own code this doesn&#39;t seem to be a problem in Gradle (I was only glimpsing at Ant, aware that the future is Gradle... and it&#39;s not particularly difficult to get to grips with the basics).\r\n\r\nNB If you install the Gradle STS plugin for Eclipse, and then create a new project using Gradle STS wizard your build file contains the line \r\n\r\n&gt; apply plugin: &#39;eclipse&#39;\r\n\r\n... one of the effects of which is that by default the source as well as the executables for all your third-party dependencies will be downloaded under GRADLE_HOME during the build. Pretty good!","title":"Ignore minor errors using javadoc","body":"<p>I'm trying to generate the documentation, using javadoc, from one or two downloaded jar files (with the source of course, after having extracted everything).</p>\n\n<p>But using javadoc, even in an Ant file, I'm being prevented from generating this because of silly things, specifically \"package XXX does not exist\" and \"cannot find symbol\"... I just want javadoc to put the text of these things (external references) in the html docs, but to document all the .java files it finds...</p>\n\n<p>NB for anyone interested this is the download page with the download files (containing source) from which I'm trying to generate the API documentation: <a href=\"http://logback.qos.ch/download.html\" rel=\"noreferrer\">http://logback.qos.ch/download.html</a></p>\n\n<p>Following Mark Rotteveel's help, my Ant build file now looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;project name=\"document logback core\" default=\"doc\"&gt;\n    &lt;target name=\"doc\"&gt;\n        &lt;mkdir dir=\"javadoc\" /&gt;\n        &lt;property name=\"excludedPackages\"\n            value=\"org.codehaus.*,javax.mail.*\"/&gt;\n        &lt;javadoc destdir=\"javadoc\" sourcepath=\"src\" packagenames=\"main.*\" \n        excludepackagenames=\"${excludedPackages}\"\n        additionalparam=\"-Xdoclint:none\" /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>... but it still gives errors 1) about packages not being found, including \"org.codehaus.[xxx...]\" and \"javax.mail.[xxx...]\" and 2) about symbols not being found (although this may go away if I can solve the missing packages errors).</p>\n\n<p>NB the build is said to be successful, but I get complaints about no source files being found (where there are indeed commented .java files), and no html at all is generated under \\javadoc.</p>\n\n<p><strong><em>later, following Tony Pierce's success in generating these docs</em></strong></p>\n\n<p>Installed Ant 1.9.6, changed path accordingly, checked to make sure this was the version being used... tried again.  Failed again.  This was the end of my output:</p>\n\n<blockquote>\n  <p>[javadoc]\n  D:\\Desktop\\Downloads\\logback-1.1.7.tar\\logback-1.1.7\\logback-core\\src\\test\\java\\ch\\qos\\logback\\core\\appender\\ConsoleAppenderTest.java:32:\n  error: package org.junit does not exist   <br>[javadoc] import static\n  org.junit.Assert.assertEquals;   <br>[javadoc]_______________________^<br>\n  <br>[javadoc] javadoc: error - No public or protected classes found to\n  document.   <br>[javadoc] 1 error   <br>[javadoc] 100 warnings\n  <br>\n  <br>BUILD SUCCESSFUL Total time: 2 seconds</p>\n</blockquote>\n\n<p>It does create the javadoc folder... but this is empty.</p>\n\n<p>NB about the above \"package does not exist\" error (there were many others): this one is particularly mystifying as I thought Ant somehow included junit by default (NB I am a complete newbie at Ant, just working through \"Ant in Action\").</p>\n\n<p>But... with the Ant <code>javac</code> task you can set <code>includeAntRuntime=\"true\"</code> ... according to this book that makes Ant's own <code>junit.jar</code> be included.  Unfortunately the <code>javadoc</code> task doesn't support this attribute.</p>\n\n<p><strong><em>later still</em></strong></p>\n\n<p>My thinking was a bit muddled on this, to be honest: the simplest way I have found to compile javadocs from third-party source jars is just by extracting and then using the command line, typically: </p>\n\n<blockquote>\n  <p>javadoc -d docs -Xmaxwarns 10 -Xmaxerrs 10 -Xdoclint:none -sourcepath\n  . -subpackages ch.qos.logback.core</p>\n</blockquote>\n\n<p>... as for <code>javadoc</code> for one's own code this doesn't seem to be a problem in Gradle (I was only glimpsing at Ant, aware that the future is Gradle... and it's not particularly difficult to get to grips with the basics).</p>\n\n<p>NB If you install the Gradle STS plugin for Eclipse, and then create a new project using Gradle STS wizard your build file contains the line </p>\n\n<blockquote>\n  <p>apply plugin: 'eclipse'</p>\n</blockquote>\n\n<p>... one of the effects of which is that by default the source as well as the executables for all your third-party dependencies will be downloaded under GRADLE_HOME during the build. Pretty good!</p>\n"},{"tags":["java","android","xml","animation","transition"],"answers":[{"tags":[],"owner":{"account_id":538260,"reputation":39466,"user_id":906362,"accept_rate":65,"display_name":"Budius"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480277636,"creation_date":1480277636,"answer_id":40833401,"question_id":40833344,"body_markdown":"replace at the top of your class:\r\n\r\n`import android.support.v4.util.Pair`\r\n\r\nby\r\n\r\n`import android.util.Pair`\r\n\r\nand it should work. You&#39;re just using the wrong pair.","title":"Animation cannot resolve?","body":"<p>replace at the top of your class:</p>\n\n<p><code>import android.support.v4.util.Pair</code></p>\n\n<p>by</p>\n\n<p><code>import android.util.Pair</code></p>\n\n<p>and it should work. You're just using the wrong pair.</p>\n"},{"tags":[],"owner":{"account_id":28835259,"reputation":1,"user_id":22084808,"display_name":"RamDeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686929523,"creation_date":1686929331,"answer_id":76491612,"question_id":40833344,"body_markdown":"It&#39;s so easy; You just need a cast of that. Like below example:\r\n\r\n        ActivityOptions opt = ActivityOptions.makeSceneTransitionAnimation(\r\n    \t\t\t\t\t\t\tthis,\r\n    \t\t\t\t\t\t\t(Pair&lt;View, String&gt;) Pair.create(view1, &quot;agreedName1&quot;),\r\n                                (Pair&lt;View, String&gt;) Pair.create(view2, &quot;agreedName2&quot;));\r\n\r\nI hope this can help to you. :)","title":"Animation cannot resolve?","body":"<p>It's so easy; You just need a cast of that. Like below example:</p>\n<pre><code>    ActivityOptions opt = ActivityOptions.makeSceneTransitionAnimation(\n                            this,\n                            (Pair&lt;View, String&gt;) Pair.create(view1, &quot;agreedName1&quot;),\n                            (Pair&lt;View, String&gt;) Pair.create(view2, &quot;agreedName2&quot;));\n</code></pre>\n<p>I hope this can help to you. :)</p>\n"}],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1749,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686929523,"creation_date":1480277196,"question_id":40833344,"body_markdown":"Trying to do a simple shared element animation, and it works fine when just one element is shared. I am trying to experiment by sharing two elements, and that&#39;s the problem:\r\n\r\n          ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(Main2Activity.this, Pair.create((View) back, &quot;agreedName1&quot;), Pair.create((View) animate, &quot;agreedName2&quot;));\r\n\r\nAND\r\n\r\n     Pair&lt;View, String&gt; h = Pair.create((View) back, &quot;agreedName1&quot;);\r\n                Pair&lt;View, String&gt; k = Pair.create((View) animate, &quot;agreedName1&quot;);\r\n                ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(Main2Activity.this, h, k);\r\n\r\nBoth don&#39;t work, because apparently:\r\n\r\n&gt; Error:(35, 54) error: no suitable method found for\r\n&gt; makeSceneTransitionAnimation(Main2Activity,android.support.v4.util.Pair&lt;Button,String&gt;,android.support.v4.util.Pair&lt;Button,String&gt;)\r\n&gt; method\r\n&gt; ActivityOptions.makeSceneTransitionAnimation(Activity,View,String) is\r\n&gt; not applicable (argument mismatch;\r\n&gt; android.support.v4.util.Pair&lt;Button,String&gt; cannot be converted to\r\n&gt; View) method\r\n&gt; ActivityOptions.makeSceneTransitionAnimation(Activity,android.util.Pair&lt;View,String&gt;...)\r\n&gt; is not applicable (varargs mismatch;\r\n&gt; android.support.v4.util.Pair&lt;Button,String&gt; cannot be converted to\r\n&gt; android.util.Pair&lt;View,String&gt;)\r\n\r\nEven though `back` and `animate` are both buttons (I even tried typecasting them to views).\r\n\r\n\r\n----------\r\nAgain, this works fine with just one view animation like so:\r\n\r\n \r\n\r\n     ActivityOptionsCompat options1 = ActivityOptionsCompat.\r\n                        makeSceneTransitionAnimation(this, animate, &quot;transition1&quot;); //CANT HAVE TWO TRANSITIONS WITHOUT PAIR HOWEVER\r\n                startActivity(intent, options.toBundle());\r\n## How can I successfully execute shared animation with two elements? ##\r\n\r\nThe way I am doing it (in my first two examples) is how it is said to be done in the developer docs on [shared element transition.][1]\r\n\r\n**The docs clearly state:**\r\n\r\n&gt; To make a scene transition animation between two activities that have\r\n&gt; more than one shared element, define the shared elements in both\r\n&gt; layouts with the android:transitionName attribute (or use the\r\n&gt; View.setTransitionName() method in both activities), and create an\r\n&gt; ActivityOptions object as follows:\r\n&gt; \r\n\r\n    &gt; ActivityOptions options =\r\n    &gt; ActivityOptions.makeSceneTransitionAnimation(this,\r\n    &gt;         Pair.create(view1, &quot;agreedName1&quot;),\r\n    &gt;         Pair.create(view2, &quot;agreedName2&quot;));\r\n\r\n**Which I am doing. If I am doing everything right, how come I am getting this error?**\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/training/material/animations.html#CurvedMotionhttp://","title":"Animation cannot resolve?","body":"<p>Trying to do a simple shared element animation, and it works fine when just one element is shared. I am trying to experiment by sharing two elements, and that's the problem:</p>\n\n<pre><code>      ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(Main2Activity.this, Pair.create((View) back, \"agreedName1\"), Pair.create((View) animate, \"agreedName2\"));\n</code></pre>\n\n<p>AND</p>\n\n<pre><code> Pair&lt;View, String&gt; h = Pair.create((View) back, \"agreedName1\");\n            Pair&lt;View, String&gt; k = Pair.create((View) animate, \"agreedName1\");\n            ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(Main2Activity.this, h, k);\n</code></pre>\n\n<p>Both don't work, because apparently:</p>\n\n<blockquote>\n  <p>Error:(35, 54) error: no suitable method found for\n  makeSceneTransitionAnimation(Main2Activity,android.support.v4.util.Pair,android.support.v4.util.Pair)\n  method\n  ActivityOptions.makeSceneTransitionAnimation(Activity,View,String) is\n  not applicable (argument mismatch;\n  android.support.v4.util.Pair cannot be converted to\n  View) method\n  ActivityOptions.makeSceneTransitionAnimation(Activity,android.util.Pair...)\n  is not applicable (varargs mismatch;\n  android.support.v4.util.Pair cannot be converted to\n  android.util.Pair)</p>\n</blockquote>\n\n<p>Even though <code>back</code> and <code>animate</code> are both buttons (I even tried typecasting them to views).</p>\n\n<hr>\n\n<p>Again, this works fine with just one view animation like so:</p>\n\n<pre><code> ActivityOptionsCompat options1 = ActivityOptionsCompat.\n                    makeSceneTransitionAnimation(this, animate, \"transition1\"); //CANT HAVE TWO TRANSITIONS WITHOUT PAIR HOWEVER\n            startActivity(intent, options.toBundle());\n</code></pre>\n\n<h2>How can I successfully execute shared animation with two elements?</h2>\n\n<p>The way I am doing it (in my first two examples) is how it is said to be done in the developer docs on <a href=\"https://developer.android.com/training/material/animations.html#CurvedMotionhttp://\" rel=\"nofollow noreferrer\">shared element transition.</a></p>\n\n<p><strong>The docs clearly state:</strong></p>\n\n<blockquote>\n  <p>To make a scene transition animation between two activities that have\n  more than one shared element, define the shared elements in both\n  layouts with the android:transitionName attribute (or use the\n  View.setTransitionName() method in both activities), and create an\n  ActivityOptions object as follows:</p>\n</blockquote>\n\n<pre><code>&gt; ActivityOptions options =\n&gt; ActivityOptions.makeSceneTransitionAnimation(this,\n&gt;         Pair.create(view1, \"agreedName1\"),\n&gt;         Pair.create(view2, \"agreedName2\"));\n</code></pre>\n\n<p><strong>Which I am doing. If I am doing everything right, how come I am getting this error?</strong></p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1008425,"reputation":424,"user_id":1021528,"accept_rate":64,"display_name":"Kiran M N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686929350,"creation_date":1686929350,"answer_id":76491615,"question_id":72709294,"body_markdown":"Recently, we faced the same issue -- AWS Java SDK v2 failed to access S3 while AWS CLI v2 was able to access the same bucket from within the container.\r\n\r\nThe following code changes did resolve the issue. The fix essentially was to set the credentials provider explicitly to `WebIdentityTokenFileCredentialsProvider`.\r\n\r\n    S3Client s3Client = S3Client.builder()\r\n        .credentialsProvider(WebIdentityTokenFileCredentialsProvider.create())\r\n        .region(Region.of(region))\r\n        .build();\r\n\r\n","title":"EKS Deployment | not able access S3 Bucket via java api but accessible via awscli","body":"<p>Recently, we faced the same issue -- AWS Java SDK v2 failed to access S3 while AWS CLI v2 was able to access the same bucket from within the container.</p>\n<p>The following code changes did resolve the issue. The fix essentially was to set the credentials provider explicitly to <code>WebIdentityTokenFileCredentialsProvider</code>.</p>\n<pre><code>S3Client s3Client = S3Client.builder()\n    .credentialsProvider(WebIdentityTokenFileCredentialsProvider.create())\n    .region(Region.of(region))\n    .build();\n</code></pre>\n"}],"owner":{"account_id":4413830,"reputation":461,"user_id":3595995,"accept_rate":75,"display_name":"PremKumarR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686929350,"creation_date":1655868084,"question_id":72709294,"body_markdown":"i have a java spring boot application and im trying to connect to s3 using eks service account \r\n\r\nfollowing is service account yaml\r\n\r\n```\r\napiVersion: v1\r\nkind: ServiceAccount\r\nmetadata:\r\n  name: s3-account\r\n  annotations:\r\n      eks.amazonaws.com/role-arn:  arn:aws:iam::xxxxx:role/yyyyyy\r\nautomountServiceAccountToken: true\r\n```\r\n\r\nwhen i execute the java api to access s3 , i get the following error \r\n\r\n&gt;&gt;com.amazonaws.services.kms.model.AWSKMSException: User: arn:aws:sts::xxxxx:assumed-role/yyyyyy/aws-sdk-java-1655725004373 is not authorized to perform: kms:GenerateDataKey on resource: arn:aws:kms:eu-west-2:xxxxx:key/dcb9dcc5-0141-4f02-a9e4-bc8a1925e8a1 **because no identity-based policy allows the kms:GenerateDataKey action** (Service: AWSKMS; Status Code: 400; Error Code: AccessDeniedException; Request ID: 95bb5e25-b44b-4087-ba58-fdd7dfbf25e7; Proxy: gateway.zscloud.net)\r\n\r\nBut if i access via awscli within EKS Deployment it works \r\n\r\n&gt;&gt;aws s3 cp new_dir2/new_file2.txt s3://bucket-name/new_file2.txt --region=eu-west-2 --sse aws:kms\r\n\r\nWhat am i missing here ? \r\n\r\nThanks for your response much appreciated\r\n","title":"EKS Deployment | not able access S3 Bucket via java api but accessible via awscli","body":"<p>i have a java spring boot application and im trying to connect to s3 using eks service account</p>\n<p>following is service account yaml</p>\n<pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: s3-account\n  annotations:\n      eks.amazonaws.com/role-arn:  arn:aws:iam::xxxxx:role/yyyyyy\nautomountServiceAccountToken: true\n</code></pre>\n<p>when i execute the java api to access s3 , i get the following error</p>\n<blockquote>\n<blockquote>\n<p>com.amazonaws.services.kms.model.AWSKMSException: User: arn:aws:sts::xxxxx:assumed-role/yyyyyy/aws-sdk-java-1655725004373 is not authorized to perform: kms:GenerateDataKey on resource: arn:aws:kms:eu-west-2:xxxxx:key/dcb9dcc5-0141-4f02-a9e4-bc8a1925e8a1 <strong>because no identity-based policy allows the kms:GenerateDataKey action</strong> (Service: AWSKMS; Status Code: 400; Error Code: AccessDeniedException; Request ID: 95bb5e25-b44b-4087-ba58-fdd7dfbf25e7; Proxy: gateway.zscloud.net)</p>\n</blockquote>\n</blockquote>\n<p>But if i access via awscli within EKS Deployment it works</p>\n<blockquote>\n<blockquote>\n<p>aws s3 cp new_dir2/new_file2.txt s3://bucket-name/new_file2.txt --region=eu-west-2 --sse aws:kms</p>\n</blockquote>\n</blockquote>\n<p>What am i missing here ?</p>\n<p>Thanks for your response much appreciated</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"score":0,"creation_date":1686944417,"post_id":76491596,"comment_id":134873408,"body_markdown":"Is that all in a single file? What can&#39;t find the symbol?","body":"Is that all in a single file? What can&#39;t find the symbol?"},{"owner":{"account_id":11494202,"reputation":13,"user_id":8424091,"display_name":"Kenneth Chen"},"score":0,"creation_date":1687057995,"post_id":76491596,"comment_id":134883143,"body_markdown":"No, these are not in one same file. When I perform a &quot;mvn compile&quot;, Maven returns the error &quot;cannot find symbol.&quot; HOWEVER, intellij&#39;s intellisense recognizes the method that I created. That&#39;s where the point of confusion is. I performed a mvn clean and even tried reloading/invalidating the cache on Intellij to no avail.","body":"No, these are not in one same file. When I perform a &quot;mvn compile&quot;, Maven returns the error &quot;cannot find symbol.&quot; HOWEVER, intellij&#39;s intellisense recognizes the method that I created. That&#39;s where the point of confusion is. I performed a mvn clean and even tried reloading/invalidating the cache on Intellij to no avail."}],"owner":{"account_id":11494202,"reputation":13,"user_id":8424091,"display_name":"Kenneth Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686929161,"creation_date":1686929161,"question_id":76491596,"body_markdown":"When I attempt to run my implementation file in Maven, I get the following error:\r\n`cannot find symbol`. I clearly imported (and wrote the corresponding method) and here&#39;s the weird part: Intellisense recognizes that I wrote the method (and even suggests it) but Maven does not. \r\n\r\nHere is the implementation file, specifically how I imported the said function and how I called the methods I wrote:\r\n\r\n```java \r\n//the root of the problem\r\n@Component\r\npublic class service_impl implements service {\r\n\r\n\t@Autowired\r\n    private QuantityRepository quantityRepository;\r\n\r\n\t\r\n    private Collection&lt;quantityUpdateResponse&gt; updateQuantity(Collection&lt;someArgument&gt; quantityUpdateRequests, int id_value) {\r\n\r\n            Map&lt;Integer, Quantity&gt; inputValue = ...\r\n\r\n            Map&lt;Integer, quantityGroup&gt; allocationIdsToUpdatedQuantities = quantityRepository.updateQuantity(inputValue, id_value); // &lt;--- This works fine! (I didn&#39;t write this)\r\n            ArrayList&lt;ArrayList&lt;String&gt;&gt; list = quantityRepository.quantityChangeDetector(inputValue, id_value); \t\t\t\t\t// &lt;-- However, this doesn&#39;t. I am confused as to why that is. (I wrote this)\r\n\r\n            System.out.println(&quot;----------------------------------------------------work----------------------------------------------------&quot;);\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                String message = &quot;id_value: &quot; + list.get(i).get(0) + &quot;\\n Existing Value: &quot; + list.get(i).get(1) + &quot;\\n New Value: &quot; + list.get(i).get(2);\r\n                System.out.println(&quot;----------------------------------------------------&quot;);\r\n                System.out.println(message);\r\n            }\r\n            return updateResponses;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// This is the interface of the method that I&#39;m trying to call\r\npublic interface QuantityRepository {\r\n    Map&lt;Integer, quantityGroup&gt; allocationIdsToUpdatedQuantities(Map&lt;Integer, Quantity&gt; inputValue, int id_value);\r\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; quantityChangeDetector(Map&lt;Integer, Quantity&gt; inputValue, int id_value);\r\n}\r\n\r\n//This is the method I&#39;m trying to call \r\n@Component\r\npublic class quantityRepositoryImpl implements QuantityRepository {\r\n\t\r\n\t...\r\n\t\r\n\t@Override\r\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; quantityChangeDetector(Map&lt;Integer, AllocationQuantity&gt; inputValue, int id_value) {\r\n        return anotherObject.anotherMethod(inputValue, id_value); //this returns an ArrayList&lt;ArrayList&lt;String&gt;&gt; but the problem does not originate here\r\n    }\r\n\t\r\n\t@Override\r\n    public Map&lt;Integer, quantityGroup&gt; updateQuantity(Map&lt;Integer, Quantity&gt; inputValue, int id_value) {\r\n        return doesSomeStuff;\r\n    }\r\n}\r\n```\r\n\r\nAny help or pointers would be greatly appreciated. (I included some comments [on the part of the code that says &quot;the root of the problem&quot;] that highlight the part where I&#39;m having trouble. ","title":"Maven: cannot find symbol (for a method declaration)","body":"<p>When I attempt to run my implementation file in Maven, I get the following error:\n<code>cannot find symbol</code>. I clearly imported (and wrote the corresponding method) and here's the weird part: Intellisense recognizes that I wrote the method (and even suggests it) but Maven does not.</p>\n<p>Here is the implementation file, specifically how I imported the said function and how I called the methods I wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//the root of the problem\n@Component\npublic class service_impl implements service {\n\n    @Autowired\n    private QuantityRepository quantityRepository;\n\n    \n    private Collection&lt;quantityUpdateResponse&gt; updateQuantity(Collection&lt;someArgument&gt; quantityUpdateRequests, int id_value) {\n\n            Map&lt;Integer, Quantity&gt; inputValue = ...\n\n            Map&lt;Integer, quantityGroup&gt; allocationIdsToUpdatedQuantities = quantityRepository.updateQuantity(inputValue, id_value); // &lt;--- This works fine! (I didn't write this)\n            ArrayList&lt;ArrayList&lt;String&gt;&gt; list = quantityRepository.quantityChangeDetector(inputValue, id_value);                    // &lt;-- However, this doesn't. I am confused as to why that is. (I wrote this)\n\n            System.out.println(&quot;----------------------------------------------------work----------------------------------------------------&quot;);\n            for (int i = 0; i &lt; list.size(); i++) {\n                String message = &quot;id_value: &quot; + list.get(i).get(0) + &quot;\\n Existing Value: &quot; + list.get(i).get(1) + &quot;\\n New Value: &quot; + list.get(i).get(2);\n                System.out.println(&quot;----------------------------------------------------&quot;);\n                System.out.println(message);\n            }\n            return updateResponses;\n        }\n    }\n}\n\n\n// This is the interface of the method that I'm trying to call\npublic interface QuantityRepository {\n    Map&lt;Integer, quantityGroup&gt; allocationIdsToUpdatedQuantities(Map&lt;Integer, Quantity&gt; inputValue, int id_value);\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; quantityChangeDetector(Map&lt;Integer, Quantity&gt; inputValue, int id_value);\n}\n\n//This is the method I'm trying to call \n@Component\npublic class quantityRepositoryImpl implements QuantityRepository {\n    \n    ...\n    \n    @Override\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; quantityChangeDetector(Map&lt;Integer, AllocationQuantity&gt; inputValue, int id_value) {\n        return anotherObject.anotherMethod(inputValue, id_value); //this returns an ArrayList&lt;ArrayList&lt;String&gt;&gt; but the problem does not originate here\n    }\n    \n    @Override\n    public Map&lt;Integer, quantityGroup&gt; updateQuantity(Map&lt;Integer, Quantity&gt; inputValue, int id_value) {\n        return doesSomeStuff;\n    }\n}\n</code></pre>\n<p>Any help or pointers would be greatly appreciated. (I included some comments [on the part of the code that says &quot;the root of the problem&quot;] that highlight the part where I'm having trouble.</p>\n"},{"tags":["java","variable-assignment"],"comments":[{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1648988572,"post_id":71725653,"comment_id":126757268,"body_markdown":"Java is pass by value and it is not possible to pass Integer by reference in Java directly.","body":"Java is pass by value and it is not possible to pass Integer by reference in Java directly."}],"answers":[{"comments":[{"owner":{"account_id":24809405,"reputation":1,"user_id":18691029,"display_name":"Explorash"},"score":0,"creation_date":1649082253,"post_id":71725696,"comment_id":126779652,"body_markdown":"Benjamin Rio\nbut when we do with case of arrays\nimport java.util.Arrays;\n\nclass Demo{\n    public static void main(String[] args){\n        int  arr[] = {1,2,3,4,5,6};\n        change(arr);\n        System.out.println(Arrays.toString(arr));\n    }\n    static void change(int nums[])\n    {\n        nums[1] = 69;\n    }\n}\nLike this we don&#39;t need update arr[] again \nwhats happening with Integers as wrapper objects please help me out?","body":"Benjamin Rio but when we do with case of arrays import java.util.Arrays;  class Demo{     public static void main(String[] args){         int  arr[] = {1,2,3,4,5,6};         change(arr);         System.out.println(Arrays.toString(arr));     }     static void change(int nums[])     {         nums[1] = 69;     } } Like this we don&#39;t need update arr[] again  whats happening with Integers as wrapper objects please help me out?"}],"tags":[],"owner":{"account_id":20689131,"reputation":636,"user_id":15190888,"display_name":"Benjamin Rio"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648987294,"creation_date":1648987294,"answer_id":71725696,"question_id":71725653,"body_markdown":"You are not assigning the value `sum(a)` to `a`. The function sum does not edit the value of the reference passed in parameter. You need to update `a`&#39;s value by doing so `a = sum(a)`.\r\n\r\n","title":"Why is value passed as argument is not updated?","body":"<p>You are not assigning the value <code>sum(a)</code> to <code>a</code>. The function sum does not edit the value of the reference passed in parameter. You need to update <code>a</code>'s value by doing so <code>a = sum(a)</code>.</p>\n"},{"tags":[],"owner":{"account_id":27986805,"reputation":1,"user_id":21373457,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686929016,"creation_date":1686929016,"answer_id":76491583,"question_id":71725653,"body_markdown":"You should pass it by reference. \r\n\r\n    public static void main(String[] args)\r\n        { \r\n        Integer a = 5;\r\n        sum(a); \r\n        System.out.println(a);\r\n        }\r\n\r\n    static Integer sum(Integer &amp;a)\r\n        {\r\n        a=a+5; \r\n        return a;\r\n        }\r\n\r\nnow it will work.","title":"Why is value passed as argument is not updated?","body":"<p>You should pass it by reference.</p>\n<pre><code>public static void main(String[] args)\n    { \n    Integer a = 5;\n    sum(a); \n    System.out.println(a);\n    }\n\nstatic Integer sum(Integer &amp;a)\n    {\n    a=a+5; \n    return a;\n    }\n</code></pre>\n<p>now it will work.</p>\n"}],"owner":{"account_id":24809405,"reputation":1,"user_id":18691029,"display_name":"Explorash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686929016,"creation_date":1648986989,"question_id":71725653,"body_markdown":"My code doesn&#39;t return 10 !\r\n\r\nIt seems like `a` variable doesn&#39;t get updated !\r\n\r\nWhy ?\r\n\r\n```\r\n    public static void main(String[] args)\r\n        { \r\n        Integer a = 5;\r\n        sum(a); \r\n        System.out.println(a);\r\n        }\r\n\r\n    static Integer sum(Integer b)\r\n        {\r\n        b=b+5; \r\n        return b;\r\n        }\r\n```","title":"Why is value passed as argument is not updated?","body":"<p>My code doesn't return 10 !</p>\n<p>It seems like <code>a</code> variable doesn't get updated !</p>\n<p>Why ?</p>\n<pre><code>    public static void main(String[] args)\n        { \n        Integer a = 5;\n        sum(a); \n        System.out.println(a);\n        }\n\n    static Integer sum(Integer b)\n        {\n        b=b+5; \n        return b;\n        }\n</code></pre>\n"},{"tags":["java","ssl","java-8","active-directory","ldap"],"answers":[{"comments":[{"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"score":0,"creation_date":1578008686,"post_id":53744042,"comment_id":105310498,"body_markdown":"Aha I ran into this problem. I was not aware of this change. I am glad that I found this answer, I would upvote it couple of times if I could. Thanks man!","body":"Aha I ran into this problem. I was not aware of this change. I am glad that I found this answer, I would upvote it couple of times if I could. Thanks man!"}],"tags":[],"owner":{"account_id":383083,"reputation":4808,"user_id":738708,"display_name":"Ludovic Poitou"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686928395,"creation_date":1544621065,"answer_id":53744042,"question_id":53742937,"body_markdown":"There has been a change in Java 8 update 181 and later with the default settings in JNDI when a client connects to a server using SSL. If the server&#39;s certificate hostname doesn&#39;t match the host that the client connected to, the connection is rejected with that exact message.\r\n\r\nThe issue and the workaround are described in the [Java 8 update 181 release notes][1]:\r\n\r\n&gt; Disable endpoint identification using a new system property:\r\n&gt; `com.sun.jndi.ldap.object.disableEndpointIdentification`. Define this\r\n&gt; system property (or set it to true) to disable endpoint identification\r\n&gt; algorithms.\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html#JDK-8200666","title":"JRE 8u192 - javax.security.auth.login.FailedLoginException: Cannot bind to LDAP server","body":"<p>There has been a change in Java 8 update 181 and later with the default settings in JNDI when a client connects to a server using SSL. If the server's certificate hostname doesn't match the host that the client connected to, the connection is rejected with that exact message.</p>\n<p>The issue and the workaround are described in the <a href=\"https://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html#JDK-8200666\" rel=\"nofollow noreferrer\">Java 8 update 181 release notes</a>:</p>\n<blockquote>\n<p>Disable endpoint identification using a new system property:\n<code>com.sun.jndi.ldap.object.disableEndpointIdentification</code>. Define this\nsystem property (or set it to true) to disable endpoint identification\nalgorithms.</p>\n</blockquote>\n"}],"owner":{"account_id":5020000,"reputation":23,"user_id":4033715,"display_name":"Ajay Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53744042,"answer_count":1,"score":1,"last_activity_date":1686928395,"creation_date":1544617314,"question_id":53742937,"body_markdown":"In my application, I am providing support for Native AD and LDAP. When i am trying to authenticate user using NativeAD its working fine, But for LDAP (we need to install application on linux), I am getting **javax.security.auth.login.FailedLoginException: Cannot bind to LDAP server**.\r\n\r\nError stack:-\r\n\r\n    Caused by: javax.security.auth.login.FailedLoginException: Cannot bind to LDAP server\r\n            ...\r\n    Caused by: javax.naming.CommunicationException: simple bind failed: mydomain.com:3269\r\n            com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\r\n            javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\r\n            javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\r\n            javax.naming.InitialContext.init(Unknown Source)\r\n            javax.naming.ldap.InitialLdapContext.&lt;init&gt;(Unknown Source)\r\n    \r\n            ...\r\n    Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching mydomain.com found.\r\n            sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n            sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n            sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n            sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n            sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n            sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n            sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n            sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n            sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n            sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n            sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\r\n            sun.security.ssl.AppOutputStream.write(Unknown Source)\r\n            java.io.BufferedOutputStream.flushBuffer(Unknown Source)\r\n            java.io.BufferedOutputStream.flush(Unknown Source)\r\n            com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\r\n            com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\r\n            com.sun.jndi.ldap.LdapClient.ldapBind(Unknown Source)\r\n            com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\r\n            javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\r\n            javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\r\n            javax.naming.InitialContext.init(Unknown Source)\r\n            javax.naming.ldap.InitialLdapContext.&lt;init&gt;(Unknown Source)\r\n    \r\n            ...\r\n    Caused by: java.security.cert.CertificateException: No subject alternative DNS name matching mydomain.com found.\r\n            sun.security.util.HostnameChecker.matchDNS(Unknown Source)\r\n            sun.security.util.HostnameChecker.match(Unknown Source)\r\n            sun.security.ssl.X509TrustManagerImpl.checkIdentity(Unknown Source)\r\n            sun.security.ssl.X509TrustManagerImpl.checkIdentity(Unknown Source)\r\n            sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n            sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n            sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n            sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n            sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n            sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n            sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n            sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n            sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\r\n            sun.security.ssl.AppOutputStream.write(Unknown Source)\r\n            java.io.BufferedOutputStream.flushBuffer(Unknown Source)\r\n            java.io.BufferedOutputStream.flush(Unknown Source)\r\n            com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\r\n            com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\r\n            com.sun.jndi.ldap.LdapClient.ldapBind(Unknown Source)\r\n            com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\r\n            com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\r\n            javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\r\n            javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\r\n            javax.naming.InitialContext.init(Unknown Source)\r\n            javax.naming.ldap.InitialLdapContext.&lt;init&gt;(Unknown Source)\r\n\r\nAlso I observed when, I am trying to run application using JRE 1.8.172 same code work fine. In windows JRE 1.8.192 also working.\r\nI also added mydomain.com in my DNS. and mydomain.com certificate in my code.\r\n\r\nFew Links:-\r\nhttps://support.cloudbees.com/hc/en-us/articles/204398654-LDAP-javax-net-ssl-SSLHandshakeException-sun-security-validator-ValidatorException-PKIX-path-building-failed\r\n\r\nhttps://stackoverflow.com/questions/36548510/failedloginexception-encountered-when-using-jaas-ldaploginmodule-to-authenticate\r\n\r\nhttps://confluence.atlassian.com/confkb/java-security-cert-certificateexception-no-subject-alternative-dns-name-matching-hostname-found-452100730.html\r\n\r\nhttps://confluence.atlassian.com/jirakb/java-security-cert-certificateexception-no-subject-alternative-dns-name-matching-hostname-found-297669411.html\r\n\r\n","title":"JRE 8u192 - javax.security.auth.login.FailedLoginException: Cannot bind to LDAP server","body":"<p>In my application, I am providing support for Native AD and LDAP. When i am trying to authenticate user using NativeAD its working fine, But for LDAP (we need to install application on linux), I am getting <strong>javax.security.auth.login.FailedLoginException: Cannot bind to LDAP server</strong>.</p>\n\n<p>Error stack:-</p>\n\n<pre><code>Caused by: javax.security.auth.login.FailedLoginException: Cannot bind to LDAP server\n        ...\nCaused by: javax.naming.CommunicationException: simple bind failed: mydomain.com:3269\n        com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\n        com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\n        com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\n        javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\n        javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\n        javax.naming.InitialContext.init(Unknown Source)\n        javax.naming.ldap.InitialLdapContext.&lt;init&gt;(Unknown Source)\n\n        ...\nCaused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching mydomain.com found.\n        sun.security.ssl.Alerts.getSSLException(Unknown Source)\n        sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n        sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n        sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n        sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n        sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n        sun.security.ssl.Handshaker.processLoop(Unknown Source)\n        sun.security.ssl.Handshaker.process_record(Unknown Source)\n        sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n        sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n        sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\n        sun.security.ssl.AppOutputStream.write(Unknown Source)\n        java.io.BufferedOutputStream.flushBuffer(Unknown Source)\n        java.io.BufferedOutputStream.flush(Unknown Source)\n        com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\n        com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\n        com.sun.jndi.ldap.LdapClient.ldapBind(Unknown Source)\n        com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\n        com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\n        com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\n        javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\n        javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\n        javax.naming.InitialContext.init(Unknown Source)\n        javax.naming.ldap.InitialLdapContext.&lt;init&gt;(Unknown Source)\n\n        ...\nCaused by: java.security.cert.CertificateException: No subject alternative DNS name matching mydomain.com found.\n        sun.security.util.HostnameChecker.matchDNS(Unknown Source)\n        sun.security.util.HostnameChecker.match(Unknown Source)\n        sun.security.ssl.X509TrustManagerImpl.checkIdentity(Unknown Source)\n        sun.security.ssl.X509TrustManagerImpl.checkIdentity(Unknown Source)\n        sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\n        sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n        sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n        sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n        sun.security.ssl.Handshaker.processLoop(Unknown Source)\n        sun.security.ssl.Handshaker.process_record(Unknown Source)\n        sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n        sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n        sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\n        sun.security.ssl.AppOutputStream.write(Unknown Source)\n        java.io.BufferedOutputStream.flushBuffer(Unknown Source)\n        java.io.BufferedOutputStream.flush(Unknown Source)\n        com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\n        com.sun.jndi.ldap.Connection.writeRequest(Unknown Source)\n        com.sun.jndi.ldap.LdapClient.ldapBind(Unknown Source)\n        com.sun.jndi.ldap.LdapClient.authenticate(Unknown Source)\n        com.sun.jndi.ldap.LdapCtx.connect(Unknown Source)\n        com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(Unknown Source)\n        com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(Unknown Source)\n        javax.naming.spi.NamingManager.getInitialContext(Unknown Source)\n        javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)\n        javax.naming.InitialContext.init(Unknown Source)\n        javax.naming.ldap.InitialLdapContext.&lt;init&gt;(Unknown Source)\n</code></pre>\n\n<p>Also I observed when, I am trying to run application using JRE 1.8.172 same code work fine. In windows JRE 1.8.192 also working.\nI also added mydomain.com in my DNS. and mydomain.com certificate in my code.</p>\n\n<p>Few Links:-\n<a href=\"https://support.cloudbees.com/hc/en-us/articles/204398654-LDAP-javax-net-ssl-SSLHandshakeException-sun-security-validator-ValidatorException-PKIX-path-building-failed\" rel=\"nofollow noreferrer\">https://support.cloudbees.com/hc/en-us/articles/204398654-LDAP-javax-net-ssl-SSLHandshakeException-sun-security-validator-ValidatorException-PKIX-path-building-failed</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/36548510/failedloginexception-encountered-when-using-jaas-ldaploginmodule-to-authenticate\">FailedLoginException encountered when using JAAS LdapLoginModule to authenticate with ActiveDirectory</a></p>\n\n<p><a href=\"https://confluence.atlassian.com/confkb/java-security-cert-certificateexception-no-subject-alternative-dns-name-matching-hostname-found-452100730.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/confkb/java-security-cert-certificateexception-no-subject-alternative-dns-name-matching-hostname-found-452100730.html</a></p>\n\n<p><a href=\"https://confluence.atlassian.com/jirakb/java-security-cert-certificateexception-no-subject-alternative-dns-name-matching-hostname-found-297669411.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/jirakb/java-security-cert-certificateexception-no-subject-alternative-dns-name-matching-hostname-found-297669411.html</a></p>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":3414946,"reputation":1039,"user_id":2864125,"accept_rate":75,"display_name":"Ziemowit Stolarczyk"},"score":10,"creation_date":1510231617,"post_id":37320870,"comment_id":81352786,"body_markdown":"If you want to make validation on **@RestController** endpoint then I think easier is to just expect the **java.util.UUID** type. If there will be not possible to map the value from HTTP request to valid UUID then spring just refuse the request  :)","body":"If you want to make validation on <b>@RestController</b> endpoint then I think easier is to just expect the <b>java.util.UUID</b> type. If there will be not possible to map the value from HTTP request to valid UUID then spring just refuse the request  :)"},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1692026185,"post_id":37320870,"comment_id":135566731,"body_markdown":"At least now, `org.hibernate.validator.constraints.UUID` is in place and we&#39;re using it.","body":"At least now, <code>org.hibernate.validator.constraints.UUID</code> is in place and we&#39;re using it."}],"answers":[{"comments":[{"owner":{"account_id":214895,"reputation":1163,"user_id":469154,"accept_rate":50,"display_name":"Emanuel George Hategan"},"score":14,"creation_date":1465305954,"post_id":37322115,"comment_id":62838345,"body_markdown":"Thank you @Jaiwo99 I was hoping validating uuids is common enough so that it is already included in libraries and I don&#39;t need to reinvent the wheel...","body":"Thank you @Jaiwo99 I was hoping validating uuids is common enough so that it is already included in libraries and I don&#39;t need to reinvent the wheel..."},{"owner":{"account_id":11259466,"reputation":1430,"user_id":8258222,"display_name":"helospark"},"score":5,"creation_date":1534229340,"post_id":37322115,"comment_id":90624085,"body_markdown":"In case of constraint violation this returns the error message of the @Pattern annotation, not the custom `message()`. To return the custom error message set from outside, you can add `javax.validation.ReportAsSingleViolation` metaannotation.","body":"In case of constraint violation this returns the error message of the @Pattern annotation, not the custom <code>message()</code>. To return the custom error message set from outside, you can add <code>javax.validation.ReportAsSingleViolation</code> metaannotation."},{"owner":{"account_id":8091203,"reputation":2621,"user_id":6097074,"accept_rate":83,"display_name":"ankit"},"score":0,"creation_date":1535097038,"post_id":37322115,"comment_id":90948646,"body_markdown":"@Jaiwo99 your interface not work for me. it not throw me custom message. neither default message.","body":"@Jaiwo99 your interface not work for me. it not throw me custom message. neither default message."},{"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"score":1,"creation_date":1541667947,"post_id":37322115,"comment_id":93296976,"body_markdown":"This regex will invalidate all upper case or if a single upper case char is present in the UUID.","body":"This regex will invalidate all upper case or if a single upper case char is present in the UUID."},{"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"score":0,"creation_date":1541683953,"post_id":37322115,"comment_id":93305439,"body_markdown":"@dazito Hi, you are right, but this is not the ultimate solution for all possible UUID validation, feel free to change it so that it suits your requirement.","body":"@dazito Hi, you are right, but this is not the ultimate solution for all possible UUID validation, feel free to change it so that it suits your requirement."},{"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"score":1,"creation_date":1541698220,"post_id":37322115,"comment_id":93313962,"body_markdown":"Sure, I was just pointing out in case someone does a copy paste and then is wondering why it is failing (in case it fails) :)","body":"Sure, I was just pointing out in case someone does a copy paste and then is wondering why it is failing (in case it fails) :)"},{"owner":{"account_id":112773,"reputation":7976,"user_id":297331,"accept_rate":53,"display_name":"Niel de Wet"},"score":2,"creation_date":1554751945,"post_id":37322115,"comment_id":97859517,"body_markdown":"@dazito This can easily be fixed by passing the `Pattern.Flag.CASE_INSENSITIVE` flag to `@Pattern`","body":"@dazito This can easily be fixed by passing the <code>Pattern.Flag.CASE_INSENSITIVE</code> flag to <code>@Pattern</code>"},{"owner":{"account_id":1869196,"reputation":382,"user_id":1691877,"accept_rate":33,"display_name":"Mojtaba"},"score":1,"creation_date":1611741654,"post_id":37322115,"comment_id":116545848,"body_markdown":"@Jaiwo99 You cannot apply the &#39;@Pattern&#39; annotation to something (java.util.UUID) that is not a CharSequence.https://stackoverflow.com/questions/53868539/validate-uuid-restful-service","body":"@Jaiwo99 You cannot apply the &#39;@Pattern&#39; annotation to something (java.util.UUID) that is not a CharSequence.<a href=\"https://stackoverflow.com/questions/53868539/validate-uuid-restful-service\" title=\"validate uuid restful service\">stackoverflow.com/questions/53868539/&hellip;</a>"},{"owner":{"account_id":1869196,"reputation":382,"user_id":1691877,"accept_rate":33,"display_name":"Mojtaba"},"score":0,"creation_date":1611749546,"post_id":37322115,"comment_id":116549542,"body_markdown":"@ankit the proper answer for UUID validation can be found in https://stackoverflow.com/questions/53868539/validate-uuid-restful-service/","body":"@ankit the proper answer for UUID validation can be found in <a href=\"https://stackoverflow.com/questions/53868539/validate-uuid-restful-service/\" title=\"validate uuid restful service\">stackoverflow.com/questions/53868539/&hellip;</a>"}],"tags":[],"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"comment_count":9,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1472117383,"creation_date":1463658032,"answer_id":37322115,"question_id":37320870,"body_markdown":"yes, build it by yourself\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Constraint(validatedBy={})\r\n    @Retention(RUNTIME)\r\n    @Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$&quot;)\r\n    public @interface UUID {\r\n        String message() default &quot;{invalid.uuid}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }","title":"Is there a uuid validator annotation?","body":"<p>yes, build it by yourself</p>\n\n<pre><code>@Target(ElementType.FIELD)\n@Constraint(validatedBy={})\n@Retention(RUNTIME)\n@Pattern(regexp=\"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$\")\npublic @interface UUID {\n    String message() default \"{invalid.uuid}\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3975927,"reputation":792,"user_id":3279119,"display_name":"Ludovic Ronsin"},"score":1,"creation_date":1621249067,"post_id":40111829,"comment_id":119429481,"body_markdown":"There are at least 3 ways of defining your own message in a composed constraint (like in @Jaiwo99 answer)\n* Set the `@Pattern` message field with a static default message.\n* Use `@javax.validation.OverridesAttribute` to override `@Pattern` default message and give the ability to contextualise with constraint usage.\n* `@javax.validation.ReportAsSingleViolation` to return only the message set by your annotation.\nIn this particular case, I would use `@ReportAsSingleViolation`\nSee https://beanvalidation.org/1.1/spec/#constraintsdefinitionimplementation-constraintcomposition","body":"There are at least 3 ways of defining your own message in a composed constraint (like in @Jaiwo99 answer) * Set the <code>@Pattern</code> message field with a static default message. * Use <code>@javax.validation.OverridesAttribute</code> to override <code>@Pattern</code> default message and give the ability to contextualise with constraint usage. * <code>@javax.validation.ReportAsSingleViolation</code> to return only the message set by your annotation. In this particular case, I would use <code>@ReportAsSingleViolation</code> See <a href=\"https://beanvalidation.org/1.1/spec/#constraintsdefinitionimplementation-constraintcomposition\" rel=\"nofollow noreferrer\">beanvalidation.org/1.1/spec/&hellip;</a>"}],"tags":[],"owner":{"account_id":246215,"reputation":16969,"user_id":520229,"accept_rate":67,"display_name":"mrzli"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1621266683,"creation_date":1476803143,"answer_id":40111829,"question_id":37320870,"body_markdown":"**[Updated]**\r\n\r\nThe solution from @Jaiwo99 will not display the specified message, it will instead display the error message from `@Pattern`. To fix this issue, just add `@ReportAsSingleViolation` annotation to @Jaiwo&#39;s solution. (@LudovicRonsin pointed this out in a comment to this answer, and @helospark in a comment to @Jaiwo99&#39;s answer.)\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Constraint(validatedBy={})\r\n@Retention(RUNTIME)\r\n@Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$&quot;)\r\n@ReportAsSingleViolation\r\npublic @interface UUID {\r\n    String message() default &quot;{invalid.uuid}&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n**[Old Answer]**\r\n\r\nThe solution from Jaiwo99 works, but I was unable to set a custom message from the outside (it is overriden by the message from `@Pattern`). If you need that, I propose that you simply use something like this:\r\n\r\n    @Pattern(regexp = SomeUtilClass.UUID_PATTERN, message = &quot;TokenFormatError&quot;)\r\n    private String token;\r\n\r\nYou can put the pattern in some static final field to avoid duplication:\r\n\r\n    public static SomeUtilClass {\r\n        public static final String UUID_PATTERN = &quot;^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$&quot;;\r\n    }","title":"Is there a uuid validator annotation?","body":"<p><strong>[Updated]</strong></p>\n<p>The solution from @Jaiwo99 will not display the specified message, it will instead display the error message from <code>@Pattern</code>. To fix this issue, just add <code>@ReportAsSingleViolation</code> annotation to @Jaiwo's solution. (@LudovicRonsin pointed this out in a comment to this answer, and @helospark in a comment to @Jaiwo99's answer.)</p>\n<pre><code>@Target(ElementType.FIELD)\n@Constraint(validatedBy={})\n@Retention(RUNTIME)\n@Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$&quot;)\n@ReportAsSingleViolation\npublic @interface UUID {\n    String message() default &quot;{invalid.uuid}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><strong>[Old Answer]</strong></p>\n<p>The solution from Jaiwo99 works, but I was unable to set a custom message from the outside (it is overriden by the message from <code>@Pattern</code>). If you need that, I propose that you simply use something like this:</p>\n<pre><code>@Pattern(regexp = SomeUtilClass.UUID_PATTERN, message = &quot;TokenFormatError&quot;)\nprivate String token;\n</code></pre>\n<p>You can put the pattern in some static final field to avoid duplication:</p>\n<pre><code>public static SomeUtilClass {\n    public static final String UUID_PATTERN = &quot;^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":448699,"reputation":544,"user_id":843055,"display_name":"Ajo Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615722934,"creation_date":1615722934,"answer_id":66624230,"question_id":37320870,"body_markdown":"Same as @Jaiwo99&#39;s answer , but as @mrzli pointed out, the pattern&#39;s message overrides any custom messages. Using message in the @Pattern will fix that if you want custom messages.\r\n\r\n```java\r\n@Target(ElementType.FIELD)\r\n@Constraint(validatedBy={})\r\n@Retention(RUNTIME)\r\n@Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$&quot;, message = &quot;Not a valid UUID&quot;)\r\npublic @interface UUID {\r\n    String message() default &quot;{invalid.uuid}&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```","title":"Is there a uuid validator annotation?","body":"<p>Same as @Jaiwo99's answer , but as @mrzli pointed out, the pattern's message overrides any custom messages. Using message in the @Pattern will fix that if you want custom messages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.FIELD)\n@Constraint(validatedBy={})\n@Retention(RUNTIME)\n@Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$&quot;, message = &quot;Not a valid UUID&quot;)\npublic @interface UUID {\n    String message() default &quot;{invalid.uuid}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":140150,"reputation":1081,"user_id":346247,"display_name":"Jim Bethancourt"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1686928237,"creation_date":1676042979,"answer_id":75413073,"question_id":37320870,"body_markdown":"At the time of the question there wasn&#39;t one but in the meantime it has been added starting with org.hibernate.validator:hibernate-validator:8.0.0.Final\r\n\r\nhttps://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/constraints/UUID.html\r\n\r\n","title":"Is there a uuid validator annotation?","body":"<p>At the time of the question there wasn't one but in the meantime it has been added starting with org.hibernate.validator:hibernate-validator:8.0.0.Final</p>\n<p><a href=\"https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/constraints/UUID.html\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/constraints/UUID.html</a></p>\n"}],"owner":{"account_id":214895,"reputation":1163,"user_id":469154,"accept_rate":50,"display_name":"Emanuel George Hategan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37426,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":75413073,"answer_count":4,"score":36,"last_activity_date":1686928237,"creation_date":1463654599,"question_id":37320870,"body_markdown":"I can&#39;t find a `@UUID` (or similar) annotation for validating input parameters in a java web app. \r\n\r\nI&#39;ve looked so far in \r\n\r\n1. javax.validation.constraints\r\n2. org.hibernate.validator.constraints","title":"Is there a uuid validator annotation?","body":"<p>I can't find a <code>@UUID</code> (or similar) annotation for validating input parameters in a java web app. </p>\n\n<p>I've looked so far in </p>\n\n<ol>\n<li>javax.validation.constraints</li>\n<li>org.hibernate.validator.constraints</li>\n</ol>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2701609,"reputation":3506,"user_id":2332217,"accept_rate":69,"display_name":"Oli"},"score":0,"creation_date":1368709768,"post_id":16588347,"comment_id":23840120,"body_markdown":"You cannot unzip a apk file. You have to decompile it if possible..","body":"You cannot unzip a apk file. You have to decompile it if possible.."},{"owner":{"account_id":1901194,"reputation":8771,"user_id":1717036,"accept_rate":74,"display_name":"Qadir Hussain"},"score":0,"creation_date":1368709829,"post_id":16588347,"comment_id":23840158,"body_markdown":"what do you want to do exactly? do you want to install a apk from assets folder?","body":"what do you want to do exactly? do you want to install a apk from assets folder?"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1368710188,"post_id":16588347,"comment_id":23840393,"body_markdown":"@Oli: You can! unzip an apk file because the compress algorythm is zip based.","body":"@Oli: You can! unzip an apk file because the compress algorythm is zip based."},{"owner":{"account_id":2701609,"reputation":3506,"user_id":2332217,"accept_rate":69,"display_name":"Oli"},"score":0,"creation_date":1368710364,"post_id":16588347,"comment_id":23840536,"body_markdown":"@Reporter Oh ok, thanks ;) - to get the assets db its usefull","body":"@Reporter Oh ok, thanks ;) - to get the assets db its usefull"},{"owner":{"account_id":2701609,"reputation":3506,"user_id":2332217,"accept_rate":69,"display_name":"Oli"},"score":0,"creation_date":1368710436,"post_id":16588347,"comment_id":23840583,"body_markdown":"@user2380107 can you give us some background informations?","body":"@user2380107 can you give us some background informations?"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1368710746,"post_id":16588347,"comment_id":23840818,"body_markdown":"Maybe http://stackoverflow.com/questions/3048669/how-can-i-add-entries-to-an-existing-zip-file-in-java and the menthonied related links can help for your task.","body":"Maybe <a href=\"http://stackoverflow.com/questions/3048669/how-can-i-add-entries-to-an-existing-zip-file-in-java\" title=\"how can i add entries to an existing zip file in java\">stackoverflow.com/questions/3048669/&hellip;</a> and the menthonied related links can help for your task."},{"owner":{"account_id":2763811,"reputation":69,"user_id":2380107,"accept_rate":0,"display_name":"Shylendra"},"score":0,"creation_date":1369025057,"post_id":16588347,"comment_id":23936042,"body_markdown":"@Hussain: I want to install that .apk from assets folder before that i want to insert a .sql file into it. (is this process is possible under mobile?)","body":"@Hussain: I want to install that .apk from assets folder before that i want to insert a .sql file into it. (is this process is possible under mobile?)"}],"answers":[{"comments":[{"owner":{"account_id":177068,"reputation":3787,"user_id":408178,"accept_rate":77,"display_name":"Snailer"},"score":0,"creation_date":1368715556,"post_id":16590348,"comment_id":23844221,"body_markdown":"I haven&#39;t tested this, but you may need to rename the extension to .zip. ZipFile will work, though.","body":"I haven&#39;t tested this, but you may need to rename the extension to .zip. ZipFile will work, though."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1368715944,"post_id":16590348,"comment_id":23844536,"body_markdown":"No, The programs and your code don&#39;t care about extensions. Only on Windows if you double click the file the extension matters.","body":"No, The programs and your code don&#39;t care about extensions. Only on Windows if you double click the file the extension matters."},{"owner":{"account_id":177068,"reputation":3787,"user_id":408178,"accept_rate":77,"display_name":"Snailer"},"score":0,"creation_date":1368720646,"post_id":16590348,"comment_id":23847617,"body_markdown":"Ah, ok. I know code doesn&#39;t care, but I wasn&#39;t sure if any of the zip API threw something if the file wasn&#39;t a recognized extension (zip,tar,etc)","body":"Ah, ok. I know code doesn&#39;t care, but I wasn&#39;t sure if any of the zip API threw something if the file wasn&#39;t a recognized extension (zip,tar,etc)"},{"owner":{"account_id":2763811,"reputation":69,"user_id":2380107,"accept_rate":0,"display_name":"Shylendra"},"score":0,"creation_date":1369025706,"post_id":16590348,"comment_id":23936224,"body_markdown":"@Robert: So is it possible to create a modified .apk (which can be installable on mpbile) from mobile and store it in external sd_card?","body":"@Robert: So is it possible to create a modified .apk (which can be installable on mpbile) from mobile and store it in external sd_card?"},{"owner":{"account_id":2763811,"reputation":69,"user_id":2380107,"accept_rate":0,"display_name":"Shylendra"},"score":0,"creation_date":1369204685,"post_id":16590348,"comment_id":24011046,"body_markdown":"@Robert: How to re-sign a modified .apk file?","body":"@Robert: How to re-sign a modified .apk file?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1369208061,"post_id":16590348,"comment_id":24012489,"body_markdown":"You have to add the MD5 hash of each file in the APK file into the MANIFEST.MF and the sign the MANIFEST.MF with an self-signed certificate. See http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_File","body":"You have to add the MD5 hash of each file in the APK file into the MANIFEST.MF and the sign the MANIFEST.MF with an self-signed certificate. See <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_File\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/jar/&hellip;</a>"}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686928203,"creation_date":1368714957,"answer_id":16590348,"question_id":16588347,"body_markdown":"APK files are ZIP files, therefore the classes below [java.util.zip][1] should serve you well. Note that deleting a file from a ZIP file is not that simple - therefore it would be easier to have an APK file without the file to be modified and the file separately.\r\nAdding the modified file to the APK is much simpler.\r\n\r\nFurthermore you have to consider that a modified APK file can not be installed on Android as it&#39;s signature is invalid. Hence you have to re-sign. \r\n\r\n&lt;s&gt;Unfortunately the tool for signing an JAR/APK file is only included in the Java SDK and it is a native program for x86 which can&#39;t be executed on Android/ARM.&lt;/s&gt;\r\n\r\nEdit 2023-06: Google provides the [apksig library][2] (pure Java) which can sign (or verify) an APK file. The only part that is left is the aligning before signing. There is the [zipalign-java][3] project which seem to be able to handle most alignment cases. \r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/zip/package-summary.html\r\n  [2]: https://mvnrepository.com/artifact/com.android.tools.build/apksig?repo=google\r\n  [3]: https://github.com/Iyxan23/zipalign-java","title":"How to unzip .apk file programatically from mobile ? and how to insert a file into it?","body":"<p>APK files are ZIP files, therefore the classes below <a href=\"http://developer.android.com/reference/java/util/zip/package-summary.html\" rel=\"nofollow noreferrer\">java.util.zip</a> should serve you well. Note that deleting a file from a ZIP file is not that simple - therefore it would be easier to have an APK file without the file to be modified and the file separately.\nAdding the modified file to the APK is much simpler.</p>\n<p>Furthermore you have to consider that a modified APK file can not be installed on Android as it's signature is invalid. Hence you have to re-sign.</p>\n<p><s>Unfortunately the tool for signing an JAR/APK file is only included in the Java SDK and it is a native program for x86 which can't be executed on Android/ARM.</s></p>\n<p>Edit 2023-06: Google provides the <a href=\"https://mvnrepository.com/artifact/com.android.tools.build/apksig?repo=google\" rel=\"nofollow noreferrer\">apksig library</a> (pure Java) which can sign (or verify) an APK file. The only part that is left is the aligning before signing. There is the <a href=\"https://github.com/Iyxan23/zipalign-java\" rel=\"nofollow noreferrer\">zipalign-java</a> project which seem to be able to handle most alignment cases.</p>\n"},{"tags":[],"owner":{"account_id":7909816,"reputation":25,"user_id":5974208,"display_name":"Capitan Luzzatto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494344781,"creation_date":1494343766,"answer_id":43873975,"question_id":16588347,"body_markdown":"You CAN do this. First, you have to:\r\n\r\n 1. Change the file extension from .apk to .zip.\r\n 2. Unzip it and now it became a folder.\r\n 3. Change, delete what you want.\r\n 4. Zip the folder.\r\n 5. Change the extension to from .zip to .apk\r\n 6. Sign the APK using apksigner.\r\n 7. Install it.","title":"How to unzip .apk file programatically from mobile ? and how to insert a file into it?","body":"<p>You CAN do this. First, you have to:</p>\n\n<ol>\n<li>Change the file extension from .apk to .zip.</li>\n<li>Unzip it and now it became a folder.</li>\n<li>Change, delete what you want.</li>\n<li>Zip the folder.</li>\n<li>Change the extension to from .zip to .apk</li>\n<li>Sign the APK using apksigner.</li>\n<li>Install it.</li>\n</ol>\n"}],"owner":{"account_id":2763811,"reputation":69,"user_id":2380107,"accept_rate":0,"display_name":"Shylendra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686928203,"creation_date":1368709697,"question_id":16588347,"body_markdown":"I have a .apk file in assets folder.I want to  unzip that .apk file and  insert a file in it and generate a .apk from mobile. How can i achieve it? give any suggestions.","title":"How to unzip .apk file programatically from mobile ? and how to insert a file into it?","body":"<p>I have a .apk file in assets folder.I want to  unzip that .apk file and  insert a file in it and generate a .apk from mobile. How can i achieve it? give any suggestions.</p>\n"},{"tags":["java","regex","sonarqube","denial-of-service"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1686927171,"post_id":76491311,"comment_id":134870224,"body_markdown":"Yes, this is a bad pattern. Just use `Matcher.find()` with `&quot;[^a-zA-Z0-9 \\\\\\\\]&quot;` regex string.","body":"Yes, this is a bad pattern. Just use <code>Matcher.find()</code> with <code>&quot;[^a-zA-Z0-9 \\\\\\\\]&quot;</code> regex string."},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1686952901,"post_id":76491311,"comment_id":134874531,"body_markdown":"Unfortunately your app sonarqube there searches for `.*` or `.*?` before and after and declares it a catastrophic backtracking candidate. In reality having a single non-complex subterm in the middle (like `[^a-zA-Z0-9 \\\\]` does not cause any regex engine to backtrack more than once if `.*`, none if `.*?`. In essence leading `.*` terms start at the end of a string and backtrack once. If it doesn&#39;t find it it never gets to the trailing `.*`. If I were you I&#39;d report this bug. Pass/Fail : 127,000 characters (40ms), no backtracking : https://regex101.com/r/mza1SF/1 https://regex101.com/r/JX0pHo/1","body":"Unfortunately your app sonarqube there searches for <code>.*</code> or <code>.*?</code> before and after and declares it a catastrophic backtracking candidate. In reality having a single non-complex subterm in the middle (like <code>[^a-zA-Z0-9 \\\\]</code> does not cause any regex engine to backtrack more than once if <code>.*</code>, none if <code>.*?</code>. In essence leading <code>.*</code> terms start at the end of a string and backtrack once. If it doesn&#39;t find it it never gets to the trailing <code>.*</code>. If I were you I&#39;d report this bug. Pass/Fail : 127,000 characters (40ms), no backtracking : <a href=\"https://regex101.com/r/mza1SF/1\" rel=\"nofollow noreferrer\">regex101.com/r/mza1SF/1</a> <a href=\"https://regex101.com/r/JX0pHo/1\" rel=\"nofollow noreferrer\">regex101.com/r/JX0pHo/1</a>"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1687022421,"post_id":76491311,"comment_id":134880438,"body_markdown":"Please disregard that listed Duplicate as it is highly inaccurate.","body":"Please disregard that listed Duplicate as it is highly inaccurate."},{"owner":{"account_id":2765236,"reputation":83,"user_id":2381118,"accept_rate":25,"display_name":"Techie"},"score":0,"creation_date":1687777540,"post_id":76491311,"comment_id":134979280,"body_markdown":"Hi, Thanks for your response. So in conclusion Sonar should not have reported this as an issue?","body":"Hi, Thanks for your response. So in conclusion Sonar should not have reported this as an issue?"}],"owner":{"account_id":2765236,"reputation":83,"user_id":2381118,"accept_rate":25,"display_name":"Techie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686927225,"answer_count":0,"score":0,"last_activity_date":1686927005,"creation_date":1686926957,"question_id":76491311,"body_markdown":"This line of code in java is reported by sonar scan as a Security hotspot risk under Denial of Service (DoS) category. \r\n\r\n    name.matches(&quot;^.*[^a-zA-Z0-9 \\\\\\\\].*$&quot;)\r\n\r\nHow can I fix this? Is there an option to write this regular expression as a Java function?","title":"Sonar scan reports issue in Regex","body":"<p>This line of code in java is reported by sonar scan as a Security hotspot risk under Denial of Service (DoS) category.</p>\n<pre><code>name.matches(&quot;^.*[^a-zA-Z0-9 \\\\\\\\].*$&quot;)\n</code></pre>\n<p>How can I fix this? Is there an option to write this regular expression as a Java function?</p>\n"},{"tags":["java","plugins","minecraft","spigot"],"comments":[{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1686657717,"post_id":76464042,"comment_id":134826415,"body_markdown":"The error is referring to the `api-version` set in your `plugin.yml`. Could you edit your post to include your `plugin.yml`?","body":"The error is referring to the <code>api-version</code> set in your <code>plugin.yml</code>. Could you edit your post to include your <code>plugin.yml</code>?"},{"owner":{"account_id":28520537,"reputation":11,"user_id":21829297,"display_name":"Entropire"},"score":0,"creation_date":1686661829,"post_id":76464042,"comment_id":134827391,"body_markdown":"i have included the plugin.yml","body":"i have included the plugin.yml"}],"answers":[{"tags":[],"owner":{"account_id":23013190,"reputation":31,"user_id":17135415,"display_name":"Lennert Soffers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686926920,"creation_date":1686926920,"answer_id":76491301,"question_id":76464042,"body_markdown":"The api-version in the yml file is seen as a number (with 2 decimals).\r\nThe 0 gets trimmed because the number is round.\r\nThats why the error says you are using api-version 1.2\r\n\r\nYou should make the api-version a string so it will recognise it as 1.20.\r\n\r\n```yml\r\nname: CustomServer\r\nversion: &#39;1.0&#39;\r\nmain: me.user.customserver.CustomServer\r\napi-version: &#39;1.20&#39;\r\n```","title":"Error loading plugin: Unsupported API version 1.2","body":"<p>The api-version in the yml file is seen as a number (with 2 decimals).\nThe 0 gets trimmed because the number is round.\nThats why the error says you are using api-version 1.2</p>\n<p>You should make the api-version a string so it will recognise it as 1.20.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: CustomServer\nversion: '1.0'\nmain: me.user.customserver.CustomServer\napi-version: '1.20'\n</code></pre>\n"}],"owner":{"account_id":28520537,"reputation":11,"user_id":21829297,"display_name":"Entropire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686926920,"creation_date":1686652781,"question_id":76464042,"body_markdown":"I&#39;m making a plugin for my server, but when I start the server, it gives me this error:\r\n\r\n```\r\n[Server thread/ERROR]: Could not load &#39;plugins\\CustomServer.jar&#39; in folder &#39;plugins&#39;\r\norg.bukkit.plugin.InvalidPluginException: Unsupported API version 1.2\r\n        at org.bukkit.craftbukkit.v1_20_R1.util.CraftMagicNumbers.checkSupported(CraftMagicNumbers.java:317) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\r\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:141) ~[spigot-api-1.20-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:394) ~[spigot-api-1.20-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:301) ~[spigot-api-1.20-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadPlugins(CraftServer.java:429) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\r\n        at net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:219) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\r\n        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:973) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\r\n        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\r\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n```\r\n\r\nplugin.yml:\r\n```yml\r\nname: CustomServer\r\nversion: &#39;1.0&#39;\r\nmain: me.user.customserver.CustomServer\r\napi-version: 1.20\r\n```\r\n","title":"Error loading plugin: Unsupported API version 1.2","body":"<p>I'm making a plugin for my server, but when I start the server, it gives me this error:</p>\n<pre><code>[Server thread/ERROR]: Could not load 'plugins\\CustomServer.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: Unsupported API version 1.2\n        at org.bukkit.craftbukkit.v1_20_R1.util.CraftMagicNumbers.checkSupported(CraftMagicNumbers.java:317) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:141) ~[spigot-api-1.20-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:394) ~[spigot-api-1.20-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:301) ~[spigot-api-1.20-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadPlugins(CraftServer.java:429) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\n        at net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:219) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\n        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:973) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\n        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.20-R0.1-SNAPSHOT.jar:3797-Spigot-7e2af8b-091027a]\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\n</code></pre>\n<p>plugin.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: CustomServer\nversion: '1.0'\nmain: me.user.customserver.CustomServer\napi-version: 1.20\n</code></pre>\n"},{"tags":["java","ejb","wildfly","ejb-3.0","wildfly-26"],"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686926855,"creation_date":1686926855,"question_id":76491297,"body_markdown":"I have a wildfly 26.0.0 server working behind a company proxy and exposing EJBs.\r\n\r\nMy fat client can connect directly to the server if they are both on the same VLAN but I can&#39;t make it works through the company proxy.\r\n\r\nThe client use undertow and xnio to connect to the server (using the dependecy `org.wildfly:wildfly-ejb-client-bom:26.0.0.Final`).\r\nI tried to use:\r\n - remote+http protocol using legacy file *jboss-ejb-client.properties* \r\n - full http protocol using *wildfly-config.xml* file and\r\n   `org.wildfly.naming.client.WildFlyInitialContextFactory` context\r\n   factory.\r\n\r\nWith both methods, direct connection works but not through proxy.\r\n\r\nI set the proxy with VM options: `-Dhttp.proxyHost=&lt;host&gt; -Dhttp.proxyPort=&lt;port&gt;` and also tried with `-Djava.net.useSystemProxies=true`.\r\n\r\nNote that a `curl` call through the proxy also works, so the required ports are opened.\r\n\r\nThe issue seems to be [known](https://issues.redhat.com/browse/XNIO-274) but the suggested patch doesn&#39;t works.\r\n\r\n\r\nIs there any way to have a fat client call EJB through a forward proxy?\r\n","title":"Call EJB through a forward proxy","body":"<p>I have a wildfly 26.0.0 server working behind a company proxy and exposing EJBs.</p>\n<p>My fat client can connect directly to the server if they are both on the same VLAN but I can't make it works through the company proxy.</p>\n<p>The client use undertow and xnio to connect to the server (using the dependecy <code>org.wildfly:wildfly-ejb-client-bom:26.0.0.Final</code>).\nI tried to use:</p>\n<ul>\n<li>remote+http protocol using legacy file <em>jboss-ejb-client.properties</em></li>\n<li>full http protocol using <em>wildfly-config.xml</em> file and\n<code>org.wildfly.naming.client.WildFlyInitialContextFactory</code> context\nfactory.</li>\n</ul>\n<p>With both methods, direct connection works but not through proxy.</p>\n<p>I set the proxy with VM options: <code>-Dhttp.proxyHost=&lt;host&gt; -Dhttp.proxyPort=&lt;port&gt;</code> and also tried with <code>-Djava.net.useSystemProxies=true</code>.</p>\n<p>Note that a <code>curl</code> call through the proxy also works, so the required ports are opened.</p>\n<p>The issue seems to be <a href=\"https://issues.redhat.com/browse/XNIO-274\" rel=\"nofollow noreferrer\">known</a> but the suggested patch doesn't works.</p>\n<p>Is there any way to have a fat client call EJB through a forward proxy?</p>\n"},{"tags":["java","authentication","ldap"],"comments":[{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1600106971,"post_id":56325782,"comment_id":112977669,"body_markdown":"Does this answer your question? [LDAP: error code 49 - 80090308: LdapErr: DSID-0C0903A9, comment: AcceptSecurityContext error, data 52e, v1db1](https://stackoverflow.com/questions/31411665/ldap-error-code-49-80090308-ldaperr-dsid-0c0903a9-comment-acceptsecurityc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31411665/ldap-error-code-49-80090308-ldaperr-dsid-0c0903a9-comment-acceptsecurityc\">LDAP: error code 49 - 80090308: LdapErr: DSID-0C0903A9, comment: AcceptSecurityContext error, data 52e, v1db1</a>"}],"answers":[{"comments":[{"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"score":0,"creation_date":1559029835,"post_id":56327066,"comment_id":99280486,"body_markdown":"Now i am getting `javax.naming.PartialResultException: Unprocessed Continuation Reference(s); remaining name &#39;DC=test,DC=local&#39;`after using using the dn as `user_test@test.local`. Please help me . thanks @Alister","body":"Now i am getting <code>javax.naming.PartialResultException: Unprocessed Continuation Reference(s); remaining name &#39;DC=test,DC=local&#39;</code>after using using the dn as <code>user_test@test.local</code>. Please help me . thanks @Alister"},{"owner":{"account_id":9487282,"reputation":111,"user_id":7053298,"display_name":"Alister"},"score":0,"creation_date":1559036613,"post_id":56327066,"comment_id":99284067,"body_markdown":"Look, you should put username into hashtable without dn part: \n**env.put(Context.SECURITY_PRINCIPAL, &quot;user_test@test.local&quot;);**","body":"Look, you should put username into hashtable without dn part:  <b>env.put(Context.SECURITY_PRINCIPAL, &quot;user_test@test.local&quot;);</b>"},{"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"score":0,"creation_date":1559037351,"post_id":56327066,"comment_id":99284494,"body_markdown":"Yes, I&#39;m putting the same and not using dn now. even getting the same error. please help me..thanks @Alister","body":"Yes, I&#39;m putting the same and not using dn now. even getting the same error. please help me..thanks @Alister"},{"owner":{"account_id":9487282,"reputation":111,"user_id":7053298,"display_name":"Alister"},"score":0,"creation_date":1559037902,"post_id":56327066,"comment_id":99284772,"body_markdown":"Well replace original code in your question with current code. I don not see how can you receive error with text &quot;javax.naming.PartialResultException: Unprocessed Continuation Reference(s); remaining name &#39;DC=test,DC=local&#39;after using using the dn as user_test@test.local&quot; if you are not using DN anywhere in your code.","body":"Well replace original code in your question with current code. I don not see how can you receive error with text &quot;javax.naming.PartialResultException: Unprocessed Continuation Reference(s); remaining name &#39;DC=test,DC=local&#39;after using using the dn as user_test@test.local&quot; if you are not using DN anywhere in your code."},{"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"score":0,"creation_date":1559039866,"post_id":56327066,"comment_id":99285873,"body_markdown":"NamingEnumeration answer = ctx.search(&quot;DC=test,DC=local&quot;, &quot;sAMAccountName=user_test@test.local&quot;, constraints); - getting error here. please check. thanks @Alister","body":"NamingEnumeration answer = ctx.search(&quot;DC=test,DC=local&quot;, &quot;sAMAccountName=user_test@test.local&quot;, constraints); - getting error here. please check. thanks @Alister"},{"owner":{"account_id":9487282,"reputation":111,"user_id":7053298,"display_name":"Alister"},"score":0,"creation_date":1559042617,"post_id":56327066,"comment_id":99287358,"body_markdown":"In my case when I reproduced the ctx.search I&#39;ve got no exception, I suppose you have complex AD tree structure. In any case, first of all, sAMAccountName should be without domain part, **NamingEnumeration answer = ctx.search(&quot;DC=test,DC=local&quot;, &quot;sAMAccountName=user_test&quot;, constraints);** Besides you should provide correct constraint, taking into account the complexity of your AD tree, may be it should be of subtree scope, SearchControls searchControls = new SearchControls();  searchControls.setSearchScope(SearchControls.SUBTREE_SCOPE);","body":"In my case when I reproduced the ctx.search I&#39;ve got no exception, I suppose you have complex AD tree structure. In any case, first of all, sAMAccountName should be without domain part, <b>NamingEnumeration answer = ctx.search(&quot;DC=test,DC=local&quot;, &quot;sAMAccountName=user_test&quot;, constraints);</b> Besides you should provide correct constraint, taking into account the complexity of your AD tree, may be it should be of subtree scope, SearchControls searchControls = new SearchControls();  searchControls.setSearchScope(SearchControls.SUBTREE_SCOPE);"},{"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"score":0,"creation_date":1559044475,"post_id":56327066,"comment_id":99288375,"body_markdown":"now getting null, why even i am using the same user to login. and what is the difference b/w objectclass=user &amp; sAMAccountName? please help me ,thanks @Alister","body":"now getting null, why even i am using the same user to login. and what is the difference b/w objectclass=user &amp; sAMAccountName? please help me ,thanks @Alister"},{"owner":{"account_id":9487282,"reputation":111,"user_id":7053298,"display_name":"Alister"},"score":0,"creation_date":1559045318,"post_id":56327066,"comment_id":99288834,"body_markdown":"May be you should change base container to OU=Users,DC=test,DC=local.","body":"May be you should change base container to OU=Users,DC=test,DC=local."},{"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"score":0,"creation_date":1559046598,"post_id":56327066,"comment_id":99289584,"body_markdown":"no luck - getting user not found exception only even using same as you mentioned. thanks @Alister","body":"no luck - getting user not found exception only even using same as you mentioned. thanks @Alister"},{"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"score":0,"creation_date":1559048049,"post_id":56327066,"comment_id":99290447,"body_markdown":"now getting `SizeLimitExceededException`- what is the max size of records return by server at once? thanks @Alister","body":"now getting <code>SizeLimitExceededException</code>- what is the max size of records return by server at once? thanks @Alister"},{"owner":{"account_id":235144,"reputation":1821,"user_id":501765,"display_name":"t&#246;rzsm&#243;kus"},"score":0,"creation_date":1630659508,"post_id":56327066,"comment_id":122022204,"body_markdown":"anyone noticed *v1db1* vs *v2580* ?","body":"anyone noticed <i>v1db1</i> vs <i>v2580</i> ?"}],"tags":[],"owner":{"account_id":9487282,"reputation":111,"user_id":7053298,"display_name":"Alister"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558963757,"creation_date":1558963757,"answer_id":56327066,"question_id":56325782,"body_markdown":"In case you use simple authority authentication , you should use short username form\r\n\r\n&gt; user_test@test.local\r\n\r\nI checked, in this case authentication is working. In dn form I have got exactly the same error \r\n\r\n    javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C0903A9, comment: AcceptSecurityContext error, data 52e, v1db1\r\n\r\nYou may also refer to earlier thread https://stackoverflow.com/questions/31411665/ldap-error-code-49-80090308-ldaperr-dsid-0c0903a9-comment-acceptsecurityc","title":"LDAP: error code 49 - 80090308: LdapErr: DSID-0C09042F, comment: AcceptSecurityContext error, data 52e, v2580","body":"<p>In case you use simple authority authentication , you should use short username form</p>\n\n<blockquote>\n  <p>user_test@test.local</p>\n</blockquote>\n\n<p>I checked, in this case authentication is working. In dn form I have got exactly the same error </p>\n\n<pre><code>javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C0903A9, comment: AcceptSecurityContext error, data 52e, v1db1\n</code></pre>\n\n<p>You may also refer to earlier thread <a href=\"https://stackoverflow.com/questions/31411665/ldap-error-code-49-80090308-ldaperr-dsid-0c0903a9-comment-acceptsecurityc\">LDAP: error code 49 - 80090308: LdapErr: DSID-0C0903A9, comment: AcceptSecurityContext error, data 52e, v1db1</a></p>\n"},{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686926667,"creation_date":1559035767,"answer_id":56339052,"question_id":56325782,"body_markdown":"The error is pretty definitive.\r\n\r\n[49\t52e\t1326\tERROR_LOGON_FAILURE\tReturns when username is valid but password/credential is invalid.][1]\r\n\r\nOften the Hard Part is [properly determining the DN][2].\r\n\r\n\r\n\r\n  [1]: https://ldapwiki.com/wiki/Common%20Active%20Directory%20Bind%20Errors\r\n  [2]: https://ldapwiki.com/wiki/Wiki.jsp?page=Determining%20the%20FDN","title":"LDAP: error code 49 - 80090308: LdapErr: DSID-0C09042F, comment: AcceptSecurityContext error, data 52e, v2580","body":"<p>The error is pretty definitive.</p>\n<p><a href=\"https://ldapwiki.com/wiki/Common%20Active%20Directory%20Bind%20Errors\" rel=\"nofollow noreferrer\">49 52e 1326    ERROR_LOGON_FAILURE Returns when username is valid but password/credential is invalid.</a></p>\n<p>Often the Hard Part is <a href=\"https://ldapwiki.com/wiki/Wiki.jsp?page=Determining%20the%20FDN\" rel=\"nofollow noreferrer\">properly determining the DN</a>.</p>\n"}],"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51880,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686926667,"creation_date":1558958912,"question_id":56325782,"body_markdown":"````\r\nLDAP: error code 49 - 80090308: LdapErr: DSID-0C09042F, comment: AcceptSecurityContext error, data 52e, v2580\r\n````\r\n\r\nI know &quot;52e&quot; code is when username is valid, but password is invalid. I am using the same user name and password for validating user against Active directory and its working fine.\r\n\r\nHere is my java code:\r\n\r\n````\r\n        String userName = &quot;user_test&quot;;\r\n\t    String password =  &quot;*******&quot;;\r\n\t\tString base =&quot;DC=test,DC=local&quot;;\r\n\t    String dn = &quot;cn=&quot;+ userName + &quot;,&quot; + &quot;CN=Users,&quot; + base;  \r\n\t    \r\n\t\ttry {\r\n\t\t\tHashtable env = new Hashtable();\r\n\t\t\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\t\tenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n\r\n\t\t\tenv.put(Context.SECURITY_PRINCIPAL, dn);\r\n\t\t\t\r\n\t\t\tenv.put(Context.SECURITY_CREDENTIALS, password);\r\n\t\t\t\r\n\t\t\tenv.put(Context.PROVIDER_URL, &quot;ldap://*****.test.local:389&quot;);\r\n\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Attempting to Connect...&quot;);\r\n\r\n\t\t\tctx = new InitialLdapContext(env, null);\r\n\t\t\tSystem.out.println(&quot;Connection Successful.&quot;);\r\n\t\t} catch (NamingException nex) {\r\n\t\t\tSystem.out.println(&quot;LDAP Connection: FAILED&quot;);\r\n\t\t\tnex.printStackTrace();\r\n\t\t}\r\n\t\treturn ctx;\r\n\t}\r\n\r\n````\r\n\r\nI do not know exactly why getting this error. Can anyone please help on this?","title":"LDAP: error code 49 - 80090308: LdapErr: DSID-0C09042F, comment: AcceptSecurityContext error, data 52e, v2580","body":"<pre><code>LDAP: error code 49 - 80090308: LdapErr: DSID-0C09042F, comment: AcceptSecurityContext error, data 52e, v2580\n</code></pre>\n\n<p>I know \"52e\" code is when username is valid, but password is invalid. I am using the same user name and password for validating user against Active directory and its working fine.</p>\n\n<p>Here is my java code:</p>\n\n<pre><code>        String userName = \"user_test\";\n        String password =  \"*******\";\n        String base =\"DC=test,DC=local\";\n        String dn = \"cn=\"+ userName + \",\" + \"CN=Users,\" + base;  \n\n        try {\n            Hashtable env = new Hashtable();\n            env.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");\n            env.put(Context.SECURITY_AUTHENTICATION, \"simple\");\n\n            env.put(Context.SECURITY_PRINCIPAL, dn);\n\n            env.put(Context.SECURITY_CREDENTIALS, password);\n\n            env.put(Context.PROVIDER_URL, \"ldap://*****.test.local:389\");\n\n\n            System.out.println(\"Attempting to Connect...\");\n\n            ctx = new InitialLdapContext(env, null);\n            System.out.println(\"Connection Successful.\");\n        } catch (NamingException nex) {\n            System.out.println(\"LDAP Connection: FAILED\");\n            nex.printStackTrace();\n        }\n        return ctx;\n    }\n\n</code></pre>\n\n<p>I do not know exactly why getting this error. Can anyone please help on this?</p>\n"},{"tags":["javascript","java","webcrypto-api","webcrypto","end-to-end-encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1630441071,"post_id":69004788,"comment_id":121956263,"body_markdown":"Maybe the Java code expects the key in a different format. Post the Java code and also an example of a key exported with the JavaScript code.","body":"Maybe the Java code expects the key in a different format. Post the Java code and also an example of a key exported with the JavaScript code."},{"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"score":0,"creation_date":1630441223,"post_id":69004788,"comment_id":121956297,"body_markdown":"Thanks for commenting, This is an example of the javascript code result: BNCGjPDvjrzqqVSAru54rWN0OVYfq/98EC6O+UH/mId965tsdZbccQDXIKvUBAxq5Q7DhTnp4nDfNp9lSbo99i8MXdbaPV3iA7bB39+zhzUWEEnkfQdzrAF3cWUq7RWRRw==","body":"Thanks for commenting, This is an example of the javascript code result: BNCGjPDvjrzqqVSAru54rWN0OVYfq/98EC6O+UH/mId965tsdZbccQDXIKvU&zwnj;&#8203;BAxq5Q7DhTnp4nDfNp9l&zwnj;&#8203;Sbo99i8MXdbaPV3iA7bB&zwnj;&#8203;39+zhzUWEEnkfQdzrAF3&zwnj;&#8203;cWUq7RWRRw=="},{"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"score":0,"creation_date":1630441291,"post_id":69004788,"comment_id":121956322,"body_markdown":"Unfortunately I&#39;ve no access to the Backend&#39;s code","body":"Unfortunately I&#39;ve no access to the Backend&#39;s code"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1630441517,"post_id":69004788,"comment_id":121956406,"body_markdown":"The key is an uncompressed EC key: 0x04|&lt;x&gt;|&lt;y&gt;. Keys can be specified in different formats. You have to find out the required format of the Java code somehow. Of course you can also try common formats, e.g. X.509/SPKI.","body":"The key is an uncompressed EC key: 0x04|&lt;x&gt;|&lt;y&gt;. Keys can be specified in different formats. You have to find out the required format of the Java code somehow. Of course you can also try common formats, e.g. X.509/SPKI."},{"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"score":0,"creation_date":1630489032,"post_id":69004788,"comment_id":121967293,"body_markdown":"I updated the question, Please check it out.","body":"I updated the question, Please check it out."},{"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"score":0,"creation_date":1630492658,"post_id":69004788,"comment_id":121968847,"body_markdown":"The public key should be in ASN1 format which is finally converted to Base64 for sending to the Server and receive the Server publicKey.","body":"The public key should be in ASN1 format which is finally converted to Base64 for sending to the Server and receive the Server publicKey."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1630500023,"post_id":69004788,"comment_id":121972094,"body_markdown":"`X509EncodedKeySpec()` corresponds to the X.509/SPKI format, DER encoded. `exportKey()` supports the spki format (s. e.g. [here](https://github.com/diafygi/webcrypto-examples#ecdh---exportkey)).","body":"<code>X509EncodedKeySpec()</code> corresponds to the X.509/SPKI format, DER encoded. <code>exportKey()</code> supports the spki format (s. e.g. <a href=\"https://github.com/diafygi/webcrypto-examples#ecdh---exportkey\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"score":0,"creation_date":1630502288,"post_id":69004788,"comment_id":121973191,"body_markdown":"This is an Example of valid publicKey and if I send it to the Backend, it will response me a publicKey\n`MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEmDOvSajZFQT261yTdkE0EloJ8AP4gJKO7kDLNnNlT9fLHuWhl+shys58xCdT4ABtPZOSNtyTRQNh1rDvIkp3EA==`.\nAnd I also tried using the `spki` and it doesn&#39;t work.","body":"This is an Example of valid publicKey and if I send it to the Backend, it will response me a publicKey <code>MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEmDOvSajZFQT261yTdkE0EloJ&zwnj;&#8203;8AP4gJKO7kDLNnNlT9fL&zwnj;&#8203;HuWhl+shys58xCdT4ABt&zwnj;&#8203;PZOSNtyTRQNh1rDvIkp3&zwnj;&#8203;EA==</code>. And I also tried using the <code>spki</code> and it doesn&#39;t work."},{"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"score":0,"creation_date":1630505034,"post_id":69004788,"comment_id":121974554,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/236652/discussion-between-ali-torki-and-topaco).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/236652/discussion-between-ali-torki-and-topaco\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"score":0,"creation_date":1630705064,"post_id":69025581,"comment_id":122038439,"body_markdown":"Do you know how can I encrypt a string with the `serverPublicKey`(which is a base64 string) and my `privateKey` by AES-256? and also the decryption process? I really appreciate your help.","body":"Do you know how can I encrypt a string with the <code>serverPublicKey</code>(which is a base64 string) and my <code>privateKey</code> by AES-256? and also the decryption process? I really appreciate your help."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1630736141,"post_id":69025581,"comment_id":122042080,"body_markdown":"This cannot be answered in the context of a comment. Please post a new question on SO with all the necessary information. If needed, you can reference this post.","body":"This cannot be answered in the context of a comment. Please post a new question on SO with all the necessary information. If needed, you can reference this post."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630566268,"creation_date":1630566268,"answer_id":69025581,"question_id":69004788,"body_markdown":"Both codes use different curves, the Java code secp256r1 (aka P-256), the JavaScript code P-384. To make both codes compatible, the JavaScript code must apply the same curve as the Java code, i.e. P-256 (s. also [here][2]).\r\n\r\nThe Java code exports a public EC key in X.509/SPKI format, which is Base64 encoded. The JavaScript code exports the public key in uncompressed format `0x04|&lt;x&gt;|&lt;y&gt;`. The export in X.509/SPKI format is possible with `spki` as 1st parameter, s. [here][3] and [here][1].\r\n\r\n[1]: https://github.com/diafygi/webcrypto-examples#ecdh---exportkey \r\n[2]: https://developer.mozilla.org/en-US/docs/Web/API/EcKeyGenParams#properties\r\n[3]: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/exportKey#parameters","title":"End2End encryption IOException: algid parse error, not a sequence","body":"<p>Both codes use different curves, the Java code secp256r1 (aka P-256), the JavaScript code P-384. To make both codes compatible, the JavaScript code must apply the same curve as the Java code, i.e. P-256 (s. also <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EcKeyGenParams#properties\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>The Java code exports a public EC key in X.509/SPKI format, which is Base64 encoded. The JavaScript code exports the public key in uncompressed format <code>0x04|&lt;x&gt;|&lt;y&gt;</code>. The export in X.509/SPKI format is possible with <code>spki</code> as 1st parameter, s. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/exportKey#parameters\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/diafygi/webcrypto-examples#ecdh---exportkey\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":7137424,"reputation":1962,"user_id":5456476,"display_name":"Ali Torki"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69025581,"answer_count":1,"score":1,"last_activity_date":1686926476,"creation_date":1630440556,"question_id":69004788,"body_markdown":"I&#39;m generating the Public and Private key by using the Native Browser crypto API as below:\r\n```typescript\r\nexport const generateKeyPair = async (): Promise&lt;CryptoKeyPair&gt; =&gt; {\r\n\treturn await window.crypto.subtle.generateKey(\r\n\t\t{\r\n\t\t\tname: &quot;ECDH&quot;,\r\n\t\t\tnamedCurve: &quot;P-384&quot;,\r\n\t\t},\r\n\t\ttrue,\r\n\t\t[&quot;deriveKey&quot;, &quot;deriveBits&quot;],\r\n\t);\r\n};\r\n```\r\nThen I&#39;ll export the `publicKey` by using the `exportKey` function under the `window.crypto.subtle` as below:\r\n```typescript\r\nconst keyPair: CryptoKeyPair = yield generateKeyPair();\r\nconst publicKeyArrayBuffer: ArrayBuffer = yield window.crypto.subtle.exportKey(&quot;raw&quot;, keyPair.publicKey);\r\nconst publicKeyAsBase64 = arrayBufferToBase64(publicKeyArrayBuffer);\r\n```\r\n\r\nIf you have any suggestions, please let me know and help me to fix this issue.","title":"End2End encryption IOException: algid parse error, not a sequence","body":"<p>I'm generating the Public and Private key by using the Native Browser crypto API as below:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export const generateKeyPair = async (): Promise&lt;CryptoKeyPair&gt; =&gt; {\n    return await window.crypto.subtle.generateKey(\n        {\n            name: &quot;ECDH&quot;,\n            namedCurve: &quot;P-384&quot;,\n        },\n        true,\n        [&quot;deriveKey&quot;, &quot;deriveBits&quot;],\n    );\n};\n</code></pre>\n<p>Then I'll export the <code>publicKey</code> by using the <code>exportKey</code> function under the <code>window.crypto.subtle</code> as below:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const keyPair: CryptoKeyPair = yield generateKeyPair();\nconst publicKeyArrayBuffer: ArrayBuffer = yield window.crypto.subtle.exportKey(&quot;raw&quot;, keyPair.publicKey);\nconst publicKeyAsBase64 = arrayBufferToBase64(publicKeyArrayBuffer);\n</code></pre>\n<p>If you have any suggestions, please let me know and help me to fix this issue.</p>\n"},{"tags":["java","spring-boot","react-native"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686926560,"post_id":76483953,"comment_id":134870084,"body_markdown":"The resource folder isn&#39;t exposed by default. How exectly do you want to make it available? How exactly do you currently have the resources?","body":"The resource folder isn&#39;t exposed by default. How exectly do you want to make it available? How exactly do you currently have the resources?"}],"owner":{"account_id":5734034,"reputation":103,"user_id":4528746,"accept_rate":0,"display_name":"Flavah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686926413,"creation_date":1686848474,"question_id":76483953,"body_markdown":"I have a React Native mobile app with an image slider feature included. I also have an API resource developed using Spring Boot.\r\n\r\nI want to be able to load images into the slider from an API request. I&#39;ve already created the API resource that returns a list of image objects but I want to include the URL link in the objects to where the images are located on the server. See example\r\n\r\n    [\r\n      {\r\n        name: &#39;Banner name 1&#39;,\r\n        website: &#39;http://www.place-to-go.com&#39;,\r\n        link_to_image: &#39;http://mydomain/folder/to/banner1.jpg&#39;\r\n      },\r\n      {\r\n        name: &#39;Banner name 2&#39;,\r\n        website: &#39;http://www.place-to-go-next.com&#39;,\r\n        link_to_image: &#39;http://mydomain/folder/to/banner2.jpg&#39;\r\n      },\r\n      ...\r\n    ]\r\n\r\nHow do I expose the images resource folder to the mobile app in a URL format as shown above?\r\n\r\n","title":"URL To Resource Folder","body":"<p>I have a React Native mobile app with an image slider feature included. I also have an API resource developed using Spring Boot.</p>\n<p>I want to be able to load images into the slider from an API request. I've already created the API resource that returns a list of image objects but I want to include the URL link in the objects to where the images are located on the server. See example</p>\n<pre><code>[\n  {\n    name: 'Banner name 1',\n    website: 'http://www.place-to-go.com',\n    link_to_image: 'http://mydomain/folder/to/banner1.jpg'\n  },\n  {\n    name: 'Banner name 2',\n    website: 'http://www.place-to-go-next.com',\n    link_to_image: 'http://mydomain/folder/to/banner2.jpg'\n  },\n  ...\n]\n</code></pre>\n<p>How do I expose the images resource folder to the mobile app in a URL format as shown above?</p>\n"},{"tags":["java","active-directory","websphere"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686938235,"post_id":76491233,"comment_id":134872437,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":28834739,"reputation":1,"user_id":22084380,"display_name":"Sindhu"},"score":0,"creation_date":1687798550,"post_id":76491233,"comment_id":134984006,"body_markdown":"I have my websphere application server integrated with AD, I have added a AD user to the application deployed on Websphere \n\nFor Ex: Websphere Enterprise Applications —&gt; Application(directory EAR) —&gt; Security role to user/group mapping —&gt; Map Users —&gt; Click Save\n\nEven after granting the required roles, the application is not reflected with these roles, whereas in other environments like Dev, QA and Prod this works fine.\n\nThe issue is in my local setup. Any other changes are needed at Websphere side for this particular functionality to be working in local IDE setup.","body":"I have my websphere application server integrated with AD, I have added a AD user to the application deployed on Websphere   For Ex: Websphere Enterprise Applications —&gt; Application(directory EAR) —&gt; Security role to user/group mapping —&gt; Map Users —&gt; Click Save  Even after granting the required roles, the application is not reflected with these roles, whereas in other environments like Dev, QA and Prod this works fine.  The issue is in my local setup. Any other changes are needed at Websphere side for this particular functionality to be working in local IDE setup."}],"owner":{"account_id":28834739,"reputation":1,"user_id":22084380,"display_name":"Sindhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686926370,"creation_date":1686926370,"question_id":76491233,"body_markdown":"I have my websphere application server integrated with AD, I have added a AD user to the application deloyed on Websphere using security role to user mapping, but it is not being reflected in the application. The same works in other environments. The issue is in my local setup.\r\n\r\nPlease if any one can suggest me the reason for this. ]\r\n\r\nThanks in advance.\r\n","title":"Websphere security role to user mapping issue","body":"<p>I have my websphere application server integrated with AD, I have added a AD user to the application deloyed on Websphere using security role to user mapping, but it is not being reflected in the application. The same works in other environments. The issue is in my local setup.</p>\n<p>Please if any one can suggest me the reason for this. ]</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","instanceof"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1686924733,"post_id":76490998,"comment_id":134869653,"body_markdown":"`list` and `arrayList` refer/point to the same object.","body":"<code>list</code> and <code>arrayList</code> refer/point to the same object."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1686924827,"post_id":76490998,"comment_id":134869676,"body_markdown":"Explain how what exactly is possible? What is confusing you about that code?","body":"Explain how what exactly is possible? What is confusing you about that code?"},{"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"score":0,"creation_date":1686924843,"post_id":76490998,"comment_id":134869678,"body_markdown":"I understand it. Please explain what is happening in this line: if (!(list instanceof ArrayList&lt;String&gt; arrayList))","body":"I understand it. Please explain what is happening in this line: if (!(list instanceof ArrayList&lt;String&gt; arrayList))"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1686924944,"post_id":76490998,"comment_id":134869704,"body_markdown":"`List` is an interface, `ArrayList` is the implementation.  So `instanceof` is checking if the implementation of `list` is an `ArrayList`.  (The generic type might not matter because of erasure.)","body":"<code>List</code> is an interface, <code>ArrayList</code> is the implementation.  So <code>instanceof</code> is checking if the implementation of <code>list</code> is an <code>ArrayList</code>.  (The generic type might not matter because of erasure.)"},{"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"score":0,"creation_date":1686925043,"post_id":76490998,"comment_id":134869730,"body_markdown":"How does this code create another object (arrayList)?: list instanceof ArrayList&lt;String&gt; arrayList","body":"How does this code create another object (arrayList)?: list instanceof ArrayList&lt;String&gt; arrayList"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1686925160,"post_id":76490998,"comment_id":134869767,"body_markdown":"Not sure what you mean - that is the syntax.","body":"Not sure what you mean - that is the syntax."},{"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"score":0,"creation_date":1686925198,"post_id":76490998,"comment_id":134869776,"body_markdown":"Where can I read about this syntax? I see this for the first time","body":"Where can I read about this syntax? I see this for the first time"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1686925239,"post_id":76490998,"comment_id":134869785,"body_markdown":"I&#39;m gonna take a gues here and guess you are asking for an explanation of the new instanceof syntax introduced with java 14: [Pattern Matching for instanceof in Java 14](https://blogs.oracle.com/javamagazine/post/pattern-matching-for-instanceof-in-java-14)","body":"I&#39;m gonna take a gues here and guess you are asking for an explanation of the new instanceof syntax introduced with java 14: <a href=\"https://blogs.oracle.com/javamagazine/post/pattern-matching-for-instanceof-in-java-14\" rel=\"nofollow noreferrer\">Pattern Matching for instanceof in Java 14</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1686925338,"post_id":76490998,"comment_id":134869815,"body_markdown":"Pattern Matching for Instanceof releasaed with Java 16: [JEP394](https://openjdk.org/jeps/394)","body":"Pattern Matching for Instanceof releasaed with Java 16: <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP394</a>"},{"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"score":0,"creation_date":1686925427,"post_id":76490998,"comment_id":134869832,"body_markdown":"Thanks, didn&#39;t know about this update in Java.","body":"Thanks, didn&#39;t know about this update in Java."},{"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"score":0,"creation_date":1686925488,"post_id":76490998,"comment_id":134869856,"body_markdown":"https://stackoverflow.com/questions/5579309/is-it-possible-to-use-the-instanceof-operator-in-a-switch-statement/57432241#57432241","body":"<a href=\"https://stackoverflow.com/questions/5579309/is-it-possible-to-use-the-instanceof-operator-in-a-switch-statement/57432241#57432241\" title=\"is it possible to use the instanceof operator in a switch statement\">stackoverflow.com/questions/5579309/&hellip;</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1686928335,"post_id":76490998,"comment_id":134870472,"body_markdown":"It can be helpful, it&#39;s somewhat strange as having a local variable presence.  It doesn&#39;t appear correct, in terms of typical Java syntax.  You would think it would only apply to the _if_ statement&#39;s scope; similar to _for-loops_.","body":"It can be helpful, it&#39;s somewhat strange as having a local variable presence.  It doesn&#39;t appear correct, in terms of typical Java syntax.  You would think it would only apply to the <i>if</i> statement&#39;s scope; similar to <i>for-loops</i>."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686926193,"creation_date":1686925369,"answer_id":76491108,"question_id":76490998,"body_markdown":"This feature is called *pattern matching* and was introduced in Java 14 (see [JEP 305][jep-305]) and finalized in Java 16 (see [JEP 394][jep-394]).\r\n\r\nA statement like `if (list instanceof ArrayList&lt;String&gt; a) { ... }` causes the `list` variable to be checked whether it is an instance of the `ArrayList` type, and if it is, then assign its value to `a`. Now `a` is available within the if branch.\r\n\r\nEquivalent code without the pattern matching feature would look like something like this:\r\n\r\n```java\r\nif (list instanceof ArrayList) {\r\n    ArrayList&lt;String&gt; a = (ArrayList&lt;String&gt;) list;\r\n    // do something with a\r\n}\r\n```\r\n\r\nThe compiler checks the conditions of the if statement to make sure the pattern matching variable is available in the correct scope. For example, your code contains a negation of the result of the `instanceof` operator (using the `!`):\r\n\r\n```java\r\nif (!(list instanceof ArrayList&lt;String&gt; arrayList)) {\r\n    return;\r\n}\r\n// Rest of the code\r\n```\r\n\r\nNow the compiler deduces that from the `// Rest of the code` line, `list` *must* be of type `ArrayList&lt;Integer&gt;`, so the variable `arrayList` is in scope from here.\r\n\r\n### More info\r\n\r\n* [Pattern Matching on Project Amber][1]\r\n\r\n[1]: https://openjdk.org/projects/amber/design-notes/patterns/pattern-matching-for-java\r\n[jep-305]: https://openjdk.org/jeps/305\r\n[jep-394]: https://openjdk.org/jeps/394\r\n","title":"Java instanceof magic","body":"<p>This feature is called <em>pattern matching</em> and was introduced in Java 14 (see <a href=\"https://openjdk.org/jeps/305\" rel=\"nofollow noreferrer\">JEP 305</a>) and finalized in Java 16 (see <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP 394</a>).</p>\n<p>A statement like <code>if (list instanceof ArrayList&lt;String&gt; a) { ... }</code> causes the <code>list</code> variable to be checked whether it is an instance of the <code>ArrayList</code> type, and if it is, then assign its value to <code>a</code>. Now <code>a</code> is available within the if branch.</p>\n<p>Equivalent code without the pattern matching feature would look like something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (list instanceof ArrayList) {\n    ArrayList&lt;String&gt; a = (ArrayList&lt;String&gt;) list;\n    // do something with a\n}\n</code></pre>\n<p>The compiler checks the conditions of the if statement to make sure the pattern matching variable is available in the correct scope. For example, your code contains a negation of the result of the <code>instanceof</code> operator (using the <code>!</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!(list instanceof ArrayList&lt;String&gt; arrayList)) {\n    return;\n}\n// Rest of the code\n</code></pre>\n<p>Now the compiler deduces that from the <code>// Rest of the code</code> line, <code>list</code> <em>must</em> be of type <code>ArrayList&lt;Integer&gt;</code>, so the variable <code>arrayList</code> is in scope from here.</p>\n<h3>More info</h3>\n<ul>\n<li><a href=\"https://openjdk.org/projects/amber/design-notes/patterns/pattern-matching-for-java\" rel=\"nofollow noreferrer\">Pattern Matching on Project Amber</a></li>\n</ul>\n"}],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76491108,"answer_count":1,"score":-3,"last_activity_date":1686926289,"creation_date":1686924607,"question_id":76490998,"body_markdown":"There is such a method:\r\n\r\n    static void test(List&lt;String&gt; list) {\r\n        System.out.println(list);\r\n        if (!(list instanceof ArrayList&lt;String&gt; arrayList)) return;\r\n        System.out.println(list == arrayList);\r\n        arrayList.add(&quot;list&quot;);\r\n        System.out.println(arrayList);\r\n        System.out.println(list);\r\n    }\r\n\r\nOutput:\r\n\r\n```\r\n[]\r\ntrue\r\n[list]\r\n[list]\r\n```\r\n\r\nPlease explain how this is possible?\r\n\r\nHow does this code create another object (arrayList) that is available throughout the method?: `list instanceof ArrayList&lt;String&gt; arrayList`\r\n\r\nJava 17.","title":"Java instanceof magic","body":"<p>There is such a method:</p>\n<pre><code>static void test(List&lt;String&gt; list) {\n    System.out.println(list);\n    if (!(list instanceof ArrayList&lt;String&gt; arrayList)) return;\n    System.out.println(list == arrayList);\n    arrayList.add(&quot;list&quot;);\n    System.out.println(arrayList);\n    System.out.println(list);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[]\ntrue\n[list]\n[list]\n</code></pre>\n<p>Please explain how this is possible?</p>\n<p>How does this code create another object (arrayList) that is available throughout the method?: <code>list instanceof ArrayList&lt;String&gt; arrayList</code></p>\n<p>Java 17.</p>\n"},{"tags":["java","android","json"],"answers":[{"comments":[{"owner":{"account_id":4132164,"reputation":1857,"user_id":3389765,"accept_rate":100,"display_name":"morha13"},"score":0,"creation_date":1519407730,"post_id":20117216,"comment_id":84913608,"body_markdown":"How do I convert it back to a `JSONObject` from a string?","body":"How do I convert it back to a <code>JSONObject</code> from a string?"},{"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"score":0,"creation_date":1519803853,"post_id":20117216,"comment_id":85053309,"body_markdown":"`JSONObject jsonObj = new JSONObject(&quot;your_json_string&quot;);`","body":"<code>JSONObject jsonObj = new JSONObject(&quot;your_json_string&quot;);</code>"},{"owner":{"account_id":2904173,"reputation":10884,"user_id":2490003,"accept_rate":53,"display_name":"user2490003"},"score":0,"creation_date":1534830287,"post_id":20117216,"comment_id":90834031,"body_markdown":"FYI that this will fail to parse JSON arrays (even though they are technically valid JSON). For example, trying `JSONObject(&quot;[{\\&quot;foo\\&quot;:2, \\&quot;bar\\&quot;: 3}]&quot;);` results in `A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1]`","body":"FYI that this will fail to parse JSON arrays (even though they are technically valid JSON). For example, trying <code>JSONObject(&quot;[{\\&quot;foo\\&quot;:2, \\&quot;bar\\&quot;: 3}]&quot;);</code> results in <code>A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1]</code>"},{"owner":{"account_id":2967836,"reputation":429,"user_id":2520616,"accept_rate":47,"display_name":"sareem"},"score":0,"creation_date":1677540573,"post_id":20117216,"comment_id":133354692,"body_markdown":"JSONArray uses the &quot;add&quot; rather than the &quot;put&quot; method. Change `array.put(item);` to `array.add(item);`","body":"JSONArray uses the &quot;add&quot; rather than the &quot;put&quot; method. Change <code>array.put(item);</code> to <code>array.add(item);</code>"}],"tags":[],"owner":{"account_id":2848759,"reputation":8984,"user_id":2446397,"accept_rate":82,"display_name":"srain"},"comment_count":4,"down_vote_count":0,"up_vote_count":257,"is_accepted":true,"score":257,"last_activity_date":1660705848,"creation_date":1385026639,"answer_id":20117216,"question_id":20117148,"body_markdown":"`org.json.JSONArray` may be what you want.\r\n\r\n\tString message;\r\n\tJSONObject json = new JSONObject();\r\n\tjson.put(&quot;name&quot;, &quot;student&quot;);\r\n\r\n\tJSONArray array = new JSONArray();\r\n\tJSONObject item = new JSONObject();\r\n\titem.put(&quot;information&quot;, &quot;test&quot;);\r\n\titem.put(&quot;id&quot;, 3);\r\n\titem.put(&quot;name&quot;, &quot;course1&quot;);\r\n\tarray.put(item);\r\n\r\n\tjson.put(&quot;course&quot;, array);\r\n\r\n\tmessage = json.toString();\r\n    \r\n    // message\r\n    // {&quot;course&quot;:[{&quot;id&quot;:3,&quot;information&quot;:&quot;test&quot;,&quot;name&quot;:&quot;course1&quot;}],&quot;name&quot;:&quot;student&quot;}","title":"How to create JSON Object using String?","body":"<p><code>org.json.JSONArray</code> may be what you want.</p>\n<pre><code>String message;\nJSONObject json = new JSONObject();\njson.put(&quot;name&quot;, &quot;student&quot;);\n\nJSONArray array = new JSONArray();\nJSONObject item = new JSONObject();\nitem.put(&quot;information&quot;, &quot;test&quot;);\nitem.put(&quot;id&quot;, 3);\nitem.put(&quot;name&quot;, &quot;course1&quot;);\narray.put(item);\n\njson.put(&quot;course&quot;, array);\n\nmessage = json.toString();\n\n// message\n// {&quot;course&quot;:[{&quot;id&quot;:3,&quot;information&quot;:&quot;test&quot;,&quot;name&quot;:&quot;course1&quot;}],&quot;name&quot;:&quot;student&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14185425,"reputation":428,"user_id":10247547,"display_name":"Walter Palacios"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1534924549,"creation_date":1534920680,"answer_id":51961206,"question_id":20117148,"body_markdown":"In contrast to what the accepted answer proposes, the documentation says that for *JSONArray()* you must use `put(value)` no `add(value)`. \r\n\r\n\r\nhttps://developer.android.com/reference/org/json/JSONArray.html#put(java.lang.Object)\r\n\r\n(Android API 19-27. Kotlin 1.2.50)","title":"How to create JSON Object using String?","body":"<p>In contrast to what the accepted answer proposes, the documentation says that for <em>JSONArray()</em> you must use <code>put(value)</code> no <code>add(value)</code>. </p>\n\n<p><a href=\"https://developer.android.com/reference/org/json/JSONArray.html#put(java.lang.Object)\" rel=\"noreferrer\">https://developer.android.com/reference/org/json/JSONArray.html#put(java.lang.Object)</a></p>\n\n<p>(Android API 19-27. Kotlin 1.2.50)</p>\n"},{"comments":[{"owner":{"account_id":2705335,"reputation":739,"user_id":2335052,"accept_rate":41,"display_name":"Billyjoker"},"score":1,"creation_date":1606669180,"post_id":63558564,"comment_id":115024331,"body_markdown":"It worked for me, the simplest solution, thanks","body":"It worked for me, the simplest solution, thanks"},{"owner":{"account_id":2925597,"reputation":85,"user_id":2506983,"display_name":"Akbar Inam"},"score":0,"creation_date":1686926125,"post_id":63558564,"comment_id":134869988,"body_markdown":"updated code that worked for me\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\npublic class Main {\n    public static void main(String[] args) {\n        String jsonString = &quot;{&#39;test1&#39;:&#39;value1&#39;,&#39;test2&#39;:{&#39;id&#39;:0,&#39;name&#39;:&#39;testName&#39;}}&quot;;\n        JsonParser jsonParser = new JsonParser();\n        JsonObject jsonObject = (JsonObject) jsonParser.parse(jsonString);\n\n        // Print the parsed JsonObject\n        System.out.println(jsonObject);\n    }\n}","body":"updated code that worked for me import com.google.gson.JsonObject; import com.google.gson.JsonParser;  public class Main {     public static void main(String[] args) {         String jsonString = &quot;{&#39;test1&#39;:&#39;value1&#39;,&#39;test2&#39;:{&#39;id&#39;:0,&#39;name&#39;:&#39;testName&#39;}}&quot;;         JsonParser jsonParser = new JsonParser();         JsonObject jsonObject = (JsonObject) jsonParser.parse(jsonString);          // Print the parsed JsonObject         System.out.println(jsonObject);     } }"}],"tags":[],"owner":{"account_id":5095256,"reputation":41,"user_id":8187120,"display_name":"Lei00"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598262480,"creation_date":1598262480,"answer_id":63558564,"question_id":20117148,"body_markdown":"If you use the gson.JsonObject you can have something like that:\r\n    \r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n\r\n    String jsonString = &quot;{&#39;test1&#39;:&#39;value1&#39;,&#39;test2&#39;:{&#39;id&#39;:0,&#39;name&#39;:&#39;testName&#39;}}&quot;\r\n    JsonObject jsonObject = (JsonObject) jsonParser.parse(jsonString)\r\n    \r\n","title":"How to create JSON Object using String?","body":"<p>If you use the gson.JsonObject you can have something like that:</p>\n<pre><code>import com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\nString jsonString = &quot;{'test1':'value1','test2':{'id':0,'name':'testName'}}&quot;\nJsonObject jsonObject = (JsonObject) jsonParser.parse(jsonString)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660216842,"creation_date":1614943314,"answer_id":66491685,"question_id":20117148,"body_markdown":"[Underscore-java][1] can create json from an object.\r\n\r\n    import com.github.underscore.U;\r\n\r\n        String message = U.objectBuilder()\r\n                .add(&quot;course&quot;, U.arrayBuilder()\r\n                        .add(U.objectBuilder()\r\n                                .add(&quot;id&quot;, 3)\r\n                                .add(&quot;information&quot;, &quot;test&quot;)\r\n                                .add(&quot;name&quot;, &quot;course1&quot;)\r\n                        ))\r\n                .add(&quot;name&quot;, &quot;student&quot;)\r\n                .toJson();\r\n        System.out.println(message);\r\n\r\n    // {\r\n    //   &quot;course&quot;: [\r\n    //     {\r\n    //       &quot;id&quot;: 3,\r\n    //       &quot;information&quot;: &quot;test&quot;,\r\n    //       &quot;name&quot;: &quot;course1&quot;\r\n    //     }\r\n    //   ],\r\n    //   &quot;name&quot;: &quot;student&quot;\r\n    // }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"How to create JSON Object using String?","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> can create json from an object.</p>\n<pre><code>import com.github.underscore.U;\n\n    String message = U.objectBuilder()\n            .add(&quot;course&quot;, U.arrayBuilder()\n                    .add(U.objectBuilder()\n                            .add(&quot;id&quot;, 3)\n                            .add(&quot;information&quot;, &quot;test&quot;)\n                            .add(&quot;name&quot;, &quot;course1&quot;)\n                    ))\n            .add(&quot;name&quot;, &quot;student&quot;)\n            .toJson();\n    System.out.println(message);\n\n// {\n//   &quot;course&quot;: [\n//     {\n//       &quot;id&quot;: 3,\n//       &quot;information&quot;: &quot;test&quot;,\n//       &quot;name&quot;: &quot;course1&quot;\n//     }\n//   ],\n//   &quot;name&quot;: &quot;student&quot;\n// }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646932833,"creation_date":1646932833,"answer_id":71428265,"question_id":20117148,"body_markdown":"```  \r\n String jsonString = &quot;{&#39;element1&#39;:&#39;value1&#39;,&#39;element2&#39;:{&#39;id&#39;:0,&#39;name&#39;:&#39;testName&#39;}}&quot;;\r\n        JsonObject jsonObject = (JsonObject) JsonParser.parseString(jsonString);\r\n```","title":"How to create JSON Object using String?","body":"<pre><code> String jsonString = &quot;{'element1':'value1','element2':{'id':0,'name':'testName'}}&quot;;\n        JsonObject jsonObject = (JsonObject) JsonParser.parseString(jsonString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2925597,"reputation":85,"user_id":2506983,"display_name":"Akbar Inam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686926219,"creation_date":1686926219,"answer_id":76491219,"question_id":20117148,"body_markdown":"Code that worked for me\r\n\r\n``` \r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String jsonString = &quot;{&#39;test1&#39;:&#39;value1&#39;,&#39;test2&#39;:{&#39;id&#39;:0,&#39;name&#39;:&#39;testName&#39;}}&quot;;\r\n        JsonParser jsonParser = new JsonParser();\r\n        JsonObject jsonObject = (JsonObject) jsonParser.parse(jsonString);\r\n\r\n        // Print the parsed JsonObject\r\n        System.out.println(jsonObject);\r\n    }\r\n}\r\n```","title":"How to create JSON Object using String?","body":"<p>Code that worked for me</p>\n<pre><code>import com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\npublic class Main {\n    public static void main(String[] args) {\n        String jsonString = &quot;{'test1':'value1','test2':{'id':0,'name':'testName'}}&quot;;\n        JsonParser jsonParser = new JsonParser();\n        JsonObject jsonObject = (JsonObject) jsonParser.parse(jsonString);\n\n        // Print the parsed JsonObject\n        System.out.println(jsonObject);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3478268,"reputation":2732,"user_id":2910966,"accept_rate":58,"display_name":"ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617017,"favorite_count":0,"down_vote_count":3,"up_vote_count":135,"accepted_answer_id":20117216,"answer_count":6,"score":132,"last_activity_date":1686926219,"creation_date":1385026451,"question_id":20117148,"body_markdown":"I want to create a JSON Object using String.\r\n\r\nExample : \r\nJSON `{&quot;test1&quot;:&quot;value1&quot;,&quot;test2&quot;:{&quot;id&quot;:0,&quot;name&quot;:&quot;testName&quot;}}`\r\n\r\nIn order to create the above JSON I am using this.\r\n\r\n\tString message;\r\n\tJSONObject json = new JSONObject();\r\n\r\n\tjson.put(&quot;test1&quot;, &quot;value1&quot;);\r\n\r\n\tJSONObject jsonObj = new JSONObject();\r\n\r\n\tjsonObj.put(&quot;id&quot;, 0);\r\n\tjsonObj.put(&quot;name&quot;, &quot;testName&quot;);\r\n\tjson.put(&quot;test2&quot;, jsonObj);\r\n\r\n\tmessage = json.toString();\r\n\tSystem.out.println(message);\r\n\r\n\r\nI want to know how can I create a JSON which has JSON Array in it.\r\n\r\nBelow is the sample JSON.\r\n\r\n    {\r\n      &quot;name&quot;: &quot;student&quot;,\r\n       &quot;stu&quot;: {\r\n        &quot;id&quot;: 0,\r\n        &quot;batch&quot;: &quot;batch@&quot;\r\n      },\r\n      &quot;course&quot;: [\r\n        {\r\n          &quot;information&quot;: &quot;test&quot;,\r\n          &quot;id&quot;: &quot;3&quot;,\r\n          &quot;name&quot;: &quot;course1&quot;\r\n        }\r\n      ],\r\n      &quot;studentAddress&quot;: [\r\n        {\r\n          &quot;additionalinfo&quot;: &quot;test info&quot;,\r\n          &quot;Address&quot;: [\r\n            {\r\n              &quot;H.No&quot;: &quot;1243&quot;,\r\n              &quot;Name&quot;: &quot;Temp Address&quot;,\r\n              &quot;locality&quot;: &quot;Temp locality&quot;,\r\n               &quot;id&quot;:33          \r\n            },\r\n            {\r\n               &quot;H.No&quot;: &quot;1243&quot;,\r\n              &quot;Name&quot;: &quot;Temp Address&quot;,\r\n              &quot;locality&quot;: &quot;Temp locality&quot;, \r\n               &quot;id&quot;:33                   \r\n            },        \r\n            {\r\n               &quot;H.No&quot;: &quot;1243&quot;,\r\n              &quot;Name&quot;: &quot;Temp Address&quot;,\r\n              &quot;locality&quot;: &quot;Temp locality&quot;, \r\n               &quot;id&quot;:36                   \r\n            }\r\n          ],\r\n    &quot;verified&quot;: true,\r\n        }\r\n      ]\r\n    }\r\n\r\nThanks.","title":"How to create JSON Object using String?","body":"<p>I want to create a JSON Object using String.</p>\n\n<p>Example : \nJSON <code>{\"test1\":\"value1\",\"test2\":{\"id\":0,\"name\":\"testName\"}}</code></p>\n\n<p>In order to create the above JSON I am using this.</p>\n\n<pre><code>String message;\nJSONObject json = new JSONObject();\n\njson.put(\"test1\", \"value1\");\n\nJSONObject jsonObj = new JSONObject();\n\njsonObj.put(\"id\", 0);\njsonObj.put(\"name\", \"testName\");\njson.put(\"test2\", jsonObj);\n\nmessage = json.toString();\nSystem.out.println(message);\n</code></pre>\n\n<p>I want to know how can I create a JSON which has JSON Array in it.</p>\n\n<p>Below is the sample JSON.</p>\n\n<pre><code>{\n  \"name\": \"student\",\n   \"stu\": {\n    \"id\": 0,\n    \"batch\": \"batch@\"\n  },\n  \"course\": [\n    {\n      \"information\": \"test\",\n      \"id\": \"3\",\n      \"name\": \"course1\"\n    }\n  ],\n  \"studentAddress\": [\n    {\n      \"additionalinfo\": \"test info\",\n      \"Address\": [\n        {\n          \"H.No\": \"1243\",\n          \"Name\": \"Temp Address\",\n          \"locality\": \"Temp locality\",\n           \"id\":33          \n        },\n        {\n           \"H.No\": \"1243\",\n          \"Name\": \"Temp Address\",\n          \"locality\": \"Temp locality\", \n           \"id\":33                   \n        },        \n        {\n           \"H.No\": \"1243\",\n          \"Name\": \"Temp Address\",\n          \"locality\": \"Temp locality\", \n           \"id\":36                   \n        }\n      ],\n\"verified\": true,\n    }\n  ]\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1686927221,"post_id":76491193,"comment_id":134870234,"body_markdown":"Step through it with a debugger. What is the value of `currentLineIndex` the first time through?","body":"Step through it with a debugger. What is the value of <code>currentLineIndex</code> the first time through?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686928008,"post_id":76491193,"comment_id":134870411,"body_markdown":"So, when _currentLineIndex_ is 1 it passes?","body":"So, when <i>currentLineIndex</i> is 1 it passes?"},{"owner":{"account_id":28834811,"reputation":1,"user_id":22084440,"display_name":"user22084440"},"score":0,"creation_date":1686928446,"post_id":76491193,"comment_id":134870503,"body_markdown":"nope, when I input the &quot;darkness&quot; it automatically shows incorrect answer but if I input it again with the same input it accepts it","body":"nope, when I input the &quot;darkness&quot; it automatically shows incorrect answer but if I input it again with the same input it accepts it"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1686930947,"post_id":76491193,"comment_id":134871031,"body_markdown":"The definition and management of `currentLineIndex` seems like a critical part of this problem.  Consider adding this to the question.","body":"The definition and management of <code>currentLineIndex</code> seems like a critical part of this problem.  Consider adding this to the question."}],"owner":{"account_id":28834811,"reputation":1,"user_id":22084440,"display_name":"user22084440"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686925986,"creation_date":1686925986,"question_id":76491193,"body_markdown":"I am experiencing an issue with if-else statements in my GUI project. The problem is that even when I input the correct password, it always considers the first input as incorrect when the button is clicked for the first time. However, when I input it for the second time, it is accepted.\r\n\r\n```java\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == b1) {\r\n            textArea.setVisible(true);\r\n            b1.setVisible(false);\r\n            tf.setVisible(true);\r\n            b2.setVisible(true);\r\n        } else if (e.getSource() == b2) {\r\n            String userInput = tf.getText();\r\n            String currentLine = lines[currentLineIndex];\r\n            boolean isCorrect = false;\r\n\r\n            if (currentLineIndex == 0 &amp;&amp; userInput.equalsIgnoreCase(&quot;DARKNESS&quot;)) {\r\n                isCorrect = true;\r\n            } else if (currentLineIndex == 1 &amp;&amp; userInput.equalsIgnoreCase(&quot;AGE&quot;)) {\r\n                isCorrect = true;\r\n            } else if (currentLineIndex == 2 &amp;&amp; userInput.equalsIgnoreCase(&quot;ECHO&quot;)) {\r\n                isCorrect = true;\r\n            } else if (currentLineIndex == 3 &amp;&amp; userInput.equalsIgnoreCase(&quot;GRUDGES&quot;)) {\r\n                isCorrect = true;\r\n            } else if (currentLineIndex == 4 &amp;&amp; userInput.equalsIgnoreCase(&quot;SECRET&quot;)) {\r\n                isCorrect = true;\r\n            }\r\n\r\n            if (isCorrect) {\r\n                currentLineIndex++;\r\n                if (currentLineIndex &lt; lines.length) {\r\n                    textArea.setText(lines[currentLineIndex]);\r\n                    tf.setText(&quot;&quot;);\r\n                } else {\r\n                    b4.setVisible(true);\r\n                    tf.setText(&quot;&quot;);\r\n                    tf.setVisible(false);\r\n                    b2.setVisible(false);\r\n                    JOptionPane.showMessageDialog(frame, &quot;You completed all the riddles!&quot;);\r\n                }\r\n            } else {\r\n                tf.setText(&quot;&quot;);\r\n                JOptionPane.showMessageDialog(frame, &quot;Incorrect answer&quot;);\r\n            }\r\n            if (e.getSource() == b4) {\r\n                frame.dispose();\r\n                new Frame10();\r\n            }\r\n        }\r\n    }\r\n```","title":"How can i display the next question in if-else statement after a user input the right one?","body":"<p>I am experiencing an issue with if-else statements in my GUI project. The problem is that even when I input the correct password, it always considers the first input as incorrect when the button is clicked for the first time. However, when I input it for the second time, it is accepted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == b1) {\n            textArea.setVisible(true);\n            b1.setVisible(false);\n            tf.setVisible(true);\n            b2.setVisible(true);\n        } else if (e.getSource() == b2) {\n            String userInput = tf.getText();\n            String currentLine = lines[currentLineIndex];\n            boolean isCorrect = false;\n\n            if (currentLineIndex == 0 &amp;&amp; userInput.equalsIgnoreCase(&quot;DARKNESS&quot;)) {\n                isCorrect = true;\n            } else if (currentLineIndex == 1 &amp;&amp; userInput.equalsIgnoreCase(&quot;AGE&quot;)) {\n                isCorrect = true;\n            } else if (currentLineIndex == 2 &amp;&amp; userInput.equalsIgnoreCase(&quot;ECHO&quot;)) {\n                isCorrect = true;\n            } else if (currentLineIndex == 3 &amp;&amp; userInput.equalsIgnoreCase(&quot;GRUDGES&quot;)) {\n                isCorrect = true;\n            } else if (currentLineIndex == 4 &amp;&amp; userInput.equalsIgnoreCase(&quot;SECRET&quot;)) {\n                isCorrect = true;\n            }\n\n            if (isCorrect) {\n                currentLineIndex++;\n                if (currentLineIndex &lt; lines.length) {\n                    textArea.setText(lines[currentLineIndex]);\n                    tf.setText(&quot;&quot;);\n                } else {\n                    b4.setVisible(true);\n                    tf.setText(&quot;&quot;);\n                    tf.setVisible(false);\n                    b2.setVisible(false);\n                    JOptionPane.showMessageDialog(frame, &quot;You completed all the riddles!&quot;);\n                }\n            } else {\n                tf.setText(&quot;&quot;);\n                JOptionPane.showMessageDialog(frame, &quot;Incorrect answer&quot;);\n            }\n            if (e.getSource() == b4) {\n                frame.dispose();\n                new Frame10();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","micronaut","microstream"],"answers":[{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1686921283,"post_id":76490500,"comment_id":134868814,"body_markdown":"Even changing to container is also not working","body":"Even changing to container is also not working"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1686925335,"post_id":76490500,"comment_id":134869813,"body_markdown":"@SanJaisy you also need to enable the rest client `microstream.rest.enabled: true`, then when you run with `./gradlew run` it will work","body":"@SanJaisy you also need to enable the rest client <code>microstream.rest.enabled: true</code>, then when you run with <code>.&#47;gradlew run</code> it will work"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1686925546,"post_id":76490500,"comment_id":134869866,"body_markdown":"The requirement to enable it [is documented here](https://micronaut-projects.github.io/micronaut-microstream/latest/guide/#restSetup).  If it&#39;s still not working, you may need to run `./gradlew clean` to remove the old storage directory from when you had the wrong object as the root object.","body":"The requirement to enable it <a href=\"https://micronaut-projects.github.io/micronaut-microstream/latest/guide/#restSetup\" rel=\"nofollow noreferrer\">is documented here</a>.  If it&#39;s still not working, you may need to run <code>.&#47;gradlew clean</code> to remove the old storage directory from when you had the wrong object as the root object."}],"tags":[],"owner":{"account_id":1596,"reputation":77165,"user_id":2138,"accept_rate":58,"display_name":"Sergio del Amo"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686920821,"creation_date":1686920821,"answer_id":76490500,"question_id":76490430,"body_markdown":"You have the wrong Root class in your configuration. \r\n\r\nhttps://github.com/anandjaisy/microstream-micronaut/blob/main/src/main/resources/application.yml#L20\r\n\r\nYou have `com.example.Fruit` but I believe you want to use the container class. ","title":"Microstream with micronaut application is not working","body":"<p>You have the wrong Root class in your configuration.</p>\n<p><a href=\"https://github.com/anandjaisy/microstream-micronaut/blob/main/src/main/resources/application.yml#L20\" rel=\"nofollow noreferrer\">https://github.com/anandjaisy/microstream-micronaut/blob/main/src/main/resources/application.yml#L20</a></p>\n<p>You have <code>com.example.Fruit</code> but I believe you want to use the container class.</p>\n"},{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686925630,"creation_date":1686925630,"answer_id":76491137,"question_id":76490430,"body_markdown":"Your code that is in your GitHub Repo is not storing anything.\r\n\r\n&gt; The MicroStream engine supports two general storing strategies: lazy and eager storing. By default, MicroStream uses the lazy storing strategy.\r\n\r\nSee: https://docs.microstream.one/manual/storage/storing-data/lazy-eager-full.html","title":"Microstream with micronaut application is not working","body":"<p>Your code that is in your GitHub Repo is not storing anything.</p>\n<blockquote>\n<p>The MicroStream engine supports two general storing strategies: lazy and eager storing. By default, MicroStream uses the lazy storing strategy.</p>\n</blockquote>\n<p>See: <a href=\"https://docs.microstream.one/manual/storage/storing-data/lazy-eager-full.html\" rel=\"nofollow noreferrer\">https://docs.microstream.one/manual/storage/storing-data/lazy-eager-full.html</a></p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686925630,"creation_date":1686920227,"question_id":76490430,"body_markdown":"Created a brand new micronaut application with below dependencies\r\n\r\n\r\n    dependencies {\r\n        annotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\r\n        annotationProcessor(&quot;io.micronaut.microstream:micronaut-microstream-annotations&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\r\n        implementation(&quot;io.micronaut.microstream:micronaut-microstream&quot;)\r\n        implementation(&quot;io.micronaut.microstream:micronaut-microstream-annotations&quot;)\r\n        implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\r\n        runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n        developmentOnly(&quot;io.micronaut.microstream:micronaut-microstream-rest&quot;)\r\n        annotationProcessor(&quot;io.micronaut.security:micronaut-security-annotations&quot;)\r\n        implementation(&quot;io.micronaut.security:micronaut-security&quot;)\r\n    }\r\n\r\ncreated a class as below\r\n\r\n    public class Fruit {\r\n        @NonNull\r\n        @NotBlank\r\n        private final String name;\r\n    \r\n        @Nullable\r\n        private String description;\r\n    \r\n        public Fruit(@NonNull String name,\r\n                     @Nullable String description) {\r\n            this.name = name;\r\n            this.description = description;\r\n        }\r\n    \r\n        @NonNull\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        @Nullable\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(@Nullable String description) {\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\n**application.yml file**\r\n\r\n    micronaut:\r\n      application:\r\n        name: demo\r\n      security:\r\n        intercept-url-map:\r\n          - pattern: /microstream/**\r\n            http-method: GET\r\n            access:\r\n              - isAnonymous()\r\n    netty:\r\n      default:\r\n        allocator:\r\n          max-order: 3\r\n    \r\n    \r\n    \r\n    microstream:\r\n      storage:\r\n        main:\r\n          root-class: &#39;com.example.FruitContainer&#39;\r\n          storage-directory: &#39;build/fruit-storage&#39;\r\n\r\nReference - https://guides.micronaut.io/latest/micronaut-microstream-persistence-gradle-java.html\r\n\r\nWhen I am running the application, the storage directory was not created `build/fruit-storage`\r\n\r\nEven with microstream ui client not able to access the microstream rest endpoint\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    micronautVersion=3.9.3\r\n\r\nGIT- Repo - https://github.com/anandjaisy/microstream-micronaut\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bq16D.png","title":"Microstream with micronaut application is not working","body":"<p>Created a brand new micronaut application with below dependencies</p>\n<pre><code>dependencies {\n    annotationProcessor(&quot;io.micronaut:micronaut-http-validation&quot;)\n    annotationProcessor(&quot;io.micronaut.microstream:micronaut-microstream-annotations&quot;)\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\n    implementation(&quot;io.micronaut:micronaut-jackson-databind&quot;)\n    implementation(&quot;io.micronaut.microstream:micronaut-microstream&quot;)\n    implementation(&quot;io.micronaut.microstream:micronaut-microstream-annotations&quot;)\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    developmentOnly(&quot;io.micronaut.microstream:micronaut-microstream-rest&quot;)\n    annotationProcessor(&quot;io.micronaut.security:micronaut-security-annotations&quot;)\n    implementation(&quot;io.micronaut.security:micronaut-security&quot;)\n}\n</code></pre>\n<p>created a class as below</p>\n<pre><code>public class Fruit {\n    @NonNull\n    @NotBlank\n    private final String name;\n\n    @Nullable\n    private String description;\n\n    public Fruit(@NonNull String name,\n                 @Nullable String description) {\n        this.name = name;\n        this.description = description;\n    }\n\n    @NonNull\n    public String getName() {\n        return name;\n    }\n\n    @Nullable\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(@Nullable String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n<p><strong>application.yml file</strong></p>\n<pre><code>micronaut:\n  application:\n    name: demo\n  security:\n    intercept-url-map:\n      - pattern: /microstream/**\n        http-method: GET\n        access:\n          - isAnonymous()\nnetty:\n  default:\n    allocator:\n      max-order: 3\n\n\n\nmicrostream:\n  storage:\n    main:\n      root-class: 'com.example.FruitContainer'\n      storage-directory: 'build/fruit-storage'\n</code></pre>\n<p>Reference - <a href=\"https://guides.micronaut.io/latest/micronaut-microstream-persistence-gradle-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-microstream-persistence-gradle-java.html</a></p>\n<p>When I am running the application, the storage directory was not created <code>build/fruit-storage</code></p>\n<p>Even with microstream ui client not able to access the microstream rest endpoint</p>\n<p><a href=\"https://i.stack.imgur.com/Bq16D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bq16D.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>micronautVersion=3.9.3\n</code></pre>\n<p>GIT- Repo - <a href=\"https://github.com/anandjaisy/microstream-micronaut\" rel=\"nofollow noreferrer\">https://github.com/anandjaisy/microstream-micronaut</a></p>\n"},{"tags":["java","c++","recursion","dynamic-programming","memoization"],"comments":[{"owner":{"account_id":9008065,"reputation":550,"user_id":6713871,"display_name":"Chris Rollins"},"score":0,"creation_date":1547033647,"post_id":54108870,"comment_id":95050463,"body_markdown":"It appears to have a compilation error. Are you sure you&#39;re not just running an older build of the program? Some IDEs will do that. You&#39;ve also got some warnings because you&#39;re doing comparisons between signed and unsigned ints and you really shouldn&#39;t ignore warnings in C++.","body":"It appears to have a compilation error. Are you sure you&#39;re not just running an older build of the program? Some IDEs will do that. You&#39;ve also got some warnings because you&#39;re doing comparisons between signed and unsigned ints and you really shouldn&#39;t ignore warnings in C++."},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1547034642,"post_id":54108870,"comment_id":95051027,"body_markdown":"*The C++ code is returning false for &quot;applepenapple&quot; with dictionary [&quot;apple&quot;,&quot;pen&quot;]* -- Please post a [mcve] instead of a description.","body":"<i>The C++ code is returning false for &quot;applepenapple&quot; with dictionary [&quot;apple&quot;,&quot;pen&quot;]</i> -- Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead of a description."},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1547035840,"post_id":54108870,"comment_id":95051764,"body_markdown":"It isn&#39;t a good idea to attempt to do a line-by-line translation from Java to C++ and vice-versa.  You are not learning C++ by doing this, instead it is an easy way to totally get things wrong.  For example `substr` in C++ is not the same as `substring` in Java.  In addition (as the other comment pointed out), you are not heeding the warnings of the compiler about `unsigned`.  Also, your usage of the variable name `set` is not a good idea, since there is a `std::set` in the C++ standard library, causing confusing code.","body":"It isn&#39;t a good idea to attempt to do a line-by-line translation from Java to C++ and vice-versa.  You are not learning C++ by doing this, instead it is an easy way to totally get things wrong.  For example <code>substr</code> in C++ is not the same as <code>substring</code> in Java.  In addition (as the other comment pointed out), you are not heeding the warnings of the compiler about <code>unsigned</code>.  Also, your usage of the variable name <code>set</code> is not a good idea, since there is a <code>std::set</code> in the C++ standard library, causing confusing code."}],"answers":[{"comments":[{"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"score":0,"creation_date":1547037129,"post_id":54109764,"comment_id":95052546,"body_markdown":"Can confirm this fixed the erroneous test cases. Thanks a million.","body":"Can confirm this fixed the erroneous test cases. Thanks a million."}],"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1547035549,"creation_date":1547035549,"answer_id":54109764,"question_id":54108870,"body_markdown":"I see a potential problem. From [`java.lang.String` Javadoc][1] (emphasis mine):\r\n\r\n&gt; `public String substring(int beginIndex, int endIndex)`\r\n\r\n&gt; Returns a new string that is a substring of this string. The substring begins at the specified beginIndex and extends to the character at index endIndex - 1. Thus the length of the substring is endIndex-beginIndex.\r\n\r\n&gt; Examples:\r\n\r\n&gt;     &quot;hamburger&quot;.substring(4, 8) returns &quot;urge&quot;\r\n&gt;     &quot;smiles&quot;.substring(1, 5) returns &quot;mile&quot;\r\n     \r\n&gt; Parameters:\r\n\r\n&gt;    beginIndex - the beginning index, inclusive.\r\n\r\n&gt;    endIndex - **the ending index**, exclusive.\r\n\r\n\r\nFrom [cppreference.com documentation on strings][2]:\r\n\r\n&gt; `basic_string substr( size_type pos = 0, size_type count = npos ) const;`\r\n\t\t\r\n&gt; Returns a substring [pos, pos+count). If the requested substring extends past the end of the string, or if count == npos, the returned substring is [pos, size()).\r\n\r\n&gt; Parameters\r\n\r\n&gt; pos \t- \tposition of the first character to include\r\n\r\n&gt; count \t- \t**length of the substring** \r\n\r\nThat is, in Java you should pass an index as second parameter to `String.substring(...)`, but in C++ you should pass a length to `basic_string::substr(...)`. However, you are doing:\r\n\r\n\r\n    s.substr(start, end)\r\n\r\nand\r\n\r\n    s.substring(start, end)\r\n\r\nin both cases.\r\n\r\nMaybe adjusting the C++ invocation to \r\n\r\n    s.substr(start, end - start)\r\n\r\nwill work?\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\r\n  [2]: https://en.cppreference.com/w/cpp/string/basic_string/substr","title":"C++ vs Java Memoization Discrepancy","body":"<p>I see a potential problem. From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"nofollow noreferrer\"><code>java.lang.String</code> Javadoc</a> (emphasis mine):</p>\n\n<blockquote>\n  <p><code>public String substring(int beginIndex, int endIndex)</code></p>\n  \n  <p>Returns a new string that is a substring of this string. The substring begins at the specified beginIndex and extends to the character at index endIndex - 1. Thus the length of the substring is endIndex-beginIndex.</p>\n  \n  <p>Examples:</p>\n\n<pre><code>\"hamburger\".substring(4, 8) returns \"urge\"\n\"smiles\".substring(1, 5) returns \"mile\"\n</code></pre>\n  \n  <p>Parameters:</p>\n  \n  <p>beginIndex - the beginning index, inclusive.</p>\n  \n  <p>endIndex - <strong>the ending index</strong>, exclusive.</p>\n</blockquote>\n\n<p>From <a href=\"https://en.cppreference.com/w/cpp/string/basic_string/substr\" rel=\"nofollow noreferrer\">cppreference.com documentation on strings</a>:</p>\n\n<blockquote>\n  <p><code>basic_string substr( size_type pos = 0, size_type count = npos ) const;</code></p>\n  \n  <p>Returns a substring [pos, pos+count). If the requested substring extends past the end of the string, or if count == npos, the returned substring is [pos, size()).</p>\n  \n  <p>Parameters</p>\n  \n  <p>pos   -   position of the first character to include</p>\n  \n  <p>count     -   <strong>length of the substring</strong> </p>\n</blockquote>\n\n<p>That is, in Java you should pass an index as second parameter to <code>String.substring(...)</code>, but in C++ you should pass a length to <code>basic_string::substr(...)</code>. However, you are doing:</p>\n\n<pre><code>s.substr(start, end)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>s.substring(start, end)\n</code></pre>\n\n<p>in both cases.</p>\n\n<p>Maybe adjusting the C++ invocation to </p>\n\n<pre><code>s.substr(start, end - start)\n</code></pre>\n\n<p>will work?</p>\n"}],"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54109764,"answer_count":1,"score":0,"last_activity_date":1686925061,"creation_date":1547032459,"question_id":54108870,"body_markdown":"So I&#39;ve been trying to solve the word break Dynamic Programming problem, which basically means that given a dictionary of strings and  a string, see if the words in the dictionary can be combined to form the string. For example, given word &quot;applepenapple&quot; and dictionary [&quot;apple&quot;,&quot;pen&quot;] it should return true. \r\n\r\nI have a working java solution, but I&#39;m trying to improve my C++ skills. My problem is even though my code looks extremely similar to the working solution in Java, I am failing a niche test case and I can&#39;t figure out why. \r\n\r\nC++ code:\r\n\r\n    bool wordBreak(string s, vector&lt;string&gt; &amp;wordDict) {\r\n        vector&lt;int&gt; bArr(s.length(), -1);\r\n        unordered_set&lt;string&gt; set(wordDict.begin(), wordDict.end());\r\n        return wordBreak(s, bArr, 0, set);\r\n    }\r\n\r\n    bool wordBreak(string s, vector&lt;int&gt; &amp;bArr, int start, unordered_set&lt;string&gt; &amp;set) {\r\n        if (start == s.length())\r\n            return true;\r\n        //If we have a memoized solution to this problem, avoid recurion\r\n        if (bArr[start] != -1)\r\n            return (bArr[start] == 1);\r\n        for (int end = start + 1; end &lt;= s.length(); end++) {\r\n            if (set.count(s.substr(start, end)) &amp;&amp; wordBreak(s, bArr, end, set)) {\r\n                bArr[start] = 1;\r\n                return bArr[start] == 1;\r\n            }\r\n        }\r\n        bArr[start] = 0;\r\n        return false;\r\n    }\r\n\r\nWorking code using java:\r\n       \r\n    public boolean wordBreak(String s, List&lt;String&gt; wordDict) {\r\n        Integer[] memo =new Integer[s.length()];\r\n        Arrays.fill(memo,-1);\r\n        return word_Break(s, new HashSet(wordDict), 0, memo);\r\n    }\r\n\r\n    public boolean word_Break(String s, Set&lt;String&gt; wordDict, int start, Integer[] memo) {\r\n        if (start == s.length()) {\r\n            return true;\r\n        }\r\n        if (memo[start] != -1) {\r\n            return memo[start]==1;\r\n        }\r\n        for (int end = start + 1; end &lt;= s.length(); end++) {\r\n            if (wordDict.contains(s.substring(start, end)) &amp;&amp; word_Break(s, wordDict, end, memo)) {\r\n                memo[start] = 1;\r\n                return memo[start] == 1;\r\n            }\r\n        }\r\n        memo[start] = 0;\r\n        return false;\r\n    }\r\n\r\nThe C++ code is returning false for &quot;applepenapple&quot; with dictionary [&quot;apple&quot;,&quot;pen&quot;] and I don&#39;t know why since the java return true which is correct. The only major difference (I think) between the two solutions is that my C++ uses a vector instead of a native array in the java code. Initially I thought it might have to do with C++ using automatic storage (stack) vs the  free store (heap) which is why I used the vector instead of a C-style array to avoid memory management because of RAII. Despite this change, the bug persists. There is an easier solution avoiding recursion altogether, but I am very curious as to why the C++ is returning different output than the java. \r\n\r\n","title":"C++ vs Java Memoization Discrepancy","body":"<p>So I've been trying to solve the word break Dynamic Programming problem, which basically means that given a dictionary of strings and  a string, see if the words in the dictionary can be combined to form the string. For example, given word \"applepenapple\" and dictionary [\"apple\",\"pen\"] it should return true. </p>\n\n<p>I have a working java solution, but I'm trying to improve my C++ skills. My problem is even though my code looks extremely similar to the working solution in Java, I am failing a niche test case and I can't figure out why. </p>\n\n<p>C++ code:</p>\n\n<pre><code>bool wordBreak(string s, vector&lt;string&gt; &amp;wordDict) {\n    vector&lt;int&gt; bArr(s.length(), -1);\n    unordered_set&lt;string&gt; set(wordDict.begin(), wordDict.end());\n    return wordBreak(s, bArr, 0, set);\n}\n\nbool wordBreak(string s, vector&lt;int&gt; &amp;bArr, int start, unordered_set&lt;string&gt; &amp;set) {\n    if (start == s.length())\n        return true;\n    //If we have a memoized solution to this problem, avoid recurion\n    if (bArr[start] != -1)\n        return (bArr[start] == 1);\n    for (int end = start + 1; end &lt;= s.length(); end++) {\n        if (set.count(s.substr(start, end)) &amp;&amp; wordBreak(s, bArr, end, set)) {\n            bArr[start] = 1;\n            return bArr[start] == 1;\n        }\n    }\n    bArr[start] = 0;\n    return false;\n}\n</code></pre>\n\n<p>Working code using java:</p>\n\n<pre><code>public boolean wordBreak(String s, List&lt;String&gt; wordDict) {\n    Integer[] memo =new Integer[s.length()];\n    Arrays.fill(memo,-1);\n    return word_Break(s, new HashSet(wordDict), 0, memo);\n}\n\npublic boolean word_Break(String s, Set&lt;String&gt; wordDict, int start, Integer[] memo) {\n    if (start == s.length()) {\n        return true;\n    }\n    if (memo[start] != -1) {\n        return memo[start]==1;\n    }\n    for (int end = start + 1; end &lt;= s.length(); end++) {\n        if (wordDict.contains(s.substring(start, end)) &amp;&amp; word_Break(s, wordDict, end, memo)) {\n            memo[start] = 1;\n            return memo[start] == 1;\n        }\n    }\n    memo[start] = 0;\n    return false;\n}\n</code></pre>\n\n<p>The C++ code is returning false for \"applepenapple\" with dictionary [\"apple\",\"pen\"] and I don't know why since the java return true which is correct. The only major difference (I think) between the two solutions is that my C++ uses a vector instead of a native array in the java code. Initially I thought it might have to do with C++ using automatic storage (stack) vs the  free store (heap) which is why I used the vector instead of a C-style array to avoid memory management because of RAII. Despite this change, the bug persists. There is an easier solution avoiding recursion altogether, but I am very curious as to why the C++ is returning different output than the java. </p>\n"},{"tags":["java","wicket"],"answers":[{"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":1,"creation_date":1686918543,"post_id":76490056,"comment_id":134868211,"body_markdown":"Cool stuff, thanks. I had to add `&lt;wicket:panel&gt;` around the `div` in your provided `MyPanel.html` to make it work in the end, thanks to the verbose error message :)","body":"Cool stuff, thanks. I had to add <code>&lt;wicket:panel&gt;</code> around the <code>div</code> in your provided <code>MyPanel.html</code> to make it work in the end, thanks to the verbose error message :)"},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":1,"creation_date":1686918684,"post_id":76490056,"comment_id":134868247,"body_markdown":"Updated the code! Thanks!","body":"Updated the code! Thanks!"}],"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686918665,"creation_date":1686917289,"answer_id":76490056,"question_id":76489883,"body_markdown":"You need to provide markup for the cell contents. I.e. instead of adding an ExternalLink you need to add a markup provider like a `Panel` or a `Fragment` that contains the ExternalLink as a child.\r\n\r\n\r\n    @Override\r\n    public void populateItem(Item&lt;ICellPopulator&lt;Entity&gt;&gt; cellItem, String componentId, IModel&lt;Entity rowModel) {\r\n      cellItem.add(new MyPanel(componentId));\r\n    }\r\n    ...\r\n\r\nMyPanel.java:\r\n\r\n    public class MyPanel extends Panel {\r\n      public MyPanel(String id) {\r\n        super(id);\r\n\r\n        add(new ExternalLink(&quot;link&quot;,\r\n        &quot;https://example.com/entity/&quot; + rowModel.getObject().getExtid()),\r\n        rowModel.getObject().getName()));\r\n      }\r\n    }\r\n\r\nMyPanel.html:\r\n\r\n    &lt;wicket:panel&gt;&lt;div&gt;&lt;a wicket:id=&quot;link&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;/wicket:panel&gt;","title":"Add ExternalLink column to DefaultDataTable in Wicket","body":"<p>You need to provide markup for the cell contents. I.e. instead of adding an ExternalLink you need to add a markup provider like a <code>Panel</code> or a <code>Fragment</code> that contains the ExternalLink as a child.</p>\n<pre><code>@Override\npublic void populateItem(Item&lt;ICellPopulator&lt;Entity&gt;&gt; cellItem, String componentId, IModel&lt;Entity rowModel) {\n  cellItem.add(new MyPanel(componentId));\n}\n...\n</code></pre>\n<p>MyPanel.java:</p>\n<pre><code>public class MyPanel extends Panel {\n  public MyPanel(String id) {\n    super(id);\n\n    add(new ExternalLink(&quot;link&quot;,\n    &quot;https://example.com/entity/&quot; + rowModel.getObject().getExtid()),\n    rowModel.getObject().getName()));\n  }\n}\n</code></pre>\n<p>MyPanel.html:</p>\n<pre><code>&lt;wicket:panel&gt;&lt;div&gt;&lt;a wicket:id=&quot;link&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;/wicket:panel&gt;\n</code></pre>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76490056,"answer_count":1,"score":0,"last_activity_date":1686924945,"creation_date":1686916142,"question_id":76489883,"body_markdown":"I have a `DefaultDataTable` to display entities and in one of its columns I&#39;d like to have links (`ExternalLink`) for those entities. But doing the following does not really give me links, it shows only the link text.\r\n\r\nThis way I create the columns:\r\n\r\n```java\r\nList&lt;IColumn&lt;Entity, String&gt;&gt; columns = List.of(\r\n  new PropertyColumn&lt;&gt;(new Model&lt;&gt;(&quot;Id&quot;), &quot;id&quot;, &quot;id&quot;),\r\n  new PropertyColumn&lt;&gt;(new Model&lt;&gt;(&quot;Name&quot;), &quot;name&quot;, &quot;name&quot;),\r\n  new IColumn&lt;&gt;() {\r\n    @Override\r\n    public Component getHeader(String componentId) {\r\n      return new Label(componentId, &quot;Link&quot;);\r\n    }\r\n    @Override\r\n    public String getSortProperty() {\r\n      return null; // No sorting\r\n    }\r\n    @Override\r\n    public void populateItem(Item&lt;ICellPopulator&lt;Entity&gt;&gt; cellItem, String componentId, IModel&lt;Entity rowModel) {\r\n      cellItem.add(new ExternalLink(componentId,\r\n        &quot;https://example.com/entity/&quot; + rowModel.getObject().getExtid()),\r\n        rowModel.getObject().getName());\r\n    }\r\n    @Override\r\n    public void detach() { }\r\n  }\r\n);\r\n```\r\n\r\nThis way the DefaultDataTable is created:\r\n\r\n```java\r\nvar entityDataTable = new DefaultDataTable&lt;&gt;(&quot;entity_data_table&quot;, columns, dataProvider, 20);\r\nadd(entityDataTable);\r\n```\r\n\r\nBut in the browser it looks like the second column is just repeated as the third:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo how can I show a link column in a data table? Btw. I&#39;m using Apache Wicket 9.14.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u0R0x.png","title":"Add ExternalLink column to DefaultDataTable in Wicket","body":"<p>I have a <code>DefaultDataTable</code> to display entities and in one of its columns I'd like to have links (<code>ExternalLink</code>) for those entities. But doing the following does not really give me links, it shows only the link text.</p>\n<p>This way I create the columns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;IColumn&lt;Entity, String&gt;&gt; columns = List.of(\n  new PropertyColumn&lt;&gt;(new Model&lt;&gt;(&quot;Id&quot;), &quot;id&quot;, &quot;id&quot;),\n  new PropertyColumn&lt;&gt;(new Model&lt;&gt;(&quot;Name&quot;), &quot;name&quot;, &quot;name&quot;),\n  new IColumn&lt;&gt;() {\n    @Override\n    public Component getHeader(String componentId) {\n      return new Label(componentId, &quot;Link&quot;);\n    }\n    @Override\n    public String getSortProperty() {\n      return null; // No sorting\n    }\n    @Override\n    public void populateItem(Item&lt;ICellPopulator&lt;Entity&gt;&gt; cellItem, String componentId, IModel&lt;Entity rowModel) {\n      cellItem.add(new ExternalLink(componentId,\n        &quot;https://example.com/entity/&quot; + rowModel.getObject().getExtid()),\n        rowModel.getObject().getName());\n    }\n    @Override\n    public void detach() { }\n  }\n);\n</code></pre>\n<p>This way the DefaultDataTable is created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var entityDataTable = new DefaultDataTable&lt;&gt;(&quot;entity_data_table&quot;, columns, dataProvider, 20);\nadd(entityDataTable);\n</code></pre>\n<p>But in the browser it looks like the second column is just repeated as the third:</p>\n<p><a href=\"https://i.stack.imgur.com/u0R0x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u0R0x.png\" alt=\"enter image description here\" /></a></p>\n<p>So how can I show a link column in a data table? Btw. I'm using Apache Wicket 9.14.</p>\n"},{"tags":["java","android","kotlin","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":1297417,"reputation":41873,"user_id":1248114,"accept_rate":66,"display_name":"arkascha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686924893,"creation_date":1686924893,"answer_id":76491047,"question_id":76473623,"body_markdown":"We ended up reimplementing the annotation processor based on KSP instead of KAPT. That way it indeed does see the kotlin based classes as well. \r\n\r\nThe reimplementation was pretty straight forward. Though I would have wished for a better documentation for KSP. ","title":"AnnotationProcessor in mixed java/kotlin Android project does not process kotlin class","body":"<p>We ended up reimplementing the annotation processor based on KSP instead of KAPT. That way it indeed does see the kotlin based classes as well.</p>\n<p>The reimplementation was pretty straight forward. Though I would have wished for a better documentation for KSP.</p>\n"}],"owner":{"account_id":1297417,"reputation":41873,"user_id":1248114,"accept_rate":66,"display_name":"arkascha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76491047,"answer_count":1,"score":0,"last_activity_date":1686924893,"creation_date":1686745970,"question_id":76473623,"body_markdown":"In an Android project (native with mixed java / kotlin) we use a simple annotation processor to generate a class in our build process. That generated class contains all `Activity` classes in the project that have been annotated with a specific project internal annotation, we use this to initialize some specific hardware on android devices. \r\n\r\nThat annotation processor works fine, we now ran into an issue with a single `Activity` class _not_ getting compiled into that generated class. I realize that this `Activity` is the second one implemented in kotlin and the first kotlin based `Activity` with the annotation in question. \r\n\r\nSo I dove into the annotation processor, checked the set of annotated files we get from the `RoundEnvironment` and indeed, the `Activity` class is already missing in the set our processor operates on. \r\n\r\nSo my question is: \r\n\r\n - Why is that kotlin based `Activity` class not included in the environment?\r\n - Or what do I have to do to get it included? \r\n\r\nHere is the relevant code if the annotation processor: \r\n\r\n    // [...]\r\n    import javax.annotation.processing.AbstractProcessor;\r\n    import javax.annotation.processing.ProcessingEnvironment;\r\n    import javax.annotation.processing.RoundEnvironment;\r\n    // [...]\r\n\r\n    @SupportedAnnotationTypes(EnableScannerTypesAnnotationProcessor.ENABLE_SCANNER_ANNOTATION)\r\n    @SupportedSourceVersion(SourceVersion.RELEASE_8)\r\n    @SuppressWarnings(&quot;PMD.ConsecutiveLiteralAppends&quot;)\r\n    public class EnableScannerTypesAnnotationProcessor\r\n        extends AbstractProcessor {\r\n    \r\n        // [...]\r\n    \r\n        @Override\r\n        public synchronized void init(ProcessingEnvironment processingEnvironment) {\r\n            super.init(processingEnvironment);\r\n            // [...]\r\n        }\r\n    \r\n        @Override\r\n        public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        \r\n            for (TypeElement annotation : annotations) {\r\n                if (annotation.getQualifiedName().contentEquals(ENABLE_SCANNER_ANNOTATION)) {\r\n                    final Set&lt;? extends Element&gt; annotatedTypes = roundEnv.getElementsAnnotatedWith(annotation);\r\n                    // the processor now operates on the set `annotatedTypes`\r\n                    // [...] \r\n\r\n\r\n","title":"AnnotationProcessor in mixed java/kotlin Android project does not process kotlin class","body":"<p>In an Android project (native with mixed java / kotlin) we use a simple annotation processor to generate a class in our build process. That generated class contains all <code>Activity</code> classes in the project that have been annotated with a specific project internal annotation, we use this to initialize some specific hardware on android devices.</p>\n<p>That annotation processor works fine, we now ran into an issue with a single <code>Activity</code> class <em>not</em> getting compiled into that generated class. I realize that this <code>Activity</code> is the second one implemented in kotlin and the first kotlin based <code>Activity</code> with the annotation in question.</p>\n<p>So I dove into the annotation processor, checked the set of annotated files we get from the <code>RoundEnvironment</code> and indeed, the <code>Activity</code> class is already missing in the set our processor operates on.</p>\n<p>So my question is:</p>\n<ul>\n<li>Why is that kotlin based <code>Activity</code> class not included in the environment?</li>\n<li>Or what do I have to do to get it included?</li>\n</ul>\n<p>Here is the relevant code if the annotation processor:</p>\n<pre><code>// [...]\nimport javax.annotation.processing.AbstractProcessor;\nimport javax.annotation.processing.ProcessingEnvironment;\nimport javax.annotation.processing.RoundEnvironment;\n// [...]\n\n@SupportedAnnotationTypes(EnableScannerTypesAnnotationProcessor.ENABLE_SCANNER_ANNOTATION)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\n@SuppressWarnings(&quot;PMD.ConsecutiveLiteralAppends&quot;)\npublic class EnableScannerTypesAnnotationProcessor\n    extends AbstractProcessor {\n\n    // [...]\n\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnvironment) {\n        super.init(processingEnvironment);\n        // [...]\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    \n        for (TypeElement annotation : annotations) {\n            if (annotation.getQualifiedName().contentEquals(ENABLE_SCANNER_ANNOTATION)) {\n                final Set&lt;? extends Element&gt; annotatedTypes = roundEnv.getElementsAnnotatedWith(annotation);\n                // the processor now operates on the set `annotatedTypes`\n                // [...] \n</code></pre>\n"},{"tags":["java","sql","sqlite","sqlitejdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686927382,"post_id":76491016,"comment_id":134870268,"body_markdown":"Try getting rid of that semicolon","body":"Try getting rid of that semicolon"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686927602,"post_id":76491016,"comment_id":134870324,"body_markdown":"[For the INSERT and UPDATE commands, the keywords &quot;ON CONFLICT&quot; are replaced by &quot;OR&quot; so that the syntax reads more naturally.](https://www.sqlite.org/lang_conflict.html) At a quick glance, I don&#39;t see any evidence that a qualifier is possible for `CONFLICT`","body":"<a href=\"https://www.sqlite.org/lang_conflict.html\" rel=\"nofollow noreferrer\">For the INSERT and UPDATE commands, the keywords &quot;ON CONFLICT&quot; are replaced by &quot;OR&quot; so that the syntax reads more naturally.</a> At a quick glance, I don&#39;t see any evidence that a qualifier is possible for <code>CONFLICT</code>"},{"owner":{"account_id":25534230,"reputation":1,"user_id":19321632,"display_name":"Extrreme"},"score":0,"creation_date":1686928717,"post_id":76491016,"comment_id":134870547,"body_markdown":"@g00se I got the format for the statement from here: https://www.sqlite.org/lang_UPSERT.html","body":"@g00se I got the format for the statement from here: <a href=\"https://www.sqlite.org/lang_UPSERT.html\" rel=\"nofollow noreferrer\">sqlite.org/lang_UPSERT.html</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686929003,"post_id":76491016,"comment_id":134870612,"body_markdown":"Ah right, I didn&#39;t check the `UPSERT` docs out. You need to make sure your driver supports it. Did removing the semicolon have any effect?","body":"Ah right, I didn&#39;t check the <code>UPSERT</code> docs out. You need to make sure your driver supports it. Did removing the semicolon have any effect?"},{"owner":{"account_id":25534230,"reputation":1,"user_id":19321632,"display_name":"Extrreme"},"score":0,"creation_date":1686929756,"post_id":76491016,"comment_id":134870768,"body_markdown":"@g00se Unfortunately, no, I removed the semicolon, and the `(name)` but neither resolved the issue. It says the `UPSERT` syntax was added in 3.24.0 and I am using 3.42.0.0 so it should be there?","body":"@g00se Unfortunately, no, I removed the semicolon, and the <code>(name)</code> but neither resolved the issue. It says the <code>UPSERT</code> syntax was added in 3.24.0 and I am using 3.42.0.0 so it should be there?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":1,"creation_date":1686930784,"post_id":76491016,"comment_id":134871007,"body_markdown":"Does a `SELECT sqlite_version()` from in the same program that you&#39;re trying to run this insert in say you&#39;re using 3.42?","body":"Does a <code>SELECT sqlite_version()</code> from in the same program that you&#39;re trying to run this insert in say you&#39;re using 3.42?"}],"owner":{"account_id":25534230,"reputation":1,"user_id":19321632,"display_name":"Extrreme"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686924886,"creation_date":1686924717,"question_id":76491016,"body_markdown":"I am trying to execute the following SQLite upsert statement:\r\n```\r\nString stmtStr = &quot;INSERT INTO charge_sets(name, description, ref_name) VALUES(&#39;test&#39;, &#39;test&#39;, &#39;test&#39;) ON CONFLICT(name) DO UPDATE SET description=&#39;test&#39;, ref_name=&#39;test&#39;;&quot;;\r\n```\r\nhowever, when the statement is prepared using:\r\n```\r\nPreparedStatement placeStatement = conn.prepareStatement(stmtStr);\r\n```\r\nthe following SQLException is thrown:\r\n```\r\n[10:02:42 INFO]: Test query: INSERT INTO charge_sets(name, description, ref_name) VALUES(&#39;test&#39;, &#39;test&#39;, &#39;test&#39;) ON CONFLICT(name) DO UPDATE SET description=&#39;test&#39;, ref_name=&#39;test&#39;;\r\n[10:02:42 WARN]: org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (near &quot;ON&quot;: syntax error)\r\n[10:02:42 WARN]:        at org.sqlite.core.DB.newSQLException(DB.java:909)\r\n[10:02:42 WARN]:        at org.sqlite.core.DB.newSQLException(DB.java:921)\r\n[10:02:42 WARN]:        at org.sqlite.core.DB.throwex(DB.java:886)\r\n[10:02:42 WARN]:        at org.sqlite.core.NativeDB.prepare_utf8(Native Method)\r\n[10:02:42 WARN]:        at org.sqlite.core.NativeDB.prepare(NativeDB.java:127)\r\n[10:02:42 WARN]:        at org.sqlite.core.DB.prepare(DB.java:227)\r\n[10:02:42 WARN]:        at org.sqlite.core.CorePreparedStatement.&lt;init&gt;(CorePreparedStatement.java:41)\r\n[10:02:42 WARN]:        at org.sqlite.jdbc3.JDBC3PreparedStatement.&lt;init&gt;(JDBC3PreparedStatement.java:30)\r\n[10:02:42 WARN]:        at org.sqlite.jdbc4.JDBC4PreparedStatement.&lt;init&gt;(JDBC4PreparedStatement.java:19)\r\n[10:02:42 WARN]:        at org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:48)\r\n[10:02:42 WARN]:        at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:263)\r\n[10:02:42 WARN]:        at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:235)\r\n```\r\nI cannot figure out why. Using a software such as SQLite DB Browser I was able to execute this statement perfectly fine, however the java SQLite library is not working (I am using version 3.42.0.0). \r\n","title":"SQLite issue, &quot;SQL error or missing database (near &quot;ON&quot;: syntax error)&quot;","body":"<p>I am trying to execute the following SQLite upsert statement:</p>\n<pre><code>String stmtStr = &quot;INSERT INTO charge_sets(name, description, ref_name) VALUES('test', 'test', 'test') ON CONFLICT(name) DO UPDATE SET description='test', ref_name='test';&quot;;\n</code></pre>\n<p>however, when the statement is prepared using:</p>\n<pre><code>PreparedStatement placeStatement = conn.prepareStatement(stmtStr);\n</code></pre>\n<p>the following SQLException is thrown:</p>\n<pre><code>[10:02:42 INFO]: Test query: INSERT INTO charge_sets(name, description, ref_name) VALUES('test', 'test', 'test') ON CONFLICT(name) DO UPDATE SET description='test', ref_name='test';\n[10:02:42 WARN]: org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (near &quot;ON&quot;: syntax error)\n[10:02:42 WARN]:        at org.sqlite.core.DB.newSQLException(DB.java:909)\n[10:02:42 WARN]:        at org.sqlite.core.DB.newSQLException(DB.java:921)\n[10:02:42 WARN]:        at org.sqlite.core.DB.throwex(DB.java:886)\n[10:02:42 WARN]:        at org.sqlite.core.NativeDB.prepare_utf8(Native Method)\n[10:02:42 WARN]:        at org.sqlite.core.NativeDB.prepare(NativeDB.java:127)\n[10:02:42 WARN]:        at org.sqlite.core.DB.prepare(DB.java:227)\n[10:02:42 WARN]:        at org.sqlite.core.CorePreparedStatement.&lt;init&gt;(CorePreparedStatement.java:41)\n[10:02:42 WARN]:        at org.sqlite.jdbc3.JDBC3PreparedStatement.&lt;init&gt;(JDBC3PreparedStatement.java:30)\n[10:02:42 WARN]:        at org.sqlite.jdbc4.JDBC4PreparedStatement.&lt;init&gt;(JDBC4PreparedStatement.java:19)\n[10:02:42 WARN]:        at org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:48)\n[10:02:42 WARN]:        at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:263)\n[10:02:42 WARN]:        at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:235)\n</code></pre>\n<p>I cannot figure out why. Using a software such as SQLite DB Browser I was able to execute this statement perfectly fine, however the java SQLite library is not working (I am using version 3.42.0.0).</p>\n"},{"tags":["java","json","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4657237,"reputation":109,"user_id":3772496,"display_name":"Hiruthere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686924573,"creation_date":1686924573,"answer_id":76490993,"question_id":75677483,"body_markdown":"With below code I can generate separate JSON files\r\n\r\n        public void saveJSONRport() {\r\n    \t\t// Function to save JSON file. It will create separate JSON file for each\r\n    \t\t// scenario\r\n    \t\t Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    \t        JsonArray elementsArray = new JsonArray();\r\n    \t        for (JsonObject elementObject : elementList) {\r\n    \t            elementsArray.add(elementObject);\r\n    \t        }\r\n    \t        jsonObject.add(&quot;elements&quot;, elementsArray);\r\n    \t        ArrayList&lt;JsonObject&gt; jsonListArray = new ArrayList&lt;JsonObject&gt;();\r\n    \t        jsonListArray.add(jsonObject);\r\n    \t        String json = gson.toJson(jsonListArray);\r\n    \r\n    \t        // Save the JSON in a folder\r\n    \t        // Assuming folder path is &quot;target/cucumber-reports&quot;\r\n    \t        File folder = new File(&quot;target/cucumber-reports/json_files&quot;);\r\n    \t        if (!folder.exists()) {\r\n    \t            folder.mkdirs();\r\n    \t        }\r\n    \t        String fileName = &quot;cucumber_report_&quot; + System.currentTimeMillis() + &quot;.json&quot;;\r\n    \t        File file = new File(folder, fileName);\r\n    \t        try (FileWriter fileWriter = new FileWriter(file)) {\r\n    \t            fileWriter.write(json);\r\n    \t            fileWriter.flush();\r\n    \t        } catch (IOException e) {\r\n    \t            e.printStackTrace();\r\n    \t        }\r\n    \t        \r\n    \t        System.out.println(&quot; file - &quot; + fileName );\r\n    \t        // Reset jsonObject and Array to prepare for next scenario\r\n    //\t        jsonObject = new JsonObject();\r\n    //\t        elementList = new ArrayList&lt;JsonObject&gt;();\r\n    \t}\r\n    }","title":"Cucumber JSON : Generate separate JSON file for each scenario in cucumber-report JSON format","body":"<p>With below code I can generate separate JSON files</p>\n<pre><code>    public void saveJSONRport() {\n        // Function to save JSON file. It will create separate JSON file for each\n        // scenario\n         Gson gson = new GsonBuilder().setPrettyPrinting().create();\n            JsonArray elementsArray = new JsonArray();\n            for (JsonObject elementObject : elementList) {\n                elementsArray.add(elementObject);\n            }\n            jsonObject.add(&quot;elements&quot;, elementsArray);\n            ArrayList&lt;JsonObject&gt; jsonListArray = new ArrayList&lt;JsonObject&gt;();\n            jsonListArray.add(jsonObject);\n            String json = gson.toJson(jsonListArray);\n\n            // Save the JSON in a folder\n            // Assuming folder path is &quot;target/cucumber-reports&quot;\n            File folder = new File(&quot;target/cucumber-reports/json_files&quot;);\n            if (!folder.exists()) {\n                folder.mkdirs();\n            }\n            String fileName = &quot;cucumber_report_&quot; + System.currentTimeMillis() + &quot;.json&quot;;\n            File file = new File(folder, fileName);\n            try (FileWriter fileWriter = new FileWriter(file)) {\n                fileWriter.write(json);\n                fileWriter.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            \n            System.out.println(&quot; file - &quot; + fileName );\n            // Reset jsonObject and Array to prepare for next scenario\n//          jsonObject = new JsonObject();\n//          elementList = new ArrayList&lt;JsonObject&gt;();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4657237,"reputation":109,"user_id":3772496,"display_name":"Hiruthere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76490993,"answer_count":1,"score":0,"last_activity_date":1686924573,"creation_date":1678304301,"question_id":75677483,"body_markdown":"I am generation JSON file to generate cucumber-report as per format mentioned from hybrid automation framework.\r\nHowever, want to create JSON file for each scenario. Below is the code\r\n\r\nMain.java\r\n\r\n    package com.demo.jdbc;\r\n\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n\r\n\r\n    public class jsonCucumber {\r\n\t\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n    \t//CucumberJSONGenerator3 cucumberJSONGenerator = new CucumberJSONGenerator3();\r\n    \t//CucumberJSONGenerator2 cucumberJSONGenerator = new CucumberJSONGenerator2();\r\n    \tCucumberJSONGenerator cucumberJSONGenerator = new CucumberJSONGenerator();\r\n       \r\n    \t// Add a scenario with tags\r\n    \tString[] tags = {&quot;tag1&quot;, &quot;tag2&quot;};\r\n    \tcucumberJSONGenerator.addScenario(&quot;My Scenario&quot;, tags);\r\n    \tcucumberJSONGenerator.addStep(&quot;Given I navigate to the homepage&quot;, &quot;passed&quot;);\r\n    \tcucumberJSONGenerator.addStep(&quot;When I click the login button&quot;, &quot;passed&quot;);\r\n    \tcucumberJSONGenerator.addStep(&quot;Then I should see the dashboard&quot;, &quot;failed&quot;);\r\n\r\n        cucumberJSONGenerator.executionFinish(&quot;cucumber_report.json&quot;);\r\n    \t//cucumberJSONGenerator.executionFinish();\r\n            \r\n            \r\n         // Add a scenario without tags\r\n            cucumberJSONGenerator.addScenario(&quot;Another Scenario&quot;,new String[]{});\r\n            cucumberJSONGenerator.addStep(&quot;Given I open the application&quot;, &quot;passed&quot;);\r\n            cucumberJSONGenerator.addStep( &quot;When I enter my username&quot;, &quot;passed&quot;);\r\n            cucumberJSONGenerator.addStep( &quot;And I enter my password&quot;, &quot;passed&quot;);\r\n            cucumberJSONGenerator.addStep( &quot;Then I should be logged in&quot;, &quot;passed&quot;);\r\n          // cucumberJSONGenerator.executionFinish();\r\n            \r\n         cucumberJSONGenerator.executionFinish(&quot;cucumber_report1.json&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nCucumberJSONGenerator.java\r\n\r\n    package com.demo.jdbc;\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonArray;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n\r\n    public class CucumberJSONGenerator {\r\n\r\n    private JsonObject cucumberReport;\r\n    private JsonArray cucumberFeatures;\r\n    private JsonObject cucumberFeature;\r\n    private JsonArray cucumberElements;\r\n    private JsonObject cucumberElement;\r\n    private JsonArray cucumberSteps;\r\n    private JsonObject cucumberStep;\r\n\r\n    public CucumberJSONGenerator() {\r\n        cucumberReport = new JsonObject();\r\n        cucumberFeatures = new JsonArray();\r\n    }\r\n\r\n    public void addScenario(String scenarioName, String[] tags) {\r\n        \r\n        cucumberFeature = new JsonObject();\r\n        cucumberFeature.addProperty(&quot;name&quot;, scenarioName);\r\n        \r\n        if (tags == null) {\r\n            tags = new String[0];\r\n        }\r\n        \r\n        cucumberFeature.add(&quot;tags&quot;, generateTagsArray(tags));\r\n        cucumberElements = new JsonArray();\r\n        cucumberFeature.add(&quot;elements&quot;, cucumberElements);\r\n        cucumberSteps = new JsonArray();\r\n        cucumberElement = new JsonObject();\r\n        cucumberElement.add(&quot;steps&quot;, cucumberSteps);\r\n        cucumberElements.add(cucumberElement);\r\n        cucumberFeatures.add(cucumberFeature);\r\n    }\r\n\r\n    public void addStep(String stepName, String status) {\r\n        cucumberStep = new JsonObject();\r\n        cucumberStep.addProperty(&quot;name&quot;, stepName);\r\n        cucumberStep.addProperty(&quot;result&quot;, status);\r\n        cucumberSteps.add(cucumberStep);\r\n    }\r\n    \r\n    public void executionFinish(String filePath) {\r\n        try {\r\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n            JsonObject currentScenario = cucumberFeatures();\r\n            \r\n            \r\n            for (int i = 0; i &lt; cucumberFeatures.size(); i++) {\r\n            \t\r\n                JsonObject cucumberReport = new JsonObject();\r\n                cucumberReport.addProperty(&quot;name&quot;, &quot;Cucumber Report&quot;);\r\n                cucumberReport.addProperty(&quot;description&quot;, &quot;This is a sample Cucumber report generated using Java.&quot;);\r\n                cucumberReport.addProperty(&quot;keyword&quot;, &quot;Feature&quot;);\r\n\r\n                JsonArray features = new JsonArray();\r\n                features.add(cucumberFeatures.get(i));\r\n                cucumberReport.add(&quot;features&quot;, features);\r\n\r\n                String scenarioName = cucumberFeatures.get(i).getAsJsonObject().get(&quot;name&quot;).getAsString();\r\n                String fileName = scenarioName.replaceAll(&quot; &quot;, &quot;_&quot;) + &quot;.json&quot;;\r\n                String fileWithPath = filePath + fileName;\r\n\r\n                FileWriter writer = new FileWriter(fileWithPath);\r\n                writer.write(gson.toJson(cucumberReport));\r\n                writer.close();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\tprivate JsonObject cucumberFeatures() {\r\n        return cucumberFeatures.get(cucumberFeatures.size() - 1).getAsJsonObject();\r\n    }\r\n    \r\n    private JsonArray generateTagsArray(String[] tags) {\r\n        JsonArray tagsArray = new JsonArray();\r\n        for (String tag : tags) {\r\n            JsonObject tagObject = new JsonObject();\r\n            tagObject.addProperty(&quot;name&quot;, tag);\r\n            tagsArray.add(tagObject);\r\n        }\r\n        return tagsArray;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nWith above code three files are generating below three files\r\n\r\n1. cucumber_report.jsonMy_Scenario.json\r\n2. cucumber_report1.jsonAnother_Scenario.json\r\n3. cucumber_report1.jsonMy_Scenario.json\r\n\r\nI want only two files instead of three. \r\n\r\n1. cucumber_report.jsonMy_Scenario.json\r\n2. cucumber_report1.jsonAnother_Scenario.json\r\n\r\n\r\nPlease help.","title":"Cucumber JSON : Generate separate JSON file for each scenario in cucumber-report JSON format","body":"<p>I am generation JSON file to generate cucumber-report as per format mentioned from hybrid automation framework.\nHowever, want to create JSON file for each scenario. Below is the code</p>\n<p>Main.java</p>\n<pre><code>package com.demo.jdbc;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n\npublic class jsonCucumber {\n\npublic static void main(String[] args) throws IOException {\n    \n    //CucumberJSONGenerator3 cucumberJSONGenerator = new CucumberJSONGenerator3();\n    //CucumberJSONGenerator2 cucumberJSONGenerator = new CucumberJSONGenerator2();\n    CucumberJSONGenerator cucumberJSONGenerator = new CucumberJSONGenerator();\n   \n    // Add a scenario with tags\n    String[] tags = {&quot;tag1&quot;, &quot;tag2&quot;};\n    cucumberJSONGenerator.addScenario(&quot;My Scenario&quot;, tags);\n    cucumberJSONGenerator.addStep(&quot;Given I navigate to the homepage&quot;, &quot;passed&quot;);\n    cucumberJSONGenerator.addStep(&quot;When I click the login button&quot;, &quot;passed&quot;);\n    cucumberJSONGenerator.addStep(&quot;Then I should see the dashboard&quot;, &quot;failed&quot;);\n\n    cucumberJSONGenerator.executionFinish(&quot;cucumber_report.json&quot;);\n    //cucumberJSONGenerator.executionFinish();\n        \n        \n     // Add a scenario without tags\n        cucumberJSONGenerator.addScenario(&quot;Another Scenario&quot;,new String[]{});\n        cucumberJSONGenerator.addStep(&quot;Given I open the application&quot;, &quot;passed&quot;);\n        cucumberJSONGenerator.addStep( &quot;When I enter my username&quot;, &quot;passed&quot;);\n        cucumberJSONGenerator.addStep( &quot;And I enter my password&quot;, &quot;passed&quot;);\n        cucumberJSONGenerator.addStep( &quot;Then I should be logged in&quot;, &quot;passed&quot;);\n      // cucumberJSONGenerator.executionFinish();\n        \n     cucumberJSONGenerator.executionFinish(&quot;cucumber_report1.json&quot;);\n    }\n\n}\n</code></pre>\n<p>CucumberJSONGenerator.java</p>\n<pre><code>package com.demo.jdbc;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonArray;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class CucumberJSONGenerator {\n\nprivate JsonObject cucumberReport;\nprivate JsonArray cucumberFeatures;\nprivate JsonObject cucumberFeature;\nprivate JsonArray cucumberElements;\nprivate JsonObject cucumberElement;\nprivate JsonArray cucumberSteps;\nprivate JsonObject cucumberStep;\n\npublic CucumberJSONGenerator() {\n    cucumberReport = new JsonObject();\n    cucumberFeatures = new JsonArray();\n}\n\npublic void addScenario(String scenarioName, String[] tags) {\n    \n    cucumberFeature = new JsonObject();\n    cucumberFeature.addProperty(&quot;name&quot;, scenarioName);\n    \n    if (tags == null) {\n        tags = new String[0];\n    }\n    \n    cucumberFeature.add(&quot;tags&quot;, generateTagsArray(tags));\n    cucumberElements = new JsonArray();\n    cucumberFeature.add(&quot;elements&quot;, cucumberElements);\n    cucumberSteps = new JsonArray();\n    cucumberElement = new JsonObject();\n    cucumberElement.add(&quot;steps&quot;, cucumberSteps);\n    cucumberElements.add(cucumberElement);\n    cucumberFeatures.add(cucumberFeature);\n}\n\npublic void addStep(String stepName, String status) {\n    cucumberStep = new JsonObject();\n    cucumberStep.addProperty(&quot;name&quot;, stepName);\n    cucumberStep.addProperty(&quot;result&quot;, status);\n    cucumberSteps.add(cucumberStep);\n}\n\npublic void executionFinish(String filePath) {\n    try {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        JsonObject currentScenario = cucumberFeatures();\n        \n        \n        for (int i = 0; i &lt; cucumberFeatures.size(); i++) {\n            \n            JsonObject cucumberReport = new JsonObject();\n            cucumberReport.addProperty(&quot;name&quot;, &quot;Cucumber Report&quot;);\n            cucumberReport.addProperty(&quot;description&quot;, &quot;This is a sample Cucumber report generated using Java.&quot;);\n            cucumberReport.addProperty(&quot;keyword&quot;, &quot;Feature&quot;);\n\n            JsonArray features = new JsonArray();\n            features.add(cucumberFeatures.get(i));\n            cucumberReport.add(&quot;features&quot;, features);\n\n            String scenarioName = cucumberFeatures.get(i).getAsJsonObject().get(&quot;name&quot;).getAsString();\n            String fileName = scenarioName.replaceAll(&quot; &quot;, &quot;_&quot;) + &quot;.json&quot;;\n            String fileWithPath = filePath + fileName;\n\n            FileWriter writer = new FileWriter(fileWithPath);\n            writer.write(gson.toJson(cucumberReport));\n            writer.close();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\n\nprivate JsonObject cucumberFeatures() {\n    return cucumberFeatures.get(cucumberFeatures.size() - 1).getAsJsonObject();\n}\n\nprivate JsonArray generateTagsArray(String[] tags) {\n    JsonArray tagsArray = new JsonArray();\n    for (String tag : tags) {\n        JsonObject tagObject = new JsonObject();\n        tagObject.addProperty(&quot;name&quot;, tag);\n        tagsArray.add(tagObject);\n    }\n    return tagsArray;\n}\n</code></pre>\n<p>}</p>\n<p>With above code three files are generating below three files</p>\n<ol>\n<li>cucumber_report.jsonMy_Scenario.json</li>\n<li>cucumber_report1.jsonAnother_Scenario.json</li>\n<li>cucumber_report1.jsonMy_Scenario.json</li>\n</ol>\n<p>I want only two files instead of three.</p>\n<ol>\n<li>cucumber_report.jsonMy_Scenario.json</li>\n<li>cucumber_report1.jsonAnother_Scenario.json</li>\n</ol>\n<p>Please help.</p>\n"},{"tags":["java","spring","authentication","spring-security","error-handling"],"answers":[{"tags":[],"owner":{"account_id":2917205,"reputation":733,"user_id":2500149,"accept_rate":62,"display_name":"Marcin K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686924497,"creation_date":1686924497,"answer_id":76490987,"question_id":76396564,"body_markdown":"TL; DR;\r\n\r\nUse ContentCachingResponseWrapper\r\n\r\nFull answer:\r\n\r\nOk so I kept on working on the 2nd solution and it turned out to give good results. First of all the issues I had with deserializing using any of these 2 approaches was due to imperfect implementation of ExcetionResponse, which was a company&#39;s in-house class. It was made by different team and at first I haven&#39;t noticed it. You will probably have no problems using either of these:\r\n\r\n    ExceptionResponse exceptionResponse1 = objectMapper.readValue(responseStr, ExceptionResponse.class);\r\n    ExceptionResponse exceptionResponse2 = objectMapper.readerForUpdating(emptyExceptionResponse).readValue(responseStrAlternated);\r\n\r\nHowever after discussions I eventually ended up returning a different class as error response and just attaching the previous error as string. I&#39;m attaching my final solution. If you combine it with either of the 2 lines above it should be trivial to make code that assigns data of old error response to field &quot;reason&quot; or other field of the new error response\r\n\r\n    @Override\r\n    public void commence(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException exception)\r\n            throws IOException {\r\n        log.warn(MESSAGE_AUTHENTICATION_FAILED);\r\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n\r\n        super.commence(request, responseWrapper, exception);\r\n\r\n        String responseStr = new String(responseWrapper.getContentAsByteArray(), responseWrapper.getCharacterEncoding());\r\n\r\n        NewErrorResponse newErrorResponse = errorResponseWithDetail(responseStr);\r\n\r\n        response.setStatus(responseWrapper.getStatus());\r\n        response.setContentType(responseWrapper.getContentType());\r\n        response.getWriter().write(this.objectMapper.writeValueAsString(newErrorResponse));\r\n    }\r\n\r\n","title":"How to take body of HttpServletResponse returned by one AuthenticationEntryPoint and modify it in SubClassEntryPoint","body":"<p>TL; DR;</p>\n<p>Use ContentCachingResponseWrapper</p>\n<p>Full answer:</p>\n<p>Ok so I kept on working on the 2nd solution and it turned out to give good results. First of all the issues I had with deserializing using any of these 2 approaches was due to imperfect implementation of ExcetionResponse, which was a company's in-house class. It was made by different team and at first I haven't noticed it. You will probably have no problems using either of these:</p>\n<pre><code>ExceptionResponse exceptionResponse1 = objectMapper.readValue(responseStr, ExceptionResponse.class);\nExceptionResponse exceptionResponse2 = objectMapper.readerForUpdating(emptyExceptionResponse).readValue(responseStrAlternated);\n</code></pre>\n<p>However after discussions I eventually ended up returning a different class as error response and just attaching the previous error as string. I'm attaching my final solution. If you combine it with either of the 2 lines above it should be trivial to make code that assigns data of old error response to field &quot;reason&quot; or other field of the new error response</p>\n<pre><code>@Override\npublic void commence(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException exception)\n        throws IOException {\n    log.warn(MESSAGE_AUTHENTICATION_FAILED);\n    ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n\n    super.commence(request, responseWrapper, exception);\n\n    String responseStr = new String(responseWrapper.getContentAsByteArray(), responseWrapper.getCharacterEncoding());\n\n    NewErrorResponse newErrorResponse = errorResponseWithDetail(responseStr);\n\n    response.setStatus(responseWrapper.getStatus());\n    response.setContentType(responseWrapper.getContentType());\n    response.getWriter().write(this.objectMapper.writeValueAsString(newErrorResponse));\n}\n</code></pre>\n"}],"owner":{"account_id":2917205,"reputation":733,"user_id":2500149,"accept_rate":62,"display_name":"Marcin K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76490987,"answer_count":1,"score":1,"last_activity_date":1686924497,"creation_date":1685803488,"question_id":76396564,"body_markdown":"I am using an authentication library that provides its own Spring Security&#39;s AuthenticationEntryPoint to fill HttpServletResponse with data if authentication exceptions occurs. A response body might look for example like this:\r\n\r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;identifier&quot;: &quot;LIBRARY_001&quot;,\r\n                &quot;message&quot;: &quot;Authentication token missing!&quot;,\r\n                &quot;solution&quot;: null,\r\n                &quot;reasons&quot;: []\r\n            }\r\n        ],\r\n        &quot;warnings&quot;: [],\r\n        &quot;metadata&quot;: null\r\n    }\r\n\r\nHowever my company standard is to return a specific company-wide error code and message in case of an error. I could just implement my own EntryPoint and ignore the existence of the library&#39;s EntryPoint but I thought that a perfect solution would be to wrap the library&#39;s error and put it as a reason for my company-wide error. E.g.\r\n\r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;identifier&quot;: &quot;COMPANY_001&quot;,\r\n                &quot;message&quot;: &quot;Authentication token is missing, but its company standard message!&quot;,\r\n                &quot;solution&quot;: null,\r\n                &quot;reasons&quot;: [\r\n                    {\r\n                        &quot;identifier&quot;: &quot;LIBRARY_001&quot;,\r\n                        &quot;message&quot;: &quot;Authentication token missing!&quot;\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        &quot;warnings&quot;: [],\r\n        &quot;metadata&quot;: null\r\n    }\r\n\r\nNow I don&#39;t know how to achieve this. So far I could think of 2 ways: 1st is I believe bad practice, 2nd is yet incomplete and seems like there should be an easier way to do it.\r\n\r\n 1. Just copy most of the library&#39;s EntryPoints code to my code and add extra lines to achieve desired effect. This seems like a bad idea since it&#39;s code duplication of library code and you should be able to use the existing code.\r\n\r\n2. Create my own EntryPoint that inherits from library&#39;s EntryPoint and calls it using super.commence(req, res, ex) and modifies the result. However I&#39;m strugling to deserialize the ExceptionResponse in order to modify it. Here is my idea so far:\r\n\r\n        public class CompanyAuthenticationEntryPoint extends LibraryAuthenticationEntryPoint {\r\n        (...)\r\n        @Override\r\n        public void commence(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException exception)\r\n            throws IOException {\r\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n\r\n            super.commence(request, responseWrapper, exception);\r\n            byte[] responseArray = responseWrapper.getContentAsByteArray();\r\n            String responseStr = new String(responseArray, responseWrapper.getCharacterEncoding());\r\n            // Below throws error due to lack of default constructor inside ExceptionResponse\r\n            ExceptionResponse exceptionResponse2 = objectMapper.readValue(responseStr, ExceptionResponse.class);\r\n\r\n            // Modify exceptionResponse2 i.e. put old error inside reasons[], put companys error code and identifier.\r\n            // ..\r\n            // not tested code below\r\n            responseWrapper.copyBodyToResponse();\r\n            response.getWriter().write(\r\n                this.objectMapper.writeValueAsString(exceptionResponse2));\r\n        }\r\n        }\r\n\r\nDoes anyone have a better idea on how to solve this problem or can comment on my current ideas?","title":"How to take body of HttpServletResponse returned by one AuthenticationEntryPoint and modify it in SubClassEntryPoint","body":"<p>I am using an authentication library that provides its own Spring Security's AuthenticationEntryPoint to fill HttpServletResponse with data if authentication exceptions occurs. A response body might look for example like this:</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;identifier&quot;: &quot;LIBRARY_001&quot;,\n            &quot;message&quot;: &quot;Authentication token missing!&quot;,\n            &quot;solution&quot;: null,\n            &quot;reasons&quot;: []\n        }\n    ],\n    &quot;warnings&quot;: [],\n    &quot;metadata&quot;: null\n}\n</code></pre>\n<p>However my company standard is to return a specific company-wide error code and message in case of an error. I could just implement my own EntryPoint and ignore the existence of the library's EntryPoint but I thought that a perfect solution would be to wrap the library's error and put it as a reason for my company-wide error. E.g.</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;identifier&quot;: &quot;COMPANY_001&quot;,\n            &quot;message&quot;: &quot;Authentication token is missing, but its company standard message!&quot;,\n            &quot;solution&quot;: null,\n            &quot;reasons&quot;: [\n                {\n                    &quot;identifier&quot;: &quot;LIBRARY_001&quot;,\n                    &quot;message&quot;: &quot;Authentication token missing!&quot;\n                }\n            ]\n        }\n    ],\n    &quot;warnings&quot;: [],\n    &quot;metadata&quot;: null\n}\n</code></pre>\n<p>Now I don't know how to achieve this. So far I could think of 2 ways: 1st is I believe bad practice, 2nd is yet incomplete and seems like there should be an easier way to do it.</p>\n<ol>\n<li><p>Just copy most of the library's EntryPoints code to my code and add extra lines to achieve desired effect. This seems like a bad idea since it's code duplication of library code and you should be able to use the existing code.</p>\n</li>\n<li><p>Create my own EntryPoint that inherits from library's EntryPoint and calls it using super.commence(req, res, ex) and modifies the result. However I'm strugling to deserialize the ExceptionResponse in order to modify it. Here is my idea so far:</p>\n<pre><code> public class CompanyAuthenticationEntryPoint extends LibraryAuthenticationEntryPoint {\n (...)\n @Override\n public void commence(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException exception)\n     throws IOException {\n     ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n\n     super.commence(request, responseWrapper, exception);\n     byte[] responseArray = responseWrapper.getContentAsByteArray();\n     String responseStr = new String(responseArray, responseWrapper.getCharacterEncoding());\n     // Below throws error due to lack of default constructor inside ExceptionResponse\n     ExceptionResponse exceptionResponse2 = objectMapper.readValue(responseStr, ExceptionResponse.class);\n\n     // Modify exceptionResponse2 i.e. put old error inside reasons[], put companys error code and identifier.\n     // ..\n     // not tested code below\n     responseWrapper.copyBodyToResponse();\n     response.getWriter().write(\n         this.objectMapper.writeValueAsString(exceptionResponse2));\n }\n }\n</code></pre>\n</li>\n</ol>\n<p>Does anyone have a better idea on how to solve this problem or can comment on my current ideas?</p>\n"},{"tags":["java","kotlin","jvm","kotlinc"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685629884,"post_id":76382285,"comment_id":134689824,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685695641,"post_id":76382285,"comment_id":134700030,"body_markdown":"Have you added the library to the classpath, and have you added the appropriate import in your Kotlin source file?","body":"Have you added the library to the classpath, and have you added the appropriate import in your Kotlin source file?"}],"answers":[{"comments":[{"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"score":0,"creation_date":1685633047,"post_id":76382653,"comment_id":134690717,"body_markdown":"@aztecodes in this way there is an error \nerror: unresolved reference: base32Decode","body":"@aztecodes in this way there is an error  error: unresolved reference: base32Decode"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685634990,"post_id":76382653,"comment_id":134691224,"body_markdown":"@EpicAdidash Could you please add the code from your hello.kt Kotlin file? Also do you use an IDE or do you work with Terminal?","body":"@EpicAdidash Could you please add the code from your hello.kt Kotlin file? Also do you use an IDE or do you work with Terminal?"},{"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"score":0,"creation_date":1685635418,"post_id":76382653,"comment_id":134691338,"body_markdown":"I use terminal for working","body":"I use terminal for working"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685635486,"post_id":76382653,"comment_id":134691359,"body_markdown":"@EpicAdidash And when you follow my answer you get this error?","body":"@EpicAdidash And when you follow my answer you get this error?"},{"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"score":0,"creation_date":1685635529,"post_id":76382653,"comment_id":134691367,"body_markdown":"Yes , This happened after trying your solution","body":"Yes , This happened after trying your solution"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685635549,"post_id":76382653,"comment_id":134691374,"body_markdown":"@EpicAdidash Could you please add the whole code of the Kotlin file?","body":"@EpicAdidash Could you please add the whole code of the Kotlin file?"},{"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"score":0,"creation_date":1685635578,"post_id":76382653,"comment_id":134691381,"body_markdown":"I added it right now","body":"I added it right now"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685635659,"post_id":76382653,"comment_id":134691405,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253919/discussion-between-azteccodes-and-epicadidash).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253919/discussion-between-azteccodes-and-epicadidash\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685695789,"creation_date":1685627671,"answer_id":76382653,"question_id":76382285,"body_markdown":"The code must be accessible for Kotlin. This means you have to compile (If you compile code in terminal: `javac SampleFile.java` The `Base32Decoder.java` file to generate the `Base32Decoder.class`.\r\n\r\nNow generate the JAR-file with a link to the Kotlin file in command line:\r\n\r\n    jar cf app.jar Base32Decoder.class hello.kt\r\n\r\nNow since you use `kotlinc` you can execute the code in command line like this:\r\n\r\n    kotlinc -classpath app.jar -script hello.kt\r\n\r\nNow your code should run fine. The problem is that Kotlin didn&#39;t have access to the `Base32Decoder.java` class.","title":"Kotlin Error &#39;unresolved reference&#39; appears when trying to run Java Code from a Kotlin file","body":"<p>The code must be accessible for Kotlin. This means you have to compile (If you compile code in terminal: <code>javac SampleFile.java</code> The <code>Base32Decoder.java</code> file to generate the <code>Base32Decoder.class</code>.</p>\n<p>Now generate the JAR-file with a link to the Kotlin file in command line:</p>\n<pre><code>jar cf app.jar Base32Decoder.class hello.kt\n</code></pre>\n<p>Now since you use <code>kotlinc</code> you can execute the code in command line like this:</p>\n<pre><code>kotlinc -classpath app.jar -script hello.kt\n</code></pre>\n<p>Now your code should run fine. The problem is that Kotlin didn't have access to the <code>Base32Decoder.java</code> class.</p>\n"}],"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76382653,"answer_count":1,"score":1,"last_activity_date":1686924260,"creation_date":1685625238,"question_id":76382285,"body_markdown":"Referencing Problem when Java Class is used in Kotlin. There is the Java class `Base32Decoder.java` and code from this class is used in the Kotlin file `hello.kt`.\r\n\r\nWhen I try to run Java code through a Kotlin file, an error occurs because of no reference could be established to the Java class `Base32Decoder`.\r\n\r\nError message:\r\n\r\n&gt; hello.kt:4:25: error: unresolved reference: Base32Decoder\r\n\r\n`Base32Decoder` Java class can&#39;t resolve the reference to it. Since this class is used inside the Kotlin file, the reference needs to work.\r\n\r\nCode\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;){\r\n    val Base32Decoder = Base32Decoder()\r\n   val rectangleArea: String = Base32Decoder.base32Decode(&quot;JBSWY3DPFQQFO33SNRSCC===&quot;)\r\n   println(&quot;inside the Kotlin codes:&quot; + rectangleArea)\r\n}\r\n```\r\n\r\nHow can I reference Java classes when I want to use Java code in Kotlin files?","title":"Kotlin Error &#39;unresolved reference&#39; appears when trying to run Java Code from a Kotlin file","body":"<p>Referencing Problem when Java Class is used in Kotlin. There is the Java class <code>Base32Decoder.java</code> and code from this class is used in the Kotlin file <code>hello.kt</code>.</p>\n<p>When I try to run Java code through a Kotlin file, an error occurs because of no reference could be established to the Java class <code>Base32Decoder</code>.</p>\n<p>Error message:</p>\n<blockquote>\n<p>hello.kt:4:25: error: unresolved reference: Base32Decoder</p>\n</blockquote>\n<p><code>Base32Decoder</code> Java class can't resolve the reference to it. Since this class is used inside the Kotlin file, the reference needs to work.</p>\n<p>Code</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;){\n    val Base32Decoder = Base32Decoder()\n   val rectangleArea: String = Base32Decoder.base32Decode(&quot;JBSWY3DPFQQFO33SNRSCC===&quot;)\n   println(&quot;inside the Kotlin codes:&quot; + rectangleArea)\n}\n</code></pre>\n<p>How can I reference Java classes when I want to use Java code in Kotlin files?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686924132,"post_id":76490896,"comment_id":134869487,"body_markdown":"Are you using a build tool such as Maven or Gradle? You should let IntelliJ derive its structure from their build scripts, it&#39;s much easier. No manual config needed.","body":"Are you using a build tool such as Maven or Gradle? You should let IntelliJ derive its structure from their build scripts, it&#39;s much easier. No manual config needed."},{"owner":{"account_id":8254861,"reputation":13,"user_id":6208344,"display_name":"Lewis"},"score":0,"creation_date":1686924423,"post_id":76490896,"comment_id":134869573,"body_markdown":"Yeah I’m using maven, I have been letting maven derive the project structure but still it’s not working as expected , for reference in eclipse we had 6 different project and I could hit f3 on let’s say an object from another project that we used in a class and it would take me to that class in the other project in my workspace, is this something IntelliJ doesn’t do ?","body":"Yeah I’m using maven, I have been letting maven derive the project structure but still it’s not working as expected , for reference in eclipse we had 6 different project and I could hit f3 on let’s say an object from another project that we used in a class and it would take me to that class in the other project in my workspace, is this something IntelliJ doesn’t do ?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686924648,"post_id":76490896,"comment_id":134869625,"body_markdown":"Once everything resolves correctly, yes, that should work. I believe IntelliJ even has a keymap for Eclipse users, but by default it&#39;s Ctrl-B.","body":"Once everything resolves correctly, yes, that should work. I believe IntelliJ even has a keymap for Eclipse users, but by default it&#39;s Ctrl-B."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1687255024,"post_id":76490896,"comment_id":134907586,"body_markdown":"Please see https://stackoverflow.com/a/73566879/2000323","body":"Please see <a href=\"https://stackoverflow.com/a/73566879/2000323\">stackoverflow.com/a/73566879/2000323</a>"}],"owner":{"account_id":8254861,"reputation":13,"user_id":6208344,"display_name":"Lewis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686924256,"creation_date":1686923762,"question_id":76490896,"body_markdown":"I am currently in the process of moving from eclipse to IntelliJ, having a few issues with the project structure I understand the difference between how eclipse lays out a project (workspace, project, etc) and IntelliJ uses project as the workspace and modules as projects (intellij to eclipse reference) \r\n\r\nA few issues have risen first when I have all my modules in my project and I try to find the implementation of a class in another module it seems to be directing me to the .m2 cached version and not the version of the class I have in my IntelliJ project.\r\nAs an example module A imports from module B, when I’m in module A and I hit “got to implementation” it builds the version in my .m2 not the class that is in module B\r\n\r\nSecondly when I try to import a project(module) that houses all our \r\nWSDL projects for some reason it greys out the imports in all the other modules that previously pointed to these WSDL projects in the .m2.\r\n\r\nIs there a way to link all the modules? \r\n\r\n\r\nI have already tried pulling in the other modules as dependencies in the project structure.\r\nI have also set the correct jdk and maven build version.\r\nNot sure if there is something glaring I might have missed but it’s taken up a few hours of my day already no just trying to get the project structure correct \r\n","title":"Multiple modules in an IntelliJ project can’t access implementation of a class from different module","body":"<p>I am currently in the process of moving from eclipse to IntelliJ, having a few issues with the project structure I understand the difference between how eclipse lays out a project (workspace, project, etc) and IntelliJ uses project as the workspace and modules as projects (intellij to eclipse reference)</p>\n<p>A few issues have risen first when I have all my modules in my project and I try to find the implementation of a class in another module it seems to be directing me to the .m2 cached version and not the version of the class I have in my IntelliJ project.\nAs an example module A imports from module B, when I’m in module A and I hit “got to implementation” it builds the version in my .m2 not the class that is in module B</p>\n<p>Secondly when I try to import a project(module) that houses all our\nWSDL projects for some reason it greys out the imports in all the other modules that previously pointed to these WSDL projects in the .m2.</p>\n<p>Is there a way to link all the modules?</p>\n<p>I have already tried pulling in the other modules as dependencies in the project structure.\nI have also set the correct jdk and maven build version.\nNot sure if there is something glaring I might have missed but it’s taken up a few hours of my day already no just trying to get the project structure correct</p>\n"},{"tags":["java","spring","spring-boot","redis","deserialization"],"comments":[{"owner":{"account_id":12538967,"reputation":81,"user_id":9124653,"display_name":"vv01"},"score":0,"creation_date":1641328255,"post_id":70403080,"comment_id":124775867,"body_markdown":"I am facing this as well, have you been able to resolve it by any chance?","body":"I am facing this as well, have you been able to resolve it by any chance?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1642817559,"post_id":70807073,"comment_id":125180547,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70807073/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8344429,"reputation":1,"user_id":6268723,"display_name":"MrAllen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642795487,"creation_date":1642795487,"answer_id":70807073,"question_id":70403080,"body_markdown":"So I had the same problem, I had some messages serialized into redis from one service and deserialized in a different service and it would complain that it could not convert types even if the objects were identical, except the classpath. I had to give my redis listener the model with the exact classpath from the source service and it would work.\r\n\r\nSomeone here had an issue using typealias to try and solve the same problem:\r\nhttps://github.com/spring-projects/spring-data-redis/issues/1095\r\n\r\nI&#39;m still trying to find a more elegant solution maybe with the typealias annotation in my case.\r\n","title":"Spring Data Redis: Failed to convert from type [org.springframework.data.redis.connection.stream.StreamRecords$ByteMapBackedRecord] to type","body":"<p>So I had the same problem, I had some messages serialized into redis from one service and deserialized in a different service and it would complain that it could not convert types even if the objects were identical, except the classpath. I had to give my redis listener the model with the exact classpath from the source service and it would work.</p>\n<p>Someone here had an issue using typealias to try and solve the same problem:\n<a href=\"https://github.com/spring-projects/spring-data-redis/issues/1095\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/issues/1095</a></p>\n<p>I'm still trying to find a more elegant solution maybe with the typealias annotation in my case.</p>\n"},{"tags":[],"owner":{"account_id":23937400,"reputation":1,"user_id":17930986,"display_name":"white"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653028388,"creation_date":1652766582,"answer_id":72268762,"question_id":70403080,"body_markdown":"When you instantiate the streammessagelistenercontaineroptions object, do not specify the target type. That is, remove `&quot;. TargetType (notificationmessage. Class)&quot;`. The reason for this problem lies in the serialization of the internal classes of redis stream.","title":"Spring Data Redis: Failed to convert from type [org.springframework.data.redis.connection.stream.StreamRecords$ByteMapBackedRecord] to type","body":"<p>When you instantiate the streammessagelistenercontaineroptions object, do not specify the target type. That is, remove <code>&quot;. TargetType (notificationmessage. Class)&quot;</code>. The reason for this problem lies in the serialization of the internal classes of redis stream.</p>\n"},{"tags":[],"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665776953,"creation_date":1665776953,"answer_id":74074207,"question_id":70403080,"body_markdown":"## Simple code example (spring-data-redis:2.6.4):\r\n##### Stream record:\r\n```java\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.TypeAlias;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@TypeAlias(&quot;com.pet.streams.User&quot;)\r\npublic class User {\r\n    private String name;\r\n    private Integer age;\r\n}\r\n```\r\n\r\n##### Streams config:\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.RedisSystemException;\r\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\r\nimport org.springframework.data.redis.connection.stream.Consumer;\r\nimport org.springframework.data.redis.connection.stream.ObjectRecord;\r\nimport org.springframework.data.redis.connection.stream.ReadOffset;\r\nimport org.springframework.data.redis.connection.stream.StreamOffset;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\nimport org.springframework.data.redis.stream.StreamListener;\r\nimport org.springframework.data.redis.stream.StreamMessageListenerContainer;\r\nimport org.springframework.data.redis.stream.Subscription;\r\n\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\nimport java.time.Duration;\r\n\r\n@Slf4j\r\n@Configuration\r\npublic class StreamsConfig {\r\n    private final RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n\r\n    public StreamsConfig(RedisTemplate&lt;String, Object&gt; redisTemplate) {\r\n        this.redisTemplate = redisTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public StreamListener&lt;String, ObjectRecord&lt;String, User&gt;&gt; userStreamListener() {\r\n        // handle message from stream\r\n        return message -&gt; log.info(message.toString());\r\n    }\r\n\r\n    @Bean\r\n    public Subscription subscription(RedisConnectionFactory redisConnectionFactory, StreamListener&lt;String, ObjectRecord&lt;String, User&gt;&gt; userStreamListener) throws UnknownHostException {\r\n        String streamKey = &quot;streams:users&quot;;\r\n        String groupName = &quot;cg&quot;;\r\n        createConsumerGroupIfNotExists(streamKey, groupName);\r\n        StreamOffset&lt;String&gt; streamOffset = StreamOffset.create(streamKey, ReadOffset.lastConsumed());\r\n        StreamMessageListenerContainer.StreamMessageListenerContainerOptions&lt;String, ObjectRecord&lt;String, User&gt;&gt; options = StreamMessageListenerContainer\r\n                .StreamMessageListenerContainerOptions\r\n                .builder()\r\n                .pollTimeout(Duration.ofMillis(100))\r\n                .targetType(User.class)\r\n                .build();\r\n        StreamMessageListenerContainer&lt;String, ObjectRecord&lt;String, User&gt;&gt;  listenerContainer = StreamMessageListenerContainer\r\n                .create(redisConnectionFactory, options);\r\n        StreamMessageListenerContainer.StreamReadRequest&lt;String&gt; readRequest = StreamMessageListenerContainer.StreamReadRequest.builder(streamOffset)\r\n                .consumer(Consumer.from(groupName, InetAddress.getLocalHost().getHostName()))\r\n                .cancelOnError((err) -&gt; false)  // do not stop consuming after error\r\n                .errorHandler((err) -&gt; log.error(err.getMessage()))\r\n                .build();\r\n        Subscription subscription = listenerContainer.register(readRequest, userStreamListener);\r\n        listenerContainer.start();\r\n        return subscription;\r\n    }\r\n\r\n    private void createConsumerGroupIfNotExists(String streamKey, String groupName){\r\n        try {\r\n            redisTemplate.opsForStream().createGroup(streamKey, groupName);\r\n        }\r\n        catch (RedisSystemException ex){\r\n            log.error(ex.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nTesting:\r\n-----------\r\nEnter `XADD streams:users * _class com.pet.streams.User name Bob age 30` in `redis-cli` to add one record to stream. Should be consumed by running app properly (logged).\r\n\r\nEnter `XADD streams:users * name Bob age 30` without `_class` field. Should log an exception (mentioned above).\r\n\r\nConclusion:\r\n---------------\r\nSpring Data sets `_class` field automatically on publishing new record to stream. But if you use external systems to publish messages to redis streams, make sure that you have provided `_class` field in the record. Or override default mappers.\r\n\r\nExtra:\r\n-------\r\nCheck `DefaultRedisTypeMapper` class. Replace it with custom mapper. I haven&#39;t tried it, but it looks possible.\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gkt5a.png","title":"Spring Data Redis: Failed to convert from type [org.springframework.data.redis.connection.stream.StreamRecords$ByteMapBackedRecord] to type","body":"<h2>Simple code example (spring-data-redis:2.6.4):</h2>\n<h5>Stream record:</h5>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.TypeAlias;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@TypeAlias(&quot;com.pet.streams.User&quot;)\npublic class User {\n    private String name;\n    private Integer age;\n}\n</code></pre>\n<h5>Streams config:</h5>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.RedisSystemException;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.connection.stream.Consumer;\nimport org.springframework.data.redis.connection.stream.ObjectRecord;\nimport org.springframework.data.redis.connection.stream.ReadOffset;\nimport org.springframework.data.redis.connection.stream.StreamOffset;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.stream.StreamListener;\nimport org.springframework.data.redis.stream.StreamMessageListenerContainer;\nimport org.springframework.data.redis.stream.Subscription;\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.time.Duration;\n\n@Slf4j\n@Configuration\npublic class StreamsConfig {\n    private final RedisTemplate&lt;String, Object&gt; redisTemplate;\n\n    public StreamsConfig(RedisTemplate&lt;String, Object&gt; redisTemplate) {\n        this.redisTemplate = redisTemplate;\n    }\n\n    @Bean\n    public StreamListener&lt;String, ObjectRecord&lt;String, User&gt;&gt; userStreamListener() {\n        // handle message from stream\n        return message -&gt; log.info(message.toString());\n    }\n\n    @Bean\n    public Subscription subscription(RedisConnectionFactory redisConnectionFactory, StreamListener&lt;String, ObjectRecord&lt;String, User&gt;&gt; userStreamListener) throws UnknownHostException {\n        String streamKey = &quot;streams:users&quot;;\n        String groupName = &quot;cg&quot;;\n        createConsumerGroupIfNotExists(streamKey, groupName);\n        StreamOffset&lt;String&gt; streamOffset = StreamOffset.create(streamKey, ReadOffset.lastConsumed());\n        StreamMessageListenerContainer.StreamMessageListenerContainerOptions&lt;String, ObjectRecord&lt;String, User&gt;&gt; options = StreamMessageListenerContainer\n                .StreamMessageListenerContainerOptions\n                .builder()\n                .pollTimeout(Duration.ofMillis(100))\n                .targetType(User.class)\n                .build();\n        StreamMessageListenerContainer&lt;String, ObjectRecord&lt;String, User&gt;&gt;  listenerContainer = StreamMessageListenerContainer\n                .create(redisConnectionFactory, options);\n        StreamMessageListenerContainer.StreamReadRequest&lt;String&gt; readRequest = StreamMessageListenerContainer.StreamReadRequest.builder(streamOffset)\n                .consumer(Consumer.from(groupName, InetAddress.getLocalHost().getHostName()))\n                .cancelOnError((err) -&gt; false)  // do not stop consuming after error\n                .errorHandler((err) -&gt; log.error(err.getMessage()))\n                .build();\n        Subscription subscription = listenerContainer.register(readRequest, userStreamListener);\n        listenerContainer.start();\n        return subscription;\n    }\n\n    private void createConsumerGroupIfNotExists(String streamKey, String groupName){\n        try {\n            redisTemplate.opsForStream().createGroup(streamKey, groupName);\n        }\n        catch (RedisSystemException ex){\n            log.error(ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<h2>Testing:</h2>\n<p>Enter <code>XADD streams:users * _class com.pet.streams.User name Bob age 30</code> in <code>redis-cli</code> to add one record to stream. Should be consumed by running app properly (logged).</p>\n<p>Enter <code>XADD streams:users * name Bob age 30</code> without <code>_class</code> field. Should log an exception (mentioned above).</p>\n<h2>Conclusion:</h2>\n<p>Spring Data sets <code>_class</code> field automatically on publishing new record to stream. But if you use external systems to publish messages to redis streams, make sure that you have provided <code>_class</code> field in the record. Or override default mappers.</p>\n<h2>Extra:</h2>\n<p>Check <code>DefaultRedisTypeMapper</code> class. Replace it with custom mapper. I haven't tried it, but it looks possible.\n<a href=\"https://i.stack.imgur.com/Gkt5a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gkt5a.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21617233,"reputation":1,"user_id":15942832,"display_name":"Shadosk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686924229,"creation_date":1639827295,"question_id":70403080,"body_markdown":"I&#39;ve been struggling with this exception from Spring Redis Streams when I try to convert a message from the Stream to my entity. I believe it is occurring due to an issue with the Redis Stream&#39;s default Deserializer, however not sure how to resolve.\r\n\r\nWhen I send this message to the Redis stream \r\n\r\n&gt; XADD my-stream * from john to smith type Request\r\n\r\nI get this exception from my spring boot service\r\n\r\n    org.springframework.core.convert.ConversionFailedException: Failed to convert from type [org.springframework.data.redis.connection.stream.StreamRecords$ByteMapBackedRecord] to type [com.example.messaging.Dto.NotificationMessage] for value &#39;MapBackedRecord{recordId=1639826917707-0, kvMap={[B@55ab97aa=[B@510458ff, [B@5b7e99c1=[B@4141b49e, [B@12840469=[B@6aa14d0}}&#39;; nested exception is java.lang.IllegalArgumentException: Value must not be null!\r\n    \tat org.springframework.data.redis.stream.StreamPollTask.convertRecord(StreamPollTask.java:198) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.stream.StreamPollTask.deserializeAndEmitRecords(StreamPollTask.java:176) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:148) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:132) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: java.lang.IllegalArgumentException: Value must not be null!\r\n    \tat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.data.redis.connection.stream.Record.of(Record.java:81) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.connection.stream.MapRecord.toObjectRecord(MapRecord.java:147) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.core.StreamObjectMapper.toObjectRecord(StreamObjectMapper.java:138) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.core.StreamOperations.map(StreamOperations.java:577) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getDeserializer$2(DefaultStreamMessageListenerContainer.java:240) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.data.redis.stream.StreamPollTask.convertRecord(StreamPollTask.java:196) ~[spring-data-redis-2.5.6.jar:2.5.6]\r\n    \t... 4 common frames omitted\r\n\r\nConfig Class:\r\n\r\n    @Configuration\r\n    public class RedisConfig {\r\n    \r\n        @Autowired\r\n        private StreamListener&lt;String, ObjectRecord&lt;String, NotificationMessage&gt;&gt; streamListener;\r\n    \r\n        @Bean\r\n        public Subscription subscription(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {\r\n            StreamMessageListenerContainer.StreamMessageListenerContainerOptions&lt;String, ObjectRecord&lt;String, NotificationMessage&gt;&gt; options\r\n                    = StreamMessageListenerContainer.StreamMessageListenerContainerOptions.builder()\r\n                    .pollTimeout(Duration.ofMillis(1000))\r\n                    .targetType(NotificationMessage.class)\r\n                    .build();\r\n    \r\n            StreamMessageListenerContainer&lt;String, ObjectRecord&lt;String, NotificationMessage&gt;&gt; listenerContainer =\r\n                    StreamMessageListenerContainer.create(redisConnectionFactory, options);\r\n    \r\n            Subscription subscription = listenerContainer.receive(StreamOffset.latest(&quot;my-stream&quot;), streamListener);\r\n    \r\n            listenerContainer.start();\r\n            return subscription;\r\n        }\r\n    }\r\n\r\nNotificationMessage Dto:\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class NotificationMessage {\r\n        private String id;\r\n        private String from;\r\n        private String to;\r\n        private String type;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n    ","title":"Spring Data Redis: Failed to convert from type [org.springframework.data.redis.connection.stream.StreamRecords$ByteMapBackedRecord] to type","body":"<p>I've been struggling with this exception from Spring Redis Streams when I try to convert a message from the Stream to my entity. I believe it is occurring due to an issue with the Redis Stream's default Deserializer, however not sure how to resolve.</p>\n<p>When I send this message to the Redis stream</p>\n<blockquote>\n<p>XADD my-stream * from john to smith type Request</p>\n</blockquote>\n<p>I get this exception from my spring boot service</p>\n<pre><code>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [org.springframework.data.redis.connection.stream.StreamRecords$ByteMapBackedRecord] to type [com.example.messaging.Dto.NotificationMessage] for value 'MapBackedRecord{recordId=1639826917707-0, kvMap={[B@55ab97aa=[B@510458ff, [B@5b7e99c1=[B@4141b49e, [B@12840469=[B@6aa14d0}}'; nested exception is java.lang.IllegalArgumentException: Value must not be null!\n    at org.springframework.data.redis.stream.StreamPollTask.convertRecord(StreamPollTask.java:198) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.stream.StreamPollTask.deserializeAndEmitRecords(StreamPollTask.java:176) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:148) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:132) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.IllegalArgumentException: Value must not be null!\n    at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.12.jar:5.3.12]\n    at org.springframework.data.redis.connection.stream.Record.of(Record.java:81) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.connection.stream.MapRecord.toObjectRecord(MapRecord.java:147) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.core.StreamObjectMapper.toObjectRecord(StreamObjectMapper.java:138) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.core.StreamOperations.map(StreamOperations.java:577) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getDeserializer$2(DefaultStreamMessageListenerContainer.java:240) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    at org.springframework.data.redis.stream.StreamPollTask.convertRecord(StreamPollTask.java:196) ~[spring-data-redis-2.5.6.jar:2.5.6]\n    ... 4 common frames omitted\n</code></pre>\n<p>Config Class:</p>\n<pre><code>@Configuration\npublic class RedisConfig {\n\n    @Autowired\n    private StreamListener&lt;String, ObjectRecord&lt;String, NotificationMessage&gt;&gt; streamListener;\n\n    @Bean\n    public Subscription subscription(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {\n        StreamMessageListenerContainer.StreamMessageListenerContainerOptions&lt;String, ObjectRecord&lt;String, NotificationMessage&gt;&gt; options\n                = StreamMessageListenerContainer.StreamMessageListenerContainerOptions.builder()\n                .pollTimeout(Duration.ofMillis(1000))\n                .targetType(NotificationMessage.class)\n                .build();\n\n        StreamMessageListenerContainer&lt;String, ObjectRecord&lt;String, NotificationMessage&gt;&gt; listenerContainer =\n                StreamMessageListenerContainer.create(redisConnectionFactory, options);\n\n        Subscription subscription = listenerContainer.receive(StreamOffset.latest(&quot;my-stream&quot;), streamListener);\n\n        listenerContainer.start();\n        return subscription;\n    }\n}\n</code></pre>\n<p>NotificationMessage Dto:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class NotificationMessage {\n    private String id;\n    private String from;\n    private String to;\n    private String type;\n}\n</code></pre>\n"},{"tags":["java","redis","testcontainers","lettuce"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1686924540,"post_id":76490944,"comment_id":134869604,"body_markdown":"if mylib.lua is in src/test/resources you can withFileCopyToContainer(MountableFile.fromClasspath(&quot;mylib.lua&quot;), containerPath) and then use withCommand to load the function","body":"if mylib.lua is in src/test/resources you can withFileCopyToContainer(MountableFile.fromClasspath(&quot;mylib.l&zwnj;&#8203;ua&quot;), containerPath) and then use withCommand to load the function"},{"owner":{"account_id":2050693,"reputation":361,"user_id":1829787,"accept_rate":53,"display_name":"Trevor"},"score":0,"creation_date":1687113303,"post_id":76490944,"comment_id":134888133,"body_markdown":"@Edd&#250;Mel&#233;ndez how do I load function with withcommand","body":"@Edd&#250;Mel&#233;ndez how do I load function with withcommand"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1687142080,"post_id":76490944,"comment_id":134890570,"body_markdown":"I think you can use execInContainer(&quot;redis-cli -x FUNCTION LOAD REPLACE&quot;)","body":"I think you can use execInContainer(&quot;redis-cli -x FUNCTION LOAD REPLACE&quot;)"}],"owner":{"account_id":2050693,"reputation":361,"user_id":1829787,"accept_rate":53,"display_name":"Trevor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686924186,"creation_date":1686924186,"question_id":76490944,"body_markdown":"I have created a test container for unit testing, and I need to load some functions for a custom Redis Lettuce command. Typically, I would load a script using a Redis CLI command like this:\r\n\r\n```bash\r\ncat mylib.lua | redis-cli -x FUNCTION LOAD REPLACE\r\n```\r\n\r\nHowever, I am not sure how to load the script using a test container.","title":"How to Load Redis Function in TestContainer Before Unit Test?","body":"<p>I have created a test container for unit testing, and I need to load some functions for a custom Redis Lettuce command. Typically, I would load a script using a Redis CLI command like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cat mylib.lua | redis-cli -x FUNCTION LOAD REPLACE\n</code></pre>\n<p>However, I am not sure how to load the script using a test container.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":2,"creation_date":1686924074,"post_id":76490716,"comment_id":134869474,"body_markdown":"Firebase provides non-blocking asynchronous APIs.  You should not force your code to block until an operation is complete, otherwise your app could crash with an ANR.  Only the async callbacks can tell you when an operation is complete.","body":"Firebase provides non-blocking asynchronous APIs.  You should not force your code to block until an operation is complete, otherwise your app could crash with an ANR.  Only the async callbacks can tell you when an operation is complete."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1686932358,"post_id":76490716,"comment_id":134871304,"body_markdown":"Agreed with Doug here. I recommend checking out my answers on https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener and https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519.","body":"Agreed with Doug here. I recommend checking out my answers on <a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\" title=\"setting singleton property value in firebase listener\">stackoverflow.com/questions/33203379/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\" title=\"getcontactsfromfirebase method return an empty list\">stackoverflow.com/questions/50434836/&hellip;</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687077613,"post_id":76490716,"comment_id":134884396,"body_markdown":"Agreed with Doug too. If you understand Kotlin, this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword).","body":"Agreed with Doug too. If you understand Kotlin, this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":28834507,"reputation":1,"user_id":22084185,"display_name":"DefaultProgrammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686924016,"creation_date":1686922471,"question_id":76490716,"body_markdown":"The following Java code retrieves clothes data from a Firebase database. However, the `Log.d(tag, &quot;moved&quot;)` and `Log.d(tag, &quot;signed in&quot;)` lines don&#39;t print any messages and the main Activity is frozen. \r\n\r\n```java\r\npublic ArrayList&lt;Clothe&gt; getAllClothes() throws InterruptedException {\r\n    synchronized (ClotheFirebaseHelper.this) {\r\n        mAuth.signInWithEmailAndPassword(&quot;#########@gmail.com&quot;,&quot;**************&quot;).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                ClotheFirebaseHelper.this.notifyAll();\r\n                Log.d(&quot;tag&quot;,&quot;signed in&quot;);\r\n            }\r\n        });\r\n        ClotheFirebaseHelper.this.wait();\r\n    }\r\n    Log.d(&quot;tag&quot;,&quot;moved&quot;);\r\n    String uid = Objects.requireNonNull(mAuth.getCurrentUser()).getUid();\r\n    Task&lt;DataSnapshot&gt; task = reference.child(uid).get();\r\n    synchronized (ClotheFirebaseHelper.this) {\r\n        task.onSuccessTask(new SuccessContinuation&lt;DataSnapshot, Object&gt;() {\r\n            @NonNull\r\n            @Override\r\n            public Task&lt;Object&gt; then(DataSnapshot dataSnapshot) throws Exception {\r\n                ClotheFirebaseHelper.this.notifyAll();\r\n                return null;\r\n            }\r\n        });\r\n        ClotheFirebaseHelper.this.wait();\r\n    }\r\n    Log.d(&quot;tag&quot;,&quot;ready?&quot;);\r\n    Log.d(&quot;tag&quot;,task.getResult().toString());\r\n    return null;\r\n}\r\n```","title":"How am i suppose to syncocnize this function? the main idea is to wait until every Request from firebase is finished","body":"<p>The following Java code retrieves clothes data from a Firebase database. However, the <code>Log.d(tag, &quot;moved&quot;)</code> and <code>Log.d(tag, &quot;signed in&quot;)</code> lines don't print any messages and the main Activity is frozen.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;Clothe&gt; getAllClothes() throws InterruptedException {\n    synchronized (ClotheFirebaseHelper.this) {\n        mAuth.signInWithEmailAndPassword(&quot;#########@gmail.com&quot;,&quot;**************&quot;).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                ClotheFirebaseHelper.this.notifyAll();\n                Log.d(&quot;tag&quot;,&quot;signed in&quot;);\n            }\n        });\n        ClotheFirebaseHelper.this.wait();\n    }\n    Log.d(&quot;tag&quot;,&quot;moved&quot;);\n    String uid = Objects.requireNonNull(mAuth.getCurrentUser()).getUid();\n    Task&lt;DataSnapshot&gt; task = reference.child(uid).get();\n    synchronized (ClotheFirebaseHelper.this) {\n        task.onSuccessTask(new SuccessContinuation&lt;DataSnapshot, Object&gt;() {\n            @NonNull\n            @Override\n            public Task&lt;Object&gt; then(DataSnapshot dataSnapshot) throws Exception {\n                ClotheFirebaseHelper.this.notifyAll();\n                return null;\n            }\n        });\n        ClotheFirebaseHelper.this.wait();\n    }\n    Log.d(&quot;tag&quot;,&quot;ready?&quot;);\n    Log.d(&quot;tag&quot;,task.getResult().toString());\n    return null;\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7794,"page":366,"page_size":100}
