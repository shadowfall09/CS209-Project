{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":2860915,"reputation":728,"user_id":2456208,"display_name":"Andoctorey"},"score":1,"creation_date":1653183737,"post_id":71121814,"comment_id":127788331,"body_markdown":"Having the same problem","body":"Having the same problem"}],"answers":[{"tags":[],"owner":{"account_id":2883716,"reputation":765,"user_id":2474036,"accept_rate":64,"display_name":"Trancer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686913405,"creation_date":1686913405,"answer_id":76489550,"question_id":71121814,"body_markdown":"**Android 11** changes when foreground services can access the device&#39;s location, camera, and microphone. This helps protect sensitive user data.\r\n\r\n**Camera and microphone foreground service types**\r\nIf your app targets Android 11 or higher and accesses the camera or microphone in a foreground service, you must include the camera and microphone foreground service types.\r\nhttps://developer.android.com/about/versions/11/privacy/foreground-services","title":"AudioRecord not initializing on android 11 when app is in background","body":"<p><strong>Android 11</strong> changes when foreground services can access the device's location, camera, and microphone. This helps protect sensitive user data.</p>\n<p><strong>Camera and microphone foreground service types</strong>\nIf your app targets Android 11 or higher and accesses the camera or microphone in a foreground service, you must include the camera and microphone foreground service types.\n<a href=\"https://developer.android.com/about/versions/11/privacy/foreground-services\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/foreground-services</a></p>\n"}],"owner":{"account_id":23448939,"reputation":31,"user_id":17505362,"display_name":"Prasad Babar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686913405,"creation_date":1644905519,"question_id":71121814,"body_markdown":"I have been implementing this functionality to record audio playbacks played on the device.\r\n\r\nIt is working fine when my app is in foreground, and I am getting pretty fine audio recordings, but it is throwing the below error whenever my app goes to background.\r\n\r\nI have implemented this as a service and starting this service from another service which is a foreground service.\r\nI have tried all of the configuration for audioFormat but audioRecord object is failing to initialize.\r\n\r\nBelow is the function where app is crashed at run time.\r\n\r\nprivate final void startAudioCapture() {\r\n\r\n        AudioPlaybackCaptureConfiguration config = new AudioPlaybackCaptureConfiguration.Builder(mediaProjection)\r\n                .addMatchingUsage(AudioAttributes.USAGE_MEDIA)\r\n                .build();\r\n\r\n        AudioFormat audioFormat = new AudioFormat.Builder()\r\n                .setEncoding(AudioFormat.ENCODING_PCM_16BIT)\r\n                .setSampleRate(8000)\r\n                .setChannelMask(AudioFormat.CHANNEL_IN_MONO)\r\n                .build();\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        int bufferSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\r\n        audioRecord = new AudioRecord.Builder()\r\n                .setAudioFormat(audioFormat)\r\n                .setBufferSizeInBytes(bufferSize)\r\n                .setAudioPlaybackCaptureConfig(config)\r\n                .build();\r\n        audioRecord.startRecording();\r\n        audioCaptureThread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                File outputFile = createAudioFile();\r\n                writeAudioToFile(outputFile);\r\n            }\r\n        };\r\n\r\n        audioCaptureThread.start();\r\n        mIsRecording = true;\r\n    }\r\nErrors:-\r\nE/IAudioFlinger: createRecord returned error -1\r\nE/AudioRecord: createRecord_l(1): AudioFlinger could not create record track, status: -1\r\nE/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -1.\r\nE/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.Myapp.app.internal, PID: 18240\r\n    java.lang.RuntimeException: Unable to start service com.Myapp.app.AudioService@bfz0813 with Intent { act=AudioService:Start cmp=com.Myapp.app.internal/com.Myapp.app.AudioService }: java.lang.IllegalStateException: startRecording() called on an uninitialized AudioRecord.\r\n\r\nNote:- This works perfect for all android version less than 11.\r\n   \r\n","title":"AudioRecord not initializing on android 11 when app is in background","body":"<p>I have been implementing this functionality to record audio playbacks played on the device.</p>\n<p>It is working fine when my app is in foreground, and I am getting pretty fine audio recordings, but it is throwing the below error whenever my app goes to background.</p>\n<p>I have implemented this as a service and starting this service from another service which is a foreground service.\nI have tried all of the configuration for audioFormat but audioRecord object is failing to initialize.</p>\n<p>Below is the function where app is crashed at run time.</p>\n<p>private final void startAudioCapture() {</p>\n<pre><code>    AudioPlaybackCaptureConfiguration config = new AudioPlaybackCaptureConfiguration.Builder(mediaProjection)\n            .addMatchingUsage(AudioAttributes.USAGE_MEDIA)\n            .build();\n\n    AudioFormat audioFormat = new AudioFormat.Builder()\n            .setEncoding(AudioFormat.ENCODING_PCM_16BIT)\n            .setSampleRate(8000)\n            .setChannelMask(AudioFormat.CHANNEL_IN_MONO)\n            .build();\n\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n    int bufferSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\n    audioRecord = new AudioRecord.Builder()\n            .setAudioFormat(audioFormat)\n            .setBufferSizeInBytes(bufferSize)\n            .setAudioPlaybackCaptureConfig(config)\n            .build();\n    audioRecord.startRecording();\n    audioCaptureThread = new Thread() {\n        @Override\n        public void run() {\n            File outputFile = createAudioFile();\n            writeAudioToFile(outputFile);\n        }\n    };\n\n    audioCaptureThread.start();\n    mIsRecording = true;\n}\n</code></pre>\n<p>Errors:-\nE/IAudioFlinger: createRecord returned error -1\nE/AudioRecord: createRecord_l(1): AudioFlinger could not create record track, status: -1\nE/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -1.\nE/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.Myapp.app.internal, PID: 18240\njava.lang.RuntimeException: Unable to start service com.Myapp.app.AudioService@bfz0813 with Intent { act=AudioService:Start cmp=com.Myapp.app.internal/com.Myapp.app.AudioService }: java.lang.IllegalStateException: startRecording() called on an uninitialized AudioRecord.</p>\n<p>Note:- This works perfect for all android version less than 11.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1686911785,"post_id":76489292,"comment_id":134866908,"body_markdown":"Just use an `if/else` statement? Next time to find answers just Google the exception you actually got while doing this.","body":"Just use an <code>if&#47;else</code> statement? Next time to find answers just Google the exception you actually got while doing this."}],"owner":{"account_id":25712323,"reputation":9,"user_id":19470622,"display_name":"Saduni Jayalath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686911810,"answer_count":0,"score":0,"last_activity_date":1686912874,"creation_date":1686911225,"question_id":76489292,"body_markdown":"I have intercept the the response using sendRedirect methode. Assume request is coming as test/abc/def so I changed it to test/abc and set into response like below.\r\n\r\n\r\n```\r\n`public void doFilter(ServletRequest request, ServletRespose response, FilterChain chain)\r\n{\r\n//request is test/abc/def\r\nString requestPath = ((HttpServletRequest)request).getRequestURI();\r\nrequestPath = requestPath.replace(&quot;/def&quot;,&quot;&quot;);\r\nhttpServletRespose.sendRedirect(requestPath);\r\nchain.doFilter(request,response);\r\n\r\n}`\r\n```\r\n\r\nIs this fine ? when URL is test/abc/def I want to send test/abc to next filter. As well as I want to change this request only and don&#39;t want to change other requests. \r\n","title":"sendRederect method and chain.doFilter","body":"<p>I have intercept the the response using sendRedirect methode. Assume request is coming as test/abc/def so I changed it to test/abc and set into response like below.</p>\n<pre><code>`public void doFilter(ServletRequest request, ServletRespose response, FilterChain chain)\n{\n//request is test/abc/def\nString requestPath = ((HttpServletRequest)request).getRequestURI();\nrequestPath = requestPath.replace(&quot;/def&quot;,&quot;&quot;);\nhttpServletRespose.sendRedirect(requestPath);\nchain.doFilter(request,response);\n\n}`\n</code></pre>\n<p>Is this fine ? when URL is test/abc/def I want to send test/abc to next filter. As well as I want to change this request only and don't want to change other requests.</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1687185586,"post_id":76489463,"comment_id":134897818,"body_markdown":"Can you please post the error that you are getting?","body":"Can you please post the error that you are getting?"},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1687185632,"post_id":76489463,"comment_id":134897830,"body_markdown":"I suspect you can add `.setCoder(KVCoder.of(StringUtf8Coder.of(), SerializableCoder.of(Card.class))`, but without the error, it&#39;s hard to pinpoint the exact fix.","body":"I suspect you can add <code>.setCoder(KVCoder.of(StringUtf8Coder.of(), SerializableCoder.of(Card.class))</code>, but without the error, it&#39;s hard to pinpoint the exact fix."}],"owner":{"account_id":2697635,"reputation":1299,"user_id":2329241,"accept_rate":67,"display_name":"Narendra Jaggi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686912652,"creation_date":1686912652,"question_id":76489463,"body_markdown":"I am trying to group PCollection based on ids,but when I am using `GroupByKey.create()` its failing. I have already implemented `Serializable` interface for the class still issue is coming.&lt;br&gt;&lt;br&gt;\r\nIts a simple logic, where I am grouping cards based on ids and printing the count.\r\n\r\n\r\n    PCollection&lt;Card&gt; cardPCollection = pubSubWindowed.apply(ParDo.of(new CardConversionFn()));\r\n    PCollection&lt;KV&lt;String, Card&gt;&gt; memberIdCardsMap = cardPCollection.apply((WithKeys.&lt;String, Card&gt;of(x -&gt; x.getMemberId())));\r\n    PCollection&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;&gt; memberIdCardList = memberIdCardsMap.apply(GroupByKey.create());\r\n    memberIdCardList.apply(&quot;PrintCollectionCount&quot;, ParDo.of(new DoFn&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;, Void&gt;() {\r\n                @ProcessElement\r\n                public void processElement(ProcessContext c) {\r\n                    KV&lt;String, Iterable&lt;Card&gt;&gt; element = c.element();\r\n                    Iterable&lt;Card&gt; iterable = element.getValue();\r\n                    List&lt;Card&gt; cardList = new ArrayList&lt;&gt;();\r\n                    iterable.forEach(cardList::add);\r\n    \r\n                    LOG.info(&quot;Printing Keys and Values {} {} {}&quot;,element.getKey() ,cardList.size(), cardList);\r\n                }\r\n    }));","title":"Cannot provide coder for parameterized type org.apache.beam.sdk.values.KV&lt;K, V&gt;: Unable to provide a Coder for K","body":"<p>I am trying to group PCollection based on ids,but when I am using <code>GroupByKey.create()</code> its failing. I have already implemented <code>Serializable</code> interface for the class still issue is coming.<br><br>\nIts a simple logic, where I am grouping cards based on ids and printing the count.</p>\n<pre><code>PCollection&lt;Card&gt; cardPCollection = pubSubWindowed.apply(ParDo.of(new CardConversionFn()));\nPCollection&lt;KV&lt;String, Card&gt;&gt; memberIdCardsMap = cardPCollection.apply((WithKeys.&lt;String, Card&gt;of(x -&gt; x.getMemberId())));\nPCollection&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;&gt; memberIdCardList = memberIdCardsMap.apply(GroupByKey.create());\nmemberIdCardList.apply(&quot;PrintCollectionCount&quot;, ParDo.of(new DoFn&lt;KV&lt;String, Iterable&lt;Card&gt;&gt;, Void&gt;() {\n            @ProcessElement\n            public void processElement(ProcessContext c) {\n                KV&lt;String, Iterable&lt;Card&gt;&gt; element = c.element();\n                Iterable&lt;Card&gt; iterable = element.getValue();\n                List&lt;Card&gt; cardList = new ArrayList&lt;&gt;();\n                iterable.forEach(cardList::add);\n\n                LOG.info(&quot;Printing Keys and Values {} {} {}&quot;,element.getKey() ,cardList.size(), cardList);\n            }\n}));\n</code></pre>\n"},{"tags":["java","post","webclient"],"owner":{"account_id":11010948,"reputation":189,"user_id":8088331,"display_name":"Giacomo Giovannini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686912250,"creation_date":1686911723,"question_id":76489356,"body_markdown":"I&#39;m implementing a post call with `WebClient` on a service that uses NTLM authentication. In past I had no problem using `RestTemplate` to authenticate with this mechanism, but using `WebClient` I&#39;m stuck since I receive the authentication challenge but can&#39;t complete since I have a non repeatable request.\r\n\r\nHere is the code I&#39;m using:\r\n\r\n    BasicCredentialsProvider credentialsProvider;\r\n\t\tcredentialsProvider = new BasicCredentialsProvider();\r\n\t\tcredentialsProvider.setCredentials(new AuthScope(properties.getHostName(),\r\n\t\t\t\tproperties.getPort()), \r\n\t\t\t\tnew NTCredentials(properties.getUser(),\r\n\t\t\t\t\t\tproperties.getPassword().toCharArray(),\r\n\t\t\t\t\t\tproperties.getSource(), \r\n\t\t\t\t\t\tproperties.getDomain()));\r\n\r\n\t\tif(log.isDebugEnabled()) {\r\n\r\n\t\t\tlog.debug(&quot;set credentials as: {}, {}, {}, {} on host:port : {}:{}&quot;, properties.getUser(), properties.getPassword(),\r\n\t\t\t\t\tproperties.getSource(), properties.getDomain(), properties.getHostName(), properties.getPort());\r\n\r\n\t\t}\r\n\r\n\r\n\t\tRequestConfig config = RequestConfig.custom()\r\n\t\t\t\t.setExpectContinueEnabled(true)\r\n\t\t\t\t.setAuthenticationEnabled(true)\r\n\t\t\t\t.setTargetPreferredAuthSchemes(Collections.singletonList(StandardAuthScheme.NTLM))\r\n\t\t\t\t.setExpectContinueEnabled(true)\r\n\t\t\t\t.setRedirectsEnabled(true)\r\n\t\t\t\t.setResponseTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getTimeout())))\r\n\t\t\t\t.setConnectionRequestTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getReadTimeout())))\r\n\t\t\t\t.setCircularRedirectsAllowed(true)\r\n\t\t\t\t.setConnectionKeepAlive(TimeValue.ofMilliseconds(properties.getTimeout()))\r\n\t\t\t\t.build();\r\n\r\n\t\tHttpComponentsClientHttpConnector httpConnector = new HttpComponentsClientHttpConnector\r\n\t\t\t\t(HttpAsyncClients\r\n\t\t\t\t\t\t.custom()\r\n\t\t\t\t\t\t.setRetryStrategy(new DefaultHttpRequestRetryStrategy(3, TimeValue.ofMilliseconds(50)))\r\n\t\t\t\t\t\t.setDefaultCredentialsProvider(credentialsProvider)\r\n\t\t\t\t\t\t.setTargetAuthenticationStrategy(DefaultAuthenticationStrategy.INSTANCE)\r\n\t\t\t\t\t\t.setDefaultRequestConfig(config)\r\n\t\t\t\t\t\t.build());\r\n\r\n\t\tWebClient.builder()\r\n\t\t\t\t.codecs(configurer -&gt; \r\n\t\t\t\tconfigurer.defaultCodecs().maxInMemorySize(properties.getMaxBufferSize() &gt; 0 \r\n\t\t\t\t\t\t? properties.getMaxBufferSize() : 50 * 1024 * 1024))\r\n\t\t\t\t.clientConnector(httpConnector).build();\r\n        Map&lt;String, Object&gt; resp = webClient.post()\r\n\t\t.uri(uri)\r\n\t\t.body(Mono.just(payload), Input.class)\r\n\t\t.cookies(cookies -&gt; cookies.addAll(cookiesToSet))\r\n\t\t.retrieve()\r\n\t\t.bodyToMono(Map.class)\r\n\t\t.cache()\r\n\t\t.block();\r\n\r\n\r\nI&#39;ve tried using .retry and .repeat, but it still fails since it&#39;s a non repeatable request,  so my question is, how can I implement a repeatable request to engaeg the ntlm Authentication correctly?","title":"WebClient and HttpAsyncClients using repeatable request","body":"<p>I'm implementing a post call with <code>WebClient</code> on a service that uses NTLM authentication. In past I had no problem using <code>RestTemplate</code> to authenticate with this mechanism, but using <code>WebClient</code> I'm stuck since I receive the authentication challenge but can't complete since I have a non repeatable request.</p>\n<p>Here is the code I'm using:</p>\n<pre><code>BasicCredentialsProvider credentialsProvider;\n    credentialsProvider = new BasicCredentialsProvider();\n    credentialsProvider.setCredentials(new AuthScope(properties.getHostName(),\n            properties.getPort()), \n            new NTCredentials(properties.getUser(),\n                    properties.getPassword().toCharArray(),\n                    properties.getSource(), \n                    properties.getDomain()));\n\n    if(log.isDebugEnabled()) {\n\n        log.debug(&quot;set credentials as: {}, {}, {}, {} on host:port : {}:{}&quot;, properties.getUser(), properties.getPassword(),\n                properties.getSource(), properties.getDomain(), properties.getHostName(), properties.getPort());\n\n    }\n\n\n    RequestConfig config = RequestConfig.custom()\n            .setExpectContinueEnabled(true)\n            .setAuthenticationEnabled(true)\n            .setTargetPreferredAuthSchemes(Collections.singletonList(StandardAuthScheme.NTLM))\n            .setExpectContinueEnabled(true)\n            .setRedirectsEnabled(true)\n            .setResponseTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getTimeout())))\n            .setConnectionRequestTimeout(Timeout.ofMilliseconds(Long.valueOf(properties.getReadTimeout())))\n            .setCircularRedirectsAllowed(true)\n            .setConnectionKeepAlive(TimeValue.ofMilliseconds(properties.getTimeout()))\n            .build();\n\n    HttpComponentsClientHttpConnector httpConnector = new HttpComponentsClientHttpConnector\n            (HttpAsyncClients\n                    .custom()\n                    .setRetryStrategy(new DefaultHttpRequestRetryStrategy(3, TimeValue.ofMilliseconds(50)))\n                    .setDefaultCredentialsProvider(credentialsProvider)\n                    .setTargetAuthenticationStrategy(DefaultAuthenticationStrategy.INSTANCE)\n                    .setDefaultRequestConfig(config)\n                    .build());\n\n    WebClient.builder()\n            .codecs(configurer -&gt; \n            configurer.defaultCodecs().maxInMemorySize(properties.getMaxBufferSize() &gt; 0 \n                    ? properties.getMaxBufferSize() : 50 * 1024 * 1024))\n            .clientConnector(httpConnector).build();\n    Map&lt;String, Object&gt; resp = webClient.post()\n    .uri(uri)\n    .body(Mono.just(payload), Input.class)\n    .cookies(cookies -&gt; cookies.addAll(cookiesToSet))\n    .retrieve()\n    .bodyToMono(Map.class)\n    .cache()\n    .block();\n</code></pre>\n<p>I've tried using .retry and .repeat, but it still fails since it's a non repeatable request,  so my question is, how can I implement a repeatable request to engaeg the ntlm Authentication correctly?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10930,"reputation":781791,"user_id":20862,"accept_rate":50,"display_name":"Ignacio Vazquez-Abrams"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1266001972,"creation_date":1266001972,"answer_id":2254443,"question_id":2254435,"body_markdown":"No. Only object references can be null, not primitives.","title":"Can an int be null in Java?","body":"<p>No. Only object references can be null, not primitives.</p>\n"},{"tags":[],"owner":{"account_id":76126,"reputation":14491,"user_id":218160,"accept_rate":69,"display_name":"Matt Luongo"},"down_vote_count":6,"up_vote_count":38,"is_accepted":false,"score":32,"last_activity_date":1266002026,"creation_date":1266002026,"answer_id":2254450,"question_id":2254435,"body_markdown":"A great way to find out:\r\n\r\n    public static void main(String args[]) {\r\n        int i = null;\r\n    }\r\n\r\nTry to compile.","title":"Can an int be null in Java?","body":"<p>A great way to find out:</p>\n\n<pre><code>public static void main(String args[]) {\n    int i = null;\n}\n</code></pre>\n\n<p>Try to compile.</p>\n"},{"tags":[],"owner":{"account_id":70088,"reputation":12426,"user_id":203600,"accept_rate":100,"display_name":"Jonathon Faust"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1266002068,"creation_date":1266002068,"answer_id":2254457,"question_id":2254435,"body_markdown":"In Java, int is a primitive type and it is not considered an object.  Only objects can have a null value.  So the answer to your question is no, it can&#39;t be null.  But it&#39;s not that simple, because there are objects that represent most primitive types.\r\n\r\nThe class Integer represents an int value, but it can hold a null value.  Depending on your `check` method, you could be returning an int or an Integer.\r\n\r\nThis behavior is different from some more purely object oriented languages like Ruby, where even &quot;primitive&quot; things like ints are considered objects.","title":"Can an int be null in Java?","body":"<p>In Java, int is a primitive type and it is not considered an object.  Only objects can have a null value.  So the answer to your question is no, it can't be null.  But it's not that simple, because there are objects that represent most primitive types.</p>\n\n<p>The class Integer represents an int value, but it can hold a null value.  Depending on your <code>check</code> method, you could be returning an int or an Integer.</p>\n\n<p>This behavior is different from some more purely object oriented languages like Ruby, where even \"primitive\" things like ints are considered objects.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1266002934,"creation_date":1266002072,"answer_id":2254459,"question_id":2254435,"body_markdown":"The code won&#39;t even compile. Only an fullworthy [`Object`][1] can be `null`, like [`Integer`][2]. Here&#39;s a basic example to show when you can test for null:\r\n\r\n    Integer data = check(Node root);\r\n    \r\n    if ( data == null ) {\r\n     // do something\r\n    } else {\r\n     // do something\r\n    }\r\n\r\nOn the other hand, if `check()` is declared to return `int`, it can **never** be `null` and the whole `if-else` block is then superfluous.\r\n\r\n    int data = check(Node root);\r\n    \r\n    // do something\r\n\r\nAutoboxing problems doesn&#39;t apply here as well when `check()` is declared to return `int`. If it had returned `Integer`, then you may risk `NullPointerException` when assigning it to an `int` instead of `Integer`. Assigning it as an `Integer` and using the `if-else` block would then indeed have been mandatory.\r\n\r\nTo learn more about autoboxing, check [this Sun guide][3].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Object.html#toString()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Integer.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html","title":"Can an int be null in Java?","body":"<p>The code won't even compile. Only an fullworthy <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>Object</code></a> can be <code>null</code>, like <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a>. Here's a basic example to show when you can test for null:</p>\n\n<pre><code>Integer data = check(Node root);\n\nif ( data == null ) {\n // do something\n} else {\n // do something\n}\n</code></pre>\n\n<p>On the other hand, if <code>check()</code> is declared to return <code>int</code>, it can <strong>never</strong> be <code>null</code> and the whole <code>if-else</code> block is then superfluous.</p>\n\n<pre><code>int data = check(Node root);\n\n// do something\n</code></pre>\n\n<p>Autoboxing problems doesn't apply here as well when <code>check()</code> is declared to return <code>int</code>. If it had returned <code>Integer</code>, then you may risk <code>NullPointerException</code> when assigning it to an <code>int</code> instead of <code>Integer</code>. Assigning it as an <code>Integer</code> and using the <code>if-else</code> block would then indeed have been mandatory.</p>\n\n<p>To learn more about autoboxing, check <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html\" rel=\"nofollow noreferrer\">this Sun guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":234,"is_accepted":true,"score":234,"last_activity_date":1686911621,"creation_date":1266002088,"answer_id":2254463,"question_id":2254435,"body_markdown":"`int` *can&#39;t* be null, but `Integer` *can*. You need to be careful when unboxing null Integers since this can cause a lot of confusion and head scratching! \r\n\r\ne.g. this:\r\n\r\n    int a = object.getA(); // getA returns a null Integer\r\n\r\nwill give you a `NullPointerException`, despite object not being null!\r\n\r\nTo follow up on your question, if you want to indicate the *absence* of a value, I would investigate `java.util.Optional&lt;Integer&gt;` or `java.util.OptionalInt`","title":"Can an int be null in Java?","body":"<p><code>int</code> <em>can't</em> be null, but <code>Integer</code> <em>can</em>. You need to be careful when unboxing null Integers since this can cause a lot of confusion and head scratching!</p>\n<p>e.g. this:</p>\n<pre><code>int a = object.getA(); // getA returns a null Integer\n</code></pre>\n<p>will give you a <code>NullPointerException</code>, despite object not being null!</p>\n<p>To follow up on your question, if you want to indicate the <em>absence</em> of a value, I would investigate <code>java.util.Optional&lt;Integer&gt;</code> or <code>java.util.OptionalInt</code></p>\n"},{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266002318,"creation_date":1266002318,"answer_id":2254485,"question_id":2254435,"body_markdown":"As @Glen mentioned in a comment,  you basically have two ways around this:\r\n\r\n- use an &quot;out of bound&quot; value.  For instance, if &quot;data&quot; can never be negative in normal use, return a negative value to indicate it&#39;s invalid.\r\n- Use an Integer.  Just make sure the &quot;check&quot; method returns an Integer, and you assign it to an Integer not an int.  Because if an &quot;int&quot; gets involved along the way, the automatic boxing and unboxing can cause problems.","title":"Can an int be null in Java?","body":"<p>As @Glen mentioned in a comment,  you basically have two ways around this:</p>\n\n<ul>\n<li>use an \"out of bound\" value.  For instance, if \"data\" can never be negative in normal use, return a negative value to indicate it's invalid.</li>\n<li>Use an Integer.  Just make sure the \"check\" method returns an Integer, and you assign it to an Integer not an int.  Because if an \"int\" gets involved along the way, the automatic boxing and unboxing can cause problems.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":873155,"reputation":3719,"user_id":923557,"accept_rate":62,"display_name":"Nino van Hooff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362140058,"creation_date":1362140058,"answer_id":15157527,"question_id":2254435,"body_markdown":"Integer object would be best. If you must use primitives you can use a value that does not exist in your use case. Negative height does not exist for people, so\r\n\r\n    public int getHeight(String name){\r\n\t\tif(map.containsKey(name)){\r\n\t\t\treturn map.get(name);\r\n\t\t}else{\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}","title":"Can an int be null in Java?","body":"<p>Integer object would be best. If you must use primitives you can use a value that does not exist in your use case. Negative height does not exist for people, so</p>\n\n<pre><code>public int getHeight(String name){\n    if(map.containsKey(name)){\n        return map.get(name);\n    }else{\n        return -1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3215620,"reputation":1,"user_id":2714422,"display_name":"Lahn"},"down_vote_count":20,"up_vote_count":2,"is_accepted":false,"score":-18,"last_activity_date":1377382629,"creation_date":1377381262,"answer_id":18423505,"question_id":2254435,"body_markdown":"I&#39;m no expert, but I do believe that the `null` equivalent for an int is `0`.\r\n\r\nFor example, if you make an `int[]`, each slot contains `0` as opposed to `null`, unless you set it to something else.\r\n\r\nIn some situations, this may be of use.","title":"Can an int be null in Java?","body":"<p>I'm no expert, but I do believe that the <code>null</code> equivalent for an int is <code>0</code>.</p>\n\n<p>For example, if you make an <code>int[]</code>, each slot contains <code>0</code> as opposed to <code>null</code>, unless you set it to something else.</p>\n\n<p>In some situations, this may be of use.</p>\n"},{"tags":[],"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1382442743,"creation_date":1382438503,"answer_id":19515582,"question_id":2254435,"body_markdown":"Along with all above answer i would like to add this point too.\r\n\r\nFor primitive types,we have fixed memory size i.e for int we have 4 bytes and char we have 2 bytes. And null is used only for objects because there memory size is not fixed. \r\n\r\nSo by default we have,\r\n\r\n       int a=0;\r\nand not\r\n\r\n       int a=null;\r\n\r\nSame with other primitive types and hence null is only used for objects and not for primitive types.","title":"Can an int be null in Java?","body":"<p>Along with all above answer i would like to add this point too.</p>\n\n<p>For primitive types,we have fixed memory size i.e for int we have 4 bytes and char we have 2 bytes. And null is used only for objects because there memory size is not fixed. </p>\n\n<p>So by default we have,</p>\n\n<pre><code>   int a=0;\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>   int a=null;\n</code></pre>\n\n<p>Same with other primitive types and hence null is only used for objects and not for primitive types.</p>\n"},{"tags":[],"owner":{"account_id":4350297,"reputation":23,"user_id":3550884,"display_name":"user3550884"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397946175,"creation_date":1397946175,"answer_id":23176253,"question_id":2254435,"body_markdown":"\r\nCheck for null in your check() method and return an invalid value such as -1 or zero if null.  Then the check would be for that value rather than passing the null along.  This would be a normal thing to do in old time &#39;C&#39;.\r\n\r\n\r\n","title":"Can an int be null in Java?","body":"<p>Check for null in your check() method and return an invalid value such as -1 or zero if null.  Then the check would be for that value rather than passing the null along.  This would be a normal thing to do in old time 'C'.</p>\n"},{"tags":[],"owner":{"account_id":8430478,"reputation":9,"user_id":6326417,"display_name":"Sandy"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1551486109,"creation_date":1463066983,"answer_id":37191398,"question_id":2254435,"body_markdown":"Since you ask for another way to accomplish your goal, I suggest you use a wrapper class:\r\n\r\n    new Integer(null);","title":"Can an int be null in Java?","body":"<p>Since you ask for another way to accomplish your goal, I suggest you use a wrapper class:</p>\n\n<pre><code>new Integer(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1930728,"reputation":3657,"user_id":1740154,"display_name":"KANJICODER"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534145259,"creation_date":1534145259,"answer_id":51817215,"question_id":2254435,"body_markdown":"No, but **int[]** can be.\r\n-------------------------\r\n\r\n    int[] hayhay = null; //: allowed (int[] is reference type)\r\n    int   hayno  = null; //: error   (int   is primitive type)\r\n                         //: Message: incompatible types: \r\n                         //: &lt;null&gt; cannot be converted to int\r\n\t","title":"Can an int be null in Java?","body":"<h2>No, but <strong>int[]</strong> can be.</h2>\n\n<pre><code>int[] hayhay = null; //: allowed (int[] is reference type)\nint   hayno  = null; //: error   (int   is primitive type)\n                     //: Message: incompatible types: \n                     //: &lt;null&gt; cannot be converted to int\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7803123,"reputation":71,"user_id":5901794,"display_name":"Minati"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1534574920,"creation_date":1534573640,"answer_id":51905922,"question_id":2254435,"body_markdown":"instead of declaring as `int i` declare it as `Integer i` then we can do `i=null;`\r\n\r\n    Integer i;\r\n    i=null;","title":"Can an int be null in Java?","body":"<p>instead of declaring as <code>int i</code> declare it as <code>Integer i</code> then we can do <code>i=null;</code></p>\n\n<pre><code>Integer i;\ni=null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9374511,"reputation":21,"user_id":8471807,"display_name":"Sachin Pete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563949769,"creation_date":1563949769,"answer_id":57176571,"question_id":2254435,"body_markdown":"Any Primitive data type like int,boolean, or float etc can&#39;t store the null(lateral),since java has provided Wrapper class for storing the same like int to Integer,boolean to Boolean.\r\n\r\nEg: Integer i=null;\r\n\r\n","title":"Can an int be null in Java?","body":"<p>Any Primitive data type like int,boolean, or float etc can't store the null(lateral),since java has provided Wrapper class for storing the same like int to Integer,boolean to Boolean.</p>\n\n<p>Eg: Integer i=null;</p>\n"},{"tags":[],"owner":{"account_id":6591583,"reputation":1,"user_id":5092554,"display_name":"Mohammad Fathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594910616,"creation_date":1594910186,"answer_id":62937116,"question_id":2254435,"body_markdown":"An int is not null, it may be 0 if not initialized. If you want an integer to be able to be null, you need to use Integer instead of int . primitives don&#39;t have null value. default have for an int is 0.   \r\n\r\nData Type\t/  Default Value (for fields)\r\n\r\nint\t ------------------       0\r\n\r\nlong ----------------    0L\r\n\r\nfloat\t----------------    0.0f\r\n\r\ndouble\t  -------------  0.0d\r\n\r\nchar     ---------------   &#39;\\u0000&#39;\r\n\r\nString    ---------------  null\r\n\r\nboolean  ------------   false\r\n","title":"Can an int be null in Java?","body":"<p>An int is not null, it may be 0 if not initialized. If you want an integer to be able to be null, you need to use Integer instead of int . primitives don't have null value. default have for an int is 0.</p>\n<p>Data Type   /  Default Value (for fields)</p>\n<p>int  ------------------       0</p>\n<p>long ----------------    0L</p>\n<p>float   ----------------    0.0f</p>\n<p>double    -------------  0.0d</p>\n<p>char     ---------------   '\\u0000'</p>\n<p>String    ---------------  null</p>\n<p>boolean  ------------   false</p>\n"}],"owner":{"account_id":77312,"reputation":4378,"user_id":220755,"accept_rate":83,"display_name":"user220755"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476223,"favorite_count":0,"down_vote_count":1,"up_vote_count":186,"accepted_answer_id":2254463,"answer_count":15,"score":185,"last_activity_date":1686911621,"creation_date":1266001878,"question_id":2254435,"body_markdown":"Can an `int` be `null` in Java?\r\n\r\nFor example:\r\n\r\n    int data = check(Node root);\r\n    \r\n    if ( data == null ) {\r\n     // do something\r\n    } else {\r\n     // do something\r\n    }\r\n\r\nMy goal is to write a function which returns an `int`. Said `int` is stored in the height of a node, and if the node is not present, it will be null, and I&#39;ll need to check that.\r\n\r\nI am doing this for homework but this specific part is not part of the homework, it just helps me get through what I am doing.\r\n\r\nThanks for the comments, but it seems very few people have actually read what&#39;s under the code, I was asking how else I can accomplish this goal; it was easy to figure out that it doesn&#39;t work.","title":"Can an int be null in Java?","body":"<p>Can an <code>int</code> be <code>null</code> in Java?</p>\n\n<p>For example:</p>\n\n<pre><code>int data = check(Node root);\n\nif ( data == null ) {\n // do something\n} else {\n // do something\n}\n</code></pre>\n\n<p>My goal is to write a function which returns an <code>int</code>. Said <code>int</code> is stored in the height of a node, and if the node is not present, it will be null, and I'll need to check that.</p>\n\n<p>I am doing this for homework but this specific part is not part of the homework, it just helps me get through what I am doing.</p>\n\n<p>Thanks for the comments, but it seems very few people have actually read what's under the code, I was asking how else I can accomplish this goal; it was easy to figure out that it doesn't work.</p>\n"},{"tags":["java","xml","xsd","geotools","gml-geographic-markup-lan"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1686060717,"post_id":76407164,"comment_id":134745423,"body_markdown":"unfortunately I think this comes down to `http` v `https` problems - I&#39;m getting a 302 Temporarily moved which it seems the GeoTools schema resolver doesn&#39;t like. Also is this a &quot;simple&quot; feature schema or are the features &quot;complex&quot; - GMLAS is usually complex I think.","body":"unfortunately I think this comes down to <code>http</code> v <code>https</code> problems - I&#39;m getting a 302 Temporarily moved which it seems the GeoTools schema resolver doesn&#39;t like. Also is this a &quot;simple&quot; feature schema or are the features &quot;complex&quot; - GMLAS is usually complex I think."}],"owner":{"account_id":4313934,"reputation":1,"user_id":3524348,"display_name":"viados"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686911428,"creation_date":1685973392,"question_id":76407164,"body_markdown":"I would like to read the German railway (DB Netze) network XML available at &lt;https://data.deutschebahn.com/dataset/data-streckennetz.html&gt; (file Streckennetz (Stand 11/2019))\r\n\r\nI went according the example posted 3 years ago here:\r\n&lt;https://gis.stackexchange.com/questions/353860/read-gml-using-java&gt;.\r\n\r\nI am however getting multiple messages in the console about XSD files not having been resolved, not only the Inspire ones, but also the GML ones and even the basic XML.XSD (http://www.w3.org/XML/1998/namespace).\r\n\r\nHow can I properly &quot;register&quot; the XSDs so that they are successfully resolved by geotools?\r\n\r\nThe executable:\r\n\r\n        import java.io.File;\r\n        import java.io.FileInputStream;\r\n        import java.io.InputStream;\r\n\r\n        import org.eclipse.xsd.util.XSDSchemaLocationResolver;\r\n        import org.eclipse.xsd.util.XSDSchemaLocator;\r\n        import org.geotools.data.simple.SimpleFeatureCollection;\r\n        import org.geotools.data.simple.SimpleFeatureIterator;\r\n        import org.geotools.gml3.GMLConfiguration;\r\n        import org.geotools.xsd.Configuration;\r\n        import org.geotools.xsd.Parser;\r\n        import org.opengis.feature.simple.SimpleFeature;\r\n\r\n        public class Loader {\r\n        \tpublic static void main(String[] args) throws Exception {\r\n                Configuration configuration = new GMLConfiguration();\r\n        \t\tFile initialFile = new File(&quot;DB-Netz_INSPIRE_20200217.xml&quot;);\r\n        \t\tInputStream in = new FileInputStream(initialFile);\r\n        \t\tParser parser = new Parser(configuration);\r\n        \t\tSimpleFeatureCollection fc = (SimpleFeatureCollection) parser.parse(in);\r\n        \t\tSimpleFeatureIterator iterator = fc.features();\r\n        \t\ttry {\r\n        \t\t\twhile (iterator.hasNext()) {\r\n        \t\t\t\tSimpleFeature feature = iterator.next();\r\n        \t\t\t\tSystem.out.println(&quot;Feature ID: &quot; + feature.getID());\r\n        \t\t\t}\r\n        \t\t} finally {\r\n        \t\t\titerator.close();\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\nThe whole console log output looks as follows:\r\n```\r\nJun 05, 2023 3:21:12 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/tn-ra/3.0/RailwayTransportNetwork.xsd\r\nJun 05, 2023 3:21:15 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/wfs/2.0/wfs.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/iso/19139/20070417/gco/gco.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\r\nINFO: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:RoadTransportNetwork:3.0 declared location: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.w3.org/XML/1998/namespace declared location: www.w3.org/2001/xml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/ows/1.1 declared location: schemas.opengis.net/ows/1.1.0/owsAll.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/fes/2.0 declared location: schemas.opengis.net/filter/2.0/filterAll.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\r\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\r\nINFO: Schema import wasn&#39;t resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\r\nException in thread &quot;main&quot; java.lang.ClassCastException: java.util.HashMap cannot be cast to org.geotools.data.simple.SimpleFeatureCollection\r\n```\r\n\r\n\r\nI tried different versions of geotools, I tried to download XSDs and resolve them locally from file system, which succeeded to a certain level, but 1) it seems to be a dirty hack, 2) it did not resolve the problem with http://www.w3.org/2001/xml.xsd\r\n\r\n**P.S.** (Moved from answer by editor):  \r\nPlease note that I had to edit the log messages due to https://meta.stackexchange.com/a/209517/1374413\r\n\r\nI had to strip all ``http://`` and ``https://`` prefixes so that my question is not considered as spam. ","title":"Reading railway network XML (GML) file in Java with geotools","body":"<p>I would like to read the German railway (DB Netze) network XML available at <a href=\"https://data.deutschebahn.com/dataset/data-streckennetz.html\" rel=\"nofollow noreferrer\">https://data.deutschebahn.com/dataset/data-streckennetz.html</a> (file Streckennetz (Stand 11/2019))</p>\n<p>I went according the example posted 3 years ago here:\n<a href=\"https://gis.stackexchange.com/questions/353860/read-gml-using-java\">https://gis.stackexchange.com/questions/353860/read-gml-using-java</a>.</p>\n<p>I am however getting multiple messages in the console about XSD files not having been resolved, not only the Inspire ones, but also the GML ones and even the basic XML.XSD (<a href=\"http://www.w3.org/XML/1998/namespace\" rel=\"nofollow noreferrer\">http://www.w3.org/XML/1998/namespace</a>).</p>\n<p>How can I properly &quot;register&quot; the XSDs so that they are successfully resolved by geotools?</p>\n<p>The executable:</p>\n<pre><code>    import java.io.File;\n    import java.io.FileInputStream;\n    import java.io.InputStream;\n\n    import org.eclipse.xsd.util.XSDSchemaLocationResolver;\n    import org.eclipse.xsd.util.XSDSchemaLocator;\n    import org.geotools.data.simple.SimpleFeatureCollection;\n    import org.geotools.data.simple.SimpleFeatureIterator;\n    import org.geotools.gml3.GMLConfiguration;\n    import org.geotools.xsd.Configuration;\n    import org.geotools.xsd.Parser;\n    import org.opengis.feature.simple.SimpleFeature;\n\n    public class Loader {\n        public static void main(String[] args) throws Exception {\n            Configuration configuration = new GMLConfiguration();\n            File initialFile = new File(&quot;DB-Netz_INSPIRE_20200217.xml&quot;);\n            InputStream in = new FileInputStream(initialFile);\n            Parser parser = new Parser(configuration);\n            SimpleFeatureCollection fc = (SimpleFeatureCollection) parser.parse(in);\n            SimpleFeatureIterator iterator = fc.features();\n            try {\n                while (iterator.hasNext()) {\n                    SimpleFeature feature = iterator.next();\n                    System.out.println(&quot;Feature ID: &quot; + feature.getID());\n                }\n            } finally {\n                iterator.close();\n            }\n        }\n    }\n</code></pre>\n<p>The whole console log output looks as follows:</p>\n<pre><code>Jun 05, 2023 3:21:12 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/tn-ra/3.0/RailwayTransportNetwork.xsd\nJun 05, 2023 3:21:15 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/wfs/2.0/wfs.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/iso/19139/20070417/gco/gco.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.impl.HTTPURIHandler getConnection\nINFO: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:RoadTransportNetwork:3.0 declared location: inspire.ec.europa.eu/schemas/tn-ro/3.0/RoadTransportNetwork.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.w3.org/XML/1998/namespace declared location: www.w3.org/2001/xml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/ows/1.1 declared location: schemas.opengis.net/ows/1.1.0/owsAll.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/fes/2.0 declared location: schemas.opengis.net/filter/2.0/filterAll.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:BaseTypes:3.2 declared location: inspire.ec.europa.eu/schemas/base/3.2/BaseTypes.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.isotc211.org/2005/gmd declared location: schemas.opengis.net/iso/19139/20070417/gmd/gmd.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:GeographicalNames:3.0 declared location: inspire.ec.europa.eu/schemas/gn/3.0/GeographicalNames.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:CommonTransportElements:3.0 declared location: inspire.ec.europa.eu/schemas/tn/3.0/CommonTransportElements.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: urn:x-inspire:specification:gmlas:Network:3.2 declared location: inspire.ec.europa.eu/schemas/net/3.2/Network.xsd\nJun 05, 2023 3:21:16 PM org.geotools.xsd.Schemas getImports\nINFO: Schema import wasn't resolved: www.opengis.net/gml/3.2 declared location: schemas.opengis.net/gml/3.2.1/gml.xsd\nException in thread &quot;main&quot; java.lang.ClassCastException: java.util.HashMap cannot be cast to org.geotools.data.simple.SimpleFeatureCollection\n</code></pre>\n<p>I tried different versions of geotools, I tried to download XSDs and resolve them locally from file system, which succeeded to a certain level, but 1) it seems to be a dirty hack, 2) it did not resolve the problem with <a href=\"http://www.w3.org/2001/xml.xsd\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/xml.xsd</a></p>\n<p><strong>P.S.</strong> (Moved from answer by editor):<br />\nPlease note that I had to edit the log messages due to <a href=\"https://meta.stackexchange.com/a/209517/1374413\">https://meta.stackexchange.com/a/209517/1374413</a></p>\n<p>I had to strip all <code>http://</code> and <code>https://</code> prefixes so that my question is not considered as spam.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686911390,"creation_date":1686906752,"answer_id":76488679,"question_id":74182318,"body_markdown":"My current configuration was blocking network loads which is preventing the WebView from loading web resources.\r\n\r\nIn my MainActivity.java:\r\n\r\n\r\n    webView.getSettings().setBlockNetworkLoads(true);\r\n\r\nThe setBlockNetworkLoads method determines whether the WebView should block all network loads. When the value is true, all network loads are blocked. So if we set this to true, WebView won&#39;t be able to load our URL, hence the net::ERR_CACHE_MISS error.\r\n\r\nTo solve this, we need to set setBlockNetworkLoads to false:\r\n\r\n\r\n    webView.getSettings().setBlockNetworkLoads(false);","title":"Android Webview gives net:: ERR_CACHE_MISS message","body":"<p>My current configuration was blocking network loads which is preventing the WebView from loading web resources.</p>\n<p>In my MainActivity.java:</p>\n<pre><code>webView.getSettings().setBlockNetworkLoads(true);\n</code></pre>\n<p>The setBlockNetworkLoads method determines whether the WebView should block all network loads. When the value is true, all network loads are blocked. So if we set this to true, WebView won't be able to load our URL, hence the net::ERR_CACHE_MISS error.</p>\n<p>To solve this, we need to set setBlockNetworkLoads to false:</p>\n<pre><code>webView.getSettings().setBlockNetworkLoads(false);\n</code></pre>\n"}],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488679,"answer_count":1,"score":0,"last_activity_date":1686911390,"creation_date":1666620140,"question_id":74182318,"body_markdown":"Could you help me? \r\nthis is my first app and i don&#39;t know what i&#39;ve done wrong.\r\n\r\ni saw this solution but it did not help : https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message \r\n\r\n\r\nI&#39;ve built it on Android Oreo but it gave the error message of the title.\r\n\r\nWhat have i done so far:\r\n\r\nI tried to change my androidmanifest.xml and put INTERNET in all-caps.\r\nI have checked the user permissions.\r\nI used a suggested version that works on 100% of devices (according to android studio).\r\n\r\nthis is my code so far. what did i do wrong? \r\n\r\nmainactivity.Java :\r\n\r\n``` package com.example.agronotizie13;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.view.KeyEvent;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebViewClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = findViewById(R.id.webView);\r\n        webView.getSettings().setBlockNetworkLoads(true);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://agronotizie.imagelinenetwork.com/&quot;);\r\n        webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}```\r\n\r\n\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt; `\r\n\r\n**Activity_main.xml:**\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n\r\n    package=&quot;com.example.agronotizie13&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android:permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.DELETE_CACHE_FILES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n\r\n\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message","title":"Android Webview gives net:: ERR_CACHE_MISS message","body":"<p>Could you help me?\nthis is my first app and i don't know what i've done wrong.</p>\n<p>i saw this solution but it did not help : <a href=\"https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message\">Android Webview gives net::ERR_CACHE_MISS message</a></p>\n<p>I've built it on Android Oreo but it gave the error message of the title.</p>\n<p>What have i done so far:</p>\n<p>I tried to change my androidmanifest.xml and put INTERNET in all-caps.\nI have checked the user permissions.\nI used a suggested version that works on 100% of devices (according to android studio).</p>\n<p>this is my code so far. what did i do wrong?</p>\n<p>mainactivity.Java :</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.os.Bundle;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webView);\n        webView.getSettings().setBlockNetworkLoads(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://agronotizie.imagelinenetwork.com/&quot;);\n        webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n\n\n\n    }\n\n\n}```\n\n\n\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/RelativeLayout&gt; `\n\n**Activity_main.xml:**\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n\n    package=&quot;com.example.agronotizie13&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android:permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.DELETE_CACHE_FILES&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CLEAR_APP_CACHE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n\n\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n\n  [1]: https://stackoverflow.com/questions/30637654/android-webview-gives-neterr-cache-miss-message\n</code></pre>\n"},{"tags":["java","cryptography","java-17"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686911037,"post_id":76489225,"comment_id":134866754,"body_markdown":"on [Github](https://github.com/openjdk/jdk/blob/jdk-17%2B10/src/java.base/share/classes/sun/security/pkcs/PKCS8Key.java) ?! or `JAVA_HOME/lib/src.zip` in `java.base/sun/security/pkcs` !?","body":"on <a href=\"https://github.com/openjdk/jdk/blob/jdk-17%2B10/src/java.base/share/classes/sun/security/pkcs/PKCS8Key.java\" rel=\"nofollow noreferrer\">Github</a> ?! or <code>JAVA_HOME&#47;lib&#47;src.zip</code> in <code>java.base&#47;sun&#47;security&#47;pkcs</code> !?"},{"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"score":0,"creation_date":1686911931,"post_id":76489225,"comment_id":134866931,"body_markdown":"&#128583;‍♂️ thanks! That&#39;s what I was looking for!","body":"🙇‍♂️ thanks! That&#39;s what I was looking for!"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1686914747,"post_id":76489225,"comment_id":134867436,"body_markdown":"As it happens only under heavy load: are you sure your `get from secure storage` part is 100% thread-safe? May be the returned key data is incomplete? Before creating the PKCS8EncodedKeySpec you could log the hash of the key data just to make sure...","body":"As it happens only under heavy load: are you sure your <code>get from secure storage</code> part is 100% thread-safe? May be the returned key data is incomplete? Before creating the PKCS8EncodedKeySpec you could log the hash of the key data just to make sure..."},{"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"score":0,"creation_date":1686915792,"post_id":76489225,"comment_id":134867640,"body_markdown":"You&#39;re right on the money there, @Robert ... I just found a shared instance of `javax.crypto.Cipher` ... #facepalm.","body":"You&#39;re right on the money there, @Robert ... I just found a shared instance of <code>javax.crypto.Cipher</code> ... #facepalm."}],"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686910761,"creation_date":1686910761,"question_id":76489225,"body_markdown":"I&#39;m trying to debug a strange scenario, where recovering an ECDSA private key fails from time to time.\r\n\r\nThe EC private key is stored in a persistent secure storage and is recovered/reconstructed on request. Sometimes during higher load, one of the requests fails (while the others are successful), with an unexpected exception:\r\n\r\n```\r\njava.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : null\r\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\r\n        at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:383)\r\n...\r\nCaused by: java.security.InvalidKeyException: IOException : null\r\n        at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\r\n        at java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\r\n        at jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\r\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\r\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\r\n```\r\n\r\nThe code behind this is:\r\n\r\n```java\r\nKeyFactory ecdsaKeyFactory = KeyFactory.getInstance(&quot;EC&quot;);\r\n...\r\nbyte[] decodedPrivateKey = ...; // get from secure storage\r\nPKCS8EncodedKeySpec recoveredPrivateKeySpec = new PKCS8EncodedKeySpec(decodedPrivateKey);\r\nreturn (ECPrivateKey) ecdsaKeyFactory.generatePrivate(recoveredPrivateKeySpec);\r\n```\r\n\r\nThis is on OpenJDK 17 (build 17.0.6+10-Debian-1deb11u1). Trying to figure out what is going on here, I&#39;m looking for the source code. I can find [`sun.security.ec.ECKeyFactory.engineGeneratePrivate()`](https://github.com/openjdk/jdk17/blob/jdk-17+6/src/jdk.crypto.ec/share/classes/sun/security/ec/ECKeyFactory.java#L162) (even though the lines don&#39;t match the stacktrace), but I cannot find `java.base/sun.security.pkcs.PKCS8Key.java`.","title":"Where is java.base/sun.security.pkcs.PKCS8Key.java?","body":"<p>I'm trying to debug a strange scenario, where recovering an ECDSA private key fails from time to time.</p>\n<p>The EC private key is stored in a persistent secure storage and is recovered/reconstructed on request. Sometimes during higher load, one of the requests fails (while the others are successful), with an unexpected exception:</p>\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : null\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\n        at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:383)\n...\nCaused by: java.security.InvalidKeyException: IOException : null\n        at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\n        at java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\n        at jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\n        at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\n</code></pre>\n<p>The code behind this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyFactory ecdsaKeyFactory = KeyFactory.getInstance(&quot;EC&quot;);\n...\nbyte[] decodedPrivateKey = ...; // get from secure storage\nPKCS8EncodedKeySpec recoveredPrivateKeySpec = new PKCS8EncodedKeySpec(decodedPrivateKey);\nreturn (ECPrivateKey) ecdsaKeyFactory.generatePrivate(recoveredPrivateKeySpec);\n</code></pre>\n<p>This is on OpenJDK 17 (build 17.0.6+10-Debian-1deb11u1). Trying to figure out what is going on here, I'm looking for the source code. I can find <a href=\"https://github.com/openjdk/jdk17/blob/jdk-17+6/src/jdk.crypto.ec/share/classes/sun/security/ec/ECKeyFactory.java#L162\" rel=\"nofollow noreferrer\"><code>sun.security.ec.ECKeyFactory.engineGeneratePrivate()</code></a> (even though the lines don't match the stacktrace), but I cannot find <code>java.base/sun.security.pkcs.PKCS8Key.java</code>.</p>\n"},{"tags":["java","spring","components","dto","pojo"],"answers":[{"tags":[],"owner":{"account_id":26151806,"reputation":151,"user_id":19839660,"display_name":"Iv&#225;n Larios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686856747,"creation_date":1686856747,"answer_id":76484893,"question_id":76484795,"body_markdown":"- A POJO is a Plain Old Java Object. A POJO is a straightforward type with no references to any particular frameworks. [Source][1]\r\n- A DTO is a Data Transfer Object. This is a pattern used to create objects that carry data between processes in order to reduce the number of methods calls. DTOs usually are also POJOs, as they don&#39;t have any business logic. [Source][2]\r\n- An entity is a class that represents a concept, be it from real world or business logic. An example could be a class called User, which contains information about the user like its id, name and email.\r\n\r\nIf you want to know more about this terms in Java, I usually use [Baeldung][3], as it contains a lot of information about Java and Spring framework.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-pojo-class\r\n  [2]: https://www.baeldung.com/java-dto-pattern\r\n  [3]: https://www.baeldung.com/","title":"What POJO, DTO, Entity and other such components called?","body":"<ul>\n<li>A POJO is a Plain Old Java Object. A POJO is a straightforward type with no references to any particular frameworks. <a href=\"https://www.baeldung.com/java-pojo-class\" rel=\"nofollow noreferrer\">Source</a></li>\n<li>A DTO is a Data Transfer Object. This is a pattern used to create objects that carry data between processes in order to reduce the number of methods calls. DTOs usually are also POJOs, as they don't have any business logic. <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">Source</a></li>\n<li>An entity is a class that represents a concept, be it from real world or business logic. An example could be a class called User, which contains information about the user like its id, name and email.</li>\n</ul>\n<p>If you want to know more about this terms in Java, I usually use <a href=\"https://www.baeldung.com/\" rel=\"nofollow noreferrer\">Baeldung</a>, as it contains a lot of information about Java and Spring framework.</p>\n"}],"owner":{"account_id":28829329,"reputation":1,"user_id":22080164,"display_name":"Shruti Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686910749,"creation_date":1686855969,"question_id":76484795,"body_markdown":"I am searching for a keyword which defines POJO, Entities, Controllers and other components all together? \r\n\r\n\r\nAs I wanted to know about all of them, I was searching for a site, so I tried searching Java components, but I&#39;m not getting the expected result.","title":"What POJO, DTO, Entity and other such components called?","body":"<p>I am searching for a keyword which defines POJO, Entities, Controllers and other components all together?</p>\n<p>As I wanted to know about all of them, I was searching for a site, so I tried searching Java components, but I'm not getting the expected result.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-repositories"],"comments":[{"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"score":0,"creation_date":1686930996,"post_id":76475037,"comment_id":134871037,"body_markdown":"Can you tries to code a bit simpler, remove the @EntityListener annotation and TaskAuditListener class. When saving the Task object using the TaskRepository get the return Task object and update the lastModifiedDate using workflowRepository.updateLastModifiedDateById() give it a shot.","body":"Can you tries to code a bit simpler, remove the @EntityListener annotation and TaskAuditListener class. When saving the Task object using the TaskRepository get the return Task object and update the lastModifiedDate using workflowRepository.updateLastModifiedDateById() give it a shot."},{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1687026483,"post_id":76475037,"comment_id":134880903,"body_markdown":"Of course I can do it this way. That would work without any problem. But that does not seem to be a good approach. Each programmer will need not only add new functionality, but also not to forget to update parents lastModifiedDate.","body":"Of course I can do it this way. That would work without any problem. But that does not seem to be a good approach. Each programmer will need not only add new functionality, but also not to forget to update parents lastModifiedDate."}],"answers":[{"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686759336,"creation_date":1686759336,"answer_id":76475627,"question_id":76475037,"body_markdown":"JPA already have annotation for it:\r\n```\r\n@Column(name = &quot;last_modified_date&quot;)\r\n@LastModifiedDate\r\nprivate Date lastModifiedDate;\r\n```\r\nOr you can create method to run before updating:\r\n```\r\n@PreUpdate\r\nprotected void onUpdate() {\r\n    lastModifiedDate = new Date(System.currentTimeMillis());\r\n}\r\n```","title":"Update LastModifiedDate of owned entity","body":"<p>JPA already have annotation for it:</p>\n<pre><code>@Column(name = &quot;last_modified_date&quot;)\n@LastModifiedDate\nprivate Date lastModifiedDate;\n</code></pre>\n<p>Or you can create method to run before updating:</p>\n<pre><code>@PreUpdate\nprotected void onUpdate() {\n    lastModifiedDate = new Date(System.currentTimeMillis());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686910594,"creation_date":1686910594,"answer_id":76489197,"question_id":76475037,"body_markdown":"What about: `@UpdateTimestamp` on field `lastModifiedDate`","title":"Update LastModifiedDate of owned entity","body":"<p>What about: <code>@UpdateTimestamp</code> on field <code>lastModifiedDate</code></p>\n"}],"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686910594,"creation_date":1686755427,"question_id":76475037,"body_markdown":"I have two objects. Workflow and Task. Task does contain workflow.\r\n```\r\n@Entity\r\npublic class Workflow {\r\n\r\n  @Column(name = &quot;last_modified_date&quot;)\r\n  private Date lastModifiedDate;\r\n...}\r\n\r\n\r\n@Entity\r\n@EntityListeners(TaskAuditListener.class)\r\npublic class Task {\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;workflow_id&quot;)\r\n  private Workflow workflow;\r\n...}\r\n```\r\n\r\nOn any update of Task object, I want to update lastModifiedDate value on Workflow. To avoid repetitive code, I would like to use TaskAuditListener with @PreUpdate.\r\n```\r\n@Component\r\npublic class TaskAuditListener {\r\n\r\n  private static WorkflowRepository workflowRepository;\r\n\r\n  @Autowired\r\n  public void TaskAuditListener(WorkflowRepository workflowRepository) {\r\n    TaskAuditListener.workflowRepository = workflowRepository;\r\n  }\r\n\r\n  @PreUpdate\r\n  void beforeUpdate(Task task) {\r\n    workflowRepository.updateCreatedByTaskId(task.getId(),\r\n        new Date(System.currentTimeMillis()));\r\n  }\r\n\r\n```\r\nMy repository method is this:\r\n```\r\n  @Modifying\r\n  @Transactional\r\n  @Query(&quot;UPDATE Workflow w SET w.lastModifiedDate = :lastModifiedDate WHERE w.id = :workflowId&quot;)\r\n  void updateLastModifiedDateById(String workflowId, Date lastModifiedDate);\r\n```\r\n\r\nThe error I am receiving is *java.lang.StackOverflowError: null* and is triggered by the *workflowRepository.updateLastModifiedDateById()* method.\r\n\r\n**Why is @PreUpdate cyclically triggered, when in my @Query I update Workflow object, not Task?**\r\n\r\nOr is there any better to achieve this?","title":"Update LastModifiedDate of owned entity","body":"<p>I have two objects. Workflow and Task. Task does contain workflow.</p>\n<pre><code>@Entity\npublic class Workflow {\n\n  @Column(name = &quot;last_modified_date&quot;)\n  private Date lastModifiedDate;\n...}\n\n\n@Entity\n@EntityListeners(TaskAuditListener.class)\npublic class Task {\n\n  @ManyToOne\n  @JoinColumn(name = &quot;workflow_id&quot;)\n  private Workflow workflow;\n...}\n</code></pre>\n<p>On any update of Task object, I want to update lastModifiedDate value on Workflow. To avoid repetitive code, I would like to use TaskAuditListener with @PreUpdate.</p>\n<pre><code>@Component\npublic class TaskAuditListener {\n\n  private static WorkflowRepository workflowRepository;\n\n  @Autowired\n  public void TaskAuditListener(WorkflowRepository workflowRepository) {\n    TaskAuditListener.workflowRepository = workflowRepository;\n  }\n\n  @PreUpdate\n  void beforeUpdate(Task task) {\n    workflowRepository.updateCreatedByTaskId(task.getId(),\n        new Date(System.currentTimeMillis()));\n  }\n\n</code></pre>\n<p>My repository method is this:</p>\n<pre><code>  @Modifying\n  @Transactional\n  @Query(&quot;UPDATE Workflow w SET w.lastModifiedDate = :lastModifiedDate WHERE w.id = :workflowId&quot;)\n  void updateLastModifiedDateById(String workflowId, Date lastModifiedDate);\n</code></pre>\n<p>The error I am receiving is <em>java.lang.StackOverflowError: null</em> and is triggered by the <em>workflowRepository.updateLastModifiedDateById()</em> method.</p>\n<p><strong>Why is @PreUpdate cyclically triggered, when in my @Query I update Workflow object, not Task?</strong></p>\n<p>Or is there any better to achieve this?</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686910620,"post_id":76488764,"comment_id":134866662,"body_markdown":"`SpringApplication` isn&#39;t a Spring Bean it is a helper class. The `ConfigDataContextRefresher` is supposed to be managed by another component not you. If you check the sources you will see that it is initialized after an event, as you aren&#39;t using the Spring lifecycle this will fail. You are running Spring Boot Test so you should be able to just inject the `ConfigDataContextRefresher` instead of creating it yourself. Also I don&#39;t think you are testing what you think you are testing, you are basically testing the framework and spring cloud not really your own code.","body":"<code>SpringApplication</code> isn&#39;t a Spring Bean it is a helper class. The <code>ConfigDataContextRefresher</code> is supposed to be managed by another component not you. If you check the sources you will see that it is initialized after an event, as you aren&#39;t using the Spring lifecycle this will fail. You are running Spring Boot Test so you should be able to just inject the <code>ConfigDataContextRefresher</code> instead of creating it yourself. Also I don&#39;t think you are testing what you think you are testing, you are basically testing the framework and spring cloud not really your own code."}],"answers":[{"tags":[],"owner":{"account_id":28792925,"reputation":21,"user_id":22051800,"display_name":"Lorenzo Cingano"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1686910259,"creation_date":1686910259,"answer_id":76489149,"question_id":76488764,"body_markdown":"You should try adding `application.setEnvironment(context.environment)` at the start of function simple test","title":"How to get SpringApplication in spring test","body":"<p>You should try adding <code>application.setEnvironment(context.environment)</code> at the start of function simple test</p>\n"}],"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686910259,"creation_date":1686907344,"question_id":76488764,"body_markdown":"I&#39;m trying to test my code which uses `ConfigDataContextRefresher`.\r\nI want to ensure that refresh works as expected. And bean `TestConfig` will be filled correctly after refresh.\r\n\r\nBut inside `ConfigDataContextRefresher` defined:\r\n```java\r\nprivate SpringApplication application;\r\n```\r\n\r\nI have next code snippet: \r\n```kotlin\r\nimport org.junit.jupiter.api.AfterEach\r\nimport org.junit.jupiter.api.BeforeEach\r\nimport org.junit.jupiter.api.Test\r\nimport org.junit.jupiter.api.extension.ExtendWith\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.SpringApplication\r\nimport org.springframework.boot.context.properties.ConfigurationProperties\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.cloud.autoconfigure.RefreshAutoConfiguration\r\nimport org.springframework.cloud.context.refresh.ConfigDataContextRefresher\r\nimport org.springframework.cloud.context.scope.refresh.RefreshScope\r\nimport org.springframework.context.ConfigurableApplicationContext\r\nimport org.springframework.core.env.ConfigurableEnvironment\r\nimport org.springframework.core.env.PropertySource\r\nimport org.springframework.test.context.ContextConfiguration\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension\r\nimport java.io.IOException\r\nimport java.nio.file.FileVisitResult\r\nimport java.nio.file.Files\r\nimport java.nio.file.Path\r\nimport java.nio.file.SimpleFileVisitor\r\nimport java.nio.file.attribute.BasicFileAttributes\r\n\r\n@ExtendWith(SpringExtension::class)\r\n@ContextConfiguration(classes = [TestConfig::class])\r\n@SpringBootTest\r\nclass ConfigObserverTest {\r\n\r\n    @Autowired\r\n    lateinit var env: ConfigurableEnvironment\r\n\r\n    @Autowired\r\n    private lateinit var context: ConfigurableApplicationContext\r\n\r\n    @Autowired\r\n    private lateinit var application: SpringApplication\r\n\r\n\r\n    private val scope = RefreshScope()\r\n\r\n    @Autowired\r\n    private lateinit var testConfig: TestConfig\r\n\r\n    private lateinit var tempDir: Path\r\n\r\n    private val dirCleaner = FileCleaner()\r\n\r\n    @BeforeEach\r\n    fun initialize() {\r\n        env.propertySources.addLast(\r\n            TestPropertySource(emptyMap())\r\n        )\r\n\r\n        scope.setApplicationContext(context)\r\n        tempDir = Files.createTempDirectory(&quot;test&quot;)\r\n        val configPath = tempDir.resolve(&quot;test-config.yml&quot;)\r\n        Files.write(configPath, listOf(&quot;test:&quot;, &quot;   x: 10&quot;))\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    fun tearDown() {\r\n        Files.walkFileTree(tempDir, dirCleaner)\r\n    }\r\n\r\n    @Test\r\n    fun `simple test`() {\r\n        val refresh = ConfigDataContextRefresher(context, scope,\r\n            RefreshAutoConfiguration.RefreshProperties())\r\n        refresh.refresh()\r\n        println(testConfig.x)\r\n    }\r\n\r\n    class FileCleaner : SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n        override fun postVisitDirectory(dir: Path?, exc: IOException?): FileVisitResult {\r\n            Files.delete(dir!!)\r\n            return FileVisitResult.CONTINUE\r\n        }\r\n\r\n        override fun visitFile(file: Path?, attrs: BasicFileAttributes?): FileVisitResult {\r\n            Files.delete(file!!)\r\n            return FileVisitResult.CONTINUE\r\n        }\r\n    }\r\n}\r\n\r\n@ConfigurationProperties(&quot;test&quot;)\r\n@org.springframework.cloud.context.config.annotation.RefreshScope\r\nopen class TestConfig {\r\n    var x: Int = 5\r\n}\r\n\r\nclass TestPropertySource(\r\n    private val internalMap: Map&lt;String, Any?&gt;\r\n) : PropertySource&lt;Map&lt;String, Any?&gt;&gt;(&quot;test-source&quot;, internalMap) {\r\n    \r\n    override fun getProperty(name: String): Any? {\r\n        return internalMap[name]\r\n    }\r\n}\r\n```\r\n\r\nThis code will fail due to impossibility to autowire application, but if I comment this lines, I&#39;ll get next error: \r\n```\r\nCannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\r\n\tat org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor.postProcessEnvironment(SystemEnvironmentPropertySourceEnvironmentPostProcessor.java:55)\r\n\tat org.springframework.cloud.context.refresh.ConfigDataContextRefresher.updateEnvironment(ConfigDataContextRefresher.java:92)\r\n\tat org.springframework.cloud.context.refresh.ContextRefresher.refreshEnvironment(ContextRefresher.java:101)\r\n\tat org.springframework.cloud.context.refresh.ContextRefresher.refresh(ContextRefresher.java:94)\r\n```\r\n\r\ndue to application is null.\r\n\r\n\r\nHow can I fix this?\r\n\r\n\r\n","title":"How to get SpringApplication in spring test","body":"<p>I'm trying to test my code which uses <code>ConfigDataContextRefresher</code>.\nI want to ensure that refresh works as expected. And bean <code>TestConfig</code> will be filled correctly after refresh.</p>\n<p>But inside <code>ConfigDataContextRefresher</code> defined:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private SpringApplication application;\n</code></pre>\n<p>I have next code snippet:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach\nimport org.junit.jupiter.api.BeforeEach\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.extension.ExtendWith\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.context.properties.ConfigurationProperties\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.cloud.autoconfigure.RefreshAutoConfiguration\nimport org.springframework.cloud.context.refresh.ConfigDataContextRefresher\nimport org.springframework.cloud.context.scope.refresh.RefreshScope\nimport org.springframework.context.ConfigurableApplicationContext\nimport org.springframework.core.env.ConfigurableEnvironment\nimport org.springframework.core.env.PropertySource\nimport org.springframework.test.context.ContextConfiguration\nimport org.springframework.test.context.junit.jupiter.SpringExtension\nimport java.io.IOException\nimport java.nio.file.FileVisitResult\nimport java.nio.file.Files\nimport java.nio.file.Path\nimport java.nio.file.SimpleFileVisitor\nimport java.nio.file.attribute.BasicFileAttributes\n\n@ExtendWith(SpringExtension::class)\n@ContextConfiguration(classes = [TestConfig::class])\n@SpringBootTest\nclass ConfigObserverTest {\n\n    @Autowired\n    lateinit var env: ConfigurableEnvironment\n\n    @Autowired\n    private lateinit var context: ConfigurableApplicationContext\n\n    @Autowired\n    private lateinit var application: SpringApplication\n\n\n    private val scope = RefreshScope()\n\n    @Autowired\n    private lateinit var testConfig: TestConfig\n\n    private lateinit var tempDir: Path\n\n    private val dirCleaner = FileCleaner()\n\n    @BeforeEach\n    fun initialize() {\n        env.propertySources.addLast(\n            TestPropertySource(emptyMap())\n        )\n\n        scope.setApplicationContext(context)\n        tempDir = Files.createTempDirectory(&quot;test&quot;)\n        val configPath = tempDir.resolve(&quot;test-config.yml&quot;)\n        Files.write(configPath, listOf(&quot;test:&quot;, &quot;   x: 10&quot;))\n\n    }\n\n    @AfterEach\n    fun tearDown() {\n        Files.walkFileTree(tempDir, dirCleaner)\n    }\n\n    @Test\n    fun `simple test`() {\n        val refresh = ConfigDataContextRefresher(context, scope,\n            RefreshAutoConfiguration.RefreshProperties())\n        refresh.refresh()\n        println(testConfig.x)\n    }\n\n    class FileCleaner : SimpleFileVisitor&lt;Path&gt;() {\n\n        override fun postVisitDirectory(dir: Path?, exc: IOException?): FileVisitResult {\n            Files.delete(dir!!)\n            return FileVisitResult.CONTINUE\n        }\n\n        override fun visitFile(file: Path?, attrs: BasicFileAttributes?): FileVisitResult {\n            Files.delete(file!!)\n            return FileVisitResult.CONTINUE\n        }\n    }\n}\n\n@ConfigurationProperties(&quot;test&quot;)\n@org.springframework.cloud.context.config.annotation.RefreshScope\nopen class TestConfig {\n    var x: Int = 5\n}\n\nclass TestPropertySource(\n    private val internalMap: Map&lt;String, Any?&gt;\n) : PropertySource&lt;Map&lt;String, Any?&gt;&gt;(&quot;test-source&quot;, internalMap) {\n    \n    override fun getProperty(name: String): Any? {\n        return internalMap[name]\n    }\n}\n</code></pre>\n<p>This code will fail due to impossibility to autowire application, but if I comment this lines, I'll get next error:</p>\n<pre><code>Cannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.boot.SpringApplication.getEnvironmentPrefix()&quot; because &quot;application&quot; is null\n    at org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor.postProcessEnvironment(SystemEnvironmentPropertySourceEnvironmentPostProcessor.java:55)\n    at org.springframework.cloud.context.refresh.ConfigDataContextRefresher.updateEnvironment(ConfigDataContextRefresher.java:92)\n    at org.springframework.cloud.context.refresh.ContextRefresher.refreshEnvironment(ContextRefresher.java:101)\n    at org.springframework.cloud.context.refresh.ContextRefresher.refresh(ContextRefresher.java:94)\n</code></pre>\n<p>due to application is null.</p>\n<p>How can I fix this?</p>\n"},{"tags":["java","jvm","profiling","visualvm"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1340988849,"creation_date":1340867855,"answer_id":11239762,"question_id":11239307,"body_markdown":"AFAIK VisualVM can be used in production, but I would only use it on a server which is lightly loaded. What you could do is wait for the service to slow down and later when its not used as much test it to see if some of the collections are surprising large.  Or you could trigger a heap dump and analyze it offline.\r\n\r\nAnd you can&#39;t get stats on method calls without significant overhead. Java 6 and 7 are better than java 5 but it could still slow your application by 30% even wityh a commercial profiler. ","title":"VisualVM in production?","body":"<p>AFAIK VisualVM can be used in production, but I would only use it on a server which is lightly loaded. What you could do is wait for the service to slow down and later when its not used as much test it to see if some of the collections are surprising large.  Or you could trigger a heap dump and analyze it offline.</p>\n\n<p>And you can't get stats on method calls without significant overhead. Java 6 and 7 are better than java 5 but it could still slow your application by 30% even wityh a commercial profiler. </p>\n"},{"tags":[],"owner":{"account_id":64084,"reputation":32129,"user_id":189361,"accept_rate":100,"display_name":"Michael Dillon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342775116,"creation_date":1342775116,"answer_id":11576241,"question_id":11239307,"body_markdown":"Actually, you can get some information without a lot of overhead by using stack dumps. There is even a script to help you do this at https://gist.github.com/851961\r\n\r\nThis type of profiling is the least intrusive that you can get.","title":"VisualVM in production?","body":"<p>Actually, you can get some information without a lot of overhead by using stack dumps. There is even a script to help you do this at <a href=\"https://gist.github.com/851961\" rel=\"nofollow\">https://gist.github.com/851961</a></p>\n\n<p>This type of profiling is the least intrusive that you can get.</p>\n"},{"tags":[],"owner":{"account_id":22102,"reputation":6130,"user_id":54247,"accept_rate":62,"display_name":"Ev Dolzhenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686909768,"creation_date":1686909768,"answer_id":76489083,"question_id":11239307,"body_markdown":"Nowadays Java Flight Recorder might be used with default.jfc profile in production. I.e. developers explicitly say it has very low (~1%) overhead:  https://docs.oracle.com/en/java/javase/17/jfapi/flight-recorder-configurations.html#GUID-51B499C9-CF15-48EE-9AAA-47BB69CBDABF","title":"VisualVM in production?","body":"<p>Nowadays Java Flight Recorder might be used with default.jfc profile in production. I.e. developers explicitly say it has very low (~1%) overhead:  <a href=\"https://docs.oracle.com/en/java/javase/17/jfapi/flight-recorder-configurations.html#GUID-51B499C9-CF15-48EE-9AAA-47BB69CBDABF\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/jfapi/flight-recorder-configurations.html#GUID-51B499C9-CF15-48EE-9AAA-47BB69CBDABF</a></p>\n"}],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3210,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11239762,"answer_count":3,"score":9,"last_activity_date":1686909768,"creation_date":1340865788,"question_id":11239307,"body_markdown":"I consider running [VisualVM](http://visualvm.java.net/) against a production JVM to see what&#39;s going on there - it started to consume too much CPU for some reason.\r\n\r\nIt must not result in a JVM failure so I&#39;m trying to estimate all the risks.\r\n\r\nThe only issue that I see on their [site](http://visualvm.java.net/troubleshooting.html) that could potentially bring JVM down is related to class sharing and `-Xshare` JVM option, but afaik class sharing is not enabled in server mode and/or on x64 systems.\r\n\r\nSo is it really safe to run VisualVM against a production JVM, if it&#39;s not - what are the risks that one should consider, and how much load (CPU/memory) does running VisualVM against a JVM (and profiling with it) put on it?\r\n\r\nThanks","title":"VisualVM in production?","body":"<p>I consider running <a href=\"http://visualvm.java.net/\" rel=\"noreferrer\">VisualVM</a> against a production JVM to see what's going on there - it started to consume too much CPU for some reason.</p>\n\n<p>It must not result in a JVM failure so I'm trying to estimate all the risks.</p>\n\n<p>The only issue that I see on their <a href=\"http://visualvm.java.net/troubleshooting.html\" rel=\"noreferrer\">site</a> that could potentially bring JVM down is related to class sharing and <code>-Xshare</code> JVM option, but afaik class sharing is not enabled in server mode and/or on x64 systems.</p>\n\n<p>So is it really safe to run VisualVM against a production JVM, if it's not - what are the risks that one should consider, and how much load (CPU/memory) does running VisualVM against a JVM (and profiling with it) put on it?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","websocket"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686913286,"post_id":76489046,"comment_id":134867173,"body_markdown":"As Kafka is more designed to ensure that the listeners receive all events, it might not be ideal for your point 3 (&quot;receive only the most recent events&quot;). You would have to create a timestamp or counter and find out which messages from a topic you would have to skip.","body":"As Kafka is more designed to ensure that the listeners receive all events, it might not be ideal for your point 3 (&quot;receive only the most recent events&quot;). You would have to create a timestamp or counter and find out which messages from a topic you would have to skip."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686919494,"post_id":76489046,"comment_id":134868403,"body_markdown":"While I&#39;ve seen websockets done on Kafka from vendors like Ably, it&#39;s not very straightforward (as told to me by one of the core engineers)... Apache Pulsar instead offers both Kafka client compatibility and websockets, and may fit your needs better than Kafka itself. In any case, asking for software recommendations is off topic for Stackoverflow","body":"While I&#39;ve seen websockets done on Kafka from vendors like Ably, it&#39;s not very straightforward (as told to me by one of the core engineers)... Apache Pulsar instead offers both Kafka client compatibility and websockets, and may fit your needs better than Kafka itself. In any case, asking for software recommendations is off topic for Stackoverflow"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686919771,"post_id":76489046,"comment_id":134868467,"body_markdown":"@cyberbrain `auto.offset.reset=latest` kafka consumer config ensures that any consumer will only read records produced after the subscription (i.e latest events) and ignores any existing data","body":"@cyberbrain <code>auto.offset.reset=latest</code> kafka consumer config ensures that any consumer will only read records produced after the subscription (i.e latest events) and ignores any existing data"}],"owner":{"account_id":245478,"reputation":5735,"user_id":518992,"accept_rate":89,"display_name":"sargue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686909544,"creation_date":1686909544,"question_id":76489046,"body_markdown":"I have an application with a Java back-end, a database, and a web front-end. Currently, when a user logs in, the front-end opens a websocket connection to the server to send requests and receive responses. Additionally, the websocket is utilized to send real-time events from the server to the user, eliminating the need for continuous polling.\r\n\r\nMy goal is to migrate the existing back-end to a horizontally scalable cluster. Currently, the back-end is mostly stateless, with no in-memory caches or sessions. All relevant data is persisted in the database. However, there is an `EventDispatcher` component responsible for handling events. This `EventDispatcher` allows subscriptions on a per user basis. So the websocket endpoint on the server registers for its user on the `EventDispatcher`. When the server produces an event it is sent to the `EventDispatcher` which distributes it to the current listeners. There&#39;s no storage of events, if the websocket for a user is not connected, the event is lost. That&#39;s because the full state is actually on the database. Events are only there so the front-end doesn&#39;t need to poll for changes.\r\n\r\nTo facilitate scaling, I have chosen Kafka as the message broker for event distribution. My approach involves creating a topic per user, aligning with the current listener-based design. Each server in the cluster will have its own `EventDispatcher`, consisting of a Kafka producer to send events to the broker, and a consumer to retrieve events from the broker and deliver them to the appropriate listeners (websockets).\r\n\r\nUnfortunately, the current implementation is not functioning as expected. I suspect that either my design is flawed, or Kafka may not be the ideal tool for this particular use case. Specifically, I am encountering issues when running automated tests that open and close several websockets. When running the application manually it seems to be working fine with a few concurrent users.\r\n\r\nI am seeking advice on the best practices for designing an event distribution system that can support horizontal scaling of the server. Additionally, I am open to suggestions on alternative tools or technologies that might better suit this requirement.\r\n\r\nSpecifically, I would like to know:\r\n\r\n - What design considerations should I take into account when scaling\r\n   the `EventDispatcher` to a horizontally scalable cluster?\r\n - Is Kafka the\r\n   appropriate choice for event distribution in this scenario, or are\r\n   there alternative tools better suited for my needs?\r\n - How can I ensure\r\n   that reconnected websockets receive only the most recent events and\r\n   not outdated ones?\r\n\r\nAny guidance, code examples, or recommended resources would be greatly appreciated. Thank you in advance for your help!","title":"How to scale a Java back-end with websockets and event distribution using Kafka?","body":"<p>I have an application with a Java back-end, a database, and a web front-end. Currently, when a user logs in, the front-end opens a websocket connection to the server to send requests and receive responses. Additionally, the websocket is utilized to send real-time events from the server to the user, eliminating the need for continuous polling.</p>\n<p>My goal is to migrate the existing back-end to a horizontally scalable cluster. Currently, the back-end is mostly stateless, with no in-memory caches or sessions. All relevant data is persisted in the database. However, there is an <code>EventDispatcher</code> component responsible for handling events. This <code>EventDispatcher</code> allows subscriptions on a per user basis. So the websocket endpoint on the server registers for its user on the <code>EventDispatcher</code>. When the server produces an event it is sent to the <code>EventDispatcher</code> which distributes it to the current listeners. There's no storage of events, if the websocket for a user is not connected, the event is lost. That's because the full state is actually on the database. Events are only there so the front-end doesn't need to poll for changes.</p>\n<p>To facilitate scaling, I have chosen Kafka as the message broker for event distribution. My approach involves creating a topic per user, aligning with the current listener-based design. Each server in the cluster will have its own <code>EventDispatcher</code>, consisting of a Kafka producer to send events to the broker, and a consumer to retrieve events from the broker and deliver them to the appropriate listeners (websockets).</p>\n<p>Unfortunately, the current implementation is not functioning as expected. I suspect that either my design is flawed, or Kafka may not be the ideal tool for this particular use case. Specifically, I am encountering issues when running automated tests that open and close several websockets. When running the application manually it seems to be working fine with a few concurrent users.</p>\n<p>I am seeking advice on the best practices for designing an event distribution system that can support horizontal scaling of the server. Additionally, I am open to suggestions on alternative tools or technologies that might better suit this requirement.</p>\n<p>Specifically, I would like to know:</p>\n<ul>\n<li>What design considerations should I take into account when scaling\nthe <code>EventDispatcher</code> to a horizontally scalable cluster?</li>\n<li>Is Kafka the\nappropriate choice for event distribution in this scenario, or are\nthere alternative tools better suited for my needs?</li>\n<li>How can I ensure\nthat reconnected websockets receive only the most recent events and\nnot outdated ones?</li>\n</ul>\n<p>Any guidance, code examples, or recommended resources would be greatly appreciated. Thank you in advance for your help!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1680425332,"post_id":75908405,"comment_id":133893642,"body_markdown":"@Hulk URLs that contain non-encoded characters like a space in &quot;http://www.example.com/?test=Hello world&quot;. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like &quot;http://промкаталог.рф/PublicDocuments/05-0211-00.pdf&quot; are converted to URI successfully with URI.create.","body":"@Hulk URLs that contain non-encoded characters like a space in &quot;<a href=\"http://www.example.com/?test=Hello\" rel=\"nofollow noreferrer\">example.com/?test=Hello</a> world&quot;. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like &quot;<a href=\"http://промкаталог.рф/PublicDocuments/05-0211-00.pdf\" rel=\"nofollow noreferrer\">промкаталог.рф/PublicDocuments/05-0211-00.pdf</a>&quot; are converted to URI successfully with URI.create."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1680463017,"post_id":75908405,"comment_id":133898859,"body_markdown":"You are right. I updated my question.","body":"You are right. I updated my question."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1680463527,"post_id":75908405,"comment_id":133898931,"body_markdown":"How was the space encoded in the old method? I have sometimes seen %20 for a space in a URL. You could add that substitution yourself. Are there some parameters you need to set in the new method to cover more characters?","body":"How was the space encoded in the old method? I have sometimes seen %20 for a space in a URL. You could add that substitution yourself. Are there some parameters you need to set in the new method to cover more characters?"},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1680465843,"post_id":75908405,"comment_id":133899294,"body_markdown":"@rossum As seen in the test class. Some of them are already properly URL encoded, while others are not. :/ The URL&#39;s construction did not validate against URL encoding. Then the URI was created like this for further validation: `new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());`","body":"@rossum As seen in the test class. Some of them are already properly URL encoded, while others are not. :/ The URL&#39;s construction did not validate against URL encoding. Then the URI was created like this for further validation: <code>new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());</code>"}],"answers":[{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1686909267,"creation_date":1680549707,"answer_id":75923069,"question_id":75908405,"body_markdown":"## The problem\r\n\r\nThe main problem seems to be that the `UrlEncoder` service is dealing with a mix of encoded, unencoded and partially encoded URLs. More than that, there isn&#39;t a good way to to know which one is which.\r\n\r\nThis leads to ambiguity because certain characters can have different meanings when encoded vs unencoded. For instance, given a partially encoded URLs it isn&#39;t trivial to tell if a character such as `&#39;&amp;&#39;` is part of a query parameter (and thus should be encoded) or acting as a separator (and thus shouldn&#39;t be encoded):\r\n\r\n    https://www.example.com/test?firstQueryParam=hot%26cold&amp;secondQueryParam=test\r\n\r\nTo add salt to the injury, Java&#39;s `URI` implementation deviates from RFC 3986 and RFC 3987 due to historical / backwards compatibility reasons. Here&#39;s an interesting read about some of URI&#39;s quirks: [Updating URI support for RFC 3986 and RFC 3987 in the JDK](https://cr.openjdk.org/~dfuchs/writeups/updating-uri/).\r\n\r\n&quot;Fixing&quot; incorrectly encoded URLs by re-encoding without proper knowledge about the original URL is not a trivial problem. Fixing incorrectly encoded URLs using encoders and decoders full of quirks is even harder. A good enough &quot;best effort&quot; heuristic would be my recommendation.\r\n\r\n## A simple best effort solution\r\n\r\nSo the good news is that I&#39;ve managed to implement a solution that passes all of the above tests. The solution in question leverages Spring Web [`UriUtils`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html) and [`UriComponentsBuilder`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html). The cherry on the cake is that you may not need [galimatias](https://github.com/smola/galimatias) anymore.\r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\npublic class UrlEncoder {\r\n\r\n    public Optional&lt;URL&gt; encode(final String link) {\r\n        try {\r\n            final URI validatedURI = reencode(link).parseServerAuthority();\r\n            return Optional.of(validatedURI.toURL());\r\n        } catch (MalformedURLException | URISyntaxException e) {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\n    private URI reencode(String url) { // best effort\r\n        final String decodedUrl = UriUtils.decode(url, StandardCharsets.UTF_8);\r\n        return UriComponentsBuilder.fromHttpUrl(decodedUrl)\r\n                .encode()\r\n                .build()\r\n                .toUri();;\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the gist of it:\r\n\r\n* `reencode` → best attempt to &quot;fix&quot; URL encoding by decoding and re-encoding  \r\n* `parseServerAuthority()` → As an alternative to the former `validateUrl(url)` method.\r\n\r\n## Double encoding ampersands and other special characters\r\n\r\nAs previously stated, while the code above passes all tests. It is easy enough to come up with a &quot;broken&quot; test case. E.g., running the URL above through the encoder would result in:\r\n\r\n    https://www.example.com/test?firstQueryParam=hot&amp;cold&amp;secondQueryParam=test\r\n\r\nThis is a perfectly valid URL, but likely not what one would be looking for.\r\n\r\nWe are now entering dangerous territory, but there are ways to implement a more &quot;opinionated&quot; re-encoding algorithm. E.g. the code bellow deals with ampersands by making sure that `%26` isn&#39;t decoded:\r\n\r\n\r\n    private final char PERCENT_SIGN = &#39;%&#39;;\r\n    private final String ENCODED_PERCENT_SIGN = &quot;25&quot;;\r\n    private final String[] CODES_TO_DOUBLE_ENCODE = new String[]{\r\n            &quot;26&quot; // code for &#39;&amp;&#39;\r\n    };\r\n\r\n    private URI reencode(String url) throws URISyntaxException {\r\n        final String urlWithDoubleEncodedSpecialCharacters = doubleEncodeSpecialCharacters(url);\r\n        final String decodedUrl = UriUtils.decode(urlWithDoubleEncodedSpecialCharacters, StandardCharsets.UTF_8);\r\n        final String encodedUrl = UriComponentsBuilder.fromHttpUrl(decodedUrl).toUriString();\r\n        final String encodedUrlWithSpecialCharacters = decodeDoubleEncodedSpecialCharacters(encodedUrl);\r\n\r\n        return URI.create(encodedUrlWithSpecialCharacters);\r\n    }\r\n\r\n    private String doubleEncodeSpecialCharacters(String url) {\r\n        final StringBuilder sb = new StringBuilder(url);\r\n        for (String code : CODES_TO_DOUBLE_ENCODE) {\r\n            final String codeString = PERCENT_SIGN + code;\r\n            int index = sb.indexOf(codeString);\r\n            while (index != -1) {\r\n                sb.insert(index + 1, ENCODED_PERCENT_SIGN);\r\n                index = sb.indexOf(codeString, index + 3);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    private String decodeDoubleEncodedSpecialCharacters(String url) {\r\n        final StringBuilder sb = new StringBuilder(url);\r\n        for (String code : CODES_TO_DOUBLE_ENCODE) {\r\n            final String codeString = PERCENT_SIGN + ENCODED_PERCENT_SIGN + code;\r\n            int index = sb.indexOf(codeString);\r\n            while (index != -1) {\r\n                sb.delete(index + 2, index + 4);\r\n                index = sb.indexOf(codeString, index + 5);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\nThe solution above can be modified to deal with other escaping sequences (e.g., to deal with all [RFC 3986&#39;s Reserved Characters](https://www.rfc-editor.org/rfc/rfc3986#section-2.2)), as well as to use more sophisticated heuristics (e.g., to do something different with query parameters, than, say, path parameters).\r\n\r\nNevertheless, as someone that went down this rabbit hole before, I can tell you that once you know that you are dealing with incorrectly encoded URLs outside of your control there simply isn&#39;t a perfect solution.\r\n","title":"Getting around the deprecation of java.net.URL","body":"<h2>The problem</h2>\n<p>The main problem seems to be that the <code>UrlEncoder</code> service is dealing with a mix of encoded, unencoded and partially encoded URLs. More than that, there isn't a good way to to know which one is which.</p>\n<p>This leads to ambiguity because certain characters can have different meanings when encoded vs unencoded. For instance, given a partially encoded URLs it isn't trivial to tell if a character such as <code>'&amp;'</code> is part of a query parameter (and thus should be encoded) or acting as a separator (and thus shouldn't be encoded):</p>\n<pre><code>https://www.example.com/test?firstQueryParam=hot%26cold&amp;secondQueryParam=test\n</code></pre>\n<p>To add salt to the injury, Java's <code>URI</code> implementation deviates from RFC 3986 and RFC 3987 due to historical / backwards compatibility reasons. Here's an interesting read about some of URI's quirks: <a href=\"https://cr.openjdk.org/%7Edfuchs/writeups/updating-uri/\" rel=\"nofollow noreferrer\">Updating URI support for RFC 3986 and RFC 3987 in the JDK</a>.</p>\n<p>&quot;Fixing&quot; incorrectly encoded URLs by re-encoding without proper knowledge about the original URL is not a trivial problem. Fixing incorrectly encoded URLs using encoders and decoders full of quirks is even harder. A good enough &quot;best effort&quot; heuristic would be my recommendation.</p>\n<h2>A simple best effort solution</h2>\n<p>So the good news is that I've managed to implement a solution that passes all of the above tests. The solution in question leverages Spring Web <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html\" rel=\"nofollow noreferrer\"><code>UriUtils</code></a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriUtils.html\" rel=\"nofollow noreferrer\"><code>UriComponentsBuilder</code></a>. The cherry on the cake is that you may not need <a href=\"https://github.com/smola/galimatias\" rel=\"nofollow noreferrer\">galimatias</a> anymore.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UrlEncoder {\n\n    public Optional&lt;URL&gt; encode(final String link) {\n        try {\n            final URI validatedURI = reencode(link).parseServerAuthority();\n            return Optional.of(validatedURI.toURL());\n        } catch (MalformedURLException | URISyntaxException e) {\n            return Optional.empty();\n        }\n    }\n\n    private URI reencode(String url) { // best effort\n        final String decodedUrl = UriUtils.decode(url, StandardCharsets.UTF_8);\n        return UriComponentsBuilder.fromHttpUrl(decodedUrl)\n                .encode()\n                .build()\n                .toUri();;\n    }\n}\n</code></pre>\n<p>Here's the gist of it:</p>\n<ul>\n<li><code>reencode</code> → best attempt to &quot;fix&quot; URL encoding by decoding and re-encoding</li>\n<li><code>parseServerAuthority()</code> → As an alternative to the former <code>validateUrl(url)</code> method.</li>\n</ul>\n<h2>Double encoding ampersands and other special characters</h2>\n<p>As previously stated, while the code above passes all tests. It is easy enough to come up with a &quot;broken&quot; test case. E.g., running the URL above through the encoder would result in:</p>\n<pre><code>https://www.example.com/test?firstQueryParam=hot&amp;cold&amp;secondQueryParam=test\n</code></pre>\n<p>This is a perfectly valid URL, but likely not what one would be looking for.</p>\n<p>We are now entering dangerous territory, but there are ways to implement a more &quot;opinionated&quot; re-encoding algorithm. E.g. the code bellow deals with ampersands by making sure that <code>%26</code> isn't decoded:</p>\n<pre><code>private final char PERCENT_SIGN = '%';\nprivate final String ENCODED_PERCENT_SIGN = &quot;25&quot;;\nprivate final String[] CODES_TO_DOUBLE_ENCODE = new String[]{\n        &quot;26&quot; // code for '&amp;'\n};\n\nprivate URI reencode(String url) throws URISyntaxException {\n    final String urlWithDoubleEncodedSpecialCharacters = doubleEncodeSpecialCharacters(url);\n    final String decodedUrl = UriUtils.decode(urlWithDoubleEncodedSpecialCharacters, StandardCharsets.UTF_8);\n    final String encodedUrl = UriComponentsBuilder.fromHttpUrl(decodedUrl).toUriString();\n    final String encodedUrlWithSpecialCharacters = decodeDoubleEncodedSpecialCharacters(encodedUrl);\n\n    return URI.create(encodedUrlWithSpecialCharacters);\n}\n\nprivate String doubleEncodeSpecialCharacters(String url) {\n    final StringBuilder sb = new StringBuilder(url);\n    for (String code : CODES_TO_DOUBLE_ENCODE) {\n        final String codeString = PERCENT_SIGN + code;\n        int index = sb.indexOf(codeString);\n        while (index != -1) {\n            sb.insert(index + 1, ENCODED_PERCENT_SIGN);\n            index = sb.indexOf(codeString, index + 3);\n        }\n    }\n    return sb.toString();\n}\n\nprivate String decodeDoubleEncodedSpecialCharacters(String url) {\n    final StringBuilder sb = new StringBuilder(url);\n    for (String code : CODES_TO_DOUBLE_ENCODE) {\n        final String codeString = PERCENT_SIGN + ENCODED_PERCENT_SIGN + code;\n        int index = sb.indexOf(codeString);\n        while (index != -1) {\n            sb.delete(index + 2, index + 4);\n            index = sb.indexOf(codeString, index + 5);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>The solution above can be modified to deal with other escaping sequences (e.g., to deal with all <a href=\"https://www.rfc-editor.org/rfc/rfc3986#section-2.2\" rel=\"nofollow noreferrer\">RFC 3986's Reserved Characters</a>), as well as to use more sophisticated heuristics (e.g., to do something different with query parameters, than, say, path parameters).</p>\n<p>Nevertheless, as someone that went down this rabbit hole before, I can tell you that once you know that you are dealing with incorrectly encoded URLs outside of your control there simply isn't a perfect solution.</p>\n"}],"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1578,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":75923069,"answer_count":1,"score":9,"last_activity_date":1686909267,"creation_date":1680377364,"question_id":75908405,"body_markdown":"I&#39;m migrating my code to Java 20.\r\n\r\nIn this release, the [java.net.URL#URL(java.lang.String)][1] got deprecated. Unfortunately, I have a class where I found no replacement for the old URL constructor.\r\n\r\n    package com.github.bottomlessarchive.loa.url.service.encoder;\r\n    \r\n    import io.mola.galimatias.GalimatiasParseException;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.util.Optional;\r\n    \r\n    /**\r\n     * This service is responsible for encoding existing {@link URL} instances to valid\r\n     * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifiers&lt;/a&gt;.\r\n     */\r\n    @Service\r\n    public class UrlEncoder {\r\n    \r\n        /**\r\n         * Encodes the provided URL to a valid\r\n         * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifier&lt;/a&gt; and return\r\n         * the new identifier as a URL.\r\n         *\r\n         * @param link the url to encode\r\n         * @return the encoded url\r\n         */\r\n        public Optional&lt;URL&gt; encode(final String link) {\r\n            try {\r\n                final URL url = new URL(link);\r\n    \r\n                // We need to further validate the URL because the java.net.URL&#39;s validation is inadequate.\r\n                validateUrl(url);\r\n    \r\n                return Optional.of(encodeUrl(url));\r\n            } catch (GalimatiasParseException | MalformedURLException | URISyntaxException e) {\r\n                return Optional.empty();\r\n            }\r\n        }\r\n    \r\n        private void validateUrl(final URL url) throws URISyntaxException {\r\n            // This will trigger an URISyntaxException. It is needed because the constructor of java.net.URL doesn&#39;t always validate the\r\n            // passed url correctly.\r\n            new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());\r\n        }\r\n    \r\n        private URL encodeUrl(final URL url) throws GalimatiasParseException, MalformedURLException {\r\n            return io.mola.galimatias.URL.parse(url.toString()).toJavaURL();\r\n        }\r\n    }\r\n\r\nLuckily, I have tests for the class as well:\r\n\r\n    package com.github.bottomlessarchive.loa.url.service.encoder;\r\n    \r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.CsvSource;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.Optional;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    class UrlEncoderTest {\r\n    \r\n        private final UrlEncoder underTest = new UrlEncoder();\r\n    \r\n        @ParameterizedTest\r\n        @CsvSource(\r\n                value = {\r\n                        &quot;http://www.example.com/?test=Hello world,http://www.example.com/?test=Hello%20world&quot;,\r\n                        &quot;http://www.example.com/?test=Ő&#218;ő&#250;Ű&#220;ű&#252;,http://www.example.com/?test=%C5%90%C3%9A%C5%91%C3%BA%C5%B0%C3%9C%C5%B1%C3%BC&quot;,\r\n                        &quot;http://www.example.com/?test=random word &#163;500 bank $,&quot;\r\n                                + &quot;http://www.example.com/?test=random%20word%20%C2%A3500%20bank%20$&quot;,\r\n                        &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf,&quot;\r\n                                + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf&quot;,\r\n                        &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14 _2008.pdf,&quot;\r\n                                + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14%20_2008.pdf&quot;\r\n                }\r\n        )\r\n        void testEncodeWhenUsingValidUrls(final String urlToEncode, final String expected) throws MalformedURLException {\r\n            final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\r\n    \r\n            assertThat(result)\r\n                    .contains(new URL(expected));\r\n        }\r\n    \r\n        @ParameterizedTest\r\n        @CsvSource(\r\n                value = {\r\n                        &quot;http://промкаталог.рф/PublicDocuments/05-0211-00.pdf&quot;\r\n                }\r\n        )\r\n        void testEncodeWhenUsingInvalidUrls(final String urlToEncode) {\r\n            final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\r\n    \r\n            assertThat(result)\r\n                    .isEmpty();\r\n        }\r\n    }\r\n\r\nThe only dependency it uses is the [galamatias][2] URL library.\r\n\r\nDoes anyone have any ideas on how could I remove the `new URL(link)` code fragment while keeping the functionality the same?\r\n\r\nI tried various things, like using `java.net.URI#create` but it did not produce the exact result as the previous solution. For example, URLs that contain non-encoded characters like a space in `http://www.example.com/?test=Hello world` resulted in an IllegalArgumentException. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like `http://промкаталог.рф/PublicDocuments/05-0211-00.pdf` are converted to URI successfully with URI.create.\r\n\r\n  [1]: https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/net/URL.html#constructor-deprecation\r\n  [2]: https://mvnrepository.com/artifact/io.mola.galimatias/galimatias/0.2.1","title":"Getting around the deprecation of java.net.URL","body":"<p>I'm migrating my code to Java 20.</p>\n<p>In this release, the <a href=\"https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/net/URL.html#constructor-deprecation\" rel=\"noreferrer\">java.net.URL#URL(java.lang.String)</a> got deprecated. Unfortunately, I have a class where I found no replacement for the old URL constructor.</p>\n<pre><code>package com.github.bottomlessarchive.loa.url.service.encoder;\n\nimport io.mola.galimatias.GalimatiasParseException;\nimport org.springframework.stereotype.Service;\n\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.util.Optional;\n\n/**\n * This service is responsible for encoding existing {@link URL} instances to valid\n * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifiers&lt;/a&gt;.\n */\n@Service\npublic class UrlEncoder {\n\n    /**\n     * Encodes the provided URL to a valid\n     * &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier&quot;&gt;resource identifier&lt;/a&gt; and return\n     * the new identifier as a URL.\n     *\n     * @param link the url to encode\n     * @return the encoded url\n     */\n    public Optional&lt;URL&gt; encode(final String link) {\n        try {\n            final URL url = new URL(link);\n\n            // We need to further validate the URL because the java.net.URL's validation is inadequate.\n            validateUrl(url);\n\n            return Optional.of(encodeUrl(url));\n        } catch (GalimatiasParseException | MalformedURLException | URISyntaxException e) {\n            return Optional.empty();\n        }\n    }\n\n    private void validateUrl(final URL url) throws URISyntaxException {\n        // This will trigger an URISyntaxException. It is needed because the constructor of java.net.URL doesn't always validate the\n        // passed url correctly.\n        new URI(url.getProtocol(), url.getUserInfo(), url.getHost(), url.getPort(), url.getPath(), url.getQuery(), url.getRef());\n    }\n\n    private URL encodeUrl(final URL url) throws GalimatiasParseException, MalformedURLException {\n        return io.mola.galimatias.URL.parse(url.toString()).toJavaURL();\n    }\n}\n</code></pre>\n<p>Luckily, I have tests for the class as well:</p>\n<pre><code>package com.github.bottomlessarchive.loa.url.service.encoder;\n\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Optional;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nclass UrlEncoderTest {\n\n    private final UrlEncoder underTest = new UrlEncoder();\n\n    @ParameterizedTest\n    @CsvSource(\n            value = {\n                    &quot;http://www.example.com/?test=Hello world,http://www.example.com/?test=Hello%20world&quot;,\n                    &quot;http://www.example.com/?test=ŐÚőúŰÜűü,http://www.example.com/?test=%C5%90%C3%9A%C5%91%C3%BA%C5%B0%C3%9C%C5%B1%C3%BC&quot;,\n                    &quot;http://www.example.com/?test=random word £500 bank $,&quot;\n                            + &quot;http://www.example.com/?test=random%20word%20%C2%A3500%20bank%20$&quot;,\n                    &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf,&quot;\n                            + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14_2008.pdf&quot;,\n                    &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14 _2008.pdf,&quot;\n                            + &quot;http://www.aquincum.hu/wp-content/uploads/2015/06/Aquincumi-F%C3%BCzetek_14%20_2008.pdf&quot;\n            }\n    )\n    void testEncodeWhenUsingValidUrls(final String urlToEncode, final String expected) throws MalformedURLException {\n        final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\n\n        assertThat(result)\n                .contains(new URL(expected));\n    }\n\n    @ParameterizedTest\n    @CsvSource(\n            value = {\n                    &quot;http://промкаталог.рф/PublicDocuments/05-0211-00.pdf&quot;\n            }\n    )\n    void testEncodeWhenUsingInvalidUrls(final String urlToEncode) {\n        final Optional&lt;URL&gt; result = underTest.encode(urlToEncode);\n\n        assertThat(result)\n                .isEmpty();\n    }\n}\n</code></pre>\n<p>The only dependency it uses is the <a href=\"https://mvnrepository.com/artifact/io.mola.galimatias/galimatias/0.2.1\" rel=\"noreferrer\">galamatias</a> URL library.</p>\n<p>Does anyone have any ideas on how could I remove the <code>new URL(link)</code> code fragment while keeping the functionality the same?</p>\n<p>I tried various things, like using <code>java.net.URI#create</code> but it did not produce the exact result as the previous solution. For example, URLs that contain non-encoded characters like a space in <code>http://www.example.com/?test=Hello world</code> resulted in an IllegalArgumentException. This was parsed by the URL class without giving an error (and my data contains a lot of these). Also, links that failed the URL conversion like <code>http://промкаталог.рф/PublicDocuments/05-0211-00.pdf</code> are converted to URI successfully with URI.create.</p>\n"},{"tags":["java","mysql","spring","tomcat","server"],"answers":[{"tags":[],"owner":{"account_id":9979067,"reputation":24,"user_id":7382589,"display_name":"JasonZhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686903675,"creation_date":1686903675,"answer_id":76488283,"question_id":76488188,"body_markdown":" 1. Make sure you configured port 8080\r\n 2. Make sure you are visiting &#39;http://localhost:8080&#39;\r\n 3. Check whether the ContextPath is configured\r\n 4. If it&#39;s still wrong, show me your service log\r\n\r\n\r\n","title":"Tomcat Server Server run successfully, but it does not show me the local host 8080 page","body":"<ol>\n<li>Make sure you configured port 8080</li>\n<li>Make sure you are visiting 'http://localhost:8080'</li>\n<li>Check whether the ContextPath is configured</li>\n<li>If it's still wrong, show me your service log</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686909102,"creation_date":1686909102,"answer_id":76488991,"question_id":76488188,"body_markdown":"Check port 8080; there might be another application using it. Close it first.","title":"Tomcat Server Server run successfully, but it does not show me the local host 8080 page","body":"<p>Check port 8080; there might be another application using it. Close it first.</p>\n"}],"owner":{"account_id":28832549,"reputation":1,"user_id":22082624,"display_name":"Dino Bogdanovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686909102,"creation_date":1686903024,"question_id":76488188,"body_markdown":"Good afternoon,\r\n\r\n \r\n\r\nWhen I run Tomcat Server in Spring Tool Suite, it tells me that it has been run successfully, but it does not show me the local host 8080 page.\r\n\r\nSo the server works for me, but it doesn&#39;t throw out the local host page.\r\n\r\n \r\n\r\nThanks in advance,\r\n\r\n ","title":"Tomcat Server Server run successfully, but it does not show me the local host 8080 page","body":"<p>Good afternoon,</p>\n<p>When I run Tomcat Server in Spring Tool Suite, it tells me that it has been run successfully, but it does not show me the local host 8080 page.</p>\n<p>So the server works for me, but it doesn't throw out the local host page.</p>\n<p>Thanks in advance,</p>\n"},{"tags":["java","hibernate","jpa","metamodel"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1671188545,"post_id":74823393,"comment_id":132050140,"body_markdown":"You should probably switch to [org.hibernate.orm:hibernate-jpamodelgen:6.1.6.Final](https://central.sonatype.dev/artifact/org.hibernate.orm/hibernate-jpamodelgen/6.1.6.Final) (note: the groupId changed). Otherwise, you&#39;ll need to be a bit more explicit in your problem description (e.g. provide a [mre] and include all errors). Also be aware that Hibernate 6 is one big breaking change given it changed to the `jakarta.persistence.*` package namespace (JPA 3), where Hibernate 5.6 used the `javax.persistence` package namespace (JPA 2.2).","body":"You should probably switch to <a href=\"https://central.sonatype.dev/artifact/org.hibernate.orm/hibernate-jpamodelgen/6.1.6.Final\" rel=\"nofollow noreferrer\">org.hibernate.orm:hibernate-jpamodelgen:6.1.6.Final</a> (note: the groupId changed). Otherwise, you&#39;ll need to be a bit more explicit in your problem description (e.g. provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and include all errors). Also be aware that Hibernate 6 is one big breaking change given it changed to the <code>jakarta.persistence.*</code> package namespace (JPA 3), where Hibernate 5.6 used the <code>javax.persistence</code> package namespace (JPA 2.2)."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671189664,"post_id":74823393,"comment_id":132050484,"body_markdown":"That is not required to use `maven-processor-plugin`, adding `hibernate-jpamodelgen` to the project dependencies with `scope=provided` should be enough.","body":"That is not required to use <code>maven-processor-plugin</code>, adding <code>hibernate-jpamodelgen</code> to the project dependencies with <code>scope=provided</code> should be enough."}],"owner":{"account_id":1098402,"reputation":628,"user_id":1091484,"accept_rate":86,"display_name":"Samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1977,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1686909057,"creation_date":1671187832,"question_id":74823393,"body_markdown":"I have a working project with this maven section:\r\n\r\n```\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;4.5&lt;/version&gt;\r\n&lt;executions&gt;\r\n\t&lt;execution&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;processors&gt;\r\n\t\t\t\t&lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n\t\t\t&lt;/processors&gt;\r\n\t\t\t&lt;outputDirectory&gt;${project.build.directory}/generated-sources/jpametamodel&lt;/outputDirectory&gt;\r\n\t\t\t&lt;overwrite&gt;true&lt;/overwrite&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/execution&gt;\r\n&lt;/executions&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${hibernate-jpamodelgen.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen `hibernate-jpamodelgen.version`=`5.6.14.Final`, it works.\r\n\r\nWhen I try to upgrade to `6.1.6.Final`, the classes are not generated, hence I get compilation errors.","title":"How to upgrade hibernate-jpamodelgen from 5 to 6?","body":"<p>I have a working project with this maven section:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n&lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n&lt;version&gt;4.5&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;process&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;processors&gt;\n                &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n            &lt;/processors&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/generated-sources/jpametamodel&lt;/outputDirectory&gt;\n            &lt;overwrite&gt;true&lt;/overwrite&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate-jpamodelgen.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When <code>hibernate-jpamodelgen.version</code>=<code>5.6.14.Final</code>, it works.</p>\n<p>When I try to upgrade to <code>6.1.6.Final</code>, the classes are not generated, hence I get compilation errors.</p>\n"},{"tags":["java","unicode","utf-8",".class-file"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1686908591,"post_id":76488890,"comment_id":134866199,"body_markdown":"the one you specified. For .java files, check the javac doc: https://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html","body":"the one you specified. For .java files, check the javac doc: <a href=\"https://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/tools/windows/&hellip;</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686917829,"post_id":76488890,"comment_id":134868055,"body_markdown":"I imagine this would entirely depend on your text-editor, or IDE.  For example, I&#39;m using UTF-8, here.","body":"I imagine this would entirely depend on your text-editor, or IDE.  For example, I&#39;m using UTF-8, here."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686918297,"post_id":76488890,"comment_id":134868150,"body_markdown":"You will most probably (can&#39;t account for *all* compilers) find that the *strings* inside the class file will end up as UTF-8 irrespective of your source file encoding","body":"You will most probably (can&#39;t account for <i>all</i> compilers) find that the <i>strings</i> inside the class file will end up as UTF-8 irrespective of your source file encoding"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1686921957,"post_id":76488890,"comment_id":134868957,"body_markdown":"@g00se - `strings inside the class file will end up as UTF-8 irrespective of your source file encoding` good point.","body":"@g00se - <code>strings inside the class file will end up as UTF-8 irrespective of your source file encoding</code> good point."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686908580,"creation_date":1686908580,"answer_id":76488926,"question_id":76488890,"body_markdown":"Encoding refers to text, not binary data.\r\n\r\nClass files are binary data - so there&#39;s no *notion* of a text encoding for them, any more than there is for an MP3 file or a JPEG.\r\n\r\nDo *not* try to read a class file as if it&#39;s text - you&#39;re almost certain to lose information.","title":"what is the file encoding type for java class file?","body":"<p>Encoding refers to text, not binary data.</p>\n<p>Class files are binary data - so there's no <em>notion</em> of a text encoding for them, any more than there is for an MP3 file or a JPEG.</p>\n<p>Do <em>not</em> try to read a class file as if it's text - you're almost certain to lose information.</p>\n"},{"tags":[],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686908805,"creation_date":1686908805,"answer_id":76488956,"question_id":76488890,"body_markdown":"When Java compiles a `.java` source file into a `.class` file, the resulting `.class` file does not use a specific file encoding type like UTF-8. Instead, it follows a binary format known as the Java class file format.\r\n\r\nThe Java class file format is designed to be platform-independent and is primarily intended to be consumed by the Java Virtual Machine (JVM). It contains a structured set of bytes that represent various elements of the compiled Java code, such as class declarations, methods, fields, and bytecode instructions.\r\n\r\nThe class file format specifies a specific layout and organization of bytes, including headers, constant pools, access flags, attribute tables, and more. It does not rely on any specific character encoding scheme like `UTF-8` because the content of a class file consists of compiled Java bytecode instructions, numeric values, and symbolic references rather than human-readable text.\r\n\r\nTherefore, when you compile a Java source file using the `javac` compiler, the resulting `.class` file is not encoded as text but as binary data conforming to the Java class file format.","title":"what is the file encoding type for java class file?","body":"<p>When Java compiles a <code>.java</code> source file into a <code>.class</code> file, the resulting <code>.class</code> file does not use a specific file encoding type like UTF-8. Instead, it follows a binary format known as the Java class file format.</p>\n<p>The Java class file format is designed to be platform-independent and is primarily intended to be consumed by the Java Virtual Machine (JVM). It contains a structured set of bytes that represent various elements of the compiled Java code, such as class declarations, methods, fields, and bytecode instructions.</p>\n<p>The class file format specifies a specific layout and organization of bytes, including headers, constant pools, access flags, attribute tables, and more. It does not rely on any specific character encoding scheme like <code>UTF-8</code> because the content of a class file consists of compiled Java bytecode instructions, numeric values, and symbolic references rather than human-readable text.</p>\n<p>Therefore, when you compile a Java source file using the <code>javac</code> compiler, the resulting <code>.class</code> file is not encoded as text but as binary data conforming to the Java class file format.</p>\n"}],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76488956,"answer_count":2,"score":0,"last_activity_date":1686908805,"creation_date":1686908313,"question_id":76488890,"body_markdown":"What is the file encoding type used for Java class files?\r\n\r\nI am not referring to the `file.encoding` or `Charset.defaultCharset()` properties.\r\n\r\nWhen `javac` compiles a `.java` file to a `.class` file and saves the resulting file on disk, what file encoding type is used? Is it UTF-8?  \r\n\r\nCan someone provide more details on this? I do not want to make assumptions.","title":"what is the file encoding type for java class file?","body":"<p>What is the file encoding type used for Java class files?</p>\n<p>I am not referring to the <code>file.encoding</code> or <code>Charset.defaultCharset()</code> properties.</p>\n<p>When <code>javac</code> compiles a <code>.java</code> file to a <code>.class</code> file and saves the resulting file on disk, what file encoding type is used? Is it UTF-8?</p>\n<p>Can someone provide more details on this? I do not want to make assumptions.</p>\n"},{"tags":["java","multithreading","sockets"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686904212,"post_id":76488323,"comment_id":134865239,"body_markdown":"First thing you should do is not swallow those exceptions. If something fails, you want to know about it. Then use the information *from* those exceptions to debug your application.","body":"First thing you should do is not swallow those exceptions. If something fails, you want to know about it. Then use the information <i>from</i> those exceptions to debug your application."},{"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"score":0,"creation_date":1686904705,"post_id":76488323,"comment_id":134865347,"body_markdown":"@Jorn, did you mean the &#39;closeEverything&#39; I need to remove ?","body":"@Jorn, did you mean the &#39;closeEverything&#39; I need to remove ?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686905234,"post_id":76488323,"comment_id":134865459,"body_markdown":"the `closeEverything` is fine. Just don&#39;t forget to *also* print or log the exception (for example, using `printStackTrace()`).","body":"the <code>closeEverything</code> is fine. Just don&#39;t forget to <i>also</i> print or log the exception (for example, using <code>printStackTrace()</code>)."},{"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"score":0,"creation_date":1686906026,"post_id":76488323,"comment_id":134865623,"body_markdown":"I did, sorry, but still the same issue is on","body":"I did, sorry, but still the same issue is on"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686908739,"creation_date":1686908302,"answer_id":76488887,"question_id":76488323,"body_markdown":"Notice the difference, when you send the name you use &quot;writer.println&quot; when you send the message you use &quot;writer.write&quot; \r\n\r\nWhen do you send a new line character? \r\n\r\nEither change it to &quot;println&quot; in your client or send a &quot;\\n&quot; at the end of the message.\r\n\r\nAnother thing, `while (socket.isConnected())` in your client handler isn&#39;t going to work. As per the [isConnected](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Socket.html#isConnected()) docs you should use `isClosed()`\r\n","title":"Multiclient chat not sending and receiving messages","body":"<p>Notice the difference, when you send the name you use &quot;writer.println&quot; when you send the message you use &quot;writer.write&quot;</p>\n<p>When do you send a new line character?</p>\n<p>Either change it to &quot;println&quot; in your client or send a &quot;\\n&quot; at the end of the message.</p>\n<p>Another thing, <code>while (socket.isConnected())</code> in your client handler isn't going to work. As per the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Socket.html#isConnected()\" rel=\"nofollow noreferrer\">isConnected</a> docs you should use <code>isClosed()</code></p>\n"}],"owner":{"account_id":28832571,"reputation":3,"user_id":22082648,"display_name":"dedr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488887,"answer_count":1,"score":0,"last_activity_date":1686908739,"creation_date":1686904088,"question_id":76488323,"body_markdown":"I am trying to develop a multiclients chat application using java socket programming. I am using the bellow code \r\n\r\n\r\n\r\nI am using the bellow code snipped from the internet with some modifications \r\n \r\n\r\n\r\nSrever.java\r\n```\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Server {\r\n    \r\n    \r\n    private final ServerSocket serversocket;\r\n    \r\n    \r\n    public Server (ServerSocket serversocket)\r\n    {\r\n        this.serversocket = serversocket;\r\n    }\r\n    \r\n    \r\n    public void startserver ()\r\n    {\r\n        try\r\n        {\r\n            while (!serversocket.isClosed())\r\n            {\r\n                Socket socket = serversocket.accept();\r\n                System.out.println(&quot;A client is connected&quot;);\r\n                \r\n                ClientHandler clienthandler = new ClientHandler(socket);\r\n                Thread t = new Thread(clienthandler);\r\n                t.start();\r\n                \r\n                \r\n            }\r\n        }catch (IOException e)\r\n        {\r\n            \r\n        }\r\n    }\r\n    \r\n   \r\n    public static void main(String[] args) throws IOException \r\n    {\r\n       ServerSocket serversocket = new ServerSocket(5000);\r\n       Server server = new Server(serversocket);\r\n       server.startserver();\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nClientHandler.java\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\n\r\npublic class ClientHandler  implements Runnable\r\n{\r\n    public static ArrayList &lt;ClientHandler&gt;clienthandlers = new ArrayList&lt;&gt;() ;\r\n    private final Socket socket;\r\n    private final BufferedReader bufferedreader;\r\n    private final PrintWriter writer; \r\n    private final String clientusername;\r\n    \r\n    public ClientHandler(Socket socket) throws IOException\r\n    {\r\n        this.socket = socket;\r\n        bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\r\n        clientusername = bufferedreader.readLine().trim();\r\n        \r\n   \r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void run ()\r\n    {\r\n   \r\n    try {\r\n        \r\n        System.out.println(clientusername+ &quot; has joined the achat&quot;);\r\n        clienthandlers.add(this);\r\n        broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has joined the chat&quot;);\r\n        \r\n        \r\n        while (socket.isConnected())\r\n        {\r\n            String messageFromClient; \r\n            messageFromClient= bufferedreader.readLine();\r\n            broadcastMessage(messageFromClient);\r\n            }\r\n        }catch (IOException e)\r\n            {\r\n                closeEverything(socket,bufferedreader,writer) ;\r\n               \r\n            }\r\n        \r\n    }\r\n    \r\n public void broadcastMessage (String messageToSend)\r\n {\r\n     \r\n     for (ClientHandler ch: clienthandlers)\r\n     {\r\n         if (!ch.clientusername.equals(clientusername)) \r\n         {\r\n             ch.writer.println(messageToSend);\r\n \r\n         }\r\n     }\r\n     \r\n }\r\n \r\n \r\n public void removeClientHandler ()\r\n {\r\n     clienthandlers.remove(this);\r\n     System.out.println(clientusername+ &quot; has left the achat&quot;);\r\n     broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has left the achat&quot;);\r\n }\r\n\r\n    private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\r\n    {\r\n        removeClientHandler();\r\n       try \r\n        {\r\n           if (bufferedreader!=null)\r\n           {\r\n            bufferedreader.close();\r\n           }\r\n        \r\n           if (writeer!=null)\r\n           {\r\n            writeer.close();\r\n           }\r\n        \r\n           if (socket!=null)\r\n           {\r\n            socket.close();\r\n           }\r\n        }catch (IOException e)\r\n        {\r\n        }\r\n        \r\n    }\r\n \r\n}\r\n```\r\n\r\nClient.java\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Client {\r\n    \r\n private Socket socket;\r\n private BufferedReader bufferedreader;\r\n private PrintWriter writer; \r\n private String username; \r\n \r\n \r\n public Client (Socket socket, String username)\r\n {\r\n       try\r\n       {\r\n        this.socket = socket;\r\n        this.bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        this.writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\r\n        this.username = username;\r\n        writer.println(username);\r\n       }catch (IOException e)\r\n       {\r\n           closeEverything(socket, bufferedreader, writer);\r\n       }\r\n }\r\n    \r\n private void sendMessage ()\r\n {\r\n     \r\n     Scanner sc = new Scanner(System.in);\r\n     while (socket.isConnected())\r\n     {\r\n         String messageToSend = sc.nextLine();\r\n         writer.write(username+ &quot;: &quot; + messageToSend);\r\n         \r\n     }\r\n }\r\n \r\n \r\n \r\n public void listenForMessage ()\r\n {\r\n     new Thread(() -&gt; {\r\n         String messageFromGroupchat;\r\n         \r\n         while (socket.isConnected()) \r\n         {\r\n             try\r\n             {\r\n                 messageFromGroupchat = bufferedreader.readLine();\r\n                 System.out.println(messageFromGroupchat);\r\n             }catch (IOException e)\r\n             {\r\n                 closeEverything(socket, bufferedreader, writer);\r\n             }\r\n         }\r\n     }).start();\r\n }\r\n \r\n \r\n \r\n \r\n private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\r\n    {\r\n                \r\n        try \r\n        {\r\n           if (bufferedreader!=null)\r\n           {\r\n            bufferedreader.close();\r\n           }\r\n        \r\n           if (writeer!=null)\r\n           {\r\n            writeer.close();\r\n           }\r\n        \r\n           if (socket!=null)\r\n           {\r\n            socket.close();\r\n           }\r\n        }catch (IOException e)\r\n        {\r\n        }\r\n        \r\n    } \r\n \r\n \r\n    public static void main(String[] args) throws IOException \r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your name&quot;);\r\n        String username = sc.nextLine();\r\n        \r\n        Socket socket = new Socket(&quot;localhost&quot;, 5000);\r\n        \r\n        Client client = new Client(socket, username);\r\n       \r\n        client.listenForMessage();\r\n        \r\n        client.sendMessage();\r\n       \r\n       \r\n       \r\n       \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe problem is when clients are connected, no message (sending / receiving) among them. They are just notify each other only when they join or left the chat. What the mistake I am doing here please? I am new in socket programming. ","title":"Multiclient chat not sending and receiving messages","body":"<p>I am trying to develop a multiclients chat application using java socket programming. I am using the bellow code</p>\n<p>I am using the bellow code snipped from the internet with some modifications</p>\n<p>Srever.java</p>\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n    \n    \n    private final ServerSocket serversocket;\n    \n    \n    public Server (ServerSocket serversocket)\n    {\n        this.serversocket = serversocket;\n    }\n    \n    \n    public void startserver ()\n    {\n        try\n        {\n            while (!serversocket.isClosed())\n            {\n                Socket socket = serversocket.accept();\n                System.out.println(&quot;A client is connected&quot;);\n                \n                ClientHandler clienthandler = new ClientHandler(socket);\n                Thread t = new Thread(clienthandler);\n                t.start();\n                \n                \n            }\n        }catch (IOException e)\n        {\n            \n        }\n    }\n    \n   \n    public static void main(String[] args) throws IOException \n    {\n       ServerSocket serversocket = new ServerSocket(5000);\n       Server server = new Server(serversocket);\n       server.startserver();\n        \n    }\n}\n\n</code></pre>\n<p>ClientHandler.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.ArrayList;\n\npublic class ClientHandler  implements Runnable\n{\n    public static ArrayList &lt;ClientHandler&gt;clienthandlers = new ArrayList&lt;&gt;() ;\n    private final Socket socket;\n    private final BufferedReader bufferedreader;\n    private final PrintWriter writer; \n    private final String clientusername;\n    \n    public ClientHandler(Socket socket) throws IOException\n    {\n        this.socket = socket;\n        bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\n        clientusername = bufferedreader.readLine().trim();\n        \n   \n    }\n    \n    \n    @Override\n    public void run ()\n    {\n   \n    try {\n        \n        System.out.println(clientusername+ &quot; has joined the achat&quot;);\n        clienthandlers.add(this);\n        broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has joined the chat&quot;);\n        \n        \n        while (socket.isConnected())\n        {\n            String messageFromClient; \n            messageFromClient= bufferedreader.readLine();\n            broadcastMessage(messageFromClient);\n            }\n        }catch (IOException e)\n            {\n                closeEverything(socket,bufferedreader,writer) ;\n               \n            }\n        \n    }\n    \n public void broadcastMessage (String messageToSend)\n {\n     \n     for (ClientHandler ch: clienthandlers)\n     {\n         if (!ch.clientusername.equals(clientusername)) \n         {\n             ch.writer.println(messageToSend);\n \n         }\n     }\n     \n }\n \n \n public void removeClientHandler ()\n {\n     clienthandlers.remove(this);\n     System.out.println(clientusername+ &quot; has left the achat&quot;);\n     broadcastMessage (&quot;SERVER :&quot; + clientusername+ &quot; has left the achat&quot;);\n }\n\n    private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\n    {\n        removeClientHandler();\n       try \n        {\n           if (bufferedreader!=null)\n           {\n            bufferedreader.close();\n           }\n        \n           if (writeer!=null)\n           {\n            writeer.close();\n           }\n        \n           if (socket!=null)\n           {\n            socket.close();\n           }\n        }catch (IOException e)\n        {\n        }\n        \n    }\n \n}\n</code></pre>\n<p>Client.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.Scanner;\n\n\npublic class Client {\n    \n private Socket socket;\n private BufferedReader bufferedreader;\n private PrintWriter writer; \n private String username; \n \n \n public Client (Socket socket, String username)\n {\n       try\n       {\n        this.socket = socket;\n        this.bufferedreader =  new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        this.writer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()),true);\n        this.username = username;\n        writer.println(username);\n       }catch (IOException e)\n       {\n           closeEverything(socket, bufferedreader, writer);\n       }\n }\n    \n private void sendMessage ()\n {\n     \n     Scanner sc = new Scanner(System.in);\n     while (socket.isConnected())\n     {\n         String messageToSend = sc.nextLine();\n         writer.write(username+ &quot;: &quot; + messageToSend);\n         \n     }\n }\n \n \n \n public void listenForMessage ()\n {\n     new Thread(() -&gt; {\n         String messageFromGroupchat;\n         \n         while (socket.isConnected()) \n         {\n             try\n             {\n                 messageFromGroupchat = bufferedreader.readLine();\n                 System.out.println(messageFromGroupchat);\n             }catch (IOException e)\n             {\n                 closeEverything(socket, bufferedreader, writer);\n             }\n         }\n     }).start();\n }\n \n \n \n \n private void closeEverything(Socket socket, BufferedReader bufferedreader, PrintWriter writeer)\n    {\n                \n        try \n        {\n           if (bufferedreader!=null)\n           {\n            bufferedreader.close();\n           }\n        \n           if (writeer!=null)\n           {\n            writeer.close();\n           }\n        \n           if (socket!=null)\n           {\n            socket.close();\n           }\n        }catch (IOException e)\n        {\n        }\n        \n    } \n \n \n    public static void main(String[] args) throws IOException \n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your name&quot;);\n        String username = sc.nextLine();\n        \n        Socket socket = new Socket(&quot;localhost&quot;, 5000);\n        \n        Client client = new Client(socket, username);\n       \n        client.listenForMessage();\n        \n        client.sendMessage();\n       \n       \n       \n       \n    }\n}\n\n</code></pre>\n<p>The problem is when clients are connected, no message (sending / receiving) among them. They are just notify each other only when they join or left the chat. What the mistake I am doing here please? I am new in socket programming.</p>\n"},{"tags":["java","annotations","micronaut","micronaut-client"],"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686908569,"creation_date":1686908569,"question_id":76488923,"body_markdown":"I am attempting to write a reusable HttpClientFilter that can be assigned to various HttpClients using an Annotation. The HttpClientFilter requires certain properties, such as an audience, that differ for each HttpClient. \r\n\r\nMy plan is to add these properties to the annotation that gets assigned to the HttpClient.\r\n\r\n```java\r\n@FilterMatcher\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.PARAMETER})\r\npublic @interface ServiceAccountAuthentication {\r\n    String audience() default &quot;&quot;;\r\n}\r\n```\r\n \r\n```java\r\n@Client(value = &quot;http://example.com/api/v1&quot;)\r\n@ServiceAccountAuthentication(audience = &quot;test&quot;)\r\npublic interface MyHttpClient extends MyApi {\r\n    \r\n}\r\n```\r\n \r\n```java\r\n@ServiceAccountAuthentication\r\n@Singleton\r\npublic class ServiceAccountAuthenticationClientFilter implements HttpClientFilter {\r\n\r\n    @Override\r\n    public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(MutableHttpRequest&lt;?&gt; request, ClientFilterChain chain) {\r\n        String audience = &quot;???&quot;; // How do I retrieve that from the annotation?\r\n        return chain.proceed(request.bearerAuth(buildToken(audience)));\r\n    }\r\n\r\n    private String buildToken(String audience) {\r\n        // TODO: Build token\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nHowever, to acquire these properties within the HttpClientFilter, I need to retrieve the class of the HttpClient. Is there a method to do this? Or is there a better way to implement something like that?","title":"Get the corresponding HttpClient in a HttpClientFilter (micronaut)","body":"<p>I am attempting to write a reusable HttpClientFilter that can be assigned to various HttpClients using an Annotation. The HttpClientFilter requires certain properties, such as an audience, that differ for each HttpClient.</p>\n<p>My plan is to add these properties to the annotation that gets assigned to the HttpClient.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FilterMatcher\n@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.PARAMETER})\npublic @interface ServiceAccountAuthentication {\n    String audience() default &quot;&quot;;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Client(value = &quot;http://example.com/api/v1&quot;)\n@ServiceAccountAuthentication(audience = &quot;test&quot;)\npublic interface MyHttpClient extends MyApi {\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ServiceAccountAuthentication\n@Singleton\npublic class ServiceAccountAuthenticationClientFilter implements HttpClientFilter {\n\n    @Override\n    public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(MutableHttpRequest&lt;?&gt; request, ClientFilterChain chain) {\n        String audience = &quot;???&quot;; // How do I retrieve that from the annotation?\n        return chain.proceed(request.bearerAuth(buildToken(audience)));\n    }\n\n    private String buildToken(String audience) {\n        // TODO: Build token\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>However, to acquire these properties within the HttpClientFilter, I need to retrieve the class of the HttpClient. Is there a method to do this? Or is there a better way to implement something like that?</p>\n"},{"tags":["java","rest","jax-rs","resteasy","quarkus"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1642788635,"post_id":70804601,"comment_id":125173764,"body_markdown":"You can add a static fromString(string) method to the enum and throw a WebApplicationException with the Response you want.","body":"You can add a static fromString(string) method to the enum and throw a WebApplicationException with the Response you want."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642792329,"creation_date":1642792329,"answer_id":70806521,"question_id":70804601,"body_markdown":"I have created a variety of exception handlers for just this reason.  For example, I want to check if an incoming JSON body is malformed.  For that I did:\r\n\r\n\r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import org.jboss.resteasy.spi.ReaderException;\r\n    \r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ExceptionMapper;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    /**\r\n     * Maps a ReaderException to a response.  A ReaderException is most often thrown\r\n     * when we get a bad JSON packet.\r\n     *\r\n     */\r\n    @Provider\r\n    public class ReaderExceptionMapper implements ExceptionMapper&lt;ReaderException&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Response toResponse(ReaderException exception) {\r\n    \r\n    \t    if( exception.getCause() instanceof JsonParseException ||\r\n                    exception.getCause() instanceof JsonMappingException ) {\r\n    \t        return Response.status(Response.Status.BAD_REQUEST)\r\n    \t\t\t\t\t.entity(&quot;error parsing json body - &quot; + exception.getMessage())\r\n                        .type(MediaType.TEXT_PLAIN_TYPE)\r\n                        .build();\r\n            }\r\n    \r\n    \t\treturn Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(exception.getMessage())\r\n                    .type(MediaType.TEXT_PLAIN_TYPE)\r\n                    .build();\r\n    \t}\r\n    }\r\n\r\nIn your case you should be able to create an `ExceptionMapper` for `IllegalArgumentException` and do what you&#39;d like.  I am running this in both Wildfly and Quarkus.","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>I have created a variety of exception handlers for just this reason.  For example, I want to check if an incoming JSON body is malformed.  For that I did:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport org.jboss.resteasy.spi.ReaderException;\n\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\n/**\n * Maps a ReaderException to a response.  A ReaderException is most often thrown\n * when we get a bad JSON packet.\n *\n */\n@Provider\npublic class ReaderExceptionMapper implements ExceptionMapper&lt;ReaderException&gt; {\n\n    @Override\n    public Response toResponse(ReaderException exception) {\n\n        if( exception.getCause() instanceof JsonParseException ||\n                exception.getCause() instanceof JsonMappingException ) {\n            return Response.status(Response.Status.BAD_REQUEST)\n                    .entity(&quot;error parsing json body - &quot; + exception.getMessage())\n                    .type(MediaType.TEXT_PLAIN_TYPE)\n                    .build();\n        }\n\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                .entity(exception.getMessage())\n                .type(MediaType.TEXT_PLAIN_TYPE)\n                .build();\n    }\n}\n</code></pre>\n<p>In your case you should be able to create an <code>ExceptionMapper</code> for <code>IllegalArgumentException</code> and do what you'd like.  I am running this in both Wildfly and Quarkus.</p>\n"},{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643133383,"creation_date":1643133383,"answer_id":70853465,"question_id":70804601,"body_markdown":"You could use a `ParamConverter` for generic enum types.\r\n\r\n&lt;!-- language: lang-java--&gt;\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Type;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ParamConverter;\r\n    import javax.ws.rs.ext.ParamConverterProvider;\r\n    import javax.ws.rs.ext.Provider;\r\n\r\n    @Provider\r\n    public class EnumParamConverterProvider implements ParamConverterProvider {\r\n        @Override\r\n        public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(final Class&lt;T&gt; rawType, final Type genericType, final Annotation[] annotations) {\r\n            if (!rawType.isEnum()) {\r\n                return null;\r\n            }\r\n            final Enum&lt;?&gt;[] constants = (Enum&lt;?&gt;[]) rawType.getEnumConstants();\r\n            return new ParamConverter&lt;T&gt;() {\r\n                @Override\r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                public T fromString(final String value) {\r\n                    if (value == null || value.isEmpty()) {\r\n                        return null;\r\n                    }\r\n                    for (Enum&lt;?&gt; e : constants) {\r\n                        if (e.name().equalsIgnoreCase(value)) {\r\n                            return (T) e;\r\n                        }\r\n                    }\r\n                    // No match, check toString()\r\n                    for (Enum&lt;?&gt; e : constants) {\r\n                        if (e.toString().equalsIgnoreCase(value)) {\r\n                            return (T) e;\r\n                        }\r\n                    }\r\n                    throw new WebApplicationException(Response.serverError().entity(String.format(&quot;Failed to find constant &#39;%s&#39;&quot;, value)).build());\r\n                }\r\n\r\n                @Override\r\n                public String toString(final T value) {\r\n                    return value != null ? value.toString() : null;\r\n                }\r\n            };\r\n        }\r\n    }\r\n","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>You could use a <code>ParamConverter</code> for generic enum types.</p>\n\n<pre><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.Type;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ParamConverter;\nimport javax.ws.rs.ext.ParamConverterProvider;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class EnumParamConverterProvider implements ParamConverterProvider {\n    @Override\n    public &lt;T&gt; ParamConverter&lt;T&gt; getConverter(final Class&lt;T&gt; rawType, final Type genericType, final Annotation[] annotations) {\n        if (!rawType.isEnum()) {\n            return null;\n        }\n        final Enum&lt;?&gt;[] constants = (Enum&lt;?&gt;[]) rawType.getEnumConstants();\n        return new ParamConverter&lt;T&gt;() {\n            @Override\n            @SuppressWarnings(&quot;unchecked&quot;)\n            public T fromString(final String value) {\n                if (value == null || value.isEmpty()) {\n                    return null;\n                }\n                for (Enum&lt;?&gt; e : constants) {\n                    if (e.name().equalsIgnoreCase(value)) {\n                        return (T) e;\n                    }\n                }\n                // No match, check toString()\n                for (Enum&lt;?&gt; e : constants) {\n                    if (e.toString().equalsIgnoreCase(value)) {\n                        return (T) e;\n                    }\n                }\n                throw new WebApplicationException(Response.serverError().entity(String.format(&quot;Failed to find constant '%s'&quot;, value)).build());\n            }\n\n            @Override\n            public String toString(final T value) {\n                return value != null ? value.toString() : null;\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643134734,"creation_date":1643134734,"answer_id":70853722,"question_id":70804601,"body_markdown":"There is a similar question for which I gave an answer. Basically I suggested use of `ResponseEntity` class as a return value or creating Exception handler marked as `@ControllerAdvice`. Please look at the answer here: [How to add message to response with exception][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70833072/how-to-add-message-to-response-with-exception/70833247#70833247","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>There is a similar question for which I gave an answer. Basically I suggested use of <code>ResponseEntity</code> class as a return value or creating Exception handler marked as <code>@ControllerAdvice</code>. Please look at the answer here: <a href=\"https://stackoverflow.com/questions/70833072/how-to-add-message-to-response-with-exception/70833247#70833247\">How to add message to response with exception</a></p>\n"},{"tags":[],"owner":{"account_id":28832830,"reputation":11,"user_id":22082876,"display_name":"Mykyta Anyshchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686907472,"creation_date":1686907472,"answer_id":76488786,"question_id":70804601,"body_markdown":"This is caused by QueryParamInjector. If, while mapping query params, it catches any exception, that is not inherited from `javax.ws.rs.WebApplicationException` it will wrap the exception into `NotFoundException`. (see `StringParameterInjector#extractValue(String)` and `QueryParamInjector#throwProcessingException(String, Throwable)`)\r\n\r\nYou can bypass this behaviour by throwing exception that extends `javax.ws.rs.WebApplicationException` instead of `IllegalArgumentException`. In my case I use custom ParamConverter where I wrap cought `RuntimeException`s into `javax.ws.rs.BadRequestException`.\r\n\r\nAlso, custom `ExceptionMapper` for `BadRequestException` would be useful, cause default one will print stacktrace into response \r\n ","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>This is caused by QueryParamInjector. If, while mapping query params, it catches any exception, that is not inherited from <code>javax.ws.rs.WebApplicationException</code> it will wrap the exception into <code>NotFoundException</code>. (see <code>StringParameterInjector#extractValue(String)</code> and <code>QueryParamInjector#throwProcessingException(String, Throwable)</code>)</p>\n<p>You can bypass this behaviour by throwing exception that extends <code>javax.ws.rs.WebApplicationException</code> instead of <code>IllegalArgumentException</code>. In my case I use custom ParamConverter where I wrap cought <code>RuntimeException</code>s into <code>javax.ws.rs.BadRequestException</code>.</p>\n<p>Also, custom <code>ExceptionMapper</code> for <code>BadRequestException</code> would be useful, cause default one will print stacktrace into response</p>\n"}],"owner":{"account_id":422132,"reputation":817,"user_id":800735,"accept_rate":92,"display_name":"cozos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1686907472,"creation_date":1642782926,"question_id":70804601,"body_markdown":"I have a REST endpoint that looks like this:\r\n\r\n```\r\n@Path(&quot;/api/v1/users&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class UsersResource {\r\n  @GET\r\n  public Uni&lt;ListUsersResponse&gt; list(@BeanParam @Valid ListUsersRequest req) {\r\n    ...\r\n  }\r\n}\r\n  \r\n...\r\n\r\npublic class ListUsersRequest {\r\n  @NotNull\r\n  @NotEmpty\r\n  @QueryParam(&quot;status_in&quot;)\r\n  List&lt;UserStatus&gt; statusIn;\r\n}\r\n\r\n...\r\n\r\npublic enum UserStatus {\r\n  All,\r\n  Creating,\r\n  Deleting,\r\n  ...\r\n}\r\n```\r\n\r\nWhen I make an API call like this:\r\n\r\nhttp://localhost:8080/api/v1/users?status_in=invalid_status\r\n\r\nQuarkus/RESTEasy will return a 404, and nothing will even show up in the server logs, because it is a 404, because it is a &quot;client error&quot;.\r\n\r\nIf I enable debug logging, the error looks like this:\r\n\r\n```\r\njava.lang.IllegalArgumentException: No enum constant com.myproject.UserStatus.something\r\n```\r\n\r\nI dislike this behaviour, because:\r\n\r\n1. A 404 implies &quot;not found&quot;, which makes users think that the path they used doesn&#39;t exist at all, which is confusing.\r\n2. It&#39;s difficult for both users and developers to figure out what went wrong, as there are no error messages in the response or in the server logs without DEBUG enabled.\r\n\r\nApparently, this is on purpose, because it conforms to [some spec][1]:\r\n\r\n&gt; 3.2 Fields and Bean Properties\r\n&gt;\r\n&gt; if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity\r\n\r\nSo my question is, how can I modify this to actually give helpful error messages and status code?\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/CXF-4976","title":"In Quarkus/RESTEasy, how do I show helpful error messages for malformed query parameters?","body":"<p>I have a REST endpoint that looks like this:</p>\n<pre><code>@Path(&quot;/api/v1/users&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class UsersResource {\n  @GET\n  public Uni&lt;ListUsersResponse&gt; list(@BeanParam @Valid ListUsersRequest req) {\n    ...\n  }\n}\n  \n...\n\npublic class ListUsersRequest {\n  @NotNull\n  @NotEmpty\n  @QueryParam(&quot;status_in&quot;)\n  List&lt;UserStatus&gt; statusIn;\n}\n\n...\n\npublic enum UserStatus {\n  All,\n  Creating,\n  Deleting,\n  ...\n}\n</code></pre>\n<p>When I make an API call like this:</p>\n<p>http://localhost:8080/api/v1/users?status_in=invalid_status</p>\n<p>Quarkus/RESTEasy will return a 404, and nothing will even show up in the server logs, because it is a 404, because it is a &quot;client error&quot;.</p>\n<p>If I enable debug logging, the error looks like this:</p>\n<pre><code>java.lang.IllegalArgumentException: No enum constant com.myproject.UserStatus.something\n</code></pre>\n<p>I dislike this behaviour, because:</p>\n<ol>\n<li>A 404 implies &quot;not found&quot;, which makes users think that the path they used doesn't exist at all, which is confusing.</li>\n<li>It's difficult for both users and developers to figure out what went wrong, as there are no error messages in the response or in the server logs without DEBUG enabled.</li>\n</ol>\n<p>Apparently, this is on purpose, because it conforms to <a href=\"https://issues.apache.org/jira/browse/CXF-4976\" rel=\"nofollow noreferrer\">some spec</a>:</p>\n<blockquote>\n<p>3.2 Fields and Bean Properties</p>\n<p>if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity</p>\n</blockquote>\n<p>So my question is, how can I modify this to actually give helpful error messages and status code?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681566278,"post_id":76021808,"comment_id":134078958,"body_markdown":"The poor coding is not going to help you. If your *global* (bad idea) `Connection` object has *already* been assigned, that code will go about getting it and setting it all over again anyway. You should be checking if you *already* have a valid connection. Come back again with reworked code (posted into the question) showing that you still have a problem","body":"The poor coding is not going to help you. If your <i>global</i> (bad idea) <code>Connection</code> object has <i>already</i> been assigned, that code will go about getting it and setting it all over again anyway. You should be checking if you <i>already</i> have a valid connection. Come back again with reworked code (posted into the question) showing that you still have a problem"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681566723,"post_id":76021808,"comment_id":134079010,"body_markdown":"Also, you should be using the three argument `DriverManager.getConnection` method, not passing the credentials in the connection string","body":"Also, you should be using the three argument <code>DriverManager.getConnection</code> method, not passing the credentials in the connection string"},{"owner":{"account_id":24927929,"reputation":23,"user_id":18795436,"display_name":"Reconnact"},"score":0,"creation_date":1681575495,"post_id":76021808,"comment_id":134080198,"body_markdown":"As you can see in my question I had the three argument `DriverManager.getConnection`method before. Also the code i provided worked as is before when i had my old mysql installation","body":"As you can see in my question I had the three argument <code>DriverManager.getConnection</code>method before. Also the code i provided worked as is before when i had my old mysql installation"}],"answers":[{"tags":[],"owner":{"account_id":28477555,"reputation":1,"user_id":21791989,"display_name":"tetedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686907300,"creation_date":1686709545,"answer_id":76469760,"question_id":76021808,"body_markdown":"Try:\r\n\r\n```\r\nString url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password + &quot;&amp;useSSL=false&quot;;\r\n```\r\n\r\nJust add string: `&amp;useSSL=false`","title":"Communications link failure &quot;The last packet sent successfully to the server was 37 milliseconds ago.&quot;","body":"<p>Try:</p>\n<pre><code>String url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password + &quot;&amp;useSSL=false&quot;;\n</code></pre>\n<p>Just add string: <code>&amp;useSSL=false</code></p>\n"}],"owner":{"account_id":24927929,"reputation":23,"user_id":18795436,"display_name":"Reconnact"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686907300,"creation_date":1681556146,"question_id":76021808,"body_markdown":"I had to reinstall MySQL completely because everything was broken and I wanted to set it up clean again. Now I get the following error when I run my application that worked with the previously set up mysql database:\r\n\r\n```\r\nom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure The last packet successfully received from the server was 38 milliseconds ago. The last packet sent successfully to the server was 37 milliseconds ago.\r\n```\r\n\r\nI have a java application that connects to the mysql database like this:\r\n```\r\n static Connection getConnection() {\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        String username = &quot;root&quot;;\r\n        String password = &quot;password&quot;;\r\n        String url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password;\r\n        try{\r\n            setConnection(DriverManager.getConnection(url));\r\n        } catch (SQLException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n        return connection;\r\n    }\r\n```\r\n\r\nI also tried it with the username and password outside the jdbc url.\r\nThe MySQL instance is running, I can connect to it in the terminal and everything else works perfectly fine (as far as I know).","title":"Communications link failure &quot;The last packet sent successfully to the server was 37 milliseconds ago.&quot;","body":"<p>I had to reinstall MySQL completely because everything was broken and I wanted to set it up clean again. Now I get the following error when I run my application that worked with the previously set up mysql database:</p>\n<pre><code>om.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure The last packet successfully received from the server was 38 milliseconds ago. The last packet sent successfully to the server was 37 milliseconds ago.\n</code></pre>\n<p>I have a java application that connects to the mysql database like this:</p>\n<pre><code> static Connection getConnection() {\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        String username = &quot;root&quot;;\n        String password = &quot;password&quot;;\n        String url = &quot;jdbc:mysql://127.0.0.1:3306/wnetwork?user=&quot; + username + &quot;&amp;password=&quot; + password;\n        try{\n            setConnection(DriverManager.getConnection(url));\n        } catch (SQLException e) {\n            throw new IllegalStateException(e);\n        }\n        return connection;\n    }\n</code></pre>\n<p>I also tried it with the username and password outside the jdbc url.\nThe MySQL instance is running, I can connect to it in the terminal and everything else works perfectly fine (as far as I know).</p>\n"},{"tags":["java","spring","transactions"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906797,"creation_date":1686905953,"answer_id":76488574,"question_id":76488560,"body_markdown":"&gt; Does a transaction method calling a transaction method in the same class cause the transaction to fail\r\n\r\nNo.\r\n\r\n&gt; Will saveAddress be rolled back if an exception occurs after saveAddress is executed\r\n\r\nDepends on if the transaction has been committed or not. So, if the exception happens *before* `doInsert` returns, yes. If it happens *after* `doInsert` returns, no.","title":"spring transaction method calls","body":"<blockquote>\n<p>Does a transaction method calling a transaction method in the same class cause the transaction to fail</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>Will saveAddress be rolled back if an exception occurs after saveAddress is executed</p>\n</blockquote>\n<p>Depends on if the transaction has been committed or not. So, if the exception happens <em>before</em> <code>doInsert</code> returns, yes. If it happens <em>after</em> <code>doInsert</code> returns, no.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906206,"creation_date":1686906206,"answer_id":76488607,"question_id":76488560,"body_markdown":"The transaction will start at the call to `doInsert` method and end on the returning from it. It doesn&#39;t matter if local methods will be called inside of this method. You can consider such methods the same way as code blocks inside of the method.\r\n\r\nIf a runtime exception occurs somewhere inside the transaction it will be rolled back. Otherwise it will be committed.","title":"spring transaction method calls","body":"<p>The transaction will start at the call to <code>doInsert</code> method and end on the returning from it. It doesn't matter if local methods will be called inside of this method. You can consider such methods the same way as code blocks inside of the method.</p>\n<p>If a runtime exception occurs somewhere inside the transaction it will be rolled back. Otherwise it will be committed.</p>\n"}],"owner":{"account_id":26587623,"reputation":1,"user_id":20211325,"display_name":"luochen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686906797,"creation_date":1686905809,"question_id":76488560,"body_markdown":"Does a transaction method calling a transaction method in the same class cause the transaction to fail.\r\nWill saveAddress be rolled back if an exception occurs after saveAddress is executed.\r\n[transaction invoke](https://i.stack.imgur.com/wwV2o.png)\r\nThe doInsert method is called by another class.","title":"spring transaction method calls","body":"<p>Does a transaction method calling a transaction method in the same class cause the transaction to fail.\nWill saveAddress be rolled back if an exception occurs after saveAddress is executed.\n<a href=\"https://i.stack.imgur.com/wwV2o.png\" rel=\"nofollow noreferrer\">transaction invoke</a>\nThe doInsert method is called by another class.</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1686317614,"post_id":76439609,"comment_id":134786293,"body_markdown":"Spring is only able to inject into instances that it created.  Your main class was not created by Spring, therefore Spring cannot inject into it.","body":"Spring is only able to inject into instances that it created.  Your main class was not created by Spring, therefore Spring cannot inject into it."},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1686317946,"post_id":76439609,"comment_id":134786392,"body_markdown":"@DwB, but my main class wasn&#39;t created by Spring when it is annotated as `@SpringBootApplication`? Also, if it&#39;s not, then how the `@Bean` methods are being called when launching the application?","body":"@DwB, but my main class wasn&#39;t created by Spring when it is annotated as <code>@SpringBootApplication</code>? Also, if it&#39;s not, then how the <code>@Bean</code> methods are being called when launching the application?"},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1686329241,"post_id":76439609,"comment_id":134788827,"body_markdown":"Does this answer your question? [Spring-Boot @Autowired in main class is getting null](https://stackoverflow.com/questions/31399924/spring-boot-autowired-in-main-class-is-getting-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31399924/spring-boot-autowired-in-main-class-is-getting-null\">Spring-Boot @Autowired in main class is getting null</a>"},{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1686381959,"post_id":76439609,"comment_id":134793813,"body_markdown":"I believe the issue is related to how you try to bootstrap your Spring Boot app within JFX Application. It isn&#39;t working. Check my answer here [How to bootstrap JavaFX application within Spring Boot application?](https://stackoverflow.com/questions/73462910/how-to-run-spring-boot-javafx-maven-project-with-java-17/75259080#75259080)","body":"I believe the issue is related to how you try to bootstrap your Spring Boot app within JFX Application. It isn&#39;t working. Check my answer here <a href=\"https://stackoverflow.com/questions/73462910/how-to-run-spring-boot-javafx-maven-project-with-java-17/75259080#75259080\">How to bootstrap JavaFX application within Spring Boot application?</a>"}],"answers":[{"tags":[],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686906265,"creation_date":1686906265,"answer_id":76488615,"question_id":76439609,"body_markdown":"Eventually, I couldn&#39;t find a solution for images but for SpringBootApplication issue found a solution [here][1] and did the following:\r\n\r\n\r\n    package com.client.service.rest;\r\n\r\n    @SpringBootApplication\r\n    public class DataApplication extends Application {\r\n        private static String[] args;\r\n\r\n        @Autowired\r\n        private ClientService client;\r\n\r\n        private ConfigurableApplicationContext context;\r\n\r\n        public static void main(String[] args) {\r\n            DataApplication.args = args;\r\n            Application.launch(DataApplication.class, args);\r\n        }\r\n\r\n        @Override\r\n        public void init() {\r\n            context = SpringApplication.run(getClass(), args);\r\n            context.getAutowireCapableBeanFactory().autowireBean(this);\r\n        }\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            Label lblMethod = new Label(&quot;Method&quot;);\r\n            ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\r\n                Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\r\n\r\n            Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\r\n            TextArea inputJson = new TextArea();\r\n\r\n            Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\r\n            TextArea outputJson = new TextArea();\r\n\r\n            Button btn = new Button(&quot;Send&quot;);\r\n            btn.setOnAction(event -&gt; {\r\n                Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\r\n                String inputJsonStr = inputJson.getText();\r\n                String outputJsonStr = &quot;&quot;;\r\n                Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n                outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\r\n                \r\n                outputJson.setText(outputJsonStr);\r\n            });\r\n\r\n            VBox layout= new VBox(5);\r\n\r\n            layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\r\n\r\n            StackPane root = new StackPane(layout);\r\n            root.setPadding(new Insets(5, 10, 10, 10));\r\n\r\n            primaryStage.setScene(new Scene(root, 800, 600));\r\n            primaryStage.setTitle(&quot;DataHub Client Service&quot;);\r\n        \r\n            primaryStage.show();\r\n        }\r\n\r\n        @Override\r\n        public void stop() throws Exception {\r\n            super.stop();\r\n            context.close();\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/ruslanys/sample-spring-boot-javafx/tree/master/src/main/java/ru/habrahabr","title":"Spring Boot @Autowired object is always null","body":"<p>Eventually, I couldn't find a solution for images but for SpringBootApplication issue found a solution <a href=\"https://github.com/ruslanys/sample-spring-boot-javafx/tree/master/src/main/java/ru/habrahabr\" rel=\"nofollow noreferrer\">here</a> and did the following:</p>\n<pre><code>package com.client.service.rest;\n\n@SpringBootApplication\npublic class DataApplication extends Application {\n    private static String[] args;\n\n    @Autowired\n    private ClientService client;\n\n    private ConfigurableApplicationContext context;\n\n    public static void main(String[] args) {\n        DataApplication.args = args;\n        Application.launch(DataApplication.class, args);\n    }\n\n    @Override\n    public void init() {\n        context = SpringApplication.run(getClass(), args);\n        context.getAutowireCapableBeanFactory().autowireBean(this);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Label lblMethod = new Label(&quot;Method&quot;);\n        ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\n            Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\n\n        Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\n        TextArea inputJson = new TextArea();\n\n        Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\n        TextArea outputJson = new TextArea();\n\n        Button btn = new Button(&quot;Send&quot;);\n        btn.setOnAction(event -&gt; {\n            Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\n            String inputJsonStr = inputJson.getText();\n            String outputJsonStr = &quot;&quot;;\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\n\n            outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\n            \n            outputJson.setText(outputJsonStr);\n        });\n\n        VBox layout= new VBox(5);\n\n        layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\n\n        StackPane root = new StackPane(layout);\n        root.setPadding(new Insets(5, 10, 10, 10));\n\n        primaryStage.setScene(new Scene(root, 800, 600));\n        primaryStage.setTitle(&quot;DataHub Client Service&quot;);\n    \n        primaryStage.show();\n    }\n\n    @Override\n    public void stop() throws Exception {\n        super.stop();\n        context.close();\n        System.exit(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488615,"answer_count":1,"score":0,"last_activity_date":1686906534,"creation_date":1686308421,"question_id":76439609,"body_markdown":"I have written a very small Spring Boot application in Java8 which should consume a REST web service.\r\n\r\nHere are the main classes:\r\n\r\n**application.properties**\r\n\r\n    api.url=https://rest-api.com\r\n\r\n**DataServiceConfiguration.java**\r\n\r\n    package com.client.service.rest;\r\n\r\n    @Configuration\r\n    public class DataHubServiceConfiguration {\r\n\r\n        public static final String URL_DELIMITER = &quot;/&quot;;\r\n\r\n        @Value(&quot;${api.url}&quot;)\r\n        private String apiUrl;\r\n\r\n        @Bean\r\n        public DataClientService dataClientService() {\r\n            DataClientService clientService = new DataClientService();\r\n            clientService.setApiUrl(apiUrl);\r\n            clientService.setRestTemplate(new RestTemplate());\r\n\r\n            return clientService;\r\n        }\r\n    }\r\n\r\n**ClientService.java**\r\n\r\n    package com.client.service.rest;\r\n\r\n    @Service\r\n    public class ClientService {\r\n\r\n        private String apiUrl;\r\n\r\n        @Autowired\r\n        private final RestTemplate restTemplate;\r\n\r\n        public ResponseDTO getData(RequestDTO request) {\r\n            String url = constructFullEndpoint(Endpoint.GET_DATA);\r\n            ResponseDTO data = restTemplate.getForObject(url, ResponseDTO.class, request);\r\n\r\n            return data;\r\n        }\r\n\r\n        public void setApiUrl(String apiUrl) {\r\n            this.apiUrl = apiUrl;\r\n        }\r\n\r\n        public void setRestTemplate(RestTemplate restTemplate) {\r\n            this.restTemplate = restTemplate;\r\n        }\r\n    \r\n        private String constructFullEndpoint(ApiEndpoint endpoint) {\r\n            return apiUrl + URL_DELIMITER + endpoint.getName();\r\n        }\r\n    }\r\n\r\n**DataApplication.java**\r\n\r\n    package com.client.service.rest;\r\n\r\n    @SpringBootApplication\r\n    public class DataApplication extends Application {\r\n        private static String[] args;\r\n\r\n        @Autowired\r\n        private ClientService client;\r\n\r\n        public static void main(String[] args) {\r\n            DataApplication.args = args;\r\n            Application.launch(DataApplication.class, args);\r\n        }\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            Label lblMethod = new Label(&quot;Method&quot;);\r\n            ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\r\n                Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\r\n\r\n            Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\r\n            TextArea inputJson = new TextArea();\r\n\r\n            Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\r\n            TextArea outputJson = new TextArea();\r\n\r\n            Button btn = new Button(&quot;Send&quot;);\r\n            btn.setOnAction(event -&gt; {\r\n                Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\r\n                String inputJsonStr = inputJson.getText();\r\n                String outputJsonStr = &quot;&quot;;\r\n                Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n                outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\r\n                    \r\n                outputJson.setText(outputJsonStr);\r\n            });\r\n\r\n            VBox layout= new VBox(5);\r\n\r\n            layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\r\n\r\n            StackPane root = new StackPane(layout);\r\n            root.setPadding(new Insets(5, 10, 10, 10));\r\n\r\n            primaryStage.setScene(new Scene(root, 800, 600));\r\n            primaryStage.setTitle(&quot;DataHub Client Service&quot;);\r\n            primaryStage.getIcons().add(new Image(DataApplication.class.getResourceAsStream(&quot;/logo.png&quot;)));\r\n            primaryStage.setOnCloseRequest(e -&gt; {\r\n                Platform.exit();\r\n                System.exit(0);\r\n            });\r\n\r\n            primaryStage.show();\r\n\r\n            new Thread(() -&gt; {\r\n                new SpringApplicationBuilder(DataApplication.class).run(args);\r\n            }, &quot;Spring Thread&quot;).start();\r\n        }\r\n    }\r\n\r\n\r\n**build.gradle fragment**\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        compile(&#39;org.springframework:spring-beans&#39;)\r\n        compile(&#39;org.springframework:spring-context&#39;)\r\n        compileOnly(&#39;org.projectlombok:lombok:1.18.26&#39;)\r\n        implementation(&#39;com.google.code.gson:gson:2.10.1&#39;)\r\n    }\r\n\r\napplication.properties file and logo.png image are located in resources folder.\r\n\r\n**Here are the problems I&#39;m facing with:**\r\n\r\n 1. When the application is run on MacOS the image isn&#39;t shown on the Dock. Even though I tried this solution as well:\r\n\r\n    URL iconURL = getClass().getResource(&quot;puzl_ogo.png&quot;);\r\n    java.awt.Image icon = new ImageIcon(iconURL).getImage();\r\n                                com.apple.eawt.Application.getApplication().setDockIconImage(icon); \r\n\r\nand run the application with `-XDignore.symbol.file`\r\n\r\n 2. The `@Autowired ClientService client;` is null even though during the application start I see that the @Bean method is being called and the objects are being instantiated.\r\n\r\n 3. When I manually instantiate the `client` it&#39;s restTemplate and apiUrl are null which is normal since manually created object is out of scope of Spring managed beans.\r\n\r\n\r\n**So my questions are:**\r\n 1. How to fix the icon issue for the Dock?\r\n 2. What&#39;s the problem with autowired fields and how to fix them?\r\n\r\n","title":"Spring Boot @Autowired object is always null","body":"<p>I have written a very small Spring Boot application in Java8 which should consume a REST web service.</p>\n<p>Here are the main classes:</p>\n<p><strong>application.properties</strong></p>\n<pre><code>api.url=https://rest-api.com\n</code></pre>\n<p><strong>DataServiceConfiguration.java</strong></p>\n<pre><code>package com.client.service.rest;\n\n@Configuration\npublic class DataHubServiceConfiguration {\n\n    public static final String URL_DELIMITER = &quot;/&quot;;\n\n    @Value(&quot;${api.url}&quot;)\n    private String apiUrl;\n\n    @Bean\n    public DataClientService dataClientService() {\n        DataClientService clientService = new DataClientService();\n        clientService.setApiUrl(apiUrl);\n        clientService.setRestTemplate(new RestTemplate());\n\n        return clientService;\n    }\n}\n</code></pre>\n<p><strong>ClientService.java</strong></p>\n<pre><code>package com.client.service.rest;\n\n@Service\npublic class ClientService {\n\n    private String apiUrl;\n\n    @Autowired\n    private final RestTemplate restTemplate;\n\n    public ResponseDTO getData(RequestDTO request) {\n        String url = constructFullEndpoint(Endpoint.GET_DATA);\n        ResponseDTO data = restTemplate.getForObject(url, ResponseDTO.class, request);\n\n        return data;\n    }\n\n    public void setApiUrl(String apiUrl) {\n        this.apiUrl = apiUrl;\n    }\n\n    public void setRestTemplate(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    private String constructFullEndpoint(ApiEndpoint endpoint) {\n        return apiUrl + URL_DELIMITER + endpoint.getName();\n    }\n}\n</code></pre>\n<p><strong>DataApplication.java</strong></p>\n<pre><code>package com.client.service.rest;\n\n@SpringBootApplication\npublic class DataApplication extends Application {\n    private static String[] args;\n\n    @Autowired\n    private ClientService client;\n\n    public static void main(String[] args) {\n        DataApplication.args = args;\n        Application.launch(DataApplication.class, args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Label lblMethod = new Label(&quot;Method&quot;);\n        ChoiceBox&lt;String&gt; method = new ChoiceBox&lt;&gt;(FXCollections.observableArrayList(\n            Arrays.stream(Endpoint.values()).map(Endpoint :: getName).collect(Collectors.toList())));\n\n        Label lblInputJson = new Label(&quot;Request (JSON)&quot;);\n        TextArea inputJson = new TextArea();\n\n        Label lblOutputJson = new Label(&quot;Response (JSON)&quot;);\n        TextArea outputJson = new TextArea();\n\n        Button btn = new Button(&quot;Send&quot;);\n        btn.setOnAction(event -&gt; {\n            Endpoint endpoint =   Endpoint.getByName(method.getSelectionModel().getSelectedItem());\n            String inputJsonStr = inputJson.getText();\n            String outputJsonStr = &quot;&quot;;\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\n\n            outputJsonStr = gson.toJson(client.getData(gson.fromJson(inputJsonStr, RequestDTO.class)));\n                \n            outputJson.setText(outputJsonStr);\n        });\n\n        VBox layout= new VBox(5);\n\n        layout.getChildren().addAll(lblMethod, method, lblInputJson, inputJson, lblOutputJson, outputJson, btn);\n\n        StackPane root = new StackPane(layout);\n        root.setPadding(new Insets(5, 10, 10, 10));\n\n        primaryStage.setScene(new Scene(root, 800, 600));\n        primaryStage.setTitle(&quot;DataHub Client Service&quot;);\n        primaryStage.getIcons().add(new Image(DataApplication.class.getResourceAsStream(&quot;/logo.png&quot;)));\n        primaryStage.setOnCloseRequest(e -&gt; {\n            Platform.exit();\n            System.exit(0);\n        });\n\n        primaryStage.show();\n\n        new Thread(() -&gt; {\n            new SpringApplicationBuilder(DataApplication.class).run(args);\n        }, &quot;Spring Thread&quot;).start();\n    }\n}\n</code></pre>\n<p><strong>build.gradle fragment</strong></p>\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile('org.springframework:spring-beans')\n    compile('org.springframework:spring-context')\n    compileOnly('org.projectlombok:lombok:1.18.26')\n    implementation('com.google.code.gson:gson:2.10.1')\n}\n</code></pre>\n<p>application.properties file and logo.png image are located in resources folder.</p>\n<p><strong>Here are the problems I'm facing with:</strong></p>\n<ol>\n<li><p>When the application is run on MacOS the image isn't shown on the Dock. Even though I tried this solution as well:</p>\n<p>URL iconURL = getClass().getResource(&quot;puzl_ogo.png&quot;);\njava.awt.Image icon = new ImageIcon(iconURL).getImage();\ncom.apple.eawt.Application.getApplication().setDockIconImage(icon);</p>\n</li>\n</ol>\n<p>and run the application with <code>-XDignore.symbol.file</code></p>\n<ol start=\"2\">\n<li><p>The <code>@Autowired ClientService client;</code> is null even though during the application start I see that the @Bean method is being called and the objects are being instantiated.</p>\n</li>\n<li><p>When I manually instantiate the <code>client</code> it's restTemplate and apiUrl are null which is normal since manually created object is out of scope of Spring managed beans.</p>\n</li>\n</ol>\n<p><strong>So my questions are:</strong></p>\n<ol>\n<li>How to fix the icon issue for the Dock?</li>\n<li>What's the problem with autowired fields and how to fix them?</li>\n</ol>\n"},{"tags":["java","eclipse","autocomplete","shortcut"],"comments":[{"owner":{"account_id":105131,"reputation":5028,"user_id":280698,"accept_rate":95,"display_name":"F. P."},"score":0,"creation_date":1300486729,"post_id":5358385,"comment_id":6053256,"body_markdown":"http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/heliossr2 is this what you have? The Java version? Not classic eclipse or some other stuff.","body":"<a href=\"http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/heliossr2\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/eclipse-ide-java-developers/&hellip;</a> is this what you have? The Java version? Not classic eclipse or some other stuff."},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300486912,"post_id":5358385,"comment_id":6053279,"body_markdown":"Eclipse IDE for Java Developers\n\nVersion: Helios Service Release 2\nBuild id: 20110218-0911","body":"Eclipse IDE for Java Developers  Version: Helios Service Release 2 Build id: 20110218-0911"},{"owner":{"account_id":105131,"reputation":5028,"user_id":280698,"accept_rate":95,"display_name":"F. P."},"score":0,"creation_date":1300487078,"post_id":5358385,"comment_id":6053305,"body_markdown":"Mine also doesn&#39;t autocomplete that particular string. Usually it goes like Sys(auto-complete).out.pr(auto-complete)()","body":"Mine also doesn&#39;t autocomplete that particular string. Usually it goes like Sys(auto-complete).out.pr(auto-complete)()"},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300487242,"post_id":5358385,"comment_id":6053321,"body_markdown":"You mean it&#39;s a problem with this Eclipse version? It worked in Galileo and previous...","body":"You mean it&#39;s a problem with this Eclipse version? It worked in Galileo and previous..."},{"owner":{"account_id":17299,"reputation":7078,"user_id":38611,"accept_rate":88,"display_name":"jbasko"},"score":0,"creation_date":1300487422,"post_id":5358385,"comment_id":6053341,"body_markdown":"Have you recently installed any tools that could be catching that keyboard shortcut?","body":"Have you recently installed any tools that could be catching that keyboard shortcut?"},{"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"score":0,"creation_date":1300487596,"post_id":5358385,"comment_id":6053369,"body_markdown":"Autocompletion works. It completes for everything I tried so far, except &quot;syso&quot;.","body":"Autocompletion works. It completes for everything I tried so far, except &quot;syso&quot;."},{"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"score":0,"creation_date":1300487869,"post_id":5358385,"comment_id":6053413,"body_markdown":"please see my answer, i don&#39;t see why all these invalid comments... this is a good question and has an answer","body":"please see my answer, i don&#39;t see why all these invalid comments... this is a good question and has an answer"}],"answers":[{"tags":[],"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1300487567,"creation_date":1300487567,"answer_id":5358447,"question_id":5358385,"body_markdown":"I believe the right template is &quot;sysout&quot; and I believe this can be configured somewhere but could not tell you where. Try sysout and then Ctrl+Space\r\nIt&#39;s a template, you can find all templates under \r\n\r\nWindow -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Templates\r\n\r\nThere you can see that the template name is &quot;sysout&quot; this will then trigger the string substitution for System.out.writeln() but you can change both the template name (if you prefer syso) and/or the actual code produced by invoking the template\r\n\r\nCheers","title":"Eclipse autocompletion problem","body":"<p>I believe the right template is \"sysout\" and I believe this can be configured somewhere but could not tell you where. Try sysout and then Ctrl+Space\nIt's a template, you can find all templates under </p>\n\n<p>Window -> Preferences -> Java -> Editor -> Templates</p>\n\n<p>There you can see that the template name is \"sysout\" this will then trigger the string substitution for System.out.writeln() but you can change both the template name (if you prefer syso) and/or the actual code produced by invoking the template</p>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":75829,"reputation":2623,"user_id":217389,"accept_rate":89,"display_name":"Bill"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1300488079,"creation_date":1300488079,"answer_id":5358506,"question_id":5358385,"body_markdown":"As Peter stated, it is under Window -&gt; Java -&gt; editor -&gt; templates. \nLook for the line with the following values.\n\n**sysout** &quot;Java Statements&quot; &quot;Print to standard out&quot; &quot;on&quot;\n\n  the preview should be as follows...\n\n    System.out.println(${word_selection}${});${cursor}\n\n","title":"Eclipse autocompletion problem","body":"<p>As Peter stated, it is under Window -&gt; Java -&gt; editor -&gt; templates.\nLook for the line with the following values.</p>\n<p><strong>sysout</strong> &quot;Java Statements&quot; &quot;Print to standard out&quot; &quot;on&quot;</p>\n<p>the preview should be as follows...</p>\n<pre><code>System.out.println(${word_selection}${});${cursor}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242679,"reputation":717,"user_id":514350,"accept_rate":67,"display_name":"PraveenMax"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1316848070,"creation_date":1316848070,"answer_id":7537608,"question_id":5358385,"body_markdown":"If you still cant get auto-completion working,try enabling the **Template proposals** under **Content assist** menu.This is the exact location,\r\n\r\n    Windows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Content Assist-&gt;Advanced\r\nAnd make sure you have only one entry for **syso**(Under **Templates** menu).\r\n","title":"Eclipse autocompletion problem","body":"<p>If you still cant get auto-completion working,try enabling the <strong>Template proposals</strong> under <strong>Content assist</strong> menu.This is the exact location,</p>\n\n<pre><code>Windows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Content Assist-&gt;Advanced\n</code></pre>\n\n<p>And make sure you have only one entry for <strong>syso</strong>(Under <strong>Templates</strong> menu).</p>\n"},{"tags":[],"owner":{"account_id":447918,"reputation":2768,"user_id":841828,"accept_rate":54,"display_name":"mwengler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331930868,"creation_date":1331930868,"answer_id":9744325,"question_id":5358385,"body_markdown":"Your cursor needs to be located in a place where it would be legal to get that line.  If your cursor is within a method definition and you type syso &lt;ctl-space&gt; you will get the replacement.  However if your cursor is in the portion of the text outside of any method definition, say where you declare variables for your class for instance, then syso will not suggest the illegal line system.output.println();.  \r\n\r\nI had this problem, read all the answers here, became convinced that it MUST be working in my copy, and realized I had been typing syso BELOW the closing } of my last method instead of in the method.  \r\n\r\nEclipse on!","title":"Eclipse autocompletion problem","body":"<p>Your cursor needs to be located in a place where it would be legal to get that line.  If your cursor is within a method definition and you type syso  you will get the replacement.  However if your cursor is in the portion of the text outside of any method definition, say where you declare variables for your class for instance, then syso will not suggest the illegal line system.output.println();.  </p>\n\n<p>I had this problem, read all the answers here, became convinced that it MUST be working in my copy, and realized I had been typing syso BELOW the closing } of my last method instead of in the method.  </p>\n\n<p>Eclipse on!</p>\n"},{"tags":[],"owner":{"account_id":1609830,"reputation":1,"user_id":1489167,"display_name":"Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350693990,"creation_date":1340899713,"answer_id":11248646,"question_id":5358385,"body_markdown":"Also check in this eclipse menu:\r\nWindows -&gt; Preferences -&gt; Java -&gt; Appearance -&gt; Type Filters\r\n\r\nIf you see `java.*` or `javax.*` here then try removing it (or Restore Default will do the job) and see that works, it did for me.","title":"Eclipse autocompletion problem","body":"<p>Also check in this eclipse menu:\nWindows -> Preferences -> Java -> Appearance -> Type Filters</p>\n\n<p>If you see <code>java.*</code> or <code>javax.*</code> here then try removing it (or Restore Default will do the job) and see that works, it did for me.</p>\n"},{"tags":[],"owner":{"account_id":2265360,"reputation":436,"user_id":1994206,"display_name":"cfh008"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358667870,"creation_date":1358666297,"answer_id":14422502,"question_id":5358385,"body_markdown":"You may try to set the shortcut of Content Assist with ALT+L, if it works, then you can choose your favorite shortcut again. (The shortcut Ctrl+Space conflicts with the shortcut of switching input method). In eclipse on linux, the shortcut of Word Completion is ALT+/, so if you set this as the shortcut of Content Assist it also conflicts.)","title":"Eclipse autocompletion problem","body":"<p>You may try to set the shortcut of Content Assist with ALT+L, if it works, then you can choose your favorite shortcut again. (The shortcut Ctrl+Space conflicts with the shortcut of switching input method). In eclipse on linux, the shortcut of Word Completion is ALT+/, so if you set this as the shortcut of Content Assist it also conflicts.)</p>\n"},{"tags":[],"owner":{"account_id":1596102,"reputation":233,"user_id":1478187,"accept_rate":0,"display_name":"Mayank Nema"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405665459,"creation_date":1405665459,"answer_id":24818636,"question_id":5358385,"body_markdown":"Just go to the below address:\r\n\r\nWindows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Content Assist-&gt;Advanced\r\n\r\nand click restore default..........that&#39;s all \r\n\r\nits work like a charm again.","title":"Eclipse autocompletion problem","body":"<p>Just go to the below address:</p>\n\n<p>Windows->Preferences->Java->Editor->Content Assist->Advanced</p>\n\n<p>and click restore default..........that's all </p>\n\n<p>its work like a charm again.</p>\n"},{"tags":[],"owner":{"account_id":4979049,"reputation":251,"user_id":4004588,"display_name":"Georgi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410446462,"creation_date":1410446462,"answer_id":25790415,"question_id":5358385,"body_markdown":"Just found the solution for Eclipse Luna: write syso and press CTRL+Space and click on &quot;enable intelligent code completion&quot; and you are set.\r\nI am sure you can find it somewhere in the options as well but this way it is fast and easy!","title":"Eclipse autocompletion problem","body":"<p>Just found the solution for Eclipse Luna: write syso and press CTRL+Space and click on \"enable intelligent code completion\" and you are set.\nI am sure you can find it somewhere in the options as well but this way it is fast and easy!</p>\n"},{"tags":[],"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418090889,"creation_date":1418090889,"answer_id":27370345,"question_id":5358385,"body_markdown":"DIRTY WORKAROUND:\r\nYou can try out the following AutoHotkey-Code if you&#39;re still struggling like I am (STILL haven&#39;t been able to fix it myself)\r\n\r\n    #persistent\r\n    #ifwinactive ahk_class SWT_Window0\t; eclipse java\r\n    :*:syso::\r\n    sendraw System.out.println()`;\r\n    loop, 2\r\n    \tsend {left}\r\n    return\r\n    #ifwinactive\r\n\r\nYou need to write this in a .ahk file and run it (AutoHotkey needs to be installed). You might wanna put this file into your startup folder. It&#39;s a very useful tool, you might wanna expand it one day.","title":"Eclipse autocompletion problem","body":"<p>DIRTY WORKAROUND:\nYou can try out the following AutoHotkey-Code if you're still struggling like I am (STILL haven't been able to fix it myself)</p>\n\n<pre><code>#persistent\n#ifwinactive ahk_class SWT_Window0  ; eclipse java\n:*:syso::\nsendraw System.out.println()`;\nloop, 2\n    send {left}\nreturn\n#ifwinactive\n</code></pre>\n\n<p>You need to write this in a .ahk file and run it (AutoHotkey needs to be installed). You might wanna put this file into your startup folder. It's a very useful tool, you might wanna expand it one day.</p>\n"},{"tags":[],"owner":{"account_id":5394351,"reputation":1,"user_id":4344591,"display_name":"&#214;mer Sadık Ayta&#231;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418307997,"creation_date":1418307619,"answer_id":27425041,"question_id":5358385,"body_markdown":"You might have overlapping shortcuts..  Goto &#39;Overview&#39; than the &#39;Keys&#39; subsection. Type &quot;ctrl +space&quot; in the &#39;filter text&#39; section.  You should see the &quot;content assist&quot; and probably another command with the same shortcut.  If another shortcut does exists, change its shortcut to something else.","title":"Eclipse autocompletion problem","body":"<p>You might have overlapping shortcuts..  Goto 'Overview' than the 'Keys' subsection. Type \"ctrl +space\" in the 'filter text' section.  You should see the \"content assist\" and probably another command with the same shortcut.  If another shortcut does exists, change its shortcut to something else.</p>\n"},{"tags":[],"owner":{"account_id":2546543,"reputation":41,"user_id":2211240,"display_name":"Binay Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437894676,"creation_date":1437894676,"answer_id":31634584,"question_id":5358385,"body_markdown":"I am using Eclipse Galileo and had the same problem. Even after trying the above proposed solutions but it didn&#39;t work. After making the below change it finally comes out.\r\n\r\n1. Go to  Windows-&gt;Preferences-&gt;Java-&gt;Editor-&gt;Templates\r\n2. Select sysout template and edit it.\r\n3. Change the context from Java statement to Java.\r\n\r\nAnd it worked for me. I hope this will be helpful for you. ","title":"Eclipse autocompletion problem","body":"<p>I am using Eclipse Galileo and had the same problem. Even after trying the above proposed solutions but it didn't work. After making the below change it finally comes out.</p>\n\n<ol>\n<li>Go to  Windows->Preferences->Java->Editor->Templates</li>\n<li>Select sysout template and edit it.</li>\n<li>Change the context from Java statement to Java.</li>\n</ol>\n\n<p>And it worked for me. I hope this will be helpful for you. </p>\n"},{"tags":[],"owner":{"account_id":28832952,"reputation":1,"user_id":22082978,"display_name":"Ronald Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906521,"creation_date":1686906521,"answer_id":76488644,"question_id":5358385,"body_markdown":"Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Templates &gt; \r\n\r\nScroll down to **sysout** in the Name column\r\n To change the shortcut to syso click on the name and change sysout to syso manually\r\n\r\nScroll down to **sysout** in Context column \r\n To make the shortcut active change the Context for sysout to Java.\r\n\r\nYour welcome :) ","title":"Eclipse autocompletion problem","body":"<p>Go to Windows &gt; Preferences &gt; Java &gt; Editor &gt; Templates &gt;</p>\n<p>Scroll down to <strong>sysout</strong> in the Name column\nTo change the shortcut to syso click on the name and change sysout to syso manually</p>\n<p>Scroll down to <strong>sysout</strong> in Context column\nTo make the shortcut active change the Context for sysout to Java.</p>\n<p>Your welcome :)</p>\n"}],"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42312,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":12,"score":15,"last_activity_date":1686906521,"creation_date":1300486662,"question_id":5358385,"body_markdown":"Just installed Eclipse Helios (Win7 64) and I&#39;m having a strange problem. I type syso-Ctrl-Space which is expected to complete to System.out.println(&quot;&quot;) but it doesn&#39;t work! I searched the web for about an hour now, I set Preferences &gt; Java &gt; Editor &gt; Content Assist to defaults, nothing. Everything else seems to work. Ideas?\r\n&lt;br&gt;\r\nTo be clear: the shortcut works, it completes everything except &quot;syso&quot; as seen so far, on syso (also tried sysout) it says &quot;No Default Proposals&quot;. I couldn&#39;t find this kind of shortcuts in the Content Assist, but I set them to default anyway.","title":"Eclipse autocompletion problem","body":"<p>Just installed Eclipse Helios (Win7 64) and I'm having a strange problem. I type syso-Ctrl-Space which is expected to complete to System.out.println(\"\") but it doesn't work! I searched the web for about an hour now, I set Preferences > Java > Editor > Content Assist to defaults, nothing. Everything else seems to work. Ideas?\n<br>\nTo be clear: the shortcut works, it completes everything except \"syso\" as seen so far, on syso (also tried sysout) it says \"No Default Proposals\". I couldn't find this kind of shortcuts in the Content Assist, but I set them to default anyway.</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1686759710,"post_id":76474999,"comment_id":134844418,"body_markdown":"I am not sure what you want to achieve but any attempt like `//ELEMENT[@elementId&gt;0]/text()/GROUPS` doesn&#39;t make sense, text nodes (selected with `text()`) are always leaf nodes so they never have any child nodes like `text()/GROUPS` tries to select.","body":"I am not sure what you want to achieve but any attempt like <code>&#47;&#47;ELEMENT[@elementId&gt;0]&#47;text()&#47;GROUPS</code> doesn&#39;t make sense, text nodes (selected with <code>text()</code>) are always leaf nodes so they never have any child nodes like <code>text()&#47;GROUPS</code> tries to select."},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1686759956,"post_id":76474999,"comment_id":134844467,"body_markdown":"thanks @Martin Honnen, I know the syntax not correct. Im trying to get  for example in elementId=&quot;8&quot; , the actual number 8 and all ids under GROUPS means id=&quot;1&quot; and 16&quot;.  Also for all other elements(create kind of map) it can be done later by code","body":"thanks @Martin Honnen, I know the syntax not correct. Im trying to get  for example in elementId=&quot;8&quot; , the actual number 8 and all ids under GROUPS means id=&quot;1&quot; and 16&quot;.  Also for all other elements(create kind of map) it can be done later by code"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1686760998,"post_id":76474999,"comment_id":134844687,"body_markdown":"Are you open to using other libraries such as Jsoup?","body":"Are you open to using other libraries such as Jsoup?"},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1686767533,"post_id":76474999,"comment_id":134845959,"body_markdown":"no , only org.apache.xpath.CachedXPathAPI","body":"no , only org.apache.xpath.CachedXPathAPI"},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1686767948,"post_id":76474999,"comment_id":134846025,"body_markdown":"and also groovy.util.XmlParser. example: new XmlParser().parseText(doc)","body":"and also groovy.util.XmlParser. example: new XmlParser().parseText(doc)"}],"answers":[{"tags":[],"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686760754,"creation_date":1686760754,"answer_id":76475792,"question_id":76474999,"body_markdown":"The solution you are looking for requires XPath 2.0 functionality.  \r\nIf you really want to realize this in one XPath 2.0 expression, the solution is\r\n\r\n    string-join(for $item in /ITEM/ELEMENT[@elementId&gt;0] return concat(&#39;{&amp;quot;&#39;,$item/@elementId,&#39;&amp;quot; : [&#39;, string-join(for $grp in $item/GROUPS/GROUP return $grp/@id,&#39;, &#39;),&#39;]}&#39;),&#39;&amp;#xa;&#39;)\r\n\r\nAnd its output is\r\n\r\n    {&quot;4&quot; : []}\r\n    {&quot;7&quot; : [0, 1, 5]}\r\n    {&quot;8&quot; : [1, 16]}\r\n\r\nWith XPath version 1.0 (supported by Java) you&#39;d have to split that expression into several sub-queries/loops.","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>The solution you are looking for requires XPath 2.0 functionality.<br />\nIf you really want to realize this in one XPath 2.0 expression, the solution is</p>\n<pre><code>string-join(for $item in /ITEM/ELEMENT[@elementId&gt;0] return concat('{&amp;quot;',$item/@elementId,'&amp;quot; : [', string-join(for $grp in $item/GROUPS/GROUP return $grp/@id,', '),']}'),'&amp;#xa;')\n</code></pre>\n<p>And its output is</p>\n<pre><code>{&quot;4&quot; : []}\n{&quot;7&quot; : [0, 1, 5]}\n{&quot;8&quot; : [1, 16]}\n</code></pre>\n<p>With XPath version 1.0 (supported by Java) you'd have to split that expression into several sub-queries/loops.</p>\n"},{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686875040,"creation_date":1686796286,"answer_id":76478700,"question_id":76474999,"body_markdown":"I assume when you talk about &quot;mapping&quot; that you have a particular element identifier in mind and you want to query the document and retrieve the identifiers of groups that corresponding to the element. \r\n\r\nIn this example I&#39;m querying for the identifiers of groups belonging to element 7.\r\n```xpath\r\n//ELEMENT[@elementId=&#39;7&#39;]/GROUPS/GROUP/@id\r\n```\r\nThis means:\r\n\r\nCreate the set of every `ELEMENT` in the document, filter the set to include only those nodes which have an `elementId` attribute equal to `7`, then find the `GROUPS` child elements of that set of `ELEMENT` nodes, the `GROUP` child elements of those `GROUPS` elements, and finally the `id` attributes of those `GROUP` elements.","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>I assume when you talk about &quot;mapping&quot; that you have a particular element identifier in mind and you want to query the document and retrieve the identifiers of groups that corresponding to the element.</p>\n<p>In this example I'm querying for the identifiers of groups belonging to element 7.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>//ELEMENT[@elementId='7']/GROUPS/GROUP/@id\n</code></pre>\n<p>This means:</p>\n<p>Create the set of every <code>ELEMENT</code> in the document, filter the set to include only those nodes which have an <code>elementId</code> attribute equal to <code>7</code>, then find the <code>GROUPS</code> child elements of that set of <code>ELEMENT</code> nodes, the <code>GROUP</code> child elements of those <code>GROUPS</code> elements, and finally the <code>id</code> attributes of those <code>GROUP</code> elements.</p>\n"},{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906454,"creation_date":1686906454,"answer_id":76488635,"question_id":76474999,"body_markdown":"If you can switch from the Apache library to the Saxon library which supports XPath 3.1, you can define and execute an XPath whose return value is a map, containing keys which are the `ELEMENT` identifiers, and whose corresponding values are arrays of `GROUP` identifiers:\r\n\r\n```xpath\r\nmap:merge(\r\n   //ELEMENT/map:entry(\r\n      @elementId/string(), \r\n      array{GROUPS/GROUP/@id/string()}\r\n   )\r\n)\r\n```\r\nRead the above expression as:\r\nFor every `ELEMENT` in the document, call the `map:entry` function to create a map with a single key equal to the string value of the `ELEMENT`&#39;s `elementId` attribute, and a value equal to an array containing the string values of the `ELEMENT`&#39;s `GROUPS/GROUP/@id` attributes, and then merge these maps into a single map.\r\n\r\nThis data structure will be returned to you back in Java-land as a Java `Map` whose keys are `String` objects and whose values are arrays of `String` objects. i.e.\r\n\r\n```\r\n{\r\n  &quot;4&quot;: [],\r\n  &quot;7&quot;: [\r\n    &quot;0&quot;,\r\n    &quot;1&quot;,\r\n    &quot;5&quot;\r\n  ],\r\n  &quot;8&quot;: [\r\n    &quot;1&quot;,\r\n    &quot;16&quot;\r\n  ]\r\n}\r\n```\r\nHere&#39;s a [demo][1] in the form of an XSLT fiddle\r\n\r\n\r\n  [1]: https://martin-honnen.github.io/xpath31fiddle/?xpath=map%3Amerge%28%2F%2FELEMENT%2Fmap%3Aentry%28%40elementId%2Fstring%28%29%2C%20array%7BGROUPS%2FGROUP%2F%40id%2Fstring%28%29%7D%29%29&amp;input=%3CITEM%20type%3D%22DTD%22%20sub_type%3D%22T_AAAAAA%22%3E%0A%20%20%3CELEMENT%20elementId%3D%224%22%20print%3D%22no%22%20mail%3D%22no%22%20tabSortIndex%3D%220%22%3E%0A%20%20%20%20%3CADD_TO_HOME_PAGE_2%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22ADD_TO_HOMEPAGE_2_TEXT%22%20%2F%3E%0A%20%20%20%20%3C%2FADD_TO_HOME_PAGE_2%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20tabId%3D%221%22%20elementId%3D%227%22%3E%0A%20%20%20%20%3CEDITOR_FIELD%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_E1%22%20%2F%3E%0A%20%20%20%20%3C%2FEDITOR_FIELD%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%220%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%225%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20elementId%3D%228%22%20tabId%3D%221%22%20mail%3D%22no%22%3E%0A%20%20%20%20%3CPHONE%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_F1%22%20%2F%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22display_as_link%22%20value%3D%22no%22%20%2F%3E%0A%20%20%20%20%3C%2FPHONE%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%2216%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%3C%2FITEM%3E%0A&amp;input-type=XML","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>If you can switch from the Apache library to the Saxon library which supports XPath 3.1, you can define and execute an XPath whose return value is a map, containing keys which are the <code>ELEMENT</code> identifiers, and whose corresponding values are arrays of <code>GROUP</code> identifiers:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>map:merge(\n   //ELEMENT/map:entry(\n      @elementId/string(), \n      array{GROUPS/GROUP/@id/string()}\n   )\n)\n</code></pre>\n<p>Read the above expression as:\nFor every <code>ELEMENT</code> in the document, call the <code>map:entry</code> function to create a map with a single key equal to the string value of the <code>ELEMENT</code>'s <code>elementId</code> attribute, and a value equal to an array containing the string values of the <code>ELEMENT</code>'s <code>GROUPS/GROUP/@id</code> attributes, and then merge these maps into a single map.</p>\n<p>This data structure will be returned to you back in Java-land as a Java <code>Map</code> whose keys are <code>String</code> objects and whose values are arrays of <code>String</code> objects. i.e.</p>\n<pre><code>{\n  &quot;4&quot;: [],\n  &quot;7&quot;: [\n    &quot;0&quot;,\n    &quot;1&quot;,\n    &quot;5&quot;\n  ],\n  &quot;8&quot;: [\n    &quot;1&quot;,\n    &quot;16&quot;\n  ]\n}\n</code></pre>\n<p>Here's a <a href=\"https://martin-honnen.github.io/xpath31fiddle/?xpath=map%3Amerge%28%2F%2FELEMENT%2Fmap%3Aentry%28%40elementId%2Fstring%28%29%2C%20array%7BGROUPS%2FGROUP%2F%40id%2Fstring%28%29%7D%29%29&amp;input=%3CITEM%20type%3D%22DTD%22%20sub_type%3D%22T_AAAAAA%22%3E%0A%20%20%3CELEMENT%20elementId%3D%224%22%20print%3D%22no%22%20mail%3D%22no%22%20tabSortIndex%3D%220%22%3E%0A%20%20%20%20%3CADD_TO_HOME_PAGE_2%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22ADD_TO_HOMEPAGE_2_TEXT%22%20%2F%3E%0A%20%20%20%20%3C%2FADD_TO_HOME_PAGE_2%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20tabId%3D%221%22%20elementId%3D%227%22%3E%0A%20%20%20%20%3CEDITOR_FIELD%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_E1%22%20%2F%3E%0A%20%20%20%20%3C%2FEDITOR_FIELD%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%220%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%225%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%20%20%3CELEMENT%20elementId%3D%228%22%20tabId%3D%221%22%20mail%3D%22no%22%3E%0A%20%20%20%20%3CPHONE%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22name%22%20value%3D%22E_F1%22%20%2F%3E%0A%20%20%20%20%20%20%3CPARAM%20name%3D%22display_as_link%22%20value%3D%22no%22%20%2F%3E%0A%20%20%20%20%3C%2FPHONE%3E%0A%20%20%20%20%3CGROUPS%20mode%3D%22whitelist%22%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%221%22%20%2F%3E%0A%20%20%20%20%20%20%3CGROUP%20id%3D%2216%22%20%2F%3E%0A%20%20%20%20%3C%2FGROUPS%3E%0A%20%20%3C%2FELEMENT%3E%0A%3C%2FITEM%3E%0A&amp;input-type=XML\" rel=\"nofollow noreferrer\">demo</a> in the form of an XSLT fiddle</p>\n"}],"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686906454,"creation_date":1686755207,"question_id":76474999,"body_markdown":"Trying to parse XML with xpath and create map between ELEMENT elementId id and their group id list as in the picture below\r\n\r\n\r\n    &lt;ITEM type=&quot;DTD&quot; sub_type=&quot;T_AAAAAA&quot;&gt;\r\n      &lt;ELEMENT elementId=&quot;4&quot; print=&quot;no&quot; mail=&quot;no&quot; tabSortIndex=&quot;0&quot;&gt;\r\n        &lt;ADD_TO_HOME_PAGE_2&gt;\r\n          &lt;PARAM name=&quot;name&quot; value=&quot;ADD_TO_HOMEPAGE_2_TEXT&quot; /&gt;\r\n        &lt;/ADD_TO_HOME_PAGE_2&gt;\r\n      &lt;/ELEMENT&gt;\r\n      &lt;ELEMENT tabId=&quot;1&quot; elementId=&quot;7&quot;&gt;\r\n        &lt;EDITOR_FIELD&gt;\r\n          &lt;PARAM name=&quot;name&quot; value=&quot;E_E1&quot; /&gt;\r\n        &lt;/EDITOR_FIELD&gt;\r\n        &lt;GROUPS mode=&quot;whitelist&quot;&gt;\r\n          &lt;GROUP id=&quot;0&quot; /&gt;\r\n          &lt;GROUP id=&quot;1&quot; /&gt;\r\n          &lt;GROUP id=&quot;5&quot; /&gt;\r\n        &lt;/GROUPS&gt;\r\n      &lt;/ELEMENT&gt;\r\n      &lt;ELEMENT elementId=&quot;8&quot; tabId=&quot;1&quot; mail=&quot;no&quot;&gt;\r\n        &lt;PHONE&gt;\r\n          &lt;PARAM name=&quot;name&quot; value=&quot;E_F1&quot; /&gt;\r\n          &lt;PARAM name=&quot;display_as_link&quot; value=&quot;no&quot; /&gt;\r\n        &lt;/PHONE&gt;\r\n        &lt;GROUPS mode=&quot;whitelist&quot;&gt;\r\n          &lt;GROUP id=&quot;1&quot; /&gt;\r\n          &lt;GROUP id=&quot;16&quot; /&gt;\r\n        &lt;/GROUPS&gt;\r\n      &lt;/ELEMENT&gt;\r\n    &lt;/ITEM&gt;\r\n\r\n\r\nThe element id is dynamic and changed I&#39;ve tried this \r\n\r\n     &quot;//ELEMENT[@elementId&gt;0]/text()/GROUPS/GROUP[@id]/text()&quot;\r\n\r\n\r\nbut it gives me null\r\n\r\nBasically I want to map between `[@elementId&gt;0]` to array of `/GROUPS/GROUP[@id]`\r\n\r\n\r\nexample for output\r\n\r\n for element 7 =&gt; `{&quot;7&quot; : [0,1,2,5]}`\r\n\r\n for element 8 =&gt; `{&quot;8&quot; : [1,16]}`\r\n\r\nP.S - I use `org.apache.xpath.CachedXPathAPI` library in JAVA \r\n","title":"How parse dynamic element attribute and their values in XML using XPATH","body":"<p>Trying to parse XML with xpath and create map between ELEMENT elementId id and their group id list as in the picture below</p>\n<pre><code>&lt;ITEM type=&quot;DTD&quot; sub_type=&quot;T_AAAAAA&quot;&gt;\n  &lt;ELEMENT elementId=&quot;4&quot; print=&quot;no&quot; mail=&quot;no&quot; tabSortIndex=&quot;0&quot;&gt;\n    &lt;ADD_TO_HOME_PAGE_2&gt;\n      &lt;PARAM name=&quot;name&quot; value=&quot;ADD_TO_HOMEPAGE_2_TEXT&quot; /&gt;\n    &lt;/ADD_TO_HOME_PAGE_2&gt;\n  &lt;/ELEMENT&gt;\n  &lt;ELEMENT tabId=&quot;1&quot; elementId=&quot;7&quot;&gt;\n    &lt;EDITOR_FIELD&gt;\n      &lt;PARAM name=&quot;name&quot; value=&quot;E_E1&quot; /&gt;\n    &lt;/EDITOR_FIELD&gt;\n    &lt;GROUPS mode=&quot;whitelist&quot;&gt;\n      &lt;GROUP id=&quot;0&quot; /&gt;\n      &lt;GROUP id=&quot;1&quot; /&gt;\n      &lt;GROUP id=&quot;5&quot; /&gt;\n    &lt;/GROUPS&gt;\n  &lt;/ELEMENT&gt;\n  &lt;ELEMENT elementId=&quot;8&quot; tabId=&quot;1&quot; mail=&quot;no&quot;&gt;\n    &lt;PHONE&gt;\n      &lt;PARAM name=&quot;name&quot; value=&quot;E_F1&quot; /&gt;\n      &lt;PARAM name=&quot;display_as_link&quot; value=&quot;no&quot; /&gt;\n    &lt;/PHONE&gt;\n    &lt;GROUPS mode=&quot;whitelist&quot;&gt;\n      &lt;GROUP id=&quot;1&quot; /&gt;\n      &lt;GROUP id=&quot;16&quot; /&gt;\n    &lt;/GROUPS&gt;\n  &lt;/ELEMENT&gt;\n&lt;/ITEM&gt;\n</code></pre>\n<p>The element id is dynamic and changed I've tried this</p>\n<pre><code> &quot;//ELEMENT[@elementId&gt;0]/text()/GROUPS/GROUP[@id]/text()&quot;\n</code></pre>\n<p>but it gives me null</p>\n<p>Basically I want to map between <code>[@elementId&gt;0]</code> to array of <code>/GROUPS/GROUP[@id]</code></p>\n<p>example for output</p>\n<p>for element 7 =&gt; <code>{&quot;7&quot; : [0,1,2,5]}</code></p>\n<p>for element 8 =&gt; <code>{&quot;8&quot; : [1,16]}</code></p>\n<p>P.S - I use <code>org.apache.xpath.CachedXPathAPI</code> library in JAVA</p>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1680169958,"post_id":75880323,"comment_id":133853793,"body_markdown":"thanks for the [mcve] - always a pleasure to have something reproducible :) As both @jewelsea and me see the change between versions, you might consider reporting this as a regression - only if they knew about it, they can fix it :)","body":"thanks for the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - always a pleasure to have something reproducible :) As both @jewelsea and me see the change between versions, you might consider reporting this as a regression - only if they knew about it, they can fix it :)"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680428399,"creation_date":1680125308,"answer_id":75882318,"question_id":75880323,"body_markdown":"&gt; Has there been a performance regression? \r\n\r\nYes.  \r\n\r\nI ran the example as provided on OpenJDK 20 + JavaFX 20 OS X x64 13.2.1, 2020 MacBook Pro.  With large numbers of rows (e.g. 1,000,000+), performance was slow when scrolling with the mouse via the scroll bar.  With 1,000 rows, the scrolling performance was good.  \r\n\r\nWith OpenJDK 8b251 scrolling performance was quick for 10,000,000 rows.  \r\n\r\nIt looks like this is a known issue, as pointed out by [Maatr][1]:\r\n\r\n   * [JDK-8293836\r\nRendering performance degradation at bottom of TableView with many rows][2].\r\n\r\nIf you consider your issue to be a different problem, you may consider [submitting a bug report](https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report).\r\n\r\n**Workarounds**\r\n\r\nUse a JavaFX version between 8 and 17 inclusive.  From my local testing, scrolling of TableViews with large data sets performs acceptably.\r\n\r\nFor other JavaFX versions, you could search for workarounds that will improve the performance of the TableView when backed by large data sets, but I wouldn&#39;t advise doing that unless you are skilled and motivated to do so.  Instead, if a version of JavaFX is required that exhibits this performance issue, rework your UI and logic so that you don&#39;t load a lot of items into the `TableView` backing list.  Perhaps, restrict the maximum number of items to 10,000 or so and handle large volumes of data via [pagination](https://stackoverflow.com/questions/15349185/javafx-tableview-paginator).\r\n\r\n\r\n&gt; any idea when this started? \r\n\r\nThe major TableView scrolling performance issue with large datasets started in JavaFX version 18.\r\n\r\nFor the JDK 8b251 version I mentioned, scrolling performance for 1,000 rows or 10,000,000 is the same (excellent).\r\n\r\nFor the JavaFX 17.0.2 version (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will slightly stutter but is generally fine.  Performance is a bit worse than the good performance for 1,000 rows, but not really an issue.\r\n\r\nFor the JavaFX 18.0.2, 19.0.2.1, and 20 versions (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will greatly stutter.  Performance is much worse than the good performance for 1,000 rows.\r\n\r\nThese results are from subjective visual observation of local testing in my environment. Results and subjective observations by you from your testing in your environment may differ, but will likely be generally similar.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75899926/1155209\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8293836","title":"JavaFX TableView scroll performance problems with larger row counts","body":"<blockquote>\n<p>Has there been a performance regression?</p>\n</blockquote>\n<p>Yes.</p>\n<p>I ran the example as provided on OpenJDK 20 + JavaFX 20 OS X x64 13.2.1, 2020 MacBook Pro.  With large numbers of rows (e.g. 1,000,000+), performance was slow when scrolling with the mouse via the scroll bar.  With 1,000 rows, the scrolling performance was good.</p>\n<p>With OpenJDK 8b251 scrolling performance was quick for 10,000,000 rows.</p>\n<p>It looks like this is a known issue, as pointed out by <a href=\"https://stackoverflow.com/a/75899926/1155209\">Maatr</a>:</p>\n<ul>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8293836\" rel=\"nofollow noreferrer\">JDK-8293836\nRendering performance degradation at bottom of TableView with many rows</a>.</li>\n</ul>\n<p>If you consider your issue to be a different problem, you may consider <a href=\"https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">submitting a bug report</a>.</p>\n<p><strong>Workarounds</strong></p>\n<p>Use a JavaFX version between 8 and 17 inclusive.  From my local testing, scrolling of TableViews with large data sets performs acceptably.</p>\n<p>For other JavaFX versions, you could search for workarounds that will improve the performance of the TableView when backed by large data sets, but I wouldn't advise doing that unless you are skilled and motivated to do so.  Instead, if a version of JavaFX is required that exhibits this performance issue, rework your UI and logic so that you don't load a lot of items into the <code>TableView</code> backing list.  Perhaps, restrict the maximum number of items to 10,000 or so and handle large volumes of data via <a href=\"https://stackoverflow.com/questions/15349185/javafx-tableview-paginator\">pagination</a>.</p>\n<blockquote>\n<p>any idea when this started?</p>\n</blockquote>\n<p>The major TableView scrolling performance issue with large datasets started in JavaFX version 18.</p>\n<p>For the JDK 8b251 version I mentioned, scrolling performance for 1,000 rows or 10,000,000 is the same (excellent).</p>\n<p>For the JavaFX 17.0.2 version (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will slightly stutter but is generally fine.  Performance is a bit worse than the good performance for 1,000 rows, but not really an issue.</p>\n<p>For the JavaFX 18.0.2, 19.0.2.1, and 20 versions (on OS X x64 13.2.1, OpenJDK 20), scrolling performance for 10,000,000 rows will greatly stutter.  Performance is much worse than the good performance for 1,000 rows.</p>\n<p>These results are from subjective visual observation of local testing in my environment. Results and subjective observations by you from your testing in your environment may differ, but will likely be generally similar.</p>\n"},{"tags":[],"owner":{"account_id":4311624,"reputation":48,"user_id":3522523,"display_name":"Maatr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686906357,"creation_date":1680274399,"answer_id":75899926,"question_id":75880323,"body_markdown":"There is a similar TableView performance issue filled: https://bugs.openjdk.org/browse/JDK-8293836\r\n\r\nEdit 2023-06-16:\r\nLooks like it is fixed and can be tested with [21-ea+21 version][1]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jfx/commits/21%2B21","title":"JavaFX TableView scroll performance problems with larger row counts","body":"<p>There is a similar TableView performance issue filled: <a href=\"https://bugs.openjdk.org/browse/JDK-8293836\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8293836</a></p>\n<p>Edit 2023-06-16:\nLooks like it is fixed and can be tested with <a href=\"https://github.com/openjdk/jfx/commits/21%2B21\" rel=\"nofollow noreferrer\">21-ea+21 version</a></p>\n"}],"owner":{"account_id":28160778,"reputation":71,"user_id":21520762,"display_name":"andrerobot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1686906357,"creation_date":1680110611,"question_id":75880323,"body_markdown":"I&#39;m stumped. \r\nI have a use-case which involves the rendering of arbitrarily large, paginated tabular result sets in TableView form.\r\n\r\nWhat I&#39;m finding is that both fine scrolling (via touch gestures or mouse wheel on the TableView) and coarse scrolling (via dragging of scroll bar slider) degrade to unuseability as I scroll to larger row ordinals. \r\n\r\nThe degradation happens at relatively small row counts (&lt; ~1M).\r\nNote that the data model only ever holds a small subset of data at any given row offset and loads pages dynamically in response to scroll events.\r\n\r\nI&#39;ve distilled the use case to a few lines of code below.\r\nI&#39;m been able to support a similar such use case in the past (about 4 years ago, 1billion rows) with no issue, so I know this is doable. Whatever the issue is now, however, I just can&#39;t see it. \r\n\r\nDesperate for help...\r\n\r\nIncidentally, I&#39;ve tried this with various permutations of SDK and JavaFX with same effect.\r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.collections.ObservableListBase;\r\nimport javafx.scene.CacheHint;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        final TableView&lt;Row&gt; table = new TableView();\r\n        final BorderPane borderPane = new BorderPane();\r\n        final Scene scene = new Scene(borderPane, 800, 600);\r\n\r\n        TableColumn&lt;Row, String&gt; col = new TableColumn&lt;&gt;(&quot;row&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[0].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        col = new TableColumn&lt;&gt;(&quot;A&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[1].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        col = new TableColumn&lt;&gt;(&quot;B&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[2].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        col = new TableColumn&lt;&gt;(&quot;C&quot;);\r\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[3].toString()));\r\n        col.setPrefWidth(100);\r\n        table.getColumns().add(col);\r\n\r\n        table.setCache(true);\r\n        table.setEditable(false);\r\n        table.setCacheHint(CacheHint.SPEED);\r\n\r\n        table.setItems(getModel(10_000_000));\r\n\r\n        borderPane.setCenter(table);\r\n        stage.setScene(scene);\r\n\r\n        stage.show();\r\n    }\r\n\r\n    private static ObservableList&lt;Row&gt; getModel(final int rowCount) {\r\n        final List&lt;Row&gt; data = new ArrayList&lt;&gt;(rowCount);\r\n        for (int x = 0; x &lt; rowCount; x++) {\r\n            data.add(new Row(x, new Object[] {x, &quot;a_&quot; + x, &quot;b_&quot; + x, &quot;c_&quot; + x }));\r\n        }\r\n        return FXCollections.unmodifiableObservableList(FXCollections.observableList(data));\r\n    }\r\n\r\n    private static final class Row {\r\n        public final int rowOrdinal;\r\n        public final Object[] data;\r\n\r\n        public Row(final int rowOrdinal, final Object[] data) {\r\n            this.rowOrdinal = rowOrdinal;\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return o != null &amp;&amp; o.getClass() == Row.class &amp;&amp; ((Row)o).rowOrdinal == rowOrdinal;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return rowOrdinal;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"JavaFX TableView scroll performance problems with larger row counts","body":"<p>I'm stumped.\nI have a use-case which involves the rendering of arbitrarily large, paginated tabular result sets in TableView form.</p>\n<p>What I'm finding is that both fine scrolling (via touch gestures or mouse wheel on the TableView) and coarse scrolling (via dragging of scroll bar slider) degrade to unuseability as I scroll to larger row ordinals.</p>\n<p>The degradation happens at relatively small row counts (&lt; ~1M).\nNote that the data model only ever holds a small subset of data at any given row offset and loads pages dynamically in response to scroll events.</p>\n<p>I've distilled the use case to a few lines of code below.\nI'm been able to support a similar such use case in the past (about 4 years ago, 1billion rows) with no issue, so I know this is doable. Whatever the issue is now, however, I just can't see it.</p>\n<p>Desperate for help...</p>\n<p>Incidentally, I've tried this with various permutations of SDK and JavaFX with same effect.</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.ObservableListBase;\nimport javafx.scene.CacheHint;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        final TableView&lt;Row&gt; table = new TableView();\n        final BorderPane borderPane = new BorderPane();\n        final Scene scene = new Scene(borderPane, 800, 600);\n\n        TableColumn&lt;Row, String&gt; col = new TableColumn&lt;&gt;(&quot;row&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[0].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        col = new TableColumn&lt;&gt;(&quot;A&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[1].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        col = new TableColumn&lt;&gt;(&quot;B&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[2].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        col = new TableColumn&lt;&gt;(&quot;C&quot;);\n        col.setCellValueFactory(p -&gt; new SimpleStringProperty(p.getValue().data[3].toString()));\n        col.setPrefWidth(100);\n        table.getColumns().add(col);\n\n        table.setCache(true);\n        table.setEditable(false);\n        table.setCacheHint(CacheHint.SPEED);\n\n        table.setItems(getModel(10_000_000));\n\n        borderPane.setCenter(table);\n        stage.setScene(scene);\n\n        stage.show();\n    }\n\n    private static ObservableList&lt;Row&gt; getModel(final int rowCount) {\n        final List&lt;Row&gt; data = new ArrayList&lt;&gt;(rowCount);\n        for (int x = 0; x &lt; rowCount; x++) {\n            data.add(new Row(x, new Object[] {x, &quot;a_&quot; + x, &quot;b_&quot; + x, &quot;c_&quot; + x }));\n        }\n        return FXCollections.unmodifiableObservableList(FXCollections.observableList(data));\n    }\n\n    private static final class Row {\n        public final int rowOrdinal;\n        public final Object[] data;\n\n        public Row(final int rowOrdinal, final Object[] data) {\n            this.rowOrdinal = rowOrdinal;\n            this.data = data;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            return o != null &amp;&amp; o.getClass() == Row.class &amp;&amp; ((Row)o).rowOrdinal == rowOrdinal;\n        }\n        \n        @Override\n        public int hashCode() {\n            return rowOrdinal;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","predicate","predicatebuilder"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686729392,"post_id":76471142,"comment_id":134837551,"body_markdown":"And the warning you get is?","body":"And the warning you get is?"},{"owner":{"account_id":15857656,"reputation":126,"user_id":11441639,"display_name":"kiranNswamy"},"score":0,"creation_date":1686730631,"post_id":76471142,"comment_id":134837835,"body_markdown":"You are trying to use like operator builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;)), searchValue.toLowerCase()); use % in the query parameter and try.","body":"You are trying to use like operator builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;))&zwnj;&#8203;, searchValue.toLowerCase()); use % in the query parameter and try."}],"answers":[{"tags":[],"owner":{"account_id":23140624,"reputation":1,"user_id":17244132,"display_name":"Jin Kisara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686906168,"creation_date":1686906168,"answer_id":76488599,"question_id":76471142,"body_markdown":"I found the way, after 2 days of roaming around.\r\n\r\n    public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\r\n        return (root, query, builder) -&gt; {\r\n            Join&lt;DealRequestEntity, CustomerEntity&gt; customerJoin = root.join(&quot;customer&quot;);\r\n            return builder.or(\r\n                    builder.like(builder.lower(customerJoin.get(&quot;name&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\r\n                    builder.like(builder.lower(customerJoin.get(&quot;username&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\r\n                    builder.like(builder.lower(customerJoin.get(&quot;email&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\r\n                    builder.like(builder.lower(customerJoin.get(&quot;phone&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;));\r\n        };\r\n    }","title":"How to compare value with predicate criteria builder","body":"<p>I found the way, after 2 days of roaming around.</p>\n<pre><code>public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\n    return (root, query, builder) -&gt; {\n        Join&lt;DealRequestEntity, CustomerEntity&gt; customerJoin = root.join(&quot;customer&quot;);\n        return builder.or(\n                builder.like(builder.lower(customerJoin.get(&quot;name&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\n                builder.like(builder.lower(customerJoin.get(&quot;username&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\n                builder.like(builder.lower(customerJoin.get(&quot;email&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;),\n                builder.like(builder.lower(customerJoin.get(&quot;phone&quot;)), &quot;%&quot; + searchValue.toLowerCase() + &quot;%&quot;));\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":23140624,"reputation":1,"user_id":17244132,"display_name":"Jin Kisara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686906168,"creation_date":1686728230,"question_id":76471142,"body_markdown":"I have an searchValue, inputted by user, and I want to find all the customers that have similar name, email, username, phone,... etc. like it. I&#39;m using the Specifications to create a spec then inject it into repository file\r\nThis is the Entity\r\n```Java\r\npublic class DealRequestEntity {\r\n    private long id;\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private CustomerEntity customer;\r\n}\r\n```\r\n\r\nAnd the Specifications\r\n```Java\r\npublic class DealRequestSpecifications {\r\n\r\n    public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\r\n        return new Specification&lt;DealRequestEntity&gt;() {\r\n            public Predicate toPredicate(Root&lt;DealRequestEntity&gt; root, CriteriaQuery&lt;?&gt; query,\r\n                    CriteriaBuilder builder) {\r\n                return builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;)), searchValue.toLowerCase());\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nAnd the get(&quot;name&quot;) always warning error there. So what is the right keyword that I can research for this?\r\n\r\nI tried to get(&quot;customer&quot;).get(&quot;name&quot;) but it didn&#39;t work","title":"How to compare value with predicate criteria builder","body":"<p>I have an searchValue, inputted by user, and I want to find all the customers that have similar name, email, username, phone,... etc. like it. I'm using the Specifications to create a spec then inject it into repository file\nThis is the Entity</p>\n<pre><code>public class DealRequestEntity {\n    private long id;\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;)\n    private CustomerEntity customer;\n}\n</code></pre>\n<p>And the Specifications</p>\n<pre><code>public class DealRequestSpecifications {\n\n    public static Specification&lt;DealRequestEntity&gt; hasSearchValue(String searchValue) {\n        return new Specification&lt;DealRequestEntity&gt;() {\n            public Predicate toPredicate(Root&lt;DealRequestEntity&gt; root, CriteriaQuery&lt;?&gt; query,\n                    CriteriaBuilder builder) {\n                return builder.like(builder.lower(root.get(&quot;customer&quot;).get(&quot;name&quot;)), searchValue.toLowerCase());\n            }\n        };\n    }\n}\n</code></pre>\n<p>And the get(&quot;name&quot;) always warning error there. So what is the right keyword that I can research for this?</p>\n<p>I tried to get(&quot;customer&quot;).get(&quot;name&quot;) but it didn't work</p>\n"},{"tags":["java","jvm","java-17","jfr","java-mission-control"],"comments":[{"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"score":0,"creation_date":1686653940,"post_id":76463274,"comment_id":134825605,"body_markdown":"@Holger Yes, I meant jfr file i.e. in MissionControl &#39;Memory/TLAB&#39; stats is not available for me with the above JDK17 JVM params","body":"@Holger Yes, I meant jfr file i.e. in MissionControl &#39;Memory/TLAB&#39; stats is not available for me with the above JDK17 JVM params"}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686647227,"creation_date":1686647227,"answer_id":76463314,"question_id":76463274,"body_markdown":"Adding `-XX:+UseTLAB` as a parameter should do the trick. \r\n\r\nHope that works/helps.\r\n\r\nCheers","title":"Java Flight Recorder - Logging parameters on JDK17","body":"<p>Adding <code>-XX:+UseTLAB</code> as a parameter should do the trick.</p>\n<p>Hope that works/helps.</p>\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686851293,"creation_date":1686851293,"answer_id":76484281,"question_id":76463274,"body_markdown":"The TLAB events were disabled in settings=profile when the Object Allocation Sample event was introduced in JDK 16 (as it has less overhead and is enabled by default)\r\n\r\nYou can enable TLAB events manually:\r\n\r\n    java -XX:StartFlightRecording:\r\n             jdk.ObjectAllocationInNewTLAB#enabled=true,\r\n             jdk.ObjectAllocationOutsideTLAB#enabled=true,filename=...","title":"Java Flight Recorder - Logging parameters on JDK17","body":"<p>The TLAB events were disabled in settings=profile when the Object Allocation Sample event was introduced in JDK 16 (as it has less overhead and is enabled by default)</p>\n<p>You can enable TLAB events manually:</p>\n<pre><code>java -XX:StartFlightRecording:\n         jdk.ObjectAllocationInNewTLAB#enabled=true,\n         jdk.ObjectAllocationOutsideTLAB#enabled=true,filename=...\n</code></pre>\n"}],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76484281,"answer_count":2,"score":2,"last_activity_date":1686906009,"creation_date":1686646808,"question_id":76463274,"body_markdown":"My jfr log does not contain any information about Memory  / TLAB Allocation section , if analyze it by MissionControl\r\n\r\nJVM parameters (JDK17):\r\n\r\n    -XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... loglevel=info\r\n\r\nP.S. FlightRecorderOptions decom&#39;ed and not available in LTS JDK17\r\n\r\nJVM parameters (JDK8):\r\n\r\n    -XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... -XX:FlightRecorderOptions=loglevel=info\r\n\r\nOn JDK8 I have all data in place, I&#39;m a bit puzzled what if my issue about missing &#39;Memory/TLAB Allocation&#39; is caused by incorrect JVM parameters for JFR ?\r\n\r\n**--Update--**\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8225312 Deprecate -XX:FlightRecorder ","title":"Java Flight Recorder - Logging parameters on JDK17","body":"<p>My jfr log does not contain any information about Memory  / TLAB Allocation section , if analyze it by MissionControl</p>\n<p>JVM parameters (JDK17):</p>\n<pre><code>-XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... loglevel=info\n</code></pre>\n<p>P.S. FlightRecorderOptions decom'ed and not available in LTS JDK17</p>\n<p>JVM parameters (JDK8):</p>\n<pre><code>-XX:+UnlockDiagnosticVMOptions -X::+DebugNonSafepoints -XX:UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay....filename=... -XX:FlightRecorderOptions=loglevel=info\n</code></pre>\n<p>On JDK8 I have all data in place, I'm a bit puzzled what if my issue about missing 'Memory/TLAB Allocation' is caused by incorrect JVM parameters for JFR ?</p>\n<p><strong>--Update--</strong></p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8225312\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8225312</a> Deprecate -XX:FlightRecorder</p>\n"},{"tags":["java","java-11","keystore","keytool","ecdsa"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1686907778,"post_id":76471763,"comment_id":134866021,"body_markdown":"Did you create the pkcs12 with OpenSSL 3.0.0 or higher? If so dupe https://stackoverflow.com/questions/72412346/java-keytool-importing-pkcs12-to-jks-getting-error-keystore-password-was-inc -- which is my first hit if I put &quot;keytool pkcs12 &#39;keystore password was incorrect&#39;&quot; in the search box -- didn&#39;t you try that? (I also get my answer as last hit, but that might be influenced because it was my search).","body":"Did you create the pkcs12 with OpenSSL 3.0.0 or higher? If so dupe <a href=\"https://stackoverflow.com/questions/72412346/java-keytool-importing-pkcs12-to-jks-getting-error-keystore-password-was-inc\" title=\"java keytool importing pkcs12 to jks getting error keystore password was inc\">stackoverflow.com/questions/72412346/&hellip;</a> -- which is my first hit if I put &quot;keytool pkcs12 &#39;keystore password was incorrect&#39;&quot; in the search box -- didn&#39;t you try that? (I also get my answer as last hit, but that might be influenced because it was my search)."},{"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"score":0,"creation_date":1687198794,"post_id":76471763,"comment_id":134900474,"body_markdown":"Thanks @dave_thompson_085 for your response .yes i am using higher version openssl","body":"Thanks @dave_thompson_085 for your response .yes i am using higher version openssl"}],"owner":{"account_id":27160088,"reputation":21,"user_id":20698292,"display_name":"Swati Satrusalya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686905514,"creation_date":1686733032,"question_id":76471763,"body_markdown":"I created a client.p12 keystore using openssl . Now I&#39;m trying to import the private key using java Keytool into a new JKS keystore. I tried the command:\r\n\r\n```\r\nkeytool -importkeystore -srckeystore &quot;/certs/client.p12&quot; -srcstoretype pkcs12 -srcstorepass &quot;pass&quot; -destkeystore /certs/keystore.jks -deststoretype pkcs12 -deststorepass &quot;pass&quot;\r\n```\r\n\r\nJava version used - 11.0.11\r\n\r\nBut I get the following error message:\r\n\r\n```\r\nkeytool error: java.io.IOException: keystore password was incorrect\r\n```\r\n\r\n\r\nHow can I resolve this error so I can import this key into a new JKS keystore?\r\n","title":"keytool error: java.io.IOException: keystore password was incorrect in JAVA 11.0.11","body":"<p>I created a client.p12 keystore using openssl . Now I'm trying to import the private key using java Keytool into a new JKS keystore. I tried the command:</p>\n<pre><code>keytool -importkeystore -srckeystore &quot;/certs/client.p12&quot; -srcstoretype pkcs12 -srcstorepass &quot;pass&quot; -destkeystore /certs/keystore.jks -deststoretype pkcs12 -deststorepass &quot;pass&quot;\n</code></pre>\n<p>Java version used - 11.0.11</p>\n<p>But I get the following error message:</p>\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\n</code></pre>\n<p>How can I resolve this error so I can import this key into a new JKS keystore?</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1686901255,"post_id":76487951,"comment_id":134864665,"body_markdown":"You have `String host = &quot;110&quot;;` in your code - Are yu sure that is the correct host and you don&#39;t want to use `pop.gmail.com` or similar?","body":"You have <code>String host = &quot;110&quot;;</code> in your code - Are yu sure that is the correct host and you don&#39;t want to use <code>pop.gmail.com</code> or similar?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686901357,"post_id":76487951,"comment_id":134864684,"body_markdown":"Also, you might want to check out [this answer](https://stackoverflow.com/a/26952713/10871900).","body":"Also, you might want to check out <a href=\"https://stackoverflow.com/a/26952713/10871900\">this answer</a>."},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686901739,"post_id":76487951,"comment_id":134864752,"body_markdown":"@dan1stisonstrike i tried with &quot;String host = &quot;pop.gmail.com&quot;;&quot; but it getting same connection failed issue...","body":"@dan1stisonstrike i tried with &quot;String host = &quot;pop.gmail.com&quot;;&quot; but it getting same connection failed issue..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686902248,"post_id":76487951,"comment_id":134864843,"body_markdown":"Why aren&#39;t you using imap?","body":"Why aren&#39;t you using imap?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1686902302,"post_id":76487951,"comment_id":134864853,"body_markdown":"@gimhanas &quot;Connection failed&quot;, sounds like a proxy or firewall issue","body":"@gimhanas &quot;Connection failed&quot;, sounds like a proxy or firewall issue"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686902307,"post_id":76487951,"comment_id":134864855,"body_markdown":"As I said, please check the suggestions in the linked answer, especially regarding `Session.getDefaultInstance` and also check the connection with `telnet pop.gmail.com 995` (also mentioned in the linked answer).","body":"As I said, please check the suggestions in the linked answer, especially regarding <code>Session.getDefaultInstance</code> and also check the connection with <code>telnet pop.gmail.com 995</code> (also mentioned in the linked answer)."},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686903168,"post_id":76487951,"comment_id":134865024,"body_markdown":"@dan1stisonstrike Yes i tried with it.but have fail senario ----https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing","body":"@dan1stisonstrike Yes i tried with it.but have fail senario ----<a href=\"https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686903303,"post_id":76487951,"comment_id":134865052,"body_markdown":"How can &quot;110&quot; be the *host*? That should be `&quot;pop.gmail.com&quot;`","body":"How can &quot;110&quot; be the <i>host</i>? That should be <code>&quot;pop.gmail.com&quot;</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686903551,"post_id":76487951,"comment_id":134865104,"body_markdown":"You&#39;re still not posting the correct code. What is creating that output? Nothing in the code I can see could possibly do that","body":"You&#39;re still not posting the correct code. What is creating that output? Nothing in the code I can see could possibly do that"},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686903566,"post_id":76487951,"comment_id":134865107,"body_markdown":"yes i tried with (pop.gmail.com) but javax.mail.MessagingException: Connect failed; I mention error in description","body":"yes i tried with (pop.gmail.com) but javax.mail.MessagingException: Connect failed; I mention error in description"},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686903839,"post_id":76487951,"comment_id":134865166,"body_markdown":"I attached my java classes to drive..i need to read emails with java...\nso i tried with two examples...(drive files - GmailFetch.java and GmailFetch.java.--&gt;(https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing)\nbut both are not working.","body":"I attached my java classes to drive..i need to read emails with java... so i tried with two examples...(drive files - GmailFetch.java and GmailFetch.java.--&gt;(<a href=\"https://drive.google.com/drive/folders/16l8cAp6iK7gC0mYZbSzbcx-laaRSXNPE?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>) but both are not working."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1686903982,"post_id":76487951,"comment_id":134865193,"body_markdown":"What Java version are you using? An ancient version with outdated TLS support might cause this.","body":"What Java version are you using? An ancient version with outdated TLS support might cause this."},{"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"score":0,"creation_date":1686904027,"post_id":76487951,"comment_id":134865203,"body_markdown":"@JoachimSauer using java 17","body":"@JoachimSauer using java 17"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686904162,"post_id":76487951,"comment_id":134865229,"body_markdown":"Please post the correct code. That won&#39;t even *compile*. When you do post the correct code you probably will eventually run into [this](https://support.google.com/accounts/answer/185833) error (normal passwords won&#39;t work)","body":"Please post the correct code. That won&#39;t even <i>compile</i>. When you do post the correct code you probably will eventually run into <a href=\"https://support.google.com/accounts/answer/185833\" rel=\"nofollow noreferrer\">this</a> error (normal passwords won&#39;t work)"}],"answers":[{"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686904891,"creation_date":1686904853,"answer_id":76488426,"question_id":76487951,"body_markdown":"i&#39;m offering you multiple solutions, first one is to enable all the necessary protocols:\r\n\r\n    properties.put(&quot;mail.pop3.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\nsecond one is to enable SSL Debugging to see more specific messages, and we will see what is going on:\r\n\r\n    properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\nlast one, you could also bypass the certification process using \r\n\r\n&gt; [javax.net.ssl.Trust][1]\r\n\r\n but i won&#39;t advised it will make everything less secure\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/TrustManager.html","title":"Why not working JavaMail API - Checking Emails?","body":"<p>i'm offering you multiple solutions, first one is to enable all the necessary protocols:</p>\n<pre><code>properties.put(&quot;mail.pop3.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>second one is to enable SSL Debugging to see more specific messages, and we will see what is going on:</p>\n<pre><code>properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n</code></pre>\n<p>last one, you could also bypass the certification process using</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/TrustManager.html\" rel=\"nofollow noreferrer\">javax.net.ssl.Trust</a></p>\n</blockquote>\n<p>but i won't advised it will make everything less secure</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686905225,"creation_date":1686905225,"answer_id":76488475,"question_id":76487951,"body_markdown":"You need to look at [this](https://support.google.com/accounts/answer/185833) for the password. The following works fine:\r\n\r\n```\r\nimport javax.mail.Session;\r\nimport javax.mail.Store;\r\nimport java.util.Properties;\r\n\r\npublic class Pop {\r\n    public static void main(String[] args) {\r\n        try {\r\n            String host = &quot;pop.gmail.com&quot;;\r\n            String mailStoreType = &quot;pop3&quot;;\r\n            String username = &quot;youraddress@gmail.com&quot;;\r\n            String password = &quot;application-specific-password&quot;;\r\n\r\n            Properties properties = new Properties();\r\n            properties.put(&quot;mail.pop3.host&quot;, host);\r\n            properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n            properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n            Session emailSession = Session.getDefaultInstance(properties);\r\n\r\n            Store store = emailSession.getStore(&quot;pop3s&quot;);\r\n            System.out.println(&quot;2 create store...&quot; + store.toString());\r\n\r\n            store.connect(host, username, password);\r\n            System.out.println(&quot;3 connected store...&quot; + store);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n}\r\n``` ","title":"Why not working JavaMail API - Checking Emails?","body":"<p>You need to look at <a href=\"https://support.google.com/accounts/answer/185833\" rel=\"nofollow noreferrer\">this</a> for the password. The following works fine:</p>\n<pre><code>import javax.mail.Session;\nimport javax.mail.Store;\nimport java.util.Properties;\n\npublic class Pop {\n    public static void main(String[] args) {\n        try {\n            String host = &quot;pop.gmail.com&quot;;\n            String mailStoreType = &quot;pop3&quot;;\n            String username = &quot;youraddress@gmail.com&quot;;\n            String password = &quot;application-specific-password&quot;;\n\n            Properties properties = new Properties();\n            properties.put(&quot;mail.pop3.host&quot;, host);\n            properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n            properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\n            Session emailSession = Session.getDefaultInstance(properties);\n\n            Store store = emailSession.getStore(&quot;pop3s&quot;);\n            System.out.println(&quot;2 create store...&quot; + store.toString());\n\n            store.connect(host, username, password);\n            System.out.println(&quot;3 connected store...&quot; + store);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686905225,"creation_date":1686901095,"question_id":76487951,"body_markdown":"I developed the Checking Emails system with JavaMail.This is the code I created,\r\n\r\n      String host = &quot;pop.gmail.com&quot;;\r\n      String mailStoreType = &quot;pop3&quot;;\r\n      String username = &quot;yourmail@gmail.com&quot;;\r\n      String password = &quot;*****&quot;;\r\n\r\n          Properties properties = new Properties();\r\n          properties.put(&quot;mail.pop3.host&quot;, host);\r\n          properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n          properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n          Session emailSession = Session.getDefaultInstance(properties);\r\n      \r\n          Store store = emailSession.getStore(&quot;pop3s&quot;);\r\n          System.out.println(&quot;2 create store...&quot;+store.toString());\r\n    \r\n          store.connect(host, user, password);\r\n          System.out.println(&quot;3 connected store...&quot;+store);\r\n     \r\n\r\n\r\nBut the code is getting a **Connect failed error** below this I mentioned,\r\n\r\n    1 Strting email service...pop.gmail.com\r\n    2 create store...pop3s:\r\n    javax.mail.MessagingException: Connect failed;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    \tat com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:209)\r\n    \tat javax.mail.Service.connect(Service.java:295)\r\n    \tat javax.mail.Service.connect(Service.java:176)\r\n    \tat com.demo.service.CheckingMails2.check(CheckingMails2.java:31)\r\n    \t\r\n**What would be the best possible options?**","title":"Why not working JavaMail API - Checking Emails?","body":"<p>I developed the Checking Emails system with JavaMail.This is the code I created,</p>\n<pre><code>  String host = &quot;pop.gmail.com&quot;;\n  String mailStoreType = &quot;pop3&quot;;\n  String username = &quot;yourmail@gmail.com&quot;;\n  String password = &quot;*****&quot;;\n\n      Properties properties = new Properties();\n      properties.put(&quot;mail.pop3.host&quot;, host);\n      properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n      properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\n      Session emailSession = Session.getDefaultInstance(properties);\n  \n      Store store = emailSession.getStore(&quot;pop3s&quot;);\n      System.out.println(&quot;2 create store...&quot;+store.toString());\n\n      store.connect(host, user, password);\n      System.out.println(&quot;3 connected store...&quot;+store);\n \n</code></pre>\n<p>But the code is getting a <strong>Connect failed error</strong> below this I mentioned,</p>\n<pre><code>1 Strting email service...pop.gmail.com\n2 create store...pop3s:\njavax.mail.MessagingException: Connect failed;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:209)\n    at javax.mail.Service.connect(Service.java:295)\n    at javax.mail.Service.connect(Service.java:176)\n    at com.demo.service.CheckingMails2.check(CheckingMails2.java:31)\n    \n</code></pre>\n<p><strong>What would be the best possible options?</strong></p>\n"},{"tags":["java","spring-boot","junit4","junit5","superclass"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686822217,"post_id":76480915,"comment_id":134853324,"body_markdown":"Put them on a method, which calls an abstract method which you then implement.","body":"Put them on a method, which calls an abstract method which you then implement."},{"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"score":0,"creation_date":1686834912,"post_id":76480915,"comment_id":134856108,"body_markdown":"I do not get the idea, is it different of what I am doing ?","body":"I do not get the idea, is it different of what I am doing ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686835670,"post_id":76480915,"comment_id":134856290,"body_markdown":"Yes it is. Put them on non abstract methods, and in those methods call an abstract method (which you can then implement in your test classes). It is a slight indirection and change to what you have now.","body":"Yes it is. Put them on non abstract methods, and in those methods call an abstract method (which you can then implement in your test classes). It is a slight indirection and change to what you have now."},{"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"score":0,"creation_date":1686843006,"post_id":76480915,"comment_id":134856866,"body_markdown":"Indeed, it works. But I still find this alternative a bit weird because it worked easier with JUnit4","body":"Indeed, it works. But I still find this alternative a bit weird because it worked easier with JUnit4"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686898117,"post_id":76480915,"comment_id":134864127,"body_markdown":"The fact that something worked in X doesn&#39;t mean it works the same in Y? It might have work and that could have been unintended, I don&#39;t really know.","body":"The fact that something worked in X doesn&#39;t mean it works the same in Y? It might have work and that could have been unintended, I don&#39;t really know."}],"answers":[{"tags":[],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686904164,"creation_date":1686904164,"answer_id":76488334,"question_id":76480915,"body_markdown":"Following M. Deinum recommandation, I ended up with this\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\n\r\n@SpringBootTest(classes = {TestContext.class})\r\npublic abstract class AbstractTest {\r\n    \r\n   public abstract void testOk();\r\n    \r\n   public abstract void testKo();\r\n\r\n   @Test\r\n   public void junitTestOk() {\r\n       this.testOk();\r\n   }\r\n    \r\n   @Test\r\n   public void junitTestKo() {\r\n       this.testKo();\r\n   }\r\n}\r\n```","title":"Super class and abstract test method with JUnit5 tests","body":"<p>Following M. Deinum recommandation, I ended up with this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\n@SpringBootTest(classes = {TestContext.class})\npublic abstract class AbstractTest {\n    \n   public abstract void testOk();\n    \n   public abstract void testKo();\n\n   @Test\n   public void junitTestOk() {\n       this.testOk();\n   }\n    \n   @Test\n   public void junitTestKo() {\n       this.testKo();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488334,"answer_count":1,"score":0,"last_activity_date":1686904164,"creation_date":1686820201,"question_id":76480915,"body_markdown":"I migrated unit tests from JUnit4 to JUnit5 and I use Intellij as IDE   \r\nWith JUnit4, I had some tests implementing two methodes of a test superclass. It seems like I could put the `@Test` on the abstract methods and just override them in subclasses.\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\n\r\n    @SpringBootTest(classes = {TestContext.class})\r\n    public abstract class AbstractTest {\r\n    \r\n        @Test\r\n        public abstract void testOk();\r\n    \r\n        @Test\r\n        public abstract void testKo();\r\n    }\r\n```\r\nAnd the test   \r\n```java\r\n    public class SomeTest extends AbstractTest {\r\n    \r\n        // @Test with JUnit5\r\n        @Override\r\n        public void testOk() {\r\n            //\r\n        }\r\n    \r\n        // @Test with JUnit5\r\n        @Override\r\n        public void testKo() {\r\n            //\r\n        }\r\n    }\r\n```\r\n\r\nBut with JUnit5, it seems like I have to put `@Test` annotation on the overriding method of the subclass `SomeTest`, otherwise tests are not found. Is there a way to achieve my previous configuration with JUnit5, avoiding to add `@Test` to all subclasses methods ?","title":"Super class and abstract test method with JUnit5 tests","body":"<p>I migrated unit tests from JUnit4 to JUnit5 and I use Intellij as IDE<br />\nWith JUnit4, I had some tests implementing two methodes of a test superclass. It seems like I could put the <code>@Test</code> on the abstract methods and just override them in subclasses.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\n    @SpringBootTest(classes = {TestContext.class})\n    public abstract class AbstractTest {\n    \n        @Test\n        public abstract void testOk();\n    \n        @Test\n        public abstract void testKo();\n    }\n</code></pre>\n<p>And the test</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class SomeTest extends AbstractTest {\n    \n        // @Test with JUnit5\n        @Override\n        public void testOk() {\n            //\n        }\n    \n        // @Test with JUnit5\n        @Override\n        public void testKo() {\n            //\n        }\n    }\n</code></pre>\n<p>But with JUnit5, it seems like I have to put <code>@Test</code> annotation on the overriding method of the subclass <code>SomeTest</code>, otherwise tests are not found. Is there a way to achieve my previous configuration with JUnit5, avoiding to add <code>@Test</code> to all subclasses methods ?</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686903750,"creation_date":1686903750,"answer_id":76488289,"question_id":76487636,"body_markdown":"`HttpLoggingInterceptor` didn&#39;t print cookies from `CookieJar`, because it was executed before the internal Interceptor which load cookie from `CookieJar`\r\n\r\nBy using tcpdump, I can see Cookie headers for subsequent requests.\r\n\r\ncase closed.","title":"why cookie is not loaded for subsequent requests?","body":"<p><code>HttpLoggingInterceptor</code> didn't print cookies from <code>CookieJar</code>, because it was executed before the internal Interceptor which load cookie from <code>CookieJar</code></p>\n<p>By using tcpdump, I can see Cookie headers for subsequent requests.</p>\n<p>case closed.</p>\n"}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76488289,"answer_count":1,"score":0,"last_activity_date":1686903750,"creation_date":1686898488,"question_id":76487636,"body_markdown":"I am using okhttp 4.9.0\r\n\r\n```java\r\nprivate OkHttpClient http;\r\n\r\npublic SonarApi(String serverUrl, String secret) {\r\n    HttpLoggingInterceptor it = new HttpLoggingInterceptor();\r\n    it.setLevel(Level.BODY);\r\n    CookieManager cookieManager = new CookieManager();\r\n    cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\r\n    JavaNetCookieJar cookieJar = new JavaNetCookieJar(cookieManager);\r\n    http = new OkHttpClient.Builder().addInterceptor(it).cookieJar(cookieJar).build();\r\n}\r\n\r\npublic void login(String userName, String password) throws IOException {\r\n    RequestBody formBody = new FormBody.Builder().add(&quot;login&quot;, userName).add(&quot;password&quot;, password).build();\r\n    Request req = new Request.Builder()\r\n            .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .addHeader(&quot;Host&quot;, &quot;x.x.x.x:9876&quot;)\r\n            .addHeader(&quot;Origin&quot;, serverUrl)\r\n            .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n            .url(serverUrl + &quot;/api/authentication/login&quot;).post(formBody).build();\r\n    http.newCall(req).execute();\r\n}\r\n\r\npublic boolean updateRuleMarkdownNote(String ruleKey, String mdNote) throws IOException {\r\n    RequestBody formBody = new FormBody.Builder().add(&quot;key&quot;, ruleKey).add(&quot;markdown_note&quot;, mdNote).build();\r\n    Request req = new Request.Builder().addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).url(serverUrl + &quot;/api/rules/update&quot;).post(formBody).build();\r\n    int code = http.newCall(req).execute().code();\r\n    return code &gt;= 200 &amp;&amp; code &lt; 300;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    SonarApi sonarApi = new SonarApi(&quot;http://x.x.x.x:9876&quot;, &quot;cac3b3c65347e87cdf1f9a7352935db79e2435f5&quot;);\r\n    try {\r\n        sonarApi.login(&quot;admin&quot;, &quot;******&quot;);\r\n        sonarApi.updateRuleMarkdownNote(&quot;custom-rules-java:ExampleRules01&quot;, &quot;*foo*&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n```\r\n\r\nlogs:\r\n\r\n```\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; POST http://172.25.160.238:9876/api/authentication/login\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 34\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Accept: application/json\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Host: 172.25.160.238:9876\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Origin: http://172.25.160.238:9876\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Type: application/x-www-form-urlencoded\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: \r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: login=admin&amp;password=%23Fgglgy0223\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; END POST (34-byte body)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- 200 http://172.25.160.238:9876/api/authentication/login (266ms)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Frame-Options: SAMEORIGIN\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-XSS-Protection: 1; mode=block\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Content-Type-Options: nosniff\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Set-Cookie: XSRF-TOKEN=5iohli0jdhtla6tk8a87598log; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Set-Cookie: JWT-SESSION=eyJhbGciOiJIUzI1NiJ9.eyJsYXN0UmVmcmVzaFRpbWUiOjE2ODY4OTc4NjMyNTMsInhzcmZUb2tlbiI6IjVpb2hsaTBqZGh0bGE2dGs4YTg3NTk4bG9nIiwianRpIjoiQVlqQzhxcFNkRWtsQ2VJdXhIQ0IiLCJzdWIiOiJBWHd3MUhOY1NCN0xfa1UtMEhydyIsImlhdCI6MTY4Njg5Nzg2MywiZXhwIjoxNjg3MTU3MDYzfQ.sDbWX2_pNGIAIMjrgOBSyEnsBLc9fncz2-7XS_uyx-M; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/; HttpOnly\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 0\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Keep-Alive: timeout=60\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Connection: keep-alive\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- END HTTP (0-byte body)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; POST http://172.25.160.238:9876/api/rules/update\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 58\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Type: application/x-www-form-urlencoded\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: \r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: key=custom-rules-java%3AExampleRules01&amp;markdown_note=*foo*\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: --&gt; END POST (58-byte body)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- 401 http://172.25.160.238:9876/api/rules/update (7ms)\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Frame-Options: SAMEORIGIN\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-XSS-Protection: 1; mode=block\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: X-Content-Type-Options: nosniff\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Content-Length: 0\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Keep-Alive: timeout=60\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: Connection: keep-alive\r\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\r\n信息: &lt;-- END HTTP (0-byte body)\r\n\r\n```\r\n\r\n\r\nafter login, I can see setcookie header from server, but why cookies not loaded for subsequent requests? I can&#39;t  figure it out why.  as you can see in the logs, login request is successful and cookies named as `XSRF-TOKEN` and `JWT-SESSION` was returned within response headers, but the following request did not send a `Cookie` header with them.","title":"why cookie is not loaded for subsequent requests?","body":"<p>I am using okhttp 4.9.0</p>\n<pre class=\"lang-java prettyprint-override\"><code>private OkHttpClient http;\n\npublic SonarApi(String serverUrl, String secret) {\n    HttpLoggingInterceptor it = new HttpLoggingInterceptor();\n    it.setLevel(Level.BODY);\n    CookieManager cookieManager = new CookieManager();\n    cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\n    JavaNetCookieJar cookieJar = new JavaNetCookieJar(cookieManager);\n    http = new OkHttpClient.Builder().addInterceptor(it).cookieJar(cookieJar).build();\n}\n\npublic void login(String userName, String password) throws IOException {\n    RequestBody formBody = new FormBody.Builder().add(&quot;login&quot;, userName).add(&quot;password&quot;, password).build();\n    Request req = new Request.Builder()\n            .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n            .addHeader(&quot;Host&quot;, &quot;x.x.x.x:9876&quot;)\n            .addHeader(&quot;Origin&quot;, serverUrl)\n            .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n            .url(serverUrl + &quot;/api/authentication/login&quot;).post(formBody).build();\n    http.newCall(req).execute();\n}\n\npublic boolean updateRuleMarkdownNote(String ruleKey, String mdNote) throws IOException {\n    RequestBody formBody = new FormBody.Builder().add(&quot;key&quot;, ruleKey).add(&quot;markdown_note&quot;, mdNote).build();\n    Request req = new Request.Builder().addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).url(serverUrl + &quot;/api/rules/update&quot;).post(formBody).build();\n    int code = http.newCall(req).execute().code();\n    return code &gt;= 200 &amp;&amp; code &lt; 300;\n}\n\npublic static void main(String[] args) {\n    SonarApi sonarApi = new SonarApi(&quot;http://x.x.x.x:9876&quot;, &quot;cac3b3c65347e87cdf1f9a7352935db79e2435f5&quot;);\n    try {\n        sonarApi.login(&quot;admin&quot;, &quot;******&quot;);\n        sonarApi.updateRuleMarkdownNote(&quot;custom-rules-java:ExampleRules01&quot;, &quot;*foo*&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>logs:</p>\n<pre><code>六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; POST http://172.25.160.238:9876/api/authentication/login\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 34\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Accept: application/json\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Host: 172.25.160.238:9876\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Origin: http://172.25.160.238:9876\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Type: application/x-www-form-urlencoded\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: \n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: login=admin&amp;password=%23Fgglgy0223\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; END POST (34-byte body)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- 200 http://172.25.160.238:9876/api/authentication/login (266ms)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Frame-Options: SAMEORIGIN\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-XSS-Protection: 1; mode=block\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Content-Type-Options: nosniff\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Set-Cookie: XSRF-TOKEN=5iohli0jdhtla6tk8a87598log; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Set-Cookie: JWT-SESSION=eyJhbGciOiJIUzI1NiJ9.eyJsYXN0UmVmcmVzaFRpbWUiOjE2ODY4OTc4NjMyNTMsInhzcmZUb2tlbiI6IjVpb2hsaTBqZGh0bGE2dGs4YTg3NTk4bG9nIiwianRpIjoiQVlqQzhxcFNkRWtsQ2VJdXhIQ0IiLCJzdWIiOiJBWHd3MUhOY1NCN0xfa1UtMEhydyIsImlhdCI6MTY4Njg5Nzg2MywiZXhwIjoxNjg3MTU3MDYzfQ.sDbWX2_pNGIAIMjrgOBSyEnsBLc9fncz2-7XS_uyx-M; Max-Age=259200; Expires=Mon, 19-Jun-2023 06:44:23 GMT; Path=/; HttpOnly\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 0\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Keep-Alive: timeout=60\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Connection: keep-alive\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- END HTTP (0-byte body)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; POST http://172.25.160.238:9876/api/rules/update\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 58\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Type: application/x-www-form-urlencoded\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: \n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: key=custom-rules-java%3AExampleRules01&amp;markdown_note=*foo*\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: --&gt; END POST (58-byte body)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- 401 http://172.25.160.238:9876/api/rules/update (7ms)\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Frame-Options: SAMEORIGIN\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-XSS-Protection: 1; mode=block\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: X-Content-Type-Options: nosniff\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Content-Length: 0\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Date: Fri, 16 Jun 2023 06:44:23 GMT\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Keep-Alive: timeout=60\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: Connection: keep-alive\n六月 16, 2023 2:42:54 下午 okhttp3.internal.platform.Platform log\n信息: &lt;-- END HTTP (0-byte body)\n\n</code></pre>\n<p>after login, I can see setcookie header from server, but why cookies not loaded for subsequent requests? I can't  figure it out why.  as you can see in the logs, login request is successful and cookies named as <code>XSRF-TOKEN</code> and <code>JWT-SESSION</code> was returned within response headers, but the following request did not send a <code>Cookie</code> header with them.</p>\n"},{"tags":["java","hazelcast","hazelcast-imap","hazelcast-jet","hazelcast-aggregate"],"comments":[{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1686901910,"post_id":76476090,"comment_id":134864780,"body_markdown":"Again, it&#39;s better to provide full working code samples and sample data which show what your problem is and what you try to achieve. What does _join as it goes_ mean?","body":"Again, it&#39;s better to provide full working code samples and sample data which show what your problem is and what you try to achieve. What does <i>join as it goes</i> mean?"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686903536,"creation_date":1686763203,"question_id":76476090,"body_markdown":"I am trying to Join two datasoures using Hazelcast Jet but it seems to be done in Statefull form that it collect all data/grouping and then joins but can we join as it goes?\r\n\r\nHere below is my code:\r\n\r\n    public BatchStage&lt;Object&gt; JoinData() {\r\n    \r\n            //Here is the logic for the inner joining\r\n    \r\n             BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n                    // gorup by join key\r\n            });\r\n            BatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n                    // gorup by join key\r\n            });\r\n            \r\n            //Aggregate here (So here it becoming stateful if I am not wrong can we make it stateless?).\r\n            BatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\r\n            \r\n           //Here I am trying to do inner join\r\n            BatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.filter(h -&gt; {\r\n            \t return !h.getValue().f0().isEmpty() &amp;&amp; !h.getValue().f1().isEmpty();\r\n             }).map(e -&gt; { \r\n    \r\n            \t List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n            \t e.getValue().f0().forEach(z -&gt;  {\r\n            \t\t\t\r\n            \t\t\t if (e.getValue().f1().size() &gt; 0) {\r\n            \t\t\t\t\t\t \r\n            \t\t\t\t\r\n            \t\t\t\t\t e.getValue().f1().forEach(z1 -&gt;  {\r\n            \t\t\t\t\t\t Map&lt;String, Object&gt; a = new HashMap&lt;String, Object&gt;();\r\n            \t\t\t\t\t\t Map&lt;String, Object&gt; f1 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z);\r\n                 \t\t\t\t\tMap&lt;String, Object&gt; f0 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z1);\r\n                 \t\t\t\t\ta.putAll(f0);\r\n                 \t\t\t\t\ta.putAll(f1);\r\n                 \t\t\t\t\tlist.add(a); \r\n            \t\t\t\t\t });\r\n            \t\t\t }\r\n            \t\t\t \r\n            \t\t });\r\n\r\n            \t return list;\r\n            \t \r\n             });\r\n            \r\n            return jdbcBatchStageData;\r\n            \r\n    }\r\n\r\nPlease let me know if there is way to do it or not?\r\n ","title":"Perform Left,Right and Inner Join in Hazelcast Jet in Stateless manner","body":"<p>I am trying to Join two datasoures using Hazelcast Jet but it seems to be done in Statefull form that it collect all data/grouping and then joins but can we join as it goes?</p>\n<p>Here below is my code:</p>\n<pre><code>public BatchStage&lt;Object&gt; JoinData() {\n\n        //Here is the logic for the inner joining\n\n         BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                // gorup by join key\n        });\n        BatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                // gorup by join key\n        });\n        \n        //Aggregate here (So here it becoming stateful if I am not wrong can we make it stateless?).\n        BatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\n        \n       //Here I am trying to do inner join\n        BatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.filter(h -&gt; {\n             return !h.getValue().f0().isEmpty() &amp;&amp; !h.getValue().f1().isEmpty();\n         }).map(e -&gt; { \n\n             List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n             e.getValue().f0().forEach(z -&gt;  {\n                    \n                     if (e.getValue().f1().size() &gt; 0) {\n                                 \n                        \n                             e.getValue().f1().forEach(z1 -&gt;  {\n                                 Map&lt;String, Object&gt; a = new HashMap&lt;String, Object&gt;();\n                                 Map&lt;String, Object&gt; f1 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z);\n                                Map&lt;String, Object&gt; f0 = new HashMap&lt;String, Object&gt;((Map&lt;String, Object&gt;) z1);\n                                a.putAll(f0);\n                                a.putAll(f1);\n                                list.add(a); \n                             });\n                     }\n                     \n                 });\n\n             return list;\n             \n         });\n        \n        return jdbcBatchStageData;\n        \n}\n</code></pre>\n<p>Please let me know if there is way to do it or not?</p>\n"},{"tags":["java","intellij-idea","path","absolute-path"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686859562,"post_id":76485154,"comment_id":134860003,"body_markdown":"It _should_ be, _&quot;db/filename&quot;_.  You&#39;re saying this doesn&#39;t work?","body":"It <i>should</i> be, <i>&quot;db/filename&quot;</i>.  You&#39;re saying this doesn&#39;t work?"},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686860111,"post_id":76485154,"comment_id":134860100,"body_markdown":"Doesn&#39;t work, unless it is the absolute path","body":"Doesn&#39;t work, unless it is the absolute path"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1686860121,"post_id":76485154,"comment_id":134860104,"body_markdown":"What have you configured as &quot;working directory&quot; in your run config? Everything is relative to that directory.","body":"What have you configured as &quot;working directory&quot; in your run config? Everything is relative to that directory."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1686860288,"post_id":76485154,"comment_id":134860138,"body_markdown":"Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve). Note that if you want to access some resource from the classpath, it needs to be in the directory configured as the resource root, see https://www.jetbrains.com/help/idea/configuring-content-roots.html,","body":"Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. Note that if you want to access some resource from the classpath, it needs to be in the directory configured as the resource root, see <a href=\"https://www.jetbrains.com/help/idea/configuring-content-roots.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/configuring-content-roots.html</a>,"},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686860622,"post_id":76485154,"comment_id":134860193,"body_markdown":"I&#39;m not sure if this is correct but in the terminal I&#39;m at the start of the folder, ProjectName.","body":"I&#39;m not sure if this is correct but in the terminal I&#39;m at the start of the folder, ProjectName."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1686860835,"post_id":76485154,"comment_id":134860248,"body_markdown":"Do you use the terminal to start your program?","body":"Do you use the terminal to start your program?"},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686861190,"post_id":76485154,"comment_id":134860337,"body_markdown":"No, i just use the run button in intellij","body":"No, i just use the run button in intellij"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686862639,"post_id":76485154,"comment_id":134860576,"body_markdown":"You&#39;ll need to locate what your working directory is, you can find it under _File &gt; Project Structure &gt; Modules &gt; your module &gt; Sources_.  The top directory, there, is the working directory.  Alternately, you can print out an empty _File_ object to the standard-out, and see what the path it, _new File(&quot;&quot;)_.","body":"You&#39;ll need to locate what your working directory is, you can find it under <i>File &gt; Project Structure &gt; Modules &gt; your module &gt; Sources</i>.  The top directory, there, is the working directory.  Alternately, you can print out an empty <i>File</i> object to the standard-out, and see what the path it, <i>new File(&quot;&quot;)</i>."},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686863587,"post_id":76485154,"comment_id":134860708,"body_markdown":"The working directory is the ProjectName. When I try the new File method it shows the current path to the file I&#39;m running.","body":"The working directory is the ProjectName. When I try the new File method it shows the current path to the file I&#39;m running."},{"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"score":0,"creation_date":1686905124,"post_id":76485154,"comment_id":134865436,"body_markdown":"C:\\Users\\5600X\\Desktop\\MTBHub_backend\\src\\database         This is my working directory when I run, however when I run it in VSC, it ends at MTBHub_backend. And when I follow what Reilas said, the WD is the ProjectName. Maybe an issue with the Run Config?","body":"C:\\Users\\5600X\\Desktop\\MTBHub_backend\\src\\database         This is my working directory when I run, however when I run it in VSC, it ends at MTBHub_backend. And when I follow what Reilas said, the WD is the ProjectName. Maybe an issue with the Run Config?"}],"owner":{"account_id":28212723,"reputation":1,"user_id":21564696,"display_name":"sedib"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686903192,"creation_date":1686859245,"question_id":76485154,"body_markdown":"I am having trouble with IntelliJ recognizing file paths when the file is located outside of the src folder. This problem only occurs when the file path is not an absolute path, and it is causing me issues as I need to manually change all file paths. My project structure is as follows:\r\n\r\n\r\n- ProjectName\r\n  - .idea\r\n  - db\r\n  - src\r\n    - controllers dir\r\n    - routers dir\r\n    - database dir\r\n    - index.js\r\n\r\nFor example, I cannot access the db folder from the src/database directory. I am experiencing this issue across multiple projects with assets located outside the src folder. Any assistance would be greatly appreciated. I have also tried ../ and / in front with no success.\r\n\r\n[File Setup][1]\r\n  [1]: https://i.stack.imgur.com/eXB5G.png\r\n\r\ndb = new Database(&#39;db/data.sqlite&#39;); is the code I am trying.\r\n\r\n\r\nEdit: I opened in VS Code and it runs with no issues so I assume its an issue with intellij, going to contact jetBrains for a solution. Will update when it is fixed.","title":"Unable to use any Root path in Intellij only Absolute path","body":"<p>I am having trouble with IntelliJ recognizing file paths when the file is located outside of the src folder. This problem only occurs when the file path is not an absolute path, and it is causing me issues as I need to manually change all file paths. My project structure is as follows:</p>\n<ul>\n<li>ProjectName\n<ul>\n<li>.idea</li>\n<li>db</li>\n<li>src\n<ul>\n<li>controllers dir</li>\n<li>routers dir</li>\n<li>database dir</li>\n<li>index.js</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>For example, I cannot access the db folder from the src/database directory. I am experiencing this issue across multiple projects with assets located outside the src folder. Any assistance would be greatly appreciated. I have also tried ../ and / in front with no success.</p>\n<p>[File Setup][1]\n[1]: https://i.stack.imgur.com/eXB5G.png</p>\n<p>db = new Database('db/data.sqlite'); is the code I am trying.</p>\n<p>Edit: I opened in VS Code and it runs with no issues so I assume its an issue with intellij, going to contact jetBrains for a solution. Will update when it is fixed.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":8544053,"reputation":997,"user_id":6418029,"display_name":"Ashutosh"},"score":0,"creation_date":1686886922,"post_id":76486785,"comment_id":134862917,"body_markdown":"Can you add some more details like where are you defining public POJO serviceMethod (HashMap hsh, byte[] byt)?","body":"Can you add some more details like where are you defining public POJO serviceMethod (HashMap hsh, byte[] byt)?"},{"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"score":0,"creation_date":1686888861,"post_id":76486785,"comment_id":134863049,"body_markdown":"@Ashutosh  i&#39;ve add more details about it!","body":"@Ashutosh  i&#39;ve add more details about it!"},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1686897826,"post_id":76486785,"comment_id":134864092,"body_markdown":"That code won&#39;t compile. There are numerous faults.","body":"That code won&#39;t compile. There are numerous faults."},{"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"score":0,"creation_date":1686901999,"post_id":76486785,"comment_id":134864793,"body_markdown":"@rghome no but i found reason, it was for remoting not just Serialization","body":"@rghome no but i found reason, it was for remoting not just Serialization"}],"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686941891,"answer_count":0,"score":0,"last_activity_date":1686902185,"creation_date":1686885946,"question_id":76486785,"body_markdown":"due to Project refactoring, i’ve found a serialization POJO class and interface for serialization.\r\n\r\n\r\nPOJO class implement serialization and service set byte[] and hashMap.\r\n\r\n```\r\n\r\npublic class POJO implements Serializable {\r\n\r\nprivate Hashmap HashMapForRequest = new HashMap();\r\n\r\n//and getter,setters..\r\n}\r\n\r\npublic Interface InterfaceService{\r\n\r\n     public POJO serviceMethod (HashMap hsh, byte[] byt) throw Exception;\r\n}\r\n```\r\n\r\nit looks nothing special but occurs nullpointerException in below code.\r\n\r\n\r\n```\r\nimport POJO;\r\n\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class Controller {\r\n\r\nprivate InterfaceService Interface;\r\n\r\ncallMethod();\r\n    \r\n    @Synchronized\r\n    public callMethod(HashMap hsh, byte[] byt){\r\n        POJO pojo = Interface.serviceMethod(hsh, byt);\r\n    }\r\n}\r\n```\r\n\r\ni doubt about parameter name are not matched with POJO’s field, but  it runs without any error on original project.\r\nserialVersionUid is not defined.\r\n\r\nany kind of help will be greatly appreciated, thank you.\r\n\r\n*** it was interface for remoting, i didn&#39;t notice sorry\r\n","title":"POJO serialization with an interface return null","body":"<p>due to Project refactoring, i’ve found a serialization POJO class and interface for serialization.</p>\n<p>POJO class implement serialization and service set byte[] and hashMap.</p>\n<pre><code>\npublic class POJO implements Serializable {\n\nprivate Hashmap HashMapForRequest = new HashMap();\n\n//and getter,setters..\n}\n\npublic Interface InterfaceService{\n\n     public POJO serviceMethod (HashMap hsh, byte[] byt) throw Exception;\n}\n</code></pre>\n<p>it looks nothing special but occurs nullpointerException in below code.</p>\n<pre><code>import POJO;\n\n@RequiredArgsConstructor\n@Component\npublic class Controller {\n\nprivate InterfaceService Interface;\n\ncallMethod();\n    \n    @Synchronized\n    public callMethod(HashMap hsh, byte[] byt){\n        POJO pojo = Interface.serviceMethod(hsh, byt);\n    }\n}\n</code></pre>\n<p>i doubt about parameter name are not matched with POJO’s field, but  it runs without any error on original project.\nserialVersionUid is not defined.</p>\n<p>any kind of help will be greatly appreciated, thank you.</p>\n<p>*** it was interface for remoting, i didn't notice sorry</p>\n"},{"tags":["java","aspectj","wildfly-14"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1686904487,"post_id":76486331,"comment_id":134865289,"body_markdown":"How are you building and how are you configuring your app? I don&#39;t think JEE will run AspectJ out of the box (unless something changed the last years, I haven&#39;t used it for some time). Also, since you are using CDI, you could take a look at standard JEE interceptors; less powerful than AspectJ, but will do for most of the use cases.","body":"How are you building and how are you configuring your app? I don&#39;t think JEE will run AspectJ out of the box (unless something changed the last years, I haven&#39;t used it for some time). Also, since you are using CDI, you could take a look at standard JEE interceptors; less powerful than AspectJ, but will do for most of the use cases."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1686904582,"post_id":76486331,"comment_id":134865309,"body_markdown":"Are you trying to use load-time weaving (LTW) or compile-time weaving (CTW)? In case of LTW, where is your _aop.xml_? In case of CTW, where is your build configuration for the AspectJ compiler?","body":"Are you trying to use load-time weaving (LTW) or compile-time weaving (CTW)? In case of LTW, where is your <i>aop.xml</i>? In case of CTW, where is your build configuration for the AspectJ compiler?"},{"owner":{"account_id":11979041,"reputation":21,"user_id":8765384,"display_name":"26Boyka"},"score":0,"creation_date":1686934140,"post_id":76486331,"comment_id":134871679,"body_markdown":"@kriegaex thanks for your comment. I did read all about aspectj page on Internet but I have never come across such a concept that you wrote about CTW and LTW. I compiled with plugin with &quot;aspectj-maven-plugin&quot; for CTW and it worked. Problem solved. Thanks a lot again.","body":"@kriegaex thanks for your comment. I did read all about aspectj page on Internet but I have never come across such a concept that you wrote about CTW and LTW. I compiled with plugin with &quot;aspectj-maven-plugin&quot; for CTW and it worked. Problem solved. Thanks a lot again."}],"owner":{"account_id":11979041,"reputation":21,"user_id":8765384,"display_name":"26Boyka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686901398,"creation_date":1686876672,"question_id":76486331,"body_markdown":"I&#39;m want to use Aspectj in project. I created helloworld basic servlet project. When I deploy my project on Wildfly 14, I don&#39;t see any logs on Wilfly 14.0 console from MyAspect class. I am not sure about to add anything my code or Wildfly 14.0. Here my classes,\r\n\r\n**MyAspect**\r\n\r\n```java\r\n@Aspect\r\npublic class MyAspect {\r\n\r\n    static Logger logger = Logger.getLogger(&quot;MyAspect&quot;);\r\n\r\n    @Before(&quot;execution(* org.jboss.as.quickstarts.helloworld.HelloService.*(..))&quot;)\r\n    public void testModeOnlyMethods() {\r\n        logger.info(&quot;AspectLog&quot;);\r\n    }\r\n} \r\n```\r\n\r\n**HelloWorldServlet**\r\n\r\n```java\r\npublic class HelloWorldServlet extends HttpServlet {\r\n\r\n    static String PAGE_HEADER = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;helloworld&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&quot;;\r\n\r\n    static String PAGE_FOOTER = &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n    @Inject\r\n    HelloService helloService;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        resp.setContentType(&quot;text/html&quot;);\r\n        PrintWriter writer = resp.getWriter();\r\n        writer.println(PAGE_HEADER);\r\n        writer.println(&quot;&lt;h1&gt;&quot; + helloService.createHelloMessage(&quot;World&quot;) + &quot;&lt;/h1&gt;&quot;);\r\n        writer.println(PAGE_FOOTER);\r\n        writer.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**HelloService**\r\n\r\n```java\r\npublic class HelloService {\r\n\r\n    static Logger logger = Logger.getLogger(&quot;HelloService&quot;);\r\n\r\n    String createHelloMessage(String name) {\r\n        logger.info(&quot;Aspect&quot;);\r\n        return &quot;Hello &quot; + name + &quot;!&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**Project Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8AVN6.png","title":"Wildfly 14.0 with Aspectj","body":"<p>I'm want to use Aspectj in project. I created helloworld basic servlet project. When I deploy my project on Wildfly 14, I don't see any logs on Wilfly 14.0 console from MyAspect class. I am not sure about to add anything my code or Wildfly 14.0. Here my classes,</p>\n<p><strong>MyAspect</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class MyAspect {\n\n    static Logger logger = Logger.getLogger(&quot;MyAspect&quot;);\n\n    @Before(&quot;execution(* org.jboss.as.quickstarts.helloworld.HelloService.*(..))&quot;)\n    public void testModeOnlyMethods() {\n        logger.info(&quot;AspectLog&quot;);\n    }\n} \n</code></pre>\n<p><strong>HelloWorldServlet</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorldServlet extends HttpServlet {\n\n    static String PAGE_HEADER = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;helloworld&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&quot;;\n\n    static String PAGE_FOOTER = &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n    @Inject\n    HelloService helloService;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.setContentType(&quot;text/html&quot;);\n        PrintWriter writer = resp.getWriter();\n        writer.println(PAGE_HEADER);\n        writer.println(&quot;&lt;h1&gt;&quot; + helloService.createHelloMessage(&quot;World&quot;) + &quot;&lt;/h1&gt;&quot;);\n        writer.println(PAGE_FOOTER);\n        writer.close();\n    }\n\n}\n</code></pre>\n<p><strong>HelloService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloService {\n\n    static Logger logger = Logger.getLogger(&quot;HelloService&quot;);\n\n    String createHelloMessage(String name) {\n        logger.info(&quot;Aspect&quot;);\n        return &quot;Hello &quot; + name + &quot;!&quot;;\n    }\n}\n</code></pre>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/8AVN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8AVN6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","statusbar"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1686902084,"post_id":76487965,"comment_id":134864813,"body_markdown":"Does this answer your question? [Disable the notification panel from being pulled down](https://stackoverflow.com/questions/19920052/disable-the-notification-panel-from-being-pulled-down)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19920052/disable-the-notification-panel-from-being-pulled-down\">Disable the notification panel from being pulled down</a>"}],"owner":{"account_id":27318490,"reputation":1,"user_id":20832625,"display_name":"Nayana Petkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686901218,"creation_date":1686901218,"question_id":76487965,"body_markdown":"I have tried several options to disable the pulling down of status bar.\r\n\r\nOption one:\r\n\r\n      //call this method in onWindowFocusChanged()\r\n      public void collapseNow(){\r\n        // Initialize &#39;collapseNotificationHandler&#39;\r\n        if (collapseNotificationHandler == null) {\r\n            collapseNotificationHandler = new Handler();\r\n        }\r\n        // If window focus has been lost &amp;&amp; activity is not in a paused state\r\n        // Its a valid check because showing of notification panel\r\n        // steals the focus from current activity&#39;s window, but does not\r\n        // &#39;pause&#39; the activity\r\n        if (!currentFocus &amp;&amp; !isPaused) {\r\n\r\n            // Post a Runnable with some delay - currently set to 300 ms\r\n            collapseNotificationHandler.postDelayed(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n\r\n                    // Use reflection to trigger a method from &#39;StatusBarManager&#39;\r\n\r\n                    @SuppressLint(&quot;WrongConstant&quot;) Object statusBarService = getSystemService(&quot;statusbar&quot;);\r\n                    Class&lt;?&gt; statusBarManager = null;\r\n\r\n                    try {\r\n                        statusBarManager = Class.forName(&quot;android.app.StatusBarManager&quot;);\r\n                    } catch (ClassNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    Method collapseStatusBar = null;\r\n\r\n                    try {\r\n\r\n                        // Prior to API 17, the method to call is &#39;collapse()&#39;\r\n                        // API 17 onwards, the method to call is `collapsePanels()`\r\n\r\n                        if (Build.VERSION.SDK_INT &gt; 16) {\r\n                            collapseStatusBar = statusBarManager.getMethod(&quot;collapsePanels&quot;);\r\n                        } else {\r\n                            collapseStatusBar = statusBarManager.getMethod(&quot;collapse&quot;);\r\n                        }\r\n\r\n                    } catch (NoSuchMethodException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                    collapseStatusBar.setAccessible(true);\r\n                    try {\r\n                        collapseStatusBar.invoke(statusBarService);\r\n                    } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    // Check if the window focus has been returned\r\n                    // If it hasn&#39;t been returned, post this Runnable again\r\n                    // Currently, the delay is 100 ms. You can change this\r\n                    // value to suit your needs.\r\n                    if (!currentFocus &amp;&amp; !isPaused) {\r\n                        collapseNotificationHandler.postDelayed(this, 100L);\r\n                    }\r\n\r\n                }\r\n            }, 300L);\r\n        }\r\n    }\r\nUsing this solution user can still able to pull down but it will automatically pull up.\r\n\r\nOption 2: \r\n\r\n    public void preventStatusBarExpansion(Context context) {\r\n     WindowManager manager = ((WindowManager) this.getSystemService(Context.WINDOW_SERVICE));\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            if (!Settings.canDrawOverlays(MainActivity.this)) {\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\r\n                startActivityForResult(intent, 1234);\r\n            }\r\n        }\r\n        WindowManager.LayoutParams localLayoutParams = new WindowManager.LayoutParams();\r\n        localLayoutParams.type = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY;\r\n        localLayoutParams.gravity = Gravity.TOP;\r\n        localLayoutParams.flags = WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE|\r\n\r\n                // this is to enable the notification to recieve touch events\r\n                WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL |\r\n\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN |\r\n\r\n                // Draws over status bar\r\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN;\r\n\r\n        localLayoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\r\n        localLayoutParams.height = (int) (50 * getResources()\r\n                .getDisplayMetrics().scaledDensity);\r\n        localLayoutParams.format = PixelFormat.TRANSPARENT;\r\n\r\n        CustomViewGroup view = new CustomViewGroup(this);\r\n\r\n        manager.addView(view, localLayoutParams);\r\n\r\n    }\r\n\r\nThis solution does not work as its still showing the status bar and user can able to access it.\r\n\r\nOption 3: \r\n\r\n     private void hideSystemUi() {\r\n\r\n            // hide status bar\r\n            View decorView = getWindow().getDecorView();\r\n            int uiOptions = View.SYSTEM_UI_FLAG_IMMERSIVE  | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    // Hide the nav bar and status bar\r\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN;\r\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            decorView.setSystemUiVisibility(uiOptions);\r\n\r\n    }\r\n\r\nI have tried all the options available but none of them are working, first time the status bar wont be visible but once user clicks on the status bar it will visible and I don&#39;t want this to happen.\r\nPlease help if you have achieve to disable pulling down the status bar functionality.\r\n","title":"How to disable pull down the status bar in android programmatically","body":"<p>I have tried several options to disable the pulling down of status bar.</p>\n<p>Option one:</p>\n<pre><code>  //call this method in onWindowFocusChanged()\n  public void collapseNow(){\n    // Initialize 'collapseNotificationHandler'\n    if (collapseNotificationHandler == null) {\n        collapseNotificationHandler = new Handler();\n    }\n    // If window focus has been lost &amp;&amp; activity is not in a paused state\n    // Its a valid check because showing of notification panel\n    // steals the focus from current activity's window, but does not\n    // 'pause' the activity\n    if (!currentFocus &amp;&amp; !isPaused) {\n\n        // Post a Runnable with some delay - currently set to 300 ms\n        collapseNotificationHandler.postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n\n                // Use reflection to trigger a method from 'StatusBarManager'\n\n                @SuppressLint(&quot;WrongConstant&quot;) Object statusBarService = getSystemService(&quot;statusbar&quot;);\n                Class&lt;?&gt; statusBarManager = null;\n\n                try {\n                    statusBarManager = Class.forName(&quot;android.app.StatusBarManager&quot;);\n                } catch (ClassNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n                Method collapseStatusBar = null;\n\n                try {\n\n                    // Prior to API 17, the method to call is 'collapse()'\n                    // API 17 onwards, the method to call is `collapsePanels()`\n\n                    if (Build.VERSION.SDK_INT &gt; 16) {\n                        collapseStatusBar = statusBarManager.getMethod(&quot;collapsePanels&quot;);\n                    } else {\n                        collapseStatusBar = statusBarManager.getMethod(&quot;collapse&quot;);\n                    }\n\n                } catch (NoSuchMethodException e) {\n                    e.printStackTrace();\n                }\n\n\n                collapseStatusBar.setAccessible(true);\n                try {\n                    collapseStatusBar.invoke(statusBarService);\n                } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\n                    e.printStackTrace();\n                }\n\n                // Check if the window focus has been returned\n                // If it hasn't been returned, post this Runnable again\n                // Currently, the delay is 100 ms. You can change this\n                // value to suit your needs.\n                if (!currentFocus &amp;&amp; !isPaused) {\n                    collapseNotificationHandler.postDelayed(this, 100L);\n                }\n\n            }\n        }, 300L);\n    }\n}\n</code></pre>\n<p>Using this solution user can still able to pull down but it will automatically pull up.</p>\n<p>Option 2:</p>\n<pre><code>public void preventStatusBarExpansion(Context context) {\n WindowManager manager = ((WindowManager) this.getSystemService(Context.WINDOW_SERVICE));\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        if (!Settings.canDrawOverlays(MainActivity.this)) {\n            Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\n            startActivityForResult(intent, 1234);\n        }\n    }\n    WindowManager.LayoutParams localLayoutParams = new WindowManager.LayoutParams();\n    localLayoutParams.type = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY;\n    localLayoutParams.gravity = Gravity.TOP;\n    localLayoutParams.flags = WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE|\n\n            // this is to enable the notification to recieve touch events\n            WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL |\n\n            WindowManager.LayoutParams.FLAG_FULLSCREEN |\n\n            // Draws over status bar\n            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN;\n\n    localLayoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;\n    localLayoutParams.height = (int) (50 * getResources()\n            .getDisplayMetrics().scaledDensity);\n    localLayoutParams.format = PixelFormat.TRANSPARENT;\n\n    CustomViewGroup view = new CustomViewGroup(this);\n\n    manager.addView(view, localLayoutParams);\n\n}\n</code></pre>\n<p>This solution does not work as its still showing the status bar and user can able to access it.</p>\n<p>Option 3:</p>\n<pre><code> private void hideSystemUi() {\n\n        // hide status bar\n        View decorView = getWindow().getDecorView();\n        int uiOptions = View.SYSTEM_UI_FLAG_IMMERSIVE  | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                // Hide the nav bar and status bar\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                | View.SYSTEM_UI_FLAG_FULLSCREEN;\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        decorView.setSystemUiVisibility(uiOptions);\n\n}\n</code></pre>\n<p>I have tried all the options available but none of them are working, first time the status bar wont be visible but once user clicks on the status bar it will visible and I don't want this to happen.\nPlease help if you have achieve to disable pulling down the status bar functionality.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670226958,"post_id":74684908,"comment_id":131818218,"body_markdown":"My full source code of microservices system https://github.com/donhuvy/micro-service-usecase","body":"My full source code of microservices system <a href=\"https://github.com/donhuvy/micro-service-usecase\" rel=\"nofollow noreferrer\">github.com/donhuvy/micro-service-usecase</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670233506,"post_id":74684908,"comment_id":131820323,"body_markdown":"Spring Cloud is tied to certain versions of Spring Boot. Your version isn&#39;t compatible afaik. You need 2022.0.x not 2021.0.x which is for Spring Boot 2.6/2.7.","body":"Spring Cloud is tied to certain versions of Spring Boot. Your version isn&#39;t compatible afaik. You need 2022.0.x not 2021.0.x which is for Spring Boot 2.6/2.7."},{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":0,"creation_date":1670350848,"post_id":74684908,"comment_id":131854924,"body_markdown":"`2022.x` is the one compatible with Boot `3.0.0`. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3.","body":"<code>2022.x</code> is the one compatible with Boot <code>3.0.0</code>. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3."}],"answers":[{"tags":[],"owner":{"account_id":27149349,"reputation":116,"user_id":20689058,"display_name":"tisho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670228968,"creation_date":1670228968,"answer_id":74685272,"question_id":74684908,"body_markdown":"please share your pom.xml. It looks like you don&#39;t have spring-cloud-starter-loadbalancer dependency in your project. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>please share your pom.xml. It looks like you don't have spring-cloud-starter-loadbalancer dependency in your project.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23368420,"reputation":147,"user_id":17439681,"display_name":"sof_user"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670332084,"creation_date":1670332084,"answer_id":74703044,"question_id":74684908,"body_markdown":"Replacing ``path`` with ``url`` in feign client class along with ``@ImportAutoConfiguration({FeignAutoConfiguration.class})`` in main class worked for me.","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>Replacing <code>path</code> with <code>url</code> in feign client class along with <code>@ImportAutoConfiguration({FeignAutoConfiguration.class})</code> in main class worked for me.</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686900867,"creation_date":1686900867,"answer_id":76487914,"question_id":74684908,"body_markdown":"That could mean you forgot to define the `url` property of your `@FeignClient` or the property is empty. Check your class code and application properties.\r\n\r\n```\r\n    @FeignClient(name = &quot;myfeignclient&quot;, url = &quot;${my.url}&quot;)\r\n    public interface TestFeignClient {\r\n        @GetMapping(value = &quot;/test&quot;)\r\n        public Map&lt;String, String&gt; test();\r\n    }\r\n```\r\n\r\nThere is an issue about this confusing error message: \r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/issues/517","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>That could mean you forgot to define the <code>url</code> property of your <code>@FeignClient</code> or the property is empty. Check your class code and application properties.</p>\n<pre><code>    @FeignClient(name = &quot;myfeignclient&quot;, url = &quot;${my.url}&quot;)\n    public interface TestFeignClient {\n        @GetMapping(value = &quot;/test&quot;)\n        public Map&lt;String, String&gt; test();\n    }\n</code></pre>\n<p>There is an issue about this confusing error message:\n<a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/517\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/issues/517</a></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3964,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686900867,"creation_date":1670226919,"question_id":74684908,"body_markdown":"I am using Spring Boot 3.0.0 , Spring Cloud 2021.0.5 . I have `BillingServiceApplication.java`\r\n\r\n```java\r\npackage org.sid.billingservice;\r\n\r\nimport org.sid.billingservice.entities.Bill;\r\nimport org.sid.billingservice.entities.ProductItem;\r\nimport org.sid.billingservice.model.Customer;\r\nimport org.sid.billingservice.model.Product;\r\nimport org.sid.billingservice.repository.BillRepository;\r\nimport org.sid.billingservice.repository.ProductItemRepository;\r\nimport org.sid.billingservice.services.CustomerRestClient;\r\nimport org.sid.billingservice.services.ProductRestClient;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.openfeign.EnableFeignClients;\r\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\nimport java.util.Random;\r\n\r\n@SpringBootApplication\r\n@EnableFeignClients\r\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\r\npublic class BillingServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BillingServiceApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    CommandLineRunner start(BillRepository billRepository, ProductItemRepository productItemRepository, CustomerRestClient customerRestClient, ProductRestClient productRestClient) {\r\n        return args -&gt; {\r\n            Collection&lt;Product&gt; products = productRestClient.allProducts().getContent();\r\n            Long customerId = 1L;\r\n            Customer customer = customerRestClient.findCustomerById(customerId);\r\n            if (customer == null) throw new RuntimeException(&quot;Customer not found&quot;);\r\n            Bill bill = new Bill();\r\n            bill.setBillDate(new Date());\r\n            bill.setCustomerId(customerId);\r\n            Bill savedBill = billRepository.save(bill);\r\n            products.forEach(product -&gt; {\r\n                ProductItem productItem = new ProductItem();\r\n                productItem.setBill(savedBill);\r\n                productItem.setProductId(product.getId());\r\n                productItem.setQuantity(1 + new Random().nextInt(10));\r\n                productItem.setPrice(product.getPrice());\r\n                productItem.setDiscount(Math.random());\r\n                productItemRepository.save(productItem);\r\n            });\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nmy error\r\n\r\n\r\n```\r\nNo Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?\r\n```\r\nLog error full https://gist.github.com/donhuvy/348aa7b096cde63a7129ad0f009c7507\r\n\r\nHow to fix it?","title":"Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?","body":"<p>I am using Spring Boot 3.0.0 , Spring Cloud 2021.0.5 . I have <code>BillingServiceApplication.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.sid.billingservice;\n\nimport org.sid.billingservice.entities.Bill;\nimport org.sid.billingservice.entities.ProductItem;\nimport org.sid.billingservice.model.Customer;\nimport org.sid.billingservice.model.Product;\nimport org.sid.billingservice.repository.BillRepository;\nimport org.sid.billingservice.repository.ProductItemRepository;\nimport org.sid.billingservice.services.CustomerRestClient;\nimport org.sid.billingservice.services.ProductRestClient;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.openfeign.EnableFeignClients;\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.Random;\n\n@SpringBootApplication\n@EnableFeignClients\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\npublic class BillingServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BillingServiceApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner start(BillRepository billRepository, ProductItemRepository productItemRepository, CustomerRestClient customerRestClient, ProductRestClient productRestClient) {\n        return args -&gt; {\n            Collection&lt;Product&gt; products = productRestClient.allProducts().getContent();\n            Long customerId = 1L;\n            Customer customer = customerRestClient.findCustomerById(customerId);\n            if (customer == null) throw new RuntimeException(&quot;Customer not found&quot;);\n            Bill bill = new Bill();\n            bill.setBillDate(new Date());\n            bill.setCustomerId(customerId);\n            Bill savedBill = billRepository.save(bill);\n            products.forEach(product -&gt; {\n                ProductItem productItem = new ProductItem();\n                productItem.setBill(savedBill);\n                productItem.setProductId(product.getId());\n                productItem.setQuantity(1 + new Random().nextInt(10));\n                productItem.setPrice(product.getPrice());\n                productItem.setDiscount(Math.random());\n                productItemRepository.save(productItem);\n            });\n        };\n    }\n\n}\n</code></pre>\n<p>my error</p>\n<pre><code>No Feign Client for loadBalancing defined. Did you forget to include spring-cloud-starter-loadbalancer?\n</code></pre>\n<p>Log error full <a href=\"https://gist.github.com/donhuvy/348aa7b096cde63a7129ad0f009c7507\" rel=\"nofollow noreferrer\">https://gist.github.com/donhuvy/348aa7b096cde63a7129ad0f009c7507</a></p>\n<p>How to fix it?</p>\n"},{"tags":["java","docker","caching","jwt","keycloak"],"answers":[{"tags":[],"owner":{"account_id":18881846,"reputation":26,"user_id":13774062,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686900595,"creation_date":1686900595,"answer_id":76487888,"question_id":75676826,"body_markdown":"Since the credential input validation is always executed in your implemented `UserStorageProvider`, you can simply invalidate the user in the overwritten `isValid()` method using the `KeycloakSession` object:\r\n\r\n```java\r\npublic MyUserStorageProvider(KeycloakSession session, ComponentModel model) {\r\n    this.session = session;\r\n    this.model = model;\r\n}\r\n\r\n @Override\r\npublic boolean isValid(RealmModel realm, UserModel user, CredentialInput credentialInput) {\r\n    // invalidate user in cache here to ensure that custom user attributes are refreshed on every new request\r\n    session.invalidate(InvalidationHandler.ObjectType.USER, user.getId());\r\n\r\n    ...\r\n}\r\n```","title":"Keycloak issues JWT token with outdated custom attributes from user storage SPI","body":"<p>Since the credential input validation is always executed in your implemented <code>UserStorageProvider</code>, you can simply invalidate the user in the overwritten <code>isValid()</code> method using the <code>KeycloakSession</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MyUserStorageProvider(KeycloakSession session, ComponentModel model) {\n    this.session = session;\n    this.model = model;\n}\n\n @Override\npublic boolean isValid(RealmModel realm, UserModel user, CredentialInput credentialInput) {\n    // invalidate user in cache here to ensure that custom user attributes are refreshed on every new request\n    session.invalidate(InvalidationHandler.ObjectType.USER, user.getId());\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":3320117,"reputation":569,"user_id":2791503,"accept_rate":50,"display_name":"Juri Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76487888,"answer_count":1,"score":0,"last_activity_date":1686900595,"creation_date":1678299769,"question_id":75676826,"body_markdown":"Im using Keycloak version 19.0.1 together with a custom user storage SPI to load users from an existing legacy database. Im adding some custom attributes to the Keycloak user representation model via the mentioned user storage SPI. These custom attributes are part of the JWT token to be issued by Keycloak when calling `/token` endpoint. \r\n\r\n\r\nWhen calling `/token` endpoint Keycloak issues the JWT token as expected with the custom attributes. However when a user in the legacy database is updated from the legacy app then keycloak still issues JWT tokens with outdated custom attribute values. I believe this is a caching issue in Keycloak, but was not able to find the correct caching option to disable cache and always get latest custom attribute values for the issued JWT token. Keycloak seems to support a variety of different local and distributed caches by default that can be configured with an XML file:\r\n- https://www.keycloak.org/server/caching\r\n- https://wjw465150.gitbooks.io/keycloak-documentation/content/server_installation/topics/cache/eviction.html\r\n\r\nIm using default caching mode which according to the documentation is Infinispan. I have tried the following so far (see docker image attached below): \r\n- passing `kc.sh build --spi-user-cache-infinispan-enabled=false` option when building keycloak\r\n- passing env variable `KC_SPI_USER_CACHE_DEFAULT_ENABLED=false` during  build phase\r\n- setting `NO_CACHE` policy on user fedaration, but there seems to be a big and custom attributes are missing with this option in Keycloak 19 version: https://github.com/keycloak/keycloak/issues/10826 (therefore not really an option for me right now)\r\n\r\nWhat is the cache configuration I should use to always get latest custom attributes in Keycloak issued JWT token? Should I customize Infinispan configuration by passing XML file? Which cache configuration should change exactly? \r\n\r\n**Note**:\r\nA manual workaround that helps is to invalidate all user sessions for the user in Keycloak. Afterwards keycloak always issues JWT token with latest custom attributes. \r\n\r\n```\r\nFROM &lt;private-/gradle:7.1.0-jdk11 AS build\r\nCOPY --chown=gradle:gradle . /home/gradle/src\r\nWORKDIR /home/gradle/src\r\nRUN gradle build --no-daemon\r\n\r\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1 as builder\r\n\r\nENV KC_HEALTH_ENABLED=true\r\nENV KC_METRICS_ENABLED=true\r\nENV KC_DB=postgres\r\nENV KC_HTTP_RELATIVE_PATH=&quot;/auth&quot;\r\n\r\nENV KC_HTTP_ENABLED=true\r\nENV KC_HOSTNAME_STRICT_HTTPS=false\r\nENV KC_HOSTNAME_STRICT=false\r\nENV KC_TRANSACTION_XA_ENABLED=false\r\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\r\n\r\nCOPY --from=build /home/gradle/src/user-storage-spi/build/libs/*.jar /opt/keycloak/providers/\r\nCOPY /conf/quarkus.properties /opt/keycloak/conf/quarkus.properties\r\n\r\nRUN /opt/keycloak/bin/kc.sh build --spi-user-cache-infinispan-enabled=false\r\n\r\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1\r\nCOPY --from=builder /opt/keycloak/ /opt/keycloak/\r\nWORKDIR /opt/keycloak\r\n\r\nENV KC_HTTP_ENABLED=true\r\nENV KC_HOSTNAME_STRICT_HTTPS=false\r\nENV KC_HOSTNAME_STRICT=false\r\nENV KC_TRANSACTION_XA_ENABLED=false\r\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\r\n\r\nENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\r\n\r\n```\r\n","title":"Keycloak issues JWT token with outdated custom attributes from user storage SPI","body":"<p>Im using Keycloak version 19.0.1 together with a custom user storage SPI to load users from an existing legacy database. Im adding some custom attributes to the Keycloak user representation model via the mentioned user storage SPI. These custom attributes are part of the JWT token to be issued by Keycloak when calling <code>/token</code> endpoint.</p>\n<p>When calling <code>/token</code> endpoint Keycloak issues the JWT token as expected with the custom attributes. However when a user in the legacy database is updated from the legacy app then keycloak still issues JWT tokens with outdated custom attribute values. I believe this is a caching issue in Keycloak, but was not able to find the correct caching option to disable cache and always get latest custom attribute values for the issued JWT token. Keycloak seems to support a variety of different local and distributed caches by default that can be configured with an XML file:</p>\n<ul>\n<li><a href=\"https://www.keycloak.org/server/caching\" rel=\"nofollow noreferrer\">https://www.keycloak.org/server/caching</a></li>\n<li><a href=\"https://wjw465150.gitbooks.io/keycloak-documentation/content/server_installation/topics/cache/eviction.html\" rel=\"nofollow noreferrer\">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_installation/topics/cache/eviction.html</a></li>\n</ul>\n<p>Im using default caching mode which according to the documentation is Infinispan. I have tried the following so far (see docker image attached below):</p>\n<ul>\n<li>passing <code>kc.sh build --spi-user-cache-infinispan-enabled=false</code> option when building keycloak</li>\n<li>passing env variable <code>KC_SPI_USER_CACHE_DEFAULT_ENABLED=false</code> during  build phase</li>\n<li>setting <code>NO_CACHE</code> policy on user fedaration, but there seems to be a big and custom attributes are missing with this option in Keycloak 19 version: <a href=\"https://github.com/keycloak/keycloak/issues/10826\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/issues/10826</a> (therefore not really an option for me right now)</li>\n</ul>\n<p>What is the cache configuration I should use to always get latest custom attributes in Keycloak issued JWT token? Should I customize Infinispan configuration by passing XML file? Which cache configuration should change exactly?</p>\n<p><strong>Note</strong>:\nA manual workaround that helps is to invalidate all user sessions for the user in Keycloak. Afterwards keycloak always issues JWT token with latest custom attributes.</p>\n<pre><code>FROM &lt;private-/gradle:7.1.0-jdk11 AS build\nCOPY --chown=gradle:gradle . /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle build --no-daemon\n\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1 as builder\n\nENV KC_HEALTH_ENABLED=true\nENV KC_METRICS_ENABLED=true\nENV KC_DB=postgres\nENV KC_HTTP_RELATIVE_PATH=&quot;/auth&quot;\n\nENV KC_HTTP_ENABLED=true\nENV KC_HOSTNAME_STRICT_HTTPS=false\nENV KC_HOSTNAME_STRICT=false\nENV KC_TRANSACTION_XA_ENABLED=false\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\n\nCOPY --from=build /home/gradle/src/user-storage-spi/build/libs/*.jar /opt/keycloak/providers/\nCOPY /conf/quarkus.properties /opt/keycloak/conf/quarkus.properties\n\nRUN /opt/keycloak/bin/kc.sh build --spi-user-cache-infinispan-enabled=false\n\nFROM &lt;private-registry&gt;/quay.io_keycloak/keycloak:19.0.1\nCOPY --from=builder /opt/keycloak/ /opt/keycloak/\nWORKDIR /opt/keycloak\n\nENV KC_HTTP_ENABLED=true\nENV KC_HOSTNAME_STRICT_HTTPS=false\nENV KC_HOSTNAME_STRICT=false\nENV KC_TRANSACTION_XA_ENABLED=false\nENV KC_SPI_USER_CACHE_DEFAULT_ENABLED=false\n\nENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\n\n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686892303,"creation_date":1686892303,"answer_id":76487109,"question_id":76487078,"body_markdown":"This isn&#39;t an exception, this is the Eclipse compiler creating a class file for you so you can keep working even though your code wouldn&#39;t actually compile with the JDK. Like the message says, you have an invalid escape sequence on line 12. If you&#39;re going to specify Windows paths with the backslashes, the backslashes themselves have to be escaped--with additional backslashes. `&quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;` should be `&quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;` in your source file so that the backslashes are preserved in the resulting String.","title":"Getting Exception in thread &quot;main&quot;java.lang.Error","body":"<p>This isn't an exception, this is the Eclipse compiler creating a class file for you so you can keep working even though your code wouldn't actually compile with the JDK. Like the message says, you have an invalid escape sequence on line 12. If you're going to specify Windows paths with the backslashes, the backslashes themselves have to be escaped--with additional backslashes. <code>&quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;</code> should be <code>&quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;</code> in your source file so that the backslashes are preserved in the resulting String.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686900426,"creation_date":1686900033,"answer_id":76487826,"question_id":76487078,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: Invalid escape sequence (valid ones are \\b \\t \\n \\f \\r &quot; &#39; \\ )\r\n\r\n...implies that there was a compilation error in the escape sequence while interpreting the _ChromeDriver_ absolute path.\r\n\r\nUsing Java while mentioning the system paths you need to escape the `\\` character for the compiler to understand the path.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nYou need to escape all the `\\` characters, effectively replace all the `\\` with `\\\\`. So the line of code:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\r\n\t\r\nneeds to be:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;);","title":"Getting Exception in thread &quot;main&quot;java.lang.Error","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: Invalid escape sequence (valid ones are \\b \\t \\n \\f \\r &quot; ' \\ )\n</code></pre>\n<p>...implies that there was a compilation error in the escape sequence while interpreting the <em>ChromeDriver</em> absolute path.</p>\n<p>Using Java while mentioning the system paths you need to escape the <code>\\</code> character for the compiler to understand the path.</p>\n<hr />\n<h2>Solution</h2>\n<p>You need to escape all the <code>\\</code> characters, effectively replace all the <code>\\</code> with <code>\\\\</code>. So the line of code:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\n</code></pre>\n<p>needs to be:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\91888\\\\Downloads\\\\chromedriver_win32.exe&quot;);\n</code></pre>\n"}],"owner":{"account_id":28831529,"reputation":1,"user_id":22081806,"display_name":"Praneeth CH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686900112,"answer_count":2,"score":0,"last_activity_date":1686900426,"creation_date":1686891713,"question_id":76487078,"body_markdown":"CODE:\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class SelIntroduction {\r\n\r\n    public static void main(String[] args) {\r\n        //Invoking Browser\r\n        //Chrome - ChromeDriver -&gt; Methods\r\n        //Chromedriver.exe -&gt; invokes chrome browser//it is a third party library provided by chrome\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\r\n        //webdriver.chrome.driver-&gt;value of the path \r\n        WebDriver driver = new ChromeDriver();\r\n    }\r\n}\r\n```\r\n\r\nCONSOLE:\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tInvalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ )\r\n\r\n\tat SelIntroduction.main(SelIntroduction.java:12)\r\n\r\n\r\nChrome browser should launch but ended up with an Exception","title":"Getting Exception in thread &quot;main&quot;java.lang.Error","body":"<p>CODE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class SelIntroduction {\n\n    public static void main(String[] args) {\n        //Invoking Browser\n        //Chrome - ChromeDriver -&gt; Methods\n        //Chromedriver.exe -&gt; invokes chrome browser//it is a third party library provided by chrome\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\91888\\Downloads\\chromedriver_win32.exe&quot;);\n        //webdriver.chrome.driver-&gt;value of the path \n        WebDriver driver = new ChromeDriver();\n    }\n}\n</code></pre>\n<p>CONSOLE:</p>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nInvalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  &quot;  '  \\ )</p>\n<pre><code>at SelIntroduction.main(SelIntroduction.java:12)\n</code></pre>\n<p>Chrome browser should launch but ended up with an Exception</p>\n"},{"tags":["java","java-native-interface","javacpp"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1686833936,"post_id":76482501,"comment_id":134855852,"body_markdown":"Why is ```matchedIds``` not part of the anonymous handler class? It seems to me like a bad idea to call a native library with side effects (although this may be unrelated to the issue at hand).","body":"Why is <code>matchedIds</code> not part of the anonymous handler class? It seems to me like a bad idea to call a native library with side effects (although this may be unrelated to the issue at hand)."},{"owner":{"account_id":242649,"reputation":2375,"user_id":514306,"accept_rate":84,"display_name":"milan"},"score":0,"creation_date":1686836188,"post_id":76482501,"comment_id":134856422,"body_markdown":"It&#39;s not my code. I would make it all within scope of `scan()` but I don&#39;t think it makes any difference.","body":"It&#39;s not my code. I would make it all within scope of <code>scan()</code> but I don&#39;t think it makes any difference."},{"owner":{"account_id":242649,"reputation":2375,"user_id":514306,"accept_rate":84,"display_name":"milan"},"score":0,"creation_date":1686917195,"post_id":76482501,"comment_id":134867922,"body_markdown":"I suspect my handler gets GC-ed.","body":"I suspect my handler gets GC-ed."}],"owner":{"account_id":242649,"reputation":2375,"user_id":514306,"accept_rate":84,"display_name":"milan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686900362,"creation_date":1686832259,"question_id":76482501,"body_markdown":"I have Java code that calls a native function which fills results by invoking a callback method multiple times _before_ it returns. The native code doesn&#39;t spawn any threads on its own. All java-native is handled by [javacpp](https://github.com/bytedeco/javacpp).\r\nThe outline looks like this:\r\n\r\n```java\r\nclass Scanner {\r\n    private final LinkedList&lt;Long&gt; matchedIds = new LinkedList&lt;&gt;();\r\n\r\n    private final Handler handler = new Handler() {\r\n        public void call(int id) {\r\n            matchedIds.add(id);\r\n        }\r\n    };\r\n\r\n    public void scan() {\r\n      callToNativeLib(handler);\r\n      matchedIds.forEach(System.out::println)  // throws sometimes\r\n    }\r\n}\r\n\r\n\r\nnew Scanner().scan();\r\n```\r\n\r\nThe problem is it sometimes (very rarely) throws:\r\n```\r\njava.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;this.next&quot; is null\r\n\tat java.base/java.util.LinkedList$ListItr.next(LinkedList.java:897)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:74)\r\n```\r\n\r\nWhy could it be? Almost like the list is made broken by callbacks coming from native code.\r\n\r\n\r\n\r\n**EDIT:**\r\nGot a `ConcurrentModificationException`. My assumptions must be wrong.","title":"Data consistency and native callback from java","body":"<p>I have Java code that calls a native function which fills results by invoking a callback method multiple times <em>before</em> it returns. The native code doesn't spawn any threads on its own. All java-native is handled by <a href=\"https://github.com/bytedeco/javacpp\" rel=\"nofollow noreferrer\">javacpp</a>.\nThe outline looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scanner {\n    private final LinkedList&lt;Long&gt; matchedIds = new LinkedList&lt;&gt;();\n\n    private final Handler handler = new Handler() {\n        public void call(int id) {\n            matchedIds.add(id);\n        }\n    };\n\n    public void scan() {\n      callToNativeLib(handler);\n      matchedIds.forEach(System.out::println)  // throws sometimes\n    }\n}\n\n\nnew Scanner().scan();\n</code></pre>\n<p>The problem is it sometimes (very rarely) throws:</p>\n<pre><code>java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;this.next&quot; is null\n    at java.base/java.util.LinkedList$ListItr.next(LinkedList.java:897)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:74)\n</code></pre>\n<p>Why could it be? Almost like the list is made broken by callbacks coming from native code.</p>\n<p><strong>EDIT:</strong>\nGot a <code>ConcurrentModificationException</code>. My assumptions must be wrong.</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686900410,"post_id":76487862,"comment_id":134864522,"body_markdown":"while logging? not. Interrupt the logging, and make sure the file isn&#39;t used anymore.","body":"while logging? not. Interrupt the logging, and make sure the file isn&#39;t used anymore."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686901854,"post_id":76487862,"comment_id":134864769,"body_markdown":"Use a logging framework. Those usually have log rotation &amp; deletion options to make this easy for you.","body":"Use a logging framework. Those usually have log rotation &amp; deletion options to make this easy for you."}],"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686900303,"creation_date":1686900303,"question_id":76487862,"body_markdown":"My application logs data to a file named &quot;log.txt&quot;. However, I am unable to rename or delete the file while logging is in progress. I need to be able to rename the file while the application is running, and if the application cannot find &quot;log.txt&quot; on the next logging attempt, a new &quot;log.txt&quot; file will be created. How can I achieve this?\r\n\r\n\r\nLogger settings\r\n```\r\njava.util.logging.FileHandler.level     = ALL\r\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\njava.util.logging.FileHandler.append    = true\r\njava.util.logging.FileHandler.pattern   = log.txt\r\n```\r\n\r\nLogger declaration\r\n```\r\nstatic Logger LOGGER;\r\n    static {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(BuildGet.class.getName());\r\n            initialContext = new InitialContext();\r\n        } catch (NamingException | IOException e) {\r\n            LOGGER.log(Level.WARNING,&quot;EROOR LOGGER &quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nP.S logger declaration in different classes is the same\r\n\r\n","title":"How to delete or rename a file while logging information into it?","body":"<p>My application logs data to a file named &quot;log.txt&quot;. However, I am unable to rename or delete the file while logging is in progress. I need to be able to rename the file while the application is running, and if the application cannot find &quot;log.txt&quot; on the next logging attempt, a new &quot;log.txt&quot; file will be created. How can I achieve this?</p>\n<p>Logger settings</p>\n<pre><code>java.util.logging.FileHandler.level     = ALL\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.FileHandler.append    = true\njava.util.logging.FileHandler.pattern   = log.txt\n</code></pre>\n<p>Logger declaration</p>\n<pre><code>static Logger LOGGER;\n    static {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(BuildGet.class.getName());\n            initialContext = new InitialContext();\n        } catch (NamingException | IOException e) {\n            LOGGER.log(Level.WARNING,&quot;EROOR LOGGER &quot;, e);\n        }\n    }\n</code></pre>\n<p>P.S logger declaration in different classes is the same</p>\n"},{"tags":["java","playframework","java-17"],"answers":[{"tags":[],"owner":{"account_id":5194755,"reputation":4559,"user_id":4662410,"accept_rate":78,"display_name":"Yevgen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686900218,"creation_date":1686900218,"answer_id":76487853,"question_id":76462413,"body_markdown":"Well, play 2.x doesn&#39;t officially support Java17, it&#39;s in experimental mode there. I bet that play 1.x don&#39;t support it even in experimental mode, so I&#39;d recommend to downgrade Java version first. My educated guess would be to downgrade Java to version 8 and continue there.","title":"Play 1.7.1 - JDK17 - Compiler Error : The type is already defined","body":"<p>Well, play 2.x doesn't officially support Java17, it's in experimental mode there. I bet that play 1.x don't support it even in experimental mode, so I'd recommend to downgrade Java version first. My educated guess would be to downgrade Java to version 8 and continue there.</p>\n"}],"owner":{"account_id":28810052,"reputation":1,"user_id":22064956,"display_name":"Tomilausa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686900218,"creation_date":1686639942,"question_id":76462413,"body_markdown":"in our project, we are still working with Play 1 (1.5) and due to several reasons we decided to &quot;update&quot; it to Play 1.7.1 and JDK 17.\r\nNow since the Update, i get the following error:\r\n```\r\nCompilation error (In /app/modellogik/mitarbeiter/ModelLogikDn.java around line 23)\r\nThe file /app/modellogik/mitarbeiter/ModelLogikDn.java could not be compiled. Error raised is : The type ModelLogikDn is already defined\r\n\r\nplay.exceptions.CompilationException: The type ModelLogikDn is already defined\r\n\tat play.classloading.ApplicationCompiler.lambda$compile$0(ApplicationCompiler.java:279) ~[play-1.7.1.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:795) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:639) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426) ~[org.eclipse.jdt.core-3.29.0.jar:?]\r\n\tat play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:313) ~[play-1.7.1.jar:?]\r\n\tat play.classloading.ApplicationClassloader.getAllClasses(ApplicationClassloader.java:438) ~[play-1.7.1.jar:?]\r\n\tat play.classloading.ApplicationClassloader.getAssignableClasses(ApplicationClassloader.java:480) ~[play-1.7.1.jar:?]\r\n\tat play.templates.GroovyTemplateCompiler.compile(GroovyTemplateCompiler.java:31) ~[play-1.7.1.jar:?]\r\n\tat play.templates.TemplateCompiler.compile(TemplateCompiler.java:28) ~[play-1.7.1.jar:?]\r\n\tat play.templates.TemplateLoader.load(TemplateLoader.java:86) ~[play-1.7.1.jar:?]\r\n\tat play.templates.TemplateLoader.load(TemplateLoader.java:194) ~[play-1.7.1.jar:?]\r\n\tat play.server.PlayHandler.serve500(PlayHandler.java:805) ~[play-1.7.1.jar:?]\r\n\tat Invocation.HTTP Request(Play!) ~[?:?]\r\n08:23:52.845 [play-thread-1] ERROR play - \r\n\r\n```\r\n\r\n\r\n\r\n\r\nI already tried to solve this by checking our Code for double entries in function calls, classes, imports, ... like several suggestions here did, but i can&#39;t find the &quot;error&quot;.\r\nThe Code works fine in older versions, but not in this one.\r\nIs there maybe another solution or idea out there I can try?\r\n\r\nThanks in advance \r\nTommy","title":"Play 1.7.1 - JDK17 - Compiler Error : The type is already defined","body":"<p>in our project, we are still working with Play 1 (1.5) and due to several reasons we decided to &quot;update&quot; it to Play 1.7.1 and JDK 17.\nNow since the Update, i get the following error:</p>\n<pre><code>Compilation error (In /app/modellogik/mitarbeiter/ModelLogikDn.java around line 23)\nThe file /app/modellogik/mitarbeiter/ModelLogikDn.java could not be compiled. Error raised is : The type ModelLogikDn is already defined\n\nplay.exceptions.CompilationException: The type ModelLogikDn is already defined\n    at play.classloading.ApplicationCompiler.lambda$compile$0(ApplicationCompiler.java:279) ~[play-1.7.1.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:795) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:639) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426) ~[org.eclipse.jdt.core-3.29.0.jar:?]\n    at play.classloading.ApplicationCompiler.compile(ApplicationCompiler.java:313) ~[play-1.7.1.jar:?]\n    at play.classloading.ApplicationClassloader.getAllClasses(ApplicationClassloader.java:438) ~[play-1.7.1.jar:?]\n    at play.classloading.ApplicationClassloader.getAssignableClasses(ApplicationClassloader.java:480) ~[play-1.7.1.jar:?]\n    at play.templates.GroovyTemplateCompiler.compile(GroovyTemplateCompiler.java:31) ~[play-1.7.1.jar:?]\n    at play.templates.TemplateCompiler.compile(TemplateCompiler.java:28) ~[play-1.7.1.jar:?]\n    at play.templates.TemplateLoader.load(TemplateLoader.java:86) ~[play-1.7.1.jar:?]\n    at play.templates.TemplateLoader.load(TemplateLoader.java:194) ~[play-1.7.1.jar:?]\n    at play.server.PlayHandler.serve500(PlayHandler.java:805) ~[play-1.7.1.jar:?]\n    at Invocation.HTTP Request(Play!) ~[?:?]\n08:23:52.845 [play-thread-1] ERROR play - \n\n</code></pre>\n<p>I already tried to solve this by checking our Code for double entries in function calls, classes, imports, ... like several suggestions here did, but i can't find the &quot;error&quot;.\nThe Code works fine in older versions, but not in this one.\nIs there maybe another solution or idea out there I can try?</p>\n<p>Thanks in advance\nTommy</p>\n"},{"tags":["java","microsoft-edge","profile","selenium4"],"comments":[{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1687504805,"post_id":76478587,"comment_id":134948953,"body_markdown":"Hi @Gajendra Varadhan, may I know if my answer is helpful to you?","body":"Hi @Gajendra Varadhan, may I know if my answer is helpful to you?"}],"answers":[{"tags":[],"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686899774,"creation_date":1686899774,"answer_id":76487793,"question_id":76478587,"body_markdown":"The specific path should be based on your **Profile path** at edge://version, regardless of OS.\r\n\r\nFor example, if you go to edge://version, and your **Profile path** is `/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/Profile 1`, your `options` should look like:\r\n\r\n    options.addArguments(&quot;--user-data-dir=\\\\Users\\\\&lt;USER&gt;\\\\Library\\\\Application support\\\\Microsoft Edge&quot;);\r\n    options.addArguments(&quot;--profile-directory=Profile 1&quot;);\r\n\r\nAdditionally, it looks like you have [BrowserSignin][1] configured among your group policies. It would be easier to not configure this policy if possible.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/deployedge/microsoft-edge-policies#browsersignin","title":"Bypass Edge Chromium profile Sign in screen in Selenium 4 Java(MacOS)","body":"<p>The specific path should be based on your <strong>Profile path</strong> at edge://version, regardless of OS.</p>\n<p>For example, if you go to edge://version, and your <strong>Profile path</strong> is <code>/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/Profile 1</code>, your <code>options</code> should look like:</p>\n<pre><code>options.addArguments(&quot;--user-data-dir=\\\\Users\\\\&lt;USER&gt;\\\\Library\\\\Application support\\\\Microsoft Edge&quot;);\noptions.addArguments(&quot;--profile-directory=Profile 1&quot;);\n</code></pre>\n<p>Additionally, it looks like you have <a href=\"https://learn.microsoft.com/en-us/deployedge/microsoft-edge-policies#browsersignin\" rel=\"nofollow noreferrer\">BrowserSignin</a> configured among your group policies. It would be easier to not configure this policy if possible.</p>\n"}],"owner":{"account_id":7816426,"reputation":43,"user_id":5910982,"display_name":"Gajendra Varadhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76487793,"answer_count":1,"score":0,"last_activity_date":1686899774,"creation_date":1686794123,"question_id":76478587,"body_markdown":"I know this question has been [answered for Windows][1]. Every time I try to automate Edge browser using Selenium 4, I get shown a profile window to select and then to sign in.\r\n\r\n In Windows, you need to pass in the ```options.addArguments(&quot;--user-data-dir=C:\\\\Users\\\\&lt;USER&gt;\\\\AppData\\\\Local\\\\Microsoft\\\\Edge\\\\User Data&quot;);``` \r\n\r\nto the options arguments followed by\r\n\r\n ```options.addArguments(&quot;--profile-directory=Default&quot;);```\r\n\r\nBut has anyone solved it for MacOS? Could not find a `User Data` folder under `/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/` folder. It directly has `Profile 1` folder for me. I tried various permutations and combinations to set the `--user-data-dir` and `--profile-directory` Nothing seems to be working for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74368901/bypass-edge-chromium-profile-sign-in-screen-in-selenium-java/74398539#74398539","title":"Bypass Edge Chromium profile Sign in screen in Selenium 4 Java(MacOS)","body":"<p>I know this question has been <a href=\"https://stackoverflow.com/questions/74368901/bypass-edge-chromium-profile-sign-in-screen-in-selenium-java/74398539#74398539\">answered for Windows</a>. Every time I try to automate Edge browser using Selenium 4, I get shown a profile window to select and then to sign in.</p>\n<p>In Windows, you need to pass in the <code>options.addArguments(&quot;--user-data-dir=C:\\\\Users\\\\&lt;USER&gt;\\\\AppData\\\\Local\\\\Microsoft\\\\Edge\\\\User Data&quot;);</code></p>\n<p>to the options arguments followed by</p>\n<p><code>options.addArguments(&quot;--profile-directory=Default&quot;);</code></p>\n<p>But has anyone solved it for MacOS? Could not find a <code>User Data</code> folder under <code>/Users/&lt;USER&gt;/Library/Application support/Microsoft Edge/</code> folder. It directly has <code>Profile 1</code> folder for me. I tried various permutations and combinations to set the <code>--user-data-dir</code> and <code>--profile-directory</code> Nothing seems to be working for me.</p>\n"},{"tags":["java","netbeans","jakarta-mail","sendmail.exe"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686835011,"post_id":76482859,"comment_id":134856130,"body_markdown":"for that, you&#39;ll need to check the machines. Seeing as your code works on environment A, it works, and it&#39;s not the code&#39;s error, so this isn&#39;t really a programming issue. Go and check all the logs, dependencies, versions, ...","body":"for that, you&#39;ll need to check the machines. Seeing as your code works on environment A, it works, and it&#39;s not the code&#39;s error, so this isn&#39;t really a programming issue. Go and check all the logs, dependencies, versions, ..."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686836262,"post_id":76482859,"comment_id":134856441,"body_markdown":"Does not work is not a proper way to describe the issue that you have. Please provide the symptoms/errors. Also have you tested the connectivity from the 2nd computer to the email server?","body":"Does not work is not a proper way to describe the issue that you have. Please provide the symptoms/errors. Also have you tested the connectivity from the 2nd computer to the email server?"},{"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"score":0,"creation_date":1686891674,"post_id":76482859,"comment_id":134863277,"body_markdown":"Symptoms/errors: do not send the mail. Connectivity tested, OK.","body":"Symptoms/errors: do not send the mail. Connectivity tested, OK."},{"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"score":0,"creation_date":1686892160,"post_id":76482859,"comment_id":134863322,"body_markdown":"Thanks Stultuske, for giving a way to solve the problem.","body":"Thanks Stultuske, for giving a way to solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686899698,"creation_date":1686899698,"answer_id":76487781,"question_id":76482859,"body_markdown":"Found the email sent problem.\r\n\r\nI added following property :\r\n\r\n\r\n    props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2 TLSv1.3&quot;);\r\n\r\nYeahhh","title":"Java sendmail works only on development computer?","body":"<p>Found the email sent problem.</p>\n<p>I added following property :</p>\n<pre><code>props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2 TLSv1.3&quot;);\n</code></pre>\n<p>Yeahhh</p>\n"}],"owner":{"account_id":11334976,"reputation":170,"user_id":8311151,"accept_rate":89,"display_name":"orgen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1686899698,"creation_date":1686834743,"question_id":76482859,"body_markdown":"A sendmailcode with java programmed on Apache Netbeans only works on the \r\ndevelopment computer.\r\n\r\n        String host = &quot;smtp.xxxxx.com&quot;;\r\n        String Password = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n        String from = &quot;xxxxx@xxxxx.com&quot;;\r\n        String toAddress = to;\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.host&quot;, host);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);\r\n        \r\n        Session session = Session.getInstance(props, null);\r\n    \r\n        MimeMessage message = new MimeMessage(session);\r\n        message.setFrom(new InternetAddress(from));\r\n        message.setRecipients(Message.RecipientType.TO, toAddress);\r\n        message.setSubject(sub);\r\n        BodyPart messageBodyPart = new MimeBodyPart();\r\n        messageBodyPart.setText(mes);\r\n        Multipart multipart = new MimeMultipart();\r\n        multipart.addBodyPart(messageBodyPart);\r\n        messageBodyPart = new MimeBodyPart();\r\n        DataSource source = new FileDataSource(filename);\r\n        messageBodyPart.setDataHandler(new DataHandler(source));\r\n        messageBodyPart.setFileName(name);\r\n        multipart.addBodyPart(messageBodyPart);\r\n        message.setContent(multipart);\r\n    \r\n        try {\r\n            Transport tr = session.getTransport(&quot;smtp&quot;);\r\n            tr.connect(host, from, Password);\r\n            tr.sendMessage(message, message.getAllRecipients());\r\n            System.out.println(&quot;Mail Sent Successfully&quot;);\r\n            tr.close();\r\n        } catch (SendFailedException sfe) {\r\n            System.out.println(sfe);\r\n        }\r\n\r\nIf I make an installer with all files and install it on a 2nd computer sending an email will not work.\r\n\r\nHow may I find the difference between the development and other computers?\r\nOr the failure?\r\n\r\n","title":"Java sendmail works only on development computer?","body":"<p>A sendmailcode with java programmed on Apache Netbeans only works on the\ndevelopment computer.</p>\n<pre><code>    String host = &quot;smtp.xxxxx.com&quot;;\n    String Password = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    String from = &quot;xxxxx@xxxxx.com&quot;;\n    String toAddress = to;\n    Properties props = new Properties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.host&quot;, host);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);\n    \n    Session session = Session.getInstance(props, null);\n\n    MimeMessage message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(from));\n    message.setRecipients(Message.RecipientType.TO, toAddress);\n    message.setSubject(sub);\n    BodyPart messageBodyPart = new MimeBodyPart();\n    messageBodyPart.setText(mes);\n    Multipart multipart = new MimeMultipart();\n    multipart.addBodyPart(messageBodyPart);\n    messageBodyPart = new MimeBodyPart();\n    DataSource source = new FileDataSource(filename);\n    messageBodyPart.setDataHandler(new DataHandler(source));\n    messageBodyPart.setFileName(name);\n    multipart.addBodyPart(messageBodyPart);\n    message.setContent(multipart);\n\n    try {\n        Transport tr = session.getTransport(&quot;smtp&quot;);\n        tr.connect(host, from, Password);\n        tr.sendMessage(message, message.getAllRecipients());\n        System.out.println(&quot;Mail Sent Successfully&quot;);\n        tr.close();\n    } catch (SendFailedException sfe) {\n        System.out.println(sfe);\n    }\n</code></pre>\n<p>If I make an installer with all files and install it on a 2nd computer sending an email will not work.</p>\n<p>How may I find the difference between the development and other computers?\nOr the failure?</p>\n"},{"tags":["java","openstreetmap","mapsforge","osmosis"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686900094,"post_id":76487778,"comment_id":134864461,"body_markdown":"*Caused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar* Something wrong there - that&#39;s not a classname. How are you running this?","body":"<i>Caused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar</i> Something wrong there - that&#39;s not a classname. How are you running this?"},{"owner":{"account_id":16728824,"reputation":31,"user_id":13781026,"display_name":"saad "},"score":0,"creation_date":1686913159,"post_id":76487778,"comment_id":134867156,"body_markdown":"osmosis -p plugins/mapsforge-map-writer-0.19.0-jar-with-dependencies.jar --rb file=&quot;ile-de-france-latest.osm.pbf&quot; --mapfile-writer file=&quot;paris.map&quot; tag-conf-file=&quot;tag-mapping.xml&quot;","body":"osmosis -p plugins/mapsforge-map-writer-0.19.0-jar-with-dependencies.ja&zwnj;&#8203;r --rb file=&quot;ile-de-france-latest.osm.pbf&quot; --mapfile-writer file=&quot;paris.map&quot; tag-conf-file=&quot;tag-mapping.xml&quot;"},{"owner":{"account_id":16728824,"reputation":31,"user_id":13781026,"display_name":"saad "},"score":0,"creation_date":1686915291,"post_id":76487778,"comment_id":134867537,"body_markdown":"I don&#39;t know if I installed mapfile-writer plugin the right way, I installed osmosis with brew first, then I downloaded the jar for the mapfile-writer and placed it in /opt/homebrew/Cellar/osmosis/0.48.3/libexec/lib/default","body":"I don&#39;t know if I installed mapfile-writer plugin the right way, I installed osmosis with brew first, then I downloaded the jar for the mapfile-writer and placed it in /opt/homebrew/Cellar/osmosis/0.48.3/libexec/lib/default"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686916288,"post_id":76487778,"comment_id":134867749,"body_markdown":"f.q. name of the class required there not a jar file. I don&#39;t know how they know the classpath but they will have to","body":"f.q. name of the class required there not a jar file. I don&#39;t know how they know the classpath but they will have to"}],"owner":{"account_id":16728824,"reputation":31,"user_id":13781026,"display_name":"saad "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686899690,"creation_date":1686899690,"question_id":76487778,"body_markdown":"I am trying to use the mapsforge mapfile-writer plugin with osmosis to compile my own map, but I&#39;m encountering an error. The error message I&#39;m receiving is as follows:\r\n\r\n```\r\nJun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis run\r\nINFO: Osmosis Version 0.48.3\r\nJun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis main\r\nSEVERE: Execution aborted.\r\norg.openstreetmap.osmosis.core.OsmosisRuntimeException: Unable to load plugin class (mapsforge-map-writer-master-20230526.153436-506.jar).\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:340)\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.loadPlugin(TaskRegistrar.java:319)\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.initialize(TaskRegistrar.java:84)\r\n\tat org.openstreetmap.osmosis.core.Osmosis.run(Osmosis.java:81)\r\n\tat org.openstreetmap.osmosis.core.Osmosis.main(Osmosis.java:37)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:330)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:238)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\nCaused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar\r\n\tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n\tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n\tat org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:338)\r\n\t... 11 more\r\n```\r\n\r\nHow can I resolve this issue?","title":"Mapsforge Mapfile-writer plugin not working with osmosis","body":"<p>I am trying to use the mapsforge mapfile-writer plugin with osmosis to compile my own map, but I'm encountering an error. The error message I'm receiving is as follows:</p>\n<pre><code>Jun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis run\nINFO: Osmosis Version 0.48.3\nJun 16, 2023 9:09:37 AM org.openstreetmap.osmosis.core.Osmosis main\nSEVERE: Execution aborted.\norg.openstreetmap.osmosis.core.OsmosisRuntimeException: Unable to load plugin class (mapsforge-map-writer-master-20230526.153436-506.jar).\n    at org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:340)\n    at org.openstreetmap.osmosis.core.TaskRegistrar.loadPlugin(TaskRegistrar.java:319)\n    at org.openstreetmap.osmosis.core.TaskRegistrar.initialize(TaskRegistrar.java:84)\n    at org.openstreetmap.osmosis.core.Osmosis.run(Osmosis.java:81)\n    at org.openstreetmap.osmosis.core.Osmosis.main(Osmosis.java:37)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:330)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:238)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\nCaused by: java.lang.ClassNotFoundException: mapsforge-map-writer-master-20230526.153436-506.jar\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at org.openstreetmap.osmosis.core.TaskRegistrar.loadPluginClass(TaskRegistrar.java:338)\n    ... 11 more\n</code></pre>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","graph","graph-algorithm","genetic-algorithm","subgraph"],"answers":[{"tags":[],"owner":{"account_id":1776167,"reputation":14529,"user_id":1619929,"accept_rate":64,"display_name":"Johnny Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686899559,"creation_date":1385432155,"answer_id":20207316,"question_id":20207173,"body_markdown":"I think you can modify [Dijkstra&#39;s algorithm][1] to solve this problem.\r\n\r\nWith Dijkstra&#39;s algorithm, you are solving the shortest path. Just change that to find the maximum path. To restrict it to only 1, 2, 3 nodes in a graph, keep track of the number of nodes it takes to get to each node when you &quot;visit it&quot;. Stop when there are no other nodes with a count less than the number of nodes you are looking for. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm","title":"Maximum N-noded connected subgraph in a node-weighted graph","body":"<p>I think you can modify <a href=\"http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra's algorithm</a> to solve this problem.</p>\n<p>With Dijkstra's algorithm, you are solving the shortest path. Just change that to find the maximum path. To restrict it to only 1, 2, 3 nodes in a graph, keep track of the number of nodes it takes to get to each node when you &quot;visit it&quot;. Stop when there are no other nodes with a count less than the number of nodes you are looking for.</p>\n"}],"owner":{"account_id":3640234,"reputation":11,"user_id":3034532,"display_name":"Joran Bigalet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686899559,"creation_date":1385430973,"question_id":20207173,"body_markdown":"Take this node weighted graph for example :\r\n\r\n![https://i.stack.imgur.com/DEYJD.png][1]\r\n\r\n- The maximum subgraph containing exactly 1 node (and the &#39;entry point&#39;) would be 14.\r\n- The maximum subgraph containing exactly 2 nodes (and the &#39;entry point&#39;) would be 14 / 9.\r\n- The maximum subgraph containing exactly 3 nodes (and the &#39;entry point&#39;) would be 3 / 19 / 15.\r\n- The maximum subgraph containing exactly 4 nodes (and the &#39;entry point&#39;) would be 14 / 1 / 7 / 240.\r\n\r\nI can&#39;t manage to think of a better method than a bruteforce to get the maximum subgraph.&lt;br&gt;\r\nAnd if there is no known efficient algorithm, would a genetic algorithm be find in that case (the crossovers seem tricky) ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DEYJD.png","title":"Maximum N-noded connected subgraph in a node-weighted graph","body":"<p>Take this node weighted graph for example :</p>\n\n<p><img src=\"https://i.stack.imgur.com/DEYJD.png\" alt=\"https://i.stack.imgur.com/DEYJD.png\"></p>\n\n<ul>\n<li>The maximum subgraph containing exactly 1 node (and the 'entry point') would be 14.</li>\n<li>The maximum subgraph containing exactly 2 nodes (and the 'entry point') would be 14 / 9.</li>\n<li>The maximum subgraph containing exactly 3 nodes (and the 'entry point') would be 3 / 19 / 15.</li>\n<li>The maximum subgraph containing exactly 4 nodes (and the 'entry point') would be 14 / 1 / 7 / 240.</li>\n</ul>\n\n<p>I can't manage to think of a better method than a bruteforce to get the maximum subgraph.<br>\nAnd if there is no known efficient algorithm, would a genetic algorithm be find in that case (the crossovers seem tricky) ?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":5095928,"reputation":1457,"user_id":4376030,"accept_rate":83,"display_name":"ErhWen Kuo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1686899534,"creation_date":1452059420,"answer_id":34626486,"question_id":34626371,"body_markdown":"After checking spark dataframe api and sql function, I come out below snippet:\r\n\r\n&lt;pre&gt;\r\nDateFrame df = sqlContext.read().json(&quot;MY_JSON_DATA_FILE&quot;);\r\n\r\nDataFrame df_DateConverted = df.withColumn(&quot;creationDt&quot;, from_unixtime(df.col(&quot;creationDate&quot;).divide(1000)));\r\n&lt;/pre&gt;\r\n\r\nThe reason why &quot;creationDate&quot; column is divided by &quot;1000&quot; is cause the TimeUnit is different. The orgin &quot;creationDate&quot; is unix epoch in &quot;*milli-second*&quot;, however spark sql &quot;&lt;b&gt;from_unixtime&lt;/b&gt;&quot; is designed to handle unix epoch in &quot;*second*&quot;.","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>After checking spark dataframe api and sql function, I come out below snippet:</p>\n<pre>\nDateFrame df = sqlContext.read().json(\"MY_JSON_DATA_FILE\");\n\nDataFrame df_DateConverted = df.withColumn(\"creationDt\", from_unixtime(df.col(\"creationDate\").divide(1000)));\n</pre>\n<p>The reason why &quot;creationDate&quot; column is divided by &quot;1000&quot; is cause the TimeUnit is different. The orgin &quot;creationDate&quot; is unix epoch in &quot;<em>milli-second</em>&quot;, however spark sql &quot;<b>from_unixtime</b>&quot; is designed to handle unix epoch in &quot;<em>second</em>&quot;.</p>\n"},{"tags":[],"owner":{"account_id":13629031,"reputation":71,"user_id":9831524,"display_name":"Ray Metz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527035821,"creation_date":1527035821,"answer_id":50478266,"question_id":34626371,"body_markdown":"pyspark converts from Unix epoch milliseconds to dataframe timestamp\r\n\r\n    \r\n    df.select(from_unixtime((df.my_date_column.cast(&#39;bigint&#39;)/1000)).cast(&#39;timestamp&#39;).alias(&#39;my_date_column&#39;))\r\n\r\n","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>pyspark converts from Unix epoch milliseconds to dataframe timestamp</p>\n\n<pre><code>df.select(from_unixtime((df.my_date_column.cast('bigint')/1000)).cast('timestamp').alias('my_date_column'))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9273763,"reputation":677,"user_id":6886967,"display_name":"Ganesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595230527,"creation_date":1595230527,"answer_id":62990622,"question_id":34626371,"body_markdown":"In spark scala,\r\n```\r\nspark.sql(&quot;select from_unixtime(1593543333062/1000) as ts&quot;).show(false)\r\n```","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>In spark scala,</p>\n<pre><code>spark.sql(&quot;select from_unixtime(1593543333062/1000) as ts&quot;).show(false)\n</code></pre>\n"}],"owner":{"account_id":5095928,"reputation":1457,"user_id":4376030,"accept_rate":83,"display_name":"ErhWen Kuo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24862,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":34626486,"answer_count":3,"score":8,"last_activity_date":1686899534,"creation_date":1452058880,"question_id":34626371,"body_markdown":"I have a json data file which contain one property [creationDate] which is unix epoc in &quot;long&quot; number type. The Apache Spark DataFrame schema look like below:\r\n\r\n&lt;pre&gt;\r\nroot \r\n |-- &lt;b&gt;creationDate&lt;/b&gt;: long (nullable = true) \r\n |-- id: long (nullable = true) \r\n |-- postTypeId: long (nullable = true)\r\n |-- tags: array (nullable = true)\r\n |    |-- element: string (containsNull = true)\r\n |-- title: string (nullable = true)\r\n |-- viewCount: long (nullable = true)\r\n&lt;/pre&gt;\r\n\r\nI would like to do some groupBy &quot;creationData_Year&quot; which need to get from &quot;creationDate&quot;.\r\n\r\nWhat&#39;s the easiest way to do this kind of convert in *DataFrame* using Java?","title":"How do I convert column of unix epoch to Date in Apache spark DataFrame using Java?","body":"<p>I have a json data file which contain one property [creationDate] which is unix epoc in \"long\" number type. The Apache Spark DataFrame schema look like below:</p>\n\n<pre>\nroot \n |-- <b>creationDate</b>: long (nullable = true) \n |-- id: long (nullable = true) \n |-- postTypeId: long (nullable = true)\n |-- tags: array (nullable = true)\n |    |-- element: string (containsNull = true)\n |-- title: string (nullable = true)\n |-- viewCount: long (nullable = true)\n</pre>\n\n<p>I would like to do some groupBy \"creationData_Year\" which need to get from \"creationDate\".</p>\n\n<p>What's the easiest way to do this kind of convert in <em>DataFrame</em> using Java?</p>\n"},{"tags":["java","itext","tamil"],"comments":[{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1686834018,"post_id":76482627,"comment_id":134855869,"body_markdown":"due to the complexity of rendering Tamil language (mainly due to ligatures), the add-on [pdfCalligraph](https://itextpdf.com/products/itext-7/pdfcalligraph) is required for proper rendering.","body":"due to the complexity of rendering Tamil language (mainly due to ligatures), the add-on <a href=\"https://itextpdf.com/products/itext-7/pdfcalligraph\" rel=\"nofollow noreferrer\">pdfCalligraph</a> is required for proper rendering."}],"owner":{"account_id":28827577,"reputation":1,"user_id":22078656,"display_name":"Nithin AG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686899451,"creation_date":1686833131,"question_id":76482627,"body_markdown":"I am using `html2pdf` from `iTextPdf` to convert a html file to pdf. I am using the latest version of iText. That is version 8.0.0 of `itext7-core` and version 5.0.0 of `html2pdf`. I am using `NotoSansTamil-Regular` font file. \r\nHere is my code. \r\n\r\n```\r\n// Initialize PDF writer\r\nPdfWriter writer = new PdfWriter(pdfFilePath);\r\n\r\n// Initialize PDF document\r\nPdfDocument pdf = new PdfDocument(writer);\r\n\r\nConverterProperties props = new ConverterProperties();\r\nFontProvider fp = new DefaultFontProvider(true, true,true );\r\n\r\nfp.addFont(&quot;PATH_TO_MY_FONT_FILE&quot;);\r\nprops.setFontProvider(fp);\r\n\r\npdf.addEventHandler(PdfDocumentEvent.END_PAGE, new FooterHandler());\r\n// Convert HTML to PDF\r\nHtmlConverter.convertToPdf(new FileInputStream(htmlFilePath), pdf, props);\r\n```\r\n\r\nI am including UTF-8 in my Html Charset. \r\n\r\nAfter the conversion, my Pdf has some letter swapped in the words and some help written. Can some please help me what may be wrong here ?\r\n\r\n\r\n\r\nI tried changing the font files. Like ANSI and Unicode fonts. None of them worked. I even changed the font family of the CSS even that did not work.\r\n\r\n","title":"Not able to convert Tamil fonts","body":"<p>I am using <code>html2pdf</code> from <code>iTextPdf</code> to convert a html file to pdf. I am using the latest version of iText. That is version 8.0.0 of <code>itext7-core</code> and version 5.0.0 of <code>html2pdf</code>. I am using <code>NotoSansTamil-Regular</code> font file.\nHere is my code.</p>\n<pre><code>// Initialize PDF writer\nPdfWriter writer = new PdfWriter(pdfFilePath);\n\n// Initialize PDF document\nPdfDocument pdf = new PdfDocument(writer);\n\nConverterProperties props = new ConverterProperties();\nFontProvider fp = new DefaultFontProvider(true, true,true );\n\nfp.addFont(&quot;PATH_TO_MY_FONT_FILE&quot;);\nprops.setFontProvider(fp);\n\npdf.addEventHandler(PdfDocumentEvent.END_PAGE, new FooterHandler());\n// Convert HTML to PDF\nHtmlConverter.convertToPdf(new FileInputStream(htmlFilePath), pdf, props);\n</code></pre>\n<p>I am including UTF-8 in my Html Charset.</p>\n<p>After the conversion, my Pdf has some letter swapped in the words and some help written. Can some please help me what may be wrong here ?</p>\n<p>I tried changing the font files. Like ANSI and Unicode fonts. None of them worked. I even changed the font family of the CSS even that did not work.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686586306,"post_id":76458457,"comment_id":134815813,"body_markdown":"I don&#39;t get the exact need you have: do you want to implement a forwarding proxy by the use of apache httpclient, or just make the library use an existing proxy server in the network?\nAlso please note that a reverse proxy doesn&#39;t have to be configured to be used by a client that is accessing it, it should work transparently to the clients.","body":"I don&#39;t get the exact need you have: do you want to implement a forwarding proxy by the use of apache httpclient, or just make the library use an existing proxy server in the network? Also please note that a reverse proxy doesn&#39;t have to be configured to be used by a client that is accessing it, it should work transparently to the clients."},{"owner":{"account_id":17573205,"reputation":1,"user_id":12748537,"display_name":"Rafał"},"score":0,"creation_date":1686601370,"post_id":76458457,"comment_id":134818578,"body_markdown":"@cyberbrain I have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client.","body":"@cyberbrain I have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686639411,"post_id":76458457,"comment_id":134822627,"body_markdown":"please share some of the code you tried. This is the best way to get answers in SO ;)","body":"please share some of the code you tried. This is the best way to get answers in SO ;)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686899120,"creation_date":1686899120,"answer_id":76487702,"question_id":76458457,"body_markdown":"Apache httpclient project has a nice [example](https://github.com/apache/httpcomponents-client/blob/4.5.x/httpclient/src/examples/org/apache/http/examples/client/ClientExecuteProxy.java) about how to use proxy on their pages. It&#39;s contained in the sources of the project as _ClientExecuteProxy.java_.\r\n\r\nIn short: you define two `HttpHost` objects, one for the actual target and one for the proxy. Then you set the proxy `HttpHost` in a custom `RequestConfig` with `setProxy(proxyHost)`.\r\n\r\n``` lang-java\r\nHttpHost target = new HttpHost(&quot;httpbin.org&quot;, 443, &quot;https&quot;);\r\nHttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8080, &quot;http&quot;);\r\n\r\nRequestConfig config = RequestConfig.custom()\r\n        .setProxy(proxy)\r\n        .build();\r\nHttpGet request = new HttpGet(&quot;/&quot;);\r\nrequest.setConfig(config);\r\n```","title":"Java Apache HttpClient, Forward Proxy","body":"<p>Apache httpclient project has a nice <a href=\"https://github.com/apache/httpcomponents-client/blob/4.5.x/httpclient/src/examples/org/apache/http/examples/client/ClientExecuteProxy.java\" rel=\"nofollow noreferrer\">example</a> about how to use proxy on their pages. It's contained in the sources of the project as <em>ClientExecuteProxy.java</em>.</p>\n<p>In short: you define two <code>HttpHost</code> objects, one for the actual target and one for the proxy. Then you set the proxy <code>HttpHost</code> in a custom <code>RequestConfig</code> with <code>setProxy(proxyHost)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpHost target = new HttpHost(&quot;httpbin.org&quot;, 443, &quot;https&quot;);\nHttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8080, &quot;http&quot;);\n\nRequestConfig config = RequestConfig.custom()\n        .setProxy(proxy)\n        .build();\nHttpGet request = new HttpGet(&quot;/&quot;);\nrequest.setConfig(config);\n</code></pre>\n"}],"owner":{"account_id":17573205,"reputation":1,"user_id":12748537,"display_name":"Rafał"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686899120,"creation_date":1686586109,"question_id":76458457,"body_markdown":"I am using apache http client 4.5.14. \r\nHow can I make forward proxy ? I am using HttpClientBuilder and I can use setProxy() or setRoutePlanner() to set proxy.\r\n\r\n\r\nThen how I can set proxy to be forward proxy ? Or maybe I don&#39;t need to do anything and it will detect if proxy is forward/reverse and it will work without any more code ? \r\n\r\n\r\n@Edit more information \r\n\r\nI have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client.","title":"Java Apache HttpClient, Forward Proxy","body":"<p>I am using apache http client 4.5.14.\nHow can I make forward proxy ? I am using HttpClientBuilder and I can use setProxy() or setRoutePlanner() to set proxy.</p>\n<p>Then how I can set proxy to be forward proxy ? Or maybe I don't need to do anything and it will detect if proxy is forward/reverse and it will work without any more code ?</p>\n<p>@Edit more information</p>\n<p>I have access to some api via forward proxy and I want apache http client to use this proxy. Unfortunately my code did not work correctly with this proxy and my guess was that I did not configurate something in my code, but I was unable to find information how to configurate forward proxy in apache http client. I am looking for some examle/information how can I use forward proxy in apache http client.</p>\n"},{"tags":["java","web","tomcat","war","java-ee-7"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686899144,"post_id":76487691,"comment_id":134864300,"body_markdown":"Plenty of other ways: Local sockets, websockets, even RMI (don&#39;t use RMI). But it sounds like the easiest way is just to call that endpoint over HTTP.","body":"Plenty of other ways: Local sockets, websockets, even RMI (don&#39;t use RMI). But it sounds like the easiest way is just to call that endpoint over HTTP."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686910266,"post_id":76487691,"comment_id":134866569,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23965961,"reputation":1,"user_id":17955464,"display_name":"Francesc Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686899008,"creation_date":1686899008,"question_id":76487691,"body_markdown":"How do I call a war endpoint from a war that is running in the same server? The same way a client would do or is there any way of doing this interaction more &quot;light&quot; (without involving HTTP).\r\n\r\nI know that I could use some libraries like resteasy client library but I was wondering if there is a more straightforward way","title":"Communication between 2 wars in the same Java Servlet Container","body":"<p>How do I call a war endpoint from a war that is running in the same server? The same way a client would do or is there any way of doing this interaction more &quot;light&quot; (without involving HTTP).</p>\n<p>I know that I could use some libraries like resteasy client library but I was wondering if there is a more straightforward way</p>\n"},{"tags":["java","neural-network","mnist","backpropagation"],"owner":{"account_id":19594123,"reputation":1,"user_id":18064708,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686898956,"creation_date":1686898956,"question_id":76487687,"body_markdown":"Hello I am learning how to make neural networks.  I am starting out with a very simple vanilla network in java that seems unable to learn. The network seems to tend towards outputting values close to 0(generally about 0.05 - 0.2). I think the error is with my backprogation. Here is the co:e for the network: \r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\npublic class CustomNeuralNetwork\r\n{\r\n    double[][] InputWeights;\r\n    double[][][] HiddenWeights;\r\n    double[][] OutputWeights;\r\n    double[][] HiddenBias;\r\n    double[] OutputBias;\r\n    public CustomNeuralNetwork(int InputSize, int HiddenLayerSize, int HiddenLayers, int OutputSize){\r\n        InputWeights = new double[HiddenLayerSize][InputSize];\r\n        HiddenWeights = new double[HiddenLayers - 1][HiddenLayerSize][HiddenLayerSize];\r\n        OutputWeights = new double[OutputSize][HiddenLayerSize];\r\n        HiddenBias = new double[HiddenLayers][HiddenLayerSize];\r\n        OutputBias = new double[OutputSize];\r\n    }\r\n    public static double[] Activation(double[] x){\r\n        double[] Out = new double[x.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = 1 / (1 + Math.exp(-x[i]));\r\n        }\r\n        return Out;\r\n    }\r\n    \r\n    public static double[] ActivationPrime(double[] x){\r\n        double[] Out = new double[x.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            double Activation = 1 / (1 + Math.exp(-x[i]));\r\n            Out[i] = Activation * (1 - Activation);\r\n        }\r\n        return Out;\r\n    }\r\n    public void InitilizeNetwork(){\r\n        Random r = new Random();\r\n        for(int i = 0; i &lt; InputWeights.length; i++){\r\n            for(int j = 0; j &lt; InputWeights[i].length; j++){\r\n                InputWeights[i][j] = -1 + ( 2 * r.nextDouble());\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\r\n            for(int j = 0; j &lt; HiddenWeights[i].length; j++){\r\n                for (int k = 0; k &lt; HiddenWeights[i][j].length; k++){\r\n                    HiddenWeights[i][j][k] = -1 + (2 * r.nextDouble());\r\n                }\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; OutputWeights.length; i++){\r\n            for(int j = 0; j &lt; OutputWeights[i].length; j++){\r\n                OutputWeights[i][j] = -1 + (2 * r.nextDouble());\r\n            }\r\n        }\r\n        //Bias&#39;s don&#39;t need to be initilized since they start at 0\r\n    }\r\n    public static double[] multiply(double[][] matrix, double[] vector) {\r\n        int rows = matrix.length;\r\n        int columns = matrix[0].length;\r\n        double[] result = new double[rows];\r\n\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            double sum = 0;\r\n            for (int column = 0; column &lt; columns; column++) {\r\n                sum += matrix[row][column]\r\n                        * vector[column];\r\n            }\r\n            result[row] = sum;\r\n        }\r\n        return result;\r\n    }\r\n    public static double[] Add(double[] a, double[] b){\r\n        double[] Out = new double[a.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = a[i] + b[i];\r\n        }\r\n        return Out;\r\n    }\r\n    public static double[] Subtract(double[] a, double[] b){\r\n        double[] Out = new double[a.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = a[i] - b[i];\r\n        }\r\n        return Out;\r\n    }\r\n    public static double[] Mult(double[] a, double[] b){\r\n        double[] Out = new double[a.length];\r\n        for(int i = 0; i &lt; Out.length; i++){\r\n            Out[i] = a[i] * b[i];\r\n        }\r\n        return Out;\r\n    }\r\n    public Prediction Predict(double[] Inputs){\r\n        Prediction Out = new Prediction();\r\n        \r\n        Out.Inputs = Inputs;\r\n        Out.HiddenLayers = new double[HiddenWeights.length + 1][HiddenBias[0].length];\r\n        double[] CurrentLayer = Activation(Add(multiply(InputWeights, Inputs), HiddenBias[HiddenBias.length - 1]));\r\n        Out.HiddenLayers[Out.HiddenLayers.length - 1] = CurrentLayer;\r\n        for(int i = HiddenWeights.length - 1; i &gt;= 0; i--){\r\n            CurrentLayer = Activation(Add(multiply(HiddenWeights[i], CurrentLayer), HiddenBias[i]));\r\n            \r\n            Out.HiddenLayers[i] = CurrentLayer;\r\n        }\r\n        Out.Outputs = Activation(Add(multiply(OutputWeights, CurrentLayer), OutputBias));\r\n\r\n\r\n        return Out;\r\n        \r\n    }\r\n    public Deltas BackPropagation(Prediction Out){\r\n        //δ Important Greek letter \r\n        double[] δ = Mult((Subtract(Out.Expected, Out.Outputs)), ActivationPrime(Add(multiply(OutputWeights, Out.HiddenLayers[Out.HiddenLayers.length - 1]), OutputBias)));\r\n        double[][] OutputWeightDeltas = new double[OutputWeights.length][OutputWeights[0].length];\r\n        double[] OutputBiasDeltas = new double[OutputBias.length];\r\n        double[][][] HiddenWeightDeltas = new double[HiddenWeights.length][HiddenWeights[0].length][HiddenWeights[0][0].length];\r\n        double[][] HiddenBiasDeltas = new double[HiddenBias.length][HiddenBias[0].length];\r\n        double[][] InputWeightsDeltas = new double[InputWeights.length][Out.HiddenLayers.length];\r\n        for(int i = 0; i &lt; OutputWeightDeltas.length; i++){\r\n            for(int j = 0; j &lt; OutputWeightDeltas[i].length; j++){\r\n                OutputWeightDeltas[i][j] = δ[i] * Out.HiddenLayers[Out.HiddenLayers.length - 1][j];\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; OutputBiasDeltas.length; i++){\r\n            OutputBiasDeltas[i] = δ[i];\r\n        }\r\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\r\n            if(i == 0){\r\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(OutputWeights, δ));\r\n            }\r\n            else{\r\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(HiddenWeights[i - 1], δ));\r\n            }\r\n\r\n            for(int j = 0; j &lt; HiddenWeightDeltas[i].length; j++){\r\n                for(int k = 0; k &lt; HiddenWeightDeltas[i][j].length; k++){\r\n                    HiddenWeightDeltas[i][j][k] = δ[j] * Out.HiddenLayers[i][k];\r\n                }\r\n            }\r\n            for(int j = 0; j &lt; HiddenBiasDeltas[i].length; j++){\r\n                HiddenBiasDeltas[i][j] = δ[j];\r\n            }\r\n        }\r\n        δ = Mult(ActivationPrime(Add(multiply(InputWeights, Out.Inputs), HiddenBias[HiddenBias.length - 1])), Influence(HiddenWeights[HiddenWeights.length - 1], δ));\r\n        for(int i = 0; i &lt; InputWeightsDeltas.length; i++){\r\n            for(int j = 0; j &lt; InputWeightsDeltas[i].length; j++){\r\n                InputWeightsDeltas[i][j] = δ[j] * Out.Inputs[i];\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; HiddenBias[HiddenBias.length - 1].length; i++){\r\n            HiddenBias[HiddenBias.length - 1][i] = δ[i];\r\n        }\r\n        double[] Cost = new double[Out.Expected.length];\r\n        float y = 0;\r\n        for(int i = 0; i &lt; Cost.length; i++){\r\n            Cost[i] = (Out.Expected[i] - Out.Outputs[i]) * (Out.Expected[i] - Out.Outputs[i]); \r\n            y+= Cost[i];\r\n        }\r\n        System.out.println(&quot;Cost: &quot; + y);\r\n        Deltas x = new Deltas();\r\n        x.HiddenBiasDeltas = HiddenBiasDeltas;\r\n        x.HiddenWeightDeltas = HiddenWeightDeltas;\r\n        x.InputWeightsDeltas = InputWeightsDeltas;\r\n        x.OutputBiasDeltas = OutputBiasDeltas;\r\n        x.OutputWeightDeltas = OutputWeightDeltas;\r\n        return x;\r\n        \r\n    }\r\n    \r\n    public static double[] Influence(double[][] Weights, double[] δ){\r\n        double[] Out = new double[Weights[0].length];\r\n        for(int n = 0; n &lt; Out.length; n++){\r\n            for(int m = 0; m &lt; Weights.length; m++){\r\n                Out[n] += δ[m] * Weights[m][n];\r\n            }\r\n        \r\n        }\r\n        return Out;\r\n    }   \r\n\r\n}\r\n\r\n```\r\nand the code that calls this:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class DigitRecognizer\r\n{\r\n    \r\n    public static void main(String[] args){\r\n        CustomNeuralNetwork network = new CustomNeuralNetwork(784, 36, 3, 10);\r\n        double[][] TrainingData = new double[60000][784];\r\n        double[][] ExpectedOutputs = new double[60000][10];\r\n        double LearningRate = 0.001;\r\n        int Epoches = 50000;\r\n        try { \r\n            Scanner scan = new Scanner(new File(&quot;mnist_train.csv&quot;));\r\n            \r\n            for(int i = 0; scan.hasNext(); i++){\r\n                String[] Image = scan.next().split(&quot;,&quot;);\r\n                if(Image[0].equals(&quot;0&quot;)){\r\n                    ExpectedOutputs[i] = new double[] { 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };\r\n                }\r\n                else if(Image[0].equals(&quot;1&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 1, 0, 0, 0, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;2&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 1, 0, 0, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;3&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 1, 0, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;4&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 1, 0, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;5&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 1, 0, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;6&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 1, 0, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;7&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 1, 0, 0};\r\n                }\r\n                else if(Image[0].equals(&quot;8&quot;)){\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 1, 0};\r\n                }\r\n                else{\r\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 0, 1};\r\n                }\r\n                for(int j = 0; j &lt; 784; j++){\r\n                    \r\n                    TrainingData[i][j] = Double.parseDouble(Image[j+1])/1000.0 ;\r\n                    \r\n                }\r\n               \r\n                \r\n            }\r\n            scan.close();\r\n        }\r\n        catch(Exception e){System.out.println(&quot;Can&#39;t find File&quot;);}\r\n        network.InitilizeNetwork();\r\n        Random rand = new Random();\r\n        for(int i = 0; i &lt; Epoches; i++){\r\n            Deltas[] BackProp = new Deltas[32];\r\n            for(int j = 0; j &lt; 32; j++){\r\n                int Example = rand.nextInt(0, 60000);\r\n\r\n                Prediction guess = network.Predict(TrainingData[Example]);\r\n                guess.Expected = ExpectedOutputs[Example];\r\n                BackProp[j] = network.BackPropagation(guess);\r\n                \r\n            }\r\n            for(int j = 0; j &lt; 32; j++){\r\n                Deltas x = BackProp[j];\r\n                for(int k = 0; k &lt; x.HiddenBiasDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.HiddenBiasDeltas[k].length; l++){\r\n                        network.HiddenBias[k][l] += (LearningRate * (1.0/32.0) *x.HiddenBiasDeltas[k][l]);\r\n                    }\r\n                }\r\n                for(int k = 0; k &lt; x.HiddenWeightDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.HiddenWeightDeltas[k].length; l++){\r\n                        for(int m = 0; m &lt; x.HiddenWeightDeltas[k][l].length; m++){\r\n                            network.HiddenWeights[k][l][m] += (LearningRate * (1.0/32.0) * x.HiddenWeightDeltas[k][l][m]);\r\n                        }\r\n                    }\r\n                }\r\n                for(int k = 0; k &lt; x.InputWeightsDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.InputWeightsDeltas[k].length; l++){\r\n                        network.InputWeights[k][l] += (LearningRate * (1.0/32.0) * x.InputWeightsDeltas[k][l]);\r\n                    }\r\n                }\r\n                for(int k = 0; k &lt; x.OutputBiasDeltas.length; k++){\r\n                    network.OutputBias[k] += (LearningRate * (1.0/32.0) * x.OutputBiasDeltas[k]);\r\n                }\r\n                for(int k = 0; k &lt; x.OutputWeightDeltas.length; k++){\r\n                    for(int l = 0; l &lt; x.OutputWeightDeltas[k].length; l++){\r\n                        network.OutputWeights[k][l] += (LearningRate * (1.0/32.0) * x.OutputWeightDeltas[k][l]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n(Prediction and deltas are simple data classes with only the variables shown)\r\nThe code is trying to recognize digits with the MNIST data set.","title":"BackPropagation leading to same output values for each training example","body":"<p>Hello I am learning how to make neural networks.  I am starting out with a very simple vanilla network in java that seems unable to learn. The network seems to tend towards outputting values close to 0(generally about 0.05 - 0.2). I think the error is with my backprogation. Here is the co:e for the network:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\npublic class CustomNeuralNetwork\n{\n    double[][] InputWeights;\n    double[][][] HiddenWeights;\n    double[][] OutputWeights;\n    double[][] HiddenBias;\n    double[] OutputBias;\n    public CustomNeuralNetwork(int InputSize, int HiddenLayerSize, int HiddenLayers, int OutputSize){\n        InputWeights = new double[HiddenLayerSize][InputSize];\n        HiddenWeights = new double[HiddenLayers - 1][HiddenLayerSize][HiddenLayerSize];\n        OutputWeights = new double[OutputSize][HiddenLayerSize];\n        HiddenBias = new double[HiddenLayers][HiddenLayerSize];\n        OutputBias = new double[OutputSize];\n    }\n    public static double[] Activation(double[] x){\n        double[] Out = new double[x.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = 1 / (1 + Math.exp(-x[i]));\n        }\n        return Out;\n    }\n    \n    public static double[] ActivationPrime(double[] x){\n        double[] Out = new double[x.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            double Activation = 1 / (1 + Math.exp(-x[i]));\n            Out[i] = Activation * (1 - Activation);\n        }\n        return Out;\n    }\n    public void InitilizeNetwork(){\n        Random r = new Random();\n        for(int i = 0; i &lt; InputWeights.length; i++){\n            for(int j = 0; j &lt; InputWeights[i].length; j++){\n                InputWeights[i][j] = -1 + ( 2 * r.nextDouble());\n            }\n        }\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\n            for(int j = 0; j &lt; HiddenWeights[i].length; j++){\n                for (int k = 0; k &lt; HiddenWeights[i][j].length; k++){\n                    HiddenWeights[i][j][k] = -1 + (2 * r.nextDouble());\n                }\n            }\n        }\n        for(int i = 0; i &lt; OutputWeights.length; i++){\n            for(int j = 0; j &lt; OutputWeights[i].length; j++){\n                OutputWeights[i][j] = -1 + (2 * r.nextDouble());\n            }\n        }\n        //Bias's don't need to be initilized since they start at 0\n    }\n    public static double[] multiply(double[][] matrix, double[] vector) {\n        int rows = matrix.length;\n        int columns = matrix[0].length;\n        double[] result = new double[rows];\n\n        for (int row = 0; row &lt; rows; row++) {\n            double sum = 0;\n            for (int column = 0; column &lt; columns; column++) {\n                sum += matrix[row][column]\n                        * vector[column];\n            }\n            result[row] = sum;\n        }\n        return result;\n    }\n    public static double[] Add(double[] a, double[] b){\n        double[] Out = new double[a.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = a[i] + b[i];\n        }\n        return Out;\n    }\n    public static double[] Subtract(double[] a, double[] b){\n        double[] Out = new double[a.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = a[i] - b[i];\n        }\n        return Out;\n    }\n    public static double[] Mult(double[] a, double[] b){\n        double[] Out = new double[a.length];\n        for(int i = 0; i &lt; Out.length; i++){\n            Out[i] = a[i] * b[i];\n        }\n        return Out;\n    }\n    public Prediction Predict(double[] Inputs){\n        Prediction Out = new Prediction();\n        \n        Out.Inputs = Inputs;\n        Out.HiddenLayers = new double[HiddenWeights.length + 1][HiddenBias[0].length];\n        double[] CurrentLayer = Activation(Add(multiply(InputWeights, Inputs), HiddenBias[HiddenBias.length - 1]));\n        Out.HiddenLayers[Out.HiddenLayers.length - 1] = CurrentLayer;\n        for(int i = HiddenWeights.length - 1; i &gt;= 0; i--){\n            CurrentLayer = Activation(Add(multiply(HiddenWeights[i], CurrentLayer), HiddenBias[i]));\n            \n            Out.HiddenLayers[i] = CurrentLayer;\n        }\n        Out.Outputs = Activation(Add(multiply(OutputWeights, CurrentLayer), OutputBias));\n\n\n        return Out;\n        \n    }\n    public Deltas BackPropagation(Prediction Out){\n        //δ Important Greek letter \n        double[] δ = Mult((Subtract(Out.Expected, Out.Outputs)), ActivationPrime(Add(multiply(OutputWeights, Out.HiddenLayers[Out.HiddenLayers.length - 1]), OutputBias)));\n        double[][] OutputWeightDeltas = new double[OutputWeights.length][OutputWeights[0].length];\n        double[] OutputBiasDeltas = new double[OutputBias.length];\n        double[][][] HiddenWeightDeltas = new double[HiddenWeights.length][HiddenWeights[0].length][HiddenWeights[0][0].length];\n        double[][] HiddenBiasDeltas = new double[HiddenBias.length][HiddenBias[0].length];\n        double[][] InputWeightsDeltas = new double[InputWeights.length][Out.HiddenLayers.length];\n        for(int i = 0; i &lt; OutputWeightDeltas.length; i++){\n            for(int j = 0; j &lt; OutputWeightDeltas[i].length; j++){\n                OutputWeightDeltas[i][j] = δ[i] * Out.HiddenLayers[Out.HiddenLayers.length - 1][j];\n            }\n        }\n        for(int i = 0; i &lt; OutputBiasDeltas.length; i++){\n            OutputBiasDeltas[i] = δ[i];\n        }\n        for(int i = 0; i &lt; HiddenWeights.length; i++){\n            if(i == 0){\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(OutputWeights, δ));\n            }\n            else{\n                δ = Mult(ActivationPrime(Add(multiply(HiddenWeights[i], Out.HiddenLayers[i + 1]), HiddenBias[i + 1])), Influence(HiddenWeights[i - 1], δ));\n            }\n\n            for(int j = 0; j &lt; HiddenWeightDeltas[i].length; j++){\n                for(int k = 0; k &lt; HiddenWeightDeltas[i][j].length; k++){\n                    HiddenWeightDeltas[i][j][k] = δ[j] * Out.HiddenLayers[i][k];\n                }\n            }\n            for(int j = 0; j &lt; HiddenBiasDeltas[i].length; j++){\n                HiddenBiasDeltas[i][j] = δ[j];\n            }\n        }\n        δ = Mult(ActivationPrime(Add(multiply(InputWeights, Out.Inputs), HiddenBias[HiddenBias.length - 1])), Influence(HiddenWeights[HiddenWeights.length - 1], δ));\n        for(int i = 0; i &lt; InputWeightsDeltas.length; i++){\n            for(int j = 0; j &lt; InputWeightsDeltas[i].length; j++){\n                InputWeightsDeltas[i][j] = δ[j] * Out.Inputs[i];\n            }\n        }\n        for(int i = 0; i &lt; HiddenBias[HiddenBias.length - 1].length; i++){\n            HiddenBias[HiddenBias.length - 1][i] = δ[i];\n        }\n        double[] Cost = new double[Out.Expected.length];\n        float y = 0;\n        for(int i = 0; i &lt; Cost.length; i++){\n            Cost[i] = (Out.Expected[i] - Out.Outputs[i]) * (Out.Expected[i] - Out.Outputs[i]); \n            y+= Cost[i];\n        }\n        System.out.println(&quot;Cost: &quot; + y);\n        Deltas x = new Deltas();\n        x.HiddenBiasDeltas = HiddenBiasDeltas;\n        x.HiddenWeightDeltas = HiddenWeightDeltas;\n        x.InputWeightsDeltas = InputWeightsDeltas;\n        x.OutputBiasDeltas = OutputBiasDeltas;\n        x.OutputWeightDeltas = OutputWeightDeltas;\n        return x;\n        \n    }\n    \n    public static double[] Influence(double[][] Weights, double[] δ){\n        double[] Out = new double[Weights[0].length];\n        for(int n = 0; n &lt; Out.length; n++){\n            for(int m = 0; m &lt; Weights.length; m++){\n                Out[n] += δ[m] * Weights[m][n];\n            }\n        \n        }\n        return Out;\n    }   \n\n}\n\n</code></pre>\n<p>and the code that calls this:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class DigitRecognizer\n{\n    \n    public static void main(String[] args){\n        CustomNeuralNetwork network = new CustomNeuralNetwork(784, 36, 3, 10);\n        double[][] TrainingData = new double[60000][784];\n        double[][] ExpectedOutputs = new double[60000][10];\n        double LearningRate = 0.001;\n        int Epoches = 50000;\n        try { \n            Scanner scan = new Scanner(new File(&quot;mnist_train.csv&quot;));\n            \n            for(int i = 0; scan.hasNext(); i++){\n                String[] Image = scan.next().split(&quot;,&quot;);\n                if(Image[0].equals(&quot;0&quot;)){\n                    ExpectedOutputs[i] = new double[] { 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };\n                }\n                else if(Image[0].equals(&quot;1&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 1, 0, 0, 0, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;2&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 1, 0, 0, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;3&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 1, 0, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;4&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 1, 0, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;5&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 1, 0, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;6&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 1, 0, 0, 0};\n                }\n                else if(Image[0].equals(&quot;7&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 1, 0, 0};\n                }\n                else if(Image[0].equals(&quot;8&quot;)){\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 1, 0};\n                }\n                else{\n                    ExpectedOutputs[i] = new double[] {0, 0, 0, 0, 0, 0, 0, 0, 0, 1};\n                }\n                for(int j = 0; j &lt; 784; j++){\n                    \n                    TrainingData[i][j] = Double.parseDouble(Image[j+1])/1000.0 ;\n                    \n                }\n               \n                \n            }\n            scan.close();\n        }\n        catch(Exception e){System.out.println(&quot;Can't find File&quot;);}\n        network.InitilizeNetwork();\n        Random rand = new Random();\n        for(int i = 0; i &lt; Epoches; i++){\n            Deltas[] BackProp = new Deltas[32];\n            for(int j = 0; j &lt; 32; j++){\n                int Example = rand.nextInt(0, 60000);\n\n                Prediction guess = network.Predict(TrainingData[Example]);\n                guess.Expected = ExpectedOutputs[Example];\n                BackProp[j] = network.BackPropagation(guess);\n                \n            }\n            for(int j = 0; j &lt; 32; j++){\n                Deltas x = BackProp[j];\n                for(int k = 0; k &lt; x.HiddenBiasDeltas.length; k++){\n                    for(int l = 0; l &lt; x.HiddenBiasDeltas[k].length; l++){\n                        network.HiddenBias[k][l] += (LearningRate * (1.0/32.0) *x.HiddenBiasDeltas[k][l]);\n                    }\n                }\n                for(int k = 0; k &lt; x.HiddenWeightDeltas.length; k++){\n                    for(int l = 0; l &lt; x.HiddenWeightDeltas[k].length; l++){\n                        for(int m = 0; m &lt; x.HiddenWeightDeltas[k][l].length; m++){\n                            network.HiddenWeights[k][l][m] += (LearningRate * (1.0/32.0) * x.HiddenWeightDeltas[k][l][m]);\n                        }\n                    }\n                }\n                for(int k = 0; k &lt; x.InputWeightsDeltas.length; k++){\n                    for(int l = 0; l &lt; x.InputWeightsDeltas[k].length; l++){\n                        network.InputWeights[k][l] += (LearningRate * (1.0/32.0) * x.InputWeightsDeltas[k][l]);\n                    }\n                }\n                for(int k = 0; k &lt; x.OutputBiasDeltas.length; k++){\n                    network.OutputBias[k] += (LearningRate * (1.0/32.0) * x.OutputBiasDeltas[k]);\n                }\n                for(int k = 0; k &lt; x.OutputWeightDeltas.length; k++){\n                    for(int l = 0; l &lt; x.OutputWeightDeltas[k].length; l++){\n                        network.OutputWeights[k][l] += (LearningRate * (1.0/32.0) * x.OutputWeightDeltas[k][l]);\n                    }\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>(Prediction and deltas are simple data classes with only the variables shown)\nThe code is trying to recognize digits with the MNIST data set.</p>\n"},{"tags":["java","quarkus","jbpm","bpmn","bpmn.io"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686922755,"post_id":76487137,"comment_id":134869134,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26025449,"reputation":1,"user_id":19732437,"display_name":"Rahul Malawadkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686898521,"creation_date":1686892738,"question_id":76487137,"body_markdown":"While starting a BPMN process using the API, we send process data in the request body. I want to include some metadata in the request body to distinguish between starting the BPMN process from the UI and through a backend service. Additionally, when starting the process through a backend service, I want to implement a two-way handshake mechanism between the sender and receiver processes. My plan is to use the metadata to identify the sender and acknowledge it after receiving it back from the receiver. \r\nAre there any solutions that someone can suggest? \r\n\r\nThank you.","title":"Send Meda Data in request body for bpmn process","body":"<p>While starting a BPMN process using the API, we send process data in the request body. I want to include some metadata in the request body to distinguish between starting the BPMN process from the UI and through a backend service. Additionally, when starting the process through a backend service, I want to implement a two-way handshake mechanism between the sender and receiver processes. My plan is to use the metadata to identify the sender and acknowledge it after receiving it back from the receiver.\nAre there any solutions that someone can suggest?</p>\n<p>Thank you.</p>\n"},{"tags":["java","javafx","ffmpeg","ubuntu-20.04"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1593331297,"post_id":62619607,"comment_id":110737922,"body_markdown":"the resources lookup is wrong (see the faq on how to do it correctly), not closing as duplicate because there might be another problem. and don&#39;t post images of text ..","body":"the resources lookup is wrong (see the faq on how to do it correctly), not closing as duplicate because there might be another problem. and don&#39;t post images of text .."},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1593341647,"post_id":62619607,"comment_id":110740846,"body_markdown":"@kleopatra can you hlep me more about resources lookup? were should i look for that?","body":"@kleopatra can you hlep me more about resources lookup? were should i look for that?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1593351531,"post_id":62619607,"comment_id":110743830,"body_markdown":"as I said: see the faq (in the javafx tag wiki .. click the learn-more link near the top of the page showing the list of questions for javafx)","body":"as I said: see the faq (in the javafx tag wiki .. click the learn-more link near the top of the page showing the list of questions for javafx)"},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1593359088,"post_id":62619607,"comment_id":110746594,"body_markdown":"@kleopatra I don&#39;t think that is the problem because this code run on windows properly.","body":"@kleopatra I don&#39;t think that is the problem because this code run on windows properly."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1593360380,"post_id":62619607,"comment_id":110747087,"body_markdown":"if it&#39;s working, that&#39;s accidentally - for building correct and robust software, you must stick to the specification (which states exactly which format the resource lookup it expects), always, no exception ..","body":"if it&#39;s working, that&#39;s accidentally - for building correct and robust software, you must stick to the specification (which states exactly which format the resource lookup it expects), always, no exception .."},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1593363153,"post_id":62619607,"comment_id":110748102,"body_markdown":"@kleopatra You are right. I change the code(also in question) but I still getting that same error.","body":"@kleopatra You are right. I change the code(also in question) but I still getting that same error."},{"owner":{"account_id":7841741,"reputation":1744,"user_id":5932611,"display_name":"Tharindu Sathischandra"},"score":0,"creation_date":1600438437,"post_id":62619607,"comment_id":113097474,"body_markdown":"I also get the same problem in Ubuntu 20.04","body":"I also get the same problem in Ubuntu 20.04"},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":0,"creation_date":1600446042,"post_id":62619607,"comment_id":113101019,"body_markdown":"@TharinduSathischandra This is not solved yet. I used another file format to implement my program.","body":"@TharinduSathischandra This is not solved yet. I used another file format to implement my program."},{"owner":{"account_id":7841741,"reputation":1744,"user_id":5932611,"display_name":"Tharindu Sathischandra"},"score":0,"creation_date":1600448771,"post_id":62619607,"comment_id":113102106,"body_markdown":"@parsa2820 which format did u used?","body":"@parsa2820 which format did u used?"},{"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"score":1,"creation_date":1600496726,"post_id":62619607,"comment_id":113112246,"body_markdown":"@TharinduSathischandra I used wav. You can easily convert mp3 to wav using ffmpeg.","body":"@TharinduSathischandra I used wav. You can easily convert mp3 to wav using ffmpeg."},{"owner":{"account_id":11585493,"reputation":192,"user_id":8487819,"display_name":"aldora372"},"score":0,"creation_date":1617526262,"post_id":62619607,"comment_id":118324871,"body_markdown":"just wonder have you solved this problem yet? I had the same problem,: https://stackoverflow.com/q/66939226/8487819, and I also met another strange problem with playing audio file in loop mode","body":"just wonder have you solved this problem yet? I had the same problem,: <a href=\"https://stackoverflow.com/q/66939226/8487819\">stackoverflow.com/q/66939226/8487819</a>, and I also met another strange problem with playing audio file in loop mode"}],"answers":[{"tags":[],"owner":{"account_id":8870084,"reputation":171,"user_id":6624035,"display_name":"RushiSrinivas.K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593552285,"creation_date":1593552285,"answer_id":62666380,"question_id":62619607,"body_markdown":"I had this problem for a very long time. In fact, it didn&#39;t work for me on any Linux distro. Try running it on Windows or Mac. But you can look for a solution (Which I didn&#39;t get after looking for a week).","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>I had this problem for a very long time. In fact, it didn't work for me on any Linux distro. Try running it on Windows or Mac. But you can look for a solution (Which I didn't get after looking for a week).</p>\n"},{"tags":[],"owner":{"account_id":11585493,"reputation":192,"user_id":8487819,"display_name":"aldora372"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617542529,"creation_date":1617542529,"answer_id":66941709,"question_id":62619607,"body_markdown":"Another solution is to update javafx, javafx 16 can play mp3 file successfully on ubuntu 20. \r\nyou can download it from here: [javafx download link][1]\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>Another solution is to update javafx, javafx 16 can play mp3 file successfully on ubuntu 20.\nyou can download it from here: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">javafx download link</a></p>\n"},{"tags":[],"owner":{"account_id":28832056,"reputation":11,"user_id":22082214,"display_name":"LeStegii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686898130,"creation_date":1686898130,"answer_id":76487594,"question_id":62619607,"body_markdown":"I had the same issue with JDK 17, many other thread suggest installing **libav-tools**, but it seems like it has been deprecated and is no longer available in recent versions of Ubuntu.\r\n\r\nTherefore you can install **ffmpeg** instead. After installing this, it worked fine for me.\r\n\r\n`sudo apt install ffmpeg`","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>I had the same issue with JDK 17, many other thread suggest installing <strong>libav-tools</strong>, but it seems like it has been deprecated and is no longer available in recent versions of Ubuntu.</p>\n<p>Therefore you can install <strong>ffmpeg</strong> instead. After installing this, it worked fine for me.</p>\n<p><code>sudo apt install ffmpeg</code></p>\n"}],"owner":{"account_id":11072036,"reputation":570,"user_id":12321674,"display_name":"parsa2820"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1784,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66941709,"answer_count":3,"score":3,"last_activity_date":1686898130,"creation_date":1593329842,"question_id":62619607,"body_markdown":"I am trying to play mp3 file on JavaFX-11.0.2 on Ubuntu-20.04 using JDK-13.0.2 but I keep getting this same error every time. While I was searching for that I found that JavaFX uses older version of some libraries([See this issue on github][1]). So I compiled and installed ffmpeg-3.1.11 from source. But the same exception is thrown. I put my code and error message bellow. I stuck on this for days so I really appreciate any help. Thanks.\r\n\r\nnote : This is not duplicate qeustion. All other questions regarding to this error happend on different versions and had different causes. I tried most of them but none of them works for me.\r\n\r\n```\r\n/usr/lib/jvm/jdk-13.0.2/bin/java --module-path /opt/javafx-sdk-11.0.2/lib --add-modules=javafx.controls,javafx.fxml,javafx.media -Djava.library.path=/opt/javafx-sdk-11.0.2/lib -javaagent:/opt/idea-IU-201.7846.76/lib/idea_rt.jar=46237:/opt/idea-IU-201.7846.76/bin -Dfile.encoding=UTF-8 -classpath /home/parsa/Documents/welanner/target/classes:/opt/javafx-sdk-11.0.2/lib/src.zip:/opt/javafx-sdk-11.0.2/lib/javafx-swt.jar:/opt/javafx-sdk-11.0.2/lib/javafx.web.jar:/opt/javafx-sdk-11.0.2/lib/javafx.base.jar:/opt/javafx-sdk-11.0.2/lib/javafx.fxml.jar:/opt/javafx-sdk-11.0.2/lib/javafx.media.jar:/opt/javafx-sdk-11.0.2/lib/javafx.swing.jar:/opt/javafx-sdk-11.0.2/lib/javafx.controls.jar:/opt/javafx-sdk-11.0.2/lib/javafx.graphics.jar:/home/parsa/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar view.GUI\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:830)\r\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\r\n\tat javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\r\n\tat javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\r\n\tat view.GUI.start(GUI.java:13)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\r\n\t... 1 more\r\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\r\n\tat javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\r\n\tat javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\r\n\t... 11 more\r\nException running application view.GUI\r\n\r\nProcess finished with exit code 1\r\n```\r\nThis is my code. I know path and other things are correct because I can run it on Windows properly.\r\n```\r\npackage view;\r\n\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.File;\r\n\r\npublic class GUI extends javafx.application.Application{\r\n    public void start(Stage stage) throws Exception {\r\n        String path = &quot;/home/parsa/Music/Ninoush.mp3&quot;;\r\n        Media media = new Media(new File(path).toURI().toString());\r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n        mediaPlayer.setAutoPlay(true);\r\n        stage.setTitle(&quot;Playing audio&quot;);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nThis is my ffmpeg and libraries versions : \r\n```\r\nffmpeg version 3.1.11 Copyright (c) 2000-2017 the FFmpeg developers\r\nbuilt with gcc 9 (Ubuntu 9.3.0-10ubuntu2)\r\nconfiguration: \r\nlibavutil      55. 28.100 / 55. 28.100\r\nlibavcodec     57. 48.101 / 57. 48.101\r\nlibavformat    57. 41.100 / 57. 41.100\r\nlibavdevice    57.  0.101 / 57.  0.101\r\nlibavfilter     6. 47.100 /  6. 47.100\r\nlibswscale      4.  1.100 /  4.  1.100\r\nlibswresample   2.  1.100 /  2.  1.100\r\n```\r\nEdit 3 : I can play wav file this way but I can&#39;t play mp3.\r\n\r\n  [1]: https://github.com/javafxports/openjdk-jfx/issues/331\r\n","title":"JavaFX media issue on Ubuntu : Could not create player","body":"<p>I am trying to play mp3 file on JavaFX-11.0.2 on Ubuntu-20.04 using JDK-13.0.2 but I keep getting this same error every time. While I was searching for that I found that JavaFX uses older version of some libraries(<a href=\"https://github.com/javafxports/openjdk-jfx/issues/331\" rel=\"nofollow noreferrer\">See this issue on github</a>). So I compiled and installed ffmpeg-3.1.11 from source. But the same exception is thrown. I put my code and error message bellow. I stuck on this for days so I really appreciate any help. Thanks.</p>\n<p>note : This is not duplicate qeustion. All other questions regarding to this error happend on different versions and had different causes. I tried most of them but none of them works for me.</p>\n<pre><code>/usr/lib/jvm/jdk-13.0.2/bin/java --module-path /opt/javafx-sdk-11.0.2/lib --add-modules=javafx.controls,javafx.fxml,javafx.media -Djava.library.path=/opt/javafx-sdk-11.0.2/lib -javaagent:/opt/idea-IU-201.7846.76/lib/idea_rt.jar=46237:/opt/idea-IU-201.7846.76/bin -Dfile.encoding=UTF-8 -classpath /home/parsa/Documents/welanner/target/classes:/opt/javafx-sdk-11.0.2/lib/src.zip:/opt/javafx-sdk-11.0.2/lib/javafx-swt.jar:/opt/javafx-sdk-11.0.2/lib/javafx.web.jar:/opt/javafx-sdk-11.0.2/lib/javafx.base.jar:/opt/javafx-sdk-11.0.2/lib/javafx.fxml.jar:/opt/javafx-sdk-11.0.2/lib/javafx.media.jar:/opt/javafx-sdk-11.0.2/lib/javafx.swing.jar:/opt/javafx-sdk-11.0.2/lib/javafx.controls.jar:/opt/javafx-sdk-11.0.2/lib/javafx.graphics.jar:/home/parsa/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar view.GUI\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:830)\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\n    at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\n    at javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\n    at view.GUI.start(GUI.java:13)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\n    ... 1 more\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\n    at javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\n    at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\n    ... 11 more\nException running application view.GUI\n\nProcess finished with exit code 1\n</code></pre>\n<p>This is my code. I know path and other things are correct because I can run it on Windows properly.</p>\n<pre><code>package view;\n\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\nimport java.io.File;\n\npublic class GUI extends javafx.application.Application{\n    public void start(Stage stage) throws Exception {\n        String path = &quot;/home/parsa/Music/Ninoush.mp3&quot;;\n        Media media = new Media(new File(path).toURI().toString());\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.setAutoPlay(true);\n        stage.setTitle(&quot;Playing audio&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This is my ffmpeg and libraries versions :</p>\n<pre><code>ffmpeg version 3.1.11 Copyright (c) 2000-2017 the FFmpeg developers\nbuilt with gcc 9 (Ubuntu 9.3.0-10ubuntu2)\nconfiguration: \nlibavutil      55. 28.100 / 55. 28.100\nlibavcodec     57. 48.101 / 57. 48.101\nlibavformat    57. 41.100 / 57. 41.100\nlibavdevice    57.  0.101 / 57.  0.101\nlibavfilter     6. 47.100 /  6. 47.100\nlibswscale      4.  1.100 /  4.  1.100\nlibswresample   2.  1.100 /  2.  1.100\n</code></pre>\n<p>Edit 3 : I can play wav file this way but I can't play mp3.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","server"],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686897645,"creation_date":1686853362,"question_id":76484510,"body_markdown":"I am new to spring boot and trying to implement Spring security.I am trying to implement Oauth security into my project from the following reference \r\n [spring oauth2.0 security][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-security-5-oauth2-login\r\n\r\nI have created following security configuration \r\n\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class AuthorizationServerConfig {\r\n\r\n    private static List&lt;String&gt; clients = Arrays.asList(&quot;google&quot;, &quot;facebook&quot;);\r\n    private static String CLIENT_PROPERTY_KEY\r\n            = &quot;spring.security.oauth2.client.registration.&quot;;\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    public PasswordEncoder getPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .anyRequest().authenticated()\r\n                                .requestMatchers(&quot;/api/v1/**&quot;).permitAll()\r\n                )\r\n                .oauth2Login(Customizer.withDefaults());\r\n    return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public ClientRegistrationRepository clientRegistrationRepository() {\r\n        List&lt;ClientRegistration&gt; registrations = clients.stream()\r\n                .map(c -&gt; getRegistration(c))\r\n                .filter(registration -&gt; registration != null)\r\n                .collect(Collectors.toList());\r\n\r\n        return new InMemoryClientRegistrationRepository(registrations);\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizedClientService authorizedClientService() {\r\n\r\n        return new InMemoryOAuth2AuthorizedClientService(\r\n                clientRegistrationRepository());\r\n    }\r\n\r\n\r\n    private ClientRegistration getRegistration(String client) {\r\n        String clientId = env.getProperty(\r\n                CLIENT_PROPERTY_KEY + client + &quot;.client-id&quot;);\r\n\r\n        if (clientId == null) {\r\n            return null;\r\n        }\r\n\r\n        String clientSecret = env.getProperty(\r\n                CLIENT_PROPERTY_KEY + client + &quot;.client-secret&quot;);\r\n\r\n        if (client.equals(&quot;google&quot;)) {\r\n            return CommonOAuth2Provider.GOOGLE.getBuilder(client)\r\n                    .clientId(clientId).clientSecret(clientSecret).build();\r\n        }\r\n        if (client.equals(&quot;facebook&quot;)) {\r\n            return CommonOAuth2Provider.FACEBOOK.getBuilder(client)\r\n                    .clientId(clientId).clientSecret(clientSecret).build();\r\n        }\r\n        return null;\r\n     }\r\n    }\r\n    \r\n\r\nbut while running the sever I am encountering this error \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authorizedClientService&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: \r\n\r\n    Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method &#39;authorizedClientService&#39; threw exception with message: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 97 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method &#39;authorizedClientService&#39; threw exception with message: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 111 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.authorizedClientService(AuthorizationServerConfig.java:67) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$authorizedClientService$2(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.authorizedClientService(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 112 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 133 common frames omitted\r\n    Caused by: java.lang.NoSuchFieldError: BASIC\r\n    \tat org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:289) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\r\n    \tat org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:284) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\r\n    \tat org.springframework.security.oauth2.client.registration.ClientRegistration.withRegistrationId(ClientRegistration.java:267) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\r\n    \tat com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider.getBuilder(CommonOAuth2Provider.java:83) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider$1.getBuilder(CommonOAuth2Provider.java:17) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.getRegistration(AuthorizationServerConfig.java:83) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.lambda$clientRegistrationRepository$1(AuthorizationServerConfig.java:56) ~[classes/:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.clientRegistrationRepository(AuthorizationServerConfig.java:58) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$clientRegistrationRepository$3(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\r\n    \tat com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n    \t... 134 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n    \r\napplication.properties contain client details\r\n\r\n    spring.security.oauth2.client.registration.google.client-id=&lt;your client id&gt;\r\n    spring.security.oauth2.client.registration.google.client-secret=&lt;your client secret&gt;\r\n\r\n    spring.security.oauth2.client.registration.facebook.client-id=&lt;your client id&gt;\r\n    spring.security.oauth2.client.registration.facebook.client-secret=&lt;your client secret&gt;\r\n\r\n\r\nPlease help me resolve this issue.\r\n\r\nThis is CommonOAuthProvider \r\n\r\n    public enum CommonOAuth2Provider {\r\n\r\n\tGOOGLE {\r\n\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\r\n\t\t\tbuilder.authorizationUri(&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;);\r\n\t\t\tbuilder.tokenUri(&quot;https://www.googleapis.com/oauth2/v4/token&quot;);\r\n\t\t\tbuilder.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;);\r\n\t\t\t//builder.issuerUri(&quot;https://accounts.google.com&quot;);\r\n\t\t\tbuilder.userInfoUri(&quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;);\r\n\t\t\tbuilder.userNameAttributeName(IdTokenClaimNames.SUB);\r\n\t\t\tbuilder.clientName(&quot;Google&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tGITHUB {\r\n\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;read:user&quot;);\r\n\t\t\tbuilder.authorizationUri(&quot;https://github.com/login/oauth/authorize&quot;);\r\n\t\t\tbuilder.tokenUri(&quot;https://github.com/login/oauth/access_token&quot;);\r\n\t\t\tbuilder.userInfoUri(&quot;https://api.github.com/user&quot;);\r\n\t\t\tbuilder.userNameAttributeName(&quot;id&quot;);\r\n\t\t\tbuilder.clientName(&quot;GitHub&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tFACEBOOK {\r\n\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_POST, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;public_profile&quot;, &quot;email&quot;);\r\n\t\t\tbuilder.authorizationUri(&quot;https://www.facebook.com/v2.8/dialog/oauth&quot;);\r\n\t\t\tbuilder.tokenUri(&quot;https://graph.facebook.com/v2.8/oauth/access_token&quot;);\r\n\t\t\tbuilder.userInfoUri(&quot;https://graph.facebook.com/me?fields=id,name,email&quot;);\r\n\t\t\tbuilder.userNameAttributeName(&quot;id&quot;);\r\n\t\t\tbuilder.clientName(&quot;Facebook&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tOKTA {\r\n\t\t@Override\r\n\t\tpublic Builder getBuilder(String registrationId) {\r\n\t\t\tClientRegistration.Builder builder = getBuilder(registrationId,\r\n\t\t\t\t\tClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\r\n\t\t\tbuilder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\r\n\t\t\tbuilder.userNameAttributeName(IdTokenClaimNames.SUB);\r\n\t\t\tbuilder.clientName(&quot;Okta&quot;);\r\n\t\t\treturn builder;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tprivate static final String DEFAULT_REDIRECT_URL = &quot;{baseUrl}/{action}/oauth2/code/{registrationId}&quot;;\r\n\r\n\tprotected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\r\n\t\t\tString redirectUri) {\r\n\t\tClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);\r\n\t\tbuilder.clientAuthenticationMethod(method);\r\n\t\tbuilder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\r\n\t\t//builder.redirectUri(redirectUri);\r\n\t\tbuilder.redirectUriTemplate(redirectUri);\r\n\t\treturn builder;\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new\r\n\t * {@link org.springframework.security.oauth2.client.registration.ClientRegistration.Builder\r\n\t * ClientRegistration.Builder} pre-configured with provider defaults.\r\n\t * @param registrationId the registration-id used with the new builder\r\n\t * @return a builder instance\r\n\t */\r\n\tpublic abstract ClientRegistration.Builder getBuilder(String registrationId);\r\n\r\n    }\r\n\r\nexception is occurred in below method \r\n\r\n    protected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\r\n\t\t\tString redirectUri) {\r\n\t\t**ClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);**\r\n\t\tbuilder.clientAuthenticationMethod(method);\r\n\t\tbuilder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\r\n\t\t//builder.redirectUri(redirectUri);\r\n\t\tbuilder.redirectUriTemplate(redirectUri);\r\n\t\treturn builder;\r\n\t}\r\n\r\n \r\n\r\n \r\n\r\n","title":"Factory method &#39;clientRegistrationRepository&#39; threw exception with message: BASIC","body":"<p>I am new to spring boot and trying to implement Spring security.I am trying to implement Oauth security into my project from the following reference\n<a href=\"https://www.baeldung.com/spring-security-5-oauth2-login\" rel=\"nofollow noreferrer\">spring oauth2.0 security</a></p>\n<p>I have created following security configuration</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AuthorizationServerConfig {\n\nprivate static List&lt;String&gt; clients = Arrays.asList(&quot;google&quot;, &quot;facebook&quot;);\nprivate static String CLIENT_PROPERTY_KEY\n        = &quot;spring.security.oauth2.client.registration.&quot;;\n\n@Autowired\nprivate Environment env;\n\npublic PasswordEncoder getPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeRequests((authorizeRequests) -&gt;\n                    authorizeRequests\n                            .anyRequest().authenticated()\n                            .requestMatchers(&quot;/api/v1/**&quot;).permitAll()\n            )\n            .oauth2Login(Customizer.withDefaults());\nreturn http.build();\n}\n\n@Bean\npublic ClientRegistrationRepository clientRegistrationRepository() {\n    List&lt;ClientRegistration&gt; registrations = clients.stream()\n            .map(c -&gt; getRegistration(c))\n            .filter(registration -&gt; registration != null)\n            .collect(Collectors.toList());\n\n    return new InMemoryClientRegistrationRepository(registrations);\n}\n\n@Bean\npublic OAuth2AuthorizedClientService authorizedClientService() {\n\n    return new InMemoryOAuth2AuthorizedClientService(\n            clientRegistrationRepository());\n}\n\n\nprivate ClientRegistration getRegistration(String client) {\n    String clientId = env.getProperty(\n            CLIENT_PROPERTY_KEY + client + &quot;.client-id&quot;);\n\n    if (clientId == null) {\n        return null;\n    }\n\n    String clientSecret = env.getProperty(\n            CLIENT_PROPERTY_KEY + client + &quot;.client-secret&quot;);\n\n    if (client.equals(&quot;google&quot;)) {\n        return CommonOAuth2Provider.GOOGLE.getBuilder(client)\n                .clientId(clientId).clientSecret(clientSecret).build();\n    }\n    if (client.equals(&quot;facebook&quot;)) {\n        return CommonOAuth2Provider.FACEBOOK.getBuilder(client)\n                .clientId(clientId).clientSecret(clientSecret).build();\n    }\n    return null;\n }\n}\n</code></pre>\n<p>but while running the sever I am encountering this error</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizedClientService' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: \n\nFailed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method 'authorizedClientService' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 97 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientService]: Factory method 'authorizedClientService' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 111 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [com/concious/interviewServiceBackend/security/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334) ~[spring-context-6.0.9.jar:6.0.9]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.authorizedClientService(AuthorizationServerConfig.java:67) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$authorizedClientService$2(&lt;generated&gt;) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.authorizedClientService(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 112 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.ClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: BASIC\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 133 common frames omitted\nCaused by: java.lang.NoSuchFieldError: BASIC\n    at org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:289) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\n    at org.springframework.security.oauth2.client.registration.ClientRegistration$Builder.&lt;init&gt;(ClientRegistration.java:284) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\n    at org.springframework.security.oauth2.client.registration.ClientRegistration.withRegistrationId(ClientRegistration.java:267) ~[spring-security-oauth2-client-5.3.10.RELEASE.jar:5.3.10.RELEASE]\n    at com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider.getBuilder(CommonOAuth2Provider.java:83) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.CommonOAuth2Provider$1.getBuilder(CommonOAuth2Provider.java:17) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.getRegistration(AuthorizationServerConfig.java:83) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.lambda$clientRegistrationRepository$1(AuthorizationServerConfig.java:56) ~[classes/:na]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig.clientRegistrationRepository(AuthorizationServerConfig.java:58) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.CGLIB$clientRegistrationRepository$3(&lt;generated&gt;) ~[classes/:na]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\n    at com.concious.interviewServiceBackend.security.config.AuthorizationServerConfig$$SpringCGLIB$$0.clientRegistrationRepository(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 134 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>application.properties contain client details</p>\n<pre><code>spring.security.oauth2.client.registration.google.client-id=&lt;your client id&gt;\nspring.security.oauth2.client.registration.google.client-secret=&lt;your client secret&gt;\n\nspring.security.oauth2.client.registration.facebook.client-id=&lt;your client id&gt;\nspring.security.oauth2.client.registration.facebook.client-secret=&lt;your client secret&gt;\n</code></pre>\n<p>Please help me resolve this issue.</p>\n<p>This is CommonOAuthProvider</p>\n<pre><code>public enum CommonOAuth2Provider {\n\nGOOGLE {\n\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\n        builder.authorizationUri(&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;);\n        builder.tokenUri(&quot;https://www.googleapis.com/oauth2/v4/token&quot;);\n        builder.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;);\n        //builder.issuerUri(&quot;https://accounts.google.com&quot;);\n        builder.userInfoUri(&quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;);\n        builder.userNameAttributeName(IdTokenClaimNames.SUB);\n        builder.clientName(&quot;Google&quot;);\n        return builder;\n    }\n\n},\n\nGITHUB {\n\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;read:user&quot;);\n        builder.authorizationUri(&quot;https://github.com/login/oauth/authorize&quot;);\n        builder.tokenUri(&quot;https://github.com/login/oauth/access_token&quot;);\n        builder.userInfoUri(&quot;https://api.github.com/user&quot;);\n        builder.userNameAttributeName(&quot;id&quot;);\n        builder.clientName(&quot;GitHub&quot;);\n        return builder;\n    }\n\n},\n\nFACEBOOK {\n\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_POST, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;public_profile&quot;, &quot;email&quot;);\n        builder.authorizationUri(&quot;https://www.facebook.com/v2.8/dialog/oauth&quot;);\n        builder.tokenUri(&quot;https://graph.facebook.com/v2.8/oauth/access_token&quot;);\n        builder.userInfoUri(&quot;https://graph.facebook.com/me?fields=id,name,email&quot;);\n        builder.userNameAttributeName(&quot;id&quot;);\n        builder.clientName(&quot;Facebook&quot;);\n        return builder;\n    }\n\n},\n\nOKTA {\n    @Override\n    public Builder getBuilder(String registrationId) {\n        ClientRegistration.Builder builder = getBuilder(registrationId,\n                ClientAuthenticationMethod.CLIENT_SECRET_BASIC, DEFAULT_REDIRECT_URL);\n        builder.scope(&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;);\n        builder.userNameAttributeName(IdTokenClaimNames.SUB);\n        builder.clientName(&quot;Okta&quot;);\n        return builder;\n    }\n\n};\n\nprivate static final String DEFAULT_REDIRECT_URL = &quot;{baseUrl}/{action}/oauth2/code/{registrationId}&quot;;\n\nprotected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\n        String redirectUri) {\n    ClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);\n    builder.clientAuthenticationMethod(method);\n    builder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\n    //builder.redirectUri(redirectUri);\n    builder.redirectUriTemplate(redirectUri);\n    return builder;\n}\n\n/**\n * Create a new\n * {@link org.springframework.security.oauth2.client.registration.ClientRegistration.Builder\n * ClientRegistration.Builder} pre-configured with provider defaults.\n * @param registrationId the registration-id used with the new builder\n * @return a builder instance\n */\npublic abstract ClientRegistration.Builder getBuilder(String registrationId);\n\n}\n</code></pre>\n<p>exception is occurred in below method</p>\n<pre><code>protected final ClientRegistration.Builder getBuilder(String registrationId, ClientAuthenticationMethod method,\n        String redirectUri) {\n    **ClientRegistration.Builder builder = ClientRegistration.withRegistrationId(registrationId);**\n    builder.clientAuthenticationMethod(method);\n    builder.authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE);\n    //builder.redirectUri(redirectUri);\n    builder.redirectUriTemplate(redirectUri);\n    return builder;\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1628284553,"post_id":68687513,"comment_id":121388477,"body_markdown":"You may want to start eclipse with java 16, not just install that","body":"You may want to start eclipse with java 16, not just install that"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":3,"creation_date":1628284992,"post_id":68687513,"comment_id":121388571,"body_markdown":"One option is to force Eclipse to use a particular VM, by adding two lines in the eclipse.ini file above -vmargs: `-vm` and a line like `C:/Program Files/AdoptOpenJDK/jdk-11.0.6.10-hotspot/bin`","body":"One option is to force Eclipse to use a particular VM, by adding two lines in the eclipse.ini file above -vmargs: <code>-vm</code> and a line like <code>C:&#47;Program Files&#47;AdoptOpenJDK&#47;jdk-11.0.6.10-hotspot&#47;bin</code>"}],"answers":[{"tags":[],"owner":{"account_id":18445221,"reputation":19,"user_id":13436740,"display_name":"jabran jordan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628285085,"creation_date":1628285085,"answer_id":68687600,"question_id":68687513,"body_markdown":"First of all I suggest you check the version of your eclispe IDE. You may have downloaded a version that doesn&#39;t supprot your installed jdk.\r\n\r\nThis link should provide you with the suitable jdk version for every eclipse version.\r\nhttps://wiki.eclipse.org/Eclipse/Installation.\r\n\r\nI hope I helped you a bit.\r\n\r\nCheers!\r\n","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>First of all I suggest you check the version of your eclispe IDE. You may have downloaded a version that doesn't supprot your installed jdk.</p>\n<p>This link should provide you with the suitable jdk version for every eclipse version.\n<a href=\"https://wiki.eclipse.org/Eclipse/Installation\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse/Installation</a>.</p>\n<p>I hope I helped you a bit.</p>\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":21575801,"reputation":46,"user_id":15907961,"display_name":"Spaceunderflow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1628285353,"creation_date":1628285353,"answer_id":68687640,"question_id":68687513,"body_markdown":"You should have a folder like ths: `C:\\Program Files\\Java`. In there, there should be a folder named 1.8.0_301. Delete this folder and reinstall java.\r\nI had the same problem, this solved it for me...","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>You should have a folder like ths: <code>C:\\Program Files\\Java</code>. In there, there should be a folder named 1.8.0_301. Delete this folder and reinstall java.\nI had the same problem, this solved it for me...</p>\n"},{"tags":[],"owner":{"account_id":27232230,"reputation":1,"user_id":20759759,"display_name":"Bola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671211865,"creation_date":1670872464,"answer_id":74776208,"question_id":68687513,"body_markdown":"I had this problem with Java version 1.8.0_351.\r\nIn the program management settings of Windows I removed Java 8. After that, my Eclipse installation worked fine.","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>I had this problem with Java version 1.8.0_351.\nIn the program management settings of Windows I removed Java 8. After that, my Eclipse installation worked fine.</p>\n"},{"tags":[],"owner":{"account_id":28832012,"reputation":1,"user_id":22082172,"display_name":"Shouvik Paladhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686897392,"creation_date":1686897392,"answer_id":76487512,"question_id":68687513,"body_markdown":"There will be an eclipse.ini file where it is mentioned which Jdk it is pointing at and the minimum required version. Try tweaking it according to your requirements and it should solve the problem.","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>There will be an eclipse.ini file where it is mentioned which Jdk it is pointing at and the minimum required version. Try tweaking it according to your requirements and it should solve the problem.</p>\n"}],"owner":{"account_id":20455091,"reputation":55,"user_id":15008952,"display_name":"Henry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68687640,"answer_count":4,"score":1,"last_activity_date":1686897392,"creation_date":1628284422,"question_id":68687513,"body_markdown":"I run the windows 10 64 bit version of Eclipse. The first time I log onto Eclipse it works just fine (though I haven&#39;t fun any code yet, so I&#39;m not sure if that works) but upon closing and reopening Eclipse it says, &quot;Version 1.8.0_301 of the JVM is not suitable for this product: version 11 or greater is required.&quot; and immediately quits. I have downloaded jdk 16 and installed it. Redownloading Eclipse fixes it until I close it again. How can I fix this? I am a new Java programmer and am not experienced with any of this.","title":"Java Eclipse saying my version of JVM is not suitable","body":"<p>I run the windows 10 64 bit version of Eclipse. The first time I log onto Eclipse it works just fine (though I haven't fun any code yet, so I'm not sure if that works) but upon closing and reopening Eclipse it says, &quot;Version 1.8.0_301 of the JVM is not suitable for this product: version 11 or greater is required.&quot; and immediately quits. I have downloaded jdk 16 and installed it. Redownloading Eclipse fixes it until I close it again. How can I fix this? I am a new Java programmer and am not experienced with any of this.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":1,"creation_date":1686898537,"post_id":76487475,"comment_id":134864198,"body_markdown":"Is the app crashing? Can you see the stacktrace in the Logcat?","body":"Is the app crashing? Can you see the stacktrace in the Logcat?"},{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1686920372,"post_id":76487475,"comment_id":134868600,"body_markdown":"yes i will check , app not crash","body":"yes i will check , app not crash"}],"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686896964,"creation_date":1686896964,"question_id":76487475,"body_markdown":"Please help me as my personal WebView app is not launching on Android 13. The installation is successful, but when I try to open it, the app opens and immediately closes.\r\nI am encountering an issue with my personal WebView app on Android 13. While the application installs successfully, it fails to launch properly. Upon attempting to open the app, it immediately closes without any error messages or further indication of the problem. I am seeking assistance to resolve this matter.\r\n\r\nTo provide some context, my app is developed using Java and Android, and it has been functioning flawlessly on Android versions 6 through 12. However, this issue arises exclusively on Android 13","title":"How to open app in android 13 , this is my personal webview app doesn&#39;t open in android 13","body":"<p>Please help me as my personal WebView app is not launching on Android 13. The installation is successful, but when I try to open it, the app opens and immediately closes.\nI am encountering an issue with my personal WebView app on Android 13. While the application installs successfully, it fails to launch properly. Upon attempting to open the app, it immediately closes without any error messages or further indication of the problem. I am seeking assistance to resolve this matter.</p>\n<p>To provide some context, my app is developed using Java and Android, and it has been functioning flawlessly on Android versions 6 through 12. However, this issue arises exclusively on Android 13</p>\n"},{"tags":["java","spring","spring-boot","azure","azure-app-configuration"],"answers":[{"tags":[],"owner":{"account_id":2615962,"reputation":872,"user_id":2265001,"accept_rate":47,"display_name":"Charu Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686896963,"creation_date":1686849502,"answer_id":76484077,"question_id":76483371,"body_markdown":"I solved the above issue by defining another bean like this:\r\n\r\n    @Configuration\r\n    public class TargetConfiguration {\r\n    \r\n            @Bean(&quot;Microsoft.Targeting&quot;)\r\n            public TargetingFilter targetingFilter(TargetingContextAccessor contextAccessor) {\r\n                return new TargetingFilter(contextAccessor, new TargetingEvaluationOptions().setIgnoreCase(true));\r\n            }\r\n        }\r\n\r\nThis will resolve your issue. This is not clearly mentioned anywhere in docs. so required lil POC. \r\n\r\nHope this will help some one else.\r\n\r\n","title":"Azure app config feature flagging for targetted users and groups not working","body":"<p>I solved the above issue by defining another bean like this:</p>\n<pre><code>@Configuration\npublic class TargetConfiguration {\n\n        @Bean(&quot;Microsoft.Targeting&quot;)\n        public TargetingFilter targetingFilter(TargetingContextAccessor contextAccessor) {\n            return new TargetingFilter(contextAccessor, new TargetingEvaluationOptions().setIgnoreCase(true));\n        }\n    }\n</code></pre>\n<p>This will resolve your issue. This is not clearly mentioned anywhere in docs. so required lil POC.</p>\n<p>Hope this will help some one else.</p>\n"}],"owner":{"account_id":2615962,"reputation":872,"user_id":2265001,"accept_rate":47,"display_name":"Charu Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76484077,"answer_count":1,"score":1,"last_activity_date":1686896963,"creation_date":1686843846,"question_id":76483371,"body_markdown":"I am trying to integrate azure app configuration with feature flagging and have added additional filter for targeted users and groups on my azure portal.\r\n\r\nI am using below dependency:\r\n\r\n    implementation (&#39;com.azure.spring:spring-cloud-azure-feature-management-web:5.2.0&#39;)\r\n\r\nHave created a TargetingContextAccessorImpl class like this:\r\n\r\n    public class TargetingContextAccessorImpl implements TargetingContextAccessor {\r\n           \r\n        @Override\r\n        public void configureTargetingContext(TargetingContext context) {\r\n                context.setUserId(&quot;charu.test@gmail.com&quot;);\r\n                ArrayList&lt;String&gt; groups = new ArrayList&lt;String&gt;();\r\n                groups.add(&quot;abc.com&quot;);\r\n                context.setGroups(groups);\r\n        }\r\n    }\r\n\r\nAlso i have created a feature flag with targetting filter on azure portal:\r\n\r\nAnd my controller looks like:\r\n\r\n     @GetMapping(&quot;/fftest&quot;)\r\n        public String test() {\r\n            if (Boolean.TRUE.equals(featureManager.isEnabledAsync(&quot;feature-a&quot;).block())) {\r\n                return &quot;enabled&quot;;\r\n            }\r\n            return &quot;disabled&quot;;\r\n        }\r\n\r\nNow on running my application i am getting:\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;Microsoft.Targeting&#39; available\r\n\r\nI am following this document: https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-feature-management-readme?view=azure-java-stable\r\n\r\nCan anyone help with the above error log. Their is v.less information available online for Targetting.","title":"Azure app config feature flagging for targetted users and groups not working","body":"<p>I am trying to integrate azure app configuration with feature flagging and have added additional filter for targeted users and groups on my azure portal.</p>\n<p>I am using below dependency:</p>\n<pre><code>implementation ('com.azure.spring:spring-cloud-azure-feature-management-web:5.2.0')\n</code></pre>\n<p>Have created a TargetingContextAccessorImpl class like this:</p>\n<pre><code>public class TargetingContextAccessorImpl implements TargetingContextAccessor {\n       \n    @Override\n    public void configureTargetingContext(TargetingContext context) {\n            context.setUserId(&quot;charu.test@gmail.com&quot;);\n            ArrayList&lt;String&gt; groups = new ArrayList&lt;String&gt;();\n            groups.add(&quot;abc.com&quot;);\n            context.setGroups(groups);\n    }\n}\n</code></pre>\n<p>Also i have created a feature flag with targetting filter on azure portal:</p>\n<p>And my controller looks like:</p>\n<pre><code> @GetMapping(&quot;/fftest&quot;)\n    public String test() {\n        if (Boolean.TRUE.equals(featureManager.isEnabledAsync(&quot;feature-a&quot;).block())) {\n            return &quot;enabled&quot;;\n        }\n        return &quot;disabled&quot;;\n    }\n</code></pre>\n<p>Now on running my application i am getting:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'Microsoft.Targeting' available\n</code></pre>\n<p>I am following this document: <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-feature-management-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-feature-management-readme?view=azure-java-stable</a></p>\n<p>Can anyone help with the above error log. Their is v.less information available online for Targetting.</p>\n"},{"tags":["java","auth0"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1686896798,"post_id":76487453,"comment_id":134863916,"body_markdown":"Hi there. Please provide us with what you&#39;ve already tried! [ask]","body":"Hi there. Please provide us with what you&#39;ve already tried! <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":0,"creation_date":1686898040,"post_id":76487453,"comment_id":134864117,"body_markdown":"maybe add an example to express your question more clearly","body":"maybe add an example to express your question more clearly"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686896742,"creation_date":1686896742,"question_id":76487453,"body_markdown":"Is it possible when user signs up to my application with Auth0 that I can get the organization name of the email address that it belongs to? If so, how can we do it?","title":"Retrieve organization name from email address with Auth0","body":"<p>Is it possible when user signs up to my application with Auth0 that I can get the organization name of the email address that it belongs to? If so, how can we do it?</p>\n"},{"tags":["java","testng","appium"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1462380383,"post_id":37029997,"comment_id":61617238,"body_markdown":"try implementing a `TestListener`, shall help.","body":"try implementing a <code>TestListener</code>, shall help."}],"answers":[{"tags":[],"owner":{"account_id":8279362,"reputation":741,"user_id":6224544,"display_name":"k.s. Karthik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462373773,"creation_date":1462373773,"answer_id":37031372,"question_id":37029997,"body_markdown":"In `testng`, if a test case is skipped, then `@AfterMethod` would not be called, as the test case has not been executed. `@AfterMethod` will get executed only when the test case is executed.\r\n\r\nHope this helps.","title":"Detect skipped test in @afterMethod with testng","body":"<p>In <code>testng</code>, if a test case is skipped, then <code>@AfterMethod</code> would not be called, as the test case has not been executed. <code>@AfterMethod</code> will get executed only when the test case is executed.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":6988104,"reputation":2964,"user_id":5358255,"accept_rate":65,"display_name":"noor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462376850,"creation_date":1462376850,"answer_id":37032491,"question_id":37029997,"body_markdown":"kartik is correct, u can not get it through after method, but in report u will find the skipped test case.\r\n\r\nbut if u want to get the skipped test cases, u can add soft dependacies here like : @Test(alwaysRun = true, dependsOnMethods = { &quot;method&quot; }) \r\n\r\nThis creates a soft dependency, i.e. the annotated test should be executed even if the tests it depends on failed/threw an exception and it will invoke in after method.\r\n\r\n","title":"Detect skipped test in @afterMethod with testng","body":"<p>kartik is correct, u can not get it through after method, but in report u will find the skipped test case.</p>\n\n<p>but if u want to get the skipped test cases, u can add soft dependacies here like : @Test(alwaysRun = true, dependsOnMethods = { \"method\" }) </p>\n\n<p>This creates a soft dependency, i.e. the annotated test should be executed even if the tests it depends on failed/threw an exception and it will invoke in after method.</p>\n"},{"tags":[],"owner":{"account_id":4581280,"reputation":481,"user_id":3718160,"accept_rate":35,"display_name":"user3718160"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462518017,"creation_date":1462518017,"answer_id":37066220,"question_id":37029997,"body_markdown":"I found a way of doing it by Implementing the ITestListener class you can find an example there :\r\n\r\nhttps://github.com/khmarbaise/testng-example/blob/41861115eb0ea1d98eed97fcfeb7ff30e93e0925/src/test/java/com/soebes/testing/testng/IntegrationTestListener.java\r\n\r\nbasically what you do is creating a class that will catch all your ITestResult even the skipped one and redefine inside it what you want to do like that :\r\n\r\n    public class IntegrationTestListener implements ITestListener {\r\n       public void onTestSkipped(ITestResult result) {\r\n           // do your stuff here\r\n       } \r\n    }\r\n\r\nand to use it in your test do it like that :\r\n    \r\n    @Listeners ({IntegrationTestListener.class})\r\n    public class NotAScenario  extends BasicScenario {\r\n\r\n        @Test\r\n        public void test1() {\r\n        }\r\n    }","title":"Detect skipped test in @afterMethod with testng","body":"<p>I found a way of doing it by Implementing the ITestListener class you can find an example there :</p>\n\n<p><a href=\"https://github.com/khmarbaise/testng-example/blob/41861115eb0ea1d98eed97fcfeb7ff30e93e0925/src/test/java/com/soebes/testing/testng/IntegrationTestListener.java\" rel=\"nofollow\">https://github.com/khmarbaise/testng-example/blob/41861115eb0ea1d98eed97fcfeb7ff30e93e0925/src/test/java/com/soebes/testing/testng/IntegrationTestListener.java</a></p>\n\n<p>basically what you do is creating a class that will catch all your ITestResult even the skipped one and redefine inside it what you want to do like that :</p>\n\n<pre><code>public class IntegrationTestListener implements ITestListener {\n   public void onTestSkipped(ITestResult result) {\n       // do your stuff here\n   } \n}\n</code></pre>\n\n<p>and to use it in your test do it like that :</p>\n\n<pre><code>@Listeners ({IntegrationTestListener.class})\npublic class NotAScenario  extends BasicScenario {\n\n    @Test\n    public void test1() {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509962337,"creation_date":1509962337,"answer_id":47134199,"question_id":37029997,"body_markdown":"For the @AfterMethod, when we know that the test has definitely run (thus not ITestResult.STARTED), there is a simple solution (tested and it works):\r\n\r\n\t@AfterMethod(alwaysRun = true )\r\n\tpublic void doStuff(ITestResult result){\r\n\r\n\t  Integer status = result.getStatus();\r\n    \r\n\t  if(!status.equals(ITestResult.SUCCESS)  || !status.equals(ITestResult.FAILURE) ) { \r\n               // do stuff\r\n\t   }\t\r\n\t}\r\n\r\nMuch cleaner for some cases where you **don&#39;t want to implement** all of the methods in `ITestListener`","title":"Detect skipped test in @afterMethod with testng","body":"<p>For the @AfterMethod, when we know that the test has definitely run (thus not ITestResult.STARTED), there is a simple solution (tested and it works):</p>\n\n<pre><code>@AfterMethod(alwaysRun = true )\npublic void doStuff(ITestResult result){\n\n  Integer status = result.getStatus();\n\n  if(!status.equals(ITestResult.SUCCESS)  || !status.equals(ITestResult.FAILURE) ) { \n           // do stuff\n   }    \n}\n</code></pre>\n\n<p>Much cleaner for some cases where you <strong>don't want to implement</strong> all of the methods in <code>ITestListener</code></p>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556452829,"creation_date":1556452829,"answer_id":55890041,"question_id":37029997,"body_markdown":"You can capture skip tests by doing the following: \r\n\r\n        public void afterMethod(ITestResult result) \r\n        throws Exception {\r\n         if (result.getStatus() == ITestResult.SKIP) {\r\n              //Some code\r\n         }","title":"Detect skipped test in @afterMethod with testng","body":"<p>You can capture skip tests by doing the following: </p>\n\n<pre><code>    public void afterMethod(ITestResult result) \n    throws Exception {\n     if (result.getStatus() == ITestResult.SKIP) {\n          //Some code\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27837425,"reputation":11,"user_id":21254573,"display_name":"user21254573"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686896084,"creation_date":1678434840,"answer_id":75693478,"question_id":37029997,"body_markdown":"This worked for me:\r\n\r\n    @AfterMethod\r\n    public void afterMethod(ITestContext context) {\r\n       System.out.println(&quot;Skips: &quot; + context.getSkippedTests().size());\r\n    }\r\n\r\n","title":"Detect skipped test in @afterMethod with testng","body":"<p>This worked for me:</p>\n<pre><code>@AfterMethod\npublic void afterMethod(ITestContext context) {\n   System.out.println(&quot;Skips: &quot; + context.getSkippedTests().size());\n}\n</code></pre>\n"}],"owner":{"account_id":4581280,"reputation":481,"user_id":3718160,"accept_rate":35,"display_name":"user3718160"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1686896084,"creation_date":1462370309,"question_id":37029997,"body_markdown":"I&#39;m trying to detect skipped test in my @AfterMethod for reporting purpose. \r\n\r\nI can catch failed or passed test but it doesn&#39;t seems to enter it when a test is skipped.\r\n\r\nMy tests : \r\n\r\n    @Test \r\n    public void method1 () {\r\n        Assert.fail(&quot;created failure&quot;);\r\n    }\r\n    @Test (dependsOnMethods = {&quot;method1&quot;})\r\n    public void method2 () {}\r\n\r\nMy AfterMethod : \r\n\r\n    @AfterMethod\r\n    protected void afterMethod(ITestResult result){\r\n        switch (result.getStatus()) {\r\n            case ITestResult.FAILURE:\r\n                ...\r\n                break;\r\n\r\n            case ITestResult.SKIP:\r\n                ...\r\n                break;\r\n\r\n            case ITestResult.SUCCESS:\r\n                ...\r\n                break;\r\n        }\r\n\r\n\r\nfor example here i only retrieve the failure but the skip doesn&#39;t pass in the after method    \r\n\r\nAny idea on how to do it ?\r\n\r\nThank you !","title":"Detect skipped test in @afterMethod with testng","body":"<p>I'm trying to detect skipped test in my @AfterMethod for reporting purpose. </p>\n\n<p>I can catch failed or passed test but it doesn't seems to enter it when a test is skipped.</p>\n\n<p>My tests : </p>\n\n<pre><code>@Test \npublic void method1 () {\n    Assert.fail(\"created failure\");\n}\n@Test (dependsOnMethods = {\"method1\"})\npublic void method2 () {}\n</code></pre>\n\n<p>My AfterMethod : </p>\n\n<pre><code>@AfterMethod\nprotected void afterMethod(ITestResult result){\n    switch (result.getStatus()) {\n        case ITestResult.FAILURE:\n            ...\n            break;\n\n        case ITestResult.SKIP:\n            ...\n            break;\n\n        case ITestResult.SUCCESS:\n            ...\n            break;\n    }\n</code></pre>\n\n<p>for example here i only retrieve the failure but the skip doesn't pass in the after method    </p>\n\n<p>Any idea on how to do it ?</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","hibernate","spring","bean-validation","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1335533454,"creation_date":1294303550,"answer_id":4613151,"question_id":4613055,"body_markdown":"One possibility is to annotate the field as [@NaturalId][1]\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#d0e2767","title":"hibernate unique key validation","body":"<p>One possibility is to annotate the field as <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#d0e2767\" rel=\"nofollow\">@NaturalId</a></p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1294308115,"creation_date":1294308115,"answer_id":4613716,"question_id":4613055,"body_markdown":"You could use the `@Column` attribute which can be set as `unique`.\r\n\r\n","title":"hibernate unique key validation","body":"<p>You could use the <code>@Column</code> attribute which can be set as <code>unique</code>.</p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1294318686,"creation_date":1294318686,"answer_id":4615120,"question_id":4613055,"body_markdown":"I think it is not wise to use Hibernate Validator (JSR 303) for this purpose.\r\nOr better it is not the goal of Hibernate Validator.\r\n\r\nThe JSR 303 is about bean validation. This means to check if a field is set correct. But what you want is in a much wider scope than a single bean. It is somehow in a global scope (regarding all Beans of this type). -- **I think you should let the database handle this problem. Set a unique constraint to the column in your database (for example by annotate the field with `@Column(unique=true)`) and the database will make sure that the field is unique.**\r\n\r\nAnyway, if you really want to use JSR303 for this, than you need to create your own Annotation and own Validator. The Validator have to access the Database and check if there is no other entity with the specified value. - But I believe there would be some problems to access the database from the Validator in the right session.\r\n","title":"hibernate unique key validation","body":"<p>I think it is not wise to use Hibernate Validator (JSR 303) for this purpose.\nOr better it is not the goal of Hibernate Validator.</p>\n\n<p>The JSR 303 is about bean validation. This means to check if a field is set correct. But what you want is in a much wider scope than a single bean. It is somehow in a global scope (regarding all Beans of this type). -- <strong>I think you should let the database handle this problem. Set a unique constraint to the column in your database (for example by annotate the field with <code>@Column(unique=true)</code>) and the database will make sure that the field is unique.</strong></p>\n\n<p>Anyway, if you really want to use JSR303 for this, than you need to create your own Annotation and own Validator. The Validator have to access the Database and check if there is no other entity with the specified value. - But I believe there would be some problems to access the database from the Validator in the right session.</p>\n"},{"tags":[],"owner":{"account_id":157771,"reputation":30404,"user_id":375953,"accept_rate":53,"display_name":"dira"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1295428220,"creation_date":1295428220,"answer_id":4733441,"question_id":4613055,"body_markdown":"One of the possible solutions is to create custom `@UniqueKey` constraint (and corresponding validator); and to look-up the existing records in database, provide an instance of `EntityManager` (or Hibernate `Session`)to `UniqueKeyValidator`.\r\n\r\n**EntityManagerAwareValidator** \r\n\r\n    public interface EntityManagerAwareValidator { \t\r\n         void setEntityManager(EntityManager entityManager); \r\n    } \r\n\r\n**ConstraintValidatorFactoryImpl**\r\n\r\n    public class ConstraintValidatorFactoryImpl implements ConstraintValidatorFactory {\r\n    \r\n    \tprivate EntityManagerFactory entityManagerFactory;\r\n    \r\n    \tpublic ConstraintValidatorFactoryImpl(EntityManagerFactory entityManagerFactory) {\r\n    \t\tthis.entityManagerFactory = entityManagerFactory;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T extends ConstraintValidator&lt;?, ?&gt;&gt; T getInstance(Class&lt;T&gt; key) {\r\n    \t\tT instance = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tinstance = key.newInstance();\r\n    \t\t} catch (Exception e) { \r\n    \t\t\t// could not instantiate class\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tif(EntityManagerAwareValidator.class.isAssignableFrom(key)) {\r\n    \t\t\tEntityManagerAwareValidator validator = (EntityManagerAwareValidator) instance;\r\n    \t\t\tvalidator.setEntityManager(entityManagerFactory.createEntityManager());\r\n    \t\t}\r\n    \r\n    \t\treturn instance;\r\n    \t}\r\n    }\r\n\r\n**UniqueKey**\r\n\r\n    @Constraint(validatedBy={UniqueKeyValidator.class})\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RUNTIME)\r\n    public @interface UniqueKey {\r\n    \r\n    \tString[] columnNames();\r\n    \r\n    \tString message() default &quot;{UniqueKey.message}&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default {};\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n    \t@Target({ ElementType.TYPE })\r\n    \t@Retention(RUNTIME)\r\n    \t@Documented\r\n    \t@interface List {\r\n    \t\tUniqueKey[] value();\r\n    \t}\r\n    }\r\n\r\n**UniqueKeyValidator**\r\n\r\n    public class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, Serializable&gt;, EntityManagerAwareValidator {\r\n    \r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Override\r\n    \tpublic void setEntityManager(EntityManager entityManager) {\r\n    \t\tthis.entityManager = entityManager;\r\n    \t}\r\n    \r\n    \tprivate String[] columnNames;\r\n    \r\n    \t@Override\r\n    \tpublic void initialize(UniqueKey constraintAnnotation) {\r\n    \t\tthis.columnNames = constraintAnnotation.columnNames();\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isValid(Serializable target, ConstraintValidatorContext context) {\r\n    \t\tClass&lt;?&gt; entityClass = target.getClass();\r\n    \r\n    \t\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \r\n    \t\tCriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery();\r\n    \r\n    \t\tRoot&lt;?&gt; root = criteriaQuery.from(entityClass);\r\n    \r\n    \t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt; (columnNames.length);\r\n    \r\n    \t\ttry {\r\n    \t\t\tfor(int i=0; i&lt;columnNames.length; i++) {\r\n    \t\t\t\tString propertyName = columnNames[i];\r\n    \t\t\t\tPropertyDescriptor desc = new PropertyDescriptor(propertyName, entityClass);\r\n    \t\t\t\tMethod readMethod = desc.getReadMethod();\r\n    \t\t\t\tObject propertyValue = readMethod.invoke(target);\r\n    \t\t\t\tPredicate predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\r\n    \t\t\t\tpredicates.add(predicate);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tcriteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\r\n    \r\n    \t\tTypedQuery&lt;Object&gt; typedQuery = entityManager.createQuery(criteriaQuery);\r\n    \r\n    \t\tList&lt;Object&gt; resultSet = typedQuery.getResultList(); \r\n    \t\t\r\n    \t\treturn resultSet.size() == 0;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Usage**\r\n\r\n    @UniqueKey(columnNames={&quot;userName&quot;})\r\n    // @UniqueKey(columnNames={&quot;userName&quot;, &quot;emailId&quot;}) // composite unique key\r\n    //@UniqueKey.List(value = {@UniqueKey(columnNames = { &quot;userName&quot; }), @UniqueKey(columnNames = { &quot;emailId&quot; })}) // more than one unique keys\r\n    public class User implements Serializable {\r\n    \r\n    \tprivate String userName;\r\n    \tprivate String password;\r\n    \tprivate String emailId;\r\n    \r\n    \tprotected User() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic User(String userName) {\r\n    \t\tthis.userName = userName;\r\n    \t}\r\n            ....\r\n    }\r\n\r\n**Test**\r\n\r\n\tpublic void uniqueKey() {\r\n\t\tEntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\n\r\n\t\tValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\r\n\t\tValidatorContext validatorContext = validatorFactory.usingContext();\r\n\t\tvalidatorContext.constraintValidatorFactory(new ConstraintValidatorFactoryImpl(entityManagerFactory));\r\n\t\tValidator validator = validatorContext.getValidator();\r\n\r\n\t\tEntityManager em = entityManagerFactory.createEntityManager();\r\n\r\n\t\tUser se = new User(&quot;abc&quot;, poizon);\r\n\r\n\t       Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(se);\r\n\t\tSystem.out.println(&quot;Size:- &quot; + violations.size());\r\n\r\n\t\tem.getTransaction().begin();\r\n\t\tem.persist(se);\r\n\t\tem.getTransaction().commit();\r\n\r\n\t        User se1 = new User(&quot;abc&quot;);\r\n\t\t\r\n\t\tviolations = validator.validate(se1);\r\n\r\n\t\tSystem.out.println(&quot;Size:- &quot; + violations.size());\r\n\t}","title":"hibernate unique key validation","body":"<p>One of the possible solutions is to create custom <code>@UniqueKey</code> constraint (and corresponding validator); and to look-up the existing records in database, provide an instance of <code>EntityManager</code> (or Hibernate <code>Session</code>)to <code>UniqueKeyValidator</code>.</p>\n\n<p><strong>EntityManagerAwareValidator</strong> </p>\n\n<pre><code>public interface EntityManagerAwareValidator {  \n     void setEntityManager(EntityManager entityManager); \n} \n</code></pre>\n\n<p><strong>ConstraintValidatorFactoryImpl</strong></p>\n\n<pre><code>public class ConstraintValidatorFactoryImpl implements ConstraintValidatorFactory {\n\n    private EntityManagerFactory entityManagerFactory;\n\n    public ConstraintValidatorFactoryImpl(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n\n    @Override\n    public &lt;T extends ConstraintValidator&lt;?, ?&gt;&gt; T getInstance(Class&lt;T&gt; key) {\n        T instance = null;\n\n        try {\n            instance = key.newInstance();\n        } catch (Exception e) { \n            // could not instantiate class\n            e.printStackTrace();\n        }\n\n        if(EntityManagerAwareValidator.class.isAssignableFrom(key)) {\n            EntityManagerAwareValidator validator = (EntityManagerAwareValidator) instance;\n            validator.setEntityManager(entityManagerFactory.createEntityManager());\n        }\n\n        return instance;\n    }\n}\n</code></pre>\n\n<p><strong>UniqueKey</strong></p>\n\n<pre><code>@Constraint(validatedBy={UniqueKeyValidator.class})\n@Target({ElementType.TYPE})\n@Retention(RUNTIME)\npublic @interface UniqueKey {\n\n    String[] columnNames();\n\n    String message() default \"{UniqueKey.message}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    @Target({ ElementType.TYPE })\n    @Retention(RUNTIME)\n    @Documented\n    @interface List {\n        UniqueKey[] value();\n    }\n}\n</code></pre>\n\n<p><strong>UniqueKeyValidator</strong></p>\n\n<pre><code>public class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, Serializable&gt;, EntityManagerAwareValidator {\n\n    private EntityManager entityManager;\n\n    @Override\n    public void setEntityManager(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    private String[] columnNames;\n\n    @Override\n    public void initialize(UniqueKey constraintAnnotation) {\n        this.columnNames = constraintAnnotation.columnNames();\n\n    }\n\n    @Override\n    public boolean isValid(Serializable target, ConstraintValidatorContext context) {\n        Class&lt;?&gt; entityClass = target.getClass();\n\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n\n        CriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery();\n\n        Root&lt;?&gt; root = criteriaQuery.from(entityClass);\n\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt; (columnNames.length);\n\n        try {\n            for(int i=0; i&lt;columnNames.length; i++) {\n                String propertyName = columnNames[i];\n                PropertyDescriptor desc = new PropertyDescriptor(propertyName, entityClass);\n                Method readMethod = desc.getReadMethod();\n                Object propertyValue = readMethod.invoke(target);\n                Predicate predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\n                predicates.add(predicate);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\n\n        TypedQuery&lt;Object&gt; typedQuery = entityManager.createQuery(criteriaQuery);\n\n        List&lt;Object&gt; resultSet = typedQuery.getResultList(); \n\n        return resultSet.size() == 0;\n    }\n\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>@UniqueKey(columnNames={\"userName\"})\n// @UniqueKey(columnNames={\"userName\", \"emailId\"}) // composite unique key\n//@UniqueKey.List(value = {@UniqueKey(columnNames = { \"userName\" }), @UniqueKey(columnNames = { \"emailId\" })}) // more than one unique keys\npublic class User implements Serializable {\n\n    private String userName;\n    private String password;\n    private String emailId;\n\n    protected User() {\n        super();\n    }\n\n    public User(String userName) {\n        this.userName = userName;\n    }\n        ....\n}\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>public void uniqueKey() {\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(\"default\");\n\n    ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory();\n    ValidatorContext validatorContext = validatorFactory.usingContext();\n    validatorContext.constraintValidatorFactory(new ConstraintValidatorFactoryImpl(entityManagerFactory));\n    Validator validator = validatorContext.getValidator();\n\n    EntityManager em = entityManagerFactory.createEntityManager();\n\n    User se = new User(\"abc\", poizon);\n\n       Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(se);\n    System.out.println(\"Size:- \" + violations.size());\n\n    em.getTransaction().begin();\n    em.persist(se);\n    em.getTransaction().commit();\n\n        User se1 = new User(\"abc\");\n\n    violations = validator.validate(se1);\n\n    System.out.println(\"Size:- \" + violations.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2584833,"reputation":2656,"user_id":2240780,"accept_rate":78,"display_name":"Julien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675041617,"creation_date":1366729079,"answer_id":16172658,"question_id":4613055,"body_markdown":"I&#39;ve found kind of a tricky solution.\r\n\r\nFirst, I&#39;ve implemented the unique contraint to my MySql database : \r\n\r\n    CREATE TABLE XMLTAG\r\n    (\r\n    \tID INTEGER NOT NULL AUTO_INCREMENT,\r\n    \tLABEL VARCHAR(64) NOT NULL,\r\n    \tXPATH VARCHAR(128),\r\n    \tPRIMARY KEY (ID),\r\n    \tUNIQUE UQ_XMLTAG_LABEL(LABEL)\r\n    ) ;\r\n\r\nYou see that I manage XML Tags that are defined by a unique label and a text field named &quot;XPath&quot;. \r\n\r\nAnyway, the second step is to simply catch the error raised when the user tries to do a bad update. A bad update is when trying to replace the current label by an existing label. If you leave the label untouched, no problemo. So, in my controller : \r\n\r\n        @RequestMapping(value = &quot;/updatetag&quot;, method = RequestMethod.POST)\r\n    \tpublic String updateTag(\r\n    \t\t\t@ModelAttribute(&quot;tag&quot;) Tag tag, \r\n    \t\t\t@Valid Tag validTag,\r\n    \t\t\tBindingResult result,\r\n    \t\t\tModelMap map) {\r\n    \t\t\r\n    \t\tif(result.hasErrors()) {        // you don&#39;t care : validation of other\r\n    \t\t\treturn &quot;editTag&quot;;       // constraints like @NotEmpty\r\n    \t\t}\r\n    \t\t\r\n\r\n    \t\ttry {\r\n    \t\t\ttagService.updateTag(tag);    // try to update\r\n    \t\t\treturn &quot;redirect:/tags&quot;;   // &lt;- if it works   \t\t\r\n    \t\t}\r\n    \t\tcatch (DataIntegrityViolationException ex) { // if it doesn&#39;t work\r\n    \t\t\tresult.rejectValue(&quot;label&quot;, &quot;Unique.tag.label&quot;); // pass an error message to the view \r\n    \t\t\treturn &quot;editTag&quot;; // same treatment as other validation errors\r\n    \t\t}\r\n    \t}\r\n\r\nThis may conflict with the @Unique pattern but you can use this dirty method to valid the adding too.\r\n\r\nNote : there is still one problem : if other validation errors are catched before the exception, the message about unicity will not be displayed.","title":"hibernate unique key validation","body":"<p>I've found kind of a tricky solution.</p>\n<p>First, I've implemented the unique contraint to my MySql database :</p>\n<pre><code>CREATE TABLE XMLTAG\n(\n    ID INTEGER NOT NULL AUTO_INCREMENT,\n    LABEL VARCHAR(64) NOT NULL,\n    XPATH VARCHAR(128),\n    PRIMARY KEY (ID),\n    UNIQUE UQ_XMLTAG_LABEL(LABEL)\n) ;\n</code></pre>\n<p>You see that I manage XML Tags that are defined by a unique label and a text field named &quot;XPath&quot;.</p>\n<p>Anyway, the second step is to simply catch the error raised when the user tries to do a bad update. A bad update is when trying to replace the current label by an existing label. If you leave the label untouched, no problemo. So, in my controller :</p>\n<pre><code>    @RequestMapping(value = &quot;/updatetag&quot;, method = RequestMethod.POST)\n    public String updateTag(\n            @ModelAttribute(&quot;tag&quot;) Tag tag, \n            @Valid Tag validTag,\n            BindingResult result,\n            ModelMap map) {\n        \n        if(result.hasErrors()) {        // you don't care : validation of other\n            return &quot;editTag&quot;;       // constraints like @NotEmpty\n        }\n        \n\n        try {\n            tagService.updateTag(tag);    // try to update\n            return &quot;redirect:/tags&quot;;   // &lt;- if it works        \n        }\n        catch (DataIntegrityViolationException ex) { // if it doesn't work\n            result.rejectValue(&quot;label&quot;, &quot;Unique.tag.label&quot;); // pass an error message to the view \n            return &quot;editTag&quot;; // same treatment as other validation errors\n        }\n    }\n</code></pre>\n<p>This may conflict with the @Unique pattern but you can use this dirty method to valid the adding too.</p>\n<p>Note : there is still one problem : if other validation errors are catched before the exception, the message about unicity will not be displayed.</p>\n"},{"tags":[],"owner":{"account_id":7972602,"reputation":476,"user_id":6016735,"display_name":"Tanmoy Mandal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483351859,"creation_date":1483348376,"answer_id":41423955,"question_id":4613055,"body_markdown":"This code is based on the previous one implemented using `EntityManager`.\r\nIn case anyone need to use Hibernate `Session`.\r\nCustom Annotation using Hibernate `Session`.\r\n&lt;br/&gt;`@`**UniqueKey.java**\r\n\r\n\r\n    import java.lang.annotation.*;\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    \r\n    @Target({ElementType.ANNOTATION_TYPE, ElementType.FIELD, ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = UniqueKeyValidator.class)\r\n    @Documented\r\n    public @interface UniqueKey {\r\n        String columnName();\r\n        Class&lt;?&gt; className();\r\n        String message() default &quot;{UniqueKey.message}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\n**UnqieKeyValidator.java**\r\n\r\n\r\n    import ch.qos.logback.classic.gaffer.PropertyUtil;\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import java.beans.PropertyDescriptor;\r\n    import java.lang.reflect.Method;\r\n    @Transactional\r\n    @Repository\r\n    public class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, String&gt; {\r\n    \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n        public Session getSession() {\r\n            return sessionFactory.getCurrentSession();\r\n        }\r\n    \r\n        private String columnName;\r\n        private Class&lt;?&gt; entityClass;\r\n    \r\n        @Override\r\n        public void initialize(UniqueKey constraintAnnotation) {\r\n            this.columnNames = constraintAnnotation.columnNames();\r\n            this.entityClass = constraintAnnotation.className();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            Class&lt;?&gt; entityClass = this.entityClass;\r\n            System.out.println(&quot;class: &quot; + entityClass.toString());\r\n            Criteria criteria = getSession().createCriteria(entityClass);\r\n            try {\r\n                    criteria.add(Restrictions.eq(this.columnName, value));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return criteria.list().size()==0;\r\n        }\r\n    }\r\n\r\n\r\n**Usage**\r\n\r\n\r\n    @UniqueKey(columnNames=&quot;userName&quot;, className = UserEntity.class)\r\n    // @UniqueKey(columnNames=&quot;userName&quot;) // unique key\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"hibernate unique key validation","body":"<p>This code is based on the previous one implemented using <code>EntityManager</code>.\nIn case anyone need to use Hibernate <code>Session</code>.\nCustom Annotation using Hibernate <code>Session</code>.\n<br/><code>@</code><strong>UniqueKey.java</strong></p>\n\n<pre><code>import java.lang.annotation.*;\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target({ElementType.ANNOTATION_TYPE, ElementType.FIELD, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = UniqueKeyValidator.class)\n@Documented\npublic @interface UniqueKey {\n    String columnName();\n    Class&lt;?&gt; className();\n    String message() default \"{UniqueKey.message}\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p><strong>UnqieKeyValidator.java</strong></p>\n\n<pre><code>import ch.qos.logback.classic.gaffer.PropertyUtil;\nimport org.hibernate.Criteria;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.criterion.Restrictions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.beans.PropertyDescriptor;\nimport java.lang.reflect.Method;\n@Transactional\n@Repository\npublic class UniqueKeyValidator implements ConstraintValidator&lt;UniqueKey, String&gt; {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    public Session getSession() {\n        return sessionFactory.getCurrentSession();\n    }\n\n    private String columnName;\n    private Class&lt;?&gt; entityClass;\n\n    @Override\n    public void initialize(UniqueKey constraintAnnotation) {\n        this.columnNames = constraintAnnotation.columnNames();\n        this.entityClass = constraintAnnotation.className();\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        Class&lt;?&gt; entityClass = this.entityClass;\n        System.out.println(\"class: \" + entityClass.toString());\n        Criteria criteria = getSession().createCriteria(entityClass);\n        try {\n                criteria.add(Restrictions.eq(this.columnName, value));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return criteria.list().size()==0;\n    }\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>@UniqueKey(columnNames=\"userName\", className = UserEntity.class)\n// @UniqueKey(columnNames=\"userName\") // unique key\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5668909,"reputation":56,"user_id":4484241,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686894550,"creation_date":1680637344,"answer_id":75933233,"question_id":4613055,"body_markdown":"From my point of view the solutions provided here are missing very important case, which is update. We have to consider the primary key while asking our JPA APIs for persist or megre, So you **MUST** exclude the current entity from the uniqueness check (by using the primary key).\r\n\r\nThe below demonstration uses Spring Framework.\r\n\r\nThe annotation:\r\n\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.*;\r\n    \r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = UniqueValidator.class)\r\n    public @interface Unique {\r\n        String[] fields();\r\n        String primaryKey();\r\n    \r\n        String message() default &quot;Email address must be unique!&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        @Target({ ElementType.TYPE })\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Documented\r\n        @interface List {\r\n            Unique[] value();\r\n        }\r\n    }\r\n\r\n\r\nAnnotation validator implementation:\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Component;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n    import javax.persistence.criteria.CriteriaBuilder;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import javax.persistence.criteria.Predicate;\r\n    import javax.persistence.criteria.Root;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import java.beans.PropertyDescriptor;\r\n    import java.io.Serializable;\r\n    import java.lang.reflect.Method;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    public class UniqueValidator implements ConstraintValidator&lt;Unique, Serializable&gt; {\r\n        @Autowied\r\n        private EntityManager entityManager;\r\n    \r\n        private String[] fields;\r\n        private String primaryKey;\r\n    \r\n        @Override\r\n        public void initialize(Unique constraintAnnotation) {\r\n            this.fields = constraintAnnotation.fields();\r\n            this.primaryKey = constraintAnnotation.primaryKey();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Serializable target, ConstraintValidatorContext context) {\r\n            log.info(&quot;start validation...&quot;);\r\n            if(entityManager != null) {\r\n                Class entityClass = target.getClass();\r\n                CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n                CriteriaQuery&lt;?&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\r\n                Root&lt;?&gt; root = criteriaQuery.from(entityClass);\r\n                List&lt;Predicate&gt; predicates = new ArrayList(fields.length + 1);\r\n    \r\n                try {\r\n                    PropertyDescriptor desc = new PropertyDescriptor(primaryKey, entityClass);\r\n                    Method readMethod = desc.getReadMethod();\r\n                    Object propertyValue = readMethod.invoke(target);\r\n                    Predicate predicate = criteriaBuilder.notEqual(root.get(primaryKey), propertyValue);\r\n                    predicates.add(predicate);\r\n    \r\n                    for (int i = 0; i &lt; fields.length; i++) {\r\n                        String propertyName = fields[i];\r\n                        desc = new PropertyDescriptor(propertyName, entityClass);\r\n                        readMethod = desc.getReadMethod();\r\n                        propertyValue = readMethod.invoke(target);\r\n                        predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\r\n                        predicates.add(predicate);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\r\n                Query typedQuery = entityManager.createQuery(criteriaQuery);\r\n                List&lt;Object&gt; resultSet = typedQuery.getResultList();\r\n                log.info(&quot;found {}&quot;, resultSet);\r\n                return resultSet.size() == 0;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nin case of you want use @Unique more than once for the same entity:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface Uniques {\r\n        Unique[] value();\r\n    }\r\n\r\nThe JPA entity:\r\n\r\n    @Unique(fields ={&quot;name&quot;, &quot;email&quot;}, primaryKey = &quot;id&quot;)\r\n    @Unique(fields ={&quot;phoneNumber&quot;}, primaryKey = &quot;id&quot;)\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;user_id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(length = 60, nullable = false)\r\n        private String name;\r\n\r\n        @Column(length = 128, nullable = false, unique = true)\r\n        private String email;\r\n\r\n        @Column(length = 30, nullable = false)\r\n        private String phoneNumber;\r\n    }","title":"hibernate unique key validation","body":"<p>From my point of view the solutions provided here are missing very important case, which is update. We have to consider the primary key while asking our JPA APIs for persist or megre, So you <strong>MUST</strong> exclude the current entity from the uniqueness check (by using the primary key).</p>\n<p>The below demonstration uses Spring Framework.</p>\n<p>The annotation:</p>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.*;\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = UniqueValidator.class)\npublic @interface Unique {\n    String[] fields();\n    String primaryKey();\n\n    String message() default &quot;Email address must be unique!&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    @Target({ ElementType.TYPE })\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    @interface List {\n        Unique[] value();\n    }\n}\n</code></pre>\n<p>Annotation validator implementation:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Component;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Predicate;\nimport javax.persistence.criteria.Root;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.beans.PropertyDescriptor;\nimport java.io.Serializable;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Slf4j\n@Component\npublic class UniqueValidator implements ConstraintValidator&lt;Unique, Serializable&gt; {\n    @Autowied\n    private EntityManager entityManager;\n\n    private String[] fields;\n    private String primaryKey;\n\n    @Override\n    public void initialize(Unique constraintAnnotation) {\n        this.fields = constraintAnnotation.fields();\n        this.primaryKey = constraintAnnotation.primaryKey();\n    }\n\n    @Override\n    public boolean isValid(Serializable target, ConstraintValidatorContext context) {\n        log.info(&quot;start validation...&quot;);\n        if(entityManager != null) {\n            Class entityClass = target.getClass();\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n            CriteriaQuery&lt;?&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\n            Root&lt;?&gt; root = criteriaQuery.from(entityClass);\n            List&lt;Predicate&gt; predicates = new ArrayList(fields.length + 1);\n\n            try {\n                PropertyDescriptor desc = new PropertyDescriptor(primaryKey, entityClass);\n                Method readMethod = desc.getReadMethod();\n                Object propertyValue = readMethod.invoke(target);\n                Predicate predicate = criteriaBuilder.notEqual(root.get(primaryKey), propertyValue);\n                predicates.add(predicate);\n\n                for (int i = 0; i &lt; fields.length; i++) {\n                    String propertyName = fields[i];\n                    desc = new PropertyDescriptor(propertyName, entityClass);\n                    readMethod = desc.getReadMethod();\n                    propertyValue = readMethod.invoke(target);\n                    predicate = criteriaBuilder.equal(root.get(propertyName), propertyValue);\n                    predicates.add(predicate);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            criteriaQuery.where(predicates.toArray(new Predicate[predicates.size()]));\n            Query typedQuery = entityManager.createQuery(criteriaQuery);\n            List&lt;Object&gt; resultSet = typedQuery.getResultList();\n            log.info(&quot;found {}&quot;, resultSet);\n            return resultSet.size() == 0;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>in case of you want use @Unique more than once for the same entity:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Uniques {\n    Unique[] value();\n}\n</code></pre>\n<p>The JPA entity:</p>\n<pre><code>@Unique(fields ={&quot;name&quot;, &quot;email&quot;}, primaryKey = &quot;id&quot;)\n@Unique(fields ={&quot;phoneNumber&quot;}, primaryKey = &quot;id&quot;)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;user_id&quot;)\n    private Integer id;\n\n    @Column(length = 60, nullable = false)\n    private String name;\n\n    @Column(length = 128, nullable = false, unique = true)\n    private String email;\n\n    @Column(length = 30, nullable = false)\n    private String phoneNumber;\n}\n</code></pre>\n"}],"owner":{"account_id":255877,"reputation":6710,"user_id":536205,"accept_rate":83,"display_name":"nidhin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33107,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":4733441,"answer_count":7,"score":18,"last_activity_date":1686894550,"creation_date":1294302507,"question_id":4613055,"body_markdown":"I have a field, say, `user_name`, that should be unique in a table.\r\n\r\nWhat is the best way for validating it using Spring/Hibernate validation?","title":"hibernate unique key validation","body":"<p>I have a field, say, <code>user_name</code>, that should be unique in a table.</p>\n\n<p>What is the best way for validating it using Spring/Hibernate validation?</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":2814657,"reputation":261,"user_id":2420079,"display_name":"user2420079"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686894412,"creation_date":1686894412,"question_id":76487269,"body_markdown":"I have a following code in a pre Hibernate\r\n\r\n```\r\nTable table = namespace.locateTable(qualifiedTableName.getObjectName());\r\nif (table == null) {\r\n    table = namespace.createTable(qualifiedTableName.getObjectName(), false);\r\n}\r\n```\r\n\r\nIn hibernate 6.0 the signature of create table is changed to:\r\n\r\n```\r\n public Table createTable(Identifier logicalTableName, Function&lt;Identifier, Table&gt; creator);\r\n```\r\n\r\nSo it does not support the boolean type anymore. I am trying to find any sample of createTable instance in web for hibernate 6.0, but nothing useful was found. Could you please share any ideas or resources about the createTable with the new signature.","title":"Hibernate 6.0 CreateTable Issue","body":"<p>I have a following code in a pre Hibernate</p>\n<pre><code>Table table = namespace.locateTable(qualifiedTableName.getObjectName());\nif (table == null) {\n    table = namespace.createTable(qualifiedTableName.getObjectName(), false);\n}\n</code></pre>\n<p>In hibernate 6.0 the signature of create table is changed to:</p>\n<pre><code> public Table createTable(Identifier logicalTableName, Function&lt;Identifier, Table&gt; creator);\n</code></pre>\n<p>So it does not support the boolean type anymore. I am trying to find any sample of createTable instance in web for hibernate 6.0, but nothing useful was found. Could you please share any ideas or resources about the createTable with the new signature.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686894967,"post_id":76487214,"comment_id":134863660,"body_markdown":"I would guess that the transaction hasn&#39;t been committed at that point. You could use `@TransactionalEventListener` so that you listener is call when the commit of the transaction in which the message was sent is complete.","body":"I would guess that the transaction hasn&#39;t been committed at that point. You could use <code>@TransactionalEventListener</code> so that you listener is call when the commit of the transaction in which the message was sent is complete."},{"owner":{"account_id":17083914,"reputation":231,"user_id":12361701,"display_name":"Esmay Kapol"},"score":0,"creation_date":1686896432,"post_id":76487214,"comment_id":134863874,"body_markdown":"@tgdavies I just tried your suggestion but the same problem still exists. I added `@Transactional` to my Service method aswel, because I read that `@TransactionEventListener` must be fired from within a transaction.","body":"@tgdavies I just tried your suggestion but the same problem still exists. I added <code>@Transactional</code> to my Service method aswel, because I read that <code>@TransactionEventListener</code> must be fired from within a transaction."}],"owner":{"account_id":17083914,"reputation":231,"user_id":12361701,"display_name":"Esmay Kapol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686893686,"creation_date":1686893686,"question_id":76487214,"body_markdown":"I&#39;m trying to trigger an event whenever a new entity is created in the database. To do so I am using an event and listener. I pass the Listing entity directly and try to do stuff with it, however when I try to get relational objects is always returns zero.\r\n\r\nListingService.java\r\n\r\n```java\r\npackage com.example.demo.service;\r\n\r\nimport com.example.demo.domain.Listing;\r\nimport com.example.demo.domain.ListingProduct;\r\nimport com.example.demo.domain.Platform;\r\nimport com.example.demo.domain.Product;\r\nimport com.example.demo.dto.ListingDto;\r\nimport com.example.demo.dto.ProductDto;\r\nimport com.example.demo.event.ListingCreatedEvent;\r\nimport com.example.demo.repository.ListingProductRepository;\r\nimport com.example.demo.repository.ListingRepository;\r\nimport com.example.demo.repository.PlatformRepository;\r\nimport com.example.demo.repository.ProductRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.ApplicationEventPublisher;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class ListingService {\r\n\r\n    @Autowired\r\n    private ListingRepository listingRepository;\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n    @Autowired\r\n    private PlatformRepository platformRepository;\r\n\r\n    @Autowired\r\n    private ListingProductRepository listingProductRepository;\r\n    \r\n    @Autowired\r\n    private ApplicationEventPublisher applicationEventPublisher;\r\n\r\n    public Listing createListingWithProducts(ListingDto listingDto) {\r\n        Optional&lt;Listing&gt; listingOptional = this.listingRepository.findByUniqueIdentifier(listingDto.getListing());\r\n\r\n        if (listingOptional.isPresent())\r\n            throw new ResponseStatusException(\r\n                    HttpStatus.BAD_REQUEST, &quot;Listing with this unique identifier already exists.&quot;\r\n            );\r\n\r\n        Platform platform = this.platformRepository.findByName(listingDto.getPlatform())\r\n                .orElseGet(() -&gt; this.platformRepository.save(new Platform(listingDto.getPlatform())));\r\n\r\n        Listing listing = new Listing(listingDto.getListing());\r\n        listing.setPlatform(platform);\r\n\r\n        this.listingRepository.save(listing);\r\n\r\n        List&lt;ListingProduct&gt; listingProducts = new ArrayList&lt;&gt;();\r\n\r\n        for (ProductDto productDto : listingDto.getProducts()) {\r\n            Product product = this.productRepository.findByName(productDto.getName())\r\n                    .orElseGet(() -&gt; this.productRepository.save(new Product(productDto.getName())));\r\n\r\n            ListingProduct listingProduct = new ListingProduct();\r\n            listingProduct.setProduct(product);\r\n            listingProduct.setListing(listing);\r\n            listingProduct.setListingType(productDto.getListingType());\r\n            listingProduct.setCredits(productDto.getCredits());\r\n\r\n            listingProducts.add(listingProduct);\r\n        }\r\n        this.listingProductRepository.saveAll(listingProducts);\r\n        this.applicationEventPublisher.publishEvent(new ListingCreatedEvent(listing));\r\n        return listing;\r\n    }\r\n}\r\n```\r\n\r\nListingCreatedEvent.java\r\n```\r\npackage com.example.demo.event;\r\n\r\nimport com.example.demo.domain.Listing;\r\n\r\npublic class ListingCreatedEvent {\r\n    private Listing listing;\r\n\r\n    public ListingCreatedEvent(Listing listing) {\r\n        this.listing = listing;\r\n    }\r\n\r\n    public Listing getListing() {\r\n        return this.listing;\r\n    }\r\n}\r\n```\r\n\r\nListingEventListener.java\r\n```\r\npackage com.example.demo.listener;\r\n\r\nimport com.example.demo.domain.Listing;\r\nimport com.example.demo.event.ListingCreatedEvent;\r\nimport com.example.demo.repository.AlertRepository;\r\nimport com.example.demo.repository.ListingRepository;\r\nimport com.example.demo.service.RateLimitedTelegramService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Optional;\r\n\r\n@Component\r\npublic class ListingEventListener {\r\n    @Autowired\r\n    private RateLimitedTelegramService rateLimitedTelegramService;\r\n\r\n    @Autowired\r\n    private AlertRepository alertRepository;\r\n\r\n    @Autowired\r\n    private ListingRepository listingRepository;\r\n\r\n    @EventListener\r\n    public void handleListingCreatedEvent(ListingCreatedEvent event) {\r\n\r\n        Optional&lt;Listing&gt; optionalListing = this.listingRepository.findById(event.getListing().getId());\r\n\r\n        if (optionalListing.isEmpty())\r\n            return;\r\n\r\n        Listing listing = optionalListing.get();\r\n\r\n        System.out.println(listing.getListingProducts().size());\r\n    }\r\n}\r\n```\r\n\r\nWhat have I tried so far? To be honest Spring Boot is quite new for me but I assume it has something to do with having the database not yet updated. So I added `@Transactional` to my Service but that didn&#39;t work.\r\n\r\nThen I tried to flush the database manually in my service, but that also didn&#39;t work.\r\n\r\nThe weird thing is, in my `handleListingCreatedEvent` method, if I get a random Listing by an ID it works, and it does print the size. However the newly passed Listing can&#39;t be found by the ID in the database (it does return an ID if I do listing.getId()) and I can&#39;t access the `event.getListing().getListingProducts().size()` directly.","title":"Spring Boot entity not persisted (yet)","body":"<p>I'm trying to trigger an event whenever a new entity is created in the database. To do so I am using an event and listener. I pass the Listing entity directly and try to do stuff with it, however when I try to get relational objects is always returns zero.</p>\n<p>ListingService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.service;\n\nimport com.example.demo.domain.Listing;\nimport com.example.demo.domain.ListingProduct;\nimport com.example.demo.domain.Platform;\nimport com.example.demo.domain.Product;\nimport com.example.demo.dto.ListingDto;\nimport com.example.demo.dto.ProductDto;\nimport com.example.demo.event.ListingCreatedEvent;\nimport com.example.demo.repository.ListingProductRepository;\nimport com.example.demo.repository.ListingRepository;\nimport com.example.demo.repository.PlatformRepository;\nimport com.example.demo.repository.ProductRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationEventPublisher;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class ListingService {\n\n    @Autowired\n    private ListingRepository listingRepository;\n\n    @Autowired\n    private ProductRepository productRepository;\n\n    @Autowired\n    private PlatformRepository platformRepository;\n\n    @Autowired\n    private ListingProductRepository listingProductRepository;\n    \n    @Autowired\n    private ApplicationEventPublisher applicationEventPublisher;\n\n    public Listing createListingWithProducts(ListingDto listingDto) {\n        Optional&lt;Listing&gt; listingOptional = this.listingRepository.findByUniqueIdentifier(listingDto.getListing());\n\n        if (listingOptional.isPresent())\n            throw new ResponseStatusException(\n                    HttpStatus.BAD_REQUEST, &quot;Listing with this unique identifier already exists.&quot;\n            );\n\n        Platform platform = this.platformRepository.findByName(listingDto.getPlatform())\n                .orElseGet(() -&gt; this.platformRepository.save(new Platform(listingDto.getPlatform())));\n\n        Listing listing = new Listing(listingDto.getListing());\n        listing.setPlatform(platform);\n\n        this.listingRepository.save(listing);\n\n        List&lt;ListingProduct&gt; listingProducts = new ArrayList&lt;&gt;();\n\n        for (ProductDto productDto : listingDto.getProducts()) {\n            Product product = this.productRepository.findByName(productDto.getName())\n                    .orElseGet(() -&gt; this.productRepository.save(new Product(productDto.getName())));\n\n            ListingProduct listingProduct = new ListingProduct();\n            listingProduct.setProduct(product);\n            listingProduct.setListing(listing);\n            listingProduct.setListingType(productDto.getListingType());\n            listingProduct.setCredits(productDto.getCredits());\n\n            listingProducts.add(listingProduct);\n        }\n        this.listingProductRepository.saveAll(listingProducts);\n        this.applicationEventPublisher.publishEvent(new ListingCreatedEvent(listing));\n        return listing;\n    }\n}\n</code></pre>\n<p>ListingCreatedEvent.java</p>\n<pre><code>package com.example.demo.event;\n\nimport com.example.demo.domain.Listing;\n\npublic class ListingCreatedEvent {\n    private Listing listing;\n\n    public ListingCreatedEvent(Listing listing) {\n        this.listing = listing;\n    }\n\n    public Listing getListing() {\n        return this.listing;\n    }\n}\n</code></pre>\n<p>ListingEventListener.java</p>\n<pre><code>package com.example.demo.listener;\n\nimport com.example.demo.domain.Listing;\nimport com.example.demo.event.ListingCreatedEvent;\nimport com.example.demo.repository.AlertRepository;\nimport com.example.demo.repository.ListingRepository;\nimport com.example.demo.service.RateLimitedTelegramService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Optional;\n\n@Component\npublic class ListingEventListener {\n    @Autowired\n    private RateLimitedTelegramService rateLimitedTelegramService;\n\n    @Autowired\n    private AlertRepository alertRepository;\n\n    @Autowired\n    private ListingRepository listingRepository;\n\n    @EventListener\n    public void handleListingCreatedEvent(ListingCreatedEvent event) {\n\n        Optional&lt;Listing&gt; optionalListing = this.listingRepository.findById(event.getListing().getId());\n\n        if (optionalListing.isEmpty())\n            return;\n\n        Listing listing = optionalListing.get();\n\n        System.out.println(listing.getListingProducts().size());\n    }\n}\n</code></pre>\n<p>What have I tried so far? To be honest Spring Boot is quite new for me but I assume it has something to do with having the database not yet updated. So I added <code>@Transactional</code> to my Service but that didn't work.</p>\n<p>Then I tried to flush the database manually in my service, but that also didn't work.</p>\n<p>The weird thing is, in my <code>handleListingCreatedEvent</code> method, if I get a random Listing by an ID it works, and it does print the size. However the newly passed Listing can't be found by the ID in the database (it does return an ID if I do listing.getId()) and I can't access the <code>event.getListing().getListingProducts().size()</code> directly.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","repository"],"comments":[{"owner":{"account_id":7646924,"reputation":1248,"user_id":5797253,"accept_rate":46,"display_name":"crimson589"},"score":0,"creation_date":1686890465,"post_id":76486966,"comment_id":134863163,"body_markdown":"Are you looking to return a different User object? what do you want to return when it&#39;s not found? if you want to return another User then you can use Optional&#39;s `orElse()` or `orElseGet()`","body":"Are you looking to return a different User object? what do you want to return when it&#39;s not found? if you want to return another User then you can use Optional&#39;s <code>orElse()</code> or <code>orElseGet()</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686891442,"post_id":76486966,"comment_id":134863253,"body_markdown":"I would leave the repository to return what is actually in the DB, and return default objects in your resource, as you are, or introduce another component which wraps your repository and provides those semantics. I would not change the behaviour of the repository from the default.","body":"I would leave the repository to return what is actually in the DB, and return default objects in your resource, as you are, or introduce another component which wraps your repository and provides those semantics. I would not change the behaviour of the repository from the default."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686891493,"post_id":76486966,"comment_id":134863257,"body_markdown":"By the way, is that your actual code? The return value of `findByUsernameAndStatusFalse` is ignored.","body":"By the way, is that your actual code? The return value of <code>findByUsernameAndStatusFalse</code> is ignored."}],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686890536,"creation_date":1686890536,"answer_id":76487008,"question_id":76486966,"body_markdown":"You can use : \r\n   \r\n\r\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable String username) {\r\n            User userExample = new User();\r\n            userExample.setUsername(username);\r\n            userExample.setStatus(false);\r\n            User user = userRepository.findOne(Example.of(userExample)).orElseThrow(\r\n        () -&gt; new RuntimeException(&quot;Username not found&quot; + username);\r\n    );\r\n            return ResponseEntity.ok(user);\r\n        }\r\n***the above code i use findOne and pass an example to search for an object, when not found throws an exception***\r\n\r\n**please add this method to controller**\r\n\r\n        @ExceptionHandler(RuntimeException.class)\r\n        public Map&lt;String,Object&gt; handleException(RuntimeException e) {\r\n            Map&lt;String,Object&gt; result = new HashMap&lt;&gt;();\r\n            result.put(&quot;status&quot;, HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n            result.put(&quot;message&quot;, e.getMessage());\r\n            return result;\r\n        }\r\n**When you add this code, all RuntimeException is thrown then api will return status as 500 and message is messgae of that Exception**","title":"Is there anyway to return value when not found in findby jpa repository","body":"<p>You can use :</p>\n<pre><code>public ResponseEntity&lt;User&gt; getUser(@PathVariable String username) {\n        User userExample = new User();\n        userExample.setUsername(username);\n        userExample.setStatus(false);\n        User user = userRepository.findOne(Example.of(userExample)).orElseThrow(\n    () -&gt; new RuntimeException(&quot;Username not found&quot; + username);\n);\n        return ResponseEntity.ok(user);\n    }\n</code></pre>\n<p><em><strong>the above code i use findOne and pass an example to search for an object, when not found throws an exception</strong></em></p>\n<p><strong>please add this method to controller</strong></p>\n<pre><code>    @ExceptionHandler(RuntimeException.class)\n    public Map&lt;String,Object&gt; handleException(RuntimeException e) {\n        Map&lt;String,Object&gt; result = new HashMap&lt;&gt;();\n        result.put(&quot;status&quot;, HttpStatus.INTERNAL_SERVER_ERROR.value());\n        result.put(&quot;message&quot;, e.getMessage());\n        return result;\n    }\n</code></pre>\n<p><strong>When you add this code, all RuntimeException is thrown then api will return status as 500 and message is messgae of that Exception</strong></p>\n"},{"tags":[],"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686892430,"creation_date":1686892430,"answer_id":76487116,"question_id":76486966,"body_markdown":"`java.util.Optional#orElse`\r\n\r\nthis will return a default value if the optional doesnt have a value. example:\r\n\r\n`User user = userRepository.findByUsernameAndStatusFalse(username).orElse(null);`","title":"Is there anyway to return value when not found in findby jpa repository","body":"<p><code>java.util.Optional#orElse</code></p>\n<p>this will return a default value if the optional doesnt have a value. example:</p>\n<p><code>User user = userRepository.findByUsernameAndStatusFalse(username).orElse(null);</code></p>\n"}],"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76487116,"answer_count":2,"score":1,"last_activity_date":1686892430,"creation_date":1686889838,"question_id":76486966,"body_markdown":"I have create a repository query. I want to response value when not found.\r\n\r\nHere are my code:\r\nin repository:\r\n```\r\nOptional&lt;User&gt; findByUsernameAndStatusFalse(String username);\r\n```\r\n\r\nin resource:\r\n\r\n```\r\n@GetMapping(&quot;/user/username/{username}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable String username) {\r\n        Optional&lt;User&gt; user = userRepository.findByUsernameAndStatusFalse(username);\r\n        return ResponseUtil.wrapOrNotFound(user);\r\n    }\r\n```","title":"Is there anyway to return value when not found in findby jpa repository","body":"<p>I have create a repository query. I want to response value when not found.</p>\n<p>Here are my code:\nin repository:</p>\n<pre><code>Optional&lt;User&gt; findByUsernameAndStatusFalse(String username);\n</code></pre>\n<p>in resource:</p>\n<pre><code>@GetMapping(&quot;/user/username/{username}&quot;)\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable String username) {\n        Optional&lt;User&gt; user = userRepository.findByUsernameAndStatusFalse(username);\n        return ResponseUtil.wrapOrNotFound(user);\n    }\n</code></pre>\n"},{"tags":["java","eclipse","autocomplete","content-assist"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686853224,"post_id":76484336,"comment_id":134858882,"body_markdown":"Maybe [this](https://mastodon.social/@howlger/110462282002158739). In _General &gt; Key_ select a command, set the focus into the field _Binding_ and hit Ctrl+Space. If Ctrl+Space is not shown, something is catching the shortcut so Eclipse and other applications do not get Ctrl+Space.","body":"Maybe <a href=\"https://mastodon.social/@howlger/110462282002158739\" rel=\"nofollow noreferrer\">this</a>. In <i>General &gt; Key</i> select a command, set the focus into the field <i>Binding</i> and hit Ctrl+Space. If Ctrl+Space is not shown, something is catching the shortcut so Eclipse and other applications do not get Ctrl+Space."},{"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"score":0,"creation_date":1686853669,"post_id":76484336,"comment_id":134858953,"body_markdown":"@howlger Tried that and &#39;ctrl + space&#39; is showing, so I do not think another application or process is hijacking the keybind","body":"@howlger Tried that and &#39;ctrl + space&#39; is showing, so I do not think another application or process is hijacking the keybind"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686853838,"post_id":76484336,"comment_id":134858992,"body_markdown":"Please show _General &gt; Keys_ filtered with `Ctrl+Space`. If you switch to a fresh workspace, does the issue persist?","body":"Please show <i>General &gt; Keys</i> filtered with <code>Ctrl+Space</code>. If you switch to a fresh workspace, does the issue persist?"},{"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"score":0,"creation_date":1686854210,"post_id":76484336,"comment_id":134859045,"body_markdown":"@howlger I have a photo showing keybinds sorted in order already, but I will add a photo with only &#39;ctrl + space&#39; singled out. \nAnd yes, the issue persists across all workspaces, and newly created ones.","body":"@howlger I have a photo showing keybinds sorted in order already, but I will add a photo with only &#39;ctrl + space&#39; singled out.  And yes, the issue persists across all workspaces, and newly created ones."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1686854750,"post_id":76484336,"comment_id":134859142,"body_markdown":"Try restoring the defaults on the &#39;Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced&#39; page, and if that doesn&#39;t fix it, try disabling that non-blocking option at the bottom.","body":"Try restoring the defaults on the &#39;Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced&#39; page, and if that doesn&#39;t fix it, try disabling that non-blocking option at the bottom."},{"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"score":0,"creation_date":1686855523,"post_id":76484336,"comment_id":134859284,"body_markdown":"@nitind Goodness, that solved it. I thought I already tried that &gt;_&gt;\nFeel free to post that as the answer","body":"@nitind Goodness, that solved it. I thought I already tried that &gt;_&gt; Feel free to post that as the answer"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1686858976,"post_id":76484336,"comment_id":134859913,"body_markdown":"Which one ended up clearing up the problem, @NathanH?","body":"Which one ended up clearing up the problem, @NathanH?"},{"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"score":0,"creation_date":1686861935,"post_id":76484336,"comment_id":134860472,"body_markdown":"@nitind, apologies. I got ahead of myself and didn&#39;t clarify. Unchecking &#39;Enable non-blocking completion&#39; seemed to have worked.","body":"@nitind, apologies. I got ahead of myself and didn&#39;t clarify. Unchecking &#39;Enable non-blocking completion&#39; seemed to have worked."},{"owner":{"account_id":10972151,"reputation":320,"user_id":8062035,"display_name":"Julian Broudy"},"score":0,"creation_date":1687178623,"post_id":76484336,"comment_id":134896225,"body_markdown":"If you happened to install [Microsoft PowerToys](https://learn.microsoft.com/en-us/windows/powertoys/#:~:text=Microsoft%20PowerToys,-%3A%20Utilities%20to%20customize) and enable the `Peek` functionality. Then change `Peek`&#39;s activation shortcut or disable it.","body":"If you happened to install <a href=\"https://learn.microsoft.com/en-us/windows/powertoys/#:~:text=Microsoft%20PowerToys,-%3A%20Utilities%20to%20customize\" rel=\"nofollow noreferrer\">Microsoft PowerToys</a> and enable the <code>Peek</code> functionality. Then change <code>Peek</code>&#39;s activation shortcut or disable it."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686891958,"creation_date":1686891958,"answer_id":76487093,"question_id":76484336,"body_markdown":"Always try restoring the defaults on the &#39;Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced&#39; page, and if that doesn&#39;t fix it, try disabling that non-blocking option at the bottom. It&#39;s one of the few significant changes to the overall behavior in that area for a while.","title":"Eclipse 2023-06 suddenly no longer auto completing &#39;sysout&#39;","body":"<p>Always try restoring the defaults on the 'Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced' page, and if that doesn't fix it, try disabling that non-blocking option at the bottom. It's one of the few significant changes to the overall behavior in that area for a while.</p>\n"}],"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686891958,"creation_date":1686851789,"question_id":76484336,"body_markdown":"While I recognize that this problem has been asked before, I have attempted solutions from multiple different threads with no solution as of yet.\r\n5 days ago when I was using Eclipse I had no issues whatsoever, now as of today I suddenly cannot auto complete &#39;sysout&#39; with &#39;ctrl + space&#39;.\r\nAs far as I am aware, there were no updates to Eclipse.\r\n\r\n\r\nI have gone through &#39;Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced&#39; and ensured that nothing was checked that interfered or conflicted with Eclipse being able to auto complete the java command, then reset to defaults.\r\nI checked that &#39;syso&#39; was a listed and active template.\r\nI made sure that there was not another keybind that was conflicting with &#39;ctrl + space&#39;\r\n[Window -&gt; ... -&gt; Content Assist -&gt; Advanced](https://i.stack.imgur.com/RfSb8.png)\r\n\r\n[Window -&gt; Preferences -&gt; General -&gt; Keys](https://i.stack.imgur.com/BftNz.png)\r\n\r\n[General -&gt; Keys(filtered)][1]\r\n\r\nI did discover however that after I close Eclipse, and then open it back up, I can autocomplete &#39;sysout&#39; once or twice, and then it stops and just pulls up the proposal context menu instead.\r\nThe below gif does not show the proposal menu for some reason and I couldn&#39;t get it to capture, but it most definitely shows up with &#39;System.out.println();&#39; as the only option:\r\n[Attempting to use &#39;sysout&#39; shortcut](https://i.stack.imgur.com/BGkcb.gif)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C8OSN.png","title":"Eclipse 2023-06 suddenly no longer auto completing &#39;sysout&#39;","body":"<p>While I recognize that this problem has been asked before, I have attempted solutions from multiple different threads with no solution as of yet.\n5 days ago when I was using Eclipse I had no issues whatsoever, now as of today I suddenly cannot auto complete 'sysout' with 'ctrl + space'.\nAs far as I am aware, there were no updates to Eclipse.</p>\n<p>I have gone through 'Window -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced' and ensured that nothing was checked that interfered or conflicted with Eclipse being able to auto complete the java command, then reset to defaults.\nI checked that 'syso' was a listed and active template.\nI made sure that there was not another keybind that was conflicting with 'ctrl + space'\n<a href=\"https://i.stack.imgur.com/RfSb8.png\" rel=\"nofollow noreferrer\">Window -&gt; ... -&gt; Content Assist -&gt; Advanced</a></p>\n<p><a href=\"https://i.stack.imgur.com/BftNz.png\" rel=\"nofollow noreferrer\">Window -&gt; Preferences -&gt; General -&gt; Keys</a></p>\n<p><a href=\"https://i.stack.imgur.com/C8OSN.png\" rel=\"nofollow noreferrer\">General -&gt; Keys(filtered)</a></p>\n<p>I did discover however that after I close Eclipse, and then open it back up, I can autocomplete 'sysout' once or twice, and then it stops and just pulls up the proposal context menu instead.\nThe below gif does not show the proposal menu for some reason and I couldn't get it to capture, but it most definitely shows up with 'System.out.println();' as the only option:\n<a href=\"https://i.stack.imgur.com/BGkcb.gif\" rel=\"nofollow noreferrer\">Attempting to use 'sysout' shortcut</a></p>\n"},{"tags":["java","floating-point","precision"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1686888819,"post_id":76486887,"comment_id":134863047,"body_markdown":"Does this answer your question? [Division of integers in Java](https://stackoverflow.com/questions/7220681/division-of-integers-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7220681/division-of-integers-in-java\">Division of integers in Java</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1686889343,"post_id":76486887,"comment_id":134863076,"body_markdown":"*&quot;Multiplication of int with float resulting wrong.&quot;* - The problem is that you are NOT multiplying an int and a float.  You are multiplying and dividing ints!","body":"<i>&quot;Multiplication of int with float resulting wrong.&quot;</i> - The problem is that you are NOT multiplying an int and a float.  You are multiplying and dividing ints!"},{"owner":{"account_id":3710720,"reputation":25419,"user_id":3088138,"display_name":"Lutz Lehmann"},"score":0,"creation_date":1686890617,"post_id":76486887,"comment_id":134863173,"body_markdown":"Design question: Why is `TempC` an int if you expect temperatures to have fractional parts? Making it a float too would automatically solve the problem in the computation.","body":"Design question: Why is <code>TempC</code> an int if you expect temperatures to have fractional parts? Making it a float too would automatically solve the problem in the computation."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686891501,"creation_date":1686888911,"answer_id":76486924,"question_id":76486887,"body_markdown":"&gt; _&quot;... Why decimal value set to zero?&quot;_\r\n\r\nThe reason this is happening is because the division of two _int_ values will result in an integer value, as opposed to a real&amp;mdash;_float_ or _double_.\r\n\r\nYou can remedy this by appending the _float_ or _double_ literal-suffix, to the end of either of those values.\r\n\r\nHere is an except from the _Java Tutorials_.  \r\n_[Primitive Data Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_.\r\n\r\n&gt; _&quot;... A floating-point literal is of type float if it ends with the letter F or f; otherwise ... double and ... letter D or d. ...&quot;_\r\n\r\nOnly one literal-suffix is required, per arithmetic statement.&amp;nbsp; So the following will suffice.\r\n\r\n```java\r\ntempC * 9 / 5f\r\n```\r\n\r\nAs a final note, you _could_ specify a _double_ by simply writing it as _5.0_.  \r\nAlthough, you would then have to change _tempF_ to a _double_.\r\n\r\n```java\r\ndouble tempF = (tempC * 9 / 5.0) + 32;\r\n```","title":"Multiplication of int with float resulting wrong","body":"<blockquote>\n<p><em>&quot;... Why decimal value set to zero?&quot;</em></p>\n</blockquote>\n<p>The reason this is happening is because the division of two <em>int</em> values will result in an integer value, as opposed to a real—<em>float</em> or <em>double</em>.</p>\n<p>You can remedy this by appending the <em>float</em> or <em>double</em> literal-suffix, to the end of either of those values.</p>\n<p>Here is an except from the <em>Java Tutorials</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<blockquote>\n<p><em>&quot;... A floating-point literal is of type float if it ends with the letter F or f; otherwise ... double and ... letter D or d. ...&quot;</em></p>\n</blockquote>\n<p>Only one literal-suffix is required, per arithmetic statement.  So the following will suffice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>tempC * 9 / 5f\n</code></pre>\n<p>As a final note, you <em>could</em> specify a <em>double</em> by simply writing it as <em>5.0</em>.<br />\nAlthough, you would then have to change <em>tempF</em> to a <em>double</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double tempF = (tempC * 9 / 5.0) + 32;\n</code></pre>\n"}],"owner":{"account_id":3987561,"reputation":1,"user_id":3287668,"display_name":"Abhilash0496"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1686893968,"answer_count":1,"score":-1,"last_activity_date":1686891501,"creation_date":1686888044,"question_id":76486887,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n       public static void main(String[] args) {\r\n         Scanner input = new Scanner(System.in);\r\n         int tempC = input.nextInt();\r\n         float tempF = (tempC * 9 / 5) + 32;\r\n         System.out.println(tempF);\r\n       }\r\n    }\r\n\r\n**Expected output** - 109.4 \r\n\r\n**Current output** - 109.0 \r\n\r\nWhy decimal value  set to zero?","title":"Multiplication of int with float resulting wrong","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n   public static void main(String[] args) {\n     Scanner input = new Scanner(System.in);\n     int tempC = input.nextInt();\n     float tempF = (tempC * 9 / 5) + 32;\n     System.out.println(tempF);\n   }\n}\n</code></pre>\n<p><strong>Expected output</strong> - 109.4</p>\n<p><strong>Current output</strong> - 109.0</p>\n<p>Why decimal value  set to zero?</p>\n"},{"tags":["java","methods","boolean"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686812211,"post_id":76479840,"comment_id":134851251,"body_markdown":"debug your code, or at the very least put print statements in there.","body":"debug your code, or at the very least put print statements in there."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1686813452,"post_id":76479840,"comment_id":134851528,"body_markdown":"You have a variable `Parity` in the main method and a method `Parity()`. The variable `Parity` only changes when you assign something to it. It doesn&#39;t change when you call the similarly called method `Parity()`.","body":"You have a variable <code>Parity</code> in the main method and a method <code>Parity()</code>. The variable <code>Parity</code> only changes when you assign something to it. It doesn&#39;t change when you call the similarly called method <code>Parity()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686891385,"creation_date":1686891385,"answer_id":76487056,"question_id":76479840,"body_markdown":"&gt; _&quot;When method Parity is called, boolean variable Parity does not change to incorporate method. ...&quot;_\r\n\r\nIn Java, there is no link between names.&amp;nbsp; Syntax, and ultimately the context of the statement, is used to disseminate the object.  \r\nThus, a class, method, and variable, all named _Parity_ would be different objects.\r\n\r\nYou&#39;ll have to assign the _Parity_ variable the returned value of the _Parity_ method.","title":"How to return a Boolean variable with two different parameter&#39;s?","body":"<blockquote>\n<p><em>&quot;When method Parity is called, boolean variable Parity does not change to incorporate method. ...&quot;</em></p>\n</blockquote>\n<p>In Java, there is no link between names.  Syntax, and ultimately the context of the statement, is used to disseminate the object.<br />\nThus, a class, method, and variable, all named <em>Parity</em> would be different objects.</p>\n<p>You'll have to assign the <em>Parity</em> variable the returned value of the <em>Parity</em> method.</p>\n"}],"owner":{"account_id":28825293,"reputation":1,"user_id":22076818,"display_name":"Tayfrax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686891385,"creation_date":1686811913,"question_id":76479840,"body_markdown":"//When method Parity is called, boolean variable Parity does not change to incorporate method. I dont know what is being returned by the method, I assume its Val1 and Val2 but idk.\r\n\r\n       import java.util.Scanner;\r\n       import java.util.Random;\r\n      public class DiceRoll\r\n      {\r\n      public static void main (String[] args)\r\n      {\r\n           Scanner scan = new Scanner (System.in);\r\n           Random rand = new Random ();\r\n           \r\n           int gameNumber = 0;\r\n           int compPoint = 0;\r\n           int playerPoint = 0;\r\n           int currentGame = 0;\r\n           int compRoll = 0;\r\n           int playerRoll = 0;\r\n           int compRoll2 = 0;\r\n           int playerRoll2 = 0;\r\n           int sumComp = 0;\r\n           int sumPlayer = 0;\r\n           int Val1 = 0;\r\n           int Val2 =0;\r\n           boolean Parity = false;\r\n           \r\n           System.out.println (&quot; How many games? &quot;);\r\n           gameNumber = scan.nextInt ();\r\n           System.out.println (&quot;Number of games: &quot;+gameNumber);\r\n           \r\n           System.out.println (&quot;Computer Wins: &quot;+compPoint);\r\n           System.out.println (&quot;Player Wins: &quot;+playerPoint);\r\n           System.out.println (&quot;&quot;);\r\n           \r\n           currentGame = currentGame+1;\r\n           System.out.println (&quot;Current Game:&quot; +currentGame);\r\n           \r\n           compRoll = DiceRoll(10);\r\n           playerRoll = DiceRoll(10);\r\n           compRoll2 = DiceRoll (10);\r\n           playerRoll2 = DiceRoll (10);\r\n           sumComp = (compRoll + compRoll2);\r\n           sumPlayer = (playerRoll + playerRoll2);\r\n           \r\n           \r\n           System.out.printf (&quot;Computer: %d %d Total: %d \\nPlayer: %d %d Total: %d&quot; , compRoll, compRoll2,                         sumComp, playerRoll, playerRoll2, sumPlayer);\r\n           System.out.println (&quot;&quot;);\r\n           \r\n           //parityCheck = Val1;\r\n           if (Parity(Val1, Val2) == true)\r\n           {\r\n                System.out.println (&quot;Parity: True&quot;);\r\n           }\r\n           else\r\n           {\r\n                System.out.println (&quot;Parity: False&quot;);\r\n           }\r\n           \r\n                    \r\n           \r\n      }\r\n      public static int DiceRoll (int sides)\r\n      {\r\n          int rollTotal = 0 ;\r\n          int minRand = 1;\r\n          int maxRand = sides;\r\n          int range = (maxRand - minRand)+ 1;\r\n           \r\n           rollTotal = (int)(Math.random()* range) +minRand;\r\n           \r\n           return rollTotal;\r\n           \r\n      }\r\n      public static boolean Parity (int Val1, int Val2)\r\n      {\r\n           int evenSum = 0;\r\n           int oddSum = 0;\r\n           int sumComp2 = 0;\r\n           int sumPlayer2 = 0;\r\n           \r\n           sumComp2= Val1;\r\n           sumPlayer2= Val2;\r\n           \r\n          if (sumComp2 %2 == 0 &amp;&amp; sumPlayer2 == 0 || sumComp2 %2 == 1 &amp;&amp; sumPlayer2 == 1)\r\n           {\r\n                return true;\r\n           }\r\n           else\r\n           {\r\n                return false;\r\n           } \r\n           \r\n           //return ();\r\n      }\r\n }\r\n\r\nI have tried changing the println statements to display Val1 and Val2 but as the paramtres must call ints, they are unable to display anything but numbers.\r\n\r\n","title":"How to return a Boolean variable with two different parameter&#39;s?","body":"<p>//When method Parity is called, boolean variable Parity does not change to incorporate method. I dont know what is being returned by the method, I assume its Val1 and Val2 but idk.</p>\n<pre><code>   import java.util.Scanner;\n   import java.util.Random;\n  public class DiceRoll\n  {\n  public static void main (String[] args)\n  {\n       Scanner scan = new Scanner (System.in);\n       Random rand = new Random ();\n       \n       int gameNumber = 0;\n       int compPoint = 0;\n       int playerPoint = 0;\n       int currentGame = 0;\n       int compRoll = 0;\n       int playerRoll = 0;\n       int compRoll2 = 0;\n       int playerRoll2 = 0;\n       int sumComp = 0;\n       int sumPlayer = 0;\n       int Val1 = 0;\n       int Val2 =0;\n       boolean Parity = false;\n       \n       System.out.println (&quot; How many games? &quot;);\n       gameNumber = scan.nextInt ();\n       System.out.println (&quot;Number of games: &quot;+gameNumber);\n       \n       System.out.println (&quot;Computer Wins: &quot;+compPoint);\n       System.out.println (&quot;Player Wins: &quot;+playerPoint);\n       System.out.println (&quot;&quot;);\n       \n       currentGame = currentGame+1;\n       System.out.println (&quot;Current Game:&quot; +currentGame);\n       \n       compRoll = DiceRoll(10);\n       playerRoll = DiceRoll(10);\n       compRoll2 = DiceRoll (10);\n       playerRoll2 = DiceRoll (10);\n       sumComp = (compRoll + compRoll2);\n       sumPlayer = (playerRoll + playerRoll2);\n       \n       \n       System.out.printf (&quot;Computer: %d %d Total: %d \\nPlayer: %d %d Total: %d&quot; , compRoll, compRoll2,                         sumComp, playerRoll, playerRoll2, sumPlayer);\n       System.out.println (&quot;&quot;);\n       \n       //parityCheck = Val1;\n       if (Parity(Val1, Val2) == true)\n       {\n            System.out.println (&quot;Parity: True&quot;);\n       }\n       else\n       {\n            System.out.println (&quot;Parity: False&quot;);\n       }\n       \n                \n       \n  }\n  public static int DiceRoll (int sides)\n  {\n      int rollTotal = 0 ;\n      int minRand = 1;\n      int maxRand = sides;\n      int range = (maxRand - minRand)+ 1;\n       \n       rollTotal = (int)(Math.random()* range) +minRand;\n       \n       return rollTotal;\n       \n  }\n  public static boolean Parity (int Val1, int Val2)\n  {\n       int evenSum = 0;\n       int oddSum = 0;\n       int sumComp2 = 0;\n       int sumPlayer2 = 0;\n       \n       sumComp2= Val1;\n       sumPlayer2= Val2;\n       \n      if (sumComp2 %2 == 0 &amp;&amp; sumPlayer2 == 0 || sumComp2 %2 == 1 &amp;&amp; sumPlayer2 == 1)\n       {\n            return true;\n       }\n       else\n       {\n            return false;\n       } \n       \n       //return ();\n  }\n</code></pre>\n<p>}</p>\n<p>I have tried changing the println statements to display Val1 and Val2 but as the paramtres must call ints, they are unable to display anything but numbers.</p>\n"},{"tags":["java","inheritance","static"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1686814923,"post_id":76480139,"comment_id":134851816,"body_markdown":"You get that output because j is initialized to 191919 and then decremented once, i is initialized to 0 and incremented once. What is there not to understand?","body":"You get that output because j is initialized to 191919 and then decremented once, i is initialized to 0 and incremented once. What is there not to understand?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1686819367,"post_id":76480139,"comment_id":134852698,"body_markdown":"Note that the code blocks in the class `ClassOne` (`{ --i; }` and `{ j++; }`) are [instance initializers](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.6) and are only executed when you create a `new ClassOne()` instance.","body":"Note that the code blocks in the class <code>ClassOne</code> (<code>{ --i; }</code> and <code>{ j++; }</code>) are <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.6\" rel=\"nofollow noreferrer\">instance initializers</a> and are only executed when you create a <code>new ClassOne()</code> instance."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686890426,"post_id":76480139,"comment_id":134863160,"body_markdown":"Interesting topic, great question.","body":"Interesting topic, great question."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686814676,"creation_date":1686814676,"answer_id":76480153,"question_id":76480139,"body_markdown":"`static int i, j = 191919;` only initializes `j` to 191919. `i` is initalized to the default, 0.","title":"how am i getting this output? i dont understand","body":"<p><code>static int i, j = 191919;</code> only initializes <code>j</code> to 191919. <code>i</code> is initalized to the default, 0.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686890408,"creation_date":1686890408,"answer_id":76486994,"question_id":76480139,"body_markdown":"First, _ClassOne_ is created statically, assigning _j_ with _191919_.  \r\nThen, _ClassTwo_ is created statically, which then executes the _static initialization blocks_, incrementing _i_ by 1, and subsequently, decrementing _j_ by 1.\r\n\r\nYour values are now, _1_ and _191918_, respectively.\r\n\r\nI believe your discrepancy lies within the _instance initialization blocks_, within _ClassTwo_.  \r\n_[Initializing Fields (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)_.\r\n\r\nThese are only executed upon a new instance, and not upon the _static_ initialization.","title":"how am i getting this output? i dont understand","body":"<p>First, <em>ClassOne</em> is created statically, assigning <em>j</em> with <em>191919</em>.<br />\nThen, <em>ClassTwo</em> is created statically, which then executes the <em>static initialization blocks</em>, incrementing <em>i</em> by 1, and subsequently, decrementing <em>j</em> by 1.</p>\n<p>Your values are now, <em>1</em> and <em>191918</em>, respectively.</p>\n<p>I believe your discrepancy lies within the <em>instance initialization blocks</em>, within <em>ClassTwo</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">Initializing Fields (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<p>These are only executed upon a new instance, and not upon the <em>static</em> initialization.</p>\n"}],"owner":{"account_id":28825611,"reputation":9,"user_id":22077074,"display_name":"hrithika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1686890408,"creation_date":1686814554,"question_id":76480139,"body_markdown":"```Java\r\nclass ClassOne\r\n{\r\n     static int i, j = 191919;\r\n \r\n     {\r\n         --i;\r\n     }\r\n \r\n     {\r\n         j++;\r\n     }\r\n}\r\n```\r\n```Java\r\npublic class ClassTwo extends ClassOne\r\n{\r\n    static\r\n    {\r\n        i++;\r\n    }\r\n \r\n    static\r\n    {\r\n        --j;\r\n    }\r\n \r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(i);\r\n \r\n        System.out.println(j);\r\n    }\r\n}\r\n```\r\nI got the output as \r\n```none\r\ni=1\r\nj=191918\r\n```","title":"how am i getting this output? i dont understand","body":"<pre><code>class ClassOne\n{\n     static int i, j = 191919;\n \n     {\n         --i;\n     }\n \n     {\n         j++;\n     }\n}\n</code></pre>\n<pre><code>public class ClassTwo extends ClassOne\n{\n    static\n    {\n        i++;\n    }\n \n    static\n    {\n        --j;\n    }\n \n    public static void main(String[] args)\n    {\n        System.out.println(i);\n \n        System.out.println(j);\n    }\n}\n</code></pre>\n<p>I got the output as</p>\n<pre class=\"lang-none prettyprint-override\"><code>i=1\nj=191918\n</code></pre>\n"},{"tags":["java","android","sql-server"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1686882122,"post_id":76486585,"comment_id":134862566,"body_markdown":"&quot;not working&quot; is not very informative, tells us nothing of use, and you may be ignoring important information that is being generated when your code fails (and not passing it on to us). Please tell the details of your problem. How is it not working specifically? Are you seeing any exception stack traces?","body":"&quot;not working&quot; is not very informative, tells us nothing of use, and you may be ignoring important information that is being generated when your code fails (and not passing it on to us). Please tell the details of your problem. How is it not working specifically? Are you seeing any exception stack traces?"},{"owner":{"account_id":28741348,"reputation":1,"user_id":22011397,"display_name":"Umendran Muniandy"},"score":0,"creation_date":1686882286,"post_id":76486585,"comment_id":134862575,"body_markdown":"the emulator is runnning but when I login its says wrong password which is an error message I was using SQL lite before this and this is my first time migrating to MS SQL server so this where im having the problem if I change back to &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; its closing by itself where the logcat error is from the getConnection so there is somewhere wrong in the url but the ip address the name of the database and the username and password is all correct","body":"the emulator is runnning but when I login its says wrong password which is an error message I was using SQL lite before this and this is my first time migrating to MS SQL server so this where im having the problem if I change back to &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; its closing by itself where the logcat error is from the getConnection so there is somewhere wrong in the url but the ip address the name of the database and the username and password is all correct"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":3,"creation_date":1686883759,"post_id":76486585,"comment_id":134862687,"body_markdown":"Please reconsider using JDBC, [JDBC vs Web Service for Android](https://stackoverflow.com/q/15853367/295004) Also [edit your post](https://stackoverflow.com/posts/76486585/edit) with additional logcat details.","body":"Please reconsider using JDBC, <a href=\"https://stackoverflow.com/q/15853367/295004\">JDBC vs Web Service for Android</a> Also <a href=\"https://stackoverflow.com/posts/76486585/edit\">edit your post</a> with additional logcat details."},{"owner":{"account_id":28741348,"reputation":1,"user_id":22011397,"display_name":"Umendran Muniandy"},"score":0,"creation_date":1686884712,"post_id":76486585,"comment_id":134862760,"body_markdown":"This is my Logcat error:\n\nat com.example.canteenmeal.DatabaseHelper.&lt;init&gt;(DatabaseHelper.java:50)\nwhich is highlighting the getConnection","body":"This is my Logcat error:  at com.example.canteenmeal.DatabaseHelper.&lt;init&gt;(DatabaseHelper&zwnj;&#8203;.java:50) which is highlighting the getConnection"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1686885459,"post_id":76486585,"comment_id":134862820,"body_markdown":"JDBC should NEVER be used on a client device","body":"JDBC should NEVER be used on a client device"},{"owner":{"account_id":28741348,"reputation":1,"user_id":22011397,"display_name":"Umendran Muniandy"},"score":0,"creation_date":1686886826,"post_id":76486585,"comment_id":134862912,"body_markdown":"but it should still work right doesn&#39;t matter if its security or network traffic etc","body":"but it should still work right doesn&#39;t matter if its security or network traffic etc"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1686887567,"post_id":76486585,"comment_id":134862961,"body_markdown":"The full stack trace of your error is preferred. I would also state what tests you&#39;ve done to check that the emulator can see the MS SQL Server. I would also check the error logs of the MS SQL Server if anything notable can be found. Comments should be used to help clarify/improve the question. OP should add info to post as stack trace and other info should be a part of the question.","body":"The full stack trace of your error is preferred. I would also state what tests you&#39;ve done to check that the emulator can see the MS SQL Server. I would also check the error logs of the MS SQL Server if anything notable can be found. Comments should be used to help clarify/improve the question. OP should add info to post as stack trace and other info should be a part of the question."}],"answers":[{"tags":[],"owner":{"account_id":28741348,"reputation":1,"user_id":22011397,"display_name":"Umendran Muniandy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686890232,"creation_date":1686887791,"answer_id":76486876,"question_id":76486585,"body_markdown":"I have found the solution where I had to use strict mode in the databasehelper\r\nhere is the updated code:\r\n```\r\npublic DatabaseHelper(Context context) {\r\n    this.context= context;\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\n    try {\r\n        // Load the SQL Server JDBC driver\r\n        Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n        // Connect to the database\r\n        connection = DriverManager.getConnection(DATABASE_URL,DATABASE_USERNAME,DATABASE_PASSWORD);\r\n    } catch (ClassNotFoundException | SQLException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"Connect to SQL Server in Android","body":"<p>I have found the solution where I had to use strict mode in the databasehelper\nhere is the updated code:</p>\n<pre><code>public DatabaseHelper(Context context) {\n    this.context= context;\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n\n    try {\n        // Load the SQL Server JDBC driver\n        Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n        // Connect to the database\n        connection = DriverManager.getConnection(DATABASE_URL,DATABASE_USERNAME,DATABASE_PASSWORD);\n    } catch (ClassNotFoundException | SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28741348,"reputation":1,"user_id":22011397,"display_name":"Umendran Muniandy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686890232,"creation_date":1686882005,"question_id":76486585,"body_markdown":"I have already downloaded jtds and also jdbc and even put under my libs I have tried the `com.microsoft.sqlserver.jdbc.SQLServerDriver` and also `net.sourceforge.jtds.jdbc.Driver` still not working. I also added both in my dependencies in my `build.gradle` but still not working and I even gave permission to the Android manifest for it \r\n\r\nHere is my `build.gradle` file for the dependencies:\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    //implementation &#39;com.microsoft.sqlserver:mssql-jdbc:9.4.0.jre8&#39;\r\n    //implementation &#39;net.sourceforge.jtds:jtds:1.3.1&#39;\r\n    implementation files(&#39;libs/jtds-1.3.1.jar&#39;)\r\n    implementation &#39;com.microsoft.sqlserver:mssql-jdbc:12.2.0.jre8&#39;\r\n}\r\n```\r\n\r\nHere is the AndroidManifest.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.canteenmeal&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.CanteenMeal&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;action android:name=&quot;android.nfc.action.TECH_DISCOVERED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.AdminActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;!-- Define any necessary intent filters or other attributes for AdminActivity --&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.CanteenEmployeeActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;!-- Define any necessary intent filters or other attributes for CanteenEmployeeActivity --&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;!-- Other manifest entries --&gt;\r\n\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nThis is my DatabaseHelper.java:\r\n\r\n```\r\npublic class DatabaseHelper {\r\n\r\n    private static final String DATABASE_URL = &quot;jdbc:sqlserver://10.1.32.111:1433/PROD&quot;;\r\n    private static final String DATABASE_USERNAME = &quot;Sexy&quot;;\r\n    private static final String DATABASE_PASSWORD = &quot;sexy&quot;;\r\n\r\n    // Login table constants\r\n    private static final String TABLE_NAME = &quot;users&quot;;\r\n    private static final String COLUMN_USERNAME = &quot;username&quot;;\r\n    private static final String COLUMN_PASSWORD = &quot;password&quot;;\r\n\r\n    // Employee table constants\r\n    private static final String TABLE_EMPLOYEE = &quot;employee&quot;;\r\n    private static final String COLUMN_EMPLOYEE_VISA = &quot;visa&quot;;\r\n    private static final String COLUMN_EMPLOYEE_NAME = &quot;employeename&quot;;\r\n    private static final String COLUMN_EMPLOYEE_BADGE_NUMBER = &quot;badgenumber&quot;;\r\n\r\n    // Report table constants\r\n    private static final String TABLE_REPORT = &quot;reports&quot;;\r\n    private static final String COLUMN_REPORT_EMPLOYEE_VISA = &quot;visa&quot;;\r\n    private static final String COLUMN_REPORT_EMPLOYEE_NAME = &quot;employeename&quot;;\r\n    private static final String COLUMN_REPORT_EMPLOYEE_BADGE_NUMBER = &quot;badgenumber&quot;;\r\n    private static final String COLUMN_COLOUR = &quot;Colour&quot;;\r\n    private static final String COLUMN_DATE_TIME = &quot;Date_Time&quot;;\r\n\r\n    private Connection connection;\r\n    private Context context;\r\n\r\n    public DatabaseHelper(Context context) {\r\n        this.context= context;\r\n\r\n        try {\r\n            // Load the SQL Server JDBC driver\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            // Connect to the database\r\n            connection = DriverManager.getConnection(DATABASE_URL, DATABASE_USERNAME, DATABASE_PASSWORD);\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nI am sure that it has something has to do with the `getConnection` where its not working can someone help me please\r\n\r\n[Here are the details of the SQL server](https://i.stack.imgur.com/6zKxl.png)\r\n","title":"Connect to SQL Server in Android","body":"<p>I have already downloaded jtds and also jdbc and even put under my libs I have tried the <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code> and also <code>net.sourceforge.jtds.jdbc.Driver</code> still not working. I also added both in my dependencies in my <code>build.gradle</code> but still not working and I even gave permission to the Android manifest for it</p>\n<p>Here is my <code>build.gradle</code> file for the dependencies:</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    //implementation 'com.microsoft.sqlserver:mssql-jdbc:9.4.0.jre8'\n    //implementation 'net.sourceforge.jtds:jtds:1.3.1'\n    implementation files('libs/jtds-1.3.1.jar')\n    implementation 'com.microsoft.sqlserver:mssql-jdbc:12.2.0.jre8'\n}\n</code></pre>\n<p>Here is the AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.canteenmeal&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.CanteenMeal&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;action android:name=&quot;android.nfc.action.TECH_DISCOVERED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;.AdminActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;!-- Define any necessary intent filters or other attributes for AdminActivity --&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;.CanteenEmployeeActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;!-- Define any necessary intent filters or other attributes for CanteenEmployeeActivity --&gt;\n        &lt;/activity&gt;\n\n        &lt;!-- Other manifest entries --&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>This is my DatabaseHelper.java:</p>\n<pre><code>public class DatabaseHelper {\n\n    private static final String DATABASE_URL = &quot;jdbc:sqlserver://10.1.32.111:1433/PROD&quot;;\n    private static final String DATABASE_USERNAME = &quot;Sexy&quot;;\n    private static final String DATABASE_PASSWORD = &quot;sexy&quot;;\n\n    // Login table constants\n    private static final String TABLE_NAME = &quot;users&quot;;\n    private static final String COLUMN_USERNAME = &quot;username&quot;;\n    private static final String COLUMN_PASSWORD = &quot;password&quot;;\n\n    // Employee table constants\n    private static final String TABLE_EMPLOYEE = &quot;employee&quot;;\n    private static final String COLUMN_EMPLOYEE_VISA = &quot;visa&quot;;\n    private static final String COLUMN_EMPLOYEE_NAME = &quot;employeename&quot;;\n    private static final String COLUMN_EMPLOYEE_BADGE_NUMBER = &quot;badgenumber&quot;;\n\n    // Report table constants\n    private static final String TABLE_REPORT = &quot;reports&quot;;\n    private static final String COLUMN_REPORT_EMPLOYEE_VISA = &quot;visa&quot;;\n    private static final String COLUMN_REPORT_EMPLOYEE_NAME = &quot;employeename&quot;;\n    private static final String COLUMN_REPORT_EMPLOYEE_BADGE_NUMBER = &quot;badgenumber&quot;;\n    private static final String COLUMN_COLOUR = &quot;Colour&quot;;\n    private static final String COLUMN_DATE_TIME = &quot;Date_Time&quot;;\n\n    private Connection connection;\n    private Context context;\n\n    public DatabaseHelper(Context context) {\n        this.context= context;\n\n        try {\n            // Load the SQL Server JDBC driver\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n            // Connect to the database\n            connection = DriverManager.getConnection(DATABASE_URL, DATABASE_USERNAME, DATABASE_PASSWORD);\n        } catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I am sure that it has something has to do with the <code>getConnection</code> where its not working can someone help me please</p>\n<p><a href=\"https://i.stack.imgur.com/6zKxl.png\" rel=\"nofollow noreferrer\">Here are the details of the SQL server</a></p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686873375,"post_id":76486075,"comment_id":134861871,"body_markdown":"Just to verify that you are using the tools correctly, you could try typing in and running a Hello World program; e.g. the one in [Lesson 1: The hello world application](https://docs.oracle.com/javase/tutorial/getStarted/cupojava/index.html).  If you can get it to say &quot;Hello World&quot; you are compiling and running it correctly.","body":"Just to verify that you are using the tools correctly, you could try typing in and running a Hello World program; e.g. the one in <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/cupojava/index.html\" rel=\"nofollow noreferrer\">Lesson 1: The hello world application</a>.  If you can get it to say &quot;Hello World&quot; you are compiling and running it correctly."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686872191,"creation_date":1686872191,"answer_id":76486107,"question_id":76486075,"body_markdown":"The console is displaying the command used to execute your program; your program does not currently *output* anything.\r\n\r\n    areaObject(10, 12, 8, 6);\r\n\r\nGets the area but does nothing with it. Presumably you want to display the result like\r\n\r\n    System.out.println(areaObject(10, 12, 8, 6));\r\n\r\nWhich outputs\r\n\r\n    132.0\r\n\r\nThe second program also outputs nothing.\r\n\r\n    System.out.println(addition(2, 3));\r\n\r\nWould output\r\n\r\n    5.0","title":"Java code gives no output, returns &quot;java -classpath .:target/dependency/* Main&quot;","body":"<p>The console is displaying the command used to execute your program; your program does not currently <em>output</em> anything.</p>\n<pre><code>areaObject(10, 12, 8, 6);\n</code></pre>\n<p>Gets the area but does nothing with it. Presumably you want to display the result like</p>\n<pre><code>System.out.println(areaObject(10, 12, 8, 6));\n</code></pre>\n<p>Which outputs</p>\n<pre><code>132.0\n</code></pre>\n<p>The second program also outputs nothing.</p>\n<pre><code>System.out.println(addition(2, 3));\n</code></pre>\n<p>Would output</p>\n<pre><code>5.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28831409,"reputation":1,"user_id":22081723,"display_name":"Mayank Jindal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686889767,"creation_date":1686889767,"answer_id":76486964,"question_id":76486075,"body_markdown":"You can use\r\n\r\nSystem.out.println(areaObject(10, 12, 8, 6));\r\n\r\nand\r\n\r\nSystem.out.println(addition(2, 3));\r\n","title":"Java code gives no output, returns &quot;java -classpath .:target/dependency/* Main&quot;","body":"<p>You can use</p>\n<p>System.out.println(areaObject(10, 12, 8, 6));</p>\n<p>and</p>\n<p>System.out.println(addition(2, 3));</p>\n"}],"owner":{"account_id":26962995,"reputation":1,"user_id":20530366,"display_name":"ThatWeirdLittleKid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686889767,"creation_date":1686871519,"question_id":76486075,"body_markdown":"I&#39;m trying to create Java code that will find the area of the following sketch:\r\n[I&#39;m trying to find the area of this shape](https://i.stack.imgur.com/8yNVa.jpg)\r\n\r\nHowever, my code (after debugging) returns the following in the console: \r\n    `java -classpath .:target/dependency/* Main`\r\n\r\nHere is the code that I tried to run:\r\n```\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    areaObject(10, 12, 8, 6);\r\n  }\r\n  \r\n  static double areaObject(double rectangleLength, double rectangleWidth, double triangleHeight, double missingTriangleHeight){\r\n    double rectangleArea = rectangleLength * rectangleWidth;\r\n    double triangleArea = 0.5* triangleHeight * rectangleWidth;\r\n    double missingTriangleArea = 0.5 * rectangleWidth * missingTriangleHeight;\r\n    return rectangleArea + triangleArea - missingTriangleArea;\r\n  }\r\n}\r\n```\r\n\r\nI just started learning Java and decided to try and go back to the basics, and tried to add two numbers with functions. However, the code returned the same response; \r\n\r\n`java -classpath .:target/dependency/* Main`\r\n\r\nHere is the code for adding two numbers:\r\n\r\n```\r\nclass Main{\r\n  public static double addition(double firstNum, double secondNum){\r\n    return firstNum + secondNum;\r\n  }\r\n  public static void main(String[] args) {\r\n    addition(2, 3);\r\n  }\r\n}\r\n\r\n```\r\n\r\nI&#39;m sorry if I&#39;m slandering Java syntax or breaking lots of Java rules; I am new to Java and just started learning. Thank you!","title":"Java code gives no output, returns &quot;java -classpath .:target/dependency/* Main&quot;","body":"<p>I'm trying to create Java code that will find the area of the following sketch:\n<a href=\"https://i.stack.imgur.com/8yNVa.jpg\" rel=\"nofollow noreferrer\">I'm trying to find the area of this shape</a></p>\n<p>However, my code (after debugging) returns the following in the console:\n<code>java -classpath .:target/dependency/* Main</code></p>\n<p>Here is the code that I tried to run:</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    areaObject(10, 12, 8, 6);\n  }\n  \n  static double areaObject(double rectangleLength, double rectangleWidth, double triangleHeight, double missingTriangleHeight){\n    double rectangleArea = rectangleLength * rectangleWidth;\n    double triangleArea = 0.5* triangleHeight * rectangleWidth;\n    double missingTriangleArea = 0.5 * rectangleWidth * missingTriangleHeight;\n    return rectangleArea + triangleArea - missingTriangleArea;\n  }\n}\n</code></pre>\n<p>I just started learning Java and decided to try and go back to the basics, and tried to add two numbers with functions. However, the code returned the same response;</p>\n<p><code>java -classpath .:target/dependency/* Main</code></p>\n<p>Here is the code for adding two numbers:</p>\n<pre><code>class Main{\n  public static double addition(double firstNum, double secondNum){\n    return firstNum + secondNum;\n  }\n  public static void main(String[] args) {\n    addition(2, 3);\n  }\n}\n\n</code></pre>\n<p>I'm sorry if I'm slandering Java syntax or breaking lots of Java rules; I am new to Java and just started learning. Thank you!</p>\n"},{"tags":["java","ssl","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686889057,"creation_date":1686109621,"answer_id":76419784,"question_id":76415953,"body_markdown":"BCJSSE has not yet added the new `SSLParameters` methods; I will look at adding them now. I would expect similar methods to then also be backwardly available (i.e. in all supported JDK versions) via our extension API.\r\n\r\nAlso, just to clarify, BCJSSE supports the jdk.tls.namedGroups property always (no JDK or BCJSSE version dependency).\r\n\r\nIn the meantime it should be possible to subclass `JcaTlsCrypto` and override `hasNamedGroup()`. To enable this in your provider instance, subclass also `JcaTlsCryptoProvider` and override `create(SecureRandom, SecureRandom)` to create an instance of your JcaTlsCrypto subclass.\r\n\r\nFinally, either pass your JcaTlsCryptoProvider to `BouncyCastleJsseProvider(boolean, JcaTlsCryptoProvider)` constructor or if you are using java.security configuration use the config string to name your JcaTlsCryptoProvider subclass.\r\n\r\nUPDATE:\r\n\r\nWe just released 1.74 which contains support for the new `SSLParameters` properties. In earlier Java versions you would need to access the functionality though our extension API. e.g. cast `SSLSocket` to `org.bouncycastle.jsse.BCSSLSocket` and call `BCSSLSocket#setParameters(BCSSLParameters)` after using `BCSSLParameters#setNamedGroups`.","title":"BouncyCastle JsseProvider configure named groups without modifying jdk.tls.namedGroups","body":"<p>BCJSSE has not yet added the new <code>SSLParameters</code> methods; I will look at adding them now. I would expect similar methods to then also be backwardly available (i.e. in all supported JDK versions) via our extension API.</p>\n<p>Also, just to clarify, BCJSSE supports the jdk.tls.namedGroups property always (no JDK or BCJSSE version dependency).</p>\n<p>In the meantime it should be possible to subclass <code>JcaTlsCrypto</code> and override <code>hasNamedGroup()</code>. To enable this in your provider instance, subclass also <code>JcaTlsCryptoProvider</code> and override <code>create(SecureRandom, SecureRandom)</code> to create an instance of your JcaTlsCrypto subclass.</p>\n<p>Finally, either pass your JcaTlsCryptoProvider to <code>BouncyCastleJsseProvider(boolean, JcaTlsCryptoProvider)</code> constructor or if you are using java.security configuration use the config string to name your JcaTlsCryptoProvider subclass.</p>\n<p>UPDATE:</p>\n<p>We just released 1.74 which contains support for the new <code>SSLParameters</code> properties. In earlier Java versions you would need to access the functionality though our extension API. e.g. cast <code>SSLSocket</code> to <code>org.bouncycastle.jsse.BCSSLSocket</code> and call <code>BCSSLSocket#setParameters(BCSSLParameters)</code> after using <code>BCSSLParameters#setNamedGroups</code>.</p>\n"}],"owner":{"account_id":4326534,"reputation":422,"user_id":3533210,"display_name":"tobhai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76419784,"answer_count":1,"score":0,"last_activity_date":1686889057,"creation_date":1686063598,"question_id":76415953,"body_markdown":"Is it possible to configure the BouncyCastleJsseProvider to use a specific elliptic curve without modifying the system property ```jdk.tls.namedGroups``` in Java 17?\r\n\r\n\r\nI need an ```SSLContext``` supporting only a specific curve. Ideally this should be achievable without tinkering with the system property to not interfere with other TLS connections.\r\n\r\nJava 20 [adds support for this configuration][1] via the ```SSLParameters``` but updating to Java 20 is not a real option for now.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8291950","title":"BouncyCastle JsseProvider configure named groups without modifying jdk.tls.namedGroups","body":"<p>Is it possible to configure the BouncyCastleJsseProvider to use a specific elliptic curve without modifying the system property <code>jdk.tls.namedGroups</code> in Java 17?</p>\n<p>I need an <code>SSLContext</code> supporting only a specific curve. Ideally this should be achievable without tinkering with the system property to not interfere with other TLS connections.</p>\n<p>Java 20 <a href=\"https://bugs.openjdk.org/browse/JDK-8291950\" rel=\"nofollow noreferrer\">adds support for this configuration</a> via the <code>SSLParameters</code> but updating to Java 20 is not a real option for now.</p>\n"},{"tags":["java","gradle","build.gradle","shadowjar","gradle-shadow-plugin"],"answers":[{"tags":[],"owner":{"account_id":26165906,"reputation":1,"user_id":19851730,"display_name":"Narnianknight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686889051,"creation_date":1686889051,"answer_id":76486932,"question_id":76478708,"body_markdown":"I had to relocate `org.apache`. I suppose it interfered with an existing dependency. The reason this didn&#39;t work before was that I was using an nonexistent `gradle.properties` placeholder.\r\n```java\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            name = &quot;forge&quot;\r\n            url = &quot;https://files.minecraftforge.net/maven&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &quot;net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT&quot;\r\n    }\r\n}\r\nplugins {\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;4.0.4&quot;\r\n    id &quot;java&quot;\r\n}\r\napply plugin: &quot;net.minecraftforge.gradle.forge&quot;\r\nrepositories {\r\n    jcenter()\r\n}\r\nconfigurations {\r\n    shade\r\n    implementation.extendsFrom shade\r\n}\r\ndependencies {\r\n    shade &quot;org.apache.httpcomponents:httpasyncclient:4.1.5&quot;\r\n}\r\nshadowJar {\r\n    classifier = &quot;&quot;\r\n    configurations = [project.configurations.shade]\r\n    relocate(&quot;org.apache&quot;, &quot;${group}.org.apache&quot;)\r\n}\r\nreobf {\r\n    shadowJar {}\r\n}\r\nshadowJar.finalizedBy(&#39;reobfShadowJar&#39;)\r\ncompileJava {\r\n    sourceCompatibility = targetCompatibility = &quot;1.8&quot;\r\n}\r\narchivesBaseName = &quot;${mod_id}&quot;\r\nversion = &quot;${mod_version}&quot;\r\ngroup = &quot;${group}&quot;\r\nminecraft {\r\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\r\n    runDir = &quot;run&quot;\r\n    replace &quot;@VERSION@&quot;, project.version\r\n    replaceIn &quot;HighpixelSpeed.java&quot;\r\n    mappings = &quot;stable_22&quot;\r\n}\r\nprocessResources {\r\n    inputs.property &quot;mod_version&quot;, project.version\r\n    inputs.property &quot;mc_version&quot;, project.minecraft.version\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        include &quot;mcmod.info&quot;\r\n        expand &quot;mod_id&quot;:&quot;${mod_id}&quot;,\r\n                &quot;mod_name&quot;:&quot;${mod_name}&quot;,\r\n                &quot;mod_version&quot;:&quot;${mod_version}&quot;,\r\n                &quot;mod_description&quot;:&quot;${mod_description}&quot;,\r\n                &quot;mc_version&quot;:&quot;${mc_version}&quot;\r\n    }\r\n\r\n    // copy everything else, thats not the mcmod.info\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        exclude &quot;mcmod.info&quot;\r\n    }\r\n}\r\n```","title":"Gradle Shadow plugin dependencies are not detected at runtime","body":"<p>I had to relocate <code>org.apache</code>. I suppose it interfered with an existing dependency. The reason this didn't work before was that I was using an nonexistent <code>gradle.properties</code> placeholder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>buildscript {\n    repositories {\n        jcenter()\n        maven {\n            name = &quot;forge&quot;\n            url = &quot;https://files.minecraftforge.net/maven&quot;\n        }\n    }\n    dependencies {\n        classpath &quot;net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT&quot;\n    }\n}\nplugins {\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;4.0.4&quot;\n    id &quot;java&quot;\n}\napply plugin: &quot;net.minecraftforge.gradle.forge&quot;\nrepositories {\n    jcenter()\n}\nconfigurations {\n    shade\n    implementation.extendsFrom shade\n}\ndependencies {\n    shade &quot;org.apache.httpcomponents:httpasyncclient:4.1.5&quot;\n}\nshadowJar {\n    classifier = &quot;&quot;\n    configurations = [project.configurations.shade]\n    relocate(&quot;org.apache&quot;, &quot;${group}.org.apache&quot;)\n}\nreobf {\n    shadowJar {}\n}\nshadowJar.finalizedBy('reobfShadowJar')\ncompileJava {\n    sourceCompatibility = targetCompatibility = &quot;1.8&quot;\n}\narchivesBaseName = &quot;${mod_id}&quot;\nversion = &quot;${mod_version}&quot;\ngroup = &quot;${group}&quot;\nminecraft {\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\n    runDir = &quot;run&quot;\n    replace &quot;@VERSION@&quot;, project.version\n    replaceIn &quot;HighpixelSpeed.java&quot;\n    mappings = &quot;stable_22&quot;\n}\nprocessResources {\n    inputs.property &quot;mod_version&quot;, project.version\n    inputs.property &quot;mc_version&quot;, project.minecraft.version\n    from(sourceSets.main.resources.srcDirs) {\n        include &quot;mcmod.info&quot;\n        expand &quot;mod_id&quot;:&quot;${mod_id}&quot;,\n                &quot;mod_name&quot;:&quot;${mod_name}&quot;,\n                &quot;mod_version&quot;:&quot;${mod_version}&quot;,\n                &quot;mod_description&quot;:&quot;${mod_description}&quot;,\n                &quot;mc_version&quot;:&quot;${mc_version}&quot;\n    }\n\n    // copy everything else, thats not the mcmod.info\n    from(sourceSets.main.resources.srcDirs) {\n        exclude &quot;mcmod.info&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26165906,"reputation":1,"user_id":19851730,"display_name":"Narnianknight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686889051,"creation_date":1686796341,"question_id":76478708,"body_markdown":"I am building a mod jar. I need an external library to be included in the final jar (org.apache.httpcomponents:httpasyncclient:4.1.5). I am using the Shadow plugin to make the fat jar. However, I cannot get the dependencies to be included properly.\r\n\r\nHere is my `build.gradle`:\r\n\r\n```java\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            name = &quot;forge&quot;\r\n            url = &quot;https://files.minecraftforge.net/maven&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &quot;net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT&quot;\r\n    }\r\n}\r\nplugins {\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;4.0.4&quot;\r\n    id &quot;java&quot;\r\n}\r\napply plugin: &quot;net.minecraftforge.gradle.forge&quot;\r\n\r\nconfigurations {\r\n    shade\r\n    implementation.extendsFrom shade\r\n}\r\nrepositories {\r\n    jcenter()\r\n}\r\ndependencies {\r\n    compile &quot;org.apache.httpcomponents:httpasyncclient:4.1.5&quot;\r\n    shade &quot;org.apache.httpcomponents:httpasyncclient:4.1.5&quot;\r\n}\r\nshadowJar {\r\n    classifier = &#39;&#39;\r\n    configurations = [project.configurations.shade]\r\n    finalizedBy &#39;reobfShadowJar&#39;\r\n}\r\nreobf {\r\n    shadowJar {}\r\n}\r\ntasks.build.dependsOn reobfShadowJar\r\nshadowJar.finalizedBy(&#39;reobfShadowJar&#39;)\r\ncompileJava {\r\n    sourceCompatibility = targetCompatibility = &quot;1.8&quot;\r\n}\r\narchivesBaseName = &quot;${mod_id}&quot;\r\nversion = &quot;${mod_version}&quot;\r\ngroup = &quot;com.&lt;modid&gt;.&lt;modid&gt;&quot;\r\nminecraft {\r\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\r\n    runDir = &quot;run&quot;\r\n    replace &quot;@VERSION@&quot;, project.version\r\n    replaceIn &quot;&lt;Modid&gt;.java&quot;\r\n    mappings = &quot;stable_22&quot;\r\n}\r\nprocessResources {\r\n    inputs.property &quot;mod_version&quot;, project.version\r\n    inputs.property &quot;mc_version&quot;, project.minecraft.version\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        include &quot;mcmod.info&quot;\r\n        expand &quot;mod_id&quot;:&quot;${mod_id}&quot;,\r\n                &quot;mod_name&quot;:&quot;${mod_name}&quot;,\r\n                &quot;mod_version&quot;:&quot;${mod_version}&quot;,\r\n                &quot;mod_description&quot;:&quot;${mod_description}&quot;,\r\n                &quot;mc_version&quot;:&quot;${mc_version}&quot;\r\n    }\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        exclude &quot;mcmod.info&quot;\r\n    }\r\n}\r\n```\r\nWhen I run the &quot;Minecraft Client&quot; run configuration in IDEA, everything works as expected. However, when I run `gradlew build`, at runtime, I get `Error: net.minecraftforge.fml.common.LoaderException: java.lang.NoClassDefFoundError: /org/apache/http/concurrent/FutureCallback`.\r\nWhy can&#39;t the mod loader find the classes, even though they are in the jar? (I might be doing this completely wrong).","title":"Gradle Shadow plugin dependencies are not detected at runtime","body":"<p>I am building a mod jar. I need an external library to be included in the final jar (org.apache.httpcomponents:httpasyncclient:4.1.5). I am using the Shadow plugin to make the fat jar. However, I cannot get the dependencies to be included properly.</p>\n<p>Here is my <code>build.gradle</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>buildscript {\n    repositories {\n        jcenter()\n        maven {\n            name = &quot;forge&quot;\n            url = &quot;https://files.minecraftforge.net/maven&quot;\n        }\n    }\n    dependencies {\n        classpath &quot;net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT&quot;\n    }\n}\nplugins {\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;4.0.4&quot;\n    id &quot;java&quot;\n}\napply plugin: &quot;net.minecraftforge.gradle.forge&quot;\n\nconfigurations {\n    shade\n    implementation.extendsFrom shade\n}\nrepositories {\n    jcenter()\n}\ndependencies {\n    compile &quot;org.apache.httpcomponents:httpasyncclient:4.1.5&quot;\n    shade &quot;org.apache.httpcomponents:httpasyncclient:4.1.5&quot;\n}\nshadowJar {\n    classifier = ''\n    configurations = [project.configurations.shade]\n    finalizedBy 'reobfShadowJar'\n}\nreobf {\n    shadowJar {}\n}\ntasks.build.dependsOn reobfShadowJar\nshadowJar.finalizedBy('reobfShadowJar')\ncompileJava {\n    sourceCompatibility = targetCompatibility = &quot;1.8&quot;\n}\narchivesBaseName = &quot;${mod_id}&quot;\nversion = &quot;${mod_version}&quot;\ngroup = &quot;com.&lt;modid&gt;.&lt;modid&gt;&quot;\nminecraft {\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\n    runDir = &quot;run&quot;\n    replace &quot;@VERSION@&quot;, project.version\n    replaceIn &quot;&lt;Modid&gt;.java&quot;\n    mappings = &quot;stable_22&quot;\n}\nprocessResources {\n    inputs.property &quot;mod_version&quot;, project.version\n    inputs.property &quot;mc_version&quot;, project.minecraft.version\n    from(sourceSets.main.resources.srcDirs) {\n        include &quot;mcmod.info&quot;\n        expand &quot;mod_id&quot;:&quot;${mod_id}&quot;,\n                &quot;mod_name&quot;:&quot;${mod_name}&quot;,\n                &quot;mod_version&quot;:&quot;${mod_version}&quot;,\n                &quot;mod_description&quot;:&quot;${mod_description}&quot;,\n                &quot;mc_version&quot;:&quot;${mc_version}&quot;\n    }\n    from(sourceSets.main.resources.srcDirs) {\n        exclude &quot;mcmod.info&quot;\n    }\n}\n</code></pre>\n<p>When I run the &quot;Minecraft Client&quot; run configuration in IDEA, everything works as expected. However, when I run <code>gradlew build</code>, at runtime, I get <code>Error: net.minecraftforge.fml.common.LoaderException: java.lang.NoClassDefFoundError: /org/apache/http/concurrent/FutureCallback</code>.\nWhy can't the mod loader find the classes, even though they are in the jar? (I might be doing this completely wrong).</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686888282,"creation_date":1686888282,"answer_id":76486894,"question_id":76486788,"body_markdown":"im not sure what url you want to hit but i believe `.authenticated()` is causing spring to want to authenticate you\r\n\r\ni would say to check out [this response][1], they do a good job explaining how to enable/disable security for specific endpoints\r\n\r\nhope this helps\r\n\r\n  [1]: https://stackoverflow.com/a/57578627/22080520","title":"Spring security login is still coming even after I used permit all","body":"<p>im not sure what url you want to hit but i believe <code>.authenticated()</code> is causing spring to want to authenticate you</p>\n<p>i would say to check out <a href=\"https://stackoverflow.com/a/57578627/22080520\">this response</a>, they do a good job explaining how to enable/disable security for specific endpoints</p>\n<p>hope this helps</p>\n"}],"owner":{"account_id":28286294,"reputation":17,"user_id":21627193,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76486894,"answer_count":1,"score":0,"last_activity_date":1686888282,"creation_date":1686886049,"question_id":76486788,"body_markdown":"I am very new to spring security. I am building a project which has login logout feature. I did the configuration as told in the tutorials but is still not allowing to access directly without login. \r\nAnd most of the methods which i use says that it is marked for \r\ndeprecated or marked for removal.\r\nI will be grateful if anyone can guide me\r\n\r\n\r\nI also noticed that it is not generating the default username and password for login\r\n\r\n\r\n```\r\npackage com.example.covidsurvey.config;\r\n\r\nimport org.apache.catalina.security.SecurityConfig;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MyConfig {\r\n    @Bean\r\n    public UserDetailsService getUserDetailServices() {\r\n        return new UserDetailServiceImpl();\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setUserDetailsService(this.getUserDetailServices());\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return daoAuthenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/admin/**&quot;).permitAll()\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/user/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .formLogin();\r\n\r\n\r\n        return httpSecurity.build();\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n","title":"Spring security login is still coming even after I used permit all","body":"<p>I am very new to spring security. I am building a project which has login logout feature. I did the configuration as told in the tutorials but is still not allowing to access directly without login.\nAnd most of the methods which i use says that it is marked for\ndeprecated or marked for removal.\nI will be grateful if anyone can guide me</p>\n<p>I also noticed that it is not generating the default username and password for login</p>\n<pre><code>package com.example.covidsurvey.config;\n\nimport org.apache.catalina.security.SecurityConfig;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class MyConfig {\n    @Bean\n    public UserDetailsService getUserDetailServices() {\n        return new UserDetailServiceImpl();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(this.getUserDetailServices());\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        return daoAuthenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/admin/**&quot;).permitAll()\n                .and()\n                .authorizeHttpRequests().requestMatchers(&quot;/user/**&quot;).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin();\n\n\n        return httpSecurity.build();\n\n    }\n\n\n}\n\n\n</code></pre>\n"},{"tags":["java","docker","nginx","spring-security"],"comments":[{"owner":{"account_id":6014322,"reputation":7624,"user_id":4723732,"accept_rate":93,"display_name":"Richard Rublev"},"score":0,"creation_date":1686816431,"post_id":76480004,"comment_id":134852100,"body_markdown":"show us dockerfile.","body":"show us dockerfile."},{"owner":{"account_id":10526784,"reputation":35,"user_id":7757559,"display_name":"Mike Toleds"},"score":0,"creation_date":1686846802,"post_id":76480004,"comment_id":134857610,"body_markdown":"i have updated above and added Dockerfile and docker-compose.yaml content","body":"i have updated above and added Dockerfile and docker-compose.yaml content"}],"owner":{"account_id":10526784,"reputation":35,"user_id":7757559,"display_name":"Mike Toleds"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686887406,"creation_date":1686813401,"question_id":76480004,"body_markdown":"I have a Springboot app running behind Nginx whereby upon load of the screen, the ui will invoke the springboot endpoint (PermitAll - no auth required) and return data back to the client.  However, when accessing the endpoint, it returned 401 and 200 alternately.\r\n\r\nThe **Nginx** entry is quite simple.\r\n\r\n```\r\nlocation /v1/auth {\r\n    include /etc/nginx/shared.conf;\r\n    proxy_pass http://user-svc;\r\n}\r\n```\r\n\r\nthe **upstream** is\r\n\r\n```\r\nupstream user-svc {\r\n    server user-svc:8080;\r\n}\r\n```\r\n\r\nthe **shared.conf** looks like\r\n\r\n```\r\nerror_page 405 =200 $uri;\r\n# proxy_cache my_cache;\r\n# proxy_cache_valid 200 30s;\r\n# proxy_cache_methods GET HEAD POST;\r\n# proxy_cache_min_uses 1;\r\n# proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;\r\nproxy_cache_bypass $http_cache_control;\r\nproxy_no_cache $http_cache_control;\r\nproxy_cache off;\r\nproxy_redirect off;\r\nproxy_set_header Host $host;\r\nproxy_set_header X-Real-IP $remote_addr;\r\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n#proxy_set_header X-forwarded-Host $server_name;\r\nproxy_set_header X-Forwarded-Host $host:$server_port;\r\n```\r\n\r\n**Dockerfile**\r\n\r\n    FROM java-base-image as builder\r\n    WORKDIR /app\r\n    COPY pom.xml ./\r\n    COPY ./src ./src\r\n    RUN mvn -o clean install -DskipTests spring-boot:repackage\r\n    \r\n    FROM --platform=linux/amd64 jdk11-base-image\r\n    COPY --from=builder /app/target/user-svc-0.0.1-SNAPSHOT.jar /app/user-svc-0.0.1-SNAPSHOT.jar\r\n    EXPOSE 8080\r\n    WORKDIR /app\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;user-svc-0.0.1-SNAPSHOT.jar&quot;]\r\n\r\n\r\n**docker-compose.yaml**\r\n\r\n    version: &quot;3&quot;\r\n    services:\r\n      user-svc:\r\n        container_name: user-svc\r\n        image: user-svc:latest\r\n        expose:\r\n          - &quot;8080&quot;\r\n        networks:\r\n          - private-network\r\n        environment:\r\n          TZ: Asia/Singapore\r\n          SERVER_PORT: 8080\r\n          DB_URL: jdbc:mysql://mysql-db:3306/user\r\n          DB_USER: root\r\n          DB_PASS: password\r\n    networks:\r\n      private-network:\r\n        external: true\r\n\r\n\r\nThe problem only occurred when accessing via Nginx.  Accessing it directly, via docker container or standalone (via Intellij) everything is working fine where http 200 is always returned.\r\n\r\nMy expectation is to received a 200 code always since this endpoint doesn&#39;t require any authentication at all.\r\n\r\nAny ideas what could be the problem?","title":"NGINX + Springboot (with Spring Security) 401 problem","body":"<p>I have a Springboot app running behind Nginx whereby upon load of the screen, the ui will invoke the springboot endpoint (PermitAll - no auth required) and return data back to the client.  However, when accessing the endpoint, it returned 401 and 200 alternately.</p>\n<p>The <strong>Nginx</strong> entry is quite simple.</p>\n<pre><code>location /v1/auth {\n    include /etc/nginx/shared.conf;\n    proxy_pass http://user-svc;\n}\n</code></pre>\n<p>the <strong>upstream</strong> is</p>\n<pre><code>upstream user-svc {\n    server user-svc:8080;\n}\n</code></pre>\n<p>the <strong>shared.conf</strong> looks like</p>\n<pre><code>error_page 405 =200 $uri;\n# proxy_cache my_cache;\n# proxy_cache_valid 200 30s;\n# proxy_cache_methods GET HEAD POST;\n# proxy_cache_min_uses 1;\n# proxy_cache_use_stale error timeout http_500 http_502 http_503 http_504;\nproxy_cache_bypass $http_cache_control;\nproxy_no_cache $http_cache_control;\nproxy_cache off;\nproxy_redirect off;\nproxy_set_header Host $host;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n#proxy_set_header X-forwarded-Host $server_name;\nproxy_set_header X-Forwarded-Host $host:$server_port;\n</code></pre>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM java-base-image as builder\nWORKDIR /app\nCOPY pom.xml ./\nCOPY ./src ./src\nRUN mvn -o clean install -DskipTests spring-boot:repackage\n\nFROM --platform=linux/amd64 jdk11-base-image\nCOPY --from=builder /app/target/user-svc-0.0.1-SNAPSHOT.jar /app/user-svc-0.0.1-SNAPSHOT.jar\nEXPOSE 8080\nWORKDIR /app\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;user-svc-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p><strong>docker-compose.yaml</strong></p>\n<pre><code>version: &quot;3&quot;\nservices:\n  user-svc:\n    container_name: user-svc\n    image: user-svc:latest\n    expose:\n      - &quot;8080&quot;\n    networks:\n      - private-network\n    environment:\n      TZ: Asia/Singapore\n      SERVER_PORT: 8080\n      DB_URL: jdbc:mysql://mysql-db:3306/user\n      DB_USER: root\n      DB_PASS: password\nnetworks:\n  private-network:\n    external: true\n</code></pre>\n<p>The problem only occurred when accessing via Nginx.  Accessing it directly, via docker container or standalone (via Intellij) everything is working fine where http 200 is always returned.</p>\n<p>My expectation is to received a 200 code always since this endpoint doesn't require any authentication at all.</p>\n<p>Any ideas what could be the problem?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":28802518,"reputation":1,"user_id":22059055,"display_name":"Arya Sujeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686885270,"creation_date":1686885270,"question_id":76486742,"body_markdown":"I want to save MerginMedia source in internal file .\r\nIn exo[enter image description here](https://i.stack.imgur.com/22Cad.png)player how can i do this.\r\n\r\n\r\n      MediaSource videoSource = new ProgressiveMediaSource\r\n               .Factory(new DefaultDataSource.Factory(this))\r\n                .createMediaSource(MediaItem.fromUri(Environment.getExternalStorageDirectory().getPath()+&quot;/&quot;+&quot;Aaaaaaa/a/video.mp4&quot;));\r\n        MediaSource audioSource = new ProgressiveMediaSource.Factory(new DefaultDataSource.Factory(this))\r\n                .createMediaSource(MediaItem.fromUri(Environment.getExternalStorageDirectory().getPath()+&quot;/&quot;+&quot;Aaaaaaa/a/audio.m4a&quot;));\r\n\r\n        MergingMediaSource mergedSource1111 = new MergingMediaSource(videoSource, audioSource);\r\n\r\n\r\n\r\nI want to save mergedSource1111  in internal memory please helps.","title":"I want to save MergingmediaSource into file","body":"<p>I want to save MerginMedia source in internal file .\nIn exo<a href=\"https://i.stack.imgur.com/22Cad.png\" rel=\"nofollow noreferrer\">enter image description here</a>player how can i do this.</p>\n<pre><code>  MediaSource videoSource = new ProgressiveMediaSource\n           .Factory(new DefaultDataSource.Factory(this))\n            .createMediaSource(MediaItem.fromUri(Environment.getExternalStorageDirectory().getPath()+&quot;/&quot;+&quot;Aaaaaaa/a/video.mp4&quot;));\n    MediaSource audioSource = new ProgressiveMediaSource.Factory(new DefaultDataSource.Factory(this))\n            .createMediaSource(MediaItem.fromUri(Environment.getExternalStorageDirectory().getPath()+&quot;/&quot;+&quot;Aaaaaaa/a/audio.m4a&quot;));\n\n    MergingMediaSource mergedSource1111 = new MergingMediaSource(videoSource, audioSource);\n</code></pre>\n<p>I want to save mergedSource1111  in internal memory please helps.</p>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686892238,"post_id":76486726,"comment_id":134863331,"body_markdown":"Have you tried non- breaking spaces there?","body":"Have you tried non- breaking spaces there?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686944369,"post_id":76486726,"comment_id":134873402,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28831046,"reputation":1,"user_id":22081461,"display_name":"superfans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686884918,"creation_date":1686884918,"question_id":76486726,"body_markdown":"In order to align the text in each line by column, sometimes it is necessary to add full-width spaces at the end of the line, but when I use itext7 to output pdf, the spaces at the end of the line will be cleared. How can I keep this space (the space must be full-width)? Please give me some advice, thank you!","title":"How to preserve the full-width spaces at the end of text lines when using itext 7?","body":"<p>In order to align the text in each line by column, sometimes it is necessary to add full-width spaces at the end of the line, but when I use itext7 to output pdf, the spaces at the end of the line will be cleared. How can I keep this space (the space must be full-width)? Please give me some advice, thank you!</p>\n"},{"tags":["java","multithreading","jvm","wait","notify"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1686883934,"post_id":76486638,"comment_id":134862706,"body_markdown":"Just as an aside, this sort of interleaving -- running one thread for a short amount of time, then waiting for another thread -- is almost always not something you&#39;d want to do in the real world.  Threads normally should be given a substantial amount of work to properly amortize their overhead.","body":"Just as an aside, this sort of interleaving -- running one thread for a short amount of time, then waiting for another thread -- is almost always not something you&#39;d want to do in the real world.  Threads normally should be given a substantial amount of work to properly amortize their overhead."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1686884061,"post_id":76486638,"comment_id":134862714,"body_markdown":"My first observation is that `counter` almost certainly needs to be `volatile` so each thread will see the updates.","body":"My first observation is that <code>counter</code> almost certainly needs to be <code>volatile</code> so each thread will see the updates."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686884233,"post_id":76486638,"comment_id":134862728,"body_markdown":"while (counter%2==1) it appears and other code a &quot;carbon copy&quot; of conditions. The threads appear carbon copies so meet same requirements on wait, so both sit there on the same condition. Better define the two conditions, and walk through your work sequencing to check it&#39;s one thread after the other.","body":"while (counter%2==1) it appears and other code a &quot;carbon copy&quot; of conditions. The threads appear carbon copies so meet same requirements on wait, so both sit there on the same condition. Better define the two conditions, and walk through your work sequencing to check it&#39;s one thread after the other."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686902032,"post_id":76486638,"comment_id":134864804,"body_markdown":"@markspace no, if there wasn’t the fundamental problem of using different objects for the synchronization, no `volatile` would be necessary.","body":"@markspace no, if there wasn’t the fundamental problem of using different objects for the synchronization, no <code>volatile</code> would be necessary."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1686924718,"post_id":76486638,"comment_id":134869647,"body_markdown":"@Holger Are you sure?  I think it&#39;s obvious that `counter` is updated by both threads (using `counter++`, no less) and must be made `volatile`.  That&#39;s not the only problem, the OP is using two locks which aren&#39;t updated by the other thread, but I&#39;m sure `counter` is a problem as well.","body":"@Holger Are you sure?  I think it&#39;s obvious that <code>counter</code> is updated by both threads (using <code>counter++</code>, no less) and must be made <code>volatile</code>.  That&#39;s not the only problem, the OP is using two locks which aren&#39;t updated by the other thread, but I&#39;m sure <code>counter</code> is a problem as well."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686925868,"post_id":76486638,"comment_id":134869938,"body_markdown":"@markspace when fixing the program, to use the same object for `synchronized` in both threads, the synchronization takes care of the memory visibility. With the correct synchronization, it’s impossible for the two threads to run at the same time here, as a thread can only return from `wait` when the other thread either left the `synchronized` block or entered `wait`, in other words, released the lock in some way, as returning from `wait` implies re-acquiring the lock. There is a *happens-before* relationship between releasing the lock and subsequent acquiring of the same lock.","body":"@markspace when fixing the program, to use the same object for <code>synchronized</code> in both threads, the synchronization takes care of the memory visibility. With the correct synchronization, it’s impossible for the two threads to run at the same time here, as a thread can only return from <code>wait</code> when the other thread either left the <code>synchronized</code> block or entered <code>wait</code>, in other words, released the lock in some way, as returning from <code>wait</code> implies re-acquiring the lock. There is a <i>happens-before</i> relationship between releasing the lock and subsequent acquiring of the same lock."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1686926616,"post_id":76486638,"comment_id":134870097,"body_markdown":"Ah, right.  `wait()` *synchronizes-with* just like exiting a `synchronized` block.  The spec mentions `wait()` under its *happens-before* section but not in the *synchronizes-with* section (17.4.5 vs 17.4.4).  Bad spec!  @Holger","body":"Ah, right.  <code>wait()</code> <i>synchronizes-with</i> just like exiting a <code>synchronized</code> block.  The spec mentions <code>wait()</code> under its <i>happens-before</i> section but not in the <i>synchronizes-with</i> section (17.4.5 vs 17.4.4).  Bad spec!  @Holger"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686884908,"creation_date":1686884908,"answer_id":76486725,"question_id":76486638,"body_markdown":"You have no synchronization between the two objects. Each of your two objects, `even` and `odd` synchronizes on its own self, waits on its own self, and notifies its own self. Or, more accurately, it _would_ notify its own self if it ever got to that point, but it doesn&#39;t get there because the other thread never notifies it.\r\n\r\nYou need to have both threads use the same object for synchronization. E.g.;\r\n\r\n``` lang-java\r\npublic class OddEven {\r\n    static final Object lock = new Object();\r\n    static int totalNos;\r\n    static int counter = 1;\r\n    static Runnable odd = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            synchronized (lock) {\r\n                ...\r\n                lock.wait();\r\n                ...\r\n                lock.notify();\r\n            }\r\n        }\r\n    }\r\n    .\r\n    .\r\n    .\r\n}\r\n```","title":"Thread is going in infinite wait state","body":"<p>You have no synchronization between the two objects. Each of your two objects, <code>even</code> and <code>odd</code> synchronizes on its own self, waits on its own self, and notifies its own self. Or, more accurately, it <em>would</em> notify its own self if it ever got to that point, but it doesn't get there because the other thread never notifies it.</p>\n<p>You need to have both threads use the same object for synchronization. E.g.;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OddEven {\n    static final Object lock = new Object();\n    static int totalNos;\n    static int counter = 1;\n    static Runnable odd = new Runnable() {\n        @Override\n        public void run() {\n            synchronized (lock) {\n                ...\n                lock.wait();\n                ...\n                lock.notify();\n            }\n        }\n    }\n    .\n    .\n    .\n}\n</code></pre>\n"}],"owner":{"account_id":28830995,"reputation":1,"user_id":22081422,"display_name":"Avenger"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686884908,"creation_date":1686883094,"question_id":76486638,"body_markdown":"Given an integer N, the task is to write a Java program to print the first N natural numbers in increasing order using two threads. However, the output is only showing the number 1 as the thread is going into an infinite loop and this is something the user could not debug.\r\n\r\n```java\r\npublic class OddEven {\r\n    static int totalNos;\r\n    static int counter = 1;\r\n    static Runnable odd = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            synchronized (this) {\r\n                while(counter &lt; totalNos) {\t\r\n                    while (counter%2==0) {\r\n                        try {\r\n                            wait();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    System.out.print(counter + &quot; &quot;);\r\n                    counter++;\r\n                    notify();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    \r\n    static Runnable even = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            synchronized (this) {\r\n                while(counter &lt; totalNos) {\r\n                    while (counter%2==1) {\r\n                        try {\r\n                            wait();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    System.out.print(counter + &quot; &quot;);\r\n                    counter++;\r\n                    notify();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter the total no&#39;s&quot;);\r\n        Scanner scObj = new Scanner(System.in);\r\n        totalNos = scObj.nextInt();\r\n        scObj.close();\r\n        Thread oddT1 = new Thread(odd);\r\n        Thread evenT1 = new Thread(even);\r\n        oddT1.start();\r\n        evenT1.start();\t \r\n      \r\n    }\r\n}\r\n```","title":"Thread is going in infinite wait state","body":"<p>Given an integer N, the task is to write a Java program to print the first N natural numbers in increasing order using two threads. However, the output is only showing the number 1 as the thread is going into an infinite loop and this is something the user could not debug.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OddEven {\n    static int totalNos;\n    static int counter = 1;\n    static Runnable odd = new Runnable() {\n        @Override\n        public void run() {\n            synchronized (this) {\n                while(counter &lt; totalNos) { \n                    while (counter%2==0) {\n                        try {\n                            wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                    System.out.print(counter + &quot; &quot;);\n                    counter++;\n                    notify();\n                }\n            }\n        }\n    };\n    \n    static Runnable even = new Runnable() {\n        @Override\n        public void run() {\n            synchronized (this) {\n                while(counter &lt; totalNos) {\n                    while (counter%2==1) {\n                        try {\n                            wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                    System.out.print(counter + &quot; &quot;);\n                    counter++;\n                    notify();\n                }\n            }\n        }\n    };\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Enter the total no's&quot;);\n        Scanner scObj = new Scanner(System.in);\n        totalNos = scObj.nextInt();\n        scObj.close();\n        Thread oddT1 = new Thread(odd);\n        Thread evenT1 = new Thread(even);\n        oddT1.start();\n        evenT1.start();  \n      \n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1686895318,"post_id":76486702,"comment_id":134863713,"body_markdown":"You need [multi-threading](https://gist.github.com/declank/8fce5a02e4b6bb572e7a)","body":"You need <a href=\"https://gist.github.com/declank/8fce5a02e4b6bb572e7a\" rel=\"nofollow noreferrer\">multi-threading</a>"}],"owner":{"account_id":28828482,"reputation":1,"user_id":22079493,"display_name":"ItsJoever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686884601,"creation_date":1686884601,"question_id":76486702,"body_markdown":"I have two classes that work fine if the server sends a message and the client replies before the server sends another one. For example, the server says &quot;Hello&quot; and the client responds with &quot;Hi&quot;. But if the server were to send &quot;Hello&quot; and then &quot;How are you?&quot;, the second message would not be sent until the client sends a message. Can I change this to allow multiple messages to be sent without a response first? \r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Server {\r\n   ServerSocket newServer;\r\n   Socket newSocket;\r\n   DataInputStream newInputStream;\r\n   DataOutputStream newOutputStream;\r\n   BufferedReader newReader;\r\n\r\n   public Server () {\r\n      try {\r\n         this.newServer = new ServerSocket(4444);\r\n         this.newSocket = newServer.accept();\r\n         this.newInputStream = new DataInputStream(newSocket.getInputStream());\r\n         this.newOutputStream = new DataOutputStream(newSocket.getOutputStream());\r\n         this.newReader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n      } catch (Exception e) {\r\n         System.out.println(e);\r\n      }\r\n   }\r\n\r\n   public void handleMessages () {\r\n      try {\r\n         String MessageReceived = &quot;&quot;;\r\n         String MessageSent;\r\n         while (!MessageReceived.equals(&quot;End Connection&quot;)) {\r\n            MessageReceived = newInputStream.readUTF();\r\n            System.out.println(&quot;Client says: &quot; + MessageReceived);\r\n            MessageSent = newReader.readLine();\r\n            newOutputStream.writeUTF(MessageSent + &quot;\\n&quot;);\r\n            newOutputStream.flush();\r\n         }\r\n         newInputStream.close();\r\n         newOutputStream.close();\r\n         newSocket.close();\r\n         newServer.close();\r\n      } catch (Exception e) {\r\n         System.out.println(e);\r\n      }\r\n   }\r\n\r\n   public static void main (String [] args) {\r\n      Server newServer = new Server ();\r\n      newServer.handleMessages();\r\n   }\r\n}\r\n```\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Client {\r\n   Socket newSocket;\r\n   DataInputStream newInputStream;\r\n   DataOutputStream newOutputStream;\r\n   BufferedReader newReader;\r\n\r\n   public Client () {\r\n      try {\r\n         newSocket = new Socket (&quot;localhost&quot;, 4444);\r\n         newInputStream = new DataInputStream(newSocket.getInputStream());\r\n         newOutputStream = new DataOutputStream(newSocket.getOutputStream());\r\n         newReader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n      } catch (Exception e) {\r\n         System.out.println(e);\r\n      }\r\n   }\r\n   public void handleMessages () {\r\n      try {\r\n         String MessageReceived;\r\n         String MessageSent = &quot;&quot;;\r\n         while (!MessageSent.equals(&quot;End Connection&quot;)) {\r\n            if (newInputStream.available() &gt; 0) {\r\n               MessageReceived = newInputStream.readUTF();\r\n               System.out.println(&quot;Server says: &quot; + MessageReceived);\r\n            }\r\n            if (newReader.ready()) {\r\n               MessageSent = newReader.readLine();\r\n               newOutputStream.writeUTF(MessageSent + &quot;\\n&quot;);\r\n               newOutputStream.flush();\r\n            }\r\n         }\r\n         newInputStream.close();\r\n         newOutputStream.close();\r\n         newSocket.close();\r\n      } catch (Exception e) {\r\n         System.out.println(e);\r\n      }\r\n   }\r\n   public static void main (String [] args) {\r\n      Client newClient = new Client ();\r\n      newClient.handleMessages();\r\n   }\r\n}\r\n\r\n```","title":"Java server not sending consecutive messages until message is received","body":"<p>I have two classes that work fine if the server sends a message and the client replies before the server sends another one. For example, the server says &quot;Hello&quot; and the client responds with &quot;Hi&quot;. But if the server were to send &quot;Hello&quot; and then &quot;How are you?&quot;, the second message would not be sent until the client sends a message. Can I change this to allow multiple messages to be sent without a response first?</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n   ServerSocket newServer;\n   Socket newSocket;\n   DataInputStream newInputStream;\n   DataOutputStream newOutputStream;\n   BufferedReader newReader;\n\n   public Server () {\n      try {\n         this.newServer = new ServerSocket(4444);\n         this.newSocket = newServer.accept();\n         this.newInputStream = new DataInputStream(newSocket.getInputStream());\n         this.newOutputStream = new DataOutputStream(newSocket.getOutputStream());\n         this.newReader = new BufferedReader(new InputStreamReader(System.in));\n\n      } catch (Exception e) {\n         System.out.println(e);\n      }\n   }\n\n   public void handleMessages () {\n      try {\n         String MessageReceived = &quot;&quot;;\n         String MessageSent;\n         while (!MessageReceived.equals(&quot;End Connection&quot;)) {\n            MessageReceived = newInputStream.readUTF();\n            System.out.println(&quot;Client says: &quot; + MessageReceived);\n            MessageSent = newReader.readLine();\n            newOutputStream.writeUTF(MessageSent + &quot;\\n&quot;);\n            newOutputStream.flush();\n         }\n         newInputStream.close();\n         newOutputStream.close();\n         newSocket.close();\n         newServer.close();\n      } catch (Exception e) {\n         System.out.println(e);\n      }\n   }\n\n   public static void main (String [] args) {\n      Server newServer = new Server ();\n      newServer.handleMessages();\n   }\n}\n</code></pre>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Client {\n   Socket newSocket;\n   DataInputStream newInputStream;\n   DataOutputStream newOutputStream;\n   BufferedReader newReader;\n\n   public Client () {\n      try {\n         newSocket = new Socket (&quot;localhost&quot;, 4444);\n         newInputStream = new DataInputStream(newSocket.getInputStream());\n         newOutputStream = new DataOutputStream(newSocket.getOutputStream());\n         newReader = new BufferedReader(new InputStreamReader(System.in));\n\n      } catch (Exception e) {\n         System.out.println(e);\n      }\n   }\n   public void handleMessages () {\n      try {\n         String MessageReceived;\n         String MessageSent = &quot;&quot;;\n         while (!MessageSent.equals(&quot;End Connection&quot;)) {\n            if (newInputStream.available() &gt; 0) {\n               MessageReceived = newInputStream.readUTF();\n               System.out.println(&quot;Server says: &quot; + MessageReceived);\n            }\n            if (newReader.ready()) {\n               MessageSent = newReader.readLine();\n               newOutputStream.writeUTF(MessageSent + &quot;\\n&quot;);\n               newOutputStream.flush();\n            }\n         }\n         newInputStream.close();\n         newOutputStream.close();\n         newSocket.close();\n      } catch (Exception e) {\n         System.out.println(e);\n      }\n   }\n   public static void main (String [] args) {\n      Client newClient = new Client ();\n      newClient.handleMessages();\n   }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686884078,"creation_date":1686884078,"answer_id":76486681,"question_id":76485027,"body_markdown":"You have defined **OAuth2 client** configuration: requests authorized with sessions, and response to requests with missing or invalid authorization with 302 status (redirected to login). This is fine to serve pages rendered on the server (Thymeleaf, JSF or whatever).\r\n\r\nREST endpoints should be configured as **OAuth2 resource server**: requests authorized with access tokens, no sessions, and response to requests with missing or invalid authorization with 401 (unauthorized).\r\n\r\nIf your application serves both server-side rendered pages and REST resources, then you should define two different security filter-chains: one with client configuration and the other one with resource server configuration.\r\n\r\nWhen you define more than one security filter-chain bean, those should be decorated with `@Order` to define in which order they are evaluated and all filter-chains but the last one in `@Order` should have a security matcher (something like `http.securityMatcher(&quot;/api/**&quot;)` for a resource server filter chain) to restrict it to the resources it should secure and give a chance to those with higher order to process the request (evaluated next if the security matcher didn&#39;t match).\r\n\r\nMore details in [my tutorials][1] (one is dedicated to apps serving both a REST API and a Thymeleaf client).\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"How to send different response for AJAX request if Authentication is required in Spring Boot","body":"<p>You have defined <strong>OAuth2 client</strong> configuration: requests authorized with sessions, and response to requests with missing or invalid authorization with 302 status (redirected to login). This is fine to serve pages rendered on the server (Thymeleaf, JSF or whatever).</p>\n<p>REST endpoints should be configured as <strong>OAuth2 resource server</strong>: requests authorized with access tokens, no sessions, and response to requests with missing or invalid authorization with 401 (unauthorized).</p>\n<p>If your application serves both server-side rendered pages and REST resources, then you should define two different security filter-chains: one with client configuration and the other one with resource server configuration.</p>\n<p>When you define more than one security filter-chain bean, those should be decorated with <code>@Order</code> to define in which order they are evaluated and all filter-chains but the last one in <code>@Order</code> should have a security matcher (something like <code>http.securityMatcher(&quot;/api/**&quot;)</code> for a resource server filter chain) to restrict it to the resources it should secure and give a chance to those with higher order to process the request (evaluated next if the security matcher didn't match).</p>\n<p>More details in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a> (one is dedicated to apps serving both a REST API and a Thymeleaf client).</p>\n"}],"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686884078,"creation_date":1686857915,"question_id":76485027,"body_markdown":"I have one application where I am using Spring Security and OAuth2 login. Everything is working. If the user is not logged in then it redirects user to login page as expected. However, this redirection is causing problem for `AJAX` request. Is there any way to send different response for `AJAX` request if user is not logged in. I tried something like this but it looks like `exceptionHandling` is not the right place to intercept such request.\r\n```\r\n@Bean\r\npublic SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n    return http\r\n            .authorizeExchange(authorizeExchangeSpec -&gt; {\r\n                authorizeExchangeSpec.anyExchange().authenticated();\r\n            })\r\n            .csrf(csrfSpec -&gt; {\r\n                csrfSpec.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse());\r\n            })\r\n            .logout(logoutSpec -&gt; {\r\n                logoutSpec.logoutSuccessHandler(oidcLogoutSuccessHandler(this.clientRegistrationRepository));\r\n            })\r\n            .oauth2Login(Customizer.withDefaults())\r\n            .exceptionHandling(exceptionHandlingSpec -&gt; {\r\n                exceptionHandlingSpec.authenticationEntryPoint((swe, e) -&gt; {\r\n                    // It seems its too late here to do such check none of the header have this? Eventhough `AJAX` request triggered this.\r\n                    if (swe.getRequest().getHeaders().containsKey(&quot;X-Requested-With&quot;)) {\r\n                        return Mono.fromRunnable(() -&gt; swe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED));\r\n                    }\r\n                });\r\n            })\r\n            .build();\r\n    }\r\n```","title":"How to send different response for AJAX request if Authentication is required in Spring Boot","body":"<p>I have one application where I am using Spring Security and OAuth2 login. Everything is working. If the user is not logged in then it redirects user to login page as expected. However, this redirection is causing problem for <code>AJAX</code> request. Is there any way to send different response for <code>AJAX</code> request if user is not logged in. I tried something like this but it looks like <code>exceptionHandling</code> is not the right place to intercept such request.</p>\n<pre><code>@Bean\npublic SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n    return http\n            .authorizeExchange(authorizeExchangeSpec -&gt; {\n                authorizeExchangeSpec.anyExchange().authenticated();\n            })\n            .csrf(csrfSpec -&gt; {\n                csrfSpec.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse());\n            })\n            .logout(logoutSpec -&gt; {\n                logoutSpec.logoutSuccessHandler(oidcLogoutSuccessHandler(this.clientRegistrationRepository));\n            })\n            .oauth2Login(Customizer.withDefaults())\n            .exceptionHandling(exceptionHandlingSpec -&gt; {\n                exceptionHandlingSpec.authenticationEntryPoint((swe, e) -&gt; {\n                    // It seems its too late here to do such check none of the header have this? Eventhough `AJAX` request triggered this.\n                    if (swe.getRequest().getHeaders().containsKey(&quot;X-Requested-With&quot;)) {\n                        return Mono.fromRunnable(() -&gt; swe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED));\n                    }\n                });\n            })\n            .build();\n    }\n</code></pre>\n"},{"tags":["java","ehcache","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1412761010,"creation_date":1412761010,"answer_id":26253665,"question_id":26245019,"body_markdown":"When using on-heap tier in Ehcache, keys and values are by reference. So any modification to the object will be reflected in the cache.","title":"Modifying the object changes the Ehcache value","body":"<p>When using on-heap tier in Ehcache, keys and values are by reference. So any modification to the object will be reflected in the cache.</p>\n"},{"tags":[],"owner":{"account_id":3622222,"reputation":1087,"user_id":3020667,"accept_rate":75,"display_name":"Kandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686882967,"creation_date":1686882967,"answer_id":76486630,"question_id":26245019,"body_markdown":"Yes this is how it works, its pass by reference as Louis commented above.\r\n\r\nThis behavior can be changed to make a new copy from cache by adding following configs to ehcache.xml file. refer[1]\r\n\r\n&gt; copyOnRead=&quot;true&quot;\r\n&gt; copyOnWrite=&quot;true&quot;\r\n\r\n eg:- \r\n\r\n    \t&lt;cache name=&quot;MyMethod&quot;\r\n\t\t   maxEntriesLocalHeap=&quot;2000&quot;\r\n\t\t   eternal=&quot;false&quot;\r\n\t\t   overflowToDisk=&quot;false&quot;\r\n\t\t   memoryStoreEvictionPolicy=&quot;LRU&quot;\r\n\t\t   copyOnRead=&quot;true&quot;\r\n\t\t   copyOnWrite=&quot;true&quot;\r\n\t\t   timeToLiveSeconds=&quot;86400&quot;/&gt;\r\n\r\nenjoy :)\r\n\r\nReference;\r\n  [1]: https://www.ehcache.org/generated/2.10.1/html/ehc-all/index.html#page/Ehcache_Documentation_Set%2Fco-cfgbasics_passing_copies.html%23","title":"Modifying the object changes the Ehcache value","body":"<p>Yes this is how it works, its pass by reference as Louis commented above.</p>\n<p>This behavior can be changed to make a new copy from cache by adding following configs to ehcache.xml file. refer[1]</p>\n<blockquote>\n<p>copyOnRead=&quot;true&quot;\ncopyOnWrite=&quot;true&quot;</p>\n</blockquote>\n<p>eg:-</p>\n<pre><code>    &lt;cache name=&quot;MyMethod&quot;\n       maxEntriesLocalHeap=&quot;2000&quot;\n       eternal=&quot;false&quot;\n       overflowToDisk=&quot;false&quot;\n       memoryStoreEvictionPolicy=&quot;LRU&quot;\n       copyOnRead=&quot;true&quot;\n       copyOnWrite=&quot;true&quot;\n       timeToLiveSeconds=&quot;86400&quot;/&gt;\n</code></pre>\n<p>enjoy :)</p>\n<p>Reference;\n[1]: <a href=\"https://www.ehcache.org/generated/2.10.1/html/ehc-all/index.html#page/Ehcache_Documentation_Set%2Fco-cfgbasics_passing_copies.html%23\" rel=\"nofollow noreferrer\">https://www.ehcache.org/generated/2.10.1/html/ehc-all/index.html#page/Ehcache_Documentation_Set%2Fco-cfgbasics_passing_copies.html%23</a></p>\n"}],"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26253665,"answer_count":2,"score":1,"last_activity_date":1686882967,"creation_date":1412714889,"question_id":26245019,"body_markdown":"        @Override\r\n    \t@Cacheable(value = &quot;user-cache&quot;, key = &quot;#login&quot;, unless = &quot;#result == null&quot;)\r\n    \tpublic User findUserByLogin(final String login)\r\n    \t{\r\n    \t\treturn em.find(User.class, login);\r\n    \t}\r\n\r\nIf i set the password to null for example like below. What i saw the cache value is also modified accordingly because in the next call the cache is hit and the password there is set to NULL. Is this the right behavior? Do i have to create a new object after every retrieval if i want to modify that object.I am talking modifying in regard to not changing in the database but on service level.\r\n\r\n        public User getUserByLogin(final String login)\r\n\t{\r\n\t\tfinal User user = userRepository.findUserByLogin(login);\r\n\t\tuser.setPassword(null);\r\n\t\treturn user;\r\n\t}","title":"Modifying the object changes the Ehcache value","body":"<pre><code>    @Override\n    @Cacheable(value = \"user-cache\", key = \"#login\", unless = \"#result == null\")\n    public User findUserByLogin(final String login)\n    {\n        return em.find(User.class, login);\n    }\n</code></pre>\n\n<p>If i set the password to null for example like below. What i saw the cache value is also modified accordingly because in the next call the cache is hit and the password there is set to NULL. Is this the right behavior? Do i have to create a new object after every retrieval if i want to modify that object.I am talking modifying in regard to not changing in the database but on service level.</p>\n\n<pre><code>    public User getUserByLogin(final String login)\n{\n    final User user = userRepository.findUserByLogin(login);\n    user.setPassword(null);\n    return user;\n}\n</code></pre>\n"},{"tags":["java","gradle","swagger","openapi","springdoc"],"owner":{"account_id":25042032,"reputation":21,"user_id":21092608,"display_name":"Настя"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686882959,"creation_date":1686856037,"question_id":76484802,"body_markdown":"When I run the app, an openapi yaml file is generated in target: projectName/build\r\n\r\nBut I wanna  generate yaml file in my own package named &#39;doc&#39; \r\n\r\n I have next dependency in build.gradle:\r\n\r\n``\r\n implementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:$openapiVersion&quot;\r\n``\r\n\r\nalso my code application.yaml:\r\n\r\n swagger/openapi settings\r\n```\r\nSpringdoc:\r\n  show-actuator: false\r\n  swagger-ui:\r\n    url: &quot;/v3/api-docs&quot;\r\n    deep-linking: true\r\n    display-operation-id: false\r\n    disable-swagger-default-url: true\r\n    default-models-expand-depth: -1\r\n    default-model-expand-depth: 1\r\n    default-model-rendering: example\r\n    display-request-duration: false\r\n    doc-expansion: none\r\n    filter: false\r\n    operations-sorter: alpha\r\n    show-extensions: false\r\n    show-common-extensions: false\r\n    syntax-highlight:\r\n      activated: true\r\n      theme: monokai\r\n```\r\n\r\n","title":"Set path to output directory for generated openapi yaml file using swagger and gradle","body":"<p>When I run the app, an openapi yaml file is generated in target: projectName/build</p>\n<p>But I wanna  generate yaml file in my own package named 'doc'</p>\n<p>I have next dependency in build.gradle:</p>\n<p><code>implementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:$openapiVersion&quot;</code></p>\n<p>also my code application.yaml:</p>\n<p>swagger/openapi settings</p>\n<pre><code>Springdoc:\n  show-actuator: false\n  swagger-ui:\n    url: &quot;/v3/api-docs&quot;\n    deep-linking: true\n    display-operation-id: false\n    disable-swagger-default-url: true\n    default-models-expand-depth: -1\n    default-model-expand-depth: 1\n    default-model-rendering: example\n    display-request-duration: false\n    doc-expansion: none\n    filter: false\n    operations-sorter: alpha\n    show-extensions: false\n    show-common-extensions: false\n    syntax-highlight:\n      activated: true\n      theme: monokai\n</code></pre>\n"},{"tags":["java","spring-boot","optimization","microservices","resttemplate"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1678343212,"post_id":75680995,"comment_id":133514592,"body_markdown":"I have never had the need to create multiple instances of RestTemplate as the upstream services usually have comparable response times and configurations. However, if you need separate configurations, creating additional rest templates for the odd services seems like a clean solution. I would evaluate this case-by-case but default to creating only one single RestTemplate.","body":"I have never had the need to create multiple instances of RestTemplate as the upstream services usually have comparable response times and configurations. However, if you need separate configurations, creating additional rest templates for the odd services seems like a clean solution. I would evaluate this case-by-case but default to creating only one single RestTemplate."},{"owner":{"account_id":13198960,"reputation":41,"user_id":9532751,"display_name":"Raj Talekar"},"score":0,"creation_date":1678344161,"post_id":75680995,"comment_id":133514760,"body_markdown":"@ODDminus1 Are you aware if there could be any downside of creating more rest template beans ?","body":"@ODDminus1 Are you aware if there could be any downside of creating more rest template beans ?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678345161,"post_id":75680995,"comment_id":133514972,"body_markdown":"Other than adding more objects to the memory of the app and diverging slightly from the singleton-pattern, there shouldn&#39;t really be any downsides. The memory-part is probably negligible. The main reason I&#39;d default to a single RestTemplate is only for code simplicity, avoiding issues related to mixing up beans of same class.","body":"Other than adding more objects to the memory of the app and diverging slightly from the singleton-pattern, there shouldn&#39;t really be any downsides. The memory-part is probably negligible. The main reason I&#39;d default to a single RestTemplate is only for code simplicity, avoiding issues related to mixing up beans of same class."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678342686,"creation_date":1678342686,"answer_id":75681025,"question_id":75680995,"body_markdown":"I would prefer to configure a separate `RestTemplate` for each service to configure timeouts, error handlers, and interceptors separately. Of course, you can inherit from a general parent and override what is needed. \r\n\r\nAlso, consider using [Spring Cloud Feign Client][1] which allows defining service-specific and default configurations in an easy way.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html","title":"What should be the best approach/practise when creating Rest Template beans for multiple upstream calls from a microservice","body":"<p>I would prefer to configure a separate <code>RestTemplate</code> for each service to configure timeouts, error handlers, and interceptors separately. Of course, you can inherit from a general parent and override what is needed.</p>\n<p>Also, consider using <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\" rel=\"nofollow noreferrer\">Spring Cloud Feign Client</a> which allows defining service-specific and default configurations in an easy way.</p>\n"},{"tags":[],"owner":{"account_id":13198960,"reputation":41,"user_id":9532751,"display_name":"Raj Talekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686882446,"creation_date":1686882446,"answer_id":76486605,"question_id":75680995,"body_markdown":"I did a small experiment project by sharing the rest template between two different microservice calls and made one of them latent. It did not impact the performance of another microservice call.\r\n\r\nI ended up creating a separate connection pool for each upstream call to make sure there are always enough number of connections for everyone.","title":"What should be the best approach/practise when creating Rest Template beans for multiple upstream calls from a microservice","body":"<p>I did a small experiment project by sharing the rest template between two different microservice calls and made one of them latent. It did not impact the performance of another microservice call.</p>\n<p>I ended up creating a separate connection pool for each upstream call to make sure there are always enough number of connections for everyone.</p>\n"}],"owner":{"account_id":13198960,"reputation":41,"user_id":9532751,"display_name":"Raj Talekar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76486605,"answer_count":2,"score":0,"last_activity_date":1686882446,"creation_date":1678342390,"question_id":75680995,"body_markdown":"Currently from our Spring based microservice, we make multiple calls to various other microservices. I wanted to understand what is the best practise of using the rest template bean, should we create a separate rest template bean for each upstream microservice ? Or should we just use a common rest template for all of them ? \r\n\r\nCould we gain advantages like isolation when using different rest template for each microservice ? meaning if 1 service is latent, it does not impact other services.\r\n\r\nCurrently we are using same rest template for all the services.\r\n","title":"What should be the best approach/practise when creating Rest Template beans for multiple upstream calls from a microservice","body":"<p>Currently from our Spring based microservice, we make multiple calls to various other microservices. I wanted to understand what is the best practise of using the rest template bean, should we create a separate rest template bean for each upstream microservice ? Or should we just use a common rest template for all of them ?</p>\n<p>Could we gain advantages like isolation when using different rest template for each microservice ? meaning if 1 service is latent, it does not impact other services.</p>\n<p>Currently we are using same rest template for all the services.</p>\n"},{"tags":["java","annotations","nullpointerexception","nullable","code-standards"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1353455980,"post_id":13484202,"comment_id":18450419,"body_markdown":"I like the idea of `@Nullable` or `@Nonnull`, but if they are worth it is very &quot;likely to solicit debate&quot;","body":"I like the idea of <code>@Nullable</code> or <code>@Nonnull</code>, but if they are worth it is very &quot;likely to solicit debate&quot;"},{"owner":{"account_id":1051720,"reputation":1538,"user_id":1055489,"accept_rate":40,"display_name":"Theodore Murdock"},"score":0,"creation_date":1394490221,"post_id":13484202,"comment_id":33905098,"body_markdown":"I think the way to move to a world where this causes a compiler error or warning is to require a cast to `@Nonnull` when calling an `@Nonnull` method with a nullable variable. Of course, casting with an annotation is not possible in Java 7, but Java 8 will be adding the ability to apply annotations to the use of a variable, including casts. So this may become possible to implement in Java 8.","body":"I think the way to move to a world where this causes a compiler error or warning is to require a cast to <code>@Nonnull</code> when calling an <code>@Nonnull</code> method with a nullable variable. Of course, casting with an annotation is not possible in Java 7, but Java 8 will be adding the ability to apply annotations to the use of a variable, including casts. So this may become possible to implement in Java 8."},{"owner":{"account_id":5853491,"reputation":8043,"user_id":4611488,"display_name":"Stephan Herrmann"},"score":2,"creation_date":1442614383,"post_id":13484202,"comment_id":53169944,"body_markdown":"@TheodoreMurdock, yes, in Java 8 a cast `(@NonNull Integer) y` is syntactically possible, but a compiler is not allowed to emit any specific byte code based on the annotation. For runtime assertions tiny helper methods are sufficient as discussed in https://bugs.eclipse.org/442103 (e.g., `directPathToA(assertNonNull(y))`) - but mind you, this only helps to fail fast. The only safe way is by performing an actual null check (plus hopefully an alternative implementation in the else branch).","body":"@TheodoreMurdock, yes, in Java 8 a cast <code>(@NonNull Integer) y</code> is syntactically possible, but a compiler is not allowed to emit any specific byte code based on the annotation. For runtime assertions tiny helper methods are sufficient as discussed in <a href=\"https://bugs.eclipse.org/442103\" rel=\"nofollow noreferrer\">bugs.eclipse.org/442103</a> (e.g., <code>directPathToA(assertNonNull(y))</code>) - but mind you, this only helps to fail fast. The only safe way is by performing an actual null check (plus hopefully an alternative implementation in the else branch)."},{"owner":{"account_id":1051720,"reputation":1538,"user_id":1055489,"accept_rate":40,"display_name":"Theodore Murdock"},"score":0,"creation_date":1442859651,"post_id":13484202,"comment_id":53247190,"body_markdown":"@StephanHerrmann Hmm, disappointing that a null check can&#39;t be emitted for the assertion to automatically fail fast without the helper method. I am happy to see from your new answer that the other piece has benefitted from the ability to perform a cast: it is now somewhat lower cost to have our compilers emit an &#39;unchecked conversion&#39; warning when we fail to assert that a value is `@NonNull` when calling a method that takes an `@NonNull` parameter, because we now have an easier way to make that assertion when necessary.","body":"@StephanHerrmann Hmm, disappointing that a null check can&#39;t be emitted for the assertion to automatically fail fast without the helper method. I am happy to see from your new answer that the other piece has benefitted from the ability to perform a cast: it is now somewhat lower cost to have our compilers emit an &#39;unchecked conversion&#39; warning when we fail to assert that a value is <code>@NonNull</code> when calling a method that takes an <code>@NonNull</code> parameter, because we now have an easier way to make that assertion when necessary."},{"owner":{"account_id":1708399,"reputation":8104,"user_id":1566990,"accept_rate":67,"display_name":"James Dunn"},"score":3,"creation_date":1486050366,"post_id":13484202,"comment_id":71188874,"body_markdown":"It would be helpful in this question to say which ```@Nonnull``` and ```@Nullable``` you are talking about, as there are multiple similar annoations (See **[this question](http://stackoverflow.com/questions/35892063/which-nonnull-java-annotation-to-use)**).  Are you talking about the annotations in package ```javax.annotation```?","body":"It would be helpful in this question to say which <code>@Nonnull</code> and <code>@Nullable</code> you are talking about, as there are multiple similar annoations (See <b><a href=\"http://stackoverflow.com/questions/35892063/which-nonnull-java-annotation-to-use\">this question</a></b>).  Are you talking about the annotations in package <code>javax.annotation</code>?"},{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":1,"creation_date":1486402955,"post_id":13484202,"comment_id":71319252,"body_markdown":"@TJamesBoone For the context of this question it does not matter, this was about how to use any of them effectively.","body":"@TJamesBoone For the context of this question it does not matter, this was about how to use any of them effectively."},{"owner":{"account_id":91981,"reputation":3055,"user_id":252308,"accept_rate":36,"display_name":"swooby"},"score":0,"creation_date":1489600471,"post_id":13484202,"comment_id":72746395,"body_markdown":"I don&#39;t mind writing the seemingly redundant and unnecessary &quot;void foo(@NonNull Object param1) { if (param1 == null) throw IllegalArgumentException(&#39;param1 must not be null&#39;) ... }&quot; to my code where appropriate, but my problem with this that the default lint rules flag the &quot;if&quot; check as unnecessary, where at runtime it really is necessary, and I don&#39;t trust that disabling the rule wouldn&#39;t have undesired side effects somewhere else in my code. Anyone have clean suggestions? I&#39;d love to implement the @NonNull annotation to throw a runtime exception if passed a null value during runtime.","body":"I don&#39;t mind writing the seemingly redundant and unnecessary &quot;void foo(@NonNull Object param1) { if (param1 == null) throw IllegalArgumentException(&#39;param1 must not be null&#39;) ... }&quot; to my code where appropriate, but my problem with this that the default lint rules flag the &quot;if&quot; check as unnecessary, where at runtime it really is necessary, and I don&#39;t trust that disabling the rule wouldn&#39;t have undesired side effects somewhere else in my code. Anyone have clean suggestions? I&#39;d love to implement the @NonNull annotation to throw a runtime exception if passed a null value during runtime."},{"owner":{"account_id":1233610,"reputation":2139,"user_id":1197682,"accept_rate":73,"display_name":"earizon"},"score":0,"creation_date":1497426770,"post_id":13484202,"comment_id":76068078,"body_markdown":"nulls are just plain wrong. The only reason to use nulls in a program according to &quot;todays&quot; standards is because we are receiving a pontentially nullable variable from a old (deprecated) library. The null must never &quot;scape&quot; a few lines of code, just to check if it&#39;s null and asign a proper value or throw an exception, and of course it must never be propagated outside of a local block of code or level of indirection.","body":"nulls are just plain wrong. The only reason to use nulls in a program according to &quot;todays&quot; standards is because we are receiving a pontentially nullable variable from a old (deprecated) library. The null must never &quot;scape&quot; a few lines of code, just to check if it&#39;s null and asign a proper value or throw an exception, and of course it must never be propagated outside of a local block of code or level of indirection."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1532740588,"post_id":13484202,"comment_id":90101004,"body_markdown":"related https://stackoverflow.com/questions/4963300","body":"related <a href=\"https://stackoverflow.com/questions/4963300\">stackoverflow.com/questions/4963300</a>"},{"owner":{"account_id":114118,"reputation":4732,"user_id":300236,"accept_rate":67,"display_name":"Brill Pappin"},"score":0,"creation_date":1559679746,"post_id":13484202,"comment_id":99494931,"body_markdown":"There is the concept of fail-fast, in that if @NonNull is ignored, you *want* an exception to be thrown, since you are declaring that null parameter is invalid at any time.","body":"There is the concept of fail-fast, in that if @NonNull is ignored, you <i>want</i> an exception to be thrown, since you are declaring that null parameter is invalid at any time."},{"owner":{"account_id":114116,"reputation":37500,"user_id":300224,"accept_rate":68,"display_name":"William Entriken"},"score":0,"creation_date":1565878206,"post_id":13484202,"comment_id":101490056,"body_markdown":"Coming from Swift and learning Java. It&#39;s like going VERY far back in time.","body":"Coming from Swift and learning Java. It&#39;s like going VERY far back in time."},{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":0,"creation_date":1565895745,"post_id":13484202,"comment_id":101497750,"body_markdown":"@WilliamEntriken If you have the option, you can mix Kotlin in with Java. Kotlin is very interoperable with Java and has a lot of the niceties you expect in Swift... also solves this problem https://stackoverflow.com/a/46290602/444639","body":"@WilliamEntriken If you have the option, you can mix Kotlin in with Java. Kotlin is very interoperable with Java and has a lot of the niceties you expect in Swift... also solves this problem <a href=\"https://stackoverflow.com/a/46290602/444639\">stackoverflow.com/a/46290602/444639</a>"}],"answers":[{"tags":[],"owner":{"account_id":2056281,"reputation":2456,"user_id":1833963,"display_name":"Pedro Boechat"},"down_vote_count":1,"up_vote_count":89,"is_accepted":false,"score":88,"last_activity_date":1677789153,"creation_date":1353461682,"answer_id":13485074,"question_id":13484202,"body_markdown":"Short answer: I guess these annotations are only useful for your IDE to warn you of potentially null pointer errors.\r\n\r\nAs said in the &quot;Clean Code&quot; book, you should check your public method&#39;s parameters and also avoid checking invariants.\r\n\r\nAnother good tip is never returning null value and use [Null Object Pattern][1] instead.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Null_Object_pattern","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>Short answer: I guess these annotations are only useful for your IDE to warn you of potentially null pointer errors.</p>\n<p>As said in the &quot;Clean Code&quot; book, you should check your public method's parameters and also avoid checking invariants.</p>\n<p>Another good tip is never returning null value and use <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"noreferrer\">Null Object Pattern</a> instead.</p>\n"},{"tags":[],"owner":{"account_id":23460,"reputation":176846,"user_id":58808,"accept_rate":78,"display_name":"Ionuț G. Stan"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1353461888,"creation_date":1353461888,"answer_id":13485101,"question_id":13484202,"body_markdown":"In Java I&#39;d use [Guava&#39;s Optional type][1]. Being an actual type you get compiler guarantees about its use. It&#39;s easy to bypass it and obtain a `NullPointerException`, but at least the signature of the method clearly communicates what it expects as an argument or what it might return.\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>In Java I'd use <a href=\"http://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained\" rel=\"nofollow\">Guava's Optional type</a>. Being an actual type you get compiler guarantees about its use. It's easy to bypass it and obtain a <code>NullPointerException</code>, but at least the signature of the method clearly communicates what it expects as an argument or what it might return.</p>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1611618621,"creation_date":1353488248,"answer_id":13489578,"question_id":13484202,"body_markdown":"Other than your IDE giving you hints when you pass `null` to methods that expect the argument to not be null, there are further advantages:\r\n\r\n - Static code analysis tools can test the same as your IDE (e.g. FindBugs)\r\n - You can use [Aspect-oriented programming (AOP)][1] to check these assertions\r\n\r\nThis can help your code be more maintainable (since you do not need `null` checks) and less error-prone.\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Aspect-oriented_programming","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>Other than your IDE giving you hints when you pass <code>null</code> to methods that expect the argument to not be null, there are further advantages:</p>\n<ul>\n<li>Static code analysis tools can test the same as your IDE (e.g. FindBugs)</li>\n<li>You can use <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"noreferrer\">Aspect-oriented programming (AOP)</a> to check these assertions</li>\n</ul>\n<p>This can help your code be more maintainable (since you do not need <code>null</code> checks) and less error-prone.</p>\n"},{"tags":[],"owner":{"account_id":5237934,"reputation":89,"user_id":4185938,"display_name":"Andres"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1441134771,"creation_date":1441089204,"answer_id":32324996,"question_id":13484202,"body_markdown":"I agree that the annotations &quot;don&#39;t propagate very far&quot;. However, I see the mistake on the programmer&#39;s side.\r\n\r\nI understand the `Nonnull` annotation as documentation. The following method expresses that is requires (as a precondition) a non-null argument `x`.\r\n\r\n        public void directPathToA(@Nonnull Integer x){\r\n            x.toString(); // do stuff to x        \r\n        }\r\n\r\n\r\nThe following code snippet then contains a bug. The method calls `directPathToA()` without enforcing that `y` is non-null (that is, it does not guarantee the precondition of the called method). One possibility is to add a `Nonnull` annotation as well to `indirectPathToA()` (propagating the precondition). Possibility two is to check for the nullity of `y` in `indirectPathToA()` and avoid the call to `directPathToA()` when `y` is null.\r\n\r\n        public void indirectPathToA(Integer y){\r\n            directPathToA(y);\r\n        }","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>I agree that the annotations \"don't propagate very far\". However, I see the mistake on the programmer's side.</p>\n\n<p>I understand the <code>Nonnull</code> annotation as documentation. The following method expresses that is requires (as a precondition) a non-null argument <code>x</code>.</p>\n\n<pre><code>    public void directPathToA(@Nonnull Integer x){\n        x.toString(); // do stuff to x        \n    }\n</code></pre>\n\n<p>The following code snippet then contains a bug. The method calls <code>directPathToA()</code> without enforcing that <code>y</code> is non-null (that is, it does not guarantee the precondition of the called method). One possibility is to add a <code>Nonnull</code> annotation as well to <code>indirectPathToA()</code> (propagating the precondition). Possibility two is to check for the nullity of <code>y</code> in <code>indirectPathToA()</code> and avoid the call to <code>directPathToA()</code> when <code>y</code> is null.</p>\n\n<pre><code>    public void indirectPathToA(Integer y){\n        directPathToA(y);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5853491,"reputation":8043,"user_id":4611488,"display_name":"Stephan Herrmann"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1442613971,"creation_date":1442613971,"answer_id":32661731,"question_id":13484202,"body_markdown":"Compiling the original example in Eclipse at compliance 1.8 and with annotation based null analysis enabled, we get this warning:\r\n\r\n        directPathToA(y);\r\n                      ^\r\n    Null type safety (type annotations): The expression of type &#39;Integer&#39; needs unchecked conversion to conform to &#39;@NonNull Integer&#39;\r\n\r\nThis warning is worded in analogy to those warnings you get when mixing generified code with legacy code using raw types (&quot;unchecked conversion&quot;). We have the exact same situation here: method `indirectPathToA()` has a &quot;legacy&quot; signature in that it doesn&#39;t specify any null contract. Tools can easily report this, so they will chase you down all alleys where null annotations need to be propagated but aren&#39;t yet.\r\n\r\nAnd when using a clever `@NonNullByDefault` we don&#39;t even have to say this every time.\r\n\r\nIn other words: whether or not null annotations &quot;propagate very far&quot; may depend on the tool you use, and on how rigorously you attend to all the warnings issued by the tool. With [TYPE_USE null annotations][1] you finally have the option to let the tool warn you about **every** possible NPE in your program, because nullness has become an intrisic property of the type system.\r\n\r\n\r\n  [1]: http://help.eclipse.org/mars/topic/org.eclipse.jdt.doc.user/tasks/task-using_null_type_annotations.htm?cp=1_3_9_1","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>Compiling the original example in Eclipse at compliance 1.8 and with annotation based null analysis enabled, we get this warning:</p>\n\n<pre><code>    directPathToA(y);\n                  ^\nNull type safety (type annotations): The expression of type 'Integer' needs unchecked conversion to conform to '@NonNull Integer'\n</code></pre>\n\n<p>This warning is worded in analogy to those warnings you get when mixing generified code with legacy code using raw types (\"unchecked conversion\"). We have the exact same situation here: method <code>indirectPathToA()</code> has a \"legacy\" signature in that it doesn't specify any null contract. Tools can easily report this, so they will chase you down all alleys where null annotations need to be propagated but aren't yet.</p>\n\n<p>And when using a clever <code>@NonNullByDefault</code> we don't even have to say this every time.</p>\n\n<p>In other words: whether or not null annotations \"propagate very far\" may depend on the tool you use, and on how rigorously you attend to all the warnings issued by the tool. With <a href=\"http://help.eclipse.org/mars/topic/org.eclipse.jdt.doc.user/tasks/task-using_null_type_annotations.htm?cp=1_3_9_1\" rel=\"noreferrer\">TYPE_USE null annotations</a> you finally have the option to let the tool warn you about <strong>every</strong> possible NPE in your program, because nullness has become an intrisic property of the type system.</p>\n"},{"tags":[],"owner":{"account_id":3002132,"reputation":1376,"user_id":2547427,"accept_rate":50,"display_name":"jonathanzh"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1634666577,"creation_date":1466613478,"answer_id":37973823,"question_id":13484202,"body_markdown":"I think this original question indirectly points to a general recommendation that run-time null-pointer check is still needed, even though @NonNull is used. Refer to the following link: \r\n\r\n[Java 8&#39;s new Type Annotations][1]\r\n\r\nIn the above blog, it is recommended that:\r\n\r\n&gt; **Optional Type Annotations are not a substitute for runtime validation**\r\n&gt; Before Type Annotations, the primary location for describing things\r\n&gt; like nullability or ranges was in the javadoc. With Type annotations,\r\n&gt; this communication comes into the bytecode in a way for compile-time\r\n&gt; verification. Your code should still perform runtime validation.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java/post/java-8s-new-type-annotations &quot;Java 8&#39;s new Type Annotations&quot;","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>I think this original question indirectly points to a general recommendation that run-time null-pointer check is still needed, even though @NonNull is used. Refer to the following link:</p>\n<p><a href=\"https://blogs.oracle.com/java/post/java-8s-new-type-annotations\" rel=\"nofollow noreferrer\" title=\"Java 8's new Type Annotations\">Java 8's new Type Annotations</a></p>\n<p>In the above blog, it is recommended that:</p>\n<blockquote>\n<p><strong>Optional Type Annotations are not a substitute for runtime validation</strong>\nBefore Type Annotations, the primary location for describing things\nlike nullability or ranges was in the javadoc. With Type annotations,\nthis communication comes into the bytecode in a way for compile-time\nverification. Your code should still perform runtime validation.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1484580345,"creation_date":1484580345,"answer_id":41679666,"question_id":13484202,"body_markdown":"What I do in my projects is to activate the following option in the &quot;Constant conditions &amp; exceptions&quot; code inspection:  \r\n*Suggest @Nullable annotation for methods that may possibly return null and report nullable values passed to non-annotated parameters*\r\n[![Inspections][1]][1]\r\n\r\nWhen activated, all non-annotated parameters will be treated as non-null and thus you will also see a warning on your indirect call:\r\n\r\n    clazz.indirectPathToA(null); \r\n\r\nFor even stronger checks the Checker Framework may be a good choice (see this nice [tutorial][2].  \r\n**Note**: I have not used that yet and there may be problems with the Jack compiler: see [this bugreport][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bfG9h.png\r\n  [2]: https://github.com/glts/safer-spring-petclinic/wiki\r\n  [3]: https://github.com/karlicoss/checker-fenum-android-demo/issues/8","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>What I do in my projects is to activate the following option in the \"Constant conditions &amp; exceptions\" code inspection:<br>\n<em>Suggest @Nullable annotation for methods that may possibly return null and report nullable values passed to non-annotated parameters</em>\n<a href=\"https://i.stack.imgur.com/bfG9h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bfG9h.png\" alt=\"Inspections\"></a></p>\n\n<p>When activated, all non-annotated parameters will be treated as non-null and thus you will also see a warning on your indirect call:</p>\n\n<pre><code>clazz.indirectPathToA(null); \n</code></pre>\n\n<p>For even stronger checks the Checker Framework may be a good choice (see this nice <a href=\"https://github.com/glts/safer-spring-petclinic/wiki\" rel=\"noreferrer\">tutorial</a>.<br>\n<strong>Note</strong>: I have not used that yet and there may be problems with the Jack compiler: see <a href=\"https://github.com/karlicoss/checker-fenum-android-demo/issues/8\" rel=\"noreferrer\">this bugreport</a></p>\n"},{"tags":[],"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1686882371,"creation_date":1505785921,"answer_id":46290602,"question_id":13484202,"body_markdown":"If you use Kotlin, it supports these nullability annotations in its compiler and will prevent you from passing a null to a Java method that requires a non-null argument. Even though this question was originally targeted at Java, I mention this Kotlin feature because it is specifically **targeted at these Java annotation** and the question was *&quot;Is there a way to make **these annotations** more strictly enforced and/or propagate further?&quot;* and this feature does **make these annotation more strictly enforced**. \r\n\r\nJava class using `@NotNull` annotation:\r\n\r\n    public class MyJavaClazz {\r\n        public void foo(@NotNull String myString) {\r\n            // will result in an NPE if myString is null\r\n            myString.hashCode();\r\n        }\r\n    }\r\n\r\nKotlin class calling Java class and passing null for the argument annotated with `@NotNull`:\r\n\r\n    class MyKotlinClazz {\r\n        fun foo() {\r\n            MyJavaClazz().foo(null)\r\n        }\r\n    }  \r\n\r\nKotlin compiler error enforcing the `@NotNull` annotation:\r\n\r\n&gt; Error:(5, 27) Kotlin: Null can not be a value of a non-null type String\r\n\r\nSee: https://kotlinlang.org/docs/java-interop.html#nullability-annotations","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>If you use Kotlin, it supports these nullability annotations in its compiler and will prevent you from passing a null to a Java method that requires a non-null argument. Even though this question was originally targeted at Java, I mention this Kotlin feature because it is specifically <strong>targeted at these Java annotation</strong> and the question was <em>&quot;Is there a way to make <strong>these annotations</strong> more strictly enforced and/or propagate further?&quot;</em> and this feature does <strong>make these annotation more strictly enforced</strong>.</p>\n<p>Java class using <code>@NotNull</code> annotation:</p>\n<pre><code>public class MyJavaClazz {\n    public void foo(@NotNull String myString) {\n        // will result in an NPE if myString is null\n        myString.hashCode();\n    }\n}\n</code></pre>\n<p>Kotlin class calling Java class and passing null for the argument annotated with <code>@NotNull</code>:</p>\n<pre><code>class MyKotlinClazz {\n    fun foo() {\n        MyJavaClazz().foo(null)\n    }\n}  \n</code></pre>\n<p>Kotlin compiler error enforcing the <code>@NotNull</code> annotation:</p>\n<blockquote>\n<p>Error:(5, 27) Kotlin: Null can not be a value of a non-null type String</p>\n</blockquote>\n<p>See: <a href=\"https://kotlinlang.org/docs/java-interop.html#nullability-annotations\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/java-interop.html#nullability-annotations</a></p>\n"},{"tags":[],"owner":{"account_id":7678312,"reputation":512,"user_id":5818405,"display_name":"Mathieu Gemard"},"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1588898347,"creation_date":1576864755,"answer_id":59429577,"question_id":13484202,"body_markdown":"**Since Java 8 new feature [Optional] [1] you should not use @Nullable or @Notnull in your own code anymore**. Take the example below:\r\n\r\n    public void printValue(@Nullable myValue) {\r\n        if (myValue != null) {\r\n            System.out.print(myValue);\r\n        } else {\r\n            System.out.print(&quot;I dont have a value&quot;);\r\n    }\r\n\r\nIt could be rewritten with:\r\n\r\n    public void printValue(Optional&lt;String&gt; myValue) {\r\n        if (myValue.ifPresent) {\r\n            System.out.print(myValue.get());\r\n        } else {\r\n            System.out.print(&quot;I dont have a value&quot;);\r\n    }\r\n\r\nUsing an optional **forces you to check for null value**. In the code above, you can only access the value by calling the `get` method.\r\n   \r\n\r\n\r\nAnother advantage is that the **code get more readable**. With the addition of Java 9 [ifPresentOrElse] [2], the function could even be written as:\r\n\r\n    public void printValue(Optional&lt;String&gt; myValue) {\r\n        myValue.ifPresentOrElse(\r\n            v -&gt; System.out.print(v),\r\n            () -&gt; System.out.print(&quot;I dont have a value&quot;),\r\n        )\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#ifPresentOrElse-java.util.function.Consumer-java.lang.Runnable-","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p><strong>Since Java 8 new feature <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a> you should not use @Nullable or @Notnull in your own code anymore</strong>. Take the example below:</p>\n\n<pre><code>public void printValue(@Nullable myValue) {\n    if (myValue != null) {\n        System.out.print(myValue);\n    } else {\n        System.out.print(\"I dont have a value\");\n}\n</code></pre>\n\n<p>It could be rewritten with:</p>\n\n<pre><code>public void printValue(Optional&lt;String&gt; myValue) {\n    if (myValue.ifPresent) {\n        System.out.print(myValue.get());\n    } else {\n        System.out.print(\"I dont have a value\");\n}\n</code></pre>\n\n<p>Using an optional <strong>forces you to check for null value</strong>. In the code above, you can only access the value by calling the <code>get</code> method.</p>\n\n<p>Another advantage is that the <strong>code get more readable</strong>. With the addition of Java 9 <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#ifPresentOrElse-java.util.function.Consumer-java.lang.Runnable-\" rel=\"nofollow noreferrer\">ifPresentOrElse</a>, the function could even be written as:</p>\n\n<pre><code>public void printValue(Optional&lt;String&gt; myValue) {\n    myValue.ifPresentOrElse(\n        v -&gt; System.out.print(v),\n        () -&gt; System.out.print(\"I dont have a value\"),\n    )\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16856943,"reputation":57,"user_id":12188660,"display_name":"mitesh keswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668598818,"creation_date":1668598818,"answer_id":74459839,"question_id":13484202,"body_markdown":"@NotNull from javax.validation.constraints means that the method never returns a null value.. ;)\r\nSo, that means on getting any value from that method, you need not add any null check for checking for null pointer exceptions.. :D","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>@NotNull from javax.validation.constraints means that the method never returns a null value.. ;)\nSo, that means on getting any value from that method, you need not add any null check for checking for null pointer exceptions.. :D</p>\n"},{"tags":[],"owner":{"account_id":1405436,"reputation":8300,"user_id":1333292,"accept_rate":81,"display_name":"ilomambo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682056413,"creation_date":1682056413,"answer_id":76070259,"question_id":13484202,"body_markdown":"A very old question, but I don&#39;t see anybody pointing out that to get a check on execution time you should use assertions. \r\n\r\nLike this\r\n\r\n    assert x != null;\r\n\r\nThis will work (throw an exception) no matter the level of indirection","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>A very old question, but I don't see anybody pointing out that to get a check on execution time you should use assertions.</p>\n<p>Like this</p>\n<pre><code>assert x != null;\n</code></pre>\n<p>This will work (throw an exception) no matter the level of indirection</p>\n"}],"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243244,"favorite_count":0,"down_vote_count":2,"up_vote_count":181,"answer_count":11,"score":179,"last_activity_date":1686882371,"creation_date":1353455283,"question_id":13484202,"body_markdown":"I can see that `@Nullable` and `@Nonnull` annotations _could_ be helpful in preventing `NullPointerException`s but they do not propagate very far.\r\n\r\n - The effectiveness of these annotations drop off completely after one level of indirection, so if you only add a few they don&#39;t propagate very far. \r\n - Since these annotations are not well enforced there is a danger of assuming a value marked with `@Nonnull` is not null and consequently not performing null checks. \r\n\r\nThe code below causes a parameter marked with `@Nonnull` to be `null` without raising any complaints.  It throws a `NullPointerException` when it is run.\r\n\r\n\tpublic class Clazz {\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tClazz clazz = new Clazz();\r\n\r\n            // this line raises a complaint with the IDE (IntelliJ 11)\r\n\t\t\tclazz.directPathToA(null);\r\n \r\n            // this line does not\r\n\t\t\tclazz.indirectPathToA(null); \r\n\t\t}\r\n\t\t\r\n\t\tpublic void indirectPathToA(Integer y){\r\n\t\t\tdirectPathToA(y);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void directPathToA(@Nonnull Integer x){\r\n\t\t\tx.toString(); // do stuff to x        \r\n\t\t}\r\n\t}\r\n\r\nIs there a way to make these annotations more strictly enforced and/or propagate further?","title":"How to use @Nullable and @Nonnull annotations more effectively?","body":"<p>I can see that <code>@Nullable</code> and <code>@Nonnull</code> annotations <em>could</em> be helpful in preventing <code>NullPointerException</code>s but they do not propagate very far.</p>\n\n<ul>\n<li>The effectiveness of these annotations drop off completely after one level of indirection, so if you only add a few they don't propagate very far. </li>\n<li>Since these annotations are not well enforced there is a danger of assuming a value marked with <code>@Nonnull</code> is not null and consequently not performing null checks. </li>\n</ul>\n\n<p>The code below causes a parameter marked with <code>@Nonnull</code> to be <code>null</code> without raising any complaints.  It throws a <code>NullPointerException</code> when it is run.</p>\n\n<pre><code>public class Clazz {\n    public static void main(String[] args){\n        Clazz clazz = new Clazz();\n\n        // this line raises a complaint with the IDE (IntelliJ 11)\n        clazz.directPathToA(null);\n\n        // this line does not\n        clazz.indirectPathToA(null); \n    }\n\n    public void indirectPathToA(Integer y){\n        directPathToA(y);\n    }\n\n    public void directPathToA(@Nonnull Integer x){\n        x.toString(); // do stuff to x        \n    }\n}\n</code></pre>\n\n<p>Is there a way to make these annotations more strictly enforced and/or propagate further?</p>\n"},{"tags":["java","jedis"],"owner":{"account_id":27779580,"reputation":41,"user_id":21208196,"display_name":"LongKang Fan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686882159,"creation_date":1686882159,"question_id":76486592,"body_markdown":"I understand that ShardedJedisPool has been deprecated, and I would like to confirm if ShardedJedisPool is still available in any form in version 4.3.0. If not, how can I achieve the same functionality? Should I downgrade the Jedis version? Is that recommended? Or any Alternatives in the latest version?","title":"Usage of ShardedJedisPool in a Non-Cluster Redis Environment in lastest version: Deprecated or Alternatives?","body":"<p>I understand that ShardedJedisPool has been deprecated, and I would like to confirm if ShardedJedisPool is still available in any form in version 4.3.0. If not, how can I achieve the same functionality? Should I downgrade the Jedis version? Is that recommended? Or any Alternatives in the latest version?</p>\n"},{"tags":["java","anonymous-class"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1686824712,"post_id":76481523,"comment_id":134853854,"body_markdown":"I honestly really don&#39;t understand what you are trying to do and your problem description. But i can tell you that your `public void setAdjustNum(final int adjustNum)` currently is pointless and does nothing because you just assign the passed argument to itself: `adjustNum = adjustNum`. Maybe you meant `this.adjustNum = adjustNum;` but as i don&#39;t know what end result you even expect I can&#39;t tell you if this will lead to it.","body":"I honestly really don&#39;t understand what you are trying to do and your problem description. But i can tell you that your <code>public void setAdjustNum(final int adjustNum)</code> currently is pointless and does nothing because you just assign the passed argument to itself: <code>adjustNum = adjustNum</code>. Maybe you meant <code>this.adjustNum = adjustNum;</code> but as i don&#39;t know what end result you even expect I can&#39;t tell you if this will lead to it."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686825860,"post_id":76481523,"comment_id":134854080,"body_markdown":"Anonymous classes cannot access their enclosing classes variables unless they are final, as much it will not be considered the same as the enclosing class variable (different declared variable)if the variable has exactly the same name.It appears you are trying to pass out of the anonymous class a value in a variable that is declared in its outer enclosing class.","body":"Anonymous classes cannot access their enclosing classes variables unless they are final, as much it will not be considered the same as the enclosing class variable (different declared variable)if the variable has exactly the same name.It appears you are trying to pass out of the anonymous class a value in a variable that is declared in its outer enclosing class."},{"owner":{"account_id":9043972,"reputation":139,"user_id":6737118,"accept_rate":50,"display_name":"Tel lui"},"score":0,"creation_date":1686879537,"post_id":76481523,"comment_id":134862369,"body_markdown":"Sorry, all. I find there is typo for my code and I don&#39;t have any problem with it now...","body":"Sorry, all. I find there is typo for my code and I don&#39;t have any problem with it now..."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686825894,"creation_date":1686825894,"answer_id":76481716,"question_id":76481523,"body_markdown":"I found at least an error in your code:\r\n\r\n    public void setAdjustNum(int adjustNum) {\r\n        adjustNum = adjustNum;\r\n    }\r\n\r\nThis method does nothing because it resets adjustNum passed as parameter to the function. If you need to set the adjustNum field of the class your code must be updated to\r\n\r\n    public void setAdjustNum(int adjustNum) {\r\n        this.adjustNum = adjustNum;\r\n    }\r\n\r\nSo the `this.adjustNum` refers to the property of the instance, while `adjustNum` (without this) refers to the parameter passed to the function. In this case you really set the `adjustNum` calling `setAdjustNum` method","title":"Why updating a primitive instance variable value referring by the method of an anonymous class does not update the value in the method of it?","body":"<p>I found at least an error in your code:</p>\n<pre><code>public void setAdjustNum(int adjustNum) {\n    adjustNum = adjustNum;\n}\n</code></pre>\n<p>This method does nothing because it resets adjustNum passed as parameter to the function. If you need to set the adjustNum field of the class your code must be updated to</p>\n<pre><code>public void setAdjustNum(int adjustNum) {\n    this.adjustNum = adjustNum;\n}\n</code></pre>\n<p>So the <code>this.adjustNum</code> refers to the property of the instance, while <code>adjustNum</code> (without this) refers to the parameter passed to the function. In this case you really set the <code>adjustNum</code> calling <code>setAdjustNum</code> method</p>\n"}],"owner":{"account_id":9043972,"reputation":139,"user_id":6737118,"accept_rate":50,"display_name":"Tel lui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76481716,"answer_count":1,"score":0,"last_activity_date":1686880118,"creation_date":1686824396,"question_id":76481523,"body_markdown":"Here is a problem I face when maintaining and old application, below are the code for demonstration:\r\nFirst, I created a class with field innerComp valued by instance of an anonymous class and a field adjustNum which is used in a method of innerComp:\r\n\r\n    public class InnerComparator {\r\n    private int adjustNum = 0;\r\n\r\n    public InnerComparator() {\r\n\r\n    }\r\n\r\n    public InnerComparator(int adjustNum) {\r\n        this.adjustNum = adjustNum;\r\n    }\r\n\r\n    public void setAdjustNum(int adjustNum) {\r\n      //        adjustNum = adjustNum;\r\n          this.adjustNum = adjustNum;\r\n    }\r\n    private Comparator innerComp = new Comparator() {\r\n        @Override\r\n        public int compare(Object o1, Object o2) {\r\n            System.out.println(adjustNum);\r\n            return adjustNum;\r\n        }\r\n    };\r\n\r\n    public Comparator getInnerComp() {\r\n        return innerComp;\r\n    }\r\n\r\n    public void sort(List list) {\r\n        Collections.sort(list, innerComp);\r\n    }\r\n}\r\n\r\nHere demonstrate how I use it:\r\n\r\n    public class CheckInnerClassUpdate {\r\n    public static void main(String[] args) {\r\n        InnerComparator comparator = new InnerComparator();\r\n        List&lt;String&gt; list = Arrays.asList(new String[]{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;});\r\n        comparator.sort(list);\r\n        comparator.setAdjustNum(1);\r\n        comparator.sort(list);\r\n        InnerComparator comparator2 = new InnerComparator(1);\r\n        // comparator.sort(list);\r\n        comparator2.sort(list);\r\n    }\r\n}\r\n\r\nThe result is:\r\n0\r\n0\r\n1\r\n1\r\n1\r\n1\r\n----------------------------\r\n(Obsolete)\r\nThe result is:\r\n0\r\n0\r\n0\r\n0\r\n0\r\n0\r\nI would like to ask for the mechanism that generate the result. The result seems show that the adjustNum pass to the instance of the anonymous class is referring to the init value of the adjustNum. In the sample code, even if I pass the value via the constructor, the value pass to the innerComp is still 0. There is a missing piece of knowledge that I don&#39;t know and hopefully someone could help. Thank you. \r\n-----------------------------\r\n(Updated)\r\nAs mentioned answer, typo cause the confusion. I have fix the code and \r\n comment out the original code.","title":"Why updating a primitive instance variable value referring by the method of an anonymous class does not update the value in the method of it?","body":"<p>Here is a problem I face when maintaining and old application, below are the code for demonstration:\nFirst, I created a class with field innerComp valued by instance of an anonymous class and a field adjustNum which is used in a method of innerComp:</p>\n<pre><code>public class InnerComparator {\nprivate int adjustNum = 0;\n\npublic InnerComparator() {\n\n}\n\npublic InnerComparator(int adjustNum) {\n    this.adjustNum = adjustNum;\n}\n\npublic void setAdjustNum(int adjustNum) {\n  //        adjustNum = adjustNum;\n      this.adjustNum = adjustNum;\n}\nprivate Comparator innerComp = new Comparator() {\n    @Override\n    public int compare(Object o1, Object o2) {\n        System.out.println(adjustNum);\n        return adjustNum;\n    }\n};\n\npublic Comparator getInnerComp() {\n    return innerComp;\n}\n\npublic void sort(List list) {\n    Collections.sort(list, innerComp);\n}\n</code></pre>\n<p>}</p>\n<p>Here demonstrate how I use it:</p>\n<pre><code>public class CheckInnerClassUpdate {\npublic static void main(String[] args) {\n    InnerComparator comparator = new InnerComparator();\n    List&lt;String&gt; list = Arrays.asList(new String[]{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;});\n    comparator.sort(list);\n    comparator.setAdjustNum(1);\n    comparator.sort(list);\n    InnerComparator comparator2 = new InnerComparator(1);\n    // comparator.sort(list);\n    comparator2.sort(list);\n}\n</code></pre>\n<p>}</p>\n<h2>The result is:\n0\n0\n1\n1\n1\n1</h2>\n<h2>(Obsolete)\nThe result is:\n0\n0\n0\n0\n0\n0\nI would like to ask for the mechanism that generate the result. The result seems show that the adjustNum pass to the instance of the anonymous class is referring to the init value of the adjustNum. In the sample code, even if I pass the value via the constructor, the value pass to the innerComp is still 0. There is a missing piece of knowledge that I don't know and hopefully someone could help. Thank you.</h2>\n<p>(Updated)\nAs mentioned answer, typo cause the confusion. I have fix the code and\ncomment out the original code.</p>\n"},{"tags":["python","java","aws-lambda","aws-lambda-layers"],"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686879243,"creation_date":1686879243,"question_id":76486454,"body_markdown":"I am attempting to call a Java method (which is deployed as aws lambda layer) from within my Python code (which is deployed as aws lambda) using Jpype. However, I am unsure of what `jarpath` to input. Below is my Python code:\r\n\r\n```python\r\ndef call_java_method()\r\n    #jpype.addClassPath(JAR) - Not sure what path I should give here?\r\n    class_name = &#39;com.java.example.SampleJavaClass&#39;\r\n    my_class = JClass(class_name)\r\n\r\n    instance = my_class()\r\n    result = instance.sampleMethod()\r\n    print(result)\r\n```\r\n\r\nThe corresponding Java code has been deployed in a lambda layer:\r\n\r\n```java\r\npackage com.java.example;\r\n\r\npublic class SampleJavaClass {\r\n    public String sampleMethod() {\r\n        return &quot;sampleMethod() called!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nHow can I address this issue?","title":"How to call methods in java lambda layer in python lambda?","body":"<p>I am attempting to call a Java method (which is deployed as aws lambda layer) from within my Python code (which is deployed as aws lambda) using Jpype. However, I am unsure of what <code>jarpath</code> to input. Below is my Python code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def call_java_method()\n    #jpype.addClassPath(JAR) - Not sure what path I should give here?\n    class_name = 'com.java.example.SampleJavaClass'\n    my_class = JClass(class_name)\n\n    instance = my_class()\n    result = instance.sampleMethod()\n    print(result)\n</code></pre>\n<p>The corresponding Java code has been deployed in a lambda layer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.java.example;\n\npublic class SampleJavaClass {\n    public String sampleMethod() {\n        return &quot;sampleMethod() called!&quot;;\n    }\n}\n</code></pre>\n<p>How can I address this issue?</p>\n"},{"tags":["java","loops","dictionary","filter"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686676989,"post_id":76467302,"comment_id":134831002,"body_markdown":"`p -&gt; ages.contains(p.age)`","body":"<code>p -&gt; ages.contains(p.age)</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1686677018,"post_id":76467302,"comment_id":134831006,"body_markdown":"(with a follow-up `).toList()` at the end).","body":"(with a follow-up <code>).toList()</code> at the end)."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1686677399,"post_id":76467302,"comment_id":134831096,"body_markdown":"It&#39;s better to put ages in a HashSet before (new HashSet&lt;&gt;(ages)) to do whole filtering in O(n) time instead of O(n*m)","body":"It&#39;s better to put ages in a HashSet before (new HashSet&lt;&gt;(ages)) to do whole filtering in O(n) time instead of O(n*m)"}],"answers":[{"tags":[],"owner":{"account_id":28814485,"reputation":11,"user_id":22068439,"display_name":"myoungin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686878299,"creation_date":1686679834,"answer_id":76467636,"question_id":76467302,"body_markdown":"You can use `ages.contains(p.age)` in the lambda function.\r\n``` java\r\nList&lt;Person&gt; specificAges = people\r\n    .stream()\r\n    .filter(p -&gt; ages.contains(p.getAge()))\r\n    .collect(Collectors.toList());\r\n```\r\nI used getter method to get age of each `Person` class.","title":"How to filter a list of elements by a list of matching key values?","body":"<p>You can use <code>ages.contains(p.age)</code> in the lambda function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; specificAges = people\n    .stream()\n    .filter(p -&gt; ages.contains(p.getAge()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>I used getter method to get age of each <code>Person</code> class.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686689501,"creation_date":1686689501,"answer_id":76468633,"question_id":76467302,"body_markdown":"If a _stream_ is not a requirement, a _for-loop_ would also suffice.\r\n\r\n```java\r\nList&lt;Person&gt; specificAges = new ArrayList&lt;&gt;();\r\nfor (Person person : people) {\r\n    if (ages.contains(person.age)) specificAges.add(person);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[John 25, Lisa 54]\r\n```","title":"How to filter a list of elements by a list of matching key values?","body":"<p>If a <em>stream</em> is not a requirement, a <em>for-loop</em> would also suffice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; specificAges = new ArrayList&lt;&gt;();\nfor (Person person : people) {\n    if (ages.contains(person.age)) specificAges.add(person);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[John 25, Lisa 54]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686877726,"creation_date":1686877726,"answer_id":76486384,"question_id":76467302,"body_markdown":"You can also create a separate Person class and use the annotations for quick constructor, getter/setter development.\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Person {\r\n    private String firstName;\r\n    private Integer age;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return firstName + &quot; &quot; + age;\r\n    }\r\n}\r\n```\r\nThe rest of the code would remain the same. You can either use a stream of for each loop as mentioned.","title":"How to filter a list of elements by a list of matching key values?","body":"<p>You can also create a separate Person class and use the annotations for quick constructor, getter/setter development.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person {\n    private String firstName;\n    private Integer age;\n\n    @Override\n    public String toString() {\n        return firstName + &quot; &quot; + age;\n    }\n}\n</code></pre>\n<p>The rest of the code would remain the same. You can either use a stream of for each loop as mentioned.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686878560,"creation_date":1686878560,"answer_id":76486424,"question_id":76467302,"body_markdown":"For a &quot;less code&quot; solution, make a copy then use `removeIf()`:\r\n\r\n```\r\nList&lt;Integer&gt; specificAges = new ArrayList&lt;&gt;(people);\r\nspecificAges.removeIf(p -&gt; !ages.contains(p.getAge()));\r\n```\r\n\r\nIf keeping the original list is not necessary, just:\r\n\r\n    people.removeIf(p -&gt; !ages.contains(p.getAge()));\r\n","title":"How to filter a list of elements by a list of matching key values?","body":"<p>For a &quot;less code&quot; solution, make a copy then use <code>removeIf()</code>:</p>\n<pre><code>List&lt;Integer&gt; specificAges = new ArrayList&lt;&gt;(people);\nspecificAges.removeIf(p -&gt; !ages.contains(p.getAge()));\n</code></pre>\n<p>If keeping the original list is not necessary, just:</p>\n<pre><code>people.removeIf(p -&gt; !ages.contains(p.getAge()));\n</code></pre>\n"}],"owner":{"account_id":27863021,"reputation":49,"user_id":21275121,"display_name":"Sherbet Head"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1686878560,"creation_date":1686676565,"question_id":76467302,"body_markdown":"I&#39;m struggling a bit with comparing the key/vals from multiple lists and could use some help. Given a list of `People` with a `firstName` and `age` property, and a separate list of ages, how would I filter the `People` list to return only those with one of the matching ages? \r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Person p1 = new Person(&quot;John&quot;, 25);\r\n        Person p2 = new Person(&quot;Lisa&quot;, 54);\r\n        Person p3 = new Person(&quot;Mike&quot;, 61);\r\n        List&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\r\n        people.add(p1);\r\n        people.add(p2);\r\n        people.add(p3);\r\n\r\n        List&lt;Integer&gt; ages = Arrays.asList(25, 54);\r\n        List&lt;Person&gt; specificAges = people.stream().filter(p -&gt; p.age == ages?????)\r\n\r\n        System.out.println(specificAges);\r\n    }\r\n}\r\n\r\npublic class Person {\r\n    private String firstName;\r\n    private Integer age;\r\n\r\n    public Person(String firstName, Integer age) {\r\n        this.firstName = firstName;\r\n        this.age = age;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return firstName + &quot; &quot; + age;\r\n    }\r\n}\r\n```\r\nExpected Result: `[&quot;John 25&quot;, &quot;Lisa 54&quot;]`\r\n","title":"How to filter a list of elements by a list of matching key values?","body":"<p>I'm struggling a bit with comparing the key/vals from multiple lists and could use some help. Given a list of <code>People</code> with a <code>firstName</code> and <code>age</code> property, and a separate list of ages, how would I filter the <code>People</code> list to return only those with one of the matching ages?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        Person p1 = new Person(&quot;John&quot;, 25);\n        Person p2 = new Person(&quot;Lisa&quot;, 54);\n        Person p3 = new Person(&quot;Mike&quot;, 61);\n        List&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\n        people.add(p1);\n        people.add(p2);\n        people.add(p3);\n\n        List&lt;Integer&gt; ages = Arrays.asList(25, 54);\n        List&lt;Person&gt; specificAges = people.stream().filter(p -&gt; p.age == ages?????)\n\n        System.out.println(specificAges);\n    }\n}\n\npublic class Person {\n    private String firstName;\n    private Integer age;\n\n    public Person(String firstName, Integer age) {\n        this.firstName = firstName;\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return firstName + &quot; &quot; + age;\n    }\n}\n</code></pre>\n<p>Expected Result: <code>[&quot;John 25&quot;, &quot;Lisa 54&quot;]</code></p>\n"},{"tags":["java","cdi","quarkus","jakarta-migration"],"comments":[{"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"score":0,"creation_date":1686740737,"post_id":76472614,"comment_id":134839893,"body_markdown":"Adding the javax dependency is a bad idea, because javax and jakarta classes should not be used together. \n\nWhere is the error you&#39;re seeing coming from? Is it in the IDE, or do you have a stack trace? Given that you&#39;re importing jakarta.enterprise.context.ApplicationScoped, ReviewServiceImpl should not be using any javax dependencies, unless one is coming in from a superclass?","body":"Adding the javax dependency is a bad idea, because javax and jakarta classes should not be used together.   Where is the error you&#39;re seeing coming from? Is it in the IDE, or do you have a stack trace? Given that you&#39;re importing jakarta.enterprise.context.ApplicationScoped, ReviewServiceImpl should not be using any javax dependencies, unless one is coming in from a superclass?"},{"owner":{"account_id":7481573,"reputation":43,"user_id":5686170,"display_name":"MightyThor"},"score":0,"creation_date":1686742595,"post_id":76472614,"comment_id":134840248,"body_markdown":"thanks for the reply @HollyCummins, I have updated the question by providing the log while running the application.","body":"thanks for the reply @HollyCummins, I have updated the question by providing the log while running the application."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1686743114,"post_id":76472614,"comment_id":134840369,"body_markdown":"run maven with -X for verbose output","body":"run maven with -X for verbose output"},{"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"score":0,"creation_date":1686758534,"post_id":76472614,"comment_id":134844144,"body_markdown":"I&#39;d be tempted to run a `mvn clean` and maybe even clean out a few things from `~/.m2/repository`, since the error you&#39;re seeing doesn&#39;t seem to align with what&#39;s in your code.","body":"I&#39;d be tempted to run a <code>mvn clean</code> and maybe even clean out a few things from <code>~&#47;.m2&#47;repository</code>, since the error you&#39;re seeing doesn&#39;t seem to align with what&#39;s in your code."}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1686876543,"creation_date":1686876212,"answer_id":76486310,"question_id":76472614,"body_markdown":"MapStruct using custom annotation processor during build time for generating mapping sources. That supports several different ways to generate classes.\r\n\r\nHowever, `@Mapper(componentModel = &quot;cdi&quot;)` using `javax.enterprise.context.ApplicationScoped`, `@Mapper(componentModel = &quot;jakarta&quot;)` configuration imports the `jakarta.enterprise.context.ApplicationScoped` annotation.\r\n\r\nSo just change componentModel attribute to:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;jakarta&quot;)\r\n```\r\nNote: \r\n\r\n* This componentModel value is supported since MapStruct 1.5.0.Final and above.\r\n* The updated [migration guide](https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#mapstruct) also describes this problem and this soulution\r\n\r\n","title":"ERROR Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?","body":"<p>MapStruct using custom annotation processor during build time for generating mapping sources. That supports several different ways to generate classes.</p>\n<p>However, <code>@Mapper(componentModel = &quot;cdi&quot;)</code> using <code>javax.enterprise.context.ApplicationScoped</code>, <code>@Mapper(componentModel = &quot;jakarta&quot;)</code> configuration imports the <code>jakarta.enterprise.context.ApplicationScoped</code> annotation.</p>\n<p>So just change componentModel attribute to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;jakarta&quot;)\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>This componentModel value is supported since MapStruct 1.5.0.Final and above.</li>\n<li>The updated <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#mapstruct\" rel=\"noreferrer\">migration guide</a> also describes this problem and this soulution</li>\n</ul>\n"}],"owner":{"account_id":7481573,"reputation":43,"user_id":5686170,"display_name":"MightyThor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1783,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76486310,"answer_count":1,"score":4,"last_activity_date":1686876691,"creation_date":1686739000,"question_id":76472614,"body_markdown":"I&#39;m writing Backend using Quarkus. Below is my POM.xml file:\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.abcd.mpt&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hc-web&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;compiler-plugin.version&gt;3.11.0&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;3.1.1.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0&lt;/surefire-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt; &lt;!-- Please check for the latest version --&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n            &lt;artifactId&gt;smallrye-jwt-build&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;native&lt;/name&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nand below is the code where I use @ApplicationScoped, \r\n\r\n\r\n```java\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\nimport jakarta.transaction.Transactional;\r\nimport jakarta.ws.rs.NotFoundException;\r\nimport java.util.List;\r\n\r\n@ApplicationScoped\r\n@Transactional\r\npublic class ReviewServiceImpl implements ReviewService {\r\n\r\n\r\n\r\n    @Override\r\n    @Transactional\r\n    public ReviewDto createReview(ReviewDto reviewDTO) {\r\n        Review review;\r\n        try {\r\n            review = Review.find(&quot;id&quot;, reviewDTO.getId()).firstResult();\r\n        } catch (NullPointerException e) {\r\n            throw new NullPointerException(&quot;Review already exists&quot;);\r\n        }\r\n        review = ReviewMapper.INSTANCE.toEntity(reviewDTO);\r\n        review.persist();\r\n        return ReviewMapper.INSTANCE.toDto(review);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public ReviewDto updateReview(Long id, ReviewDto reviewDTO) {\r\n        Review review;\r\n        try{\r\n            review = Review.find(&quot;id&quot;,id).firstResult();\r\n        }catch(NullPointerException e){\r\n            throw new NotFoundException(&quot;Review not found for id: &quot; + id);\r\n        }\r\n\r\n        ReviewMapper.INSTANCE.updateFromDto(reviewDTO, review);\r\n        review.persist();\r\n\r\n        return ReviewMapper.INSTANCE.toDto(review);\r\n    }\r\n\r\n    @Override\r\n    public ReviewDto getReviewById(Long reviewId) {\r\n        Review review = Review.findById(reviewId);\r\n        if(review == null){\r\n        throw new NotFoundException(&quot;Review not found for id: &quot; + reviewId);\r\n        }\r\n        return ReviewMapper.INSTANCE.toDto(review);\r\n\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ReviewDto&gt; getReviewsByDoctorId(Long doctorId) {\r\n        List&lt;Review&gt; reviews = Review.find(&quot;select r from Review r join r.reviewDoctorMaps d where d.doctor_id =?1&quot;,doctorId).list();\r\n        return ReviewMapper.INSTANCE.toDtoList(reviews);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ReviewDto&gt; getAllReviews() {\r\n        List&lt;Review&gt; reviews = Review.listAll();\r\n        return ReviewMapper.INSTANCE.toDtoList(reviews);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI&#39;m already using jakarta.enterprise.context.ApplicationScoped then why it is asking me to use javax packages ? \r\n\r\n\r\n\r\n\r\n\r\nthere is no javax.* dependency used in the code, nor in any super class.\r\n\r\nthis is log when I run the application\r\n```none\r\n/Library/Java/JavaVirtualMachines/graalvm-17/Contents/Home/bin/java -Dmaven.multiModuleProjectDirectory=/Users/maulikdave/NetBeansProjects/hc/hc-web -Dmaven.home=/opt/homebrew/Cellar/maven/3.9.2/libexec -Dclassworlds.conf=/opt/homebrew/Cellar/maven/3.9.2/libexec/bin/m2.conf &quot;-javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=58339:/Applications/IntelliJ IDEA CE.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /opt/homebrew/Cellar/maven/3.9.2/libexec/boot/plexus-classworlds.license:/opt/homebrew/Cellar/maven/3.9.2/libexec/boot/plexus-classworlds-2.7.0.jar org.codehaus.classworlds.Launcher -Didea.version=2022.2.5 clean compile quarkus:dev\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ----------------&lt; com.abcd.mpt:hc-web &gt;----------------\r\n[INFO] Building hc-web 1.0.0-SNAPSHOT\r\n[INFO]   from pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- clean:3.2.0:clean (default-clean) @ hc-web ---\r\n[INFO] Deleting /Users/maulikdave/NetBeansProjects/hc/hc-web/target\r\n[INFO] \r\n[INFO] --- resources:3.3.0:resources (default-resources) @ hc-web ---\r\n[INFO] Copying 42 resources\r\n[INFO] \r\n[INFO] --- quarkus:3.1.1.Final:generate-code (default) @ hc-web ---\r\n[INFO] \r\n[INFO] --- compiler:3.11.0:compile (default-compile) @ hc-web ---\r\n[INFO] Changes detected - recompiling the module! :source\r\n[INFO] Compiling 79 source files with javac [debug release 17] to target/classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[INFO] 10 errors \r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.029 s\r\n[INFO] Finished at: 2023-06-14T17:02:46+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[WARNING] \r\n[WARNING] Plugin validation issues were detected in 1 plugin(s)\r\n[WARNING] \r\n[WARNING]  * org.apache.maven.plugins:maven-resources-plugin:3.3.0\r\n[WARNING] \r\n[WARNING] For more or less details, use &#39;maven.plugin.validation&#39; property with one of the values (case insensitive): [BRIEF, DEFAULT, VERBOSE]\r\n[WARNING] \r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project hc-web: Compilation failure: Compilation failure: \r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```","title":"ERROR Couldn&#39;t find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?","body":"<p>I'm writing Backend using Quarkus. Below is my POM.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.abcd.mpt&lt;/groupId&gt;\n    &lt;artifactId&gt;hc-web&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;compiler-plugin.version&gt;3.11.0&lt;/compiler-plugin.version&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;3.1.1.Final&lt;/quarkus.platform.version&gt;\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\n        &lt;surefire-plugin.version&gt;3.0.0&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt; &lt;!-- Please check for the latest version --&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-jwt-build&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;native&lt;/name&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;skipITs&gt;false&lt;/skipITs&gt;\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n<p>and below is the code where I use @ApplicationScoped,</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.transaction.Transactional;\nimport jakarta.ws.rs.NotFoundException;\nimport java.util.List;\n\n@ApplicationScoped\n@Transactional\npublic class ReviewServiceImpl implements ReviewService {\n\n\n\n    @Override\n    @Transactional\n    public ReviewDto createReview(ReviewDto reviewDTO) {\n        Review review;\n        try {\n            review = Review.find(&quot;id&quot;, reviewDTO.getId()).firstResult();\n        } catch (NullPointerException e) {\n            throw new NullPointerException(&quot;Review already exists&quot;);\n        }\n        review = ReviewMapper.INSTANCE.toEntity(reviewDTO);\n        review.persist();\n        return ReviewMapper.INSTANCE.toDto(review);\n    }\n\n    @Override\n    @Transactional\n    public ReviewDto updateReview(Long id, ReviewDto reviewDTO) {\n        Review review;\n        try{\n            review = Review.find(&quot;id&quot;,id).firstResult();\n        }catch(NullPointerException e){\n            throw new NotFoundException(&quot;Review not found for id: &quot; + id);\n        }\n\n        ReviewMapper.INSTANCE.updateFromDto(reviewDTO, review);\n        review.persist();\n\n        return ReviewMapper.INSTANCE.toDto(review);\n    }\n\n    @Override\n    public ReviewDto getReviewById(Long reviewId) {\n        Review review = Review.findById(reviewId);\n        if(review == null){\n        throw new NotFoundException(&quot;Review not found for id: &quot; + reviewId);\n        }\n        return ReviewMapper.INSTANCE.toDto(review);\n\n    }\n\n    @Override\n    public List&lt;ReviewDto&gt; getReviewsByDoctorId(Long doctorId) {\n        List&lt;Review&gt; reviews = Review.find(&quot;select r from Review r join r.reviewDoctorMaps d where d.doctor_id =?1&quot;,doctorId).list();\n        return ReviewMapper.INSTANCE.toDtoList(reviews);\n    }\n\n    @Override\n    public List&lt;ReviewDto&gt; getAllReviews() {\n        List&lt;Review&gt; reviews = Review.listAll();\n        return ReviewMapper.INSTANCE.toDtoList(reviews);\n    }\n}\n\n\n</code></pre>\n<p>I'm already using jakarta.enterprise.context.ApplicationScoped then why it is asking me to use javax packages ?</p>\n<p>there is no javax.* dependency used in the code, nor in any super class.</p>\n<p>this is log when I run the application</p>\n<pre class=\"lang-none prettyprint-override\"><code>/Library/Java/JavaVirtualMachines/graalvm-17/Contents/Home/bin/java -Dmaven.multiModuleProjectDirectory=/Users/maulikdave/NetBeansProjects/hc/hc-web -Dmaven.home=/opt/homebrew/Cellar/maven/3.9.2/libexec -Dclassworlds.conf=/opt/homebrew/Cellar/maven/3.9.2/libexec/bin/m2.conf &quot;-javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=58339:/Applications/IntelliJ IDEA CE.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /opt/homebrew/Cellar/maven/3.9.2/libexec/boot/plexus-classworlds.license:/opt/homebrew/Cellar/maven/3.9.2/libexec/boot/plexus-classworlds-2.7.0.jar org.codehaus.classworlds.Launcher -Didea.version=2022.2.5 clean compile quarkus:dev\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------&lt; com.abcd.mpt:hc-web &gt;----------------\n[INFO] Building hc-web 1.0.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- clean:3.2.0:clean (default-clean) @ hc-web ---\n[INFO] Deleting /Users/maulikdave/NetBeansProjects/hc/hc-web/target\n[INFO] \n[INFO] --- resources:3.3.0:resources (default-resources) @ hc-web ---\n[INFO] Copying 42 resources\n[INFO] \n[INFO] --- quarkus:3.1.1.Final:generate-code (default) @ hc-web ---\n[INFO] \n[INFO] --- compiler:3.11.0:compile (default-compile) @ hc-web ---\n[INFO] Changes detected - recompiling the module! :source\n[INFO] Compiling 79 source files with javac [debug release 17] to target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[INFO] 10 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.029 s\n[INFO] Finished at: 2023-06-14T17:02:46+05:30\n[INFO] ------------------------------------------------------------------------\n[WARNING] \n[WARNING] Plugin validation issues were detected in 1 plugin(s)\n[WARNING] \n[WARNING]  * org.apache.maven.plugins:maven-resources-plugin:3.3.0\n[WARNING] \n[WARNING] For more or less details, use 'maven.plugin.validation' property with one of the values (case insensitive): [BRIEF, DEFAULT, VERBOSE]\n[WARNING] \n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project hc-web: Compilation failure: Compilation failure: \n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] Couldn't find type javax.enterprise.context.ApplicationScoped. Are you missing a dependency on your classpath?\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n"},{"tags":["java","android","exception","android-view","android-5.0-lollipop"],"comments":[{"owner":{"account_id":4514263,"reputation":7896,"user_id":3669559,"accept_rate":75,"display_name":"Oğuzhan D&#246;ng&#252;l"},"score":0,"creation_date":1494263964,"post_id":43748222,"comment_id":74742901,"body_markdown":"Are you developing a native app or other platforms like Xamarin?","body":"Are you developing a native app or other platforms like Xamarin?"},{"owner":{"account_id":361931,"reputation":8776,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"score":0,"creation_date":1494267284,"post_id":43748222,"comment_id":74744781,"body_markdown":"Normal Android with Java.","body":"Normal Android with Java."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1494772547,"post_id":43748222,"comment_id":74960129,"body_markdown":"I assume you have some kind of comprehension as to where this happens. Copy-paste the code and layout for the relevant activity into your question","body":"I assume you have some kind of comprehension as to where this happens. Copy-paste the code and layout for the relevant activity into your question"},{"owner":{"account_id":361931,"reputation":8776,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"score":0,"creation_date":1494811317,"post_id":43748222,"comment_id":74970616,"body_markdown":"I don&#39;t really know where it happens because the crash report from Crashlytics doesn&#39;t give me any more information and it has never happened to me and no user has ever reported it.  That being said, this answer http://stackoverflow.com/a/43853650/704836 might be onto something as I do use `makeSceneTransitionAnimation` once in my code for a very simple `ImageView`. Since I don&#39;t know of any users experiencing the issue, it is a bit hard to test it.","body":"I don&#39;t really know where it happens because the crash report from Crashlytics doesn&#39;t give me any more information and it has never happened to me and no user has ever reported it.  That being said, this answer <a href=\"http://stackoverflow.com/a/43853650/704836\">stackoverflow.com/a/43853650/704836</a> might be onto something as I do use <code>makeSceneTransitionAnimation</code> once in my code for a very simple <code>ImageView</code>. Since I don&#39;t know of any users experiencing the issue, it is a bit hard to test it."},{"owner":{"account_id":4903022,"reputation":1398,"user_id":3950602,"display_name":"Alexey Ozerov"},"score":0,"creation_date":1519659314,"post_id":43748222,"comment_id":84988689,"body_markdown":"This happens mostly with FireOS devices. No idea why.","body":"This happens mostly with FireOS devices. No idea why."}],"answers":[{"tags":[],"owner":{"account_id":6236664,"reputation":5308,"user_id":4851751,"accept_rate":100,"display_name":"Doron Yakovlev Golani"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1494263984,"creation_date":1494263984,"answer_id":43853650,"question_id":43748222,"body_markdown":"This issue seems related to https://stackoverflow.com/questions/26626344/scene-transition-with-hero-elements-throws-layer-exceeds-max-dimensions-support. \r\n\r\nYou should look at any activity transaction you are making and particularly for the effects of `makeSceneTransitionAnimation()`.","title":"java.lang.IllegalStateException: Unable to create layer for v","body":"<p>This issue seems related to <a href=\"https://stackoverflow.com/questions/26626344/scene-transition-with-hero-elements-throws-layer-exceeds-max-dimensions-support\">Scene transition with hero elements throws Layer exceeds max. dimensions supported by the GPU</a>. </p>\n\n<p>You should look at any activity transaction you are making and particularly for the effects of <code>makeSceneTransitionAnimation()</code>.</p>\n"},{"tags":[],"owner":{"account_id":7745683,"reputation":709,"user_id":5863563,"display_name":"gabhor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539633395,"creation_date":1539633395,"answer_id":52823889,"question_id":43748222,"body_markdown":"I also faced this issue when I tried to create a simple View. I just had to set `android:forceHasOverlappingRendering=&quot;false&quot;` in its xml. Note that it only works from API level 24.","title":"java.lang.IllegalStateException: Unable to create layer for v","body":"<p>I also faced this issue when I tried to create a simple View. I just had to set <code>android:forceHasOverlappingRendering=\"false\"</code> in its xml. Note that it only works from API level 24.</p>\n"},{"tags":[],"owner":{"account_id":7864640,"reputation":2014,"user_id":10109704,"display_name":"Hadi Ahmadi"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1585636639,"creation_date":1570646314,"answer_id":58310313,"question_id":43748222,"body_markdown":"adding `android:hardwareAccelerated=&quot;false&quot;` to `application` tag in `manifest` solve my problem\r\n\r\nEDIT: \r\nplease see comment by @inteist ","title":"java.lang.IllegalStateException: Unable to create layer for v","body":"<p>adding <code>android:hardwareAccelerated=\"false\"</code> to <code>application</code> tag in <code>manifest</code> solve my problem</p>\n\n<p>EDIT: \nplease see comment by @inteist </p>\n"},{"tags":[],"owner":{"account_id":12632292,"reputation":1755,"user_id":9183189,"display_name":"Pradip Tilala"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1599559022,"creation_date":1578555620,"answer_id":59659234,"question_id":43748222,"body_markdown":"    Fatal Exception: java.lang.IllegalStateException: Unable to create layer for LinearLayout, size 1080x4160 exceeds max size 4096\r\n           at android.os.MessageQueue.nativePollOnce(MessageQueue.java)\r\n           at android.os.MessageQueue.next(MessageQueue.java:323)\r\n           at android.os.Looper.loop(Looper.java:136)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6186)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n\r\nI have same issue for RecyclerView inside NestedScrollView\r\n\r\nRecyclerView &lt;- inside NestedScrollView\r\n\r\n**Solution:**\r\nAs RecyclerView inside scrollview or nestedscrollview try to load all items at once. As RecyclerView loads all items at once, also loads items that are not visible right now on screen. If you put log inside onBindViewHolder of RecylerView you find that all items loads at the start instead of based on the visibility of the item.\r\n\r\nThis causes UI to load more than 1-1.5 screens of content at a time. This causes the parent LinearLayout (inside the ScrollView) to throw exception. It&#39;s suggested to paginate your content and load no more than 1-1.5 screens of content at a time. [I had also issue related to same with Recyclerview without animation](https://android--kotlin.blogspot.com/2019/07/android-java-lang-illegalstateexception-unable-to-create-layer-for-linearlayout.html).","title":"java.lang.IllegalStateException: Unable to create layer for v","body":"<pre><code>Fatal Exception: java.lang.IllegalStateException: Unable to create layer for LinearLayout, size 1080x4160 exceeds max size 4096\n       at android.os.MessageQueue.nativePollOnce(MessageQueue.java)\n       at android.os.MessageQueue.next(MessageQueue.java:323)\n       at android.os.Looper.loop(Looper.java:136)\n       at android.app.ActivityThread.main(ActivityThread.java:6186)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n</code></pre>\n<p>I have same issue for RecyclerView inside NestedScrollView</p>\n<p>RecyclerView &lt;- inside NestedScrollView</p>\n<p><strong>Solution:</strong>\nAs RecyclerView inside scrollview or nestedscrollview try to load all items at once. As RecyclerView loads all items at once, also loads items that are not visible right now on screen. If you put log inside onBindViewHolder of RecylerView you find that all items loads at the start instead of based on the visibility of the item.</p>\n<p>This causes UI to load more than 1-1.5 screens of content at a time. This causes the parent LinearLayout (inside the ScrollView) to throw exception. It's suggested to paginate your content and load no more than 1-1.5 screens of content at a time. <a href=\"https://android--kotlin.blogspot.com/2019/07/android-java-lang-illegalstateexception-unable-to-create-layer-for-linearlayout.html\" rel=\"nofollow noreferrer\">I had also issue related to same with Recyclerview without animation</a>.</p>\n"},{"tags":[],"owner":{"account_id":5267547,"reputation":3135,"user_id":4206951,"accept_rate":25,"display_name":"Oush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617788032,"creation_date":1617788032,"answer_id":66983305,"question_id":43748222,"body_markdown":"In my case, it was a **silly mistake** and Android Studio didn&#39;t show any warning.\r\n\r\nI had a view set with the id of `@+id/myView` yet I had also set in the same view/tag `android:layout_below=@id/myView`.\r\n\r\nSomething like this:\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textview&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:layout_below=&quot;@id/textview&quot; /&gt; &lt;!-- The traitor :( --&gt;","title":"java.lang.IllegalStateException: Unable to create layer for v","body":"<p>In my case, it was a <strong>silly mistake</strong> and Android Studio didn't show any warning.</p>\n<p>I had a view set with the id of <code>@+id/myView</code> yet I had also set in the same view/tag <code>android:layout_below=@id/myView</code>.</p>\n<p>Something like this:</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/textview&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;wrap_content&quot;\n   android:layout_below=&quot;@id/textview&quot; /&gt; &lt;!-- The traitor :( --&gt;\n</code></pre>\n"}],"owner":{"account_id":361931,"reputation":8776,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17943,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":5,"score":31,"last_activity_date":1686876345,"creation_date":1493764108,"question_id":43748222,"body_markdown":"I have this exception on crashlytics and have no idea how to reproduce or what the cause might be. Does anyone have any pointers as to where I should start looking? Only affects Android 5+.\r\n\r\n    Fatal Exception: java.lang.IllegalStateException: Unable to create layer for v\r\n           at android.os.MessageQueue.nativePollOnce(MessageQueue.java)\r\n           at android.os.MessageQueue.next(MessageQueue.java:323)\r\n           at android.os.Looper.loop(Looper.java:135)\r\n           at android.app.ActivityThread.main(ActivityThread.java:5585)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)\r\n\r\nThanks. \r\n\r\n\r\n\r\nEdit: I would like to update that it doesn&#39;t only affect Android 5, it seems to affect Android 5+","title":"java.lang.IllegalStateException: Unable to create layer for v","body":"<p>I have this exception on crashlytics and have no idea how to reproduce or what the cause might be. Does anyone have any pointers as to where I should start looking? Only affects Android 5+.</p>\n\n<pre><code>Fatal Exception: java.lang.IllegalStateException: Unable to create layer for v\n       at android.os.MessageQueue.nativePollOnce(MessageQueue.java)\n       at android.os.MessageQueue.next(MessageQueue.java:323)\n       at android.os.Looper.loop(Looper.java:135)\n       at android.app.ActivityThread.main(ActivityThread.java:5585)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)\n</code></pre>\n\n<p>Thanks. </p>\n\n<p>Edit: I would like to update that it doesn't only affect Android 5, it seems to affect Android 5+</p>\n"},{"tags":["java","android","android-recyclerview","android-livedata","mutablelivedata"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1686895454,"post_id":76486247,"comment_id":134863732,"body_markdown":"Your question lacks a supporting code. Try adding some supporting code in a [minimal reproducible](https://stackoverflow.com/help/minimal-reproducible-example) form. This helps us to understand and figure out your problem better.","body":"Your question lacks a supporting code. Try adding some supporting code in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible</a> form. This helps us to understand and figure out your problem better."}],"owner":{"account_id":28714937,"reputation":3,"user_id":21989716,"display_name":"Soil Milk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686874845,"creation_date":1686874845,"question_id":76486247,"body_markdown":"So I have a LiveData RVA (Recycler View Adapter), along with an `ArrayList()`, all of which are `MutableLiveData`. However, I need to let the RVA know when the `ArrayList()`&#39;s are updating, so I need to call `notifyItemInserted`, `notifyItemRangeDeleted`, etc. However, when I set multiple `Observer`s to observe the RVA in order to perform the following, since **they all had the same owner (a fragment)**, all the observers would be notified when **I needed only 1.**\r\n\r\nFor example, if I added 1 element to `ArrayList()` :\r\n\r\n**Expected**: RVA calls `notifyItemInserted` through 1 observer\r\n\r\n**What Happened** RVA calls a bunch of different methods through multiple observers\r\n\r\nI don&#39;t think this is the right way to update a `MutableLiveData` RVA, but I don&#39;t know any other way. Unlike the `ArrayList()`, where you can just use `setValue` to update it, RVA has methods that I can&#39;t call without alerting a bunch of other methods.\r\n\r\nOne way I thought about was implementing a for loop to check what modification the `ArrayList()` was receiving and then relaying that to the RVA so it could use the correct `notify....()`. But I feel like that would be inefficient, especially since the user is updating the `ArrayList()` quite often.","title":"What to do if RVA is a LiveData but multiple observers are pointing to it to call notify.....()","body":"<p>So I have a LiveData RVA (Recycler View Adapter), along with an <code>ArrayList()</code>, all of which are <code>MutableLiveData</code>. However, I need to let the RVA know when the <code>ArrayList()</code>'s are updating, so I need to call <code>notifyItemInserted</code>, <code>notifyItemRangeDeleted</code>, etc. However, when I set multiple <code>Observer</code>s to observe the RVA in order to perform the following, since <strong>they all had the same owner (a fragment)</strong>, all the observers would be notified when <strong>I needed only 1.</strong></p>\n<p>For example, if I added 1 element to <code>ArrayList()</code> :</p>\n<p><strong>Expected</strong>: RVA calls <code>notifyItemInserted</code> through 1 observer</p>\n<p><strong>What Happened</strong> RVA calls a bunch of different methods through multiple observers</p>\n<p>I don't think this is the right way to update a <code>MutableLiveData</code> RVA, but I don't know any other way. Unlike the <code>ArrayList()</code>, where you can just use <code>setValue</code> to update it, RVA has methods that I can't call without alerting a bunch of other methods.</p>\n<p>One way I thought about was implementing a for loop to check what modification the <code>ArrayList()</code> was receiving and then relaying that to the RVA so it could use the correct <code>notify....()</code>. But I feel like that would be inefficient, especially since the user is updating the <code>ArrayList()</code> quite often.</p>\n"},{"tags":["java","spring-boot","logging","logstash"],"answers":[{"tags":[],"owner":{"account_id":12256914,"reputation":59,"user_id":8945727,"display_name":"Marcos Stefani Rosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686873112,"creation_date":1686873112,"answer_id":76486155,"question_id":76470299,"body_markdown":"I discover that I need to use the thag appender. Thank you...\r\n\r\n```\r\n    &lt;configuration&gt;\r\n        &lt;property resource=&quot;application.properties&quot; /&gt;\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;logLevel/&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                                &quot;service&quot;: &quot;${spring.application.name:-}&quot;,\r\n                                &quot;traceId&quot;: &quot;%X{traceId:-}&quot;,\r\n                                &quot;spanId&quot;: &quot;%X{spanId:-}&quot;,\r\n                                &quot;pid&quot;: &quot;${PID:-}&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                    &lt;threadName /&gt;\r\n                    &lt;loggerName&gt;\r\n                        &lt;shortenedLoggerNameLength&gt;36&lt;/shortenedLoggerNameLength&gt;\r\n                    &lt;/loggerName&gt;\r\n                    &lt;arguments&gt;\r\n                        &lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\r\n                    &lt;/arguments&gt;\r\n                    &lt;stackTrace /&gt;\r\n                    &lt;message /&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n```","title":"How to add spring property or environment variable in LoggingEventCompositeJsonEncoder?","body":"<p>I discover that I need to use the thag appender. Thank you...</p>\n<pre><code>    &lt;configuration&gt;\n        &lt;property resource=&quot;application.properties&quot; /&gt;\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n                &lt;providers&gt;\n                    &lt;logLevel/&gt;\n                    &lt;pattern&gt;\n                        &lt;pattern&gt;\n                            {\n                                &quot;service&quot;: &quot;${spring.application.name:-}&quot;,\n                                &quot;traceId&quot;: &quot;%X{traceId:-}&quot;,\n                                &quot;spanId&quot;: &quot;%X{spanId:-}&quot;,\n                                &quot;pid&quot;: &quot;${PID:-}&quot;\n                            }\n                        &lt;/pattern&gt;\n                    &lt;/pattern&gt;\n                    &lt;threadName /&gt;\n                    &lt;loggerName&gt;\n                        &lt;shortenedLoggerNameLength&gt;36&lt;/shortenedLoggerNameLength&gt;\n                    &lt;/loggerName&gt;\n                    &lt;arguments&gt;\n                        &lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\n                    &lt;/arguments&gt;\n                    &lt;stackTrace /&gt;\n                    &lt;message /&gt;\n                &lt;/providers&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n        &lt;root level=&quot;DEBUG&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n        &lt;/root&gt;\n    &lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":12256914,"reputation":59,"user_id":8945727,"display_name":"Marcos Stefani Rosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686873112,"creation_date":1686719647,"question_id":76470299,"body_markdown":"I have the configuration below. However, I need to put an environment variable after the LogLevel as a specific field. I don&#39;t know if it makes it easier, but I have this environment variable mapped in the `application.properties` file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;threadName /&gt;\r\n                &lt;logLevel /&gt;\r\n                &lt;loggerName&gt;\r\n                    &lt;shortenedLoggerNameLength&gt;36&lt;/shortenedLoggerNameLength&gt;\r\n                &lt;/loggerName&gt;\r\n                &lt;arguments&gt;\r\n                    &lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\r\n                &lt;/arguments&gt;\r\n                &lt;stackTrace /&gt;\r\n                &lt;message /&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"How to add spring property or environment variable in LoggingEventCompositeJsonEncoder?","body":"<p>I have the configuration below. However, I need to put an environment variable after the LogLevel as a specific field. I don't know if it makes it easier, but I have this environment variable mapped in the <code>application.properties</code> file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                &lt;threadName /&gt;\n                &lt;logLevel /&gt;\n                &lt;loggerName&gt;\n                    &lt;shortenedLoggerNameLength&gt;36&lt;/shortenedLoggerNameLength&gt;\n                &lt;/loggerName&gt;\n                &lt;arguments&gt;\n                    &lt;includeNonStructuredArguments&gt;false&lt;/includeNonStructuredArguments&gt;\n                &lt;/arguments&gt;\n                &lt;stackTrace /&gt;\n                &lt;message /&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686871206,"creation_date":1686871206,"answer_id":76486055,"question_id":76486039,"body_markdown":"From within the _Employee_ class constructor methods, you&#39;re initializing a _local variable_, as opposed to assigning the _class variable_.\r\n\r\n```java\r\ndouble[] weeklyHours = new double[DEFAULT_WEEKS];\r\n```\r\n\r\n```java\r\ndouble[] weeklyHours = new double[numWeeks];\r\n```\r\n\r\nJust remove the declaration type, to access the _class variable_.\r\n\r\n```java\r\nweeklyHours = new double[DEFAULT_WEEKS];\r\n```\r\n\r\n```java\r\nweeklyHours = new double[numWeeks];\r\n```","title":"Cannot read the array length because &quot;this.weeklyHours&quot; is null","body":"<p>From within the <em>Employee</em> class constructor methods, you're initializing a <em>local variable</em>, as opposed to assigning the <em>class variable</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] weeklyHours = new double[DEFAULT_WEEKS];\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>double[] weeklyHours = new double[numWeeks];\n</code></pre>\n<p>Just remove the declaration type, to access the <em>class variable</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>weeklyHours = new double[DEFAULT_WEEKS];\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>weeklyHours = new double[numWeeks];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686871244,"creation_date":1686871244,"answer_id":76486058,"question_id":76486039,"body_markdown":"You have the same bug in both constructors. You are ***shadowing*** the field with a new local variable. Use `this` like you did with the other fields to avoid this class of error.\r\n\r\n    public Employee(String name, double salary) {\r\n        this.name = name;\r\n        this.salary = salary;\r\n        // double[] weeklyHours = new double[DEFAULT_WEEKS];\r\n        this.weeklyHours = new double[DEFAULT_WEEKS];\r\n    }\r\n\r\n    public Employee(String name, double salary, int numWeeks) {\r\n        this.name = name;\r\n        this.salary = salary;\r\n        // double[] weeklyHours = new double[numWeeks];\r\n        this.weeklyHours = new double[numWeeks];\r\n    }\r\n\r\nYou could replace the first constructor with\r\n\r\n    public Employee(String name, double salary) {\r\n        this(name, salary, DEFAULT_WEEKS);\r\n    }","title":"Cannot read the array length because &quot;this.weeklyHours&quot; is null","body":"<p>You have the same bug in both constructors. You are <em><strong>shadowing</strong></em> the field with a new local variable. Use <code>this</code> like you did with the other fields to avoid this class of error.</p>\n<pre><code>public Employee(String name, double salary) {\n    this.name = name;\n    this.salary = salary;\n    // double[] weeklyHours = new double[DEFAULT_WEEKS];\n    this.weeklyHours = new double[DEFAULT_WEEKS];\n}\n\npublic Employee(String name, double salary, int numWeeks) {\n    this.name = name;\n    this.salary = salary;\n    // double[] weeklyHours = new double[numWeeks];\n    this.weeklyHours = new double[numWeeks];\n}\n</code></pre>\n<p>You could replace the first constructor with</p>\n<pre><code>public Employee(String name, double salary) {\n    this(name, salary, DEFAULT_WEEKS);\n}\n</code></pre>\n"}],"owner":{"account_id":28830326,"reputation":1,"user_id":22080926,"display_name":"jjDestroyer4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1686873842,"accepted_answer_id":76486055,"answer_count":2,"score":-1,"last_activity_date":1686871813,"creation_date":1686870848,"question_id":76486039,"body_markdown":"I am getting a `java.lang.NullPointerException` error for my `calculateTotalPay` method and `calculateAveragePay` method. The error message states that it cannot read the array length because `this.weeklyHours` is `null`. \r\n\r\n```java\r\npublic double calculateAveragePay() {\r\n  double averagePay = 0;\r\n  double totalPay = 0;\r\n // totalPay = calculateTotalPay();\r\n\r\n  averagePay = totalPay / weeklyHours.length;\r\n  return averagePay;\r\n}\r\n\r\npublic double calculateTotalPay() {\r\n  int totalAmount = 0;\r\n // for (int index = 0; index &lt; weeklyHours.length; index++)\r\n    totalAmount += weeklyHours[index];\r\n  return totalAmount;\r\n} \r\n```\r\n\r\n\r\n    public class Employee {\r\n    \tprivate static final int DEFAULT_WEEKS = 52;\r\n    \tprivate String name;\r\n    \tprivate double salary;\r\n    \tprivate double[] weeklyHours;\r\n    \t//private int numWeeks;\r\n    \r\n    \tpublic Employee(String name, double salary) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.salary = salary;\r\n    \t\tdouble[] weeklyHours = new double[DEFAULT_WEEKS];\r\n    \t}\r\n    \r\n    \tpublic Employee(String name, double salary, int numWeeks) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.salary = salary;\r\n    \t\tdouble[] weeklyHours = new double[numWeeks];\r\n    \t}\r\n\r\n","title":"Cannot read the array length because &quot;this.weeklyHours&quot; is null","body":"<p>I am getting a <code>java.lang.NullPointerException</code> error for my <code>calculateTotalPay</code> method and <code>calculateAveragePay</code> method. The error message states that it cannot read the array length because <code>this.weeklyHours</code> is <code>null</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double calculateAveragePay() {\n  double averagePay = 0;\n  double totalPay = 0;\n // totalPay = calculateTotalPay();\n\n  averagePay = totalPay / weeklyHours.length;\n  return averagePay;\n}\n\npublic double calculateTotalPay() {\n  int totalAmount = 0;\n // for (int index = 0; index &lt; weeklyHours.length; index++)\n    totalAmount += weeklyHours[index];\n  return totalAmount;\n} \n</code></pre>\n<pre><code>public class Employee {\n    private static final int DEFAULT_WEEKS = 52;\n    private String name;\n    private double salary;\n    private double[] weeklyHours;\n    //private int numWeeks;\n\n    public Employee(String name, double salary) {\n        this.name = name;\n        this.salary = salary;\n        double[] weeklyHours = new double[DEFAULT_WEEKS];\n    }\n\n    public Employee(String name, double salary, int numWeeks) {\n        this.name = name;\n        this.salary = salary;\n        double[] weeklyHours = new double[numWeeks];\n    }\n</code></pre>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1306627158,"post_id":6165104,"comment_id":7164690,"body_markdown":"You guys are right. Please Disregard","body":"You guys are right. Please Disregard"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1306629932,"post_id":6165104,"comment_id":7164891,"body_markdown":"I wonder what if I have a file with 8388609 terabytes, at least in the future :\\","body":"I wonder what if I have a file with 8388609 terabytes, at least in the future :\\"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1306657657,"post_id":6165104,"comment_id":7167023,"body_markdown":"There is likely to be a natural limit to how large a useful file can be.  Disks are getting bigger/cheaper but not so much faster. A typical disk can write 40 MB/s and a 1 GB file takes about half a minute, but a 1 TB =&gt; 8 hours, 1 PT =&gt; 1 year. Disk speeds may have improved by about 140x in the last 30 years, but it is hard to imagine a one peta-byte will be very practical and certainly not a 1 exa-byte file.","body":"There is likely to be a natural limit to how large a useful file can be.  Disks are getting bigger/cheaper but not so much faster. A typical disk can write 40 MB/s and a 1 GB file takes about half a minute, but a 1 TB =&gt; 8 hours, 1 PT =&gt; 1 year. Disk speeds may have improved by about 140x in the last 30 years, but it is hard to imagine a one peta-byte will be very practical and certainly not a 1 exa-byte file."}],"answers":[{"tags":[],"owner":{"account_id":179030,"reputation":13845,"user_id":411393,"accept_rate":100,"display_name":"QuantumMechanic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306627061,"creation_date":1306627061,"answer_id":6165114,"question_id":6165104,"body_markdown":"According to the [`File` API doc](http://download.oracle.com/javase/6/docs/api/java/io/File.html), `length()` returns `long`, not `int`.\r\n","title":"Getting the size of a big file","body":"<p>According to the <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html\" rel=\"nofollow\"><code>File</code> API doc</a>, <code>length()</code> returns <code>long</code>, not <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1306627088,"creation_date":1306627088,"answer_id":6165117,"question_id":6165104,"body_markdown":"`File.length()` returns a long ","title":"Getting the size of a big file","body":"<p><code>File.length()</code> returns a long </p>\n"},{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306627226,"creation_date":1306627226,"answer_id":6165125,"question_id":6165104,"body_markdown":"I believe that `File.length()` returns a `long`? That should be sufficient.","title":"Getting the size of a big file","body":"<p>I believe that <code>File.length()</code> returns a <code>long</code>? That should be sufficient.</p>\n"}],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1608,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":6165117,"answer_count":3,"score":1,"last_activity_date":1686870185,"creation_date":1306626958,"question_id":6165104,"body_markdown":"Pretty basic stuff but I can&#39;t find a way to read the size of a file with several gigabytes.\r\nI&#39;m aware of the method `File.length`.\r\nBut int max value is **2,147,483,647**.\r\nIs there a standard API method to read the size of a file with more than 2 gigabytes (maybe something that returns the length in kilobytes, or with Long / BigInteger)? If there isn&#39;t, which libraries are used to do that?\r\n\r\n**Update**\r\n\r\nPeople kindly pointed out that I should RTFM. Long max size can fit 8388608 terabytes. :)\r\n\r\n","title":"Getting the size of a big file","body":"<p>Pretty basic stuff but I can't find a way to read the size of a file with several gigabytes.\nI'm aware of the method <code>File.length</code>.\nBut int max value is <strong>2,147,483,647</strong>.\nIs there a standard API method to read the size of a file with more than 2 gigabytes (maybe something that returns the length in kilobytes, or with Long / BigInteger)? If there isn't, which libraries are used to do that?</p>\n<p><strong>Update</strong></p>\n<p>People kindly pointed out that I should RTFM. Long max size can fit 8388608 terabytes. :)</p>\n"},{"tags":["java","file","maven","glassfish","reload"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1306447090,"creation_date":1306447090,"answer_id":6145617,"question_id":6145578,"body_markdown":"These possibilities come to mind:\r\n\r\n - Use the [antrun plugin][1] and the\r\n   [`&lt;touch&gt;`][2] task\r\n - [Use the GMaven plugin][3] and touch the file programmatically using Groovy\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-antrun-plugin/\r\n  [2]: http://ant.apache.org/manual/Tasks/touch.html\r\n  [3]: http://docs.codehaus.org/display/GMAVEN/Executing+Groovy+Code","title":"Maven goal / plugin to touch a file","body":"<p>These possibilities come to mind:</p>\n\n<ul>\n<li>Use the <a href=\"http://maven.apache.org/plugins/maven-antrun-plugin/\">antrun plugin</a> and the\n<a href=\"http://ant.apache.org/manual/Tasks/touch.html\"><code>&lt;touch&gt;</code></a> task</li>\n<li><a href=\"http://docs.codehaus.org/display/GMAVEN/Executing+Groovy+Code\">Use the GMaven plugin</a> and touch the file programmatically using Groovy</li>\n</ul>\n"}],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3310,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":6145617,"answer_count":1,"score":8,"last_activity_date":1686870129,"creation_date":1306446841,"question_id":6145578,"body_markdown":"I&#39;m looking for a way to touch a file using maven. \r\nThe specific user case for this is touching a `.reload` file in order to force Glassfish to redeploy an Application.\r\n\r\nIs there any built-in functionality or plugin able to touch a file?","title":"Maven goal / plugin to touch a file","body":"<p>I'm looking for a way to touch a file using maven.\nThe specific user case for this is touching a <code>.reload</code> file in order to force Glassfish to redeploy an Application.</p>\n<p>Is there any built-in functionality or plugin able to touch a file?</p>\n"},{"tags":["java","android","webview","android-webview"],"owner":{"account_id":16512724,"reputation":67,"user_id":11931029,"display_name":"dan123123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686868773,"creation_date":1686868773,"question_id":76485914,"body_markdown":"I&#39;m trying to copy a webview&#39;s texture into a 500x500 pixel OpenGL texture using a bitmap and canvas (which are both 500x500 as well). I call the `draw(Canvas canvas)` method on the webview, but it doesn&#39;t fit properly into the 500x500 texture because the webview seems to be the dimensions of the device&#39;s screen. Is there a way to set the dimensions of the webview, ideally in pixels, so it fits properly into the texture?  \r\n\r\nI attempted to set `setUseWideViewPort` to `true` and adjusted the width and height in the meta tag in HTML, which had some effect on the dimensions. Setting the width and height to a large value (6000) seemed to fit more content into the texture, but I don&#39;t know how to perfectly fit the webview into it. Thanks for any help! ","title":"Specifying the width and height of a webview in android","body":"<p>I'm trying to copy a webview's texture into a 500x500 pixel OpenGL texture using a bitmap and canvas (which are both 500x500 as well). I call the <code>draw(Canvas canvas)</code> method on the webview, but it doesn't fit properly into the 500x500 texture because the webview seems to be the dimensions of the device's screen. Is there a way to set the dimensions of the webview, ideally in pixels, so it fits properly into the texture?</p>\n<p>I attempted to set <code>setUseWideViewPort</code> to <code>true</code> and adjusted the width and height in the meta tag in HTML, which had some effect on the dimensions. Setting the width and height to a large value (6000) seemed to fit more content into the texture, but I don't know how to perfectly fit the webview into it. Thanks for any help!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686859966,"post_id":76484386,"comment_id":134860077,"body_markdown":"I never use this, because of this specific reason, _it doesn&#39;t make sense_.  It&#39;s a hack, almost.  You&#39;re simply supplying the object type to the compiler.  So, _1_, the array size doesn&#39;t matter, and _3_, the syntax must comply.","body":"I never use this, because of this specific reason, <i>it doesn&#39;t make sense</i>.  It&#39;s a hack, almost.  You&#39;re simply supplying the object type to the compiler.  So, <i>1</i>, the array size doesn&#39;t matter, and <i>3</i>, the syntax must comply."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686852853,"creation_date":1686852853,"answer_id":76484451,"question_id":76484386,"body_markdown":"&gt; lst.toArray(new int[0][]); - The size 0 does not matter here. Trying to understand why? I tried looking at the implementation of the toArray method inside ArrayList as well.\r\n\r\nFrom the documentation: \r\n&gt; ...If the collection fits in the specified array, it is returned therein. Otherwise, a new array is allocated with the runtime type of the specified array and the size of this collection.\r\n\r\nAny size less than `lst.size()` will result in a new array being allocated.\r\n\r\n&gt; lst.toArray(new int[lst.size()][]) - Similar to (1), I can init use lst.size(). Does it mean there is no conceptual difference between (1) and (2)\r\n\r\nPretty much.  The only difference is that the array object you passed in here will be used, not a newly allocated array.\r\n\r\n&gt; Given (1) and (2) both work correctly, I tried this lst.toArray(new int[][]) - This does not compile and gives Array initializer expected. Is it related to the grammar of Java where if you are instantiating an array, size needs to be mandatory and hence the error?\r\n\r\nThis is correct.","title":"Understanding List.java&#39;s `&lt;T&gt; T[] toArray(T[] a)` method","body":"<blockquote>\n<p>lst.toArray(new int[0][]); - The size 0 does not matter here. Trying to understand why? I tried looking at the implementation of the toArray method inside ArrayList as well.</p>\n</blockquote>\n<p>From the documentation:</p>\n<blockquote>\n<p>...If the collection fits in the specified array, it is returned therein. Otherwise, a new array is allocated with the runtime type of the specified array and the size of this collection.</p>\n</blockquote>\n<p>Any size less than <code>lst.size()</code> will result in a new array being allocated.</p>\n<blockquote>\n<p>lst.toArray(new int[lst.size()][]) - Similar to (1), I can init use lst.size(). Does it mean there is no conceptual difference between (1) and (2)</p>\n</blockquote>\n<p>Pretty much.  The only difference is that the array object you passed in here will be used, not a newly allocated array.</p>\n<blockquote>\n<p>Given (1) and (2) both work correctly, I tried this lst.toArray(new int[][]) - This does not compile and gives Array initializer expected. Is it related to the grammar of Java where if you are instantiating an array, size needs to be mandatory and hence the error?</p>\n</blockquote>\n<p>This is correct.</p>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686853243,"creation_date":1686853243,"answer_id":76484496,"question_id":76484386,"body_markdown":"According to `toArray(T[] a)` javadoc:\r\n\r\n&gt; If the list fits in the specified array, it is returned therein.\r\n&gt; Otherwise, a new array is allocated with the runtime type of the\r\n&gt; specified array and the size of this list.\r\n\r\nSo size of passed array affects would a new array be allocated or not. Thus in practice you are either pass zero sized array (`new int[0][]` in your case), either array of size &gt;= to `lst.size()`. Passing an array of positive size, but less then list size makes no sense as it would be thrown to create a new array that fits the list. Usually programmers prefer to pass zero sized array as it easy and short.\r\n\r\nRelating to 3) - you are absolutely right, Java requires array size to be defined when you create an array.","title":"Understanding List.java&#39;s `&lt;T&gt; T[] toArray(T[] a)` method","body":"<p>According to <code>toArray(T[] a)</code> javadoc:</p>\n<blockquote>\n<p>If the list fits in the specified array, it is returned therein.\nOtherwise, a new array is allocated with the runtime type of the\nspecified array and the size of this list.</p>\n</blockquote>\n<p>So size of passed array affects would a new array be allocated or not. Thus in practice you are either pass zero sized array (<code>new int[0][]</code> in your case), either array of size &gt;= to <code>lst.size()</code>. Passing an array of positive size, but less then list size makes no sense as it would be thrown to create a new array that fits the list. Usually programmers prefer to pass zero sized array as it easy and short.</p>\n<p>Relating to 3) - you are absolutely right, Java requires array size to be defined when you create an array.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686868324,"creation_date":1686860881,"answer_id":76485297,"question_id":76484386,"body_markdown":"_Technically_, you should be using a _List\\&lt;Integer\\&gt;_, and not an _int[]_.  \r\nAlthough, in Java, an array of _int_ is recognized as an _object_.&amp;nbsp; Thus, providing it as the type will work.\r\n\r\nThe _Collections Framework_ was made for use with objects, and not primitive data-types.\r\n\r\n&gt; _&quot;... The size `0` does not matter here. Trying to understand why? ...&quot;_\r\n\r\nEssentially, the compiler needs to know what the object is&amp;mdash;so _new int[0]_ will suffice.\r\n\r\n&gt; _&quot;... Does it mean there is no conceptual difference between (1) and (2) ...&quot;_\r\n\r\nMore or less, yes.\r\n\r\n&gt; _&quot;... I tried this `lst.toArray(new int[][])` ..._  \r\n&gt; _... Is it related to the grammar of Java where if you are instantiating an array, size needs to be mandatory and hence the error?&quot;_\r\n\r\nExactly, the syntax must comply.\r\n\r\nI recommend the following book, which covers this topic well&amp;mdash;the interoperability of the _Collections Framework_, objects, and arrays.  \r\n_[Java: The Complete Reference, Twelfth Edition, 12th Edition](https://www.oreilly.com/library/view/java-the-complete/9781260463422/)_.","title":"Understanding List.java&#39;s `&lt;T&gt; T[] toArray(T[] a)` method","body":"<p><em>Technically</em>, you should be using a <em>List&lt;Integer&gt;</em>, and not an <em>int[]</em>.<br />\nAlthough, in Java, an array of <em>int</em> is recognized as an <em>object</em>.  Thus, providing it as the type will work.</p>\n<p>The <em>Collections Framework</em> was made for use with objects, and not primitive data-types.</p>\n<blockquote>\n<p><em>&quot;... The size <code>0</code> does not matter here. Trying to understand why? ...&quot;</em></p>\n</blockquote>\n<p>Essentially, the compiler needs to know what the object is—so <em>new int[0]</em> will suffice.</p>\n<blockquote>\n<p><em>&quot;... Does it mean there is no conceptual difference between (1) and (2) ...&quot;</em></p>\n</blockquote>\n<p>More or less, yes.</p>\n<blockquote>\n<p><em>&quot;... I tried this <code>lst.toArray(new int[][])</code> ...</em><br />\n<em>... Is it related to the grammar of Java where if you are instantiating an array, size needs to be mandatory and hence the error?&quot;</em></p>\n</blockquote>\n<p>Exactly, the syntax must comply.</p>\n<p>I recommend the following book, which covers this topic well—the interoperability of the <em>Collections Framework</em>, objects, and arrays.<br />\n<em><a href=\"https://www.oreilly.com/library/view/java-the-complete/9781260463422/\" rel=\"nofollow noreferrer\">Java: The Complete Reference, Twelfth Edition, 12th Edition</a></em>.</p>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1686868324,"creation_date":1686852205,"question_id":76484386,"body_markdown":"Have a Java list as `List&lt;int[]&gt; lst = new ArrayList&lt;&gt;();`\r\n\r\nI have the following code snippet&#39;s that I am trying to decipher. They all relate to understanding of generics and the the method `toArray()`\r\n1. `lst.toArray(new int[0][]);` - The size `0` does not matter here. Trying to understand why? I tried looking at the implementation of the toArray method inside `ArrayList` as well.\r\n\r\n2. `lst.toArray(new int[lst.size()][])` - Similar to (1), I can init use `lst.size()`. Does it mean there is no conceptual difference between (1) and (2)\r\n\r\n3. Given (1) and (2) both work correctly, I tried this `lst.toArray(new int[][])` - This does not compile and gives `Array initializer expected`. Is it related to the grammar of Java where if you are instantiating an array, size needs to be mandatory and hence the error?\r\n\r\nCan someone help me understand this? \r\n","title":"Understanding List.java&#39;s `&lt;T&gt; T[] toArray(T[] a)` method","body":"<p>Have a Java list as <code>List&lt;int[]&gt; lst = new ArrayList&lt;&gt;();</code></p>\n<p>I have the following code snippet's that I am trying to decipher. They all relate to understanding of generics and the the method <code>toArray()</code></p>\n<ol>\n<li><p><code>lst.toArray(new int[0][]);</code> - The size <code>0</code> does not matter here. Trying to understand why? I tried looking at the implementation of the toArray method inside <code>ArrayList</code> as well.</p>\n</li>\n<li><p><code>lst.toArray(new int[lst.size()][])</code> - Similar to (1), I can init use <code>lst.size()</code>. Does it mean there is no conceptual difference between (1) and (2)</p>\n</li>\n<li><p>Given (1) and (2) both work correctly, I tried this <code>lst.toArray(new int[][])</code> - This does not compile and gives <code>Array initializer expected</code>. Is it related to the grammar of Java where if you are instantiating an array, size needs to be mandatory and hence the error?</p>\n</li>\n</ol>\n<p>Can someone help me understand this?</p>\n"},{"tags":["java","amazon-web-services","kubernetes","terraform","quarkus"],"comments":[{"owner":{"account_id":11380463,"reputation":14217,"user_id":8343484,"display_name":"Marko E"},"score":0,"creation_date":1686822795,"post_id":76475625,"comment_id":134853460,"body_markdown":"Ok, and what happens when you run `terraform workspace show` in the same directory?","body":"Ok, and what happens when you run <code>terraform workspace show</code> in the same directory?"},{"owner":{"account_id":27519887,"reputation":1,"user_id":21000242,"display_name":"iAmAwfulAtProgramming"},"score":0,"creation_date":1686833545,"post_id":76475625,"comment_id":134855752,"body_markdown":"@MarkoE. Hi, I have resolved the issue now and have posted the solution, was super simple in the end :)","body":"@MarkoE. Hi, I have resolved the issue now and have posted the solution, was super simple in the end :)"}],"answers":[{"tags":[],"owner":{"account_id":27519887,"reputation":1,"user_id":21000242,"display_name":"iAmAwfulAtProgramming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686867607,"creation_date":1686833508,"answer_id":76482677,"question_id":76475625,"body_markdown":"Adding the following line to my `application.properties` resolved the issue. \r\n\r\n```\r\nquarkus.kubernetes.env.configmaps=CONFIG_MAP_NAME\r\n```\r\n\r\nIt seems as though the issue was that the configMap was being deployed correctly in the container, but wasn&#39;t setting the values as environment variables in quarkus. This line sets all the values in the configMap as environment variables in Quarkus. ","title":"Quarkus not picking up Kubernetes environment variable","body":"<p>Adding the following line to my <code>application.properties</code> resolved the issue.</p>\n<pre><code>quarkus.kubernetes.env.configmaps=CONFIG_MAP_NAME\n</code></pre>\n<p>It seems as though the issue was that the configMap was being deployed correctly in the container, but wasn't setting the values as environment variables in quarkus. This line sets all the values in the configMap as environment variables in Quarkus.</p>\n"}],"owner":{"account_id":27519887,"reputation":1,"user_id":21000242,"display_name":"iAmAwfulAtProgramming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76482677,"answer_count":1,"score":0,"last_activity_date":1686867607,"creation_date":1686759332,"question_id":76475625,"body_markdown":"I have two environments when I am deploying on GitHub, and want to be able to discern between the two in my logs, therefore I have an `ENVIRONMENT` field which is set to either `QA` or `LIVE`.\r\n\r\nHere is how I set these fields in `main.tf`:\r\n\r\n```\r\nlocals {\r\n  environment = {\r\n    qa = &quot;QA&quot;\r\n    live = &quot;LIVE&quot;\r\n  }\r\n}\r\n\r\nresource &quot;kubernetes_manifest&quot; &quot;config&quot; {\r\n  manifest = {\r\n    &quot;apiVersion&quot; = &quot;v1&quot;\r\n    &quot;kind&quot;       = &quot;ConfigMap&quot;\r\n    &quot;metadata&quot; = {\r\n      &quot;name&quot;      = &quot;config&quot;\r\n      &quot;namespace&quot; = &quot;test&quot;\r\n    }\r\n    &quot;data&quot; = {\r\n      &quot;ENVIRONMENT&quot; = local.environment[terraform.workspace],\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis sets the `ENVIRONMENT` field in my configMap. I have confirmed this running `kubectl` commands, and can see this field with in the configMap with the deployment.\r\n\r\nI then read this field in my `application.properties` like so:\r\n\r\n```\r\nquarkus.log.json.additional-field.&quot;environment&quot;.value=${ENVIRONMENT:unknown}\r\n```\r\n\r\nBecause this is set on runtime, it will be set when there is a configMap available to read from, so I am very confused as to why all my logs still say `unknown` for the environment? I am using `quarkus-logging-json` for my logging","title":"Quarkus not picking up Kubernetes environment variable","body":"<p>I have two environments when I am deploying on GitHub, and want to be able to discern between the two in my logs, therefore I have an <code>ENVIRONMENT</code> field which is set to either <code>QA</code> or <code>LIVE</code>.</p>\n<p>Here is how I set these fields in <code>main.tf</code>:</p>\n<pre><code>locals {\n  environment = {\n    qa = &quot;QA&quot;\n    live = &quot;LIVE&quot;\n  }\n}\n\nresource &quot;kubernetes_manifest&quot; &quot;config&quot; {\n  manifest = {\n    &quot;apiVersion&quot; = &quot;v1&quot;\n    &quot;kind&quot;       = &quot;ConfigMap&quot;\n    &quot;metadata&quot; = {\n      &quot;name&quot;      = &quot;config&quot;\n      &quot;namespace&quot; = &quot;test&quot;\n    }\n    &quot;data&quot; = {\n      &quot;ENVIRONMENT&quot; = local.environment[terraform.workspace],\n    }\n  }\n}\n</code></pre>\n<p>This sets the <code>ENVIRONMENT</code> field in my configMap. I have confirmed this running <code>kubectl</code> commands, and can see this field with in the configMap with the deployment.</p>\n<p>I then read this field in my <code>application.properties</code> like so:</p>\n<pre><code>quarkus.log.json.additional-field.&quot;environment&quot;.value=${ENVIRONMENT:unknown}\n</code></pre>\n<p>Because this is set on runtime, it will be set when there is a configMap available to read from, so I am very confused as to why all my logs still say <code>unknown</code> for the environment? I am using <code>quarkus-logging-json</code> for my logging</p>\n"},{"tags":["java","kubernetes","gradle"],"answers":[{"tags":[],"owner":{"account_id":5604129,"reputation":318,"user_id":5399914,"display_name":"Munish Chouhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686867097,"creation_date":1686867097,"answer_id":76485820,"question_id":75981235,"body_markdown":"It&#39;s still there:\r\n\r\nhttps://github.com/kubernetes-client/java/blob/master/fluent/src/main/java/io/kubernetes/client/openapi/models/V1JobBuilder.java#L5\r\n\r\nBut its re-packaged in a separate dependency:\r\nhttps://mvnrepository.com/artifact/io.kubernetes/client-java-api-fluent\r\n\r\nI believe if you add that dependency to your project it should work correctly, if it doesn&#39;t please let us know.\r\n\r\ncredits: https://github.com/kubernetes-client/java/issues/2706#issuecomment-1593625113","title":"How do i import the V1JobBuilderClass from the java kubernetes client version 18?","body":"<p>It's still there:</p>\n<p><a href=\"https://github.com/kubernetes-client/java/blob/master/fluent/src/main/java/io/kubernetes/client/openapi/models/V1JobBuilder.java#L5\" rel=\"nofollow noreferrer\">https://github.com/kubernetes-client/java/blob/master/fluent/src/main/java/io/kubernetes/client/openapi/models/V1JobBuilder.java#L5</a></p>\n<p>But its re-packaged in a separate dependency:\n<a href=\"https://mvnrepository.com/artifact/io.kubernetes/client-java-api-fluent\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.kubernetes/client-java-api-fluent</a></p>\n<p>I believe if you add that dependency to your project it should work correctly, if it doesn't please let us know.</p>\n<p>credits: <a href=\"https://github.com/kubernetes-client/java/issues/2706#issuecomment-1593625113\" rel=\"nofollow noreferrer\">https://github.com/kubernetes-client/java/issues/2706#issuecomment-1593625113</a></p>\n"}],"owner":{"account_id":15612131,"reputation":11,"user_id":21612911,"display_name":"Ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686867097,"creation_date":1681166247,"question_id":75981235,"body_markdown":"The client on master and the 18.0.0 release branch still has the class, but after upgrading from version 11 to version 18 intellij idea says that this class doesn&#39;t exist and the code doesn&#39;t compile. It does exist here https://github.com/kubernetes-client/java/blob/master/fluent/src/main/java/io/kubernetes/client/openapi/models/V1JobBuilder.java , so how do i import it? \r\n\r\nI am using gradle.\r\n    \r\n```\r\nimplementation &#39;io.kubernetes:client-java:18.0.0&#39;\r\n\r\nimport io.kubernetes.client.openapi.models.V1JobBuilder;\r\n```\r\n\r\n\r\nTried switching to generating the V1Job from yaml as well as using the setters (new V1Job().spec(...)), but its a very tedious process to translate it, and it would be safer to just not touch the code.","title":"How do i import the V1JobBuilderClass from the java kubernetes client version 18?","body":"<p>The client on master and the 18.0.0 release branch still has the class, but after upgrading from version 11 to version 18 intellij idea says that this class doesn't exist and the code doesn't compile. It does exist here <a href=\"https://github.com/kubernetes-client/java/blob/master/fluent/src/main/java/io/kubernetes/client/openapi/models/V1JobBuilder.java\" rel=\"nofollow noreferrer\">https://github.com/kubernetes-client/java/blob/master/fluent/src/main/java/io/kubernetes/client/openapi/models/V1JobBuilder.java</a> , so how do i import it?</p>\n<p>I am using gradle.</p>\n<pre><code>implementation 'io.kubernetes:client-java:18.0.0'\n\nimport io.kubernetes.client.openapi.models.V1JobBuilder;\n</code></pre>\n<p>Tried switching to generating the V1Job from yaml as well as using the setters (new V1Job().spec(...)), but its a very tedious process to translate it, and it would be safer to just not touch the code.</p>\n"},{"tags":["java","key-bindings"],"answers":[{"tags":[],"owner":{"account_id":10670591,"reputation":2028,"user_id":7855784,"display_name":"Subash J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534093790,"creation_date":1534093790,"answer_id":51811049,"question_id":51810984,"body_markdown":"Use Action to call like `component.getActionMap().put(&quot;doSomething&quot;, anAction);`\r\nRefer [Key Binding][1]  for more information. Below is a sample code I have referred in another Stackoverflow Question reference link [SO Ref link][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html#howto\r\n  [2]: https://stackoverflow.com/questions/18234500/how-to-add-keylistener-to-jcomponent-when-mouse-is-entered\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ButtonBinding {\r\n    \r\n        private JPanel contentPane;\r\n        private JTextField tField;\r\n        private JButton button;\r\n        private KeyStroke keyStroke = KeyStroke.getKeyStroke(&quot;ENTER&quot;);\r\n    \r\n        private Action action = new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent ae) {\r\n                System.out.println(&quot;Action Performed&quot;);\r\n                contentPane.setBackground(Color.BLUE);\r\n            }\r\n        };\r\n    \r\n        private MouseAdapter mouseActions = new MouseAdapter() {\r\n            @Override\r\n            public void mouseEntered(MouseEvent me) {\r\n                System.out.println(&quot;Mouse Entered&quot;);\r\n                JButton button = (JButton) me.getSource(); \r\n                button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(keyStroke, &quot;enter&quot;);\r\n                button.getActionMap().put(&quot;enter&quot;, action);\r\n            }\r\n    \r\n            @Override\r\n            public void mouseExited(MouseEvent me) {\r\n                System.out.println(&quot;Mouse Exited&quot;);\r\n                JButton button = (JButton) me.getSource();\r\n                button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(keyStroke, &quot;none&quot;);\r\n                contentPane.setBackground(Color.RED);\r\n            }\r\n        };  \r\n    \r\n        private void displayGUI() {\r\n            JFrame frame = new JFrame(&quot;Button Binding Example&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n            contentPane = new JPanel();\r\n            contentPane.setOpaque(true);\r\n            tField = new JTextField(10);\r\n            button = new JButton(&quot;Click Me&quot;);\r\n            button.addMouseListener(mouseActions);\r\n    \r\n            contentPane.add(tField);\r\n            contentPane.add(button);\r\n    \r\n            frame.setContentPane(contentPane);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Runnable runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new ButtonBinding().displayGUI();\r\n                }\r\n            };\r\n            EventQueue.invokeLater(runnable);\r\n        }\r\n    }","title":"Keybinding not calling AbstractAction","body":"<p>Use Action to call like <code>component.getActionMap().put(\"doSomething\", anAction);</code>\nRefer <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html#howto\" rel=\"nofollow noreferrer\">Key Binding</a>  for more information. Below is a sample code I have referred in another Stackoverflow Question reference link <a href=\"https://stackoverflow.com/questions/18234500/how-to-add-keylistener-to-jcomponent-when-mouse-is-entered\">SO Ref link</a></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class ButtonBinding {\n\n    private JPanel contentPane;\n    private JTextField tField;\n    private JButton button;\n    private KeyStroke keyStroke = KeyStroke.getKeyStroke(\"ENTER\");\n\n    private Action action = new AbstractAction() {\n        @Override\n        public void actionPerformed(ActionEvent ae) {\n            System.out.println(\"Action Performed\");\n            contentPane.setBackground(Color.BLUE);\n        }\n    };\n\n    private MouseAdapter mouseActions = new MouseAdapter() {\n        @Override\n        public void mouseEntered(MouseEvent me) {\n            System.out.println(\"Mouse Entered\");\n            JButton button = (JButton) me.getSource(); \n            button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(keyStroke, \"enter\");\n            button.getActionMap().put(\"enter\", action);\n        }\n\n        @Override\n        public void mouseExited(MouseEvent me) {\n            System.out.println(\"Mouse Exited\");\n            JButton button = (JButton) me.getSource();\n            button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(keyStroke, \"none\");\n            contentPane.setBackground(Color.RED);\n        }\n    };  \n\n    private void displayGUI() {\n        JFrame frame = new JFrame(\"Button Binding Example\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        contentPane = new JPanel();\n        contentPane.setOpaque(true);\n        tField = new JTextField(10);\n        button = new JButton(\"Click Me\");\n        button.addMouseListener(mouseActions);\n\n        contentPane.add(tField);\n        contentPane.add(button);\n\n        frame.setContentPane(contentPane);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                new ButtonBinding().displayGUI();\n            }\n        };\n        EventQueue.invokeLater(runnable);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13165284,"reputation":521,"user_id":9509713,"display_name":"Nosrep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686866043,"creation_date":1686866043,"answer_id":76485756,"question_id":51810984,"body_markdown":"I forgot to add the C to the JFrame...","title":"Keybinding not calling AbstractAction","body":"<p>I forgot to add the C to the JFrame...</p>\n"}],"owner":{"account_id":13165284,"reputation":521,"user_id":9509713,"display_name":"Nosrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76485756,"answer_count":2,"score":1,"last_activity_date":1686866043,"creation_date":1534093309,"question_id":51810984,"body_markdown":"I am making a game where the user has to press keys to move around. I am using keybindings but they are not working. The keybindings are supposed to call the Wp class and print &quot;W pressed&quot;, but nothing happens. Here&#39;s the code:\r\n\r\n    public class SO extends JFrame {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew SO();\r\n    \t}\r\n    \tC c;\r\n    \tpublic SO(){\r\n    \t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tthis.setSize(500, 500);\r\n    \t\tc=new C();\r\n    \t\tc.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;W&quot;), &quot;wp&quot;);\r\n    \t\tc.getActionMap().put(&quot;wp&quot;, new Wp());\r\n    \t\tthis.setVisible(true);\r\n    \t}\r\n    \tprivate class C extends JComponent {\r\n    \t\tpublic void paint(Graphics g){}\r\n    \t}\r\n    \tprivate class Wp extends AbstractAction {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent arg0) {\r\n    \t\t\tSystem.out.println(&quot;W pressed&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Keybinding not calling AbstractAction","body":"<p>I am making a game where the user has to press keys to move around. I am using keybindings but they are not working. The keybindings are supposed to call the Wp class and print \"W pressed\", but nothing happens. Here's the code:</p>\n\n<pre><code>public class SO extends JFrame {\n\n    public static void main(String[] args) {\n        new SO();\n    }\n    C c;\n    public SO(){\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(500, 500);\n        c=new C();\n        c.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(\"W\"), \"wp\");\n        c.getActionMap().put(\"wp\", new Wp());\n        this.setVisible(true);\n    }\n    private class C extends JComponent {\n        public void paint(Graphics g){}\n    }\n    private class Wp extends AbstractAction {\n\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            System.out.println(\"W pressed\");\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","linux","jar","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686865905,"creation_date":1634768404,"answer_id":69653678,"question_id":69651478,"body_markdown":"As illustrated [here][1], you can clone the repository, check out the branch with the desired tag and use [tag:maven] to build the release JARs. See also [_Migration from JFreeChart 1.0.x_][2]\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    $ git clone https://github.com/jfree/jfreechart.git jfreechart\r\n    $ pushd jfreechart\r\n    $ git fetch --tags\r\n    $ git tag --list\r\n    …\r\n    v1.5.3\r\n    $ git checkout v1.5.3\r\n    Note: switching to &#39;v1.5.3&#39;.\r\n    …\r\n    $ mvn -P release package\r\n    …\r\n    [INFO] BUILD SUCCESS\r\n    …\r\n    $ ls -1 target/jfreechart-1.5.3*\r\n    target/jfreechart-1.5.3-javadoc.jar\r\n    target/jfreechart-1.5.3-sources.jar\r\n    target/jfreechart-1.5.3.jar\r\n\r\nAlternatively, download the desired JARs directly from the corresponding _mvnrepository_ directory:\r\n\r\nv1.5.2: [_mvnrepository_][3] &gt; [directory][4].&lt;br/&gt;\r\nv1.5.3: [_mvnrepository_][5] &gt; [directory][6].&lt;br/&gt;\r\nv1.5.4: [_mvnrepository_][7] &gt; [directory][8].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/68810025/230513\r\n  [2]: https://github.com/jfree/jfreechart#migration\r\n  [3]: https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.2\r\n  [4]: https://repo1.maven.org/maven2/org/jfree/jfreechart/1.5.2/\r\n  [5]: https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.3\r\n  [6]: https://repo1.maven.org/maven2/org/jfree/jfreechart/1.5.3/\r\n  [7]: https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.4\r\n  [8]: https://repo1.maven.org/maven2/org/jfree/jfreechart/1.5.4/","title":"Create jfreechart-1.5.3 JAR from source code","body":"<p>As illustrated <a href=\"https://stackoverflow.com/a/68810025/230513\">here</a>, you can clone the repository, check out the branch with the desired tag and use <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" aria-label=\"show questions tagged &#39;maven&#39;\" rel=\"tag\" aria-labelledby=\"tag-maven-tooltip-container\">maven</a> to build the release JARs. See also <a href=\"https://github.com/jfree/jfreechart#migration\" rel=\"nofollow noreferrer\"><em>Migration from JFreeChart 1.0.x</em></a></p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ git clone https://github.com/jfree/jfreechart.git jfreechart\n$ pushd jfreechart\n$ git fetch --tags\n$ git tag --list\n…\nv1.5.3\n$ git checkout v1.5.3\nNote: switching to 'v1.5.3'.\n…\n$ mvn -P release package\n…\n[INFO] BUILD SUCCESS\n…\n$ ls -1 target/jfreechart-1.5.3*\ntarget/jfreechart-1.5.3-javadoc.jar\ntarget/jfreechart-1.5.3-sources.jar\ntarget/jfreechart-1.5.3.jar\n</code></pre>\n<p>Alternatively, download the desired JARs directly from the corresponding <em>mvnrepository</em> directory:</p>\n<p>v1.5.2: <a href=\"https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.2\" rel=\"nofollow noreferrer\"><em>mvnrepository</em></a> &gt; <a href=\"https://repo1.maven.org/maven2/org/jfree/jfreechart/1.5.2/\" rel=\"nofollow noreferrer\">directory</a>.<br/>\nv1.5.3: <a href=\"https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.3\" rel=\"nofollow noreferrer\"><em>mvnrepository</em></a> &gt; <a href=\"https://repo1.maven.org/maven2/org/jfree/jfreechart/1.5.3/\" rel=\"nofollow noreferrer\">directory</a>.<br/>\nv1.5.4: <a href=\"https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.4\" rel=\"nofollow noreferrer\"><em>mvnrepository</em></a> &gt; <a href=\"https://repo1.maven.org/maven2/org/jfree/jfreechart/1.5.4/\" rel=\"nofollow noreferrer\">directory</a>.</p>\n"}],"owner":{"account_id":9789757,"reputation":1,"user_id":7254797,"display_name":"Justyn Fogarty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686865905,"creation_date":1634755539,"question_id":69651478,"body_markdown":"My program is trying to upgrade from an old version of JFreeChart, we are using [tag:ant] to compile and have JFreeChart imported as a .jar file. I am trying to get the new `jfreechart-1.5.3` source (I cannot find a jar on their website) into a working .jar file by using:\r\n```\r\njar cf jfreechart.jar jfreechart-1.5.3/src\r\n```\r\nWhen trying to compile with the new .jar file. I get the error that &quot;package org.jfree.chart&quot; does not exist. How do I update my program with a .jar file of the newest JFreeChart version?","title":"Create jfreechart-1.5.3 JAR from source code","body":"<p>My program is trying to upgrade from an old version of JFreeChart, we are using <a href=\"/questions/tagged/ant\" class=\"post-tag\" title=\"show questions tagged &#39;ant&#39;\" rel=\"tag\">ant</a> to compile and have JFreeChart imported as a .jar file. I am trying to get the new <code>jfreechart-1.5.3</code> source (I cannot find a jar on their website) into a working .jar file by using:</p>\n<pre><code>jar cf jfreechart.jar jfreechart-1.5.3/src\n</code></pre>\n<p>When trying to compile with the new .jar file. I get the error that &quot;package org.jfree.chart&quot; does not exist. How do I update my program with a .jar file of the newest JFreeChart version?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9626,"page":366,"page_size":100}
